(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2357:(Oe,Ge,R)=>{"use strict";function T(t){return"function"==typeof t}function d(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ne=d(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ee(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class q{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(i){n=i instanceof ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{z(i)}catch(s){n=n??[],s instanceof ne?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ne(n)}}add(n){var e;if(n&&n!==this)if(this.closed)z(n);else{if(n instanceof q){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ee(e,n)}remove(n){const{_finalizers:e}=this;e&&ee(e,n),n instanceof q&&n._removeParent(this)}}q.EMPTY=(()=>{const t=new q;return t.closed=!0,t})();const K=q.EMPTY;function j(t){return t instanceof q||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function z(t){T(t)?t():t.unsubscribe()}const ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Z={setTimeout(t,n,...e){const{delegate:r}=Z;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Z;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function te(t){Z.setTimeout(()=>{const{onUnhandledError:n}=ye;if(!n)throw t;n(t)})}function $(){}const O=Q("C",void 0,void 0);function Q(t,n,e){return{kind:t,value:n,error:e}}let ve=null;function ge(t){if(ye.useDeprecatedSynchronousErrorHandling){const n=!ve;if(n&&(ve={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ve;if(ve=null,e)throw r}}else t()}class le extends q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,j(n)&&n.add(this)):this.destination=Ne}static create(n,e,r){return new he(n,e,r)}next(n){this.isStopped?He(function xe(t){return Q("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?He(function V(t){return Q("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?He(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function ce(t,n){return Ae.call(t,n)}class We{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Ce(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Ce(r)}else Ce(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ce(e)}}}class he extends le{constructor(n,e,r){let o;if(super(),T(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&ye.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ce(n.next,i),error:n.error&&ce(n.error,i),complete:n.complete&&ce(n.complete,i)}):o=n}this.destination=new We(o)}}function Ce(t){ye.useDeprecatedSynchronousErrorHandling?function oe(t){ye.useDeprecatedSynchronousErrorHandling&&ve&&(ve.errorThrown=!0,ve.error=t)}(t):te(t)}function He(t,n){const{onStoppedNotification:e}=ye;e&&Z.setTimeout(()=>e(t,n))}const Ne={closed:!0,next:$,error:function Me(t){throw t},complete:$},ke="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(t){return t}let at=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function L(t){return t&&t instanceof le||function je(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&j(t)}(e)?e:new he(e,r,o);return ge(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=It(r))((o,i)=>{const s=new he({next:a=>{try{e(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ke](){return this}pipe(...e){return function qe(t){return 0===t.length?X:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}(e)(this)}toPromise(e){return new(e=It(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function It(t){var n;return null!==(n=t??ye.Promise)&&void 0!==n?n:Promise}const B=d(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new fe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new B}next(e){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?K:(this.currentObservers=null,i.push(e),new q(()=>{this.currentObservers=null,ee(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return t.create=(n,e)=>new fe(n,e),t})();class fe extends W{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:K}}function Te(t){return T(t?.lift)}function Re(t){return n=>{if(Te(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,n,e,r,o){return new Ke(t,n,e,r,o)}class Ke extends le{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(u){n.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function et(t,n){return Re((e,r)=>{let o=0;e.subscribe(tt(r,i=>{r.next(t.call(n,i,o++))}))})}function pe(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Zn(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(v){s(v)}}function u(y){try{f(r.throw(y))}catch(v){s(v)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,u)}f((r=r.apply(t,n||[])).next())})}function ar(t){return this instanceof ar?(this.v=t,this):new ar(t)}function Qn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(M){r[M]&&(o[M]=function(k){return new Promise(function(U,be){i.push([M,k,U,be])>1||a(M,k)})})}function a(M,k){try{!function u(M){M.value instanceof ar?Promise.resolve(M.value.v).then(f,y):v(i[0][2],M)}(r[M](k))}catch(U){v(i[0][3],U)}}function f(M){a("next",M)}function y(M){a("throw",M)}function v(M,k){M(k),i.shift(),i.length&&a(i[0][0],i[0][1])}}function $r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Hn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=t[i](s)).done,s.value)})}}}const pn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function bn(t){return T(t?.then)}function Ft(t){return T(t[ke])}function cn(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function er(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yn=function Jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lr(t){return T(t?.[Yn])}function Vt(t){return Qn(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield ar(e.read());if(o)return yield ar(void 0);yield yield ar(r)}}finally{e.releaseLock()}})}function tr(t){return T(t?.getReader)}function S(t){if(t instanceof at)return t;if(null!=t){if(Ft(t))return function kt(t){return new at(n=>{const e=t[ke]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(pn(t))return function hr(t){return new at(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(bn(t))return function I(t){return new at(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,te)})}(t);if(cn(t))return so(t);if(lr(t))return function Pr(t){return new at(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(tr(t))return function ao(t){return so(Vt(t))}(t)}throw er(t)}function so(t){return new at(n=>{(function Po(t,n){var e,r,o,i;return Zn(this,void 0,void 0,function*(){try{for(e=$r(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function _r(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function zt(t,n,e=1/0){return T(n)?zt((r,o)=>et((i,s)=>n(r,i,o,s))(S(t(r,o))),e):("number"==typeof n&&(e=n),Re((r,o)=>function Mo(t,n,e,r,o,i,s,a){const u=[];let f=0,y=0,v=!1;const M=()=>{v&&!u.length&&!f&&n.complete()},k=be=>f<r?U(be):u.push(be),U=be=>{i&&n.next(be),f++;let $e=!1;S(e(be,y++)).subscribe(tt(n,Fe=>{o?.(Fe),i?k(Fe):n.next(Fe)},()=>{$e=!0},void 0,()=>{if($e)try{for(f--;u.length&&f<r;){const Fe=u.shift();s?_r(n,s,()=>U(Fe)):U(Fe)}M()}catch(Fe){n.error(Fe)}}))};return t.subscribe(tt(n,k,()=>{v=!0,M()})),()=>{a?.()}}(r,o,t,e)))}function eo(t=1/0){return zt(X,t)}const nr=new at(t=>t.complete());function Wo(t){return t&&T(t.schedule)}function Xt(t){return t[t.length-1]}function yo(t){return T(Xt(t))?t.pop():void 0}function D(t){return Wo(Xt(t))?t.pop():void 0}function Br(t,n=0){return Re((e,r)=>{e.subscribe(tt(r,o=>_r(r,t,()=>r.next(o),n),()=>_r(r,t,()=>r.complete(),n),o=>_r(r,t,()=>r.error(o),n)))})}function ai(t,n=0){return Re((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Qi(t,n){if(!t)throw new Error("Iterable cannot be null");return new at(e=>{_r(e,n,()=>{const r=t[Symbol.asyncIterator]();_r(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Gn(t,n){return n?function Pi(t,n){if(null!=t){if(Ft(t))return function li(t,n){return S(t).pipe(ai(n),Br(n))}(t,n);if(pn(t))return function ko(t,n){return new at(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(bn(t))return function Ro(t,n){return S(t).pipe(ai(n),Br(n))}(t,n);if(cn(t))return Qi(t,n);if(lr(t))return function Vr(t,n){return new at(e=>{let r;return _r(e,n,()=>{r=t[Yn](),_r(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(tr(t))return function qo(t,n){return Qi(Vt(t),n)}(t,n)}throw er(t)}(t,n):S(t)}function Zo(...t){const n=D(t),e=function qr(t,n){return"number"==typeof Xt(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?S(r[0]):eo(e)(Gn(r,n)):nr}function _i(t={}){const{connector:n=(()=>new W),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,u,f=0,y=!1,v=!1;const M=()=>{a?.unsubscribe(),a=void 0},k=()=>{M(),s=u=void 0,y=v=!1},U=()=>{const be=s;k(),be?.unsubscribe()};return Re((be,$e)=>{f++,!v&&!y&&M();const Fe=u=u??n();$e.add(()=>{f--,0===f&&!v&&!y&&(a=Yo(U,o))}),Fe.subscribe($e),!s&&f>0&&(s=new he({next:Qe=>Fe.next(Qe),error:Qe=>{v=!0,M(),a=Yo(k,e,Qe),Fe.error(Qe)},complete:()=>{y=!0,M(),a=Yo(k,r),Fe.complete()}}),S(be).subscribe(s))})(i)}}function Yo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new he({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function Rn(t){for(let n in t)if(t[n]===Rn)return n;throw Error("Could not find renamed property on target object.")}function Ko(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Nn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function wi(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ji=Rn({__forward_ref__:Rn});function x(t){return t.__forward_ref__=x,t.toString=function(){return Nn(this())},t}function N(t){return ae(t)?t():t}function ae(t){return"function"==typeof t&&t.hasOwnProperty(Ji)&&t.__forward_ref__===x}class P extends Error{constructor(n,e){super(function Y(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t,n){throw new P(-201,!1)}function Fr(t,n){null==t&&function Fn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ds(t){return xa(t,ts)||xa(t,Zr)}function xa(t,n){return t.hasOwnProperty(n)?t[n]:null}function es(t){return t&&(t.hasOwnProperty(ns)||t.hasOwnProperty(kr))?t[ns]:null}const ts=Rn({\u0275prov:Rn}),ns=Rn({\u0275inj:Rn}),Zr=Rn({ngInjectableDef:Rn}),kr=Rn({ngInjectorDef:Rn});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let Fo;function Oo(t){const n=Fo;return Fo=t,n}function Zs(t,n,e){const r=Ds(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Nt.Optional?null:void 0!==n?n:void Wt(Nn(t))}function An(t){return{toString:t}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),en=(()=>{return(t=en||(en={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",en;var t})();const h=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),p={},m=[],w=Rn({\u0275cmp:Rn}),E=Rn({\u0275dir:Rn}),F=Rn({\u0275pipe:Rn}),G=Rn({\u0275mod:Rn}),ie=Rn({\u0275fac:Rn}),Ye=Rn({__NG_ELEMENT_ID__:Rn});let yt=0;function ue(t){return An(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||m,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,id:"c"+yt++,styles:t.styles||m,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=Mt(t.inputs,r),o.outputs=Mt(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(dt).filter(_t):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(cr).filter(_t):null,o})}function dt(t){return Yt(t)||Ut(t)}function _t(t){return null!==t}const sn={};function jt(t){return An(()=>{const n={type:t.type,bootstrap:t.bootstrap||m,declarations:t.declarations||m,imports:t.imports||m,exports:t.exports||m,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(sn[t.id]=t.type),n})}function Mt(t,n){if(null==t)return p;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const De=ue;function lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yt(t){return t[w]||null}function Ut(t){return t[E]||null}function cr(t){return t[F]||null}function jn(t,n){const e=t[G]||null;if(!e&&!0===n)throw new Error(`Type ${Nn(t)} does not have '\u0275mod' property.`);return e}function No(t){return Array.isArray(t)&&"object"==typeof t[1]}function Si(t){return Array.isArray(t)&&!0===t[1]}function Kl(t){return 0!=(8&t.flags)}function pl(t){return 2==(2&t.flags)}function hl(t){return 1==(1&t.flags)}function Ei(t){return null!==t.template}function qd(t){return 0!=(256&t[2])}function As(t,n){return t.hasOwnProperty(ie)?t[ie]:null}class Kd{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function bo(){return lu}function lu(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qd),Xd}function Xd(){const t=uu(this),n=t?.current;if(n){const e=t.previous;if(e===p)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Qd(t,n,e,r){const o=uu(t)||function Jd(t,n){return t[cu]=n}(t,{previous:p,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],u=s[a];i[a]=new Kd(u&&u.currentValue,n,s===p),t[r]=n}bo.ngInherit=!0;const cu="__ngSimpleChanges__";function uu(t){return t[cu]||null}function Hr(t){for(;Array.isArray(t);)t=t[0];return t}function ml(t,n){return Hr(n[t])}function di(t,n){return Hr(n[t.index])}function tc(t,n){return t.data[n]}function Js(t,n){return t[n]}function Jo(t,n){const e=n[t];return No(e)?e:e[0]}function du(t){return 4==(4&t[2])}function nc(t){return 64==(64&t[2])}function ds(t,n){return null==n?null:t[n]}function fu(t){t[18]=0}function rc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const gn={lFrame:Ie(null),bindingsEnabled:!0};function Gh(){return gn.bindingsEnabled}function st(){return gn.lFrame.lView}function Ln(){return gn.lFrame.tView}function dn(t){return gn.lFrame.contextLView=t,t[8]}function Ot(t){return gn.lFrame.contextLView=null,t}function br(){let t=zn();for(;null!==t&&64===t.type;)t=t.parent;return t}function zn(){return gn.lFrame.currentTNode}function rs(t,n){const e=gn.lFrame;e.currentTNode=t,e.isParent=n}function hu(){return gn.lFrame.isParent}function mu(){gn.lFrame.isParent=!1}function Xn(){return gn.lFrame.bindingIndex++}function Dr(t){const n=gn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function co(t,n){const e=gn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Nr(n)}function Nr(t){gn.lFrame.currentDirectiveIndex=t}function l(){return gn.lFrame.currentQueryIndex}function g(t){gn.lFrame.currentQueryIndex=t}function b(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function A(t,n,e){if(e&Nt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Nt.Host||(o=b(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=gn.lFrame=we();return r.currentTNode=n,r.lView=t,!0}function H(t){const n=we(),e=t[1];gn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function we(){const t=gn.lFrame,n=null===t?null:t.child;return null===n?Ie(t):n}function Ie(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Le(){const t=gn.lFrame;return gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vt=Le;function Qt(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pt(){return gn.lFrame.selectedIndex}function $t(t){gn.lFrame.selectedIndex=t}function Kt(){const t=gn.lFrame;return tc(t.tView,t.selectedIndex)}function ur(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:y}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=y&&(t.destroyHooks||(t.destroyHooks=[])).push(e,y)}}function ti(t,n,e){x_(t,n,3,e)}function Lr(t,n,e,r){(3&t[2])===e&&x_(t,n,e,r)}function zh(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function x_(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<s;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=r&&a>=r)break}else n[u]<0&&(t[18]+=65536),(a<i||-1==i)&&(qM(t,e,n,u),t[18]=(4294901760&t[18])+u+2),u++}function qM(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class gu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function uf(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];P_(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function A_(t){return 3===t||4===t||6===t}function P_(t){return 64===t.charCodeAt(0)}function df(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||R_(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function R_(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function F_(t){return-1!==t}function ic(t){return 32767&t}function sc(t,n){let e=function QM(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let qh=!0;function ff(t){const n=qh;return qh=t,n}let JM=0;const Ps={};function vu(t,n){const e=Yh(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Zh(r.data,t),Zh(n,null),Zh(r.blueprint,null));const o=pf(t,n),i=t.injectorIndex;if(F_(o)){const s=ic(o),a=sc(o,n),u=a[1].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|u[s+f]}return n[i+8]=o,i}function Zh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Yh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function pf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=U_(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function hf(t,n,e){!function ek(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ye)&&(r=e[Ye]),null==r&&(r=e[Ye]=JM++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function L_(t,n,e){if(e&Nt.Optional)return t;Wt()}function $_(t,n,e,r){if(e&Nt.Optional&&void 0===r&&(r=null),0==(e&(Nt.Self|Nt.Host))){const o=t[9],i=Oo(void 0);try{return o?o.get(n,r,e&Nt.Optional):Zs(n,r,e&Nt.Optional)}finally{Oo(i)}}return L_(r,0,e)}function B_(t,n,e,r=Nt.Default,o){if(null!==t){if(1024&n[2]){const s=function ik(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=V_(i,s,e,r|Nt.Self,Ps);if(a!==Ps)return a;let u=i.parent;if(!u){const f=s[21];if(f){const y=f.get(e,Ps,r);if(y!==Ps)return y}u=U_(s),s=s[15]}i=u}return o}(t,n,e,r,Ps);if(s!==Ps)return s}const i=V_(t,n,e,r,Ps);if(i!==Ps)return i}return $_(n,e,r,o)}function V_(t,n,e,r,o){const i=function rk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ye)?t[Ye]:void 0;return"number"==typeof n?n>=0?255&n:ok:n}(e);if("function"==typeof i){if(!A(n,t,r))return r&Nt.Host?L_(o,0,r):$_(n,e,r,o);try{const s=i(r);if(null!=s||r&Nt.Optional)return s;Wt()}finally{vt()}}else if("number"==typeof i){let s=null,a=Yh(t,n),u=-1,f=r&Nt.Host?n[16][6]:null;for((-1===a||r&Nt.SkipSelf)&&(u=-1===a?pf(t,n):n[a+8],-1!==u&&j_(r,!1)?(s=n[1],a=ic(u),n=sc(u,n)):a=-1);-1!==a;){const y=n[1];if(H_(i,a,y.data)){const v=nk(a,n,e,s,r,f);if(v!==Ps)return v}u=n[a+8],-1!==u&&j_(r,n[1].data[a+8]===f)&&H_(i,a,n)?(s=y,a=ic(u),n=sc(u,n)):a=-1}}return o}function nk(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],y=mf(a,s,e,null==r?pl(a)&&qh:r!=s&&0!=(3&a.type),o&Nt.Host&&i===a);return null!==y?_u(n,s,y,a):Ps}function mf(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,u=t.directiveStart,y=i>>20,M=o?a+y:t.directiveEnd;for(let k=r?a:a+y;k<M;k++){const U=s[k];if(k<u&&e===U||k>=u&&U.type===e)return k}if(o){const k=s[u];if(k&&Ei(k)&&k.type===e)return u}return null}function _u(t,n,e,r){let o=t[e];const i=n.data;if(function ZM(t){return t instanceof gu}(o)){const s=o;s.resolving&&function Ze(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new P(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(i[e]));const a=ff(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Oo(s.injectImpl):null;A(t,r,Nt.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function uo(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=lu(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==u&&Oo(u),ff(a),s.resolving=!1,vt()}}return o}function H_(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function j_(t,n){return!(t&Nt.Self||t&Nt.Host&&n)}class ac{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return B_(this._tNode,this._lView,n,r,e)}}function ok(){return new ac(br(),st())}function Vo(t){return An(()=>{const n=t.prototype.constructor,e=n[ie]||Kh(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[ie]||Kh(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Kh(t){return ae(t)?()=>{const n=Kh(N(t));return n&&n()}:As(t)}function U_(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function yl(t){return function tk(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(A_(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(br(),t)}const cc="__parameters__";function dc(t,n,e){return An(()=>{const r=function Xh(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,y){const v=u.hasOwnProperty(cc)?u[cc]:Object.defineProperty(u,cc,{value:[]})[cc];for(;v.length<=y;)v.push(null);return(v[y]=v[y]||[]).push(s),u}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class an{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ak=new an("AnalyzeForEntryComponents");function Fi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Fi(r,n)):n!==t&&n.push(r)}return n}function ea(t,n){t.forEach(e=>Array.isArray(e)?ea(e,n):n(e))}function z_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function gf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Cu(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Oi(t,n,e){let r=fc(t,n);return r>=0?t[1|r]=e:(r=~r,function uk(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Jh(t,n){const e=fc(t,n);if(e>=0)return t[1|e]}function fc(t,n){return function Z_(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Su={},tm="__NG_DI_FLAG__",vf="ngTempTokenPath",vk=/\n/gm,Y_="__source";let Eu;function _f(t){const n=Eu;return Eu=t,n}function wk(t,n=Nt.Default){if(void 0===Eu)throw new P(-203,!1);return null===Eu?Zs(t,void 0,n):Eu.get(t,n&Nt.Optional?null:void 0,n)}function me(t,n=Nt.Default){return(function Aa(){return Fo}()||wk)(N(t),n)}function vl(t,n=Nt.Default){return me(t,n)}function nm(t){const n=[];for(let e=0;e<t.length;e++){const r=N(t[e]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let o,i=Nt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=bk(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}n.push(me(o,i))}else n.push(me(r))}return n}function Du(t,n){return t[tm]=n,t.prototype[tm]=n,t}function bk(t){return t[tm]}const Na=Du(dc("Optional"),8),Iu=Du(dc("SkipSelf"),4);let om,Cf;function hc(t){var n;return(null===(n=function im(){if(void 0===Cf&&(Cf=null,h.trustedTypes))try{Cf=h.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cf}())||void 0===n?void 0:n.createHTML(t))||t}class _l{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nk extends _l{getTypeName(){return"HTML"}}class Lk extends _l{getTypeName(){return"Style"}}class $k extends _l{getTypeName(){return"Script"}}class Bk extends _l{getTypeName(){return"URL"}}class Vk extends _l{getTypeName(){return"ResourceURL"}}function Ni(t){return t instanceof _l?t.changingThisBreaksApplicationSecurity:t}function Rs(t,n){const e=function Hk(t){return t instanceof _l&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class qk{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(hc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class Zk{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=hc(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=hc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Kk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tu(t){return(t=String(t)).match(Kk)||t.match(Xk)?t:"unsafe:"+t}function u0(t){return(t=String(t)).split(",").map(n=>Tu(n.trim())).join(", ")}function Fs(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function xu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const d0=Fs("area,br,col,hr,img,wbr"),f0=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p0=Fs("rp,rt"),am=xu(d0,xu(f0,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xu(p0,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xu(p0,f0)),lm=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cm=Fs("srcset"),h0=xu(lm,cm,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qk=Fs("script,style,template");class Jk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!am.hasOwnProperty(e))return this.sanitizedSomething=!0,!Qk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!h0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;lm[a]&&(u=Tu(u)),cm[a]&&(u=u0(u)),this.buf.push(" ",s,'="',m0(u),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();am.hasOwnProperty(e)&&!d0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(m0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const eT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tT=/([^\#-~ |!])/g;function m0(t){return t.replace(/&/g,"&amp;").replace(eT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(tT,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ef;function g0(t,n){let e=null;try{Ef=Ef||function c0(t){const n=new Zk(t);return function Yk(){try{return!!(new window.DOMParser).parseFromString(hc(""),"text/html")}catch{return!1}}()?new qk(n):n}(t);let r=n?String(n):"";e=Ef.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Ef.getInertBodyElement(r)}while(r!==i);return hc((new Jk).sanitizeChildren(um(e)||e))}finally{if(e){const r=um(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function um(t){return"content"in t&&function nT(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function pm(t){return t.ngOriginalError}class mc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&pm(n);for(;e&&pm(e);)e=pm(e);return e||null}}const hm=new Map;let vT=0;const gm="__ngContext__";function ni(t,n){No(n)?(t[gm]=n[20],function wT(t){hm.set(t[20],t)}(n)):t[gm]=n}function Pu(t){const n=t[gm];return"number"==typeof n?function _0(t){return hm.get(t)||null}(n):n||null}function ym(t){const n=Pu(t);return n?No(n)?n:n.lView:null}const TT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(h))();function ta(t){return t instanceof Function?t():t}var Ii=(()=>((Ii=Ii||{})[Ii.Important=1]="Important",Ii[Ii.DashCase=2]="DashCase",Ii))();function _m(t,n){return undefined(t,n)}function Ru(t){const n=t[3];return Si(n)?n[3]:n}function wm(t){return M0(t[13])}function bm(t){return M0(t[4])}function M0(t){for(;null!==t&&!Si(t);)t=t[4];return t}function yc(t,n,e,r,o){if(null!=r){let i,s=!1;Si(r)?i=r:No(r)&&(s=!0,r=r[0]);const a=Hr(r);0===t&&null!==e?null==o?R0(n,e,a):wl(n,e,a,o||null,!0):1===t&&null!==e?wl(n,e,a,o||null,!0):2===t?function V0(t,n,e){const r=Df(t,n);r&&function WT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function YT(t,n,e,r,o){const i=e[7];i!==Hr(e)&&yc(n,t,r,i,o);for(let a=10;a<e.length;a++){const u=e[a];Fu(u[1],u,t,n,r,i)}}(n,t,i,e,o)}}function Sm(t,n,e){return t.createElement(n,e)}function T0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,rc(o,-1)),e.splice(r,1)}function Em(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&T0(o,r),n>0&&(t[e-1][4]=r[4]);const i=gf(t,10+n);!function $T(t,n){Fu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function x0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Fu(t,n,e,3,null,null),function HT(t){let n=t[13];if(!n)return Dm(t[1],t);for(;n;){let e=null;if(No(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)No(n)&&Dm(n[1],n),n=n[3];null===n&&(n=t),No(n)&&Dm(n[1],n),e=n&&n[4]}n=e}}(n)}}function Dm(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function zT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof gu)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function GT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):Hr(n[s]),u=r[o=e[i+2]],f=e[i+3];"boolean"==typeof f?a.removeEventListener(e[i],u,f):f>=0?r[o=f]():r[o=-f].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&Si(n[3])){e!==n[3]&&T0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function bT(t){hm.delete(t[20])}(n)}}function A0(t,n,e){return function P0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===en.None||o===en.Emulated)return null}return di(r,e)}(t,n.parent,e)}function wl(t,n,e,r,o){t.insertBefore(n,e,r,o)}function R0(t,n,e){t.appendChild(n,e)}function F0(t,n,e,r,o){null!==r?wl(t,n,e,r,o):R0(t,n,e)}function Df(t,n){return t.parentNode(n)}function O0(t,n,e){return L0(t,n,e)}let L0=function N0(t,n,e){return 40&t.type?di(t,e):null};function If(t,n,e,r){const o=A0(t,r,n),i=n[11],a=O0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let u=0;u<e.length;u++)F0(i,o,e[u],a,!1);else F0(i,o,e,a,!1)}function Mf(t,n){if(null!==n){const e=n.type;if(3&e)return di(n,t);if(4&e)return Mm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Mf(t,r);{const o=t[n.index];return Si(o)?Mm(-1,o):Hr(o)}}if(32&e)return _m(n,t)()||Hr(t[n.index]);{const r=B0(t,n);return null!==r?Array.isArray(r)?r[0]:Mf(Ru(t[16]),r):Mf(t,n.next)}}return null}function B0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Mm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return Mf(r,o)}return n[7]}function km(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],u=e.type;if(s&&0===n&&(a&&ni(Hr(a),r),e.flags|=4),64!=(64&e.flags))if(8&u)km(t,n,e.child,r,o,i,!1),yc(n,t,o,a,i);else if(32&u){const f=_m(e,r);let y;for(;y=f();)yc(n,t,o,y,i);yc(n,t,o,a,i)}else 16&u?H0(t,n,r,e,o,i):yc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Fu(t,n,e,r,o,i){km(e,r,t.firstChild,n,o,i,!1)}function H0(t,n,e,r,o,i){const s=e[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)yc(n,t,o,u[f],i);else km(t,n,u,s[3],o,i,!0)}function j0(t,n,e){t.setAttribute(n,"style",e)}function Tm(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function U0(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const G0="ng-template";function XT(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==U0(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function z0(t){return 4===t.type&&t.value!==G0}function QT(t,n,e){return n===(4!==t.type||e?t.value:G0)}function JT(t,n,e){let r=4;const o=t.attrs||[],i=function nx(t){for(let n=0;n<t.length;n++)if(A_(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!QT(t,u,e)||""===u&&1===n.length){if(fs(r))return!1;s=!0}}else{const f=8&r?u:n[++a];if(8&r&&null!==t.attrs){if(!XT(t.attrs,f,e)){if(fs(r))return!1;s=!0}continue}const v=ex(8&r?"class":u,o,z0(t),e);if(-1===v){if(fs(r))return!1;s=!0;continue}if(""!==f){let M;M=v>i?"":o[v+1].toLowerCase();const k=8&r?M:null;if(k&&-1!==U0(k,f,0)||2&r&&f!==M){if(fs(r))return!1;s=!0}}}}else{if(!s&&!fs(r)&&!fs(u))return!1;if(s&&fs(u))continue;s=!1,r=u|1&r}}return fs(r)||s}function fs(t){return 0==(1&t)}function ex(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function rx(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function W0(t,n,e=!1){for(let r=0;r<n.length;r++)if(JT(t,n[r],e))return!0;return!1}function ox(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function q0(t,n){return t?":not("+n.trim()+")":n}function ix(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!fs(s)&&(n+=q0(i,o),o=""),r=s,i=i||!fs(r);e++}return""!==o&&(n+=q0(i,o)),n}const En={};function mt(t){Z0(Ln(),st(),Pt()+t,!1)}function Z0(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&ti(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Lr(n,i,0,e)}$t(e)}const xm=new an("ENVIRONMENT_INITIALIZER"),Q0=new an("INJECTOR_DEF_TYPES");function px(...t){return{\u0275providers:J0(0,t)}}function J0(t,...n){const e=[],r=new Set;let o;return ea(n,i=>{const s=i;Am(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&ew(o,e),e}function ew(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];ea(o,i=>{n.push(i)})}}function Am(t,n,e,r){if(!(t=N(t)))return!1;let o=null,i=es(t);const s=!i&&Yt(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const u=t.ngModule;if(i=es(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)Am(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ea(i.imports,y=>{Am(y,n,e,r)&&(f||(f=[]),f.push(y))})}finally{}void 0!==f&&ew(f,n)}if(!a){const f=As(o)||(()=>new o);n.push({provide:o,useFactory:f,deps:m},{provide:Q0,useValue:o,multi:!0},{provide:xm,useValue:()=>me(o),multi:!0})}const u=i.providers;null==u||a||ea(u,y=>{n.push(y)})}}return o!==t&&void 0!==t.providers}const hx=Rn({provide:String,useValue:Rn});function Pm(t){return null!==t&&"object"==typeof t&&hx in t}function bl(t){return"function"==typeof t}const Rm=new an("INJECTOR",-1);class rw{get(n,e=Su){if(e===Su){const r=new Error(`NullInjectorError: No provider for ${Nn(n)}!`);throw r.name="NullInjectorError",r}return e}}const Fm=new an("Set Injector scope."),kf={},gx={};let Om;function Nm(){return void 0===Om&&(Om=new rw),Om}class Cl{}class ow extends Cl{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(n,s=>this.processProvider(s)),this.records.set(Rm,vc(void 0,this)),o.has("environment")&&this.records.set(Cl,vc(void 0,this));const i=this.records.get(Fm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Q0.multi,m,Nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,e=Su,r=Nt.Default){this.assertNotDestroyed();const o=_f(this),i=Oo(void 0);try{if(!(r&Nt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const u=function bx(t){return"function"==typeof t||"object"==typeof t&&t instanceof an}(n)&&Ds(n);a=u&&this.injectableDefInScope(u)?vc(Lm(n),kf):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Nt.Self?Nm():this.parent).get(n,e=r&Nt.Optional&&e===Su?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[vf]=s[vf]||[]).unshift(Nn(n)),o)throw s;return function Ck(t,n,e,r){const o=t[vf];throw n[Y_]&&o.unshift(n[Y_]),t.message=function Sk(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Nn(n);if(Array.isArray(n))o=n.map(Nn).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Nn(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(vk,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[vf]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{Oo(i),_f(o)}}resolveInjectorInitializers(){const n=_f(this),e=Oo(void 0);try{const r=this.get(xm.multi,m,Nt.Self);for(const o of r)o()}finally{_f(n),Oo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Nn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(n){let e=bl(n=N(n))?n:N(n&&n.provide);const r=function vx(t){return Pm(t)?vc(void 0,t.useValue):vc(iw(t),kf)}(n);if(bl(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=vc(void 0,kf,!0),o.factory=()=>nm(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===kf&&(e.value=gx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function wx(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=N(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Lm(t){const n=Ds(t),e=null!==n?n.factory:As(t);if(null!==e)return e;if(t instanceof an)throw new P(204,!1);if(t instanceof Function)return function yx(t){const n=t.length;if(n>0)throw Cu(n,"?"),new P(204,!1);const e=function ql(t){const n=t&&(t[ts]||t[Zr]);if(n){const e=function Is(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new P(204,!1)}function iw(t,n,e){let r;if(bl(t)){const o=N(t);return As(o)||Lm(o)}if(Pm(t))r=()=>N(t.useValue);else if(function nw(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...nm(t.deps||[]));else if(function tw(t){return!(!t||!t.useExisting)}(t))r=()=>me(N(t.useExisting));else{const o=N(t&&(t.useClass||t.provide));if(!function _x(t){return!!t.deps}(t))return As(o)||Lm(o);r=()=>new o(...nm(t.deps))}return r}function vc(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Cx(t){return!!t.\u0275providers}function $m(t,n){for(const e of t)Array.isArray(e)?$m(e,n):Cx(e)?$m(e.\u0275providers,n):n(e)}function sw(t,n=null,e=null,r){const o=aw(t,n,e,r);return o.resolveInjectorInitializers(),o}function aw(t,n=null,e=null,r,o=new Set){const i=[e||m,px(t)];return r=r||("object"==typeof t?void 0:Nn(t)),new ow(i,n||Nm(),r||null,o)}let gr=(()=>{class t{static create(e,r){if(Array.isArray(e))return sw({name:""},r,e,"");{var o;const i=null!==(o=e.name)&&void 0!==o?o:"";return sw({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Su,t.NULL=new rw,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>me(Rm)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,n=Nt.Default){const e=st();return null===e?me(t,n):B_(br(),e,N(t),n)}function Um(){throw new Error("invalid")}function xf(t,n){return t<<17|n<<2}function ps(t){return t>>17&32767}function qm(t){return 2|t}function na(t){return(131068&t)>>2}function Zm(t,n){return-131069&t|n<<2}function Ym(t){return 1|t}function Mw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];g(o),s.contentQueries(2,n[i],i)}}}function Rf(t,n,e,r,o,i,s,a,u,f,y){const v=n.blueprint.slice();return v[0]=o,v[2]=76|r,(null!==y||t&&1024&t[2])&&(v[2]|=1024),fu(v),v[3]=v[15]=t,v[8]=e,v[10]=s||t&&t[10],v[11]=a||t&&t[11],v[12]=u||t&&t[12]||null,v[9]=f||t&&t[9]||null,v[6]=i,v[20]=function _T(){return vT++}(),v[21]=y,v[16]=2==n.type?t[16]:v,v}function wc(t,n,e,r,o){let i=t.data[n];if(null===i)i=function og(t,n,e,r,o){const i=zn(),s=hu(),u=t.data[n]=function tA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(t,n,e,r,o),function ei(){return gn.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function gl(){const t=gn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return rs(i,!0),i}function bc(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Ff(t,n,e){H(n);try{const r=t.viewQuery;null!==r&&pg(1,r,e);const o=t.template;null!==o&&kw(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mw(t,n),t.staticViewQueries&&pg(2,t.viewQuery,e);const i=t.components;null!==i&&function Xx(t,n){for(let e=0;e<n.length;e++)_A(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Qt()}}function Ou(t,n,e,r){const o=n[2];if(128!=(128&o)){H(n);try{fu(n),function $n(t){return gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&kw(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&ti(n,f,null)}else{const f=t.preOrderHooks;null!==f&&Lr(n,f,0,null),zh(n,0)}if(function yA(t){for(let n=wm(t);null!==n;n=bm(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&rc(i,1),o[2]|=512}}}(n),function gA(t){for(let n=wm(t);null!==n;n=bm(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];nc(r)&&Ou(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&Mw(t,n),s){const f=t.contentCheckHooks;null!==f&&ti(n,f)}else{const f=t.contentHooks;null!==f&&Lr(n,f,1),zh(n,1)}!function Yx(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)$t(~o);else{const i=o,s=e[++r],a=e[++r];co(s,i),a(2,n[i])}}}finally{$t(-1)}}(t,n);const a=t.components;null!==a&&function Kx(t,n){for(let e=0;e<n.length;e++)vA(t,n[e])}(n,a);const u=t.viewQuery;if(null!==u&&pg(2,u,r),s){const f=t.viewCheckHooks;null!==f&&ti(n,f)}else{const f=t.viewHooks;null!==f&&Lr(n,f,2),zh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,rc(n[3],-1))}finally{Qt()}}}function Qx(t,n,e,r){const o=n[10],s=du(n);try{!s&&o.begin&&o.begin(),s&&Ff(t,n,r),Ou(t,n,e,r)}finally{!s&&o.end&&o.end()}}function kw(t,n,e,r,o){const i=Pt(),s=2&r;try{$t(-1),s&&n.length>22&&Z0(t,n,22,!1),e(r,o)}finally{$t(i)}}function Tw(t,n,e){if(Kl(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function ig(t,n,e){!Gh()||(function lA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||vu(e,n),ni(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const u=t.data[a],f=Ei(u);f&&pA(n,e,u);const y=_u(n,t,a,e);ni(y,n),null!==s&&hA(0,a-o,y,u,0,s),f&&(Jo(e.index,n)[8]=y)}}(t,n,e,di(e,n)),128==(128&e.flags)&&function cA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function Or(){return gn.lFrame.currentDirectiveIndex}();try{$t(i);for(let a=r;a<o;a++){const u=t.data[a],f=n[a];Nr(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Fw(u,f)}}finally{$t(-1),Nr(s)}}(t,n,e))}function sg(t,n,e=di){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function xw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ag(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ag(t,n,e,r,o,i,s,a,u,f){const y=22+r,v=y+o,M=function Jx(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:En);return e}(y,v),k="function"==typeof f?f():f;return M[1]={type:t,blueprint:M,template:e,queries:null,viewQuery:a,declTNode:n,data:M.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:k,incompleteFirstPass:!1}}function Aw(t,n,e,r){const o=Hw(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&jw(t).push(r,o.length-1))}function Pw(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function lg(t,n,e,r){let o=!1;if(Gh()){const i=function uA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];W0(e,s.selectors,!1)&&(o||(o=[]),hf(vu(e,n),t,s.type),Ei(s)?(Ow(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,Nw(e,t.data.length,i.length);for(let y=0;y<i.length;y++){const v=i[y];v.providersResolver&&v.providersResolver(v)}let a=!1,u=!1,f=bc(t,n,i.length,null);for(let y=0;y<i.length;y++){const v=i[y];e.mergedAttrs=df(e.mergedAttrs,v.hostAttrs),Lw(t,e,n,f,v),fA(f,v,s),null!==v.contentQueries&&(e.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(e.flags|=128);const M=v.type.prototype;!a&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!u&&(M.ngOnChanges||M.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),u=!0),f++}!function nA(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,u=null;for(let f=n.directiveStart;f<r;f++){const y=o[f],v=y.inputs,M=null===i||z0(n)?null:mA(v,i);s.push(M),a=Pw(v,f,a),u=Pw(y.outputs,f,u)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=u}(t,e)}s&&function dA(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new P(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=df(e.mergedAttrs,e.attrs),o}function Rw(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~n.index;(function aA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(r,o,s)}}function Fw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ow(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function fA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Ei(n)&&(e[""]=t)}}function Nw(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Lw(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=As(o.type)),s=new gu(i,Ei(o),C);t.blueprint[r]=s,e[r]=s,Rw(t,n,0,r,bc(t,e,o.hostVars,En),o)}function pA(t,n,e){const r=di(n,t),o=xw(e),i=t[10],s=Of(t,Rf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Os(t,n,e,r,o,i){const s=di(t,n);!function cg(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?J(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function hA(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],y=s[u++],v=s[u++];null!==a?r.setInput(e,v,f,y):e[y]=v}}}function mA(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function $w(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function vA(t,n){const e=Jo(n,t);if(nc(e)){const r=e[1];48&e[2]?Ou(r,e,r.template,e[8]):e[5]>0&&ug(e)}}function ug(t){for(let r=wm(t);null!==r;r=bm(r))for(let o=10;o<r.length;o++){const i=r[o];if(512&i[2]){const s=i[1];Ou(s,i,s.template,i[8])}else i[5]>0&&ug(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=Jo(e[r],t);nc(o)&&o[5]>0&&ug(o)}}function _A(t,n){const e=Jo(n,t),r=e[1];(function wA(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Ff(r,e,e[8])}function Of(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function dg(t){for(;t;){t[2]|=32;const n=Ru(t);if(qd(t)&&!n)return t;t=n}return null}function Vw(t){!function Bw(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=ym(e);if(null!==r){const o=r[1];Qx(o,r,o.template,e)}}}(t[8])}function pg(t,n,e){g(0),n(t,e)}const CA=(()=>Promise.resolve(null))();function Hw(t){return t[7]||(t[7]=[])}function jw(t){return t.cleanup||(t.cleanup=[])}function Gw(t,n){const e=t[9],r=e?e.get(mc,null):null;r&&r.handleError(n)}function zw(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],u=n[s],f=t.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function ra(t,n,e){const r=ml(n,t);!function k0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function Nf(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=wi(o,a):2==i&&(r=wi(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function IA(){const t=br();ur(st()[1],t)}function qn(t){let n=function Ww(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Ei(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new P(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=hg(t.inputs),s.declaredInputs=hg(t.declaredInputs),s.outputs=hg(t.outputs);const a=o.hostBindings;a&&xA(t,a);const u=o.viewQuery,f=o.contentQueries;if(u&&kA(t,u),f&&TA(t,f),Ko(t.inputs,o.inputs),Ko(t.declaredInputs,o.declaredInputs),Ko(t.outputs,o.outputs),Ei(o)&&o.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===qn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function MA(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=df(o.hostAttrs,e=df(e,o.hostAttrs))}}(r)}function hg(t){return t===p?{}:t===m?[]:t}function kA(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function TA(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function xA(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let Lf=null;function Sl(){if(!Lf){const t=h.Symbol;if(t&&t.iterator)Lf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Lf=r)}}}return Lf}function Nu(t){return!!function mg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Sl()in t)}function ri(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Ls(t,n,e,r){const o=st();return ri(o,Xn(),n)&&(Ln(),Os(Kt(),o,t,n,e,r)),Ls}function Ec(t,n,e,r,o,i){const a=function El(t,n,e,r){const o=ri(t,n,e);return ri(t,n+1,r)||o}(t,function Jn(){return gn.lFrame.bindingIndex}(),e,o);return Dr(2),a?n+J(e)+r+J(o)+i:En}function wn(t,n,e,r,o,i,s,a){const u=st(),f=Ln(),y=t+22,v=f.firstCreatePass?function BA(t,n,e,r,o,i,s,a,u){const f=n.consts,y=wc(n,t,4,s||null,ds(f,a));lg(n,e,y,ds(f,u)),ur(n,y);const v=y.tViews=ag(2,y,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,y),v.queries=n.queries.embeddedTView(y)),y}(y,f,u,n,e,r,o,i,s):f.data[y];rs(v,!1);const M=u[11].createComment("");If(f,u,M,v),ni(M,u),Of(u,u[y]=$w(M,u,M,v)),hl(v)&&ig(f,u,v),null!=s&&sg(u,v,a)}function $i(t){return Js(function Mn(){return gn.lFrame.contextLView}(),22+t)}function gt(t,n,e){const r=st();return ri(r,Xn(),n)&&function Li(t,n,e,r,o,i,s,a){const u=di(n,e);let y,f=n.inputs;!a&&null!=f&&(y=f[r])?(zw(t,e,y,r,o),pl(n)&&function oA(t,n){const e=Jo(n,t);16&e[2]||(e[2]|=32)}(e,n.index)):3&n.type&&(r=function rA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(u,r,o))}(Ln(),Kt(),r,t,n,r[11],e,!1),gt}function gg(t,n,e,r,o){const s=o?"class":"style";zw(t,e,n.inputs[s],s,r)}function _e(t,n,e,r){const o=st(),i=Ln(),s=22+t,a=o[11],u=o[s]=Sm(a,n,function nn(){return gn.lFrame.currentNamespace}()),f=i.firstCreatePass?function HA(t,n,e,r,o,i,s){const a=n.consts,f=wc(n,t,2,o,ds(a,i));return lg(n,e,f,ds(a,s)),null!==f.attrs&&Nf(f,f.attrs,!1),null!==f.mergedAttrs&&Nf(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(s,i,o,0,n,e,r):i.data[s];rs(f,!0);const y=f.mergedAttrs;null!==y&&uf(a,u,y);const v=f.classes;null!==v&&Tm(a,u,v);const M=f.styles;return null!==M&&j0(a,u,M),64!=(64&f.flags)&&If(i,o,u,f),0===function lf(){return gn.lFrame.elementDepthCount}()&&ni(u,o),function cf(){gn.lFrame.elementDepthCount++}(),hl(f)&&(ig(i,o,f),Tw(i,f,o)),null!==r&&sg(o,f),_e}function de(){let t=br();hu()?mu():(t=t.parent,rs(t,!1));const n=t;!function Uh(){gn.lFrame.elementDepthCount--}();const e=Ln();return e.firstCreatePass&&(ur(e,t),Kl(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function KM(t){return 0!=(16&t.flags)}(n)&&gg(e,n,st(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function XM(t){return 0!=(32&t.flags)}(n)&&gg(e,n,st(),n.stylesWithoutHost,!1),de}function wt(t,n,e,r){return _e(t,n,e,r),de(),wt}function Bf(t,n,e){const r=st(),o=Ln(),i=t+22,s=o.firstCreatePass?function jA(t,n,e,r,o){const i=n.consts,s=ds(i,r),a=wc(n,t,8,"ng-container",s);return null!==s&&Nf(a,s,!0),lg(n,e,a,ds(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];rs(s,!0);const a=r[i]=r[11].createComment("");return If(o,r,a,s),ni(a,r),hl(s)&&(ig(o,r,s),Tw(o,s,r)),null!=e&&sg(r,s),Bf}function Vf(){let t=br();const n=Ln();return hu()?mu():(t=t.parent,rs(t,!1)),n.firstCreatePass&&(ur(n,t),Kl(t)&&n.queries.elementEnd(t)),Vf}function xr(){return st()}function $u(t){return!!t&&"function"==typeof t.then}function nb(t){return!!t&&"function"==typeof t.subscribe}const yg=nb;function ct(t,n,e,r){const o=st(),i=Ln(),s=br();return function ob(t,n,e,r,o,i,s,a){const u=hl(r),y=t.firstCreatePass&&jw(t),v=n[8],M=Hw(n);let k=!0;if(3&r.type||a){const $e=di(r,n),Fe=a?a($e):$e,Qe=M.length,Ue=a?qt=>a(Hr(qt[r.index])):r.index;let rt=null;if(!a&&u&&(rt=function UA(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=i,rt.__ngLastListenerFn__=i,k=!1;else{i=sb(r,n,v,i,!1);const qt=e.listen(Fe,o,i);M.push(i,qt),y&&y.push(o,Ue,Qe,Qe+1)}}else i=sb(r,n,v,i,!1);const U=r.outputs;let be;if(k&&null!==U&&(be=U[o])){const $e=be.length;if($e)for(let Fe=0;Fe<$e;Fe+=2){const ln=n[be[Fe]][be[Fe+1]].subscribe(i),Io=M.length;M.push(i,ln),y&&y.push(o,r.index,Io,-(Io+1))}}}(i,o,o[11],s,t,n,0,r),ct}function ib(t,n,e,r){try{return!1!==e(r)}catch(o){return Gw(t,o),!1}}function sb(t,n,e,r,o){return function i(s){if(s===Function)return r;dg(2&t.flags?Jo(t.index,n):n);let u=ib(n,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=ib(n,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function rn(t=1){return function kn(t){return(gn.lFrame.contextLView=function Bn(t,n){for(;t>0;)n=n[15],t--;return n}(t,gn.lFrame.contextLView))[8]}(t)}function GA(t,n){let e=null;const r=function tx(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?W0(t,i,!0):ox(r,i))return o}else e=o}return e}function Et(t){const n=st()[16][6];if(!n.projection){const r=n.projection=Cu(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?GA(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function St(t,n=0,e){const r=st(),o=Ln(),i=wc(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),mu(),64!=(64&i.flags)&&function ZT(t,n,e){H0(n[11],0,n,e,A0(t,e,n),O0(e.parent||n[6],e,n))}(o,r,i)}function gb(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?ps(i):na(i),u=!1;for(;0!==a&&(!1===u||s);){const y=t[a+1];qA(t[a],n)&&(u=!0,t[a+1]=r?Ym(y):qm(y)),a=r?ps(y):na(y)}u&&(t[e+1]=r?qm(i):Ym(i))}function qA(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&fc(t,n)>=0}function Bu(t,n,e){return hs(t,n,e,!1),Bu}function Ba(t,n){return hs(t,n,null,!0),Ba}function hs(t,n,e,r){const o=st(),i=Ln(),s=Dr(2);i.firstUpdatePass&&function Eb(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Pt()],s=function Sb(t,n){return n>=t.expandoStartIndex}(t,e);(function kb(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function nP(t,n,e,r){const o=function tn(t){const n=gn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Vu(e=_g(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=_g(o,t,n,e,r),null===i){let u=function rP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==na(r))return t[ps(r)]}(t,n,r);void 0!==u&&Array.isArray(u)&&(u=_g(null,t,n,u[1],r),u=Vu(u,n.attrs,r),function oP(t,n,e,r){t[ps(e?n.classBindings:n.styleBindings)]=r}(t,n,r,u))}else i=function iP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Vu(r,t[i].hostAttrs,e);return Vu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function zA(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=ps(s),u=na(s);t[r]=e;let y,f=!1;if(Array.isArray(e)){const v=e;y=v[1],(null===y||fc(v,y)>0)&&(f=!0)}else y=e;if(o)if(0!==u){const M=ps(t[a+1]);t[r+1]=xf(M,a),0!==M&&(t[M+1]=Zm(t[M+1],r)),t[a+1]=function Bx(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=xf(a,0),0!==a&&(t[a+1]=Zm(t[a+1],r)),a=r;else t[r+1]=xf(u,0),0===a?a=r:t[u+1]=Zm(t[u+1],r),u=r;f&&(t[r+1]=qm(t[r+1])),gb(t,y,r,!0),gb(t,y,r,!1),function WA(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&fc(i,n)>=0&&(e[r+1]=Ym(e[r+1]))}(n,y,t,r,i),s=xf(a,u),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==En&&ri(o,s,n)&&function Ib(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const u=t.data,f=u[a+1];jf(function _w(t){return 1==(1&t)}(f)?Mb(u,n,e,o,na(f),s):void 0)||(jf(i)||function vw(t){return 2==(2&t)}(f)&&(i=Mb(u,null,e,o,a,s)),function KT(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Ii.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ii.Important),t.setStyle(e,r,o,i))}}(r,s,ml(Pt(),e),o,i))}(i,i.data[Pt()],o,o[11],t,o[s+1]=function lP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Nn(Ni(t)))),t}(n,e),r,s)}function _g(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Vu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Vu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oi(t,s,!!e||n[++i]))}return void 0===t?null:t}function Mb(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const u=t[o],f=Array.isArray(u),y=f?u[1]:u,v=null===y;let M=e[o+1];M===En&&(M=v?m:void 0);let k=v?Jh(M,r):y===r?M:void 0;if(f&&!jf(k)&&(k=Jh(u,r)),jf(k)&&(a=k,s))return a;const U=t[o+1];o=s?ps(U):na(U)}if(null!==n){let u=i?n.residualClasses:n.residualStyles;null!=u&&(a=Jh(u,r))}return a}function jf(t){return void 0!==t}function nt(t,n=""){const e=st(),r=Ln(),o=t+22,i=r.firstCreatePass?wc(r,o,1,n,null):r.data[o],s=e[o]=function Cm(t,n){return t.createText(n)}(e[11],n);If(r,e,s,i),rs(i,!1)}function gs(t){return Mi("",t,""),gs}function Mi(t,n,e){const r=st(),o=function Sc(t,n,e,r){return ri(t,Xn(),e)?n+J(e)+r:En}(r,t,n,e);return o!==En&&ra(r,Pt(),o),Mi}function Uf(t,n,e,r,o){const i=st(),s=Ec(i,t,n,e,r,o);return s!==En&&ra(i,Pt(),s),Uf}const Rc="en-US";let Yb=Rc;function Cg(t,n,e,r,o){if(t=N(t),Array.isArray(t))for(let i=0;i<t.length;i++)Cg(t[i],n,e,r,o);else{const i=Ln(),s=st();let a=bl(t)?t:N(t.provide),u=iw(t);const f=br(),y=1048575&f.providerIndexes,v=f.directiveStart,M=f.providerIndexes>>20;if(bl(t)||!t.multi){const k=new gu(u,o,C),U=Eg(a,n,o?y:y+M,v);-1===U?(hf(vu(f,s),i,a),Sg(i,t,n.length),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(k),s.push(k)):(e[U]=k,s[U]=k)}else{const k=Eg(a,n,y+M,v),U=Eg(a,n,y,y+M),be=k>=0&&e[k],$e=U>=0&&e[U];if(o&&!$e||!o&&!be){hf(vu(f,s),i,a);const Fe=function IR(t,n,e,r,o){const i=new gu(t,e,C);return i.multi=[],i.index=n,i.componentProviders=0,wC(i,o,r&&!e),i}(o?DR:ER,e.length,o,r,u);!o&&$e&&(e[U].providerFactory=Fe),Sg(i,t,n.length,0),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(Fe),s.push(Fe)}else Sg(i,t,k>-1?k:U,wC(e[o?U:k],u,!o&&r));!o&&r&&$e&&e[U].componentProviders++}}}function Sg(t,n,e,r){const o=bl(n),i=function mx(t){return!!t.useClass}(n);if(o||i){const u=(i?N(n.useClass):n).prototype.ngOnDestroy;if(u){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const y=f.indexOf(e);-1===y?f.push(e,[r,u]):f[y+1].push(r,u)}else f.push(e,u)}}}function wC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Eg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function ER(t,n,e,r){return Dg(this.multi,[])}function DR(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=_u(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),Dg(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Dg(o,i);return i}function Dg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function pr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function SR(t,n,e){const r=Ln();if(r.firstCreatePass){const o=Ei(t);Cg(e,r.data,r.blueprint,o,!0),Cg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class kR{resolveComponentFactory(n){throw function MR(t){const n=Error(`No component factory found for ${Nn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let oa=(()=>{class t{}return t.NULL=new kR,t})();class Va{}class CC{}class SC{}function xR(){return Oc(br(),st())}function Oc(t,n){return new ut(di(t,n))}let ut=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=xR,t})();function AR(t){return t instanceof ut?t.nativeElement:t}class EC{}let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function PR(){const t=st(),e=Jo(br().index,t);return(No(e)?e:t)[11]}(),t})(),RR=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class zu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const FR=new zu("14.0.6"),Ig={};function Zf(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Hr(i)),Si(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&Zf(u[1],u,f,r)}const s=e.type;if(8&s)Zf(t,n,e.child,r);else if(32&s){const a=_m(e,n);let u;for(;u=a();)r.push(u)}else if(16&s){const a=B0(n,e);if(Array.isArray(a))r.push(...a);else{const u=Ru(n[16]);Zf(u[1],u,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class Wu{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Zf(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Si(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Em(n,r),gf(e,r))}this._attachedToViewContainer=!1}x0(this._lView[1],this._lView)}onDestroy(n){Aw(this._lView[1],this._lView,null,n)}markForCheck(){dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function fg(t,n,e){const r=n[10];r.begin&&r.begin();try{Ou(t,n,t.template,e)}catch(o){throw Gw(n,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function VT(t,n){Fu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n}}class OR extends Wu{constructor(n){super(n),this._view=n}detectChanges(){Vw(this._view)}checkNoChanges(){}get context(){return null}}class Mg extends oa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Yt(n);return new kg(e,this.ngModule)}}function DC(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class LR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,Ig,r);return o!==Ig||e===Ig?o:this.parentInjector.get(n,e,r)}}class kg extends SC{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function sx(t){return t.map(ix).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return DC(this.componentDef.inputs)}get outputs(){return DC(this.componentDef.outputs)}create(n,e,r,o){var i;let s=(o=o||this.ngModule)instanceof Cl?o:null===(i=o)||void 0===i?void 0:i.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new LR(n,s):n,u=a.get(EC,null);if(null===u)throw new P(407,!1);const f=a.get(RR,null),y=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",M=r?function eA(t,n,e){return t.selectRootElement(n,e===en.ShadowDom)}(y,r,this.componentDef.encapsulation):Sm(u.createRenderer(null,this.componentDef),v,function NR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),k=this.componentDef.onPush?288:272,U=function DA(t,n){return{components:[],scheduler:t||TT,clean:CA,playerHandler:n||null,flags:0}}(),be=ag(0,null,null,1,0,null,null,null,null,null),$e=Rf(null,be,U,k,null,null,u,y,f,a,null);let Fe,Qe;H($e);try{const Ue=function SA(t,n,e,r,o,i){const s=e[1];e[22]=t;const u=wc(s,22,2,"#host",null),f=u.mergedAttrs=n.hostAttrs;null!==f&&(Nf(u,f,!0),null!==t&&(uf(o,t,f),null!==u.classes&&Tm(o,t,u.classes),null!==u.styles&&j0(o,t,u.styles)));const y=r.createRenderer(t,n),v=Rf(e,xw(n),null,n.onPush?32:16,e[22],u,r,y,i||null,null,null);return s.firstCreatePass&&(hf(vu(u,e),s,n.type),Ow(s,u),Nw(u,e.length,1)),Of(e,v),e[22]=v}(M,this.componentDef,$e,u,y);if(M)if(r)uf(y,M,["ng-version",FR.full]);else{const{attrs:rt,classes:qt}=function ax(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!fs(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);rt&&uf(y,M,rt),qt&&qt.length>0&&Tm(y,M,qt.join(" "))}if(Qe=tc(be,22),void 0!==e){const rt=Qe.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const ln=e[qt];rt.push(null!=ln?Array.from(ln):null)}}Fe=function EA(t,n,e,r,o){const i=e[1],s=function sA(t,n,e){const r=br();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Lw(t,r,n,bc(t,n,1,null),e));const o=_u(n,t,r.directiveStart,r);ni(o,n);const i=di(r,n);return i&&ni(i,n),o}(i,e,n);if(r.components.push(s),t[8]=s,null!==o)for(const u of o)u(s,n);if(n.contentQueries){const u=br();n.contentQueries(1,s,u.directiveStart)}const a=br();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||($t(a.index),Rw(e[1],a,0,a.directiveStart,a.directiveEnd,n),Fw(n,s)),s}(Ue,this.componentDef,$e,U,[IA]),Ff(be,$e,null)}finally{Qt()}return new BR(this.componentType,Fe,Oc(Qe,$e),$e,Qe)}}class BR extends class TR{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new OR(o),this.componentType=n}get injector(){return new ac(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class IC extends Va{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mg(this);const r=jn(n);this._bootstrapComponents=ta(r.bootstrap),this._r3Injector=aw(n,e,[{provide:Va,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],Nn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,e=gr.THROW_IF_NOT_FOUND,r=Nt.Default){return n===gr||n===Va||n===Rm?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Tg extends CC{constructor(n){super(),this.moduleType=n}create(n){return new IC(this.moduleType,n)}}class HR extends Va{constructor(n,e,r){super(),this.componentFactoryResolver=new Mg(this),this.instance=null;const o=new ow([...n,{provide:Va,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],e||Nm(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Yf(t,n=null,e=null){return new HR(t,n,e).injector}function RC(t,n,e,r,o,i){const s=n+e;return ri(t,s,o)?function Ns(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function qu(t,n){const e=t[n];return e===En?void 0:e}(t,s+1)}function Il(t,n){const e=Ln();let r;const o=t+22;e.firstCreatePass?(r=function l2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=As(r.type)),s=Oo(C);try{const a=ff(!1),u=i();return ff(a),function VA(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,st(),o,u),u}finally{Oo(s)}}function Ml(t,n,e){const r=t+22,o=st(),i=Js(o,r);return function Zu(t,n){return t[1].data[n].pure}(o,r)?RC(o,function Ve(){const t=gn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function Ag(t){return n=>{setTimeout(t,void 0,n)}}const yn=class p2 extends W{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){var a,u,f;const v=n;o=null===(a=v.next)||void 0===a?void 0:a.bind(v),i=null===(u=v.error)||void 0===u?void 0:u.bind(v),s=null===(f=v.complete)||void 0===f?void 0:f.bind(v)}this.__isAsync&&(i=Ag(i),o&&(o=Ag(o)),s&&(s=Ag(s)));const y=super.subscribe({next:o,error:i,complete:s});return n instanceof q&&n.add(y),y}};function h2(){return this._results[Sl()]()}class Pg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Sl(),r=Pg.prototype;r[e]||(r[e]=h2)}get changes(){return this._changes||(this._changes=new yn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Fi(n);(this._changesDetected=!function lk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ki=(()=>{class t{}return t.__NG_ELEMENT_ID__=y2,t})();const m2=ki,g2=class extends m2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=Rf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),Ff(r,o,n),new Wu(o)}};function y2(){return Kf(br(),st())}function Kf(t,n){return 4&t.type?new g2(n,t,Oc(t,n)):null}let oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=v2,t})();function v2(){return VC(br(),st())}const _2=oi,$C=class extends _2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Oc(this._hostTNode,this._hostLView)}get injector(){return new ac(this._hostTNode,this._hostLView)}get parentInjector(){const n=pf(this._hostTNode,this._hostLView);if(F_(n)){const e=sc(n,this._hostLView),r=ic(n);return new ac(e[1].data[r+8],e)}return new ac(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=BC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function bu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const v=e||{};a=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}const u=s?n:new kg(Yt(n)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const M=(s?f:this.parentInjector).get(Cl,null);M&&(i=M)}const y=u.create(f,o,void 0,i);return this.insert(y.hostView,a),y}insert(n,e){const r=n._lView,o=r[1];if(function af(t){return Si(t[3])}(r)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const v=r[3],M=new $C(v,v[6],v[3]);M.detach(M.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function jT(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],z_(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function UT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=Mm(i,s),u=r[11],f=Df(u,s[7]);return null!==f&&function BT(t,n,e,r,o,i){r[0]=o,r[6]=n,Fu(t,r,e,1,o,i)}(o,s[6],u,r,f,a),n.attachToViewContainerRef(),z_(Rg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=BC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Em(this._lContainer,e);r&&(gf(Rg(this._lContainer),e),x0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=Em(this._lContainer,e);return r&&null!=gf(Rg(this._lContainer),e)?new Wu(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function BC(t){return t[8]}function Rg(t){return t[8]||(t[8]=[])}function VC(t,n){let e;const r=n[t.index];if(Si(r))e=r;else{let o;if(8&t.type)o=Hr(r);else{const i=n[11];o=i.createComment("");const s=di(t,n);wl(i,Df(i,s),o,function qT(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=$w(r,n,o,t),Of(n,e)}return new $C(e,t,n)}class Fg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Fg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Og{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Og(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==zC(n,e).matches&&this.queries[e].setDirty()}}class HC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Ng{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Ng(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Lg{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Lg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,C2(e,i)),this.matchTNodeWithReadOption(n,e,mf(e,n,i,!1,!1))}else r===ki?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,mf(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===ut||o===oi||o===ki&&4&e.type)this.addMatch(e.index,-2);else{const i=mf(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function C2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function E2(t,n,e,r){return-1===e?function S2(t,n){return 11&t.type?Oc(t,n):4&t.type?Kf(t,n):null}(n,t):-2===e?function D2(t,n,e){return e===ut?Oc(n,t):e===ki?Kf(n,t):e===oi?VC(n,t):void 0}(t,n,r):_u(t,t[1],e,n)}function jC(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:E2(n,i[f],s[u+1],e.metadata.read))}o.matches=a}return o.matches}function $g(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=jC(t,n,o,e);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],y=n[-u];for(let v=10;v<y.length;v++){const M=y[v];M[17]===M[3]&&$g(M[1],M,f,r)}if(null!==y[9]){const v=y[9];for(let M=0;M<v.length;M++){const k=v[M];$g(k[1],k,f,r)}}}}}return r}function Bi(t){const n=st(),e=Ln(),r=l();g(r+1);const o=zC(e,r);if(t.dirty&&du(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?$g(e,n,r,[]):jC(e,n,o,r);t.reset(i,AR),t.notifyOnChanges()}return!0}return!1}function Yu(t,n,e){const r=Ln();r.firstCreatePass&&(GC(r,new HC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),UC(r,st(),n)}function Vi(){return function I2(t,n){return t[19].queries[n].queryList}(st(),l())}function UC(t,n,e){const r=new Pg(4==(4&e));Aw(t,n,r,r.destroy),null===n[19]&&(n[19]=new Og),n[19].queries.push(new Fg(r))}function GC(t,n,e){null===t.queries&&(t.queries=new Ng),t.queries.track(new Lg(n,e))}function zC(t,n){return t.queries.getByIndex(n)}function Qf(...t){}const kl=new an("Application Initializer");let Jf=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Qf,this.reject=Qf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if($u(i))e.push(i);else if(yg(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(me(kl,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xu=new an("AppId",{providedIn:"root",factory:function uS(){return`${Ug()}${Ug()}${Ug()}`}});function Ug(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dS=new an("Platform Initializer"),Bc=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fS=new an("appBootstrapListener");let Z2=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const aa=new an("LocaleId",{providedIn:"root",factory:()=>vl(aa,Nt.Optional|Nt.SkipSelf)||function Y2(){return typeof $localize<"u"&&$localize.locale||Rc}()});class X2{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Gg=(()=>{class t{compileModuleSync(e){return new Tg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=ta(jn(e).declarations).reduce((s,a)=>{const u=Yt(a);return u&&s.push(new kg(u)),s},[]);return new X2(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eF=(()=>Promise.resolve(0))();function zg(t){typeof Zone>"u"?eF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class it{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yn(!1),this.onMicrotaskEmpty=new yn(!1),this.onStable=new yn(!1),this.onError=new yn(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function tF(){let t=h.requestAnimationFrame,n=h.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oF(t){const n=()=>{!function rF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(h,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qg(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return mS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),gS(t)}},onInvoke:(e,r,o,i,s,a,u)=>{try{return mS(t),e.invoke(o,i,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&n(),gS(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,qg(t),Wg(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new P(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,nF,Qf,Qf);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const nF={};function Wg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gS(t){t._nesting--,Wg(t)}class iF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yn,this.onMicrotaskEmpty=new yn,this.onStable=new yn,this.onError=new yn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const yS=new an(""),ep=new an("");let Kg,Zg=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kg||(function sF(t){Kg=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(me(it),me(Yg),me(ep))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Yg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){var o,i;return null!==(o=null===(i=Kg)||void 0===i?void 0:i.findTestabilityInTree(this,e,r))&&void 0!==o?o:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ha=null;const vS=new an("AllowMultipleToken"),Xg=new an("PlatformDestroyListeners");class _S{constructor(n,e){this.name=n,this.token=e}}function bS(t,n,e=[]){const r=`Platform: ${n}`,o=new an(r);return(i=[])=>{let s=Qg();if(!s||s.injector.get(vS,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function cF(t){if(Ha&&!Ha.get(vS,!1))throw new P(400,!1);Ha=t;const n=t.get(SS);(function wS(t){const n=t.get(dS,null);n&&n.forEach(e=>e())})(t)}(function CS(t=[],n){return gr.create({name:n,providers:[{provide:Fm,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Ha=null])},...t]})}(a,r))}return function dF(t){const n=Qg();if(!n)throw new P(401,!1);return n}()}}function Qg(){var t,n;return null!==(t=null===(n=Ha)||void 0===n?void 0:n.get(SS))&&void 0!==t?t:null}let SS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function fF(t,n){let e;return e="noop"===t?new iF:("zone.js"===t?void 0:t)||new it(n),e}(r?.ngZone,function ES(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:it,useValue:o}];return o.run(()=>{const s=gr.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),u=a.injector.get(mc,null);if(!u)throw new P(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:y=>{u.handleError(y)}});a.onDestroy(()=>{tp(this._modules,a),f.unsubscribe()})}),function DS(t,n,e){try{const r=e();return $u(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(Jf);return f.runInitializers(),f.donePromise.then(()=>(function Kb(t){Fr(t,"Expected localeId to be defined"),"string"==typeof t&&(Yb=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(aa,Rc)||Rc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=IS({},r);return function aF(t,n,e){const r=new Tg(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(ja);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new P(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Xg,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(me(gr))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function IS(t,n){return Array.isArray(n)?n.reduce(IS,t):{...t,...n}}let ja=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new at(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new at(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=Zo(i,s.pipe(_i()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof SC;if(!this._injector.get(Jf).done)throw!o&&function Lc(t){const n=Yt(t)||Ut(t)||cr(t);return null!==n&&n.standalone}(e),new P(405,false);let s;s=o?e:this._injector.get(oa).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function lF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Va),f=s.create(gr.NULL,[],r||s.selector,a),y=f.location.nativeElement,v=f.injector.get(yS,null);return v?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),tp(this.components,f),v?.unregisterApplication(y)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;tp(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fS,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>tp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(me(it),me(gr),me(mc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let kS=!0,bt=(()=>{class t{}return t.__NG_ELEMENT_ID__=mF,t})();function mF(t){return function gF(t,n,e){if(pl(t)&&!e){const r=Jo(t.index,n);return new Wu(r,r)}return 47&t.type?new Wu(n[16],n):null}(br(),st(),16==(16&t))}class RS{constructor(){}supports(n){return Nu(n)}create(n){return new CF(n)}}const bF=(t,n)=>n;class CF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||bF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<OS(r,o,i)?e:r,a=OS(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,y=u-o;if(f!=y){for(let M=0;M<f;M++){const k=M<i.length?i[M]:i[M]=0,U=k+M;y<=U&&U<f&&(i[M]=k+1)}i[s.previousIndex]=y-f}}a!==u&&n(s,a,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Nu(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function OA(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Sl()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new SF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new FS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class SF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class FS{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new EF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OS(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function LS(){return new Qu([new RS])}let Qu=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||LS()),deps:[[t,new Iu,new Na]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new P(901,!1)}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:LS}),t})();const TF=bS(null,"core",[]);let xF=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(me(ja))},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})(),op=null;function Vs(){return op}const Eo=new an("DocumentToken");let ip=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function FF(){return me(BS)}()},providedIn:"platform"}),t})();const OF=new an("Location Initialized");let BS=(()=>{class t extends ip{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vs().getBaseHref(this._doc)}onPopState(e){const r=Vs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Vs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){VS()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){VS()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:function(){return function NF(){return new BS(me(Eo))}()},providedIn:"platform"}),t})();function VS(){return!!window.history.pushState}function ry(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function HS(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ua(t){return t&&"?"!==t[0]?"?"+t:t}let Hs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function LF(){const t=me(Eo).location;return new US(me(ip),t&&t.origin||"")}()},providedIn:"root"}),t})();const jS=new an("appBaseHref");let US=(()=>{class t extends Hs{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ry(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ua(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+ua(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+ua(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(me(ip),me(jS,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),GS=(()=>{class t extends Hs{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ry(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+ua(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+ua(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(me(ip),me(jS,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ed=(()=>{class t{constructor(e){this._subject=new yn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=HS(zS(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ua(r))}normalize(e){return t.stripTrailingSlash(function BF(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,zS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ua(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ua(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(r=(o=this._locationStrategy).historyGo)||void 0===r||r.call(o,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);var o;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=ua,t.joinWithSlash=ry,t.stripTrailingSlash=HS,t.\u0275fac=function(e){return new(e||t)(me(Hs))},t.\u0275prov=ft({token:t,factory:function(){return function $F(){return new ed(me(Hs))}()},providedIn:"root"}),t})();function zS(t){return t.replace(/\/index.html$/,"")}function eE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class EO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vc=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new EO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),rE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{rE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(oi),C(ki),C(Qu))},t.\u0275dir=De({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function rE(t,n){t.context.$implicit=n.item}let Ho=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new IO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){oE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){oE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(oi),C(ki))},t.\u0275dir=De({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class IO{constructor(){this.$implicit=null,this.ngIf=null}}function oE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Nn(n)}'.`)}class AO{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class PO{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const RO=new PO,FO=new AO;let sE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if($u(e))return RO;if(nb(e))return FO;throw function _s(t,n){return new P(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(C(bt,16))},t.\u0275pipe=lt({name:"async",type:t,pure:!1}),t})(),js=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})();const lE="browser";function fa(t){return t===lE}let eN=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new tN(me(Eo),window)}),t})();class tN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function nN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=cE(this.window.history)||cE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class uE{}class vy extends class rN extends class RF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function PF(t){op||(op=t)}(new vy)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function oN(){return rd=rd||document.querySelector("base"),rd?rd.getAttribute("href"):null}();return null==e?null:function iN(t){mp=mp||document.createElement("a"),mp.setAttribute("href",t);const n=mp.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){rd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return eE(document.cookie,n)}}let mp,rd=null;const dE=new an("TRANSITION_ID"),aN=[{provide:kl,useFactory:function sN(t,n,e){return()=>{e.get(Jf).donePromise.then(()=>{const r=Vs(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[dE,Eo,gr],multi:!0}];let cN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const gp=new an("EventManagerPlugins");let yp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(me(gp),me(it))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class fE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=Vs().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let pE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),od=(()=>{class t extends pE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(hE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(hE))}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function hE(t){Vs().remove(t)}const _y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wy=/%COMP%/g;function vp(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?vp(t,o,e):(o=o.replace(wy,t),e.push(o))}return e}function yE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let by=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Cy(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case en.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new mN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case en.ShadowDom:return new gN(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=vp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(me(yp),me(od),me(Xu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Cy{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(_y[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(_E(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(_E(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=_y[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=_y[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Ii.DashCase|Ii.Important)?n.style.setProperty(e,r,o&Ii.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ii.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,yE(r)):this.eventManager.addEventListener(n,e,yE(r))}}function _E(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class mN extends Cy{constructor(n,e,r,o){super(n),this.component=r;const i=vp(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function fN(t){return"_ngcontent-%COMP%".replace(wy,t)}(o+"-"+r.id),this.hostAttr=function pN(t){return"_nghost-%COMP%".replace(wy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class gN extends Cy{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=vp(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let yN=(()=>{class t extends fE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const wE=["alt","control","meta","shift"],_N={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bN=(()=>{class t extends fE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vs().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(wE.forEach(u=>{const f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let r="",o=function CN(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&bE.hasOwnProperty(n)&&(n=bE[n]))}return _N[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),wE.forEach(i=>{i!=o&&wN[i](e)&&(r+=i+".")}),r+=o,r}static eventCallback(e,r,o){return i=>{t.getEventFullKey(i)===e&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const CE=[{provide:Bc,useValue:lE},{provide:dS,useValue:function SN(){vy.makeCurrent()},multi:!0},{provide:Eo,useFactory:function DN(){return function Rk(t){om=t}(document),document},deps:[]}],IN=bS(TF,"browser",CE),SE=new an(""),EE=[{provide:ep,useClass:class lN{addToWindow(n){h.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},h.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.getAllAngularRootElements=()=>n.getAllRootElements(),h.frameworkStabilizers||(h.frameworkStabilizers=[]),h.frameworkStabilizers.push(r=>{const o=h.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Vs().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:yS,useClass:Zg,deps:[it,Yg,ep]},{provide:Zg,useClass:Zg,deps:[it,Yg,ep]}],DE=[{provide:Fm,useValue:"root"},{provide:mc,useFactory:function EN(){return new mc},deps:[]},{provide:gp,useClass:yN,multi:!0,deps:[Eo,it,Bc]},{provide:gp,useClass:bN,multi:!0,deps:[Eo]},{provide:by,useClass:by,deps:[yp,od,Xu]},{provide:EC,useExisting:by},{provide:pE,useExisting:od},{provide:od,useClass:od,deps:[Eo]},{provide:yp,useClass:yp,deps:[gp,it]},{provide:uE,useClass:cN,deps:[]},[]];let MN=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Xu,useValue:e.appId},{provide:dE,useExisting:Xu},aN]}}}return t.\u0275fac=function(e){return new(e||t)(me(SE,12))},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[...DE,...EE],imports:[js,xF]}),t})(),IE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:function(e){let r=null;return r=e?new e:function TN(){return new IE(me(Eo))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Dy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(e){let r=null;return r=e?new(e||t):me(TE),r},providedIn:"root"}),t})(),TE=(()=>{class t extends Dy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Cr.NONE:return r;case Cr.HTML:return Rs(r,"HTML")?Ni(r):g0(this._doc,String(r)).toString();case Cr.STYLE:return Rs(r,"Style")?Ni(r):r;case Cr.SCRIPT:if(Rs(r,"Script"))return Ni(r);throw new Error("unsafe value used in a script context");case Cr.URL:return Rs(r,"URL")?Ni(r):Tu(String(r));case Cr.RESOURCE_URL:if(Rs(r,"ResourceURL"))return Ni(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function jk(t){return new Nk(t)}(e)}bypassSecurityTrustStyle(e){return function Uk(t){return new Lk(t)}(e)}bypassSecurityTrustScript(e){return function Gk(t){return new $k(t)}(e)}bypassSecurityTrustUrl(e){return function zk(t){return new Bk(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Wk(t){return new Vk(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:function(e){let r=null;return r=e?new e:function LN(t){return new TE(t.get(Eo))}(me(gr)),r},providedIn:"root"}),t})();var To=R(1158),$N=R(9233),Hc=R.n($N);let _p,wp;function xE(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function AE(){return void 0!==wp}class PE{constructor(){this.requestEvent=new To.j}dispatchRequest(n){if(n){try{n=new(Hc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let Iy=(()=>{class t{constructor(){this.installation=new PE,this.import=new PE,_p&&this.installation.dispatchRequest(_p),wp&&this.import.dispatchRequest(wp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vn(...t){return Gn(t,D(t))}function jc(t,n){return T(n)?zt(t,n,1):zt(t,1)}function jo(t,n){return Re((e,r)=>{let o=0;e.subscribe(tt(r,i=>t.call(n,i,o++)&&r.next(i)))})}class RE{}class FE{}class pa{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof pa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new pa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class HN{encodeKey(n){return OE(n)}encodeValue(n){return OE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const UN=/%(\d[a-f0-9])/gi,GN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OE(t){return encodeURIComponent(t).replace(UN,(n,e)=>{var r;return null!==(r=GN[e])&&void 0!==r?r:n})}function bp(t){return`${t}`}class Ga{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new HN,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jN(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],u=e.get(s)||[];u.push(a),e.set(s,u)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(bp):[bp(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ga({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(bp(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(bp(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class zN{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function NE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function LE(t){return typeof Blob<"u"&&t instanceof Blob}function $E(t){return typeof FormData<"u"&&t instanceof FormData}class id{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function WN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new pa),this.context||(this.context=new zN),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Ga,this.urlWithParams=e}serializeBody(){return null===this.body?null:NE(this.body)||LE(this.body)||$E(this.body)||function qN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ga?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$E(this.body)?null:LE(this.body)?this.body.type||null:NE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ga?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,y=n.params||this.params;const v=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((M,k)=>M.set(k,n.setHeaders[k]),f)),n.setParams&&(y=Object.keys(n.setParams).reduce((M,k)=>M.set(k,n.setParams[k]),y)),new id(r,o,s,{params:y,headers:f,context:v,reportProgress:u,responseType:i,withCredentials:a})}}var ho=(()=>((ho=ho||{})[ho.Sent=0]="Sent",ho[ho.UploadProgress=1]="UploadProgress",ho[ho.ResponseHeader=2]="ResponseHeader",ho[ho.DownloadProgress=3]="DownloadProgress",ho[ho.Response=4]="Response",ho[ho.User=5]="User",ho))();class My{constructor(n,e=200,r="OK"){this.headers=n.headers||new pa,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class ky extends My{constructor(n={}){super(n),this.type=ho.ResponseHeader}clone(n={}){return new ky({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Cp extends My{constructor(n={}){super(n),this.type=ho.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Cp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class BE extends My{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ty(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let xy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof id)i=e;else{let u,f;u=o.headers instanceof pa?o.headers:new pa(o.headers),o.params&&(f=o.params instanceof Ga?o.params:new Ga({fromObject:o.params})),i=new id(e,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=vn(i).pipe(jc(u=>this.handler.handle(u)));if(e instanceof id||"events"===o.observe)return s;const a=s.pipe(jo(u=>u instanceof Cp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(et(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(et(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(et(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(et(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ga).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Ty(o,r))}post(e,r,o={}){return this.request("POST",e,Ty(o,r))}put(e,r,o={}){return this.request("PUT",e,Ty(o,r))}}return t.\u0275fac=function(e){return new(e||t)(me(RE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class VE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const HE=new an("HTTP_INTERCEPTORS");let ZN=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const YN=/^\)\]\}',?\n/;let jE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new at(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((k,U)=>o.setRequestHeader(k,U.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&o.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();o.responseType="json"!==k?k:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const k=o.statusText||"OK",U=new pa(o.getAllResponseHeaders()),be=function KN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new ky({headers:U,status:o.status,statusText:k,url:be}),s},u=()=>{let{headers:k,status:U,statusText:be,url:$e}=a(),Fe=null;204!==U&&(Fe=typeof o.response>"u"?o.responseText:o.response),0===U&&(U=Fe?200:0);let Qe=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof Fe){const Ue=Fe;Fe=Fe.replace(YN,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(rt){Fe=Ue,Qe&&(Qe=!1,Fe={error:rt,text:Fe})}}Qe?(r.next(new Cp({body:Fe,headers:k,status:U,statusText:be,url:$e||void 0})),r.complete()):r.error(new BE({error:Fe,headers:k,status:U,statusText:be,url:$e||void 0}))},f=k=>{const{url:U}=a(),be=new BE({error:k,status:o.status||0,statusText:o.statusText||"Unknown Error",url:U||void 0});r.error(be)};let y=!1;const v=k=>{y||(r.next(a()),y=!0);let U={type:ho.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),"text"===e.responseType&&!!o.responseText&&(U.partialText=o.responseText),r.next(U)},M=k=>{let U={type:ho.UploadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),r.next(U)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",v),null!==i&&o.upload&&o.upload.addEventListener("progress",M)),o.send(i),r.next({type:ho.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",v),null!==i&&o.upload&&o.upload.removeEventListener("progress",M)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(me(uE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Ay=new an("XSRF_COOKIE_NAME"),Py=new an("XSRF_HEADER_NAME");class UE{}let XN=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=eE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(me(Eo),me(Bc),me(Ay))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Ry=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(me(UE),me(Py))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),QN=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(HE,[]);this.chain=r.reduceRight((o,i)=>new VE(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(me(FE),me(gr))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),JN=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ry,useClass:ZN}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ay,useValue:e.cookieName}:[],e.headerName?{provide:Py,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[Ry,{provide:HE,useExisting:Ry,multi:!0},{provide:UE,useClass:XN},{provide:Ay,useValue:"XSRF-TOKEN"},{provide:Py,useValue:"X-XSRF-TOKEN"}]}),t})(),eL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[xy,{provide:RE,useClass:QN},jE,{provide:FE,useExisting:jE}],imports:[JN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:tL}=Array,{getPrototypeOf:nL,prototype:rL,keys:oL}=Object;function GE(t){if(1===t.length){const n=t[0];if(tL(n))return{args:n,keys:null};if(function iL(t){return t&&"object"==typeof t&&nL(t)===rL}(n)){const e=oL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:sL}=Array;function Fy(t){return et(n=>function aL(t,n){return sL(n)?t(...n):t(n)}(t,n))}function zE(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let WE=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(C(ia),C(ut))},t.\u0275dir=De({type:t}),t})(),xl=(()=>{class t extends WE{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Vo(t)))(r||t)}}(),t.\u0275dir=De({type:t,features:[qn]}),t})();const mi=new an("NgValueAccessor"),uL={provide:mi,useExisting:x(()=>Oy),multi:!0},fL=new an("CompositionEventMode");let Oy=(()=>{class t extends WE{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dL(){const t=Vs()?Vs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ia),C(ut),C(fL,8))},t.\u0275dir=De({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&ct("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[pr([uL]),qn]}),t})();function za(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function ZE(t){return null!=t&&"number"==typeof t.length}const ii=new an("NgValidators"),Wa=new an("NgAsyncValidators"),hL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ny{static min(n){return function YE(t){return n=>{if(za(n.value)||za(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function KE(t){return n=>{if(za(n.value)||za(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function XE(t){return za(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function QE(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function JE(t){return za(t.value)||hL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function eD(t){return n=>za(n.value)||!ZE(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return tD(n)}static pattern(n){return function nD(t){if(!t)return Sp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(za(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return lD(n)}static composeAsync(n){return cD(n)}}function tD(t){return n=>ZE(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Sp(t){return null}function rD(t){return null!=t}function oD(t){return $u(t)?Gn(t):t}function iD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function sD(t,n){return n.map(e=>e(t))}function aD(t){return t.map(n=>function mL(t){return!t.validate}(n)?n:e=>n.validate(e))}function lD(t){if(!t)return null;const n=t.filter(rD);return 0==n.length?null:function(e){return iD(sD(e,n))}}function Ly(t){return null!=t?lD(aD(t)):null}function cD(t){if(!t)return null;const n=t.filter(rD);return 0==n.length?null:function(e){return function lL(...t){const n=yo(t),{args:e,keys:r}=GE(t),o=new at(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let y=0;y<s;y++){let v=!1;S(e[y]).subscribe(tt(i,M=>{v||(v=!0,f--),a[y]=M},()=>u--,void 0,()=>{(!u||!v)&&(f||i.next(r?zE(r,a):a),i.complete())}))}});return n?o.pipe(Fy(n)):o}(sD(e,n).map(oD)).pipe(et(iD))}}function $y(t){return null!=t?cD(aD(t)):null}function uD(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function dD(t){return t._rawValidators}function fD(t){return t._rawAsyncValidators}function By(t){return t?Array.isArray(t)?t:[t]:[]}function Ep(t,n){return Array.isArray(t)?t.includes(n):t===n}function pD(t,n){const e=By(n);return By(t).forEach(o=>{Ep(e,o)||e.push(o)}),e}function hD(t,n){return By(n).filter(e=>!Ep(t,e))}class mD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=$y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class gi extends mD{get formDirective(){return null}get path(){return null}}class ha extends mD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gD{constructor(n){this._cd=n}get isTouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.touched)}get isUntouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.untouched)}get isPristine(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pristine)}get isDirty(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.dirty)}get isValid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.valid)}get isInvalid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.invalid)}get isPending(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let Al=(()=>{class t extends gD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ha,2))},t.\u0275dir=De({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ba("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qn]}),t})(),Pl=(()=>{class t extends gD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(gi,10))},t.\u0275dir=De({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ba("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qn]}),t})();const sd="VALID",Ip="INVALID",Uc="PENDING",ad="DISABLED";function Uy(t){return(Mp(t)?t.validators:t)||null}function vD(t){return Array.isArray(t)?Ly(t):t||null}function Gy(t,n){return(Mp(n)?n.asyncValidators:t)||null}function _D(t){return Array.isArray(t)?$y(t):t||null}function Mp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class CD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=vD(this._rawValidators),this._composedAsyncValidatorFn=_D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===sd}get invalid(){return this.status===Ip}get pending(){return this.status==Uc}get disabled(){return this.status===ad}get enabled(){return this.status!==ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=vD(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=_D(n)}addValidators(n){this.setValidators(pD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(pD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(hD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(hD(n,this._rawAsyncValidators))}hasValidator(n){return Ep(this._rawValidators,n)}hasAsyncValidator(n){return Ep(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Uc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ad,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=sd,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sd||this.status===Uc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ad:sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Uc,this._hasOwnPendingAsyncValidator=!0;const e=oD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new yn,this.statusChanges=new yn}_calculateStatus(){return this._allControlsDisabled()?ad:this.errors?Ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uc)?Uc:this._anyControlsHaveStatus(Ip)?Ip:sd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Mp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Gc extends CD{constructor(n,e,r){super(Uy(e),Gy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function bD(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new P(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function wD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new P(1e3,"");if(!r[e])throw new P(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const kp=Gc;function ld(t,n){var e,r;zy(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&(null===(e=(r=n.valueAccessor).setDisabledState)||void 0===e||e.call(r,!0)),function EL(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&SD(t,n)})}(t,n),function IL(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function DL(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&SD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function SL(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function xp(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Pp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ap(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function zy(t,n){const e=dD(t);null!==n.validator?t.setValidators(uD(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=fD(t);null!==n.asyncValidator?t.setAsyncValidators(uD(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Ap(n._rawValidators,o),Ap(n._rawAsyncValidators,o)}function Pp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=dD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=fD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Ap(n._rawValidators,r),Ap(n._rawAsyncValidators,r),e}function SD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function MD(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function kD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ma=class extends CD{constructor(n=null,e,r){super(Uy(e),Gy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=kD(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){MD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){MD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){kD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},xo=ma;let Rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),FD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})();const Yy=new an("NgModelWithFormControlWarning"),VL={provide:gi,useExisting:x(()=>ga)};let ga=(()=>{class t extends gi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return ld(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){xp(e.control||null,e,!1),function xL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function ID(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(xp(r||null,e),(t=>t instanceof ma)(o)&&(ld(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function ED(t,n){zy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function ML(t,n){return Pp(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zy(this.form,this),this._oldForm&&Pp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(C(ii,10),C(Wa,10))},t.\u0275dir=De({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&ct("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pr([VL]),qn,bo]}),t})();const UL={provide:ha,useExisting:x(()=>qa)};let qa=(()=>{class t extends ha{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new yn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function qy(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Oy?e=i:function TL(t){return Object.getPrototypeOf(t.constructor)===xl}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Wy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Tp(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(C(gi,13),C(ii,10),C(Wa,10),C(mi,10),C(Yy,8))},t.\u0275dir=De({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[pr([UL]),qn,bo]}),t})();let Fl=(()=>{class t{constructor(){this._validator=Sp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=De({type:t,features:[bo]}),t})();const n3={provide:ii,useExisting:x(()=>tv),multi:!0};let tv=(()=>{class t extends Fl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function HD(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>tD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Vo(t)))(r||t)}}(),t.\u0275dir=De({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ls("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[pr([n3]),qn]}),t})(),YD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[FD]}),t})(),Ol=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[YD]}),t})(),Rp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Yy,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[YD]}),t})();const i3=["addListener","removeListener"],s3=["addEventListener","removeEventListener"],a3=["on","off"];function ud(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return ud(t,n,e).pipe(Fy(r));const[o,i]=function u3(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?s3.map(s=>a=>t[s](n,a,e)):function l3(t){return T(t.addListener)&&T(t.removeListener)}(t)?i3.map(KD(t,n)):function c3(t){return T(t.on)&&T(t.off)}(t)?a3.map(KD(t,n)):[];if(!o&&pn(t))return zt(s=>ud(s,n,e))(S(t));if(!o)throw new TypeError("Invalid event target");return new at(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function KD(t,n){return e=>r=>t[e](n,r)}class Hi extends W{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function XD(...t){const n=D(t),e=yo(t),{args:r,keys:o}=GE(t);if(0===r.length)return Gn([],n);const i=new at(function d3(t,n,e=X){return r=>{QD(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)QD(n,()=>{const f=Gn(t[u],n);let y=!1;f.subscribe(tt(r,v=>{i[u]=v,y||(y=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>zE(o,s):X));return e?i.pipe(Fy(e)):i}function QD(t,n,e){t?_r(e,t,n):n()}function zc(t,n){const e=T(t)?t:()=>t,r=o=>o.error(e());return new at(n?o=>n.schedule(r,0,o):r)}const dd=d(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fd(...t){return function f3(){return eo(1)}()(Gn(t,D(t)))}function Fp(t){return new at(n=>{S(t()).subscribe(n)})}function nv(){return Re((t,n)=>{let e=null;t._refCount++;const r=tt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class rv extends at{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Te(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new q;const e=this.getSubject();n.add(this.source.subscribe(tt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=q.EMPTY)}return n}refCount(){return nv()(this)}}function xi(t,n){return Re((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(tt(r,u=>{o?.unsubscribe();let f=0;const y=i++;S(t(u,y)).subscribe(o=tt(r,v=>r.next(n?n(u,v,y,f++):v),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ji(t){return t<=0?()=>nr:Re((n,e)=>{let r=0;n.subscribe(tt(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function JD(...t){const n=D(t);return Re((e,r)=>{(n?fd(t,e,n):fd(t,e)).subscribe(r)})}function p3(t,n,e,r,o){return(i,s)=>{let a=e,u=n,f=0;i.subscribe(tt(s,y=>{const v=f++;u=a?t(u,y,v):(a=!0,y),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function e1(t,n){return Re(p3(t,n,arguments.length>=2,!0))}function Za(t){return Re((n,e)=>{let i,r=null,o=!1;r=n.subscribe(tt(e,void 0,void 0,s=>{i=S(t(s,Za(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function ov(t){return t<=0?()=>nr:Re((n,e)=>{let r=[];n.subscribe(tt(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function t1(t=h3){return Re((n,e)=>{let r=!1;n.subscribe(tt(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function h3(){return new dd}function iv(t){return Re((n,e)=>{let r=!1;n.subscribe(tt(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function Ya(t,n){const e=arguments.length>=2;return r=>r.pipe(t?jo((o,i)=>t(o,i,r)):X,ji(1),e?iv(n):t1(()=>new dd))}function Uo(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?Re((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(tt(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):X}function sv(t){return et(()=>t)}function av(t){return Re((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class ya{constructor(n,e){this.id=n,this.url=e}}class Op extends ya{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nl extends ya{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Np extends ya{constructor(n,e,r){super(n,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class n1 extends ya{constructor(n,e,r){super(n,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g3 extends ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y3 extends ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v3 extends ya{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _3 extends ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w3 extends ya{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class C3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class S3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pn="primary";class k3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wc(t){return new k3(t)}const lv="Redirecting to ",o1="ngNavigationCancelingError";function cv(t){const n=Error("NavigationCancelingError: "+(t||""));return n[o1]=!0,n}function x3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Us(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!i1(t[o],n[o]))return!1;return!0}function i1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function s1(t){return Array.prototype.concat.apply([],t)}function a1(t){return t.length>0?t[t.length-1]:null}function Go(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Ka(t){return yg(t)?t:$u(t)?Gn(Promise.resolve(t)):vn(t)}const R3={exact:function u1(t,n,e){if(!$l(t.segments,n.segments)||!Lp(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!u1(t.children[r],n.children[r],e))return!1;return!0},subset:d1},l1={exact:function F3(t,n){return Us(t,n)},subset:function O3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>i1(t[e],n[e]))},ignored:()=>!0};function c1(t,n,e){return R3[e.paths](t.root,n.root,e.matrixParams)&&l1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function d1(t,n,e){return f1(t,n,n.segments,e)}function f1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!$l(o,e)||n.hasChildren()||!Lp(o,e,r))}if(t.segments.length===e.length){if(!$l(t.segments,e)||!Lp(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!d1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!($l(t.segments,o)&&Lp(t.segments,o,r)&&t.children[Pn])&&f1(t.children[Pn],n,i,r)}}function Lp(t,n,e){return n.every((r,o)=>l1[e](t[o].parameters,r.parameters))}class Ll{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return $3.serialize(this)}}class Un{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Go(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $p(this)}}class pd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wc(this.parameters)),this._parameterMap}toString(){return g1(this)}}function $l(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class dv{}class p1{parse(n){const e=new q3(n);return new Ll(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${hd(n.root,!0)}`,r=function H3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${Bp(e)}=${Bp(o)}`).join("&"):`${Bp(e)}=${Bp(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function B3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const $3=new p1;function $p(t){return t.segments.map(n=>g1(n)).join("/")}function hd(t,n){if(!t.hasChildren())return $p(t);if(n){const e=t.children[Pn]?hd(t.children[Pn],!1):"",r=[];return Go(t.children,(o,i)=>{i!==Pn&&r.push(`${i}:${hd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function L3(t,n){let e=[];return Go(t.children,(r,o)=>{o===Pn&&(e=e.concat(n(r,o)))}),Go(t.children,(r,o)=>{o!==Pn&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===Pn?[hd(t.children[Pn],!1)]:[`${o}:${hd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Pn]?`${$p(t)}/${e[0]}`:`${$p(t)}/(${e.join("//")})`}}function h1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bp(t){return h1(t).replace(/%3B/gi,";")}function fv(t){return h1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vp(t){return decodeURIComponent(t)}function m1(t){return Vp(t.replace(/\+/g,"%20"))}function g1(t){return`${fv(t.path)}${function V3(t){return Object.keys(t).map(n=>`;${fv(n)}=${fv(t[n])}`).join("")}(t.parameters)}`}const j3=/^[^\/()?;=#]+/;function Hp(t){const n=t.match(j3);return n?n[0]:""}const U3=/^[^=?&#]+/,z3=/^[^&#]+/;class q3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Pn]=new Un(n,e)),r}parseSegment(){const n=Hp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(n),new pd(Vp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Hp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Hp(this.remaining);o&&(r=o,this.capture(r))}n[Vp(e)]=Vp(r)}parseQueryParam(n){const e=function G3(t){const n=t.match(U3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function W3(t){const n=t.match(z3);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=m1(e),i=m1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new P(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Pn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Pn]:new Un([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new P(4011,!1)}}class y1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=pv(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=pv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=hv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return hv(n,this._root).map(e=>e.value)}}function pv(t,n){if(t===n.value)return n;for(const e of n.children){const r=pv(t,e);if(r)return r}return null}function hv(t,n){if(t===n.value)return[n];for(const e of n.children){const r=hv(t,e);if(r.length)return r.unshift(n),r}return[]}class va{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function qc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class v1 extends y1{constructor(n,e){super(n),this.snapshot=e,mv(this,n)}toString(){return this.snapshot.toString()}}function _1(t,n){const e=function Z3(t,n){const s=new jp([],{},{},"",{},Pn,n,null,t.root,-1,{});return new b1("",new va(s,[]))}(t,n),r=new Hi([new pd("",{})]),o=new Hi({}),i=new Hi({}),s=new Hi({}),a=new Hi(""),u=new _a(r,o,s,a,i,Pn,n,e.root);return u.snapshot=e.root,new v1(new va(u,[]),e)}class _a{constructor(n,e,r,o,i,s,a,u){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(et(n=>Wc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(et(n=>Wc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function w1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function Y3(t){return t.reduce((n,e)=>{var r;return{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...null===(r=e.routeConfig)||void 0===r?void 0:r.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(r))}class jp{constructor(n,e,r,o,i,s,a,u,f,y,v,M){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=y,this._correctedLastPathIndex=M??y,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class b1 extends y1{constructor(n,e){super(e),this.url=n,mv(this,e)}toString(){return C1(this._root)}}function mv(t,n){n.value._routerState=t,n.children.forEach(e=>mv(t,e))}function C1(t){const n=t.children.length>0?` { ${t.children.map(C1).join(", ")} } `:"";return`${t.value}${n}`}function gv(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Us(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Us(n.params,e.params)||t.params.next(e.params),function A3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Us(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Us(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function yv(t,n){const e=Us(t.params,n.params)&&function N3(t,n){return $l(t,n)&&t.every((e,r)=>Us(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||yv(t.parent,n.parent))}function md(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function X3(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return md(t,r,o);return md(t,r)})}(t,n,e);return new va(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>md(t,a)),s}}const r=function Q3(t){return new _a(new Hi(t.url),new Hi(t.params),new Hi(t.queryParams),new Hi(t.fragment),new Hi(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>md(t,i));return new va(r,o)}}function Up(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gd(t){return"object"==typeof t&&null!=t&&t.outlets}function _v(t,n,e,r,o){let i={};if(r&&Go(r,(a,u)=>{i[u]=Array.isArray(a)?a.map(f=>`${f}`):`${a}`}),t===n)return new Ll(e,i,o);const s=S1(t,n,e);return new Ll(s,i,o)}function S1(t,n,e){const r={};return Go(t.children,(o,i)=>{r[i]=o===n?e:S1(o,n,e)}),new Un(t.segments,r)}class E1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Up(r[0]))throw new P(4003,false);const o=r.find(gd);if(o&&o!==a1(r))throw new P(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wv{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function D1(t,n,e){if(t||(t=new Un([],{})),0===t.segments.length&&t.hasChildren())return Gp(t,n,e);const r=function o$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(gd(a))break;const u=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!M1(u,f,s))return i;r+=2}else{if(!M1(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Un(t.segments.slice(0,r.pathIndex),{});return i.children[Pn]=new Un(t.segments.slice(r.pathIndex),t.children),Gp(i,0,o)}return r.match&&0===o.length?new Un(t.segments,{}):r.match&&!t.hasChildren()?bv(t,n,e):r.match?Gp(t,0,o):bv(t,n,e)}function Gp(t,n,e){if(0===e.length)return new Un(t.segments,{});{const r=function r$(t){return gd(t[0])?t[0].outlets:{[Pn]:t}}(e),o={};return Go(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=D1(t.children[s],n,i))}),Go(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Un(t.segments,o)}}function bv(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(gd(i)){const u=i$(i.outlets);return new Un(r,u)}if(0===o&&Up(e[0])){r.push(new pd(t.segments[n].path,I1(e[0]))),o++;continue}const s=gd(i)?i.outlets[Pn]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Up(a)?(r.push(new pd(s,I1(a))),o+=2):(r.push(new pd(s,{})),o++)}return new Un(r,{})}function i$(t){const n={};return Go(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=bv(new Un([],{}),0,e))}),n}function I1(t){const n={};return Go(t,(e,r)=>n[r]=`${e}`),n}function M1(t,n,e){return t==e.path&&Us(n,e.parameters)}class s${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bl,this.attachRef=null}}class Bl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new s$,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}const zp=!1;let k1=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new yn,this.deactivateEvents=new yn,this.attachEvents=new yn,this.detachEvents=new yn,this.name=o||Pn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,zp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,zp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,zp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new P(4013,zp);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new a$(e,a,o.injector);if(r&&function l$(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(C(Bl),C(oi),yl("name"),C(bt),C(Cl))},t.\u0275dir=De({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class a${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===_a?this.route:n===Bl?this.childContexts:this.parent.get(n,e)}}let T1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&wt(0,"router-outlet")},dependencies:[k1],encapsulation:2}),t})();function x1(t,n){var e;return t.providers&&!t._injector&&(t._injector=Yf(t.providers,n,`Route: ${t.path}`)),null!==(e=t._injector)&&void 0!==e?e:n}function Sv(t){const n=t.children&&t.children.map(Sv),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Pn&&(e.component=T1),e}function as(t){return t.outlet||Pn}function A1(t,n){const e=t.filter(r=>as(r)===n);return e.push(...t.filter(r=>as(r)!==n)),e}function P1(t){var n;if(!t)return null;if(null!==(n=t.routeConfig)&&void 0!==n&&n._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class p${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),gv(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=qc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Go(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=qc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=qc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=qc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new I3(i.value.snapshot))}),n.children.length&&this.forwardEvent(new E3(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(gv(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),gv(u.route.value),this.activateChildRoutes(n,null,a.children)}else{var s;const u=P1(o.snapshot),f=null!==(s=u?.get(oa))&&void 0!==s?s:null;a.attachRef=null,a.route=o,a.resolver=f,a.injector=u,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}function Wp(t){return"function"==typeof t}function Vl(t){return t instanceof Ll}const yd=Symbol("INITIAL_VALUE");function vd(){return xi(t=>XD(t.map(n=>n.pipe(ji(1),JD(yd)))).pipe(e1((n,e)=>{let r=!1;return e.reduce((o,i,s)=>o!==yd?o:(i===yd&&(r=!0),r||!1!==i&&s!==e.length-1&&!Vl(i)?o:i),n)},yd),jo(n=>n!==yd),et(n=>Vl(n)?n:!0===n),ji(1)))}const R1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qp(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...R1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||x3)(e,t,n);if(!i)return{...R1};const s={};Go(i.posParams,(u,f)=>{s[f]=u.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Zp(t,n,e,r,o="corrected"){if(e.length>0&&function b$(t,n,e){return e.some(r=>Yp(t,n,r)&&as(r)!==Pn)}(t,e,r)){const s=new Un(n,function w$(t,n,e,r){const o={};o[Pn]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&as(i)!==Pn){const s=new Un([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[as(i)]=s}return o}(t,n,r,new Un(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function C$(t,n,e){return e.some(r=>Yp(t,n,r))}(t,e,r)){const s=new Un(t.segments,function _$(t,n,e,r,o,i){const s={};for(const a of r)if(Yp(t,e,a)&&!o[as(a)]){const u=new Un([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[as(a)]=u}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new Un(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function Yp(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function F1(t,n,e,r){return!!(as(t)===r||r!==Pn&&Yp(n,e,t))&&("**"===t.path||qp(n,t,e).matched)}function O1(t,n,e){return 0===n.length&&!t.children[e]}const Kp=!1;class Xp{constructor(n){this.segmentGroup=n||null}}class N1{constructor(n){this.urlTree=n}}function _d(t){return zc(new Xp(t))}function L1(t){return zc(new N1(t))}class I${constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=Zp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Un(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Pn).pipe(et(i=>this.createUrlTree(Ev(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Za(i=>{if(i instanceof N1)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Xp?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Pn).pipe(et(o=>this.createUrlTree(Ev(o),n.queryParams,n.fragment))).pipe(Za(o=>{throw o instanceof Xp?this.noMatchError(o):o}))}noMatchError(n){return new P(4002,Kp)}createUrlTree(n,e,r){const o=n.segments.length>0?new Un([],{[Pn]:n}):n;return new Ll(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(et(i=>new Un([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Gn(o).pipe(jc(i=>{const s=r.children[i],a=A1(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(et(u=>({segment:u,outlet:i})))}),e1((i,s)=>(i[s.outlet]=s.segment,i),{}),function m3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?jo((o,i)=>t(o,i,r)):X,ov(1),e?iv(n):t1(()=>new dd))}())}expandSegment(n,e,r,o,i,s){return Gn(r).pipe(jc(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(Za(f=>{if(f instanceof Xp)return vn(null);throw f}))),Ya(a=>!!a),Za((a,u)=>{if(a instanceof dd||"EmptyError"===a.name)return O1(e,o,i)?vn(new Un([],{})):_d(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return F1(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):_d(e):_d(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?L1(i):this.lineralizeSegments(r,i).pipe(zt(s=>{const a=new Un(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:y}=qp(e,o,i);if(!a)return _d(e);const v=this.applyRedirectCommands(u,o.redirectTo,y);return o.redirectTo.startsWith("/")?L1(v):this.lineralizeSegments(o,v).pipe(zt(M=>this.expandSegment(n,e,r,M.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){if("**"===r.path)return n=x1(r,n),r.loadChildren?(r._loadedRoutes?vn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(et(v=>(r._loadedRoutes=v.routes,r._loadedInjector=v.injector,new Un(o,{})))):vn(new Un(o,{}));const{matched:s,consumedSegments:a,remainingSegments:u}=qp(e,r,o);return s?(n=x1(r,n),this.getChildConfig(n,r,o).pipe(zt(y=>{var v;const M=null!==(v=y.injector)&&void 0!==v?v:n,k=y.routes,{segmentGroup:U,slicedSegments:be}=Zp(e,a,u,k),$e=new Un(U.segments,U.children);if(0===be.length&&$e.hasChildren())return this.expandChildren(M,k,$e).pipe(et(rt=>new Un(a,rt)));if(0===k.length&&0===be.length)return vn(new Un(a,{}));const Fe=as(r)===i;return this.expandSegment(M,$e,k,be,Fe?Pn:i,!0).pipe(et(Ue=>new Un(a.concat(Ue.segments),Ue.children)))}))):_d(e)}getChildConfig(n,e,r){return e.children?vn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?vn({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(n,e,r).pipe(zt(o=>o?this.configLoader.loadChildren(n,e).pipe(Uo(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function E$(t){return zc(cv(Kp))}())):vn({routes:[],injector:n})}runCanLoadGuards(n,e,r){const o=e.canLoad;return o&&0!==o.length?vn(o.map(s=>{const a=n.get(s);return Ka(function m$(t){return t&&Wp(t.canLoad)}(a)?a.canLoad(e,r):a(e,r))})).pipe(vd(),Uo(s=>{if(!Vl(s))return;const a=cv(lv+this.urlSerializer.serialize(s));throw a.url=s,a}),et(s=>!0===s)):vn(!0)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return vn(r);if(o.numberOfChildren>1||!o.children[Pn])return zc(new P(4e3,Kp));o=o.children[Pn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new Ll(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Go(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Go(e.children,(a,u)=>{s[u]=this.createSegmentGroup(n,a,r,o)}),new Un(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new P(4001,Kp);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}function Ev(t){const n={};for(const r of Object.keys(t.children)){const i=Ev(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function M$(t){if(1===t.numberOfChildren&&t.children[Pn]){const n=t.children[Pn];return new Un(t.segments.concat(n.segments),n.children)}return t}(new Un(t.segments,n))}class $1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Qp{constructor(n,e){this.component=n,this.route=e}}function T$(t,n,e){const r=t._root;return wd(r,n?n._root:null,e,[r.value])}function Jp(t,n,e){return(P1(n)??e).get(t)}function wd(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=qc(n);return t.children.forEach(s=>{(function A$(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function P$(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!$l(t.url,n.url);case"pathParamsOrQueryParamsChange":return!$l(t.url,n.url)||!Us(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yv(t,n)||!Us(t.queryParams,n.queryParams);default:return!yv(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new $1(r)):(i.data=s.data,i._resolvedData=s._resolvedData),wd(t,n,i.component?a?a.children:null:e,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Qp(a.outlet.component,s))}else s&&bd(n,a,o),o.canActivateChecks.push(new $1(r)),wd(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Go(i,(s,a)=>bd(s,e.getContext(a),o)),o}function bd(t,n,e){const r=qc(t),o=t.value;Go(r,(i,s)=>{bd(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new Qp(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class H${}function B1(t){return new at(n=>n.error(t))}class U${constructor(n,e,r,o,i,s){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const n=Zp(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Pn);if(null===e)return null;const r=new jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new va(r,e),i=new b1(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(n){const e=n.value,r=w1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],a=A1(n,i),u=this.processSegmentGroup(a,s,i);if(null===u)return null;r.push(...u)}const o=V1(r);return function G$(t){t.sort((n,e)=>n.value.outlet===Pn?-1:e.value.outlet===Pn?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,r,o){for(const i of n){const s=this.processSegmentAgainstRoute(i,e,r,o);if(null!==s)return s}return O1(e,r,o)?[]:null}processSegmentAgainstRoute(n,e,r,o){if(n.redirectTo||!F1(n,e,r,o))return null;let i,s=[],a=[];if("**"===n.path){var u,f;const Fe=r.length>0?a1(r).parameters:{},Qe=j1(e)+r.length;i=new jp(r,Fe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G1(n),as(n),null!==(u=null!==(f=n.component)&&void 0!==f?f:n._loadedComponent)&&void 0!==u?u:null,n,H1(e),Qe,z1(n),Qe)}else{var y,v;const Fe=qp(e,n,r);if(!Fe.matched)return null;s=Fe.consumedSegments,a=Fe.remainingSegments;const Qe=j1(e)+s.length;i=new jp(s,Fe.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G1(n),as(n),null!==(y=null!==(v=n.component)&&void 0!==v?v:n._loadedComponent)&&void 0!==y?y:null,n,H1(e),Qe,z1(n),Qe)}const M=function z$(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:k,slicedSegments:U}=Zp(e,s,a,M.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution);if(0===U.length&&k.hasChildren()){const Fe=this.processChildren(M,k);return null===Fe?null:[new va(i,Fe)]}if(0===M.length&&0===U.length)return[new va(i,[])];const be=as(n)===o,$e=this.processSegment(M,k,U,be?Pn:o);return null===$e?null:[new va(i,$e)]}}function W$(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function V1(t){const n=[],e=new Set;for(const r of t){if(!W$(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=V1(r.children);n.push(new va(r.value,o))}return n.filter(r=>!e.has(r))}function H1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function j1(t){var n;let e=t,r=null!==(n=e._segmentIndexShift)&&void 0!==n?n:0;for(;e._sourceSegment;){var o;e=e._sourceSegment,r+=null!==(o=e._segmentIndexShift)&&void 0!==o?o:0}return r-1}function G1(t){return t.data||{}}function z1(t){return t.resolve||{}}const Iv=Symbol("RouteTitle");function W1(t){return"string"==typeof t.title||null===t.title}function Mv(t){return xi(n=>{const e=t(n);return e?Gn(e).pipe(et(()=>n)):vn(n)})}class q1{}class e4 extends class J${shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const kv=new an("ROUTES");let Tv=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return vn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ka(e.loadComponent()).pipe(Uo(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),av(()=>{this.componentLoaders.delete(e)})),o=new rv(r,()=>new W).pipe(nv());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(et(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,y=!1;Array.isArray(a)?f=a:(u=a.create(e).injector,f=s1(u.get(kv,[],Nt.Self|Nt.Optional)));return{routes:f.map(Sv),injector:u}}),av(()=>{this.childrenLoaders.delete(r)})),s=new rv(i,()=>new W).pipe(nv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Ka(e()).pipe(zt(r=>r instanceof CC||Array.isArray(r)?vn(r):Gn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(me(gr),me(Gg))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class n4{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function r4(t){throw t}function o4(t,n,e){return n.parse("/")}const i4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ur=(()=>{class t{constructor(e,r,o,i,s,a,u){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new W,this.errorHandler=r4,this.malformedUriErrorHandler=o4,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vn(void 0),this.urlHandlingStrategy=new n4,this.routeReuseStrategy=new e4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Tv),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new C3(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new b3(M)),this.ngModule=s.get(Va),this.console=s.get(Z2);const v=s.get(it);this.isNgZoneEnabled=v instanceof it&&it.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function P3(){return new Ll(new Un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_1(this.currentUrlTree,this.rootComponentType),this.transitions=new Hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(jo(o=>0!==o.id),et(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xi(o=>{let i=!1,s=!1;return vn(o).pipe(Uo(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xi(a=>{const u=this.browserUrlTree.toString(),f=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return K1(a.source)&&(this.browserUrlTree=a.extractedUrl),vn(a).pipe(xi(v=>{const M=this.transitions.getValue();return r.next(new Op(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),M!==this.transitions.getValue()?nr:Promise.resolve(v)}),function k$(t,n,e,r){return xi(o=>function D$(t,n,e,r,o){return new I$(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(et(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Uo(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects}}),function q$(t,n,e,r,o){return zt(i=>function j$(t,n,e,r,o="emptyOnly",i="legacy"){try{const s=new U$(t,n,e,r,o,i).recognize();return null===s?B1(new H$):vn(s)}catch(s){return B1(s)}}(t,n,i.urlAfterRedirects,e(i.urlAfterRedirects),r,o).pipe(et(s=>({...i,targetSnapshot:s}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),Uo(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(k,v)}this.browserUrlTree=v.urlAfterRedirects}const M=new g3(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);r.next(M)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:k,source:U,restoredState:be,extras:$e}=a,Fe=new Op(M,this.serializeUrl(k),U,be);r.next(Fe);const Qe=_1(k,this.rootComponentType).snapshot;return vn({...a,targetSnapshot:Qe,urlAfterRedirects:k,extras:{...$e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),nr}),Uo(a=>{const u=new y3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),et(a=>({...a,guards:T$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function R$(t,n){return zt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?vn({...e,guardsResult:!0}):function F$(t,n,e,r){return Gn(t).pipe(zt(o=>function V$(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?vn(i.map(a=>{const u=Jp(a,n,o);return Ka(function v$(t){return t&&Wp(t.canDeactivate)}(u)?u.canDeactivate(t,n,e,r):u(t,n,e,r)).pipe(Ya())})).pipe(vd()):vn(!0)}(o.component,o.route,e,n,r)),Ya(o=>!0!==o,!0))}(s,r,o,t).pipe(zt(a=>a&&function h$(t){return"boolean"==typeof t}(a)?function O$(t,n,e,r){return Gn(n).pipe(jc(o=>fd(function L$(t,n){return null!==t&&n&&n(new S3(t)),vn(!0)}(o.route.parent,r),function N$(t,n){return null!==t&&n&&n(new D3(t)),vn(!0)}(o.route,r),function B$(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function x$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Fp(()=>vn(s.guards.map(u=>{const f=Jp(u,s.node,e);return Ka(function y$(t){return t&&Wp(t.canActivateChild)}(f)?f.canActivateChild(r,t):f(r,t)).pipe(Ya())})).pipe(vd())));return vn(i).pipe(vd())}(t,o.path,e),function $$(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return vn(!0);const o=r.map(i=>Fp(()=>{const s=Jp(i,n,e);return Ka(function g$(t){return t&&Wp(t.canActivate)}(s)?s.canActivate(n,t):s(n,t)).pipe(Ya())}));return vn(o).pipe(vd())}(t,o.route,e))),Ya(o=>!0!==o,!0))}(r,i,t,n):vn(a)),et(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Uo(a=>{if(Vl(a.guardsResult)){const f=cv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw f.url=a.guardsResult,f}const u=new v3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),jo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Mv(a=>{if(a.guards.canActivateChecks.length)return vn(a).pipe(Uo(u=>{const f=new _3(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}),xi(u=>{let f=!1;return vn(u).pipe(function Z$(t,n){return zt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return vn(e);let i=0;return Gn(o).pipe(jc(s=>function Y$(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!W1(o)&&(i[Iv]=o.title),function K$(t,n,e,r){const o=function X$(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return vn({});const i={};return Gn(o).pipe(zt(s=>function Q$(t,n,e,r){const o=Jp(t,n,r);return Ka(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,r).pipe(Ya(),Uo(a=>{i[s]=a}))),ov(1),sv(i),Za(s=>s instanceof dd?nr:zc(s)))}(i,t,n,r).pipe(et(s=>(t._resolvedData=s,t.data=w1(t,e).resolve,o&&W1(o)&&(t.data[Iv]=o.title),null)))}(s.route,r,t,n)),Uo(()=>i++),ov(1),zt(s=>i===o.length?vn(e):nr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Uo({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Uo(u=>{const f=new w3(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}))}),Mv(a=>{const u=f=>{var y;const v=[];null!==(y=f.routeConfig)&&void 0!==y&&y.loadComponent&&!f.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(f.routeConfig).pipe(Uo(M=>{f.component=M}),et(()=>{})));for(const M of f.children)v.push(...u(M));return v};return XD(u(a.targetSnapshot.root)).pipe(iv(),ji(1))}),Mv(()=>this.afterPreactivation()),et(a=>{const u=function K3(t,n,e){const r=md(t,n._root,e?e._root:void 0);return new v1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:u}}),Uo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>et(r=>(new p$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Uo({next(){i=!0},complete(){i=!0}}),av(()=>{var a;i||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),Za(a=>{if(s=!0,function T3(t){return t&&t[o1]}(a)){const u=Vl(a.url);u||(this.navigated=!0,this.restoreHistory(o,!0));const f=new Np(o.id,this.serializeUrl(o.extractedUrl),a.message);if(r.next(f),u){const y=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||K1(o.source)};this.scheduleNavigation(y,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const u=new n1(o.id,this.serializeUrl(o.extractedUrl),a);r.next(u);try{o.resolve(this.errorHandler(a))}catch(f){o.reject(f)}}return nr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const i={replaceUrl:!0},s=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(s){const u={...s};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Sv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=o||this.routerState.root,y=u?this.currentUrlTree.fragment:s;let v=null;switch(a){case"merge":v={...this.currentUrlTree.queryParams,...i};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=i||null}return null!==v&&(v=this.removeEmptyProps(v)),function J3(t,n,e,r,o){var i;if(0===e.length)return _v(n.root,n.root,n.root,r,o);const s=function e$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new E1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Go(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new E1(e,n,r)}(e);if(s.toRoot())return _v(n.root,n.root,new Un([],{}),r,o);const u=function a(y){var v;const M=function t$(t,n,e,r){return t.isAbsolute?new wv(n.root,!0,0):-1===r?new wv(e,e===n.root,0):function n$(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new P(4005,!1);o=r.segments.length}return new wv(r,!1,o-i)}(e,r+(Up(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,null===(v=t.snapshot)||void 0===v?void 0:v._urlSegment,y),k=M.processChildren?Gp(M.segmentGroup,M.index,s.commands):D1(M.segmentGroup,M.index,s.commands);return _v(n.root,M.segmentGroup,k,r,o)}(null===(i=t.snapshot)||void 0===i?void 0:i._lastPathIndex);return u}(f,this.currentUrlTree,e,v,y??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Vl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function a4(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new P(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...i4}:!1===r?{...s4}:r,Vl(e))return c1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return c1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Nl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f;s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((U,be)=>{a=U,u=be});const y=++this.navigationId;let v;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(o=this.location.getState()),o&&o.\u0275routerPageId)v=o.\u0275routerPageId;else if(i.replaceUrl||i.skipLocationChange){var M;v=null!==(M=this.browserPageId)&&void 0!==M?M:0}else{var k;v=(null!==(k=this.browserPageId)&&void 0!==k?k:0)+1}else v=0;return this.setTransition({id:y,targetPageId:v,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(U=>Promise.reject(U))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){var o,i;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new Np(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){Um()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function K1(t){return"imperative"!==t}class X1{buildTitle(n){let e,r=n.root;for(;void 0!==r;){var o;e=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:e,r=r.children.find(i=>i.outlet===Pn)}return e}getResolvedTitleForRoute(n){return n.data[Iv]}}let u4=(()=>{class t extends X1{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(me(IE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Q1{}let d4=(()=>{class t{preload(e,r){return r().pipe(Za(()=>vn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J1=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jo(e=>e instanceof Nl),jc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const u of r){var i,s;u.providers&&!u._injector&&(u._injector=Yf(u.providers,e,`Route: ${u.path}`));const f=null!==(i=u._injector)&&void 0!==i?i:e,y=null!==(s=u._loadedInjector)&&void 0!==s?s:f;if(u.loadChildren&&!u._loadedRoutes||u.loadComponent&&!u._loadedComponent)o.push(this.preloadConfig(f,u));else if(u.children||u._loadedRoutes){var a;o.push(this.processRoutes(y,null!==(a=u.children)&&void 0!==a?a:u._loadedRoutes))}}return Gn(o).pipe(eo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):vn(null);const i=o.pipe(zt(s=>{var a;return null===s?vn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return r.loadComponent&&!r._loadedComponent?Gn([i,this.loader.loadComponent(r)]).pipe(eo()):i})}}return t.\u0275fac=function(e){return new(e||t)(me(Ur),me(Gg),me(Cl),me(Q1),me(Tv))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const eI=new an("");let f4=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Op?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof r1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new r1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Um()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Av=new an("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),tI=new an("ROUTER_FORROOT_GUARD"),nI=new an(""),p4=[ed,{provide:dv,useClass:p1},{provide:Ur,useFactory:function _4(t,n,e,r,o,i,s={},a,u,f,y){const v=new Ur(null,t,n,e,r,o,s1(i));return f&&(v.urlHandlingStrategy=f),y&&(v.routeReuseStrategy=y),v.titleStrategy=u??a,function w4(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,v),v},deps:[dv,Bl,ed,gr,Gg,kv,Av,u4,[X1,new Na],[class t4{},new Na],[q1,new Na]]},Bl,{provide:_a,useFactory:function b4(t){return t.routerState.root},deps:[Ur]},Tv];function h4(){return new _S("Router",Ur)}let eh=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[p4,[],rI(e),{provide:tI,useFactory:v4,deps:[[Ur,new Na,new Iu]]},{provide:Av,useValue:r||{}},null!=r&&r.useHash?{provide:Hs,useClass:GS}:{provide:Hs,useClass:US},{provide:eI,useFactory:()=>{const t=vl(Ur),n=vl(eN),e=vl(Av);return e.scrollOffset&&n.setOffset(e.scrollOffset),new f4(t,n,e)}},null!=r&&r.preloadingStrategy?k4(r.preloadingStrategy):[],{provide:_S,multi:!0,useFactory:h4},null!=r&&r.initialNavigation?S4(r):[],[{provide:oI,useFactory:C4},{provide:fS,multi:!0,useExisting:oI}]]}}static forChild(e){return{ngModule:t,providers:[rI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(me(tI,8),me(Ur,8))},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})();function v4(t){return"guarded"}function rI(t){return[{provide:ak,multi:!0,useValue:t},{provide:kv,multi:!0,useValue:t}]}function C4(){const t=vl(gr);return n=>{var e,r;const o=t.get(ja);if(n!==o.components[0])return;const i=t.get(Ur),s=t.get(iI);null===t.get(Pv,null,Nt.Optional)&&i.initialNavigation(),null===(e=t.get(nI,null,Nt.Optional))||void 0===e||e.setUpPreloading(),null===(r=t.get(eI,null,Nt.Optional))||void 0===r||r.init(),i.resetRootComponentType(o.componentTypes[0]),s.next(),s.complete()}}const oI=new an("");function S4(t){return["disabled"===t.initialNavigation?[{provide:kl,multi:!0,useFactory:()=>{const t=vl(Ur);return()=>{t.setUpLocationChangeListener()}}},{provide:Pv,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:Pv,useValue:"enabledBlocking"},{provide:kl,multi:!0,deps:[gr],useFactory:t=>{const n=t.get(OF,Promise.resolve(null));let e=!1;return()=>n.then(()=>new Promise(o=>{const i=t.get(Ur),s=t.get(iI);(function r(o){const i=t.get(Ur);i.events.pipe(jo(s=>s instanceof Nl||s instanceof Np||s instanceof n1),et(s=>{if(s instanceof Nl)return!0;const a=i.navigationId!==s.id,u=s instanceof Np&&-1!==s.reason.indexOf(lv);return!(!a&&!u)&&null}),jo(s=>null!==s),ji(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),i.afterPreactivation=()=>(o(!0),e||s.closed?vn(void 0):s),i.initialNavigation()}))}}]:[]]}const iI=new an("",{factory:()=>new W}),Pv=new an("");function k4(t){return[J1,{provide:nI,useExisting:J1},{provide:Q1,useExisting:t}]}R(5794),R(932),R(2172);var Rv=R(537),Zc=R(9158),Sd=R(4736),Ed=(R(9506),R(9703)),sI=(R(607),R(9479));function lI(t,n=X){return t=t??x4,Re((e,r)=>{let o,i=!0;e.subscribe(tt(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function x4(t,n){return t===n}const P4=Rv.i,Tt=["*"],O4=["outlet"],N4=[[["","slot","top"]],"*"],L4=["[slot=top]","*"],cI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),uI=t=>!!t.resolveComponentFactory;let Dd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",Yc(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Yc(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),Yc(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(ha)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>Yc(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Yc(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=De({type:t,hostBindings:function(e,r){1&e&&ct("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const Yc=t=>{cI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=V4(n);Fv(n,r);const o=n.closest("ion-item");o&&Fv(o,e?[...r,"item-has-value"]:r)})},V4=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&H4(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},Fv=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},H4=(t,n)=>t.substring(0,n.length)===n;let Id=(()=>{class t extends Dd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,Yc(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=De({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleIonChange(i.target)})},features:[pr([{provide:mi,useExisting:t,multi:!0}]),qn]}),t})(),Md=(()=>{class t extends Dd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=De({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[pr([{provide:mi,useExisting:t,multi:!0}]),qn]}),t})(),Hl=(()=>{class t extends Dd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=De({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[pr([{provide:mi,useExisting:t,multi:!0}]),qn]}),t})();const G4=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},z4=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},ir=(t,n,e)=>{e.forEach(r=>t[r]=ud(n,r))};function Dt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&G4(e,o),i&&z4(e,i),e}}let dI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-app"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0})],t),t})(),fI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),Ui=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),Gi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Wi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),ls=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),jl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),qi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),th=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),nh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),rh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),cs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),Ul=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),pI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),Ov=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),oh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),ih=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),kd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),Nv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),hI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),Zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Td=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),Yi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(it))},t.\u0275cmp=ue({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class mI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let sh=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new UB(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(me(it),me(ja))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class UB{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(GB(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const GB=(t,n,e,r,o,i,s,a,u,f,y)=>{let v;const M=gr.create({providers:WB(f),parent:e});if(n&&uI(n)){const $e=n.resolveComponentFactory(u);v=r?r.createComponent($e,r.length,M):$e.create(M)}else{if(!r)return null;v=r.createComponent(u,{index:r.indexOf,injector:M,environmentInjector:n})}const k=v.instance,U=v.location.nativeElement;if(f&&Object.assign(k,f),y)for(const $e of y)U.classList.add($e);const be=gI(t,k,U);return a.appendChild(U),r||o.attachView(v.hostView),v.changeDetectorRef.reattach(),i.set(U,v),s.set(U,be),U},zB=[Sd.L,Sd.a,Sd.b,Sd.c,Sd.d],gI=(t,n,e)=>t.run(()=>{const r=zB.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),yI=new an("NavParamsToken"),WB=t=>[{provide:yI,useValue:t},{provide:mI,useFactory:qB,deps:[yI]}],qB=t=>new mI(t),vI=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),Lv=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},QB=(t,n)=>{if(!t)return;const e=_I(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},_I=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),wI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class JB{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?_I(n):void 0}createView(n,e){var r;const o=Lv(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=gI(this.zone,n.instance,i);return{id:this.nextId++,stackId:QB(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=Lv(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((t,n)=>!n||t.stackId!==n.stackId)(n,u);f&&(i="back",s=void 0);const y=this.views.slice();let v;const M=this.router;M.getCurrentNavigation?v=M.getCurrentNavigation():!(null===(e=M.navigations)||void 0===e)&&e.value&&(v=M.navigations.value),null!==(r=v?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const k=this.views.includes(n),U=this.insertView(n,i);k||n.ref.changeDetectorRef.detectChanges();const be=n.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==be&&(a=be),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,u,s,this.canGoBack(1),!1,a).then(()=>eV(n,U,y,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:f})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const u=s.savedData;if(u){const y=u.get("primary");null!==(o=null===(r=y?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=y.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&bI(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(wI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?vI(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):vI(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,u=e?e.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return Zn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const eV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{bI(t,n,e,r,o),i()})}):Promise.resolve(),bI=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(wI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let CI=(()=>{class t{get(e,r){const o=$v();return o?o.get(e,r):null}getBoolean(e,r){const o=$v();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=$v();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const SI=new an("USERCONFIG"),$v=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let tV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new W,this.keyboardDidShow=new W,this.keyboardDidHide=new W,this.pause=new W,this.resume=new W,this.resize=new W,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Kc(this.pause,e,"pause"),Kc(this.resume,e,"resume"),Kc(this.backButton,e,"ionBackButton"),Kc(this.resize,this.win,"resize"),Kc(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Kc(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,Rv.a)(this.win,e)}platforms(){return(0,Rv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return nV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(me(Eo),me(it))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const nV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Kc=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let xd=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=EI,this.animated=DI,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Op){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return Zn(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=rV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=EI,this.animated=DI,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(me(tV),me(ed),me(dv),me(Ur,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},EI="auto",DI=void 0;class Bv{}let Ad=(()=>{class t{constructor(e,r,o,i,s,a,u,f,y,v,M,k,U,be){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.environmentInjector=u,this.componentFactoryResolver=f,this.parentOutlet=be,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Hi(null),this.stackEvents=new yn,this.activateEvents=new yn,this.deactivateEvents=new yn,this.nativeEl=v.nativeElement,this.name=o||Pn,this.tabsPrefix="true"===i?Lv(M,U):void 0,this.stackCtrl=new JB(this.tabsPrefix,this.nativeEl,M,a,k,y),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,Zc.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const s=i.savedData;s&&(this.getContext().children.contexts=s),this.updateActivatedRouteProxy(o.instance,e)}else{const s=e._futureSnapshot,a=s.routeConfig.component;if(null==a&&s.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Hi(null),y=this.createActivatedRouteProxy(f,e),v=new oV(y,u,this.location.injector);if((r=r||this.componentFactoryResolver)&&uI(r)){const M=r.resolveComponentFactory(a);o=this.activated=this.location.createComponent(M,this.location.length,v)}else o=this.activated=this.location.createComponent(a,{index:this.location.length,injector:v,environmentInjector:r??this.environmentInjector});f.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,y),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(s=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(o.instance),this.stackEvents.emit(s)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new _a;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(jo(o=>!!o),xi(o=>this.currentActivatedRoute$.pipe(jo(i=>null!==i&&i.component===o),xi(i=>i&&i.activatedRoute[r]),lI())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(C(Bl),C(oi),yl("name"),yl("tabs"),C(CI),C(xd),C(Bv,8),C(oa,8),C(ed),C(ut),C(Ur),C(it),C(_a),C(t,12))},t.\u0275dir=De({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class oV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===_a?this.route:n===Bl?this.childContexts:this.parent.get(n,e)}}let II=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new yn,this.ionTabsDidChange=new yn}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(C(xd))},t.\u0275cmp=ue({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function sa(t,n,e,r){const o=Ln();if(o.firstCreatePass){const i=br();GC(o,new HC(n,e,r),i.index),function M2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}UC(o,st(),e)}(o,Nv,5),2&e){let i;Bi(i=Vi())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&Yu(O4,5,Ad),2&e){let o;Bi(o=Vi())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&ct("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:L4,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,r){1&e&&(Et(N4),St(0),_e(1,"div",0)(2,"ion-router-outlet",1,2),ct("stackEvents",function(i){return r.onPageSelected(i)}),de()(),St(4,1))},dependencies:[Ad],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),MI=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(C(Ad,8),C(xd),C(CI))},t.\u0275dir=De({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&ct("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),kI=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),ir(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(ut),C(oa),C(gr),C(sh),C(oi))},t.\u0275dir=De({type:t,selectors:[["ion-nav"]]}),t=pe([Dt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class Pd{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Vv=(()=>{class t extends Pd{constructor(){super(Ed.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xc=(()=>{class t extends Pd{constructor(){super(Ed.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xa=(()=>{class t extends Pd{constructor(){super(Ed.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ws=(()=>{class t extends Pd{constructor(e,r,o,i){super(Ed.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(me(sh),me(oa),me(gr),me(Bv,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Rd=(()=>{class t extends Pd{constructor(e,r,o,i){super(Ed.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(me(sh),me(oa),me(gr),me(Bv,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class dV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const fV=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function A4(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,sI.p)().then(()=>(P4(),(0,sI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:cI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Qa=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:SI,useValue:e},{provide:kl,useFactory:fV,multi:!0,deps:[SI,Eo,it]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[sh,ws,Rd],imports:[[js]]}),t})();class pV extends q{constructor(n,e){super()}schedule(n,e=0){return this}}const ah={setInterval(t,n,...e){const{delegate:r}=ah;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=ah;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},Hv={now:()=>(Hv.delegate||Date).now(),delegate:void 0};class Fd{constructor(n,e=Fd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}Fd.now=Hv.now;const PI=new class mV extends Fd{constructor(n,e=Fd.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class hV extends pV{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return ah.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;ah.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ee(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),gV=PI;function RI(t=0,n,e=gV){let r=-1;return null!=n&&(Wo(n)?e=n:r=n),new at(o=>{let i=function yV(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class vV extends W{constructor(n=1/0,e=1/0,r=Hv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}let Qc={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const CV=/[&<>"']/,SV=/[&<>"']/g,EV=/[<>"']|&(?!#?\w+;)/,DV=/[<>"']|&(?!#?\w+;)/g,IV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OI=t=>IV[t];function Ao(t,n){if(n){if(CV.test(t))return t.replace(SV,OI)}else if(EV.test(t))return t.replace(DV,OI);return t}const MV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function NI(t){return t.replace(MV,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const kV=/(^|[^\[])\^/g;function Sr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(kV,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const TV=/[^\w:]/g,xV=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function LI(t,n,e){if(t){let r;try{r=decodeURIComponent(NI(e)).replace(TV,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!xV.test(e)&&(e=function FV(t,n){lh[" "+t]||(lh[" "+t]=AV.test(t)?t+"/":uh(t,"/",!0));const e=-1===(t=lh[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(PV,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(RV,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const lh={},AV=/^[^:]+:\/*[^/]*$/,PV=/^([^:]+:)[\s\S]*$/,RV=/^([^:]+:\/*[^/]*)[\s\S]*$/,ch={exec:function(){}};function bs(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function $I(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function uh(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function BI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function VI(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function HI(t,n,e,r){const o=n.href,i=n.title?Ao(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Ao(s)}}class jv{constructor(n){this.options=n||Qc}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:uh(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function NV(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=uh(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,u,f,y,v,M,k,U,be=e[1].trim();const $e=be.length>1,Fe={type:"list",raw:"",ordered:$e,start:$e?+be.slice(0,-1):"",loose:!1,items:[]};be=$e?`\\d{1,9}\\${be.slice(-1)}`:`\\${be}`,this.options.pedantic&&(be=$e?be:"[*+-]");const Qe=new RegExp(`^( {0,3}${be})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(U=!1,(e=Qe.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),y=e[2].split("\n",1)[0],v=n.split("\n",1)[0],this.options.pedantic?(s=2,k=y.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,k=y.slice(s),s+=e[1].length),u=!1,!y&&/^ *$/.test(v)&&(r+=v+"\n",n=n.substring(v.length+1),U=!0),!U){const rt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),qt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ln=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Io=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(M=n.split("\n",1)[0],y=M,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ln.test(y)||Io.test(y)||rt.test(y)||qt.test(n)));){if(y.search(/[^ ]/)>=s||!y.trim())k+="\n"+y.slice(s);else{if(u)break;k+="\n"+y}!u&&!y.trim()&&(u=!0),r+=M+"\n",n=n.substring(M.length+1)}}Fe.loose||(f?Fe.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(k),o&&(i="[ ] "!==o[0],k=k.replace(/^\[[ xX]\] +/,""))),Fe.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:k}),Fe.raw+=r}Fe.items[Fe.items.length-1].raw=r.trimRight(),Fe.items[Fe.items.length-1].text=k.trimRight(),Fe.raw=Fe.raw.trimRight();const Ue=Fe.items.length;for(a=0;a<Ue;a++){this.lexer.state.top=!1,Fe.items[a].tokens=this.lexer.blockTokens(Fe.items[a].text,[]);const rt=Fe.items[a].tokens.filter(ln=>"space"===ln.type),qt=rt.every(ln=>{const Io=ln.raw.split("");let Xi=0;for(const Wl of Io)if("\n"===Wl&&(Xi+=1),Xi>1)return!0;return!1});!Fe.loose&&rt.length&&qt&&(Fe.loose=!0,Fe.items[a].loose=!0)}return Fe}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Ao(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:$I(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=$I(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=[],this.lexer.inline(r.header[s].text,r.header[s].tokens);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=[],this.lexer.inline(u[a].text,u[a].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Ao(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Ao(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=uh(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function OV(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const u=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,u).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),HI(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return HI(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,y=0;const v="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=v.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){y+=u;continue}if(f-=u,f>0)continue;if(u=Math.min(u,u+f+y),Math.min(s,u)%2){const k=n.slice(1,s+o.index+u);return{type:"em",raw:n.slice(0,s+o.index+u+1),text:k,tokens:this.lexer.inlineTokens(k,[])}}const M=n.slice(2,s+o.index+u-1);return{type:"strong",raw:n.slice(0,s+o.index+u+1),text:M,tokens:this.lexer.inlineTokens(M,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Ao(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Ao(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Ao(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Ao(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Ao(r[0]),i="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ao(r[0]):r[0]:Ao(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const un={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ch,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};un.def=Sr(un.def).replace("label",un._label).replace("title",un._title).getRegex(),un.bullet=/(?:[*+-]|\d{1,9}[.)])/,un.listItemStart=Sr(/^( *)(bull) */).replace("bull",un.bullet).getRegex(),un.list=Sr(un.list).replace(/bull/g,un.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+un.def.source+")").getRegex(),un._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",un._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,un.html=Sr(un.html,"i").replace("comment",un._comment).replace("tag",un._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),un.paragraph=Sr(un._paragraph).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.blockquote=Sr(un.blockquote).replace("paragraph",un.paragraph).getRegex(),un.normal=bs({},un),un.gfm=bs({},un.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),un.gfm.table=Sr(un.gfm.table).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.gfm.paragraph=Sr(un._paragraph).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",un.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.pedantic=bs({},un.normal,{html:Sr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",un._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ch,paragraph:Sr(un.normal._paragraph).replace("hr",un.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",un.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ht={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ch,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ch,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function LV(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function jI(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}Ht._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ht.punctuation=Sr(Ht.punctuation).replace(/punctuation/g,Ht._punctuation).getRegex(),Ht.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ht.escapedEmSt=/\\\*|\\_/g,Ht._comment=Sr(un._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ht.emStrong.lDelim=Sr(Ht.emStrong.lDelim).replace(/punct/g,Ht._punctuation).getRegex(),Ht.emStrong.rDelimAst=Sr(Ht.emStrong.rDelimAst,"g").replace(/punct/g,Ht._punctuation).getRegex(),Ht.emStrong.rDelimUnd=Sr(Ht.emStrong.rDelimUnd,"g").replace(/punct/g,Ht._punctuation).getRegex(),Ht._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ht._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ht._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ht.autolink=Sr(Ht.autolink).replace("scheme",Ht._scheme).replace("email",Ht._email).getRegex(),Ht._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ht.tag=Sr(Ht.tag).replace("comment",Ht._comment).replace("attribute",Ht._attribute).getRegex(),Ht._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ht._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ht._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ht.link=Sr(Ht.link).replace("label",Ht._label).replace("href",Ht._href).replace("title",Ht._title).getRegex(),Ht.reflink=Sr(Ht.reflink).replace("label",Ht._label).replace("ref",un._label).getRegex(),Ht.nolink=Sr(Ht.nolink).replace("ref",un._label).getRegex(),Ht.reflinkSearch=Sr(Ht.reflinkSearch,"g").replace("reflink",Ht.reflink).replace("nolink",Ht.nolink).getRegex(),Ht.normal=bs({},Ht),Ht.pedantic=bs({},Ht.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",Ht._label).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ht._label).getRegex()}),Ht.gfm=bs({},Ht.normal,{escape:Sr(Ht.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ht.gfm.url=Sr(Ht.gfm.url,"i").replace("email",Ht.gfm._extended_email).getRegex(),Ht.breaks=bs({},Ht.gfm,{br:Sr(Ht.br).replace("{2,}","*").getRegex(),text:Sr(Ht.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ba{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Qc,this.options.tokenizer=this.options.tokenizer||new jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:un.normal,inline:Ht.normal};this.options.pedantic?(e.block=un.pedantic,e.inline=Ht.pedantic):this.options.gfm&&(e.block=un.gfm,e.inline=this.options.breaks?Ht.breaks:Ht.gfm),this.tokenizer.rules=e}static get rules(){return{block:un,inline:Ht}}static lex(n,e){return new ba(e).lex(n)}static lexInline(n,e){return new ba(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(y){f=y.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,i,a,u,f,s=n;if(this.tokens.links){const y=Object.keys(this.tokens.links);if(y.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)y.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+VI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+VI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(y=>!!(r=y.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,jI)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,jI))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let y=1/0;const v=n.slice(1);let M;this.options.extensions.startInline.forEach(function(k){M=k.call({lexer:this},v),"number"==typeof M&&M>=0&&(y=Math.min(y,M))}),y<1/0&&y>=0&&(i=n.substring(0,y+1))}if(r=this.tokenizer.inlineText(i,LV)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const y="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(y);break}throw new Error(y)}}return e}}class Jc{constructor(n){this.options=n||Qc}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Ao(o,!0)+'">'+(r?n:Ao(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Ao(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=LI(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+Ao(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=LI(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class UI{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class GI{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Ca{constructor(n){this.options=n||Qc,this.options.renderer=this.options.renderer||new Jc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new UI,this.slugger=new GI}static parse(n,e){return new Ca(e).parse(n)}static parseInline(n,e){return new Ca(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,u,f,y,v,M,k,U,be,$e,Fe,Qe,Ue,rt,qt,ln,r="";const Io=n.length;for(o=0;o<Io;o++)if(k=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[k.type]&&(ln=this.options.extensions.renderers[k.type].call({parser:this},k),!1!==ln||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(k.type)))r+=ln||"";else switch(k.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(k.tokens),k.depth,NI(this.parseInline(k.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(k.text,k.lang,k.escaped);continue;case"table":for(v="",y="",a=k.header.length,i=0;i<a;i++)y+=this.renderer.tablecell(this.parseInline(k.header[i].tokens),{header:!0,align:k.align[i]});for(v+=this.renderer.tablerow(y),M="",a=k.rows.length,i=0;i<a;i++){for(f=k.rows[i],y="",u=f.length,s=0;s<u;s++)y+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:k.align[s]});M+=this.renderer.tablerow(y)}r+=this.renderer.table(v,M);continue;case"blockquote":M=this.parse(k.tokens),r+=this.renderer.blockquote(M);continue;case"list":for(U=k.ordered,be=k.start,$e=k.loose,a=k.items.length,M="",i=0;i<a;i++)Qe=k.items[i],Ue=Qe.checked,rt=Qe.task,Fe="",Qe.task&&(qt=this.renderer.checkbox(Ue),$e?Qe.tokens.length>0&&"paragraph"===Qe.tokens[0].type?(Qe.tokens[0].text=qt+" "+Qe.tokens[0].text,Qe.tokens[0].tokens&&Qe.tokens[0].tokens.length>0&&"text"===Qe.tokens[0].tokens[0].type&&(Qe.tokens[0].tokens[0].text=qt+" "+Qe.tokens[0].tokens[0].text)):Qe.tokens.unshift({type:"text",text:qt}):Fe+=qt),Fe+=this.parse(Qe.tokens,$e),M+=this.renderer.listitem(Fe,rt,Ue);r+=this.renderer.list(M,U,be);continue;case"html":r+=this.renderer.html(k.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(k.tokens));continue;case"text":for(M=k.tokens?this.parseInline(k.tokens):k.text;o+1<Io&&"text"===n[o+1].type;)k=n[++o],M+="\n"+(k.tokens?this.parseInline(k.tokens):k.text);r+=e?this.renderer.paragraph(M):M;continue;default:{const Xi='Token with "'+k.type+'" type was not found.';if(this.options.silent)return void console.error(Xi);throw new Error(Xi)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function _n(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),BI(n=bs({},_n.defaults,n||{})),e){const r=n.highlight;let o;try{o=ba.lex(t,n)}catch(a){return e(a)}const i=function(a){let u;if(!a)try{n.walkTokens&&_n.walkTokens(o,n.walkTokens),u=Ca.parse(o,n)}catch(f){a=f}return n.highlight=r,a?e(a):e(null,u)};if(!r||r.length<3||(delete n.highlight,!o.length))return i();let s=0;return _n.walkTokens(o,function(a){"code"===a.type&&(s++,setTimeout(()=>{r(a.text,a.lang,function(u,f){if(u)return i(u);null!=f&&f!==a.text&&(a.text=f,a.escaped=!0),s--,0===s&&i()})},0))}),void(0===s&&i())}try{const r=ba.lex(t,n);return n.walkTokens&&_n.walkTokens(r,n.walkTokens),Ca.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Ao(r.message+"",!0)+"</pre>";throw r}}_n.options=_n.setOptions=function(t){return bs(_n.defaults,t),function bV(t){Qc=t}(_n.defaults),_n},_n.getDefaults=function FI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},_n.defaults=Qc,_n.use=function(...t){const n=bs({},...t),e=_n.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers?e.renderers[i.name]:null;e.renderers[i.name]=s?function(...a){let u=i.renderer.apply(this,a);return!1===u&&(u=s.apply(this,a)),u}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)})),o.renderer){const i=_n.defaults.renderer||new Jc;for(const s in o.renderer){const a=i[s];i[s]=(...u)=>{let f=o.renderer[s].apply(i,u);return!1===f&&(f=a.apply(i,u)),f}}n.renderer=i}if(o.tokenizer){const i=_n.defaults.tokenizer||new jv;for(const s in o.tokenizer){const a=i[s];i[s]=(...u)=>{let f=o.tokenizer[s].apply(i,u);return!1===f&&(f=a.apply(i,u)),f}}n.tokenizer=i}if(o.walkTokens){const i=_n.defaults.walkTokens;n.walkTokens=function(s){o.walkTokens.call(this,s),i&&i.call(this,s)}}r&&(n.extensions=e),_n.setOptions(n)})},_n.walkTokens=function(t,n){for(const e of t)switch(n.call(_n,e),e.type){case"table":for(const r of e.header)_n.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)_n.walkTokens(o.tokens,n);break;case"list":_n.walkTokens(e.items,n);break;default:_n.defaults.extensions&&_n.defaults.extensions.childTokens&&_n.defaults.extensions.childTokens[e.type]?_n.defaults.extensions.childTokens[e.type].forEach(function(r){_n.walkTokens(e[r],n)}):e.tokens&&_n.walkTokens(e.tokens,n)}},_n.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");BI(n=bs({},_n.defaults,n||{}));try{const e=ba.lexInline(t,n);return n.walkTokens&&_n.walkTokens(e,n.walkTokens),Ca.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Ao(e.message+"",!0)+"</pre>";throw e}},_n.Parser=Ca,_n.parser=Ca.parse,_n.Renderer=Jc,_n.TextRenderer=UI,_n.Lexer=ba,_n.lexer=ba.lex,_n.Tokenizer=jv,_n.Slugger=GI,_n.parse=_n;const $V=["*"];let Uv=(()=>{class t{constructor(){this._buttonClick$=new W,this.copied$=this._buttonClick$.pipe(xi(()=>Zo(vn(!0),RI(3e3).pipe(sv(!1)))),lI(),function _V(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,_i({connector:()=>new vV(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(JD(!1),et(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(_e(0,"button",0),ct("click",function(){return r.onCopyToClipboardClick()}),Il(1,"async"),nt(2),Il(3,"async"),de()),2&e&&(Ba("copied",Ml(1,3,r.copied$)),mt(2),gs(Ml(3,5,r.copiedText$)))},dependencies:[sE],encapsulation:2,changeDetection:0}),t})();class HV{}var Od=(()=>{return(t=Od||(Od={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",Od;var t})();class zI{}const WI=new an("SECURITY_CONTEXT");let Gv=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new Jc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new W,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:u=this.options}=r;a&&(this.renderer=this.extendRenderer(u.renderer||new Jc));const f=this.trimIndentation(e),y=o?this.decodeHtml(f):f,v=s?this.parseEmoji(y):y,M=this.parseMarked(v,u,i);return this.sanitizer.sanitize(this.securityContext,M)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:y}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...y}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(et(r=>this.handleExtension(e,r)))}highlight(e){if(!fa(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!fa(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return fa(this.platform)?o?_n.parseInline(e,r):_n.parse(e,r):e}parseEmoji(e){if(!fa(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(fa(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!fa(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),y=document.createElement("div");y.style.position="relative",f.parentNode.insertBefore(y,f),y.appendChild(f);const v=document.createElement("div");let M,k;v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.opacity="0",v.style.transition="opacity 250ms ease-out",y.insertAdjacentElement("beforeend",v),f.onmouseover=()=>v.style.opacity="1",f.onmouseout=()=>v.style.opacity="0",M=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Uv).hostView,M.rootNodes.forEach(U=>{U.onmouseover=()=>v.style.opacity="1",v.appendChild(U),k=new ClipboardJS(U,{text:()=>f.innerText})}),M.onDestroy(()=>k.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!fa(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(me(Bc),me(WI),me(xy,8),me(HV,8),me(zI,8),me(Dy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),zv=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new yn,this.load=new yn,this.ready=new yn,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new W}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function wV(t){return Re((n,e)=>{S(t).subscribe(tt(e,()=>e.complete(),$)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Od.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Od.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(C(ut),C(Gv),C(oi))},t.\u0275cmp=ue({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[bo],ngContentSelectors:$V,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2}),t})(),Wv=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Gv,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:WI,useValue:e&&null!=e.sanitize?e.sanitize:Cr.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js]}),t})();var qI;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(qI||(qI={}));var Ee=R(3918);window;const ZI=!navigator.userAgent.match(/(crios)|(fxios)/i),Gs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,YI=!!navigator.userAgent.match(/android/i);var Ja=(()=>{return(t=Ja||(Ja={})).web="web",t.pwa="pwa",t.twa="twa",Ja;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const XV=new Error("request for lock canceled");var KI=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(v){s(v)}}function u(y){try{f(r.throw(y))}catch(v){s(v)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,u)}f((r=r.apply(t,n||[])).next())})};class QV{constructor(n,e=XV){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return KI(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return KI(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class Cs{constructor(n){this._semaphore=new QV(1,n)}acquire(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(v){s(v)}}function u(y){try{f(r.throw(y))}catch(v){s(v)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,u)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[,n]=yield this._semaphore.acquire();return n})}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const dh="cloudpilot-session-preview";function QI(){localStorage.removeItem(dh)}let Sa=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),si=(()=>{class t{constructor(e,r){this.alertController=e,this.emulationState=r,this.emergencySaveEvent=new To.j}errorMessage(e){var r=this;return(0,Ee.Z)(function*(){yield(yield r.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,r,o={},i="Close"){var s=this;return(0,Ee.Z)(function*(){const a=yield s.alertController.create({header:e,message:r,backdropDismiss:!1,buttons:[...Object.keys(o).map(u=>({text:u,handler:()=>{o[u](),a.dismiss()}})),{text:i,role:"cancel"}]});yield a.present(),yield a.onDidDismiss()})()}updateAvailable(){var e=this;return(0,Ee.Z)(function*(){yield(yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]})).present()})()}fatalError(e,r=!0){var o=this;return(0,Ee.Z)(function*(){const i=!!o.emulationState.getCurrentSession();yield(yield o.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&r?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...i&&r?[{text:"Save image",handler:()=>(o.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"})).present()})()}errorInNativeCode(e){var r=this;return(0,Ee.Z)(function*(){yield(yield r.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]})).present()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}return t.\u0275fac=function(e){return new(e||t)(me(Xc),me(Sa))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gl=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&QI(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new To.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(me(si),me(it))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gr=(()=>{return(t=Gr||(Gr={})).cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",Gr;var t})();let eu=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Gr.none}claim(e,r){this.assertOwnership(e,Gr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=`Card is already claimed for ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)(me(Gl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tl="session",tu="rom",nl="memory",Ea="state",fh="kvs",rl="memory-meta",zs="storage",Ki="storage-card",Nd="lock";class nu extends Error{constructor(n){super(n)}}function Wn(t){return new Promise((n,e)=>{!function iH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new nu(t.error?.message))})}function eM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function sH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const ph="session",Zv="memory",lH="memory-meta",cH="storage",nM="storage-meta",rM="storage-card",dH="storageId";function Yv(){return(Yv=(0,Ee.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(ph).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+e(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Kv(){return(Kv=(0,Ee.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function Xv(){return(Xv=(0,Ee.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(lH,{keyPath:"sessionId"});t.createObjectStore(cH),t.createObjectStore(nM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(ph).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(e.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Qv(){return(Qv=(0,Ee.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(nM).name=rM})).apply(this,arguments)}function Jv(){return(Jv=(0,Ee.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(rM).createIndex(dH,"storageId")})).apply(this,arguments)}function e_(){return(e_=(0,Ee.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var wH=R(5023),bH=R.n(wH);const oM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let hh;const CH=new Uint8Array(16);function SH(){if(!hh&&(hh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!hh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hh(CH)}const zo=[];for(let t=0;t<256;++t)zo.push((t+256).toString(16).slice(1));const t_=function EH(t,n,e){if(oM.randomUUID&&!n&&!t)return oM.randomUUID();const r=(t=t||{}).random||(t.rng||SH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function iM(t,n=0){return(zo[t[n+0]]+zo[t[n+1]]+zo[t[n+2]]+zo[t[n+3]]+"-"+zo[t[n+4]]+zo[t[n+5]]+"-"+zo[t[n+6]]+zo[t[n+7]]+"-"+zo[t[n+8]]+zo[t[n+9]]+"-"+zo[t[n+10]]+zo[t[n+11]]+zo[t[n+12]]+zo[t[n+13]]+zo[t[n+14]]+zo[t[n+15]]).toLowerCase()}(r)},n_=new Error("page lock lost"),sM=new Error("version mismatch"),aM=t_();function Xr(){return(t,n,e)=>{const r=e.value;return e.value=(0,Ee.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof nu?o.fatalIDBDead():i===sM?o.fatalVersionMismatch():i===n_?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class On{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(nl),u=o.objectStore(rl),f=new Uint32Array(256),y=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const M=s.length>>>10;for(let k=0;k<M;k++){y.set(s.subarray(1024*k,1024*(k+1)));const U=eM(f);if("number"==typeof U)a.put(U,[i,k]);else{const be=new Uint32Array(256);be.set(U),a.put(be,[i,k])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,Ee.Z)(function*(){const s=o.objectStore(rl),a=yield Wn(s.get(i));if(a)return new Promise(function(){var u=(0,Ee.Z)(function*(f,y){const v=o.objectStore(nl),M=new Uint32Array(a.totalSize>>>2),k=v.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));k.onsuccess=()=>{const U=k.result;if(!U)return f(new Uint8Array(M.buffer));const be=U.value,[,$e]=U.key;"number"==typeof be?M.subarray(256*$e,256*($e+1)).fill(be|be<<8|be<<16|be<<24):M.subarray(256*$e,256*($e+1)).set(1024===be.length?new Uint32Array(be.buffer):be),U.continue()},k.onerror=()=>y(new nu(k.error?.message))});return function(f,y){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new To.j,this.storageCardChangeEvent=new To.j,this.sessionUpdateMutex=new Cs,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,Ee.Z)(function*(){const s=bH()(e),a=yield i.newTransaction(tl,tu,Ea,nl,rl),u=a.objectStore(tl),f=a.objectStore(tu);(yield Wn(f.get(s)))||f.put(e,s);const{id:v,...M}=n,k=yield Wn(u.add({...M,rom:s})),U=yield Wn(u.get(k));return r&&i.saveMemory(a,U.id,r),o&&i.saveState(a,U.id,o),yield Wn(a),U})()}getAllSessions(){var n=this;return(0,Ee.Z)(function*(){const[e]=yield n.prepareObjectStore(tl);return yield Wn(e.getAll())})()}getSession(n){var e=this;return(0,Ee.Z)(function*(){const[r]=yield e.prepareObjectStore(tl);return yield Wn(r.get(n))})()}deleteSession(n){var e=this;return(0,Ee.Z)(function*(){const r=yield e.newTransaction(tl,tu,Ea,nl,rl),o=r.objectStore(tl),i=r.objectStore(tu);(n=yield Wn(o.get(n.id)))&&(o.delete(n.id),0===(yield Wn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield Wn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,Ee.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=e,[f,y]=yield r.prepareObjectStore(tl),v=yield Wn(f.get(n));if(!v)throw new Error(`no session with id ${n}`);const M={...v,...u};f.put(M),yield Wn(y),r.sessionChangeEvent.dispatch([v.id,M])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,Ee.Z)(function*(){const[r,o]=yield e.prepareObjectStore(tl),i=yield Wn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield Wn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,Ee.Z)(function*(){const r=yield e.newTransaction(tu,Ea,nl,rl),o=r.objectStore(tu);return[yield Wn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,Ee.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Ea);r.delete(n.id),yield Wn(o)})()}addEmptyStorageCard(n){var e=this;return(0,Ee.Z)(function*(){const[r]=yield e.prepareObjectStore(Ki),o=yield Wn(r.add(n)),i=yield Wn(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,Ee.Z)(function*(){return r.ngZone.runOutsideAngular((0,Ee.Z)(function*(){const o=yield r.newTransaction(Ki,zs),i=o.objectStore(Ki),s=o.objectStore(zs),a=yield Wn(i.add(n)),u=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let v=0;v<u;v++){const M=e.subarray(2048*v,2048*(v+1));v===u-1&&f.set(M);const k=sH(v===u-1?f:M);0!==k&&s.put("number"==typeof k?k:k?.slice(),[a,v])}const y=yield Wn(i.get(a));return yield Wn(o),r.storageCardChangeEvent.dispatch(y.id),y}))})()}getAllStorageCards(){var n=this;return(0,Ee.Z)(function*(){const[e]=yield n.prepareObjectStore(Ki);return Wn(e.getAll())})()}getCard(n){var e=this;return(0,Ee.Z)(function*(){const[r]=yield e.prepareObjectStore(Ki);return Wn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,Ee.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[u,f]=yield r.prepareObjectStore(Ki),y=yield Wn(u.get(n));if(!y)throw new Error(`no card with id ${n}`);const v={...y,...a};u.put(v),yield Wn(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,Ee.Z)(function*(){const r=yield e.newTransaction(Ki,zs);e.storageCardContext.assertOwnership(n,Gr.none);const o=r.objectStore(Ki),i=r.objectStore(zs);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield Wn(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,Ee.Z)(function*(){const i=yield o.newTransaction(Ki,zs);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(zs);yield new Promise(function(){var a=(0,Ee.Z)(function*(u,f){const y=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));y.onsuccess=()=>{const v=y.result;if(!v)return u();let M=v.value;const[,k]=v.key;"number"==typeof M?e.subarray(2048*k,2048*(k+1)).fill(M):(2048*(k+1)>e.length&&(M=M.subarray(0,2048-2048*(k+1)+e.length)),e.subarray(2048*k,2048*(k+1)).set(M)),v.continue()},y.onerror=()=>f(new nu(y.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,Ee.Z)(function*(){const s=yield i.newTransaction(Ki,zs);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(Ki),u=s.objectStore(zs),f=yield Wn(a.get(n));if(!f)throw new Error(`no card with ID ${n}`);if(e.length!==f.size>>>2)throw new Error("data size mismatch");const y=(f.size>>>13)+(f.size%8192>0?1:0);if((y>>>3)+(y%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let v=0;for(let M=0;M<r.length;M++)for(let k=1;k<256&&!(v>=y);k<<=1)r[M]&k&&u.put(e.subarray(2048*v,2048*(v+1)).slice(),[f.id,v]),v++;yield Wn(s)}))}kvsGet(n){var e=this;return(0,Ee.Z)(function*(){const[r]=yield e.prepareObjectStore(fh);return Wn(r.get(n))})()}kvsSet(n){var e=this;return(0,Ee.Z)(function*(){const[r,o]=yield e.prepareObjectStore(fh);for(const i of Object.keys(n))r.put(n[i],i);yield Wn(o)})()}kvsLoad(){var n=this;return(0,Ee.Z)(function*(){const[e]=yield n.prepareObjectStore(fh);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new nu(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,Ee.Z)(function*(){const[r,o]=yield e.prepareObjectStore(fh);r.delete(n),yield Wn(o)})()}acquireLock(n){var e=this;return(0,Ee.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Wn(n.objectStore(Nd).get(0)))!==aM)throw n.abort(),n.db.close(),n_})()}newTransaction(...n){var e=this;return(0,Ee.Z)(function*(){const r=(yield e.db).transaction([Nd,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,Ee.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Ea);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Ea).delete(e)}loadState(n,e){return Wn(n.objectStore(Ea).get(e))}deleteMemory(n,e){const r=n.objectStore(nl),o=n.objectStore(rl);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,Ee.Z)(function*(){const e=n.transaction(Nd,"readwrite");yield Wn(e.objectStore(Nd).put(aM,0))})()}setupDb(){var n=this;return(0,Ee.Z)(function*(){const e=setTimeout(()=>Gs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw sM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new nu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,Ee.Z)(function*(u){clearTimeout(e),u.oldVersion<1&&function fH(t){t.createObjectStore(ph,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),u.oldVersion<2&&function pH(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(Zv)&&t.deleteObjectStore(Zv),n.objectStore(ph).clear(),t.createObjectStore("rom"),t.createObjectStore(Zv),t.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function hH(t,n){return Yv.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function mH(t,n){return Kv.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function gH(t,n){return Xv.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function yH(t,n){return Qv.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function vH(t,n){return Jv.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function _H(t,n){return e_.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,Ee.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}On.\u0275fac=function(n){return new(n||On)(me(it),me(Gl),me(eu))},On.\u0275prov=ft({token:On,factory:On.\u0275fac,providedIn:"root"}),pe([Xr()],On.prototype,"addSession",null),pe([Xr()],On.prototype,"getAllSessions",null),pe([Xr()],On.prototype,"getSession",null),pe([Xr()],On.prototype,"deleteSession",null),pe([Xr()],On.prototype,"updateSessionPartial",null),pe([Xr()],On.prototype,"updateSession",null),pe([Xr()],On.prototype,"loadSession",null),pe([Xr()],On.prototype,"deleteStateForSession",null),pe([Xr()],On.prototype,"addEmptyStorageCard",null),pe([Xr()],On.prototype,"importStorageCard",null),pe([Xr()],On.prototype,"getAllStorageCards",null),pe([Xr()],On.prototype,"getCard",null),pe([Xr()],On.prototype,"updateStorageCardPartial",null),pe([Xr()],On.prototype,"deleteStorageCard",null),pe([Xr()],On.prototype,"loadCardData",null),pe([Xr()],On.prototype,"kvsGet",null),pe([Xr()],On.prototype,"kvsSet",null),pe([Xr()],On.prototype,"kvsDelete",null),pe([Xr()],On.prototype,"newTransaction",null),pe([Xr()],On.prototype,"prepareObjectStore",null),pe([Xr()],On.prototype,"initializeLock",null),pe([Xr()],On.prototype,"setupDb",null);const lM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Ai=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,Ee.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new To.j,this.mutex=new Cs,this.storageMutex=new Cs,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,Ee.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,Ee.Z)(function*(){const r=e;try{const o={...lM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...lM}}})()}}return t.\u0275fac=function(e){return new(e||t)(me(On))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,Ee.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Gs||YI)&&this.installationMode===Ja.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return Gs&&ZI?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Gs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Gs&&ZI?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Gs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Ja.pwa:document.referrer.startsWith("android-app://")?Ja.twa:window.matchMedia("(display-mode: standalone)").matches?Ja.pwa:Ja.web}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(si))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PH(t,n){1&t&&(_e(0,"div",6),wt(1,"ion-spinner"),de())}let Ld=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(C(ws))},t.\u0275cmp=ue({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.modalController.dismiss()}),nt(6,"Close"),de()()()(),_e(7,"ion-content",3),wn(8,PH,2,0,"div",4),_e(9,"markdown",5),ct("load",function(){return r.loading=!1}),de()()),2&e&&(mt(3),gs(r.title),mt(5),gt("ngIf",r.loading),mt(1),gt("src",r.url))},dependencies:[Ho,zv,Ui,Gi,zi,Wi,kd,Yi,Zi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const zl="1.7.9-b824fec (preview)";var mh=R(9897);let $d=null;const gh=(t=t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:y,timerType:v}}=f;if("interval"===v){const M=n.get(y);if("number"==typeof M){const k=r.get(M);if(void 0===k||k.timerId!==y||k.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof M<"u"))throw new Error("The timer is in an undefined state.");M()}}else if("timeout"===v){const M=e.get(y);if("number"==typeof M){const k=r.get(M);if(void 0===k||k.timerId!==y||k.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof M<"u"))throw new Error("The timer is in an undefined state.");M(),e.delete(y)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:y}}=f;throw new Error(y)}{const{id:y}=f,v=r.get(y);if(void 0===v)throw new Error("The timer is in an undefined state.");const{timerId:M,timerType:k}=v;r.delete(y),"interval"===k?n.delete(M):e.delete(M)}}}),{clearInterval:f=>{const y=(0,mh.generateUniqueNumber)(r);r.set(y,{timerId:f,timerType:"interval"}),n.set(f,y),o.postMessage({id:y,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const y=(0,mh.generateUniqueNumber)(r);r.set(y,{timerId:f,timerType:"timeout"}),e.set(f,y),o.postMessage({id:y,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,y)=>{const v=(0,mh.generateUniqueNumber)(n);return n.set(v,()=>{f(),"function"==typeof n.get(v)&&o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:v,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:v,timerType:"interval"}}),v},setTimeout:(f,y)=>{const v=(0,mh.generateUniqueNumber)(e);return e.set(v,f),o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:v,timerType:"timeout"}}),v}}},()=>{if(null!==$d)return $d;const e=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(e);return $d=t(r),$d.setTimeout(()=>URL.revokeObjectURL(r),0),$d});var t,ol=(()=>(function(t){t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout"}(ol||(ol={})),ol))();class dM{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ol.animationFrame}}class BH{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>gh().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){void 0!==this.handle&&((t=>{gh().clearTimeout(t)})(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ol.timeout}}const VH=[135,135,105],HH=[0,0,0],il=new Array(16).fill(0).map((t,n)=>HH.map((e,r)=>Math.floor((n*e+(15-n)*VH[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),r_=il.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var se=(()=>(function(t){t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70"}(se||(se={})),se))(),sl=(()=>(function(t){t.sdcard="sdcard",t.memorystick="memorystick",t.none="none"}(sl||(sl={})),sl))();function Bd(t){switch(t){case se.i710:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case se.handera330:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case se.pegS300:case se.pegS320:case se.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case se.pegT600c:case se.pegT400:case se.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case se.pegN600c:case se.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case se.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function o_(t){switch(t){case se.pilot:case se.palmPilot:case se.iii:case se.palmV:case se.palmVx:case se.iiix:case se.iiixe:case se.iiie:case se.m100:case se.m105:case se.m125:case se.m500:case se.palmVII:case se.palmVIIEZ:case se.palmVIIx:case se.i705:case se.handera330:case se.pegS300:case se.pegS320:case se.pegT400:return!1;default:return!0}}function fM(t){switch(t){case se.pilot:return"Pilot";case se.palmPilot:return"Palm Pilot";case se.iii:return"Palm III";case se.m500:return"Palm m500";case se.m505:return"Palm m505";case se.m515:return"Palm m515";case se.palmVx:return"Palm Vx";case se.iiix:return"Palm IIIx";case se.iiixe:return"Palm IIIxe";case se.iiie:return"Palm IIIe";case se.palmV:return"Palm V";case se.palmVII:return"Palm VII";case se.palmVIIEZ:return"Palm VII EZ";case se.palmVIIx:return"Palm VIIx";case se.iiic:return"Palm IIIc";case se.m100:return"Palm m100";case se.m105:return"Palm m105";case se.m125:return"Palm m125";case se.m130:return"Palm m130";case se.i705:return"Palm i705";case se.i710:return"Tungsten W";case se.handera330:return"Handera 330";case se.pegS300:return"Sony PEG-S300";case se.pegS320:return"Sony PEG-S320";case se.pegT400:return"Sony PEG-T400 series";case se.pegN600c:return"Sony PEG-N600C series";case se.pegT600c:return"Sony PEG-T600C series";case se.pegN700c:return"Sony PEG-N700C series";case se.pegT650c:return"Sony PEG-T650C series";case se.pegNR70:return"Sony PEG-NR70 series";case se.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function pM(t){switch(t){case se.m500:case se.m505:case se.m515:case se.m125:case se.m130:case se.i705:case se.i710:case se.handera330:return sl.sdcard;case se.pegS300:case se.pegS500c:case se.pegS320:case se.pegT400:case se.pegN600c:case se.pegT600c:case se.pegN700c:case se.pegT650c:case se.pegNR70:return sl.memorystick;default:return sl.none}}class hM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class GH{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const ej=new Error("transaction timeout"),gM=new Error("session does not match emulation");let Vd=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.ngZone=s,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Ee.Z)(function*(){try{yield a.triggerSnapshotUnguarded()}finally{a.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new To.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,Ee.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,Ee.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===gM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===n_)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,Ee.Z)(function*(){const r=e.db.transaction([nl,rl,Ea,zs,Ki,Nd],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw gM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield Wn(r.objectStore(Ki).index("storageId").get(i)));const s=yield new Promise((a,u)=>{let f=!1;const y=performance.now();let v=0,M=0,k=0;const U=setTimeout(()=>{f=!0;try{r.abort()}catch{}u(ej)},6e3);r.oncomplete=()=>{clearTimeout(U),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:k,timeBlocking:M-v,timeTotal:performance.now()-y})},r.onerror=()=>{clearTimeout(U),u(new Error(r.error?.message))};try{v=performance.now(),k=e.saveDirtyMemory(r),o&&(k+=e.saveDirtyStorage(o,r)),e.saveSession(r),M=performance.now()}catch(be){throw f||(clearTimeout(U),r.abort()),be}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(nl),i=e.objectStore(rl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const y=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(y);for(let v=0;v<y;v++)this.pages[v]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let y=0;y<s.length;y++)if(this.dirtyPages[y]|=s[y],s[y]=0,0!==this.dirtyPages[y])for(let v=1;v<256&&!(r>=this.pages.length);v<<=1){if(this.dirtyPages[y]&v){const M=eM(a.subarray(256*r,256*(r+1)));"number"==typeof M?o.put(M,[this.sessionId,r]):(this.pages[r].set(M),o.put(this.pages[r],[this.sessionId,r])),u++}r++}else r+=8;return u}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Gr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=r.objectStore(zs),y=(i.length>>11)+(i.length%2048>0?1:0);for(let v=0;v<o.length;v++)if(this.cardDirtyPages[v]|=o[v],o[v]=0,0!==this.cardDirtyPages[v])for(let M=1;M<256&&!(s>=y);M<<=1){if(this.cardDirtyPages[v]&M){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const k=this.cardPagePool[a++];k.set(i.subarray(2048*s,2048*(s+1))),f.put(k,[e.id,s]),u++}s++}else s+=8;return 8*u}saveSession(e){const r=e.objectStore(Ea);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(Sa),me(Gl),me(eu),me(it))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tj(t,n){1&t&&(_e(0,"p",11),nt(1," ERROR: URL must be served via HTTPS. "),de())}function nj(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(Hc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let rj=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Hc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(Hc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new kp({url:new xo("",nj)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3,"Enter download URL"),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.continue()}),nt(6,"OK"),de()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),nt(9,"Cancel"),de()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown",function(i){return r.formKeyDown(i)}),_e(12,"p"),nt(13," Please enter the URL from which to download: "),de(),_e(14,"ion-item",7)(15,"ion-label",8),nt(16,"URL"),de(),wt(17,"ion-input",9),de(),wn(18,tj,2,0,"p",10),_e(19,"p"),nt(20," Note that the remote server needs to support the CORS protocol. "),de()()()),2&e&&(mt(5),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(7),gt("ngIf",r.isMixedContent))},dependencies:[Ho,Ui,Gi,zi,Wi,jl,qi,cs,Yi,Zi,Hl,Rl,Al,Pl,ga,qa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function i_(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function yM(t){return`${i_(t.name)}.bin`}function vM(t,n){return`backup_${i_(t.name)}${n?"_with_rom":""}.zip`}function s_(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function _M(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let oj=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new kp({username:new xo(e?.username??""),password:new xo(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(C(Ai))},t.\u0275cmp=ue({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3,"Authenticate"),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.saveAndContinue()}),nt(6,"OK"),de()(),_e(7,"ion-buttons",3)(8,"ion-button",2),ct("click",function(){return r.onCancel()}),nt(9,"Cancel"),de()()()(),_e(10,"ion-content",4)(11,"form",5),ct("keydown",function(i){return r.formKeyDown(i)}),_e(12,"p"),nt(13," The server requires authentication. "),de(),_e(14,"ion-item",6)(15,"ion-label",7),nt(16,"Username"),de(),wt(17,"ion-input",8),de(),_e(18,"ion-item",6)(19,"ion-label",7),nt(20,"Password"),de(),wt(21,"ion-input",9),de()()()),2&e&&(mt(11),gt("formGroup",r.formGroup))},dependencies:[Ui,Gi,zi,Wi,jl,qi,cs,Yi,Zi,Hl,Rl,Al,Pl,ga,qa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),wM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,Ee.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(Hc())("string"==typeof e?e:e.url);let u,f,y=!1;for(;;)try{void 0!==i&&i>=0&&!u&&(u=yield o.loadingController.create({message:"Loading..."}),f=window.setTimeout(()=>u.present(),i));const v=o.kvsService.kvs.credentials[a.origin],M=new AbortController,k=window.setTimeout(()=>M.abort(),s),U=yield fetch(e,{...o.requestInit(r),signal:M.signal,headers:{...r?.headers||{},...y&&v?{Authorization:"Basic "+btoa(`${v.username}:${v.password}`)}:{}}});if(clearTimeout(k),401===U.status){if(!y&&v){y=!0;continue}if(u&&(u.dismiss(),clearTimeout(f),i=0,u=void 0),y=!0,yield o.authenticate(a.origin))continue}return U}finally{u&&(yield u.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,Ee.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:oj,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(me(Xa),me(Ai),me(ws))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var sj=R(3272),aj=R.n(sj);const bM=[se.palmPilot,se.pilot,se.iii,se.palmVx,se.palmV,se.palmVII,se.palmVIIEZ,se.palmVIIx,se.iiixe,se.iiix,se.iiie,se.m500,se.m505,se.m515,se.iiic,se.m100,se.m105,se.m125,se.m130,se.i705,se.i710,se.handera330,se.pegS300,se.pegS320,se.pegS500c,se.pegT400,se.pegN600c,se.pegT600c,se.pegN700c,se.pegT650c,se.pegNR70];function Gt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Bt{constructor(n){this.module=n,this.fatalErrorEvent=new To.j,this.pwmUpdateEvent=new To.j,this.proxyDisconnectEvent=new To.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,Ee.Z)(function*(){return new Bt(yield aj()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:bM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,Ee.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,Ee.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,u=0;if(void 0!==n.metadata){const y=(new TextEncoder).encode(JSON.stringify(n.metadata));u=y.length,a=this.copyIn(y)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,u);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(y=>this.cloudpilot.Free(y)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),u=e.GetDeviceId();if(!bM.includes(u))return void console.warn(`unsupported device ${u}`);let f;const y=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(y)try{f=JSON.parse((new TextDecoder).decode(y))}catch(v){console.warn("invalid metadata",v)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=this.cloudpilot.GetCardSize(n),o=(r>>>13)+(r%8192>0?1:0);return this.module.HEAPU8.subarray(e,e+((o>>>3)+(o%8>0?1:0)))}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}pe([Gt()],Bt.prototype,"getRomInfo",null),pe([Gt()],Bt.prototype,"initializeSession",null),pe([Gt()],Bt.prototype,"cyclesPerSecond",null),pe([Gt()],Bt.prototype,"runEmulation",null),pe([Gt()],Bt.prototype,"getFrame",null),pe([Gt()],Bt.prototype,"isScreenDirty",null),pe([Gt()],Bt.prototype,"markScreenClean",null),pe([Gt()],Bt.prototype,"minRamForDevice",null),pe([Gt()],Bt.prototype,"framebufferSizeForDevice",null),pe([Gt()],Bt.prototype,"totalMemorySizeForDevice",null),pe([Gt()],Bt.prototype,"queuePenMove",null),pe([Gt()],Bt.prototype,"queuePenUp",null),pe([Gt()],Bt.prototype,"queueButtonDown",null),pe([Gt()],Bt.prototype,"queueButtonUp",null),pe([Gt()],Bt.prototype,"queueKeyboardEvent",null),pe([Gt()],Bt.prototype,"isPowerOff",null),pe([Gt()],Bt.prototype,"isUiInitialized",null),pe([Gt()],Bt.prototype,"isSetupComplete",null),pe([Gt()],Bt.prototype,"getOSVersion",null),pe([Gt()],Bt.prototype,"reset",null),pe([Gt()],Bt.prototype,"resetNoExtensions",null),pe([Gt()],Bt.prototype,"resetHard",null),pe([Gt()],Bt.prototype,"installDb",null),pe([Gt()],Bt.prototype,"getPalette2bitMapping",null),pe([Gt()],Bt.prototype,"getMemory",null),pe([Gt()],Bt.prototype,"getMemory32",null),pe([Gt()],Bt.prototype,"getDirtyPages",null),pe([Gt()],Bt.prototype,"loadMemory",null),pe([Gt()],Bt.prototype,"getRomImage",null),pe([Gt()],Bt.prototype,"getSavestate",null),pe([Gt()],Bt.prototype,"saveState",null),pe([Gt()],Bt.prototype,"loadState",null),pe([Gt()],Bt.prototype,"getHotsyncName",null),pe([Gt()],Bt.prototype,"setClockFactor",null),pe([Gt()],Bt.prototype,"setHotsyncName",null),pe([Gt()],Bt.prototype,"setClipboardIntegration",null),pe([Gt()],Bt.prototype,"getClipboardIntegration",null),pe([Gt()],Bt.prototype,"isSuspended",null),pe([Gt()],Bt.prototype,"getSuspendKind",null),pe([Gt()],Bt.prototype,"cancelSuspend",null),pe([Gt()],Bt.prototype,"getSuspendContextClipboardCopy",null),pe([Gt()],Bt.prototype,"getSuspendContextClipboardPaste",null),pe([Gt()],Bt.prototype,"setNetworkRedirection",null),pe([Gt()],Bt.prototype,"getNetworkRedirection",null),pe([Gt()],Bt.prototype,"getSuspendContextNetworkConnect",null),pe([Gt()],Bt.prototype,"getSuspendContextNetworkRpc",null),pe([Gt()],Bt.prototype,"copyBuffer",null),pe([Gt()],Bt.prototype,"freeBuffer",null),pe([Gt()],Bt.prototype,"setHotsyncNameManagement",null),pe([Gt()],Bt.prototype,"resolveBuffer",null),pe([Gt()],Bt.prototype,"serializeSessionImage",null),pe([Gt()],Bt.prototype,"deserializeSessionImage",null),pe([Gt()],Bt.prototype,"launchAppByName",null),pe([Gt()],Bt.prototype,"launchAppByDbHeader",null),pe([Gt()],Bt.prototype,"deviceSupportsCardSize",null),pe([Gt()],Bt.prototype,"clearExternalStorage",null),pe([Gt()],Bt.prototype,"allocateCard",null),pe([Gt()],Bt.prototype,"getCardData",null),pe([Gt()],Bt.prototype,"getCardDirtyPages",null),pe([Gt()],Bt.prototype,"getMountedKey",null),pe([Gt()],Bt.prototype,"mountCard",null),pe([Gt()],Bt.prototype,"removeCard",null),pe([Gt()],Bt.prototype,"remountCards",null),pe([Gt()],Bt.prototype,"getCardSupportLevel",null);let Ws=(()=>{class t{constructor(){this.cloudpilot=Bt.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ru=(()=>{class t{constructor(e,r,o,i,s,a,u,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=u,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}saveSession(e){var r=this;return(0,Ee.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const u={deviceId:e.device,metadata:_M(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(u);f?r.saveFile(yM(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,Ee.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),u=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const y={deviceId:e.device,metadata:_M(e),rom:s,memory:a,savestate:u},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(y);v&&o.saveFile(yM(e),v)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,Ee.Z)(function*(){let i;try{i=new(Hc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,Ee.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,Ee.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:rj,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,Ee.Z)(function*(i){const s=i.target;if(!s?.files?.length)return[];const a=[];for(let u=0;u<s.files?.length;u++){const f=s.files.item(u);if(!f)continue;const y=new Promise((v,M)=>{const k=new FileReader;k.onload=()=>v({content:new Uint8Array(k.result),name:f.name}),k.onerror=()=>M(k.error),k.readAsArrayBuffer(f)});a.push(y)}r(yield Promise.all(a))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(Xa),me(Vv),me(Ai),me(ws),me(si),me(wM),me(Ws))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a_=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new To.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(me(it))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yh=new Error("permission denied");let CM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,Ee.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===yh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,Ee.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?yh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,Ee.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(u=(0,Ee.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return u.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var u});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,Ee.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,Ee.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===yh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,Ee.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?yh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,Ee.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,Ee.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,Ee.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,Ee.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,Ee.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(me(Xc),me(si))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cj="https:"===window.location.protocol?8667:8666,uj=/^[\da-z\-\.]+$/i,dj=/^[\da-z\-\.]+:\d+$/i;function l_(t){if(!t)return;const n=window.location.protocol;if(t.match(uj))return`${n}//${t}:${cj}`;if(t.match(dj))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function fj(t){return void 0!==l_(t.value)?null:{proxyAddress:"invalid"}}let c_=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=l_(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const u=yield s.handshake(void 0,500);switch(u.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(u.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=t_(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const u=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(u,a.data.byteLength),this.cloudpilot.freeBuffer(u),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new To.j,this.mutex=new Cs,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,Ee.Z)(function*(){const i=l_(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(si),me(it),me(wM))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),EM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),DM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gj=R(9084),IM=R.n(gj);function u_(){return u_=(0,Ee.Z)(function*(t){const n=yield d_.create();if(n.mkfs(t))return n.getImage()}),u_.apply(this,arguments)}const MM="fstools_web.wasm",kM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(MM)):fetch(MM).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class d_{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,Ee.Z)(function*(){return new d_(yield IM()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,Ee.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield kM,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class vh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,Ee.Z)(function*(){const e=yield IM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,Ee.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield kM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new vh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=this.nativeContext.GetImageSize(),r=(e>>>13)+(e%8192>0?1:0);return this.module.HEAPU8.subarray(n,n+((r>>>3)+(r%8>0?1:0)))}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var yr=(()=>(function(t){t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable"}(yr||(yr={})),yr))(),dr=(()=>(function(t){t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180"}(dr||(dr={})),dr))();let Hd=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Cs,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,Ee.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:dr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,Ee.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:dr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},u=yield s.loadingController.create({message:"Importing..."});yield u.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield u.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,Ee.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,Ee.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,Ee.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,Ee.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(me(Ws),me(On),me(Xa))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var vj=R(7971),_j=R.n(vj);class f_{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,Ee.Z)(function*(){return new f_(yield _j()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}AllocateImage(n){this.vfsNative.AllocateImage(n>>>9)}MountImage(n){return this.vfsNative.MountImage(n)}UnmountImage(n){this.vfsNative.UnmountImage(n)}GetPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}GetImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}Readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntryName(),i=e.GetEntryModifiedTS();r.push({path:`${n.replace(/\/*$/,"")}/${o}`,name:o,size:e.GetEntrySize(),lastModifiedTS:i,lastModifiedLocalDate:new Date(1e3*i).toLocaleDateString(),isDirectory:e.IsEntryDirectory()}),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}}let p_=(()=>{class t{constructor(e,r){this.storageService=e,this.storageCardContext=r,this.onReleaseCard=new To.j,this.vfs=f_.create(),this.directoryCache=new Map}normalizePath(e){return e.replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).split("/")}mountCardUnchecked(e,r,o){var i=this;return(0,Ee.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.storageCardContext.claim(e,Gr.vfs),i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&(yield i.releaseCard(i.mountedCard.id));const a=yield i.vfs;a.AllocateImage(s.size);const u=a.GetPendingImage();if(!u)throw new Error("failed to allocate image");return o?u.set(o):yield i.storageService.loadCardData(e,u,Gr.vfs),!!a.MountImage(0)&&(i.mountedCard=s,!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,Ee.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).UnmountImage(0),r.mountedCard=void 0,r.storageCardContext.release(e,Gr.vfs),r.onReleaseCard.dispatch(e))})()}readdir(e){var r=this;return(0,Ee.Z)(function*(){const o=r.normalizePath(e);if(!r.directoryCache.has(o)){const i=(yield r.vfs).Readdir(e);0===i.error&&r.directoryCache.set(o,i.entries)}return r.directoryCache.get(o)})()}currentCard(){return this.mountedCard}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(eu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Qr=(()=>(function(t){t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128"}(Qr||(Qr={})),Qr))();function TM(){return t_().replace(/-/g,"")}let ou=(()=>{class t{constructor(e,r,o,i,s,a,u,f,y,v,M){var k=this;this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=u,this.errorService=f,this.fileService=y,this.vfsService=v,this.storageCardContext=M,this.createEmptyCard=(U,be,$e)=>this.mutex.runExclusive((0,Ee.Z)(function*(){const Fe=yield k.loadingController.create({message:"Formatting..."});try{yield Fe.present();const Qe=yield function yj(t){return u_.apply(this,arguments)}(function wj(t){switch(t){case Qr.mb4:return 4;case Qr.mb8:return 8;case Qr.mb16:return 16;case Qr.mb32:return 32;case Qr.mb64:return 64;case Qr.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(be));if(!Qe)throw new Error("failed to create image");const Ue={storageId:TM(),name:U,size:4*Qe.length,status:yr.clean,dontFsckAutomatically:$e};return yield k.storageService.importStorageCard(Ue,Qe)}finally{Fe.dismiss()}})),this.createCardFromFile=(U,be,$e)=>this.mutex.runExclusive((0,Ee.Z)(function*(){const Fe={storageId:TM(),name:U,size:be.content.length,status:yr.clean,dontFsckAutomatically:$e},Qe=new Uint32Array(be.content.buffer,be.content.byteOffset,be.content.byteLength>>>2),Ue=yield k.loadingController.create({message:"Importing..."});try{if($e)yield Ue.present(),yield k.storageService.importStorageCard(Fe,Qe);else{const[rt,qt]=yield k.fsckNewCard(Qe,Fe);yield Ue.present(),yield k.storageService.importStorageCard(qt,rt)}}finally{Ue.dismiss()}})),this.insertCard=U=>this.mutex.runExclusive(()=>this.claimCard(U,"insert")),this.attachCardToVfs=U=>this.mutex.runExclusive(()=>this.claimCard(U,"vfs")),this.loadCardInEmulator=(U,be)=>this.mutex.runExclusive(()=>this.loadCardInEmulatorUnsafe(U,be)),this.ejectCurrentCard=()=>this.mutex.runExclusive(()=>this.ejectCurrentCardUnsafe()),this.fsckCard=U=>this.mutex.runExclusive(()=>this.fsckCardUnsafe(U)),this.applyFsckResult=(U,be)=>this.mutex.runExclusive(()=>this.applyFsckResultUnsafe(U,be)),this.updateCard=(U,be)=>this.mutex.runExclusive((0,Ee.Z)(function*(){const $e=yield k.storageService.getCard(U);if(!$e)throw new Error(`no card with id ${U}`);return!be.dontFsckAutomatically&&$e.dontFsckAutomatically&&(be.status=yr.dirty),k.storageService.updateStorageCardPartial(U,be)})),this.forceEjectCard=U=>this.mutex.runExclusive(()=>this.forceEjectCardUnsafe(U)),this.deleteCard=U=>this.mutex.runExclusive((0,Ee.Z)(function*(){yield k.vfsService.releaseCard(U),yield k.forceEjectCardUnsafe(U),yield k.storageService.deleteStorageCard(U)})),this.saveCard=(U,be)=>this.mutex.runExclusive((0,Ee.Z)(function*(){const $e=yield k.getCard(U);if(!$e)throw new Error(`no card with id ${U}`);const Fe=yield k.loadingController.create({message:"Exporting..."});let Qe;try{yield Fe.present();const Ue=k.mountedInSession(U);Ue&&Ue.id===k.emulationStateService.getCurrentSession()?.id&&(yield k.snapshotService.waitForPendingSnapshot(),yield k.snapshotService.triggerSnapshot(),Qe=(yield k.cloudpilotService.cloudpilot).getCardData($e.storageId)),Qe||(Qe=new Uint32Array($e.size>>>2),yield k.storageService.loadCardData($e.id,Qe,k.storageCardContext.getOwner(U)))}finally{Fe.dismiss()}k.fileService.saveFile(be,new Uint8Array(Qe.buffer,Qe.byteOffset,Qe.length<<2))})),this.loading=!0,this.cards=[],this.updateMutex=new Cs,this.mutex=new Cs,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Gr.cloudpilot)}getCard(e){var r=this;return(0,Ee.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}loadCardInEmulatorUnsafe(e,r){var o=this;return(0,Ee.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,Gr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,Gr.cloudpilot),i})()}ejectCurrentCardUnsafe(){var e=this;return(0,Ee.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:yr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,Gr.cloudpilot)})()}fsckCardUnsafe(e){var r=this;return(0,Ee.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,Gr.fstools);const s=yield vh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),Gr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:yr.clean}),r.storageCardContext.release(e,Gr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:yr.unformatted}),r.storageCardContext.release(e,Gr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:yr.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:yr.unfixable}),r.storageCardContext.release(e,Gr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResultUnsafe(e,r){var o=this;return(0,Ee.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),Gr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:yr.clean}),o.storageCardContext.release(e,Gr.fstools)}finally{i.dismiss()}})()}forceEjectCardUnsafe(e){var r=this;return(0,Ee.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCardUnsafe():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:yr.dirty})))})()}claimCard(e,r){var o=this;return(0,Ee.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,u=!1;if(!i.dontFsckAutomatically){if(i.status===yr.dirty){if(s=yield o.fsckCardUnsafe(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,Gr.fstools),!1;yield o.applyFsckResultUnsafe(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case yr.clean:break;case yr.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case yr.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case yr.unfixable:if(a=!1,u=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,u,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}updateCardsFromDB(){var e=this;return(0,Ee.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,Ee.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,Ee.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}fsckNewCard(e,r){var o=this;return(0,Ee.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield vh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:yr.clean}];case 2:{let u=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>u=!0},"Skip"),u?[s.getImageData(),{...r,status:yr.clean}]:[e,{...r,status:yr.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:yr.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:yr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}mountCardInEmulator(e,r){var o=this;return(0,Ee.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulatorUnsafe(e,r),u=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:yr.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!u.mountCard(a.storageId))throw u.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,Ee.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(me(Hd),me(On),me(Sa),me(Ws),me(Xa),me(Vd),me(si),me(Gl),me(ru),me(p_),me(eu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qs=(()=>{class t extends class XH{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),y=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||y!==this.uiInitialized){const v=this.powerOff;this.powerOff=f,this.uiInitialized=y,v!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}y&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new To.j,this.pwmUpdateEvent=new To.j,this.emulationStateChangeEvent=new To.j,this.powerOffChangeEvent=new To.j,this.deviceId=se.m515,this.clockEmulator=0,this.scheduler=new dM(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new GH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new hM(20),this.timePerFrameAverage=new hM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=Bd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=Bd(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===ol.animationFrame?new dM(n=>this.onSchedule(n)):new BH(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=Bd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=o_(n)?"white":r_[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=il[15],i=il[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const u=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[il[15&o],il[o>>>4&15],il[o>>>8&15],il[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const u=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=il[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let u=0;u<n.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,u,f,y,v,M,k,U,be,$e,Fe,Qe,Ue){var rt;super(),rt=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=u,this.alertService=f,this.modalWatcher=y,this.clipboardService=v,this.kvsService=M,this.proxyService=k,this.buttonService=U,this.bootstrapService=be,this.cloudpilotService=$e,this.storageCardService=Fe,this.storageCardContext=Qe,this.app=Ue,this.switchSession=ln=>this.mutex.runExclusive((0,Ee.Z)(function*(){if(ln===rt.emulationState.getCurrentSession()?.id)return;yield rt.stopUnchecked(),yield rt.bootstrapService.hasRendered();const Io=yield rt.loadingController.create({message:"Loading..."});yield Io.present();try{const Xi=yield rt.storageService.getSession(ln);if(rt.emulationState.setCurrentSession(Xi),!Xi)throw new Error(`invalid session ${ln}`);const Wl=yield rt.cloudpilotService.cloudpilot;yield rt.restoreSession(Xi,Wl),function rH(t){localStorage.setItem(dh,t+"")}(ln)}finally{yield Io.dismiss()}})),this.resume=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){!rt.emulationState.getCurrentSession()||rt.running||rt.errorService.hasFatalError()||!rt.cloudpilotInstance||(yield rt.kvsService.mutex.runExclusive(()=>rt.updateFeatures()),rt.doResume(),rt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){rt.doPause(),!rt.errorService.hasFatalError()&&rt.emulationState.getCurrentSession()&&(yield rt.snapshotService.waitForPendingSnapshot(),yield rt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([ln,Io])=>this.mutex.runExclusive((0,Ee.Z)(function*(){ln===rt.emulationState.getCurrentSession()?.id&&(rt.emulationState.setCurrentSession(Io),rt.emulationState.getCurrentSession()||(QI(),rt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){const ln=rt.emulationState.getCurrentSession();ln&&rt.fileService.emergencySaveSession(ln,yield rt.cloudpilotService.cloudpilot)})),this.mutex=new Cs,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(ln=>{ln.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(ln),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const qt=function nH(){const t=localStorage.getItem(dh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==qt&&!AE()&&(this.bootstrapCompletePromise=this.recoverStoredSession(qt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?ol.timeout:ol.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,Ee.Z)(function*(){!e.emulationState.getCurrentSession()||(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,Ee.Z)(function*(){try{yield r.switchSession(e)}catch{Gs&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,Ee.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);if(r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!o.openSession(r,i,e.device,s,a))throw new Error("failed to open session");o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot)})()}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(it),me(Xa),me(Sa),me(Vd),me(Gl),me(ru),me(si),me(a_),me(CM),me(Ai),me(c_),me(EM),me(DM),me(Ws),me(ou),me(eu),me(ja))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const al=new at($),Ej={connector:()=>new W};function xM(t,n=Ej){const{connector:e}=n;return Re((r,o)=>{const i=e();S(t(function Sj(t){return new at(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function AM(t,n){return n?e=>fd(n.pipe(ji(1),function Mj(){return Re((t,n)=>{t.subscribe(tt(n,$))})}()),e.pipe(AM(t))):zt((e,r)=>t(e,r).pipe(ji(1),sv(e)))}const jd="Service workers are disabled or not supported by this browser";class _h{constructor(n){if(this.serviceWorker=n,n){const r=ud(n,"controllerchange").pipe(et(()=>n.controller)),i=fd(Fp(()=>vn(n.controller)),r);this.worker=i.pipe(jo(y=>!!y)),this.registration=this.worker.pipe(xi(()=>n.getRegistration()));const f=ud(n,"message").pipe(et(y=>y.data)).pipe(jo(y=>y&&y.type)).pipe(function Ij(t){return t?n=>xM(t)(n):n=>function Dj(t,n){const e=T(t)?t:()=>t;return T(n)?xM(n,{connector:e}):r=>new rv(r,e)}(new W)(n)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function Tj(t){return Fp(()=>zc(new Error(t)))}(jd)}postMessage(n,e){return this.worker.pipe(ji(1),Uo(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(jo(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(ji(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(jo(e=>e.nonce===n),ji(1),et(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let xj=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new W,!e.isEnabled)return this.messages=al,this.notificationClicks=al,void(this.subscription=al);this.messages=this.sw.eventsOfType("PUSH").pipe(et(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(et(o=>o.data)),this.pushManager=this.sw.registration.pipe(et(o=>o.pushManager));const r=this.pushManager.pipe(xi(o=>o.getSubscription()));this.subscription=Zo(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(jd));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(xi(s=>s.subscribe(r)),ji(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ji(1),xi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(jd))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(me(_h))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),h_=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=al,this.available=al,this.activated=al,void(this.unrecoverable=al);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(jo(r=>"VERSION_READY"===r.type),et(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(me(_h))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class m_{}const PM=new an("NGSW_REGISTER_SCRIPT");function Aj(t,n,e,r){return()=>{if(!fa(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[a,...u]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=vn(null);break;case"registerWithDelay":i=RM(+u[0]||0);break;case"registerWhenStable":i=u[0]?Zo(FM(t),RM(+u[0])):FM(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(it).runOutsideAngular(()=>i.pipe(ji(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function RM(t){return vn(null).pipe(function kj(t,n=PI){const e=RI(t,n);return AM(()=>e)}(t))}function FM(t){return t.get(ja).isStable.pipe(jo(e=>e))}function Pj(t,n){return new _h(fa(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let Rj=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:PM,useValue:e},{provide:m_,useValue:r},{provide:_h,useFactory:Pj,deps:[m_,Bc]},{provide:kl,useFactory:Aj,deps:[gr,PM,m_,Bc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[xj,h_]}),t})(),OM=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){const u=a.kvsService.kvs.version;void 0!==u?u!==zl&&(yield a.kvsService.set({version:zl,previousVersion:u,latestVersion:zl}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${zl}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=zl})),this.mutex=new Cs,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,Ee.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,Ee.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===zl){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,Ee.Z)(function*(){yield(yield e.modalController.create({component:Ld,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(qs),me(si),me(ws),me(h_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Oj=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(C(cM),C(OM),C(DM))},t.\u0275cmp=ue({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(_e(0,"ion-app"),wt(1,"ion-router-outlet"),de())},dependencies:[dI,Ad]}),t})(),NM=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(_e(0,"div"),nt(1,"Dummy"),de())},encapsulation:2}),t})(),LM=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(me(Iy),me(Ur))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const g_=se.m515,Nj=r_[2],Lj=r_[0],iu="rgba(0,0,0,0.2)";function $M(t){const n=Bd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=u=>({frameDevice:u,frameCanvas:u*e}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function Hj(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const Wj=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function qj(t){const e=o=>function Uj(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,Ee.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,Ee.Z)(function*(){if(!i){const s=(yield t)[o];i=function Gj(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of Wj)r[o]=e(o);return r}let wh=(()=>{class t extends class jj{constructor(n){this.skin=n,this.layout=$M(g_),this.onResize=new To.j}get width(){switch(this.getOrientation()){case dr.portrait:case dr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case dr.portrait:case dr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case dr.landscape90:{const v=f;f=this.layout.height.frameDevice-u,u=v;break}case dr.landscape270:{const v=f;f=u,u=this.layout.width.frameDevice-v;break}case dr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const y=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=y&&(f=y-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=y)return;return[u,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,Ee.Z)(function*(){if(!n)return;e.layout=$M(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,Ee.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,iu),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,iu),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,iu),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,iu),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,iu),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,iu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case dr.portrait:case void 0:break;case dr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case dr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case dr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,Ee.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,Nj),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case se.pegT600c:case se.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case se.pegN700c:case se.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case se.pegS320:case se.pegS300:return this.skin.SILKSCREEN_PEG_S300;case se.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case se.pegT400:return this.skin.SILKSCREEN_PEG_T415;case se.palmPilot:case se.pilot:case se.iii:case se.palmVII:return this.skin.SILKSCREEN_PILOT;case se.m500:return this.skin.SILKSCREEN_M500;case se.m505:case se.m515:return this.skin.SILKSCREEN_M515;case se.iiic:return this.skin.SILKSCREEN_IIIC;case se.m100:case se.m105:case se.m125:return this.skin.SILKSCREEN_M100;case se.m130:return this.skin.SILKSCREEN_M130;case se.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case se.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case se.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case se.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case se.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case se.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case se.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case se.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case se.pegT400:case se.pegT600c:case se.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case se.pilot:case se.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case se.m500:return this.skin.HARD_BUTTONS_M500;case se.m505:case se.m515:return this.skin.HARD_BUTTONS_M515;case se.iiic:return this.skin.HARD_BUTTONS_IIIC;case se.m100:case se.m105:return this.skin.HARD_BUTTONS_M100;case se.m125:return this.skin.HARD_BUTTONS_M125;case se.m130:return this.skin.HARD_BUTTONS_M130;case se.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case se.iii:case se.iiix:case se.iiixe:case se.palmVII:case se.palmVIIEZ:case se.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case se.iiie:return this.skin.HARD_BUTTONS_IIIE;case se.i705:return this.skin.HARD_BUTTONS_I705;case se.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return o_(this.getDeviceId())?"white":Lj}frameColor(){return o_(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(qj(R.e(4907).then(R.bind(R,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,Ee.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,Ee.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,Ee.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??g_}getOrientation(){return this.session?.deviceOrientation??dr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function Zj(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Bd(this.session?.device??g_).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((u,f)=>this.ctx.fillText(u,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y_=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(C(Ur),C(wh),C(Sa))},t.\u0275cmp=ue({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(_e(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),wt(4,"ion-icon",3),_e(5,"ion-label"),nt(6,"Emulator"),de()(),_e(7,"ion-tab-button",4),wt(8,"ion-icon",5),_e(9,"ion-label"),nt(10,"Sessions"),de()(),_e(11,"ion-tab-button",6),wt(12,"ion-icon",7),_e(13,"ion-label"),nt(14,"Cards"),de()(),_e(15,"ion-tab-button",8),wt(16,"ion-icon",9),_e(17,"ion-label"),nt(18,"Settings"),de()(),_e(19,"ion-tab-button",10),wt(20,"ion-icon",11),_e(21,"ion-label"),nt(22,"About"),de()()()()()),2&e&&(mt(2),Ba("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[ls,cs,Nv,hI,II],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Ud=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js,Wv.forChild(),Qa,Ol,Rp]}),t})(),Yj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js,Ol,Qa,Ud,Wv.forChild()]}),t})(),Kj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js,Ol,Qa,Ud]}),t})(),Xj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js,Ol,Qa,Rp,Ud]}),t})(),Qj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js,Ol,Qa,Ud,Rp]}),t})(),Jj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[js,Qa,Ol,Rp,Ud]}),t})();function e6(t,n){if(1&t){const e=xr();_e(0,"ion-button",1),ct("click",function(){return dn(e),Ot(rn().onClick())}),wt(1,"ion-icon",2),de()}if(2&t){const e=rn();mt(1),gt("name",e.iconName)}}let bh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Gs?"logo-apple-appstore":YI?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(C(cM))},t.\u0275cmp=ue({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&wn(0,e6,2,1,"ion-button",0),2&e&&gt("ngIf",r.show)},dependencies:[Ho,Ui,ls]}),t})();function t6(t,n){1&t&&(_e(0,"div",11),wt(1,"ion-spinner"),de())}function n6(t,n){1&t&&(_e(0,"div"),nt(1,"app cached for offline use"),de())}let r6=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return zl}showChangelog(){var e=this;return(0,Ee.Z)(function*(){yield(yield e.modalController.create({component:Ld,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(C(ws),C(h_))},t.\u0275cmp=ue({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3,"About"),de(),_e(4,"ion-buttons",1),wt(5,"app-pwa-prompt"),de()()(),_e(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),nt(10,"About"),de()()(),wn(11,t6,2,0,"div",4),_e(12,"div",5)(13,"markdown",6),ct("load",function(){return r.loading=!1}),de()(),_e(14,"div",7),nt(15),wt(16,"br"),_e(17,"a",8),ct("click",function(){return r.showChangelog()}),nt(18,"Changelog"),de(),wn(19,n6,2,0,"div",9),de(),wt(20,"img",10),de()),2&e&&(gt("translucent",!0),mt(11),gt("ngIf",r.loading),mt(4),Mi(" CloudpilotEmu version ",r.version," "),mt(4),gt("ngIf",r.serviceWorkerAvailable))},dependencies:[Ho,Gi,zi,Wi,kd,Yi,Zi,bh,zv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function o6(t,n){if(1&t&&(_e(0,"ion-select-option",17),nt(1),de()),2&t){const e=n.$implicit;gt("value",e[0]),mt(1),Mi("",e[1]," ")}}function i6(t,n){if(1&t&&(_e(0,"ion-select-option",17),nt(1),de()),2&t){const e=n.$implicit;gt("value",e[0]),mt(1),Mi("",e[1]," ")}}function s6(t,n){if(1&t&&(_e(0,"ion-item",7)(1,"ion-label",8),nt(2,"Hotsync name"),de(),wt(3,"ion-input",18),de()),2&t){const e=rn();mt(3),gt("placeholder",e.placeholder)}}let BM=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[dr.portrait,"Portrait"],[dr.landscape90,"Landscape 90\xb0"],[dr.landscape270,"Landscape 270\xb0"],[dr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,fM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function jH(t){switch(t){case se.palmPilot:case se.pilot:case se.iii:case se.palmVII:case se.palmVx:case se.palmV:case se.palmVIIEZ:case se.palmVIIx:case se.iiic:case se.iiix:case se.iiixe:case se.iiie:case se.m100:case se.m105:case se.pegS300:case se.pegS500c:return 16;case se.m500:case se.m505:case se.m515:case se.m125:case se.m130:case se.i705:case se.i710:case se.handera330:case se.pegS320:case se.pegT400:case se.pegN600c:case se.pegT600c:case se.pegN700c:return 33;case se.pegT650c:case se.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new kp({name:new xo(this.session.name,{validators:[Ny.required,this.validateNameUnique]}),manageHotsyncName:new xo(!this.session.dontManageHotsyncName),hotsyncName:new xo(this.session.hotsyncName||""),device:new xo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new xo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new xo(this.session.deviceOrientation||dr.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(C(Hd),C(si))},t.\u0275cmp=ue({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3,"Session settings"),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.save()}),nt(6,"Save"),de()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),nt(9,"Cancel"),de()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),_e(12,"h1"),nt(13,"Session"),de(),_e(14,"ion-item",7)(15,"ion-label",8),nt(16,"Session name"),de(),wt(17,"ion-input",9),de(),_e(18,"h1"),nt(19,"Device"),de(),_e(20,"ion-item",7)(21,"ion-label",8),nt(22,"Device type"),de(),_e(23,"ion-select",10),wn(24,o6,2,2,"ion-select-option",11),de()(),_e(25,"ion-item",7)(26,"ion-label",8),nt(27,"Orientation"),de(),_e(28,"ion-select",12),wn(29,i6,2,2,"ion-select-option",11),de()(),_e(30,"ion-item",7)(31,"ion-label",13),nt(32),de(),wt(33,"ion-range",14),de(),_e(34,"h1"),nt(35,"Hotsync"),de(),_e(36,"ion-item",7)(37,"ion-label"),nt(38,"Manage hotsync name"),de(),wt(39,"ion-toggle",15),de(),wn(40,s6,4,1,"ion-item",16),de()()),2&e&&(mt(5),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(13),gt("ngForOf",r.deviceList),mt(5),gt("ngForOf",r.orientations),mt(3),gs(r.speedLabel),mt(8),gt("ngIf",r.showHotsyncNameInput))},dependencies:[Vc,Ho,Ui,Gi,zi,Wi,jl,qi,cs,Ov,oh,ih,Td,Yi,Zi,Id,Md,Hl,Rl,Al,Pl,tv,ga,qa],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),a6=(()=>{class t{constructor(e,r,o,i,s,a,u){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=u}saveBackup(e){var r=this;return(0,Ee.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const u=yield r.cloudpilotService.cloudpilot;yield u.backup(function(){var f=(0,Ee.Z)(function*(y){for(y.Init(e);y.IsInProgress();){const v=y.GetCurrentDatabase();y.Save()||s.push(v),yield new Promise(M=>setTimeout(M,0))}a=u.getArchive(y)});return function(y){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${s_(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(vM(o,e),a)},"Cancel"):r.fileService.saveFile(vM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(me(qs),me(Xa),me(Vd),me(ru),me(Sa),me(si),me(Ws))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const l6=window.AudioContext||window.webkitAudioContext;function v_(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let __=(()=>{class t extends class c6{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){if(!e.initialized){try{e.context=new l6}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,Ee.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield v_(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield v_(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,Ee.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Cs,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Gs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Gs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,Ee.Z)(function*(){!n.context||(yield v_(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(me(qs),me(Ai),me(a_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HM=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(me(qs),me(it))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function d6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().power())}),_e(1,"ion-label"),nt(2,"Power"),de(),wt(3,"ion-icon",5),de()}if(2&t){const e=rn();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function f6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().hotsync())}),_e(1,"ion-label"),nt(2,"Hotsync"),de(),wt(3,"ion-icon",6),de()}if(2&t){const e=rn();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function p6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().reset())}),_e(1,"ion-label"),nt(2,"Reset"),de(),wt(3,"ion-icon",7),de()}if(2&t){const e=rn();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function h6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().insertCard())}),_e(1,"ion-label"),nt(2),de(),wt(3,"ion-icon",8),de()}if(2&t){const e=rn();gt("detail",!1),mt(2),Mi("Insert ",e.hasMemorystick?"stick":"SD card","")}}function m6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().ejectCard())}),_e(1,"ion-label"),nt(2),de(),wt(3,"ion-icon",9),de()}if(2&t){const e=rn();gt("detail",!1),mt(2),Mi("Eject ",e.hasMemorystick?"stick":"SD card","")}}function g6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().mute(!1))}),_e(1,"ion-label"),nt(2,"Enable audio"),de(),wt(3,"ion-icon",10),de()}2&t&&gt("detail",!1)}function y6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().mute(!0))}),_e(1,"ion-label"),nt(2,"Disable audio"),de(),wt(3,"ion-icon",11),de()}2&t&&gt("detail",!1)}function v6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().backup())}),_e(1,"ion-label"),nt(2,"Save backup"),de(),wt(3,"ion-icon",12),de()}if(2&t){const e=rn();gt("detail",!1)("disabled",e.backupDisabled)}}function _6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().rotate())}),_e(1,"ion-label"),nt(2,"Rotate"),de(),wt(3,"ion-icon",13),de()}2&t&&gt("detail",!1)}function w6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().editSettings())}),_e(1,"ion-label"),nt(2,"Settings"),de(),wt(3,"ion-icon",14),de()}2&t&&gt("detail",!1)}function b6(t){switch(t){case dr.portrait:case void 0:return dr.landscape90;case dr.landscape90:return dr.portrait180;case dr.portrait180:return dr.landscape270;case dr.landscape270:return dr.portrait;default:throw new Error("cannot happen")}}let C6=(()=>{class t{constructor(e,r,o,i,s,a,u,f,y,v,M,k,U,be,$e,Fe,Qe,Ue,rt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=u,this.kvsService=f,this.modalController=y,this.sessionService=v,this.performanceWatchdogService=M,this.canvasDisplayService=k,this.cloudpilotService=U,this.storageCardService=be,this.alertService=$e,this.alertController=Fe,this.storageService=Qe,this.loadingController=Ue,this.errorService=rt,this.showHelp=()=>{}}reset(){var e=this;return(0,Ee.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,Ee.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function UH(t){return[se.i705,se.i710,se.pegNR70,se.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&pM(e.device)!==sl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&pM(e.device)===sl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,Ee.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:BM,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,Ee.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,Ee.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:b6(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,Ee.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,u)=>({label:a.name,type:"radio",value:a.id,checked:0===u})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,Ee.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(C(qs),C(Sa),C(a6),C(EM),C(Vv),C(Rd),C(__),C(Ai),C(ws),C(Hd),C(HM),C(wh),C(Ws),C(ou),C(si),C(Xc),C(On),C(Xa),C(Gl))},t.\u0275cmp=ue({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["button","",3,"detail","disabled","click",4,"ngIf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"detail","click"],["name","help-outline","slot","end"],["button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline"],["name","volume-mute-outline"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(_e(0,"ion-list"),wn(1,d6,4,2,"ion-item",0),wn(2,f6,4,2,"ion-item",0),wn(3,p6,4,2,"ion-item",0),wn(4,h6,4,2,"ion-item",1),wn(5,m6,4,2,"ion-item",1),wn(6,g6,4,1,"ion-item",1),wn(7,y6,4,1,"ion-item",1),wn(8,v6,4,2,"ion-item",0),wn(9,_6,4,1,"ion-item",1),wn(10,w6,4,1,"ion-item",1),_e(11,"ion-item",2),ct("click",function(){return r.help()}),_e(12,"ion-label"),nt(13,"Help"),de(),wt(14,"ion-icon",3),de()()),2&e&&(mt(1),gt("ngIf",r.hasActiveSession&&!r.powerDisabled),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.supportsStorageCard&&!r.hasMountedCard),mt(1),gt("ngIf",r.supportsStorageCard&&r.hasMountedCard),mt(1),gt("ngIf",r.isMuted&&!r.isAudioOff),mt(1),gt("ngIf",!r.isMuted&&!r.isAudioOff),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("detail",!1))},dependencies:[Ho,ls,qi,cs,Ul]}),t})(),E6=(()=>{class t extends class S6{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const y=this.canvasDisplayService.determineButton(f);y===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):y!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=y,this.handleButtonDown(y));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(me(qs),me(wh),me(a_),me(it),me(ja))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jM(t){return/\.(prc|pdb|pqa)$/i.test(t)}class T6{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,Ee.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else jM(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,Ee.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function k6(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,Ee.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,Ee.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!jM(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield e.installOne(a,u),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function M6(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let x6=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,Ee.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new T6(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const u=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(y=>!!y).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,u,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${s_(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${s_(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(me(Ws),me(qs),me(Xa),me(Vd),me(si),me(Xc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const A6=["canvas"];function P6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().navigation.lock())}),wt(1,"ion-icon",10),de()}}function R6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().navigation.unlock())}),wt(1,"ion-icon",11),de()}}function F6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().showGameModeHint())}),wt(1,"ion-icon",12),de()}}function O6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().showProxyConnectedHint())}),wt(1,"ion-icon",13),de()}}function N6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().showSlowdowndHint())}),wt(1,"ion-icon",14),de()}}function L6(t,n){if(1&t){const e=xr();_e(0,"div",15),nt(1," The device was reset forcefully. How do you want to boot? "),_e(2,"ion-button",16),ct("click",function(){return dn(e),Ot(rn().bootAfterForcefulReset())}),nt(3,"Normal boot"),de(),_e(4,"ion-button",16),ct("click",function(){return dn(e),Ot(rn().bootAfterForcefulResetNoExtensions())}),nt(5,"No extensions"),de(),_e(6,"ion-button",16),ct("click",function(){return dn(e),Ot(rn().bootAfterForcefulResetHardReset())}),nt(7,"Hard reset"),de()()}}function $6(t,n){1&t&&(_e(0,"div",15)(1,"div"),nt(2,"No session selected"),de()())}let B6=(()=>{class t{constructor(e,r,o,i,s,a,u,f,y,v,M,k,U,be,$e,Fe,Qe){var Ue=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=u,this.modalController=f,this.alertService=y,this.fileService=v,this.snapshotService=M,this.installlationService=k,this.proxyService=U,this.navigation=be,this.linkApi=$e,this.performanceWatchdogService=Fe,this.cloudpilotService=Qe,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Ee.Z)(function*(){yield Ue.emulationService.bootstrapComplete(),Ue.boostrapComplete=!0;const rt=Ue.emulationState.getCurrentSession();rt&&!rt.wasResetForcefully&&(yield Ue.launchEmulator()),Ue.linkApi.installation.requestEvent.addHandler(Ue.handleLinkApiInstallationRequest),Ue.handleLinkApiInstallationRequest()})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=rt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(rt,this.emulationService.getStatistics())},this.onNewFrame=rt=>{this.canvasDisplayService.updateEmulationCanvas(rt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const rt=this.linkApi.installation.receivePendingUrl();rt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${rt} ?`,{OK:()=>this.fileService.openUrl(rt,ln=>this.installlationService.installFiles([ln]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${rt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Cs}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,Ee.Z)(function*(){(yield r.popoverController.create({component:C6,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{showHelp:()=>r.showHelp()}})).present()})()}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,Ee.Z)(function*(){yield(yield e.modalController.create({component:Ld,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,Ee.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,Ee.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,Ee.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,Ee.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,Ee.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,Ee.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,Ee.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,Ee.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(C(qs),C(Sa),C(On),C(E6),C(wh),C(Ai),C(Rd),C(ws),C(si),C(ru),C(Vd),C(x6),C(c_),C(y_),C(Iy),C(HM),C(Ws))},t.\u0275cmp=ue({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&Yu(A6,5),2&e){let o;Bi(o=Vi())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),nt(3),de(),_e(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return r.installFiles()}),wt(6,"ion-icon",2),de(),wn(7,P6,2,0,"ion-button",3),wn(8,R6,2,0,"ion-button",3),de(),_e(9,"ion-buttons",4)(10,"ion-button",5),ct("click",function(i){return r.openContextMenu(i)}),wt(11,"ion-icon",6),de(),wn(12,F6,2,0,"ion-button",3),wn(13,O6,2,0,"ion-button",3),wn(14,N6,2,0,"ion-button",3),de()()(),_e(15,"ion-content")(16,"div",7),ct("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),wt(17,"canvas",null,8),de(),wn(19,L6,8,0,"div",9),wn(20,$6,3,0,"div",9),de()),2&e){let o,i;mt(3),gs(r.title),mt(2),gt("disabled",r.installFileDisabled),mt(2),gt("ngIf",!r.navigation.isLocked()),mt(1),gt("ngIf",r.navigation.isLocked()),mt(4),gt("ngIf",r.eventHandlingService.isGameMode()),mt(1),gt("ngIf",r.proxyService.isConnected()),mt(1),gt("ngIf",r.performanceWatchdogService.isSlowdownDetected()),mt(1),Ba("locked",r.navigation.isLocked()),mt(1),Bu("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),mt(1),Bu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),mt(2),gt("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),mt(1),gt("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[Ho,Ui,Gi,zi,Wi,ls,Yi,Zi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();var V6=R(5541),H6=R.n(V6);function UM(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let j6=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(_e(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),nt(2," Edit "),de(),_e(3,"ion-item",0),ct("click",function(){return r.onSave()}),nt(4," Save "),de(),_e(5,"ion-item",0),ct("click",function(){return r.onReset()}),nt(6," Reset "),de(),_e(7,"ion-item",0),ct("click",function(){return r.onDelete()}),nt(8," Delete "),de()()),2&e&&(mt(1),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1))},dependencies:[qi,Ul]}),t})();const G6=["slidingItem"];function z6(t,n){if(1&t&&(_e(0,"span"),nt(1),de()),2&t){const e=rn();mt(1),Mi(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let W6=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new yn,this.resetSession=new yn,this.edit=new yn,this.save=new yn,this.selectItem=new yn,this.interaction=new yn}get device(){return this.session?fM(this.session.device):""}onContextmenu(e){var r=this;return(0,Ee.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:j6,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit()},onSave:()=>{o.dismiss(),r.save.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()},onReset:()=>{o.dismiss(),r.resetSession.emit()}}});o.present()})()}decodeVersion(e){if(void 0===e)return"";const r=function U6(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(C(Rd))},t.\u0275cmp=ue({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&Yu(G6,5),2&e){let o;Bi(o=Vi())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=xr();_e(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),_e(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return dn(o),$i(1).close(),Ot(r.edit.emit(r.session))}),wt(4,"ion-icon",4),de(),_e(5,"ion-item-option",5),ct("click",function(){return dn(o),$i(1).close(),Ot(r.save.emit(r.session))}),wt(6,"ion-icon",6),de()(),_e(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return dn(o),$i(1).close(),Ot(r.resetSession.emit(r.session))}),wt(9,"ion-icon",9),de(),_e(10,"ion-item-option",10),ct("click",function(){return dn(o),$i(1).close(),Ot(r.delete.emit(r.session))}),wt(11,"ion-icon",11),de()(),_e(12,"ion-item",12),ct("click",function(){return r.selectItem.emit()}),_e(13,"ion-label")(14,"h2"),nt(15),de(),_e(16,"p"),nt(17),wn(18,z6,2,1,"span",13),de()()()()}2&e&&(mt(12),gt("color",r.color),mt(1),Ba("in-item-color",r.selected),mt(2),gs(null==r.session?null:r.session.name),mt(2),Uf("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),mt(1),gt("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[Ho,ls,qi,th,nh,rh,cs],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function q6(t,n){1&t&&(_e(0,"div",10),wt(1,"ion-spinner"),de())}function Z6(t,n){1&t&&(_e(0,"div",11)(1,"div",12),nt(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),wt(3,"br")(4,"br"),nt(5," You can find a collection of compatible ROMs on "),_e(6,"a",13),nt(7,"PalmDB"),de(),nt(8,". "),de()())}function Y6(t,n){if(1&t){const e=xr();_e(0,"app-session-item",15),ct("delete",function(){const i=dn(e).$implicit;return Ot(rn(2).deleteSession(i))})("selectItem",function(){const i=dn(e).$implicit;return Ot(rn(2).launchSession(i))})("edit",function(){const i=dn(e).$implicit;return Ot(rn(2).editSession(i))})("save",function(){const i=dn(e).$implicit;return Ot(rn(2).saveSession(i))})("resetSession",function(){const i=dn(e).$implicit;return Ot(rn(2).resetSession(i))})("interaction",function(){const i=dn(e).$implicit;return Ot(rn(2).lastSessionTouched=i.id)}),de()}if(2&t){const e=n.$implicit,r=rn(2);gt("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function K6(t,n){if(1&t&&(_e(0,"ion-list"),wn(1,Y6,1,3,"app-session-item",14),de()),2&t){const e=rn();mt(1),gt("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}let X6=(()=>{class t{constructor(e,r,o,i,s,a,u,f,y,v,M){this.sessionService=e,this.fileService=r,this.alertController=o,this.alertService=i,this.emulationService=s,this.emulationState=a,this.storageService=u,this.modalController=f,this.linkApi=y,this.router=v,this.cloudpilotService=M,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const k=this.linkApi.import.receivePendingUrl();!k||this.alertService.message("Import request",`Do you want to import<br>${k} ?`,{OK:()=>this.fileService.openUrl(k,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest()}ionViewWillLeave(){this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,r)=>e.name.localeCompare(r.name))}deleteSession(e){var r=this;return(0,Ee.Z)(function*(){yield(yield r.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var r=this;return(0,Ee.Z)(function*(){const o={...e};(yield r.editSettings(e))&&!H6()(e,o)&&(yield r.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){this.fileService.saveSession(e)}trackSessionBy(e,r){return r.id}launchSession(e){var r=this;return(0,Ee.Z)(function*(){r.lastSessionTouched=e.id,r.currentSessionOverride=e.id,yield r.emulationService.switchSession(e.id),r.currentSessionOverride=void 0,r.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var r=this;return(0,Ee.Z)(function*(){const o=e.id===r.emulationState.getCurrentSession()?.id;o&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(e),yield r.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),o&&(yield r.emulationService.switchSession(e.id)),yield(yield r.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,Ee.Z)(function*(){yield(yield e.modalController.create({component:Ld,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}processFile(e){var r=this;return(0,Ee.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(e.content,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(e,r=[e.device]){return new Promise(o=>{let i;this.modalController.create({component:BM,backdropDismiss:!1,componentProps:{session:e,availableDevices:r,onSave:()=>{i.dismiss(),o(!0)},onCancel:()=>{i.dismiss(),o(!1)}}}).then(s=>{i=s,i.present()})})}disambiguateSessionName(e){const r=this.sessionService.getSessions();return UM(e,o=>r.some(i=>i.name===o))}}return t.\u0275fac=function(e){return new(e||t)(C(Hd),C(ru),C(Xc),C(si),C(qs),C(Sa),C(On),C(ws),C(Iy),C(Ur),C(Ws))},t.\u0275cmp=ue({type:t,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,r){1&e&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),nt(3,"Sessions"),de(),_e(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return r.importSession()}),wt(6,"ion-icon",2),de()(),_e(7,"ion-buttons",3)(8,"ion-button",1),ct("click",function(){return r.showHelp()}),wt(9,"ion-icon",4),de(),wt(10,"app-pwa-prompt"),de()()(),_e(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),nt(15,"Sessions"),de()()(),wn(16,q6,2,0,"div",7),wn(17,Z6,9,0,"div",8),wn(18,K6,2,2,"ion-list",9),de()),2&e&&(mt(16),gt("ngIf",r.sessionService.isLoading()),mt(1),gt("ngIf",!r.sessionService.isLoading()&&0===r.sessions.length),mt(1),gt("ngIf",!r.sessionService.isLoading()&&r.sessions.length>0))},dependencies:[Vc,Ho,Ui,Gi,zi,Wi,ls,Ul,kd,Yi,Zi,bh,W6],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})();function Q6(t,n){1&t&&(_e(0,"ion-item",8)(1,"ion-label"),nt(2,"Clipboard integration"),de(),wt(3,"ion-toggle",17),de())}function J6(t,n){if(1&t){const e=xr();_e(0,"ion-item",8)(1,"ion-label",18),nt(2,"Proxy server"),de(),_e(3,"div",19),wt(4,"ion-input",20),_e(5,"ion-button",21),ct("click",function(o){dn(e);const i=rn();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())})("touchstart",function(o){dn(e);const i=rn();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())}),nt(6," Test "),de()()()}if(2&t){const e=rn();mt(5),gt("disabled",!e.proxyServerValid)}}let eU=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,Ee.Z)(function*(){yield(yield e.modalController.create({component:Ld,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,Ee.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,Ee.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new kp({volume:new xo(this.kvsService.kvs.volume),showStatistics:new xo(this.kvsService.kvs.showStatistics),runHidden:new xo(this.kvsService.kvs.runHidden),clipboardIntegration:new xo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new xo(this.kvsService.kvs.networkRedirection),proxyServer:new xo(this.kvsService.kvs.proxyServer,{validators:[fj]}),autoLockUI:new xo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new xo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new xo(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(C(ws),C(Ai),C(CM),C(si),C(c_))},t.\u0275cmp=ue({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3,"Settings"),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.showHelp()}),wt(6,"ion-icon",3),de(),wt(7,"app-pwa-prompt"),de()()(),_e(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),nt(12,"Settings"),de()()(),_e(13,"div",6)(14,"form",7)(15,"h1"),nt(16,"Emulation"),de(),_e(17,"ion-item",8)(18,"ion-label"),nt(19,"Volume"),de(),wt(20,"ion-range",9),de(),_e(21,"ion-item",8)(22,"ion-label"),nt(23,"Enable audio on start"),de(),wt(24,"ion-toggle",10),de(),_e(25,"ion-item",8)(26,"ion-label"),nt(27,"Run when hidden"),de(),wt(28,"ion-toggle",11),de(),_e(29,"h1"),nt(30,"Host integration"),de(),wn(31,Q6,4,0,"ion-item",12),_e(32,"ion-item",8)(33,"ion-label"),nt(34,"Network redirection"),de(),wt(35,"ion-toggle",13),de(),wn(36,J6,7,1,"ion-item",12),_e(37,"h1"),nt(38,"UI"),de(),_e(39,"ion-item",8)(40,"ion-label"),nt(41,"Auto-lock UI"),de(),wt(42,"ion-toggle",14),de(),_e(43,"ion-item",8)(44,"ion-label"),nt(45,"Show statistics"),de(),wt(46,"ion-toggle",15),de(),_e(47,"ion-item",8)(48,"ion-label"),nt(49,"Open from remote sources"),de(),wt(50,"ion-toggle",16),de()()()()),2&e&&(gt("translucent",!0),mt(14),gt("formGroup",r.formGroup),mt(17),gt("ngIf",r.clipboardService.isSupported()),mt(5),gt("ngIf",r.showProxyServer))},dependencies:[Ho,Rl,Al,Pl,Ui,Gi,zi,Wi,ls,jl,qi,cs,Ov,Td,Yi,Zi,Id,Md,Hl,bh,ga,qa],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),w_=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=lt({name:"cardSize",type:t,pure:!0}),t})();function tU(t,n){1&t&&(_e(0,"div",14)(1,"b"),nt(2,"WARNING:"),de(),nt(3," This image cannot be used as a memory stick image."),de())}let GM=(()=>{class t{constructor(e){this.storageCardService=e,this.onCancel=()=>{},this.onSave=()=>{},this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Gc({name:new ma("",{nonNullable:!0,validators:[Ny.required,this.validateNameUnique]}),size:new ma({value:"dummy",disabled:!0}),checkAutomatically:new ma(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2}ngOnInit(){!this.card||(this.formGroup.get("name")?.setValue(this.card.name),this.formGroup.get("checkAutomatically")?.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(C(ou))},t.\u0275cmp=ue({type:t,selectors:[["app-edit-card-dialog"]],inputs:{onCancel:"onCancel",onSave:"onSave",card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.save()}),nt(6,"Save"),de()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),nt(9,"Cancel"),de()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),_e(12,"ion-item",7)(13,"ion-label",8),nt(14,"Card name"),de(),wt(15,"ion-input",9),de(),_e(16,"ion-item",7)(17,"ion-label",8),nt(18,"Card size"),de(),_e(19,"ion-select",10)(20,"ion-select-option",11),nt(21),Il(22,"cardSize"),de()()(),_e(23,"ion-item",7)(24,"ion-label"),nt(25,"Check for errors automatically"),de(),wt(26,"ion-toggle",12),de()(),wn(27,tU,4,0,"div",13),de()),2&e&&(mt(3),gs(r.newCard?"New memory card":"Edit memory card"),mt(2),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(10),Mi("",Ml(22,5,null==r.card?null:r.card.size)," "),mt(6),gt("ngIf",!r.memoryStickSupported))},dependencies:[Ho,Ui,Gi,zi,Wi,jl,qi,cs,oh,ih,Td,Yi,Zi,Id,Md,Hl,Rl,Al,Pl,ga,qa,w_],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function nU(t,n){if(1&t&&(_e(0,"ion-select-option",13),nt(1),Il(2,"cardSize"),de()),2&t){const e=n.$implicit,r=rn();gt("value",e),mt(1),Mi("",Ml(2,2,r.sizeBytes(e))," ")}}const rU=[Qr.mb4,Qr.mb8,Qr.mb16,Qr.mb32,Qr.mb64,Qr.mb128];let oU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Gc({name:new ma("",{nonNullable:!0,validators:[Ny.required,this.validateNameUnique]}),size:new ma(Qr.mb32,{nonNullable:!0}),checkAutomatically:new ma(!0,{nonNullable:!0})})}get sizes(){return rU}sizeBytes(e){return function bj(t){switch(t){case Qr.mb4:return 4046848;case Qr.mb8:return 8110080;case Qr.mb16:return 16220160;case Qr.mb32:return 32473088;case Qr.mb64:return 64978944;case Qr.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(C(ou))},t.\u0275cmp=ue({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),nt(3,"New memory card"),de(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.create()}),nt(6,"Create"),de()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),nt(9,"Cancel"),de()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),_e(12,"ion-item",7)(13,"ion-label",8),nt(14,"Card name"),de(),wt(15,"ion-input",9),de(),_e(16,"ion-item",7)(17,"ion-label",8),nt(18,"Card size"),de(),_e(19,"ion-select",10),wn(20,nU,3,4,"ion-select-option",11),de()(),_e(21,"ion-item",7)(22,"ion-label"),nt(23,"Check for errors automatically"),de(),wt(24,"ion-toggle",12),de()()()),2&e&&(mt(5),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(9),gt("ngForOf",r.sizes))},dependencies:[Vc,Ui,Gi,zi,Wi,jl,qi,cs,oh,ih,Td,Yi,Zi,Id,Md,Hl,Rl,Al,Pl,ga,qa,w_]}),t})(),iU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(_e(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),nt(2," Edit "),de(),_e(3,"ion-item",0),ct("click",function(){return r.onSave()}),nt(4," Save "),de(),_e(5,"ion-item",0),ct("click",function(){return r.onCheck()}),nt(6," Check "),de(),_e(7,"ion-item",0),ct("click",function(){return r.onDelete()}),nt(8," Delete "),de()()),2&e&&(mt(1),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1))},dependencies:[qi,Ul]}),t})(),sU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new yn,this.selectCard=new yn,this.edit=new yn,this.check=new yn,this.delete=new yn,this.save=new yn}onContextmenu(e){var r=this;return(0,Ee.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:iU,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit(r.card)},onSave:()=>{o.dismiss(),r.save.emit(r.card)},onCheck:()=>{o.dismiss(),r.check.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()}}});o.present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case yr.dirty:return"needs check";case yr.clean:return"no errors";case yr.unformatted:return"no filesystem";case yr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(C(ou),C(Rd))},t.\u0275cmp=ue({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=xr();_e(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),_e(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return dn(o),$i(1).close(),Ot(r.edit.emit(r.card))}),wt(4,"ion-icon",4),de(),_e(5,"ion-item-option",5),ct("click",function(){return dn(o),$i(1).close(),Ot(r.save.emit(r.card))}),wt(6,"ion-icon",6),de()(),_e(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return dn(o),$i(1).close(),Ot(r.check.emit(r.card))}),wt(9,"ion-icon",9),de(),_e(10,"ion-item-option",10),ct("click",function(){return dn(o),$i(1).close(),Ot(r.delete.emit(r.card))}),wt(11,"ion-icon",11),de()(),_e(12,"ion-item",12),ct("click",function(){return r.selectCard.emit(),r.interaction.emit()}),_e(13,"ion-label")(14,"h2"),nt(15),de(),_e(16,"p"),nt(17),Il(18,"cardSize"),de()()()()}2&e&&(mt(12),gt("color",r.color),mt(3),gs(null==r.card?null:r.card.name),mt(2),Uf("",Ml(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[ls,qi,th,nh,rh,cs,w_],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function aU(t,n){1&t&&(_e(0,"div",10),wt(1,"ion-spinner"),de())}function lU(t,n){1&t&&(_e(0,"div",11)(1,"div",12),nt(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),de()())}function cU(t,n){if(1&t){const e=xr();_e(0,"app-storage-card",14),ct("delete",function(){const i=dn(e).$implicit;return Ot(rn(2).deleteCard(i))})("selectCard",function(){const i=dn(e).$implicit;return Ot(rn(2).selectCard(i))})("edit",function(){const i=dn(e).$implicit;return Ot(rn(2).editCard(i))})("check",function(){const i=dn(e).$implicit;return Ot(rn(2).checkCard(i))})("interaction",function(){const i=dn(e).$implicit;return Ot(rn(2).lastCardTouched=i.id)})("save",function(){const i=dn(e).$implicit;return Ot(rn(2).saveCard(i))}),de()}if(2&t){const e=n.$implicit,r=rn(2);gt("card",e)("touched",e.id===r.lastCardTouched)}}function uU(t,n){if(1&t&&(_e(0,"ion-list"),wn(1,cU,1,2,"app-storage-card",13),de()),2&t){const e=rn();mt(1),gt("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}let dU=(()=>{class t{constructor(e,r,o,i,s,a,u,f,y){var v=this;this.actionSheetController=e,this.storageCardService=r,this.modalController=o,this.alertController=i,this.cloudpilotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.storaceCarcContext=y,this.handleCardImport=function(){var M=(0,Ee.Z)(function*(k){const be=(yield v.cloudpilotService.cloudpilot).getCardSupportLevel(k.content.length);if(0===be)return void v.alertService.errorMessage("This is not a supported card image.");const $e=yield new Promise(function(){var Fe=(0,Ee.Z)(function*(Qe){const Ue=yield v.modalController.create({component:GM,backdropDismiss:!1,componentProps:{card:{name:v.disambiguateName(k.name),size:k.content.length},cardSupportLevel:be,newCard:!0,onCancel:()=>{Ue.dismiss(),Qe(void 0)},onSave:rt=>{Qe(rt),Ue.dismiss()}}});yield Ue.present()});return function(Qe){return Fe.apply(this,arguments)}}());$e&&(yield v.storageCardService.createCardFromFile($e.name,k,!!$e.dontFsckAutomatically))});return function(k){return M.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{}}get cards(){return this.storageCardService.getAllCards()}addCardImage(){var e=this;return(0,Ee.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()}]})).present()})()}showHelp(){}selectCard(e){var r=this;return(0,Ee.Z)(function*(){const o=r.storageCardService.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield r.storageCardService.forceEjectCard(e.id)}(yield r.storageCardService.attachCardToVfs(e.id))&&r.onMountForBrowse(e)})()}editCard(e){var r=this;return(0,Ee.Z)(function*(){const o=yield r.cloudpilotService.cloudpilot,i=yield r.modalController.create({component:GM,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:o.getCardSupportLevel(e.size),onCancel:()=>i.dismiss(),onSave:(s=(0,Ee.Z)(function*(a){yield r.storageCardService.updateCard(e.id,a),yield i.dismiss()}),function(u){return s.apply(this,arguments)})}});var s;yield i.present()})()}saveCard(e){this.storageCardService.saveCard(e.id,`${i_(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){var r=this;return(0,Ee.Z)(function*(){const o=r.storageCardService.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.storageCardService.forceEjectCard(e.id)}const i=yield r.storageCardService.fsckCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storaceCarcContext.release(e.id,Gr.fstools))}}})()}deleteCard(e){var r=this;return(0,Ee.Z)(function*(){var i;yield(yield r.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(i=(0,Ee.Z)(function*(){try{yield r.storageCardService.deleteCard(e.id)}catch(s){r.errorService.fatalBug(s instanceof Error?s.message:"delete failed")}}),function(){return i.apply(this,arguments)})}]})).present()})()}trackCardBy(e,r){return r.id}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,Ee.Z)(function*(){const r=yield e.modalController.create({component:oU,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(o=(0,Ee.Z)(function*(i,s,a){yield e.storageCardService.createEmptyCard(i,s,a),yield r.dismiss()}),function(s,a,u){return o.apply(this,arguments)})}});var o;yield r.present()})()}disambiguateName(e){const r=this.storageCardService.getAllCards();return UM(e,o=>r.some(i=>i.name===o))}applyFsckResult(e,r){var o=this;return(0,Ee.Z)(function*(){yield o.storageCardService.applyFsckResult(e,r),o.alertService.message("Card fixed","All filesystem errors have been fixed.")})()}}return t.\u0275fac=function(e){return new(e||t)(C(Vv),C(ou),C(ws),C(Xc),C(Ws),C(si),C(Gl),C(ru),C(eu))},t.\u0275cmp=ue({type:t,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,r){1&e&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),nt(3,"Memory cards"),de(),_e(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return r.addCardImage()}),wt(6,"ion-icon",2),de()(),_e(7,"ion-buttons",3)(8,"ion-button",1),ct("click",function(){return r.showHelp()}),wt(9,"ion-icon",4),de(),wt(10,"app-pwa-prompt"),de()()(),_e(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),nt(15,"Memory cards"),de()()(),wn(16,aU,2,0,"div",7),wn(17,lU,3,0,"div",8),wn(18,uU,2,2,"ion-list",9),de()),2&e&&(mt(16),gt("ngIf",r.storageCardService.isLoading()),mt(1),gt("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),mt(1),gt("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Vc,Ho,Ui,Gi,zi,Wi,ls,Ul,kd,Yi,Zi,bh,sU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})(),fU=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=lt({name:"fileSize",type:t,pure:!0}),t})();function pU(t,n){1&t&&wt(0,"ion-icon",16)}function hU(t,n){1&t&&wt(0,"ion-icon",17)}function mU(t,n){if(1&t&&(Bf(0),nt(1),Il(2,"fileSize"),Vf()),2&t){const e=rn();mt(1),Mi(" - ",Ml(2,1,null==e.entry?null:e.entry.size)," ")}}let gU=(()=>{class t{constructor(){this.touched=!1,this.interaction=new yn,this.selectEntry=new yn,this.edit=new yn,this.copyEntry=new yn,this.delete=new yn,this.save=new yn}onContextmenu(e){var r=this;return(0,Ee.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit()})()}get color(){if(this.touched)return"light"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-file-entry"]],inputs:{entry:"entry",touched:"touched"},outputs:{interaction:"interaction",selectEntry:"selectEntry",edit:"edit",copyEntry:"copyEntry",delete:"delete",save:"save"},decls:21,vars:9,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"]],template:function(e,r){if(1&e){const o=xr();_e(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),_e(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return dn(o),$i(1).close(),Ot(r.edit.emit(r.entry))}),wt(4,"ion-icon",4),de(),_e(5,"ion-item-option",5),ct("click",function(){return dn(o),$i(1).close(),Ot(r.save.emit(r.entry))}),wt(6,"ion-icon",6),de()(),_e(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return dn(o),$i(1).close(),Ot(r.copyEntry.emit(r.entry))}),wt(9,"ion-icon",9),de(),_e(10,"ion-item-option",10),ct("click",function(){return dn(o),$i(1).close(),Ot(r.delete.emit(r.entry))}),wt(11,"ion-icon",11),de()(),_e(12,"ion-item",12),ct("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),wn(13,pU,1,0,"ion-icon",13),wn(14,hU,1,0,"ion-icon",14),_e(15,"ion-label")(16,"h2"),nt(17),de(),_e(18,"p"),nt(19),wn(20,mU,3,3,"ng-container",15),de()()()()}2&e&&(mt(12),Bu("opacity",r.touched?1:.99999),gt("color",r.color)("detail",null==r.entry?null:r.entry.isDirectory),mt(1),gt("ngIf",null==r.entry?null:r.entry.isDirectory),mt(1),gt("ngIf",!(null!=r.entry&&r.entry.isDirectory)),mt(3),gs(null==r.entry?null:r.entry.name),mt(2),Mi(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),mt(1),gt("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[Ho,ls,qi,th,nh,rh,cs,fU],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function yU(t,n){if(1&t&&(_e(0,"div",6)(1,"div",7),nt(2),de()()),2&t){const e=rn();mt(2),Mi(" empty ","/"===e.path?"card":"directory"," ")}}function vU(t,n){if(1&t){const e=xr();_e(0,"app-file-entry",9),ct("selectEntry",function(){const i=dn(e).$implicit;return Ot(rn(2).onSelect(i))})("interaction",function(){const i=dn(e).$implicit;return Ot(rn(2).lastEntryTouched=i.name)}),de()}if(2&t){const e=n.$implicit,r=rn(2);gt("entry",e)("touched",e.name===r.lastEntryTouched)}}function _U(t,n){if(1&t&&(_e(0,"ion-list"),wn(1,vU,1,2,"app-file-entry",8),de()),2&t){const e=rn();mt(1),gt("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy)}}function wU(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let zM=(()=>{class t{constructor(e){this.vfsService=e,this.onNavigate=()=>{},this.lastEntryTouched=void 0}showHelp(){}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}ngOnInit(){this.updateEntries()}trackEntryBy(e,r){return r.name}onSelect(e){e.isDirectory&&this.onNavigate(e.path)}updateEntries(){void 0!==this.path?this.vfsService.readdir(this.path).then(e=>this.entries=e?[...e].sort(wU):[]):this.entries=[]}}return t.\u0275fac=function(e){return new(e||t)(C(p_))},t.\u0275cmp=ue({type:t,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate"},decls:12,vars:3,consts:[["slot","start"],["slot","primary"],[3,"click"],["name","help-outline"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"placeholder-container"],[1,"placeholder"],[3,"entry","touched","selectEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","touched","selectEntry","interaction"]],template:function(e,r){1&e&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),nt(3),de(),_e(4,"ion-buttons",0),wt(5,"ion-back-button"),de(),_e(6,"ion-buttons",1)(7,"ion-button",2),ct("click",function(){return r.showHelp()}),wt(8,"ion-icon",3),de()()()(),_e(9,"ion-content"),wn(10,yU,3,1,"div",4),wn(11,_U,2,2,"ion-list",5),de()),2&e&&(mt(3),gs(r.title),mt(7),gt("ngIf",void 0!==r.entries&&0===r.entries.length),mt(1),gt("ngIf",void 0!==r.entries))},dependencies:[Vc,Ho,fI,Ui,Gi,zi,Wi,ls,Ul,Yi,Zi,MI,gU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})();const bU=["nav"],CU=[{path:"tab",component:y_,children:[{path:"emulation",component:B6},{path:"sessions",component:X6},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(zM,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate})},this.navRoot=dU,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(zM,{card:e,path:"/",onNavigate:this.onNavigate})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}return t.\u0275fac=function(e){return new(e||t)(C(p_))},t.\u0275cmp=ue({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&Yu(bU,5),2&e){let o;Bi(o=Vi())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&wt(0,"ion-nav",0,1),2&e&&gt("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[pI,kI]}),t})()},{path:"settings",component:eU},{path:"about",component:r6},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let SU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[eh.forChild(CU),eh]}),t})(),EU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Qa,js,Ol,SU,Kj,Xj,Qj,Jj,Yj]}),t})(),DU=(()=>{class t extends GS{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Vo(t)))(r||t)}}(),t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const IU=[{path:"install",component:NM,canActivate:[LM]},{path:"import",component:NM,canActivate:[LM]},{path:"",component:y_}];let MU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[{provide:Hs,useClass:DU}],imports:[eh.forRoot(IU,{preloadingStrategy:d4,useHash:!0}),EU,eh]}),t})();const WM=["touch","click","keydown"];let kU=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,Ee.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{WM.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};WM.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(__))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TU=()=>{const t=new Jc;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let xU=(()=>{class t{constructor(e,r,o,i,s,a,u){}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(qs),me(__),me(Hd),me(Ai),me(OM),me(kU))},t.\u0275mod=jt({type:t,bootstrap:[Oj]}),t.\u0275inj=Kn({providers:[{provide:q1,useClass:dV},{provide:kl,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Ai]}],imports:[MN,Qa.forRoot(),MU,Rj.register("ngsw-worker.js",{enabled:true}),Wv.forRoot({loader:xy,markedOptions:{provide:zI,useFactory:TU}}),eL]}),t})();window.global=window,function BN(){_p=xE("#/install?"),wp=xE("#/import?")}(),function tH(){return!!localStorage.getItem(dh)}()&&!AE()||function VN(){return void 0!==_p}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function hF(){kS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),IN().bootstrapModule(xU).catch(t=>console.log(t))},3272:Oe=>{var R,Ge=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var ne,ee,d=typeof(T=T||{})<"u"?T:{};d.ready=new Promise(function(l,g){ne=l,ee=g});var V,xe,Q,q=Object.assign({},d),K=[],j="./this.program",z=(l,g)=>{throw g},ye="object"==typeof window,Z="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ye||Z)&&(Z?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=l=>{var g=new XMLHttpRequest;return g.open("GET",l,!1),g.send(null),g.responseText},Z&&(Q=l=>{var g=new XMLHttpRequest;return g.open("GET",l,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),xe=(l,g,b)=>{var A=new XMLHttpRequest;A.open("GET",l,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?g(A.response):b()},A.onerror=b,A.send(null)});var le,ge=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,q),q=null,d.arguments&&(K=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(z=d.quit),d.wasmBinary&&(le=d.wasmBinary);var Ae=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var ce,he,We=!1;function Ce(l,g){l||Qn(g)}var ze,qe,at,L,B,fe,Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function He(l,g,b){for(var A=g+b,H=g;l[H]&&!(H>=A);)++H;if(H-g>16&&l.buffer&&Me)return Me.decode(l.subarray(g,H));for(var we="";g<H;){var Ie=l[g++];if(128&Ie){var Le=63&l[g++];if(192!=(224&Ie)){var vt=63&l[g++];if((Ie=224==(240&Ie)?(15&Ie)<<12|Le<<6|vt:(7&Ie)<<18|Le<<12|vt<<6|63&l[g++])<65536)we+=String.fromCharCode(Ie);else{var Qt=Ie-65536;we+=String.fromCharCode(55296|Qt>>10,56320|1023&Qt)}}else we+=String.fromCharCode((31&Ie)<<6|Le)}else we+=String.fromCharCode(Ie)}return we}function Ne(l,g){return l?He(at,l,g):""}function ke(l,g,b,A){if(!(A>0))return 0;for(var H=b,we=b+A-1,Ie=0;Ie<l.length;++Ie){var Le=l.charCodeAt(Ie);if(Le>=55296&&Le<=57343&&(Le=65536+((1023&Le)<<10)|1023&l.charCodeAt(++Ie)),Le<=127){if(b>=we)break;g[b++]=Le}else if(Le<=2047){if(b+1>=we)break;g[b++]=192|Le>>6,g[b++]=128|63&Le}else if(Le<=65535){if(b+2>=we)break;g[b++]=224|Le>>12,g[b++]=128|Le>>6&63,g[b++]=128|63&Le}else{if(b+3>=we)break;g[b++]=240|Le>>18,g[b++]=128|Le>>12&63,g[b++]=128|Le>>6&63,g[b++]=128|63&Le}}return g[b]=0,b-H}function X(l){for(var g=0,b=0;b<l.length;++b){var A=l.charCodeAt(b);A<=127?g++:A<=2047?g+=2:A>=55296&&A<=57343?(g+=4,++b):g+=3}return g}function Te(l){ze=l,d.HEAP8=qe=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAP32=L=new Int32Array(l),d.HEAPU8=at=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAPU32=B=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=fe=new Float64Array(l)}var tt,Sn,Ke=[],et=[],At=[],Lt=[],Hn=0,sr=null,vr=null;function mo(l){Hn++,d.monitorRunDependencies&&d.monitorRunDependencies(Hn)}function ar(l){if(Hn--,d.monitorRunDependencies&&d.monitorRunDependencies(Hn),0==Hn&&(null!==sr&&(clearInterval(sr),sr=null),vr)){var g=vr;vr=null,g()}}function Qn(l){d.onAbort&&d.onAbort(l),oe(l="Aborted("+l+")"),We=!0,he=1,l+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(l);throw ee(g),g}function $r(l){return l.startsWith("data:application/octet-stream;base64,")}function Wr(l){try{if(l==Sn&&le)return new Uint8Array(le);if(Q)return Q(l);throw"both async and sync fetching of the wasm failed"}catch(g){Qn(g)}}$r(Sn="cloudpilot_web.wasm")||(Sn=function O(l){return d.locateFile?d.locateFile(l,$):$+l}(Sn));var Je,re,Be={242196:l=>{tt.grow(65536);for(let g=0;g<=65535;g++)tt.set(tt.length-65535-1+g,tt.get(B[(l>>>2)+g]));return tt.length-65535-1}};function bn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Ft(l){for(;l.length>0;)l.shift()(d)}function er(l,g){return g+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*g:NaN}var Jt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,g)=>{for(var b=0,A=l.length-1;A>=0;A--){var H=l[A];"."===H?l.splice(A,1):".."===H?(l.splice(A,1),b++):b&&(l.splice(A,1),b--)}if(g)for(;b;b--)l.unshift("..");return l},normalize:l=>{var g=Jt.isAbs(l),b="/"===l.substr(-1);return!(l=Jt.normalizeArray(l.split("/").filter(A=>!!A),!g).join("/"))&&!g&&(l="."),l&&b&&(l+="/"),(g?"/":"")+l},dirname:l=>{var g=Jt.splitPath(l),b=g[0],A=g[1];return b||A?(A&&(A=A.substr(0,A.length-1)),b+A):"."},basename:l=>{if("/"===l)return"/";var g=(l=(l=Jt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?l:l.substr(g+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Jt.normalize(l.join("/"))},join2:(l,g)=>Jt.normalize(l+"/"+g)},lr={resolve:function(){for(var l="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var A=b>=0?arguments[b]:I.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";l=A+"/"+l,g=Jt.isAbs(A)}return(g?"/":"")+(l=Jt.normalizeArray(l.split("/").filter(H=>!!H),!g).join("/"))||"."},relative:(l,g)=>{function b(Qt){for(var kn=0;kn<Qt.length&&""===Qt[kn];kn++);for(var Bn=Qt.length-1;Bn>=0&&""===Qt[Bn];Bn--);return kn>Bn?[]:Qt.slice(kn,Bn-kn+1)}l=lr.resolve(l).substr(1),g=lr.resolve(g).substr(1);for(var A=b(l.split("/")),H=b(g.split("/")),we=Math.min(A.length,H.length),Ie=we,Le=0;Le<we;Le++)if(A[Le]!==H[Le]){Ie=Le;break}var vt=[];for(Le=Ie;Le<A.length;Le++)vt.push("..");return(vt=vt.concat(H.slice(Ie))).join("/")}};function Vt(l,g,b){var A=b>0?b:X(l)+1,H=new Array(A),we=ke(l,H,0,H.length);return g&&(H.length=we),H}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(l,g){tr.ttys[l]={input:[],output:[],ops:g},I.registerDevice(l,tr.stream_ops)},stream_ops:{open:function(l){var g=tr.ttys[l.node.rdev];if(!g)throw new I.ErrnoError(43);l.tty=g,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,g,b,A,H){if(!l.tty||!l.tty.ops.get_char)throw new I.ErrnoError(60);for(var we=0,Ie=0;Ie<A;Ie++){var Le;try{Le=l.tty.ops.get_char(l.tty)}catch{throw new I.ErrnoError(29)}if(void 0===Le&&0===we)throw new I.ErrnoError(6);if(null==Le)break;we++,g[b+Ie]=Le}return we&&(l.node.timestamp=Date.now()),we},write:function(l,g,b,A,H){if(!l.tty||!l.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var we=0;we<A;we++)l.tty.ops.put_char(l.tty,g[b+we])}catch{throw new I.ErrnoError(29)}return A&&(l.node.timestamp=Date.now()),we}},default_tty_ops:{get_char:function(l){if(!l.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;l.input=Vt(g,!0)}return l.input.shift()},put_char:function(l,g){null===g||10===g?(ge(He(l.output,0)),l.output=[]):0!=g&&l.output.push(g)},fsync:function(l){l.output&&l.output.length>0&&(ge(He(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,g){null===g||10===g?(oe(He(l.output,0)),l.output=[]):0!=g&&l.output.push(g)},fsync:function(l){l.output&&l.output.length>0&&(oe(He(l.output,0)),l.output=[])}}};function S(l){Qn()}var kt={ops_table:null,mount:function(l){return kt.createNode(null,"/",16895,0)},createNode:function(l,g,b,A){if(I.isBlkdev(b)||I.isFIFO(b))throw new I.ErrnoError(63);kt.ops_table||(kt.ops_table={dir:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr,lookup:kt.node_ops.lookup,mknod:kt.node_ops.mknod,rename:kt.node_ops.rename,unlink:kt.node_ops.unlink,rmdir:kt.node_ops.rmdir,readdir:kt.node_ops.readdir,symlink:kt.node_ops.symlink},stream:{llseek:kt.stream_ops.llseek}},file:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr},stream:{llseek:kt.stream_ops.llseek,read:kt.stream_ops.read,write:kt.stream_ops.write,allocate:kt.stream_ops.allocate,mmap:kt.stream_ops.mmap,msync:kt.stream_ops.msync}},link:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr,readlink:kt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr},stream:I.chrdev_stream_ops}});var H=I.createNode(l,g,b,A);return I.isDir(H.mode)?(H.node_ops=kt.ops_table.dir.node,H.stream_ops=kt.ops_table.dir.stream,H.contents={}):I.isFile(H.mode)?(H.node_ops=kt.ops_table.file.node,H.stream_ops=kt.ops_table.file.stream,H.usedBytes=0,H.contents=null):I.isLink(H.mode)?(H.node_ops=kt.ops_table.link.node,H.stream_ops=kt.ops_table.link.stream):I.isChrdev(H.mode)&&(H.node_ops=kt.ops_table.chrdev.node,H.stream_ops=kt.ops_table.chrdev.stream),H.timestamp=Date.now(),l&&(l.contents[g]=H,l.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,g){var b=l.contents?l.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var H=l.contents;l.contents=new Uint8Array(g),l.usedBytes>0&&l.contents.set(H.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,g){if(l.usedBytes!=g)if(0==g)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(g),b&&l.contents.set(b.subarray(0,Math.min(g,l.usedBytes))),l.usedBytes=g}},node_ops:{getattr:function(l){var g={};return g.dev=I.isChrdev(l.mode)?l.id:1,g.ino=l.id,g.mode=l.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=l.rdev,g.size=I.isDir(l.mode)?4096:I.isFile(l.mode)?l.usedBytes:I.isLink(l.mode)?l.link.length:0,g.atime=new Date(l.timestamp),g.mtime=new Date(l.timestamp),g.ctime=new Date(l.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(l,g){void 0!==g.mode&&(l.mode=g.mode),void 0!==g.timestamp&&(l.timestamp=g.timestamp),void 0!==g.size&&kt.resizeFileStorage(l,g.size)},lookup:function(l,g){throw I.genericErrors[44]},mknod:function(l,g,b,A){return kt.createNode(l,g,b,A)},rename:function(l,g,b){if(I.isDir(l.mode)){var A;try{A=I.lookupNode(g,b)}catch{}if(A)for(var H in A.contents)throw new I.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,g.contents[b]=l,g.timestamp=l.parent.timestamp,l.parent=g},unlink:function(l,g){delete l.contents[g],l.timestamp=Date.now()},rmdir:function(l,g){var b=I.lookupNode(l,g);for(var A in b.contents)throw new I.ErrnoError(55);delete l.contents[g],l.timestamp=Date.now()},readdir:function(l){var g=[".",".."];for(var b in l.contents)!l.contents.hasOwnProperty(b)||g.push(b);return g},symlink:function(l,g,b){var A=kt.createNode(l,g,41471,0);return A.link=b,A},readlink:function(l){if(!I.isLink(l.mode))throw new I.ErrnoError(28);return l.link}},stream_ops:{read:function(l,g,b,A,H){var we=l.node.contents;if(H>=l.node.usedBytes)return 0;var Ie=Math.min(l.node.usedBytes-H,A);if(Ie>8&&we.subarray)g.set(we.subarray(H,H+Ie),b);else for(var Le=0;Le<Ie;Le++)g[b+Le]=we[H+Le];return Ie},write:function(l,g,b,A,H,we){if(g.buffer===qe.buffer&&(we=!1),!A)return 0;var Ie=l.node;if(Ie.timestamp=Date.now(),g.subarray&&(!Ie.contents||Ie.contents.subarray)){if(we)return Ie.contents=g.subarray(b,b+A),Ie.usedBytes=A,A;if(0===Ie.usedBytes&&0===H)return Ie.contents=g.slice(b,b+A),Ie.usedBytes=A,A;if(H+A<=Ie.usedBytes)return Ie.contents.set(g.subarray(b,b+A),H),A}if(kt.expandFileStorage(Ie,H+A),Ie.contents.subarray&&g.subarray)Ie.contents.set(g.subarray(b,b+A),H);else for(var Le=0;Le<A;Le++)Ie.contents[H+Le]=g[b+Le];return Ie.usedBytes=Math.max(Ie.usedBytes,H+A),A},llseek:function(l,g,b){var A=g;if(1===b?A+=l.position:2===b&&I.isFile(l.node.mode)&&(A+=l.node.usedBytes),A<0)throw new I.ErrnoError(28);return A},allocate:function(l,g,b){kt.expandFileStorage(l.node,g+b),l.node.usedBytes=Math.max(l.node.usedBytes,g+b)},mmap:function(l,g,b,A,H){if(!I.isFile(l.node.mode))throw new I.ErrnoError(43);var we,Ie,Le=l.node.contents;if(2&H||Le.buffer!==ze){if((b>0||b+g<Le.length)&&(Le=Le.subarray?Le.subarray(b,b+g):Array.prototype.slice.call(Le,b,b+g)),Ie=!0,!(we=S()))throw new I.ErrnoError(48);qe.set(Le,we)}else Ie=!1,we=Le.byteOffset;return{ptr:we,allocated:Ie}},msync:function(l,g,b,A,H){return kt.stream_ops.write(l,g,0,A,b,!1),0}}},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,g={})=>{if(!(l=lr.resolve(l)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new I.ErrnoError(32);for(var A=l.split("/").filter(Bn=>!!Bn),H=I.root,we="/",Ie=0;Ie<A.length;Ie++){var Le=Ie===A.length-1;if(Le&&g.parent)break;if(H=I.lookupNode(H,A[Ie]),we=Jt.join2(we,A[Ie]),I.isMountpoint(H)&&(!Le||Le&&g.follow_mount)&&(H=H.mounted.root),!Le||g.follow)for(var vt=0;I.isLink(H.mode);){var Qt=I.readlink(we);if(we=lr.resolve(Jt.dirname(we),Qt),H=I.lookupPath(we,{recurse_count:g.recurse_count+1}).node,vt++>40)throw new I.ErrnoError(32)}}return{path:we,node:H}},getPath:l=>{for(var g;;){if(I.isRoot(l)){var b=l.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?l.name+"/"+g:l.name,l=l.parent}},hashName:(l,g)=>{for(var b=0,A=0;A<g.length;A++)b=(b<<5)-b+g.charCodeAt(A)|0;return(l+b>>>0)%I.nameTable.length},hashAddNode:l=>{var g=I.hashName(l.parent.id,l.name);l.name_next=I.nameTable[g],I.nameTable[g]=l},hashRemoveNode:l=>{var g=I.hashName(l.parent.id,l.name);if(I.nameTable[g]===l)I.nameTable[g]=l.name_next;else for(var b=I.nameTable[g];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode:(l,g)=>{var b=I.mayLookup(l);if(b)throw new I.ErrnoError(b,l);for(var A=I.hashName(l.id,g),H=I.nameTable[A];H;H=H.name_next)if(H.parent.id===l.id&&H.name===g)return H;return I.lookup(l,g)},createNode:(l,g,b,A)=>{var H=new I.FSNode(l,g,b,A);return I.hashAddNode(H),H},destroyNode:l=>{I.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var g=I.flagModes[l];if(typeof g>"u")throw new Error("Unknown file open mode: "+l);return g},flagsToPermissionString:l=>{var g=["r","w","rw"][3&l];return 512&l&&(g+="w"),g},nodePermissions:(l,g)=>I.ignorePermissions?0:g.includes("r")&&!(292&l.mode)||g.includes("w")&&!(146&l.mode)||g.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>I.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,g)=>{try{return I.lookupNode(l,g),20}catch{}return I.nodePermissions(l,"wx")},mayDelete:(l,g,b)=>{var A;try{A=I.lookupNode(l,g)}catch(we){return we.errno}var H=I.nodePermissions(l,"wx");if(H)return H;if(b){if(!I.isDir(A.mode))return 54;if(I.isRoot(A)||I.getPath(A)===I.cwd())return 10}else if(I.isDir(A.mode))return 31;return 0},mayOpen:(l,g)=>l?I.isLink(l.mode)?32:I.isDir(l.mode)&&("r"!==I.flagsToPermissionString(g)||512&g)?31:I.nodePermissions(l,I.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,g=I.MAX_OPEN_FDS)=>{for(var b=l;b<=g;b++)if(!I.streams[b])return b;throw new I.ErrnoError(33)},getStream:l=>I.streams[l],createStream:(l,g,b)=>{I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),l=Object.assign(new I.FSStream,l);var A=I.nextfd(g,b);return l.fd=A,I.streams[A]=l,l},closeStream:l=>{I.streams[l]=null},chrdev_stream_ops:{open:l=>{var g=I.getDevice(l.node.rdev);l.stream_ops=g.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new I.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,g)=>l<<8|g,registerDevice:(l,g)=>{I.devices[l]={stream_ops:g}},getDevice:l=>I.devices[l],getMounts:l=>{for(var g=[],b=[l];b.length;){var A=b.pop();g.push(A),b.push.apply(b,A.mounts)}return g},syncfs:(l,g)=>{"function"==typeof l&&(g=l,l=!1),I.syncFSRequests++,I.syncFSRequests>1&&oe("warning: "+I.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=I.getMounts(I.root.mount),A=0;function H(Ie){return I.syncFSRequests--,g(Ie)}function we(Ie){if(Ie)return we.errored?void 0:(we.errored=!0,H(Ie));++A>=b.length&&H(null)}b.forEach(Ie=>{if(!Ie.type.syncfs)return we(null);Ie.type.syncfs(Ie,l,we)})},mount:(l,g,b)=>{var we,A="/"===b,H=!b;if(A&&I.root)throw new I.ErrnoError(10);if(!A&&!H){var Ie=I.lookupPath(b,{follow_mount:!1});if(b=Ie.path,I.isMountpoint(we=Ie.node))throw new I.ErrnoError(10);if(!I.isDir(we.mode))throw new I.ErrnoError(54)}var Le={type:l,opts:g,mountpoint:b,mounts:[]},vt=l.mount(Le);return vt.mount=Le,Le.root=vt,A?I.root=vt:we&&(we.mounted=Le,we.mount&&we.mount.mounts.push(Le)),vt},unmount:l=>{var g=I.lookupPath(l,{follow_mount:!1});if(!I.isMountpoint(g.node))throw new I.ErrnoError(28);var b=g.node,A=b.mounted,H=I.getMounts(A);Object.keys(I.nameTable).forEach(Ie=>{for(var Le=I.nameTable[Ie];Le;){var vt=Le.name_next;H.includes(Le.mount)&&I.destroyNode(Le),Le=vt}}),b.mounted=null;var we=b.mount.mounts.indexOf(A);b.mount.mounts.splice(we,1)},lookup:(l,g)=>l.node_ops.lookup(l,g),mknod:(l,g,b)=>{var H=I.lookupPath(l,{parent:!0}).node,we=Jt.basename(l);if(!we||"."===we||".."===we)throw new I.ErrnoError(28);var Ie=I.mayCreate(H,we);if(Ie)throw new I.ErrnoError(Ie);if(!H.node_ops.mknod)throw new I.ErrnoError(63);return H.node_ops.mknod(H,we,g,b)},create:(l,g)=>(g=void 0!==g?g:438,g&=4095,I.mknod(l,g|=32768,0)),mkdir:(l,g)=>(g=void 0!==g?g:511,g&=1023,I.mknod(l,g|=16384,0)),mkdirTree:(l,g)=>{for(var b=l.split("/"),A="",H=0;H<b.length;++H)if(b[H]){A+="/"+b[H];try{I.mkdir(A,g)}catch(we){if(20!=we.errno)throw we}}},mkdev:(l,g,b)=>(typeof b>"u"&&(b=g,g=438),I.mknod(l,g|=8192,b)),symlink:(l,g)=>{if(!lr.resolve(l))throw new I.ErrnoError(44);var A=I.lookupPath(g,{parent:!0}).node;if(!A)throw new I.ErrnoError(44);var H=Jt.basename(g),we=I.mayCreate(A,H);if(we)throw new I.ErrnoError(we);if(!A.node_ops.symlink)throw new I.ErrnoError(63);return A.node_ops.symlink(A,H,l)},rename:(l,g)=>{var Le,vt,b=Jt.dirname(l),A=Jt.dirname(g),H=Jt.basename(l),we=Jt.basename(g);if(Le=I.lookupPath(l,{parent:!0}).node,vt=I.lookupPath(g,{parent:!0}).node,!Le||!vt)throw new I.ErrnoError(44);if(Le.mount!==vt.mount)throw new I.ErrnoError(75);var Bn,Qt=I.lookupNode(Le,H),kn=lr.relative(l,A);if("."!==kn.charAt(0))throw new I.ErrnoError(28);if("."!==(kn=lr.relative(g,b)).charAt(0))throw new I.ErrnoError(55);try{Bn=I.lookupNode(vt,we)}catch{}if(Qt!==Bn){var Pt=I.isDir(Qt.mode),$t=I.mayDelete(Le,H,Pt);if($t)throw new I.ErrnoError($t);if($t=Bn?I.mayDelete(vt,we,Pt):I.mayCreate(vt,we))throw new I.ErrnoError($t);if(!Le.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(Qt)||Bn&&I.isMountpoint(Bn))throw new I.ErrnoError(10);if(vt!==Le&&($t=I.nodePermissions(Le,"w")))throw new I.ErrnoError($t);I.hashRemoveNode(Qt);try{Le.node_ops.rename(Qt,vt,we)}catch(Kt){throw Kt}finally{I.hashAddNode(Qt)}}},rmdir:l=>{var b=I.lookupPath(l,{parent:!0}).node,A=Jt.basename(l),H=I.lookupNode(b,A),we=I.mayDelete(b,A,!0);if(we)throw new I.ErrnoError(we);if(!b.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(H))throw new I.ErrnoError(10);b.node_ops.rmdir(b,A),I.destroyNode(H)},readdir:l=>{var b=I.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new I.ErrnoError(54);return b.node_ops.readdir(b)},unlink:l=>{var b=I.lookupPath(l,{parent:!0}).node;if(!b)throw new I.ErrnoError(44);var A=Jt.basename(l),H=I.lookupNode(b,A),we=I.mayDelete(b,A,!1);if(we)throw new I.ErrnoError(we);if(!b.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(H))throw new I.ErrnoError(10);b.node_ops.unlink(b,A),I.destroyNode(H)},readlink:l=>{var b=I.lookupPath(l).node;if(!b)throw new I.ErrnoError(44);if(!b.node_ops.readlink)throw new I.ErrnoError(28);return lr.resolve(I.getPath(b.parent),b.node_ops.readlink(b))},stat:(l,g)=>{var A=I.lookupPath(l,{follow:!g}).node;if(!A)throw new I.ErrnoError(44);if(!A.node_ops.getattr)throw new I.ErrnoError(63);return A.node_ops.getattr(A)},lstat:l=>I.stat(l,!0),chmod:(l,g,b)=>{var A;if(!(A="string"==typeof l?I.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new I.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&g|-4096&A.mode,timestamp:Date.now()})},lchmod:(l,g)=>{I.chmod(l,g,!0)},fchmod:(l,g)=>{var b=I.getStream(l);if(!b)throw new I.ErrnoError(8);I.chmod(b.node,g)},chown:(l,g,b,A)=>{var H;if(!(H="string"==typeof l?I.lookupPath(l,{follow:!A}).node:l).node_ops.setattr)throw new I.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(l,g,b)=>{I.chown(l,g,b,!0)},fchown:(l,g,b)=>{var A=I.getStream(l);if(!A)throw new I.ErrnoError(8);I.chown(A.node,g,b)},truncate:(l,g)=>{if(g<0)throw new I.ErrnoError(28);var b;if(!(b="string"==typeof l?I.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(b.mode))throw new I.ErrnoError(31);if(!I.isFile(b.mode))throw new I.ErrnoError(28);var H=I.nodePermissions(b,"w");if(H)throw new I.ErrnoError(H);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(l,g)=>{var b=I.getStream(l);if(!b)throw new I.ErrnoError(8);if(0==(2097155&b.flags))throw new I.ErrnoError(28);I.truncate(b.node,g)},utime:(l,g,b)=>{var H=I.lookupPath(l,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(g,b)})},open:(l,g,b)=>{if(""===l)throw new I.ErrnoError(44);var A;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?I.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof l)A=l;else{l=Jt.normalize(l);try{A=I.lookupPath(l,{follow:!(131072&g)}).node}catch{}}var we=!1;if(64&g)if(A){if(128&g)throw new I.ErrnoError(20)}else A=I.mknod(l,b,0),we=!0;if(!A)throw new I.ErrnoError(44);if(I.isChrdev(A.mode)&&(g&=-513),65536&g&&!I.isDir(A.mode))throw new I.ErrnoError(54);if(!we){var Ie=I.mayOpen(A,g);if(Ie)throw new I.ErrnoError(Ie)}512&g&&!we&&I.truncate(A,0),g&=-131713;var Le=I.createStream({node:A,path:I.getPath(A),flags:g,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return Le.stream_ops.open&&Le.stream_ops.open(Le),d.logReadFiles&&!(1&g)&&(I.readFiles||(I.readFiles={}),l in I.readFiles||(I.readFiles[l]=1)),Le},close:l=>{if(I.isClosed(l))throw new I.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(g){throw g}finally{I.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,g,b)=>{if(I.isClosed(l))throw new I.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new I.ErrnoError(28);return l.position=l.stream_ops.llseek(l,g,b),l.ungotten=[],l.position},read:(l,g,b,A,H)=>{if(A<0||H<0)throw new I.ErrnoError(28);if(I.isClosed(l))throw new I.ErrnoError(8);if(1==(2097155&l.flags))throw new I.ErrnoError(8);if(I.isDir(l.node.mode))throw new I.ErrnoError(31);if(!l.stream_ops.read)throw new I.ErrnoError(28);var we=typeof H<"u";if(we){if(!l.seekable)throw new I.ErrnoError(70)}else H=l.position;var Ie=l.stream_ops.read(l,g,b,A,H);return we||(l.position+=Ie),Ie},write:(l,g,b,A,H,we)=>{if(A<0||H<0)throw new I.ErrnoError(28);if(I.isClosed(l))throw new I.ErrnoError(8);if(0==(2097155&l.flags))throw new I.ErrnoError(8);if(I.isDir(l.node.mode))throw new I.ErrnoError(31);if(!l.stream_ops.write)throw new I.ErrnoError(28);l.seekable&&1024&l.flags&&I.llseek(l,0,2);var Ie=typeof H<"u";if(Ie){if(!l.seekable)throw new I.ErrnoError(70)}else H=l.position;var Le=l.stream_ops.write(l,g,b,A,H,we);return Ie||(l.position+=Le),Le},allocate:(l,g,b)=>{if(I.isClosed(l))throw new I.ErrnoError(8);if(g<0||b<=0)throw new I.ErrnoError(28);if(0==(2097155&l.flags))throw new I.ErrnoError(8);if(!I.isFile(l.node.mode)&&!I.isDir(l.node.mode))throw new I.ErrnoError(43);if(!l.stream_ops.allocate)throw new I.ErrnoError(138);l.stream_ops.allocate(l,g,b)},mmap:(l,g,b,A,H)=>{if(0!=(2&A)&&0==(2&H)&&2!=(2097155&l.flags))throw new I.ErrnoError(2);if(1==(2097155&l.flags))throw new I.ErrnoError(2);if(!l.stream_ops.mmap)throw new I.ErrnoError(43);return l.stream_ops.mmap(l,g,b,A,H)},msync:(l,g,b,A,H)=>l.stream_ops.msync?l.stream_ops.msync(l,g,b,A,H):0,munmap:l=>0,ioctl:(l,g,b)=>{if(!l.stream_ops.ioctl)throw new I.ErrnoError(59);return l.stream_ops.ioctl(l,g,b)},readFile:(l,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,A=I.open(l,g.flags),we=I.stat(l).size,Ie=new Uint8Array(we);return I.read(A,Ie,0,we,0),"utf8"===g.encoding?b=He(Ie,0):"binary"===g.encoding&&(b=Ie),I.close(A),b},writeFile:(l,g,b={})=>{b.flags=b.flags||577;var A=I.open(l,b.flags,b.mode);if("string"==typeof g){var H=new Uint8Array(X(g)+1),we=ke(g,H,0,H.length);I.write(A,H,0,we,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");I.write(A,g,0,g.byteLength,void 0,b.canOwn)}I.close(A)},cwd:()=>I.currentPath,chdir:l=>{var g=I.lookupPath(l,{follow:!0});if(null===g.node)throw new I.ErrnoError(44);if(!I.isDir(g.node.mode))throw new I.ErrnoError(54);var b=I.nodePermissions(g.node,"x");if(b)throw new I.ErrnoError(b);I.currentPath=g.path},createDefaultDirectories:()=>{I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices:()=>{I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(g,b,A,H,we)=>H}),I.mkdev("/dev/null",I.makedev(1,3)),tr.register(I.makedev(5,0),tr.default_tty_ops),tr.register(I.makedev(6,0),tr.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var l=function Yn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>Qn("randomDevice")}();I.createDevice("/dev","random",l),I.createDevice("/dev","urandom",l),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{I.mkdir("/proc");var l=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount:()=>{var g=I.createNode(l,"fd",16895,73);return g.node_ops={lookup:(b,A)=>{var we=I.getStream(+A);if(!we)throw new I.ErrnoError(8);var Ie={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>we.path}};return Ie.parent=Ie,Ie}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?I.createDevice("/dev","stdin",d.stdin):I.symlink("/dev/tty","/dev/stdin"),d.stdout?I.createDevice("/dev","stdout",null,d.stdout):I.symlink("/dev/tty","/dev/stdout"),d.stderr?I.createDevice("/dev","stderr",null,d.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError:()=>{I.ErrnoError||(I.ErrnoError=function(g,b){this.node=b,this.setErrno=function(A){this.errno=A},this.setErrno(g),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(l=>{I.genericErrors[l]=new I.ErrnoError(l),I.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(kt,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:kt}},init:(l,g,b)=>{I.init.initialized=!0,I.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=g||d.stdout,d.stderr=b||d.stderr,I.createStandardStreams()},quit:()=>{I.init.initialized=!1;for(var l=0;l<I.streams.length;l++){var g=I.streams[l];!g||I.close(g)}},getMode:(l,g)=>{var b=0;return l&&(b|=365),g&&(b|=146),b},findObject:(l,g)=>{var b=I.analyzePath(l,g);return b.exists?b.object:null},analyzePath:(l,g)=>{try{l=(b=I.lookupPath(l,{follow:!g})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=I.lookupPath(l,{parent:!0});A.parentExists=!0,A.parentPath=b.path,A.parentObject=b.node,A.name=Jt.basename(l),b=I.lookupPath(l,{follow:!g}),A.exists=!0,A.path=b.path,A.object=b.node,A.name=b.node.name,A.isRoot="/"===b.path}catch(H){A.error=H.errno}return A},createPath:(l,g,b,A)=>{l="string"==typeof l?l:I.getPath(l);for(var H=g.split("/").reverse();H.length;){var we=H.pop();if(we){var Ie=Jt.join2(l,we);try{I.mkdir(Ie)}catch{}l=Ie}}return Ie},createFile:(l,g,b,A,H)=>{var we=Jt.join2("string"==typeof l?l:I.getPath(l),g),Ie=I.getMode(A,H);return I.create(we,Ie)},createDataFile:(l,g,b,A,H,we)=>{var Ie=g;l&&(l="string"==typeof l?l:I.getPath(l),Ie=g?Jt.join2(l,g):l);var Le=I.getMode(A,H),vt=I.create(Ie,Le);if(b){if("string"==typeof b){for(var Qt=new Array(b.length),kn=0,Bn=b.length;kn<Bn;++kn)Qt[kn]=b.charCodeAt(kn);b=Qt}I.chmod(vt,146|Le);var Pt=I.open(vt,577);I.write(Pt,b,0,b.length,0,we),I.close(Pt),I.chmod(vt,Le)}return vt},createDevice:(l,g,b,A)=>{var H=Jt.join2("string"==typeof l?l:I.getPath(l),g),we=I.getMode(!!b,!!A);I.createDevice.major||(I.createDevice.major=64);var Ie=I.makedev(I.createDevice.major++,0);return I.registerDevice(Ie,{open:Le=>{Le.seekable=!1},close:Le=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(Le,vt,Qt,kn,Bn)=>{for(var Pt=0,$t=0;$t<kn;$t++){var Kt;try{Kt=b()}catch{throw new I.ErrnoError(29)}if(void 0===Kt&&0===Pt)throw new I.ErrnoError(6);if(null==Kt)break;Pt++,vt[Qt+$t]=Kt}return Pt&&(Le.node.timestamp=Date.now()),Pt},write:(Le,vt,Qt,kn,Bn)=>{for(var Pt=0;Pt<kn;Pt++)try{A(vt[Qt+Pt])}catch{throw new I.ErrnoError(29)}return kn&&(Le.node.timestamp=Date.now()),Pt}}),I.mkdev(H,we,Ie)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Vt(V(l.url),!0),l.usedBytes=l.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile:(l,g,b,A,H)=>{function we(){this.lengthKnown=!1,this.chunks=[]}if(we.prototype.get=function($t){if(!($t>this.length-1||$t<0)){var Kt=$t%this.chunkSize;return this.getter($t/this.chunkSize|0)[Kt]}},we.prototype.setDataGetter=function($t){this.getter=$t},we.prototype.cacheLength=function(){var $t=new XMLHttpRequest;if($t.open("HEAD",b,!1),$t.send(null),!($t.status>=200&&$t.status<300||304===$t.status))throw new Error("Couldn't load "+b+". Status: "+$t.status);var Yr,Kt=Number($t.getResponseHeader("Content-length")),Di=(Yr=$t.getResponseHeader("Accept-Ranges"))&&"bytes"===Yr,Bo=(Yr=$t.getResponseHeader("Content-Encoding"))&&"gzip"===Yr,ht=1048576;Di||(ht=Kt);var uo=this;uo.setDataGetter(ur=>{var ti=ur*ht,Lr=(ur+1)*ht-1;if(Lr=Math.min(Lr,Kt-1),typeof uo.chunks[ur]>"u"&&(uo.chunks[ur]=((ur,ti)=>{if(ur>ti)throw new Error("invalid range ("+ur+", "+ti+") or no bytes requested!");if(ti>Kt-1)throw new Error("only "+Kt+" bytes available! programmer error!");var Lr=new XMLHttpRequest;if(Lr.open("GET",b,!1),Kt!==ht&&Lr.setRequestHeader("Range","bytes="+ur+"-"+ti),Lr.responseType="arraybuffer",Lr.overrideMimeType&&Lr.overrideMimeType("text/plain; charset=x-user-defined"),Lr.send(null),!(Lr.status>=200&&Lr.status<300||304===Lr.status))throw new Error("Couldn't load "+b+". Status: "+Lr.status);return void 0!==Lr.response?new Uint8Array(Lr.response||[]):Vt(Lr.responseText||"",!0)})(ti,Lr)),typeof uo.chunks[ur]>"u")throw new Error("doXHR failed!");return uo.chunks[ur]}),(Bo||!Kt)&&(ht=Kt=1,Kt=this.getter(0).length,ht=Kt,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Kt,this._chunkSize=ht,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ie=new we;Object.defineProperties(Ie,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Le={isDevice:!1,contents:Ie}}else Le={isDevice:!1,url:b};var vt=I.createFile(l,g,Le,A,H);Le.contents?vt.contents=Le.contents:Le.url&&(vt.contents=null,vt.url=Le.url),Object.defineProperties(vt,{usedBytes:{get:function(){return this.contents.length}}});var Qt={};function Bn(Pt,$t,Kt,Yr,Di){var Bo=Pt.node.contents;if(Di>=Bo.length)return 0;var ht=Math.min(Bo.length-Di,Yr);if(Bo.slice)for(var nn=0;nn<ht;nn++)$t[Kt+nn]=Bo[Di+nn];else for(nn=0;nn<ht;nn++)$t[Kt+nn]=Bo.get(Di+nn);return ht}return Object.keys(vt.stream_ops).forEach(Pt=>{var $t=vt.stream_ops[Pt];Qt[Pt]=function(){return I.forceLoadFile(vt),$t.apply(null,arguments)}}),Qt.read=(Pt,$t,Kt,Yr,Di)=>(I.forceLoadFile(vt),Bn(Pt,$t,Kt,Yr,Di)),Qt.mmap=(Pt,$t,Kt,Yr,Di)=>{I.forceLoadFile(vt);var Bo=S();if(!Bo)throw new I.ErrnoError(48);return Bn(Pt,qe,Bo,$t,Kt),{ptr:Bo,allocated:!0}},vt.stream_ops=Qt,vt},createPreloadedFile:(l,g,b,A,H,we,Ie,Le,vt,Qt)=>{var kn=g?lr.resolve(Jt.join2(l,g)):l;function Pt($t){function Kt(Yr){Qt&&Qt(),Le||I.createDataFile(l,g,Yr,A,H,vt),we&&we(),ar()}Browser.handledByPreloadPlugin($t,kn,Kt,()=>{Ie&&Ie(),ar()})||Kt($t)}mo(),"string"==typeof b?function hr(l,g,b,A){var H=A?"":"al "+l;xe(l,we=>{Ce(we,'Loading data file "'+l+'" failed (no arrayBuffer).'),g(new Uint8Array(we)),H&&ar()},we=>{if(!b)throw'Loading data file "'+l+'" failed.';b()}),H&&mo()}(b,$t=>Pt($t),Ie):Pt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var A=I.indexedDB();try{var H=A.open(I.DB_NAME(),I.DB_VERSION)}catch(we){return b(we)}H.onupgradeneeded=()=>{ge("creating db"),H.result.createObjectStore(I.DB_STORE_NAME)},H.onsuccess=()=>{var Ie=H.result.transaction([I.DB_STORE_NAME],"readwrite"),Le=Ie.objectStore(I.DB_STORE_NAME),vt=0,Qt=0,kn=l.length;function Bn(){0==Qt?g():b()}l.forEach(Pt=>{var $t=Le.put(I.analyzePath(Pt).object.contents,Pt);$t.onsuccess=()=>{++vt+Qt==kn&&Bn()},$t.onerror=()=>{Qt++,vt+Qt==kn&&Bn()}}),Ie.onerror=b},H.onerror=b},loadFilesFromDB:(l,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var A=I.indexedDB();try{var H=A.open(I.DB_NAME(),I.DB_VERSION)}catch(we){return b(we)}H.onupgradeneeded=b,H.onsuccess=()=>{var we=H.result;try{var Ie=we.transaction([I.DB_STORE_NAME],"readonly")}catch(Pt){return void b(Pt)}var Le=Ie.objectStore(I.DB_STORE_NAME),vt=0,Qt=0,kn=l.length;function Bn(){0==Qt?g():b()}l.forEach(Pt=>{var $t=Le.get(Pt);$t.onsuccess=()=>{I.analyzePath(Pt).exists&&I.unlink(Pt),I.createDataFile(Jt.dirname(Pt),Jt.basename(Pt),$t.result,!0,!0,!0),++vt+Qt==kn&&Bn()},$t.onerror=()=>{Qt++,vt+Qt==kn&&Bn()}}),Ie.onerror=b},H.onerror=b}},Pr={DEFAULT_POLLMASK:5,calculateAt:function(l,g,b){if(Jt.isAbs(g))return g;var A;if(A=-100===l?I.cwd():Pr.getStreamFromFD(l).path,0==g.length){if(!b)throw new I.ErrnoError(44);return A}return Jt.join2(A,g)},doStat:function(l,g,b){try{var A=l(g)}catch(H){if(H&&H.node&&Jt.normalize(g)!==Jt.normalize(I.getPath(H.node)))return-54;throw H}return L[b>>2]=A.dev,L[b+8>>2]=A.ino,L[b+12>>2]=A.mode,B[b+16>>2]=A.nlink,L[b+20>>2]=A.uid,L[b+24>>2]=A.gid,L[b+28>>2]=A.rdev,re=[A.size>>>0,(Je=A.size,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[b+40>>2]=re[0],L[b+44>>2]=re[1],L[b+48>>2]=4096,L[b+52>>2]=A.blocks,re=[Math.floor(A.atime.getTime()/1e3)>>>0,(Je=Math.floor(A.atime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[b+56>>2]=re[0],L[b+60>>2]=re[1],B[b+64>>2]=0,re=[Math.floor(A.mtime.getTime()/1e3)>>>0,(Je=Math.floor(A.mtime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[b+72>>2]=re[0],L[b+76>>2]=re[1],B[b+80>>2]=0,re=[Math.floor(A.ctime.getTime()/1e3)>>>0,(Je=Math.floor(A.ctime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[b+88>>2]=re[0],L[b+92>>2]=re[1],B[b+96>>2]=0,re=[A.ino>>>0,(Je=A.ino,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[b+104>>2]=re[0],L[b+108>>2]=re[1],0},doMsync:function(l,g,b,A,H){if(!I.isFile(g.node.mode))throw new I.ErrnoError(43);if(2&A)return 0;var we=at.slice(l,l+b);I.msync(g,we,H,b,A)},varargs:void 0,get:function(){return Pr.varargs+=4,L[Pr.varargs-4>>2]},getStr:function(l){return Ne(l)},getStreamFromFD:function(l){var g=I.getStream(l);if(!g)throw new I.ErrnoError(8);return g}};function Mo(l){return l%4==0&&(l%100!=0||l%400==0)}var zt=[0,31,60,91,121,152,182,213,244,274,305,335],eo=[0,31,59,90,120,151,181,212,243,273,304,334];function nr(l){return(Mo(l.getFullYear())?zt:eo)[l.getMonth()]+l.getDate()-1}function Wo(l){var g=X(l)+1,b=ft(g);return b&&ke(l,qe,b,g),b}var D=[];function Vr(l){try{return ce.grow(l-ze.byteLength+65535>>>16),Te(ce.buffer),1}catch{}}var qo={};function Gn(){if(!Gn.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var b in qo)void 0===qo[b]?delete g[b]:g[b]=qo[b];var A=[];for(var b in g)A.push(b+"="+g[b]);Gn.strings=A}return Gn.strings}var ae=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Wt(l,g){l<128?g.push(l):g.push(l%128|128,l>>7)}var Rr=[];function mr(l){var g=Rr[l];return g||(l>=Rr.length&&(Rr.length=l+1),Rr[l]=g=tt.get(l)),g}var Xo=void 0,bi=[];function Ss(l,g){tt.set(l,g),Rr[l]=tt.get(l)}var Es=function(l,g,b,A){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=I.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(Es.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=Es,I.staticInit();var oc,Fn={b:function cn(l,g,b,A){Qn("Assertion failed: "+Ne(l)+", at: "+[g?Ne(g):"unknown filename",b,A?Ne(A):"unknown function"])},i:function pn(l){const g=new Error(Ne(l));throw g.isAssert=!0,g},l:function so(l,g,b){try{var A=er(g,b);return isNaN(A)?-61:(I.ftruncate(l,A),0)}catch(H){if(typeof I>"u"||!(H instanceof I.ErrnoError))throw H;return-H.errno}},e:function Po(){return!0},f:function to(l,g){var b=new Date(1e3*function _r(l){return B[l>>2]+4294967296*L[l+4>>2]}(l));L[g>>2]=b.getSeconds(),L[g+4>>2]=b.getMinutes(),L[g+8>>2]=b.getHours(),L[g+12>>2]=b.getDate(),L[g+16>>2]=b.getMonth(),L[g+20>>2]=b.getFullYear()-1900,L[g+24>>2]=b.getDay();var A=0|nr(b);L[g+28>>2]=A,L[g+36>>2]=-60*b.getTimezoneOffset();var H=new Date(b.getFullYear(),0,1),we=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ie=H.getTimezoneOffset(),Le=0|(we!=Ie&&b.getTimezoneOffset()==Math.min(Ie,we));L[g+32>>2]=Le},g:function no(l){var g=new Date(L[l+20>>2]+1900,L[l+16>>2],L[l+12>>2],L[l+8>>2],L[l+4>>2],L[l>>2],0),b=L[l+32>>2],A=g.getTimezoneOffset(),H=new Date(g.getFullYear(),0,1),we=new Date(g.getFullYear(),6,1).getTimezoneOffset(),Ie=H.getTimezoneOffset(),Le=Math.min(Ie,we);if(b<0)L[l+32>>2]=Number(we!=Ie&&Le==A);else if(b>0!=(Le==A)){var vt=Math.max(Ie,we),Qt=b>0?Le:vt;g.setTime(g.getTime()+6e4*(Qt-A))}L[l+24>>2]=g.getDay();var kn=0|nr(g);return L[l+28>>2]=kn,L[l>>2]=g.getSeconds(),L[l+4>>2]=g.getMinutes(),L[l+8>>2]=g.getHours(),L[l+12>>2]=g.getDate(),L[l+16>>2]=g.getMonth(),L[l+20>>2]=g.getYear(),g.getTime()/1e3|0},h:function Xt(l,g,b){var A=(new Date).getFullYear(),H=new Date(A,0,1),we=new Date(A,6,1),Ie=H.getTimezoneOffset(),Le=we.getTimezoneOffset(),vt=Math.max(Ie,Le);function Qt(Kt){var Yr=Kt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Yr?Yr[1]:"GMT"}B[l>>2]=60*vt,L[g>>2]=Number(Ie!=Le);var kn=Qt(H),Bn=Qt(we),Pt=Wo(kn),$t=Wo(Bn);Le<Ie?(B[b>>2]=Pt,B[b+4>>2]=$t):(B[b>>2]=$t,B[b+4>>2]=Pt)},a:function yo(){Qn("")},j:function Br(l,g,b){var A=function qr(l,g){var b;for(D.length=0,g>>=2;b=at[l++];)g+=105!=b&g,D.push(105==b?L[g]:fe[g++>>1]),++g;return D}(g,b);return Be[l].apply(null,A)},c:function ai(){return Date.now()},q:function Ro(l,g,b){at.copyWithin(l,g,g+b)},p:function Qi(l){var vt,g=at.length,b=2147483648;if((l>>>=0)>b)return!1;for(var H=1;H<=4;H*=2){var we=g*(1+.2/H);if(we=Math.min(we,l+100663296),Vr(Math.min(b,(vt=Math.max(l,we))+(65536-vt%65536)%65536)))return!0}return!1},n:function _i(l,g){var b=0;return Gn().forEach(function(A,H){var we=g+b;B[l+4*H>>2]=we,function Zo(l,g,b){for(var A=0;A<l.length;++A)qe[g++>>0]=l.charCodeAt(A);b||(qe[g>>0]=0)}(A,we),b+=A.length+1}),0},o:function Yo(l,g){var b=Gn();B[l>>2]=b.length;var A=0;return b.forEach(function(H){A+=H.length+1}),B[g>>2]=A,0},r:function Rn(l){try{var g=Pr.getStreamFromFD(l);return I.close(g),0}catch(b){if(typeof I>"u"||!(b instanceof I.ErrnoError))throw b;return b.errno}},d:function Nn(l,g,b,A){try{var we=function Ko(l,g,b,A){for(var H=0,we=0;we<b;we++){var Ie=B[g>>2],Le=B[g+4>>2];g+=8;var vt=I.read(l,qe,Ie,Le,A);if(vt<0)return-1;if(H+=vt,vt<Le)break}return H}(Pr.getStreamFromFD(l),g,b);return B[A>>2]=we,0}catch(Ie){if(typeof I>"u"||!(Ie instanceof I.ErrnoError))throw Ie;return Ie.errno}},k:function wi(l,g,b,A,H){try{var we=er(g,b);if(isNaN(we))return 61;var Ie=Pr.getStreamFromFD(l);return I.llseek(Ie,we,A),re=[Ie.position>>>0,(Je=Ie.position,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[H>>2]=re[0],L[H+4>>2]=re[1],Ie.getdents&&0===we&&0===A&&(Ie.getdents=null),0}catch(Le){if(typeof I>"u"||!(Le instanceof I.ErrnoError))throw Le;return Le.errno}},s:function x(l,g,b,A){try{var we=function Ji(l,g,b,A){for(var H=0,we=0;we<b;we++){var Ie=B[g>>2],Le=B[g+4>>2];g+=8;var vt=I.write(l,qe,Ie,Le,A);if(vt<0)return-1;H+=vt}return H}(Pr.getStreamFromFD(l),g,b);return B[A>>2]=we,0}catch(Ie){if(typeof I>"u"||!(Ie instanceof I.ErrnoError))throw Ie;return Ie.errno}},m:function Pe(l,g,b,A,H){return function J(l,g,b,A){var H=L[A+40>>2],we={tm_sec:L[A>>2],tm_min:L[A+4>>2],tm_hour:L[A+8>>2],tm_mday:L[A+12>>2],tm_mon:L[A+16>>2],tm_year:L[A+20>>2],tm_wday:L[A+24>>2],tm_yday:L[A+28>>2],tm_isdst:L[A+32>>2],tm_gmtoff:L[A+36>>2],tm_zone:H?Ne(H):""},Ie=Ne(b),Le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var vt in Le)Ie=Ie.replace(new RegExp(vt,"g"),Le[vt]);var Qt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Bn(ht,nn,uo){for(var ur="number"==typeof ht?ht.toString():ht||"";ur.length<nn;)ur=uo[0]+ur;return ur}function Pt(ht,nn){return Bn(ht,nn,"0")}function $t(ht,nn){function uo(ti){return ti<0?-1:ti>0?1:0}var ur;return 0===(ur=uo(ht.getFullYear()-nn.getFullYear()))&&0===(ur=uo(ht.getMonth()-nn.getMonth()))&&(ur=uo(ht.getDate()-nn.getDate())),ur}function Kt(ht){switch(ht.getDay()){case 0:return new Date(ht.getFullYear()-1,11,29);case 1:return ht;case 2:return new Date(ht.getFullYear(),0,3);case 3:return new Date(ht.getFullYear(),0,2);case 4:return new Date(ht.getFullYear(),0,1);case 5:return new Date(ht.getFullYear()-1,11,31);case 6:return new Date(ht.getFullYear()-1,11,30)}}function Yr(ht){var nn=function P(l,g){for(var b=new Date(l.getTime());g>0;){var A=Mo(b.getFullYear()),H=b.getMonth(),we=(A?ae:Se)[H];if(!(g>we-b.getDate()))return b.setDate(b.getDate()+g),b;g-=we-b.getDate()+1,b.setDate(1),H<11?b.setMonth(H+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ht.tm_year+1900,0,1),ht.tm_yday),uo=new Date(nn.getFullYear(),0,4),ur=new Date(nn.getFullYear()+1,0,4),ti=Kt(uo),Lr=Kt(ur);return $t(ti,nn)<=0?$t(Lr,nn)<=0?nn.getFullYear()+1:nn.getFullYear():nn.getFullYear()-1}var Di={"%a":function(ht){return Qt[ht.tm_wday].substring(0,3)},"%A":function(ht){return Qt[ht.tm_wday]},"%b":function(ht){return kn[ht.tm_mon].substring(0,3)},"%B":function(ht){return kn[ht.tm_mon]},"%C":function(ht){return Pt((ht.tm_year+1900)/100|0,2)},"%d":function(ht){return Pt(ht.tm_mday,2)},"%e":function(ht){return Bn(ht.tm_mday,2," ")},"%g":function(ht){return Yr(ht).toString().substring(2)},"%G":function(ht){return Yr(ht)},"%H":function(ht){return Pt(ht.tm_hour,2)},"%I":function(ht){var nn=ht.tm_hour;return 0==nn?nn=12:nn>12&&(nn-=12),Pt(nn,2)},"%j":function(ht){return Pt(ht.tm_mday+function N(l,g){for(var b=0,A=0;A<=g;b+=l[A++]);return b}(Mo(ht.tm_year+1900)?ae:Se,ht.tm_mon-1),3)},"%m":function(ht){return Pt(ht.tm_mon+1,2)},"%M":function(ht){return Pt(ht.tm_min,2)},"%n":function(){return"\n"},"%p":function(ht){return ht.tm_hour>=0&&ht.tm_hour<12?"AM":"PM"},"%S":function(ht){return Pt(ht.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ht){return ht.tm_wday||7},"%U":function(ht){return Pt(Math.floor((ht.tm_yday+7-ht.tm_wday)/7),2)},"%V":function(ht){var nn=Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7);if((ht.tm_wday+371-ht.tm_yday-2)%7<=2&&nn++,nn){if(53==nn){var ur=(ht.tm_wday+371-ht.tm_yday)%7;4!=ur&&(3!=ur||!Mo(ht.tm_year))&&(nn=1)}}else{nn=52;var uo=(ht.tm_wday+7-ht.tm_yday-1)%7;(4==uo||5==uo&&Mo(ht.tm_year%400-1))&&nn++}return Pt(nn,2)},"%w":function(ht){return ht.tm_wday},"%W":function(ht){return Pt(Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7),2)},"%y":function(ht){return(ht.tm_year+1900).toString().substring(2)},"%Y":function(ht){return ht.tm_year+1900},"%z":function(ht){var nn=ht.tm_gmtoff,uo=nn>=0;return nn=(nn=Math.abs(nn)/60)/60*100+nn%60,(uo?"+":"-")+String("0000"+nn).slice(-4)},"%Z":function(ht){return ht.tm_zone},"%%":function(){return"%"}};for(var vt in Ie=Ie.replace(/%%/g,"\0\0"),Di)Ie.includes(vt)&&(Ie=Ie.replace(new RegExp(vt,"g"),Di[vt](we)));var Bo=Vt(Ie=Ie.replace(/\0\0/g,"%"),!1);return Bo.length>g?0:(function Y(l,g){qe.set(l,g)}(Bo,l),Bo.length-1)}(l,g,b,A)}},ft=(function Ar(){var l={a:Fn};function g(Ie,Le){d.asm=Ie.exports,Te((ce=d.asm.t).buffer),tt=d.asm.hc,function Jr(l){et.unshift(l)}(d.asm.u),ar()}function b(Ie){g(Ie.instance)}function A(Ie){return function vi(){return le||!ye&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Wr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+Sn+"'";return l.arrayBuffer()}).catch(function(){return Wr(Sn)})}().then(function(Le){return WebAssembly.instantiate(Le,l)}).then(function(Le){return Le}).then(Ie,function(Le){oe("failed to asynchronously prepare wasm: "+Le),Qn(Le)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(l,g)}catch(Ie){oe("Module.instantiateWasm callback failed with error: "+Ie),ee(Ie)}(function H(){return le||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?A(b):fetch(Sn,{credentials:"same-origin"}).then(function(Ie){return WebAssembly.instantiateStreaming(Ie,l).then(b,function(vt){return oe("wasm streaming compile failed: "+vt),oe("falling back to ArrayBuffer instantiation"),A(b)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.u).apply(null,arguments)},d._free=function(){return(d._free=d.asm.v).apply(null,arguments)},d._malloc=function(){return(ft=d._malloc=d.asm.w).apply(null,arguments)}),Kn=(d._main=function(){return(d._main=d.asm.x).apply(null,arguments)},d._emscripten_bind_VoidPtr___destroy___0=function(){return(Kn=d._emscripten_bind_VoidPtr___destroy___0=d.asm.y).apply(null,arguments)}),Ds=d._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Ds=d._emscripten_bind_Cloudpilot_Cloudpilot_0=d.asm.z).apply(null,arguments)},xa=d._emscripten_bind_Cloudpilot_Malloc_1=function(){return(xa=d._emscripten_bind_Cloudpilot_Malloc_1=d.asm.A).apply(null,arguments)},ql=d._emscripten_bind_Cloudpilot_Free_1=function(){return(ql=d._emscripten_bind_Cloudpilot_Free_1=d.asm.B).apply(null,arguments)},Is=d._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(Is=d._emscripten_bind_Cloudpilot_Nullptr_0=d.asm.C).apply(null,arguments)},es=d._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(es=d._emscripten_bind_Cloudpilot_InitializeSession_3=d.asm.D).apply(null,arguments)},ts=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(ts=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d.asm.E).apply(null,arguments)},ns=d._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(ns=d._emscripten_bind_Cloudpilot_RunEmulation_1=d.asm.F).apply(null,arguments)},Zr=d._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(Zr=d._emscripten_bind_Cloudpilot_SetClockFactor_1=d.asm.G).apply(null,arguments)},kr=d._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(kr=d._emscripten_bind_Cloudpilot_CopyFrame_0=d.asm.H).apply(null,arguments)},Nt=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(Nt=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=d.asm.I).apply(null,arguments)},Fo=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Fo=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=d.asm.J).apply(null,arguments)},Aa=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(Aa=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=d.asm.K).apply(null,arguments)},Oo=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Oo=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=d.asm.L).apply(null,arguments)},Zs=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Zs=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=d.asm.M).apply(null,arguments)},cl=d._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(cl=d._emscripten_bind_Cloudpilot_QueuePenMove_2=d.asm.N).apply(null,arguments)},An=d._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(An=d._emscripten_bind_Cloudpilot_QueuePenUp_0=d.asm.O).apply(null,arguments)},Dn=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Dn=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=d.asm.P).apply(null,arguments)},vo=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(vo=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=d.asm.Q).apply(null,arguments)},hn=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(hn=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=d.asm.R).apply(null,arguments)},en=d._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(en=d._emscripten_bind_Cloudpilot_IsPowerOff_0=d.asm.S).apply(null,arguments)},h=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(h=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=d.asm.T).apply(null,arguments)},_=d._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(_=d._emscripten_bind_Cloudpilot_GetOSVersion_0=d.asm.U).apply(null,arguments)},c=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(c=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=d.asm.V).apply(null,arguments)},p=d._emscripten_bind_Cloudpilot_Reset_0=function(){return(p=d._emscripten_bind_Cloudpilot_Reset_0=d.asm.W).apply(null,arguments)},m=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(m=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d.asm.X).apply(null,arguments)},w=d._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(w=d._emscripten_bind_Cloudpilot_ResetHard_0=d.asm.Y).apply(null,arguments)},E=d._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(E=d._emscripten_bind_Cloudpilot_InstallDb_2=d.asm.Z).apply(null,arguments)},F=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(F=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d.asm._).apply(null,arguments)},G=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(G=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d.asm.$).apply(null,arguments)},ie=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(ie=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d.asm.aa).apply(null,arguments)},Ye=d._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Ye=d._emscripten_bind_Cloudpilot_GetMemorySize_0=d.asm.ba).apply(null,arguments)},yt=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(yt=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=d.asm.ca).apply(null,arguments)},ue=d._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(ue=d._emscripten_bind_Cloudpilot_GetRomPtr_0=d.asm.da).apply(null,arguments)},pt=d._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(pt=d._emscripten_bind_Cloudpilot_GetRomSize_0=d.asm.ea).apply(null,arguments)},dt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(dt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d.asm.fa).apply(null,arguments)},_t=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(_t=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=d.asm.ga).apply(null,arguments)},sn=d._emscripten_bind_Cloudpilot_SaveState_0=function(){return(sn=d._emscripten_bind_Cloudpilot_SaveState_0=d.asm.ha).apply(null,arguments)},jt=d._emscripten_bind_Cloudpilot_LoadState_2=function(){return(jt=d._emscripten_bind_Cloudpilot_LoadState_2=d.asm.ia).apply(null,arguments)},ot=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(ot=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=d.asm.ja).apply(null,arguments)},Mt=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Mt=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=d.asm.ka).apply(null,arguments)},De=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(De=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=d.asm.la).apply(null,arguments)},lt=d._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(lt=d._emscripten_bind_Cloudpilot_StartBackup_0=d.asm.ma).apply(null,arguments)},Yt=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Yt=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=d.asm.na).apply(null,arguments)},Ut=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Ut=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d.asm.oa).apply(null,arguments)},cr=d._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(cr=d._emscripten_bind_Cloudpilot_IsSuspended_0=d.asm.pa).apply(null,arguments)},jn=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(jn=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=d.asm.qa).apply(null,arguments)},ci=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(ci=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=d.asm.ra).apply(null,arguments)},xt=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(xt=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d.asm.sa).apply(null,arguments)},Cn=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Cn=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=d.asm.ta).apply(null,arguments)},wr=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(wr=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=d.asm.ua).apply(null,arguments)},Qo=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Qo=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=d.asm.va).apply(null,arguments)},Ms=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Ms=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=d.asm.wa).apply(null,arguments)},ro=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(ro=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=d.asm.xa).apply(null,arguments)},ks=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(ks=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d.asm.ya).apply(null,arguments)},Tr=d._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Tr=d._emscripten_bind_Cloudpilot_AllocateCard_2=d.asm.za).apply(null,arguments)},Pa=d._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Pa=d._emscripten_bind_Cloudpilot_MountCard_1=d.asm.Aa).apply(null,arguments)},Ys=d._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Ys=d._emscripten_bind_Cloudpilot_RemoveCard_1=d.asm.Ba).apply(null,arguments)},In=d._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(In=d._emscripten_bind_Cloudpilot_GetCardData_1=d.asm.Ca).apply(null,arguments)},ul=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(ul=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=d.asm.Da).apply(null,arguments)},Ks=d._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Ks=d._emscripten_bind_Cloudpilot_GetCardSize_1=d.asm.Ea).apply(null,arguments)},Zl=d._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Zl=d._emscripten_bind_Cloudpilot_RemountCards_0=d.asm.Fa).apply(null,arguments)},Ts=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(Ts=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=d.asm.Ga).apply(null,arguments)},_o=d._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(_o=d._emscripten_bind_Cloudpilot_GetMountedKey_0=d.asm.Ha).apply(null,arguments)},Ra=d._emscripten_bind_Cloudpilot___destroy___0=function(){return(Ra=d._emscripten_bind_Cloudpilot___destroy___0=d.asm.Ia).apply(null,arguments)},Xs=d._emscripten_bind_RomInfo_RomInfo_2=function(){return(Xs=d._emscripten_bind_RomInfo_RomInfo_2=d.asm.Ja).apply(null,arguments)},Ci=d._emscripten_bind_RomInfo_IsValid_0=function(){return(Ci=d._emscripten_bind_RomInfo_IsValid_0=d.asm.Ka).apply(null,arguments)},Qs=d._emscripten_bind_RomInfo_CardVersion_0=function(){return(Qs=d._emscripten_bind_RomInfo_CardVersion_0=d.asm.La).apply(null,arguments)},su=d._emscripten_bind_RomInfo_CardName_0=function(){return(su=d._emscripten_bind_RomInfo_CardName_0=d.asm.Ma).apply(null,arguments)},fr=d._emscripten_bind_RomInfo_RomVersion_0=function(){return(fr=d._emscripten_bind_RomInfo_RomVersion_0=d.asm.Na).apply(null,arguments)},Gd=d._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Gd=d._emscripten_bind_RomInfo_RomVersionString_0=d.asm.Oa).apply(null,arguments)},zd=d._emscripten_bind_RomInfo_Supports_1=function(){return(zd=d._emscripten_bind_RomInfo_Supports_1=d.asm.Pa).apply(null,arguments)},dl=d._emscripten_bind_RomInfo___destroy___0=function(){return(dl=d._emscripten_bind_RomInfo___destroy___0=d.asm.Qa).apply(null,arguments)},Yl=d._emscripten_bind_Frame_GetLineWidth_0=function(){return(Yl=d._emscripten_bind_Frame_GetLineWidth_0=d.asm.Ra).apply(null,arguments)},Fa=d._emscripten_bind_Frame_GetBpp_0=function(){return(Fa=d._emscripten_bind_Frame_GetBpp_0=d.asm.Sa).apply(null,arguments)},fl=d._emscripten_bind_Frame_GetLines_0=function(){return(fl=d._emscripten_bind_Frame_GetLines_0=d.asm.Ta).apply(null,arguments)},xs=d._emscripten_bind_Frame_GetMargin_0=function(){return(xs=d._emscripten_bind_Frame_GetMargin_0=d.asm.Ua).apply(null,arguments)},wo=d._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(wo=d._emscripten_bind_Frame_GetBytesPerLine_0=d.asm.Va).apply(null,arguments)},Wd=d._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Wd=d._emscripten_bind_Frame_GetFirstDirtyLine_0=d.asm.Wa).apply(null,arguments)},No=d._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(No=d._emscripten_bind_Frame_GetLastDirtyLine_0=d.asm.Xa).apply(null,arguments)},Si=d._emscripten_bind_Frame_GetHasChanges_0=function(){return(Si=d._emscripten_bind_Frame_GetHasChanges_0=d.asm.Ya).apply(null,arguments)},Kl=d._emscripten_bind_Frame_GetBuffer_0=function(){return(Kl=d._emscripten_bind_Frame_GetBuffer_0=d.asm.Za).apply(null,arguments)},pl=d._emscripten_bind_Frame_GetBufferSize_0=function(){return(pl=d._emscripten_bind_Frame_GetBufferSize_0=d.asm._a).apply(null,arguments)},hl=d._emscripten_bind_Frame_GetScaleX_0=function(){return(hl=d._emscripten_bind_Frame_GetScaleX_0=d.asm.$a).apply(null,arguments)},Ei=d._emscripten_bind_Frame_GetScaleY_0=function(){return(Ei=d._emscripten_bind_Frame_GetScaleY_0=d.asm.ab).apply(null,arguments)},qd=d._emscripten_bind_Frame___destroy___0=function(){return(qd=d._emscripten_bind_Frame___destroy___0=d.asm.bb).apply(null,arguments)},Ch=d._emscripten_bind_DbBackup_Init_1=function(){return(Ch=d._emscripten_bind_DbBackup_Init_1=d.asm.cb).apply(null,arguments)},Zd=d._emscripten_bind_DbBackup_IsInProgress_0=function(){return(Zd=d._emscripten_bind_DbBackup_IsInProgress_0=d.asm.db).apply(null,arguments)},Yd=d._emscripten_bind_DbBackup_IsDone_0=function(){return(Yd=d._emscripten_bind_DbBackup_IsDone_0=d.asm.eb).apply(null,arguments)},Sh=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Sh=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=d.asm.fb).apply(null,arguments)},Eh=d._emscripten_bind_DbBackup_Save_0=function(){return(Eh=d._emscripten_bind_DbBackup_Save_0=d.asm.gb).apply(null,arguments)},Dh=d._emscripten_bind_DbBackup_Skip_0=function(){return(Dh=d._emscripten_bind_DbBackup_Skip_0=d.asm.hb).apply(null,arguments)},Ih=d._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Ih=d._emscripten_bind_DbBackup_GetArchivePtr_0=d.asm.ib).apply(null,arguments)},Mh=d._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Mh=d._emscripten_bind_DbBackup_GetArchiveSize_0=d.asm.jb).apply(null,arguments)},kh=d._emscripten_bind_DbBackup___destroy___0=function(){return(kh=d._emscripten_bind_DbBackup___destroy___0=d.asm.kb).apply(null,arguments)},Th=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Th=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d.asm.lb).apply(null,arguments)},xh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(xh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d.asm.mb).apply(null,arguments)},Ah=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Ah=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d.asm.nb).apply(null,arguments)},Ph=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Ph=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d.asm.ob).apply(null,arguments)},Rh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(Rh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d.asm.pb).apply(null,arguments)},Fh=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Fh=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=d.asm.qb).apply(null,arguments)},Oh=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(Oh=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d.asm.rb).apply(null,arguments)},Nh=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Nh=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d.asm.sb).apply(null,arguments)},au=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(au=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=d.asm.tb).apply(null,arguments)},Xl=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Xl=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d.asm.ub).apply(null,arguments)},Lh=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Lh=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d.asm.vb).apply(null,arguments)},$h=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return($h=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d.asm.wb).apply(null,arguments)},Bh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Bh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d.asm.xb).apply(null,arguments)},As=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(As=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=d.asm.yb).apply(null,arguments)},Kd=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(Kd=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d.asm.zb).apply(null,arguments)},bo=d._emscripten_bind_SuspendContext_GetKind_0=function(){return(bo=d._emscripten_bind_SuspendContext_GetKind_0=d.asm.Ab).apply(null,arguments)},lu=d._emscripten_bind_SuspendContext_Cancel_0=function(){return(lu=d._emscripten_bind_SuspendContext_Cancel_0=d.asm.Bb).apply(null,arguments)},Xd=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Xd=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d.asm.Cb).apply(null,arguments)},Qd=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(Qd=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d.asm.Db).apply(null,arguments)},cu=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(cu=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d.asm.Eb).apply(null,arguments)},uu=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(uu=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d.asm.Fb).apply(null,arguments)},Jd=d._emscripten_bind_SuspendContext___destroy___0=function(){return(Jd=d._emscripten_bind_SuspendContext___destroy___0=d.asm.Gb).apply(null,arguments)},Ql=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Ql=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=d.asm.Hb).apply(null,arguments)},ef=d._emscripten_bind_ZipfileWalker_GetState_0=function(){return(ef=d._emscripten_bind_ZipfileWalker_GetState_0=d.asm.Ib).apply(null,arguments)},ui=d._emscripten_bind_ZipfileWalker_Next_0=function(){return(ui=d._emscripten_bind_ZipfileWalker_Next_0=d.asm.Jb).apply(null,arguments)},Jl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(Jl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d.asm.Kb).apply(null,arguments)},tf=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(tf=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d.asm.Lb).apply(null,arguments)},ec=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(ec=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d.asm.Mb).apply(null,arguments)},nf=d._emscripten_bind_ZipfileWalker___destroy___0=function(){return(nf=d._emscripten_bind_ZipfileWalker___destroy___0=d.asm.Nb).apply(null,arguments)},Vh=d._emscripten_bind_SessionImage_SessionImage_0=function(){return(Vh=d._emscripten_bind_SessionImage_SessionImage_0=d.asm.Ob).apply(null,arguments)},Hr=d._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Hr=d._emscripten_bind_SessionImage_GetDeviceId_0=d.asm.Pb).apply(null,arguments)},rf=d._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(rf=d._emscripten_bind_SessionImage_SetDeviceId_1=d.asm.Qb).apply(null,arguments)},Hh=d._emscripten_bind_SessionImage_GetRomImage_0=function(){return(Hh=d._emscripten_bind_SessionImage_GetRomImage_0=d.asm.Rb).apply(null,arguments)},ml=d._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(ml=d._emscripten_bind_SessionImage_GetRomImageSize_0=d.asm.Sb).apply(null,arguments)},di=d._emscripten_bind_SessionImage_SetRomImage_2=function(){return(di=d._emscripten_bind_SessionImage_SetRomImage_2=d.asm.Tb).apply(null,arguments)},sf=d._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(sf=d._emscripten_bind_SessionImage_GetMemoryImage_0=d.asm.Ub).apply(null,arguments)},tc=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(tc=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=d.asm.Vb).apply(null,arguments)},Js=d._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Js=d._emscripten_bind_SessionImage_SetMemoryImage_2=d.asm.Wb).apply(null,arguments)},Jo=d._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Jo=d._emscripten_bind_SessionImage_GetMetadata_0=d.asm.Xb).apply(null,arguments)},du=d._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(du=d._emscripten_bind_SessionImage_GetMetadataSize_0=d.asm.Yb).apply(null,arguments)},nc=d._emscripten_bind_SessionImage_SetMetadata_2=function(){return(nc=d._emscripten_bind_SessionImage_SetMetadata_2=d.asm.Zb).apply(null,arguments)},af=d._emscripten_bind_SessionImage_GetSavestate_0=function(){return(af=d._emscripten_bind_SessionImage_GetSavestate_0=d.asm._b).apply(null,arguments)},ds=d._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(ds=d._emscripten_bind_SessionImage_GetSavestateSize_0=d.asm.$b).apply(null,arguments)},fu=d._emscripten_bind_SessionImage_SetSavestate_2=function(){return(fu=d._emscripten_bind_SessionImage_SetSavestate_2=d.asm.ac).apply(null,arguments)},rc=d._emscripten_bind_SessionImage_GetVersion_0=function(){return(rc=d._emscripten_bind_SessionImage_GetVersion_0=d.asm.bc).apply(null,arguments)},gn=d._emscripten_bind_SessionImage_Serialize_0=function(){return(gn=d._emscripten_bind_SessionImage_Serialize_0=d.asm.cc).apply(null,arguments)},pu=d._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(pu=d._emscripten_bind_SessionImage_GetSerializedImage_0=d.asm.dc).apply(null,arguments)},jh=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(jh=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=d.asm.ec).apply(null,arguments)},lf=d._emscripten_bind_SessionImage_Deserialize_2=function(){return(lf=d._emscripten_bind_SessionImage_Deserialize_2=d.asm.fc).apply(null,arguments)},cf=d._emscripten_bind_SessionImage___destroy___0=function(){return(cf=d._emscripten_bind_SessionImage___destroy___0=d.asm.gc).apply(null,arguments)};function st(l){var g=d._main;try{var H=g(0,0);return function Xe(l,g){he=l,function Ze(l){he=l,function on(){return Ae}()||(d.onExit&&d.onExit(l),We=!0),z(l,new bn(l))}(l)}(H),H}catch(we){return function Ct(l){if(l instanceof bn||"unwind"==l)return he;z(1,l)}(we)}}function Ln(l){function g(){oc||(oc=!0,d.calledRun=!0,!We&&(function zr(){!d.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,tr.init(),Ft(et)}(),function Er(){Ft(At)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),dn&&st(),function Zn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),Lt.unshift(l);var l;Ft(Lt)}()))}l=l||K,Hn>0||(function pe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),Ke.unshift(l);var l;Ft(Ke)}(),Hn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),g()},1)):g())}if(d.___original_main=function(){return(d.___original_main=d.asm.ic).apply(null,arguments)},d.___start_em_js=242387,d.___stop_em_js=242584,d.UTF8ToString=Ne,d.addFunction=function Ia(l,g){if(Xo||(Xo=new WeakMap,function Ri(l,g){if(Xo)for(var b=l;b<l+g;b++){var A=mr(b);A&&Xo.set(A,b)}}(0,tt.length)),Xo.has(l))return Xo.get(l);var b=function Da(){if(bi.length)return bi.pop();try{tt.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return tt.length-1}();try{Ss(b,l)}catch(H){if(!(H instanceof TypeError))throw H;Ss(b,function lo(l,g){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Zt(l){for(var g={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[g[l[0]]]},A=1;A<l.length;++A)b.parameters.push(g[l[A]]),"j"===l[A]&&b.parameters.push("i32");return b}(g),l);var b=[1];!function rr(l,g){var b=l.slice(0,1),A=l.slice(1),H={i:127,p:127,j:126,f:125,d:124};g.push(96),Wt(A.length,g);for(var we=0;we<A.length;++we)g.push(H[A[we]]);"v"==b?g.push(0):g.push(1,H[b])}(g,b);var A=[0,97,115,109,1,0,0,0,1];Wt(b.length,A),A.push.apply(A,b),A.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var H=new WebAssembly.Module(new Uint8Array(A));return new WebAssembly.Instance(H,{e:{f:l}}).exports.f}(l,g))}return Xo.set(l,b),b},vr=function l(){oc||Ln(),oc||(vr=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var dn=!0;function Ot(){}function br(l){return(l||Ot).__cache__}function zn(l,g){var b=br(g),A=b[l];return A||((A=Object.create((g||Ot).prototype)).ptr=l,b[l]=A)}d.noInitialRun&&(dn=!1),Ln(),(Ot.prototype=Object.create(Ot.prototype)).constructor=Ot,Ot.prototype.__class__=Ot,Ot.__cache__={},d.WrapperObject=Ot,d.getCache=br,d.wrapPointer=zn,d.castObject=function gl(l,g){return zn(l.ptr,g)},d.NULL=zn(0),d.destroy=function rs(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete br(l.__class__)[l.ptr]},d.compare=function hu(l,g){return l.ptr===g.ptr},d.getPointer=function mu(l){return l.ptr},d.getClass=function T_(l){return l.__class__};var Mn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mn.needed){for(var l=0;l<Mn.temps.length;l++)d._free(Mn.temps[l]);Mn.temps.length=0,d._free(Mn.buffer),Mn.buffer=0,Mn.size+=Mn.needed,Mn.needed=0}Mn.buffer||(Mn.size+=128,Mn.buffer=d._malloc(Mn.size),Ce(Mn.buffer)),Mn.pos=0},alloc:function(l,g){Ce(Mn.buffer);var H,A=l.length*g.BYTES_PER_ELEMENT;return Mn.pos+(A=A+7&-8)>=Mn.size?(Ce(A>0),Mn.needed+=A,H=d._malloc(A),Mn.temps.push(H)):(H=Mn.buffer+Mn.pos,Mn.pos+=A),H},copy:function(l,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var H=0;H<l.length;H++)g[b+H]=l[H]}};function Lo(l){if("string"==typeof l){var g=Vt(l),b=Mn.alloc(g,qe);return Mn.copy(g,qe,b),b}return l}function or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ve(){this.ptr=Ds(),br(Ve)[this.ptr]=this}function Jn(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),this.ptr=Xs(l,g),br(Jn)[this.ptr]=this}function $n(){throw"cannot construct a Frame, no constructor in IDL"}function Xn(){throw"cannot construct a DbBackup, no constructor in IDL"}function Dr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function ei(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function $o(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function co(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Or(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Nr(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),this.ptr=Ql(l,g),br(Nr)[this.ptr]=this}function tn(){this.ptr=Vh(),br(tn)[this.ptr]=this}return(or.prototype=Object.create(Ot.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},d.VoidPtr=or,or.prototype.__destroy__=or.prototype.__destroy__=function(){Kn(this.ptr)},(Ve.prototype=Object.create(Ot.prototype)).constructor=Ve,Ve.prototype.__class__=Ve,Ve.__cache__={},d.Cloudpilot=Ve,Ve.prototype.Malloc=Ve.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),zn(xa(this.ptr,l),or)},Ve.prototype.Free=Ve.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),ql(this.ptr,l)},Ve.prototype.Nullptr=Ve.prototype.Nullptr=function(){return zn(Is(this.ptr),or)},Ve.prototype.InitializeSession=Ve.prototype.InitializeSession=function(l,g,b){var A=this.ptr;return Mn.prepare(),l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),b=b&&"object"==typeof b?b.ptr:Lo(b),!!es(A,l,g,b)},Ve.prototype.GetCyclesPerSecond=Ve.prototype.GetCyclesPerSecond=function(){return ts(this.ptr)},Ve.prototype.RunEmulation=Ve.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),ns(this.ptr,l)},Ve.prototype.SetClockFactor=Ve.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Zr(this.ptr,l)},Ve.prototype.CopyFrame=Ve.prototype.CopyFrame=function(){return zn(kr(this.ptr),$n)},Ve.prototype.IsScreenDirty=Ve.prototype.IsScreenDirty=function(){return!!Nt(this.ptr)},Ve.prototype.MarkScreenClean=Ve.prototype.MarkScreenClean=function(){Fo(this.ptr)},Ve.prototype.MinMemoryForDevice=Ve.prototype.MinMemoryForDevice=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Aa(g,l)},Ve.prototype.FramebufferSizeForDevice=Ve.prototype.FramebufferSizeForDevice=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Oo(g,l)},Ve.prototype.TotalMemoryForDevice=Ve.prototype.TotalMemoryForDevice=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Zs(g,l)},Ve.prototype.QueuePenMove=Ve.prototype.QueuePenMove=function(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),cl(this.ptr,l,g)},Ve.prototype.QueuePenUp=Ve.prototype.QueuePenUp=function(){An(this.ptr)},Ve.prototype.QueueButtonDown=Ve.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Dn(this.ptr,l)},Ve.prototype.QueueButtonUp=Ve.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),vo(this.ptr,l)},Ve.prototype.QueueKeyboardEvent=Ve.prototype.QueueKeyboardEvent=function(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),hn(this.ptr,l,g)},Ve.prototype.IsPowerOff=Ve.prototype.IsPowerOff=function(){return!!en(this.ptr)},Ve.prototype.IsUIInitialized=Ve.prototype.IsUIInitialized=function(){return!!h(this.ptr)},Ve.prototype.GetOSVersion=Ve.prototype.GetOSVersion=function(){return _(this.ptr)},Ve.prototype.IsSetupComplete=Ve.prototype.IsSetupComplete=function(){return!!c(this.ptr)},Ve.prototype.Reset=Ve.prototype.Reset=function(){p(this.ptr)},Ve.prototype.ResetNoExtensions=Ve.prototype.ResetNoExtensions=function(){m(this.ptr)},Ve.prototype.ResetHard=Ve.prototype.ResetHard=function(){w(this.ptr)},Ve.prototype.InstallDb=Ve.prototype.InstallDb=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),E(this.ptr,l,g)},Ve.prototype.GetPalette2bitMapping=Ve.prototype.GetPalette2bitMapping=function(){return F(this.ptr)},Ve.prototype.GetMemoryPtr=Ve.prototype.GetMemoryPtr=function(){return zn(G(this.ptr),or)},Ve.prototype.GetDirtyPagesPtr=Ve.prototype.GetDirtyPagesPtr=function(){return zn(ie(this.ptr),or)},Ve.prototype.GetMemorySize=Ve.prototype.GetMemorySize=function(){return Ye(this.ptr)},Ve.prototype.ImportMemoryImage=Ve.prototype.ImportMemoryImage=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!yt(this.ptr,l,g)},Ve.prototype.GetRomPtr=Ve.prototype.GetRomPtr=function(){return zn(ue(this.ptr),or)},Ve.prototype.GetRomSize=Ve.prototype.GetRomSize=function(){return pt(this.ptr)},Ve.prototype.GetSavestatePtr=Ve.prototype.GetSavestatePtr=function(){return zn(dt(this.ptr),or)},Ve.prototype.GetSavestateSize=Ve.prototype.GetSavestateSize=function(){return _t(this.ptr)},Ve.prototype.SaveState=Ve.prototype.SaveState=function(){return!!sn(this.ptr)},Ve.prototype.LoadState=Ve.prototype.LoadState=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!jt(this.ptr,l,g)},Ve.prototype.GetHotsyncName=Ve.prototype.GetHotsyncName=function(){return Ne(ot(this.ptr))},Ve.prototype.SetHotsyncName=Ve.prototype.SetHotsyncName=function(l){var g=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Mt(g,l)},Ve.prototype.RegisterPwmHandler=Ve.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),De(this.ptr,l)},Ve.prototype.StartBackup=Ve.prototype.StartBackup=function(){return zn(lt(this.ptr),Xn)},Ve.prototype.SetClipboardIntegration=Ve.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),Yt(this.ptr,l)},Ve.prototype.GetClipboardIntegration=Ve.prototype.GetClipboardIntegration=function(){return!!Ut(this.ptr)},Ve.prototype.IsSuspended=Ve.prototype.IsSuspended=function(){return!!cr(this.ptr)},Ve.prototype.GetSuspendContext=Ve.prototype.GetSuspendContext=function(){return zn(jn(this.ptr),Or)},Ve.prototype.SetNetworkRedirection=Ve.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),ci(this.ptr,l)},Ve.prototype.GetNetworkRedirection=Ve.prototype.GetNetworkRedirection=function(){return!!xt(this.ptr)},Ve.prototype.RegisterProxyDisconnectHandler=Ve.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Cn(this.ptr,l)},Ve.prototype.SetHotsyncNameManagement=Ve.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),wr(this.ptr,l)},Ve.prototype.LaunchAppByName=Ve.prototype.LaunchAppByName=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Qo(g,l)},Ve.prototype.LaunchAppByDbHeader=Ve.prototype.LaunchAppByDbHeader=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!Ms(this.ptr,l,g)},Ve.prototype.DeviceSupportsCardSize=Ve.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!ro(this.ptr,l)},Ve.prototype.ClearExternalStorage=Ve.prototype.ClearExternalStorage=function(){ks(this.ptr)},Ve.prototype.AllocateCard=Ve.prototype.AllocateCard=function(l,g){var b=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),g&&"object"==typeof g&&(g=g.ptr),!!Tr(b,l,g)},Ve.prototype.MountCard=Ve.prototype.MountCard=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Pa(g,l)},Ve.prototype.RemoveCard=Ve.prototype.RemoveCard=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Ys(g,l)},Ve.prototype.GetCardData=Ve.prototype.GetCardData=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),zn(In(g,l),or)},Ve.prototype.GetCardDirtyPages=Ve.prototype.GetCardDirtyPages=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),zn(ul(g,l),or)},Ve.prototype.GetCardSize=Ve.prototype.GetCardSize=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Ks(g,l)},Ve.prototype.RemountCards=Ve.prototype.RemountCards=function(){Zl(this.ptr)},Ve.prototype.GetSupportLevel=Ve.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),Ts(this.ptr,l)},Ve.prototype.GetMountedKey=Ve.prototype.GetMountedKey=function(){return Ne(_o(this.ptr))},Ve.prototype.__destroy__=Ve.prototype.__destroy__=function(){Ra(this.ptr)},(Jn.prototype=Object.create(Ot.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},d.RomInfo=Jn,Jn.prototype.IsValid=Jn.prototype.IsValid=function(){return!!Ci(this.ptr)},Jn.prototype.CardVersion=Jn.prototype.CardVersion=function(){return Qs(this.ptr)},Jn.prototype.CardName=Jn.prototype.CardName=function(){return Ne(su(this.ptr))},Jn.prototype.RomVersion=Jn.prototype.RomVersion=function(){return fr(this.ptr)},Jn.prototype.RomVersionString=Jn.prototype.RomVersionString=function(){return Ne(Gd(this.ptr))},Jn.prototype.Supports=Jn.prototype.Supports=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!zd(g,l)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){dl(this.ptr)},($n.prototype=Object.create(Ot.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},d.Frame=$n,$n.prototype.GetLineWidth=$n.prototype.GetLineWidth=function(){return Yl(this.ptr)},$n.prototype.GetBpp=$n.prototype.GetBpp=function(){return Fa(this.ptr)},$n.prototype.GetLines=$n.prototype.GetLines=function(){return fl(this.ptr)},$n.prototype.GetMargin=$n.prototype.GetMargin=function(){return xs(this.ptr)},$n.prototype.GetBytesPerLine=$n.prototype.GetBytesPerLine=function(){return wo(this.ptr)},$n.prototype.GetFirstDirtyLine=$n.prototype.GetFirstDirtyLine=function(){return Wd(this.ptr)},$n.prototype.GetLastDirtyLine=$n.prototype.GetLastDirtyLine=function(){return No(this.ptr)},$n.prototype.GetHasChanges=$n.prototype.GetHasChanges=function(){return!!Si(this.ptr)},$n.prototype.GetBuffer=$n.prototype.GetBuffer=function(){return zn(Kl(this.ptr),or)},$n.prototype.GetBufferSize=$n.prototype.GetBufferSize=function(){return pl(this.ptr)},$n.prototype.GetScaleX=$n.prototype.GetScaleX=function(){return hl(this.ptr)},$n.prototype.GetScaleY=$n.prototype.GetScaleY=function(){return Ei(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){qd(this.ptr)},(Xn.prototype=Object.create(Ot.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},d.DbBackup=Xn,Xn.prototype.Init=Xn.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Ch(this.ptr,l)},Xn.prototype.IsInProgress=Xn.prototype.IsInProgress=function(){return!!Zd(this.ptr)},Xn.prototype.IsDone=Xn.prototype.IsDone=function(){return!!Yd(this.ptr)},Xn.prototype.GetCurrentDatabase=Xn.prototype.GetCurrentDatabase=function(){return Ne(Sh(this.ptr))},Xn.prototype.Save=Xn.prototype.Save=function(){return!!Eh(this.ptr)},Xn.prototype.Skip=Xn.prototype.Skip=function(){Dh(this.ptr)},Xn.prototype.GetArchivePtr=Xn.prototype.GetArchivePtr=function(){return zn(Ih(this.ptr),or)},Xn.prototype.GetArchiveSize=Xn.prototype.GetArchiveSize=function(){return Mh(this.ptr)},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){kh(this.ptr)},(Dr.prototype=Object.create(Ot.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.SuspendContextClipboardCopy=Dr,Dr.prototype.Cancel=Dr.prototype.Cancel=function(){Th(this.ptr)},Dr.prototype.Resume=Dr.prototype.Resume=function(){xh(this.ptr)},Dr.prototype.GetClipboardContent=Dr.prototype.GetClipboardContent=function(){return Ne(Ah(this.ptr))},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){Ph(this.ptr)},(ei.prototype=Object.create(Ot.prototype)).constructor=ei,ei.prototype.__class__=ei,ei.__cache__={},d.SuspendContextClipboardPaste=ei,ei.prototype.Cancel=ei.prototype.Cancel=function(){Rh(this.ptr)},ei.prototype.Resume=ei.prototype.Resume=function(l){var g=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Fh(g,l)},ei.prototype.__destroy__=ei.prototype.__destroy__=function(){Oh(this.ptr)},($o.prototype=Object.create(Ot.prototype)).constructor=$o,$o.prototype.__class__=$o,$o.__cache__={},d.SuspendContextNetworkConnect=$o,$o.prototype.Cancel=$o.prototype.Cancel=function(){Nh(this.ptr)},$o.prototype.Resume=$o.prototype.Resume=function(l){var g=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),au(g,l)},$o.prototype.__destroy__=$o.prototype.__destroy__=function(){Xl(this.ptr)},(co.prototype=Object.create(Ot.prototype)).constructor=co,co.prototype.__class__=co,co.__cache__={},d.SuspendContextNetworkRpc=co,co.prototype.Cancel=co.prototype.Cancel=function(){Lh(this.ptr)},co.prototype.GetRequestSize=co.prototype.GetRequestSize=function(){return $h(this.ptr)},co.prototype.GetRequestData=co.prototype.GetRequestData=function(){return zn(Bh(this.ptr),or)},co.prototype.ReceiveResponse=co.prototype.ReceiveResponse=function(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),As(this.ptr,l,g)},co.prototype.__destroy__=co.prototype.__destroy__=function(){Kd(this.ptr)},(Or.prototype=Object.create(Ot.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},d.SuspendContext=Or,Or.prototype.GetKind=Or.prototype.GetKind=function(){return bo(this.ptr)},Or.prototype.Cancel=Or.prototype.Cancel=function(){lu(this.ptr)},Or.prototype.AsContextClipboardCopy=Or.prototype.AsContextClipboardCopy=function(){return zn(Xd(this.ptr),Dr)},Or.prototype.AsContextClipboardPaste=Or.prototype.AsContextClipboardPaste=function(){return zn(Qd(this.ptr),ei)},Or.prototype.AsContextNetworkConnect=Or.prototype.AsContextNetworkConnect=function(){return zn(cu(this.ptr),$o)},Or.prototype.AsContextNetworkRpc=Or.prototype.AsContextNetworkRpc=function(){return zn(uu(this.ptr),co)},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){Jd(this.ptr)},(Nr.prototype=Object.create(Ot.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},d.ZipfileWalker=Nr,Nr.prototype.GetState=Nr.prototype.GetState=function(){return ef(this.ptr)},Nr.prototype.Next=Nr.prototype.Next=function(){return ui(this.ptr)},Nr.prototype.GetCurrentEntrySize=Nr.prototype.GetCurrentEntrySize=function(){return Jl(this.ptr)},Nr.prototype.GetCurrentEntryName=Nr.prototype.GetCurrentEntryName=function(){return Ne(tf(this.ptr))},Nr.prototype.GetCurrentEntryContent=Nr.prototype.GetCurrentEntryContent=function(){return zn(ec(this.ptr),or)},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){nf(this.ptr)},(tn.prototype=Object.create(Ot.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},d.SessionImage=tn,tn.prototype.GetDeviceId=tn.prototype.GetDeviceId=function(){return Ne(Hr(this.ptr))},tn.prototype.SetDeviceId=tn.prototype.SetDeviceId=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),zn(rf(g,l),tn)},tn.prototype.GetRomImage=tn.prototype.GetRomImage=function(){return zn(Hh(this.ptr),or)},tn.prototype.GetRomImageSize=tn.prototype.GetRomImageSize=function(){return ml(this.ptr)},tn.prototype.SetRomImage=tn.prototype.SetRomImage=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(di(this.ptr,l,g),tn)},tn.prototype.GetMemoryImage=tn.prototype.GetMemoryImage=function(){return zn(sf(this.ptr),or)},tn.prototype.GetMemoryImageSize=tn.prototype.GetMemoryImageSize=function(){return tc(this.ptr)},tn.prototype.SetMemoryImage=tn.prototype.SetMemoryImage=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(Js(this.ptr,l,g),tn)},tn.prototype.GetMetadata=tn.prototype.GetMetadata=function(){return zn(Jo(this.ptr),or)},tn.prototype.GetMetadataSize=tn.prototype.GetMetadataSize=function(){return du(this.ptr)},tn.prototype.SetMetadata=tn.prototype.SetMetadata=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(nc(this.ptr,l,g),tn)},tn.prototype.GetSavestate=tn.prototype.GetSavestate=function(){return zn(af(this.ptr),or)},tn.prototype.GetSavestateSize=tn.prototype.GetSavestateSize=function(){return ds(this.ptr)},tn.prototype.SetSavestate=tn.prototype.SetSavestate=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(fu(this.ptr,l,g),tn)},tn.prototype.GetVersion=tn.prototype.GetVersion=function(){return rc(this.ptr)},tn.prototype.Serialize=tn.prototype.Serialize=function(){return!!gn(this.ptr)},tn.prototype.GetSerializedImage=tn.prototype.GetSerializedImage=function(){return zn(pu(this.ptr),or)},tn.prototype.GetSerializedImageSize=tn.prototype.GetSerializedImageSize=function(){return jh(this.ptr)},tn.prototype.Deserialize=tn.prototype.Deserialize=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!lf(this.ptr,l,g)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){cf(this.ptr)},T.ready});Oe.exports=Ge},9084:Oe=>{var R,Ge=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var ne,ee,d=typeof(T=T||{})<"u"?T:{};d.ready=new Promise(function(c,p){ne=c,ee=p});var V,xe,Q,q=Object.assign({},d),K=[],j="./this.program",z=(c,p)=>{throw p},ye="object"==typeof window,Z="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ye||Z)&&(Z?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=c=>{var p=new XMLHttpRequest;return p.open("GET",c,!1),p.send(null),p.responseText},Z&&(Q=c=>{var p=new XMLHttpRequest;return p.open("GET",c,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),xe=(c,p,m)=>{var w=new XMLHttpRequest;w.open("GET",c,!0),w.responseType="arraybuffer",w.onload=()=>{200==w.status||0==w.status&&w.response?p(w.response):m()},w.onerror=m,w.send(null)});var le,ge=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,q),q=null,d.arguments&&(K=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(z=d.quit),d.wasmBinary&&(le=d.wasmBinary);var Ae=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var ce,he,We=!1;function Ce(c,p){c||Qn(p)}var ze,qe,at,L,B,fe,Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function He(c,p,m){for(var w=p+m,E=p;c[E]&&!(E>=w);)++E;if(E-p>16&&c.buffer&&Me)return Me.decode(c.subarray(p,E));for(var F="";p<E;){var G=c[p++];if(128&G){var ie=63&c[p++];if(192!=(224&G)){var Ye=63&c[p++];if((G=224==(240&G)?(15&G)<<12|ie<<6|Ye:(7&G)<<18|ie<<12|Ye<<6|63&c[p++])<65536)F+=String.fromCharCode(G);else{var yt=G-65536;F+=String.fromCharCode(55296|yt>>10,56320|1023&yt)}}else F+=String.fromCharCode((31&G)<<6|ie)}else F+=String.fromCharCode(G)}return F}function Ne(c,p){return c?He(at,c,p):""}function ke(c,p,m,w){if(!(w>0))return 0;for(var E=m,F=m+w-1,G=0;G<c.length;++G){var ie=c.charCodeAt(G);if(ie>=55296&&ie<=57343&&(ie=65536+((1023&ie)<<10)|1023&c.charCodeAt(++G)),ie<=127){if(m>=F)break;p[m++]=ie}else if(ie<=2047){if(m+1>=F)break;p[m++]=192|ie>>6,p[m++]=128|63&ie}else if(ie<=65535){if(m+2>=F)break;p[m++]=224|ie>>12,p[m++]=128|ie>>6&63,p[m++]=128|63&ie}else{if(m+3>=F)break;p[m++]=240|ie>>18,p[m++]=128|ie>>12&63,p[m++]=128|ie>>6&63,p[m++]=128|63&ie}}return p[m]=0,m-E}function X(c){for(var p=0,m=0;m<c.length;++m){var w=c.charCodeAt(m);w<=127?p++:w<=2047?p+=2:w>=55296&&w<=57343?(p+=4,++m):p+=3}return p}function Te(c){ze=c,d.HEAP8=qe=new Int8Array(c),d.HEAP16=new Int16Array(c),d.HEAP32=L=new Int32Array(c),d.HEAPU8=at=new Uint8Array(c),d.HEAPU16=new Uint16Array(c),d.HEAPU32=B=new Uint32Array(c),d.HEAPF32=new Float32Array(c),d.HEAPF64=fe=new Float64Array(c)}var Sn,Ke=[],et=[],At=[],Lt=[],Hn=0,sr=null,vr=null;function mo(c){Hn++,d.monitorRunDependencies&&d.monitorRunDependencies(Hn)}function ar(c){if(Hn--,d.monitorRunDependencies&&d.monitorRunDependencies(Hn),0==Hn&&(null!==sr&&(clearInterval(sr),sr=null),vr)){var p=vr;vr=null,p()}}function Qn(c){d.onAbort&&d.onAbort(c),oe(c="Aborted("+c+")"),We=!0,he=1,c+=". Build with -sASSERTIONS for more info.";var p=new WebAssembly.RuntimeError(c);throw ee(p),p}function $r(c){return c.startsWith("data:application/octet-stream;base64,")}function Wr(c){try{if(c==Sn&&le)return new Uint8Array(le);if(Q)return Q(c);throw"both async and sync fetching of the wasm failed"}catch(p){Qn(p)}}$r(Sn="fstools_web.wasm")||(Sn=function O(c){return d.locateFile?d.locateFile(c,$):$+c}(Sn));var Je,re,Be={40302:()=>{throw new Error("terminated")}};function pn(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function bn(c){for(;c.length>0;)c.shift()(d)}var Ft={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,p)=>{for(var m=0,w=c.length-1;w>=0;w--){var E=c[w];"."===E?c.splice(w,1):".."===E?(c.splice(w,1),m++):m&&(c.splice(w,1),m--)}if(p)for(;m;m--)c.unshift("..");return c},normalize:c=>{var p=Ft.isAbs(c),m="/"===c.substr(-1);return!(c=Ft.normalizeArray(c.split("/").filter(w=>!!w),!p).join("/"))&&!p&&(c="."),c&&m&&(c+="/"),(p?"/":"")+c},dirname:c=>{var p=Ft.splitPath(c),m=p[0],w=p[1];return m||w?(w&&(w=w.substr(0,w.length-1)),m+w):"."},basename:c=>{if("/"===c)return"/";var p=(c=(c=Ft.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===p?c:c.substr(p+1)},join:function(){var c=Array.prototype.slice.call(arguments);return Ft.normalize(c.join("/"))},join2:(c,p)=>Ft.normalize(c+"/"+p)},er={resolve:function(){for(var c="",p=!1,m=arguments.length-1;m>=-1&&!p;m--){var w=m>=0?arguments[m]:S.cwd();if("string"!=typeof w)throw new TypeError("Arguments to path.resolve must be strings");if(!w)return"";c=w+"/"+c,p=Ft.isAbs(w)}return(p?"/":"")+(c=Ft.normalizeArray(c.split("/").filter(E=>!!E),!p).join("/"))||"."},relative:(c,p)=>{function m(yt){for(var ue=0;ue<yt.length&&""===yt[ue];ue++);for(var pt=yt.length-1;pt>=0&&""===yt[pt];pt--);return ue>pt?[]:yt.slice(ue,pt-ue+1)}c=er.resolve(c).substr(1),p=er.resolve(p).substr(1);for(var w=m(c.split("/")),E=m(p.split("/")),F=Math.min(w.length,E.length),G=F,ie=0;ie<F;ie++)if(w[ie]!==E[ie]){G=ie;break}var Ye=[];for(ie=G;ie<w.length;ie++)Ye.push("..");return(Ye=Ye.concat(E.slice(G))).join("/")}};function Jt(c,p,m){var w=m>0?m:X(c)+1,E=new Array(w),F=ke(c,E,0,E.length);return p&&(E.length=F),E}var Yn={ttys:[],init:function(){},shutdown:function(){},register:function(c,p){Yn.ttys[c]={input:[],output:[],ops:p},S.registerDevice(c,Yn.stream_ops)},stream_ops:{open:function(c){var p=Yn.ttys[c.node.rdev];if(!p)throw new S.ErrnoError(43);c.tty=p,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,p,m,w,E){if(!c.tty||!c.tty.ops.get_char)throw new S.ErrnoError(60);for(var F=0,G=0;G<w;G++){var ie;try{ie=c.tty.ops.get_char(c.tty)}catch{throw new S.ErrnoError(29)}if(void 0===ie&&0===F)throw new S.ErrnoError(6);if(null==ie)break;F++,p[m+G]=ie}return F&&(c.node.timestamp=Date.now()),F},write:function(c,p,m,w,E){if(!c.tty||!c.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var F=0;F<w;F++)c.tty.ops.put_char(c.tty,p[m+F])}catch{throw new S.ErrnoError(29)}return w&&(c.node.timestamp=Date.now()),F}},default_tty_ops:{get_char:function(c){if(!c.input.length){var p=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(p=window.prompt("Input: "))&&(p+="\n"):"function"==typeof readline&&null!==(p=readline())&&(p+="\n"),!p)return null;c.input=Jt(p,!0)}return c.input.shift()},put_char:function(c,p){null===p||10===p?(ge(He(c.output,0)),c.output=[]):0!=p&&c.output.push(p)},fsync:function(c){c.output&&c.output.length>0&&(ge(He(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,p){null===p||10===p?(oe(He(c.output,0)),c.output=[]):0!=p&&c.output.push(p)},fsync:function(c){c.output&&c.output.length>0&&(oe(He(c.output,0)),c.output=[])}}};function lr(c){Qn()}var Vt={ops_table:null,mount:function(c){return Vt.createNode(null,"/",16895,0)},createNode:function(c,p,m,w){if(S.isBlkdev(m)||S.isFIFO(m))throw new S.ErrnoError(63);Vt.ops_table||(Vt.ops_table={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:S.chrdev_stream_ops}});var E=S.createNode(c,p,m,w);return S.isDir(E.mode)?(E.node_ops=Vt.ops_table.dir.node,E.stream_ops=Vt.ops_table.dir.stream,E.contents={}):S.isFile(E.mode)?(E.node_ops=Vt.ops_table.file.node,E.stream_ops=Vt.ops_table.file.stream,E.usedBytes=0,E.contents=null):S.isLink(E.mode)?(E.node_ops=Vt.ops_table.link.node,E.stream_ops=Vt.ops_table.link.stream):S.isChrdev(E.mode)&&(E.node_ops=Vt.ops_table.chrdev.node,E.stream_ops=Vt.ops_table.chrdev.stream),E.timestamp=Date.now(),c&&(c.contents[p]=E,c.timestamp=E.timestamp),E},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,p){var m=c.contents?c.contents.length:0;if(!(m>=p)){p=Math.max(p,m*(m<1048576?2:1.125)>>>0),0!=m&&(p=Math.max(p,256));var E=c.contents;c.contents=new Uint8Array(p),c.usedBytes>0&&c.contents.set(E.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,p){if(c.usedBytes!=p)if(0==p)c.contents=null,c.usedBytes=0;else{var m=c.contents;c.contents=new Uint8Array(p),m&&c.contents.set(m.subarray(0,Math.min(p,c.usedBytes))),c.usedBytes=p}},node_ops:{getattr:function(c){var p={};return p.dev=S.isChrdev(c.mode)?c.id:1,p.ino=c.id,p.mode=c.mode,p.nlink=1,p.uid=0,p.gid=0,p.rdev=c.rdev,p.size=S.isDir(c.mode)?4096:S.isFile(c.mode)?c.usedBytes:S.isLink(c.mode)?c.link.length:0,p.atime=new Date(c.timestamp),p.mtime=new Date(c.timestamp),p.ctime=new Date(c.timestamp),p.blksize=4096,p.blocks=Math.ceil(p.size/p.blksize),p},setattr:function(c,p){void 0!==p.mode&&(c.mode=p.mode),void 0!==p.timestamp&&(c.timestamp=p.timestamp),void 0!==p.size&&Vt.resizeFileStorage(c,p.size)},lookup:function(c,p){throw S.genericErrors[44]},mknod:function(c,p,m,w){return Vt.createNode(c,p,m,w)},rename:function(c,p,m){if(S.isDir(c.mode)){var w;try{w=S.lookupNode(p,m)}catch{}if(w)for(var E in w.contents)throw new S.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=m,p.contents[m]=c,p.timestamp=c.parent.timestamp,c.parent=p},unlink:function(c,p){delete c.contents[p],c.timestamp=Date.now()},rmdir:function(c,p){var m=S.lookupNode(c,p);for(var w in m.contents)throw new S.ErrnoError(55);delete c.contents[p],c.timestamp=Date.now()},readdir:function(c){var p=[".",".."];for(var m in c.contents)!c.contents.hasOwnProperty(m)||p.push(m);return p},symlink:function(c,p,m){var w=Vt.createNode(c,p,41471,0);return w.link=m,w},readlink:function(c){if(!S.isLink(c.mode))throw new S.ErrnoError(28);return c.link}},stream_ops:{read:function(c,p,m,w,E){var F=c.node.contents;if(E>=c.node.usedBytes)return 0;var G=Math.min(c.node.usedBytes-E,w);if(G>8&&F.subarray)p.set(F.subarray(E,E+G),m);else for(var ie=0;ie<G;ie++)p[m+ie]=F[E+ie];return G},write:function(c,p,m,w,E,F){if(p.buffer===qe.buffer&&(F=!1),!w)return 0;var G=c.node;if(G.timestamp=Date.now(),p.subarray&&(!G.contents||G.contents.subarray)){if(F)return G.contents=p.subarray(m,m+w),G.usedBytes=w,w;if(0===G.usedBytes&&0===E)return G.contents=p.slice(m,m+w),G.usedBytes=w,w;if(E+w<=G.usedBytes)return G.contents.set(p.subarray(m,m+w),E),w}if(Vt.expandFileStorage(G,E+w),G.contents.subarray&&p.subarray)G.contents.set(p.subarray(m,m+w),E);else for(var ie=0;ie<w;ie++)G.contents[E+ie]=p[m+ie];return G.usedBytes=Math.max(G.usedBytes,E+w),w},llseek:function(c,p,m){var w=p;if(1===m?w+=c.position:2===m&&S.isFile(c.node.mode)&&(w+=c.node.usedBytes),w<0)throw new S.ErrnoError(28);return w},allocate:function(c,p,m){Vt.expandFileStorage(c.node,p+m),c.node.usedBytes=Math.max(c.node.usedBytes,p+m)},mmap:function(c,p,m,w,E){if(!S.isFile(c.node.mode))throw new S.ErrnoError(43);var F,G,ie=c.node.contents;if(2&E||ie.buffer!==ze){if((m>0||m+p<ie.length)&&(ie=ie.subarray?ie.subarray(m,m+p):Array.prototype.slice.call(ie,m,m+p)),G=!0,!(F=lr()))throw new S.ErrnoError(48);qe.set(ie,F)}else G=!1,F=ie.byteOffset;return{ptr:F,allocated:G}},msync:function(c,p,m,w,E){return Vt.stream_ops.write(c,p,0,w,m,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,p={})=>{if(!(c=er.resolve(c)))return{path:"",node:null};if((p=Object.assign({follow_mount:!0,recurse_count:0},p)).recurse_count>8)throw new S.ErrnoError(32);for(var w=c.split("/").filter(pt=>!!pt),E=S.root,F="/",G=0;G<w.length;G++){var ie=G===w.length-1;if(ie&&p.parent)break;if(E=S.lookupNode(E,w[G]),F=Ft.join2(F,w[G]),S.isMountpoint(E)&&(!ie||ie&&p.follow_mount)&&(E=E.mounted.root),!ie||p.follow)for(var Ye=0;S.isLink(E.mode);){var yt=S.readlink(F);if(F=er.resolve(Ft.dirname(F),yt),E=S.lookupPath(F,{recurse_count:p.recurse_count+1}).node,Ye++>40)throw new S.ErrnoError(32)}}return{path:F,node:E}},getPath:c=>{for(var p;;){if(S.isRoot(c)){var m=c.mount.mountpoint;return p?"/"!==m[m.length-1]?m+"/"+p:m+p:m}p=p?c.name+"/"+p:c.name,c=c.parent}},hashName:(c,p)=>{for(var m=0,w=0;w<p.length;w++)m=(m<<5)-m+p.charCodeAt(w)|0;return(c+m>>>0)%S.nameTable.length},hashAddNode:c=>{var p=S.hashName(c.parent.id,c.name);c.name_next=S.nameTable[p],S.nameTable[p]=c},hashRemoveNode:c=>{var p=S.hashName(c.parent.id,c.name);if(S.nameTable[p]===c)S.nameTable[p]=c.name_next;else for(var m=S.nameTable[p];m;){if(m.name_next===c){m.name_next=c.name_next;break}m=m.name_next}},lookupNode:(c,p)=>{var m=S.mayLookup(c);if(m)throw new S.ErrnoError(m,c);for(var w=S.hashName(c.id,p),E=S.nameTable[w];E;E=E.name_next)if(E.parent.id===c.id&&E.name===p)return E;return S.lookup(c,p)},createNode:(c,p,m,w)=>{var E=new S.FSNode(c,p,m,w);return S.hashAddNode(E),E},destroyNode:c=>{S.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var p=S.flagModes[c];if(typeof p>"u")throw new Error("Unknown file open mode: "+c);return p},flagsToPermissionString:c=>{var p=["r","w","rw"][3&c];return 512&c&&(p+="w"),p},nodePermissions:(c,p)=>S.ignorePermissions?0:p.includes("r")&&!(292&c.mode)||p.includes("w")&&!(146&c.mode)||p.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>S.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,p)=>{try{return S.lookupNode(c,p),20}catch{}return S.nodePermissions(c,"wx")},mayDelete:(c,p,m)=>{var w;try{w=S.lookupNode(c,p)}catch(F){return F.errno}var E=S.nodePermissions(c,"wx");if(E)return E;if(m){if(!S.isDir(w.mode))return 54;if(S.isRoot(w)||S.getPath(w)===S.cwd())return 10}else if(S.isDir(w.mode))return 31;return 0},mayOpen:(c,p)=>c?S.isLink(c.mode)?32:S.isDir(c.mode)&&("r"!==S.flagsToPermissionString(p)||512&p)?31:S.nodePermissions(c,S.flagsToPermissionString(p)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,p=S.MAX_OPEN_FDS)=>{for(var m=c;m<=p;m++)if(!S.streams[m])return m;throw new S.ErrnoError(33)},getStream:c=>S.streams[c],createStream:(c,p,m)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(E){this.node=E}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(E){this.shared.flags=E}},position:{get:function(){return this.shared.position},set:function(E){this.shared.position=E}}})),c=Object.assign(new S.FSStream,c);var w=S.nextfd(p,m);return c.fd=w,S.streams[w]=c,c},closeStream:c=>{S.streams[c]=null},chrdev_stream_ops:{open:c=>{var p=S.getDevice(c.node.rdev);c.stream_ops=p.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new S.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,p)=>c<<8|p,registerDevice:(c,p)=>{S.devices[c]={stream_ops:p}},getDevice:c=>S.devices[c],getMounts:c=>{for(var p=[],m=[c];m.length;){var w=m.pop();p.push(w),m.push.apply(m,w.mounts)}return p},syncfs:(c,p)=>{"function"==typeof c&&(p=c,c=!1),S.syncFSRequests++,S.syncFSRequests>1&&oe("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var m=S.getMounts(S.root.mount),w=0;function E(G){return S.syncFSRequests--,p(G)}function F(G){if(G)return F.errored?void 0:(F.errored=!0,E(G));++w>=m.length&&E(null)}m.forEach(G=>{if(!G.type.syncfs)return F(null);G.type.syncfs(G,c,F)})},mount:(c,p,m)=>{var F,w="/"===m,E=!m;if(w&&S.root)throw new S.ErrnoError(10);if(!w&&!E){var G=S.lookupPath(m,{follow_mount:!1});if(m=G.path,S.isMountpoint(F=G.node))throw new S.ErrnoError(10);if(!S.isDir(F.mode))throw new S.ErrnoError(54)}var ie={type:c,opts:p,mountpoint:m,mounts:[]},Ye=c.mount(ie);return Ye.mount=ie,ie.root=Ye,w?S.root=Ye:F&&(F.mounted=ie,F.mount&&F.mount.mounts.push(ie)),Ye},unmount:c=>{var p=S.lookupPath(c,{follow_mount:!1});if(!S.isMountpoint(p.node))throw new S.ErrnoError(28);var m=p.node,w=m.mounted,E=S.getMounts(w);Object.keys(S.nameTable).forEach(G=>{for(var ie=S.nameTable[G];ie;){var Ye=ie.name_next;E.includes(ie.mount)&&S.destroyNode(ie),ie=Ye}}),m.mounted=null;var F=m.mount.mounts.indexOf(w);m.mount.mounts.splice(F,1)},lookup:(c,p)=>c.node_ops.lookup(c,p),mknod:(c,p,m)=>{var E=S.lookupPath(c,{parent:!0}).node,F=Ft.basename(c);if(!F||"."===F||".."===F)throw new S.ErrnoError(28);var G=S.mayCreate(E,F);if(G)throw new S.ErrnoError(G);if(!E.node_ops.mknod)throw new S.ErrnoError(63);return E.node_ops.mknod(E,F,p,m)},create:(c,p)=>(p=void 0!==p?p:438,p&=4095,S.mknod(c,p|=32768,0)),mkdir:(c,p)=>(p=void 0!==p?p:511,p&=1023,S.mknod(c,p|=16384,0)),mkdirTree:(c,p)=>{for(var m=c.split("/"),w="",E=0;E<m.length;++E)if(m[E]){w+="/"+m[E];try{S.mkdir(w,p)}catch(F){if(20!=F.errno)throw F}}},mkdev:(c,p,m)=>(typeof m>"u"&&(m=p,p=438),S.mknod(c,p|=8192,m)),symlink:(c,p)=>{if(!er.resolve(c))throw new S.ErrnoError(44);var w=S.lookupPath(p,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var E=Ft.basename(p),F=S.mayCreate(w,E);if(F)throw new S.ErrnoError(F);if(!w.node_ops.symlink)throw new S.ErrnoError(63);return w.node_ops.symlink(w,E,c)},rename:(c,p)=>{var ie,Ye,m=Ft.dirname(c),w=Ft.dirname(p),E=Ft.basename(c),F=Ft.basename(p);if(ie=S.lookupPath(c,{parent:!0}).node,Ye=S.lookupPath(p,{parent:!0}).node,!ie||!Ye)throw new S.ErrnoError(44);if(ie.mount!==Ye.mount)throw new S.ErrnoError(75);var pt,yt=S.lookupNode(ie,E),ue=er.relative(c,w);if("."!==ue.charAt(0))throw new S.ErrnoError(28);if("."!==(ue=er.relative(p,m)).charAt(0))throw new S.ErrnoError(55);try{pt=S.lookupNode(Ye,F)}catch{}if(yt!==pt){var dt=S.isDir(yt.mode),_t=S.mayDelete(ie,E,dt);if(_t)throw new S.ErrnoError(_t);if(_t=pt?S.mayDelete(Ye,F,dt):S.mayCreate(Ye,F))throw new S.ErrnoError(_t);if(!ie.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(yt)||pt&&S.isMountpoint(pt))throw new S.ErrnoError(10);if(Ye!==ie&&(_t=S.nodePermissions(ie,"w")))throw new S.ErrnoError(_t);S.hashRemoveNode(yt);try{ie.node_ops.rename(yt,Ye,F)}catch(sn){throw sn}finally{S.hashAddNode(yt)}}},rmdir:c=>{var m=S.lookupPath(c,{parent:!0}).node,w=Ft.basename(c),E=S.lookupNode(m,w),F=S.mayDelete(m,w,!0);if(F)throw new S.ErrnoError(F);if(!m.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(E))throw new S.ErrnoError(10);m.node_ops.rmdir(m,w),S.destroyNode(E)},readdir:c=>{var m=S.lookupPath(c,{follow:!0}).node;if(!m.node_ops.readdir)throw new S.ErrnoError(54);return m.node_ops.readdir(m)},unlink:c=>{var m=S.lookupPath(c,{parent:!0}).node;if(!m)throw new S.ErrnoError(44);var w=Ft.basename(c),E=S.lookupNode(m,w),F=S.mayDelete(m,w,!1);if(F)throw new S.ErrnoError(F);if(!m.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(E))throw new S.ErrnoError(10);m.node_ops.unlink(m,w),S.destroyNode(E)},readlink:c=>{var m=S.lookupPath(c).node;if(!m)throw new S.ErrnoError(44);if(!m.node_ops.readlink)throw new S.ErrnoError(28);return er.resolve(S.getPath(m.parent),m.node_ops.readlink(m))},stat:(c,p)=>{var w=S.lookupPath(c,{follow:!p}).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.getattr)throw new S.ErrnoError(63);return w.node_ops.getattr(w)},lstat:c=>S.stat(c,!0),chmod:(c,p,m)=>{var w;if(!(w="string"==typeof c?S.lookupPath(c,{follow:!m}).node:c).node_ops.setattr)throw new S.ErrnoError(63);w.node_ops.setattr(w,{mode:4095&p|-4096&w.mode,timestamp:Date.now()})},lchmod:(c,p)=>{S.chmod(c,p,!0)},fchmod:(c,p)=>{var m=S.getStream(c);if(!m)throw new S.ErrnoError(8);S.chmod(m.node,p)},chown:(c,p,m,w)=>{var E;if(!(E="string"==typeof c?S.lookupPath(c,{follow:!w}).node:c).node_ops.setattr)throw new S.ErrnoError(63);E.node_ops.setattr(E,{timestamp:Date.now()})},lchown:(c,p,m)=>{S.chown(c,p,m,!0)},fchown:(c,p,m)=>{var w=S.getStream(c);if(!w)throw new S.ErrnoError(8);S.chown(w.node,p,m)},truncate:(c,p)=>{if(p<0)throw new S.ErrnoError(28);var m;if(!(m="string"==typeof c?S.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(m.mode))throw new S.ErrnoError(31);if(!S.isFile(m.mode))throw new S.ErrnoError(28);var E=S.nodePermissions(m,"w");if(E)throw new S.ErrnoError(E);m.node_ops.setattr(m,{size:p,timestamp:Date.now()})},ftruncate:(c,p)=>{var m=S.getStream(c);if(!m)throw new S.ErrnoError(8);if(0==(2097155&m.flags))throw new S.ErrnoError(28);S.truncate(m.node,p)},utime:(c,p,m)=>{var E=S.lookupPath(c,{follow:!0}).node;E.node_ops.setattr(E,{timestamp:Math.max(p,m)})},open:(c,p,m)=>{if(""===c)throw new S.ErrnoError(44);var w;if(m=typeof m>"u"?438:m,m=64&(p="string"==typeof p?S.modeStringToFlags(p):p)?4095&m|32768:0,"object"==typeof c)w=c;else{c=Ft.normalize(c);try{w=S.lookupPath(c,{follow:!(131072&p)}).node}catch{}}var F=!1;if(64&p)if(w){if(128&p)throw new S.ErrnoError(20)}else w=S.mknod(c,m,0),F=!0;if(!w)throw new S.ErrnoError(44);if(S.isChrdev(w.mode)&&(p&=-513),65536&p&&!S.isDir(w.mode))throw new S.ErrnoError(54);if(!F){var G=S.mayOpen(w,p);if(G)throw new S.ErrnoError(G)}512&p&&!F&&S.truncate(w,0),p&=-131713;var ie=S.createStream({node:w,path:S.getPath(w),flags:p,seekable:!0,position:0,stream_ops:w.stream_ops,ungotten:[],error:!1});return ie.stream_ops.open&&ie.stream_ops.open(ie),d.logReadFiles&&!(1&p)&&(S.readFiles||(S.readFiles={}),c in S.readFiles||(S.readFiles[c]=1)),ie},close:c=>{if(S.isClosed(c))throw new S.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(p){throw p}finally{S.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,p,m)=>{if(S.isClosed(c))throw new S.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=m&&1!=m&&2!=m)throw new S.ErrnoError(28);return c.position=c.stream_ops.llseek(c,p,m),c.ungotten=[],c.position},read:(c,p,m,w,E)=>{if(w<0||E<0)throw new S.ErrnoError(28);if(S.isClosed(c))throw new S.ErrnoError(8);if(1==(2097155&c.flags))throw new S.ErrnoError(8);if(S.isDir(c.node.mode))throw new S.ErrnoError(31);if(!c.stream_ops.read)throw new S.ErrnoError(28);var F=typeof E<"u";if(F){if(!c.seekable)throw new S.ErrnoError(70)}else E=c.position;var G=c.stream_ops.read(c,p,m,w,E);return F||(c.position+=G),G},write:(c,p,m,w,E,F)=>{if(w<0||E<0)throw new S.ErrnoError(28);if(S.isClosed(c))throw new S.ErrnoError(8);if(0==(2097155&c.flags))throw new S.ErrnoError(8);if(S.isDir(c.node.mode))throw new S.ErrnoError(31);if(!c.stream_ops.write)throw new S.ErrnoError(28);c.seekable&&1024&c.flags&&S.llseek(c,0,2);var G=typeof E<"u";if(G){if(!c.seekable)throw new S.ErrnoError(70)}else E=c.position;var ie=c.stream_ops.write(c,p,m,w,E,F);return G||(c.position+=ie),ie},allocate:(c,p,m)=>{if(S.isClosed(c))throw new S.ErrnoError(8);if(p<0||m<=0)throw new S.ErrnoError(28);if(0==(2097155&c.flags))throw new S.ErrnoError(8);if(!S.isFile(c.node.mode)&&!S.isDir(c.node.mode))throw new S.ErrnoError(43);if(!c.stream_ops.allocate)throw new S.ErrnoError(138);c.stream_ops.allocate(c,p,m)},mmap:(c,p,m,w,E)=>{if(0!=(2&w)&&0==(2&E)&&2!=(2097155&c.flags))throw new S.ErrnoError(2);if(1==(2097155&c.flags))throw new S.ErrnoError(2);if(!c.stream_ops.mmap)throw new S.ErrnoError(43);return c.stream_ops.mmap(c,p,m,w,E)},msync:(c,p,m,w,E)=>c.stream_ops.msync?c.stream_ops.msync(c,p,m,w,E):0,munmap:c=>0,ioctl:(c,p,m)=>{if(!c.stream_ops.ioctl)throw new S.ErrnoError(59);return c.stream_ops.ioctl(c,p,m)},readFile:(c,p={})=>{if(p.flags=p.flags||0,p.encoding=p.encoding||"binary","utf8"!==p.encoding&&"binary"!==p.encoding)throw new Error('Invalid encoding type "'+p.encoding+'"');var m,w=S.open(c,p.flags),F=S.stat(c).size,G=new Uint8Array(F);return S.read(w,G,0,F,0),"utf8"===p.encoding?m=He(G,0):"binary"===p.encoding&&(m=G),S.close(w),m},writeFile:(c,p,m={})=>{m.flags=m.flags||577;var w=S.open(c,m.flags,m.mode);if("string"==typeof p){var E=new Uint8Array(X(p)+1),F=ke(p,E,0,E.length);S.write(w,E,0,F,void 0,m.canOwn)}else{if(!ArrayBuffer.isView(p))throw new Error("Unsupported data type");S.write(w,p,0,p.byteLength,void 0,m.canOwn)}S.close(w)},cwd:()=>S.currentPath,chdir:c=>{var p=S.lookupPath(c,{follow:!0});if(null===p.node)throw new S.ErrnoError(44);if(!S.isDir(p.node.mode))throw new S.ErrnoError(54);var m=S.nodePermissions(p.node,"x");if(m)throw new S.ErrnoError(m);S.currentPath=p.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(p,m,w,E,F)=>E}),S.mkdev("/dev/null",S.makedev(1,3)),Yn.register(S.makedev(5,0),Yn.default_tty_ops),Yn.register(S.makedev(6,0),Yn.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var c=function cn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}return()=>Qn("randomDevice")}();S.createDevice("/dev","random",c),S.createDevice("/dev","urandom",c),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var c=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var p=S.createNode(c,"fd",16895,73);return p.node_ops={lookup:(m,w)=>{var F=S.getStream(+w);if(!F)throw new S.ErrnoError(8);var G={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>F.path}};return G.parent=G,G}},p}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?S.createDevice("/dev","stdin",d.stdin):S.symlink("/dev/tty","/dev/stdin"),d.stdout?S.createDevice("/dev","stdout",null,d.stdout):S.symlink("/dev/tty","/dev/stdout"),d.stderr?S.createDevice("/dev","stderr",null,d.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(p,m){this.node=m,this.setErrno=function(w){this.errno=w},this.setErrno(p),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(c=>{S.genericErrors[c]=new S.ErrnoError(c),S.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Vt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Vt}},init:(c,p,m)=>{S.init.initialized=!0,S.ensureErrnoError(),d.stdin=c||d.stdin,d.stdout=p||d.stdout,d.stderr=m||d.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var c=0;c<S.streams.length;c++){var p=S.streams[c];!p||S.close(p)}},getMode:(c,p)=>{var m=0;return c&&(m|=365),p&&(m|=146),m},findObject:(c,p)=>{var m=S.analyzePath(c,p);return m.exists?m.object:null},analyzePath:(c,p)=>{try{c=(m=S.lookupPath(c,{follow:!p})).path}catch{}var w={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var m=S.lookupPath(c,{parent:!0});w.parentExists=!0,w.parentPath=m.path,w.parentObject=m.node,w.name=Ft.basename(c),m=S.lookupPath(c,{follow:!p}),w.exists=!0,w.path=m.path,w.object=m.node,w.name=m.node.name,w.isRoot="/"===m.path}catch(E){w.error=E.errno}return w},createPath:(c,p,m,w)=>{c="string"==typeof c?c:S.getPath(c);for(var E=p.split("/").reverse();E.length;){var F=E.pop();if(F){var G=Ft.join2(c,F);try{S.mkdir(G)}catch{}c=G}}return G},createFile:(c,p,m,w,E)=>{var F=Ft.join2("string"==typeof c?c:S.getPath(c),p),G=S.getMode(w,E);return S.create(F,G)},createDataFile:(c,p,m,w,E,F)=>{var G=p;c&&(c="string"==typeof c?c:S.getPath(c),G=p?Ft.join2(c,p):c);var ie=S.getMode(w,E),Ye=S.create(G,ie);if(m){if("string"==typeof m){for(var yt=new Array(m.length),ue=0,pt=m.length;ue<pt;++ue)yt[ue]=m.charCodeAt(ue);m=yt}S.chmod(Ye,146|ie);var dt=S.open(Ye,577);S.write(dt,m,0,m.length,0,F),S.close(dt),S.chmod(Ye,ie)}return Ye},createDevice:(c,p,m,w)=>{var E=Ft.join2("string"==typeof c?c:S.getPath(c),p),F=S.getMode(!!m,!!w);S.createDevice.major||(S.createDevice.major=64);var G=S.makedev(S.createDevice.major++,0);return S.registerDevice(G,{open:ie=>{ie.seekable=!1},close:ie=>{w&&w.buffer&&w.buffer.length&&w(10)},read:(ie,Ye,yt,ue,pt)=>{for(var dt=0,_t=0;_t<ue;_t++){var sn;try{sn=m()}catch{throw new S.ErrnoError(29)}if(void 0===sn&&0===dt)throw new S.ErrnoError(6);if(null==sn)break;dt++,Ye[yt+_t]=sn}return dt&&(ie.node.timestamp=Date.now()),dt},write:(ie,Ye,yt,ue,pt)=>{for(var dt=0;dt<ue;dt++)try{w(Ye[yt+dt])}catch{throw new S.ErrnoError(29)}return ue&&(ie.node.timestamp=Date.now()),dt}}),S.mkdev(E,F,G)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=Jt(V(c.url),!0),c.usedBytes=c.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(c,p,m,w,E)=>{function F(){this.lengthKnown=!1,this.chunks=[]}if(F.prototype.get=function(_t){if(!(_t>this.length-1||_t<0)){var sn=_t%this.chunkSize;return this.getter(_t/this.chunkSize|0)[sn]}},F.prototype.setDataGetter=function(_t){this.getter=_t},F.prototype.cacheLength=function(){var _t=new XMLHttpRequest;if(_t.open("HEAD",m,!1),_t.send(null),!(_t.status>=200&&_t.status<300||304===_t.status))throw new Error("Couldn't load "+m+". Status: "+_t.status);var jt,sn=Number(_t.getResponseHeader("Content-length")),ot=(jt=_t.getResponseHeader("Accept-Ranges"))&&"bytes"===jt,Mt=(jt=_t.getResponseHeader("Content-Encoding"))&&"gzip"===jt,De=1048576;ot||(De=sn);var Yt=this;Yt.setDataGetter(Ut=>{var cr=Ut*De,jn=(Ut+1)*De-1;if(jn=Math.min(jn,sn-1),typeof Yt.chunks[Ut]>"u"&&(Yt.chunks[Ut]=((Ut,cr)=>{if(Ut>cr)throw new Error("invalid range ("+Ut+", "+cr+") or no bytes requested!");if(cr>sn-1)throw new Error("only "+sn+" bytes available! programmer error!");var jn=new XMLHttpRequest;if(jn.open("GET",m,!1),sn!==De&&jn.setRequestHeader("Range","bytes="+Ut+"-"+cr),jn.responseType="arraybuffer",jn.overrideMimeType&&jn.overrideMimeType("text/plain; charset=x-user-defined"),jn.send(null),!(jn.status>=200&&jn.status<300||304===jn.status))throw new Error("Couldn't load "+m+". Status: "+jn.status);return void 0!==jn.response?new Uint8Array(jn.response||[]):Jt(jn.responseText||"",!0)})(cr,jn)),typeof Yt.chunks[Ut]>"u")throw new Error("doXHR failed!");return Yt.chunks[Ut]}),(Mt||!sn)&&(De=sn=1,sn=this.getter(0).length,De=sn,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=sn,this._chunkSize=De,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var G=new F;Object.defineProperties(G,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ie={isDevice:!1,contents:G}}else ie={isDevice:!1,url:m};var Ye=S.createFile(c,p,ie,w,E);ie.contents?Ye.contents=ie.contents:ie.url&&(Ye.contents=null,Ye.url=ie.url),Object.defineProperties(Ye,{usedBytes:{get:function(){return this.contents.length}}});var yt={};function pt(dt,_t,sn,jt,ot){var Mt=dt.node.contents;if(ot>=Mt.length)return 0;var De=Math.min(Mt.length-ot,jt);if(Mt.slice)for(var lt=0;lt<De;lt++)_t[sn+lt]=Mt[ot+lt];else for(lt=0;lt<De;lt++)_t[sn+lt]=Mt.get(ot+lt);return De}return Object.keys(Ye.stream_ops).forEach(dt=>{var _t=Ye.stream_ops[dt];yt[dt]=function(){return S.forceLoadFile(Ye),_t.apply(null,arguments)}}),yt.read=(dt,_t,sn,jt,ot)=>(S.forceLoadFile(Ye),pt(dt,_t,sn,jt,ot)),yt.mmap=(dt,_t,sn,jt,ot)=>{S.forceLoadFile(Ye);var Mt=lr();if(!Mt)throw new S.ErrnoError(48);return pt(dt,qe,Mt,_t,sn),{ptr:Mt,allocated:!0}},Ye.stream_ops=yt,Ye},createPreloadedFile:(c,p,m,w,E,F,G,ie,Ye,yt)=>{var ue=p?er.resolve(Ft.join2(c,p)):c;function dt(_t){function sn(jt){yt&&yt(),ie||S.createDataFile(c,p,jt,w,E,Ye),F&&F(),ar()}Browser.handledByPreloadPlugin(_t,ue,sn,()=>{G&&G(),ar()})||sn(_t)}mo(),"string"==typeof m?function tr(c,p,m,w){var E=w?"":"al "+c;xe(c,F=>{Ce(F,'Loading data file "'+c+'" failed (no arrayBuffer).'),p(new Uint8Array(F)),E&&ar()},F=>{if(!m)throw'Loading data file "'+c+'" failed.';m()}),E&&mo()}(m,_t=>dt(_t),G):dt(m)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,p,m)=>{p=p||(()=>{}),m=m||(()=>{});var w=S.indexedDB();try{var E=w.open(S.DB_NAME(),S.DB_VERSION)}catch(F){return m(F)}E.onupgradeneeded=()=>{ge("creating db"),E.result.createObjectStore(S.DB_STORE_NAME)},E.onsuccess=()=>{var G=E.result.transaction([S.DB_STORE_NAME],"readwrite"),ie=G.objectStore(S.DB_STORE_NAME),Ye=0,yt=0,ue=c.length;function pt(){0==yt?p():m()}c.forEach(dt=>{var _t=ie.put(S.analyzePath(dt).object.contents,dt);_t.onsuccess=()=>{++Ye+yt==ue&&pt()},_t.onerror=()=>{yt++,Ye+yt==ue&&pt()}}),G.onerror=m},E.onerror=m},loadFilesFromDB:(c,p,m)=>{p=p||(()=>{}),m=m||(()=>{});var w=S.indexedDB();try{var E=w.open(S.DB_NAME(),S.DB_VERSION)}catch(F){return m(F)}E.onupgradeneeded=m,E.onsuccess=()=>{var F=E.result;try{var G=F.transaction([S.DB_STORE_NAME],"readonly")}catch(dt){return void m(dt)}var ie=G.objectStore(S.DB_STORE_NAME),Ye=0,yt=0,ue=c.length;function pt(){0==yt?p():m()}c.forEach(dt=>{var _t=ie.get(dt);_t.onsuccess=()=>{S.analyzePath(dt).exists&&S.unlink(dt),S.createDataFile(Ft.dirname(dt),Ft.basename(dt),_t.result,!0,!0,!0),++Ye+yt==ue&&pt()},_t.onerror=()=>{yt++,Ye+yt==ue&&pt()}}),G.onerror=m},E.onerror=m}},kt={DEFAULT_POLLMASK:5,calculateAt:function(c,p,m){if(Ft.isAbs(p))return p;var w;if(w=-100===c?S.cwd():kt.getStreamFromFD(c).path,0==p.length){if(!m)throw new S.ErrnoError(44);return w}return Ft.join2(w,p)},doStat:function(c,p,m){try{var w=c(p)}catch(E){if(E&&E.node&&Ft.normalize(p)!==Ft.normalize(S.getPath(E.node)))return-54;throw E}return L[m>>2]=w.dev,L[m+8>>2]=w.ino,L[m+12>>2]=w.mode,B[m+16>>2]=w.nlink,L[m+20>>2]=w.uid,L[m+24>>2]=w.gid,L[m+28>>2]=w.rdev,re=[w.size>>>0,(Je=w.size,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[m+40>>2]=re[0],L[m+44>>2]=re[1],L[m+48>>2]=4096,L[m+52>>2]=w.blocks,re=[Math.floor(w.atime.getTime()/1e3)>>>0,(Je=Math.floor(w.atime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[m+56>>2]=re[0],L[m+60>>2]=re[1],B[m+64>>2]=0,re=[Math.floor(w.mtime.getTime()/1e3)>>>0,(Je=Math.floor(w.mtime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[m+72>>2]=re[0],L[m+76>>2]=re[1],B[m+80>>2]=0,re=[Math.floor(w.ctime.getTime()/1e3)>>>0,(Je=Math.floor(w.ctime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[m+88>>2]=re[0],L[m+92>>2]=re[1],B[m+96>>2]=0,re=[w.ino>>>0,(Je=w.ino,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[m+104>>2]=re[0],L[m+108>>2]=re[1],0},doMsync:function(c,p,m,w,E){if(!S.isFile(p.node.mode))throw new S.ErrnoError(43);if(2&w)return 0;var F=at.slice(c,c+m);S.msync(p,F,E,m,w)},varargs:void 0,get:function(){return kt.varargs+=4,L[kt.varargs-4>>2]},getStr:function(c){return Ne(c)},getStreamFromFD:function(c){var p=S.getStream(c);if(!p)throw new S.ErrnoError(8);return p}};function I(c){return B[c>>2]+4294967296*L[c+4>>2]}function so(c){return c%4==0&&(c%100!=0||c%400==0)}var ao=[0,31,60,91,121,152,182,213,244,274,305,335],Po=[0,31,59,90,120,151,181,212,243,273,304,334];function zt(c){var p=X(c)+1,m=lo(p);return m&&ke(c,qe,m,p),m}var to=[];function qr(c){try{return ce.grow(c-ze.byteLength+65535>>>16),Te(ce.buffer),1}catch{}}var ai={};function Ro(){if(!Ro.strings){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var m in ai)void 0===ai[m]?delete p[m]:p[m]=ai[m];var w=[];for(var m in p)w.push(m+"="+p[m]);Ro.strings=w}return Ro.strings}function Pi(c,p){he=c,function qo(c){he=c,function on(){return Ae}()||(d.onExit&&d.onExit(c),We=!0),z(c,new pn(c))}(c)}var Gn=Pi,x=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Pe=function(c,p,m,w){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=S.nextInode++,this.name=p,this.mode=m,this.node_ops={},this.stream_ops={},this.rdev=w};Object.defineProperties(Pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=Pe,S.staticInit();var es,Ct={o:function hr(c,p,m,w){kt.varargs=w;try{p=kt.getStr(p),p=kt.calculateAt(c,p);var E=w?kt.get():0;return S.open(p,m,E).fd}catch(F){if(typeof S>"u"||!(F instanceof S.ErrnoError))throw F;return-F.errno}},h:function Pr(c,p){var m=new Date(1e3*I(c));L[p>>2]=m.getUTCSeconds(),L[p+4>>2]=m.getUTCMinutes(),L[p+8>>2]=m.getUTCHours(),L[p+12>>2]=m.getUTCDate(),L[p+16>>2]=m.getUTCMonth(),L[p+20>>2]=m.getUTCFullYear()-1900,L[p+24>>2]=m.getUTCDay();var w=Date.UTC(m.getUTCFullYear(),0,1,0,0,0,0),E=(m.getTime()-w)/864e5|0;L[p+28>>2]=E},i:function Mo(c,p){var m=new Date(1e3*I(c));L[p>>2]=m.getSeconds(),L[p+4>>2]=m.getMinutes(),L[p+8>>2]=m.getHours(),L[p+12>>2]=m.getDate(),L[p+16>>2]=m.getMonth(),L[p+20>>2]=m.getFullYear()-1900,L[p+24>>2]=m.getDay();var w=0|function _r(c){return(so(c.getFullYear())?ao:Po)[c.getMonth()]+c.getDate()-1}(m);L[p+28>>2]=w,L[p+36>>2]=-60*m.getTimezoneOffset();var E=new Date(m.getFullYear(),0,1),F=new Date(m.getFullYear(),6,1).getTimezoneOffset(),G=E.getTimezoneOffset(),ie=0|(F!=G&&m.getTimezoneOffset()==Math.min(G,F));L[p+32>>2]=ie},j:function eo(c,p,m){var w=(new Date).getFullYear(),E=new Date(w,0,1),F=new Date(w,6,1),G=E.getTimezoneOffset(),ie=F.getTimezoneOffset(),Ye=Math.max(G,ie);function yt(sn){var jt=sn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return jt?jt[1]:"GMT"}B[c>>2]=60*Ye,L[p>>2]=Number(G!=ie);var ue=yt(E),pt=yt(F),dt=zt(ue),_t=zt(pt);ie<G?(B[m>>2]=dt,B[m+4>>2]=_t):(B[m>>2]=_t,B[m+4>>2]=dt)},b:function nr(){Qn("")},a:function Wo(c,p,m){var w=function no(c,p){var m;for(to.length=0,p>>=2;m=at[c++];)p+=105!=m&p,to.push(105==m?L[p]:fe[p++>>1]),++p;return to}(p,m);return Be[c].apply(null,w)},c:function Xt(){return Date.now()},g:function yo(c,p,m){at.copyWithin(c,p,p+m)},m:function Br(c){var Ye,p=at.length,m=2147483648;if((c>>>=0)>m)return!1;for(var E=1;E<=4;E*=2){var F=p*(1+.2/E);if(F=Math.min(F,c+100663296),qr(Math.min(m,(Ye=Math.max(c,F))+(65536-Ye%65536)%65536)))return!0}return!1},p:function Vr(c,p){var m=0;return Ro().forEach(function(w,E){var F=p+m;B[c+4*E>>2]=F,function ko(c,p,m){for(var w=0;w<c.length;++w)qe[p++>>0]=c.charCodeAt(w);m||(qe[p>>0]=0)}(w,F),m+=w.length+1}),0},f:function Qi(c,p){var m=Ro();B[c>>2]=m.length;var w=0;return m.forEach(function(E){w+=E.length+1}),B[p>>2]=w,0},q:Gn,d:function Zo(c){try{var p=kt.getStreamFromFD(c);return S.close(p),0}catch(m){if(typeof S>"u"||!(m instanceof S.ErrnoError))throw m;return m.errno}},e:function Yo(c,p,m,w){try{var F=function _i(c,p,m,w){for(var E=0,F=0;F<m;F++){var G=B[p>>2],ie=B[p+4>>2];p+=8;var Ye=S.read(c,qe,G,ie,w);if(Ye<0)return-1;if(E+=Ye,Ye<ie)break}return E}(kt.getStreamFromFD(c),p,m);return B[w>>2]=F,0}catch(G){if(typeof S>"u"||!(G instanceof S.ErrnoError))throw G;return G.errno}},k:function Ko(c,p,m,w,E){try{var F=function Rn(c,p){return p+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*p:NaN}(p,m);if(isNaN(F))return 61;var G=kt.getStreamFromFD(c);return S.llseek(G,F,w),re=[G.position>>>0,(Je=G.position,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[E>>2]=re[0],L[E+4>>2]=re[1],G.getdents&&0===F&&0===w&&(G.getdents=null),0}catch(ie){if(typeof S>"u"||!(ie instanceof S.ErrnoError))throw ie;return ie.errno}},n:function wi(c,p,m,w){try{var F=function Nn(c,p,m,w){for(var E=0,F=0;F<m;F++){var G=B[p>>2],ie=B[p+4>>2];p+=8;var Ye=S.write(c,qe,G,ie,w);if(Ye<0)return-1;E+=Ye}return E}(kt.getStreamFromFD(c),p,m);return B[w>>2]=F,0}catch(G){if(typeof S>"u"||!(G instanceof S.ErrnoError))throw G;return G.errno}},l:function Y(c,p,m,w,E){return function P(c,p,m,w){var E=L[w+40>>2],F={tm_sec:L[w>>2],tm_min:L[w+4>>2],tm_hour:L[w+8>>2],tm_mday:L[w+12>>2],tm_mon:L[w+16>>2],tm_year:L[w+20>>2],tm_wday:L[w+24>>2],tm_yday:L[w+28>>2],tm_isdst:L[w+32>>2],tm_gmtoff:L[w+36>>2],tm_zone:E?Ne(E):""},G=Ne(m),ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ye in ie)G=G.replace(new RegExp(Ye,"g"),ie[Ye]);var yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ue=["January","February","March","April","May","June","July","August","September","October","November","December"];function pt(De,lt,Yt){for(var Ut="number"==typeof De?De.toString():De||"";Ut.length<lt;)Ut=Yt[0]+Ut;return Ut}function dt(De,lt){return pt(De,lt,"0")}function _t(De,lt){function Yt(cr){return cr<0?-1:cr>0?1:0}var Ut;return 0===(Ut=Yt(De.getFullYear()-lt.getFullYear()))&&0===(Ut=Yt(De.getMonth()-lt.getMonth()))&&(Ut=Yt(De.getDate()-lt.getDate())),Ut}function sn(De){switch(De.getDay()){case 0:return new Date(De.getFullYear()-1,11,29);case 1:return De;case 2:return new Date(De.getFullYear(),0,3);case 3:return new Date(De.getFullYear(),0,2);case 4:return new Date(De.getFullYear(),0,1);case 5:return new Date(De.getFullYear()-1,11,31);case 6:return new Date(De.getFullYear()-1,11,30)}}function jt(De){var lt=function ae(c,p){for(var m=new Date(c.getTime());p>0;){var w=so(m.getFullYear()),E=m.getMonth(),F=(w?x:N)[E];if(!(p>F-m.getDate()))return m.setDate(m.getDate()+p),m;p-=F-m.getDate()+1,m.setDate(1),E<11?m.setMonth(E+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1))}return m}(new Date(De.tm_year+1900,0,1),De.tm_yday),Yt=new Date(lt.getFullYear(),0,4),Ut=new Date(lt.getFullYear()+1,0,4),cr=sn(Yt),jn=sn(Ut);return _t(cr,lt)<=0?_t(jn,lt)<=0?lt.getFullYear()+1:lt.getFullYear():lt.getFullYear()-1}var ot={"%a":function(De){return yt[De.tm_wday].substring(0,3)},"%A":function(De){return yt[De.tm_wday]},"%b":function(De){return ue[De.tm_mon].substring(0,3)},"%B":function(De){return ue[De.tm_mon]},"%C":function(De){return dt((De.tm_year+1900)/100|0,2)},"%d":function(De){return dt(De.tm_mday,2)},"%e":function(De){return pt(De.tm_mday,2," ")},"%g":function(De){return jt(De).toString().substring(2)},"%G":function(De){return jt(De)},"%H":function(De){return dt(De.tm_hour,2)},"%I":function(De){var lt=De.tm_hour;return 0==lt?lt=12:lt>12&&(lt-=12),dt(lt,2)},"%j":function(De){return dt(De.tm_mday+function Ji(c,p){for(var m=0,w=0;w<=p;m+=c[w++]);return m}(so(De.tm_year+1900)?x:N,De.tm_mon-1),3)},"%m":function(De){return dt(De.tm_mon+1,2)},"%M":function(De){return dt(De.tm_min,2)},"%n":function(){return"\n"},"%p":function(De){return De.tm_hour>=0&&De.tm_hour<12?"AM":"PM"},"%S":function(De){return dt(De.tm_sec,2)},"%t":function(){return"\t"},"%u":function(De){return De.tm_wday||7},"%U":function(De){return dt(Math.floor((De.tm_yday+7-De.tm_wday)/7),2)},"%V":function(De){var lt=Math.floor((De.tm_yday+7-(De.tm_wday+6)%7)/7);if((De.tm_wday+371-De.tm_yday-2)%7<=2&&lt++,lt){if(53==lt){var Ut=(De.tm_wday+371-De.tm_yday)%7;4!=Ut&&(3!=Ut||!so(De.tm_year))&&(lt=1)}}else{lt=52;var Yt=(De.tm_wday+7-De.tm_yday-1)%7;(4==Yt||5==Yt&&so(De.tm_year%400-1))&&lt++}return dt(lt,2)},"%w":function(De){return De.tm_wday},"%W":function(De){return dt(Math.floor((De.tm_yday+7-(De.tm_wday+6)%7)/7),2)},"%y":function(De){return(De.tm_year+1900).toString().substring(2)},"%Y":function(De){return De.tm_year+1900},"%z":function(De){var lt=De.tm_gmtoff,Yt=lt>=0;return lt=(lt=Math.abs(lt)/60)/60*100+lt%60,(Yt?"+":"-")+String("0000"+lt).slice(-4)},"%Z":function(De){return De.tm_zone},"%%":function(){return"%"}};for(var Ye in G=G.replace(/%%/g,"\0\0"),ot)G.includes(Ye)&&(G=G.replace(new RegExp(Ye,"g"),ot[Ye](F)));var Mt=Jt(G=G.replace(/\0\0/g,"%"),!1);return Mt.length>p?0:(function Se(c,p){qe.set(c,p)}(Mt,c),Mt.length-1)}(c,p,m,w)}},lo=(function Ar(){var c={a:Ct};function p(G,ie){d.asm=G.exports,Te((ce=d.asm.r).buffer),function Jr(c){et.unshift(c)}(d.asm.s),ar()}function m(G){p(G.instance)}function w(G){return function vi(){return le||!ye&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Wr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+Sn+"'";return c.arrayBuffer()}).catch(function(){return Wr(Sn)})}().then(function(ie){return WebAssembly.instantiate(ie,c)}).then(function(ie){return ie}).then(G,function(ie){oe("failed to asynchronously prepare wasm: "+ie),Qn(ie)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(c,p)}catch(G){oe("Module.instantiateWasm callback failed with error: "+G),ee(G)}(function E(){return le||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?w(m):fetch(Sn,{credentials:"same-origin"}).then(function(G){return WebAssembly.instantiateStreaming(G,c).then(m,function(Ye){return oe("wasm streaming compile failed: "+Ye),oe("falling back to ArrayBuffer instantiation"),w(m)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.s).apply(null,arguments)},d._free=function(){return(d._free=d.asm.t).apply(null,arguments)},d._malloc=function(){return(lo=d._malloc=d.asm.u).apply(null,arguments)}),Rr=d._emscripten_bind_VoidPtr___destroy___0=function(){return(Rr=d._emscripten_bind_VoidPtr___destroy___0=d.asm.v).apply(null,arguments)},mr=d._emscripten_bind_FSTools_FSTools_0=function(){return(mr=d._emscripten_bind_FSTools_FSTools_0=d.asm.w).apply(null,arguments)},Ri=d._emscripten_bind_FSTools_Malloc_1=function(){return(Ri=d._emscripten_bind_FSTools_Malloc_1=d.asm.x).apply(null,arguments)},Xo=d._emscripten_bind_FSTools_Free_1=function(){return(Xo=d._emscripten_bind_FSTools_Free_1=d.asm.y).apply(null,arguments)},bi=d._emscripten_bind_FSTools_Nullptr_0=function(){return(bi=d._emscripten_bind_FSTools_Nullptr_0=d.asm.z).apply(null,arguments)},Da=d._emscripten_bind_FSTools___destroy___0=function(){return(Da=d._emscripten_bind_FSTools___destroy___0=d.asm.A).apply(null,arguments)},Ss=d._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Ss=d._emscripten_bind_MkfsContext_MkfsContext_0=d.asm.B).apply(null,arguments)},Ia=d._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Ia=d._emscripten_bind_MkfsContext_Mkfs_2=d.asm.C).apply(null,arguments)},Es=d._emscripten_bind_MkfsContext_GetImage_0=function(){return(Es=d._emscripten_bind_MkfsContext_GetImage_0=d.asm.D).apply(null,arguments)},us=d._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(us=d._emscripten_bind_MkfsContext_GetImageSize_0=d.asm.E).apply(null,arguments)},Fr=d._emscripten_bind_MkfsContext___destroy___0=function(){return(Fr=d._emscripten_bind_MkfsContext___destroy___0=d.asm.F).apply(null,arguments)},Fn=d._emscripten_bind_FsckContext_FsckContext_1=function(){return(Fn=d._emscripten_bind_FsckContext_FsckContext_1=d.asm.G).apply(null,arguments)},ll=d._emscripten_bind_FsckContext_GetImage_0=function(){return(ll=d._emscripten_bind_FsckContext_GetImage_0=d.asm.H).apply(null,arguments)},Ma=d._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(Ma=d._emscripten_bind_FsckContext_GetDirtyPages_0=d.asm.I).apply(null,arguments)},ka=d._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ka=d._emscripten_bind_FsckContext_GetImageSize_0=d.asm.J).apply(null,arguments)},ft=d._emscripten_bind_FsckContext_Fsck_0=function(){return(ft=d._emscripten_bind_FsckContext_Fsck_0=d.asm.K).apply(null,arguments)},Ta=d._emscripten_bind_FsckContext_GetResult_0=function(){return(Ta=d._emscripten_bind_FsckContext_GetResult_0=d.asm.L).apply(null,arguments)},Kn=d._emscripten_bind_FsckContext___destroy___0=function(){return(Kn=d._emscripten_bind_FsckContext___destroy___0=d.asm.M).apply(null,arguments)};function ns(c){function p(){es||(es=!0,d.calledRun=!0,!We&&(function zr(){!d.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,Yn.init(),bn(et)}(),function Er(){bn(At)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Zr&&function ts(c){var p=d._main;try{var E=p(0,0);return Pi(E),E}catch(F){return function J(c){if(c instanceof pn||"unwind"==c)return he;z(1,c)}(F)}}(),function Zn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)c=d.postRun.shift(),Lt.unshift(c);var c;bn(Lt)}()))}c=c||K,Hn>0||(function pe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)c=d.preRun.shift(),Ke.unshift(c);var c;bn(Ke)}(),Hn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p())}if(d._main=function(){return(d._main=d.asm.N).apply(null,arguments)},d.___original_main=function(){return(d.___original_main=d.asm.P).apply(null,arguments)},d.___start_em_js=40204,d.___stop_em_js=40302,vr=function c(){es||ns(),es||(vr=c)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Zr=!0;function kr(){}function Nt(c){return(c||kr).__cache__}function Fo(c,p){var m=Nt(p),w=m[c];return w||((w=Object.create((p||kr).prototype)).ptr=c,m[c]=w)}d.noInitialRun&&(Zr=!1),ns(),(kr.prototype=Object.create(kr.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},d.WrapperObject=kr,d.getCache=Nt,d.wrapPointer=Fo,d.castObject=function Aa(c,p){return Fo(c.ptr,p)},d.NULL=Fo(0),d.destroy=function Oo(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete Nt(c.__class__)[c.ptr]},d.compare=function Zs(c,p){return c.ptr===p.ptr},d.getPointer=function cl(c){return c.ptr},d.getClass=function An(c){return c.__class__};var Dn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Dn.needed){for(var c=0;c<Dn.temps.length;c++)d._free(Dn.temps[c]);Dn.temps.length=0,d._free(Dn.buffer),Dn.buffer=0,Dn.size+=Dn.needed,Dn.needed=0}Dn.buffer||(Dn.size+=128,Dn.buffer=d._malloc(Dn.size),Ce(Dn.buffer)),Dn.pos=0},alloc:function(c,p){Ce(Dn.buffer);var E,w=c.length*p.BYTES_PER_ELEMENT;return Dn.pos+(w=w+7&-8)>=Dn.size?(Ce(w>0),Dn.needed+=w,E=d._malloc(w),Dn.temps.push(E)):(E=Dn.buffer+Dn.pos,Dn.pos+=w),E},copy:function(c,p,m){switch(m>>>=0,p.BYTES_PER_ELEMENT){case 2:m>>>=1;break;case 4:m>>>=2;break;case 8:m>>>=3}for(var E=0;E<c.length;E++)p[m+E]=c[E]}};function hn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function en(){this.ptr=mr(),Nt(en)[this.ptr]=this}function h(){this.ptr=Ss(),Nt(h)[this.ptr]=this}function _(c){c&&"object"==typeof c&&(c=c.ptr),this.ptr=Fn(c),Nt(_)[this.ptr]=this}return(hn.prototype=Object.create(kr.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},d.VoidPtr=hn,hn.prototype.__destroy__=hn.prototype.__destroy__=function(){Rr(this.ptr)},(en.prototype=Object.create(kr.prototype)).constructor=en,en.prototype.__class__=en,en.__cache__={},d.FSTools=en,en.prototype.Malloc=en.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),Fo(Ri(this.ptr,c),hn)},en.prototype.Free=en.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),Xo(this.ptr,c)},en.prototype.Nullptr=en.prototype.Nullptr=function(){return Fo(bi(this.ptr),hn)},en.prototype.__destroy__=en.prototype.__destroy__=function(){Da(this.ptr)},(h.prototype=Object.create(kr.prototype)).constructor=h,h.prototype.__class__=h,h.__cache__={},d.MkfsContext=h,h.prototype.Mkfs=h.prototype.Mkfs=function(c,p){var m=this.ptr;return Dn.prepare(),c&&"object"==typeof c&&(c=c.ptr),p=p&&"object"==typeof p?p.ptr:function vo(c){if("string"==typeof c){var p=Jt(c),m=Dn.alloc(p,qe);return Dn.copy(p,qe,m),m}return c}(p),!!Ia(m,c,p)},h.prototype.GetImage=h.prototype.GetImage=function(){return Fo(Es(this.ptr),hn)},h.prototype.GetImageSize=h.prototype.GetImageSize=function(){return us(this.ptr)},h.prototype.__destroy__=h.prototype.__destroy__=function(){Fr(this.ptr)},(_.prototype=Object.create(kr.prototype)).constructor=_,_.prototype.__class__=_,_.__cache__={},d.FsckContext=_,_.prototype.GetImage=_.prototype.GetImage=function(){return Fo(ll(this.ptr),hn)},_.prototype.GetDirtyPages=_.prototype.GetDirtyPages=function(){return Fo(Ma(this.ptr),hn)},_.prototype.GetImageSize=_.prototype.GetImageSize=function(){return ka(this.ptr)},_.prototype.Fsck=_.prototype.Fsck=function(){return ft(this.ptr)},_.prototype.GetResult=_.prototype.GetResult=function(){return Ta(this.ptr)},_.prototype.__destroy__=_.prototype.__destroy__=function(){Kn(this.ptr)},T.ready});Oe.exports=Ge},7971:Oe=>{var R,Ge=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var ne,ee,d=typeof(T=T||{})<"u"?T:{};d.ready=new Promise(function(h,_){ne=h,ee=_});var V,xe,Q,q=Object.assign({},d),K=[],j="./this.program",z=(h,_)=>{throw _},ye="object"==typeof window,Z="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ye||Z)&&(Z?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=h=>{var _=new XMLHttpRequest;return _.open("GET",h,!1),_.send(null),_.responseText},Z&&(Q=h=>{var _=new XMLHttpRequest;return _.open("GET",h,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),xe=(h,_,c)=>{var p=new XMLHttpRequest;p.open("GET",h,!0),p.responseType="arraybuffer",p.onload=()=>{200==p.status||0==p.status&&p.response?_(p.response):c()},p.onerror=c,p.send(null)});var le,ge=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,q),q=null,d.arguments&&(K=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(z=d.quit),d.wasmBinary&&(le=d.wasmBinary);var Ae=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var ce,he,We=!1;function Ce(h,_){h||Qn(_)}var ze,qe,at,L,B,Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function He(h,_,c){for(var p=_+c,m=_;h[m]&&!(m>=p);)++m;if(m-_>16&&h.buffer&&Me)return Me.decode(h.subarray(_,m));for(var w="";_<m;){var E=h[_++];if(128&E){var F=63&h[_++];if(192!=(224&E)){var G=63&h[_++];if((E=224==(240&E)?(15&E)<<12|F<<6|G:(7&E)<<18|F<<12|G<<6|63&h[_++])<65536)w+=String.fromCharCode(E);else{var ie=E-65536;w+=String.fromCharCode(55296|ie>>10,56320|1023&ie)}}else w+=String.fromCharCode((31&E)<<6|F)}else w+=String.fromCharCode(E)}return w}function Ne(h,_){return h?He(at,h,_):""}function ke(h,_,c,p){if(!(p>0))return 0;for(var m=c,w=c+p-1,E=0;E<h.length;++E){var F=h.charCodeAt(E);if(F>=55296&&F<=57343&&(F=65536+((1023&F)<<10)|1023&h.charCodeAt(++E)),F<=127){if(c>=w)break;_[c++]=F}else if(F<=2047){if(c+1>=w)break;_[c++]=192|F>>6,_[c++]=128|63&F}else if(F<=65535){if(c+2>=w)break;_[c++]=224|F>>12,_[c++]=128|F>>6&63,_[c++]=128|63&F}else{if(c+3>=w)break;_[c++]=240|F>>18,_[c++]=128|F>>12&63,_[c++]=128|F>>6&63,_[c++]=128|63&F}}return _[c]=0,c-m}function X(h){for(var _=0,c=0;c<h.length;++c){var p=h.charCodeAt(c);p<=127?_++:p<=2047?_+=2:p>=55296&&p<=57343?(_+=4,++c):_+=3}return _}function Te(h){ze=h,d.HEAP8=qe=new Int8Array(h),d.HEAP16=new Int16Array(h),d.HEAP32=L=new Int32Array(h),d.HEAPU8=at=new Uint8Array(h),d.HEAPU16=new Uint16Array(h),d.HEAPU32=B=new Uint32Array(h),d.HEAPF32=new Float32Array(h),d.HEAPF64=new Float64Array(h)}var Sn,Je,re,Ke=[],et=[],At=[],Lt=[],Hn=0,sr=null,vr=null;function mo(h){Hn++,d.monitorRunDependencies&&d.monitorRunDependencies(Hn)}function ar(h){if(Hn--,d.monitorRunDependencies&&d.monitorRunDependencies(Hn),0==Hn&&(null!==sr&&(clearInterval(sr),sr=null),vr)){var _=vr;vr=null,_()}}function Qn(h){d.onAbort&&d.onAbort(h),oe(h="Aborted("+h+")"),We=!0,he=1,h+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(h);throw ee(_),_}function $r(h){return h.startsWith("data:application/octet-stream;base64,")}function Wr(h){try{if(h==Sn&&le)return new Uint8Array(le);if(Q)return Q(h);throw"both async and sync fetching of the wasm failed"}catch(_){Qn(_)}}function Be(h){this.name="ExitStatus",this.message="Program terminated with exit("+h+")",this.status=h}function pn(h){for(;h.length>0;)h.shift()(d)}function Ft(h){return h%4==0&&(h%100!=0||h%400==0)}$r(Sn="vfs_web.wasm")||(Sn=function O(h){return d.locateFile?d.locateFile(h,$):$+h}(Sn));var cn=[0,31,60,91,121,152,182,213,244,274,305,335],er=[0,31,59,90,120,151,181,212,243,273,304,334];function Jt(h){return(Ft(h.getFullYear())?cn:er)[h.getMonth()]+h.getDate()-1}function Vt(h){var _=X(h)+1,c=Pe(_);return c&&ke(h,qe,c,_),c}function Pr(h){try{return ce.grow(h-ze.byteLength+65535>>>16),Te(ce.buffer),1}catch{}}var ao={};function _r(){if(!_r.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var c in ao)void 0===ao[c]?delete _[c]:_[c]=ao[c];var p=[];for(var c in _)p.push(c+"="+_[c]);_r.strings=p}return _r.strings}var zt={isAbs:h=>"/"===h.charAt(0),splitPath:h=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1),normalizeArray:(h,_)=>{for(var c=0,p=h.length-1;p>=0;p--){var m=h[p];"."===m?h.splice(p,1):".."===m?(h.splice(p,1),c++):c&&(h.splice(p,1),c--)}if(_)for(;c;c--)h.unshift("..");return h},normalize:h=>{var _=zt.isAbs(h),c="/"===h.substr(-1);return!(h=zt.normalizeArray(h.split("/").filter(p=>!!p),!_).join("/"))&&!_&&(h="."),h&&c&&(h+="/"),(_?"/":"")+h},dirname:h=>{var _=zt.splitPath(h),c=_[0],p=_[1];return c||p?(p&&(p=p.substr(0,p.length-1)),c+p):"."},basename:h=>{if("/"===h)return"/";var _=(h=(h=zt.normalize(h)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?h:h.substr(_+1)},join:function(){var h=Array.prototype.slice.call(arguments);return zt.normalize(h.join("/"))},join2:(h,_)=>zt.normalize(h+"/"+_)},nr={resolve:function(){for(var h="",_=!1,c=arguments.length-1;c>=-1&&!_;c--){var p=c>=0?arguments[c]:D.cwd();if("string"!=typeof p)throw new TypeError("Arguments to path.resolve must be strings");if(!p)return"";h=p+"/"+h,_=zt.isAbs(p)}return(_?"/":"")+(h=zt.normalizeArray(h.split("/").filter(m=>!!m),!_).join("/"))||"."},relative:(h,_)=>{function c(ie){for(var Ye=0;Ye<ie.length&&""===ie[Ye];Ye++);for(var yt=ie.length-1;yt>=0&&""===ie[yt];yt--);return Ye>yt?[]:ie.slice(Ye,yt-Ye+1)}h=nr.resolve(h).substr(1),_=nr.resolve(_).substr(1);for(var p=c(h.split("/")),m=c(_.split("/")),w=Math.min(p.length,m.length),E=w,F=0;F<w;F++)if(p[F]!==m[F]){E=F;break}var G=[];for(F=E;F<p.length;F++)G.push("..");return(G=G.concat(m.slice(E))).join("/")}};function to(h,_,c){var p=c>0?c:X(h)+1,m=new Array(p),w=ke(h,m,0,m.length);return _&&(m.length=w),m}var no={ttys:[],init:function(){},shutdown:function(){},register:function(h,_){no.ttys[h]={input:[],output:[],ops:_},D.registerDevice(h,no.stream_ops)},stream_ops:{open:function(h){var _=no.ttys[h.node.rdev];if(!_)throw new D.ErrnoError(43);h.tty=_,h.seekable=!1},close:function(h){h.tty.ops.fsync(h.tty)},fsync:function(h){h.tty.ops.fsync(h.tty)},read:function(h,_,c,p,m){if(!h.tty||!h.tty.ops.get_char)throw new D.ErrnoError(60);for(var w=0,E=0;E<p;E++){var F;try{F=h.tty.ops.get_char(h.tty)}catch{throw new D.ErrnoError(29)}if(void 0===F&&0===w)throw new D.ErrnoError(6);if(null==F)break;w++,_[c+E]=F}return w&&(h.node.timestamp=Date.now()),w},write:function(h,_,c,p,m){if(!h.tty||!h.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var w=0;w<p;w++)h.tty.ops.put_char(h.tty,_[c+w])}catch{throw new D.ErrnoError(29)}return p&&(h.node.timestamp=Date.now()),w}},default_tty_ops:{get_char:function(h){if(!h.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;h.input=to(_,!0)}return h.input.shift()},put_char:function(h,_){null===_||10===_?(ge(He(h.output,0)),h.output=[]):0!=_&&h.output.push(_)},fsync:function(h){h.output&&h.output.length>0&&(ge(He(h.output,0)),h.output=[])}},default_tty1_ops:{put_char:function(h,_){null===_||10===_?(oe(He(h.output,0)),h.output=[]):0!=_&&h.output.push(_)},fsync:function(h){h.output&&h.output.length>0&&(oe(He(h.output,0)),h.output=[])}}};function Wo(h){Qn()}var Xt={ops_table:null,mount:function(h){return Xt.createNode(null,"/",16895,0)},createNode:function(h,_,c,p){if(D.isBlkdev(c)||D.isFIFO(c))throw new D.ErrnoError(63);Xt.ops_table||(Xt.ops_table={dir:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr,lookup:Xt.node_ops.lookup,mknod:Xt.node_ops.mknod,rename:Xt.node_ops.rename,unlink:Xt.node_ops.unlink,rmdir:Xt.node_ops.rmdir,readdir:Xt.node_ops.readdir,symlink:Xt.node_ops.symlink},stream:{llseek:Xt.stream_ops.llseek}},file:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr},stream:{llseek:Xt.stream_ops.llseek,read:Xt.stream_ops.read,write:Xt.stream_ops.write,allocate:Xt.stream_ops.allocate,mmap:Xt.stream_ops.mmap,msync:Xt.stream_ops.msync}},link:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr,readlink:Xt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr},stream:D.chrdev_stream_ops}});var m=D.createNode(h,_,c,p);return D.isDir(m.mode)?(m.node_ops=Xt.ops_table.dir.node,m.stream_ops=Xt.ops_table.dir.stream,m.contents={}):D.isFile(m.mode)?(m.node_ops=Xt.ops_table.file.node,m.stream_ops=Xt.ops_table.file.stream,m.usedBytes=0,m.contents=null):D.isLink(m.mode)?(m.node_ops=Xt.ops_table.link.node,m.stream_ops=Xt.ops_table.link.stream):D.isChrdev(m.mode)&&(m.node_ops=Xt.ops_table.chrdev.node,m.stream_ops=Xt.ops_table.chrdev.stream),m.timestamp=Date.now(),h&&(h.contents[_]=m,h.timestamp=m.timestamp),m},getFileDataAsTypedArray:function(h){return h.contents?h.contents.subarray?h.contents.subarray(0,h.usedBytes):new Uint8Array(h.contents):new Uint8Array(0)},expandFileStorage:function(h,_){var c=h.contents?h.contents.length:0;if(!(c>=_)){_=Math.max(_,c*(c<1048576?2:1.125)>>>0),0!=c&&(_=Math.max(_,256));var m=h.contents;h.contents=new Uint8Array(_),h.usedBytes>0&&h.contents.set(m.subarray(0,h.usedBytes),0)}},resizeFileStorage:function(h,_){if(h.usedBytes!=_)if(0==_)h.contents=null,h.usedBytes=0;else{var c=h.contents;h.contents=new Uint8Array(_),c&&h.contents.set(c.subarray(0,Math.min(_,h.usedBytes))),h.usedBytes=_}},node_ops:{getattr:function(h){var _={};return _.dev=D.isChrdev(h.mode)?h.id:1,_.ino=h.id,_.mode=h.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=h.rdev,_.size=D.isDir(h.mode)?4096:D.isFile(h.mode)?h.usedBytes:D.isLink(h.mode)?h.link.length:0,_.atime=new Date(h.timestamp),_.mtime=new Date(h.timestamp),_.ctime=new Date(h.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(h,_){void 0!==_.mode&&(h.mode=_.mode),void 0!==_.timestamp&&(h.timestamp=_.timestamp),void 0!==_.size&&Xt.resizeFileStorage(h,_.size)},lookup:function(h,_){throw D.genericErrors[44]},mknod:function(h,_,c,p){return Xt.createNode(h,_,c,p)},rename:function(h,_,c){if(D.isDir(h.mode)){var p;try{p=D.lookupNode(_,c)}catch{}if(p)for(var m in p.contents)throw new D.ErrnoError(55)}delete h.parent.contents[h.name],h.parent.timestamp=Date.now(),h.name=c,_.contents[c]=h,_.timestamp=h.parent.timestamp,h.parent=_},unlink:function(h,_){delete h.contents[_],h.timestamp=Date.now()},rmdir:function(h,_){var c=D.lookupNode(h,_);for(var p in c.contents)throw new D.ErrnoError(55);delete h.contents[_],h.timestamp=Date.now()},readdir:function(h){var _=[".",".."];for(var c in h.contents)!h.contents.hasOwnProperty(c)||_.push(c);return _},symlink:function(h,_,c){var p=Xt.createNode(h,_,41471,0);return p.link=c,p},readlink:function(h){if(!D.isLink(h.mode))throw new D.ErrnoError(28);return h.link}},stream_ops:{read:function(h,_,c,p,m){var w=h.node.contents;if(m>=h.node.usedBytes)return 0;var E=Math.min(h.node.usedBytes-m,p);if(E>8&&w.subarray)_.set(w.subarray(m,m+E),c);else for(var F=0;F<E;F++)_[c+F]=w[m+F];return E},write:function(h,_,c,p,m,w){if(_.buffer===qe.buffer&&(w=!1),!p)return 0;var E=h.node;if(E.timestamp=Date.now(),_.subarray&&(!E.contents||E.contents.subarray)){if(w)return E.contents=_.subarray(c,c+p),E.usedBytes=p,p;if(0===E.usedBytes&&0===m)return E.contents=_.slice(c,c+p),E.usedBytes=p,p;if(m+p<=E.usedBytes)return E.contents.set(_.subarray(c,c+p),m),p}if(Xt.expandFileStorage(E,m+p),E.contents.subarray&&_.subarray)E.contents.set(_.subarray(c,c+p),m);else for(var F=0;F<p;F++)E.contents[m+F]=_[c+F];return E.usedBytes=Math.max(E.usedBytes,m+p),p},llseek:function(h,_,c){var p=_;if(1===c?p+=h.position:2===c&&D.isFile(h.node.mode)&&(p+=h.node.usedBytes),p<0)throw new D.ErrnoError(28);return p},allocate:function(h,_,c){Xt.expandFileStorage(h.node,_+c),h.node.usedBytes=Math.max(h.node.usedBytes,_+c)},mmap:function(h,_,c,p,m){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);var w,E,F=h.node.contents;if(2&m||F.buffer!==ze){if((c>0||c+_<F.length)&&(F=F.subarray?F.subarray(c,c+_):Array.prototype.slice.call(F,c,c+_)),E=!0,!(w=Wo()))throw new D.ErrnoError(48);qe.set(F,w)}else E=!1,w=F.byteOffset;return{ptr:w,allocated:E}},msync:function(h,_,c,p,m){return Xt.stream_ops.write(h,_,0,p,c,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(h,_={})=>{if(!(h=nr.resolve(h)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new D.ErrnoError(32);for(var p=h.split("/").filter(yt=>!!yt),m=D.root,w="/",E=0;E<p.length;E++){var F=E===p.length-1;if(F&&_.parent)break;if(m=D.lookupNode(m,p[E]),w=zt.join2(w,p[E]),D.isMountpoint(m)&&(!F||F&&_.follow_mount)&&(m=m.mounted.root),!F||_.follow)for(var G=0;D.isLink(m.mode);){var ie=D.readlink(w);if(w=nr.resolve(zt.dirname(w),ie),m=D.lookupPath(w,{recurse_count:_.recurse_count+1}).node,G++>40)throw new D.ErrnoError(32)}}return{path:w,node:m}},getPath:h=>{for(var _;;){if(D.isRoot(h)){var c=h.mount.mountpoint;return _?"/"!==c[c.length-1]?c+"/"+_:c+_:c}_=_?h.name+"/"+_:h.name,h=h.parent}},hashName:(h,_)=>{for(var c=0,p=0;p<_.length;p++)c=(c<<5)-c+_.charCodeAt(p)|0;return(h+c>>>0)%D.nameTable.length},hashAddNode:h=>{var _=D.hashName(h.parent.id,h.name);h.name_next=D.nameTable[_],D.nameTable[_]=h},hashRemoveNode:h=>{var _=D.hashName(h.parent.id,h.name);if(D.nameTable[_]===h)D.nameTable[_]=h.name_next;else for(var c=D.nameTable[_];c;){if(c.name_next===h){c.name_next=h.name_next;break}c=c.name_next}},lookupNode:(h,_)=>{var c=D.mayLookup(h);if(c)throw new D.ErrnoError(c,h);for(var p=D.hashName(h.id,_),m=D.nameTable[p];m;m=m.name_next)if(m.parent.id===h.id&&m.name===_)return m;return D.lookup(h,_)},createNode:(h,_,c,p)=>{var m=new D.FSNode(h,_,c,p);return D.hashAddNode(m),m},destroyNode:h=>{D.hashRemoveNode(h)},isRoot:h=>h===h.parent,isMountpoint:h=>!!h.mounted,isFile:h=>32768==(61440&h),isDir:h=>16384==(61440&h),isLink:h=>40960==(61440&h),isChrdev:h=>8192==(61440&h),isBlkdev:h=>24576==(61440&h),isFIFO:h=>4096==(61440&h),isSocket:h=>49152==(49152&h),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:h=>{var _=D.flagModes[h];if(typeof _>"u")throw new Error("Unknown file open mode: "+h);return _},flagsToPermissionString:h=>{var _=["r","w","rw"][3&h];return 512&h&&(_+="w"),_},nodePermissions:(h,_)=>D.ignorePermissions?0:_.includes("r")&&!(292&h.mode)||_.includes("w")&&!(146&h.mode)||_.includes("x")&&!(73&h.mode)?2:0,mayLookup:h=>D.nodePermissions(h,"x")||(h.node_ops.lookup?0:2),mayCreate:(h,_)=>{try{return D.lookupNode(h,_),20}catch{}return D.nodePermissions(h,"wx")},mayDelete:(h,_,c)=>{var p;try{p=D.lookupNode(h,_)}catch(w){return w.errno}var m=D.nodePermissions(h,"wx");if(m)return m;if(c){if(!D.isDir(p.mode))return 54;if(D.isRoot(p)||D.getPath(p)===D.cwd())return 10}else if(D.isDir(p.mode))return 31;return 0},mayOpen:(h,_)=>h?D.isLink(h.mode)?32:D.isDir(h.mode)&&("r"!==D.flagsToPermissionString(_)||512&_)?31:D.nodePermissions(h,D.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(h=0,_=D.MAX_OPEN_FDS)=>{for(var c=h;c<=_;c++)if(!D.streams[c])return c;throw new D.ErrnoError(33)},getStream:h=>D.streams[h],createStream:(h,_,c)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(m){this.node=m}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(m){this.shared.flags=m}},position:{get:function(){return this.shared.position},set:function(m){this.shared.position=m}}})),h=Object.assign(new D.FSStream,h);var p=D.nextfd(_,c);return h.fd=p,D.streams[p]=h,h},closeStream:h=>{D.streams[h]=null},chrdev_stream_ops:{open:h=>{var _=D.getDevice(h.node.rdev);h.stream_ops=_.stream_ops,h.stream_ops.open&&h.stream_ops.open(h)},llseek:()=>{throw new D.ErrnoError(70)}},major:h=>h>>8,minor:h=>255&h,makedev:(h,_)=>h<<8|_,registerDevice:(h,_)=>{D.devices[h]={stream_ops:_}},getDevice:h=>D.devices[h],getMounts:h=>{for(var _=[],c=[h];c.length;){var p=c.pop();_.push(p),c.push.apply(c,p.mounts)}return _},syncfs:(h,_)=>{"function"==typeof h&&(_=h,h=!1),D.syncFSRequests++,D.syncFSRequests>1&&oe("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var c=D.getMounts(D.root.mount),p=0;function m(E){return D.syncFSRequests--,_(E)}function w(E){if(E)return w.errored?void 0:(w.errored=!0,m(E));++p>=c.length&&m(null)}c.forEach(E=>{if(!E.type.syncfs)return w(null);E.type.syncfs(E,h,w)})},mount:(h,_,c)=>{var w,p="/"===c,m=!c;if(p&&D.root)throw new D.ErrnoError(10);if(!p&&!m){var E=D.lookupPath(c,{follow_mount:!1});if(c=E.path,D.isMountpoint(w=E.node))throw new D.ErrnoError(10);if(!D.isDir(w.mode))throw new D.ErrnoError(54)}var F={type:h,opts:_,mountpoint:c,mounts:[]},G=h.mount(F);return G.mount=F,F.root=G,p?D.root=G:w&&(w.mounted=F,w.mount&&w.mount.mounts.push(F)),G},unmount:h=>{var _=D.lookupPath(h,{follow_mount:!1});if(!D.isMountpoint(_.node))throw new D.ErrnoError(28);var c=_.node,p=c.mounted,m=D.getMounts(p);Object.keys(D.nameTable).forEach(E=>{for(var F=D.nameTable[E];F;){var G=F.name_next;m.includes(F.mount)&&D.destroyNode(F),F=G}}),c.mounted=null;var w=c.mount.mounts.indexOf(p);c.mount.mounts.splice(w,1)},lookup:(h,_)=>h.node_ops.lookup(h,_),mknod:(h,_,c)=>{var m=D.lookupPath(h,{parent:!0}).node,w=zt.basename(h);if(!w||"."===w||".."===w)throw new D.ErrnoError(28);var E=D.mayCreate(m,w);if(E)throw new D.ErrnoError(E);if(!m.node_ops.mknod)throw new D.ErrnoError(63);return m.node_ops.mknod(m,w,_,c)},create:(h,_)=>(_=void 0!==_?_:438,_&=4095,D.mknod(h,_|=32768,0)),mkdir:(h,_)=>(_=void 0!==_?_:511,_&=1023,D.mknod(h,_|=16384,0)),mkdirTree:(h,_)=>{for(var c=h.split("/"),p="",m=0;m<c.length;++m)if(c[m]){p+="/"+c[m];try{D.mkdir(p,_)}catch(w){if(20!=w.errno)throw w}}},mkdev:(h,_,c)=>(typeof c>"u"&&(c=_,_=438),D.mknod(h,_|=8192,c)),symlink:(h,_)=>{if(!nr.resolve(h))throw new D.ErrnoError(44);var p=D.lookupPath(_,{parent:!0}).node;if(!p)throw new D.ErrnoError(44);var m=zt.basename(_),w=D.mayCreate(p,m);if(w)throw new D.ErrnoError(w);if(!p.node_ops.symlink)throw new D.ErrnoError(63);return p.node_ops.symlink(p,m,h)},rename:(h,_)=>{var F,G,c=zt.dirname(h),p=zt.dirname(_),m=zt.basename(h),w=zt.basename(_);if(F=D.lookupPath(h,{parent:!0}).node,G=D.lookupPath(_,{parent:!0}).node,!F||!G)throw new D.ErrnoError(44);if(F.mount!==G.mount)throw new D.ErrnoError(75);var yt,ie=D.lookupNode(F,m),Ye=nr.relative(h,p);if("."!==Ye.charAt(0))throw new D.ErrnoError(28);if("."!==(Ye=nr.relative(_,c)).charAt(0))throw new D.ErrnoError(55);try{yt=D.lookupNode(G,w)}catch{}if(ie!==yt){var ue=D.isDir(ie.mode),pt=D.mayDelete(F,m,ue);if(pt)throw new D.ErrnoError(pt);if(pt=yt?D.mayDelete(G,w,ue):D.mayCreate(G,w))throw new D.ErrnoError(pt);if(!F.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(ie)||yt&&D.isMountpoint(yt))throw new D.ErrnoError(10);if(G!==F&&(pt=D.nodePermissions(F,"w")))throw new D.ErrnoError(pt);D.hashRemoveNode(ie);try{F.node_ops.rename(ie,G,w)}catch(dt){throw dt}finally{D.hashAddNode(ie)}}},rmdir:h=>{var c=D.lookupPath(h,{parent:!0}).node,p=zt.basename(h),m=D.lookupNode(c,p),w=D.mayDelete(c,p,!0);if(w)throw new D.ErrnoError(w);if(!c.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(m))throw new D.ErrnoError(10);c.node_ops.rmdir(c,p),D.destroyNode(m)},readdir:h=>{var c=D.lookupPath(h,{follow:!0}).node;if(!c.node_ops.readdir)throw new D.ErrnoError(54);return c.node_ops.readdir(c)},unlink:h=>{var c=D.lookupPath(h,{parent:!0}).node;if(!c)throw new D.ErrnoError(44);var p=zt.basename(h),m=D.lookupNode(c,p),w=D.mayDelete(c,p,!1);if(w)throw new D.ErrnoError(w);if(!c.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(m))throw new D.ErrnoError(10);c.node_ops.unlink(c,p),D.destroyNode(m)},readlink:h=>{var c=D.lookupPath(h).node;if(!c)throw new D.ErrnoError(44);if(!c.node_ops.readlink)throw new D.ErrnoError(28);return nr.resolve(D.getPath(c.parent),c.node_ops.readlink(c))},stat:(h,_)=>{var p=D.lookupPath(h,{follow:!_}).node;if(!p)throw new D.ErrnoError(44);if(!p.node_ops.getattr)throw new D.ErrnoError(63);return p.node_ops.getattr(p)},lstat:h=>D.stat(h,!0),chmod:(h,_,c)=>{var p;if(!(p="string"==typeof h?D.lookupPath(h,{follow:!c}).node:h).node_ops.setattr)throw new D.ErrnoError(63);p.node_ops.setattr(p,{mode:4095&_|-4096&p.mode,timestamp:Date.now()})},lchmod:(h,_)=>{D.chmod(h,_,!0)},fchmod:(h,_)=>{var c=D.getStream(h);if(!c)throw new D.ErrnoError(8);D.chmod(c.node,_)},chown:(h,_,c,p)=>{var m;if(!(m="string"==typeof h?D.lookupPath(h,{follow:!p}).node:h).node_ops.setattr)throw new D.ErrnoError(63);m.node_ops.setattr(m,{timestamp:Date.now()})},lchown:(h,_,c)=>{D.chown(h,_,c,!0)},fchown:(h,_,c)=>{var p=D.getStream(h);if(!p)throw new D.ErrnoError(8);D.chown(p.node,_,c)},truncate:(h,_)=>{if(_<0)throw new D.ErrnoError(28);var c;if(!(c="string"==typeof h?D.lookupPath(h,{follow:!0}).node:h).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(c.mode))throw new D.ErrnoError(31);if(!D.isFile(c.mode))throw new D.ErrnoError(28);var m=D.nodePermissions(c,"w");if(m)throw new D.ErrnoError(m);c.node_ops.setattr(c,{size:_,timestamp:Date.now()})},ftruncate:(h,_)=>{var c=D.getStream(h);if(!c)throw new D.ErrnoError(8);if(0==(2097155&c.flags))throw new D.ErrnoError(28);D.truncate(c.node,_)},utime:(h,_,c)=>{var m=D.lookupPath(h,{follow:!0}).node;m.node_ops.setattr(m,{timestamp:Math.max(_,c)})},open:(h,_,c)=>{if(""===h)throw new D.ErrnoError(44);var p;if(c=typeof c>"u"?438:c,c=64&(_="string"==typeof _?D.modeStringToFlags(_):_)?4095&c|32768:0,"object"==typeof h)p=h;else{h=zt.normalize(h);try{p=D.lookupPath(h,{follow:!(131072&_)}).node}catch{}}var w=!1;if(64&_)if(p){if(128&_)throw new D.ErrnoError(20)}else p=D.mknod(h,c,0),w=!0;if(!p)throw new D.ErrnoError(44);if(D.isChrdev(p.mode)&&(_&=-513),65536&_&&!D.isDir(p.mode))throw new D.ErrnoError(54);if(!w){var E=D.mayOpen(p,_);if(E)throw new D.ErrnoError(E)}512&_&&!w&&D.truncate(p,0),_&=-131713;var F=D.createStream({node:p,path:D.getPath(p),flags:_,seekable:!0,position:0,stream_ops:p.stream_ops,ungotten:[],error:!1});return F.stream_ops.open&&F.stream_ops.open(F),d.logReadFiles&&!(1&_)&&(D.readFiles||(D.readFiles={}),h in D.readFiles||(D.readFiles[h]=1)),F},close:h=>{if(D.isClosed(h))throw new D.ErrnoError(8);h.getdents&&(h.getdents=null);try{h.stream_ops.close&&h.stream_ops.close(h)}catch(_){throw _}finally{D.closeStream(h.fd)}h.fd=null},isClosed:h=>null===h.fd,llseek:(h,_,c)=>{if(D.isClosed(h))throw new D.ErrnoError(8);if(!h.seekable||!h.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=c&&1!=c&&2!=c)throw new D.ErrnoError(28);return h.position=h.stream_ops.llseek(h,_,c),h.ungotten=[],h.position},read:(h,_,c,p,m)=>{if(p<0||m<0)throw new D.ErrnoError(28);if(D.isClosed(h))throw new D.ErrnoError(8);if(1==(2097155&h.flags))throw new D.ErrnoError(8);if(D.isDir(h.node.mode))throw new D.ErrnoError(31);if(!h.stream_ops.read)throw new D.ErrnoError(28);var w=typeof m<"u";if(w){if(!h.seekable)throw new D.ErrnoError(70)}else m=h.position;var E=h.stream_ops.read(h,_,c,p,m);return w||(h.position+=E),E},write:(h,_,c,p,m,w)=>{if(p<0||m<0)throw new D.ErrnoError(28);if(D.isClosed(h))throw new D.ErrnoError(8);if(0==(2097155&h.flags))throw new D.ErrnoError(8);if(D.isDir(h.node.mode))throw new D.ErrnoError(31);if(!h.stream_ops.write)throw new D.ErrnoError(28);h.seekable&&1024&h.flags&&D.llseek(h,0,2);var E=typeof m<"u";if(E){if(!h.seekable)throw new D.ErrnoError(70)}else m=h.position;var F=h.stream_ops.write(h,_,c,p,m,w);return E||(h.position+=F),F},allocate:(h,_,c)=>{if(D.isClosed(h))throw new D.ErrnoError(8);if(_<0||c<=0)throw new D.ErrnoError(28);if(0==(2097155&h.flags))throw new D.ErrnoError(8);if(!D.isFile(h.node.mode)&&!D.isDir(h.node.mode))throw new D.ErrnoError(43);if(!h.stream_ops.allocate)throw new D.ErrnoError(138);h.stream_ops.allocate(h,_,c)},mmap:(h,_,c,p,m)=>{if(0!=(2&p)&&0==(2&m)&&2!=(2097155&h.flags))throw new D.ErrnoError(2);if(1==(2097155&h.flags))throw new D.ErrnoError(2);if(!h.stream_ops.mmap)throw new D.ErrnoError(43);return h.stream_ops.mmap(h,_,c,p,m)},msync:(h,_,c,p,m)=>h.stream_ops.msync?h.stream_ops.msync(h,_,c,p,m):0,munmap:h=>0,ioctl:(h,_,c)=>{if(!h.stream_ops.ioctl)throw new D.ErrnoError(59);return h.stream_ops.ioctl(h,_,c)},readFile:(h,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var c,p=D.open(h,_.flags),w=D.stat(h).size,E=new Uint8Array(w);return D.read(p,E,0,w,0),"utf8"===_.encoding?c=He(E,0):"binary"===_.encoding&&(c=E),D.close(p),c},writeFile:(h,_,c={})=>{c.flags=c.flags||577;var p=D.open(h,c.flags,c.mode);if("string"==typeof _){var m=new Uint8Array(X(_)+1),w=ke(_,m,0,m.length);D.write(p,m,0,w,void 0,c.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");D.write(p,_,0,_.byteLength,void 0,c.canOwn)}D.close(p)},cwd:()=>D.currentPath,chdir:h=>{var _=D.lookupPath(h,{follow:!0});if(null===_.node)throw new D.ErrnoError(44);if(!D.isDir(_.node.mode))throw new D.ErrnoError(54);var c=D.nodePermissions(_.node,"x");if(c)throw new D.ErrnoError(c);D.currentPath=_.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(_,c,p,m,w)=>m}),D.mkdev("/dev/null",D.makedev(1,3)),no.register(D.makedev(5,0),no.default_tty_ops),no.register(D.makedev(6,0),no.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var h=function eo(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var h=new Uint8Array(1);return()=>(crypto.getRandomValues(h),h[0])}return()=>Qn("randomDevice")}();D.createDevice("/dev","random",h),D.createDevice("/dev","urandom",h),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var h=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var _=D.createNode(h,"fd",16895,73);return _.node_ops={lookup:(c,p)=>{var w=D.getStream(+p);if(!w)throw new D.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>w.path}};return E.parent=E,E}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?D.createDevice("/dev","stdin",d.stdin):D.symlink("/dev/tty","/dev/stdin"),d.stdout?D.createDevice("/dev","stdout",null,d.stdout):D.symlink("/dev/tty","/dev/stdout"),d.stderr?D.createDevice("/dev","stderr",null,d.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(_,c){this.node=c,this.setErrno=function(p){this.errno=p},this.setErrno(_),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(h=>{D.genericErrors[h]=new D.ErrnoError(h),D.genericErrors[h].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(Xt,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:Xt}},init:(h,_,c)=>{D.init.initialized=!0,D.ensureErrnoError(),d.stdin=h||d.stdin,d.stdout=_||d.stdout,d.stderr=c||d.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var h=0;h<D.streams.length;h++){var _=D.streams[h];!_||D.close(_)}},getMode:(h,_)=>{var c=0;return h&&(c|=365),_&&(c|=146),c},findObject:(h,_)=>{var c=D.analyzePath(h,_);return c.exists?c.object:null},analyzePath:(h,_)=>{try{h=(c=D.lookupPath(h,{follow:!_})).path}catch{}var p={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=D.lookupPath(h,{parent:!0});p.parentExists=!0,p.parentPath=c.path,p.parentObject=c.node,p.name=zt.basename(h),c=D.lookupPath(h,{follow:!_}),p.exists=!0,p.path=c.path,p.object=c.node,p.name=c.node.name,p.isRoot="/"===c.path}catch(m){p.error=m.errno}return p},createPath:(h,_,c,p)=>{h="string"==typeof h?h:D.getPath(h);for(var m=_.split("/").reverse();m.length;){var w=m.pop();if(w){var E=zt.join2(h,w);try{D.mkdir(E)}catch{}h=E}}return E},createFile:(h,_,c,p,m)=>{var w=zt.join2("string"==typeof h?h:D.getPath(h),_),E=D.getMode(p,m);return D.create(w,E)},createDataFile:(h,_,c,p,m,w)=>{var E=_;h&&(h="string"==typeof h?h:D.getPath(h),E=_?zt.join2(h,_):h);var F=D.getMode(p,m),G=D.create(E,F);if(c){if("string"==typeof c){for(var ie=new Array(c.length),Ye=0,yt=c.length;Ye<yt;++Ye)ie[Ye]=c.charCodeAt(Ye);c=ie}D.chmod(G,146|F);var ue=D.open(G,577);D.write(ue,c,0,c.length,0,w),D.close(ue),D.chmod(G,F)}return G},createDevice:(h,_,c,p)=>{var m=zt.join2("string"==typeof h?h:D.getPath(h),_),w=D.getMode(!!c,!!p);D.createDevice.major||(D.createDevice.major=64);var E=D.makedev(D.createDevice.major++,0);return D.registerDevice(E,{open:F=>{F.seekable=!1},close:F=>{p&&p.buffer&&p.buffer.length&&p(10)},read:(F,G,ie,Ye,yt)=>{for(var ue=0,pt=0;pt<Ye;pt++){var dt;try{dt=c()}catch{throw new D.ErrnoError(29)}if(void 0===dt&&0===ue)throw new D.ErrnoError(6);if(null==dt)break;ue++,G[ie+pt]=dt}return ue&&(F.node.timestamp=Date.now()),ue},write:(F,G,ie,Ye,yt)=>{for(var ue=0;ue<Ye;ue++)try{p(G[ie+ue])}catch{throw new D.ErrnoError(29)}return Ye&&(F.node.timestamp=Date.now()),ue}}),D.mkdev(m,w,E)},forceLoadFile:h=>{if(h.isDevice||h.isFolder||h.link||h.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{h.contents=to(V(h.url),!0),h.usedBytes=h.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(h,_,c,p,m)=>{function w(){this.lengthKnown=!1,this.chunks=[]}if(w.prototype.get=function(pt){if(!(pt>this.length-1||pt<0)){var dt=pt%this.chunkSize;return this.getter(pt/this.chunkSize|0)[dt]}},w.prototype.setDataGetter=function(pt){this.getter=pt},w.prototype.cacheLength=function(){var pt=new XMLHttpRequest;if(pt.open("HEAD",c,!1),pt.send(null),!(pt.status>=200&&pt.status<300||304===pt.status))throw new Error("Couldn't load "+c+". Status: "+pt.status);var _t,dt=Number(pt.getResponseHeader("Content-length")),sn=(_t=pt.getResponseHeader("Accept-Ranges"))&&"bytes"===_t,jt=(_t=pt.getResponseHeader("Content-Encoding"))&&"gzip"===_t,ot=1048576;sn||(ot=dt);var De=this;De.setDataGetter(lt=>{var Yt=lt*ot,Ut=(lt+1)*ot-1;if(Ut=Math.min(Ut,dt-1),typeof De.chunks[lt]>"u"&&(De.chunks[lt]=((lt,Yt)=>{if(lt>Yt)throw new Error("invalid range ("+lt+", "+Yt+") or no bytes requested!");if(Yt>dt-1)throw new Error("only "+dt+" bytes available! programmer error!");var Ut=new XMLHttpRequest;if(Ut.open("GET",c,!1),dt!==ot&&Ut.setRequestHeader("Range","bytes="+lt+"-"+Yt),Ut.responseType="arraybuffer",Ut.overrideMimeType&&Ut.overrideMimeType("text/plain; charset=x-user-defined"),Ut.send(null),!(Ut.status>=200&&Ut.status<300||304===Ut.status))throw new Error("Couldn't load "+c+". Status: "+Ut.status);return void 0!==Ut.response?new Uint8Array(Ut.response||[]):to(Ut.responseText||"",!0)})(Yt,Ut)),typeof De.chunks[lt]>"u")throw new Error("doXHR failed!");return De.chunks[lt]}),(jt||!dt)&&(ot=dt=1,dt=this.getter(0).length,ot=dt,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=dt,this._chunkSize=ot,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new w;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var F={isDevice:!1,contents:E}}else F={isDevice:!1,url:c};var G=D.createFile(h,_,F,p,m);F.contents?G.contents=F.contents:F.url&&(G.contents=null,G.url=F.url),Object.defineProperties(G,{usedBytes:{get:function(){return this.contents.length}}});var ie={};function yt(ue,pt,dt,_t,sn){var jt=ue.node.contents;if(sn>=jt.length)return 0;var ot=Math.min(jt.length-sn,_t);if(jt.slice)for(var Mt=0;Mt<ot;Mt++)pt[dt+Mt]=jt[sn+Mt];else for(Mt=0;Mt<ot;Mt++)pt[dt+Mt]=jt.get(sn+Mt);return ot}return Object.keys(G.stream_ops).forEach(ue=>{var pt=G.stream_ops[ue];ie[ue]=function(){return D.forceLoadFile(G),pt.apply(null,arguments)}}),ie.read=(ue,pt,dt,_t,sn)=>(D.forceLoadFile(G),yt(ue,pt,dt,_t,sn)),ie.mmap=(ue,pt,dt,_t,sn)=>{D.forceLoadFile(G);var jt=Wo();if(!jt)throw new D.ErrnoError(48);return yt(ue,qe,jt,pt,dt),{ptr:jt,allocated:!0}},G.stream_ops=ie,G},createPreloadedFile:(h,_,c,p,m,w,E,F,G,ie)=>{var Ye=_?nr.resolve(zt.join2(h,_)):h;function ue(pt){function dt(_t){ie&&ie(),F||D.createDataFile(h,_,_t,p,m,G),w&&w(),ar()}Browser.handledByPreloadPlugin(pt,Ye,dt,()=>{E&&E(),ar()})||dt(pt)}mo(),"string"==typeof c?function yo(h,_,c,p){var m=p?"":"al "+h;xe(h,w=>{Ce(w,'Loading data file "'+h+'" failed (no arrayBuffer).'),_(new Uint8Array(w)),m&&ar()},w=>{if(!c)throw'Loading data file "'+h+'" failed.';c()}),m&&mo()}(c,pt=>ue(pt),E):ue(c)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(h,_,c)=>{_=_||(()=>{}),c=c||(()=>{});var p=D.indexedDB();try{var m=p.open(D.DB_NAME(),D.DB_VERSION)}catch(w){return c(w)}m.onupgradeneeded=()=>{ge("creating db"),m.result.createObjectStore(D.DB_STORE_NAME)},m.onsuccess=()=>{var E=m.result.transaction([D.DB_STORE_NAME],"readwrite"),F=E.objectStore(D.DB_STORE_NAME),G=0,ie=0,Ye=h.length;function yt(){0==ie?_():c()}h.forEach(ue=>{var pt=F.put(D.analyzePath(ue).object.contents,ue);pt.onsuccess=()=>{++G+ie==Ye&&yt()},pt.onerror=()=>{ie++,G+ie==Ye&&yt()}}),E.onerror=c},m.onerror=c},loadFilesFromDB:(h,_,c)=>{_=_||(()=>{}),c=c||(()=>{});var p=D.indexedDB();try{var m=p.open(D.DB_NAME(),D.DB_VERSION)}catch(w){return c(w)}m.onupgradeneeded=c,m.onsuccess=()=>{var w=m.result;try{var E=w.transaction([D.DB_STORE_NAME],"readonly")}catch(ue){return void c(ue)}var F=E.objectStore(D.DB_STORE_NAME),G=0,ie=0,Ye=h.length;function yt(){0==ie?_():c()}h.forEach(ue=>{var pt=F.get(ue);pt.onsuccess=()=>{D.analyzePath(ue).exists&&D.unlink(ue),D.createDataFile(zt.dirname(ue),zt.basename(ue),pt.result,!0,!0,!0),++G+ie==Ye&&yt()},pt.onerror=()=>{ie++,G+ie==Ye&&yt()}}),E.onerror=c},m.onerror=c}},qr={DEFAULT_POLLMASK:5,calculateAt:function(h,_,c){if(zt.isAbs(_))return _;var p;if(p=-100===h?D.cwd():qr.getStreamFromFD(h).path,0==_.length){if(!c)throw new D.ErrnoError(44);return p}return zt.join2(p,_)},doStat:function(h,_,c){try{var p=h(_)}catch(m){if(m&&m.node&&zt.normalize(_)!==zt.normalize(D.getPath(m.node)))return-54;throw m}return L[c>>2]=p.dev,L[c+8>>2]=p.ino,L[c+12>>2]=p.mode,B[c+16>>2]=p.nlink,L[c+20>>2]=p.uid,L[c+24>>2]=p.gid,L[c+28>>2]=p.rdev,re=[p.size>>>0,(Je=p.size,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[c+40>>2]=re[0],L[c+44>>2]=re[1],L[c+48>>2]=4096,L[c+52>>2]=p.blocks,re=[Math.floor(p.atime.getTime()/1e3)>>>0,(Je=Math.floor(p.atime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[c+56>>2]=re[0],L[c+60>>2]=re[1],B[c+64>>2]=0,re=[Math.floor(p.mtime.getTime()/1e3)>>>0,(Je=Math.floor(p.mtime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[c+72>>2]=re[0],L[c+76>>2]=re[1],B[c+80>>2]=0,re=[Math.floor(p.ctime.getTime()/1e3)>>>0,(Je=Math.floor(p.ctime.getTime()/1e3),+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[c+88>>2]=re[0],L[c+92>>2]=re[1],B[c+96>>2]=0,re=[p.ino>>>0,(Je=p.ino,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[c+104>>2]=re[0],L[c+108>>2]=re[1],0},doMsync:function(h,_,c,p,m){if(!D.isFile(_.node.mode))throw new D.ErrnoError(43);if(2&p)return 0;var w=at.slice(h,h+c);D.msync(_,w,m,c,p)},varargs:void 0,get:function(){return qr.varargs+=4,L[qr.varargs-4>>2]},getStr:function(h){return Ne(h)},getStreamFromFD:function(h){var _=D.getStream(h);if(!_)throw new D.ErrnoError(8);return _}},Zo=[31,29,31,30,31,30,31,31,30,31,30,31],_i=[31,28,31,30,31,30,31,31,30,31,30,31];var N=function(h,_,c,p){h||(h=this),this.parent=h,this.mount=h.mount,this.mounted=null,this.id=D.nextInode++,this.name=_,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=p};Object.defineProperties(N.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(h){h?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=N,D.staticInit();var Is,P={h:function Yn(h,_){var c=new Date(1e3*function bn(h){return B[h>>2]+4294967296*L[h+4>>2]}(h));L[_>>2]=c.getSeconds(),L[_+4>>2]=c.getMinutes(),L[_+8>>2]=c.getHours(),L[_+12>>2]=c.getDate(),L[_+16>>2]=c.getMonth(),L[_+20>>2]=c.getFullYear()-1900,L[_+24>>2]=c.getDay();var p=0|Jt(c);L[_+28>>2]=p,L[_+36>>2]=-60*c.getTimezoneOffset();var m=new Date(c.getFullYear(),0,1),w=new Date(c.getFullYear(),6,1).getTimezoneOffset(),E=m.getTimezoneOffset(),F=0|(w!=E&&c.getTimezoneOffset()==Math.min(E,w));L[_+32>>2]=F},i:function lr(h){var _=new Date(L[h+20>>2]+1900,L[h+16>>2],L[h+12>>2],L[h+8>>2],L[h+4>>2],L[h>>2],0),c=L[h+32>>2],p=_.getTimezoneOffset(),m=new Date(_.getFullYear(),0,1),w=new Date(_.getFullYear(),6,1).getTimezoneOffset(),E=m.getTimezoneOffset(),F=Math.min(E,w);if(c<0)L[h+32>>2]=Number(w!=E&&F==p);else if(c>0!=(F==p)){var G=Math.max(E,w),ie=c>0?F:G;_.setTime(_.getTime()+6e4*(ie-p))}L[h+24>>2]=_.getDay();var Ye=0|Jt(_);return L[h+28>>2]=Ye,L[h>>2]=_.getSeconds(),L[h+4>>2]=_.getMinutes(),L[h+8>>2]=_.getHours(),L[h+12>>2]=_.getDate(),L[h+16>>2]=_.getMonth(),L[h+20>>2]=_.getYear(),_.getTime()/1e3|0},n:function tr(h,_,c){var p=(new Date).getFullYear(),m=new Date(p,0,1),w=new Date(p,6,1),E=m.getTimezoneOffset(),F=w.getTimezoneOffset(),G=Math.max(E,F);function ie(dt){var _t=dt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return _t?_t[1]:"GMT"}B[h>>2]=60*G,L[_>>2]=Number(E!=F);var Ye=ie(m),yt=ie(w),ue=Vt(Ye),pt=Vt(yt);F<E?(B[c>>2]=ue,B[c+4>>2]=pt):(B[c>>2]=pt,B[c+4>>2]=ue)},a:function S(){Qn("")},g:function kt(){return Date.now()},f:function hr(h,_,c){at.copyWithin(h,_,_+c)},e:function so(h){var G,_=at.length,c=2147483648;if((h>>>=0)>c)return!1;for(var m=1;m<=4;m*=2){var w=_*(1+.2/m);if(w=Math.min(w,h+100663296),Pr(Math.min(c,(G=Math.max(h,w))+(65536-G%65536)%65536)))return!0}return!1},l:function Br(h,_){var c=0;return _r().forEach(function(p,m){var w=_+c;B[h+4*m>>2]=w,function Mo(h,_,c){for(var p=0;p<h.length;++p)qe[_++>>0]=h.charCodeAt(p);c||(qe[_>>0]=0)}(p,w),c+=p.length+1}),0},m:function ai(h,_){var c=_r();B[h>>2]=c.length;var p=0;return c.forEach(function(m){p+=m.length+1}),B[_>>2]=p,0},b:function li(h){try{var _=qr.getStreamFromFD(h);return D.close(_),0}catch(c){if(typeof D>"u"||!(c instanceof D.ErrnoError))throw c;return c.errno}},d:function ko(h,_,c,p){try{var w=function Ro(h,_,c,p){for(var m=0,w=0;w<c;w++){var E=B[_>>2],F=B[_+4>>2];_+=8;var G=D.read(h,qe,E,F,p);if(G<0)return-1;if(m+=G,G<F)break}return m}(qr.getStreamFromFD(h),_,c);return B[p>>2]=w,0}catch(E){if(typeof D>"u"||!(E instanceof D.ErrnoError))throw E;return E.errno}},j:function Qi(h,_,c,p,m){try{var w=function Vr(h,_){return _+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*_:NaN}(_,c);if(isNaN(w))return 61;var E=qr.getStreamFromFD(h);return D.llseek(E,w,p),re=[E.position>>>0,(Je=E.position,+Math.abs(Je)>=1?Je>0?(0|Math.min(+Math.floor(Je/4294967296),4294967295))>>>0:~~+Math.ceil((Je-+(~~Je>>>0))/4294967296)>>>0:0)],L[m>>2]=re[0],L[m+4>>2]=re[1],E.getdents&&0===w&&0===p&&(E.getdents=null),0}catch(F){if(typeof D>"u"||!(F instanceof D.ErrnoError))throw F;return F.errno}},c:function Pi(h,_,c,p){try{var w=function qo(h,_,c,p){for(var m=0,w=0;w<c;w++){var E=B[_>>2],F=B[_+4>>2];_+=8;var G=D.write(h,qe,E,F,p);if(G<0)return-1;m+=G}return m}(qr.getStreamFromFD(h),_,c);return B[p>>2]=w,0}catch(E){if(typeof D>"u"||!(E instanceof D.ErrnoError))throw E;return E.errno}},k:function Nn(h,_,c,p,m){return function Ko(h,_,c,p){var m=L[p+40>>2],w={tm_sec:L[p>>2],tm_min:L[p+4>>2],tm_hour:L[p+8>>2],tm_mday:L[p+12>>2],tm_mon:L[p+16>>2],tm_year:L[p+20>>2],tm_wday:L[p+24>>2],tm_yday:L[p+28>>2],tm_isdst:L[p+32>>2],tm_gmtoff:L[p+36>>2],tm_zone:m?Ne(m):""},E=Ne(c),F={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var G in F)E=E.replace(new RegExp(G,"g"),F[G]);var ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ye=["January","February","March","April","May","June","July","August","September","October","November","December"];function yt(ot,Mt,De){for(var lt="number"==typeof ot?ot.toString():ot||"";lt.length<Mt;)lt=De[0]+lt;return lt}function ue(ot,Mt){return yt(ot,Mt,"0")}function pt(ot,Mt){function De(Yt){return Yt<0?-1:Yt>0?1:0}var lt;return 0===(lt=De(ot.getFullYear()-Mt.getFullYear()))&&0===(lt=De(ot.getMonth()-Mt.getMonth()))&&(lt=De(ot.getDate()-Mt.getDate())),lt}function dt(ot){switch(ot.getDay()){case 0:return new Date(ot.getFullYear()-1,11,29);case 1:return ot;case 2:return new Date(ot.getFullYear(),0,3);case 3:return new Date(ot.getFullYear(),0,2);case 4:return new Date(ot.getFullYear(),0,1);case 5:return new Date(ot.getFullYear()-1,11,31);case 6:return new Date(ot.getFullYear()-1,11,30)}}function _t(ot){var Mt=function Yo(h,_){for(var c=new Date(h.getTime());_>0;){var p=Ft(c.getFullYear()),m=c.getMonth(),w=(p?Zo:_i)[m];if(!(_>w-c.getDate()))return c.setDate(c.getDate()+_),c;_-=w-c.getDate()+1,c.setDate(1),m<11?c.setMonth(m+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1))}return c}(new Date(ot.tm_year+1900,0,1),ot.tm_yday),De=new Date(Mt.getFullYear(),0,4),lt=new Date(Mt.getFullYear()+1,0,4),Yt=dt(De),Ut=dt(lt);return pt(Yt,Mt)<=0?pt(Ut,Mt)<=0?Mt.getFullYear()+1:Mt.getFullYear():Mt.getFullYear()-1}var sn={"%a":function(ot){return ie[ot.tm_wday].substring(0,3)},"%A":function(ot){return ie[ot.tm_wday]},"%b":function(ot){return Ye[ot.tm_mon].substring(0,3)},"%B":function(ot){return Ye[ot.tm_mon]},"%C":function(ot){return ue((ot.tm_year+1900)/100|0,2)},"%d":function(ot){return ue(ot.tm_mday,2)},"%e":function(ot){return yt(ot.tm_mday,2," ")},"%g":function(ot){return _t(ot).toString().substring(2)},"%G":function(ot){return _t(ot)},"%H":function(ot){return ue(ot.tm_hour,2)},"%I":function(ot){var Mt=ot.tm_hour;return 0==Mt?Mt=12:Mt>12&&(Mt-=12),ue(Mt,2)},"%j":function(ot){return ue(ot.tm_mday+function Gn(h,_){for(var c=0,p=0;p<=_;c+=h[p++]);return c}(Ft(ot.tm_year+1900)?Zo:_i,ot.tm_mon-1),3)},"%m":function(ot){return ue(ot.tm_mon+1,2)},"%M":function(ot){return ue(ot.tm_min,2)},"%n":function(){return"\n"},"%p":function(ot){return ot.tm_hour>=0&&ot.tm_hour<12?"AM":"PM"},"%S":function(ot){return ue(ot.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ot){return ot.tm_wday||7},"%U":function(ot){return ue(Math.floor((ot.tm_yday+7-ot.tm_wday)/7),2)},"%V":function(ot){var Mt=Math.floor((ot.tm_yday+7-(ot.tm_wday+6)%7)/7);if((ot.tm_wday+371-ot.tm_yday-2)%7<=2&&Mt++,Mt){if(53==Mt){var lt=(ot.tm_wday+371-ot.tm_yday)%7;4!=lt&&(3!=lt||!Ft(ot.tm_year))&&(Mt=1)}}else{Mt=52;var De=(ot.tm_wday+7-ot.tm_yday-1)%7;(4==De||5==De&&Ft(ot.tm_year%400-1))&&Mt++}return ue(Mt,2)},"%w":function(ot){return ot.tm_wday},"%W":function(ot){return ue(Math.floor((ot.tm_yday+7-(ot.tm_wday+6)%7)/7),2)},"%y":function(ot){return(ot.tm_year+1900).toString().substring(2)},"%Y":function(ot){return ot.tm_year+1900},"%z":function(ot){var Mt=ot.tm_gmtoff,De=Mt>=0;return Mt=(Mt=Math.abs(Mt)/60)/60*100+Mt%60,(De?"+":"-")+String("0000"+Mt).slice(-4)},"%Z":function(ot){return ot.tm_zone},"%%":function(){return"%"}};for(var G in E=E.replace(/%%/g,"\0\0"),sn)E.includes(G)&&(E=E.replace(new RegExp(G,"g"),sn[G](w)));var jt=to(E=E.replace(/\0\0/g,"%"),!1);return jt.length>_?0:(function Rn(h,_){qe.set(h,_)}(jt,h),jt.length-1)}(h,_,c,p)}},Pe=(function Ar(){var h={a:P};function _(E,F){d.asm=E.exports,Te((ce=d.asm.o).buffer),function Jr(h){et.unshift(h)}(d.asm.p),ar()}function c(E){_(E.instance)}function p(E){return function vi(){return le||!ye&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Wr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(h){if(!h.ok)throw"failed to load wasm binary file at '"+Sn+"'";return h.arrayBuffer()}).catch(function(){return Wr(Sn)})}().then(function(F){return WebAssembly.instantiate(F,h)}).then(function(F){return F}).then(E,function(F){oe("failed to asynchronously prepare wasm: "+F),Qn(F)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(h,_)}catch(E){oe("Module.instantiateWasm callback failed with error: "+E),ee(E)}(function m(){return le||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?p(c):fetch(Sn,{credentials:"same-origin"}).then(function(E){return WebAssembly.instantiateStreaming(E,h).then(c,function(G){return oe("wasm streaming compile failed: "+G),oe("falling back to ArrayBuffer instantiation"),p(c)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.p).apply(null,arguments)},d._malloc=function(){return(Pe=d._malloc=d.asm.q).apply(null,arguments)}),Xe=(d._free=function(){return(d._free=d.asm.r).apply(null,arguments)},d._emscripten_bind_VoidPtr___destroy___0=function(){return(Xe=d._emscripten_bind_VoidPtr___destroy___0=d.asm.s).apply(null,arguments)}),Ct=d._emscripten_bind_Vfs_Vfs_0=function(){return(Ct=d._emscripten_bind_Vfs_Vfs_0=d.asm.t).apply(null,arguments)},Wt=d._emscripten_bind_Vfs_Malloc_1=function(){return(Wt=d._emscripten_bind_Vfs_Malloc_1=d.asm.u).apply(null,arguments)},Zt=d._emscripten_bind_Vfs_Free_1=function(){return(Zt=d._emscripten_bind_Vfs_Free_1=d.asm.v).apply(null,arguments)},rr=d._emscripten_bind_Vfs_Nullptr_0=function(){return(rr=d._emscripten_bind_Vfs_Nullptr_0=d.asm.w).apply(null,arguments)},lo=d._emscripten_bind_Vfs_AllocateImage_1=function(){return(lo=d._emscripten_bind_Vfs_AllocateImage_1=d.asm.x).apply(null,arguments)},Rr=d._emscripten_bind_Vfs_MountImage_1=function(){return(Rr=d._emscripten_bind_Vfs_MountImage_1=d.asm.y).apply(null,arguments)},mr=d._emscripten_bind_Vfs_UnmountImage_1=function(){return(mr=d._emscripten_bind_Vfs_UnmountImage_1=d.asm.z).apply(null,arguments)},Ri=d._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(Ri=d._emscripten_bind_Vfs_GetPendingImageSize_0=d.asm.A).apply(null,arguments)},Xo=d._emscripten_bind_Vfs_GetSize_1=function(){return(Xo=d._emscripten_bind_Vfs_GetSize_1=d.asm.B).apply(null,arguments)},bi=d._emscripten_bind_Vfs_GetPendingImage_0=function(){return(bi=d._emscripten_bind_Vfs_GetPendingImage_0=d.asm.C).apply(null,arguments)},Da=d._emscripten_bind_Vfs_GetImage_1=function(){return(Da=d._emscripten_bind_Vfs_GetImage_1=d.asm.D).apply(null,arguments)},Ss=d._emscripten_bind_Vfs___destroy___0=function(){return(Ss=d._emscripten_bind_Vfs___destroy___0=d.asm.E).apply(null,arguments)},Ia=d._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(Ia=d._emscripten_bind_ReaddirContext_ReaddirContext_1=d.asm.F).apply(null,arguments)},Es=d._emscripten_bind_ReaddirContext_Next_0=function(){return(Es=d._emscripten_bind_ReaddirContext_Next_0=d.asm.G).apply(null,arguments)},us=d._emscripten_bind_ReaddirContext_GetEntryName_0=function(){return(us=d._emscripten_bind_ReaddirContext_GetEntryName_0=d.asm.H).apply(null,arguments)},Fr=d._emscripten_bind_ReaddirContext_IsEntryDirectory_0=function(){return(Fr=d._emscripten_bind_ReaddirContext_IsEntryDirectory_0=d.asm.I).apply(null,arguments)},Fn=d._emscripten_bind_ReaddirContext_GetEntrySize_0=function(){return(Fn=d._emscripten_bind_ReaddirContext_GetEntrySize_0=d.asm.J).apply(null,arguments)},ll=d._emscripten_bind_ReaddirContext_GetEntryModifiedTS_0=function(){return(ll=d._emscripten_bind_ReaddirContext_GetEntryModifiedTS_0=d.asm.K).apply(null,arguments)},Ma=d._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(Ma=d._emscripten_bind_ReaddirContext_GetStatus_0=d.asm.L).apply(null,arguments)},ka=d._emscripten_bind_ReaddirContext_GetError_0=function(){return(ka=d._emscripten_bind_ReaddirContext_GetError_0=d.asm.M).apply(null,arguments)},ft=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(ft=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=d.asm.N).apply(null,arguments)},Ta=d._emscripten_bind_ReaddirContext___destroy___0=function(){return(Ta=d._emscripten_bind_ReaddirContext___destroy___0=d.asm.O).apply(null,arguments)};function es(h){var _=d._main;try{var m=_(0,0);return function Ji(h,_){he=h,function wi(h){he=h,function on(){return Ae}()||(d.onExit&&d.onExit(h),We=!0),z(h,new Be(h))}(h)}(m),m}catch(w){return function x(h){if(h instanceof Be||"unwind"==h)return he;z(1,h)}(w)}}function ts(h){function _(){Is||(Is=!0,d.calledRun=!0,!We&&(function zr(){!d.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,no.init(),pn(et)}(),function Er(){pn(At)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),ns&&es(),function Zn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)h=d.postRun.shift(),Lt.unshift(h);var h;pn(Lt)}()))}h=h||K,Hn>0||(function pe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)h=d.preRun.shift(),Ke.unshift(h);var h;pn(Ke)}(),Hn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),_()},1)):_())}if(d._main=function(){return(d._main=d.asm.P).apply(null,arguments)},d.___original_main=function(){return(d.___original_main=d.asm.R).apply(null,arguments)},d.___start_em_js=16104,d.___stop_em_js=16202,vr=function h(){Is||ts(),Is||(vr=h)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ns=!0;function Zr(){}function kr(h){return(h||Zr).__cache__}function Nt(h,_){var c=kr(_),p=c[h];return p||((p=Object.create((_||Zr).prototype)).ptr=h,c[h]=p)}d.noInitialRun&&(ns=!1),ts(),(Zr.prototype=Object.create(Zr.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},d.WrapperObject=Zr,d.getCache=kr,d.wrapPointer=Nt,d.castObject=function Fo(h,_){return Nt(h.ptr,_)},d.NULL=Nt(0),d.destroy=function Aa(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete kr(h.__class__)[h.ptr]},d.compare=function Oo(h,_){return h.ptr===_.ptr},d.getPointer=function Zs(h){return h.ptr},d.getClass=function cl(h){return h.__class__};var An={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(An.needed){for(var h=0;h<An.temps.length;h++)d._free(An.temps[h]);An.temps.length=0,d._free(An.buffer),An.buffer=0,An.size+=An.needed,An.needed=0}An.buffer||(An.size+=128,An.buffer=d._malloc(An.size),Ce(An.buffer)),An.pos=0},alloc:function(h,_){Ce(An.buffer);var m,p=h.length*_.BYTES_PER_ELEMENT;return An.pos+(p=p+7&-8)>=An.size?(Ce(p>0),An.needed+=p,m=d._malloc(p),An.temps.push(m)):(m=An.buffer+An.pos,An.pos+=p),m},copy:function(h,_,c){switch(c>>>=0,_.BYTES_PER_ELEMENT){case 2:c>>>=1;break;case 4:c>>>=2;break;case 8:c>>>=3}for(var m=0;m<h.length;m++)_[c+m]=h[m]}};function vo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function hn(){this.ptr=Ct(),kr(hn)[this.ptr]=this}function en(h){An.prepare(),h=h&&"object"==typeof h?h.ptr:function Dn(h){if("string"==typeof h){var _=to(h),c=An.alloc(_,qe);return An.copy(_,qe,c),c}return h}(h),this.ptr=Ia(h),kr(en)[this.ptr]=this}return(vo.prototype=Object.create(Zr.prototype)).constructor=vo,vo.prototype.__class__=vo,vo.__cache__={},d.VoidPtr=vo,vo.prototype.__destroy__=vo.prototype.__destroy__=function(){Xe(this.ptr)},(hn.prototype=Object.create(Zr.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},d.Vfs=hn,hn.prototype.Malloc=hn.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),Nt(Wt(this.ptr,h),vo)},hn.prototype.Free=hn.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),Zt(this.ptr,h)},hn.prototype.Nullptr=hn.prototype.Nullptr=function(){return Nt(rr(this.ptr),vo)},hn.prototype.AllocateImage=hn.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),lo(this.ptr,h)},hn.prototype.MountImage=hn.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!Rr(this.ptr,h)},hn.prototype.UnmountImage=hn.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),mr(this.ptr,h)},hn.prototype.GetPendingImageSize=hn.prototype.GetPendingImageSize=function(){return Ri(this.ptr)},hn.prototype.GetSize=hn.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),Xo(this.ptr,h)},hn.prototype.GetPendingImage=hn.prototype.GetPendingImage=function(){return Nt(bi(this.ptr),vo)},hn.prototype.GetImage=hn.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),Nt(Da(this.ptr,h),vo)},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){Ss(this.ptr)},(en.prototype=Object.create(Zr.prototype)).constructor=en,en.prototype.__class__=en,en.__cache__={},d.ReaddirContext=en,en.prototype.Next=en.prototype.Next=function(){return Es(this.ptr)},en.prototype.GetEntryName=en.prototype.GetEntryName=function(){return Ne(us(this.ptr))},en.prototype.IsEntryDirectory=en.prototype.IsEntryDirectory=function(){return!!Fr(this.ptr)},en.prototype.GetEntrySize=en.prototype.GetEntrySize=function(){return Fn(this.ptr)},en.prototype.GetEntryModifiedTS=en.prototype.GetEntryModifiedTS=function(){return ll(this.ptr)},en.prototype.GetStatus=en.prototype.GetStatus=function(){return Ma(this.ptr)},en.prototype.GetError=en.prototype.GetError=function(){return ka(this.ptr)},en.prototype.GetErrorDescription=en.prototype.GetErrorDescription=function(){return Ne(ft(this.ptr))},en.prototype.__destroy__=en.prototype.__destroy__=function(){Ta(this.ptr)},T.ready});Oe.exports=Ge},2597:(Oe,Ge,R)=>{"use strict";R.d(Ge,{c:()=>xe});var T=R(9158);let d;const ee=Q=>Q.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q=Q=>{if(void 0===d){const ge=void 0!==Q.style.webkitAnimationName;d=void 0===Q.style.animationName&&ge?"-webkit-":""}return d},K=(Q,ve,ge)=>{const oe=ve.startsWith("animation")?q(Q):"";Q.style.setProperty(oe+ve,ge)},j=(Q,ve)=>{const ge=ve.startsWith("animation")?q(Q):"";Q.style.removeProperty(ge+ve)},Z=[],V=(Q=[],ve)=>{if(void 0!==ve){const ge=Array.isArray(ve)?ve:[ve];return[...Q,...ge]}return Q},xe=Q=>{let ve,ge,oe,le,Ae,ce,He,je,L,B,W,tt,Ke,We=[],he=[],Ce=[],Me=!1,Ne={},ke=[],X=[],ze={},qe=0,at=!1,It=!1,fe=!0,Te=!1,Re=!0,et=!1;const At=Q,Lt=[],Tn=[],on=[],pe=[],zr=[],Er=[],Zn=[],io=[],Jr=[],Mr=[],Hn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Hn,yi=()=>Mr,$r=(P,Y)=>((Y?.oneTimeCallback?Tn:Lt).push({c:P,o:Y}),Ke),Wr=()=>{if(sr)Mr.forEach(P=>{P.cancel()}),Mr.length=0;else{const P=on.slice();(0,T.r)(()=>{P.forEach(Y=>{j(Y,"animation-name"),j(Y,"animation-duration"),j(Y,"animation-timing-function"),j(Y,"animation-iteration-count"),j(Y,"animation-delay"),j(Y,"animation-play-state"),j(Y,"animation-fill-mode"),j(Y,"animation-direction")})})}},vi=()=>{zr.forEach(P=>{P?.parentNode&&P.parentNode.removeChild(P)}),zr.length=0},Vt=()=>void 0!==Ae?Ae:He?He.getFill():"both",tr=()=>void 0!==L?L:void 0!==ce?ce:He?He.getDirection():"normal",S=()=>at?"linear":void 0!==oe?oe:He?He.getEasing():"linear",kt=()=>It?0:void 0!==B?B:void 0!==ge?ge:He?He.getDuration():0,hr=()=>void 0!==le?le:He?He.getIterations():1,I=()=>void 0!==W?W:void 0!==ve?ve:He?He.getDelay():0,D=()=>{0!==qe&&(qe--,0===qe&&((()=>{Yo(),io.forEach(Ze=>Ze()),Jr.forEach(Ze=>Ze());const P=fe?1:0,Y=ke,J=X,Pe=ze;on.forEach(Ze=>{const Xe=Ze.classList;Y.forEach(Ct=>Xe.add(Ct)),J.forEach(Ct=>Xe.remove(Ct));for(const Ct in Pe)Pe.hasOwnProperty(Ct)&&K(Ze,Ct,Pe[Ct])}),Lt.forEach(Ze=>Ze.c(P,Ke)),Tn.forEach(Ze=>Ze.c(P,Ke)),Tn.length=0,Re=!0,fe&&(Te=!0),fe=!0})(),He&&He.animationFinish()))},qr=(P=!0)=>{vi();const Y=(Q=>(Q.forEach(ve=>{for(const ge in ve)if(ve.hasOwnProperty(ge)){const oe=ve[ge];if("easing"===ge)ve["animation-timing-function"]=oe,delete ve[ge];else{const le=ee(ge);le!==ge&&(ve[le]=oe,delete ve[ge])}}}),Q))(We);on.forEach(J=>{if(Y.length>0){const Pe=((Q=[])=>Q.map(ve=>{const ge=ve.offset,oe=[];for(const le in ve)ve.hasOwnProperty(le)&&"offset"!==le&&oe.push(`${le}: ${ve[le]};`);return`${100*ge}% { ${oe.join(" ")} }`}).join(" "))(Y);tt=void 0!==Q?Q:(Q=>{let ve=Z.indexOf(Q);return ve<0&&(ve=Z.push(Q)-1),`ion-animation-${ve}`})(Pe);const Ze=((Q,ve,ge)=>{const oe=(Q=>{const ve=Q.getRootNode();return ve.head||ve})(ge),le=q(ge),Ae=oe.querySelector("#"+Q);if(Ae)return Ae;const ce=(ge.ownerDocument||document).createElement("style");return ce.id=Q,ce.textContent=`@${le}keyframes ${Q} { ${ve} } @${le}keyframes ${Q}-alt { ${ve} }`,oe.appendChild(ce),ce})(tt,Pe,J);zr.push(Ze),K(J,"animation-duration",`${kt()}ms`),K(J,"animation-timing-function",S()),K(J,"animation-delay",`${I()}ms`),K(J,"animation-fill-mode",Vt()),K(J,"animation-direction",tr());const Xe=hr()===1/0?"infinite":hr().toString();K(J,"animation-iteration-count",Xe),K(J,"animation-play-state","paused"),P&&K(J,"animation-name",`${Ze.id}-alt`),(0,T.r)(()=>{K(J,"animation-name",Ze.id||null)})}})},ai=(P=!0)=>{(()=>{Er.forEach(Pe=>Pe()),Zn.forEach(Pe=>Pe());const P=he,Y=Ce,J=Ne;on.forEach(Pe=>{const Ze=Pe.classList;P.forEach(Xe=>Ze.add(Xe)),Y.forEach(Xe=>Ze.remove(Xe));for(const Xe in J)J.hasOwnProperty(Xe)&&K(Pe,Xe,J[Xe])})})(),We.length>0&&(sr?(on.forEach(P=>{const Y=P.animate(We,{id:At,delay:I(),duration:kt(),easing:S(),iterations:hr(),fill:Vt(),direction:tr()});Y.pause(),Mr.push(Y)}),Mr.length>0&&(Mr[0].onfinish=()=>{D()})):qr(P)),Me=!0},li=P=>{if(P=Math.min(Math.max(P,0),.9999),sr)Mr.forEach(Y=>{Y.currentTime=Y.effect.getComputedTiming().delay+kt()*P,Y.pause()});else{const Y=`-${kt()*P}ms`;on.forEach(J=>{We.length>0&&(K(J,"animation-delay",Y),K(J,"animation-play-state","paused"))})}},Ro=P=>{Mr.forEach(Y=>{Y.effect.updateTiming({delay:I(),duration:kt(),easing:S(),iterations:hr(),fill:Vt(),direction:tr()})}),void 0!==P&&li(P)},ko=(P=!0,Y)=>{(0,T.r)(()=>{on.forEach(J=>{K(J,"animation-name",tt||null),K(J,"animation-duration",`${kt()}ms`),K(J,"animation-timing-function",S()),K(J,"animation-delay",void 0!==Y?`-${Y*kt()}ms`:`${I()}ms`),K(J,"animation-fill-mode",Vt()||null),K(J,"animation-direction",tr()||null);const Pe=hr()===1/0?"infinite":hr().toString();K(J,"animation-iteration-count",Pe),P&&K(J,"animation-name",`${tt}-alt`),(0,T.r)(()=>{K(J,"animation-name",tt||null)})})})},Vr=(P=!1,Y=!0,J)=>(P&&pe.forEach(Pe=>{Pe.update(P,Y,J)}),sr?Ro(J):ko(Y,J),Ke),Gn=()=>{Me&&(sr?Mr.forEach(P=>{P.pause()}):on.forEach(P=>{K(P,"animation-play-state","paused")}),et=!0)},_i=()=>{je=void 0,D()},Yo=()=>{je&&clearTimeout(je)},Ji=P=>new Promise(Y=>{P?.sync&&(It=!0,$r(()=>It=!1,{oneTimeCallback:!0})),Me||ai(),Te&&(sr?(li(0),Ro()):ko(),Te=!1),Re&&(qe=pe.length+1,Re=!1),$r(()=>Y(),{oneTimeCallback:!0}),pe.forEach(J=>{J.play()}),sr?(Mr.forEach(P=>{P.play()}),(0===We.length||0===on.length)&&D()):(()=>{if(Yo(),(0,T.r)(()=>{on.forEach(P=>{We.length>0&&K(P,"animation-play-state","running")})}),0===We.length||0===on.length)D();else{const P=I()||0,Y=kt()||0,J=hr()||1;isFinite(J)&&(je=setTimeout(_i,P+Y*J+100)),((Q,ve)=>{let ge;const oe={passive:!0},Ae=ce=>{Q===ce.target&&(ge&&ge(),Yo(),(0,T.r)(()=>{on.forEach(P=>{j(P,"animation-duration"),j(P,"animation-delay"),j(P,"animation-play-state")}),(0,T.r)(D)}))};Q&&(Q.addEventListener("webkitAnimationEnd",Ae,oe),Q.addEventListener("animationend",Ae,oe),ge=()=>{Q.removeEventListener("webkitAnimationEnd",Ae,oe),Q.removeEventListener("animationend",Ae,oe)})})(on[0])}})(),et=!1}),N=(P,Y)=>{const J=We[0];return void 0===J||void 0!==J.offset&&0!==J.offset?We=[{offset:0,[P]:Y},...We]:J[P]=Y,Ke};return Ke={parentAnimation:He,elements:on,childAnimations:pe,id:At,animationFinish:D,from:N,to:(P,Y)=>{const J=We[We.length-1];return void 0===J||void 0!==J.offset&&1!==J.offset?We=[...We,{offset:1,[P]:Y}]:J[P]=Y,Ke},fromTo:(P,Y,J)=>N(P,Y).to(P,J),parent:P=>(He=P,Ke),play:Ji,pause:()=>(pe.forEach(P=>{P.pause()}),Gn(),Ke),stop:()=>{pe.forEach(P=>{P.stop()}),Me&&(Wr(),Me=!1),at=!1,It=!1,Re=!0,L=void 0,B=void 0,W=void 0,qe=0,Te=!1,fe=!0,et=!1},destroy:P=>(pe.forEach(Y=>{Y.destroy(P)}),(P=>{Wr(),P&&vi()})(P),on.length=0,pe.length=0,We.length=0,Lt.length=0,Tn.length=0,Me=!1,Re=!0,Ke),keyframes:P=>{const Y=We!==P;return We=P,Y&&(P=>{sr?yi().forEach(Y=>{if(Y.effect.setKeyframes)Y.effect.setKeyframes(P);else{const J=new KeyframeEffect(Y.effect.target,P,Y.effect.getTiming());Y.effect=J}}):qr()})(We),Ke},addAnimation:P=>{if(null!=P)if(Array.isArray(P))for(const Y of P)Y.parent(Ke),pe.push(Y);else P.parent(Ke),pe.push(P);return Ke},addElement:P=>{if(null!=P)if(1===P.nodeType)on.push(P);else if(P.length>=0)for(let Y=0;Y<P.length;Y++)on.push(P[Y]);else console.error("Invalid addElement value");return Ke},update:Vr,fill:P=>(Ae=P,Vr(!0),Ke),direction:P=>(ce=P,Vr(!0),Ke),iterations:P=>(le=P,Vr(!0),Ke),duration:P=>(!sr&&0===P&&(P=1),ge=P,Vr(!0),Ke),easing:P=>(oe=P,Vr(!0),Ke),delay:P=>(ve=P,Vr(!0),Ke),getWebAnimations:yi,getKeyframes:()=>We,getFill:Vt,getDirection:tr,getDelay:I,getIterations:hr,getEasing:S,getDuration:kt,afterAddRead:P=>(io.push(P),Ke),afterAddWrite:P=>(Jr.push(P),Ke),afterClearStyles:(P=[])=>{for(const Y of P)ze[Y]="";return Ke},afterStyles:(P={})=>(ze=P,Ke),afterRemoveClass:P=>(X=V(X,P),Ke),afterAddClass:P=>(ke=V(ke,P),Ke),beforeAddRead:P=>(Er.push(P),Ke),beforeAddWrite:P=>(Zn.push(P),Ke),beforeClearStyles:(P=[])=>{for(const Y of P)Ne[Y]="";return Ke},beforeStyles:(P={})=>(Ne=P,Ke),beforeRemoveClass:P=>(Ce=V(Ce,P),Ke),beforeAddClass:P=>(he=V(he,P),Ke),onFinish:$r,isRunning:()=>0!==qe&&!et,progressStart:(P=!1,Y)=>(pe.forEach(J=>{J.progressStart(P,Y)}),Gn(),at=P,Me||ai(),Vr(!1,!0,Y),Ke),progressStep:P=>(pe.forEach(Y=>{Y.progressStep(P)}),li(P),Ke),progressEnd:(P,Y,J)=>(at=!1,pe.forEach(Pe=>{Pe.progressEnd(P,Y,J)}),void 0!==J&&(B=J),Te=!1,fe=!0,0===P?(L="reverse"===tr()?"normal":"reverse","reverse"===L&&(fe=!1),sr?(Vr(),li(1-Y)):(W=(1-Y)*kt()*-1,Vr(!1,!1))):1===P&&(sr?(Vr(),li(Y)):(W=Y*kt()*-1,Vr(!1,!1))),void 0!==P&&($r(()=>{B=void 0,L=void 0,W=void 0},{oneTimeCallback:!0}),He||Ji()),Ke)}}},607:(Oe,Ge,R)=>{"use strict";R.d(Ge,{G:()=>q});class d{constructor(j,z,ye,Z,te){this.id=z,this.name=ye,this.disableScroll=te,this.priority=1e6*Z+z,this.ctrl=j}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const j=this.ctrl.capture(this.name,this.id,this.priority);return j&&this.disableScroll&&this.ctrl.disableScroll(this.id),j}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ne{constructor(j,z,ye,Z){this.id=z,this.disable=ye,this.disableScroll=Z,this.ctrl=j}block(){if(this.ctrl){if(this.disable)for(const j of this.disable)this.ctrl.disableGesture(j,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const j of this.disable)this.ctrl.enableGesture(j,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ee="backdrop-no-scroll",q=new class T{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(j){return new d(this,this.newID(),j.name,j.priority||0,!!j.disableScroll)}createBlocker(j={}){return new ne(this,this.newID(),j.disable,!!j.disableScroll)}start(j,z,ye){return this.canStart(j)?(this.requestedStart.set(z,ye),!0):(this.requestedStart.delete(z),!1)}capture(j,z,ye){if(!this.start(j,z,ye))return!1;const Z=this.requestedStart;let te=-1e4;if(Z.forEach($=>{te=Math.max(te,$)}),te===ye){this.capturedId=z,Z.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:j}});return document.dispatchEvent($),!0}return Z.delete(z),!1}release(j){this.requestedStart.delete(j),this.capturedId===j&&(this.capturedId=void 0)}disableGesture(j,z){let ye=this.disabledGestures.get(j);void 0===ye&&(ye=new Set,this.disabledGestures.set(j,ye)),ye.add(z)}enableGesture(j,z){const ye=this.disabledGestures.get(j);void 0!==ye&&ye.delete(z)}disableScroll(j){this.disabledScroll.add(j),1===this.disabledScroll.size&&document.body.classList.add(ee)}enableScroll(j){this.disabledScroll.delete(j),0===this.disabledScroll.size&&document.body.classList.remove(ee)}canStart(j){return!(void 0!==this.capturedId||this.isDisabled(j))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(j){const z=this.disabledGestures.get(j);return!!(z&&z.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Oe,Ge,R)=>{"use strict";R.r(Ge),R.d(Ge,{MENU_BACK_BUTTON_PRIORITY:()=>q,OVERLAY_BACK_BUTTON_PRIORITY:()=>ee,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>ne});var T=R(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},ne=()=>{const K=document;let j=!1;K.addEventListener("backbutton",()=>{if(j)return;let z=0,ye=[];const Z=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(O,V){ye.push({priority:O,handler:V,id:z++})}}});K.dispatchEvent(Z);const te=function(){var O=(0,T.Z)(function*(V){try{if(V?.handler){const xe=V.handler($);null!=xe&&(yield xe)}}catch(xe){console.error(xe)}});return function(xe){return O.apply(this,arguments)}}(),$=()=>{if(ye.length>0){let O={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ye.forEach(V=>{V.priority>=O.priority&&(O=V)}),j=!0,ye=ye.filter(V=>V.id!==O.id),te(O).then(()=>j=!1)}};$()})},ee=100,q=99},9158:(Oe,Ge,R)=>{"use strict";R.d(Ge,{a:()=>j,b:()=>z,c:()=>ne,d:()=>V,e:()=>xe,f:()=>O,g:()=>ye,h:()=>Ae,i:()=>K,j:()=>ee,k:()=>$,l:()=>Q,m:()=>te,n:()=>ve,o:()=>le,p:()=>oe,q:()=>ce,r:()=>Z,s:()=>We,t:()=>T,u:()=>ge});const T=(he,Ce=0)=>new Promise(Me=>{d(he,Ce,Me)}),d=(he,Ce=0,Me)=>{let He,Ne;const ke={passive:!0},ze=()=>{He&&He()},qe=at=>{(void 0===at||he===at.target)&&(ze(),Me(at))};return he&&(he.addEventListener("webkitTransitionEnd",qe,ke),he.addEventListener("transitionend",qe,ke),Ne=setTimeout(qe,Ce+500),He=()=>{Ne&&(clearTimeout(Ne),Ne=void 0),he.removeEventListener("webkitTransitionEnd",qe,ke),he.removeEventListener("transitionend",qe,ke)}),ze},ne=(he,Ce)=>{he.componentOnReady?he.componentOnReady().then(Me=>Ce(Me)):Z(()=>Ce(he))},ee=(he,Ce=[])=>{const Me={};return Ce.forEach(He=>{he.hasAttribute(He)&&(null!==he.getAttribute(He)&&(Me[He]=he.getAttribute(He)),he.removeAttribute(He))}),Me},q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],K=he=>ee(he,q),j=(he,Ce,Me,He)=>{var Ne;if(typeof window<"u"){const X=null===(Ne=window?.Ionic)||void 0===Ne?void 0:Ne.config;if(X){const ze=X.get("_ael");if(ze)return ze(he,Ce,Me,He);if(X._ael)return X._ael(he,Ce,Me,He)}}return he.addEventListener(Ce,Me,He)},z=(he,Ce,Me,He)=>{var Ne;if(typeof window<"u"){const X=null===(Ne=window?.Ionic)||void 0===Ne?void 0:Ne.config;if(X){const ze=X.get("_rel");if(ze)return ze(he,Ce,Me,He);if(X._rel)return X._rel(he,Ce,Me,He)}}return he.removeEventListener(Ce,Me,He)},ye=(he,Ce=he)=>he.shadowRoot||Ce,Z=he=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he),te=he=>!!he.shadowRoot&&!!he.attachShadow,$=he=>{const Ce=he.closest("ion-item");return Ce?Ce.querySelector("ion-label"):null},O=he=>{if(he.focus(),he.classList.contains("ion-focusable")){const Ce=he.closest("ion-app");Ce&&Ce.setFocus([he])}},V=(he,Ce)=>{let Me;const He=he.getAttribute("aria-labelledby"),Ne=he.id;let ke=null!==He&&""!==He.trim()?He:Ce+"-lbl",X=null!==He&&""!==He.trim()?document.getElementById(He):$(he);return X?(null===He&&(X.id=ke),Me=X.textContent,X.setAttribute("aria-hidden","true")):""!==Ne.trim()&&(X=document.querySelector(`label[for="${Ne}"]`),X&&(""!==X.id?ke=X.id:X.id=ke=`${Ne}-lbl`,Me=X.textContent)),{label:X,labelId:ke,labelText:Me}},xe=(he,Ce,Me,He,Ne)=>{if(he||te(Ce)){let ke=Ce.querySelector("input.aux-input");ke||(ke=Ce.ownerDocument.createElement("input"),ke.type="hidden",ke.classList.add("aux-input"),Ce.appendChild(ke)),ke.disabled=Ne,ke.name=Me,ke.value=He||""}},Q=(he,Ce,Me)=>Math.max(he,Math.min(Ce,Me)),ve=(he,Ce)=>{if(!he){const Me="ASSERT: "+Ce;throw console.error(Me),new Error(Me)}},ge=he=>he.timeStamp||Date.now(),oe=he=>{if(he){const Ce=he.changedTouches;if(Ce&&Ce.length>0){const Me=Ce[0];return{x:Me.clientX,y:Me.clientY}}if(void 0!==he.pageX)return{x:he.pageX,y:he.pageY}}return{x:0,y:0}},le=he=>{const Ce="rtl"===document.dir;switch(he){case"start":return Ce;case"end":return!Ce;default:throw new Error(`"${he}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ae=(he,Ce)=>{const Me=he._original||he;return{_original:he,emit:ce(Me.emit.bind(Me),Ce)}},ce=(he,Ce=0)=>{let Me;return(...He)=>{clearTimeout(Me),Me=setTimeout(he,Ce,...He)}},We=(he,Ce)=>{if(he??(he={}),Ce??(Ce={}),he===Ce)return!0;const Me=Object.keys(he);if(Me.length!==Object.keys(Ce).length)return!1;for(const He of Me)if(!(He in Ce)||he[He]!==Ce[He])return!1;return!0}},2172:(Oe,Ge,R)=>{"use strict";R.r(Ge),R.d(Ge,{GESTURE_CONTROLLER:()=>T.G,createGesture:()=>ye});var T=R(607);const d=(O,V,xe,Q)=>{const ve=ne(O)?{capture:!!Q.capture,passive:!!Q.passive}:!!Q.capture;let ge,oe;return O.__zone_symbol__addEventListener?(ge="__zone_symbol__addEventListener",oe="__zone_symbol__removeEventListener"):(ge="addEventListener",oe="removeEventListener"),O[ge](V,xe,ve),()=>{O[oe](V,xe,ve)}},ne=O=>{if(void 0===ee)try{const V=Object.defineProperty({},"passive",{get:()=>{ee=!0}});O.addEventListener("optsTest",()=>{},V)}catch{ee=!1}return!!ee};let ee;const j=O=>O instanceof Document?O:O.ownerDocument,ye=O=>{let V=!1,xe=!1,Q=!0,ve=!1;const ge=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},O),oe=ge.canStart,le=ge.onWillStart,Ae=ge.onStart,ce=ge.onEnd,We=ge.notCaptured,he=ge.onMove,Ce=ge.threshold,Me=ge.passive,He=ge.blurOnStart,Ne={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ke=((O,V,xe)=>{const Q=xe*(Math.PI/180),ve="x"===O,ge=Math.cos(Q),oe=V*V;let le=0,Ae=0,ce=!1,We=0;return{start(he,Ce){le=he,Ae=Ce,We=0,ce=!0},detect(he,Ce){if(!ce)return!1;const Me=he-le,He=Ce-Ae,Ne=Me*Me+He*He;if(Ne<oe)return!1;const ke=Math.sqrt(Ne),X=(ve?Me:He)/ke;return We=X>ge?1:X<-ge?-1:0,ce=!1,!0},isGesture:()=>0!==We,getDirection:()=>We}})(ge.direction,ge.threshold,ge.maxAngle),X=T.G.createGesture({name:O.gestureName,priority:O.gesturePriority,disableScroll:O.disableScroll}),at=()=>{!V||(ve=!1,he&&he(Ne))},It=()=>!(X&&!X.capture()||(V=!0,Q=!1,Ne.startX=Ne.currentX,Ne.startY=Ne.currentY,Ne.startTime=Ne.currentTime,le?le(Ne).then(L):L(),0)),L=()=>{He&&(()=>{if(typeof document<"u"){const Re=document.activeElement;Re?.blur&&Re.blur()}})(),Ae&&Ae(Ne),Q=!0},B=()=>{V=!1,xe=!1,ve=!1,Q=!0,X.release()},W=Re=>{const tt=V,Ke=Q;if(B(),Ke){if(Z(Ne,Re),tt)return void(ce&&ce(Ne));We&&We(Ne)}},fe=((O,V,xe,Q,ve)=>{let ge,oe,le,Ae,ce,We,he,Ce=0;const Me=je=>{Ce=Date.now()+2e3,V(je)&&(!oe&&xe&&(oe=d(O,"touchmove",xe,ve)),le||(le=d(je.target,"touchend",Ne,ve)),Ae||(Ae=d(je.target,"touchcancel",Ne,ve)))},He=je=>{Ce>Date.now()||!V(je)||(!We&&xe&&(We=d(j(O),"mousemove",xe,ve)),he||(he=d(j(O),"mouseup",ke,ve)))},Ne=je=>{X(),Q&&Q(je)},ke=je=>{ze(),Q&&Q(je)},X=()=>{oe&&oe(),le&&le(),Ae&&Ae(),oe=le=Ae=void 0},ze=()=>{We&&We(),he&&he(),We=he=void 0},qe=()=>{X(),ze()},at=(je=!0)=>{je?(ge||(ge=d(O,"touchstart",Me,ve)),ce||(ce=d(O,"mousedown",He,ve))):(ge&&ge(),ce&&ce(),ge=ce=void 0,qe())};return{enable:at,stop:qe,destroy:()=>{at(!1),Q=xe=V=void 0}}})(ge.el,Re=>{const tt=$(Re);return!(xe||!Q||(te(Re,Ne),Ne.startX=Ne.currentX,Ne.startY=Ne.currentY,Ne.startTime=Ne.currentTime=tt,Ne.velocityX=Ne.velocityY=Ne.deltaX=Ne.deltaY=0,Ne.event=Re,oe&&!1===oe(Ne))||(X.release(),!X.start()))&&(xe=!0,0===Ce?It():(ke.start(Ne.startX,Ne.startY),!0))},Re=>{V?!ve&&Q&&(ve=!0,Z(Ne,Re),requestAnimationFrame(at)):(Z(Ne,Re),ke.detect(Ne.currentX,Ne.currentY)&&(!ke.isGesture()||!It())&&Te())},W,{capture:!1,passive:Me}),Te=()=>{B(),fe.stop(),We&&We(Ne)};return{enable(Re=!0){Re||(V&&W(void 0),B()),fe.enable(Re)},destroy(){X.destroy(),fe.destroy()}}},Z=(O,V)=>{if(!V)return;const xe=O.currentX,Q=O.currentY,ve=O.currentTime;te(V,O);const ge=O.currentX,oe=O.currentY,Ae=(O.currentTime=$(V))-ve;if(Ae>0&&Ae<100){const We=(oe-Q)/Ae;O.velocityX=(ge-xe)/Ae*.7+.3*O.velocityX,O.velocityY=.7*We+.3*O.velocityY}O.deltaX=ge-O.startX,O.deltaY=oe-O.startY,O.event=V},te=(O,V)=>{let xe=0,Q=0;if(O){const ve=O.changedTouches;if(ve&&ve.length>0){const ge=ve[0];xe=ge.clientX,Q=ge.clientY}else void 0!==O.pageX&&(xe=O.pageX,Q=O.pageY)}V.currentX=xe,V.currentY=Q},$=O=>O.timeStamp||Date.now()},4736:(Oe,Ge,R)=>{"use strict";R.d(Ge,{L:()=>ee,a:()=>q,b:()=>K,c:()=>j,d:()=>z,e:()=>Ce,g:()=>Ne,l:()=>We,s:()=>Me,t:()=>te});var T=R(3918),d=R(9479),ne=R(9158);const ee="ionViewWillEnter",q="ionViewDidEnter",K="ionViewWillLeave",j="ionViewDidLeave",z="ionViewWillUnload",te=ke=>new Promise((X,ze)=>{(0,d.c)(()=>{$(ke),O(ke).then(qe=>{qe.animation&&qe.animation.destroy(),V(ke),X(qe)},qe=>{V(ke),ze(qe)})})}),$=ke=>{const X=ke.enteringEl,ze=ke.leavingEl;He(X,ze,ke.direction),ke.showGoBack?X.classList.add("can-go-back"):X.classList.remove("can-go-back"),Me(X,!1),X.style.setProperty("pointer-events","none"),ze&&(Me(ze,!1),ze.style.setProperty("pointer-events","none"))},O=function(){var ke=(0,T.Z)(function*(X){const ze=yield xe(X);return ze&&d.B.isBrowser?Q(ze,X):ve(X)});return function(ze){return ke.apply(this,arguments)}}(),V=ke=>{const X=ke.enteringEl,ze=ke.leavingEl;X.classList.remove("ion-page-invisible"),X.style.removeProperty("pointer-events"),void 0!==ze&&(ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"))},xe=function(){var ke=(0,T.Z)(function*(X){return X.leavingEl&&X.animated&&0!==X.duration?X.animationBuilder?X.animationBuilder:"ios"===X.mode?(yield Promise.resolve().then(R.bind(R,5794))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,932))).mdTransitionAnimation:void 0});return function(ze){return ke.apply(this,arguments)}}(),Q=function(){var ke=(0,T.Z)(function*(X,ze){yield ge(ze,!0);const qe=X(ze.baseEl,ze);Ae(ze.enteringEl,ze.leavingEl);const at=yield le(qe,ze);return ze.progressCallback&&ze.progressCallback(void 0),at&&ce(ze.enteringEl,ze.leavingEl),{hasCompleted:at,animation:qe}});return function(ze,qe){return ke.apply(this,arguments)}}(),ve=function(){var ke=(0,T.Z)(function*(X){const ze=X.enteringEl,qe=X.leavingEl;return yield ge(X,!1),Ae(ze,qe),ce(ze,qe),{hasCompleted:!0}});return function(ze){return ke.apply(this,arguments)}}(),ge=function(){var ke=(0,T.Z)(function*(X,ze){const at=(void 0!==X.deepWait?X.deepWait:ze)?[Ce(X.enteringEl),Ce(X.leavingEl)]:[he(X.enteringEl),he(X.leavingEl)];yield Promise.all(at),yield oe(X.viewIsReady,X.enteringEl)});return function(ze,qe){return ke.apply(this,arguments)}}(),oe=function(){var ke=(0,T.Z)(function*(X,ze){X&&(yield X(ze))});return function(ze,qe){return ke.apply(this,arguments)}}(),le=(ke,X)=>{const ze=X.progressCallback,qe=new Promise(at=>{ke.onFinish(It=>at(1===It))});return ze?(ke.progressStart(!0),ze(ke)):ke.play(),qe},Ae=(ke,X)=>{We(X,K),We(ke,ee)},ce=(ke,X)=>{We(ke,q),We(X,j)},We=(ke,X)=>{if(ke){const ze=new CustomEvent(X,{bubbles:!1,cancelable:!1});ke.dispatchEvent(ze)}},he=ke=>ke?new Promise(X=>(0,ne.c)(ke,X)):Promise.resolve(),Ce=function(){var ke=(0,T.Z)(function*(X){const ze=X;if(ze){if(null!=ze.componentOnReady){if(null!=(yield ze.componentOnReady()))return}else if(null!=ze.__registerHost)return void(yield new Promise(at=>(0,ne.r)(at)));yield Promise.all(Array.from(ze.children).map(Ce))}});return function(ze){return ke.apply(this,arguments)}}(),Me=(ke,X)=>{X?(ke.setAttribute("aria-hidden","true"),ke.classList.add("ion-page-hidden")):(ke.hidden=!1,ke.removeAttribute("aria-hidden"),ke.classList.remove("ion-page-hidden"))},He=(ke,X,ze)=>{void 0!==ke&&(ke.style.zIndex="back"===ze?"99":"101"),void 0!==X&&(X.style.zIndex="100")},Ne=ke=>ke.classList.contains("ion-page")?ke:ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ke},9479:(Oe,Ge,R)=>{"use strict";R.d(Ge,{B:()=>Ji,H:()=>pe,a:()=>Te,b:()=>yo,c:()=>wi,e:()=>Ft,f:()=>Nn,g:()=>Re,h:()=>Tn,i:()=>bn,j:()=>S,k:()=>D,p:()=>Q,r:()=>ai,s:()=>V});var T=R(3918);let ne,ee,q,K=!1,j=!1,z=!1,ye=!1,Z=!1;const te=typeof window<"u"?window:{},$=te.document||{head:{}},O={$flags$:0,$resourcesUrl$:"",jmp:x=>x(),raf:x=>requestAnimationFrame(x),ael:(x,N,ae,Se)=>x.addEventListener(N,ae,Se),rel:(x,N,ae,Se)=>x.removeEventListener(N,ae,Se),ce:(x,N)=>new CustomEvent(x,N)},V=x=>{Object.assign(O,x)},Q=x=>Promise.resolve(x),ve=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),ge=(x,N,ae,Se)=>{ae&&ae.map(([P,Y,J])=>{const Pe=le(x,P),Ze=oe(N,J),Xe=Ae(P);O.ael(Pe,Y,Ze,Xe),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>O.rel(Pe,Y,Ze,Xe))})},oe=(x,N)=>ae=>{try{256&x.$flags$?x.$lazyInstance$[N](ae):(x.$queuedListeners$=x.$queuedListeners$||[]).push([N,ae])}catch(Se){ko(Se)}},le=(x,N)=>4&N?$:8&N?te:16&N?$.body:x,Ae=x=>0!=(2&x),Me="s-id",He="sty-id",X="http://www.w3.org/1999/xlink",at=new WeakMap,It=(x,N,ae)=>{let Se=qo.get(x);ve&&ae?(Se=Se||new CSSStyleSheet,Se.replace(N)):Se=N,qo.set(x,Se)},je=(x,N,ae,Se)=>{let P=B(N,ae);const Y=qo.get(P);if(x=11===x.nodeType?x:$,Y)if("string"==typeof Y){let Pe,J=at.get(x=x.head||x);J||at.set(x,J=new Set),J.has(P)||(x.host&&(Pe=x.querySelector(`[${He}="${P}"]`))?Pe.innerHTML=Y:(Pe=$.createElement("style"),Pe.innerHTML=Y,x.insertBefore(Pe,x.querySelector("link"))),J&&J.add(P))}else x.adoptedStyleSheets.includes(Y)||(x.adoptedStyleSheets=[...x.adoptedStyleSheets,Y]);return P},B=(x,N)=>"sc-"+(N&&32&x.$flags$?x.$tagName$+"-"+N:x.$tagName$),W=x=>x.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Te=x=>Pi.push(x),Re=x=>Br(x).$modeName$,tt={},Lt=x=>"object"==(x=typeof x)||"function"===x,Tn=(x,N,...ae)=>{let Se=null,P=null,Y=null,J=!1,Pe=!1;const Ze=[],Xe=Wt=>{for(let Zt=0;Zt<Wt.length;Zt++)Se=Wt[Zt],Array.isArray(Se)?Xe(Se):null!=Se&&"boolean"!=typeof Se&&((J="function"!=typeof x&&!Lt(Se))&&(Se=String(Se)),J&&Pe?Ze[Ze.length-1].$text$+=Se:Ze.push(J?on(null,Se):Se),Pe=J)};if(Xe(ae),N){N.key&&(P=N.key),N.name&&(Y=N.name);{const Wt=N.className||N.class;Wt&&(N.class="object"!=typeof Wt?Wt:Object.keys(Wt).filter(Zt=>Wt[Zt]).join(" "))}}if("function"==typeof x)return x(null===N?{}:N,Ze,Er);const Ct=on(x,null);return Ct.$attrs$=N,Ze.length>0&&(Ct.$children$=Ze),Ct.$key$=P,Ct.$name$=Y,Ct},on=(x,N)=>({$flags$:0,$tag$:x,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),pe={},Er={forEach:(x,N)=>x.map(Zn).forEach(N),map:(x,N)=>x.map(Zn).map(N).map(io)},Zn=x=>({vattrs:x.$attrs$,vchildren:x.$children$,vkey:x.$key$,vname:x.$name$,vtag:x.$tag$,vtext:x.$text$}),io=x=>{if("function"==typeof x.vtag){const ae=Object.assign({},x.vattrs);return x.vkey&&(ae.key=x.vkey),x.vname&&(ae.name=x.vname),Tn(x.vtag,ae,...x.vchildren||[])}const N=on(x.vtag,x.vtext);return N.$attrs$=x.vattrs,N.$children$=x.vchildren,N.$key$=x.vkey,N.$name$=x.vname,N},Jr=(x,N,ae,Se,P,Y)=>{if(ae!==Se){let J=Ro(x,N),Pe=N.toLowerCase();if("class"===N){const Ze=x.classList,Xe=Hn(ae),Ct=Hn(Se);Ze.remove(...Xe.filter(Wt=>Wt&&!Ct.includes(Wt))),Ze.add(...Ct.filter(Wt=>Wt&&!Xe.includes(Wt)))}else if("style"===N){for(const Ze in ae)(!Se||null==Se[Ze])&&(Ze.includes("-")?x.style.removeProperty(Ze):x.style[Ze]="");for(const Ze in Se)(!ae||Se[Ze]!==ae[Ze])&&(Ze.includes("-")?x.style.setProperty(Ze,Se[Ze]):x.style[Ze]=Se[Ze])}else if("key"!==N)if("ref"===N)Se&&Se(x);else if(J||"o"!==N[0]||"n"!==N[1]){const Ze=Lt(Se);if((J||Ze&&null!==Se)&&!P)try{if(x.tagName.includes("-"))x[N]=Se;else{const Ct=Se??"";"list"===N?J=!1:(null==ae||x[N]!=Ct)&&(x[N]=Ct)}}catch{}let Xe=!1;Pe!==(Pe=Pe.replace(/^xlink\:?/,""))&&(N=Pe,Xe=!0),null==Se||!1===Se?(!1!==Se||""===x.getAttribute(N))&&(Xe?x.removeAttributeNS(X,N):x.removeAttribute(N)):(!J||4&Y||P)&&!Ze&&(Se=!0===Se?"":Se,Xe?x.setAttributeNS(X,N,Se):x.setAttribute(N,Se))}else N="-"===N[2]?N.slice(3):Ro(te,Pe)?Pe.slice(2):Pe[2]+N.slice(3),ae&&O.rel(x,N,ae,!1),Se&&O.ael(x,N,Se,!1)}},Mr=/\s/,Hn=x=>x?x.split(Mr):[],sr=(x,N,ae,Se)=>{const P=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,Y=x&&x.$attrs$||tt,J=N.$attrs$||tt;for(Se in Y)Se in J||Jr(P,Se,Y[Se],void 0,ae,N.$flags$);for(Se in J)Jr(P,Se,Y[Se],J[Se],ae,N.$flags$)},vr=(x,N,ae,Se)=>{const P=N.$children$[ae];let J,Pe,Ze,Y=0;if(K||(z=!0,"slot"===P.$tag$&&(ne&&Se.classList.add(ne+"-s"),P.$flags$|=P.$children$?2:1)),null!==P.$text$)J=P.$elm$=$.createTextNode(P.$text$);else if(1&P.$flags$)J=P.$elm$=$.createTextNode("");else{if(ye||(ye="svg"===P.$tag$),J=P.$elm$=$.createElementNS(ye?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&P.$flags$?"slot-fb":P.$tag$),ye&&"foreignObject"===P.$tag$&&(ye=!1),sr(null,P,ye),(x=>null!=x)(ne)&&J["s-si"]!==ne&&J.classList.add(J["s-si"]=ne),P.$children$)for(Y=0;Y<P.$children$.length;++Y)Pe=vr(x,P,Y,J),Pe&&J.appendChild(Pe);"svg"===P.$tag$?ye=!1:"foreignObject"===J.tagName&&(ye=!0)}return J["s-hn"]=q,3&P.$flags$&&(J["s-sr"]=!0,J["s-cr"]=ee,J["s-sn"]=P.$name$||"",Ze=x&&x.$children$&&x.$children$[ae],Ze&&Ze.$tag$===P.$tag$&&x.$elm$&&yi(x.$elm$,!1)),J},yi=(x,N)=>{O.$flags$|=1;const ae=x.childNodes;for(let Se=ae.length-1;Se>=0;Se--){const P=ae[Se];P["s-hn"]!==q&&P["s-ol"]&&(Sn(P).insertBefore(P,$r(P)),P["s-ol"].remove(),P["s-ol"]=void 0,z=!0),N&&yi(P,N)}O.$flags$&=-2},mo=(x,N,ae,Se,P,Y)=>{let Pe,J=x["s-cr"]&&x["s-cr"].parentNode||x;for(J.shadowRoot&&J.tagName===q&&(J=J.shadowRoot);P<=Y;++P)Se[P]&&(Pe=vr(null,ae,P,x),Pe&&(Se[P].$elm$=Pe,J.insertBefore(Pe,$r(N))))},ar=(x,N,ae,Se,P)=>{for(;N<=ae;++N)(Se=x[N])&&(P=Se.$elm$,Be(Se),j=!0,P["s-ol"]?P["s-ol"].remove():yi(P,!0),P.remove())},go=(x,N)=>x.$tag$===N.$tag$&&("slot"===x.$tag$?x.$name$===N.$name$:x.$key$===N.$key$),$r=x=>x&&x["s-ol"]||x,Sn=x=>(x["s-ol"]?x["s-ol"]:x).parentNode,Wr=(x,N)=>{const ae=N.$elm$=x.$elm$,Se=x.$children$,P=N.$children$,Y=N.$tag$,J=N.$text$;let Pe;null===J?(ye="svg"===Y||"foreignObject"!==Y&&ye,"slot"===Y||sr(x,N,ye),null!==Se&&null!==P?((x,N,ae,Se)=>{let lo,Rr,P=0,Y=0,J=0,Pe=0,Ze=N.length-1,Xe=N[0],Ct=N[Ze],Wt=Se.length-1,Zt=Se[0],rr=Se[Wt];for(;P<=Ze&&Y<=Wt;)if(null==Xe)Xe=N[++P];else if(null==Ct)Ct=N[--Ze];else if(null==Zt)Zt=Se[++Y];else if(null==rr)rr=Se[--Wt];else if(go(Xe,Zt))Wr(Xe,Zt),Xe=N[++P],Zt=Se[++Y];else if(go(Ct,rr))Wr(Ct,rr),Ct=N[--Ze],rr=Se[--Wt];else if(go(Xe,rr))("slot"===Xe.$tag$||"slot"===rr.$tag$)&&yi(Xe.$elm$.parentNode,!1),Wr(Xe,rr),x.insertBefore(Xe.$elm$,Ct.$elm$.nextSibling),Xe=N[++P],rr=Se[--Wt];else if(go(Ct,Zt))("slot"===Xe.$tag$||"slot"===rr.$tag$)&&yi(Ct.$elm$.parentNode,!1),Wr(Ct,Zt),x.insertBefore(Ct.$elm$,Xe.$elm$),Ct=N[--Ze],Zt=Se[++Y];else{for(J=-1,Pe=P;Pe<=Ze;++Pe)if(N[Pe]&&null!==N[Pe].$key$&&N[Pe].$key$===Zt.$key$){J=Pe;break}J>=0?(Rr=N[J],Rr.$tag$!==Zt.$tag$?lo=vr(N&&N[Y],ae,J,x):(Wr(Rr,Zt),N[J]=void 0,lo=Rr.$elm$),Zt=Se[++Y]):(lo=vr(N&&N[Y],ae,Y,x),Zt=Se[++Y]),lo&&Sn(Xe.$elm$).insertBefore(lo,$r(Xe.$elm$))}P>Ze?mo(x,null==Se[Wt+1]?null:Se[Wt+1].$elm$,ae,Se,Y,Wt):Y>Wt&&ar(N,P,Ze)})(ae,Se,N,P):null!==P?(null!==x.$text$&&(ae.textContent=""),mo(ae,null,N,P,0,P.length-1)):null!==Se&&ar(Se,0,Se.length-1),ye&&"svg"===Y&&(ye=!1)):(Pe=ae["s-cr"])?Pe.parentNode.textContent=J:x.$text$!==J&&(ae.data=J)},vi=x=>{const N=x.childNodes;let ae,Se,P,Y,J,Pe;for(Se=0,P=N.length;Se<P;Se++)if(ae=N[Se],1===ae.nodeType){if(ae["s-sr"])for(J=ae["s-sn"],ae.hidden=!1,Y=0;Y<P;Y++)if(Pe=N[Y].nodeType,N[Y]["s-hn"]!==ae["s-hn"]||""!==J){if(1===Pe&&J===N[Y].getAttribute("slot")){ae.hidden=!0;break}}else if(1===Pe||3===Pe&&""!==N[Y].textContent.trim()){ae.hidden=!0;break}vi(ae)}},Ar=[],Je=x=>{let N,ae,Se,P,Y,J,Pe=0;const Ze=x.childNodes,Xe=Ze.length;for(;Pe<Xe;Pe++){if(N=Ze[Pe],N["s-sr"]&&(ae=N["s-cr"])&&ae.parentNode)for(Se=ae.parentNode.childNodes,P=N["s-sn"],J=Se.length-1;J>=0;J--)ae=Se[J],!ae["s-cn"]&&!ae["s-nr"]&&ae["s-hn"]!==N["s-hn"]&&(re(ae,P)?(Y=Ar.find(Ct=>Ct.$nodeToRelocate$===ae),j=!0,ae["s-sn"]=ae["s-sn"]||P,Y?Y.$slotRefNode$=N:Ar.push({$slotRefNode$:N,$nodeToRelocate$:ae}),ae["s-sr"]&&Ar.map(Ct=>{re(Ct.$nodeToRelocate$,ae["s-sn"])&&(Y=Ar.find(Wt=>Wt.$nodeToRelocate$===ae),Y&&!Ct.$slotRefNode$&&(Ct.$slotRefNode$=Y.$slotRefNode$))})):Ar.some(Ct=>Ct.$nodeToRelocate$===ae)||Ar.push({$nodeToRelocate$:ae}));1===N.nodeType&&Je(N)}},re=(x,N)=>1===x.nodeType?null===x.getAttribute("slot")&&""===N||x.getAttribute("slot")===N:x["s-sn"]===N||""===N,Be=x=>{x.$attrs$&&x.$attrs$.ref&&x.$attrs$.ref(null),x.$children$&&x.$children$.map(Be)},bn=x=>Br(x).$hostElement$,Ft=(x,N,ae)=>{const Se=bn(x);return{emit:P=>cn(Se,N,{bubbles:!!(4&ae),composed:!!(2&ae),cancelable:!!(1&ae),detail:P})}},cn=(x,N,ae)=>{const Se=O.ce(N,ae);return x.dispatchEvent(Se),Se},er=(x,N)=>{N&&!x.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(ae=>x.$onRenderResolve$=ae))},Jt=(x,N)=>{if(x.$flags$|=16,!(4&x.$flags$))return er(x,x.$ancestorComponent$),wi(()=>Yn(x,N));x.$flags$|=512},Yn=(x,N)=>{const Se=x.$lazyInstance$;let P;return N&&(x.$flags$|=256,x.$queuedListeners$&&(x.$queuedListeners$.map(([Y,J])=>hr(Se,Y,J)),x.$queuedListeners$=null),P=hr(Se,"componentWillLoad")),P=I(P,()=>hr(Se,"componentWillRender")),I(P,()=>lr(x,Se,N))},lr=function(){var x=(0,T.Z)(function*(N,ae,Se){const P=N.$hostElement$,J=P["s-rc"];Se&&(x=>{const N=x.$cmpMeta$,ae=x.$hostElement$,Se=N.$flags$,Y=je(ae.shadowRoot?ae.shadowRoot:ae.getRootNode(),N,x.$modeName$);10&Se&&(ae["s-sc"]=Y,ae.classList.add(Y+"-h"),2&Se&&ae.classList.add(Y+"-s"))})(N);Vt(N,ae),J&&(J.map(Ze=>Ze()),P["s-rc"]=void 0);{const Ze=P["s-p"],Xe=()=>tr(N);0===Ze.length?Xe():(Promise.all(Ze).then(Xe),N.$flags$|=4,Ze.length=0)}});return function(ae,Se,P){return x.apply(this,arguments)}}(),Vt=(x,N,ae)=>{try{N=N.render&&N.render(),x.$flags$&=-17,x.$flags$|=2,((x,N)=>{const ae=x.$hostElement$,Se=x.$cmpMeta$,P=x.$vnode$||on(null,null),Y=(x=>x&&x.$tag$===pe)(N)?N:Tn(null,null,N);if(q=ae.tagName,Se.$attrsToReflect$&&(Y.$attrs$=Y.$attrs$||{},Se.$attrsToReflect$.map(([J,Pe])=>Y.$attrs$[Pe]=ae[J])),Y.$tag$=null,Y.$flags$|=4,x.$vnode$=Y,Y.$elm$=P.$elm$=ae.shadowRoot||ae,ne=ae["s-sc"],ee=ae["s-cr"],K=0!=(1&Se.$flags$),j=!1,Wr(P,Y),O.$flags$|=1,z){Je(Y.$elm$);let J,Pe,Ze,Xe,Ct,Wt,Zt=0;for(;Zt<Ar.length;Zt++)J=Ar[Zt],Pe=J.$nodeToRelocate$,Pe["s-ol"]||(Ze=$.createTextNode(""),Ze["s-nr"]=Pe,Pe.parentNode.insertBefore(Pe["s-ol"]=Ze,Pe));for(Zt=0;Zt<Ar.length;Zt++)if(J=Ar[Zt],Pe=J.$nodeToRelocate$,J.$slotRefNode$){for(Xe=J.$slotRefNode$.parentNode,Ct=J.$slotRefNode$.nextSibling,Ze=Pe["s-ol"];Ze=Ze.previousSibling;)if(Wt=Ze["s-nr"],Wt&&Wt["s-sn"]===Pe["s-sn"]&&Xe===Wt.parentNode&&(Wt=Wt.nextSibling,!Wt||!Wt["s-nr"])){Ct=Wt;break}(!Ct&&Xe!==Pe.parentNode||Pe.nextSibling!==Ct)&&Pe!==Ct&&(!Pe["s-hn"]&&Pe["s-ol"]&&(Pe["s-hn"]=Pe["s-ol"].parentNode.nodeName),Xe.insertBefore(Pe,Ct))}else 1===Pe.nodeType&&(Pe.hidden=!0)}j&&vi(Y.$elm$),O.$flags$&=-2,Ar.length=0})(x,N)}catch(Se){ko(Se,x.$hostElement$)}return null},tr=x=>{const ae=x.$hostElement$,P=x.$lazyInstance$,Y=x.$ancestorComponent$;hr(P,"componentDidRender"),64&x.$flags$?hr(P,"componentDidUpdate"):(x.$flags$|=64,Pr(ae),hr(P,"componentDidLoad"),x.$onReadyResolve$(ae),Y||kt()),x.$onInstanceResolve$(ae),x.$onRenderResolve$&&(x.$onRenderResolve$(),x.$onRenderResolve$=void 0),512&x.$flags$&&Ko(()=>Jt(x,!1)),x.$flags$&=-517},S=x=>{{const N=Br(x),ae=N.$hostElement$.isConnected;return ae&&2==(18&N.$flags$)&&Jt(N,!1),ae}},kt=x=>{Pr($.documentElement),Ko(()=>cn(te,"appload",{detail:{namespace:"ionic"}}))},hr=(x,N,ae)=>{if(x&&x[N])try{return x[N](ae)}catch(Se){ko(Se)}},I=(x,N)=>x&&x.then?x.then(N):N(),Pr=x=>x.classList.add("hydrated"),ao=(x,N,ae,Se,P,Y,J)=>{let Pe,Ze,Xe,Ct;if(1===Y.nodeType){for(Pe=Y.getAttribute("c-id"),Pe&&(Ze=Pe.split("."),(Ze[0]===J||"0"===Ze[0])&&(Xe={$flags$:0,$hostId$:Ze[0],$nodeId$:Ze[1],$depth$:Ze[2],$index$:Ze[3],$tag$:Y.tagName.toLowerCase(),$elm$:Y,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(Xe),Y.removeAttribute("c-id"),x.$children$||(x.$children$=[]),x.$children$[Xe.$index$]=Xe,x=Xe,Se&&"0"===Xe.$depth$&&(Se[Xe.$index$]=Xe.$elm$))),Ct=Y.childNodes.length-1;Ct>=0;Ct--)ao(x,N,ae,Se,P,Y.childNodes[Ct],J);if(Y.shadowRoot)for(Ct=Y.shadowRoot.childNodes.length-1;Ct>=0;Ct--)ao(x,N,ae,Se,P,Y.shadowRoot.childNodes[Ct],J)}else if(8===Y.nodeType)Ze=Y.nodeValue.split("."),(Ze[1]===J||"0"===Ze[1])&&(Pe=Ze[0],Xe={$flags$:0,$hostId$:Ze[1],$nodeId$:Ze[2],$depth$:Ze[3],$index$:Ze[4],$elm$:Y,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Pe?(Xe.$elm$=Y.nextSibling,Xe.$elm$&&3===Xe.$elm$.nodeType&&(Xe.$text$=Xe.$elm$.textContent,N.push(Xe),Y.remove(),x.$children$||(x.$children$=[]),x.$children$[Xe.$index$]=Xe,Se&&"0"===Xe.$depth$&&(Se[Xe.$index$]=Xe.$elm$))):Xe.$hostId$===J&&("s"===Pe?(Xe.$tag$="slot",Y["s-sn"]=Ze[5]?Xe.$name$=Ze[5]:"",Y["s-sr"]=!0,Se&&(Xe.$elm$=$.createElement(Xe.$tag$),Xe.$name$&&Xe.$elm$.setAttribute("name",Xe.$name$),Y.parentNode.insertBefore(Xe.$elm$,Y),Y.remove(),"0"===Xe.$depth$&&(Se[Xe.$index$]=Xe.$elm$)),ae.push(Xe),x.$children$||(x.$children$=[]),x.$children$[Xe.$index$]=Xe):"r"===Pe&&(Se?Y.remove():(P["s-cr"]=Y,Y["s-cn"]=!0))));else if(x&&"style"===x.$tag$){const Wt=on(null,Y.textContent);Wt.$elm$=Y,Wt.$index$="0",x.$children$=[Wt]}},Po=(x,N)=>{if(1===x.nodeType){let ae=0;for(;ae<x.childNodes.length;ae++)Po(x.childNodes[ae],N);if(x.shadowRoot)for(ae=0;ae<x.shadowRoot.childNodes.length;ae++)Po(x.shadowRoot.childNodes[ae],N)}else if(8===x.nodeType){const ae=x.nodeValue.split(".");"o"===ae[0]&&(N.set(ae[1]+"."+ae[2],x),x.nodeValue="",x["s-en"]=ae[3])}},eo=(x,N,ae)=>{if(N.$members$){x.watchers&&(N.$watchers$=x.watchers);const Se=Object.entries(N.$members$),P=x.prototype;if(Se.map(([Y,[J]])=>{31&J||2&ae&&32&J?Object.defineProperty(P,Y,{get(){return((x,N)=>Br(this).$instanceValues$.get(N))(0,Y)},set(Pe){((x,N,ae,Se)=>{const P=Br(x),Y=P.$hostElement$,J=P.$instanceValues$.get(N),Pe=P.$flags$,Ze=P.$lazyInstance$;ae=((x,N)=>null==x||Lt(x)?x:4&N?"false"!==x&&(""===x||!!x):2&N?parseFloat(x):1&N?String(x):x)(ae,Se.$members$[N][0]);const Xe=Number.isNaN(J)&&Number.isNaN(ae);if((!(8&Pe)||void 0===J)&&ae!==J&&!Xe&&(P.$instanceValues$.set(N,ae),Ze)){if(Se.$watchers$&&128&Pe){const Wt=Se.$watchers$[N];Wt&&Wt.map(Zt=>{try{Ze[Zt](ae,J,N)}catch(rr){ko(rr,Y)}})}2==(18&Pe)&&Jt(P,!1)}})(this,Y,Pe,N)},configurable:!0,enumerable:!0}):1&ae&&64&J&&Object.defineProperty(P,Y,{value(...Pe){const Ze=Br(this);return Ze.$onInstancePromise$.then(()=>Ze.$lazyInstance$[Y](...Pe))}})}),1&ae){const Y=new Map;P.attributeChangedCallback=function(J,Pe,Ze){O.jmp(()=>{const Xe=Y.get(J);if(this.hasOwnProperty(Xe))Ze=this[Xe],delete this[Xe];else if(P.hasOwnProperty(Xe)&&"number"==typeof this[Xe]&&this[Xe]==Ze)return;this[Xe]=(null!==Ze||"boolean"!=typeof this[Xe])&&Ze})},x.observedAttributes=Se.filter(([J,Pe])=>15&Pe[0]).map(([J,Pe])=>{const Ze=Pe[1]||J;return Y.set(Ze,J),512&Pe[0]&&N.$attrsToReflect$.push([J,Ze]),Ze})}}return x},nr=function(){var x=(0,T.Z)(function*(N,ae,Se,P,Y){if(0==(32&ae.$flags$)){{if(ae.$flags$|=32,(Y=Qi(Se)).then){const Xe=()=>{};Y=yield Y,Xe()}Y.isProxied||(Se.$watchers$=Y.watchers,eo(Y,Se,2),Y.isProxied=!0);const Ze=()=>{};ae.$flags$|=8;try{new Y(ae)}catch(Xe){ko(Xe)}ae.$flags$&=-9,ae.$flags$|=128,Ze(),to(ae.$lazyInstance$)}if(Y.style){let Ze=Y.style;"string"!=typeof Ze&&(Ze=Ze[ae.$modeName$=(x=>Pi.map(N=>N(x)).find(N=>!!N))(N)]);const Xe=B(Se,ae.$modeName$);if(!qo.has(Xe)){const Ct=()=>{};It(Xe,Ze,!!(1&Se.$flags$)),Ct()}}}const J=ae.$ancestorComponent$,Pe=()=>Jt(ae,!0);J&&J["s-rc"]?J["s-rc"].push(Pe):Pe()});return function(ae,Se,P,Y,J){return x.apply(this,arguments)}}(),to=x=>{hr(x,"connectedCallback")},Wo=x=>{const N=x["s-cr"]=$.createComment("");N["s-cn"]=!0,x.insertBefore(N,x.firstChild)},yo=(x,N={})=>{const Se=[],P=N.exclude||[],Y=te.customElements,J=$.head,Pe=J.querySelector("meta[charset]"),Ze=$.createElement("style"),Xe=[],Ct=$.querySelectorAll(`[${He}]`);let Wt,Zt=!0,rr=0;for(Object.assign(O,N),O.$resourcesUrl$=new URL(N.resourcesUrl||"./",$.baseURI).href,O.$flags$|=2;rr<Ct.length;rr++)It(Ct[rr].getAttribute(He),W(Ct[rr].innerHTML),!0);x.map(lo=>{lo[1].map(Rr=>{const mr={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};mr.$members$=Rr[2],mr.$listeners$=Rr[3],mr.$attrsToReflect$=[],mr.$watchers$={};const Ri=mr.$tagName$,Xo=class extends HTMLElement{constructor(bi){super(bi),li(bi=this,mr),1&mr.$flags$&&bi.attachShadow({mode:"open",delegatesFocus:!!(16&mr.$flags$)})}connectedCallback(){Wt&&(clearTimeout(Wt),Wt=null),Zt?Xe.push(this):O.jmp(()=>(x=>{if(0==(1&O.$flags$)){const N=Br(x),ae=N.$cmpMeta$,Se=()=>{};if(1&N.$flags$)ge(x,N,ae.$listeners$),to(N.$lazyInstance$);else{let P;if(N.$flags$|=1,P=x.getAttribute(Me),P){if(1&ae.$flags$){const Y=je(x.shadowRoot,ae,x.getAttribute("s-mode"));x.classList.remove(Y+"-h",Y+"-s")}((x,N,ae,Se)=>{const Y=x.shadowRoot,J=[],Ze=Y?[]:null,Xe=Se.$vnode$=on(N,null);O.$orgLocNodes$||Po($.body,O.$orgLocNodes$=new Map),x[Me]=ae,x.removeAttribute(Me),ao(Xe,J,[],Ze,x,x,ae),J.map(Ct=>{const Wt=Ct.$hostId$+"."+Ct.$nodeId$,Zt=O.$orgLocNodes$.get(Wt),rr=Ct.$elm$;Zt&&""===Zt["s-en"]&&Zt.parentNode.insertBefore(rr,Zt.nextSibling),Y||(rr["s-hn"]=N,Zt&&(rr["s-ol"]=Zt,rr["s-ol"]["s-nr"]=rr)),O.$orgLocNodes$.delete(Wt)}),Y&&Ze.map(Ct=>{Ct&&Y.appendChild(Ct)})})(x,ae.$tagName$,P,N)}P||12&ae.$flags$&&Wo(x);{let Y=x;for(;Y=Y.parentNode||Y.host;)if(1===Y.nodeType&&Y.hasAttribute("s-id")&&Y["s-p"]||Y["s-p"]){er(N,N.$ancestorComponent$=Y);break}}ae.$members$&&Object.entries(ae.$members$).map(([Y,[J]])=>{if(31&J&&x.hasOwnProperty(Y)){const Pe=x[Y];delete x[Y],x[Y]=Pe}}),Ko(()=>nr(x,N,ae))}Se()}})(this))}disconnectedCallback(){O.jmp(()=>(x=>{if(0==(1&O.$flags$)){const N=Br(this),ae=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Se=>Se()),N.$rmListeners$=void 0),hr(ae,"disconnectedCallback")}})())}componentOnReady(){return Br(this).$onReadyPromise$}};mr.$lazyBundleId$=lo[0],!P.includes(Ri)&&!Y.get(Ri)&&(Se.push(Ri),Y.define(Ri,eo(Xo,mr,1)))})}),Ze.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",Ze.setAttribute("data-styles",""),J.insertBefore(Ze,Pe?Pe.nextSibling:J.firstChild),Zt=!1,Xe.length?Xe.map(lo=>lo.connectedCallback()):O.jmp(()=>Wt=setTimeout(kt,30))},D=x=>{const N=new URL(x,O.$resourcesUrl$);return N.origin!==te.location.origin?N.href:N.pathname},qr=new WeakMap,Br=x=>qr.get(x),ai=(x,N)=>qr.set(N.$lazyInstance$=x,N),li=(x,N)=>{const ae={$flags$:0,$hostElement$:x,$cmpMeta$:N,$instanceValues$:new Map};return ae.$onInstancePromise$=new Promise(Se=>ae.$onInstanceResolve$=Se),ae.$onReadyPromise$=new Promise(Se=>ae.$onReadyResolve$=Se),x["s-p"]=[],x["s-rc"]=[],ge(x,ae,N.$listeners$),qr.set(x,ae)},Ro=(x,N)=>N in x,ko=(x,N)=>(0,console.error)(x,N),Vr=new Map,Qi=(x,N,ae)=>{const Se=x.$tagName$.replace(/-/g,"_"),P=x.$lazyBundleId$,Y=Vr.get(P);return Y?Y[Se]:R(863)(`./${P}.entry.js`).then(J=>(Vr.set(P,J),J[Se]),ko)},qo=new Map,Pi=[],Gn=[],Zo=[],_i=(x,N)=>ae=>{x.push(ae),Z||(Z=!0,N&&4&O.$flags$?Ko(Rn):O.raf(Rn))},Yo=x=>{for(let N=0;N<x.length;N++)try{x[N](performance.now())}catch(ae){ko(ae)}x.length=0},Rn=()=>{Yo(Gn),Yo(Zo),(Z=Gn.length>0)&&O.raf(Rn)},Ko=x=>Q().then(x),Nn=_i(Gn,!1),wi=_i(Zo,!0),Ji={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9506:(Oe,Ge,R)=>{"use strict";R.d(Ge,{m:()=>te});var T=R(3918),d=R(159),ne=R(9158),ee=R(537),q=R(2597);const K=$=>(0,q.c)().duration($?400:300),j=$=>{let O,V;const xe=$.width+8,Q=(0,q.c)(),ve=(0,q.c)();$.isEndSide?(O=xe+"px",V="0px"):(O=-xe+"px",V="0px"),Q.addElement($.menuInnerEl).fromTo("transform",`translateX(${O})`,`translateX(${V})`);const oe="ios"===(0,ee.b)($),le=oe?.2:.25;return ve.addElement($.backdropEl).fromTo("opacity",.01,le),K(oe).addAnimation([Q,ve])},z=$=>{let O,V;const xe=(0,ee.b)($),Q=$.width;$.isEndSide?(O=-Q+"px",V=Q+"px"):(O=Q+"px",V=-Q+"px");const ve=(0,q.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${V})`,"translateX(0px)"),ge=(0,q.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${O})`),oe=(0,q.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return K("ios"===xe).addAnimation([ve,ge,oe])},ye=$=>{const O=(0,ee.b)($),V=$.width*($.isEndSide?-1:1)+"px",xe=(0,q.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${V})`);return K("ios"===O).addAnimation(xe)},te=(()=>{const $=new Map,O=[],V=function(){var L=(0,T.Z)(function*(B){const W=yield Ae(B);return!!W&&W.open()});return function(W){return L.apply(this,arguments)}}(),xe=function(){var L=(0,T.Z)(function*(B){const W=yield void 0!==B?Ae(B):ce();return void 0!==W&&W.close()});return function(W){return L.apply(this,arguments)}}(),Q=function(){var L=(0,T.Z)(function*(B){const W=yield Ae(B);return!!W&&W.toggle()});return function(W){return L.apply(this,arguments)}}(),ve=function(){var L=(0,T.Z)(function*(B,W){const fe=yield Ae(W);return fe&&(fe.disabled=!B),fe});return function(W,fe){return L.apply(this,arguments)}}(),ge=function(){var L=(0,T.Z)(function*(B,W){const fe=yield Ae(W);return fe&&(fe.swipeGesture=B),fe});return function(W,fe){return L.apply(this,arguments)}}(),oe=function(){var L=(0,T.Z)(function*(B){if(null!=B){const W=yield Ae(B);return void 0!==W&&W.isOpen()}return void 0!==(yield ce())});return function(W){return L.apply(this,arguments)}}(),le=function(){var L=(0,T.Z)(function*(B){const W=yield Ae(B);return!!W&&!W.disabled});return function(W){return L.apply(this,arguments)}}(),Ae=function(){var L=(0,T.Z)(function*(B){return yield je(),"start"===B||"end"===B?It(Te=>Te.side===B&&!Te.disabled)||It(Te=>Te.side===B):null!=B?It(fe=>fe.menuId===B):It(fe=>!fe.disabled)||(O.length>0?O[0].el:void 0)});return function(W){return L.apply(this,arguments)}}(),ce=function(){var L=(0,T.Z)(function*(){return yield je(),ze()});return function(){return L.apply(this,arguments)}}(),We=function(){var L=(0,T.Z)(function*(){return yield je(),qe()});return function(){return L.apply(this,arguments)}}(),he=function(){var L=(0,T.Z)(function*(){return yield je(),at()});return function(){return L.apply(this,arguments)}}(),Ce=(L,B)=>{$.set(L,B)},Ne=L=>{const B=L.side;O.filter(W=>W.side===B&&W!==L).forEach(W=>W.disabled=!0)},ke=function(){var L=(0,T.Z)(function*(B,W,fe){if(at())return!1;if(W){const Te=yield ce();Te&&B.el!==Te&&(yield Te.setOpen(!1,!1))}return B._setOpen(W,fe)});return function(W,fe,Te){return L.apply(this,arguments)}}(),ze=()=>It(L=>L._isOpen),qe=()=>O.map(L=>L.el),at=()=>O.some(L=>L.isAnimating),It=L=>{const B=O.find(L);if(void 0!==B)return B.el},je=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(B=>(0,ne.c)(L,B))));return Ce("reveal",ye),Ce("push",z),Ce("overlay",j),typeof document<"u"&&document.addEventListener("ionBackButton",L=>{const B=ze();B&&L.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>B.close())}),{registerAnimation:Ce,get:Ae,getMenus:We,getOpen:ce,isEnabled:le,swipeGesture:ge,isAnimating:he,isOpen:oe,enable:ve,toggle:Q,close:xe,open:V,_getOpenSync:ze,_createAnimation:(L,B)=>{const W=$.get(L);if(!W)throw new Error("animation not registered");return W(B)},_register:L=>{O.indexOf(L)<0&&(L.disabled||Ne(L),O.push(L))},_unregister:L=>{const B=O.indexOf(L);B>-1&&O.splice(B,1)},_setOpen:ke,_setActiveMenu:Ne}})()},537:(Oe,Ge,R)=>{"use strict";R.d(Ge,{a:()=>te,b:()=>at,c:()=>ne,g:()=>Z,i:()=>It});var T=R(9479);class d{constructor(){this.m=new Map}reset(L){this.m=new Map(Object.entries(L))}get(L,B){const W=this.m.get(L);return void 0!==W?W:B}getBoolean(L,B=!1){const W=this.m.get(L);return void 0===W?B:"string"==typeof W?"true"===W:!!W}getNumber(L,B){const W=parseFloat(this.m.get(L));return isNaN(W)?void 0!==B?B:NaN:W}set(L,B){this.m.set(L,B)}}const ne=new d,z="ionic:",ye="ionic-persist-config",Z=je=>$(je),te=(je,L)=>("string"==typeof je&&(L=je,je=void 0),Z(je).includes(L)),$=(je=window)=>{if(typeof je>"u")return[];je.Ionic=je.Ionic||{};let L=je.Ionic.platforms;return null==L&&(L=je.Ionic.platforms=O(je),L.forEach(B=>je.document.documentElement.classList.add(`plt-${B}`))),L},O=je=>{const L=ne.get("platform");return Object.keys(ze).filter(B=>{const W=L?.[B];return"function"==typeof W?W(je):ze[B](je)})},xe=je=>!!(ke(je,/iPad/i)||ke(je,/Macintosh/i)&&ce(je)),ge=je=>ke(je,/android|sink/i),ce=je=>X(je,"(any-pointer:coarse)"),he=je=>Ce(je)||Me(je),Ce=je=>!!(je.cordova||je.phonegap||je.PhoneGap),Me=je=>!!je.Capacitor?.isNative,ke=(je,L)=>L.test(je.navigator.userAgent),X=(je,L)=>{var B;return null===(B=je.matchMedia)||void 0===B?void 0:B.call(je,L).matches},ze={ipad:xe,iphone:je=>ke(je,/iPhone/i),ios:je=>ke(je,/iPhone|iPod/i)||xe(je),android:ge,phablet:je=>{const L=je.innerWidth,B=je.innerHeight,W=Math.min(L,B),fe=Math.max(L,B);return W>390&&W<520&&fe>620&&fe<800},tablet:je=>{const L=je.innerWidth,B=je.innerHeight,W=Math.min(L,B),fe=Math.max(L,B);return xe(je)||(je=>ge(je)&&!ke(je,/mobile/i))(je)||W>460&&W<820&&fe>780&&fe<1400},cordova:Ce,capacitor:Me,electron:je=>ke(je,/electron/i),pwa:je=>{var L;return!(!(null===(L=je.matchMedia)||void 0===L?void 0:L.call(je,"(display-mode: standalone)").matches)&&!je.navigator.standalone)},mobile:ce,mobileweb:je=>ce(je)&&!he(je),desktop:je=>!ce(je),hybrid:he};let qe;const at=je=>je&&(0,T.g)(je)||qe,It=(je={})=>{if(typeof window>"u")return;const L=window.document,B=window,W=B.Ionic=B.Ionic||{},fe={};je._ael&&(fe.ael=je._ael),je._rel&&(fe.rel=je._rel),je._ce&&(fe.ce=je._ce),(0,T.s)(fe);const Te=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(je=>{try{const L=je.sessionStorage.getItem(ye);return null!==L?JSON.parse(L):{}}catch{return{}}})(B)),{persistConfig:!1}),W.config),(je=>{const L={};return je.location.search.slice(1).split("&").map(B=>B.split("=")).map(([B,W])=>[decodeURIComponent(B),decodeURIComponent(W)]).filter(([B])=>((je,L)=>je.substr(0,L.length)===L)(B,z)).map(([B,W])=>[B.slice(z.length),W]).forEach(([B,W])=>{L[B]=W}),L})(B)),je);ne.reset(Te),ne.getBoolean("persistConfig")&&((je,L)=>{try{je.sessionStorage.setItem(ye,JSON.stringify(L))}catch{return}})(B,Te),$(B),W.config=ne,W.mode=qe=ne.get("mode",L.documentElement.getAttribute("mode")||(te(B,"ios")?"ios":"md")),ne.set("mode",qe),L.documentElement.setAttribute("mode",qe),L.documentElement.classList.add(qe),ne.getBoolean("_testing")&&ne.set("animated",!1);const Re=Ke=>{var et;return null===(et=Ke.tagName)||void 0===et?void 0:et.startsWith("ION-")},tt=Ke=>["ios","md"].includes(Ke);(0,T.a)(Ke=>{for(;Ke;){const et=Ke.mode||Ke.getAttribute("mode");if(et){if(tt(et))return et;Re(Ke)&&console.warn('Invalid ionic mode: "'+et+'", expected: "ios" or "md"')}Ke=Ke.parentElement}return qe})}},5794:(Oe,Ge,R)=>{"use strict";R.r(Ge),R.d(Ge,{iosTransitionAnimation:()=>$,shadow:()=>K});var T=R(2597),d=R(4736);R(9479);const q=O=>document.querySelector(`${O}.ion-cloned-element`),K=O=>O.shadowRoot||O,j=O=>{const V="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs"),xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=V){const Q=V.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Q?Q.querySelector(xe):null}return O.querySelector(xe)},z=(O,V)=>{const xe="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs");let Q=[];if(null!=xe){const ve=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ve&&(Q=ve.querySelectorAll("ion-buttons"))}else Q=O.querySelectorAll("ion-buttons");for(const ve of Q){const ge=ve.closest("ion-header"),oe=ge&&!ge.classList.contains("header-collapse-condense-inactive"),le=ve.querySelector("ion-back-button"),Ae=ve.classList.contains("buttons-collapse"),ce="start"===ve.slot||""===ve.slot;if(null!==le&&ce&&(Ae&&oe&&V||!Ae))return le}return null},Z=(O,V,xe,Q,ve,ge)=>{const oe=V?`calc(100% - ${ge.right+4}px)`:ge.left-4+"px",le=V?"7px":"-7px",Ae=V?"-4px":"4px",ce=V?"-4px":"4px",We=V?"right":"left",he=V?"left":"right",He=xe?[{offset:0,opacity:1,transform:`translate3d(${Ae}, ${ge.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${le}, ${ve.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${le}, ${ve.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ae}, ${ge.top-46}px, 0) scale(1)`}],X=xe?[{offset:0,opacity:1,transform:`translate3d(${ce}, ${ge.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ce}, ${ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ce}, ${ge.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ce}, ${ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ce}, ${ge.top-46}px, 0) scale(1)`}],ze=(0,T.c)(),qe=(0,T.c)(),at=q("ion-back-button"),It=K(at).querySelector(".button-text"),je=K(at).querySelector("ion-icon");at.text=Q.text,at.mode=Q.mode,at.icon=Q.icon,at.color=Q.color,at.disabled=Q.disabled,at.style.setProperty("display","block"),at.style.setProperty("position","fixed"),qe.addElement(je),ze.addElement(It),ze.beforeStyles({"transform-origin":`${We} center`}).beforeAddWrite(()=>{Q.style.setProperty("display","none"),at.style.setProperty(We,oe)}).afterAddWrite(()=>{Q.style.setProperty("display",""),at.style.setProperty("display","none"),at.style.removeProperty(We)}).keyframes(He),qe.beforeStyles({"transform-origin":`${he} center`}).keyframes(X),O.addAnimation([ze,qe])},te=(O,V,xe,Q,ve,ge)=>{const oe=V?`calc(100% - ${ve.right}px)`:`${ve.left}px`,le=V?"-18px":"18px",Ae=V?"right":"left",he=xe?[{offset:0,opacity:0,transform:`translate3d(${le}, ${ge.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${le}, ${ge.top-4}px, 0) scale(0.5)`}],Ce=q("ion-title"),Me=(0,T.c)();Ce.innerText=Q.innerText,Ce.size=Q.size,Ce.color=Q.color,Me.addElement(Ce),Me.beforeStyles({"transform-origin":`${Ae} center`,height:"46px",display:"",position:"relative",[Ae]:oe}).beforeAddWrite(()=>{Q.style.setProperty("display","none")}).afterAddWrite(()=>{Q.style.setProperty("display",""),Ce.style.setProperty("display","none")}).keyframes(he),O.addAnimation(Me)},$=(O,V)=>{try{const xe="cubic-bezier(0.32,0.72,0,1)",Q="opacity",ve="transform",ge="0%",le="rtl"===O.ownerDocument.dir,Ae=le?"-99.5%":"99.5%",ce=le?"33%":"-33%",We=V.enteringEl,he=V.leavingEl,Ce="back"===V.direction,Me=We.querySelector(":scope > ion-content"),He=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ne=We.querySelectorAll(":scope > ion-header > ion-toolbar"),ke=(0,T.c)(),X=(0,T.c)();if(ke.addElement(We).duration(V.duration||540).easing(V.easing||xe).fill("both").beforeRemoveClass("ion-page-invisible"),he&&O){const It=(0,T.c)();It.addElement(O),ke.addAnimation(It)}if(Me||0!==Ne.length||0!==He.length?(X.addElement(Me),X.addElement(He)):X.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ke.addAnimation(X),Ce?X.beforeClearStyles([Q]).fromTo("transform",`translateX(${ce})`,`translateX(${ge})`).fromTo(Q,.8,1):X.beforeClearStyles([Q]).fromTo("transform",`translateX(${Ae})`,`translateX(${ge})`),Me){const It=K(Me).querySelector(".transition-effect");if(It){const je=It.querySelector(".transition-cover"),L=It.querySelector(".transition-shadow"),B=(0,T.c)(),W=(0,T.c)(),fe=(0,T.c)();B.addElement(It).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),W.addElement(je).beforeClearStyles([Q]).fromTo(Q,0,.1),fe.addElement(L).beforeClearStyles([Q]).fromTo(Q,.03,.7),B.addAnimation([W,fe]),X.addAnimation([B])}}const ze=We.querySelector("ion-header.header-collapse-condense"),{forward:qe,backward:at}=((O,V,xe,Q,ve)=>{const ge=z(Q,xe),oe=j(ve),le=j(Q),Ae=z(ve,xe),ce=null!==ge&&null!==oe&&!xe,We=null!==le&&null!==Ae&&xe;if(ce){const he=oe.getBoundingClientRect(),Ce=ge.getBoundingClientRect();te(O,V,xe,oe,he,Ce),Z(O,V,xe,ge,he,Ce)}else if(We){const he=le.getBoundingClientRect(),Ce=Ae.getBoundingClientRect();te(O,V,xe,le,he,Ce),Z(O,V,xe,Ae,he,Ce)}return{forward:ce,backward:We}})(ke,le,Ce,We,he);if(Ne.forEach(It=>{const je=(0,T.c)();je.addElement(It),ke.addAnimation(je);const L=(0,T.c)();L.addElement(It.querySelector("ion-title"));const B=(0,T.c)(),W=Array.from(It.querySelectorAll("ion-buttons,[menuToggle]")),fe=It.closest("ion-header"),Te=fe?.classList.contains("header-collapse-condense-inactive");let Re;Re=W.filter(Ce?Lt=>{const Tn=Lt.classList.contains("buttons-collapse");return Tn&&!Te||!Tn}:Lt=>!Lt.classList.contains("buttons-collapse")),B.addElement(Re);const tt=(0,T.c)();tt.addElement(It.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ke=(0,T.c)();Ke.addElement(K(It).querySelector(".toolbar-background"));const et=(0,T.c)(),At=It.querySelector("ion-back-button");if(At&&et.addElement(At),je.addAnimation([L,B,tt,Ke,et]),B.fromTo(Q,.01,1),tt.fromTo(Q,.01,1),Ce)Te||L.fromTo("transform",`translateX(${ce})`,`translateX(${ge})`).fromTo(Q,.01,1),tt.fromTo("transform",`translateX(${ce})`,`translateX(${ge})`),et.fromTo(Q,.01,1);else if(ze||L.fromTo("transform",`translateX(${Ae})`,`translateX(${ge})`).fromTo(Q,.01,1),tt.fromTo("transform",`translateX(${Ae})`,`translateX(${ge})`),Ke.beforeClearStyles([Q,"transform"]),fe?.translucent?Ke.fromTo("transform",le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ke.fromTo(Q,.01,"var(--opacity)"),qe||et.fromTo(Q,.01,1),At&&!qe){const Tn=(0,T.c)();Tn.addElement(K(At).querySelector(".button-text")).fromTo("transform",le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),je.addAnimation(Tn)}}),he){const It=(0,T.c)(),je=he.querySelector(":scope > ion-content"),L=he.querySelectorAll(":scope > ion-header > ion-toolbar"),B=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(je||0!==L.length||0!==B.length?(It.addElement(je),It.addElement(B)):It.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ke.addAnimation(It),Ce){It.beforeClearStyles([Q]).fromTo("transform",`translateX(${ge})`,le?"translateX(-100%)":"translateX(100%)");const W=(0,d.g)(he);ke.afterAddWrite(()=>{"normal"===ke.getDirection()&&W.style.setProperty("display","none")})}else It.fromTo("transform",`translateX(${ge})`,`translateX(${ce})`).fromTo(Q,1,.8);if(je){const W=K(je).querySelector(".transition-effect");if(W){const fe=W.querySelector(".transition-cover"),Te=W.querySelector(".transition-shadow"),Re=(0,T.c)(),tt=(0,T.c)(),Ke=(0,T.c)();Re.addElement(W).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tt.addElement(fe).beforeClearStyles([Q]).fromTo(Q,.1,0),Ke.addElement(Te).beforeClearStyles([Q]).fromTo(Q,.7,.03),Re.addAnimation([tt,Ke]),It.addAnimation([Re])}}L.forEach(W=>{const fe=(0,T.c)();fe.addElement(W);const Te=(0,T.c)();Te.addElement(W.querySelector("ion-title"));const Re=(0,T.c)(),tt=W.querySelectorAll("ion-buttons,[menuToggle]"),Ke=W.closest("ion-header"),et=Ke?.classList.contains("header-collapse-condense-inactive"),At=Array.from(tt).filter(Er=>{const Zn=Er.classList.contains("buttons-collapse");return Zn&&!et||!Zn});Re.addElement(At);const Lt=(0,T.c)(),Tn=W.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Tn.length>0&&Lt.addElement(Tn);const on=(0,T.c)();on.addElement(K(W).querySelector(".toolbar-background"));const pe=(0,T.c)(),zr=W.querySelector("ion-back-button");if(zr&&pe.addElement(zr),fe.addAnimation([Te,Re,Lt,pe,on]),ke.addAnimation(fe),pe.fromTo(Q,.99,0),Re.fromTo(Q,.99,0),Lt.fromTo(Q,.99,0),Ce){if(et||Te.fromTo("transform",`translateX(${ge})`,le?"translateX(-100%)":"translateX(100%)").fromTo(Q,.99,0),Lt.fromTo("transform",`translateX(${ge})`,le?"translateX(-100%)":"translateX(100%)"),on.beforeClearStyles([Q,"transform"]),Ke?.translucent?on.fromTo("transform","translateX(0px)",le?"translateX(-100%)":"translateX(100%)"):on.fromTo(Q,"var(--opacity)",0),zr&&!at){const Zn=(0,T.c)();Zn.addElement(K(zr).querySelector(".button-text")).fromTo("transform",`translateX(${ge})`,`translateX(${(le?-124:124)+"px"})`),fe.addAnimation(Zn)}}else et||Te.fromTo("transform",`translateX(${ge})`,`translateX(${ce})`).fromTo(Q,.99,0).afterClearStyles([ve,Q]),Lt.fromTo("transform",`translateX(${ge})`,`translateX(${ce})`).afterClearStyles([ve,Q]),pe.afterClearStyles([Q]),Te.afterClearStyles([Q]),Re.afterClearStyles([Q])})}return ke}catch(xe){throw xe}}},932:(Oe,Ge,R)=>{"use strict";R.r(Ge),R.d(Ge,{mdTransitionAnimation:()=>ee});var T=R(2597),d=R(4736);R(9479);const ee=(q,K)=>{const ye="back"===K.direction,te=K.leavingEl,$=(0,d.g)(K.enteringEl),O=$.querySelector("ion-toolbar"),V=(0,T.c)();if(V.addElement($).fill("both").beforeRemoveClass("ion-page-invisible"),ye?V.duration(K.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):V.duration(K.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),O){const xe=(0,T.c)();xe.addElement(O),V.addAnimation(xe)}if(te&&ye){V.duration(K.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const xe=(0,T.c)();xe.addElement((0,d.g)(te)).onFinish(Q=>{1===Q&&xe.elements.length>0&&xe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),V.addAnimation(xe)}return V}},9703:(Oe,Ge,R)=>{"use strict";R.d(Ge,{B:()=>B,a:()=>z,b:()=>ye,c:()=>O,d:()=>He,e:()=>xe,f:()=>ke,g:()=>qe,h:()=>K,i:()=>It,j:()=>ge,k:()=>Ce,l:()=>Z,m:()=>te,s:()=>L});var T=R(3918),d=R(537),ne=R(159),ee=R(9158);let q=0;const K=new WeakMap,j=W=>({create:fe=>Q(W,fe),dismiss:(fe,Te,Re)=>We(document,fe,Te,W,Re),getTop:()=>(0,T.Z)(function*(){return Ce(document,W)})()}),z=j("ion-alert"),ye=j("ion-action-sheet"),Z=j("ion-loading"),te=j("ion-modal"),O=j("ion-popover"),xe=W=>{typeof document<"u"&&ce(document);const fe=q++;W.overlayIndex=fe,W.hasAttribute("id")||(W.id=`ion-overlay-${fe}`)},Q=(W,fe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(W).then(()=>{const Te=document.createElement(W);return Te.classList.add("overlay-hidden"),Object.assign(Te,Object.assign(Object.assign({},fe),{hasController:!0})),X(document).appendChild(Te),new Promise(Re=>(0,ee.c)(Te,Re))}):Promise.resolve(),ve='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ge=(W,fe)=>{let Te=W.querySelector(ve);const Re=Te?.shadowRoot;Re&&(Te=Re.querySelector(ve)||Te),Te?(0,ee.f)(Te):fe.focus()},le=(W,fe)=>{const Te=Array.from(W.querySelectorAll(ve));let Re=Te.length>0?Te[Te.length-1]:null;const tt=Re?.shadowRoot;tt&&(Re=tt.querySelector(ve)||Re),Re?Re.focus():fe.focus()},ce=W=>{0===q&&(q=1,W.addEventListener("focus",fe=>{((W,fe)=>{const Te=Ce(fe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Re=W.target;Te&&Re&&!Te.classList.contains("ion-disable-focus-trap")&&(Te.shadowRoot?(()=>{if(Te.contains(Re))Te.lastFocus=Re;else{const et=Te.lastFocus;ge(Te,Te),et===fe.activeElement&&le(Te,Te),Te.lastFocus=fe.activeElement}})():(()=>{if(Te===Re)Te.lastFocus=void 0;else{const et=(0,ee.g)(Te);if(!et.contains(Re))return;const At=et.querySelector(".ion-overlay-wrapper");if(!At)return;if(At.contains(Re))Te.lastFocus=Re;else{const Lt=Te.lastFocus;ge(At,Te),Lt===fe.activeElement&&le(At,Te),Te.lastFocus=fe.activeElement}}})())})(fe,W)},!0),W.addEventListener("ionBackButton",fe=>{const Te=Ce(W);Te?.backdropDismiss&&fe.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>Te.dismiss(void 0,B))}),W.addEventListener("keyup",fe=>{if("Escape"===fe.key){const Te=Ce(W);Te?.backdropDismiss&&Te.dismiss(void 0,B)}}))},We=(W,fe,Te,Re,tt)=>{const Ke=Ce(W,Re,tt);return Ke?Ke.dismiss(fe,Te):Promise.reject("overlay does not exist")},Ce=(W,fe,Te)=>{const Re=((W,fe)=>(void 0===fe&&(fe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(W.querySelectorAll(fe)).filter(Te=>Te.overlayIndex>0)))(W,fe).filter(tt=>!(W=>W.classList.contains("overlay-hidden"))(tt));return void 0===Te?Re[Re.length-1]:Re.find(tt=>tt.id===Te)},Me=(W=!1)=>{const Te=X(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Te||(W?Te.setAttribute("aria-hidden","true"):Te.removeAttribute("aria-hidden"))},He=function(){var W=(0,T.Z)(function*(fe,Te,Re,tt,Ke){var et,At;if(fe.presented)return;Me(!0),fe.presented=!0,fe.willPresent.emit(),null===(et=fe.willPresentShorthand)||void 0===et||et.emit();const Lt=(0,d.b)(fe),Tn=fe.enterAnimation?fe.enterAnimation:d.c.get(Te,"ios"===Lt?Re:tt);(yield ze(fe,Tn,fe.el,Ke))&&(fe.didPresent.emit(),null===(At=fe.didPresentShorthand)||void 0===At||At.emit()),"ION-TOAST"!==fe.el.tagName&&Ne(fe.el),fe.keyboardClose&&(null===document.activeElement||!fe.el.contains(document.activeElement))&&fe.el.focus()});return function(Te,Re,tt,Ke,et){return W.apply(this,arguments)}}(),Ne=function(){var W=(0,T.Z)(function*(fe){let Te=document.activeElement;if(!Te)return;const Re=Te?.shadowRoot;Re&&(Te=Re.querySelector(ve)||Te),yield fe.onDidDismiss(),Te.focus()});return function(Te){return W.apply(this,arguments)}}(),ke=function(){var W=(0,T.Z)(function*(fe,Te,Re,tt,Ke,et,At){var Lt,Tn;if(!fe.presented)return!1;Me(!1),fe.presented=!1;try{fe.el.style.setProperty("pointer-events","none"),fe.willDismiss.emit({data:Te,role:Re}),null===(Lt=fe.willDismissShorthand)||void 0===Lt||Lt.emit({data:Te,role:Re});const on=(0,d.b)(fe),pe=fe.leaveAnimation?fe.leaveAnimation:d.c.get(tt,"ios"===on?Ke:et);"gesture"!==Re&&(yield ze(fe,pe,fe.el,At)),fe.didDismiss.emit({data:Te,role:Re}),null===(Tn=fe.didDismissShorthand)||void 0===Tn||Tn.emit({data:Te,role:Re}),K.delete(fe),fe.el.classList.add("overlay-hidden"),fe.el.style.removeProperty("pointer-events")}catch(on){console.error(on)}return fe.el.remove(),!0});return function(Te,Re,tt,Ke,et,At,Lt){return W.apply(this,arguments)}}(),X=W=>W.querySelector("ion-app")||W.body,ze=function(){var W=(0,T.Z)(function*(fe,Te,Re,tt){Re.classList.remove("overlay-hidden");const et=Te(fe.el,tt);(!fe.animated||!d.c.getBoolean("animated",!0))&&et.duration(0),fe.keyboardClose&&et.beforeAddWrite(()=>{const Lt=Re.ownerDocument.activeElement;Lt?.matches("input,ion-input, ion-textarea")&&Lt.blur()});const At=K.get(fe)||[];return K.set(fe,[...At,et]),yield et.play(),!0});return function(Te,Re,tt,Ke){return W.apply(this,arguments)}}(),qe=(W,fe)=>{let Te;const Re=new Promise(tt=>Te=tt);return at(W,fe,tt=>{Te(tt.detail)}),Re},at=(W,fe,Te)=>{const Re=tt=>{(0,ee.b)(W,fe,Re),Te(tt)};(0,ee.a)(W,fe,Re)},It=W=>"cancel"===W||W===B,je=W=>W(),L=(W,fe)=>{if("function"==typeof W)return d.c.get("_zoneGate",je)(()=>{try{return W(fe)}catch(Re){throw Re}})},B="backdrop"},4263:(Oe,Ge,R)=>{"use strict";var T=R(9903),d=R(3855),ne=d(T("String.prototype.indexOf"));Oe.exports=function(q,K){var j=T(q,!!K);return"function"==typeof j&&ne(q,".prototype.")>-1?d(j):j}},3855:(Oe,Ge,R)=>{"use strict";var T=R(224),d=R(9903),ne=d("%Function.prototype.apply%"),ee=d("%Function.prototype.call%"),q=d("%Reflect.apply%",!0)||T.call(ee,ne),K=d("%Object.getOwnPropertyDescriptor%",!0),j=d("%Object.defineProperty%",!0),z=d("%Math.max%");if(j)try{j({},"a",{value:1})}catch{j=null}Oe.exports=function(te){var $=q(T,ee,arguments);if(K&&j){var O=K($,"length");O.configurable&&j($,"length",{value:1+z(0,te.length-(arguments.length-1))})}return $};var ye=function(){return q(T,ne,arguments)};j?j(Oe.exports,"apply",{value:ye}):Oe.exports.apply=ye},5107:Oe=>{var Ge={utf8:{stringToBytes:function(R){return Ge.bin.stringToBytes(unescape(encodeURIComponent(R)))},bytesToString:function(R){return decodeURIComponent(escape(Ge.bin.bytesToString(R)))}},bin:{stringToBytes:function(R){for(var T=[],d=0;d<R.length;d++)T.push(255&R.charCodeAt(d));return T},bytesToString:function(R){for(var T=[],d=0;d<R.length;d++)T.push(String.fromCharCode(R[d]));return T.join("")}}};Oe.exports=Ge},7175:Oe=>{var Ge,R;Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oe.exports=R={rotl:function(T,d){return T<<d|T>>>32-d},rotr:function(T,d){return T<<32-d|T>>>d},endian:function(T){if(T.constructor==Number)return 16711935&R.rotl(T,8)|4278255360&R.rotl(T,24);for(var d=0;d<T.length;d++)T[d]=R.endian(T[d]);return T},randomBytes:function(T){for(var d=[];T>0;T--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(T){for(var d=[],ne=0,ee=0;ne<T.length;ne++,ee+=8)d[ee>>>5]|=T[ne]<<24-ee%32;return d},wordsToBytes:function(T){for(var d=[],ne=0;ne<32*T.length;ne+=8)d.push(T[ne>>>5]>>>24-ne%32&255);return d},bytesToHex:function(T){for(var d=[],ne=0;ne<T.length;ne++)d.push((T[ne]>>>4).toString(16)),d.push((15&T[ne]).toString(16));return d.join("")},hexToBytes:function(T){for(var d=[],ne=0;ne<T.length;ne+=2)d.push(parseInt(T.substr(ne,2),16));return d},bytesToBase64:function(T){for(var d=[],ne=0;ne<T.length;ne+=3)for(var ee=T[ne]<<16|T[ne+1]<<8|T[ne+2],q=0;q<4;q++)d.push(8*ne+6*q<=8*T.length?Ge.charAt(ee>>>6*(3-q)&63):"=");return d.join("")},base64ToBytes:function(T){T=T.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],ne=0,ee=0;ne<T.length;ee=++ne%4)0!=ee&&d.push((Ge.indexOf(T.charAt(ne-1))&Math.pow(2,-2*ee+8)-1)<<2*ee|Ge.indexOf(T.charAt(ne))>>>6-2*ee);return d}}},5541:(Oe,Ge,R)=>{"use strict";var T=R(2093),d=R(9102),ne=R(5734),ee=R(6687),q=R(8704),K=R(8266),j=R(4666),z=R(2086),ye=R(9903),Z=R(4263),te=R(2107),$=R(2069),O=R(8432),V=R(5709),xe=R(6189),Q=Z("Date.prototype.getTime"),ve=Object.getPrototypeOf,ge=Z("Object.prototype.toString"),oe=ye("%Set%",!0),le=Z("Map.prototype.has",!0),Ae=Z("Map.prototype.get",!0),ce=Z("Map.prototype.size",!0),We=Z("Set.prototype.add",!0),he=Z("Set.prototype.delete",!0),Ce=Z("Set.prototype.has",!0),Me=Z("Set.prototype.size",!0);function He(B,W,fe,Te){for(var tt,Re=$(B);(tt=Re.next())&&!tt.done;)if(qe(W,tt.value,fe,Te))return he(B,tt.value),!0;return!1}function Ne(B){return typeof B>"u"?null:"object"!=typeof B?"symbol"!=typeof B&&("string"!=typeof B&&"number"!=typeof B||+B==+B):void 0}function ke(B,W,fe,Te,Re,tt){var Ke=Ne(fe);if(null!=Ke)return Ke;var et=Ae(W,Ke),At=xe({},Re,{strict:!1});return!(typeof et>"u"&&!le(W,Ke)||!qe(Te,et,At,tt))&&!le(B,Ke)&&qe(Te,et,At,tt)}function X(B,W,fe){var Te=Ne(fe);return Te??(Ce(W,Te)&&!Ce(B,Te))}function ze(B,W,fe,Te,Re,tt){for(var et,At,Ke=$(B);(et=Ke.next())&&!et.done;)if(qe(fe,At=et.value,Re,tt)&&qe(Te,Ae(W,At),Re,tt))return he(B,At),!0;return!1}function qe(B,W,fe,Te){var Re=fe||{};if(Re.strict?ne(B,W):B===W)return!0;if(z(B)!==z(W))return!1;if(!B||!W||"object"!=typeof B&&"object"!=typeof W)return Re.strict?ne(B,W):B==W;var Lt,et=Te.has(B),At=Te.has(W);if(et&&At){if(Te.get(B)===Te.get(W))return!0}else Lt={};return et||Te.set(B,Lt),At||Te.set(W,Lt),function L(B,W,fe,Te){var Re,tt;if(typeof B!=typeof W||null==B||null==W||ge(B)!==ge(W)||d(B)!==d(W))return!1;if(K(B)!==K(W))return!1;var At=B instanceof Error,Lt=W instanceof Error;if(At!==Lt||(At||Lt)&&(B.name!==W.name||B.message!==W.message))return!1;var Tn=ee(B),on=ee(W);if(Tn!==on||(Tn||on)&&(B.source!==W.source||q(B)!==q(W)))return!1;var pe=j(B),zr=j(W);if(pe!==zr||(pe||zr)&&Q(B)!==Q(W)||fe.strict&&ve&&ve(B)!==ve(W)||V(B)!==V(W))return!1;var Er=at(B),Zn=at(W);if(Er!==Zn)return!1;if(Er||Zn){if(B.length!==W.length)return!1;for(Re=0;Re<B.length;Re++)if(B[Re]!==W[Re])return!1;return!0}if(typeof B!=typeof W)return!1;var io=T(B),Jr=T(W);if(io.length!==Jr.length)return!1;for(io.sort(),Jr.sort(),Re=io.length-1;Re>=0;Re--)if(io[Re]!=Jr[Re])return!1;for(Re=io.length-1;Re>=0;Re--)if(!qe(B[tt=io[Re]],W[tt],fe,Te))return!1;var Mr=te(B),Hn=te(W);return Mr===Hn&&("Set"===Mr||"Set"===Hn?function It(B,W,fe,Te){if(Me(B)!==Me(W))return!1;for(var Ke,et,At,Re=$(B),tt=$(W);(Ke=Re.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value)At||(At=new oe),We(At,Ke.value);else if(!Ce(W,Ke.value)){if(fe.strict||!X(B,W,Ke.value))return!1;At||(At=new oe),We(At,Ke.value)}if(At){for(;(et=tt.next())&&!et.done;)if(et.value&&"object"==typeof et.value){if(!He(At,et.value,fe.strict,Te))return!1}else if(!fe.strict&&!Ce(B,et.value)&&!He(At,et.value,fe.strict,Te))return!1;return 0===Me(At)}return!0}(B,W,fe,Te):"Map"!==Mr||function je(B,W,fe,Te){if(ce(B)!==ce(W))return!1;for(var Ke,et,At,Lt,Tn,on,Re=$(B),tt=$(W);(Ke=Re.next())&&!Ke.done;)if(Tn=Ke.value[1],(Lt=Ke.value[0])&&"object"==typeof Lt)At||(At=new oe),We(At,Lt);else if(typeof(on=Ae(W,Lt))>"u"&&!le(W,Lt)||!qe(Tn,on,fe,Te)){if(fe.strict||!ke(B,W,Lt,Tn,fe,Te))return!1;At||(At=new oe),We(At,Lt)}if(At){for(;(et=tt.next())&&!et.done;)if(on=et.value[1],(Lt=et.value[0])&&"object"==typeof Lt){if(!ze(At,B,Lt,on,fe,Te))return!1}else if(!(fe.strict||B.has(Lt)&&qe(Ae(B,Lt),on,fe,Te)||ze(At,B,Lt,on,xe({},fe,{strict:!1}),Te)))return!1;return 0===Me(At)}return!0}(B,W,fe,Te))}(B,W,Re,Te)}function at(B){return!(!B||"object"!=typeof B||"number"!=typeof B.length||"function"!=typeof B.copy||"function"!=typeof B.slice||B.length>0&&"number"!=typeof B[0]||!(B.constructor&&B.constructor.isBuffer&&B.constructor.isBuffer(B)))}Oe.exports=function(W,fe,Te){return qe(W,fe,Te,O())}},1790:(Oe,Ge,R)=>{"use strict";var T=R(2093),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ne=Object.prototype.toString,ee=Array.prototype.concat,q=Object.defineProperty,j=R(9006)(),z=q&&j,ye=function(te,$,O,V){$ in te&&(!function(te){return"function"==typeof te&&"[object Function]"===ne.call(te)}(V)||!V())||(z?q(te,$,{configurable:!0,enumerable:!1,value:O,writable:!0}):te[$]=O)},Z=function(te,$){var O=arguments.length>2?arguments[2]:{},V=T($);d&&(V=ee.call(V,Object.getOwnPropertySymbols($)));for(var xe=0;xe<V.length;xe+=1)ye(te,V[xe],$[V[xe]],O[V[xe]])};Z.supportsDescriptors=!!z,Oe.exports=Z},9897:function(Oe,Ge){!function(R){"use strict";var $,ne=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ee=536870912,q=2*ee,j=new WeakMap,ye=function($,O){return function(V){var xe=O.get(V),Q=void 0===xe?V.size:xe<q?xe+1:0;if(!V.has(Q))return $(V,Q);if(V.size<ee){for(;V.has(Q);)Q=Math.floor(Math.random()*q);return $(V,Q)}if(V.size>ne)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(Q);)Q=Math.floor(Math.random()*ne);return $(V,Q)}}(($=j,function(O,V){return $.set(O,V),V}),j),Z=function($){return function(O){var V=$(O);return O.add(V),V}}(ye);R.addUniqueNumber=Z,R.generateUniqueNumber=ye,Object.defineProperty(R,"__esModule",{value:!0})}(Ge)},3037:(Oe,Ge,R)=>{"use strict";var T=R(8642),d=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,ee=function(ye,Z,te){for(var $=0,O=ye.length;$<O;$++)ne.call(ye,$)&&(null==te?Z(ye[$],$,ye):Z.call(te,ye[$],$,ye))},q=function(ye,Z,te){for(var $=0,O=ye.length;$<O;$++)null==te?Z(ye.charAt($),$,ye):Z.call(te,ye.charAt($),$,ye)},K=function(ye,Z,te){for(var $ in ye)ne.call(ye,$)&&(null==te?Z(ye[$],$,ye):Z.call(te,ye[$],$,ye))};Oe.exports=function(ye,Z,te){if(!T(Z))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=te),"[object Array]"===d.call(ye)?ee(ye,Z,$):"string"==typeof ye?q(ye,Z,$):K(ye,Z,$)}},2199:Oe=>{"use strict";var Ge="Function.prototype.bind called on incompatible ",R=Array.prototype.slice,T=Object.prototype.toString,d="[object Function]";Oe.exports=function(ee){var q=this;if("function"!=typeof q||T.call(q)!==d)throw new TypeError(Ge+q);for(var j,K=R.call(arguments,1),z=function(){if(this instanceof j){var O=q.apply(this,K.concat(R.call(arguments)));return Object(O)===O?O:this}return q.apply(ee,K.concat(R.call(arguments)))},ye=Math.max(0,q.length-K.length),Z=[],te=0;te<ye;te++)Z.push("$"+te);if(j=Function("binder","return function ("+Z.join(",")+"){ return binder.apply(this,arguments); }")(z),q.prototype){var $=function(){};$.prototype=q.prototype,j.prototype=new $,$.prototype=null}return j}},224:(Oe,Ge,R)=>{"use strict";var T=R(2199);Oe.exports=Function.prototype.bind||T},3677:Oe=>{"use strict";var Ge=function(){return"string"==typeof function(){}.name},R=Object.getOwnPropertyDescriptor;if(R)try{R([],"length")}catch{R=null}Ge.functionsHaveConfigurableNames=function(){if(!Ge()||!R)return!1;var ne=R(function(){},"name");return!!ne&&!!ne.configurable};var T=Function.prototype.bind;Ge.boundFunctionsHaveNames=function(){return Ge()&&"function"==typeof T&&""!==function(){}.bind().name},Oe.exports=Ge},9903:(Oe,Ge,R)=>{"use strict";var T,d=SyntaxError,ne=Function,ee=TypeError,q=function(He){try{return ne('"use strict"; return ('+He+").constructor;")()}catch{}},K=Object.getOwnPropertyDescriptor;if(K)try{K({},"")}catch{K=null}var j=function(){throw new ee},z=K?function(){try{return j}catch{try{return K(arguments,"callee").get}catch{return j}}}():j,ye=R(524)(),Z=Object.getPrototypeOf||function(He){return He.__proto__},te={},$=typeof Uint8Array>"u"?T:Z(Uint8Array),O={"%AggregateError%":typeof AggregateError>"u"?T:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?T:ArrayBuffer,"%ArrayIteratorPrototype%":ye?Z([][Symbol.iterator]()):T,"%AsyncFromSyncIteratorPrototype%":T,"%AsyncFunction%":te,"%AsyncGenerator%":te,"%AsyncGeneratorFunction%":te,"%AsyncIteratorPrototype%":te,"%Atomics%":typeof Atomics>"u"?T:Atomics,"%BigInt%":typeof BigInt>"u"?T:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?T:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?T:Float32Array,"%Float64Array%":typeof Float64Array>"u"?T:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?T:FinalizationRegistry,"%Function%":ne,"%GeneratorFunction%":te,"%Int8Array%":typeof Int8Array>"u"?T:Int8Array,"%Int16Array%":typeof Int16Array>"u"?T:Int16Array,"%Int32Array%":typeof Int32Array>"u"?T:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ye?Z(Z([][Symbol.iterator]())):T,"%JSON%":"object"==typeof JSON?JSON:T,"%Map%":typeof Map>"u"?T:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ye?T:Z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?T:Promise,"%Proxy%":typeof Proxy>"u"?T:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?T:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?T:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ye?T:Z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?T:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ye?Z(""[Symbol.iterator]()):T,"%Symbol%":ye?Symbol:T,"%SyntaxError%":d,"%ThrowTypeError%":z,"%TypedArray%":$,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array>"u"?T:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?T:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?T:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?T:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?T:WeakMap,"%WeakRef%":typeof WeakRef>"u"?T:WeakRef,"%WeakSet%":typeof WeakSet>"u"?T:WeakSet},V=function He(Ne){var ke;if("%AsyncFunction%"===Ne)ke=q("async function () {}");else if("%GeneratorFunction%"===Ne)ke=q("function* () {}");else if("%AsyncGeneratorFunction%"===Ne)ke=q("async function* () {}");else if("%AsyncGenerator%"===Ne){var X=He("%AsyncGeneratorFunction%");X&&(ke=X.prototype)}else if("%AsyncIteratorPrototype%"===Ne){var ze=He("%AsyncGenerator%");ze&&(ke=Z(ze.prototype))}return O[Ne]=ke,ke},xe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Q=R(224),ve=R(4031),ge=Q.call(Function.call,Array.prototype.concat),oe=Q.call(Function.apply,Array.prototype.splice),le=Q.call(Function.call,String.prototype.replace),Ae=Q.call(Function.call,String.prototype.slice),ce=Q.call(Function.call,RegExp.prototype.exec),We=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,he=/\\(\\)?/g,Ce=function(Ne){var ke=Ae(Ne,0,1),X=Ae(Ne,-1);if("%"===ke&&"%"!==X)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===X&&"%"!==ke)throw new d("invalid intrinsic syntax, expected opening `%`");var ze=[];return le(Ne,We,function(qe,at,It,je){ze[ze.length]=It?le(je,he,"$1"):at||qe}),ze},Me=function(Ne,ke){var ze,X=Ne;if(ve(xe,X)&&(X="%"+(ze=xe[X])[0]+"%"),ve(O,X)){var qe=O[X];if(qe===te&&(qe=V(X)),typeof qe>"u"&&!ke)throw new ee("intrinsic "+Ne+" exists, but is not available. Please file an issue!");return{alias:ze,name:X,value:qe}}throw new d("intrinsic "+Ne+" does not exist!")};Oe.exports=function(Ne,ke){if("string"!=typeof Ne||0===Ne.length)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ke)throw new ee('"allowMissing" argument must be a boolean');if(null===ce(/^%?[^%]*%?$/g,Ne))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=Ce(Ne),ze=X.length>0?X[0]:"",qe=Me("%"+ze+"%",ke),at=qe.name,It=qe.value,je=!1,L=qe.alias;L&&(ze=L[0],oe(X,ge([0,1],L)));for(var B=1,W=!0;B<X.length;B+=1){var fe=X[B],Te=Ae(fe,0,1),Re=Ae(fe,-1);if(('"'===Te||"'"===Te||"`"===Te||'"'===Re||"'"===Re||"`"===Re)&&Te!==Re)throw new d("property names with quotes must have matching quotes");if(("constructor"===fe||!W)&&(je=!0),ve(O,at="%"+(ze+="."+fe)+"%"))It=O[at];else if(null!=It){if(!(fe in It)){if(!ke)throw new ee("base intrinsic for "+Ne+" exists, but the property is not available.");return}if(K&&B+1>=X.length){var tt=K(It,fe);It=(W=!!tt)&&"get"in tt&&!("originalValue"in tt.get)?tt.get:It[fe]}else W=ve(It,fe),It=It[fe];W&&!je&&(O[at]=It)}}return It}},5861:Oe=>{"use strict";var Ge=typeof BigInt<"u"&&BigInt;Oe.exports=function(){return"function"==typeof Ge&&"function"==typeof BigInt&&"bigint"==typeof Ge(42)&&"bigint"==typeof BigInt(42)}},9006:(Oe,Ge,R)=>{"use strict";var d=R(9903)("%Object.defineProperty%",!0),ne=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};ne.hasArrayLengthDefineBug=function(){if(!ne())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},Oe.exports=ne},524:(Oe,Ge,R)=>{"use strict";var T=typeof Symbol<"u"&&Symbol,d=R(6858);Oe.exports=function(){return"function"==typeof T&&"function"==typeof Symbol&&"symbol"==typeof T("foo")&&"symbol"==typeof Symbol("bar")&&d()}},6858:Oe=>{"use strict";Oe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},T=Symbol("test"),d=Object(T);if("string"==typeof T||"[object Symbol]"!==Object.prototype.toString.call(T)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(T in R[T]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var ee=Object.getOwnPropertySymbols(R);if(1!==ee.length||ee[0]!==T||!Object.prototype.propertyIsEnumerable.call(R,T))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var q=Object.getOwnPropertyDescriptor(R,T);if(42!==q.value||!0!==q.enumerable)return!1}return!0}},3261:(Oe,Ge,R)=>{"use strict";var T=R(6858);Oe.exports=function(){return T()&&!!Symbol.toStringTag}},4031:(Oe,Ge,R)=>{"use strict";var T=R(224);Oe.exports=T.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Oe,Ge,R)=>{"use strict";var T=R(3261)(),ne=R(4263)("Object.prototype.toString"),ee=function(z){return!(T&&z&&"object"==typeof z&&Symbol.toStringTag in z)&&"[object Arguments]"===ne(z)},q=function(z){return!!ee(z)||null!==z&&"object"==typeof z&&"number"==typeof z.length&&z.length>=0&&"[object Array]"!==ne(z)&&"[object Function]"===ne(z.callee)},K=function(){return ee(arguments)}();ee.isLegacyArguments=q,Oe.exports=K?ee:q},3:(Oe,Ge,R)=>{"use strict";if(R(5861)()){var d=BigInt.prototype.valueOf;Oe.exports=function(q){return!(null===q||typeof q>"u"||"boolean"==typeof q||"string"==typeof q||"number"==typeof q||"symbol"==typeof q||"function"==typeof q)&&("bigint"==typeof q||function(q){try{return d.call(q),!0}catch{}return!1}(q))}}else Oe.exports=function(q){return!1}},6180:(Oe,Ge,R)=>{"use strict";var T=R(4263),d=T("Boolean.prototype.toString"),ne=T("Object.prototype.toString"),K=R(3261)();Oe.exports=function(z){return"boolean"==typeof z||null!==z&&"object"==typeof z&&(K&&Symbol.toStringTag in z?function(z){try{return d(z),!0}catch{return!1}}(z):"[object Boolean]"===ne(z))}},5057:Oe=>{function Ge(T){return!!T.constructor&&"function"==typeof T.constructor.isBuffer&&T.constructor.isBuffer(T)}Oe.exports=function(T){return null!=T&&(Ge(T)||function R(T){return"function"==typeof T.readFloatLE&&"function"==typeof T.slice&&Ge(T.slice(0,0))}(T)||!!T._isBuffer)}},8642:Oe=>{"use strict";var T,d,Ge=Function.prototype.toString,R="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof R&&"function"==typeof Object.defineProperty)try{T=Object.defineProperty({},"length",{get:function(){throw d}}),d={},R(function(){throw 42},null,T)}catch(te){te!==d&&(R=null)}else R=null;var ne=/^\s*class\b/,ee=function($){try{var O=Ge.call($);return ne.test(O)}catch{return!1}},K=Object.prototype.toString,ye="function"==typeof Symbol&&!!Symbol.toStringTag,Z="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};Oe.exports=R?function($){if($===Z)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;try{R($,null,T)}catch(O){if(O!==d)return!1}return!ee($)}:function($){if($===Z)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;if(ye)return function($){try{return!ee($)&&(Ge.call($),!0)}catch{return!1}}($);if(ee($))return!1;var O=K.call($);return"[object Function]"===O||"[object GeneratorFunction]"===O}},4666:(Oe,Ge,R)=>{"use strict";var T=Date.prototype.getDay,ne=Object.prototype.toString,q=R(3261)();Oe.exports=function(j){return"object"==typeof j&&null!==j&&(q?function(j){try{return T.call(j),!0}catch{return!1}}(j):"[object Date]"===ne.call(j))}},9898:Oe=>{"use strict";var T,Ge="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;Ge||(T=function(q){return!1});var d=Ge?Map.prototype.has:null,ne=R?Set.prototype.has:null;!T&&!d&&(T=function(q){return!1}),Oe.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(d.call(q),ne)try{ne.call(q)}catch{return!0}return q instanceof Ge}catch{}return!1}},1046:(Oe,Ge,R)=>{"use strict";var T=Number.prototype.toString,ne=Object.prototype.toString,q=R(3261)();Oe.exports=function(j){return"number"==typeof j||"object"==typeof j&&(q?function(j){try{return T.call(j),!0}catch{return!1}}(j):"[object Number]"===ne.call(j))}},6687:(Oe,Ge,R)=>{"use strict";var ne,ee,q,K,T=R(4263),d=R(3261)();if(d){ne=T("Object.prototype.hasOwnProperty"),ee=T("RegExp.prototype.exec"),q={};var j=function(){throw q};K={toString:j,valueOf:j},"symbol"==typeof Symbol.toPrimitive&&(K[Symbol.toPrimitive]=j)}var z=T("Object.prototype.toString"),ye=Object.getOwnPropertyDescriptor;Oe.exports=d?function($){if(!$||"object"!=typeof $)return!1;var O=ye($,"lastIndex");if(!O||!ne(O,"value"))return!1;try{ee($,K)}catch(xe){return xe===q}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===z($)}},3870:Oe=>{"use strict";var T,Ge="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;R||(T=function(q){return!1});var d=Ge?Map.prototype.has:null,ne=R?Set.prototype.has:null;!T&&!ne&&(T=function(q){return!1}),Oe.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(ne.call(q),d)try{d.call(q)}catch{return!0}return q instanceof R}catch{}return!1}},4764:(Oe,Ge,R)=>{"use strict";var T=String.prototype.valueOf,ne=Object.prototype.toString,q=R(3261)();Oe.exports=function(j){return"string"==typeof j||"object"==typeof j&&(q?function(j){try{return T.call(j),!0}catch{return!1}}(j):"[object String]"===ne.call(j))}},6434:(Oe,Ge,R)=>{"use strict";var T=Object.prototype.toString;if(R(524)()){var ne=Symbol.prototype.toString,ee=/^Symbol\(.*\)$/;Oe.exports=function(j){if("symbol"==typeof j)return!0;if("[object Symbol]"!==T.call(j))return!1;try{return function(j){return"symbol"==typeof j.valueOf()&&ee.test(ne.call(j))}(j)}catch{return!1}}}else Oe.exports=function(j){return!1}},7673:(Oe,Ge,R)=>{"use strict";var T=R(3037),d=R(5271),ne=R(4263),ee=ne("Object.prototype.toString"),q=R(3261)(),K=typeof globalThis>"u"?global:globalThis,j=d(),z=ne("Array.prototype.indexOf",!0)||function(xe,Q){for(var ve=0;ve<xe.length;ve+=1)if(xe[ve]===Q)return ve;return-1},ye=ne("String.prototype.slice"),Z={},te=R(2292),$=Object.getPrototypeOf;q&&te&&$&&T(j,function(V){var xe=new K[V];if(Symbol.toStringTag in xe){var Q=$(xe),ve=te(Q,Symbol.toStringTag);if(!ve){var ge=$(Q);ve=te(ge,Symbol.toStringTag)}Z[V]=ve.get}}),Oe.exports=function(xe){if(!xe||"object"!=typeof xe)return!1;if(!q||!(Symbol.toStringTag in xe)){var Q=ye(ee(xe),8,-1);return z(j,Q)>-1}return!!te&&function(xe){var Q=!1;return T(Z,function(ve,ge){if(!Q)try{Q=ve.call(xe)===ge}catch{}}),Q}(xe)}},5585:Oe=>{"use strict";var T,Ge="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,R="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ge||(T=function(q){return!1});var d=Ge?Ge.prototype.has:null,ne=R?R.prototype.has:null;!T&&!d&&(T=function(q){return!1}),Oe.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(d.call(q,d),ne)try{ne.call(q,ne)}catch{return!0}return q instanceof Ge}catch{}return!1}},1902:(Oe,Ge,R)=>{"use strict";var T=R(9903),d=R(4263),ne=T("%WeakSet%",!0),ee=d("WeakSet.prototype.has",!0);if(ee){var q=d("WeakMap.prototype.has",!0);Oe.exports=function(j){if(!j||"object"!=typeof j)return!1;try{if(ee(j,ee),q)try{q(j,q)}catch{return!0}return j instanceof ne}catch{}return!1}}else Oe.exports=function(j){return!1}},8266:Oe=>{var Ge={}.toString;Oe.exports=Array.isArray||function(R){return"[object Array]"==Ge.call(R)}},5023:(Oe,Ge,R)=>{var T,d,ne,ee,q;T=R(7175),d=R(5107).utf8,ne=R(5057),ee=R(5107).bin,(q=function(K,j){K.constructor==String?K=j&&"binary"===j.encoding?ee.stringToBytes(K):d.stringToBytes(K):ne(K)?K=Array.prototype.slice.call(K,0):!Array.isArray(K)&&K.constructor!==Uint8Array&&(K=K.toString());for(var z=T.bytesToWords(K),ye=8*K.length,Z=1732584193,te=-271733879,$=-1732584194,O=271733878,V=0;V<z.length;V++)z[V]=16711935&(z[V]<<8|z[V]>>>24)|4278255360&(z[V]<<24|z[V]>>>8);z[ye>>>5]|=128<<ye%32,z[14+(ye+64>>>9<<4)]=ye;var xe=q._ff,Q=q._gg,ve=q._hh,ge=q._ii;for(V=0;V<z.length;V+=16){var oe=Z,le=te,Ae=$,ce=O;Z=xe(Z,te,$,O,z[V+0],7,-680876936),O=xe(O,Z,te,$,z[V+1],12,-389564586),$=xe($,O,Z,te,z[V+2],17,606105819),te=xe(te,$,O,Z,z[V+3],22,-1044525330),Z=xe(Z,te,$,O,z[V+4],7,-176418897),O=xe(O,Z,te,$,z[V+5],12,1200080426),$=xe($,O,Z,te,z[V+6],17,-1473231341),te=xe(te,$,O,Z,z[V+7],22,-45705983),Z=xe(Z,te,$,O,z[V+8],7,1770035416),O=xe(O,Z,te,$,z[V+9],12,-1958414417),$=xe($,O,Z,te,z[V+10],17,-42063),te=xe(te,$,O,Z,z[V+11],22,-1990404162),Z=xe(Z,te,$,O,z[V+12],7,1804603682),O=xe(O,Z,te,$,z[V+13],12,-40341101),$=xe($,O,Z,te,z[V+14],17,-1502002290),Z=Q(Z,te=xe(te,$,O,Z,z[V+15],22,1236535329),$,O,z[V+1],5,-165796510),O=Q(O,Z,te,$,z[V+6],9,-1069501632),$=Q($,O,Z,te,z[V+11],14,643717713),te=Q(te,$,O,Z,z[V+0],20,-373897302),Z=Q(Z,te,$,O,z[V+5],5,-701558691),O=Q(O,Z,te,$,z[V+10],9,38016083),$=Q($,O,Z,te,z[V+15],14,-660478335),te=Q(te,$,O,Z,z[V+4],20,-405537848),Z=Q(Z,te,$,O,z[V+9],5,568446438),O=Q(O,Z,te,$,z[V+14],9,-1019803690),$=Q($,O,Z,te,z[V+3],14,-187363961),te=Q(te,$,O,Z,z[V+8],20,1163531501),Z=Q(Z,te,$,O,z[V+13],5,-1444681467),O=Q(O,Z,te,$,z[V+2],9,-51403784),$=Q($,O,Z,te,z[V+7],14,1735328473),Z=ve(Z,te=Q(te,$,O,Z,z[V+12],20,-1926607734),$,O,z[V+5],4,-378558),O=ve(O,Z,te,$,z[V+8],11,-2022574463),$=ve($,O,Z,te,z[V+11],16,1839030562),te=ve(te,$,O,Z,z[V+14],23,-35309556),Z=ve(Z,te,$,O,z[V+1],4,-1530992060),O=ve(O,Z,te,$,z[V+4],11,1272893353),$=ve($,O,Z,te,z[V+7],16,-155497632),te=ve(te,$,O,Z,z[V+10],23,-1094730640),Z=ve(Z,te,$,O,z[V+13],4,681279174),O=ve(O,Z,te,$,z[V+0],11,-358537222),$=ve($,O,Z,te,z[V+3],16,-722521979),te=ve(te,$,O,Z,z[V+6],23,76029189),Z=ve(Z,te,$,O,z[V+9],4,-640364487),O=ve(O,Z,te,$,z[V+12],11,-421815835),$=ve($,O,Z,te,z[V+15],16,530742520),Z=ge(Z,te=ve(te,$,O,Z,z[V+2],23,-995338651),$,O,z[V+0],6,-198630844),O=ge(O,Z,te,$,z[V+7],10,1126891415),$=ge($,O,Z,te,z[V+14],15,-1416354905),te=ge(te,$,O,Z,z[V+5],21,-57434055),Z=ge(Z,te,$,O,z[V+12],6,1700485571),O=ge(O,Z,te,$,z[V+3],10,-1894986606),$=ge($,O,Z,te,z[V+10],15,-1051523),te=ge(te,$,O,Z,z[V+1],21,-2054922799),Z=ge(Z,te,$,O,z[V+8],6,1873313359),O=ge(O,Z,te,$,z[V+15],10,-30611744),$=ge($,O,Z,te,z[V+6],15,-1560198380),te=ge(te,$,O,Z,z[V+13],21,1309151649),Z=ge(Z,te,$,O,z[V+4],6,-145523070),O=ge(O,Z,te,$,z[V+11],10,-1120210379),$=ge($,O,Z,te,z[V+2],15,718787259),te=ge(te,$,O,Z,z[V+9],21,-343485551),Z=Z+oe>>>0,te=te+le>>>0,$=$+Ae>>>0,O=O+ce>>>0}return T.endian([Z,te,$,O])})._ff=function(K,j,z,ye,Z,te,$){var O=K+(j&z|~j&ye)+(Z>>>0)+$;return(O<<te|O>>>32-te)+j},q._gg=function(K,j,z,ye,Z,te,$){var O=K+(j&ye|z&~ye)+(Z>>>0)+$;return(O<<te|O>>>32-te)+j},q._hh=function(K,j,z,ye,Z,te,$){var O=K+(j^z^ye)+(Z>>>0)+$;return(O<<te|O>>>32-te)+j},q._ii=function(K,j,z,ye,Z,te,$){var O=K+(z^(j|~ye))+(Z>>>0)+$;return(O<<te|O>>>32-te)+j},q._blocksize=16,q._digestsize=16,Oe.exports=function(K,j){if(null==K)throw new Error("Illegal argument "+K);var z=T.wordsToBytes(q(K,j));return j&&j.asBytes?z:j&&j.asString?ee.bytesToString(z):T.bytesToHex(z)}},9052:(Oe,Ge)=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var R=[];R[0]=function(){return function(){}},R[1]=function(ee,q){return typeof q>"u"?ee:function(j){ee(j,q)}};var ne=function(){function ee(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ee.prototype.addHandler=function(q,K){return this.isHandlerAttached(q,K)||(this._handlers.push(q),this._contexts.push(K),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.removeHandler=function(q,K){var j=this._getHandlerIndex(q,K);return typeof j<"u"&&(this._handlers.splice(j,1),this._contexts.splice(j,1),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.isHandlerAttached=function(q,K){return typeof this._getHandlerIndex(q,K)<"u"},ee.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ee.prototype._getHandlerIndex=function(q,K){var z,j=this._handlers.length;for(z=0;z<j&&(this._handlers[z]!==q||this._contexts[z]!==K);z++);return z<j?z:void 0},ee.prototype._createDispatcher=function(){this.dispatch=function T(ee){return R[ee]||(R[ee]=function d(ee){for(var q="return function dispatcher"+ee+"(payload) {\n",K=[],j=[],z=0;z<ee;z++)K.push("cb"+z),j.push("ctx"+z),q+="    cb"+z+"(payload, ctx"+z+");\n";return q+="};",new(Function.bind.apply(Function,[void 0].concat(K.concat(j),[q])))}(ee)),R[ee]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ee}();Ge.default=ne},1158:(Oe,Ge,R)=>{"use strict";var d=R(9052);Ge.j=d.default},8597:(Oe,Ge,R)=>{var T="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&T?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ne=T&&d&&"function"==typeof d.get?d.get:null,ee=T&&Map.prototype.forEach,q="function"==typeof Set&&Set.prototype,K=Object.getOwnPropertyDescriptor&&q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,j=q&&K&&"function"==typeof K.get?K.get:null,z=q&&Set.prototype.forEach,Z="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,V="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,xe=Boolean.prototype.valueOf,Q=Object.prototype.toString,ve=Function.prototype.toString,ge=String.prototype.match,oe=String.prototype.slice,le=String.prototype.replace,Ae=String.prototype.toUpperCase,ce=String.prototype.toLowerCase,We=RegExp.prototype.test,he=Array.prototype.concat,Ce=Array.prototype.join,Me=Array.prototype.slice,He=Math.floor,Ne="function"==typeof BigInt?BigInt.prototype.valueOf:null,ke=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ze="function"==typeof Symbol&&"object"==typeof Symbol.iterator,qe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,at=Object.prototype.propertyIsEnumerable,It=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function je(re,Be){if(re===1/0||re===-1/0||re!=re||re&&re>-1e3&&re<1e3||We.call(/e/,Be))return Be;var pn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof re){var bn=re<0?-He(-re):He(re);if(bn!==re){var Ft=String(bn),cn=oe.call(Be,Ft.length+1);return le.call(Ft,pn,"$&_")+"."+le.call(le.call(cn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return le.call(Be,pn,"$&_")}var L=R(4654),B=L.custom,W=on(B)?B:null;function fe(re,Be,pn){var bn="double"===(pn.quoteStyle||Be)?'"':"'";return bn+re+bn}function Te(re){return le.call(String(re),/"/g,"&quot;")}function Re(re){return!("[object Array]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}function Ke(re){return!("[object RegExp]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}function on(re){if(ze)return re&&"object"==typeof re&&re instanceof Symbol;if("symbol"==typeof re)return!0;if(!re||"object"!=typeof re||!X)return!1;try{return X.call(re),!0}catch{}return!1}Oe.exports=function re(Be,pn,bn,Ft){var cn=pn||{};if(Er(cn,"quoteStyle")&&"single"!==cn.quoteStyle&&"double"!==cn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Er(cn,"maxStringLength")&&("number"==typeof cn.maxStringLength?cn.maxStringLength<0&&cn.maxStringLength!==1/0:null!==cn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var er=!Er(cn,"customInspect")||cn.customInspect;if("boolean"!=typeof er&&"symbol"!==er)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Er(cn,"indent")&&null!==cn.indent&&"\t"!==cn.indent&&!(parseInt(cn.indent,10)===cn.indent&&cn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Er(cn,"numericSeparator")&&"boolean"!=typeof cn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Jt=cn.numericSeparator;if(typeof Be>"u")return"undefined";if(null===Be)return"null";if("boolean"==typeof Be)return Be?"true":"false";if("string"==typeof Be)return ar(Be,cn);if("number"==typeof Be){if(0===Be)return 1/0/Be>0?"0":"-0";var Yn=String(Be);return Jt?je(Be,Yn):Yn}if("bigint"==typeof Be){var lr=String(Be)+"n";return Jt?je(Be,lr):lr}var Vt=typeof cn.depth>"u"?5:cn.depth;if(typeof bn>"u"&&(bn=0),bn>=Vt&&Vt>0&&"object"==typeof Be)return Re(Be)?"[Array]":"[Object]";var tr=function vi(re,Be){var pn;if("\t"===re.indent)pn="\t";else{if(!("number"==typeof re.indent&&re.indent>0))return null;pn=Ce.call(Array(re.indent+1)," ")}return{base:pn,prev:Ce.call(Array(Be+1),pn)}}(cn,bn);if(typeof Ft>"u")Ft=[];else if(Jr(Ft,Be)>=0)return"[Circular]";function S(yo,D,qr){if(D&&(Ft=Me.call(Ft)).push(D),qr){var Br={depth:cn.depth};return Er(cn,"quoteStyle")&&(Br.quoteStyle=cn.quoteStyle),re(yo,Br,bn+1,Ft)}return re(yo,cn,bn+1,Ft)}if("function"==typeof Be&&!Ke(Be)){var kt=function io(re){if(re.name)return re.name;var Be=ge.call(ve.call(re),/^function\s*([\w$]+)/);return Be?Be[1]:null}(Be),hr=Je(Be,S);return"[Function"+(kt?": "+kt:" (anonymous)")+"]"+(hr.length>0?" { "+Ce.call(hr,", ")+" }":"")}if(on(Be)){var I=ze?le.call(String(Be),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(Be);return"object"!=typeof Be||ze?I:go(I)}if(function mo(re){return!(!re||"object"!=typeof re)&&(typeof HTMLElement<"u"&&re instanceof HTMLElement||"string"==typeof re.nodeName&&"function"==typeof re.getAttribute)}(Be)){for(var Pr="<"+ce.call(String(Be.nodeName)),so=Be.attributes||[],ao=0;ao<so.length;ao++)Pr+=" "+so[ao].name+"="+fe(Te(so[ao].value),"double",cn);return Pr+=">",Be.childNodes&&Be.childNodes.length&&(Pr+="..."),Pr+"</"+ce.call(String(Be.nodeName))+">"}if(Re(Be)){if(0===Be.length)return"[]";var Po=Je(Be,S);return tr&&!function Wr(re){for(var Be=0;Be<re.length;Be++)if(Jr(re[Be],"\n")>=0)return!1;return!0}(Po)?"["+Ar(Po,tr)+"]":"[ "+Ce.call(Po,", ")+" ]"}if(function et(re){return!("[object Error]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}(Be)){var _r=Je(Be,S);return"cause"in Error.prototype||!("cause"in Be)||at.call(Be,"cause")?0===_r.length?"["+String(Be)+"]":"{ ["+String(Be)+"] "+Ce.call(_r,", ")+" }":"{ ["+String(Be)+"] "+Ce.call(he.call("[cause]: "+S(Be.cause),_r),", ")+" }"}if("object"==typeof Be&&er){if(W&&"function"==typeof Be[W]&&L)return L(Be,{depth:Vt-bn});if("symbol"!==er&&"function"==typeof Be.inspect)return Be.inspect()}if(function Mr(re){if(!ne||!re||"object"!=typeof re)return!1;try{ne.call(re);try{j.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}(Be)){var Mo=[];return ee.call(Be,function(yo,D){Mo.push(S(D,Be,!0)+" => "+S(yo,Be))}),Sn("Map",ne.call(Be),Mo,tr)}if(function vr(re){if(!j||!re||"object"!=typeof re)return!1;try{j.call(re);try{ne.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}(Be)){var zt=[];return z.call(Be,function(yo){zt.push(S(yo,Be))}),Sn("Set",j.call(Be),zt,tr)}if(function Hn(re){if(!Z||!re||"object"!=typeof re)return!1;try{Z.call(re,Z);try{$.call(re,$)}catch{return!0}return re instanceof WeakMap}catch{}return!1}(Be))return $r("WeakMap");if(function yi(re){if(!$||!re||"object"!=typeof re)return!1;try{$.call(re,$);try{Z.call(re,Z)}catch{return!0}return re instanceof WeakSet}catch{}return!1}(Be))return $r("WeakSet");if(function sr(re){if(!V||!re||"object"!=typeof re)return!1;try{return V.call(re),!0}catch{}return!1}(Be))return $r("WeakRef");if(function Lt(re){return!("[object Number]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}(Be))return go(S(Number(Be)));if(function pe(re){if(!re||"object"!=typeof re||!Ne)return!1;try{return Ne.call(re),!0}catch{}return!1}(Be))return go(S(Ne.call(Be)));if(function Tn(re){return!("[object Boolean]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}(Be))return go(xe.call(Be));if(function At(re){return!("[object String]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}(Be))return go(S(String(Be)));if(!function tt(re){return!("[object Date]"!==Zn(re)||qe&&"object"==typeof re&&qe in re)}(Be)&&!Ke(Be)){var eo=Je(Be,S),nr=It?It(Be)===Object.prototype:Be instanceof Object||Be.constructor===Object,to=Be instanceof Object?"":"null prototype",no=!nr&&qe&&Object(Be)===Be&&qe in Be?oe.call(Zn(Be),8,-1):to?"Object":"",Xt=(nr||"function"!=typeof Be.constructor?"":Be.constructor.name?Be.constructor.name+" ":"")+(no||to?"["+Ce.call(he.call([],no||[],to||[]),": ")+"] ":"");return 0===eo.length?Xt+"{}":tr?Xt+"{"+Ar(eo,tr)+"}":Xt+"{ "+Ce.call(eo,", ")+" }"}return String(Be)};var zr=Object.prototype.hasOwnProperty||function(re){return re in this};function Er(re,Be){return zr.call(re,Be)}function Zn(re){return Q.call(re)}function Jr(re,Be){if(re.indexOf)return re.indexOf(Be);for(var pn=0,bn=re.length;pn<bn;pn++)if(re[pn]===Be)return pn;return-1}function ar(re,Be){if(re.length>Be.maxStringLength){var pn=re.length-Be.maxStringLength,bn="... "+pn+" more character"+(pn>1?"s":"");return ar(oe.call(re,0,Be.maxStringLength),Be)+bn}return fe(le.call(le.call(re,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qn),"single",Be)}function Qn(re){var Be=re.charCodeAt(0),pn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Be];return pn?"\\"+pn:"\\x"+(Be<16?"0":"")+Ae.call(Be.toString(16))}function go(re){return"Object("+re+")"}function $r(re){return re+" { ? }"}function Sn(re,Be,pn,bn){return re+" ("+Be+") {"+(bn?Ar(pn,bn):Ce.call(pn,", "))+"}"}function Ar(re,Be){if(0===re.length)return"";var pn="\n"+Be.prev+Be.base;return pn+Ce.call(re,","+pn)+"\n"+Be.prev}function Je(re,Be){var pn=Re(re),bn=[];if(pn){bn.length=re.length;for(var Ft=0;Ft<re.length;Ft++)bn[Ft]=Er(re,Ft)?Be(re[Ft],re):""}var er,cn="function"==typeof ke?ke(re):[];if(ze){er={};for(var Jt=0;Jt<cn.length;Jt++)er["$"+cn[Jt]]=cn[Jt]}for(var Yn in re)!Er(re,Yn)||pn&&String(Number(Yn))===Yn&&Yn<re.length||ze&&er["$"+Yn]instanceof Symbol||(We.call(/[^\w$]/,Yn)?bn.push(Be(Yn,re)+": "+Be(re[Yn],re)):bn.push(Yn+": "+Be(re[Yn],re)));if("function"==typeof ke)for(var lr=0;lr<cn.length;lr++)at.call(re,cn[lr])&&bn.push("["+Be(cn[lr])+"]: "+Be(re[cn[lr]],re));return bn}},6872:Oe=>{"use strict";var Ge=function(R){return R!=R};Oe.exports=function(T,d){return 0===T&&0===d?1/T==1/d:!!(T===d||Ge(T)&&Ge(d))}},5734:(Oe,Ge,R)=>{"use strict";var T=R(1790),d=R(3855),ne=R(6872),ee=R(3306),q=R(7715),K=d(ee(),Object);T(K,{getPolyfill:ee,implementation:ne,shim:q}),Oe.exports=K},3306:(Oe,Ge,R)=>{"use strict";var T=R(6872);Oe.exports=function(){return"function"==typeof Object.is?Object.is:T}},7715:(Oe,Ge,R)=>{"use strict";var T=R(3306),d=R(1790);Oe.exports=function(){var ee=T();return d(Object,{is:ee},{is:function(){return Object.is!==ee}}),ee}},7010:(Oe,Ge,R)=>{"use strict";var T;if(!Object.keys){var d=Object.prototype.hasOwnProperty,ne=Object.prototype.toString,ee=R(5185),q=Object.prototype.propertyIsEnumerable,K=!q.call({toString:null},"toString"),j=q.call(function(){},"prototype"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ye=function(O){var V=O.constructor;return V&&V.prototype===O},Z={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},te=function(){if(typeof window>"u")return!1;for(var O in window)try{if(!Z["$"+O]&&d.call(window,O)&&null!==window[O]&&"object"==typeof window[O])try{ye(window[O])}catch{return!0}}catch{return!0}return!1}();T=function(V){var xe=null!==V&&"object"==typeof V,Q="[object Function]"===ne.call(V),ve=ee(V),ge=xe&&"[object String]"===ne.call(V),oe=[];if(!xe&&!Q&&!ve)throw new TypeError("Object.keys called on a non-object");var le=j&&Q;if(ge&&V.length>0&&!d.call(V,0))for(var Ae=0;Ae<V.length;++Ae)oe.push(String(Ae));if(ve&&V.length>0)for(var ce=0;ce<V.length;++ce)oe.push(String(ce));else for(var We in V)(!le||"prototype"!==We)&&d.call(V,We)&&oe.push(String(We));if(K)for(var he=function(O){if(typeof window>"u"||!te)return ye(O);try{return ye(O)}catch{return!1}}(V),Ce=0;Ce<z.length;++Ce)(!he||"constructor"!==z[Ce])&&d.call(V,z[Ce])&&oe.push(z[Ce]);return oe}}Oe.exports=T},2093:(Oe,Ge,R)=>{"use strict";var T=Array.prototype.slice,d=R(5185),ne=Object.keys,ee=ne?function(j){return ne(j)}:R(7010),q=Object.keys;ee.shim=function(){if(Object.keys){var j=function(){var z=Object.keys(arguments);return z&&z.length===arguments.length}(1,2);j||(Object.keys=function(ye){return d(ye)?q(T.call(ye)):q(ye)})}else Object.keys=ee;return Object.keys||ee},Oe.exports=ee},5185:Oe=>{"use strict";var Ge=Object.prototype.toString;Oe.exports=function(T){var d=Ge.call(T),ne="[object Arguments]"===d;return ne||(ne="[object Array]"!==d&&null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Function]"===Ge.call(T.callee)),ne}},2461:(Oe,Ge,R)=>{"use strict";var T=R(2093),d=function(ye){return typeof ye<"u"&&null!==ye},ne=R(6858)(),ee=R(4263),q=Object,K=ee("Array.prototype.push"),j=ee("Object.prototype.propertyIsEnumerable"),z=ne?Object.getOwnPropertySymbols:null;Oe.exports=function(Z,te){if(!d(Z))throw new TypeError("target must be an object");var O,V,xe,Q,ve,ge,oe,$=q(Z);for(O=1;O<arguments.length;++O){V=q(arguments[O]),Q=T(V);var le=ne&&(Object.getOwnPropertySymbols||z);if(le)for(ve=le(V),xe=0;xe<ve.length;++xe)j(V,oe=ve[xe])&&K(Q,oe);for(xe=0;xe<Q.length;++xe)ge=V[oe=Q[xe]],j(V,oe)&&($[oe]=ge)}return $}},6189:(Oe,Ge,R)=>{"use strict";var T=R(1790),d=R(3855),ne=R(2461),ee=R(6255),q=R(152),K=d.apply(ee()),j=function(ye,Z){return K(Object,arguments)};T(j,{getPolyfill:ee,implementation:ne,shim:q}),Oe.exports=j},6255:(Oe,Ge,R)=>{"use strict";var T=R(2461);Oe.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ee="abcdefghijklmnopqrst",q=ee.split(""),K={},j=0;j<q.length;++j)K[q[j]]=q[j];var z=Object.assign({},K),ye="";for(var Z in z)ye+=Z;return ee!==ye}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ee=Object.preventExtensions({1:2});try{Object.assign(ee,"xy")}catch{return"y"===ee[1]}return!1}()?T:Object.assign}},152:(Oe,Ge,R)=>{"use strict";var T=R(1790),d=R(6255);Oe.exports=function(){var ee=d();return T(Object,{assign:ee},{assign:function(){return Object.assign!==ee}}),ee}},151:(Oe,Ge)=>{"use strict";var R=Object.prototype.hasOwnProperty;function d(K){try{return decodeURIComponent(K.replace(/\+/g," "))}catch{return null}}function ne(K){try{return encodeURIComponent(K)}catch{return null}}Ge.stringify=function q(K,j){j=j||"";var ye,Z,z=[];for(Z in"string"!=typeof j&&(j="?"),K)if(R.call(K,Z)){if(!(ye=K[Z])&&(null==ye||isNaN(ye))&&(ye=""),Z=ne(Z),ye=ne(ye),null===Z||null===ye)continue;z.push(Z+"="+ye)}return z.length?j+z.join("&"):""},Ge.parse=function ee(K){for(var ye,j=/([^=?#&]+)=?([^&]*)/g,z={};ye=j.exec(K);){var Z=d(ye[1]),te=d(ye[2]);null===Z||null===te||Z in z||(z[Z]=te)}return z}},4040:(Oe,Ge,R)=>{"use strict";var T=R(3677).functionsHaveConfigurableNames(),d=Object,ne=TypeError;Oe.exports=function(){if(null!=this&&this!==d(this))throw new ne("RegExp.prototype.flags getter called on non-object");var q="";return this.hasIndices&&(q+="d"),this.global&&(q+="g"),this.ignoreCase&&(q+="i"),this.multiline&&(q+="m"),this.dotAll&&(q+="s"),this.unicode&&(q+="u"),this.sticky&&(q+="y"),q},T&&Object.defineProperty&&Object.defineProperty(Oe.exports,"name",{value:"get flags"})},8704:(Oe,Ge,R)=>{"use strict";var T=R(1790),d=R(3855),ne=R(4040),ee=R(9783),q=R(9369),K=d(ee());T(K,{getPolyfill:ee,implementation:ne,shim:q}),Oe.exports=K},9783:(Oe,Ge,R)=>{"use strict";var T=R(4040),d=R(1790).supportsDescriptors,ne=Object.getOwnPropertyDescriptor;Oe.exports=function(){if(d&&"gim"===/a/gim.flags){var q=ne(RegExp.prototype,"flags");if(q&&"function"==typeof q.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var K="",j={};if(Object.defineProperty(j,"hasIndices",{get:function(){K+="d"}}),Object.defineProperty(j,"sticky",{get:function(){K+="y"}}),"dy"===K)return q.get}}return T}},9369:(Oe,Ge,R)=>{"use strict";var T=R(1790).supportsDescriptors,d=R(9783),ne=Object.getOwnPropertyDescriptor,ee=Object.defineProperty,q=TypeError,K=Object.getPrototypeOf,j=/a/;Oe.exports=function(){if(!T||!K)throw new q("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ye=d(),Z=K(j),te=ne(Z,"flags");return(!te||te.get!==ye)&&ee(Z,"flags",{configurable:!0,enumerable:!1,get:ye}),ye}},47:Oe=>{"use strict";Oe.exports=function(R,T){if(T=T.split(":")[0],!(R=+R))return!1;switch(T){case"http":case"ws":return 80!==R;case"https":case"wss":return 443!==R;case"ftp":return 21!==R;case"gopher":return 70!==R;case"file":return!1}return 0!==R}},8432:(Oe,Ge,R)=>{"use strict";var T=R(9903),d=R(4263),ne=R(8597),ee=T("%TypeError%"),q=T("%WeakMap%",!0),K=T("%Map%",!0),j=d("WeakMap.prototype.get",!0),z=d("WeakMap.prototype.set",!0),ye=d("WeakMap.prototype.has",!0),Z=d("Map.prototype.get",!0),te=d("Map.prototype.set",!0),$=d("Map.prototype.has",!0),O=function(ve,ge){for(var le,oe=ve;null!==(le=oe.next);oe=le)if(le.key===ge)return oe.next=le.next,le.next=ve.next,ve.next=le,le};Oe.exports=function(){var ge,oe,le,Ae={assert:function(ce){if(!Ae.has(ce))throw new ee("Side channel does not contain "+ne(ce))},get:function(ce){if(q&&ce&&("object"==typeof ce||"function"==typeof ce)){if(ge)return j(ge,ce)}else if(K){if(oe)return Z(oe,ce)}else if(le)return function(ve,ge){var oe=O(ve,ge);return oe&&oe.value}(le,ce)},has:function(ce){if(q&&ce&&("object"==typeof ce||"function"==typeof ce)){if(ge)return ye(ge,ce)}else if(K){if(oe)return $(oe,ce)}else if(le)return function(ve,ge){return!!O(ve,ge)}(le,ce);return!1},set:function(ce,We){q&&ce&&("object"==typeof ce||"function"==typeof ce)?(ge||(ge=new q),z(ge,ce,We)):K?(oe||(oe=new K),te(oe,ce,We)):(le||(le={key:{},next:null}),function(ve,ge,oe){var le=O(ve,ge);le?le.value=oe:ve.next={key:ge,next:ve.next,value:oe}}(le,ce,We))}};return Ae}},9233:(Oe,Ge,R)=>{"use strict";var T=R(47),d=R(151),ne=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ee=/[\n\r\t]/g,q=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,K=/:\d+$/,j=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,z=/^[a-zA-Z]:/;function ye(oe){return(oe||"").toString().replace(ne,"")}var Z=[["#","hash"],["?","query"],function(le,Ae){return O(Ae.protocol)?le.replace(/\\/g,"/"):le},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],te={hash:1,query:1};function $(oe){var le;le=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var he,ce={},We=typeof(oe=oe||le.location||{});if("blob:"===oe.protocol)ce=new Q(unescape(oe.pathname),{});else if("string"===We)for(he in ce=new Q(oe,{}),te)delete ce[he];else if("object"===We){for(he in oe)he in te||(ce[he]=oe[he]);void 0===ce.slashes&&(ce.slashes=q.test(oe.href))}return ce}function O(oe){return"file:"===oe||"ftp:"===oe||"http:"===oe||"https:"===oe||"ws:"===oe||"wss:"===oe}function V(oe,le){oe=(oe=ye(oe)).replace(ee,""),le=le||{};var Me,Ae=j.exec(oe),ce=Ae[1]?Ae[1].toLowerCase():"",We=!!Ae[2],he=!!Ae[3],Ce=0;return We?he?(Me=Ae[2]+Ae[3]+Ae[4],Ce=Ae[2].length+Ae[3].length):(Me=Ae[2]+Ae[4],Ce=Ae[2].length):he?(Me=Ae[3]+Ae[4],Ce=Ae[3].length):Me=Ae[4],"file:"===ce?Ce>=2&&(Me=Me.slice(2)):O(ce)?Me=Ae[4]:ce?We&&(Me=Me.slice(2)):Ce>=2&&O(le.protocol)&&(Me=Ae[4]),{protocol:ce,slashes:We||O(ce),slashesCount:Ce,rest:Me}}function Q(oe,le,Ae){if(oe=(oe=ye(oe)).replace(ee,""),!(this instanceof Q))return new Q(oe,le,Ae);var ce,We,he,Ce,Me,He,Ne=Z.slice(),ke=typeof le,X=this,ze=0;for("object"!==ke&&"string"!==ke&&(Ae=le,le=null),Ae&&"function"!=typeof Ae&&(Ae=d.parse),ce=!(We=V(oe||"",le=$(le))).protocol&&!We.slashes,X.slashes=We.slashes||ce&&le.slashes,X.protocol=We.protocol||le.protocol||"",oe=We.rest,("file:"===We.protocol&&(2!==We.slashesCount||z.test(oe))||!We.slashes&&(We.protocol||We.slashesCount<2||!O(X.protocol)))&&(Ne[3]=[/(.*)/,"pathname"]);ze<Ne.length;ze++)"function"!=typeof(Ce=Ne[ze])?(He=Ce[1],(he=Ce[0])!=he?X[He]=oe:"string"==typeof he?~(Me="@"===he?oe.lastIndexOf(he):oe.indexOf(he))&&("number"==typeof Ce[2]?(X[He]=oe.slice(0,Me),oe=oe.slice(Me+Ce[2])):(X[He]=oe.slice(Me),oe=oe.slice(0,Me))):(Me=he.exec(oe))&&(X[He]=Me[1],oe=oe.slice(0,Me.index)),X[He]=X[He]||ce&&Ce[3]&&le[He]||"",Ce[4]&&(X[He]=X[He].toLowerCase())):oe=Ce(oe,X);Ae&&(X.query=Ae(X.query)),ce&&le.slashes&&"/"!==X.pathname.charAt(0)&&(""!==X.pathname||""!==le.pathname)&&(X.pathname=function xe(oe,le){if(""===oe)return le;for(var Ae=(le||"/").split("/").slice(0,-1).concat(oe.split("/")),ce=Ae.length,We=Ae[ce-1],he=!1,Ce=0;ce--;)"."===Ae[ce]?Ae.splice(ce,1):".."===Ae[ce]?(Ae.splice(ce,1),Ce++):Ce&&(0===ce&&(he=!0),Ae.splice(ce,1),Ce--);return he&&Ae.unshift(""),("."===We||".."===We)&&Ae.push(""),Ae.join("/")}(X.pathname,le.pathname)),"/"!==X.pathname.charAt(0)&&O(X.protocol)&&(X.pathname="/"+X.pathname),T(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(~(Me=X.auth.indexOf(":"))?(X.username=X.auth.slice(0,Me),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(Me+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin="file:"!==X.protocol&&O(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}Q.prototype={set:function ve(oe,le,Ae){var ce=this;switch(oe){case"query":"string"==typeof le&&le.length&&(le=(Ae||d.parse)(le)),ce[oe]=le;break;case"port":ce[oe]=le,T(le,ce.protocol)?le&&(ce.host=ce.hostname+":"+le):(ce.host=ce.hostname,ce[oe]="");break;case"hostname":ce[oe]=le,ce.port&&(le+=":"+ce.port),ce.host=le;break;case"host":ce[oe]=le,K.test(le)?(le=le.split(":"),ce.port=le.pop(),ce.hostname=le.join(":")):(ce.hostname=le,ce.port="");break;case"protocol":ce.protocol=le.toLowerCase(),ce.slashes=!Ae;break;case"pathname":case"hash":if(le){var We="pathname"===oe?"/":"#";ce[oe]=le.charAt(0)!==We?We+le:le}else ce[oe]=le;break;case"username":case"password":ce[oe]=encodeURIComponent(le);break;case"auth":var he=le.indexOf(":");~he?(ce.username=le.slice(0,he),ce.username=encodeURIComponent(decodeURIComponent(ce.username)),ce.password=le.slice(he+1),ce.password=encodeURIComponent(decodeURIComponent(ce.password))):ce.username=encodeURIComponent(decodeURIComponent(le))}for(var Ce=0;Ce<Z.length;Ce++){var Me=Z[Ce];Me[4]&&(ce[Me[1]]=ce[Me[1]].toLowerCase())}return ce.auth=ce.password?ce.username+":"+ce.password:ce.username,ce.origin="file:"!==ce.protocol&&O(ce.protocol)&&ce.host?ce.protocol+"//"+ce.host:"null",ce.href=ce.toString(),ce},toString:function ge(oe){(!oe||"function"!=typeof oe)&&(oe=d.stringify);var le,Ae=this,ce=Ae.host,We=Ae.protocol;We&&":"!==We.charAt(We.length-1)&&(We+=":");var he=We+(Ae.protocol&&Ae.slashes||O(Ae.protocol)?"//":"");return Ae.username?(he+=Ae.username,Ae.password&&(he+=":"+Ae.password),he+="@"):Ae.password?(he+=":"+Ae.password,he+="@"):"file:"!==Ae.protocol&&O(Ae.protocol)&&!ce&&"/"!==Ae.pathname&&(he+="@"),(":"===ce[ce.length-1]||K.test(Ae.hostname)&&!Ae.port)&&(ce+=":"),he+=ce+Ae.pathname,(le="object"==typeof Ae.query?oe(Ae.query):Ae.query)&&(he+="?"!==le.charAt(0)?"?"+le:le),Ae.hash&&(he+=Ae.hash),he}},Q.extractProtocol=V,Q.location=$,Q.trimLeft=ye,Q.qs=d,Oe.exports=Q},2086:(Oe,Ge,R)=>{"use strict";var T=R(4764),d=R(1046),ne=R(6180),ee=R(6434),q=R(3);Oe.exports=function(j){return null==j||"object"!=typeof j&&"function"!=typeof j?null:T(j)?"String":d(j)?"Number":ne(j)?"Boolean":ee(j)?"Symbol":q(j)?"BigInt":void 0}},5709:(Oe,Ge,R)=>{"use strict";var T=R(3037),d=R(5271),ne=R(4263),ee=ne("Object.prototype.toString"),q=R(3261)(),K=typeof globalThis>"u"?global:globalThis,j=d(),z=ne("String.prototype.slice"),ye={},Z=R(2292),te=Object.getPrototypeOf;q&&Z&&te&&T(j,function(V){if("function"==typeof K[V]){var xe=new K[V];if(Symbol.toStringTag in xe){var Q=te(xe),ve=Z(Q,Symbol.toStringTag);if(!ve){var ge=te(Q);ve=Z(ge,Symbol.toStringTag)}ye[V]=ve.get}}});var O=R(7673);Oe.exports=function(xe){return!!O(xe)&&(q&&Symbol.toStringTag in xe?function(xe){var Q=!1;return T(ye,function(ve,ge){if(!Q)try{var oe=ve.call(xe);oe===ge&&(Q=oe)}catch{}}),Q}(xe):z(ee(xe),8,-1))}},863:(Oe,Ge,R)=>{var T={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4812],"./ion-avatar_3.entry.js":[6655,8592,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8592,8308],"./ion-card_5.entry.js":[4690,8592,4690],"./ion-checkbox.entry.js":[4090,8592,4090],"./ion-chip.entry.js":[6214,8592,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime_3.entry.js":[9689,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9667],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,5473],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8592,8994],"./ion-radio_2.entry.js":[3592,8592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,290],"./ion-reorder_2.entry.js":[2666,8592,2666],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,8592,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8592,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8592,8395],"./ion-textarea.entry.js":[6357,8592,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function d(ne){if(!R.o(T,ne))return Promise.resolve().then(()=>{var K=new Error("Cannot find module '"+ne+"'");throw K.code="MODULE_NOT_FOUND",K});var ee=T[ne],q=ee[0];return Promise.all(ee.slice(1).map(R.e)).then(()=>R(q))}d.keys=()=>Object.keys(T),d.id=863,Oe.exports=d},4654:()=>{},5271:Oe=>{"use strict";var Ge=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?global:globalThis;Oe.exports=function(){for(var d=[],ne=0;ne<Ge.length;ne++)"function"==typeof R[Ge[ne]]&&(d[d.length]=Ge[ne]);return d}},2292:(Oe,Ge,R)=>{"use strict";var d=R(9903)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}Oe.exports=d},2069:(Oe,Ge,R)=>{"use strict";var T=R(9102);if(R(524)()||R(6858)()){var d=Symbol.iterator;Oe.exports=function(Me){return null!=Me&&typeof Me[d]<"u"?Me[d]():T(Me)?Array.prototype[d].call(Me):void 0}}else{var ne=R(8266),ee=R(4764),q=R(9903),K=q("%Map%",!0),j=q("%Set%",!0),z=R(4263),ye=z("Array.prototype.push"),Z=z("String.prototype.charCodeAt"),te=z("String.prototype.slice"),O=function(Me){var He=0;return{next:function(){var X,ke=He>=Me.length;return ke||(X=Me[He],He+=1),{done:ke,value:X}}}},V=function(Me,He){if(ne(Me)||T(Me))return O(Me);if(ee(Me)){var Ne=0;return{next:function(){var X=function(Me,He){if(He+1>=Me.length)return He+1;var ke=Z(Me,He);if(ke<55296||ke>56319)return He+1;var X=Z(Me,He+1);return X<56320||X>57343?He+1:He+2}(Me,Ne),ze=te(Me,Ne,X);return Ne=X,{done:X>Me.length,value:ze}}}}return He&&typeof Me["_es6-shim iterator_"]<"u"?Me["_es6-shim iterator_"]():void 0};if(K||j){var xe=R(9898),Q=R(3870),ve=z("Map.prototype.forEach",!0),ge=z("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var oe=z("Map.prototype.iterator",!0),le=z("Set.prototype.iterator",!0),Ae=function(Ce){var Me=!1;return{next:function(){try{return{done:Me,value:Me?void 0:Ce.next()}}catch{return Me=!0,{done:!0,value:void 0}}}}};var ce=z("Map.prototype.@@iterator",!0)||z("Map.prototype._es6-shim iterator_",!0),We=z("Set.prototype.@@iterator",!0)||z("Set.prototype._es6-shim iterator_",!0);Oe.exports=function(Me){return function(Me){if(xe(Me)){if(oe)return Ae(oe(Me));if(ce)return ce(Me);if(ve){var He=[];return ve(Me,function(ke,X){ye(He,[X,ke])}),O(He)}}if(Q(Me)){if(le)return Ae(le(Me));if(We)return We(Me);if(ge){var Ne=[];return ge(Me,function(ke){ye(Ne,ke)}),O(Ne)}}}(Me)||V(Me)}}else Oe.exports=function(Me){if(null!=Me)return V(Me,!0)}}},2107:(Oe,Ge,R)=>{"use strict";var T=R(9898),d=R(3870),ne=R(5585),ee=R(1902);Oe.exports=function(K){if(K&&"object"==typeof K){if(T(K))return"Map";if(d(K))return"Set";if(ne(K))return"WeakMap";if(ee(K))return"WeakSet"}return!1}},3918:(Oe,Ge,R)=>{"use strict";function T(ne,ee,q,K,j,z,ye){try{var Z=ne[z](ye),te=Z.value}catch($){return void q($)}Z.done?ee(te):Promise.resolve(te).then(K,j)}function d(ne){return function(){var ee=this,q=arguments;return new Promise(function(K,j){var z=ne.apply(ee,q);function ye(te){T(z,K,j,ye,Z,"next",te)}function Z(te){T(z,K,j,ye,Z,"throw",te)}ye(void 0)})}}R.d(Ge,{Z:()=>d})}},Oe=>{Oe(Oe.s=2357)}]);
//# sourceMappingURL=main.eca6f68ab1fdc2bc.js.map