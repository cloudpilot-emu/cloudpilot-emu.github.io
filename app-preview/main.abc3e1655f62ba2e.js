(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1511:(me,Ce,C)=>{"use strict";let u=null,q=1;function R(e){const t=u;return u=e,t}function T(e){if((!Ee(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==q)){if(!e.producerMustRecompute(e)&&!M(e))return e.dirty=!1,void(e.lastCleanEpoch=q);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=q}}function M(e){ke(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(T(r),n!==r.version))return!0}return!1}function se(e,t){if(function O(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ke(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)se(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];ke(o),o.producerIndexOfThis[n]=t}}function Ee(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ke(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let $e=null;function xe(e){return"function"==typeof e}function be(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const ge=be(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(xe(n))try{n()}catch(i){t=i instanceof ge?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{nn(i)}catch(s){t=t??[],s instanceof ge?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ge(t)}}add(t){var r;if(t&&t!==this)if(this.closed)nn(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const e=new yt;return e.closed=!0,e})();const Nt=yt.EMPTY;function dn(e){return e instanceof yt||e&&"closed"in e&&xe(e.remove)&&xe(e.add)&&xe(e.unsubscribe)}function nn(e){xe(e)?e():e.unsubscribe()}const pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jt={setTimeout(e,t,...r){const{delegate:n}=Jt;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Jt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _r(e){Jt.setTimeout(()=>{const{onUnhandledError:t}=pn;if(!t)throw e;t(e)})}function Zn(){}const Ho=Pn("C",void 0,void 0);function Pn(e,t,r){return{kind:e,value:t,error:r}}let $r=null;function Ur(e){if(pn.useDeprecatedSynchronousErrorHandling){const t=!$r;if(t&&($r={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=$r;if($r=null,r)throw n}}else e()}class qn extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dn(t)&&t.add(this)):this.destination=rn}static create(t,r,n){return new ye(t,r,n)}next(t){this.isStopped?Sn(function wo(e){return Pn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Sn(function So(e){return Pn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Sn(Ho,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const go=Function.prototype.bind;function Br(e,t){return go.call(e,t)}class pe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){ln(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){ln(n)}else ln(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){ln(r)}}}class ye extends qn{constructor(t,r,n){let o;if(super(),xe(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&pn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Br(t.next,i),error:t.error&&Br(t.error,i),complete:t.complete&&Br(t.complete,i)}):o=t}this.destination=new pe(o)}}function ln(e){pn.useDeprecatedSynchronousErrorHandling?function ro(e){pn.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=e)}(e):_r(e)}function Sn(e,t){const{onStoppedNotification:r}=pn;r&&Jt.setTimeout(()=>r(e,t))}const rn={closed:!0,next:Zn,error:function mn(e){throw e},complete:Zn},fo="function"==typeof Symbol&&Symbol.observable||"@@observable";function nr(e){return e}function _o(e){return 0===e.length?nr:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let On=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Ui(e){return e&&e instanceof qn||function oo(e){return e&&xe(e.next)&&xe(e.error)&&xe(e.complete)}(e)&&dn(e)}(r)?r:new ye(r,n,o);return Ur(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Do(n))((o,i)=>{const s=new ye({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[fo](){return this}pipe(...r){return _o(r)(this)}toPromise(r){return new(r=Do(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Do(e){var t;return null!==(t=e??pn.Promise)&&void 0!==t?t:Promise}const Po=be(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xn=(()=>{class e extends On{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new vr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Po}next(r){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Nt:(this.currentObservers=null,i.push(r),new yt(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new On;return r.source=this,r}}return e.create=(t,r)=>new vr(t,r),e})();class vr extends xn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Nt}}function yr(e){return xe(e?.lift)}function Tn(e){return t=>{if(yr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nn(e,t,r,n,o){return new di(e,t,r,n,o)}class di extends qn{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function cn(e,t){return Tn((r,n)=>{let o=0;r.subscribe(Nn(n,i=>{n.next(e.call(t,i,o++))}))})}function ae(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Oo(e){return this instanceof Oo?(this.v=e,this):new Oo(e)}function Mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ei(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ut=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function m(e){return xe(e?.then)}function w(e){return xe(e[fo])}function L(e){return Symbol.asyncIterator&&xe(e?.[Symbol.asyncIterator])}function ne(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ue=function Te(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ke(e){return xe(e?.[ue])}function qe(e){return function ti(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){n[g]&&(o[g]=function(b){return new Promise(function(B,ee){i.push([g,b,B,ee])>1||a(g,b)})})}function a(g,b){try{!function l(g){g.value instanceof Oo?Promise.resolve(g.value.v).then(c,f):h(i[0][2],g)}(n[g](b))}catch(B){h(i[0][3],B)}}function c(g){a("next",g)}function f(g){a("throw",g)}function h(g,b){g(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Oo(r.read());if(o)return yield Oo(void 0);yield yield Oo(n)}}finally{r.releaseLock()}})}function et(e){return xe(e?.getReader)}function A(e){if(e instanceof On)return e;if(null!=e){if(w(e))return function Ct(e){return new On(t=>{const r=e[fo]();if(xe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ut(e))return function At(e){return new On(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(m(e))return function kt(e){return new On(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,_r)})}(e);if(L(e))return Dr(e);if(Ke(e))return function wn(e){return new On(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(et(e))return function Vr(e){return Dr(qe(e))}(e)}throw ne(e)}function Dr(e){return new On(t=>{(function zr(e,t){var r,n,o,i;return function Hi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Mn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Xn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Bn(e,t,r=1/0){return xe(t)?Bn((n,o)=>cn((i,s)=>t(n,i,o,s))(A(e(n,o))),r):("number"==typeof t&&(r=t),Tn((n,o)=>function Ki(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,h=!1;const g=()=>{h&&!l.length&&!c&&t.complete()},b=ee=>c<n?B(ee):l.push(ee),B=ee=>{i&&t.next(ee),c++;let ve=!1;A(r(ee,f++)).subscribe(Nn(t,Se=>{o?.(Se),i?b(Se):t.next(Se)},()=>{ve=!0},void 0,()=>{if(ve)try{for(c--;l.length&&c<n;){const Se=l.shift();s?Xn(t,s,()=>B(Se)):B(Se)}g()}catch(Se){t.error(Se)}}))};return e.subscribe(Nn(t,b,()=>{h=!0,g()})),()=>{a?.()}}(n,o,e,r)))}function No(e=1/0){return Bn(nr,e)}const Io=new On(e=>e.complete());function ta(e){return e&&xe(e.schedule)}function Os(e){return e[e.length-1]}function na(e){return xe(Os(e))?e.pop():void 0}function Qi(e){return ta(Os(e))?e.pop():void 0}function ra(e,t=0){return Tn((r,n)=>{r.subscribe(Nn(n,o=>Xn(n,e,()=>n.next(o),t),()=>Xn(n,e,()=>n.complete(),t),o=>Xn(n,e,()=>n.error(o),t)))})}function oa(e,t=0){return Tn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ia(e,t){if(!e)throw new Error("Iterable cannot be null");return new On(r=>{Xn(r,t,()=>{const n=e[Symbol.asyncIterator]();Xn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function Er(e,t){return t?function Fa(e,t){if(null!=e){if(w(e))return function ka(e,t){return A(e).pipe(oa(t),ra(t))}(e,t);if(ut(e))return function Pa(e,t){return new On(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(m(e))return function Ra(e,t){return A(e).pipe(oa(t),ra(t))}(e,t);if(L(e))return ia(e,t);if(Ke(e))return function Oa(e,t){return new On(r=>{let n;return Xn(r,t,()=>{n=e[ue](),Xn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>xe(n?.return)&&n.return()})}(e,t);if(et(e))return function Na(e,t){return ia(qe(e),t)}(e,t)}throw ne(e)}(e,t):A(e)}function sa(...e){const t=Qi(e),r=function Aa(e,t){return"number"==typeof Os(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?A(n[0]):No(r)(Er(n,t)):Io}class po extends xn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Ht(...e){return Er(e,Qi(e))}function aa(e={}){const{connector:t=(()=>new xn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},b=()=>{g(),s=l=void 0,f=h=!1},B=()=>{const ee=s;b(),ee?.unsubscribe()};return Tn((ee,ve)=>{c++,!h&&!f&&g();const Se=l=l??t();ve.add(()=>{c--,0===c&&!h&&!f&&(a=Ns(B,o))}),Se.subscribe(ve),!s&&c>0&&(s=new ye({next:De=>Se.next(De),error:De=>{h=!0,g(),a=Ns(b,r,De),Se.error(De)},complete:()=>{f=!0,g(),a=Ns(b,n),Se.complete()}}),A(ee).subscribe(s))})(i)}}function Ns(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new ye({next:()=>{n.unsubscribe(),e()}});return A(t(...r)).subscribe(n)}function eo(e,t){return Tn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Nn(n,l=>{o?.unsubscribe();let c=0;const f=i++;A(e(l,f)).subscribe(o=Nn(n,h=>n.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Fs(e,t=nr){return e=e??La,Tn((r,n)=>{let o,i=!0;r.subscribe(Nn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function La(e,t){return e===t}function Vn(e){for(let t in e)if(e[t]===Vn)return t;throw Error("Could not find renamed property on target object.")}function hs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ir(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ir).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Ls(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $a=Vn({__forward_ref__:Vn});function zn(e){return e.__forward_ref__=zn,e.toString=function(){return Ir(this())},e}function Yt(e){return ms(e)?e():e}function ms(e){return"function"==typeof e&&e.hasOwnProperty($a)&&e.__forward_ref__===zn}function $s(e){return e&&!!e.\u0275providers}const la="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function Ji(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const gs=Vn({\u0275cmp:Vn}),es=Vn({\u0275dir:Vn}),ca=Vn({\u0275pipe:Vn}),ua=Vn({\u0275mod:Vn}),ni=Vn({\u0275fac:Vn}),br=Vn({__NG_ELEMENT_ID__:Vn}),Wo=Vn({__NG_ENV_ID__:Vn});function Bt(e){return"string"==typeof e?e:null==e?"":String(e)}function _s(e,t){throw new Xe(-201,!1)}function qt(e,t){null==e&&function ot(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function Le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function sr(e){return Pr(e,p)||Pr(e,re)}function Pr(e,t){return e.hasOwnProperty(t)?e[t]:null}function We(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(Fe))?e[x]:null}const p=Vn({\u0275prov:Vn}),x=Vn({\u0275inj:Vn}),re=Vn({ngInjectableDef:Vn}),Fe=Vn({ngInjectorDef:Vn});var Qe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qe||{});let _n;function on(){return _n}function Kt(e){const t=_n;return _n=e,t}function lr(e,t,r){const n=sr(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Qe.Optional?null:void 0!==t?t:void _s(Ir(e))}const jn=globalThis;class pt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Le({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ul={},pu="__NG_DI_FLAG__",Ec="ngTempTokenPath",rh=/\n/gm,Kd="__source";let vl;function fa(e){const t=vl;return vl=e,t}function sh(e,t=Qe.Default){if(void 0===vl)throw new Xe(-203,!1);return null===vl?lr(e,void 0,t):vl.get(e,t&Qe.Optional?null:void 0,t)}function ce(e,t=Qe.Default){return(on()||sh)(Yt(e),t)}function rt(e,t=Qe.Default){return ce(e,Ic(t))}function Ic(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function hu(e){const t=[];for(let r=0;r<e.length;r++){const n=Yt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Qe.Default;for(let s=0;s<n.length;s++){const a=n[s],l=ah(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ce(o,i))}else t.push(ce(n))}return t}function Hl(e,t){return e[pu]=t,e.prototype[pu]=t,e}function ah(e){return e[pu]}function Vs(e){return{toString:e}.toString()}var xc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xc||{}),ts=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ts||{});const vs={},Jn=[];function Qd(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function mu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];ef(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function Jd(e){return 3===e||4===e||6===e}function ef(e){return 64===e.charCodeAt(0)}function zl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||tf(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function tf(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const nf="ng-template";function uh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Qd(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function rf(e){return 4===e.type&&e.value!==nf}function dh(e,t,r){return t===(4!==e.type||r?e.value:nf)}function fh(e,t,r){let n=4;const o=e.attrs||[],i=function mh(e){for(let t=0;t<e.length;t++)if(Jd(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!dh(e,l,r)||""===l&&1===t.length){if(ns(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!uh(e.attrs,c,r)){if(ns(n))return!1;s=!0}continue}const h=ph(8&n?"class":l,o,rf(e),r);if(-1===h){if(ns(n))return!1;s=!0;continue}if(""!==c){let g;g=h>i?"":o[h+1].toLowerCase();const b=8&n?g:null;if(b&&-1!==Qd(b,c,0)||2&n&&c!==g){if(ns(n))return!1;s=!0}}}}else{if(!s&&!ns(n)&&!ns(l))return!1;if(s&&ns(l))continue;s=!1,n=l|1&n}}return ns(n)||s}function ns(e){return 0==(1&e)}function ph(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function gh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function sf(e,t,r=!1){for(let n=0;n<t.length;n++)if(fh(e,t[n],r))return!0;return!1}function _h(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function af(e,t){return e?":not("+t.trim()+")":t}function vh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!ns(s)&&(t+=af(i,o),o=""),n=s,i=i||!ns(n);r++}return""!==o&&(t+=af(i,o)),t}function Ye(e){return Vs(()=>{const t=js(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ts.Emulated,styles:e.styles||Jn,_:null,schemas:e.schemas||null,tView:null,id:""};Gn(r);const n=e.dependencies;return r.directiveDefs=gu(n,!1),r.pipeDefs=gu(n,!0),r.id=function T_(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function Ch(e){return vn(e)||To(e)}function I_(e){return null!==e}function io(e){return Vs(()=>({type:e.type,bootstrap:e.bootstrap||Jn,declarations:e.declarations||Jn,imports:e.imports||Jn,exports:e.exports||Jn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Sh(e,t){if(null==e)return vs;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Lt(e){return Vs(()=>{const t=js(e);return Gn(t),t})}function Zo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function vn(e){return e[gs]||null}function To(e){return e[es]||null}function Lo(e){return e[ca]||null}function An(e,t){const r=e[ua]||null;if(!r&&!0===t)throw new Error(`Type ${Ir(e)} does not have '\u0275mod' property.`);return r}function js(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||vs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Jn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sh(e.inputs,t),outputs:Sh(e.outputs),debugInfo:null}}function Gn(e){e.features?.forEach(t=>t(e))}function gu(e,t){if(!e)return null;const r=t?Lo:Ch;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(I_)}const so=0,gt=1,it=2,En=3,kn=4,Me=5,rr=6,Rn=7,tn=8,ur=9,Mo=10,Wt=11,ao=12,to=13,Zt=14,Un=15,Or=16,Tr=17,d=18,y=19,Z=20,Ae=21,It=22,en=23,dt=25,yn=1,jr=7,ys=9,$n=10;var Gs=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Gs||{});function yo(e){return Array.isArray(e)&&"object"==typeof e[yn]}function lo(e){return Array.isArray(e)&&!0===e[yn]}function _u(e){return 0!=(4&e.flags)}function ma(e){return e.componentOffset>-1}function _t(e){return 1==(1&e.flags)}function Xt(e){return!!e.template}function mi(e){return 0!=(512&e[it])}function Tc(e,t){return e.hasOwnProperty(ni)?e[ni]:null}class qR{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function _i(){return W0}function W0(e){return e.type.prototype.ngOnChanges&&(e.setInput=KR),YR}function YR(){const e=q0(this),t=e?.current;if(t){const r=e.previous;if(r===vs)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function KR(e,t,r,n){const o=this.declaredInputs[r],i=q0(e)||function XR(e,t){return e[Z0]=t}(e,{previous:vs,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new qR(l&&l.currentValue,t,a===vs),e[n]=t}_i.ngInherit=!0;const Z0="__ngSimpleChanges__";function q0(e){return e[Z0]||null}const ja=function(e,t,r){};function Zr(e){for(;Array.isArray(e);)e=e[so];return e}function cf(e,t){return Zr(t[e])}function xi(e,t){return Zr(t[e.index])}function uf(e,t){return e.data[t]}function yu(e,t){return e[t]}function bs(e,t){const r=t[e];return yo(r)?r:r[so]}function R_(e){return 128==(128&e[it])}function Ga(e,t){return null==t?null:e[t]}function X0(e){e[Tr]=0}function nP(e){1024&e[it]||(e[it]|=1024,R_(e)&&wh(e))}function J0(e){return 9216&e[it]||e[en]?.dirty}function eS(e){J0(e)&&wh(e)}function wh(e){let t=e[En];for(;null!==t&&!(lo(t)&&t[it]&Gs.HasChildViewsToRefresh||yo(t)&&8192&t[it]);){if(lo(t))t[it]|=Gs.HasChildViewsToRefresh;else if(t[it]|=8192,!R_(t))break;t=t[En]}}function Dh(e,t){if(256==(256&e[it]))throw new Xe(911,!1);null===e[Ae]&&(e[Ae]=[]),e[Ae].push(t)}const fn={lFrame:uS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nS(){return fn.bindingsEnabled}function bu(){return null!==fn.skipHydrationRootTNode}function He(){return fn.lFrame.lView}function er(){return fn.lFrame.tView}function Pt(e){return fn.lFrame.contextLView=e,e[tn]}function Ot(e){return fn.lFrame.contextLView=null,e}function Nr(){let e=rS();for(;null!==e&&64===e.type;)e=e.parent;return e}function rS(){return fn.lFrame.currentTNode}function Ua(e,t){const r=fn.lFrame;r.currentTNode=e,r.isParent=t}function O_(){return fn.lFrame.isParent}function N_(){fn.lFrame.isParent=!1}function yl(){return fn.lFrame.bindingIndex}function Ha(){return fn.lFrame.bindingIndex++}function bl(e){const t=fn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function pP(e,t){const r=fn.lFrame;r.bindingIndex=r.bindingRootIndex=e,F_(t)}function F_(e){fn.lFrame.currentDirectiveIndex=e}function aS(){return fn.lFrame.currentQueryIndex}function $_(e){fn.lFrame.currentQueryIndex=e}function mP(e){const t=e[gt];return 2===t.type?t.declTNode:1===t.type?e[Me]:null}function lS(e,t,r){if(r&Qe.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Qe.Host||(o=mP(i),null===o||(i=i[Zt],10&o.type))););if(null===o)return!1;t=o,e=i}const n=fn.lFrame=cS();return n.currentTNode=t,n.lView=e,!0}function B_(e){const t=cS(),r=e[gt];fn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function cS(){const e=fn.lFrame,t=null===e?null:e.child;return null===t?uS(e):t}function uS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dS(){const e=fn.lFrame;return fn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const fS=dS;function V_(){const e=dS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vi(){return fn.lFrame.selectedIndex}function Mc(e){fn.lFrame.selectedIndex=e}function no(){const e=fn.lFrame;return uf(e.tView,e.selectedIndex)}let hS=!0;function Eh(){return hS}function Wl(e){hS=e}function Ih(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function xh(e,t,r){mS(e,t,3,r)}function Th(e,t,r,n){(3&e[it])===r&&mS(e,t,r,n)}function j_(e,t){let r=e[it];(3&r)===t&&(r&=16383,r+=1,e[it]=r)}function mS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Tr]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Tr]+=65536),(a<i||-1==i)&&(SP(e,r,t,l),e[Tr]=(4294901760&e[Tr])+l+2),l++}function gS(e,t){ja(4,e,t);const r=R(null);try{t.call(e)}finally{R(r),ja(5,e,t)}}function SP(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[it]>>14<e[Tr]>>16&&(3&e[it])===t&&(e[it]+=16384,gS(a,i)):gS(a,i)}const Cu=-1;class ff{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function U_(e){return e!==Cu}function pf(e){return 32767&e}function hf(e,t){let r=function xP(e){return e>>16}(e),n=t;for(;r>0;)n=n[Zt],r--;return n}let H_=!0;function Mh(e){const t=H_;return H_=e,t}const _S=255,vS=5;let TP=0;const za={};function Ah(e,t){const r=yS(e,t);if(-1!==r)return r;const n=t[gt];n.firstCreatePass&&(e.injectorIndex=t.length,z_(n.data,e),z_(t,null),z_(n.blueprint,null));const o=kh(e,t),i=e.injectorIndex;if(U_(o)){const s=pf(o),a=hf(o,t),l=a[gt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function z_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function yS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function kh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=IS(o),null===n)return Cu;if(r++,o=o[Zt],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Cu}function W_(e,t,r){!function MP(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(br)&&(n=r[br]),null==n&&(n=r[br]=TP++);const o=n&_S;t.data[e+(o>>vS)]|=1<<o}(e,t,r)}function bS(e,t,r){if(r&Qe.Optional||void 0!==e)return e;_s()}function CS(e,t,r,n){if(r&Qe.Optional&&void 0===n&&(n=null),!(r&(Qe.Self|Qe.Host))){const o=e[ur],i=Kt(void 0);try{return o?o.get(t,n,r&Qe.Optional):lr(t,n,r&Qe.Optional)}finally{Kt(i)}}return bS(n,0,r)}function SS(e,t,r,n=Qe.Default,o){if(null!==e){if(2048&t[it]&&!(n&Qe.Self)){const s=function OP(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[it]&&!(512&s[it]);){const a=wS(i,s,r,n|Qe.Self,za);if(a!==za)return a;let l=i.parent;if(!l){const c=s[Z];if(c){const f=c.get(r,za,n);if(f!==za)return f}l=IS(s),s=s[Zt]}i=l}return o}(e,t,r,n,za);if(s!==za)return s}const i=wS(e,t,r,n,za);if(i!==za)return i}return CS(t,r,n,o)}function wS(e,t,r,n,o){const i=function RP(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(br)?e[br]:void 0;return"number"==typeof t?t>=0?t&_S:PP:t}(r);if("function"==typeof i){if(!lS(t,e,n))return n&Qe.Host?bS(o,0,n):CS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Qe.Optional)return s;_s()}finally{fS()}}else if("number"==typeof i){let s=null,a=yS(e,t),l=Cu,c=n&Qe.Host?t[Un][Me]:null;for((-1===a||n&Qe.SkipSelf)&&(l=-1===a?kh(e,t):t[a+8],l!==Cu&&ES(n,!1)?(s=t[gt],a=pf(l),t=hf(l,t)):a=-1);-1!==a;){const f=t[gt];if(DS(i,a,f.data)){const h=kP(a,t,r,s,n,c);if(h!==za)return h}l=t[a+8],l!==Cu&&ES(n,t[gt].data[a+8]===c)&&DS(i,a,t)?(s=f,a=pf(l),t=hf(l,t)):a=-1}}return o}function kP(e,t,r,n,o,i){const s=t[gt],a=s.data[e+8],f=Rh(a,s,r,null==n?ma(a)&&H_:n!=s&&0!=(3&a.type),o&Qe.Host&&i===a);return null!==f?Ac(t,s,f,a):za}function Rh(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,g=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<g;b++){const B=s[b];if(b<l&&r===B||b>=l&&B.type===r)return b}if(o){const b=s[l];if(b&&Xt(b)&&b.type===r)return l}return null}function Ac(e,t,r,n){let o=e[r];const i=t.data;if(function wP(e){return e instanceof ff}(o)){const s=o;s.resolving&&function _l(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Fn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Bt(e)}(i[r]));const a=Mh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Kt(s.injectImpl):null;lS(e,n,Qe.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function CP(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=W0(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&Kt(c),Mh(a),s.resolving=!1,fS()}}return o}function DS(e,t,r){return!!(r[t+(e>>vS)]&1<<e)}function ES(e,t){return!(e&Qe.Self||e&Qe.Host&&t)}class qo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return SS(this._tNode,this._lView,t,Ic(n),r)}}function PP(){return new qo(Nr(),He())}function qr(e){return Vs(()=>{const t=e.prototype.constructor,r=t[ni]||Z_(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ni]||Z_(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Z_(e){return ms(e)?()=>{const t=Z_(Yt(e));return t&&t()}:Tc(e)}function IS(e){const t=e[gt],r=t.type;return 2===r?t.declTNode:1===r?e[Me]:null}function Zl(e){return function AP(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(Jd(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Nr(),e)}const Eu="__parameters__";function xu(e,t,r){return Vs(()=>{const n=function q_(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const h=l.hasOwnProperty(Eu)?l[Eu]:Object.defineProperty(l,Eu,{value:[]})[Eu];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Mu(e,t){e.forEach(r=>Array.isArray(r)?Mu(r,t):t(r))}function TS(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ph(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Cs(e,t,r){let n=Au(e,t);return n>=0?e[1|n]=r:(n=~n,function MS(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function K_(e,t){const r=Au(e,t);if(r>=0)return e[1|r]}function Au(e,t){return function AS(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Nh=Hl(xu("Optional"),8),Fh=Hl(xu("SkipSelf"),4),Ru=new pt("ENVIRONMENT_INITIALIZER"),OS=new pt("INJECTOR",-1),J_=new pt("INJECTOR_DEF_TYPES");class $h{get(t,r=Ul){if(r===Ul){const n=new Error(`NullInjectorError: No provider for ${Ir(t)}!`);throw n.name="NullInjectorError",n}return r}}function nO(...e){return{\u0275providers:NS(0,e),\u0275fromNgModule:!0}}function NS(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return Mu(t,s=>{const a=s;Bh(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&FS(o,i),r}function FS(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];tv(o,i=>{t(i,n)})}}function Bh(e,t,r,n){if(!(e=Yt(e)))return!1;let o=null,i=We(e);const s=!i&&vn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=We(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Bh(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{Mu(i.imports,f=>{Bh(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&FS(c,t)}if(!a){const c=Tc(o)||(()=>new o);t({provide:o,useFactory:c,deps:Jn},o),t({provide:J_,useValue:o,multi:!0},o),t({provide:Ru,useValue:()=>ce(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;tv(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function tv(e,t){for(let r of e)$s(r)&&(r=r.\u0275providers),Array.isArray(r)?tv(r,t):t(r)}const rO=Vn({provide:String,useValue:Vn});function nv(e){return null!==e&&"object"==typeof e&&rO in e}function kc(e){return"function"==typeof e}const rv=new pt("Set Injector scope."),Vh={},iO={};let ov;function jh(){return void 0===ov&&(ov=new $h),ov}class oi{}class Pu extends oi{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sv(t,s=>this.processProvider(s)),this.records.set(OS,Ou(void 0,this)),o.has("environment")&&this.records.set(oi,Ou(void 0,this));const i=this.records.get(rv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(J_,Jn,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=fa(this),n=Kt(void 0);try{return t()}finally{fa(r),Kt(n)}}get(t,r=Ul,n=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Wo))return t[Wo](this);n=Ic(n);const i=fa(this),s=Kt(void 0);try{if(!(n&Qe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function uO(e){return"function"==typeof e||"object"==typeof e&&e instanceof pt}(t)&&sr(t);l=c&&this.injectableDefInScope(c)?Ou(iv(t),Vh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Qe.Self?jh():this.parent).get(t,r=n&Qe.Optional&&r===Ul?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Ec]=a[Ec]||[]).unshift(Ir(t)),i)throw a;return function lh(e,t,r,n){const o=e[Ec];throw t[Kd]&&o.unshift(t[Kd]),e.message=function ch(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ir(t);if(Array.isArray(t))o=t.map(Ir).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Ir(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(rh,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Ec]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Kt(s),fa(i)}}resolveInjectorInitializers(){const t=fa(this),r=Kt(void 0);try{const o=this.get(Ru,Jn,Qe.Self);for(const i of o)i()}finally{fa(t),Kt(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Ir(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=kc(t=Yt(t))?t:Yt(t&&t.provide);const n=function aO(e){return nv(e)?Ou(void 0,e.useValue):Ou(BS(e),Vh)}(t);if(kc(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ou(void 0,Vh,!0),o.factory=()=>hu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Vh&&(r.value=iO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function cO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Yt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function iv(e){const t=sr(e),r=null!==t?t.factory:Tc(e);if(null!==r)return r;if(e instanceof pt)throw new Xe(204,!1);if(e instanceof Function)return function sO(e){const t=e.length;if(t>0)throw gf(t,"?"),new Xe(204,!1);const r=function ar(e){return e&&(e[p]||e[re])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function BS(e,t,r){let n;if(kc(e)){const o=Yt(e);return Tc(o)||iv(o)}if(nv(e))n=()=>Yt(e.useValue);else if(function $S(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...hu(e.deps||[]));else if(function LS(e){return!(!e||!e.useExisting)}(e))n=()=>ce(Yt(e.useExisting));else{const o=Yt(e&&(e.useClass||e.provide));if(!function lO(e){return!!e.deps}(e))return Tc(o)||iv(o);n=()=>new o(...hu(e.deps))}return n}function Ou(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function sv(e,t){for(const r of e)Array.isArray(r)?sv(r,t):r&&$s(r)?sv(r.\u0275providers,t):t(r)}function ql(e,t){e instanceof Pu&&e.assertNotDestroyed();const n=fa(e),o=Kt(void 0);try{return t()}finally{fa(n),Kt(o)}}function US(e,t=null,r=null,n){const o=HS(e,t,r,n);return o.resolveInjectorInitializers(),o}function HS(e,t=null,r=null,n,o=new Set){const i=[r||Jn,nO(e)];return n=n||("object"==typeof e?void 0:Ir(e)),new Pu(i,t||jh(),n||null,o)}let cv,Yr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return US({name:""},o,n,"");{const i=n.name??"";return US({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Ul,e.NULL=new $h,e.\u0275prov=Le({token:e,providedIn:"any",factory:()=>ce(OS)}),e.__NG_ELEMENT_ID__=-1,t})();const Uh=new pt("AppId",{providedIn:"root",factory:()=>yO}),yO="ng",WS=new pt("Platform Initializer"),Xl=new pt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZS=new pt("CSP nonce",{providedIn:"root",factory:()=>function Kl(){if(void 0!==cv)return cv;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ss(e){return e instanceof Function?e():e}function Zh(e){return 128==(128&e.flags)}var ec=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ec||{});const MO=/^>|^->|<!--|-->|--!>|<!-$/g,AO=/(<|>)/g,kO="\u200b$1\u200b";const hv=new Map;let RO=0;const gv="__ngContext__";function yi(e,t){yo(t)?(e[gv]=t[y],function OO(e){hv.set(e[y],e)}(t)):e[gv]=t}let _v;function vv(e,t){return _v(e,t)}function Sf(e){const t=e[En];return lo(t)?t[En]:t}function dw(e){return pw(e[ao])}function fw(e){return pw(e[kn])}function pw(e){for(;null!==e&&!lo(e);)e=e[kn];return e}function Fu(e,t,r,n,o){if(null!=n){let i,s=!1;lo(n)?i=n:yo(n)&&(s=!0,n=n[so]);const a=Zr(n);0===e&&null!==r?null==o?_w(t,r,a):Rc(t,r,a,o||null,!0):1===e&&null!==r?Rc(t,r,a,o||null,!0):2===e?function em(e,t,r){const n=Qh(e,t);n&&function JO(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function nN(e,t,r,n,o){const i=r[jr];i!==Zr(r)&&Fu(t,e,n,i,o);for(let a=$n;a<r.length;a++){const l=r[a];Ef(l[gt],l,e,t,n,i)}}(t,e,i,r,o)}}function yv(e,t){return e.createComment(function rw(e){return e.replace(MO,t=>t.replace(AO,kO))}(t))}function Kh(e,t,r){return e.createElement(t,r)}function mw(e,t){const r=e[ys],n=r.indexOf(t);r.splice(n,1)}function wf(e,t){if(e.length<=$n)return;const r=$n+t,n=e[r];if(n){const o=n[Or];null!==o&&o!==e&&mw(o,n),t>0&&(e[r-1][kn]=n[kn]);const i=Ph(e,$n+t);!function zO(e,t){Ef(e,t,t[Wt],2,null,null),t[so]=null,t[Me]=null}(n[gt],n);const s=i[d];null!==s&&s.detachView(i[gt]),n[En]=null,n[kn]=null,n[it]&=-129}return n}function Xh(e,t){if(!(256&t[it])){const r=t[Wt];r.destroyNode&&Ef(e,t,r,3,null,null),function qO(e){let t=e[ao];if(!t)return bv(e[gt],e);for(;t;){let r=null;if(yo(t))r=t[ao];else{const n=t[$n];n&&(r=n)}if(!r){for(;t&&!t[kn]&&t!==e;)yo(t)&&bv(t[gt],t),t=t[En];null===t&&(t=e),yo(t)&&bv(t[gt],t),r=t&&t[kn]}t=r}}(t)}}function bv(e,t){if(!(256&t[it])){t[it]&=-129,t[it]|=256,t[en]&&function J(e){if(ke(e),Ee(e))for(let t=0;t<e.producerNode.length;t++)se(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[en]),function QO(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof ff)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];ja(4,a,l);try{l.call(a)}finally{ja(5,a,l)}}else{ja(4,o,i);try{i.call(o)}finally{ja(5,o,i)}}}}}(e,t),function XO(e,t){const r=e.cleanup,n=t[Rn];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[Rn]=null);const o=t[Ae];if(null!==o){t[Ae]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[gt].type&&t[Wt].destroy();const r=t[Or];if(null!==r&&lo(t[En])){r!==t[En]&&mw(r,t);const n=t[d];null!==n&&n.detachView(e)}!function NO(e){hv.delete(e[y])}(t)}}function Cv(e,t,r){return function gw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[so];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===ts.None||i===ts.Emulated)return null}return xi(n,r)}}(e,t.parent,r)}function Rc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function _w(e,t,r){e.appendChild(t,r)}function vw(e,t,r,n,o){null!==n?Rc(e,t,r,n,o):_w(e,t,r)}function Qh(e,t){return e.parentNode(t)}function yw(e,t,r){return Cw(e,t,r)}let Sv,tm,Cw=function bw(e,t,r){return 40&e.type?xi(e,r):null};function Jh(e,t,r,n){const o=Cv(e,n,t),i=t[Wt],a=yw(n.parent||t[Me],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)vw(i,o,r[l],a,!1);else vw(i,o,r,a,!1);void 0!==Sv&&Sv(i,n,t,r,o)}function Df(e,t){if(null!==t){const r=t.type;if(3&r)return xi(t,e);if(4&r)return wv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Df(e,n);{const o=e[t.index];return lo(o)?wv(-1,o):Zr(o)}}if(32&r)return vv(t,e)()||Zr(e[t.index]);{const n=ww(e,t);return null!==n?Array.isArray(n)?n[0]:Df(Sf(e[Un]),n):Df(e,t.next)}}return null}function ww(e,t){return null!==t?e[Un][Me].projection[t.projection]:null}function wv(e,t){const r=$n+e+1;if(r<t.length){const n=t[r],o=n[gt].firstChild;if(null!==o)return Df(n,o)}return t[jr]}function Dv(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&yi(Zr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Dv(e,t,r.child,n,o,i,!1),Fu(t,e,o,a,i);else if(32&l){const c=vv(r,n);let f;for(;f=c();)Fu(t,e,o,f,i);Fu(t,e,o,a,i)}else 16&l?Ew(e,t,n,r,o,i):Fu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Ef(e,t,r,n,o,i){Dv(r,n,e.firstChild,t,o,i,!1)}function Ew(e,t,r,n,o,i){const s=r[Un],l=s[Me].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Fu(t,e,o,l[c],i);else{let c=l;const f=s[En];Zh(n)&&(c.flags|=128),Dv(e,t,c,f,o,i,!0)}}function Iw(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function xw(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&mu(e,t,n),null!==o&&Iw(e,t,o),null!==i&&function oN(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Lu(e){return function Ev(){if(void 0===tm&&(tm=null,jn.trustedTypes))try{tm=jn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tm}()?.createHTML(e)||e}class Pc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${la})`}}class lN extends Pc{getTypeName(){return"HTML"}}class cN extends Pc{getTypeName(){return"Style"}}class uN extends Pc{getTypeName(){return"Script"}}class dN extends Pc{getTypeName(){return"URL"}}class fN extends Pc{getTypeName(){return"ResourceURL"}}function ws(e){return e instanceof Pc?e.changingThisBreaksApplicationSecurity:e}function Wa(e,t){const r=function pN(e){return e instanceof Pc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${la})`)}return r===t}class yN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Lu(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class bN{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Lu(t),r}}const SN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rm(e){return(e=String(e)).match(SN)?e:"unsafe:"+e}function Cl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function If(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const Rw=Cl("area,br,col,hr,img,wbr"),Pw=Cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ow=Cl("rp,rt"),xv=If(Rw,If(Pw,Cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),If(Ow,Cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),If(Ow,Pw)),Tv=Cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nw=If(Tv,Cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wN=Cl("script,style,template");class DN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!xv.hasOwnProperty(r))return this.sanitizedSomething=!0,!wN.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!Nw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Tv[a]&&(l=rm(l)),this.buf.push(" ",s,'="',Fw(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();xv.hasOwnProperty(r)&&!Rw.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Fw(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const EN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IN=/([^\#-~ |!])/g;function Fw(e){return e.replace(/&/g,"&amp;").replace(EN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(IN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let om;function Lw(e,t){let r=null;try{om=om||function kw(e){const t=new bN(e);return function CN(){try{return!!(new window.DOMParser).parseFromString(Lu(""),"text/html")}catch{return!1}}()?new yN(t):t}(e);let n=t?String(t):"";r=om.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=om.getInertBodyElement(n)}while(n!==i);return Lu((new DN).sanitizeChildren(Mv(r)||r))}finally{if(r){const n=Mv(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Mv(e){return"content"in e&&function xN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ds=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ds||{});let jw=(e,t,r)=>null;function Lv(e,t,r=!1){return jw(e,t,r)}class GN{}class Hw{}class HN{resolveComponentFactory(t){throw function UN(e){const t=Error(`No component factory found for ${Ir(e)}.`);return t.ngComponent=e,t}(t)}}let um=(()=>{class t{}return t.NULL=new HN,t})();function zN(){return Vu(Nr(),He())}function Vu(e,t){return new tt(xi(e,t))}let tt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=zN,t})();function WN(e){return e instanceof tt?e.nativeElement:e}class Ww{}let Sl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function ZN(){const e=He(),r=bs(Nr().index,e);return(yo(r)?r:e)[Wt]}(),t})(),qN=(()=>{var e;class t{}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:()=>null}),t})();class Af{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const YN=new Af("17.0.7"),Vv={};function Zw(e){const t=R(null);try{return e()}finally{R(t)}}function dm(e){return!!function jv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class qw{constructor(){}supports(t){return dm(t)}create(t){return new e2(t)}}const JN=(e,t)=>t;class e2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<Kw(n,o,i)?r:n,a=Kw(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let g=0;g<c;g++){const b=g<i.length?i[g]:i[g]=0,B=b+g;f<=B&&B<c&&(i[g]=b+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!dm(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function QN(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new t2(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yw),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class t2{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n2{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class Yw{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new n2,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kw(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function Qw(){return new fm([new qw])}let fm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||Qw()),deps:[[t,new Fh,new Nh]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:Qw}),t})();function Rf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Zr(i)),lo(i)&&eD(i,n);const s=r.type;if(8&s)Rf(e,t,r.child,n);else if(32&s){const a=vv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=ww(t,r);if(Array.isArray(a))n.push(...a);else{const l=Sf(t[Un]);Rf(l[gt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function eD(e,t){for(let r=$n;r<e.length;r++){const n=e[r],o=n[gt].firstChild;null!==o&&Rf(n[gt],n,o,t)}e[jr]!==e[so]&&t.push(e[jr])}let tD=[];const c2={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{wh(e.lView)},consumerOnSignalRead(){this.lView[en]=this}};function Gv(e){return e.ngOriginalError}class wl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Gv(t);for(;r&&Gv(r);)r=Gv(r);return r||null}}const rD=new pt("",{providedIn:"root",factory:()=>rt(wl).handleError.bind(void 0)}),iD=new pt("",{providedIn:"root",factory:()=>!1}),bn={};function we(e){cD(er(),He(),vi()+e,!1)}function cD(e,t,r,n){if(!n)if(3==(3&t[it])){const i=e.preOrderCheckHooks;null!==i&&xh(t,i,r)}else{const i=e.preOrderHooks;null!==i&&Th(t,i,0,r)}Mc(r)}function _(e,t=Qe.Default){const r=He();return null===r?ce(e,t):SS(Nr(),r,Yt(e),t)}function hm(e,t,r,n,o,i,s,a,l,c,f){const h=t.blueprint.slice();return h[so]=o,h[it]=140|n,(null!==c||e&&2048&e[it])&&(h[it]|=2048),X0(h),h[En]=h[Zt]=e,h[tn]=r,h[Mo]=s||e&&e[Mo],h[Wt]=a||e&&e[Wt],h[ur]=l||e&&e[ur]||null,h[Me]=i,h[y]=function PO(){return RO++}(),h[rr]=f,h[Z]=c,h[Un]=2==t.type?e[Un]:h,h}function ju(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Uv(e,t,r,n,o){const i=rS(),s=O_(),l=e.data[t]=function S2(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return bu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function fP(){return fn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function df(){const e=fn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Ua(i,!0),i}function Pf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function dD(e,t,r,n,o){const i=vi(),s=2&n;try{Mc(-1),s&&t.length>dt&&cD(e,t,dt,!1),ja(s?2:0,o),r(n,o)}finally{Mc(i),ja(s?3:1,o)}}function Hv(e,t,r){if(_u(t)){const n=R(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{R(n)}}}function zv(e,t,r){nS()&&(function M2(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;ma(r)&&function F2(e,t,r){const n=xi(t,e),o=fD(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=mm(e,hm(e,o,null,s,n,t,null,e[Mo].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Ah(r,t),yi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=Ac(t,e,a,r);yi(c,t),null!==s&&L2(0,a-o,c,l,0,s),Xt(l)&&(bs(r.index,t)[tn]=Ac(t,e,a,r))}}(e,t,r,xi(r,t)),64==(64&r.flags)&&_D(e,t,r))}function Wv(e,t,r=xi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function fD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Zv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Zv(e,t,r,n,o,i,s,a,l,c,f){const h=dt+n,g=h+o,b=function g2(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:bn);return r}(h,g),B="function"==typeof c?c():c;return b[gt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:B,incompleteFirstPass:!1,ssrId:f}}let pD=e=>null;function hD(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?mD(r,t,o,i):n.hasOwnProperty(o)&&mD(r,t,n[o],i)}return r}function mD(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Es(e,t,r,n,o,i,s,a){const l=xi(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(Qv(e,r,f,n,o),ma(t)&&function E2(e,t){const r=bs(t,e);16&r[it]||(r[it]|=64)}(r,t.index)):3&t.type&&(n=function D2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function qv(e,t,r,n){if(nS()){const o=null===n?null:{"":-1},i=function k2(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(sf(t,s.selectors,!1))if(n||(n=[]),Xt(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Yv(e,t,a.length)}else n.unshift(s),Yv(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&gD(e,t,r,s,o,a),o&&function R2(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=zl(r.mergedAttrs,r.attrs)}function gD(e,t,r,n,o,i){for(let c=0;c<n.length;c++)W_(Ah(r,t),e,n[c].type);!function O2(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Pf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=zl(r.mergedAttrs,f.hostAttrs),N2(e,r,t,l,f),P2(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function w2(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],g=r?r.get(h):null,B=g?g.outputs:null;l=hD(h.inputs,f,l,g?g.inputs:null),c=hD(h.outputs,f,c,B);const ee=null===l||null===s||rf(t)?null:$2(l,f,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function _D(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function hP(){return fn.lFrame.currentDirectiveIndex}();try{Mc(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];F_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&A2(l,c)}}finally{Mc(-1),F_(s)}}function A2(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Yv(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function P2(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Xt(t)&&(r[""]=e)}}function N2(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Tc(o.type)),s=new ff(i,Xt(o),_);e.blueprint[n]=s,r[n]=s,function x2(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function T2(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Pf(e,r,o.hostVars,bn),o)}function Za(e,t,r,n,o,i){const s=xi(e,t);!function Kv(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Bt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[Wt],s,i,e.value,r,n,o)}function L2(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)vD(n,r,s[a++],s[a++],s[a++])}function vD(e,t,r,n,o){const i=R(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{R(i)}}function $2(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function yD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function bD(e,t){const r=e.contentQueries;if(null!==r){const n=R(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];$_(r[o]),a.contentQueries(2,t[s],s)}}}finally{R(n)}}}function mm(e,t){return e[ao]?e[to][kn]=t:e[ao]=t,e[to]=t,t}function Xv(e,t,r){$_(0);const n=R(null);try{t(e,r)}finally{R(n)}}function CD(e){return e[Rn]||(e[Rn]=[])}function SD(e){return e.cleanup||(e.cleanup=[])}function gm(e,t){const r=e[ur],n=r?r.get(wl,null):null;n&&n.handleError(t)}function Qv(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];vD(e.data[s],t[s],n,a,o)}}function Dl(e,t,r){const n=cf(t,e);!function hw(e,t,r){e.setValue(t,r)}(e[Wt],n,r)}function j2(e,t,r,n){const o=t[it];if(256==(256&o))return;t[Mo].inlineEffectRunner?.flush(),B_(t);let s=null,a=null;(function G2(e){return 2!==e.type})(e)&&(a=function s2(e){return e[en]??function a2(e){const t=tD.pop()??Object.create(c2);return t.lView=e,t}(e)}(t),s=function ie(e){return e&&(e.nextProducerIndex=0),R(e)}(a));try{X0(t),function iS(e){return fn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&dD(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&xh(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Th(t,h,0,null),j_(t,0)}if(function U2(e){for(let t=dw(e);null!==t;t=fw(t)){if(!(t[it]&Gs.HasTransplantedViews))continue;const r=t[ys];for(let n=0;n<r.length;n++){nP(r[n])}}}(t),DD(t,0),null!==e.contentQueries&&bD(e,t),l){const h=e.contentCheckHooks;null!==h&&xh(t,h)}else{const h=e.contentHooks;null!==h&&Th(t,h,1),j_(t,1)}!function m2(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)Mc(~o);else{const i=o,s=r[++n],a=r[++n];pP(s,i),a(2,t[i])}}}finally{Mc(-1)}}(e,t);const c=e.components;null!==c&&ID(t,c,0);const f=e.viewQuery;if(null!==f&&Xv(2,f,n),l){const h=e.viewCheckHooks;null!==h&&xh(t,h)}else{const h=e.viewHooks;null!==h&&Th(t,h,2),j_(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[It]){for(const h of t[It])h();t[It]=null}t[it]&=-73}catch(l){throw wh(t),l}finally{null!==a&&(function U(e,t){if(R(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ee(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)se(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function l2(e){e.lView[en]!==e&&(e.lView=null,tD.push(e))}(a)),V_()}}function DD(e,t){for(let r=dw(e);null!==r;r=fw(r)){r[it]&=~Gs.HasChildViewsToRefresh;for(let n=$n;n<r.length;n++)ED(r[n],t)}}function H2(e,t,r){ED(bs(t,e),r)}function ED(e,t){R_(e)&&ey(e,t)}function ey(e,t){const n=e[gt],o=e[it],i=e[en];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!M(i)),i&&(i.dirty=!1),e[it]&=-9217,s)j2(n,e,n.template,e[tn]);else if(8192&o){DD(e,1);const a=n.components;null!==a&&ID(e,a,1)}}function ID(e,t,r){for(let n=0;n<t.length;n++)H2(e,t[n],r)}function Of(e){for(;e;){e[it]|=64;const t=Sf(e);if(mi(e)&&!t)return e;e=t}return null}class Nf{get rootNodes(){const t=this._lView,r=t[gt];return Rf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(t){this._lView[tn]=t}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[En];if(lo(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(wf(t,n),Ph(r,n))}this._attachedToViewContainer=!1}Xh(this._lView[gt],this._lView)}onDestroy(t){Dh(this._lView,t)}markForCheck(){Of(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){eS(this._lView),this._lView[it]|=128}detectChanges(){this._lView[it]|=1024,function Jv(e,t=!0){const r=e[Mo],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function V2(e){ey(e,0);let t=0;for(;J0(e);){if(100===t)throw new Xe(103,!1);t++,ey(e,1)}}(e)}catch(s){throw t&&gm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZO(e,t){Ef(e,t,t[Wt],2,null,null)}(this._lView[gt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let ft=(()=>{class t{}return t.__NG_ELEMENT_ID__=z2,t})();function z2(e){return function W2(e,t,r){if(ma(e)&&!r){const n=bs(e.index,t);return new Nf(n,n)}return 47&e.type?new Nf(t[Un],t):null}(Nr(),He(),16==(16&e))}let _m=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=K2,e.__NG_ENV_ID__=r=>r,t})();class Y2 extends _m{constructor(t){super(),this._lView=t}onDestroy(t){return Dh(this._lView,t),()=>function P_(e,t){if(null===e[Ae])return;const r=e[Ae].indexOf(t);-1!==r&&e[Ae].splice(r,1)}(this._lView,t)}}function K2(){return new Y2(He())}const xD=new Set;function Oc(e){xD.has(e)||(xD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ty(e){return t=>{setTimeout(e,void 0,t)}}const an=class rF extends xn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=ty(i),o&&(o=ty(o)),s&&(s=ty(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof yt&&t.add(a),a}};function TD(...e){}class je{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function oF(){const e="function"==typeof jn.requestAnimationFrame;let t=jn[e?"requestAnimationFrame":"setTimeout"],r=jn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function aF(e){const t=()=>{!function sF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(jn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ry(e),e.isCheckStableRunning=!0,ny(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ry(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function cF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return MD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),AD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return MD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),AD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ry(e),ny(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,iF,TD,TD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const iF={};function ny(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ry(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function MD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function AD(e){e._nesting--,ny(e)}class lF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const kD=new pt("",{providedIn:"root",factory:RD});function RD(){const e=rt(je);let t=!0;return sa(new On(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new On(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{je.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(aa()))}var Nc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Nc||{});const PD={destroy(){}};function ND(e,t){!t&&function av(e){if(!on()&&!function ih(){return vl}())throw new Xe(-203,!1)}();const r=t?.injector??rt(Yr);if(!function Ql(e){return"browser"===(e??rt(Yr)).get(Xl)}(r))return PD;Oc("NgAfterNextRender");const n=r.get(vm),o=n.handler??=new LD,i=t?.phase??Nc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(_m).onDestroy(s),l=new FD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class FD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(je),this.errorHandler=t.get(wl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class LD{constructor(){this.executingCallbacks=!1,this.buckets={[Nc.EarlyRead]:new Set,[Nc.Write]:new Set,[Nc.MixedReadWrite]:new Set,[Nc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let vm=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:()=>new e}),t})();function fF(e,t){const r=bs(t,e),n=r[gt];!function pF(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[so];null!==o&&null===r[rr]&&(r[rr]=Lv(o,r[ur])),oy(n,r,r[tn])}function oy(e,t,r){B_(t);try{const n=e.viewQuery;null!==n&&Xv(1,n,r);const o=e.template;null!==o&&dD(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&bD(e,t),e.staticViewQueries&&Xv(2,e.viewQuery,r);const i=e.components;null!==i&&function hF(e,t){for(let r=0;r<t.length;r++)fF(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[it]&=-5,V_()}}function ym(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ls(o,a):2==i&&(n=Ls(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class $D extends um{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=vn(t);return new Ff(r,this.ngModule)}}function BD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class gF{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Ic(n);const o=this.injector.get(t,Vv,n);return o!==Vv||r===Vv?o:this.parentInjector.get(t,r,n)}}class Ff extends Hw{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=BD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return BD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function yh(e){return e.map(vh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof oi?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new gF(t,i):t,a=s.get(Ww,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(qN,null),inlineEffectRunner:null,afterRenderEventManager:s.get(vm,null)},h=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=n?function _2(e,t,r,n){const i=n.get(iD,!1)||r===ts.ShadowDom,s=e.selectRootElement(t,i);return function v2(e){pD(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Kh(h,g,function mF(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),ve=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Se=null;null!==b&&(Se=Lv(b,s,!0));const De=Zv(0,null,null,1,0,null,null,null,null,null,null),Tt=hm(null,De,null,ve,null,null,f,h,s,null,Se);let Et,lt;B_(Tt);try{const gn=this.componentDef;let gr,cs=null;gn.findHostDirectiveDefs?(gr=[],cs=new Map,gn.findHostDirectiveDefs(gn,gr,cs),gr.push(gn)):gr=[gn];const ks=function vF(e,t){const r=e[gt],n=dt;return e[n]=t,ju(r,n,2,"#host",null)}(Tt,b),WR=function yF(e,t,r,n,o,i,s){const a=o[gt];!function bF(e,t,r,n){for(const o of e)t.mergedAttrs=zl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(ym(t,t.mergedAttrs,!0),null!==r&&xw(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=Lv(t,o[ur]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=hm(o,fD(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Yv(a,e,n.length-1),mm(o,h),o[e.index]=h}(ks,b,gn,gr,Tt,f,h);lt=uf(De,dt),b&&function SF(e,t,r,n){if(n)mu(e,r,["ng-version",YN.full]);else{const{attrs:o,classes:i}=function bh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!ns(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&mu(e,r,o),i&&i.length>0&&Iw(e,r,i.join(" "))}}(h,gn,b,n),void 0!==r&&function wF(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(lt,this.ngContentSelectors,r),Et=function CF(e,t,r,n,o,i){const s=Nr(),a=o[gt],l=xi(s,o);gD(a,o,s,r,null,n);for(let f=0;f<r.length;f++)yi(Ac(o,a,s.directiveStart+f,s),o);_D(a,o,s),l&&yi(l,o);const c=Ac(o,a,s.directiveStart+s.componentOffset,s);if(e[tn]=o[tn]=c,null!==i)for(const f of i)f(c,t);return Hv(a,s,e),c}(WR,gn,gr,cs,Tt,[DF]),oy(De,Tt,null)}finally{V_()}return new _F(this.componentType,Et,Vu(lt,Tt),Tt,lt)}}class _F extends GN{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Nf(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Qv(i[gt],i,o,t,r),this.previousInputValues.set(t,r),Of(bs(this._tNode.index,i))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function DF(){const e=Nr();Ih(He()[gt],e)}function Cn(e){let t=function VD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Xt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=bm(e.inputs),s.inputTransforms=bm(e.inputTransforms),s.declaredInputs=bm(e.declaredInputs),s.outputs=bm(e.outputs);const a=o.hostBindings;a&&TF(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&IF(e,l),c&&xF(e,c),hs(e.inputs,o.inputs),hs(e.declaredInputs,o.declaredInputs),hs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),hs(s.inputTransforms,o.inputTransforms)),Xt(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Cn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function EF(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=zl(o.hostAttrs,r=zl(r,o.hostAttrs))}}(n)}function bm(e){return e===vs?{}:e===Jn?[]:e}function IF(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function xF(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function TF(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function $o(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Fc(e,t,r,n){const o=$o(e,t,r);return $o(e,t+1,n)||o}function Hs(e,t,r,n){const o=He();return $o(o,Ha(),t)&&(er(),Za(no(),o,e,t,r,n)),Hs}function Uu(e,t,r,n){return $o(e,Ha(),r)?t+Bt(r)+n:bn}function zu(e,t,r,n,o,i,s,a){const c=function Cm(e,t,r,n,o){const i=Fc(e,t,r,n);return $o(e,t+2,o)||i}(e,yl(),r,o,s);return bl(3),c?t+Bt(r)+n+Bt(o)+i+Bt(s)+a:bn}function Sm(e,t){return e<<17|t<<2}function tc(e){return e>>17&32767}function iy(e){return 2|e}function Lc(e){return(131068&e)>>2}function sy(e,t){return-131069&e|t<<2}function ay(e){return 1|e}function eE(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?tc(i):Lc(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];BF(e[a],t)&&(l=!0,e[a+1]=n?ay(f):iy(f)),a=n?tc(f):Lc(f)}l&&(e[r+1]=n?iy(i):ay(i))}function BF(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Au(e,t)>=0}function Pe(e,t,r){const n=He();return $o(n,Ha(),t)&&Es(er(),no(),n,e,t,n[Wt],r,!1),Pe}function ly(e,t,r,n,o){const s=o?"class":"style";Qv(e,r,t.inputs[s],s,n)}function Qu(e,t,r){return _a(e,t,r,!1),Qu}function ga(e,t){return _a(e,t,null,!0),ga}function _a(e,t,r,n){const o=He(),i=er(),s=bl(2);i.firstUpdatePass&&function lE(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[vi()],s=function aE(e,t){return t>=e.expandoStartIndex}(e,r);(function fE(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function qF(e,t,r,n){const o=function L_(e){const t=fn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=$f(r=cy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=cy(o,e,t,r,n),null===i){let l=function YF(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==Lc(n))return e[tc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=cy(null,e,t,l[1],n),l=$f(l,t.attrs,n),function KF(e,t,r,n){e[tc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function XF(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=$f(n,e[i].hostAttrs,r);return $f(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function LF(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=tc(s),l=Lc(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||Au(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const g=tc(e[a+1]);e[n+1]=Sm(g,a),0!==g&&(e[g+1]=sy(e[g+1],n)),e[a+1]=function NF(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Sm(a,0),0!==a&&(e[a+1]=sy(e[a+1],n)),a=n;else e[n+1]=Sm(l,0),0===a?a=n:e[l+1]=sy(e[l+1],n),l=n;c&&(e[n+1]=iy(e[n+1])),eE(e,f,n,!0),eE(e,f,n,!1),function $F(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Au(i,t)>=0&&(r[n+1]=ay(r[n+1]))}(t,f,e,n,i),s=Sm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==bn&&$o(o,s,t)&&function uE(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function FF(e){return 1==(1&e)}(c)?dE(l,t,r,o,Lc(c),s):void 0;wm(f)||(wm(i)||function OF(e){return 2==(2&e)}(c)&&(i=dE(l,null,r,o,a,s)),function rN(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:ec.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ec.Important),e.setStyle(r,n,o,i))}}(n,s,cf(vi(),r),o,i))}(i,i.data[vi()],o,o[Wt],e,o[s+1]=function tL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ir(ws(e)))),e}(t,r),n,s)}function cy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=$f(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function $f(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cs(e,s,!!r||t[++i]))}return void 0===e?null:e}function dE(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,h=null===f;let g=r[o+1];g===bn&&(g=h?Jn:void 0);let b=h?K_(g,n):f===n?g:void 0;if(c&&!wm(b)&&(b=K_(l,n)),wm(b)&&(a=b,s))return a;const B=e[o+1];o=s?tc(B):Lc(B)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=K_(l,n))}return a}function wm(e){return void 0!==e}function ed(e,t){return!t||null===t.firstChild||Zh(e)}function Hf(e,t,r,n=!0){const o=t[gt];if(function YO(e,t,r,n){const o=$n+n,i=r.length;n>0&&(r[o-1][kn]=t),n<i-$n?(t[kn]=r[o],TS(r,$n+n,t)):(r.push(t),t[kn]=null),t[En]=r;const s=t[Or];null!==s&&r!==s&&function KO(e,t){const r=e[ys];t[Un]!==t[En][En][Un]&&(e[it]|=Gs.HasTransplantedViews),null===r?e[ys]=[t]:r.push(t)}(s,t);const a=t[d];null!==a&&a.insertView(e),eS(t),t[it]|=128}(o,t,e,r),n){const s=wv(r,e),a=t[Wt],l=Qh(a,e[jr]);null!==l&&function WO(e,t,r,n,o,i){n[so]=o,n[Me]=t,Ef(e,n,r,1,o,i)}(o,e[Me],a,t,l,s)}const i=t[rr];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let is=(()=>{class t{}return t.__NG_ELEMENT_ID__=NL,t})();function NL(){return EE(Nr(),He())}const FL=is,wE=class extends FL{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const t=kh(this._hostTNode,this._hostLView);if(U_(t)){const r=hf(t,this._hostLView),n=pf(t);return new qo(r[gt].data[n+8],r)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=DE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,ed(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function mf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const B=r||{};a=B.index,n=B.injector,o=B.projectableNodes,i=B.environmentInjector||B.ngModuleRef}const l=s?t:new Ff(vn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const ee=(s?c:this.parentInjector).get(oi,null);ee&&(i=ee)}vn(l.componentType??{});const b=l.create(c,o,null,i);return this.insertImpl(b.hostView,a,ed(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function tP(e){return lo(e[En])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[En],c=new wE(l,l[Me],l[En]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Hf(s,o,i,n),t.attachToViewContainerRef(),TS(vy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=DE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=wf(this._lContainer,r);n&&(Ph(vy(this._lContainer),r),Xh(n[gt],n))}detach(t){const r=this._adjustIndex(t,-1),n=wf(this._lContainer,r);return n&&null!=Ph(vy(this._lContainer),r)?new Nf(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function DE(e){return e[8]}function vy(e){return e[8]||(e[8]=[])}function EE(e,t){let r;const n=t[e.index];return lo(n)?r=n:(r=yD(n,t,null,e),t[e.index]=r,mm(t,r)),IE(r,t,e,n),new wE(r,e,t)}let IE=function TE(e,t,r,n){if(e[jr])return;let o;o=8&r.type?Zr(n):function LL(e,t){const r=e[Wt],n=r.createComment(""),o=xi(t,e);return Rc(r,Qh(r,o),n,function eN(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[jr]=o},yy=(e,t,r)=>!1;function un(e,t,r,n,o,i,s,a){const l=He(),c=er(),f=e+dt,h=c.firstCreatePass?function jL(e,t,r,n,o,i,s,a,l){const c=t.consts,f=ju(t,e,4,s||null,Ga(c,a));qv(t,r,f,Ga(c,l)),Ih(t,f);const h=f.tView=Zv(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];Ua(h,!1);const g=ME(c,l,h,e);Eh()&&Jh(c,l,g,h),yi(g,l);const b=yD(g,l,g,h);return l[f]=b,mm(l,b),function xE(e,t,r){return yy(e,t,r)}(b,h,l),_t(h)&&zv(c,l,h),null!=s&&Wv(l,h,a),un}let ME=function AE(e,t,r,n){return Wl(!0),t[Wt].createComment("")};function Y(e,t,r,n){const o=He(),i=er(),s=dt+e,a=o[Wt],l=i.firstCreatePass?function A3(e,t,r,n,o,i){const s=t.consts,l=ju(t,e,2,n,Ga(s,o));return qv(t,r,l,Ga(s,i)),null!==l.attrs&&ym(l,l.attrs,!1),null!==l.mergedAttrs&&ym(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=JE(i,o,l,a,t,e);o[s]=c;const f=_t(l);return Ua(l,!0),xw(a,c,l),32!=(32&l.flags)&&Eh()&&Jh(i,o,c,l),0===function rP(){return fn.lFrame.elementDepthCount}()&&yi(c,o),function oP(){fn.lFrame.elementDepthCount++}(),f&&(zv(i,o,l),Hv(i,l,o)),null!==n&&Wv(o,l),Y}function G(){let e=Nr();O_()?N_():(e=e.parent,Ua(e,!1));const t=e;(function sP(e){return fn.skipHydrationRootTNode===e})(t)&&function uP(){fn.skipHydrationRootTNode=null}(),function iP(){fn.lFrame.elementDepthCount--}();const r=er();return r.firstCreatePass&&(Ih(r,e),_u(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function EP(e){return 0!=(8&e.flags)}(t)&&ly(r,t,He(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function IP(e){return 0!=(16&e.flags)}(t)&&ly(r,t,He(),t.stylesWithoutHost,!1),G}function Ge(e,t,r,n){return Y(e,t,r,n),G(),Ge}let JE=(e,t,r,n,o,i)=>(Wl(!0),Kh(n,o,function pS(){return fn.lFrame.currentNamespace}()));function ad(e,t,r){const n=He(),o=er(),i=e+dt,s=o.firstCreatePass?function P3(e,t,r,n,o){const i=t.consts,s=Ga(i,n),a=ju(t,e,8,"ng-container",s);return null!==s&&ym(a,s,!0),qv(t,r,a,Ga(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];Ua(s,!0);const a=eI(o,n,s,e);return n[i]=a,Eh()&&Jh(o,n,a,s),yi(a,n),_t(s)&&(zv(o,n,s),Hv(o,s,n)),null!=r&&Wv(n,s),ad}function ld(){let e=Nr();const t=er();return O_()?N_():(e=e.parent,Ua(e,!1)),t.firstCreatePass&&(Ih(t,e),_u(e)&&t.queries.elementEnd(e)),ld}let eI=(e,t,r,n)=>(Wl(!0),yv(t[Wt],""));function Hn(){return He()}const ud="en-US";let iI=ud;function Jf(e){return!!e&&"function"==typeof e.then}function AI(e){return!!e&&"function"==typeof e.subscribe}function Be(e,t,r,n){const o=He(),i=er(),s=Nr();return function RI(e,t,r,n,o,i,s){const a=_t(n),c=e.firstCreatePass&&SD(e),f=t[tn],h=CD(t);let g=!0;if(3&n.type||s){const ee=xi(n,t),ve=s?s(ee):ee,Se=h.length,De=s?Et=>s(Zr(Et[n.index])):n.index;let Tt=null;if(!s&&a&&(Tt=function R$(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[Rn],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=i,Tt.__ngLastListenerFn__=i,g=!1;else{i=OI(n,t,f,i,!1);const Et=r.listen(ve,o,i);h.push(i,Et),c&&c.push(o,De,Se,Se+1)}}else i=OI(n,t,f,i,!1);const b=n.outputs;let B;if(g&&null!==b&&(B=b[o])){const ee=B.length;if(ee)for(let ve=0;ve<ee;ve+=2){const lt=t[B[ve]][B[ve+1]].subscribe(i),gn=h.length;h.push(i,lt),c&&c.push(o,n.index,gn,-(gn+1))}}}(i,o,o[Wt],s,e,t,n),Be}function PI(e,t,r,n){try{return ja(6,t,r),!1!==r(n)}catch(o){return gm(e,o),!1}finally{ja(7,t,r)}}function OI(e,t,r,n,o){return function i(s){if(s===Function)return n;Of(e.componentOffset>-1?bs(e.index,t):t);let l=PI(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=PI(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function vt(e=1){return function gP(e){return(fn.lFrame.contextLView=function Q0(e,t){for(;e>0;)t=t[Zt],e--;return t}(e,fn.lFrame.contextLView))[tn]}(e)}function P$(e,t){let r=null;const n=function hh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?sf(e,i,!0):_h(n,i))return o}else r=o}return r}function Dt(e){const t=He()[Un][Me];if(!t.projection){const n=t.projection=gf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?P$(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function wt(e,t=0,r){const n=He(),o=er(),i=ju(o,dt+e,16,null,r||null);null===i.projection&&(i.projection=t),N_(),(!n[rr]||bu())&&32!=(32&i.flags)&&function tN(e,t,r){Ew(t[Wt],0,t,r,Cv(e,r,t),yw(r.parent||t[Me],r,t))}(o,n,i)}function $m(e,t,r,n,o){const i=He(),s=Uu(i,t,r,n);return s!==bn&&Es(er(),no(),i,e,s,i[Wt],o,!1),$m}function Is(e){return yu(function dP(){return fn.lFrame.contextLView}(),dt+e)}function Ie(e,t=""){const r=He(),n=er(),o=e+dt,i=n.firstCreatePass?ju(n,o,1,t,null):n.data[o],s=JI(n,r,i,t,e);r[o]=s,Eh()&&Jh(n,r,s,i),Ua(i,!1)}let JI=(e,t,r,n,o)=>(Wl(!0),function Yh(e,t){return e.createText(t)}(t[Wt],n));function Ai(e){return bi("",e,""),Ai}function bi(e,t,r){const n=He(),o=Uu(n,e,t,r);return o!==bn&&Dl(n,vi(),o),bi}function ep(e,t,r,n,o){const i=He(),s=function Hu(e,t,r,n,o,i){const a=Fc(e,yl(),r,o);return bl(2),a?t+Bt(r)+n+Bt(o)+i:bn}(i,e,t,r,n,o);return s!==bn&&Dl(i,vi(),s),ep}function Ry(e,t,r,n,o,i,s){const a=He(),l=zu(a,e,t,r,n,o,i,s);return l!==bn&&Dl(a,vi(),l),Ry}function Py(e,t,r,n,o){if(e=Yt(e),Array.isArray(e))for(let i=0;i<e.length;i++)Py(e[i],t,r,n,o);else{const i=er(),s=He(),a=Nr();let l=kc(e)?e:Yt(e.provide);const c=BS(e),f=1048575&a.providerIndexes,h=a.directiveStart,g=a.providerIndexes>>20;if(kc(e)||!e.multi){const b=new ff(c,o,_),B=Ny(l,t,o?f:f+g,h);-1===B?(W_(Ah(a,s),i,l),Oy(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[B]=b,s[B]=b)}else{const b=Ny(l,t,f+g,h),B=Ny(l,t,f,f+g),ve=B>=0&&r[B];if(o&&!ve||!o&&!(b>=0&&r[b])){W_(Ah(a,s),i,l);const Se=function Y$(e,t,r,n,o){const i=new ff(e,r,_);return i.multi=[],i.index=t,i.componentProviders=0,s1(i,o,n&&!r),i}(o?q$:Z$,r.length,o,n,c);!o&&ve&&(r[B].providerFactory=Se),Oy(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(Se),s.push(Se)}else Oy(i,e,b>-1?b:B,s1(r[o?B:b],c,!o&&n));!o&&n&&ve&&r[B].componentProviders++}}}function Oy(e,t,r,n){const o=kc(t),i=function oO(e){return!!e.useClass}(t);if(o||i){const l=(i?Yt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function s1(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Ny(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function Z$(e,t,r,n){return Fy(this.multi,[])}function q$(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ac(r,r[gt],this.providerFactory.index,n);i=a.slice(0,s),Fy(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Fy(o,i);return i}function Fy(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function fr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function W$(e,t,r){const n=er();if(n.firstCreatePass){const o=Xt(e);Py(r,n.data,n.blueprint,o,!0),Py(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Vc{}class a1{}class Ly extends Vc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $D(this);const o=An(t);this._bootstrapComponents=Ss(o.bootstrap),this._r3Injector=HS(t,r,[{provide:Vc,useValue:this},{provide:um,useValue:this.componentFactoryResolver},...n],Ir(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $y extends a1{constructor(t){super(),this.moduleType=t}create(t){return new Ly(this.moduleType,t,[])}}class l1 extends Vc{constructor(t){super(),this.componentFactoryResolver=new $D(this),this.instance=null;const r=new Pu([...t.providers,{provide:Vc,useValue:this},{provide:um,useValue:this.componentFactoryResolver}],t.parent||jh(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function By(e,t,r=null){return new l1({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let Q$=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=NS(0,n.type),i=o.length>0?By([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Le({token:e,providedIn:"environment",factory:()=>new e(ce(oi))}),t})();function Bm(e){Oc("NgStandalone"),e.getStandaloneInjector=t=>t.get(Q$).getOrCreateStandaloneInjector(e)}function g1(e,t,r,n,o,i){const s=t+r;return $o(e,s,o)?function qa(e,t,r){return e[t]=r}(e,s+1,i?n.call(i,o):n(o)):function tp(e,t){const r=e[t];return r===bn?void 0:r}(e,s+1)}function Xa(e,t){const r=er();let n;const o=e+dt;r.firstCreatePass?(n=function yB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Tc(n.type)),a=Kt(_);try{const l=Mh(!1),c=i();return Mh(l),function O$(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,He(),o,c),c}finally{Kt(a)}}function Qa(e,t,r){const n=e+dt,o=He(),i=yu(o,n);return function np(e,t){return e[gt].data[t].pure}(o,n)?g1(o,function Ti(){const e=fn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,i.transform,r,i):i.transform(r)}function DB(){return this._results[Symbol.iterator]()}class jy{get changes(){return this._changes??=new an}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=jy.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=DB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function rs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function BP(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=xB,t})();const EB=ya,IB=class extends EB{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function Uf(e,t,r,n){const o=t.tView,a=hm(e,o,r,4096&e[it]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[Or]=e[t.index];const c=e[d];return null!==c&&(a[d]=c.createEmbeddedView(o)),oy(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Nf(o)}};function xB(){return Gm(Nr(),He())}function Gm(e,t){return 4&e.type?new IB(t,e,Vu(e,t)):null}class Gy{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Uy(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==E1(t,r).matches&&this.queries[r].setDirty()}}class C1{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class Hy{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new Hy(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zy{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new zy(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,TB(r,i)),this.matchTNodeWithReadOption(t,r,Rh(r,t,i,!1,!1))}else n===ya?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Rh(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===tt||o===is||o===ya&&4&r.type)this.addMatch(r.index,-2);else{const i=Rh(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function TB(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function AB(e,t,r,n){return-1===r?function MB(e,t){return 11&e.type?Vu(e,t):4&e.type?Gm(e,t):null}(t,e):-2===r?function kB(e,t,r){return r===tt?Vu(t,e):r===ya?Gm(t,e):r===is?EE(t,e):void 0}(e,t,n):Ac(e,e[gt],r,t)}function S1(e,t,r,n){const o=t[d].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:AB(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Wy(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=S1(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let h=$n;h<f.length;h++){const g=f[h];g[Or]===g[En]&&Wy(g[gt],g,c,n)}if(null!==f[ys]){const h=f[ys];for(let g=0;g<h.length;g++){const b=h[g];Wy(b[gt],b,c,n)}}}}}return n}function Ws(e){const t=He(),r=er(),n=aS();$_(n+1);const o=E1(r,n);if(e.dirty&&function eP(e){return 4==(4&e[it])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Wy(r,t,n,[]):S1(r,t,o,n);e.reset(i,WN),e.notifyOnChanges()}return!0}return!1}function jc(e,t,r){const n=er();n.firstCreatePass&&(D1(n,new C1(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),w1(n,He(),t)}function dd(e,t,r,n){const o=er();if(o.firstCreatePass){const i=Nr();D1(o,new C1(t,r,n),i.index),function PB(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}w1(o,He(),r)}function Zs(){return function RB(e,t){return e[d].queries[t].queryList}(He(),aS())}function w1(e,t,r){const n=new jy(4==(4&r));(function C2(e,t,r,n){const o=CD(t);o.push(r),e.firstCreatePass&&SD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[d]&&(t[d]=new Uy),t[d].queries.push(new Gy(n))}function D1(e,t,r){null===e.queries&&(e.queries=new Hy),e.queries.track(new zy(t,r))}function E1(e,t){return e.queries.getByIndex(t)}let j1=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Hm=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new po(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class nV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let G1=(()=>{var e;class t{compileModuleSync(n){return new $y(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Ss(An(n).declarations).reduce((a,l)=>{const c=vn(l);return c&&a.push(new Ff(c)),a},[]);return new nV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Z1=new pt(""),Wm=new pt("");let eb,Qy=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eb||(function xV(e){eb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(je),ce(Jy),ce(Wm))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})(),Jy=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return eb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const ip=new pt("Application Initializer");let tb=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=rt(ip,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Jf(s))n.push(s);else if(AI(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const nb=new pt("appBootstrapListener");function K1(e,t){return Array.isArray(t)?t.reduce(K1,e):{...e,...t}}let ba=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rt(rD),this.zoneIsStable=rt(kD),this.componentTypes=[],this.components=[],this.isStable=rt(Hm).hasPendingTasks.pipe(eo(n=>n?Ht(!1):this.zoneIsStable),Fs()),this._injector=rt(oi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof Hw;if(!this._injector.get(tb).done)throw!i&&function pa(e){const t=vn(e)||To(e)||Lo(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get(um).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function MV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Vc),f=a.create(Yr.NULL,[],o||a.selector,l),h=f.location.nativeElement,g=f.injector.get(Z1,null);return g?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Zm(this.components,f),g?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Zm(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(nb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Zm(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let kV=(()=>{var e;class t{constructor(){this.zone=rt(je),this.applicationRef=rt(ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RV(){const e=rt(je),t=rt(wl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const El=new pt("LocaleId",{providedIn:"root",factory:()=>rt(El,Qe.Optional|Qe.SkipSelf)||function OV(){return typeof $localize<"u"&&$localize.locale||ud}()}),rb=new pt("PlatformDestroyListeners");let ex=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function uF(e="zone.js",t){return"noop"===e?new lF:"zone.js"===e?new je(t):e}(o?.ngZone,function J1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function X$(e,t,r){return new Ly(e,t,r)}(n.moduleType,this.injector,function Q1(e){return[{provide:je,useFactory:e},{provide:Ru,multi:!0,useFactory:()=>{const t=rt(kV,{optional:!0});return()=>t.initialize()}},{provide:rD,useFactory:RV},{provide:kD,useFactory:RD}]}(()=>i)),a=s.injector.get(wl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Zm(this._modules,s),l.unsubscribe()})}),function Y1(e,t,r){try{const n=r();return Jf(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(tb);return l.runInitializers(),l.donePromise.then(()=>(function sI(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(iI=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(El,ud)||ud),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=K1({},o);return function TV(e,t,r){const n=new $y(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(ba);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(rb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Yr))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),rc=null;const tx=new pt("AllowMultipleToken");function nx(e,t,r=[]){const n=`Platform: ${t}`,o=new pt(n);return(i=[])=>{let s=ob();if(!s||s.injector.get(tx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function LV(e){if(rc&&!rc.get(tx,!1))throw new Xe(400,!1);(function q1(){!function Gt(e){$e=e}(()=>{throw new Xe(600,!1)})})(),rc=e;const t=e.get(ex);(function ox(e){e.get(WS,null)?.forEach(r=>r())})(e)}(function rx(e=[],t){return Yr.create({name:t,providers:[{provide:rv,useValue:"platform"},{provide:rb,useValue:new Set([()=>rc=null])},...e]})}(a,n))}return function $V(e){const t=ob();if(!t)throw new Xe(401,!1);return t}()}}function ob(){return rc?.get(ex)??null}const HV=nx(null,"core",[]);let zV=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ba))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();function xx(e){const t=vn(e);if(!t)return null;const r=new Ff(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let pb=null;function oc(){return pb}class y4{}const ii=new pt("DocumentToken");let hb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(C4),providedIn:"platform"}),t})();const b4=new pt("Location Initialized");let C4=(()=>{var e;class t extends hb{constructor(){super(),this._doc=rt(ii),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oc().getBaseHref(this._doc)}onPopState(n){const o=oc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=oc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>new e,providedIn:"platform"}),t})();function mb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function Tx(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Il(e){return e&&"?"!==e[0]?"?"+e:e}let Ja=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(Ax),providedIn:"root"}),t})();const Mx=new pt("appBaseHref");let Ax=(()=>{var e;class t extends Ja{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??rt(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(hb),ce(Mx,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),kx=(()=>{var e;class t extends Ja{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=mb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(hb),ce(Mx,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})(),ic=(()=>{var e;class t{constructor(n){this._subject=new an,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function D4(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(Tx(Rx(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Il(o))}normalize(n){return t.stripTrailingSlash(function w4(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,Rx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Il,e.joinWithSlash=mb,e.stripTrailingSlash=Tx,e.\u0275fac=function(n){return new(n||e)(ce(Ja))},e.\u0275prov=Le({token:e,factory:()=>function S4(){return new ic(ce(Ja))}(),providedIn:"root"}),t})();function Rx(e){return e.replace(/\/index.html$/,"")}function jx(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class uj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new uj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),Hx(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Hx(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(ya),_(fm))},e.\u0275dir=Lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Hx(e,t){e.context.$implicit=t.item}let Qo=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new dj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){zx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){zx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(ya))},e.\u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class dj{constructor(){this.$implicit=null,this.ngIf=null}}function zx(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ir(t)}'.`)}class Ib{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let fg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Wx=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new Ib(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(ya),_(fg,9))},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Zx=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new Ib(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(ya),_(fg,9))},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class mj{createSubscription(t,r){return Zw(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){Zw(()=>t.unsubscribe())}}class gj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const _j=new gj,vj=new mj;let Yx=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Jf(n))return _j;if(AI(n))return vj;throw function Sa(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ft,16))},e.\u0275pipe=Zo({name:"async",type:e,pure:!1,standalone:!0}),t})(),el=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();const Xx="browser";function _d(e){return e===Xx}function Qx(e){return"server"===e}let Bj=(()=>{var e;class t{}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:()=>new Vj(ce(ii),window)}),t})();class Vj{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function jj(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Jx{}class uG extends y4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rb extends uG{static makeCurrent(){!function v4(e){pb||(pb=e)}(new Rb)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function dG(){return dp=dp||document.querySelector("base"),dp?dp.getAttribute("href"):null}();return null==r?null:function fG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){dp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jx(document.cookie,t)}}let dp=null,hG=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const Pb=new pt("EventManagerPlugins");let rT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Pb),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();class oT{constructor(t){this._doc=t}}const Ob="ng-app-id";let iT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qx(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ob}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(Ob),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Ob,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ii),ce(Uh),ce(ZS,8),ce(Xl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const Nb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fb=/%COMP%/g,vG=new pt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function aT(e,t){return t.map(r=>r.replace(Fb,e))}let lT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Qx(l),this.defaultRenderer=new Lb(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ts.ShadowDom&&(o={...o,encapsulation:ts.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof uT?i.applyToHost(n):i instanceof $b&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(o.encapsulation){case ts.Emulated:s=new uT(c,f,o,this.appId,h,a,l,g);break;case ts.ShadowDom:return new SG(c,f,n,o,a,l,this.nonce,g);default:s=new $b(c,f,o,h,a,l,g)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rT),ce(iT),ce(Uh),ce(vG),ce(ii),ce(Xl),ce(je),ce(ZS))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();class Lb{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Nb[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(cT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(cT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=Nb[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=Nb[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(ec.DashCase|ec.Important)?t.style.setProperty(r,n,o&ec.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&ec.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=oc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function cT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class SG extends Lb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=aT(o.id,o.styles);for(const f of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $b extends Lb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?aT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class uT extends $b{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function yG(e){return"_ngcontent-%COMP%".replace(Fb,e)}(c),this.hostAttr=function bG(e){return"_nghost-%COMP%".replace(Fb,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let wG=(()=>{var e;class t extends oT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ii))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const dT=["alt","control","meta","shift"],DG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let IG=(()=>{var e;class t extends oT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),dT.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=DG[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),dT.forEach(a=>{a!==i&&(0,EG[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ii))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const AG=nx(HV,"browser",[{provide:Xl,useValue:Xx},{provide:WS,useValue:function xG(){Rb.makeCurrent()},multi:!0},{provide:ii,useFactory:function MG(){return function vO(e){cv=e}(document),document},deps:[]}]),kG=new pt(""),hT=[{provide:Wm,useClass:class pG{addToWindow(t){jn.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},jn.getAllAngularTestabilities=()=>t.getAllTestabilities(),jn.getAllAngularRootElements=()=>t.getAllRootElements(),jn.frameworkStabilizers||(jn.frameworkStabilizers=[]),jn.frameworkStabilizers.push(n=>{const o=jn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?oc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:Z1,useClass:Qy,deps:[je,Jy,Wm]},{provide:Qy,useClass:Qy,deps:[je,Jy,Wm]}],mT=[{provide:rv,useValue:"root"},{provide:wl,useFactory:function TG(){return new wl},deps:[]},{provide:Pb,useClass:wG,multi:!0,deps:[ii,je,Xl]},{provide:Pb,useClass:IG,multi:!0,deps:[ii]},lT,iT,rT,{provide:Ww,useExisting:lT},{provide:Jx,useClass:hG,deps:[]},[]];let RG=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Uh,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(kG,12))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[...mT,...hT],imports:[el,zV]}),t})(),gT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ii))},e.\u0275prov=Le({token:e,factory:function(n){let o=null;return o=n?new n:function OG(){return new gT(ce(ii))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let Vb=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:function(n){let o=null;return o=n?new(n||e):ce(yT),o},providedIn:"root"}),t})(),yT=(()=>{var e;class t extends Vb{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ds.NONE:return o;case Ds.HTML:return Wa(o,"HTML")?ws(o):Lw(this._doc,String(o)).toString();case Ds.STYLE:return Wa(o,"Style")?ws(o):o;case Ds.SCRIPT:if(Wa(o,"Script"))return ws(o);throw new Xe(5200,!1);case Ds.URL:return Wa(o,"URL")?ws(o):rm(String(o));case Ds.RESOURCE_URL:if(Wa(o,"ResourceURL"))return ws(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function hN(e){return new lN(e)}(n)}bypassSecurityTrustStyle(n){return function mN(e){return new cN(e)}(n)}bypassSecurityTrustScript(n){return function gN(e){return new uN(e)}(n)}bypassSecurityTrustUrl(n){return function _N(e){return new dN(e)}(n)}bypassSecurityTrustResourceUrl(n){return function vN(e){return new fN(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ii))},e.\u0275prov=Le({token:e,factory:function(n){let o=null;return o=n?new n:function BG(e){return new yT(e.get(ii))}(ce(Yr)),o},providedIn:"root"}),t})();var Ro=C(5861),VG=C(6299),vd=C.n(VG);let mg,gg;function CT(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function ST(){return void 0!==gg}class wT{constructor(){this.requestEvent=new Ro.j}dispatchRequest(t){if(t){try{t=new(vd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let jb=(()=>{var e;class t{constructor(){this.installation=new wT,this.import=new wT,mg&&this.installation.dispatchRequest(mg),gg&&this.import.dispatchRequest(gg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var H=C(3918);function yd(e,t){return xe(t)?Bn(e,t,1):Bn(e,1)}function wa(e,t){return Tn((r,n)=>{let o=0;r.subscribe(Nn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function fp(e){return Tn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class _g{}class vg{}class Ks{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ks?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Ks;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Ks?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class UG{encodeKey(t){return DT(t)}encodeValue(t){return DT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zG=/%(\d[a-f0-9])/gi,WG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DT(e){return encodeURIComponent(e).replace(zG,(t,r)=>WG[r]??t)}function yg(e){return`${e}`}class ac{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new UG,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HG(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(yg):[yg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new ac({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(yg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(yg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ZG{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ET(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function IT(e){return typeof Blob<"u"&&e instanceof Blob}function xT(e){return typeof FormData<"u"&&e instanceof FormData}class pp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qG(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Ks),this.context||(this.context=new ZG),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new ac,this.urlWithParams=r}serializeBody(){return null===this.body?null:ET(this.body)||IT(this.body)||xT(this.body)||function YG(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xT(this.body)?null:IT(this.body)?this.body.type||null:ET(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,g)=>h.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,g)=>h.set(g,t.setParams[g]),c)),new pp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var lc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(lc||{});class Gb{constructor(t,r=200,n="OK"){this.headers=t.headers||new Ks,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bg extends Gb{constructor(t={}){super(t),this.type=lc.ResponseHeader}clone(t={}){return new bg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hc extends Gb{constructor(t={}){super(t),this.type=lc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bd extends Gb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ub(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Hb=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof pp)s=n;else{let c,f;c=i.headers instanceof Ks?i.headers:new Ks(i.headers),i.params&&(f=i.params instanceof ac?i.params:new ac({fromObject:i.params})),s=new pp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Ht(s).pipe(yd(c=>this.handler.handle(c)));if(n instanceof pp||"events"===i.observe)return a;const l=a.pipe(wa(c=>c instanceof Hc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(cn(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(cn(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new ac).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,Ub(i,o))}post(n,o,i={}){return this.request("POST",n,Ub(i,o))}put(n,o,i={}){return this.request("PUT",n,Ub(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(_g))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function MT(e,t){return t(e)}function eU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const nU=new pt(""),hp=new pt(""),AT=new pt(""),kT=new pt("");function rU(){let e=null;return(t,r)=>{null===e&&(e=(rt(nU,{optional:!0})??[]).reduceRight(eU,MT));const n=rt(Hm),o=n.add();return e(t,r).pipe(fp(()=>n.remove(o)))}}let RT=(()=>{var e;class t extends _g{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=rt(Hm);const i=rt(kT,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(hp),...this.injector.get(AT,[])]));this.chain=i.reduceRight((s,a)=>function tU(e,t,r){return(n,o)=>ql(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),MT)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(fp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(vg),ce(oi))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const lU=/^\)\]\}',?\n/;let OT=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Er(o.\u0275loadImpl()):Ht(null)).pipe(eo(()=>new On(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((ve,Se)=>a.setRequestHeader(ve,Se.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ve=n.detectContentTypeHeader();null!==ve&&a.setRequestHeader("Content-Type",ve)}if(n.responseType){const ve=n.responseType.toLowerCase();a.responseType="json"!==ve?ve:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const ve=a.statusText||"OK",Se=new Ks(a.getAllResponseHeaders()),De=function cU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new bg({headers:Se,status:a.status,statusText:ve,url:De}),c},h=()=>{let{headers:ve,status:Se,statusText:De,url:Tt}=f(),Et=null;204!==Se&&(Et=typeof a.response>"u"?a.responseText:a.response),0===Se&&(Se=Et?200:0);let lt=Se>=200&&Se<300;if("json"===n.responseType&&"string"==typeof Et){const gn=Et;Et=Et.replace(lU,"");try{Et=""!==Et?JSON.parse(Et):null}catch(gr){Et=gn,lt&&(lt=!1,Et={error:gr,text:Et})}}lt?(s.next(new Hc({body:Et,headers:ve,status:Se,statusText:De,url:Tt||void 0})),s.complete()):s.error(new bd({error:Et,headers:ve,status:Se,statusText:De,url:Tt||void 0}))},g=ve=>{const{url:Se}=f(),De=new bd({error:ve,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Se||void 0});s.error(De)};let b=!1;const B=ve=>{b||(s.next(f()),b=!0);let Se={type:lc.DownloadProgress,loaded:ve.loaded};ve.lengthComputable&&(Se.total=ve.total),"text"===n.responseType&&a.responseText&&(Se.partialText=a.responseText),s.next(Se)},ee=ve=>{let Se={type:lc.UploadProgress,loaded:ve.loaded};ve.lengthComputable&&(Se.total=ve.total),s.next(Se)};return a.addEventListener("load",h),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),n.reportProgress&&(a.addEventListener("progress",B),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:lc.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",h),a.removeEventListener("timeout",g),n.reportProgress&&(a.removeEventListener("progress",B),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Jx))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const Zb=new pt("XSRF_ENABLED"),NT=new pt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),FT=new pt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class LT{}let fU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=jx(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ii),ce(Xl),ce(NT))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function pU(e,t){const r=e.url.toLowerCase();if(!rt(Zb)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=rt(LT).getToken(),o=rt(FT);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var cc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(cc||{});function zc(e,t){return{\u0275kind:e,\u0275providers:t}}function hU(...e){const t=[Hb,OT,RT,{provide:_g,useExisting:RT},{provide:vg,useExisting:OT},{provide:hp,useValue:pU,multi:!0},{provide:Zb,useValue:!0},{provide:LT,useClass:fU}];for(const r of e)t.push(...r.\u0275providers);return function ev(e){return{\u0275providers:e}}(t)}const $T=new pt("LEGACY_INTERCEPTOR_FN");let gU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[hU(zc(cc.LegacyInterceptors,[{provide:$T,useFactory:rU},{provide:hp,useExisting:$T,multi:!0}]))]}),t})();const{isArray:wU}=Array,{getPrototypeOf:DU,prototype:EU,keys:IU}=Object;function zT(e){if(1===e.length){const t=e[0];if(wU(t))return{args:t,keys:null};if(function xU(e){return e&&"object"==typeof e&&DU(e)===EU}(t)){const r=IU(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:TU}=Array;function qb(e){return cn(t=>function MU(e,t){return TU(t)?e(...t):e(t)}(e,t))}function WT(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Sg(...e){const t=Qi(e),r=na(e),{args:n,keys:o}=zT(e);if(0===n.length)return Er([],t);const i=new On(function AU(e,t,r=nr){return n=>{ZT(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)ZT(t,()=>{const c=Er(e[l],t);let f=!1;c.subscribe(Nn(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>WT(o,s):nr));return r?i.pipe(qb(r)):i}function ZT(e,t,r){e?Xn(r,e,t):t()}const wg=be(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Yb(...e){return function kU(){return No(1)}()(Er(e,Qi(e)))}function qT(e){return new On(t=>{A(e()).subscribe(t)})}function Dg(e,t){const r=xe(e)?e:()=>e,n=o=>o.error(r());return new On(t?o=>t.schedule(n,0,o):n)}function Kb(){return Tn((e,t)=>{let r=null;e._refCount++;const n=Nn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class YT extends On{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,yr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yt;const r=this.getSubject();t.add(this.source.subscribe(Nn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yt.EMPTY)}return t}refCount(){return Kb()(this)}}function Cd(e){return e<=0?()=>Io:Tn((t,r)=>{let n=0;t.subscribe(Nn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function KT(...e){const t=Qi(e);return Tn((r,n)=>{(t?Yb(e,r,t):Yb(e,r)).subscribe(n)})}function Eg(e){return Tn((t,r)=>{let n=!1;t.subscribe(Nn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function XT(e=RU){return Tn((t,r)=>{let n=!1;t.subscribe(Nn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function RU(){return new wg}function uc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?wa((o,i)=>e(o,i,n)):nr,Cd(1),r?Eg(t):XT(()=>new wg))}function Ci(e,t,r){const n=xe(e)||t||r?{next:e,error:t,complete:r}:e;return n?Tn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Nn(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):nr}function Wc(e){return Tn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Nn(r,void 0,void 0,s=>{i=A(e(s,Wc(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function Xb(e){return e<=0?()=>Io:Tn((t,r)=>{let n=[];t.subscribe(Nn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function QT(e){return cn(()=>e)}function JT(e){return Tn((t,r)=>{A(e).subscribe(Nn(r,()=>r.complete(),Zn)),!r.closed&&t.subscribe(r)})}const In="primary",mp=Symbol("RouteTitle");class FU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Sd(e){return new FU(e)}function LU(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function tl(e,t){const r=e?Qb(e):void 0,n=t?Qb(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!eM(e[o],t[o]))return!1;return!0}function Qb(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function eM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function tM(e){return e.length>0?e[e.length-1]:null}function dc(e){return function SU(e){return!!e&&(e instanceof On||xe(e.lift)&&xe(e.subscribe))}(e)?e:Jf(e)?Er(Promise.resolve(e)):Ht(e)}const BU={exact:function oM(e,t,r){if(!Zc(e.segments,t.segments)||!Ig(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!oM(e.children[n],t.children[n],r))return!1;return!0},subset:iM},nM={exact:function VU(e,t){return tl(e,t)},subset:function jU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>eM(e[r],t[r]))},ignored:()=>!0};function rM(e,t,r){return BU[r.paths](e.root,t.root,r.matrixParams)&&nM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function iM(e,t,r){return sM(e,t,t.segments,r)}function sM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Zc(o,r)||t.hasChildren()||!Ig(o,r,n))}if(e.segments.length===r.length){if(!Zc(e.segments,r)||!Ig(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!iM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Zc(e.segments,o)&&Ig(e.segments,o,n)&&e.children[In])&&sM(e.children[In],t,i,n)}}function Ig(e,t,r){return t.every((n,o)=>nM[r](e[o].parameters,n.parameters))}class wd{constructor(t=new Fr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sd(this.queryParams)),this._queryParamMap}toString(){return HU.serialize(this)}}class Fr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xg(this)}}class gp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Sd(this.parameters)),this._parameterMap}toString(){return cM(this)}}function Zc(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let qc=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>new Jb,providedIn:"root"}),t})();class Jb{parse(t){const r=new tH(t);return new wd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${_p(t.root,!0)}`,n=function ZU(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${Tg(r)}=${Tg(o)}`).join("&"):`${Tg(r)}=${Tg(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function zU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const HU=new Jb;function xg(e){return e.segments.map(t=>cM(t)).join("/")}function _p(e,t){if(!e.hasChildren())return xg(e);if(t){const r=e.children[In]?_p(e.children[In],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==In&&n.push(`${o}:${_p(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function UU(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===In&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==In&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===In?[_p(e.children[In],!1)]:[`${o}:${_p(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[In]?`${xg(e)}/${r[0]}`:`${xg(e)}/(${r.join("//")})`}}function aM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tg(e){return aM(e).replace(/%3B/gi,";")}function eC(e){return aM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mg(e){return decodeURIComponent(e)}function lM(e){return Mg(e.replace(/\+/g,"%20"))}function cM(e){return`${eC(e.path)}${function WU(e){return Object.keys(e).map(t=>`;${eC(t)}=${eC(e[t])}`).join("")}(e.parameters)}`}const qU=/^[^\/()?;#]+/;function tC(e){const t=e.match(qU);return t?t[0]:""}const YU=/^[^\/()?;=#]+/,XU=/^[^=?&#]+/,JU=/^[^&#]+/;class tH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fr([],{}):new Fr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[In]=new Fr(t,r)),n}parseSegment(){const t=tC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new gp(Mg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function KU(e){const t=e.match(YU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=tC(this.remaining);o&&(n=o,this.capture(n))}t[Mg(r)]=Mg(n)}parseQueryParam(t){const r=function QU(e){const t=e.match(XU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function eH(e){const t=e.match(JU);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=lM(r),i=lM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=tC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=In);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[In]:new Fr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function uM(e){return e.segments.length>0?new Fr([],{[In]:e}):e}function dM(e){const t={};for(const n of Object.keys(e.children)){const i=dM(e.children[n]);if(n===In&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function nH(e){if(1===e.numberOfChildren&&e.children[In]){const t=e.children[In];return new Fr(e.segments.concat(t.segments),t.children)}return e}(new Fr(e.segments,t))}function Yc(e){return e instanceof wd}function fM(e){let t;const o=uM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Fr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function pM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return nC(o,o,o,r,n);const i=function oH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new mM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new mM(r,t,n)}(t);if(i.toRoot())return nC(o,o,new Fr([],{}),r,n);const s=function iH(e,t,r){if(e.isAbsolute)return new kg(t,!0,0);if(!r)return new kg(t,!1,NaN);if(null===r.parent)return new kg(r,!0,0);const n=Ag(e.commands[0])?0:1;return function sH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new kg(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?yp(s.segmentGroup,s.index,i.commands):gM(s.segmentGroup,s.index,i.commands);return nC(o,s.segmentGroup,a,r,n)}function Ag(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vp(e){return"object"==typeof e&&null!=e&&e.outlets}function nC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:hM(e,t,r);const a=uM(dM(s));return new wd(a,i,o)}function hM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:hM(i,t,r)}),new Fr(e.segments,n)}class mM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Ag(n[0]))throw new Xe(4003,!1);const o=n.find(vp);if(o&&o!==tM(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kg{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function gM(e,t,r){if(e||(e=new Fr([],{})),0===e.segments.length&&e.hasChildren())return yp(e,t,r);const n=function lH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(vp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!vM(l,c,s))return i;n+=2}else{if(!vM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Fr(e.segments.slice(0,n.pathIndex),{});return i.children[In]=new Fr(e.segments.slice(n.pathIndex),e.children),yp(i,0,o)}return n.match&&0===o.length?new Fr(e.segments,{}):n.match&&!e.hasChildren()?rC(e,t,r):n.match?yp(e,0,o):rC(e,t,r)}function yp(e,t,r){if(0===r.length)return new Fr(e.segments,{});{const n=function aH(e){return vp(e[0])?e[0].outlets:{[In]:e}}(r),o={};if(Object.keys(n).some(i=>i!==In)&&e.children[In]&&1===e.numberOfChildren&&0===e.children[In].segments.length){const i=yp(e.children[In],t,r);return new Fr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=gM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Fr(e.segments,o)}}function rC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(vp(i)){const l=cH(i.outlets);return new Fr(n,l)}if(0===o&&Ag(r[0])){n.push(new gp(e.segments[t].path,_M(r[0]))),o++;continue}const s=vp(i)?i.outlets[In]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Ag(a)?(n.push(new gp(s,_M(a))),o+=2):(n.push(new gp(s,{})),o++)}return new Fr(n,{})}function cH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=rC(new Fr([],{}),0,n))}),t}function _M(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function vM(e,t,r){return e==r.path&&tl(t,r.parameters)}const bp="imperative";class nl{constructor(t,r){this.id=t,this.url=r}}class Cp extends nl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ml extends nl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dd extends nl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ed extends nl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class Rg extends nl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yM extends nl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uH extends nl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dH extends nl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fH extends nl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pH extends nl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _H{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bM{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oC{}class iC{constructor(t){this.url=t}}class bH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kc,this.attachRef=null}}let Kc=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new bH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class CM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=sC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=sC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=aC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return aC(t,this._root).map(r=>r.value)}}function sC(e,t){if(e===t.value)return t;for(const r of t.children){const n=sC(e,r);if(n)return n}return null}function aC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=aC(e,r);if(n.length)return n.unshift(t),n}return[]}class Da{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Id(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class SM extends CM{constructor(t,r){super(t),this.snapshot=r,uC(this,t)}toString(){return this.snapshot.toString()}}function wM(e,t){const r=function CH(e,t){const s=new cC([],{},{},"",{},In,t,null,{});return new DM("",new Da(s,[]))}(0,t),n=new po([new gp("",{})]),o=new po({}),i=new po({}),s=new po({}),a=new po(""),l=new rl(n,o,s,a,i,In,t,r.root);return l.snapshot=r.root,new SM(new Da(l,[]),r)}class rl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(cn(c=>c[mp]))??Ht(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(cn(t=>Sd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(cn(t=>Sd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&IM(o)&&(n.resolve[mp]=o.title),n}class cC{get title(){return this.data?.[mp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DM extends CM{constructor(t,r){super(r),this.url=t,uC(this,r)}toString(){return EM(this._root)}}function uC(e,t){t.value._routerState=e,t.children.forEach(r=>uC(e,r))}function EM(e){const t=e.children.length>0?` { ${e.children.map(EM).join(", ")} } `:"";return`${e.value}${t}`}function dC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,tl(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),tl(t.params,r.params)||e.paramsSubject.next(r.params),function $U(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!tl(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),tl(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function fC(e,t){const r=tl(e.params,t.params)&&function GU(e,t){return Zc(e,t)&&e.every((r,n)=>tl(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||fC(e.parent,t.parent))}function IM(e){return"string"==typeof e.title||null===e.title}let xM=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=In,this.activateEvents=new an,this.deactivateEvents=new an,this.attachEvents=new an,this.detachEvents=new an,this.parentContexts=rt(Kc),this.location=rt(is),this.changeDetector=rt(ft),this.environmentInjector=rt(oi),this.inputBinder=rt(Pg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new SH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_i]}),t})();class SH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===rl?this.route:t===Kc?this.childContexts:this.parent.get(t,r)}}const Pg=new pt("");let TM=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Sg([o.queryParams,o.params,o.data]).pipe(eo(([s,a,l],c)=>(l={...s,...a,...l},0===c?Ht(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=xx(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function Sp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function DH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Sp(e,n,o);return Sp(e,n)})}(e,t,r);return new Da(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sp(e,a)),s}}const n=function EH(e){return new rl(new po(e.url),new po(e.params),new po(e.queryParams),new po(e.fragment),new po(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Sp(e,i));return new Da(n,o)}}const pC="ngNavigationCancelingError";function MM(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=Yc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=AM(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function AM(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[pC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function kM(e){return e&&e[pC]}let RM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[Bm],decls:1,vars:0,template:function(n,o){1&n&&Ge(0,"router-outlet")},dependencies:[xM],encapsulation:2}),t})();function hC(e){const t=e.children&&e.children.map(hC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==In&&(r.component=RM),r}function ol(e){return e.outlet||In}function wp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class PH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),dC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Id(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Id(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Id(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Id(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new yH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new _H(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(dC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=wp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class PM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Og{constructor(t,r){this.component=t,this.route=r}}function OH(e,t,r){const n=e._root;return Dp(n,t?t._root:null,r,[n.value])}function xd(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Wn(e){return null!==sr(e)}(e)?t.get(e):e:n}function Dp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Id(t);return e.children.forEach(s=>{(function FH(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function LH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Zc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zc(e.url,t.url)||!tl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fC(e,t)||!tl(e.queryParams,t.queryParams);default:return!fC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new PM(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Dp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Og(a.outlet.component,s))}else s&&Ep(t,a,o),o.canActivateChecks.push(new PM(n)),Dp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ep(a,r.getContext(s),o)),o}function Ep(e,t,r){const n=Id(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Ep(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new Og(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Ip(e){return"function"==typeof e}function OM(e){return e instanceof wg||"EmptyError"===e?.name}const Ng=Symbol("INITIAL_VALUE");function Td(){return eo(e=>Sg(e.map(t=>t.pipe(Cd(1),KT(Ng)))).pipe(cn(t=>{for(const r of t)if(!0!==r){if(r===Ng)return Ng;if(!1===r||r instanceof wd)return r}return!0}),wa(t=>t!==Ng),Cd(1)))}function NM(e){return function wr(...e){return _o(e)}(Ci(t=>{if(Yc(t))throw MM(0,t)}),cn(t=>!0===t))}class mC{constructor(t){this.segmentGroup=t||null}}class gC extends Error{constructor(t){super(),this.urlTree=t}}function Md(e){return Dg(new mC(e))}class r6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Ht(n);if(o.numberOfChildren>1||!o.children[In])return Dg(new Xe(4e3,!1));o=o.children[In]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new gC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new wd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Fr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const _C={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function o6(e,t,r,n,o){const i=vC(e,t,r);return i.matched?(n=function xH(e,t){return e.providers&&!e._injector&&(e._injector=By(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function e6(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Ht(o.map(s=>{const a=xd(s,e);return dc(function UH(e){return e&&Ip(e.canMatch)}(a)?a.canMatch(t,r):ql(e,()=>a(t,r)))})).pipe(Td(),NM()):Ht(!0)}(n,t,r).pipe(cn(s=>!0===s?i:{..._C}))):Ht(i)}function vC(e,t,r){if("**"===t.path)return function i6(e){return{matched:!0,parameters:e.length>0?tM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{..._C}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||LU)(r,e,t);if(!o)return{..._C};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function FM(e,t,r,n){return r.length>0&&function l6(e,t,r){return r.some(n=>Fg(e,t,n)&&ol(n)!==In)}(e,r,n)?{segmentGroup:new Fr(t,a6(n,new Fr(r,e.children))),slicedSegments:[]}:0===r.length&&function c6(e,t,r){return r.some(n=>Fg(e,t,n))}(e,r,n)?{segmentGroup:new Fr(e.segments,s6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Fr(e.segments,e.children),slicedSegments:r}}function s6(e,t,r,n,o){const i={};for(const s of n)if(Fg(e,r,s)&&!o[ol(s)]){const a=new Fr([],{});i[ol(s)]=a}return{...o,...i}}function a6(e,t){const r={};r[In]=t;for(const n of e)if(""===n.path&&ol(n)!==In){const o=new Fr([],{});r[ol(n)]=o}return r}function Fg(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class f6{}class m6{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new r6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=FM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(cn(r=>{const n=new cC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},In,this.rootComponentType,null,{}),o=new Da(n,r),i=new DM("",o),s=function rH(e,t,r=null,n=null){return pM(fM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,In).pipe(Wc(n=>{if(n instanceof gC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof mC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=lC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(cn(i=>i instanceof Da?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return Er(o).pipe(yd(i=>{const s=n.children[i],a=function kH(e,t){const r=e.filter(n=>ol(n)===t);return r.push(...e.filter(n=>ol(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function OU(e,t){return Tn(function PU(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Nn(s,f=>{const h=c++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Eg(null),function NU(e,t){const r=arguments.length>=2;return n=>n.pipe(e?wa((o,i)=>e(o,i,n)):nr,Xb(1),r?Eg(t):XT(()=>new wg))}(),Bn(i=>{if(null===i)return Md(n);const s=LM(i);return function g6(e){e.sort((t,r)=>t.value.outlet===In?-1:r.value.outlet===In?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Ht(s)}))}processSegment(t,r,n,o,i,s){return Er(r).pipe(yd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(Wc(l=>{if(l instanceof mC)return Ht(null);throw l}))),uc(a=>!!a),Wc(a=>{if(OM(a))return function d6(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Ht(new f6):Md(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function u6(e,t,r,n){return!!(ol(e)===n||n!==In&&Fg(t,r,e))&&vC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Md(o):Md(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=vC(r,o,i);if(!a)return Md(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,h).pipe(Bn(g=>this.processSegment(t,n,r,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=o6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(eo(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(eo(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:g}=a,b=new cC(f,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function v6(e){return e.data||{}}(n),ol(n),n.component??n._loadedComponent??null,n,function y6(e){return e.resolve||{}}(n)),{segmentGroup:B,slicedSegments:ee}=FM(r,f,h,l);if(0===ee.length&&B.hasChildren())return this.processChildren(c,l,B).pipe(cn(Se=>null===Se?null:new Da(b,Se)));if(0===l.length&&0===ee.length)return Ht(new Da(b,[]));const ve=ol(n)===i;return this.processSegment(c,l,B,ee,ve?In:i,!0).pipe(cn(Se=>new Da(b,Se instanceof Da?[Se]:[])))})):Md(r)))}getChildConfig(t,r,n){return r.children?Ht({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Ht({routes:r._loadedRoutes,injector:r._loadedInjector}):function JH(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(s=>{const a=xd(s,e);return dc(function BH(e){return e&&Ip(e.canLoad)}(a)?a.canLoad(t,r):ql(e,()=>a(t,r)))})).pipe(Td(),NM())}(t,r,n).pipe(Bn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ci(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function n6(e){return Dg(AM(!1,3))}())):Ht({routes:[],injector:t})}}function _6(e){const t=e.value.routeConfig;return t&&""===t.path}function LM(e){const t=[],r=new Set;for(const n of e){if(!_6(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=LM(n.children);t.push(new Da(n.value,o))}return t.filter(n=>!r.has(n))}function $M(e){const t=e.children.map(r=>$M(r)).flat();return[e,...t]}function yC(e){return eo(t=>{const r=e(t);return r?Er(r).pipe(cn(()=>t)):Ht(t)})}let BM=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===In);return o}getResolvedTitleForRoute(n){return n.data[mp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(E6),providedIn:"root"}),t})(),E6=(()=>{var e;class t extends BM{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gT))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ad=new pt("",{providedIn:"root",factory:()=>({})}),kd=new pt("ROUTES");let bC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(G1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ht(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=dc(n.loadComponent()).pipe(cn(VM),Ci(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),fp(()=>{this.componentLoaders.delete(n)})),i=new YT(o,()=>new xn).pipe(Kb());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Ht({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function I6(e,t,r,n){return dc(e.loadChildren()).pipe(cn(VM),Bn(o=>o instanceof a1||Array.isArray(o)?Ht(o):Er(t.compileModuleAsync(o))),cn(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(kd,[],{optional:!0,self:!0}).flat()),{routes:s.map(hC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(fp(()=>{this.childrenLoaders.delete(o)})),a=new YT(s,()=>new xn).pipe(Kb());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function VM(e){return function x6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let CC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(T6),providedIn:"root"}),t})(),T6=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const jM=new pt(""),GM=new pt("");function M6(e,t,r){const n=e.get(GM),o=e.get(ii);return e.get(je).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function A6(e){return new Promise(t=>{ND(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&ql(e,()=>l({transition:a,from:t,to:r})),s})}let Lg=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn,this.transitionAbortSubject=new xn,this.configLoader=rt(bC),this.environmentInjector=rt(oi),this.urlSerializer=rt(qc),this.rootContexts=rt(Kc),this.location=rt(ic),this.inputBindingEnabled=null!==rt(Pg,{optional:!0}),this.titleStrategy=rt(BM),this.options=rt(Ad,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=rt(CC),this.createViewTransition=rt(jM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new po({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wa(s=>0!==s.id),cn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),eo(s=>{this.currentTransition=s;let a=!1,l=!1;return Ht(s).pipe(Ci(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),eo(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Ed(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),Io}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ht(c).pipe(eo(g=>{const b=this.transitions?.getValue();return this.events.next(new Cp(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),b!==this.transitions?.getValue()?Io:Promise.resolve(g)}),function b6(e,t,r,n,o,i){return Bn(s=>function p6(e,t,r,n,o,i,s="emptyOnly"){return new m6(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(cn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ci(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const b=new yM(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:b,source:B,restoredState:ee,extras:ve}=c,Se=new Cp(g,this.urlSerializer.serialize(b),B,ee);this.events.next(Se);const De=wM(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:De,urlAfterRedirects:b,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Ht(s)}{const g="";return this.events.next(new Ed(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),Io}}),Ci(c=>{const f=new uH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),cn(c=>(this.currentTransition=s={...c,guards:OH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function zH(e,t){return Bn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Ht({...r,guardsResult:!0}):function WH(e,t,r,n){return Er(e).pipe(Bn(o=>function QH(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Ht(i.map(a=>{const l=wp(t)??o,c=xd(a,l);return dc(function GH(e){return e&&Ip(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):ql(l,()=>c(e,t,r,n))).pipe(uc())})).pipe(Td()):Ht(!0)}(o.component,o.route,r,t,n)),uc(o=>!0!==o,!0))}(s,n,o,e).pipe(Bn(a=>a&&function $H(e){return"boolean"==typeof e}(a)?function ZH(e,t,r,n){return Er(t).pipe(yd(o=>Yb(function YH(e,t){return null!==e&&t&&t(new gH(e)),Ht(!0)}(o.route.parent,n),function qH(e,t){return null!==e&&t&&t(new vH(e)),Ht(!0)}(o.route,n),function XH(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function NH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>qT(()=>Ht(s.guards.map(l=>{const c=wp(s.node)??r,f=xd(l,c);return dc(function jH(e){return e&&Ip(e.canActivateChild)}(f)?f.canActivateChild(n,e):ql(c,()=>f(n,e))).pipe(uc())})).pipe(Td())));return Ht(i).pipe(Td())}(e,o.path,r),function KH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Ht(!0);const o=n.map(i=>qT(()=>{const s=wp(t)??r,a=xd(i,s);return dc(function VH(e){return e&&Ip(e.canActivate)}(a)?a.canActivate(t,e):ql(s,()=>a(t,e))).pipe(uc())}));return Ht(o).pipe(Td())}(e,o.route,r))),uc(o=>!0!==o,!0))}(n,i,e,t):Ht(a)),cn(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ci(c=>{if(s.guardsResult=c.guardsResult,Yc(c.guardsResult))throw MM(0,c.guardsResult);const f=new dH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),wa(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),yC(c=>{if(c.guards.canActivateChecks.length)return Ht(c).pipe(Ci(f=>{const h=new fH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),eo(f=>{let h=!1;return Ht(f).pipe(function C6(e,t){return Bn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Ht(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of $M(l))s.add(c);let a=0;return Er(s).pipe(yd(l=>i.has(l)?function S6(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!IM(o)&&(i[mp]=o.title),function w6(e,t,r,n){const o=Qb(e);if(0===o.length)return Ht({});const i={};return Er(o).pipe(Bn(s=>function D6(e,t,r,n){const o=wp(t)??n,i=xd(e,o);return dc(i.resolve?i.resolve(t,r):ql(o,()=>i(t,r)))}(e[s],t,r,n).pipe(uc(),Ci(a=>{i[s]=a}))),Xb(1),QT(i),Wc(s=>OM(s)?Io:Dg(s)))}(i,e,t,n).pipe(cn(s=>(e._resolvedData=s,e.data=lC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=lC(l,l.parent,e).resolve,Ht(void 0))),Ci(()=>a++),Xb(1),Bn(l=>a===s.size?Ht(r):Io))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ci({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ci(f=>{const h=new pH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),yC(c=>{const f=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ci(b=>{h.component=b}),cn(()=>{})));for(const b of h.children)g.push(...f(b));return g};return Sg(f(c.targetSnapshot.root)).pipe(Eg(),Cd(1))}),yC(()=>this.afterPreactivation()),eo(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return h?Er(h).pipe(cn(()=>s)):Ht(s)}),cn(c=>{const f=function wH(e,t,r){const n=Sp(e,t._root,r?r._root:void 0);return new SM(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ci(()=>{this.events.next(new oC)}),((e,t,r,n)=>cn(o=>(new PH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cd(1),Ci({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ml(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),JT(this.transitionAbortSubject.pipe(Ci(c=>{throw c}))),fp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Wc(c=>{if(l=!0,kM(c))this.events.next(new Dd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function IH(e){return kM(e)&&Yc(e.url)}(c)?this.events.next(new iC(c.url)):s.resolve(!1);else{this.events.next(new Rg(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Io}))}))}cancelNavigationTransition(n,o,i){const s=new Dd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function k6(e){return e!==bp}let UM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(P6),providedIn:"root"}),t})();class R6{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let P6=(()=>{var e;class t extends R6{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),HM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(O6),providedIn:"root"}),t})(),O6=(()=>{var e;class t extends HM{constructor(){super(...arguments),this.location=rt(ic),this.urlSerializer=rt(qc),this.options=rt(Ad,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=rt(CC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wM(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Cp)this.stateMemento=this.createStateMemento();else if(n instanceof Ed)this.rawUrlTree=o.initialUrl;else if(n instanceof yM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof oC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Dd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof Rg?this.restoreHistory(o,!0):n instanceof Ml&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var xp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(xp||{});function zM(e,t){e.events.pipe(wa(r=>r instanceof Ml||r instanceof Dd||r instanceof Rg||r instanceof Ed),cn(r=>r instanceof Ml||r instanceof Ed?xp.COMPLETE:r instanceof Dd&&(0===r.code||1===r.code)?xp.REDIRECTING:xp.FAILED),wa(r=>r!==xp.REDIRECTING),Cd(1)).subscribe(()=>{t()})}function N6(e){throw e}const F6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=rt(j1),this.stateManager=rt(HM),this.options=rt(Ad,{optional:!0})||{},this.pendingTasks=rt(Hm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=rt(Lg),this.urlSerializer=rt(qc),this.location=rt(ic),this.urlHandlingStrategy=rt(CC),this._events=new xn,this.errorHandler=this.options.errorHandler||N6,this.navigated=!1,this.routeReuseStrategy=rt(UM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=rt(kd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!rt(Pg,{optional:!0}),this.eventsSubscription=new yt,this.isNgZoneEnabled=rt(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Dd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof Ml)this.navigated=!0;else if(o instanceof iC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||k6(i.source)};this.scheduleNavigation(a,bp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function B6(e){return!(e instanceof oC||e instanceof iC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let g,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=fM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return pM(g,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=Yc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bp,null,o)}navigate(n,o={skipLocationChange:!1}){return function $6(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...F6}:!1===o?{...L6}:o,Yc(n))return rM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return rM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((g,b)=>{l=g,c=b});const h=this.pendingTasks.add();return zM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class WM{}let G6=(()=>{var e;class t{preload(n,o){return o().pipe(Wc(()=>Ht(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),U6=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(wa(n=>n instanceof Ml),yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=By(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Er(i).pipe(No())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Ht(null);const s=i.pipe(Bn(a=>null===a?Ht(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?Er([s,this.loader.loadComponent(o)]).pipe(No()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(jo),ce(G1),ce(oi),ce(WM),ce(bC))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const SC=new pt("");let ZM=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ml?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ed&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function uD(){throw new Error("invalid")}()},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function il(e,t){return{\u0275kind:e,\u0275providers:t}}function YM(){const e=rt(Yr);return t=>{const r=e.get(ba);if(t!==r.components[0])return;const n=e.get(jo),o=e.get(KM);1===e.get(wC)&&n.initialNavigation(),e.get(XM,null,Qe.Optional)?.setUpPreloading(),e.get(SC,null,Qe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const KM=new pt("",{factory:()=>new xn}),wC=new pt("",{providedIn:"root",factory:()=>1}),XM=new pt("");function Z6(e){return il(0,[{provide:XM,useExisting:U6},{provide:WM,useExisting:e}])}function Y6(e){return il(9,[{provide:jM,useValue:M6},{provide:GM,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const QM=new pt("ROUTER_FORROOT_GUARD"),K6=[ic,{provide:qc,useClass:Jb},jo,Kc,{provide:rl,useFactory:function qM(e){return e.routerState.root},deps:[jo]},bC,[]];let $g=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[K6,[],{provide:kd,multi:!0,useValue:n},{provide:QM,useFactory:ez,deps:[[jo,new Nh,new Fh]]},{provide:Ad,useValue:o||{}},o?.useHash?{provide:Ja,useClass:kx}:{provide:Ja,useClass:Ax},{provide:SC,useFactory:()=>{const e=rt(Bj),t=rt(je),r=rt(Ad),n=rt(Lg),o=rt(qc);return r.scrollOffset&&e.setOffset(r.scrollOffset),new ZM(o,n,e,t,r)}},o?.preloadingStrategy?Z6(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?tz(o):[],o?.bindToComponentInputs?il(8,[TM,{provide:Pg,useExisting:TM}]).\u0275providers:[],o?.enableViewTransitions?Y6().\u0275providers:[],[{provide:JM,useFactory:YM},{provide:nb,multi:!0,useExisting:JM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:kd,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(QM,8))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();function ez(e){return"guarded"}function tz(e){return["disabled"===e.initialNavigation?il(3,[{provide:ip,multi:!0,useFactory:()=>{const t=rt(jo);return()=>{t.setUpLocationChangeListener()}}},{provide:wC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?il(2,[{provide:wC,useValue:0},{provide:ip,multi:!0,deps:[Yr],useFactory:t=>{const r=t.get(b4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(jo),i=t.get(KM);zM(o,()=>{n(!0)}),t.get(Lg).afterPreactivation=()=>(n(!0),i.closed?Ht(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const JM=new pt("");class rz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const fc=new rz,nA=e=>oA(e),oA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=lz(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},lz=e=>{const t=fc.get("platform");return Object.keys(cA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):cA[r](e)})},DC=e=>!!(Xc(e,/iPad/i)||Xc(e,/Macintosh/i)&&Bg(e)),iA=e=>Xc(e,/android|sink/i),Bg=e=>vz(e,"(any-pointer:coarse)"),sA=e=>aA(e)||lA(e),aA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),lA=e=>{const t=e.Capacitor;return!!t?.isNative},Xc=(e,t)=>t.test(e.navigator.userAgent),vz=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},cA={ipad:DC,iphone:e=>Xc(e,/iPhone/i),ios:e=>Xc(e,/iPhone|iPod/i)||DC(e),android:iA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return DC(e)||(e=>iA(e)&&!Xc(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:aA,capacitor:lA,electron:e=>Xc(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Bg,mobileweb:e=>Bg(e)&&!sA(e),desktop:e=>!Bg(e),hybrid:sA};var Mp=C(7687),yz=C(276);const bz=["addListener","removeListener"],Cz=["addEventListener","removeEventListener"],Sz=["on","off"];function Vg(e,t,r,n){if(xe(r)&&(n=r,r=void 0),n)return Vg(e,t,r).pipe(qb(n));const[o,i]=function Ez(e){return xe(e.addEventListener)&&xe(e.removeEventListener)}(e)?Cz.map(s=>a=>e[s](t,a,r)):function wz(e){return xe(e.addListener)&&xe(e.removeListener)}(e)?bz.map(uA(e,t)):function Dz(e){return xe(e.on)&&xe(e.off)}(e)?Sz.map(uA(e,t)):[];if(!o&&ut(e))return Bn(s=>Vg(s,t,r))(A(e));if(!o)throw new TypeError("Invalid event target");return new On(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function uA(e,t){return r=>n=>e[r](t,n)}let dA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sl),_(tt))},e.\u0275dir=Lt({type:e}),t})(),Qc=(()=>{var e;class t extends dA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,features:[Cn]}),t})();const Oi=new pt("NgValueAccessor"),Tz={provide:Oi,useExisting:zn(()=>EC),multi:!0},Az=new pt("CompositionEventMode");let EC=(()=>{var e;class t extends dA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mz(){const e=oc()?oc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sl),_(tt),_(Az,8))},e.\u0275dir=Lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Be("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[fr([Tz]),Cn]}),t})();function pc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function pA(e){return null!=e&&"number"==typeof e.length}const si=new pt("NgValidators"),hc=new pt("NgAsyncValidators"),kz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ap{static min(t){return hA(t)}static max(t){return mA(t)}static required(t){return function gA(e){return pc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function _A(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function vA(e){return pc(e.value)||kz.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function yA(e){return t=>pc(t.value)||!pA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return bA(t)}static pattern(t){return function CA(e){if(!e)return jg;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(pc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return xA(t)}static composeAsync(t){return TA(t)}}function hA(e){return t=>{if(pc(t.value)||pc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function mA(e){return t=>{if(pc(t.value)||pc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function bA(e){return t=>pA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function jg(e){return null}function SA(e){return null!=e}function wA(e){return Jf(e)?Er(e):e}function DA(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function EA(e,t){return t.map(r=>r(e))}function IA(e){return e.map(t=>function Rz(e){return!e.validate}(t)?t:r=>t.validate(r))}function xA(e){if(!e)return null;const t=e.filter(SA);return 0==t.length?null:function(r){return DA(EA(r,t))}}function IC(e){return null!=e?xA(IA(e)):null}function TA(e){if(!e)return null;const t=e.filter(SA);return 0==t.length?null:function(r){return function Iz(...e){const t=na(e),{args:r,keys:n}=zT(e),o=new On(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let h=!1;A(r[f]).subscribe(Nn(i,g=>{h||(h=!0,c--),a[f]=g},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(n?WT(n,a):a),i.complete())}))}});return t?o.pipe(qb(t)):o}(EA(r,t).map(wA)).pipe(cn(DA))}}function xC(e){return null!=e?TA(IA(e)):null}function MA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function AA(e){return e._rawValidators}function kA(e){return e._rawAsyncValidators}function TC(e){return e?Array.isArray(e)?e:[e]:[]}function Gg(e,t){return Array.isArray(e)?e.includes(t):e===t}function RA(e,t){const r=TC(t);return TC(e).forEach(o=>{Gg(r,o)||r.push(o)}),r}function PA(e,t){return TC(t).filter(r=>!Gg(e,r))}class OA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=IC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Ni extends OA{get formDirective(){return null}get path(){return null}}class Al extends OA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kl=(()=>{var e;class t extends NA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Al,2))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&ga("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Cn]}),t})(),Rl=(()=>{var e;class t extends NA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ni,10))},e.\u0275dir=Lt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&ga("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Cn]}),t})();const kp="VALID",Hg="INVALID",Pd="PENDING",Rp="DISABLED";function kC(e){return(zg(e)?e.validators:e)||null}function RC(e,t){return(zg(t)?t.asyncValidators:e)||null}function zg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class BA{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kp}get invalid(){return this.status===Hg}get pending(){return this.status==Pd}get disabled(){return this.status===Rp}get enabled(){return this.status!==Rp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(RA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PA(t,this._rawAsyncValidators))}hasValidator(t){return Gg(this._rawValidators,t)}hasAsyncValidator(t){return Gg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Rp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=kp,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kp||this.status===Pd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rp:kp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pd,this._hasOwnPendingAsyncValidator=!0;const r=wA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new an,this.statusChanges=new an}_calculateStatus(){return this._allControlsDisabled()?Rp:this.errors?Hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pd)?Pd:this._anyControlsHaveStatus(Hg)?Hg:kp}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Fz(e){return Array.isArray(e)?IC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Lz(e){return Array.isArray(e)?xC(e):e||null}(this._rawAsyncValidators)}}class mc extends BA{constructor(t,r,n){super(kC(r),RC(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function $A(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function LA(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Wg=mc,Jc=new pt("CallSetDisabledState",{providedIn:"root",factory:()=>Pp}),Pp="always";function Op(e,t,r=Pp){PC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function Vz(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&VA(e,t)})}(e,t),function Gz(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function jz(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&VA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Bz(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function qg(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Kg(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Yg(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function PC(e,t){const r=AA(e);null!==t.validator?e.setValidators(MA(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=kA(e);null!==t.asyncValidator?e.setAsyncValidators(MA(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Yg(t._rawValidators,o),Yg(t._rawAsyncValidators,o)}function Kg(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=AA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=kA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return Yg(t._rawValidators,n),Yg(t._rawAsyncValidators,n),r}function VA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function UA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function HA(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const as=class extends BA{constructor(t=null,r,n){super(kC(r),RC(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=HA(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){HA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Go=as;let Pl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),KA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();const $C=new pt("NgModelWithFormControlWarning"),n5={provide:Ni,useExisting:zn(()=>Ea)};let Ea=(()=>{var e;class t extends Ni{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new an,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Op(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){qg(n.control||null,n,!1),function Wz(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function GA(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(qg(o||null,n),(e=>e instanceof as)(i)&&(Op(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function jA(e,t){PC(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function Uz(e,t){return Kg(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PC(this.form,this),this._oldForm&&Kg(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(_(si,10),_(hc,10),_(Jc,8))},e.\u0275dir=Lt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Be("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fr([n5]),Cn,_i]}),t})();const i5={provide:Al,useExisting:zn(()=>sl)};let sl=(()=>{var e;class t extends Al{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new an,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function FC(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===EC?r=i:function zz(e){return Object.getPrototypeOf(e.constructor)===Qc}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function NC(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Zg(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(_(Ni,13),_(si,10),_(hc,10),_(Oi,10),_($C,8))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fr([i5]),Cn,_i]}),t})();function ok(e){return"number"==typeof e?e:parseFloat(e)}let eu=(()=>{var e;class t{constructor(){this._validator=jg}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):jg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,features:[_i]}),t})();const f5={provide:si,useExisting:zn(()=>UC),multi:!0};let UC=(()=>{var e;class t extends eu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>ok(n),this.createValidator=n=>mA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Hs("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[fr([f5]),Cn]}),t})();const p5={provide:si,useExisting:zn(()=>HC),multi:!0};let HC=(()=>{var e;class t extends eu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>ok(n),this.createValidator=n=>hA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Hs("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[fr([p5]),Cn]}),t})();const v5={provide:si,useExisting:zn(()=>WC),multi:!0};let WC=(()=>{var e;class t extends eu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function rk(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>bA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Hs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[fr([v5]),Cn]}),t})(),ck=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[KA]}),t})(),tu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jc,useValue:n.callSetDisabledState??Pp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[ck]}),t})(),Xg=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:$C,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Jc,useValue:n.callSetDisabledState??Pp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[ck]}),t})();const C5=["tabsInner"];let S5=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new xn,this.keyboardDidShow=new xn,this.keyboardDidHide=new xn,this.pause=new xn,this.resume=new xn,this.resize=new xn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},Od(this.pause,r,"pause",n),Od(this.resume,r,"resume",n),Od(this.backButton,r,"ionBackButton",n),Od(this.resize,this.win,"resize",n),Od(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),Od(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),nA(e).includes(t)))(this.win,r)}platforms(){return nA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return w5(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ce(ii),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const w5=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Od=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let Nd=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=uk,this.animated=dk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Cp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,H.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=D5(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=uk,this.animated=dk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ce(S5),ce(ic),ce(qc),ce(jo,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const D5=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},uk="auto",dk=void 0;let Qg=(()=>{class e{get(r,n){const o=ZC();return o?o.get(r,n):null}getBoolean(r,n){const o=ZC();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=ZC();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const fk=new pt("USERCONFIG"),ZC=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class pk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Fp=(()=>{class e{constructor(){this.zone=rt(je),this.applicationRef=rt(ba)}create(r,n,o){return new E5(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),e})();class E5{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(I5(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const I5=(e,t,r,n,o,i,s,a,l,c,f)=>{const g=function _4(e,t){const r=vn(e),n=t.elementInjector||jh();return new Ff(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Yr.create({providers:T5(l),parent:r})}),b=g.instance,B=g.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),c)for(const ve of c)B.classList.add(ve);const ee=hk(e,b,B);return s.appendChild(B),n.attachView(g.hostView),o.set(B,g),i.set(B,ee),B},x5=[Mp.L,Mp.a,Mp.b,Mp.c,Mp.d],hk=(e,t,r)=>e.run(()=>{const n=x5.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),mk=new pt("NavParamsToken"),T5=e=>[{provide:mk,useValue:e},{provide:pk,useFactory:M5,deps:[mk]}],M5=e=>new pk(e),A5=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},k5=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function Jg(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&A5(r,o),i&&k5(r,i),r}}const gk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),YC=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},_k=(e,t)=>!t||e.stackId!==t.stackId,j5=(e,t)=>{if(!e)return;const r=vk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},vk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),yk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class G5{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?vk(t):void 0}createView(t,r){const n=YC(this.router,r),o=t?.location?.nativeElement,i=hk(this.zone,t.instance,o);return{id:this.nextId++,stackId:j5(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=YC(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=_k(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),g=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>U5(t,g,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&bk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(yk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?gk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):gk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,H.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const U5=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{bk(e,t,r,n,o),i()})}):Promise.resolve(),bk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(yk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Ck=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new po(null),this.activated=null,this._activatedRoute=null,this.name=In,this.stackWillChange=new an,this.stackDidChange=new an,this.activateEvents=new an,this.deactivateEvents=new an,this.parentContexts=rt(Kc),this.location=rt(is),this.environmentInjector=rt(oi),this.inputBinder=rt(Sk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=rt(Qg),this.navCtrl=rt(Nd),this.nativeEl=i.nativeElement,this.name=r||In,this.tabsPrefix="true"===n?YC(s,l):void 0,this.stackCtrl=new G5(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,yz.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new po(null),f=this.createActivatedRouteProxy(c,r),h=new H5(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:_k(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new rl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(wa(o=>!!o),eo(o=>this.currentActivatedRoute$.pipe(wa(i=>null!==i&&i.component===o),eo(i=>i&&i.activatedRoute[n]),Fs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Zl("name"),Zl("tabs"),_(ic),_(tt),_(jo),_(je),_(rl),_(e,12))},e.\u0275dir=Lt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class H5{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===rl?this.route:t===Kc?this.childContexts:this.parent.get(t,r)}}const Sk=new pt("");let z5=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Sg([n.queryParams,n.params,n.data]).pipe(eo(([i,s,a],l)=>(a={...i,...s,...a},0===l?Ht(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=xx(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),e})();function Z5(e){return e?.componentInputBindingEnabled?new z5:null}const q5=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Y5=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(_(Ck,8),_(Nd),_(Qg),_(tt),_(je),_(ft))},e.\u0275dir=Lt({type:e,hostBindings:function(r,n){1&r&&Be("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=ae([Jg({inputs:q5})],e),e})();const Q5=["animated","animation","root","rootParams","swipeGesture"],J5=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let e8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=Vg(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(_(tt),_(oi),_(Yr),_(Fp),_(je),_(ft))},e.\u0275dir=Lt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=ae([Jg({inputs:Q5,methods:J5})],e),e})(),t8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new an,this.ionTabsDidChange=new an,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(_(Nd))},e.\u0275dir=Lt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&jc(C5,7,tt),2&r){let o;Ws(o=Zs())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Be("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const wk=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Lp=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Fd(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Fd(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Fd(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Al)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Fd(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Fd(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Lt({type:e,hostBindings:function(r,n){1&r&&Be("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Fd=e=>{wk(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=n8(t);KC(t,n);const o=t.closest("ion-item");o&&KC(o,r?[...n,"item-has-value"]:n)})},n8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&r8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},KC=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},r8=(e,t)=>e.substring(0,t.length)===t;class o8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class $p{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var XC=C(2723),i8=(C(8044),C(5444),C(5922),C(4923),C(5194)),Dk=C(2984),Bp=(C(4656),C(7261)),s8=(C(6940),C(3426));C(4967);const l8=i8.i,xt=["*"],u8=["outlet"],d8=[[["","slot","top"]],"*"],f8=["[slot=top]","*"];let Ld=(()=>{class e extends Lp{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Fd(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Be("ionChange",function(i){return n._handleIonChange(i.target)})},features:[fr([{provide:Oi,useExisting:e,multi:!0}]),Cn]}),e})(),e_=(()=>{class e extends Lp{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Be("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[fr([{provide:Oi,useExisting:e,multi:!0}]),Cn]}),e})(),Ol=(()=>{class e extends Lp{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Be("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[fr([{provide:Oi,useExisting:e,multi:!0}]),Cn]}),e})();const _8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},v8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},mr=(e,t,r)=>{r.forEach(n=>e[n]=Vg(t,n))};function Mt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&_8(r,o),i&&v8(r,i),r}}let Ek=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-app"]],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({})],e),e})(),Fi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Li=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["collapse"]})],e),e})(),Ik=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),$i=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Bi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["collapse","mode","translucent"]})],e),e})(),ai=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Nl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Jo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),t_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),n_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["side"]})],e),e})(),r_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Vi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","mode","position"]})],e),e})(),al=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),QC=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),o_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),i_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["disabled","value"]})],e),e})(),Vp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","duration","name","paused"]})],e),e})(),s_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),xk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","size"]})],e),e})(),jp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","mode"]})],e),e})(),Gp=(()=>{class e extends Ck{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Zl("name"),Zl("tabs"),_(ic),_(tt),_(jo),_(je),_(rl),_(e,12))},e.\u0275dir=Lt({type:e,selectors:[["ion-router-outlet"]],features:[Cn]}),e})(),Tk=(()=>{class e extends t8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=qr(e)))(n||e)}})(),e.\u0275cmp=Ye({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(dd(o,s_,5),dd(o,s_,4)),2&r){let i;Ws(i=Zs())&&(n.tabBar=i.first),Ws(i=Zs())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&jc(u8,5,Gp),2&r){let o;Ws(o=Zs())&&(n.outlet=o.first)}},features:[Cn],ngContentSelectors:f8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(Dt(d8),wt(0),Y(1,"div",0,1)(3,"ion-router-outlet",2,3),Be("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),G()(),wt(5,1))},dependencies:[Gp],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),Mk=(()=>{class e extends Y5{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(Gp,8),_(Nd),_(Qg),_(tt),_(je),_(ft))},e.\u0275cmp=Ye({type:e,selectors:[["ion-back-button"]],features:[Cn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e})(),JC=(()=>{class e extends e8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(tt),_(oi),_(Yr),_(Fp),_(je),_(ft))},e.\u0275cmp=Ye({type:e,selectors:[["ion-nav"]],features:[Cn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e})();const wW={provide:si,useExisting:zn(()=>Ak),multi:!0};let Ak=(()=>{class e extends UC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=qr(e)))(n||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Hs("max",n._enabled?n.max:null)},features:[fr([wW]),Cn]}),e})();const DW={provide:si,useExisting:zn(()=>kk),multi:!0};let kk=(()=>{class e extends HC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=qr(e)))(n||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Hs("min",n._enabled?n.min:null)},features:[fr([DW]),Cn]}),e})(),nu=(()=>{class e extends $p{constructor(){super(Bp.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Up=(()=>{class e extends $p{constructor(){super(Bp.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ll=(()=>{class e extends $p{constructor(){super(Bp.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ls=(()=>{class e extends $p{constructor(){super(Bp.m),this.angularDelegate=rt(Fp),this.injector=rt(Yr),this.environmentInjector=rt(oi)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),e})();class ru extends $p{constructor(){super(Bp.c),this.angularDelegate=rt(Fp),this.injector=rt(Yr),this.environmentInjector=rt(oi)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const EW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,Dk.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function a8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return l8(),(0,s8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:wk,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let gc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:fk,useValue:r},{provide:ip,useFactory:EW,multi:!0,deps:[fk,ii,je]},{provide:Sk,useFactory:Z5,deps:[jo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[Fp,ls,ru],imports:[el]}),e})();function Rk(e,t){(function IW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function e0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Hp(e){return(Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function co(e,t,r){return(t=function TW(e){var t=function xW(e,t){if("object"!==Hp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let ou={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Pk(e){ou=e}const Ok=/[&<>"']/,MW=new RegExp(Ok.source,"g"),Nk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,AW=new RegExp(Nk.source,"g"),kW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fk=e=>kW[e];function Ts(e,t){if(t){if(Ok.test(e))return e.replace(MW,Fk)}else if(Nk.test(e))return e.replace(AW,Fk);return e}const RW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,OW=/(^|[^\[])\^/g;function Cr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(OW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function Lk(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const a_={exec:()=>null};function $k(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function l_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function Bk(e,t,r,n){const o=t.href,i=t.title?Ts(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Ts(s)}}class c_{constructor(t){co(this,"options",void 0),co(this,"rules",void 0),co(this,"lexer",void 0),this.options=t||ou}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:l_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function FW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=l_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=l_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,Se=>" ".repeat(3*Se.length)),g=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let B=!1;if(!h&&/^ *$/.test(g)&&(a+=g+"\n",t=t.substring(g.length+1),f=!0),!f){const Se=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),De=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Tt=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),Et=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const lt=t.split("\n",1)[0];if(g=lt,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Tt.test(g)||Et.test(g)||Se.test(g)||De.test(t))break;if(g.search(/[^ ]/)>=b||!g.trim())l+="\n"+g.slice(b);else{if(B||h.search(/[^ ]/)>=4||Tt.test(h)||Et.test(h)||De.test(h))break;l+="\n"+g}!B&&!g.trim()&&(B=!0),a+=lt+"\n",t=t.substring(lt.length+1),h=g.slice(b)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let ve,ee=null;this.options.gfm&&(ee=/^\[[ xX]\] /.exec(l),ee&&(ve="[ ] "!==ee[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!ee,checked:ve,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),g=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=g}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:$k(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=$k(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Ts(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=l_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function NW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),Bk(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Bk(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const g=[...o[0]][0].length,b=t.slice(0,s+o.index+g+l);if(Math.min(s,l)%2){const ee=b.slice(1,-1);return{type:"em",raw:b,text:ee,tokens:this.lexer.inlineTokens(ee)}}const B=b.slice(2,-2);return{type:"strong",raw:b,text:B,tokens:this.lexer.inlineTokens(B)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ts(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Ts(r[1]),o="mailto:"+n):(n=Ts(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Ts(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Ts(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Ts(r[0]),{type:"text",raw:r[0],text:n}}}}const Qt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:a_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Qt.def=Cr(Qt.def).replace("label",Qt._label).replace("title",Qt._title).getRegex(),Qt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Qt.listItemStart=Cr(/^( *)(bull) */).replace("bull",Qt.bullet).getRegex(),Qt.list=Cr(Qt.list).replace(/bull/g,Qt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Qt.def.source+")").getRegex(),Qt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Qt.html=Cr(Qt.html,"i").replace("comment",Qt._comment).replace("tag",Qt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Qt.lheading=Cr(Qt.lheading).replace(/bull/g,Qt.bullet).getRegex(),Qt.paragraph=Cr(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.blockquote=Cr(Qt.blockquote).replace("paragraph",Qt.paragraph).getRegex(),Qt.normal={...Qt},Qt.gfm={...Qt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Qt.gfm.table=Cr(Qt.gfm.table).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.gfm.paragraph=Cr(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.pedantic={...Qt.normal,html:Cr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Qt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:a_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cr(Qt.normal._paragraph).replace("hr",Qt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Qt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Rt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:a_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:a_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Rt.punctuation=Cr(Rt.punctuation,"u").replace(/punctuation/g,Rt._punctuation).getRegex(),Rt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Rt.anyPunctuation=/\\[punct]/g,Rt._escapes=/\\([punct])/g,Rt._comment=Cr(Qt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Rt.emStrong.lDelim=Cr(Rt.emStrong.lDelim,"u").replace(/punct/g,Rt._punctuation).getRegex(),Rt.emStrong.rDelimAst=Cr(Rt.emStrong.rDelimAst,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt.emStrong.rDelimUnd=Cr(Rt.emStrong.rDelimUnd,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt.anyPunctuation=Cr(Rt.anyPunctuation,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt._escapes=Cr(Rt._escapes,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Rt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Rt.autolink=Cr(Rt.autolink).replace("scheme",Rt._scheme).replace("email",Rt._email).getRegex(),Rt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Rt.tag=Cr(Rt.tag).replace("comment",Rt._comment).replace("attribute",Rt._attribute).getRegex(),Rt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Rt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Rt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Rt.link=Cr(Rt.link).replace("label",Rt._label).replace("href",Rt._href).replace("title",Rt._title).getRegex(),Rt.reflink=Cr(Rt.reflink).replace("label",Rt._label).replace("ref",Qt._label).getRegex(),Rt.nolink=Cr(Rt.nolink).replace("ref",Qt._label).getRegex(),Rt.reflinkSearch=Cr(Rt.reflinkSearch,"g").replace("reflink",Rt.reflink).replace("nolink",Rt.nolink).getRegex(),Rt.normal={...Rt},Rt.pedantic={...Rt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Cr(/^!?\[(label)\]\((.*?)\)/).replace("label",Rt._label).getRegex(),reflink:Cr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rt._label).getRegex()},Rt.gfm={...Rt.normal,escape:Cr(Rt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Rt.gfm.url=Cr(Rt.gfm.url,"i").replace("email",Rt.gfm._extended_email).getRegex(),Rt.breaks={...Rt.gfm,br:Cr(Rt.br).replace("{2,}","*").getRegex(),text:Cr(Rt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class cl{constructor(t){co(this,"tokens",void 0),co(this,"options",void 0),co(this,"state",void 0),co(this,"tokenizer",void 0),co(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ou,this.options.tokenizer=this.options.tokenizer||new c_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Qt.normal,inline:Rt.normal};this.options.pedantic?(r.block=Qt.pedantic,r.inline=Rt.pedantic):this.options.gfm&&(r.block=Qt.gfm,r.inline=this.options.breaks?Rt.breaks:Rt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Qt,inline:Rt}}static lex(t,r){return new cl(r).lex(t)}static lexInline(t,r){return new cl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},h),"number"==typeof g&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class iu{constructor(t){co(this,"options",void 0),this.options=t||ou}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Ts(o)+'">'+(n?t:Ts(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Ts(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=Lk(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=Lk(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class n0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class ul{constructor(t){co(this,"options",void 0),co(this,"renderer",void 0),co(this,"textRenderer",void 0),this.options=t||ou,this.options.renderer=this.options.renderer||new iu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new n0}static parse(t,r){return new ul(r).parse(t)}static parseInline(t,r){return new ul(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(RW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let g=0;g<h.length;g++)l+=this.renderer.tablecell(this.parseInline(h[g].tokens),{header:!1,align:s.align[g]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let h=0;h<s.items.length;h++){const g=s.items[h],b=g.checked,B=g.task;let ee="";if(g.task){const ve=this.renderer.checkbox(!!b);c?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=ve+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=ve+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:ve+" "}):ee+=ve+" "}ee+=this.parse(g.tokens,c),f+=this.renderer.listitem(ee,B,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class zp{constructor(t){co(this,"options",void 0),this.options=t||ou}preprocess(t){return t}postprocess(t){return t}}co(zp,"passThroughHooks",new Set(["preprocess","postprocess"]));var r0=new WeakSet,Vk=new WeakSet;function jk(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=e0(this,Vk,$W).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function $W(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Ts(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const su=new class LW{constructor(...t){Rk(this,Vk),Rk(this,r0),co(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),co(this,"options",this.setOptions),co(this,"parse",e0(this,r0,jk).call(this,cl.lex,ul.parse)),co(this,"parseInline",e0(this,r0,jk).call(this,cl.lexInline,ul.parseInline)),co(this,"Parser",ul),co(this,"Renderer",iu),co(this,"TextRenderer",n0),co(this,"Lexer",cl),co(this,"Tokenizer",c_),co(this,"Hooks",zp),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new iu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new c_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new zp;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=zp.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(g=>c.call(i,g));const h=a.call(i,f);return c.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return cl.lex(t,r??this.defaults)}parser(t,r){return ul.parse(t,r??this.defaults)}};function dr(e,t){return su.parse(e,t)}dr.options=dr.setOptions=function(e){return su.setOptions(e),Pk(dr.defaults=su.defaults),dr},dr.getDefaults=function t0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},dr.defaults=ou,dr.use=function(...e){return su.use(...e),Pk(dr.defaults=su.defaults),dr},dr.walkTokens=function(e,t){return su.walkTokens(e,t)},dr.parseInline=su.parseInline,dr.Parser=ul,dr.parser=ul.parse,dr.Renderer=iu,dr.TextRenderer=n0,dr.Lexer=cl,dr.lexer=cl.lex,dr.Tokenizer=c_,dr.Hooks=zp,dr.parse=dr;class BW extends yt{constructor(t,r){super()}schedule(t,r=0){return this}}const u_={setInterval(e,t,...r){const{delegate:n}=u_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=u_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},o0={now:()=>(o0.delegate||Date).now(),delegate:void 0};class Wp{constructor(t,r=Wp.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Wp.now=o0.now;const GW=new class jW extends Wp{constructor(t,r=Wp.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class VW extends BW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return u_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&u_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class zW extends xn{constructor(t=1/0,r=1/0,n=o0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const ZW=["*"];let Gk=(()=>{var e;class t{constructor(){this._buttonClick$=new xn,this.copied$=this._buttonClick$.pipe(eo(()=>sa(Ht(!0),function HW(e=0,t,r=GW){let n=-1;return null!=t&&(ta(t)?r=t:n=t),new On(o=>{let i=function UW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(QT(!1)))),Fs(),function WW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,aa({connector:()=>new zW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(KT(!1),cn(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Bm],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(Y(0,"button",0),Be("click",function(){return o.onCopyToClipboardClick()}),Xa(1,"async"),Ie(2),Xa(3,"async"),G()),2&n&&(ga("copied",Qa(1,3,o.copied$)),we(2),Ai(Qa(3,5,o.copiedText$)))},dependencies:[Yx],encapsulation:2,changeDetection:0}),t})();const KW=new pt("CLIPBOARD_OPTIONS");var s0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(s0||{});const Uk=new pt("MARKED_EXTENSIONS"),Hk=new pt("MARKED_OPTIONS"),zk=new pt("SECURITY_CONTEXT");let a0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new iu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new xn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new iu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const g=this.trimIndentation(n),b=i?this.decodeHtml(g):g,B=a?this.parseEmoji(b):b,ee=this.parseMarked(B,f,s);return(c?ee:this.sanitizer.sanitize(this.securityContext,ee))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(cn(o=>this.handleExtension(n,o)))}highlight(n){if(!_d(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!_d(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&dr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(dr.use({renderer:o.renderer}),delete o.renderer),i?dr.parseInline(n,o):dr.parse(n,o)}parseEmoji(n){if(!_d(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(_d(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!_d(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const g=document.createElement("div");let b,B;g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.opacity="0",g.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",g),f.onmouseover=()=>g.style.opacity="1",f.onmouseout=()=>g.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(Gk).hostView,b.rootNodes.forEach(ee=>{ee.onmouseover=()=>g.style.opacity="1",g.appendChild(ee),B=new ClipboardJS(ee,{text:()=>f.innerText})}),b.onDestroy(()=>B.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!_d(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(KW,8),ce(Uk,8),ce(Hk,8),ce(Xl),ce(zk),ce(Hb,8),ce(Vb))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})(),l0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new an,this.load=new an,this.ready=new an,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new xn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(JT(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,H.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,s0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,s0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(a0),_(is))},e.\u0275cmp=Ye({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[_i,Bm],ngContentSelectors:ZW,decls:1,vars:0,template:function(n,o){1&n&&(Dt(),wt(0))},encapsulation:2}),t})();function i9(e){return[a0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:Uk,useValue:e?.markedExtensions??[]},{provide:zk,useValue:e?.sanitize??Ds.HTML}]}let c0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[i9(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el]}),t})();var Wk;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(Wk||(Wk={}));const Zk="safari"in window,u0=!navigator.userAgent.match(/(crios)|(fxios)/i),Ms=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,qk=!!navigator.userAgent.match(/android/i),s9=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var $d=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}($d||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const c9=new Error("request for lock canceled");class d9{constructor(t,r=c9){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class dl{constructor(t){this._semaphore=new d9(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const d_="cloudpilot-session-preview";function Kk(){localStorage.removeItem(d_)}function Qr(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,H.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let Fl=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Bd;class uo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Ro.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,H.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,H.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}})),{text:o,role:"cancel"}],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(t){var r=this;return(0,H.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,H.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,H.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Dk.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(Bd=uo).\u0275fac=function(t){return new(t||Bd)(ce(nu),ce(Fl))},Bd.\u0275prov=Le({token:Bd,factory:Bd.\u0275fac,providedIn:"root"}),ae([Qr()],uo.prototype,"updateAvailable",null),ae([Qr()],uo.prototype,"fatalError",null),ae([Qr()],uo.prototype,"errorInNativeCode",null);let au=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&Kk(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Ro.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(uo),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Mr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Mr||{});let Zp=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Mr.none}claim(n,o){this.assertOwnership(n,Mr.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Mr.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(au))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const _c="session",Vd="rom",vc="memory",Ll="state",f_="kvs",yc="memory-meta",fl="storage",As="storage-card",qp="lock";class lu extends Error{constructor(t){super(t)}}function tr(e){return new Promise((t,r)=>{!function v9(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new lu(e.error?.message))})}function Qk(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function y9(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const p_="session",f0="memory",eR="storage-meta",tR="storage-card";function p0(){return(p0=(0,H.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(p_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function h0(){return(h0=(0,H.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function m0(){return(m0=(0,H.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(eR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(p_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function g0(){return(g0=(0,H.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(eR).name=tR})).apply(this,arguments)}function _0(){return(_0=(0,H.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(tR).createIndex("storageId","storageId")})).apply(this,arguments)}function v0(){return(v0=(0,H.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const P9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function nR(e){let t=-1;for(let r=0;r<e.length;r++)t=P9[255&(t^e[r])]^t>>>8;return~t}var O9=C(3219),N9=C.n(O9);const rR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let h_;const F9=new Uint8Array(16);function L9(){if(!h_&&(h_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h_(F9)}const ui=[];for(let e=0;e<256;++e)ui.push((e+256).toString(16).slice(1));const y0=function $9(e,t,r){if(rR.randomUUID&&!t&&!e)return rR.randomUUID();const n=(e=e||{}).random||(e.rng||L9)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function oR(e,t=0){return ui[e[t+0]]+ui[e[t+1]]+ui[e[t+2]]+ui[e[t+3]]+"-"+ui[e[t+4]]+ui[e[t+5]]+"-"+ui[e[t+6]]+ui[e[t+7]]+"-"+ui[e[t+8]]+ui[e[t+9]]+"-"+ui[e[t+10]]+ui[e[t+11]]+ui[e[t+12]]+ui[e[t+13]]+ui[e[t+14]]+ui[e[t+15]]}(n)};var jd;const b0=new Error("page lock lost"),iR=new Error("version mismatch"),sR=y0();function Co(){return(e,t,r)=>{const n=r.value;return r.value=(0,H.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw s instanceof lu?i.fatalIDBDead():s===iR?i.fatalVersionMismatch():s===b0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class or{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(vc),l=o.objectStore(yc),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const g=s.length>>>10;for(let b=0;b<g;b++){f.set(s.subarray(1024*b,1024*(b+1)));const B=Qk(c);if("number"==typeof B)a.put(B,[i,b]);else{const ee=new Uint32Array(256);ee.set(B),a.put(ee,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,H.Z)(function*(){const a=o.objectStore(yc),l=yield tr(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,H.Z)(function*(h,g){const b=o.objectStore(vc),B=new Uint32Array(l.totalSize>>>2),ee=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ee.onsuccess=()=>{const ve=ee.result;if(!ve)return h(new Uint8Array(B.buffer));const Se=ve.value,[,De]=ve.key;"number"==typeof Se?B.subarray(256*De,256*(De+1)).fill(Se|Se<<8|Se<<16|Se<<24):B.subarray(256*De,256*(De+1)).set(1024===Se.length?new Uint32Array(Se.buffer):Se),ve.continue()},ee.onerror=()=>g(new lu(ee.error?.message))});return function(h,g){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==nR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new Ro.j,this.storageCardChangeEvent=new Ro.j,this.sessionUpdateMutex=new dl,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,H.Z)(function*(){const s=N9()(r),a=yield i.newTransaction(_c,Vd,Ll,vc,yc),l=a.objectStore(_c),c=a.objectStore(Vd);(yield tr(c.get(s)))||c.put(r,s);const{id:h,...g}=t,b=yield tr(l.add({...g,rom:s})),B=yield tr(l.get(b));return n&&i.saveMemory(a,B.id,n),o&&i.saveState(a,B.id,o),yield tr(a),B})()}getAllSessions(){var t=this;return(0,H.Z)(function*(){const[r]=yield t.prepareObjectStore(_c);return yield tr(r.getAll())})()}getSession(t){var r=this;return(0,H.Z)(function*(){const[n]=yield r.prepareObjectStore(_c);return yield tr(n.get(t))})()}deleteSession(t){var r=this;return(0,H.Z)(function*(){const n=yield r.newTransaction(_c,Vd,Ll,vc,yc),o=n.objectStore(_c),i=n.objectStore(Vd);(t=yield tr(o.get(t.id)))&&(o.delete(t.id),0===(yield tr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield tr(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,H.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(_c),h=yield tr(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const g={...h,...l};c.put(g),yield tr(f),n.sessionChangeEvent.dispatch([h.id,g])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,H.Z)(function*(){const[n,o]=yield r.prepareObjectStore(_c),i=yield tr(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield tr(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,H.Z)(function*(){const o=yield n.newTransaction(Vd,Ll,vc,yc),i=o.objectStore(Vd);return[yield tr(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,H.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Ll);n.delete(t.id),yield tr(o)})()}addEmptyStorageCard(t){var r=this;return(0,H.Z)(function*(){const[n]=yield r.prepareObjectStore(As),o=yield tr(n.add(t)),i=yield tr(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,H.Z)(function*(){return n.ngZone.runOutsideAngular((0,H.Z)(function*(){const o=yield n.newTransaction(As,fl),i=o.objectStore(As),s=o.objectStore(fl),a=yield tr(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const g=r.subarray(2048*h,2048*(h+1));h===l-1&&c.set(g);const b=y9(h===l-1?c:g);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield tr(i.get(a));return yield tr(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,H.Z)(function*(){const[r]=yield t.prepareObjectStore(As);return tr(r.getAll())})()}getCard(t){var r=this;return(0,H.Z)(function*(){const[n]=yield r.prepareObjectStore(As);return tr(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,H.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(As),f=yield tr(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield tr(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,H.Z)(function*(){const n=yield r.newTransaction(As,fl);r.storageCardContext.assertOwnership(t,Mr.none);const o=n.objectStore(As),i=n.objectStore(fl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield tr(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,H.Z)(function*(){r.fill(0);const i=yield o.newTransaction(As,fl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(fl);yield new Promise(function(){var a=(0,H.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let g=h.value;const[,b]=h.key;"number"==typeof g?r.subarray(2048*b,2048*(b+1)).fill(g):(2048*(b+1)>r.length&&(g=g.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(g)),h.continue()},f.onerror=()=>c(new lu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,H.Z)(function*(){const s=yield i.newTransaction(As,fl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(As),l=s.objectStore(fl),c=yield tr(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let g=0;g<n.length;g++)for(let b=1;b<256&&!(h>=f);b<<=1)n[g]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield tr(s)}))}kvsGet(t){var r=this;return(0,H.Z)(function*(){const[n]=yield r.prepareObjectStore(f_);return tr(n.get(t))})()}kvsSet(t){var r=this;return(0,H.Z)(function*(){const[n,o]=yield r.prepareObjectStore(f_);for(const i of Object.keys(t))n.put(t[i],i);yield tr(o)})()}kvsLoad(){var t=this;return(0,H.Z)(function*(){const[r]=yield t.prepareObjectStore(f_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new lu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,H.Z)(function*(){const[n,o]=yield r.prepareObjectStore(f_);n.delete(t),yield tr(o)})()}acquireLock(t){var r=this;return(0,H.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield tr(t.objectStore(qp).get(0)))!==sR)throw t.abort(),t.db.close(),b0})()}newTransaction(...t){var r=this;return(0,H.Z)(function*(){const n=(yield r.db).transaction([qp,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,H.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(Ll);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(Ll).delete(r)}loadState(t,r){return tr(t.objectStore(Ll).get(r))}deleteMemory(t,r){const n=t.objectStore(vc),o=t.objectStore(yc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,H.Z)(function*(){const r=t.transaction(qp,"readwrite");yield tr(r.objectStore(qp).put(sR,0))})()}setupDb(){var t=this;return(0,H.Z)(function*(){const r=setTimeout(()=>Ms&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw iR}const n=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new lu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new lu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,H.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function E9(e){e.createObjectStore(p_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function I9(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(f0)&&e.deleteObjectStore(f0),t.objectStore(p_).clear(),e.createObjectStore("rom"),e.createObjectStore(f0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function x9(e,t){return p0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function T9(e,t){return h0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function M9(e,t){return m0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function A9(e,t){return g0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function k9(e,t){return _0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function R9(e,t){return v0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,H.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(jd=or).\u0275fac=function(t){return new(t||jd)(ce(je),ce(au),ce(Zp))},jd.\u0275prov=Le({token:jd,factory:jd.\u0275fac,providedIn:"root"}),ae([Co()],or.prototype,"addSession",null),ae([Co()],or.prototype,"getAllSessions",null),ae([Co()],or.prototype,"getSession",null),ae([Co()],or.prototype,"deleteSession",null),ae([Co()],or.prototype,"updateSessionPartial",null),ae([Co()],or.prototype,"updateSession",null),ae([Co()],or.prototype,"loadSession",null),ae([Co()],or.prototype,"deleteStateForSession",null),ae([Co()],or.prototype,"addEmptyStorageCard",null),ae([Co()],or.prototype,"importStorageCard",null),ae([Co()],or.prototype,"getAllStorageCards",null),ae([Co()],or.prototype,"getCard",null),ae([Co()],or.prototype,"updateStorageCardPartial",null),ae([Co()],or.prototype,"deleteStorageCard",null),ae([Co()],or.prototype,"loadCardData",null),ae([Co()],or.prototype,"kvsGet",null),ae([Co()],or.prototype,"kvsSet",null),ae([Co()],or.prototype,"kvsDelete",null),ae([Co()],or.prototype,"newTransaction",null),ae([Co()],or.prototype,"prepareObjectStore",null),ae([Co()],or.prototype,"initializeLock",null),ae([Co()],or.prototype,"setupDb",null);const aR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Si=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,H.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Ro.j,this.mutex=new dl,this.storageMutex=new dl,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,H.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,H.Z)(function*(){const o=n;try{const i={...aR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...aR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lR=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,H.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Ms||qk)&&this.installationMode===$d.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Ms&&u0?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ms?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Ms&&u0?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ms?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?$d.pwa:document.referrer.startsWith("android-app://")?$d.twa:window.matchMedia("(display-mode: standalone)").matches?$d.pwa:$d.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function W9(e,t){1&e&&(Y(0,"div",5),Ge(1,"ion-spinner"),G())}let cu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls))},e.\u0275cmp=Ye({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.modalController.dismiss()}),Ie(6,"Close"),G()()()(),Y(7,"ion-content",2),un(8,W9,2,0,"div",3),Y(9,"markdown",4),Be("load",function(){return o.loading=!1}),G()()),2&n&&(we(3),Ai(o.title),we(5),Pe("ngIf",o.loading),we(1),Pe("src",o.url))},dependencies:[Qo,l0,Fi,Li,$i,Bi,Vp,ji,Gi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const uu="1.9.4-b7ccde5 (preview)",uR=C.p+"assets/doc/CHANGELOG-49ed93eb075c5aa4.md";var m_=C(1633);const g_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:h}}=c;if("interval"===h){const g=t.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g()}}else if("timeout"===h){const g=r.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:g,timerType:b}=h;n.delete(f),"interval"===b?t.delete(g):r.delete(g)}}}),{clearInterval:c=>{const f=(0,m_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,m_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const h=(0,m_.generateUniqueNumber)(t);return t.set(h,()=>{c(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(c,f)=>{const h=(0,m_.generateUniqueNumber)(r);return r.set(h,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Gd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Gd||{});class dR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Gd.animationFrame}}class Q9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>g_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,g_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Gd.timeout}}const J9=[135,135,105],e7=[0,0,0],bc=new Array(16).fill(0).map((e,t)=>e7.map((r,n)=>Math.floor((t*r+(15-t)*J9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),C0=bc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),Ud=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(Ud||{});function Yp(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function S0(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function fR(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function pR(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return Ud.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return Ud.memorystick;default:return Ud.none}}class hR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class r7{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class u7{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;if(this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r)return void this.handleSuspend();const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.emulationStateChangeEvent=new Ro.j,this.powerOffChangeEvent=new Ro.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new dR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new r7(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new hR(20),this.timePerFrameAverage=new hR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Yp(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Yp(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Gd.animationFrame?new dR(t=>this.onSchedule(t)):new Q9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Yp(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=S0(t)?"white":C0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=bc[15],i=bc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[bc[15&o],bc[o>>>4&15],bc[o>>>8&15],bc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=bc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class d7{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const h7=new Error("transaction timeout"),_R=new Error("session does not match emulation");let Kp=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,H.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ro.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,H.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,H.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===_R)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===b0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,H.Z)(function*(){const o=n.db.transaction([vc,yc,Ll,fl,As,qp],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield tr(o.objectStore(As).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const h=performance.now();let g=0,b=0,B=0;const ee=new d7(500,()=>{f=!0;try{o.abort()}catch{}c(h7)});o.oncomplete=()=>{ee.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:B,timeBlocking:b-g,timeTotal:performance.now()-h})},o.onerror=()=>{ee.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),g=performance.now(),B=n.saveDirtyMemory(o,ee),i&&(B+=n.saveDirtyStorage(i,o,ee)),n.saveSession(o),b=performance.now()}catch(ve){throw f||(ee.cancel(),o.abort()),ve}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(vc),a=n.objectStore(yc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const g=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(g);for(let b=0;b<g;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=nR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let g=0;g<l.length;g++)if(this.dirtyPages[g]|=l[g],l[g]=0,0!==this.dirtyPages[g])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[g]&b){const B=Qk(c.subarray(256*i,256*(i+1)));"number"==typeof B?s.put(B,[this.sessionId,i]):(this.pages[i].set(B),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Mr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const h=o.objectStore(fl),g=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let B=1;B<256&&!(l>=g);B<<=1){if(this.cardDirtyPages[b]&B){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ee=this.cardPagePool[c++];ee.set(a.subarray(2048*l,2048*(l+1))),h.put(ee,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(Ll);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw _R}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(Fl),ce(au),ce(Zp),ce(Si),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),w0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Ro.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var m7=C(2227),g7=C.n(m7);function D0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function vR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}const yR=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Vt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Ft{constructor(t){this.module=t,this.fatalErrorEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.proxyDisconnectEvent=new Ro.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi"))}static create(t){return(0,H.Z)(function*(){return new Ft(yield g7()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:yR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,H.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,H.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(vR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!yR.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=D0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}}ae([Vt()],Ft.prototype,"getRomInfo",null),ae([Vt()],Ft.prototype,"initializeSession",null),ae([Vt()],Ft.prototype,"cyclesPerSecond",null),ae([Vt()],Ft.prototype,"runEmulation",null),ae([Vt()],Ft.prototype,"getFrame",null),ae([Vt()],Ft.prototype,"isScreenDirty",null),ae([Vt()],Ft.prototype,"markScreenClean",null),ae([Vt()],Ft.prototype,"minRamForDevice",null),ae([Vt()],Ft.prototype,"framebufferSizeForDevice",null),ae([Vt()],Ft.prototype,"totalMemorySizeForDevice",null),ae([Vt()],Ft.prototype,"queuePenMove",null),ae([Vt()],Ft.prototype,"queuePenUp",null),ae([Vt()],Ft.prototype,"queueButtonDown",null),ae([Vt()],Ft.prototype,"queueButtonUp",null),ae([Vt()],Ft.prototype,"queueKeyboardEvent",null),ae([Vt()],Ft.prototype,"isPowerOff",null),ae([Vt()],Ft.prototype,"isUiInitialized",null),ae([Vt()],Ft.prototype,"isSetupComplete",null),ae([Vt()],Ft.prototype,"getOSVersion",null),ae([Vt()],Ft.prototype,"reset",null),ae([Vt()],Ft.prototype,"resetNoExtensions",null),ae([Vt()],Ft.prototype,"resetHard",null),ae([Vt()],Ft.prototype,"installDb",null),ae([Vt()],Ft.prototype,"getPalette2bitMapping",null),ae([Vt()],Ft.prototype,"getMemory",null),ae([Vt()],Ft.prototype,"getMemory32",null),ae([Vt()],Ft.prototype,"getDirtyPages",null),ae([Vt()],Ft.prototype,"loadMemory",null),ae([Vt()],Ft.prototype,"getRomImage",null),ae([Vt()],Ft.prototype,"getSavestate",null),ae([Vt()],Ft.prototype,"saveState",null),ae([Vt()],Ft.prototype,"loadState",null),ae([Vt()],Ft.prototype,"getHotsyncName",null),ae([Vt()],Ft.prototype,"setClockFactor",null),ae([Vt()],Ft.prototype,"setHotsyncName",null),ae([Vt()],Ft.prototype,"setClipboardIntegration",null),ae([Vt()],Ft.prototype,"getClipboardIntegration",null),ae([Vt()],Ft.prototype,"isSuspended",null),ae([Vt()],Ft.prototype,"getSuspendKind",null),ae([Vt()],Ft.prototype,"cancelSuspend",null),ae([Vt()],Ft.prototype,"getSuspendContextClipboardCopy",null),ae([Vt()],Ft.prototype,"getSuspendContextClipboardPaste",null),ae([Vt()],Ft.prototype,"setNetworkRedirection",null),ae([Vt()],Ft.prototype,"getNetworkRedirection",null),ae([Vt()],Ft.prototype,"getSuspendContextNetworkConnect",null),ae([Vt()],Ft.prototype,"getSuspendContextNetworkRpc",null),ae([Vt()],Ft.prototype,"copyBuffer",null),ae([Vt()],Ft.prototype,"freeBuffer",null),ae([Vt()],Ft.prototype,"setHotsyncNameManagement",null),ae([Vt()],Ft.prototype,"resolveBuffer",null),ae([Vt()],Ft.prototype,"serializeSessionImage",null),ae([Vt()],Ft.prototype,"deserializeSessionImage",null),ae([Vt()],Ft.prototype,"launchAppByName",null),ae([Vt()],Ft.prototype,"launchAppByDbHeader",null),ae([Vt()],Ft.prototype,"deviceSupportsCardSize",null),ae([Vt()],Ft.prototype,"clearExternalStorage",null),ae([Vt()],Ft.prototype,"allocateCard",null),ae([Vt()],Ft.prototype,"decompressCard",null),ae([Vt()],Ft.prototype,"getCardData",null),ae([Vt()],Ft.prototype,"getCardDirtyPages",null),ae([Vt()],Ft.prototype,"getMountedKey",null),ae([Vt()],Ft.prototype,"mountCard",null),ae([Vt()],Ft.prototype,"removeCard",null),ae([Vt()],Ft.prototype,"remountCards",null),ae([Vt()],Ft.prototype,"getCardSupportLevel",null),ae([Vt()],Ft.prototype,"loadSkin",null);const __=new Error("permission denied");let bR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,H.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===__)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,H.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?__:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,H.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,H.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,H.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,H.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===__)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,H.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?__:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,H.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(l=(0,H.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,H.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,H.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,H.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(nu),ce(uo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const v7="https:"===window.location.protocol?8667:8666,y7=/^[\da-z\-\.]+$/i,b7=/^[\da-z\-\.]+:\d+$/i;function E0(e){if(!e)return;const t=window.location.protocol;if(e.match(y7))return`${t}//${e}:${v7}`;if(e.match(b7))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function C7(e){return void 0!==E0(e.value)?null:{proxyAddress:"invalid"}}let S7=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new Wg({username:new Go(n?.username??""),password:new Go(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Si))},e.\u0275cmp=Ye({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"Authenticate"),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.saveAndContinue()}),Ie(6,"OK"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",1),Be("click",function(){return o.onCancel()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",3)(11,"form",4),Be("keydown",function(s){return o.formKeyDown(s)}),Y(12,"p"),Ie(13," The server requires authentication. "),G(),Y(14,"ion-item",5)(15,"ion-label",6),Ie(16,"Username"),G(),Ge(17,"ion-input",7),G(),Y(18,"ion-item",5)(19,"ion-label",6),Ie(20,"Password"),G(),Ge(21,"ion-input",8),G()()()),2&n&&(we(11),Pe("formGroup",o.formGroup))},dependencies:[Fi,Li,$i,Bi,Nl,Jo,Vi,ji,Gi,Ol,Pl,kl,Rl,Ea,sl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),CR=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,H.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(vd())("string"==typeof n?n:n.url);let c,f,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const g=i.kvsService.kvs.credentials[l.origin],b=new AbortController,B=window.setTimeout(()=>b.abort(),a),ee=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&g?{Authorization:"Basic "+btoa(`${g.username}:${g.password}`)}:{}}});if(clearTimeout(B),401===ee.status){if(!h&&g){h=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return ee}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,H.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:S7,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ll),ce(Si),ce(ls))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),I0=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,H.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=E0(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=y0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ro.j,this.mutex=new dl,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,H.Z)(function*(){const s=E0(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(je),ce(CR))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),wR=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DR=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const x7=C.p+"wasm/cloudpilot_web-25de4f22cb83f558.wasm";let Ia=(()=>{var e;class t{constructor(){this.cloudpilot=Ft.create(x7)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var T7=C(3097),Hd=C.n(T7);const x0=524288;class T0{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(x0),t.destroy(n)}static create(t,r){return(0,H.Z)(function*(){return new T0(yield Hd()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,H.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=x0){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,x0);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class M0{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,H.Z)(function*(){return new M0(yield Hd()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class A0{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,H.Z)(function*(){const n=yield Hd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new A0(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=D0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class v_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,H.Z)(function*(){const n=yield Hd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new v_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,H.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class k0{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,H.Z)(function*(){const n=yield Hd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new k0(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,H.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const ER=new Map;class P7{constructor(t="fstools_web.wasm"){let r=ER.get(t);r||(r=function M7(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,H.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),ER.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,H.Z)(function*(){const n=yield M0.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,H.Z)(function*(){const n=yield v_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return v_.create(this.instantiante,t)}createGzipContext(t){return k0.create(this.instantiante,t)}createFsckContext(t){return A0.create(t,this.instantiante)}createZipContext(t){return T0.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,H.Z)(function*(){const n=yield Hd()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),vR(new n.ZipfileWalker(t.length,i),n)})()}}var Sr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(Sr||{});function zd(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function Wd(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function R0(e){return`${Wd(e.name)}.img`}function IR(e,t){return`backup_${Wd(e.name)}${t?"_with_rom":""}.zip`}function P0(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Lr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Lr||{});function y_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const L7=C.p+"wasm/fstools_web-b474c601800e104b.wasm";let b_=(()=>{var e;class t extends P7{constructor(){super(L7)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function $7(e,t){1&e&&(Y(0,"p",10),Ie(1," ERROR: URL must be served via HTTPS. "),G())}function B7(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(vd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let V7=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(vd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(vd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Wg({url:new Go("",B7)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"Enter download URL"),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.continue()}),Ie(6,"OK"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",4)(11,"form",5),Be("keydown",function(s){return o.formKeyDown(s)}),Y(12,"p"),Ie(13," Please enter the URL from which to download: "),G(),Y(14,"ion-item",6)(15,"ion-label",7),Ie(16,"URL"),G(),Ge(17,"ion-input",8),G(),un(18,$7,2,0,"p",9),Y(19,"p"),Ie(20," Note that the remote server needs to support the CORS protocol. "),G()()()),2&n&&(we(5),Pe("disabled",o.formGroup.invalid),we(6),Pe("formGroup",o.formGroup),we(7),Pe("ngIf",o.isMixedContent))},dependencies:[Qo,Fi,Li,$i,Bi,Nl,Jo,Vi,ji,Gi,Ol,Pl,kl,Rl,Ea,sl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Cc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,H.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:y_(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.saveFile(R0(n),g)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,H.Z)(function*(){let s;try{s=new(vd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,H.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:y_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,H.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,H.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:V7,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=Zk||Ms&&u0;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,H.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,H.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(ll),ce(Up),ce(Si),ce(ls),ce(uo),ce(CR),ce(Ia))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Sc=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new dl,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,H.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(h=>h.name));let f=1;for(;0===a.GetState();){i.message=`Importing ${f++}/${l}...`;const h=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!h){yield o.alertService.errorMessage(`${a.GetCurrentEntryName()} is not a valid session.`,"Continue"),a.Next();continue}const g=zd(h.metadata?.name??a.GetCurrentEntryName(),b=>c.has(b));yield o.doAddSessionFromImage(h,g,h.metadata),a.Next()}}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,H.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Lr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,H.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,H.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(R0(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const h=zd(c.name.replace(/[\/\\]/,"_").substring(0,200),g=>a.has(g));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function O7(){return`${Wd("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,H.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:y_(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.fileService.saveFile(R0(n),g)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,H.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:y_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,H.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,H.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,H.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Lr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ia),ce(or),ce(ll),ce(b_),ce(uo),ce(Cc))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var j7=C(8886),G7=C.n(j7),pl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(pl||{}),du=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(du||{});function U7(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function xR(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:U7(e.GetAttributes())}}class O0{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,H.Z)(function*(){return new O0(yield G7()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=D0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(xR(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:xR(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,H.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,H.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,H.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(pl.success);case-3:return a(pl.cardFull);case-1:return a(pl.ioError);case-2:return a(pl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,H.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return du.success;case-2:return du.cardFull;case-1:return du.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var H7=C(307),TR=C.n(H7);function MR(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const z7=C.p+"wasm/vfs_web-3431374c51026b1f.wasm";let fu=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertController=a,this.alertService=l,this.onReleaseCard=new Ro.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=O0.create(z7),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,H.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,H.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Mr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Mr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Mr.vfs),!1)})()}releaseCard(n){var o=this;return(0,H.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Mr.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,H.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||TR()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,H.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),c=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function F7(e){return`files_${Wd(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:g}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),g.length>0&&(g.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.slice(0,3).join("<br>")}<br><br> and ${g.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,H.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,H.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,H.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===Sr.clean||n.status===Sr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,H.Z)(function*(){const s=yield i.loadingController.create();yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),c){case pl.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case pl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case pl.cardFull:f="No space left on card.",h="No space left";break;case pl.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const g=a-l,b=B=>B>1?`${B} entries`:"one entry";a>0&&g===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),g>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${MR(b(l))} unpacked succesfully, but ${b(g)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,H.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create();yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case du.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case du.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,H.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create();yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${MR(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,H.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,h=!1,g=!1;e:for(let b=0;b<n.length;b++){const B=n[b],ee=s.find(Se=>Se.name===B.name);if(ee&&ee.isDirectory){if(!h){const{overwrite:De,rememberChoice:Tt}=yield i.overwriteFileDialog(B.name,"directory");g=De,h=Tt}let Se=!0;if(g&&(Se=!(yield l.deleteRecursive([i.normalizePath(`${o}/${B.name}`)])).success),Se){a.push(B.name);continue}}if(ee&&!ee.isDirectory){if(!c){const{overwrite:Se,rememberChoice:De}=yield i.overwriteFileDialog(B.name,"file");f=Se,c=De}if(!f){a.push(B.name);continue}}let ve;try{ve=yield B.getContent()}catch(Se){console.warn(Se),a.push(B.name),yield i.alertService.errorMessage(`Unable to open ${B.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${B.name}`),ve)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(Se=>Se.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(B.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,H.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,H.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,H.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,H.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==pl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,H.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===du.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,H.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Mr.vfs),yield n.storageService.loadCardData(o.id,s,Mr.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Mr.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,H.Z)(function*(){let s=!1,a=!1;const l=yield i.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:i.alertService.sanitizeMessage("file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                    Do you want to overwrite the existing directory ${n}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>s=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:c=>a=!0===c.checked,cssClass:"alert-checkbox"}]});return yield l.present(),yield l.onDidDismiss(),{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,H.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,H.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:Sr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,H.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Mr.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,H.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,H.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(Zp),ce(Cc),ce(ll),ce(nu),ce(uo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Uo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Uo||{});function AR(){return y0().replace(/-/g,"")}let Zd=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,B){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=h,this.vfsService=g,this.storageCardContext=b,this.fstools=B,this.mountCardEvent=new Ro.j,this.deleteCardEvent=new Ro.j,this.loading=!0,this.cards=[],this.updateMutex=new dl,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,H.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function W7(e){switch(e){case Uo.mb4:return 4;case Uo.mb8:return 8;case Uo.mb16:return 16;case Uo.mb32:return 32;case Uo.mb64:return 64;case Uo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:AR(),name:n,size:4*l.length,status:Sr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,H.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Mr.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,H.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Mr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Mr.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,H.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:Sr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Mr.cloudpilot)})()}checkCard(n){var o=this;return(0,H.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Mr.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,H.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Mr.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,H.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=Sr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,H.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${c}/${n.length}...`;const g=zd(h.name,B=>a.has(B));a.add(g);const b=yield o.getCardData(h,g,l);b&&(yield s.addEntry(`${g}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function N7(){return`${Wd("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,H.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,H.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=yield o.loadingController.create({message:"Importing..."});try{yield s.present();const a=yield o.cloudpilotService.cloudpilot,l=yield o.fstools.createZipfileWalker(n);if(-1===l.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const c=l.GetTotalEntries(),f=new Set((yield o.getAllCards()).map(b=>b.name)),h=yield o.fstools.createGunzipContext();let g=1;for(;0===l.GetState();){s.message=`Importing ${g++}/${c}...`;let b=l.GetCurrentEntryName();if(!i.test(b)){yield o.alertService.errorMessage(`${b} has the wrong suffix to be considered as a card image.`),l.Next();continue}let B=l.GetCurrentEntryContent();if(b.endsWith(".gz")&&B&&(h.initialize(B),B=(yield h.gunzip())?h.getDecompressedData():void 0,b=b.substring(0,b.length-3)),void 0===B){yield o.alertService.errorMessage(`Failed to extract ${b}.`),l.Next();continue}if(0===a.getCardSupportLevel(B.length)){yield o.alertService.errorMessage(`${b} is not a valid card image.`),l.Next();continue}const ee=zd(b.replace(i,""),ve=>f.has(ve));yield o.doCreateCardFromImage(ee,B,!1,!0),l.Next()}}catch(a){yield s.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${a?.message??"unknown error"}`)}finally{s.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,H.Z)(function*(){const l={storageId:AR(),name:n,size:o.length,status:s?Sr.dirty:Sr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,h]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,H.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,H.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,H.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,H.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,H.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===Sr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Mr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case Sr.clean:break;case Sr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Sr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case Sr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Mr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Mr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:Sr.clean}),o.storageCardContext.release(n,Mr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:Sr.unformatted}),o.storageCardContext.release(n,Mr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:Sr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:Sr.unfixable}),o.storageCardContext.release(n,Mr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,H.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Mr.fstools),yield i.storageService.updateStorageCardPartial(n,{status:Sr.clean}),i.storageCardContext.release(n,Mr.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,H.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:Sr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:Sr.clean}]:[n,{...o,status:Sr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:Sr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:Sr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,H.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:Sr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,H.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:Sr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,H.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Sc),ce(or),ce(Fl),ce(Ia),ce(ll),ce(Kp),ce(uo),ce(au),ce(Cc),ce(fu),ce(Zp),ce(b_))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),xa=(()=>{var e;class t extends u7{constructor(n,o,i,s,a,l,c,f,h,g,b,B,ee,ve,Se,De,Tt,Et){var lt;super(),lt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=h,this.kvsService=g,this.proxyService=b,this.buttonService=B,this.bootstrapService=ee,this.cloudpilotService=ve,this.storageCardService=Se,this.storageCardContext=De,this.sessionsService=Tt,this.app=Et,this.switchSession=(gr,cs={})=>this.mutex.runExclusive((0,H.Z)(function*(){if(gr===lt.emulationState.getCurrentSession()?.id)return!0;let ks;yield lt.stopUnchecked(),yield lt.bootstrapService.hasRendered(),(cs.showLoader??1)&&(ks=yield lt.loadingController.create({message:"Loading..."}),yield ks.present());try{const G0=yield lt.storageService.getSession(gr);if(!G0)throw new Error(`invalid session ${gr}`);lt.emulationState.setCurrentSession(void 0);const GY=yield lt.cloudpilotService.cloudpilot;if(!(yield lt.restoreSession(G0,GY)))return lt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;lt.emulationState.setCurrentSession(G0),function g9(e){localStorage.setItem(d_,e+"")}(gr)}finally{ks&&(yield ks.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,H.Z)(function*(){!lt.emulationState.getCurrentSession()||lt.running||lt.errorService.hasFatalError()||!lt.cloudpilotInstance||(yield lt.kvsService.mutex.runExclusive(()=>lt.updateFeatures()),lt.doResume(),lt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,H.Z)(function*(){lt.doPause(),!lt.errorService.hasFatalError()&&lt.emulationState.getCurrentSession()&&(yield lt.snapshotService.waitForPendingSnapshot(),yield lt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([gr,cs])=>this.mutex.runExclusive((0,H.Z)(function*(){const ks=lt.emulationState.getCurrentSession();gr===ks?.id&&(void 0!==ks.mountedCard&&void 0===cs&&lt.storageCardContext.release(ks.mountedCard,Mr.cloudpilot),lt.emulationState.setCurrentSession(cs),lt.emulationState.getCurrentSession()||(Kk(),lt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,H.Z)(function*(){const gr=lt.emulationState.getCurrentSession();gr&&lt.sessionsService.emergencySaveSession(gr)})),this.mutex=new dl,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(gr=>{gr.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(gr),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const gn=function m9(){const e=localStorage.getItem(d_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==gn&&!ST()&&(this.bootstrapCompletePromise=this.recoverStoredSession(gn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Gd.timeout:Gd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,H.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,H.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,H.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Ms&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,H.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(je),ce(ll),ce(Fl),ce(Kp),ce(au),ce(uo),ce(w0),ce(bR),ce(Si),ce(I0),ce(wR),ce(DR),ce(Ia),ce(Zd),ce(Zp),ce(Sc),ce(ba))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),N0=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Ro.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,H.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,H.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,H.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,H.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(ll))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),kR=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,H.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==uu&&(yield l.kvsService.set({version:uu,previousVersion:c,latestVersion:uu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${uu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=uu})),this.mutex=new dl,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,H.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,H.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===uu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,H.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:uR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,H.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(xa),ce(uo),ce(ls),ce(N0))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Q7=(()=>{var e;class t{constructor(n,o,i){this.kvsService=n,this.alertService=o,this.emulationService=i}start(){var n=this;return(0,H.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o)})()}showInfo(n){var o=this;return(0,H.Z)(function*(){return 2===n&&Ms&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(xa))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),J7=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,H.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(lR),_(kR),_(DR),_(Q7))},e.\u0275cmp=Ye({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(Y(0,"ion-app"),Ge(1,"ion-router-outlet"),G())},dependencies:[Ek,Gp]}),t})(),RR=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(Y(0,"div"),Ie(1,"Dummy"),G())},encapsulation:2}),t})(),PR=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(jb),ce(jo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const F0=Q.m515,eZ=C0[2],tZ=C0[0],qd="rgba(0,0,0,0.2)";function OR(e){const t=Yp(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function iZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class sZ{constructor(t){this.skinLoader=t,this.layout=OR(F0),this.onResize=new Ro.j}get width(){switch(this.getOrientation()){case Lr.portrait:case Lr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Lr.portrait:case Lr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Lr.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case Lr.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case Lr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,H.Z)(function*(){if(!t)return;r.layout=OR(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,H.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,qd),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,qd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Lr.portrait:case void 0:break;case Lr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Lr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Lr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,H.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,eZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return S0(this.getDeviceId())?"white":tZ}frameColor(){return S0(this.getDeviceId())?"white":"#ccc"}}function lZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class uZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,lZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function aZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,H.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(Zk||Ms)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let S_=(()=>{var e;class t extends sZ{constructor(n){super(new uZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,H.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,H.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,H.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??F0}getOrientation(){return this.session?.deviceOrientation??Lr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function dZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Yp(this.session?.device??F0).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ia))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),L0=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(_(jo),_(S_),_(Fl))},e.\u0275cmp=Ye({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(Y(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),Ge(4,"ion-icon",3),Y(5,"ion-label"),Ie(6,"Emulator"),G()(),Y(7,"ion-tab-button",4),Ge(8,"ion-icon",5),Y(9,"ion-label"),Ie(10,"Sessions"),G()(),Y(11,"ion-tab-button",6),Ge(12,"ion-icon",7),Y(13,"ion-label"),Ie(14,"Cards"),G()(),Y(15,"ion-tab-button",8),Ge(16,"ion-icon",9),Y(17,"ion-label"),Ie(18,"Settings"),G()(),Y(19,"ion-tab-button",10),Ge(20,"ion-icon",11),Y(21,"ion-label"),Ie(22,"About"),G()()()()()),2&n&&(we(2),ga("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[ai,Vi,s_,xk,Tk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Xp=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el,c0.forChild(),gc,tu,Xg]}),t})(),fZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el,tu,gc,Xp,c0.forChild()]}),t})(),pZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el,tu,gc,Xp]}),t})(),hZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el,tu,gc,Xg,Xp]}),t})(),mZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el,tu,gc,Xp,Xg]}),t})(),gZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[el,gc,tu,Xg,Xp]}),t})();const _Z=C.p+"assets/doc/about-d0ca8b5cf1135905.md";function vZ(e,t){if(1&e){const r=Hn();Y(0,"ion-button",1),Be("click",function(){return Pt(r),Ot(vt().onClick())}),Ge(1,"ion-icon",2),G()}if(2&e){const r=vt();we(1),Pe("name",r.iconName)}}let w_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Ms?"logo-apple-appstore":qk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(lR))},e.\u0275cmp=Ye({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&un(0,vZ,2,1,"ion-button",0),2&n&&Pe("ngIf",o.show)},dependencies:[Qo,Fi,ai]}),t})();function yZ(e,t){1&e&&(Y(0,"div",10),Ge(1,"ion-spinner"),G())}function bZ(e,t){1&e&&(Y(0,"div"),Ie(1,"app cached for offline use"),G())}let CZ=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return uu}get url(){return _Z}showChangelog(){var n=this;return(0,H.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:uR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(N0))},e.\u0275cmp=Ye({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"About"),G(),Y(4,"ion-buttons",0),Ge(5,"app-pwa-prompt"),G()()(),Y(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ie(10,"About"),G()()(),un(11,yZ,2,0,"div",3),Y(12,"div",4)(13,"markdown",5),Be("load",function(){return o.loading=!1}),G()(),Y(14,"div",6),Ie(15),Ge(16,"br"),Y(17,"a",7),Be("click",function(){return o.showChangelog()}),Ie(18,"Changelog"),G(),un(19,bZ,2,0,"div",8),G(),Ge(20,"img",9),G()),2&n&&(we(11),Pe("ngIf",o.loading),we(2),Pe("src",o.url),we(2),bi(" CloudpilotEmu version ",o.version," "),we(4),Pe("ngIf",o.serviceWorkerAvailable))},dependencies:[Qo,Li,$i,Bi,Vp,ji,Gi,w_,l0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function SZ(e,t){if(1&e&&(Y(0,"ion-select-option",16),Ie(1),G()),2&e){const r=t.$implicit;Pe("value",r[0]),we(1),bi("",r[1]," ")}}function wZ(e,t){if(1&e&&(Y(0,"ion-select-option",16),Ie(1),G()),2&e){const r=t.$implicit;Pe("value",r[0]),we(1),bi("",r[1]," ")}}function DZ(e,t){if(1&e&&(Y(0,"ion-item",6)(1,"ion-label",7),Ie(2,"Hotsync name"),G(),Ge(3,"ion-input",17),G()),2&e){const r=vt();we(3),Pe("placeholder",r.placeholder)}}let NR=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Lr.portrait,"Portrait"],[Lr.landscape90,"Landscape 90\xb0"],[Lr.landscape270,"Landscape 270\xb0"],[Lr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,fR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function t7(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new Wg({name:new Go(this.session.name,{validators:[Ap.required,this.validateNameUnique]}),manageHotsyncName:new Go(!this.session.dontManageHotsyncName),hotsyncName:new Go(this.session.hotsyncName||""),device:new Go({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Go((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Go(this.session.deviceOrientation||Lr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sc),_(uo))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"Session settings"),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.save()}),Ie(6,"Save"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),Y(12,"h1"),Ie(13,"Session"),G(),Y(14,"ion-item",6)(15,"ion-label",7),Ie(16,"Session name"),G(),Ge(17,"ion-input",8),G(),Y(18,"h1"),Ie(19,"Device"),G(),Y(20,"ion-item",6)(21,"ion-label",7),Ie(22,"Device type"),G(),Y(23,"ion-select",9),un(24,SZ,2,2,"ion-select-option",10),G()(),Y(25,"ion-item",6)(26,"ion-label",7),Ie(27,"Orientation"),G(),Y(28,"ion-select",11),un(29,wZ,2,2,"ion-select-option",10),G()(),Y(30,"ion-item",6)(31,"ion-label",12),Ie(32),G(),Y(33,"ion-range",13),Be("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),G()(),Y(34,"h1"),Ie(35,"Hotsync"),G(),Y(36,"ion-item",6)(37,"ion-label"),Ie(38,"Manage hotsync name"),G(),Ge(39,"ion-toggle",14),G(),un(40,DZ,4,1,"ion-item",15),G()()),2&n&&(we(5),Pe("disabled",o.formGroup.invalid),we(6),Pe("formGroup",o.formGroup),we(13),Pe("ngForOf",o.deviceList),we(5),Pe("ngForOf",o.orientations),we(3),Ai(o.speedLabel),we(8),Pe("ngIf",o.showHotsyncNameInput))},dependencies:[Uc,Qo,Fi,Li,$i,Bi,Nl,Jo,Vi,QC,o_,i_,ji,jp,Gi,Ld,e_,Ol,Pl,kl,Rl,WC,Ea,sl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),EZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,H.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,H.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const g=h.GetCurrentDatabase();h.Save()||a.push(g),yield new Promise(b=>setTimeout(b,0))}l=c.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${P0(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(IR(i,n),l)},"Cancel"):o.fileService.saveFile(IR(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(xa),ce(ll),ce(Kp),ce(Cc),ce(Fl),ce(uo),ce(Ia))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const IZ=window.AudioContext||window.webkitAudioContext;function $0(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class xZ{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,H.Z)(function*(){if(!r.initialized){try{r.context=new IZ}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,H.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield $0(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield $0(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,H.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new dl,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Ms||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Ms||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,H.Z)(function*(){t.context&&(yield $0(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let B0=(()=>{var e;class t extends xZ{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(xa),ce(Si),ce(w0))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),LR=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(xa),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function MZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",4),Be("click",function(){return Pt(r),Ot(vt().power())}),Y(1,"ion-label"),Ie(2,"Power"),G(),Ge(3,"ion-icon",5),G()}if(2&e){const r=vt();Pe("detail",!1)("disabled",!r.emulationService.isRunning())}}function AZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",4),Be("click",function(){return Pt(r),Ot(vt().hotsync())}),Y(1,"ion-label"),Ie(2,"Hotsync"),G(),Ge(3,"ion-icon",6),G()}if(2&e){const r=vt();Pe("detail",!1)("disabled",!r.emulationService.isRunning())}}function kZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",4),Be("click",function(){return Pt(r),Ot(vt().reset())}),Y(1,"ion-label"),Ie(2,"Reset"),G(),Ge(3,"ion-icon",7),G()}if(2&e){const r=vt();Pe("detail",!1)("disabled",!r.emulationService.isRunning())}}function RZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",8),Be("click",function(){return Pt(r),Ot(vt().insertCard())}),Y(1,"ion-label"),Ie(2),G(),Ge(3,"ion-icon",9),G()}if(2&e){const r=vt();Pe("detail",!1),we(2),bi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function PZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",8),Be("click",function(){return Pt(r),Ot(vt().ejectCard())}),Y(1,"ion-label"),Ie(2),G(),Ge(3,"ion-icon",10),G()}if(2&e){const r=vt();Pe("detail",!1),we(2),bi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function OZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",8),Be("click",function(){return Pt(r),Ot(vt().mute(!1))}),Y(1,"ion-label"),Ie(2,"Enable audio"),G(),Ge(3,"ion-icon",11),G()}2&e&&Pe("detail",!1)}function NZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",8),Be("click",function(){return Pt(r),Ot(vt().mute(!0))}),Y(1,"ion-label"),Ie(2,"Disable audio"),G(),Ge(3,"ion-icon",12),G()}2&e&&Pe("detail",!1)}function FZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",4),Be("click",function(){return Pt(r),Ot(vt().backup())}),Y(1,"ion-label"),Ie(2,"Save backup"),G(),Ge(3,"ion-icon",13),G()}if(2&e){const r=vt();Pe("detail",!1)("disabled",r.backupDisabled)}}function LZ(e,t){if(1&e){const r=Hn();Y(0,"ion-item",8),Be("click",function(){return Pt(r),Ot(vt().rotate())}),Y(1,"ion-label"),Ie(2,"Rotate"),G(),Ge(3,"ion-icon",14),G()}2&e&&Pe("detail",!1)}function $Z(e,t){if(1&e){const r=Hn();Y(0,"ion-item",8),Be("click",function(){return Pt(r),Ot(vt().editSettings())}),Y(1,"ion-label"),Ie(2,"Settings"),G(),Ge(3,"ion-icon",15),G()}2&e&&Pe("detail",!1)}function BZ(e){switch(e){case Lr.portrait:case void 0:return Lr.landscape90;case Lr.landscape90:return Lr.portrait180;case Lr.portrait180:return Lr.landscape270;case Lr.landscape270:return Lr.portrait;default:throw new Error("cannot happen")}}let VZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,B,ee,ve,Se,De,Tt,Et){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=h,this.sessionService=g,this.performanceWatchdogService=b,this.canvasDisplayService=B,this.cloudpilotService=ee,this.storageCardService=ve,this.alertService=Se,this.alertController=De,this.storageService=Tt,this.errorService=Et,this.showHelp=()=>{}}reset(){var n=this;return(0,H.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,H.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function n7(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&pR(n.device)!==Ud.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&pR(n.device)===Ud.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,H.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:NR,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,H.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,H.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:BZ(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,H.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,H.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(xa),_(Fl),_(EZ),_(wR),_(Up),_(ru),_(B0),_(Si),_(ls),_(Sc),_(LR),_(S_),_(Ia),_(Zd),_(uo),_(nu),_(or),_(au))},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list"),un(1,MZ,4,2,"ion-item",0)(2,AZ,4,2,"ion-item",0)(3,kZ,4,2,"ion-item",0)(4,RZ,4,2,"ion-item",1)(5,PZ,4,2,"ion-item",1)(6,OZ,4,1,"ion-item",1)(7,NZ,4,1,"ion-item",1)(8,FZ,4,2,"ion-item",0)(9,LZ,4,1,"ion-item",1)(10,$Z,4,1,"ion-item",1),Y(11,"ion-item",2),Be("click",function(){return o.help()}),Y(12,"ion-label"),Ie(13,"Help"),G(),Ge(14,"ion-icon",3),G()()),2&n&&(we(1),Pe("ngIf",o.hasActiveSession&&!o.powerDisabled),we(1),Pe("ngIf",o.hasActiveSession),we(1),Pe("ngIf",o.hasActiveSession),we(1),Pe("ngIf",o.supportsStorageCard&&!o.hasMountedCard),we(1),Pe("ngIf",o.supportsStorageCard&&o.hasMountedCard),we(1),Pe("ngIf",o.isMuted&&!o.isAudioOff),we(1),Pe("ngIf",!o.isMuted&&!o.isAudioOff),we(1),Pe("ngIf",o.hasActiveSession),we(1),Pe("ngIf",o.hasActiveSession),we(1),Pe("ngIf",o.hasActiveSession),we(1),Pe("detail",!1))},dependencies:[Qo,ai,Jo,Vi,al]}),t})();const jZ=C.p+"assets/doc/emulation-4d1cd1e4fd3e19e2.md";class GZ{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let UZ=(()=>{var e;class t extends GZ{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(xa),ce(S_),ce(w0),ce(je),ce(ba))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function $R(e){return/\.(prc|pdb|pqa)$/i.test(e)}class qZ{constructor(t,r,n,o,i,s){this.cloudpilotService=t,this.fstools=r,this.alertController=n,this.alertService=o,this.snapshotService=i,this.files=s,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,H.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else $R(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,H.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function ZZ(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,H.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!$R(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function WZ(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():new Promise(n=>{this.alertController.create({header:t,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:this.alertService.sanitizeMessage(r),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),n()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let YZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.alertController=l,this.fstools=c}installFiles(n){var o=this;return(0,H.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new qZ(o.cloudpilotService,o.fstools,o.alertController,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSucces(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSucces(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${P0(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${P0(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ia),ce(xa),ce(ll),ce(Kp),ce(uo),ce(nu),ce(b_))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),V0=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const KZ=["canvas"];function XZ(e,t){if(1&e){const r=Hn();Y(0,"ion-button",5),Be("click",function(){return Pt(r),Ot(vt().navigation.lock())}),Ge(1,"ion-icon",10),G()}}function QZ(e,t){if(1&e){const r=Hn();Y(0,"ion-button",5),Be("click",function(){return Pt(r),Ot(vt().navigation.unlock())}),Ge(1,"ion-icon",11),G()}}function JZ(e,t){if(1&e){const r=Hn();Y(0,"ion-button",5),Be("click",function(){return Pt(r),Ot(vt().showGameModeHint())}),Ge(1,"ion-icon",12),G()}}function eq(e,t){if(1&e){const r=Hn();Y(0,"ion-button",5),Be("click",function(){return Pt(r),Ot(vt().showProxyConnectedHint())}),Ge(1,"ion-icon",13),G()}}function tq(e,t){if(1&e){const r=Hn();Y(0,"ion-button",5),Be("click",function(){return Pt(r),Ot(vt().showSlowdowndHint())}),Ge(1,"ion-icon",14),G()}}function nq(e,t){if(1&e){const r=Hn();Y(0,"div",15),Ie(1," The device was reset forcefully. How do you want to boot? "),Y(2,"ion-button",16),Be("click",function(){return Pt(r),Ot(vt().bootAfterForcefulReset())}),Ie(3,"Normal boot"),G(),Y(4,"ion-button",16),Be("click",function(){return Pt(r),Ot(vt().bootAfterForcefulResetNoExtensions())}),Ie(5,"No extensions"),G(),Y(6,"ion-button",16),Be("click",function(){return Pt(r),Ot(vt().bootAfterForcefulResetHardReset())}),Ie(7,"Hard reset"),G()()}}function rq(e,t){1&e&&(Y(0,"div",15)(1,"div"),Ie(2,"No session selected"),G()())}let oq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,B,ee,ve,Se,De,Tt,Et){var lt=this;this.emulationService=n,this.emulationState=o,this.storageService=i,this.eventHandlingService=s,this.canvasDisplayService=a,this.kvsService=l,this.popoverController=c,this.modalController=f,this.alertService=h,this.fileService=g,this.snapshotService=b,this.installlationService=B,this.proxyService=ee,this.navigation=ve,this.linkApi=Se,this.performanceWatchdogService=De,this.cloudpilotService=Tt,this.dragDropService=Et,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,H.Z)(function*(){yield lt.emulationService.bootstrapComplete(),lt.boostrapComplete=!0;const gn=lt.emulationState.getCurrentSession();gn&&!gn.wasResetForcefully&&(yield lt.launchEmulator()),lt.linkApi.installation.requestEvent.addHandler(lt.handleLinkApiInstallationRequest),lt.handleLinkApiInstallationRequest(),lt.dragDropService.registerClient(lt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=gn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(gn,this.emulationService.getStatistics())},this.onNewFrame=gn=>{this.canvasDisplayService.updateEmulationCanvas(gn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const gn=this.linkApi.installation.receivePendingUrl();gn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${gn} ?`,{OK:()=>this.fileService.openUrl(gn,cs=>this.installlationService.installFiles([cs]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${gn} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new dl}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(n){var o=this;return(0,H.Z)(function*(){(yield o.popoverController.create({component:VZ,event:n,componentProps:{showHelp:()=>o.showHelp()},arrow:!1,translucent:!0})).present()})()}handleDragDropEvent(n){this.installFileDisabled||this.fileService.openFromDrop(n,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var n=this;return(0,H.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:jZ}})).present()})()}showGameModeHint(){var n=this;return(0,H.Z)(function*(){yield n.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>n.showHelp()})})()}showProxyConnectedHint(){var n=this;return(0,H.Z)(function*(){yield n.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var n=this;return(0,H.Z)(function*(){yield n.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var n=this;return(0,H.Z)(function*(){yield n.clearForcefulReset(),yield n.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var n=this;return(0,H.Z)(function*(){yield n.clearForcefulReset(),(yield n.cloudpilotService.cloudpilot).resetNoExtensions(),yield n.launchEmulator()})()}bootAfterForcefulResetHardReset(){var n=this;return(0,H.Z)(function*(){yield n.clearForcefulReset(),(yield n.cloudpilotService.cloudpilot).resetHard(),yield n.launchEmulator()})()}cancelIfEmulationActive(n){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&n.cancelable&&n.preventDefault()}clearForcefulReset(){var n=this;return(0,H.Z)(function*(){const o=n.emulationState.getCurrentSession();o&&(yield n.storageService.updateSessionPartial(o.id,{wasResetForcefully:!1}))})()}launchEmulator(){var n=this;return(0,H.Z)(function*(){const o=n.emulationState.getCurrentSession();o&&(yield n.kvsService.mutex.runExclusive(()=>n.kvsService.kvs.autoLockUI&&n.autoLockUI&&n.navigation.lock()),n.canvasDisplayService.initialize(n.canvasRef.nativeElement,o).then(()=>{n.onKvsUpdate(),n.kvsService.updateEvent.addHandler(n.onKvsUpdate)}),n.onNewFrame(n.emulationService.getCanvas()),n.emulationService.newFrameEvent.addHandler(n.onNewFrame),n.snapshotService.snapshotEvent.addHandler(n.onSnapshot),yield n.emulationService.resume(),n.eventHandlingService.bind(n.canvasRef.nativeElement))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(xa),_(Fl),_(or),_(UZ),_(S_),_(Si),_(ru),_(ls),_(uo),_(Cc),_(Kp),_(YZ),_(I0),_(L0),_(jb),_(LR),_(Ia),_(V0))},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation"]],viewQuery:function(n,o){if(1&n&&jc(KZ,5),2&n){let i;Ws(i=Zs())&&(o.canvasRef=i.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,o){if(1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.installFiles()}),Ge(6,"ion-icon",2),G(),un(7,XZ,2,0,"ion-button",3)(8,QZ,2,0,"ion-button",3),G(),Y(9,"ion-buttons",4)(10,"ion-button",5),Be("click",function(s){return o.openContextMenu(s)}),Ge(11,"ion-icon",6),G(),un(12,JZ,2,0,"ion-button",3)(13,eq,2,0,"ion-button",3)(14,tq,2,0,"ion-button",3),G()()(),Y(15,"ion-content")(16,"div",7),Be("touchstart",function(s){return o.cancelIfEmulationActive(s)})("touchmove",function(s){return o.cancelIfEmulationActive(s)}),Ge(17,"canvas",null,8),G(),un(19,nq,8,0,"div",9)(20,rq,3,0,"div",9),G()),2&n){let i,s;we(3),Ai(o.title),we(2),Pe("disabled",o.installFileDisabled),we(2),Pe("ngIf",!o.navigation.isLocked()),we(1),Pe("ngIf",o.navigation.isLocked()),we(4),Pe("ngIf",o.eventHandlingService.isGameMode()),we(1),Pe("ngIf",o.proxyService.isConnected()),we(1),Pe("ngIf",o.performanceWatchdogService.isSlowdownDetected()),we(1),ga("locked",o.navigation.isLocked()),we(1),Qu("display",!o.emulationState.getCurrentSession()||null!=(i=o.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),we(1),Qu("width",o.cssWidth)("height",o.cssHeight)("display",o.emulationState.getCurrentSession()?"block":"none"),we(2),Pe("ngIf",null!=(s=o.emulationState.getCurrentSession())&&s.wasResetForcefully?"none":void 0),we(1),Pe("ngIf",!o.emulationState.getCurrentSession()&&o.boostrapComplete)}},dependencies:[Qo,Fi,Li,$i,Bi,ai,ji,Gi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),t})();const BR="reduced-animations",iq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,XC.c)()),sq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,XC.c)()},aq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,XC.c)()};function VR(e){localStorage.setItem(BR,e?"1":"0")}function jR(){return"1"===(localStorage.getItem(BR)??"0")}const cq=C.p+"assets/doc/settings-589ae62c10d3967b.md";function uq(e,t){1&e&&(Y(0,"ion-item",7)(1,"ion-label"),Ie(2,"Clipboard integration"),G(),Ge(3,"ion-toggle",18),G())}function dq(e,t){if(1&e){const r=Hn();Y(0,"ion-item",7)(1,"ion-label",19),Ie(2,"Proxy server"),G(),Y(3,"div",20),Ge(4,"ion-input",21),Y(5,"ion-button",22),Be("click",function(o){Pt(r);const i=vt();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())})("touchstart",function(o){Pt(r);const i=vt();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())}),Ie(6," Test "),G()()()}if(2&e){const r=vt();we(5),Pe("disabled",!r.proxyServerValid)}}function fq(e,t){1&e&&(ad(0),Y(1,"h1"),Ie(2,"Debug"),G(),Y(3,"ion-item",7)(4,"ion-label"),Ie(5,"Snapshot validation (slow)"),G(),Ge(6,"ion-toggle",23),G(),ld())}let pq=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{VR(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,H.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:cq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,H.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),VR(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,H.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return true}createFormGroup(){this.formGroup=new Wg({volume:new Go(this.kvsService.kvs.volume),showStatistics:new Go(this.kvsService.kvs.showStatistics),runHidden:new Go(this.kvsService.kvs.runHidden),clipboardIntegration:new Go(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Go(this.kvsService.kvs.networkRedirection),proxyServer:new Go(this.kvsService.kvs.proxyServer,{validators:[C7]}),autoLockUI:new Go(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Go(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Go(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Go(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Go(jR())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(Si),_(bR),_(uo),_(I0))},e.\u0275cmp=Ye({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"Settings"),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.showHelp()}),Ge(6,"ion-icon",2),G(),Ge(7,"app-pwa-prompt"),G()()(),Y(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ie(12,"Settings"),G()()(),Y(13,"div",5)(14,"form",6)(15,"h1"),Ie(16,"Emulation"),G(),Y(17,"ion-item",7)(18,"ion-label"),Ie(19,"Volume"),G(),Ge(20,"ion-range",8),G(),Y(21,"ion-item",7)(22,"ion-label"),Ie(23,"Enable audio on start"),G(),Ge(24,"ion-toggle",9),G(),Y(25,"ion-item",7)(26,"ion-label"),Ie(27,"Run when hidden"),G(),Ge(28,"ion-toggle",10),G(),Y(29,"h1"),Ie(30,"Host integration"),G(),un(31,uq,4,0,"ion-item",11),Y(32,"ion-item",7)(33,"ion-label"),Ie(34,"Network redirection"),G(),Ge(35,"ion-toggle",12),G(),un(36,dq,7,1,"ion-item",11),Y(37,"h1"),Ie(38,"UI"),G(),Y(39,"ion-item",7)(40,"ion-label"),Ie(41,"Auto-lock UI"),G(),Ge(42,"ion-toggle",13),G(),Y(43,"ion-item",7)(44,"ion-label"),Ie(45,"Reduce animations"),G(),Ge(46,"ion-toggle",14),G(),Y(47,"ion-item",7)(48,"ion-label"),Ie(49,"Show statistics"),G(),Ge(50,"ion-toggle",15),G(),Y(51,"ion-item",7)(52,"ion-label"),Ie(53,"Open from remote sources"),G(),Ge(54,"ion-toggle",16),G(),un(55,fq,7,0,"ng-container",17),G()()()),2&n&&(we(14),Pe("formGroup",o.formGroup),we(17),Pe("ngIf",o.clipboardService.isSupported()),we(5),Pe("ngIf",o.showProxyServer),we(19),Pe("ngIf",o.showDebugOptions))},dependencies:[Qo,Pl,kl,Rl,Fi,Li,$i,Bi,ai,Nl,Jo,Vi,QC,ji,jp,Gi,Ld,Ol,w_,Ea,sl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),j0=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Zo({name:"cardSize",type:e,pure:!0}),t})();function hq(e,t){1&e&&(Y(0,"div",13)(1,"b"),Ie(2,"WARNING:"),G(),Ie(3," This image cannot be used as a memory stick image."),G())}let GR=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique]}),size:new as({value:"dummy",disabled:!0}),checkAutomatically:new as(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Zd))},e.\u0275cmp=Ye({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.save()}),Ie(6,"Save"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),Ie(14,"Card name"),G(),Ge(15,"ion-input",8),G(),Y(16,"ion-item",6)(17,"ion-label",7),Ie(18,"Card size"),G(),Y(19,"ion-select",9)(20,"ion-select-option",10),Ie(21),Xa(22,"cardSize"),G()()(),Y(23,"ion-item",6)(24,"ion-label"),Ie(25,"Check for errors automatically"),G(),Ge(26,"ion-toggle",11),G()(),un(27,hq,4,0,"div",12),G()),2&n&&(we(3),Ai(o.newCard?"New memory card":"Edit memory card"),we(2),Pe("disabled",o.formGroup.invalid),we(6),Pe("formGroup",o.formGroup),we(10),bi("",Qa(22,5,null==o.card?null:o.card.size)," "),we(6),Pe("ngIf",!o.memoryStickSupported))},dependencies:[Qo,Fi,Li,$i,Bi,Nl,Jo,Vi,o_,i_,ji,jp,Gi,Ld,e_,Ol,Pl,kl,Rl,Ea,sl,j0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function mq(e,t){if(1&e&&(Y(0,"ion-select-option",12),Ie(1),Xa(2,"cardSize"),G()),2&e){const r=t.$implicit,n=vt();Pe("value",r),we(1),bi("",Qa(2,2,n.sizeBytes(r))," ")}}const gq=[Uo.mb4,Uo.mb8,Uo.mb16,Uo.mb32,Uo.mb64,Uo.mb128];let _q=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique]}),size:new as(Uo.mb32,{nonNullable:!0}),checkAutomatically:new as(!0,{nonNullable:!0})})}get sizes(){return gq}sizeBytes(n){return function Z7(e){switch(e){case Uo.mb4:return 4046848;case Uo.mb8:return 8110080;case Uo.mb16:return 16220160;case Uo.mb32:return 32473088;case Uo.mb64:return 64978944;case Uo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Zd))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"New memory card"),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.create()}),Ie(6,"Create"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),Ie(14,"Card name"),G(),Ge(15,"ion-input",8),G(),Y(16,"ion-item",6)(17,"ion-label",7),Ie(18,"Card size"),G(),Y(19,"ion-select",9),un(20,mq,3,4,"ion-select-option",10),G()(),Y(21,"ion-item",6)(22,"ion-label"),Ie(23,"Check for errors automatically"),G(),Ge(24,"ion-toggle",11),G()()()),2&n&&(we(5),Pe("disabled",o.formGroup.invalid),we(6),Pe("formGroup",o.formGroup),we(9),Pe("ngForOf",o.sizes))},dependencies:[Uc,Fi,Li,$i,Bi,Nl,Jo,Vi,o_,i_,ji,jp,Gi,Ld,e_,Ol,Pl,kl,Rl,Ea,sl,j0]}),t})();function wc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const vq=C.p+"assets/doc/cards-8595991e283f3e6b.md";let yq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onEdit()}),Ge(2,"ion-icon",1),Ie(3," Edit "),G(),Y(4,"ion-item",0),Be("click",function(){return o.onSave()}),Ge(5,"ion-icon",2),Ie(6," Save "),G(),Y(7,"ion-item",0),Be("click",function(){return o.onCheck()}),Ge(8,"ion-icon",3),Ie(9," Check "),G(),Y(10,"ion-item",4),Be("click",function(){return o.onDelete()}),Ge(11,"ion-icon",5),Ie(12," Delete "),G()()),2&n&&(we(1),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1))},dependencies:[ai,Jo,al]}),t})();function bq(e,t){1&e&&Ge(0,"ion-icon",15)}function Cq(e,t){1&e&&Ge(0,"ion-icon",16)}let Sq=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new an,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new an,this.edit=new an,this.check=new an,this.delete=new an,this.save=new an,this.checkSessions=wc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,H.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:yq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Sr.dirty:return"needs check";case Sr.clean:return"no errors";case Sr.unformatted:return"no filesystem";case Sr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Zd),_(ru),_(Sc),_(ft))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Hn();Y(0,"ion-item-sliding",0,1),Be("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),Y(2,"ion-item-options",2)(3,"ion-item-option",3),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.edit.emit(o.card))}),Ge(4,"ion-icon",4),G(),Y(5,"ion-item-option",5),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.save.emit(o.card))}),Ge(6,"ion-icon",6),G()(),Y(7,"ion-item-options",7)(8,"ion-item-option",8),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.check.emit(o.card))}),Ge(9,"ion-icon",9),G(),Y(10,"ion-item-option",10),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.delete.emit(o.card))}),Ge(11,"ion-icon",11),G()(),Y(12,"ion-item",12),Be("click",function(){return o.selectCard.emit(),o.interaction.emit()}),Y(13,"ion-label")(14,"h2"),Ie(15),G(),Y(16,"p"),Ie(17),Xa(18,"cardSize"),G()(),un(19,bq,1,0,"ion-icon",13)(20,Cq,1,0,"ion-icon",14),G()()}2&n&&(we(12),Pe("color",o.color),we(1),ga("selecting",o.selecting),we(2),Ai(null==o.card?null:o.card.name),we(2),ep("",Qa(18,8,null==o.card?null:o.card.size),", ",o.status,""),we(2),Pe("ngIf",o.selecting&&!o.selectedForExport),we(1),Pe("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Qo,ai,Jo,t_,n_,r_,Vi,j0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Qp;function wq(e,t){if(1&e){const r=Hn();Y(0,"ion-toolbar")(1,"ion-title"),Ie(2,"Memory cards"),G(),Y(3,"ion-buttons",5)(4,"ion-button",6),Be("click",function(){return Pt(r),Ot(vt().startMassExport())}),Ge(5,"ion-icon",7),G(),Y(6,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt().addCardImage())}),Ge(7,"ion-icon",9),G()(),Y(8,"ion-buttons",10)(9,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt().showHelp())}),Ge(10,"ion-icon",11),G(),Ge(11,"app-pwa-prompt"),G()()}if(2&e){const r=vt();we(4),Pe("disabled",0===r.cards.length)}}function Dq(e,t){if(1&e){const r=Hn();Y(0,"ion-buttons",10)(1,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt(2).onSelectAll())}),Ie(2,"Select all"),G()()}}function Eq(e,t){if(1&e){const r=Hn();Y(0,"ion-buttons",10)(1,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt(2).selection.clear())}),Ie(2,"Clear"),G()()}}function Iq(e,t){if(1&e){const r=Hn();Y(0,"ion-toolbar")(1,"ion-title"),Ie(2,"Export"),G(),Y(3,"ion-buttons",5)(4,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt().onSelectionDone())}),Ie(5),G()(),un(6,Dq,3,0,"ion-buttons",12)(7,Eq,3,0,"ion-buttons",12),G()}if(2&e){const r=vt();we(5),Ai(0===r.selection.size?"Cancel":"Export"),we(1),Pe("ngIf",r.selection.size!==r.cards.length),we(1),Pe("ngIf",r.selection.size===r.cards.length)}}function xq(e,t){1&e&&(Y(0,"ion-title",13),Ie(1,"Memory cards"),G())}function Tq(e,t){1&e&&(Y(0,"ion-title",13),Ie(1,"Select for export"),G())}function Mq(e,t){1&e&&(Y(0,"div",14),Ge(1,"ion-spinner"),G())}function Aq(e,t){1&e&&(Y(0,"div",15)(1,"div",16),Ie(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),G()())}function kq(e,t){if(1&e){const r=Hn();Y(0,"app-storage-card",18),Be("delete",function(){const i=Pt(r).$implicit;return Ot(vt(2).deleteCard(i))})("selectCard",function(){const i=Pt(r).$implicit,s=vt(2);return Ot("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Pt(r).$implicit;return Ot(vt(2).editCard(i))})("check",function(){const i=Pt(r).$implicit;return Ot(vt(2).checkCard(i))})("interaction",function(){const i=Pt(r).$implicit;return Ot(vt(2).lastCardTouched=i.id)})("save",function(){const i=Pt(r).$implicit;return Ot(vt(2).saveCard(i))}),G()}if(2&e){const r=t.$implicit,n=vt(2);Pe("card",r)("touched",r.id===n.lastCardTouched)("selecting","select-for-export"===n.mode)("selectedForExport",n.selection.has(r.id))}}function Rq(e,t){if(1&e&&(Y(0,"ion-list"),un(1,kq,1,4,"app-storage-card",17),G()),2&e){const r=vt();we(1),Pe("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class $l{constructor(t,r,n,o,i,s,a,l,c,f,h,g){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=l,this.loadingController=c,this.fstools=f,this.cd=g,this.handleCardImport=function(){var B=(0,H.Z)(function*(ee){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(ee.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(ee.name.endsWith(".zip")){let Et=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>Et=!0},"Cancel"),void(Et&&(yield b.storageCardService.addAllCardsFromArchive(yield ee.getContent())))}const ve=yield b.cloudpilotService.cloudpilot;let Se;try{Se=yield ee.getContent()}catch(Et){return console.warn(Et),void(yield b.alertService.errorMessage(`Unable to open ${ee.name}".`))}if(/\.gz$/.test(ee.name)){const Et=yield b.loadingController.create({message:"Unpacking..."});yield Et.present();try{Se=yield b.fstools.gunzip(Se)}finally{yield Et.dismiss()}}const De=Se?ve.getCardSupportLevel(Se.length):0;if(void 0===Se||0===De)return void b.alertService.errorMessage("This is not a supported card image.");const Tt=yield new Promise(function(){var Et=(0,H.Z)(function*(lt){const gn=yield b.modalController.create({component:GR,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(ee.name.replace(/\.gz$/,"")),size:Se.length},cardSupportLevel:De,newCard:!0,onCancel:()=>{gn.dismiss(),lt(void 0)},onSave:gr=>{lt(gr),gn.dismiss()}}});yield gn.present()});return function(lt){return Et.apply(this,arguments)}}());Tt&&(yield b.storageCardService.createCardFromImage(Tt.name,Se,!!Tt.dontFsckAutomatically))});return function(ee){return B.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=wc(g,[],()=>this.storageCardService.getAllCards()),this.checkSessions=wc(g,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,H.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,H.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:vq}})).present()})()}browseCard(t){var r=this;return(0,H.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,H.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:GR,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,H.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,H.Z)(function*(){const n=`${Wd(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Save uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,H.Z)(function*(){var o;yield(yield r.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,H.Z)(function*(){try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}onSelectionDone(){var t=this;return(0,H.Z)(function*(){switch(t.mode="manage",t.selection.size){case 0:break;case 1:{const r=yield t.storageCardService.getCard(Array.from(t.selection)[0]);r&&(yield t.saveCard(r));break}default:yield t.exportSelection(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}exportSelection(t){var r=this;return(0,H.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,H.Z)(function*(){const r=yield t.modalController.create({component:_q,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,H.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return zd(t,n=>r.some(o=>o.name===n))}}function Pq(e,t){1&e&&Ge(0,"ion-icon",8)}function Oq(e,t){1&e&&Ge(0,"ion-icon",9)}function Nq(e,t){1&e&&Ge(0,"ion-icon",10)}function Fq(e,t){if(1&e){const r=Hn();Y(0,"ion-item",2),Be("click",function(){const i=Pt(r).index;return Ot(vt(2).onSelect(i))}),ad(1,3),un(2,Pq,1,0,"ion-icon",4)(3,Oq,1,0,"ion-icon",5)(4,Nq,1,0,"ion-icon",6),ld(),Y(5,"div",7),Ie(6),G()()}if(2&e){const r=t.$implicit,n=t.index,o=vt(2);Pe("detail",!1)("lines",n===o.entries.length-1?"none":"full"),we(1),Pe("ngSwitch",o.entries.length),we(1),Pe("ngSwitchCase",n+1),we(1),Pe("ngSwitchCase",n+2),we(3),Ai(r)}}function Lq(e,t){if(1&e&&(Y(0,"ion-list"),un(1,Fq,7,6,"ion-item",1),G()),2&e){const r=vt();we(1),Pe("ngForOf",r.entries)}}(Qp=$l).\u0275fac=function(t){return new(t||Qp)(_(Up),_(Zd),_(ls),_(nu),_(Ia),_(uo),_(au),_(Cc),_(ll),_(b_),_(Sc),_(ft))},Qp.\u0275cmp=Ye({type:Qp,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:11,vars:7,consts:[[4,"ngIf"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","share-outline"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(Y(0,"ion-header"),un(1,wq,12,1,"ion-toolbar",0)(2,Iq,8,3,"ion-toolbar",0),G(),Y(3,"ion-content")(4,"ion-header",1)(5,"ion-toolbar"),un(6,xq,2,0,"ion-title",2)(7,Tq,2,0,"ion-title",2),G()(),un(8,Mq,2,0,"div",3)(9,Aq,3,0,"div",4)(10,Rq,2,2,"ion-list",0),G()),2&t&&(we(1),Pe("ngIf","manage"===r.mode),we(1),Pe("ngIf","select-for-export"===r.mode),we(4),Pe("ngIf","manage"===r.mode),we(1),Pe("ngIf","select-for-export"===r.mode),we(1),Pe("ngIf",r.storageCardService.isLoading()),we(1),Pe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),we(1),Pe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Uc,Qo,Fi,Li,$i,Bi,ai,al,Vp,ji,Gi,w_,Sq],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ae([Qr()],$l.prototype,"addCardImage",null),ae([Qr()],$l.prototype,"browseCard",null),ae([Qr()],$l.prototype,"editCard",null),ae([Qr()],$l.prototype,"saveCard",null),ae([Qr()],$l.prototype,"checkCard",null),ae([Qr()],$l.prototype,"deleteCard",null),ae([Qr()],$l.prototype,"onSelectionDone",null);let $q=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&un(0,Lq,2,1,"ion-list",0),2&n&&Pe("ngIf",o.entries)},dependencies:[Uc,Qo,fg,Wx,Zx,ai,Jo,al],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:170px}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:130px}"]}),t})(),Bq=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fu))},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onStartSelection()}),Ge(2,"ion-icon",1),Ie(3," Start selection "),G(),Y(4,"ion-item",2),Be("click",function(){return o.onAddFiles()}),Ge(5,"ion-icon",3),Ie(6," Add files "),G(),Y(7,"ion-item",2),Be("click",function(){return o.onCreateDirectry()}),Ge(8,"ion-icon",4),Ie(9," Add directory "),G(),Y(10,"ion-item",2),Be("click",function(){return o.onExtractZipfile()}),Ge(11,"ion-icon",5),Ie(12," Extract zip "),G(),Y(13,"ion-item",0),Be("click",function(){return o.onPaste()}),Ge(14,"ion-icon",6),Ie(15," Paste "),G(),Y(16,"ion-item",7),Be("click",function(){return o.onHelp()}),Ge(17,"ion-icon",8),Ie(18," Help "),G()()),2&n&&(we(1),Pe("detail",!1)("disabled",o.emptyDirectory),we(3),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),we(3),Pe("detail",!1))},dependencies:[ai,Jo,al]}),t})();var Jp;class D_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new as(!1,{nonNullable:!0}),attrHidden:new as(!1,{nonNullable:!0}),attrSystem:new as(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,H.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,H.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,H.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Jp=D_).\u0275fac=function(t){return new(t||Jp)(_(ls),_(fu))},Jp.\u0275cmp=Ye({type:Jp,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return r.onSaveClick()}),Ie(6,"Save"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return r.onCancelClick()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return r.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),Ie(14),G(),Ge(15,"ion-input",8),G(),Y(16,"ion-item",6)(17,"h2"),Ie(18,"Attributes"),G()(),Y(19,"ion-item",6)(20,"ion-label"),Ge(21,"ion-icon",9),Ie(22,"Readonly"),G(),Ge(23,"ion-checkbox",10),G(),Y(24,"ion-item",6)(25,"ion-label"),Ge(26,"ion-icon",11),Ie(27,"Hidden"),G(),Ge(28,"ion-checkbox",12),G(),Y(29,"ion-item",6)(30,"ion-label"),Ge(31,"ion-icon",13),Ie(32,"System"),G(),Ge(33,"ion-checkbox",14),G()()()),2&t&&(we(3),bi("Edit ",r.subjectName.toLowerCase(),""),we(2),Pe("disabled",r.formGroup.invalid),we(6),Pe("formGroup",r.formGroup),we(3),bi("",r.subjectName," name"),we(1),$m("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Fi,Li,Ik,$i,Bi,ai,Nl,Jo,Vi,ji,Gi,Ld,Ol,Pl,kl,Rl,Ea,sl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),ae([Qr()],D_.prototype,"onSaveClick",null),ae([Qr()],D_.prototype,"onEnter",null);let Vq=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(je))},e.\u0275dir=Lt({type:e,selectors:[["","appAutofocus",""]]}),t})(),jq=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fu),_(ls))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ie(3,"Create directory"),G(),Y(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.onCreateClick()}),Ie(6,"Create"),G()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancelClick()}),Ie(9,"Cancel"),G()()()(),Y(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),Ie(14,"Directory name"),G(),Ge(15,"ion-input",8),G()()()),2&n&&(we(5),Pe("disabled",o.formGroup.invalid),we(6),Pe("formGroup",o.formGroup))},dependencies:[Fi,Li,$i,Bi,Nl,Jo,Vi,ji,Gi,Ol,Pl,kl,Rl,Ea,sl,Vq]}),t})();function UR(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const Gq=C.p+"assets/doc/card-browser-5a0261814255810d.md";let Uq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onEdit()}),Ge(2,"ion-icon",1),Ie(3," Edit "),G(),Y(4,"ion-item",0),Be("click",function(){return o.onSave()}),Ge(5,"ion-icon",2),Ie(6," Save "),G(),Y(7,"ion-item",0),Be("click",function(){return o.onCopy()}),Ge(8,"ion-icon",3),Ie(9," Copy "),G(),Y(10,"ion-item",0),Be("click",function(){return o.onCut()}),Ge(11,"ion-icon",4),Ie(12," Cut "),G(),Y(13,"ion-item",5),Be("click",function(){return o.onDelete()}),Ge(14,"ion-icon",6),Ie(15," Delete "),G()()),2&n&&(we(1),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1))},dependencies:[ai,Jo,al]}),t})(),HR=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Zo({name:"fileSize",type:e,pure:!0}),t})();const Hq=["slidingItem"];function zq(e,t){1&e&&Ge(0,"ion-icon",24)}function Wq(e,t){1&e&&Ge(0,"ion-icon",25)}function Zq(e,t){1&e&&Ge(0,"ion-icon",26)}function qq(e,t){1&e&&Ge(0,"ion-icon",27)}function Yq(e,t){1&e&&Ge(0,"ion-icon",28)}function Kq(e,t){1&e&&Ge(0,"ion-icon",29)}function Xq(e,t){1&e&&Ge(0,"ion-icon",30)}function Qq(e,t){1&e&&Ge(0,"ion-icon",31)}function Jq(e,t){1&e&&Ge(0,"ion-icon",32)}function eY(e,t){if(1&e&&(ad(0),Ie(1),Xa(2,"fileSize"),ld()),2&e){const r=vt();we(1),bi(" - ",Qa(2,1,null==r.entry?null:r.entry.size)," ")}}let tY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new an,this.selectEntry=new an,this.editEntry=new an,this.copyEntry=new an,this.cutEntry=new an,this.deleteEntry=new an,this.saveEntry=new an,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,H.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Uq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,H.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Up),_(ru),_(fu))},e.\u0275cmp=Ye({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&jc(Hq,5),2&n){let i;Ws(i=Zs())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[_i],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Hn();Y(0,"ion-item-sliding",0,1),Be("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),Y(2,"ion-item-options",2)(3,"ion-item-option",3),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.editEntry.emit(o.entry))}),Ge(4,"ion-icon",4),G(),Y(5,"ion-item-option",5),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.saveEntry.emit(o.entry))}),Ge(6,"ion-icon",6),G()(),Y(7,"ion-item-options",7)(8,"ion-item-option",8),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.cutOrCopyEntry())}),Ge(9,"ion-icon",9),G(),Y(10,"ion-item-option",10),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.deleteEntry.emit(o.entry))}),Ge(11,"ion-icon",11),G()(),Y(12,"ion-item",12),Be("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),un(13,zq,1,0,"ion-icon",13)(14,Wq,1,0,"ion-icon",14),Y(15,"div",15),un(16,Zq,1,0,"ion-icon",16)(17,qq,1,0,"ion-icon",17)(18,Yq,1,0,"ion-icon",18)(19,Kq,1,0,"ion-icon",19)(20,Xq,1,0,"ion-icon",20),G(),un(21,Qq,1,0,"ion-icon",21)(22,Jq,1,0,"ion-icon",22),Y(23,"ion-label")(24,"h2"),Ie(25),G(),Y(26,"p"),Ie(27),un(28,eY,3,3,"ng-container",23),G()()()()}2&n&&(Pe("disabled",o.selecting),we(12),Qu("opacity",o.touched?1:.99999),ga("is-directory",null==o.entry?null:o.entry.isDirectory),Pe("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),we(1),Pe("ngIf",null==o.entry?null:o.entry.isDirectory),we(1),Pe("ngIf",!(null!=o.entry&&o.entry.isDirectory)),we(2),Pe("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),we(1),Pe("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),we(1),Pe("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),we(1),Pe("ngIf",o.markedForCopy),we(1),Pe("ngIf",o.markedForCut),we(1),Pe("ngIf",o.selecting&&!o.selected),we(1),Pe("ngIf",o.selecting&&o.selected),we(1),Qu("padding-right",o.safetyMargin),ga("selecting",o.selecting),we(2),Ai(null==o.entry?null:o.entry.name),we(2),bi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),we(1),Pe("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Qo,ai,Jo,t_,n_,r_,Vi,HR],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var eh;function nY(e,t){if(1&e){const r=Hn();Y(0,"ion-toolbar")(1,"ion-title",6),Be("click",function(o){return Pt(r),Ot(vt().openBreadcrumbMenu(o))}),Y(2,"div",7)(3,"div",8),Ie(4),G(),Ge(5,"div",9),G()(),Y(6,"ion-buttons",10),Ge(7,"ion-back-button"),G(),Y(8,"ion-buttons",11)(9,"ion-button",12),Be("click",function(o){return Pt(r),Ot(vt().openContextMenu(o,"trigger"))}),Ge(10,"ion-icon",13),G()()()}if(2&e){const r=vt();we(1),Pe("id",r.breadcrumbTriggerId),we(3),Ai(r.title)}}function rY(e,t){if(1&e){const r=Hn();Y(0,"ion-buttons",15)(1,"ion-button",12),Be("click",function(){return Pt(r),Ot(vt(2).onSelectAll())}),Ie(2,"Select all"),G()()}}function oY(e,t){if(1&e){const r=Hn();Y(0,"ion-buttons",15)(1,"ion-button",12),Be("click",function(){return Pt(r),Ot(vt(2).selection.clear())}),Ie(2,"Clear"),G()()}}function iY(e,t){if(1&e){const r=Hn();Y(0,"ion-toolbar")(1,"ion-title"),Ie(2,"Selection"),G(),Y(3,"ion-buttons",11)(4,"ion-button",12),Be("click",function(){return Pt(r),Ot(vt().onSelectionDone())}),Ie(5),G()(),un(6,rY,3,0,"ion-buttons",14)(7,oY,3,0,"ion-buttons",14),G()}if(2&e){const r=vt();we(5),Ai(0===r.selection.size?"Cancel":"Done"),we(1),Pe("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),we(1),Pe("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function sY(e,t){if(1&e&&(Y(0,"div",16)(1,"div",17),Ie(2),G()()),2&e){const r=vt();we(2),bi(" empty ",r.isRoot?"card":"directory"," ")}}function aY(e,t){if(1&e){const r=Hn();Y(0,"app-file-entry",18),Be("selectEntry",function(){const i=Pt(r).$implicit;return Ot(vt().onSelect(i))})("editEntry",function(){const i=Pt(r).$implicit;return Ot(vt().onEditEntry(i))})("saveEntry",function(){const i=Pt(r).$implicit;return Ot(vt().onSaveEntry(i))})("copyEntry",function(){const i=Pt(r).$implicit;return Ot(vt().onCopyEntry(i))})("cutEntry",function(){const i=Pt(r).$implicit;return Ot(vt().onCutEntry(i))})("deleteEntry",function(){const i=Pt(r).$implicit;return Ot(vt().onDeleteEntry(i))})("interaction",function(){const i=Pt(r).$implicit;return Ot(vt().lastEntryTouched=i.name)}),G()}if(2&e){const r=t.$implicit,n=vt();Pe("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function lY(e,t){if(1&e&&(Y(0,"p"),Ie(1),Xa(2,"fileSize"),Xa(3,"fileSize"),G()),2&e){const r=vt(2);we(1),ep(" ",Qa(2,2,r.bytesFree)," free, ",Qa(3,4,r.bytesTotal)," total ")}}function cY(e,t){if(1&e&&(Y(0,"p"),Ie(1),Xa(2,"fileSize"),G()),2&e){const r=vt(2);we(1),Ry(" ",Qa(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function uY(e,t){if(1&e&&(Y(0,"ion-item",19)(1,"ion-label"),un(2,lY,4,6,"p",0)(3,cY,3,5,"p",0),G()()),2&e){const r=vt();we(2),Pe("ngIf",r.isRoot),we(1),Pe("ngIf",r.fileCount>0)}}function dY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}let fY=0;class Ta{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=UR(c=>c?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=UR(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+fY++,this.checkEntries=wc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=wc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(dY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,H.Z)(function*(){yield(yield r.modalController.create({component:D_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,H.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,H.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,H.Z)(function*(){yield(yield t.modalController.create({component:jq,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,H.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,H.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:Gq}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,H.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,H.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,H.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,H.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:$q,event:t,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:r.breadcrumbTriggerId})).present()})()}openContextMenu(t,r){var n=this;return(0,H.Z)(function*(){(yield n.popoverController.create({component:Bq,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,H.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(eh=Ta).\u0275fac=function(t){return new(t||eh)(_(fu),_(ru),_(Qg),_(uo),_(Up),_(ls),_(Cc),_(ft))},eh.\u0275cmp=Ye({type:eh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(Y(0,"ion-header"),un(1,nY,11,2,"ion-toolbar",0)(2,iY,8,3,"ion-toolbar",0),G(),Y(3,"ion-content",1),Be("contextmenu",function(o){return r.onContextMenu(o)}),Y(4,"div",2),un(5,sY,3,1,"div",3),Y(6,"ion-list"),un(7,aY,1,4,"app-file-entry",4)(8,uY,4,2,"ion-item",5),G()()()),2&t&&(we(1),Pe("ngIf","browse"===r.mode),we(1),Pe("ngIf","select"===r.mode),we(3),Pe("ngIf",0===(null==r.entries?null:r.entries.length)),we(2),Pe("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),we(1),Pe("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Uc,Qo,Fi,Li,$i,Bi,ai,Jo,Vi,al,ji,Gi,Mk,tY,HR],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),ae([Qr()],Ta.prototype,"onSaveEntry",null),ae([Qr()],Ta.prototype,"onDeleteEntry",null),ae([Qr()],Ta.prototype,"onCreateDirectory",null),ae([Qr()],Ta.prototype,"onPaste",null),ae([Qr()],Ta.prototype,"onHelp",null),ae([Qr()],Ta.prototype,"onSelectionDone",null),ae([Qr()],Ta.prototype,"onSaveZip",null),ae([Qr()],Ta.prototype,"onDeleteSelection",null);const pY=["nav"];let hY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ta,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=$l,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,H.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,H.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!s9}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ta,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fu),_(V0))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&jc(pY,5),2&n){let i;Ws(i=Zs())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ge(0,"ion-nav",0,1),2&n&&Pe("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[JC]}),t})();const mY=C.p+"assets/doc/sessions-47cb9d4a63a2fac9.md";let gY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onEdit()}),Ge(2,"ion-icon",1),Ie(3," Edit "),G(),Y(4,"ion-item",0),Be("click",function(){return o.onSave()}),Ge(5,"ion-icon",2),Ie(6," Save "),G(),Y(7,"ion-item",0),Be("click",function(){return o.onReset()}),Ge(8,"ion-icon",3),Ie(9," Reset "),G(),Y(10,"ion-item",4),Be("click",function(){return o.onDelete()}),Ge(11,"ion-icon",5),Ie(12," Delete "),G()()),2&n&&(we(1),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1),we(3),Pe("detail",!1))},dependencies:[ai,Jo,al]}),t})();const vY=["slidingItem"];function yY(e,t){if(1&e&&(Y(0,"span"),Ie(1),G()),2&e){const r=vt();we(1),bi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function bY(e,t){1&e&&Ge(0,"ion-icon",16)}function CY(e,t){1&e&&Ge(0,"ion-icon",17)}let SY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new an,this.resetSession=new an,this.edit=new an,this.save=new an,this.selectItem=new an,this.interaction=new an}get device(){return this.session?fR(this.session.device):""}onContextmenu(n){var o=this;return(0,H.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:gY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function _Y(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ru))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&jc(vY,5),2&n){let i;Ws(i=Zs())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Hn();Y(0,"ion-item-sliding",0,1),Be("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),Y(2,"ion-item-options",2)(3,"ion-item-option",3),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.edit.emit(o.session))}),Ge(4,"ion-icon",4),G(),Y(5,"ion-item-option",5),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.save.emit(o.session))}),Ge(6,"ion-icon",6),G()(),Y(7,"ion-item-options",7)(8,"ion-item-option",8),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.resetSession.emit(o.session))}),Ge(9,"ion-icon",9),G(),Y(10,"ion-item-option",10),Be("click",function(){return Pt(i),Is(1).close(),Ot(o.delete.emit(o.session))}),Ge(11,"ion-icon",11),G()(),Y(12,"ion-item",12),Be("click",function(){return o.selectItem.emit()}),Y(13,"ion-label")(14,"h2"),Ie(15),G(),Y(16,"p"),Ie(17),un(18,yY,2,1,"span",13),G()(),un(19,bY,1,0,"ion-icon",14)(20,CY,1,0,"ion-icon",15),G()()}2&n&&(Pe("disabled",o.selecting),we(12),Pe("color",o.color),we(1),ga("in-item-color",o.selected)("selecting",o.selecting),we(2),Ai(null==o.session?null:o.session.name),we(2),ep("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),we(1),Pe("ngIf",null==o.session?null:o.session.osVersion),we(1),Pe("ngIf",o.selecting&&!o.selectedForExport),we(1),Pe("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Qo,ai,Jo,t_,n_,r_,Vi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var th;function wY(e,t){if(1&e){const r=Hn();Y(0,"ion-toolbar")(1,"ion-title"),Ie(2,"Sessions"),G(),Y(3,"ion-buttons",5)(4,"ion-button",6),Be("click",function(){return Pt(r),Ot(vt().startMassExport())}),Ge(5,"ion-icon",7),G(),Y(6,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt().importSession())}),Ge(7,"ion-icon",9),G()(),Y(8,"ion-buttons",10)(9,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt().showHelp())}),Ge(10,"ion-icon",11),G(),Ge(11,"app-pwa-prompt"),G()()}if(2&e){const r=vt();we(4),Pe("disabled",r.sessionService.isLoading()||0===r.sessions.length)}}function DY(e,t){if(1&e){const r=Hn();Y(0,"ion-buttons",10)(1,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt(2).onSelectAll())}),Ie(2,"Select all"),G()()}}function EY(e,t){if(1&e){const r=Hn();Y(0,"ion-buttons",10)(1,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt(2).selection.clear())}),Ie(2,"Clear"),G()()}}function IY(e,t){if(1&e){const r=Hn();Y(0,"ion-toolbar")(1,"ion-title"),Ie(2,"Export"),G(),Y(3,"ion-buttons",5)(4,"ion-button",8),Be("click",function(){return Pt(r),Ot(vt().onSelectionDone())}),Ie(5),G()(),un(6,DY,3,0,"ion-buttons",12)(7,EY,3,0,"ion-buttons",12),G()}if(2&e){const r=vt();we(5),Ai(0===r.selection.size?"Cancel":"Export"),we(1),Pe("ngIf",r.selection.size!==r.sessionCount),we(1),Pe("ngIf",r.selection.size===r.sessionCount)}}function xY(e,t){1&e&&(Y(0,"ion-title",13),Ie(1,"Sessions"),G())}function TY(e,t){1&e&&(Y(0,"ion-title",13),Ie(1,"Select for export"),G())}function MY(e,t){1&e&&(Y(0,"div",14),Ge(1,"ion-spinner"),G())}function AY(e,t){1&e&&(Y(0,"div",15)(1,"div",16),Ie(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Ge(3,"br")(4,"br"),Ie(5," You can find a collection of compatible ROMs on "),Y(6,"a",17),Ie(7,"PalmDB"),G(),Ie(8,". "),G()())}function kY(e,t){if(1&e){const r=Hn();Y(0,"app-session-item",19),Be("delete",function(){const i=Pt(r).$implicit;return Ot(vt(2).deleteSession(i))})("selectItem",function(){const i=Pt(r).$implicit,s=vt(2);return Ot("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Pt(r).$implicit;return Ot(vt(2).editSession(i))})("save",function(){const i=Pt(r).$implicit;return Ot(vt(2).saveSession(i))})("resetSession",function(){const i=Pt(r).$implicit;return Ot(vt(2).resetSession(i))})("interaction",function(){const i=Pt(r).$implicit;return Ot(vt(2).lastSessionTouched=i.id)}),G()}if(2&e){const r=t.$implicit,n=vt(2);Pe("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","select-for-export"===n.mode)("selectedForExport",n.selection.has(r.id))}}function RY(e,t){if(1&e&&(Y(0,"ion-list"),un(1,kY,1,5,"app-session-item",18),G()),2&e){const r=vt();we(1),Pe("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class Dc{constructor(t,r,n,o,i,s,a,l,c,f,h,g,b){this.sessionService=t,this.fileService=r,this.alertController=n,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=l,this.linkApi=c,this.router=f,this.cloudpilotService=h,this.dragDropService=g,this.cd=b,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const B=this.linkApi.import.receivePendingUrl();B&&this.alertService.message("Import request",`Do you want to import<br>${B} ?`,{OK:()=>this.fileService.openUrl(B,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=wc(b,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=wc(b,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=wc(b,!0,()=>this.sessionService.isLoading())}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,H.Z)(function*(){yield(yield r.alertController.create({header:"Warning",message:`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.sessionService.deleteSession(t)}],backdropDismiss:!1})).present()})()}editSession(t){var r=this;return(0,H.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!TR()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,H.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,H.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield(yield r.alertController.create({header:"Done",message:`Session ${t.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,H.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:mY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}ionViewDidLeave(){this.mode="manage"}onSelectionDone(){var t=this;return(0,H.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(o=>[o.id,o])),n=Array.from(t.selection).map(o=>r.get(o)).filter(o=>void 0!==o);t.mode="manage",1===n.length&&(yield t.sessionService.saveSession(n[0])),n.length>1&&(yield t.sessionService.saveSessions(n))})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,H.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:NR,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return zd(t,n=>r.some(o=>o.name===n))}}(th=Dc).\u0275fac=function(t){return new(t||th)(_(Sc),_(Cc),_(nu),_(uo),_(xa),_(Fl),_(or),_(ls),_(jb),_(jo),_(Ia),_(V0),_(ft))},th.\u0275cmp=Ye({type:th,selectors:[["app-sessions"]],decls:11,vars:7,consts:[[4,"ngIf"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","share-outline"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(Y(0,"ion-header"),un(1,wY,12,1,"ion-toolbar",0)(2,IY,8,3,"ion-toolbar",0),G(),Y(3,"ion-content")(4,"ion-header",1)(5,"ion-toolbar"),un(6,xY,2,0,"ion-title",2)(7,TY,2,0,"ion-title",2),G()(),un(8,MY,2,0,"div",3)(9,AY,9,0,"div",4)(10,RY,2,2,"ion-list",0),G()),2&t&&(we(1),Pe("ngIf","manage"===r.mode),we(1),Pe("ngIf","select-for-export"===r.mode),we(4),Pe("ngIf","manage"===r.mode),we(1),Pe("ngIf","select-for-export"===r.mode),we(1),Pe("ngIf",r.sessionService.isLoading()),we(1),Pe("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),we(1),Pe("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Uc,Qo,Fi,Li,$i,Bi,ai,al,Vp,ji,Gi,w_,SY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ae([Qr()],Dc.prototype,"deleteSession",null),ae([Qr()],Dc.prototype,"editSession",null),ae([Qr()],Dc.prototype,"saveSession",null),ae([Qr()],Dc.prototype,"launchSession",null),ae([Qr()],Dc.prototype,"resetSession",null),ae([Qr()],Dc.prototype,"onSelectionDone",null);const PY=[{path:"tab",component:L0,children:[{path:"emulation",component:oq},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=Dc}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-sessions-wrapper"]],decls:2,vars:2,consts:[[3,"animated","root"],["nav",""]],template:function(n,o){1&n&&Ge(0,"ion-nav",0,1),2&n&&Pe("animated",!1)("root",o.navRoot)},dependencies:[JC],encapsulation:2}),t})()},{path:"storage",component:hY},{path:"settings",component:pq},{path:"about",component:CZ},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let OY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[$g.forChild(PY),$g]}),t})(),NY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[gc,el,tu,OY,pZ,hZ,mZ,gZ,fZ]}),t})(),FY=(()=>{var e;class t extends kx{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const LY=[{path:"install",component:RR,canActivate:[PR]},{path:"import",component:RR,canActivate:[PR]},{path:"",component:L0}];let $Y=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[{provide:Ja,useClass:FY}],imports:[$g.forRoot(LY,{preloadingStrategy:G6,useHash:!0}),NY,$g]}),t})();const zR=["touch","click","keydown"];let BY=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,H.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{zR.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};zR.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(B0))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const VY=()=>{const e=new iu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let jY=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(xa),ce(B0),ce(Sc),ce(Si),ce(kR),ce(BY),ce(N0))},e.\u0275mod=io({type:e,bootstrap:[J7]}),e.\u0275inj=ct({providers:[{provide:UM,useClass:o8},{provide:ip,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Si]}],imports:[RG,gc.forRoot({...jR()?{actionSheetEnter:iq,loadingEnter:sq,alertEnter:aq}:{},innerHTMLTemplatesEnabled:!0}),$Y,c0.forRoot({loader:Hb,markedOptions:{provide:Hk,useFactory:VY}}),gU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function jG(){mg=CT("#/install?"),gg=CT("#/import?")}(),function h9(){return!!localStorage.getItem(d_)}()&&!ST()||function GG(){return void 0!==mg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),AG().bootstrapModule(jY).then(e=>true).catch(e=>console.log(e))},2227:me=>{var C,Ce=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var W,q,u=S;u.ready=new Promise((d,y)=>{W=d,q=y});var _e,V=Object.assign({},u),E="./this.program",I=(d,y)=>{throw y},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(_e=d=>{var y=new XMLHttpRequest;return y.open("GET",d,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var M,ie=u.print||console.log.bind(console),U=u.printErr||console.error.bind(console);Object.assign(u,V),V=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&ge("no native wasm support detected");var J,se,ke,O,D,X,he,le=!1;function Ee(d,y){d||ge(y)}function $e(){var d=J.buffer;u.HEAP8=ke=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAPU8=O=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAP32=D=new Int32Array(d),u.HEAPU32=X=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=he=new Float64Array(d)}var ht=[],Gt=[],Ne=[],ze=[],St=0,Ut=null,jt=null;function ge(d){u.onAbort&&u.onAbort(d),U(d="Aborted("+d+")"),le=!0,se=1,d+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(d);throw q(y),y}var Nt,yt=d=>d.startsWith("data:application/octet-stream;base64,");function dn(d){if(d==Nt&&M)return new Uint8Array(M);if(_e)return _e(d);throw"both async and sync fetching of the wasm failed"}function pn(d,y,Z){return function nn(d){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>dn(d)):fetch(d,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+d+"'";return y.arrayBuffer()}).catch(()=>dn(d))}(d).then(Ae=>WebAssembly.instantiate(Ae,y)).then(Ae=>Ae).then(Z,Ae=>{U(`failed to asynchronously prepare wasm: ${Ae}`),ge(Ae)})}yt(Nt="cloudpilot_web.wasm")||(Nt=function T(d){return u.locateFile?u.locateFile(d,P):P+d}(Nt));var Zn,Ho={1472504:d=>{ut.grow(65536);for(let y=0;y<=65535;y++)ut.set(ut.length-65535-1+y,ut.get(X[(d>>>2)+y]));return ut.length-65535-1}};function wo(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}var Pn=d=>{for(;d.length>0;)d.shift()(u)},$r=u.noExitRuntime||!0,Ur=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ro=(d,y,Z)=>{for(var Ae=y+Z,It=y;d[It]&&!(It>=Ae);)++It;if(It-y>16&&d.buffer&&Ur)return Ur.decode(d.subarray(y,It));for(var en="";y<It;){var dt=d[y++];if(128&dt){var yn=63&d[y++];if(192!=(224&dt)){var cr=63&d[y++];if((dt=224==(240&dt)?(15&dt)<<12|yn<<6|cr:(7&dt)<<18|yn<<12|cr<<6|63&d[y++])<65536)en+=String.fromCharCode(dt);else{var jr=dt-65536;en+=String.fromCharCode(55296|jr>>10,56320|1023&jr)}}else en+=String.fromCharCode((31&dt)<<6|yn)}else en+=String.fromCharCode(dt)}return en},qn=(d,y)=>d?ro(O,d,y):"",pe=(d,y)=>y+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*y:NaN,Sn=d=>d%4==0&&(d%100!=0||d%400==0),rn=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],nr=d=>(Sn(d.getFullYear())?rn:fo)[d.getMonth()]+d.getDate()-1,Do=d=>{for(var y=0,Z=0;Z<d.length;++Z){var Ae=d.charCodeAt(Z);Ae<=127?y++:Ae<=2047?y+=2:Ae>=55296&&Ae<=57343?(y+=4,++Z):y+=3}return y},oo=(d,y,Z,Ae)=>{if(!(Ae>0))return 0;for(var It=Z,en=Z+Ae-1,dt=0;dt<d.length;++dt){var yn=d.charCodeAt(dt);if(yn>=55296&&yn<=57343&&(yn=65536+((1023&yn)<<10)|1023&d.charCodeAt(++dt)),yn<=127){if(Z>=en)break;y[Z++]=yn}else if(yn<=2047){if(Z+1>=en)break;y[Z++]=192|yn>>6,y[Z++]=128|63&yn}else if(yn<=65535){if(Z+2>=en)break;y[Z++]=224|yn>>12,y[Z++]=128|yn>>6&63,y[Z++]=128|63&yn}else{if(Z+3>=en)break;y[Z++]=240|yn>>18,y[Z++]=128|yn>>12&63,y[Z++]=128|yn>>6&63,y[Z++]=128|63&yn}}return y[Z]=0,Z-It},Po=d=>{var y=Do(d)+1,Z=At(y);return Z&&((d,y,Z)=>{oo(d,O,y,Z)})(d,Z,y),Z},yr=[],pi=d=>{var Z=(d-J.buffer.byteLength+65535)/65536;try{return J.grow(Z),$e(),1}catch{}},Di={},Eo=()=>{if(!Eo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var Z in Di)void 0===Di[Z]?delete y[Z]:y[Z]=Di[Z];var Ae=[];for(var Z in y)Ae.push(`${Z}=${y[Z]}`);Eo.strings=Ae}return Eo.strings},Qs=[null,[],[]],Ei=(d,y)=>{var Z=Qs[d];0===y||10===y?((1===d?ie:U)(ro(Z,0)),Z.length=0):Z.push(y)},Wi=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function ti(d,y,Z){var Ae=Z>0?Z:Do(d)+1,It=new Array(Ae),en=oo(d,It,0,It.length);return y&&(It.length=en),It}var ut,L,vn,us=(d,y)=>{se=d,(d=>{se=d,$r||(u.onExit&&u.onExit(d),le=!0),I(d,new wo(d))})(d)},nt=(d,y)=>{d<128?y.push(d):y.push(d%128|128,d>>7)},ps=[],m=d=>{var y=ps[d];return y||(d>=ps.length&&(ps.length=d+1),ps[d]=y=ut.get(d)),y},Te=[],Ke=(d,y)=>{ut.set(d,y),ps[d]=ut.get(d)},et={b:(d,y,Z,Ae)=>{ge(`Assertion failed: ${qn(d)}, at: `+[y?qn(y):"unknown filename",Z,Ae?qn(Ae):"unknown function"])},i:function So(d){const y=new Error(qn(d));throw y.isAssert=!0,y},m:function ye(d,y,Z){pe(y,Z)},h:()=>1,j:function wr(d,y,Z){var Ae=pe(d,y),It=new Date(1e3*Ae);D[Z>>2]=It.getSeconds(),D[Z+4>>2]=It.getMinutes(),D[Z+8>>2]=It.getHours(),D[Z+12>>2]=It.getDate(),D[Z+16>>2]=It.getMonth(),D[Z+20>>2]=It.getFullYear()-1900,D[Z+24>>2]=It.getDay();var en=0|nr(It);D[Z+28>>2]=en,D[Z+36>>2]=-60*It.getTimezoneOffset();var dt=new Date(It.getFullYear(),0,1),yn=new Date(It.getFullYear(),6,1).getTimezoneOffset(),cr=dt.getTimezoneOffset(),jr=0|(yn!=cr&&It.getTimezoneOffset()==Math.min(cr,yn));D[Z+32>>2]=jr},k:function(d){var y=(()=>{var Z=new Date(D[d+20>>2]+1900,D[d+16>>2],D[d+12>>2],D[d+8>>2],D[d+4>>2],D[d>>2],0),Ae=D[d+32>>2],It=Z.getTimezoneOffset(),en=new Date(Z.getFullYear(),0,1),dt=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),yn=en.getTimezoneOffset(),cr=Math.min(yn,dt);if(Ae<0)D[d+32>>2]=+(dt!=yn&&cr==It);else if(Ae>0!=(cr==It)){var jr=Math.max(yn,dt),ha=Ae>0?cr:jr;Z.setTime(Z.getTime()+6e4*(ha-It))}D[d+24>>2]=Z.getDay();var ys=0|nr(Z);D[d+28>>2]=ys,D[d>>2]=Z.getSeconds(),D[d+4>>2]=Z.getMinutes(),D[d+8>>2]=Z.getHours(),D[d+12>>2]=Z.getDate(),D[d+16>>2]=Z.getMonth(),D[d+20>>2]=Z.getYear();var $n=Z.getTime();return isNaN($n)?(D[Ye()>>2]=61,-1):$n/1e3})();return Ch((Zn=y,+Math.abs(Zn)>=1?Zn>0?+Math.floor(Zn/4294967296)>>>0:~~+Math.ceil((Zn-+(~~Zn>>>0))/4294967296)>>>0:0)),y>>>0},r:(d,y,Z)=>{var Ae=(new Date).getFullYear(),It=new Date(Ae,0,1),en=new Date(Ae,6,1),dt=It.getTimezoneOffset(),yn=en.getTimezoneOffset(),cr=Math.max(dt,yn);function jr(yo){var lo=yo.toTimeString().match(/\(([A-Za-z ]+)\)$/);return lo?lo[1]:"GMT"}X[d>>2]=60*cr,D[y>>2]=+(dt!=yn);var ha=jr(It),ys=jr(en),$n=Po(ha),Gs=Po(ys);yn<dt?(X[Z>>2]=$n,X[Z+4>>2]=Gs):(X[Z>>2]=Gs,X[Z+4>>2]=$n)},a:()=>{ge("")},s:(d,y,Z)=>((d,y,Z)=>{var Ae=((d,y)=>{yr.length=0;for(var Z;Z=O[d++];){var Ae=105!=Z;y+=(Ae&=112!=Z)&&y%8?4:0,yr.push(112==Z?X[y>>2]:105==Z?D[y>>2]:he[y>>3]),y+=Ae?8:4}return yr})(y,Z);return Ho[d].apply(null,Ae)})(d,y,Z),c:()=>Date.now(),d:(d,y,Z)=>O.copyWithin(d,y,y+Z),q:d=>{var cr,y=O.length,Z=2147483648;if((d>>>=0)>Z)return!1;for(var It=1;It<=4;It*=2){var en=y*(1+.2/It);en=Math.min(en,d+100663296);var dt=Math.min(Z,(cr=Math.max(d,en))+(65536-cr%65536)%65536);if(pi(dt))return!0}return!1},o:(d,y)=>{var Z=0;return Eo().forEach((Ae,It)=>{var en=y+Z;X[d+4*It>>2]=en,((d,y)=>{for(var Z=0;Z<d.length;++Z)ke[y++>>0]=d.charCodeAt(Z);ke[y>>0]=0})(Ae,en),Z+=Ae.length+1}),0},p:(d,y)=>{var Z=Eo();X[d>>2]=Z.length;var Ae=0;return Z.forEach(It=>Ae+=It.length+1),X[y>>2]=Ae,0},e:d=>52,g:(d,y,Z,Ae)=>52,l:function zi(d,y,Z,Ae,It){return pe(y,Z),70},f:(d,y,Z,Ae)=>{for(var It=0,en=0;en<Z;en++){var dt=X[y>>2],yn=X[y+4>>2];y+=8;for(var cr=0;cr<yn;cr++)Ei(d,O[dt+cr]);It+=yn}return X[Ae>>2]=It,0},n:(d,y,Z,Ae,It)=>((d,y,Z,Ae)=>{var It=X[Ae+40>>2],en={tm_sec:D[Ae>>2],tm_min:D[Ae+4>>2],tm_hour:D[Ae+8>>2],tm_mday:D[Ae+12>>2],tm_mon:D[Ae+16>>2],tm_year:D[Ae+20>>2],tm_wday:D[Ae+24>>2],tm_yday:D[Ae+28>>2],tm_isdst:D[Ae+32>>2],tm_gmtoff:D[Ae+36>>2],tm_zone:It?qn(It):""},dt=qn(Z),yn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var cr in yn)dt=dt.replace(new RegExp(cr,"g"),yn[cr]);var jr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ha=["January","February","March","April","May","June","July","August","September","October","November","December"];function ys(_t,Xt,mi){for(var gi="number"==typeof _t?_t.toString():_t||"";gi.length<Xt;)gi=mi[0]+gi;return gi}function $n(_t,Xt){return ys(_t,Xt,"0")}function Gs(_t,Xt){function mi(vu){return vu<0?-1:vu>0?1:0}var gi;return 0===(gi=mi(_t.getFullYear()-Xt.getFullYear()))&&0===(gi=mi(_t.getMonth()-Xt.getMonth()))&&(gi=mi(_t.getDate()-Xt.getDate())),gi}function yo(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function lo(_t){var Xt=((d,y)=>{for(var Z=new Date(d.getTime());y>0;){var Ae=Sn(Z.getFullYear()),It=Z.getMonth(),en=(Ae?Wi:Hr)[It];if(!(y>en-Z.getDate()))return Z.setDate(Z.getDate()+y),Z;y-=en-Z.getDate()+1,Z.setDate(1),It<11?Z.setMonth(It+1):(Z.setMonth(0),Z.setFullYear(Z.getFullYear()+1))}return Z})(new Date(_t.tm_year+1900,0,1),_t.tm_yday),mi=new Date(Xt.getFullYear(),0,4),gi=new Date(Xt.getFullYear()+1,0,4),vu=yo(mi),lf=yo(gi);return Gs(vu,Xt)<=0?Gs(lf,Xt)<=0?Xt.getFullYear()+1:Xt.getFullYear():Xt.getFullYear()-1}var _u={"%a":_t=>jr[_t.tm_wday].substring(0,3),"%A":_t=>jr[_t.tm_wday],"%b":_t=>ha[_t.tm_mon].substring(0,3),"%B":_t=>ha[_t.tm_mon],"%C":_t=>$n((_t.tm_year+1900)/100|0,2),"%d":_t=>$n(_t.tm_mday,2),"%e":_t=>ys(_t.tm_mday,2," "),"%g":_t=>lo(_t).toString().substring(2),"%G":_t=>lo(_t),"%H":_t=>$n(_t.tm_hour,2),"%I":_t=>{var Xt=_t.tm_hour;return 0==Xt?Xt=12:Xt>12&&(Xt-=12),$n(Xt,2)},"%j":_t=>$n(_t.tm_mday+((d,y)=>{for(var Z=0,Ae=0;Ae<=y;Z+=d[Ae++]);return Z})(Sn(_t.tm_year+1900)?Wi:Hr,_t.tm_mon-1),3),"%m":_t=>$n(_t.tm_mon+1,2),"%M":_t=>$n(_t.tm_min,2),"%n":()=>"\n","%p":_t=>_t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM","%S":_t=>$n(_t.tm_sec,2),"%t":()=>"\t","%u":_t=>_t.tm_wday||7,"%U":_t=>$n(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2),"%V":_t=>{var Xt=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&Xt++,Xt){if(53==Xt){var gi=(_t.tm_wday+371-_t.tm_yday)%7;4!=gi&&(3!=gi||!Sn(_t.tm_year))&&(Xt=1)}}else{Xt=52;var mi=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==mi||5==mi&&Sn(_t.tm_year%400-1))&&Xt++}return $n(Xt,2)},"%w":_t=>_t.tm_wday,"%W":_t=>$n(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2),"%y":_t=>(_t.tm_year+1900).toString().substring(2),"%Y":_t=>_t.tm_year+1900,"%z":_t=>{var Xt=_t.tm_gmtoff;return(Xt>=0?"+":"-")+("0000"+(Xt=(Xt=Math.abs(Xt)/60)/60*100+Xt%60)).slice(-4)},"%Z":_t=>_t.tm_zone,"%%":()=>"%"};for(var cr in dt=dt.replace(/%%/g,"\0\0"),_u)dt.includes(cr)&&(dt=dt.replace(new RegExp(cr,"g"),_u[cr](en)));var ma=ti(dt=dt.replace(/\0\0/g,"%"),!1);return ma.length>y?0:(((d,y)=>{ke.set(d,y)})(ma,d),ma.length-1)})(d,y,Z,Ae)},A=function _r(){var d={a:et};function y(Ae,It){return J=(A=Ae.exports).t,$e(),ut=A.yc,function at(d){Gt.unshift(d)}(A.u),function be(d){if(St--,u.monitorRunDependencies&&u.monitorRunDependencies(St),0==St&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var y=jt;jt=null,y()}}(),A}if(function xe(d){St++,u.monitorRunDependencies&&u.monitorRunDependencies(St)}(),u.instantiateWasm)try{return u.instantiateWasm(d,y)}catch(Ae){U(`Module.instantiateWasm callback failed with error: ${Ae}`),q(Ae)}return function Jt(d,y,Z,Ae){return d||"function"!=typeof WebAssembly.instantiateStreaming||yt(y)||"function"!=typeof fetch?pn(y,Z,Ae):fetch(y,{credentials:"same-origin"}).then(It=>WebAssembly.instantiateStreaming(It,Z).then(Ae,function(dt){return U(`wasm streaming compile failed: ${dt}`),U("falling back to ArrayBuffer instantiation"),pn(y,Z,Ae)}))}(M,Nt,d,function Z(Ae){y(Ae.instance)}).catch(q),{}}(),At=u._malloc=d=>(At=u._malloc=A.v)(d),wn=(u._free=d=>(u._free=A.w)(d),u._main=(d,y)=>(wn=u._main=A.x)(d,y)),zr=(u._webidl_free=d=>(u._webidl_free=A.y)(d),u._webidl_malloc=d=>(u._webidl_malloc=A.z)(d),u._emscripten_bind_VoidPtr___destroy___0=d=>(zr=u._emscripten_bind_VoidPtr___destroy___0=A.A)(d)),Xn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Xn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=A.B)(),Ki=u._emscripten_bind_Cloudpilot_Malloc_1=(d,y)=>(Ki=u._emscripten_bind_Cloudpilot_Malloc_1=A.C)(d,y),Bn=u._emscripten_bind_Cloudpilot_Free_1=(d,y)=>(Bn=u._emscripten_bind_Cloudpilot_Free_1=A.D)(d,y),No=u._emscripten_bind_Cloudpilot_Nullptr_0=d=>(No=u._emscripten_bind_Cloudpilot_Nullptr_0=A.E)(d),Io=u._emscripten_bind_Cloudpilot_InitializeSession_3=(d,y,Z,Ae)=>(Io=u._emscripten_bind_Cloudpilot_InitializeSession_3=A.F)(d,y,Z,Ae),Xi=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d=>(Xi=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=A.G)(d),Ma=u._emscripten_bind_Cloudpilot_RunEmulation_1=(d,y)=>(Ma=u._emscripten_bind_Cloudpilot_RunEmulation_1=A.H)(d,y),ta=u._emscripten_bind_Cloudpilot_SetClockFactor_1=(d,y)=>(ta=u._emscripten_bind_Cloudpilot_SetClockFactor_1=A.I)(d,y),Os=u._emscripten_bind_Cloudpilot_CopyFrame_0=d=>(Os=u._emscripten_bind_Cloudpilot_CopyFrame_0=A.J)(d),na=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=d=>(na=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=A.K)(d),Qi=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=d=>(Qi=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=A.L)(d),Aa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(d,y)=>(Aa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=A.M)(d,y),ra=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(d,y)=>(ra=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=A.N)(d,y),oa=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(d,y)=>(oa=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=A.O)(d,y),ka=u._emscripten_bind_Cloudpilot_QueuePenMove_2=(d,y,Z)=>(ka=u._emscripten_bind_Cloudpilot_QueuePenMove_2=A.P)(d,y,Z),Ra=u._emscripten_bind_Cloudpilot_QueuePenUp_0=d=>(Ra=u._emscripten_bind_Cloudpilot_QueuePenUp_0=A.Q)(d),Pa=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=(d,y)=>(Pa=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=A.R)(d,y),Oa=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=(d,y)=>(Oa=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=A.S)(d,y),ia=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(d,y,Z)=>(ia=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=A.T)(d,y,Z),Na=u._emscripten_bind_Cloudpilot_IsPowerOff_0=d=>(Na=u._emscripten_bind_Cloudpilot_IsPowerOff_0=A.U)(d),Fa=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=d=>(Fa=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=A.V)(d),Er=u._emscripten_bind_Cloudpilot_GetOSVersion_0=d=>(Er=u._emscripten_bind_Cloudpilot_GetOSVersion_0=A.W)(d),sa=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=d=>(sa=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=A.X)(d),po=u._emscripten_bind_Cloudpilot_Reset_0=d=>(po=u._emscripten_bind_Cloudpilot_Reset_0=A.Y)(d),Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d=>(Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=A.Z)(d),aa=u._emscripten_bind_Cloudpilot_ResetHard_0=d=>(aa=u._emscripten_bind_Cloudpilot_ResetHard_0=A._)(d),Ns=u._emscripten_bind_Cloudpilot_InstallDb_2=(d,y,Z)=>(Ns=u._emscripten_bind_Cloudpilot_InstallDb_2=A.$)(d,y,Z),eo=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d=>(eo=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=A.aa)(d),Fs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d=>(Fs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=A.ba)(d),La=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d=>(La=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=A.ca)(d),Vn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=d=>(Vn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=A.da)(d),hs=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(d,y,Z)=>(hs=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=A.ea)(d,y,Z),Ir=u._emscripten_bind_Cloudpilot_GetRomPtr_0=d=>(Ir=u._emscripten_bind_Cloudpilot_GetRomPtr_0=A.fa)(d),Ls=u._emscripten_bind_Cloudpilot_GetRomSize_0=d=>(Ls=u._emscripten_bind_Cloudpilot_GetRomSize_0=A.ga)(d),hl=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d=>(hl=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=A.ha)(d),$a=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=d=>($a=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=A.ia)(d),zn=u._emscripten_bind_Cloudpilot_SaveState_0=d=>(zn=u._emscripten_bind_Cloudpilot_SaveState_0=A.ja)(d),Yt=u._emscripten_bind_Cloudpilot_LoadState_2=(d,y,Z)=>(Yt=u._emscripten_bind_Cloudpilot_LoadState_2=A.ka)(d,y,Z),ms=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=d=>(ms=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=A.la)(d),$s=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=(d,y)=>($s=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=A.ma)(d,y),ml=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(d,y)=>(ml=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=A.na)(d,y),la=u._emscripten_bind_Cloudpilot_StartBackup_0=d=>(la=u._emscripten_bind_Cloudpilot_StartBackup_0=A.oa)(d),Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(d,y)=>(Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=A.pa)(d,y),Ji=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d=>(Ji=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=A.qa)(d),gs=u._emscripten_bind_Cloudpilot_IsSuspended_0=d=>(gs=u._emscripten_bind_Cloudpilot_IsSuspended_0=A.ra)(d),es=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=d=>(es=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=A.sa)(d),ca=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(d,y)=>(ca=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=A.ta)(d,y),ua=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d=>(ua=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=A.ua)(d),ni=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(d,y)=>(ni=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=A.va)(d,y),br=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(d,y)=>(br=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=A.wa)(d,y),Wo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=(d,y)=>(Wo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=A.xa)(d,y),Bt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(d,y,Z)=>(Bt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=A.ya)(d,y,Z),Fn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(d,y)=>(Fn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=A.za)(d,y),Bl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d=>(Bl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=A.Aa)(d),gl=u._emscripten_bind_Cloudpilot_AllocateCard_2=(d,y,Z)=>(gl=u._emscripten_bind_Cloudpilot_AllocateCard_2=A.Ba)(d,y,Z),_l=u._emscripten_bind_Cloudpilot_AdoptCard_3=(d,y,Z,Ae)=>(_l=u._emscripten_bind_Cloudpilot_AdoptCard_3=A.Ca)(d,y,Z,Ae),Vl=u._emscripten_bind_Cloudpilot_MountCard_1=(d,y)=>(Vl=u._emscripten_bind_Cloudpilot_MountCard_1=A.Da)(d,y),Yn=u._emscripten_bind_Cloudpilot_RemoveCard_1=(d,y)=>(Yn=u._emscripten_bind_Cloudpilot_RemoveCard_1=A.Ea)(d,y),_s=u._emscripten_bind_Cloudpilot_GetCardData_1=(d,y)=>(_s=u._emscripten_bind_Cloudpilot_GetCardData_1=A.Fa)(d,y),Ln=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(d,y)=>(Ln=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=A.Ga)(d,y),ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=(d,y)=>(ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=A.Ha)(d,y),mo=u._emscripten_bind_Cloudpilot_RemountCards_0=d=>(mo=u._emscripten_bind_Cloudpilot_RemountCards_0=A.Ia)(d),Wr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=(d,y)=>(Wr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=A.Ja)(d,y),Kn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=d=>(Kn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=A.Ka)(d),Qn=u._emscripten_bind_Cloudpilot___destroy___0=d=>(Qn=u._emscripten_bind_Cloudpilot___destroy___0=A.La)(d),kr=u._emscripten_bind_RomInfo_RomInfo_2=(d,y)=>(kr=u._emscripten_bind_RomInfo_RomInfo_2=A.Ma)(d,y),xr=u._emscripten_bind_RomInfo_IsValid_0=d=>(xr=u._emscripten_bind_RomInfo_IsValid_0=A.Na)(d),v=u._emscripten_bind_RomInfo_CardVersion_0=d=>(v=u._emscripten_bind_RomInfo_CardVersion_0=A.Oa)(d),j=u._emscripten_bind_RomInfo_CardName_0=d=>(j=u._emscripten_bind_RomInfo_CardName_0=A.Pa)(d),oe=u._emscripten_bind_RomInfo_RomVersion_0=d=>(oe=u._emscripten_bind_RomInfo_RomVersion_0=A.Qa)(d),Oe=u._emscripten_bind_RomInfo_RomVersionString_0=d=>(Oe=u._emscripten_bind_RomInfo_RomVersionString_0=A.Ra)(d),bt=u._emscripten_bind_RomInfo_Supports_1=(d,y)=>(bt=u._emscripten_bind_RomInfo_Supports_1=A.Sa)(d,y),qt=u._emscripten_bind_RomInfo___destroy___0=d=>(qt=u._emscripten_bind_RomInfo___destroy___0=A.Ta)(d),ot=u._emscripten_bind_Frame_GetLineWidth_0=d=>(ot=u._emscripten_bind_Frame_GetLineWidth_0=A.Ua)(d),hn=u._emscripten_bind_Frame_GetBpp_0=d=>(hn=u._emscripten_bind_Frame_GetBpp_0=A.Va)(d),ir=u._emscripten_bind_Frame_GetLines_0=d=>(ir=u._emscripten_bind_Frame_GetLines_0=A.Wa)(d),zt=u._emscripten_bind_Frame_GetMargin_0=d=>(zt=u._emscripten_bind_Frame_GetMargin_0=A.Xa)(d),Rr=u._emscripten_bind_Frame_GetBytesPerLine_0=d=>(Rr=u._emscripten_bind_Frame_GetBytesPerLine_0=A.Ya)(d),Le=u._emscripten_bind_Frame_GetFirstDirtyLine_0=d=>(Le=u._emscripten_bind_Frame_GetFirstDirtyLine_0=A.Za)(d),Dn=u._emscripten_bind_Frame_GetLastDirtyLine_0=d=>(Dn=u._emscripten_bind_Frame_GetLastDirtyLine_0=A._a)(d),ct=u._emscripten_bind_Frame_GetHasChanges_0=d=>(ct=u._emscripten_bind_Frame_GetHasChanges_0=A.$a)(d),sr=u._emscripten_bind_Frame_GetBuffer_0=d=>(sr=u._emscripten_bind_Frame_GetBuffer_0=A.ab)(d),Wn=u._emscripten_bind_Frame_GetBufferSize_0=d=>(Wn=u._emscripten_bind_Frame_GetBufferSize_0=A.bb)(d),Pr=u._emscripten_bind_Frame_GetScaleX_0=d=>(Pr=u._emscripten_bind_Frame_GetScaleX_0=A.cb)(d),ar=u._emscripten_bind_Frame_GetScaleY_0=d=>(ar=u._emscripten_bind_Frame_GetScaleY_0=A.db)(d),We=u._emscripten_bind_Frame___destroy___0=d=>(We=u._emscripten_bind_Frame___destroy___0=A.eb)(d),p=u._emscripten_bind_DbBackup_Init_1=(d,y)=>(p=u._emscripten_bind_DbBackup_Init_1=A.fb)(d,y),x=u._emscripten_bind_DbBackup_IsInProgress_0=d=>(x=u._emscripten_bind_DbBackup_IsInProgress_0=A.gb)(d),re=u._emscripten_bind_DbBackup_IsDone_0=d=>(re=u._emscripten_bind_DbBackup_IsDone_0=A.hb)(d),Fe=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=d=>(Fe=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=A.ib)(d),Qe=u._emscripten_bind_DbBackup_Save_0=d=>(Qe=u._emscripten_bind_DbBackup_Save_0=A.jb)(d),_n=u._emscripten_bind_DbBackup_Skip_0=d=>(_n=u._emscripten_bind_DbBackup_Skip_0=A.kb)(d),on=u._emscripten_bind_DbBackup_GetArchivePtr_0=d=>(on=u._emscripten_bind_DbBackup_GetArchivePtr_0=A.lb)(d),Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=d=>(Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=A.mb)(d),lr=u._emscripten_bind_DbBackup___destroy___0=d=>(lr=u._emscripten_bind_DbBackup___destroy___0=A.nb)(d),Fo=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d=>(Fo=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=A.ob)(d),jn=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d=>(jn=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=A.pb)(d),Ba=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d=>(Ba=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=A.qb)(d),xo=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d=>(xo=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=A.rb)(d),pt=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d=>(pt=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=A.sb)(d),da=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(d,y)=>(da=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=A.tb)(d,y),Bs=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d=>(Bs=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=A.ub)(d),jl=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d=>(jl=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=A.vb)(d),Va=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(d,y)=>(Va=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=A.wb)(d,y),mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d=>(mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=A.xb)(d),sn=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d=>(sn=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=A.yb)(d),hi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d=>(hi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=A.zb)(d),ri=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d=>(ri=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=A.Ab)(d),Gl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(d,y,Z)=>(Gl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=A.Bb)(d,y,Z),Yd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d=>(Yd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=A.Cb)(d),E_=u._emscripten_bind_SuspendContext_GetKind_0=d=>(E_=u._emscripten_bind_SuspendContext_GetKind_0=A.Db)(d),Ul=u._emscripten_bind_SuspendContext_Cancel_0=d=>(Ul=u._emscripten_bind_SuspendContext_Cancel_0=A.Eb)(d),pu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d=>(pu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=A.Fb)(d),Ec=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d=>(Ec=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=A.Gb)(d),nh=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d=>(nh=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=A.Hb)(d),rh=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d=>(rh=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=A.Ib)(d),oh=u._emscripten_bind_SuspendContext___destroy___0=d=>(oh=u._emscripten_bind_SuspendContext___destroy___0=A.Jb)(d),Kd=u._emscripten_bind_SessionImage_SessionImage_0=()=>(Kd=u._emscripten_bind_SessionImage_SessionImage_0=A.Kb)(),vl=u._emscripten_bind_SessionImage_GetDeviceId_0=d=>(vl=u._emscripten_bind_SessionImage_GetDeviceId_0=A.Lb)(d),ih=u._emscripten_bind_SessionImage_SetDeviceId_1=(d,y)=>(ih=u._emscripten_bind_SessionImage_SetDeviceId_1=A.Mb)(d,y),fa=u._emscripten_bind_SessionImage_GetRomImage_0=d=>(fa=u._emscripten_bind_SessionImage_GetRomImage_0=A.Nb)(d),sh=u._emscripten_bind_SessionImage_GetRomImageSize_0=d=>(sh=u._emscripten_bind_SessionImage_GetRomImageSize_0=A.Ob)(d),ce=u._emscripten_bind_SessionImage_SetRomImage_2=(d,y,Z)=>(ce=u._emscripten_bind_SessionImage_SetRomImage_2=A.Pb)(d,y,Z),Xd=u._emscripten_bind_SessionImage_GetMemoryImage_0=d=>(Xd=u._emscripten_bind_SessionImage_GetMemoryImage_0=A.Qb)(d),rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=d=>(rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=A.Rb)(d),Ic=u._emscripten_bind_SessionImage_SetMemoryImage_2=(d,y,Z)=>(Ic=u._emscripten_bind_SessionImage_SetMemoryImage_2=A.Sb)(d,y,Z),hu=u._emscripten_bind_SessionImage_GetMetadata_0=d=>(hu=u._emscripten_bind_SessionImage_GetMetadata_0=A.Tb)(d),Hl=u._emscripten_bind_SessionImage_GetMetadataSize_0=d=>(Hl=u._emscripten_bind_SessionImage_GetMetadataSize_0=A.Ub)(d),ah=u._emscripten_bind_SessionImage_SetMetadata_2=(d,y,Z)=>(ah=u._emscripten_bind_SessionImage_SetMetadata_2=A.Vb)(d,y,Z),lh=u._emscripten_bind_SessionImage_GetSavestate_0=d=>(lh=u._emscripten_bind_SessionImage_GetSavestate_0=A.Wb)(d),ch=u._emscripten_bind_SessionImage_GetSavestateSize_0=d=>(ch=u._emscripten_bind_SessionImage_GetSavestateSize_0=A.Xb)(d),Vs=u._emscripten_bind_SessionImage_SetSavestate_2=(d,y,Z)=>(Vs=u._emscripten_bind_SessionImage_SetSavestate_2=A.Yb)(d,y,Z),xc=u._emscripten_bind_SessionImage_GetVersion_0=d=>(xc=u._emscripten_bind_SessionImage_GetVersion_0=A.Zb)(d),ts=u._emscripten_bind_SessionImage_Serialize_0=d=>(ts=u._emscripten_bind_SessionImage_Serialize_0=A._b)(d),vs=u._emscripten_bind_SessionImage_GetSerializedImage_0=d=>(vs=u._emscripten_bind_SessionImage_GetSerializedImage_0=A.$b)(d),Jn=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=d=>(Jn=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=A.ac)(d),Qd=u._emscripten_bind_SessionImage_Deserialize_2=(d,y,Z)=>(Qd=u._emscripten_bind_SessionImage_Deserialize_2=A.bc)(d,y,Z),mu=u._emscripten_bind_SessionImage___destroy___0=d=>(mu=u._emscripten_bind_SessionImage___destroy___0=A.cc)(d),Jd=u._emscripten_bind_SkinLoader_SkinLoader_1=d=>(Jd=u._emscripten_bind_SkinLoader_SkinLoader_1=A.dc)(d),ef=u._emscripten_bind_SkinLoader_GetData_0=d=>(ef=u._emscripten_bind_SkinLoader_GetData_0=A.ec)(d),zl=u._emscripten_bind_SkinLoader_GetSize_0=d=>(zl=u._emscripten_bind_SkinLoader_GetSize_0=A.fc)(d),tf=u._emscripten_bind_SkinLoader___destroy___0=d=>(tf=u._emscripten_bind_SkinLoader___destroy___0=A.gc)(d),nf=u._emscripten_bind_GunzipContext_GunzipContext_3=(d,y,Z)=>(nf=u._emscripten_bind_GunzipContext_GunzipContext_3=A.hc)(d,y,Z),uh=u._emscripten_bind_GunzipContext_GetState_0=d=>(uh=u._emscripten_bind_GunzipContext_GetState_0=A.ic)(d),rf=u._emscripten_bind_GunzipContext_Continue_0=d=>(rf=u._emscripten_bind_GunzipContext_Continue_0=A.jc)(d),dh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=d=>(dh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=A.kc)(d),fh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=d=>(fh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=A.lc)(d),ns=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=d=>(ns=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=A.mc)(d),ph=u._emscripten_bind_GunzipContext_GetError_0=d=>(ph=u._emscripten_bind_GunzipContext_GetError_0=A.nc)(d),sf=u._emscripten_bind_GunzipContext___destroy___0=d=>(sf=u._emscripten_bind_GunzipContext___destroy___0=A.oc)(d),hh=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(d,y)=>(hh=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=A.pc)(d,y),mh=u._emscripten_bind_ZipfileWalker_GetState_0=d=>(mh=u._emscripten_bind_ZipfileWalker_GetState_0=A.qc)(d),gh=u._emscripten_bind_ZipfileWalker_Next_0=d=>(gh=u._emscripten_bind_ZipfileWalker_Next_0=A.rc)(d),_h=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=d=>(_h=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=A.sc)(d),af=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d=>(af=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=A.tc)(d),vh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d=>(vh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=A.uc)(d),yh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d=>(yh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=A.vc)(d),bh=u._emscripten_bind_ZipfileWalker___destroy___0=d=>(bh=u._emscripten_bind_ZipfileWalker___destroy___0=A.wc)(d),Ye=()=>(Ye=A.xc)(),Ch=d=>(Ch=A.zc)(d);function Lo(){function d(){vn||(vn=!0,u.calledRun=!0,!le&&(function st(){Pn(Gt)}(),function $t(){Pn(Ne)}(),W(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),pa&&function To(){var d=wn;try{var Ae=d(0,0);return us(Ae),Ae}catch(It){return(d=>{if(d instanceof wo||"unwind"==d)return se;I(1,d)})(It)}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),ze.unshift(d);var d;Pn(ze)}()))}St>0||(function Ve(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),ht.unshift(d);var d;Pn(ht)}(),St>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),d()},1)):d())}if(u.___original_main=()=>(u.___original_main=A.Ac)(),u.___start_em_js=1472695,u.___stop_em_js=1472794,u.addFunction=(d,y)=>{var Z=(d=>(L||(L=new WeakMap,((d,y)=>{if(L)for(var Z=0;Z<0+y;Z++){var Ae=m(Z);Ae&&L.set(Ae,Z)}})(0,ut.length)),L.get(d)||0))(d);if(Z)return Z;var Ae=(()=>{if(Te.length)return Te.pop();try{ut.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return ut.length-1})();try{Ke(Ae,d)}catch(en){if(!(en instanceof TypeError))throw en;var It=((d,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((d=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Z={parameters:[],results:"v"==d[0]?[]:[y[d[0]]]},Ae=1;Ae<d.length;++Ae)Z.parameters.push(y[d[Ae]]);return Z})(y),d);var Z=[1];((d,y)=>{var Z=d.slice(0,1),Ae=d.slice(1),It={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),nt(Ae.length,y);for(var en=0;en<Ae.length;++en)y.push(It[Ae[en]]);"v"==Z?y.push(0):y.push(1,It[Z])})(y,Z);var Ae=[0,97,115,109,1,0,0,0,1];nt(Z.length,Ae),Ae.push.apply(Ae,Z),Ae.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var It=new WebAssembly.Module(new Uint8Array(Ae));return new WebAssembly.Instance(It,{e:{f:d}}).exports.f})(d,y);Ke(Ae,It)}return L.set(d,Ae),Ae},u.UTF8ToString=qn,jt=function d(){vn||Lo(),vn||(jt=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var pa=!0;function An(){}function js(d){return(d||An).__cache__}function Gn(d,y){var Z=js(y),Ae=Z[d];return Ae||((Ae=Object.create((y||An).prototype)).ptr=d,Z[d]=Ae)}u.noInitialRun&&(pa=!1),Lo(),(An.prototype=Object.create(An.prototype)).constructor=An,An.prototype.__class__=An,An.__cache__={},u.WrapperObject=An,u.getCache=js,u.wrapPointer=Gn,u.castObject=function gu(d,y){return Gn(d.ptr,y)},u.NULL=Gn(0),u.destroy=function x_(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete js(d.__class__)[d.ptr]},u.compare=function T_(d,y){return d.ptr===y.ptr},u.getPointer=function so(d){return d.ptr},u.getClass=function gt(d){return d.__class__};var it={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(it.needed){for(var d=0;d<it.temps.length;d++)u._webidl_free(it.temps[d]);it.temps.length=0,u._webidl_free(it.buffer),it.buffer=0,it.size+=it.needed,it.needed=0}it.buffer||(it.size+=128,it.buffer=u._webidl_malloc(it.size),Ee(it.buffer)),it.pos=0},alloc(d,y){Ee(it.buffer);var It,Ae=d.length*y.BYTES_PER_ELEMENT;return it.pos+(Ae=Ae+7&-8)>=it.size?(Ee(Ae>0),it.needed+=Ae,It=u._webidl_malloc(Ae),it.temps.push(It)):(It=it.buffer+it.pos,it.pos+=Ae),It},copy(d,y,Z){switch(Z>>>=0,y.BYTES_PER_ELEMENT){case 2:Z>>>=1;break;case 4:Z>>>=2;break;case 8:Z>>>=3}for(var It=0;It<d.length;It++)y[Z+It]=d[It]}};function En(d){if("string"==typeof d){var y=ti(d),Z=it.alloc(y,ke);return it.copy(y,ke,Z),Z}return d}function kn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Me(){this.ptr=Xn(),js(Me)[this.ptr]=this}function rr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=kr(d,y),js(rr)[this.ptr]=this}function Rn(){throw"cannot construct a Frame, no constructor in IDL"}function tn(){throw"cannot construct a DbBackup, no constructor in IDL"}function ur(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Mo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Wt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function ao(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function to(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Zt(){this.ptr=Kd(),js(Zt)[this.ptr]=this}function Un(d){it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),this.ptr=Jd(d),js(Un)[this.ptr]=this}function Or(d,y,Z){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),this.ptr=nf(d,y,Z),js(Or)[this.ptr]=this}function Tr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=hh(d,y),js(Tr)[this.ptr]=this}return(kn.prototype=Object.create(An.prototype)).constructor=kn,kn.prototype.__class__=kn,kn.__cache__={},u.VoidPtr=kn,kn.prototype.__destroy__=kn.prototype.__destroy__=function(){zr(this.ptr)},(Me.prototype=Object.create(An.prototype)).constructor=Me,Me.prototype.__class__=Me,Me.__cache__={},u.Cloudpilot=Me,Me.prototype.Malloc=Me.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Gn(Ki(this.ptr,d),kn)},Me.prototype.Free=Me.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Bn(this.ptr,d)},Me.prototype.Nullptr=Me.prototype.Nullptr=function(){return Gn(No(this.ptr),kn)},Me.prototype.InitializeSession=Me.prototype.InitializeSession=function(d,y,Z){var Ae=this.ptr;return it.prepare(),d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Z=Z&&"object"==typeof Z?Z.ptr:En(Z),!!Io(Ae,d,y,Z)},Me.prototype.GetCyclesPerSecond=Me.prototype.GetCyclesPerSecond=function(){return Xi(this.ptr)},Me.prototype.RunEmulation=Me.prototype.RunEmulation=function(d){return d&&"object"==typeof d&&(d=d.ptr),Ma(this.ptr,d)},Me.prototype.SetClockFactor=Me.prototype.SetClockFactor=function(d){d&&"object"==typeof d&&(d=d.ptr),ta(this.ptr,d)},Me.prototype.CopyFrame=Me.prototype.CopyFrame=function(){return Gn(Os(this.ptr),Rn)},Me.prototype.IsScreenDirty=Me.prototype.IsScreenDirty=function(){return!!na(this.ptr)},Me.prototype.MarkScreenClean=Me.prototype.MarkScreenClean=function(){Qi(this.ptr)},Me.prototype.MinMemoryForDevice=Me.prototype.MinMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),Aa(y,d)},Me.prototype.FramebufferSizeForDevice=Me.prototype.FramebufferSizeForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),ra(y,d)},Me.prototype.TotalMemoryForDevice=Me.prototype.TotalMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),oa(y,d)},Me.prototype.QueuePenMove=Me.prototype.QueuePenMove=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),ka(this.ptr,d,y)},Me.prototype.QueuePenUp=Me.prototype.QueuePenUp=function(){Ra(this.ptr)},Me.prototype.QueueButtonDown=Me.prototype.QueueButtonDown=function(d){d&&"object"==typeof d&&(d=d.ptr),Pa(this.ptr,d)},Me.prototype.QueueButtonUp=Me.prototype.QueueButtonUp=function(d){d&&"object"==typeof d&&(d=d.ptr),Oa(this.ptr,d)},Me.prototype.QueueKeyboardEvent=Me.prototype.QueueKeyboardEvent=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),ia(this.ptr,d,y)},Me.prototype.IsPowerOff=Me.prototype.IsPowerOff=function(){return!!Na(this.ptr)},Me.prototype.IsUIInitialized=Me.prototype.IsUIInitialized=function(){return!!Fa(this.ptr)},Me.prototype.GetOSVersion=Me.prototype.GetOSVersion=function(){return Er(this.ptr)},Me.prototype.IsSetupComplete=Me.prototype.IsSetupComplete=function(){return!!sa(this.ptr)},Me.prototype.Reset=Me.prototype.Reset=function(){po(this.ptr)},Me.prototype.ResetNoExtensions=Me.prototype.ResetNoExtensions=function(){Ht(this.ptr)},Me.prototype.ResetHard=Me.prototype.ResetHard=function(){aa(this.ptr)},Me.prototype.InstallDb=Me.prototype.InstallDb=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Ns(this.ptr,d,y)},Me.prototype.GetPalette2bitMapping=Me.prototype.GetPalette2bitMapping=function(){return eo(this.ptr)},Me.prototype.GetMemoryPtr=Me.prototype.GetMemoryPtr=function(){return Gn(Fs(this.ptr),kn)},Me.prototype.GetDirtyPagesPtr=Me.prototype.GetDirtyPagesPtr=function(){return Gn(La(this.ptr),kn)},Me.prototype.GetMemorySize=Me.prototype.GetMemorySize=function(){return Vn(this.ptr)},Me.prototype.ImportMemoryImage=Me.prototype.ImportMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!hs(this.ptr,d,y)},Me.prototype.GetRomPtr=Me.prototype.GetRomPtr=function(){return Gn(Ir(this.ptr),kn)},Me.prototype.GetRomSize=Me.prototype.GetRomSize=function(){return Ls(this.ptr)},Me.prototype.GetSavestatePtr=Me.prototype.GetSavestatePtr=function(){return Gn(hl(this.ptr),kn)},Me.prototype.GetSavestateSize=Me.prototype.GetSavestateSize=function(){return $a(this.ptr)},Me.prototype.SaveState=Me.prototype.SaveState=function(){return!!zn(this.ptr)},Me.prototype.LoadState=Me.prototype.LoadState=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Yt(this.ptr,d,y)},Me.prototype.GetHotsyncName=Me.prototype.GetHotsyncName=function(){return qn(ms(this.ptr))},Me.prototype.SetHotsyncName=Me.prototype.SetHotsyncName=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),$s(y,d)},Me.prototype.RegisterPwmHandler=Me.prototype.RegisterPwmHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),ml(this.ptr,d)},Me.prototype.StartBackup=Me.prototype.StartBackup=function(){return Gn(la(this.ptr),tn)},Me.prototype.SetClipboardIntegration=Me.prototype.SetClipboardIntegration=function(d){d&&"object"==typeof d&&(d=d.ptr),Xe(this.ptr,d)},Me.prototype.GetClipboardIntegration=Me.prototype.GetClipboardIntegration=function(){return!!Ji(this.ptr)},Me.prototype.IsSuspended=Me.prototype.IsSuspended=function(){return!!gs(this.ptr)},Me.prototype.GetSuspendContext=Me.prototype.GetSuspendContext=function(){return Gn(es(this.ptr),to)},Me.prototype.SetNetworkRedirection=Me.prototype.SetNetworkRedirection=function(d){d&&"object"==typeof d&&(d=d.ptr),ca(this.ptr,d)},Me.prototype.GetNetworkRedirection=Me.prototype.GetNetworkRedirection=function(){return!!ua(this.ptr)},Me.prototype.RegisterProxyDisconnectHandler=Me.prototype.RegisterProxyDisconnectHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),ni(this.ptr,d)},Me.prototype.SetHotsyncNameManagement=Me.prototype.SetHotsyncNameManagement=function(d){d&&"object"==typeof d&&(d=d.ptr),br(this.ptr,d)},Me.prototype.LaunchAppByName=Me.prototype.LaunchAppByName=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),!!Wo(y,d)},Me.prototype.LaunchAppByDbHeader=Me.prototype.LaunchAppByDbHeader=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Bt(this.ptr,d,y)},Me.prototype.DeviceSupportsCardSize=Me.prototype.DeviceSupportsCardSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Fn(this.ptr,d)},Me.prototype.ClearExternalStorage=Me.prototype.ClearExternalStorage=function(){Bl(this.ptr)},Me.prototype.AllocateCard=Me.prototype.AllocateCard=function(d,y){var Z=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),y&&"object"==typeof y&&(y=y.ptr),!!gl(Z,d,y)},Me.prototype.AdoptCard=Me.prototype.AdoptCard=function(d,y,Z){var Ae=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),y&&"object"==typeof y&&(y=y.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),!!_l(Ae,d,y,Z)},Me.prototype.MountCard=Me.prototype.MountCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),!!Vl(y,d)},Me.prototype.RemoveCard=Me.prototype.RemoveCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),!!Yn(y,d)},Me.prototype.GetCardData=Me.prototype.GetCardData=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),Gn(_s(y,d),kn)},Me.prototype.GetCardDirtyPages=Me.prototype.GetCardDirtyPages=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),Gn(Ln(y,d),kn)},Me.prototype.GetCardSize=Me.prototype.GetCardSize=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),ho(y,d)},Me.prototype.RemountCards=Me.prototype.RemountCards=function(){mo(this.ptr)},Me.prototype.GetSupportLevel=Me.prototype.GetSupportLevel=function(d){return d&&"object"==typeof d&&(d=d.ptr),Wr(this.ptr,d)},Me.prototype.GetMountedKey=Me.prototype.GetMountedKey=function(){return qn(Kn(this.ptr))},Me.prototype.__destroy__=Me.prototype.__destroy__=function(){Qn(this.ptr)},(rr.prototype=Object.create(An.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},u.RomInfo=rr,rr.prototype.IsValid=rr.prototype.IsValid=function(){return!!xr(this.ptr)},rr.prototype.CardVersion=rr.prototype.CardVersion=function(){return v(this.ptr)},rr.prototype.CardName=rr.prototype.CardName=function(){return qn(j(this.ptr))},rr.prototype.RomVersion=rr.prototype.RomVersion=function(){return oe(this.ptr)},rr.prototype.RomVersionString=rr.prototype.RomVersionString=function(){return qn(Oe(this.ptr))},rr.prototype.Supports=rr.prototype.Supports=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),!!bt(y,d)},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){qt(this.ptr)},(Rn.prototype=Object.create(An.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},u.Frame=Rn,Rn.prototype.GetLineWidth=Rn.prototype.GetLineWidth=function(){return ot(this.ptr)},Rn.prototype.GetBpp=Rn.prototype.GetBpp=function(){return hn(this.ptr)},Rn.prototype.GetLines=Rn.prototype.GetLines=function(){return ir(this.ptr)},Rn.prototype.GetMargin=Rn.prototype.GetMargin=function(){return zt(this.ptr)},Rn.prototype.GetBytesPerLine=Rn.prototype.GetBytesPerLine=function(){return Rr(this.ptr)},Rn.prototype.GetFirstDirtyLine=Rn.prototype.GetFirstDirtyLine=function(){return Le(this.ptr)},Rn.prototype.GetLastDirtyLine=Rn.prototype.GetLastDirtyLine=function(){return Dn(this.ptr)},Rn.prototype.GetHasChanges=Rn.prototype.GetHasChanges=function(){return!!ct(this.ptr)},Rn.prototype.GetBuffer=Rn.prototype.GetBuffer=function(){return Gn(sr(this.ptr),kn)},Rn.prototype.GetBufferSize=Rn.prototype.GetBufferSize=function(){return Wn(this.ptr)},Rn.prototype.GetScaleX=Rn.prototype.GetScaleX=function(){return Pr(this.ptr)},Rn.prototype.GetScaleY=Rn.prototype.GetScaleY=function(){return ar(this.ptr)},Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){We(this.ptr)},(tn.prototype=Object.create(An.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},u.DbBackup=tn,tn.prototype.Init=tn.prototype.Init=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!p(this.ptr,d)},tn.prototype.IsInProgress=tn.prototype.IsInProgress=function(){return!!x(this.ptr)},tn.prototype.IsDone=tn.prototype.IsDone=function(){return!!re(this.ptr)},tn.prototype.GetCurrentDatabase=tn.prototype.GetCurrentDatabase=function(){return qn(Fe(this.ptr))},tn.prototype.Save=tn.prototype.Save=function(){return!!Qe(this.ptr)},tn.prototype.Skip=tn.prototype.Skip=function(){_n(this.ptr)},tn.prototype.GetArchivePtr=tn.prototype.GetArchivePtr=function(){return Gn(on(this.ptr),kn)},tn.prototype.GetArchiveSize=tn.prototype.GetArchiveSize=function(){return Kt(this.ptr)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){lr(this.ptr)},(ur.prototype=Object.create(An.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},u.SuspendContextClipboardCopy=ur,ur.prototype.Cancel=ur.prototype.Cancel=function(){Fo(this.ptr)},ur.prototype.Resume=ur.prototype.Resume=function(){jn(this.ptr)},ur.prototype.GetClipboardContent=ur.prototype.GetClipboardContent=function(){return qn(Ba(this.ptr))},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){xo(this.ptr)},(Mo.prototype=Object.create(An.prototype)).constructor=Mo,Mo.prototype.__class__=Mo,Mo.__cache__={},u.SuspendContextClipboardPaste=Mo,Mo.prototype.Cancel=Mo.prototype.Cancel=function(){pt(this.ptr)},Mo.prototype.Resume=Mo.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),da(y,d)},Mo.prototype.__destroy__=Mo.prototype.__destroy__=function(){Bs(this.ptr)},(Wt.prototype=Object.create(An.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},u.SuspendContextNetworkConnect=Wt,Wt.prototype.Cancel=Wt.prototype.Cancel=function(){jl(this.ptr)},Wt.prototype.Resume=Wt.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),Va(y,d)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){mt(this.ptr)},(ao.prototype=Object.create(An.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},u.SuspendContextNetworkRpc=ao,ao.prototype.Cancel=ao.prototype.Cancel=function(){sn(this.ptr)},ao.prototype.GetRequestSize=ao.prototype.GetRequestSize=function(){return hi(this.ptr)},ao.prototype.GetRequestData=ao.prototype.GetRequestData=function(){return Gn(ri(this.ptr),kn)},ao.prototype.ReceiveResponse=ao.prototype.ReceiveResponse=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gl(this.ptr,d,y)},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){Yd(this.ptr)},(to.prototype=Object.create(An.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},u.SuspendContext=to,to.prototype.GetKind=to.prototype.GetKind=function(){return E_(this.ptr)},to.prototype.Cancel=to.prototype.Cancel=function(){Ul(this.ptr)},to.prototype.AsContextClipboardCopy=to.prototype.AsContextClipboardCopy=function(){return Gn(pu(this.ptr),ur)},to.prototype.AsContextClipboardPaste=to.prototype.AsContextClipboardPaste=function(){return Gn(Ec(this.ptr),Mo)},to.prototype.AsContextNetworkConnect=to.prototype.AsContextNetworkConnect=function(){return Gn(nh(this.ptr),Wt)},to.prototype.AsContextNetworkRpc=to.prototype.AsContextNetworkRpc=function(){return Gn(rh(this.ptr),ao)},to.prototype.__destroy__=to.prototype.__destroy__=function(){oh(this.ptr)},(Zt.prototype=Object.create(An.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},u.SessionImage=Zt,Zt.prototype.GetDeviceId=Zt.prototype.GetDeviceId=function(){return qn(vl(this.ptr))},Zt.prototype.SetDeviceId=Zt.prototype.SetDeviceId=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:En(d),Gn(ih(y,d),Zt)},Zt.prototype.GetRomImage=Zt.prototype.GetRomImage=function(){return Gn(fa(this.ptr),kn)},Zt.prototype.GetRomImageSize=Zt.prototype.GetRomImageSize=function(){return sh(this.ptr)},Zt.prototype.SetRomImage=Zt.prototype.SetRomImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(ce(this.ptr,d,y),Zt)},Zt.prototype.GetMemoryImage=Zt.prototype.GetMemoryImage=function(){return Gn(Xd(this.ptr),kn)},Zt.prototype.GetMemoryImageSize=Zt.prototype.GetMemoryImageSize=function(){return rt(this.ptr)},Zt.prototype.SetMemoryImage=Zt.prototype.SetMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(Ic(this.ptr,d,y),Zt)},Zt.prototype.GetMetadata=Zt.prototype.GetMetadata=function(){return Gn(hu(this.ptr),kn)},Zt.prototype.GetMetadataSize=Zt.prototype.GetMetadataSize=function(){return Hl(this.ptr)},Zt.prototype.SetMetadata=Zt.prototype.SetMetadata=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(ah(this.ptr,d,y),Zt)},Zt.prototype.GetSavestate=Zt.prototype.GetSavestate=function(){return Gn(lh(this.ptr),kn)},Zt.prototype.GetSavestateSize=Zt.prototype.GetSavestateSize=function(){return ch(this.ptr)},Zt.prototype.SetSavestate=Zt.prototype.SetSavestate=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(Vs(this.ptr,d,y),Zt)},Zt.prototype.GetVersion=Zt.prototype.GetVersion=function(){return xc(this.ptr)},Zt.prototype.Serialize=Zt.prototype.Serialize=function(){return!!ts(this.ptr)},Zt.prototype.GetSerializedImage=Zt.prototype.GetSerializedImage=function(){return Gn(vs(this.ptr),kn)},Zt.prototype.GetSerializedImageSize=Zt.prototype.GetSerializedImageSize=function(){return Jn(this.ptr)},Zt.prototype.Deserialize=Zt.prototype.Deserialize=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Qd(this.ptr,d,y)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){mu(this.ptr)},(Un.prototype=Object.create(An.prototype)).constructor=Un,Un.prototype.__class__=Un,Un.__cache__={},u.SkinLoader=Un,Un.prototype.GetData=Un.prototype.GetData=function(){return Gn(ef(this.ptr),kn)},Un.prototype.GetSize=Un.prototype.GetSize=function(){return zl(this.ptr)},Un.prototype.__destroy__=Un.prototype.__destroy__=function(){tf(this.ptr)},(Or.prototype=Object.create(An.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},u.GunzipContext=Or,Or.prototype.GetState=Or.prototype.GetState=function(){return uh(this.ptr)},Or.prototype.Continue=Or.prototype.Continue=function(){return rf(this.ptr)},Or.prototype.GetUncompressedData=Or.prototype.GetUncompressedData=function(){return Gn(dh(this.ptr),kn)},Or.prototype.ReleaseUncompressedData=Or.prototype.ReleaseUncompressedData=function(){return Gn(fh(this.ptr),kn)},Or.prototype.GetUncompressedSize=Or.prototype.GetUncompressedSize=function(){return ns(this.ptr)},Or.prototype.GetError=Or.prototype.GetError=function(){return qn(ph(this.ptr))},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){sf(this.ptr)},(Tr.prototype=Object.create(An.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},u.ZipfileWalker=Tr,Tr.prototype.GetState=Tr.prototype.GetState=function(){return mh(this.ptr)},Tr.prototype.Next=Tr.prototype.Next=function(){return gh(this.ptr)},Tr.prototype.GetTotalEntries=Tr.prototype.GetTotalEntries=function(){return _h(this.ptr)},Tr.prototype.GetCurrentEntrySize=Tr.prototype.GetCurrentEntrySize=function(){return af(this.ptr)},Tr.prototype.GetCurrentEntryName=Tr.prototype.GetCurrentEntryName=function(){return qn(vh(this.ptr))},Tr.prototype.GetCurrentEntryContent=Tr.prototype.GetCurrentEntryContent=function(){return Gn(yh(this.ptr),kn)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){bh(this.ptr)},S.ready});me.exports=Ce},3097:me=>{var C,Ce=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var W,q,u=S;u.ready=new Promise((v,j)=>{W=v,q=j});var _e,V=Object.assign({},u),E="./this.program",I=(v,j)=>{throw j},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(_e=v=>{var j=new XMLHttpRequest;return j.open("GET",v,!1),j.responseType="arraybuffer",j.send(null),new Uint8Array(j.response)}));var M,ie=u.print||console.log.bind(console),U=u.printErr||console.error.bind(console);Object.assign(u,V),V=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&ge("no native wasm support detected");var J,se,ke,O,D,X,he,le=!1;function Ee(v,j){v||ge(j)}function $e(){var v=J.buffer;u.HEAP8=ke=new Int8Array(v),u.HEAP16=new Int16Array(v),u.HEAPU8=O=new Uint8Array(v),u.HEAPU16=new Uint16Array(v),u.HEAP32=D=new Int32Array(v),u.HEAPU32=X=new Uint32Array(v),u.HEAPF32=new Float32Array(v),u.HEAPF64=he=new Float64Array(v)}var ht=[],Gt=[],Ne=[],ze=[],St=0,Ut=null,jt=null;function ge(v){u.onAbort&&u.onAbort(v),U(v="Aborted("+v+")"),le=!0,se=1,v+=". Build with -sASSERTIONS for more info.";var j=new WebAssembly.RuntimeError(v);throw q(j),j}var Jt,yt=v=>v.startsWith("data:application/octet-stream;base64,"),Nt=0;function dn(v){return function(){if(le)throw"program has already aborted!";Nt+=1;try{return v.apply(null,arguments)}catch(j){if(le||Nt>1||j===1/0||"unwind"===j)throw j;ge("unhandled exception: "+[j,j.stack])}finally{Nt-=1}}}function _r(v){if(v==Jt&&M)return new Uint8Array(M);if(_e)return _e(v);throw"both async and sync fetching of the wasm failed"}function Ho(v,j,oe){return function Zn(v){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>_r(v)):fetch(v,{credentials:"same-origin"}).then(j=>{if(!j.ok)throw"failed to load wasm binary file at '"+v+"'";return j.arrayBuffer()}).catch(()=>_r(v))}(v).then(Oe=>WebAssembly.instantiate(Oe,j)).then(Oe=>Oe).then(oe,Oe=>{U(`failed to asynchronously prepare wasm: ${Oe}`),ge(Oe)})}yt(Jt="fstools_web.wasm")||(Jt=function T(v){return u.locateFile?u.locateFile(v,P):P+v}(Jt));var Pn,$r={1093102:()=>{throw new Error("terminated")}};function Ur(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var go,ro=v=>{for(;v.length>0;)v.shift()(u)},qn=u.noExitRuntime||!0,Br=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pe=(v,j,oe)=>{for(var Oe=j+oe,bt=j;v[bt]&&!(bt>=Oe);)++bt;if(bt-j>16&&v.buffer&&Br)return Br.decode(v.subarray(j,bt));for(var qt="";j<bt;){var ot=v[j++];if(128&ot){var hn=63&v[j++];if(192!=(224&ot)){var ir=63&v[j++];if((ot=224==(240&ot)?(15&ot)<<12|hn<<6|ir:(7&ot)<<18|hn<<12|ir<<6|63&v[j++])<65536)qt+=String.fromCharCode(ot);else{var zt=ot-65536;qt+=String.fromCharCode(55296|zt>>10,56320|1023&zt)}}else qt+=String.fromCharCode((31&ot)<<6|hn)}else qt+=String.fromCharCode(ot)}return qt},ye=(v,j)=>v?pe(O,v,j):"",mn={varargs:void 0,get(){var v=D[+mn.varargs>>2];return mn.varargs+=4,v},getp:()=>mn.get(),getStr:v=>ye(v)},Sn=(v,j)=>j+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*j:NaN,wr=v=>v%4==0&&(v%100!=0||v%400==0),_o=[0,31,60,91,121,152,182,213,244,274,305,335],On=[0,31,59,90,120,151,181,212,243,273,304,334],Do=v=>(wr(v.getFullYear())?_o:On)[v.getMonth()]+v.getDate()-1,xn=v=>{for(var j=0,oe=0;oe<v.length;++oe){var Oe=v.charCodeAt(oe);Oe<=127?j++:Oe<=2047?j+=2:Oe>=55296&&Oe<=57343?(j+=4,++oe):j+=3}return j},vr=(v,j,oe,Oe)=>{if(!(Oe>0))return 0;for(var bt=oe,qt=oe+Oe-1,ot=0;ot<v.length;++ot){var hn=v.charCodeAt(ot);if(hn>=55296&&hn<=57343&&(hn=65536+((1023&hn)<<10)|1023&v.charCodeAt(++ot)),hn<=127){if(oe>=qt)break;j[oe++]=hn}else if(hn<=2047){if(oe+1>=qt)break;j[oe++]=192|hn>>6,j[oe++]=128|63&hn}else if(hn<=65535){if(oe+2>=qt)break;j[oe++]=224|hn>>12,j[oe++]=128|hn>>6&63,j[oe++]=128|63&hn}else{if(oe+3>=qt)break;j[oe++]=240|hn>>18,j[oe++]=128|hn>>12&63,j[oe++]=128|hn>>6&63,j[oe++]=128|63&hn}}return j[oe]=0,oe-bt},Tn=v=>{var j=xn(v)+1,oe=ne(j);return oe&&((v,j,oe)=>{vr(v,O,j,oe)})(v,oe,j),oe},cn=[],zo=v=>{var oe=(v-J.buffer.byteLength+65535)/65536;try{return J.grow(oe),$e(),1}catch{}},li={},ci=()=>{if(!ci.strings){var j={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var oe in li)void 0===li[oe]?delete j[oe]:j[oe]=li[oe];var Oe=[];for(var oe in j)Oe.push(`${oe}=${j[oe]}`);ci.strings=Oe}return ci.strings},Ii=(v,j)=>{se=v,(v=>{se=v,qn||(u.onExit&&u.onExit(v),le=!0),I(v,new Ur(v))})(v)},Ar=[null,[],[]],Mn=(v,j)=>{var oe=Ar[v];0===j||10===j?((1===v?ie:U)(pe(oe,0)),oe.length=0):oe.push(j)},Zi=[31,29,31,30,31,30,31,31,30,31,30,31],Ps=[31,28,31,30,31,30,31,31,30,31,30,31];function ds(v,j,oe){var Oe=oe>0?oe:xn(v)+1,bt=new Array(Oe),qt=vr(v,bt,0,bt.length);return j&&(bt.length=qt),bt}var es,ps={b:(v,j,oe,Oe)=>{ge(`Assertion failed: ${ye(v)}, at: `+[j?ye(j):"unknown filename",oe,Oe?ye(Oe):"unknown function"])},n:function rn(v,j,oe){Sn(j,oe)},i:function fo(v,j,oe,Oe){mn.varargs=Oe},j:function nr(v,j,oe){var Oe=Sn(v,j),bt=new Date(1e3*Oe);D[oe>>2]=bt.getUTCSeconds(),D[oe+4>>2]=bt.getUTCMinutes(),D[oe+8>>2]=bt.getUTCHours(),D[oe+12>>2]=bt.getUTCDate(),D[oe+16>>2]=bt.getUTCMonth(),D[oe+20>>2]=bt.getUTCFullYear()-1900,D[oe+24>>2]=bt.getUTCDay();var qt=Date.UTC(bt.getUTCFullYear(),0,1,0,0,0,0),ot=(bt.getTime()-qt)/864e5|0;D[oe+28>>2]=ot},k:function oo(v,j,oe){var Oe=Sn(v,j),bt=new Date(1e3*Oe);D[oe>>2]=bt.getSeconds(),D[oe+4>>2]=bt.getMinutes(),D[oe+8>>2]=bt.getHours(),D[oe+12>>2]=bt.getDate(),D[oe+16>>2]=bt.getMonth(),D[oe+20>>2]=bt.getFullYear()-1900,D[oe+24>>2]=bt.getDay();var qt=0|Do(bt);D[oe+28>>2]=qt,D[oe+36>>2]=-60*bt.getTimezoneOffset();var ot=new Date(bt.getFullYear(),0,1),hn=new Date(bt.getFullYear(),6,1).getTimezoneOffset(),ir=ot.getTimezoneOffset(),zt=0|(hn!=ir&&bt.getTimezoneOffset()==Math.min(ir,hn));D[oe+32>>2]=zt},l:function(v){var j=(()=>{var oe=new Date(D[v+20>>2]+1900,D[v+16>>2],D[v+12>>2],D[v+8>>2],D[v+4>>2],D[v>>2],0),Oe=D[v+32>>2],bt=oe.getTimezoneOffset(),qt=new Date(oe.getFullYear(),0,1),ot=new Date(oe.getFullYear(),6,1).getTimezoneOffset(),hn=qt.getTimezoneOffset(),ir=Math.min(hn,ot);if(Oe<0)D[v+32>>2]=+(ot!=hn&&ir==bt);else if(Oe>0!=(ir==bt)){var zt=Math.max(hn,ot),Rr=Oe>0?ir:zt;oe.setTime(oe.getTime()+6e4*(Rr-bt))}D[v+24>>2]=oe.getDay();var Le=0|Do(oe);D[v+28>>2]=Le,D[v>>2]=oe.getSeconds(),D[v+4>>2]=oe.getMinutes(),D[v+8>>2]=oe.getHours(),D[v+12>>2]=oe.getDate(),D[v+16>>2]=oe.getMonth(),D[v+20>>2]=oe.getYear();var Dn=oe.getTime();return isNaN(Dn)?(D[w()>>2]=61,-1):Dn/1e3})();return la((Pn=j,+Math.abs(Pn)>=1?Pn>0?+Math.floor(Pn/4294967296)>>>0:~~+Math.ceil((Pn-+(~~Pn>>>0))/4294967296)>>>0:0)),j>>>0},q:(v,j,oe)=>{var Oe=(new Date).getFullYear(),bt=new Date(Oe,0,1),qt=new Date(Oe,6,1),ot=bt.getTimezoneOffset(),hn=qt.getTimezoneOffset(),ir=Math.max(ot,hn);function zt(sr){var Wn=sr.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Wn?Wn[1]:"GMT"}X[v>>2]=60*ir,D[j>>2]=+(ot!=hn);var Rr=zt(bt),Le=zt(qt),Dn=Tn(Rr),ct=Tn(Le);hn<ot?(X[oe>>2]=Dn,X[oe+4>>2]=ct):(X[oe>>2]=ct,X[oe+4>>2]=Dn)},c:()=>{ge("")},a:(v,j,oe)=>((v,j,oe)=>{var Oe=((v,j)=>{cn.length=0;for(var oe;oe=O[v++];){var Oe=105!=oe;j+=(Oe&=112!=oe)&&j%8?4:0,cn.push(112==oe?X[j>>2]:105==oe?D[j>>2]:he[j>>3]),j+=Oe?8:4}return cn})(j,oe);return $r[v].apply(null,Oe)})(v,j,oe),e:()=>Date.now(),g:(v,j,oe)=>O.copyWithin(v,j,j+oe),p:v=>{var ir,j=O.length,oe=2147483648;if((v>>>=0)>oe)return!1;for(var bt=1;bt<=4;bt*=2){var qt=j*(1+.2/bt);qt=Math.min(qt,v+100663296);var ot=Math.min(oe,(ir=Math.max(v,qt))+(65536-ir%65536)%65536);if(zo(ot))return!0}return!1},r:(v,j)=>{var oe=0;return ci().forEach((Oe,bt)=>{var qt=j+oe;X[v+4*bt>>2]=qt,((v,j)=>{for(var oe=0;oe<v.length;++oe)ke[j++>>0]=v.charCodeAt(oe);ke[j>>0]=0})(Oe,qt),oe+=Oe.length+1}),0},s:(v,j)=>{var oe=ci();X[v>>2]=oe.length;var Oe=0;return oe.forEach(bt=>Oe+=bt.length+1),X[j>>2]=Oe,0},t:Ii,f:v=>52,d:(v,j,oe,Oe)=>52,m:function ti(v,j,oe,Oe,bt){return Sn(j,oe),70},h:(v,j,oe,Oe)=>{for(var bt=0,qt=0;qt<oe;qt++){var ot=X[j>>2],hn=X[j+4>>2];j+=8;for(var ir=0;ir<hn;ir++)Mn(v,O[ot+ir]);bt+=hn}return X[Oe>>2]=bt,0},o:(v,j,oe,Oe,bt)=>((v,j,oe,Oe)=>{var bt=X[Oe+40>>2],qt={tm_sec:D[Oe>>2],tm_min:D[Oe+4>>2],tm_hour:D[Oe+8>>2],tm_mday:D[Oe+12>>2],tm_mon:D[Oe+16>>2],tm_year:D[Oe+20>>2],tm_wday:D[Oe+24>>2],tm_yday:D[Oe+28>>2],tm_isdst:D[Oe+32>>2],tm_gmtoff:D[Oe+36>>2],tm_zone:bt?ye(bt):""},ot=ye(oe),hn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ir in hn)ot=ot.replace(new RegExp(ir,"g"),hn[ir]);var zt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rr=["January","February","March","April","May","June","July","August","September","October","November","December"];function Le(We,p,x){for(var re="number"==typeof We?We.toString():We||"";re.length<p;)re=x[0]+re;return re}function Dn(We,p){return Le(We,p,"0")}function ct(We,p){function x(Fe){return Fe<0?-1:Fe>0?1:0}var re;return 0===(re=x(We.getFullYear()-p.getFullYear()))&&0===(re=x(We.getMonth()-p.getMonth()))&&(re=x(We.getDate()-p.getDate())),re}function sr(We){switch(We.getDay()){case 0:return new Date(We.getFullYear()-1,11,29);case 1:return We;case 2:return new Date(We.getFullYear(),0,3);case 3:return new Date(We.getFullYear(),0,2);case 4:return new Date(We.getFullYear(),0,1);case 5:return new Date(We.getFullYear()-1,11,31);case 6:return new Date(We.getFullYear()-1,11,30)}}function Wn(We){var p=((v,j)=>{for(var oe=new Date(v.getTime());j>0;){var Oe=wr(oe.getFullYear()),bt=oe.getMonth(),qt=(Oe?Zi:Ps)[bt];if(!(j>qt-oe.getDate()))return oe.setDate(oe.getDate()+j),oe;j-=qt-oe.getDate()+1,oe.setDate(1),bt<11?oe.setMonth(bt+1):(oe.setMonth(0),oe.setFullYear(oe.getFullYear()+1))}return oe})(new Date(We.tm_year+1900,0,1),We.tm_yday),x=new Date(p.getFullYear(),0,4),re=new Date(p.getFullYear()+1,0,4),Fe=sr(x),Qe=sr(re);return ct(Fe,p)<=0?ct(Qe,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Pr={"%a":We=>zt[We.tm_wday].substring(0,3),"%A":We=>zt[We.tm_wday],"%b":We=>Rr[We.tm_mon].substring(0,3),"%B":We=>Rr[We.tm_mon],"%C":We=>Dn((We.tm_year+1900)/100|0,2),"%d":We=>Dn(We.tm_mday,2),"%e":We=>Le(We.tm_mday,2," "),"%g":We=>Wn(We).toString().substring(2),"%G":We=>Wn(We),"%H":We=>Dn(We.tm_hour,2),"%I":We=>{var p=We.tm_hour;return 0==p?p=12:p>12&&(p-=12),Dn(p,2)},"%j":We=>Dn(We.tm_mday+((v,j)=>{for(var oe=0,Oe=0;Oe<=j;oe+=v[Oe++]);return oe})(wr(We.tm_year+1900)?Zi:Ps,We.tm_mon-1),3),"%m":We=>Dn(We.tm_mon+1,2),"%M":We=>Dn(We.tm_min,2),"%n":()=>"\n","%p":We=>We.tm_hour>=0&&We.tm_hour<12?"AM":"PM","%S":We=>Dn(We.tm_sec,2),"%t":()=>"\t","%u":We=>We.tm_wday||7,"%U":We=>Dn(Math.floor((We.tm_yday+7-We.tm_wday)/7),2),"%V":We=>{var p=Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7);if((We.tm_wday+371-We.tm_yday-2)%7<=2&&p++,p){if(53==p){var re=(We.tm_wday+371-We.tm_yday)%7;4!=re&&(3!=re||!wr(We.tm_year))&&(p=1)}}else{p=52;var x=(We.tm_wday+7-We.tm_yday-1)%7;(4==x||5==x&&wr(We.tm_year%400-1))&&p++}return Dn(p,2)},"%w":We=>We.tm_wday,"%W":We=>Dn(Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7),2),"%y":We=>(We.tm_year+1900).toString().substring(2),"%Y":We=>We.tm_year+1900,"%z":We=>{var p=We.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":We=>We.tm_zone,"%%":()=>"%"};for(var ir in ot=ot.replace(/%%/g,"\0\0"),Pr)ot.includes(ir)&&(ot=ot.replace(new RegExp(ir,"g"),Pr[ir](qt)));var ar=ds(ot=ot.replace(/\0\0/g,"%"),!1);return ar.length>j?0:(((v,j)=>{ke.set(v,j)})(ar,v),ar.length-1)})(v,j,oe,Oe)},ut=function wo(){var v={a:ps};function j(Oe,bt){return ut=function nn(v){var j={};for(var oe in v){var Oe=v[oe];j[oe]="function"==typeof Oe?dn(Oe):Oe}return j}(ut=Oe.exports),J=ut.u,$e(),go=ut.za,function at(v){Gt.unshift(v)}(ut.v),function pn(){var v=go.get,j={};go.get=oe=>{var Oe=v.call(go,oe),bt=j[oe];return(!bt||bt.func!==Oe)&&(bt=j[oe]={func:Oe,wrapper:dn(Oe)}),bt.wrapper}}(),function be(v){if(St--,u.monitorRunDependencies&&u.monitorRunDependencies(St),0==St&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var j=jt;jt=null,j()}}(),ut}if(function xe(v){St++,u.monitorRunDependencies&&u.monitorRunDependencies(St)}(),u.instantiateWasm)try{return u.instantiateWasm(v,j)}catch(Oe){U(`Module.instantiateWasm callback failed with error: ${Oe}`),q(Oe)}return function So(v,j,oe,Oe){return v||"function"!=typeof WebAssembly.instantiateStreaming||yt(j)||"function"!=typeof fetch?Ho(j,oe,Oe):fetch(j,{credentials:"same-origin"}).then(bt=>WebAssembly.instantiateStreaming(bt,oe).then(Oe,function(ot){return U(`wasm streaming compile failed: ${ot}`),U("falling back to ArrayBuffer instantiation"),Ho(j,oe,Oe)}))}(M,Jt,v,function oe(Oe){j(Oe.instance)}).catch(q),{}}(),w=()=>(w=ut.w)(),ne=(u._free=v=>(u._free=ut.x)(v),u._malloc=v=>(ne=u._malloc=ut.y)(v)),Ke=(u._webidl_free=v=>(u._webidl_free=ut.z)(v),u._webidl_malloc=v=>(u._webidl_malloc=ut.A)(v),u._emscripten_bind_VoidPtr___destroy___0=v=>(Ke=u._emscripten_bind_VoidPtr___destroy___0=ut.B)(v)),qe=u._emscripten_bind_FSTools_FSTools_0=()=>(qe=u._emscripten_bind_FSTools_FSTools_0=ut.C)(),et=u._emscripten_bind_FSTools_Malloc_1=(v,j)=>(et=u._emscripten_bind_FSTools_Malloc_1=ut.D)(v,j),A=u._emscripten_bind_FSTools_Free_1=(v,j)=>(A=u._emscripten_bind_FSTools_Free_1=ut.E)(v,j),Ct=u._emscripten_bind_FSTools_Nullptr_0=v=>(Ct=u._emscripten_bind_FSTools_Nullptr_0=ut.F)(v),At=u._emscripten_bind_FSTools___destroy___0=v=>(At=u._emscripten_bind_FSTools___destroy___0=ut.G)(v),kt=u._emscripten_bind_MkfsContext_MkfsContext_0=()=>(kt=u._emscripten_bind_MkfsContext_MkfsContext_0=ut.H)(),wn=u._emscripten_bind_MkfsContext_Mkfs_2=(v,j,oe)=>(wn=u._emscripten_bind_MkfsContext_Mkfs_2=ut.I)(v,j,oe),Dr=u._emscripten_bind_MkfsContext_GetImage_0=v=>(Dr=u._emscripten_bind_MkfsContext_GetImage_0=ut.J)(v),Vr=u._emscripten_bind_MkfsContext_GetImageSize_0=v=>(Vr=u._emscripten_bind_MkfsContext_GetImageSize_0=ut.K)(v),zr=u._emscripten_bind_MkfsContext___destroy___0=v=>(zr=u._emscripten_bind_MkfsContext___destroy___0=ut.L)(v),Xn=u._emscripten_bind_FsckContext_FsckContext_1=v=>(Xn=u._emscripten_bind_FsckContext_FsckContext_1=ut.M)(v),Ki=u._emscripten_bind_FsckContext_GetImage_0=v=>(Ki=u._emscripten_bind_FsckContext_GetImage_0=ut.N)(v),Bn=u._emscripten_bind_FsckContext_GetDirtyPages_0=v=>(Bn=u._emscripten_bind_FsckContext_GetDirtyPages_0=ut.O)(v),No=u._emscripten_bind_FsckContext_GetImageSize_0=v=>(No=u._emscripten_bind_FsckContext_GetImageSize_0=ut.P)(v),Io=u._emscripten_bind_FsckContext_Fsck_0=v=>(Io=u._emscripten_bind_FsckContext_Fsck_0=ut.Q)(v),Xi=u._emscripten_bind_FsckContext_GetResult_0=v=>(Xi=u._emscripten_bind_FsckContext_GetResult_0=ut.R)(v),Ma=u._emscripten_bind_FsckContext___destroy___0=v=>(Ma=u._emscripten_bind_FsckContext___destroy___0=ut.S)(v),ta=u._emscripten_bind_GunzipContext_GunzipContext_3=(v,j,oe)=>(ta=u._emscripten_bind_GunzipContext_GunzipContext_3=ut.T)(v,j,oe),Os=u._emscripten_bind_GunzipContext_GetState_0=v=>(Os=u._emscripten_bind_GunzipContext_GetState_0=ut.U)(v),na=u._emscripten_bind_GunzipContext_Continue_0=v=>(na=u._emscripten_bind_GunzipContext_Continue_0=ut.V)(v),Qi=u._emscripten_bind_GunzipContext_GetUncompressedData_0=v=>(Qi=u._emscripten_bind_GunzipContext_GetUncompressedData_0=ut.W)(v),Aa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=v=>(Aa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=ut.X)(v),ra=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=v=>(ra=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=ut.Y)(v),oa=u._emscripten_bind_GunzipContext_GetError_0=v=>(oa=u._emscripten_bind_GunzipContext_GetError_0=ut.Z)(v),ka=u._emscripten_bind_GunzipContext___destroy___0=v=>(ka=u._emscripten_bind_GunzipContext___destroy___0=ut._)(v),Ra=u._emscripten_bind_GzipContext_GzipContext_3=(v,j,oe)=>(Ra=u._emscripten_bind_GzipContext_GzipContext_3=ut.$)(v,j,oe),Pa=u._emscripten_bind_GzipContext_SetFilename_1=(v,j)=>(Pa=u._emscripten_bind_GzipContext_SetFilename_1=ut.aa)(v,j),Oa=u._emscripten_bind_GzipContext_SetMtime_1=(v,j)=>(Oa=u._emscripten_bind_GzipContext_SetMtime_1=ut.ba)(v,j),ia=u._emscripten_bind_GzipContext_Continue_0=v=>(ia=u._emscripten_bind_GzipContext_Continue_0=ut.ca)(v),Na=u._emscripten_bind_GzipContext_GetState_0=v=>(Na=u._emscripten_bind_GzipContext_GetState_0=ut.da)(v),Fa=u._emscripten_bind_GzipContext_GetGzipData_0=v=>(Fa=u._emscripten_bind_GzipContext_GetGzipData_0=ut.ea)(v),Er=u._emscripten_bind_GzipContext_GetGzipSize_0=v=>(Er=u._emscripten_bind_GzipContext_GetGzipSize_0=ut.fa)(v),sa=u._emscripten_bind_GzipContext_GetError_0=v=>(sa=u._emscripten_bind_GzipContext_GetError_0=ut.ga)(v),po=u._emscripten_bind_GzipContext___destroy___0=v=>(po=u._emscripten_bind_GzipContext___destroy___0=ut.ha)(v),Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=ut.ia)(),aa=u._emscripten_bind_CreateZipContext_Initialize_1=(v,j)=>(aa=u._emscripten_bind_CreateZipContext_Initialize_1=ut.ja)(v,j),Ns=u._emscripten_bind_CreateZipContext_AddEntry_1=(v,j)=>(Ns=u._emscripten_bind_CreateZipContext_AddEntry_1=ut.ka)(v,j),eo=u._emscripten_bind_CreateZipContext_WriteData_2=(v,j,oe)=>(eo=u._emscripten_bind_CreateZipContext_WriteData_2=ut.la)(v,j,oe),Fs=u._emscripten_bind_CreateZipContext_GetZipData_0=v=>(Fs=u._emscripten_bind_CreateZipContext_GetZipData_0=ut.ma)(v),La=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=v=>(La=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=ut.na)(v),Vn=u._emscripten_bind_CreateZipContext_GetLastError_0=v=>(Vn=u._emscripten_bind_CreateZipContext_GetLastError_0=ut.oa)(v),hs=u._emscripten_bind_CreateZipContext___destroy___0=v=>(hs=u._emscripten_bind_CreateZipContext___destroy___0=ut.pa)(v),Ir=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(v,j)=>(Ir=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=ut.qa)(v,j),Ls=u._emscripten_bind_ZipfileWalker_GetState_0=v=>(Ls=u._emscripten_bind_ZipfileWalker_GetState_0=ut.ra)(v),hl=u._emscripten_bind_ZipfileWalker_Next_0=v=>(hl=u._emscripten_bind_ZipfileWalker_Next_0=ut.sa)(v),$a=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=v=>($a=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=ut.ta)(v),zn=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=v=>(zn=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ut.ua)(v),Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=v=>(Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ut.va)(v),ms=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=v=>(ms=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ut.wa)(v),$s=u._emscripten_bind_ZipfileWalker___destroy___0=v=>($s=u._emscripten_bind_ZipfileWalker___destroy___0=ut.xa)(v),ml=u._main=(v,j)=>(ml=u._main=ut.ya)(v,j),la=v=>(la=ut.Aa)(v);function ua(){function v(){es||(es=!0,u.calledRun=!0,!le&&(function st(){ro(Gt)}(),function $t(){ro(Ne)}(),W(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),ni&&function ca(){var v=ml;try{Nt+=1;var Oe=v(0,0);return Ii(Oe),Oe}catch(bt){return(v=>{if(v instanceof Ur||"unwind"==v)return se;I(1,v)})(bt)}finally{Nt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)v=u.postRun.shift(),ze.unshift(v);var v;ro(ze)}()))}St>0||(function Ve(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)v=u.preRun.shift(),ht.unshift(v);var v;ro(ht)}(),St>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),v()},1)):v())}if(u.___original_main=()=>(u.___original_main=ut.Ba)(),jt=function v(){es||ua(),es||(jt=v)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var ni=!0;function br(){}function Wo(v){return(v||br).__cache__}function Bt(v,j){var oe=Wo(j),Oe=oe[v];return Oe||((Oe=Object.create((j||br).prototype)).ptr=v,oe[v]=Oe)}u.noInitialRun&&(ni=!1),ua(),(br.prototype=Object.create(br.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},u.WrapperObject=br,u.getCache=Wo,u.wrapPointer=Bt,u.castObject=function Fn(v,j){return Bt(v.ptr,j)},u.NULL=Bt(0),u.destroy=function Bl(v){if(!v.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";v.__destroy__(),delete Wo(v.__class__)[v.ptr]},u.compare=function gl(v,j){return v.ptr===j.ptr},u.getPointer=function _l(v){return v.ptr},u.getClass=function Vl(v){return v.__class__};var Yn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Yn.needed){for(var v=0;v<Yn.temps.length;v++)u._webidl_free(Yn.temps[v]);Yn.temps.length=0,u._webidl_free(Yn.buffer),Yn.buffer=0,Yn.size+=Yn.needed,Yn.needed=0}Yn.buffer||(Yn.size+=128,Yn.buffer=u._webidl_malloc(Yn.size),Ee(Yn.buffer)),Yn.pos=0},alloc(v,j){Ee(Yn.buffer);var bt,Oe=v.length*j.BYTES_PER_ELEMENT;return Yn.pos+(Oe=Oe+7&-8)>=Yn.size?(Ee(Oe>0),Yn.needed+=Oe,bt=u._webidl_malloc(Oe),Yn.temps.push(bt)):(bt=Yn.buffer+Yn.pos,Yn.pos+=Oe),bt},copy(v,j,oe){switch(oe>>>=0,j.BYTES_PER_ELEMENT){case 2:oe>>>=1;break;case 4:oe>>>=2;break;case 8:oe>>>=3}for(var bt=0;bt<v.length;bt++)j[oe+bt]=v[bt]}};function _s(v){if("string"==typeof v){var j=ds(v),oe=Yn.alloc(j,ke);return Yn.copy(j,ke,oe),oe}return v}function Ln(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ho(){this.ptr=qe(),Wo(ho)[this.ptr]=this}function mo(){this.ptr=kt(),Wo(mo)[this.ptr]=this}function Wr(v){v&&"object"==typeof v&&(v=v.ptr),this.ptr=Xn(v),Wo(Wr)[this.ptr]=this}function Kn(v,j,oe){v&&"object"==typeof v&&(v=v.ptr),j&&"object"==typeof j&&(j=j.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),this.ptr=ta(v,j,oe),Wo(Kn)[this.ptr]=this}function Qn(v,j,oe){v&&"object"==typeof v&&(v=v.ptr),j&&"object"==typeof j&&(j=j.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),this.ptr=Ra(v,j,oe),Wo(Qn)[this.ptr]=this}function kr(){this.ptr=Ht(),Wo(kr)[this.ptr]=this}function xr(v,j){v&&"object"==typeof v&&(v=v.ptr),j&&"object"==typeof j&&(j=j.ptr),this.ptr=Ir(v,j),Wo(xr)[this.ptr]=this}return(Ln.prototype=Object.create(br.prototype)).constructor=Ln,Ln.prototype.__class__=Ln,Ln.__cache__={},u.VoidPtr=Ln,Ln.prototype.__destroy__=Ln.prototype.__destroy__=function(){Ke(this.ptr)},(ho.prototype=Object.create(br.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},u.FSTools=ho,ho.prototype.Malloc=ho.prototype.Malloc=function(v){return v&&"object"==typeof v&&(v=v.ptr),Bt(et(this.ptr,v),Ln)},ho.prototype.Free=ho.prototype.Free=function(v){v&&"object"==typeof v&&(v=v.ptr),A(this.ptr,v)},ho.prototype.Nullptr=ho.prototype.Nullptr=function(){return Bt(Ct(this.ptr),Ln)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){At(this.ptr)},(mo.prototype=Object.create(br.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},u.MkfsContext=mo,mo.prototype.Mkfs=mo.prototype.Mkfs=function(v,j){var oe=this.ptr;return Yn.prepare(),v&&"object"==typeof v&&(v=v.ptr),j=j&&"object"==typeof j?j.ptr:_s(j),!!wn(oe,v,j)},mo.prototype.GetImage=mo.prototype.GetImage=function(){return Bt(Dr(this.ptr),Ln)},mo.prototype.GetImageSize=mo.prototype.GetImageSize=function(){return Vr(this.ptr)},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){zr(this.ptr)},(Wr.prototype=Object.create(br.prototype)).constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},u.FsckContext=Wr,Wr.prototype.GetImage=Wr.prototype.GetImage=function(){return Bt(Ki(this.ptr),Ln)},Wr.prototype.GetDirtyPages=Wr.prototype.GetDirtyPages=function(){return Bt(Bn(this.ptr),Ln)},Wr.prototype.GetImageSize=Wr.prototype.GetImageSize=function(){return No(this.ptr)},Wr.prototype.Fsck=Wr.prototype.Fsck=function(){return Io(this.ptr)},Wr.prototype.GetResult=Wr.prototype.GetResult=function(){return Xi(this.ptr)},Wr.prototype.__destroy__=Wr.prototype.__destroy__=function(){Ma(this.ptr)},(Kn.prototype=Object.create(br.prototype)).constructor=Kn,Kn.prototype.__class__=Kn,Kn.__cache__={},u.GunzipContext=Kn,Kn.prototype.GetState=Kn.prototype.GetState=function(){return Os(this.ptr)},Kn.prototype.Continue=Kn.prototype.Continue=function(){return na(this.ptr)},Kn.prototype.GetUncompressedData=Kn.prototype.GetUncompressedData=function(){return Bt(Qi(this.ptr),Ln)},Kn.prototype.ReleaseUncompressedData=Kn.prototype.ReleaseUncompressedData=function(){return Bt(Aa(this.ptr),Ln)},Kn.prototype.GetUncompressedSize=Kn.prototype.GetUncompressedSize=function(){return ra(this.ptr)},Kn.prototype.GetError=Kn.prototype.GetError=function(){return ye(oa(this.ptr))},Kn.prototype.__destroy__=Kn.prototype.__destroy__=function(){ka(this.ptr)},(Qn.prototype=Object.create(br.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},u.GzipContext=Qn,Qn.prototype.SetFilename=Qn.prototype.SetFilename=function(v){var j=this.ptr;return Yn.prepare(),v=v&&"object"==typeof v?v.ptr:_s(v),Bt(Pa(j,v),Qn)},Qn.prototype.SetMtime=Qn.prototype.SetMtime=function(v){return v&&"object"==typeof v&&(v=v.ptr),Bt(Oa(this.ptr,v),Qn)},Qn.prototype.Continue=Qn.prototype.Continue=function(){return ia(this.ptr)},Qn.prototype.GetState=Qn.prototype.GetState=function(){return Na(this.ptr)},Qn.prototype.GetGzipData=Qn.prototype.GetGzipData=function(){return Bt(Fa(this.ptr),Ln)},Qn.prototype.GetGzipSize=Qn.prototype.GetGzipSize=function(){return Er(this.ptr)},Qn.prototype.GetError=Qn.prototype.GetError=function(){return ye(sa(this.ptr))},Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){po(this.ptr)},(kr.prototype=Object.create(br.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},u.CreateZipContext=kr,kr.prototype.Initialize=kr.prototype.Initialize=function(v){return v&&"object"==typeof v&&(v=v.ptr),!!aa(this.ptr,v)},kr.prototype.AddEntry=kr.prototype.AddEntry=function(v){var j=this.ptr;return Yn.prepare(),v=v&&"object"==typeof v?v.ptr:_s(v),!!Ns(j,v)},kr.prototype.WriteData=kr.prototype.WriteData=function(v,j){return v&&"object"==typeof v&&(v=v.ptr),j&&"object"==typeof j&&(j=j.ptr),!!eo(this.ptr,v,j)},kr.prototype.GetZipData=kr.prototype.GetZipData=function(){return Bt(Fs(this.ptr),Ln)},kr.prototype.GetZipDataSize=kr.prototype.GetZipDataSize=function(){return La(this.ptr)},kr.prototype.GetLastError=kr.prototype.GetLastError=function(){return ye(Vn(this.ptr))},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){hs(this.ptr)},(xr.prototype=Object.create(br.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},u.ZipfileWalker=xr,xr.prototype.GetState=xr.prototype.GetState=function(){return Ls(this.ptr)},xr.prototype.Next=xr.prototype.Next=function(){return hl(this.ptr)},xr.prototype.GetTotalEntries=xr.prototype.GetTotalEntries=function(){return $a(this.ptr)},xr.prototype.GetCurrentEntrySize=xr.prototype.GetCurrentEntrySize=function(){return zn(this.ptr)},xr.prototype.GetCurrentEntryName=xr.prototype.GetCurrentEntryName=function(){return ye(Yt(this.ptr))},xr.prototype.GetCurrentEntryContent=xr.prototype.GetCurrentEntryContent=function(){return Bt(ms(this.ptr),Ln)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){$s(this.ptr)},S.ready});me.exports=Ce},8886:me=>{var C,Ce=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var W,q,u=S;u.ready=new Promise((p,x)=>{W=p,q=x});var _e,V=Object.assign({},u),E="./this.program",I=(p,x)=>{throw x},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(_e=p=>{var x=new XMLHttpRequest;return x.open("GET",p,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}));var M,ie=u.print||console.log.bind(console),U=u.printErr||console.error.bind(console);Object.assign(u,V),V=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&ge("no native wasm support detected");var J,se,ke,O,D,X,le=!1;function Ee(p,x){p||ge(x)}function $e(){var p=J.buffer;u.HEAP8=ke=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAPU8=O=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAP32=D=new Int32Array(p),u.HEAPU32=X=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=new Float64Array(p)}var ht=[],Gt=[],Ne=[],ze=[],St=0,Ut=null,jt=null;function ge(p){u.onAbort&&u.onAbort(p),U(p="Aborted("+p+")"),le=!0,se=1,p+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(p);throw q(x),x}var Jt,Pn,yt=p=>p.startsWith("data:application/octet-stream;base64,"),Nt=0;function dn(p){return function(){if(le)throw"program has already aborted!";Nt+=1;try{return p.apply(null,arguments)}catch(x){if(le||Nt>1||x===1/0||"unwind"===x)throw x;ge("unhandled exception: "+[x,x.stack])}finally{Nt-=1}}}function _r(p){if(p==Jt&&M)return new Uint8Array(M);if(_e)return _e(p);throw"both async and sync fetching of the wasm failed"}function Ho(p,x,re){return function Zn(p){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>_r(p)):fetch(p,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+p+"'";return x.arrayBuffer()}).catch(()=>_r(p))}(p).then(Fe=>WebAssembly.instantiate(Fe,x)).then(Fe=>Fe).then(re,Fe=>{U(`failed to asynchronously prepare wasm: ${Fe}`),ge(Fe)})}function $r(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}yt(Jt="vfs_web.wasm")||(Jt=function T(p){return u.locateFile?u.locateFile(p,P):P+p}(Jt));var qn,Ur=p=>{for(;p.length>0;)p.shift()(u)},ro=u.noExitRuntime||!0,go=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Br=(p,x,re)=>{for(var Fe=x+re,Qe=x;p[Qe]&&!(Qe>=Fe);)++Qe;if(Qe-x>16&&p.buffer&&go)return go.decode(p.subarray(x,Qe));for(var _n="";x<Qe;){var on=p[x++];if(128&on){var Kt=63&p[x++];if(192!=(224&on)){var lr=63&p[x++];if((on=224==(240&on)?(15&on)<<12|Kt<<6|lr:(7&on)<<18|Kt<<12|lr<<6|63&p[x++])<65536)_n+=String.fromCharCode(on);else{var Fo=on-65536;_n+=String.fromCharCode(55296|Fo>>10,56320|1023&Fo)}}else _n+=String.fromCharCode((31&on)<<6|Kt)}else _n+=String.fromCharCode(on)}return _n},pe=(p,x)=>p?Br(O,p,x):"",mn=(p,x)=>x+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*x:NaN,nr=p=>p%4==0&&(p%100!=0||p%400==0),wr=[0,31,60,91,121,152,182,213,244,274,305,335],_o=[0,31,59,90,120,151,181,212,243,273,304,334],On=p=>(nr(p.getFullYear())?wr:_o)[p.getMonth()]+p.getDate()-1,Po=p=>{for(var x=0,re=0;re<p.length;++re){var Fe=p.charCodeAt(re);Fe<=127?x++:Fe<=2047?x+=2:Fe>=55296&&Fe<=57343?(x+=4,++re):x+=3}return x},xn=(p,x,re,Fe)=>{if(!(Fe>0))return 0;for(var Qe=re,_n=re+Fe-1,on=0;on<p.length;++on){var Kt=p.charCodeAt(on);if(Kt>=55296&&Kt<=57343&&(Kt=65536+((1023&Kt)<<10)|1023&p.charCodeAt(++on)),Kt<=127){if(re>=_n)break;x[re++]=Kt}else if(Kt<=2047){if(re+1>=_n)break;x[re++]=192|Kt>>6,x[re++]=128|63&Kt}else if(Kt<=65535){if(re+2>=_n)break;x[re++]=224|Kt>>12,x[re++]=128|Kt>>6&63,x[re++]=128|63&Kt}else{if(re+3>=_n)break;x[re++]=240|Kt>>18,x[re++]=128|Kt>>12&63,x[re++]=128|Kt>>6&63,x[re++]=128|63&Kt}}return x[re]=0,re-Qe},yr=p=>{var x=Po(p)+1,re=qi(x);return re&&((p,x,re)=>{xn(p,O,x,re)})(p,re,x),re},fi=p=>{var re=(p-J.buffer.byteLength+65535)/65536;try{return J.grow(re),$e(),1}catch{}},ae={},zo=()=>{if(!zo.strings){var x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var re in ae)void 0===ae[re]?delete x[re]:x[re]=ae[re];var Fe=[];for(var re in x)Fe.push(`${re}=${x[re]}`);zo.strings=Fe}return zo.strings},zi=[null,[],[]],Qs=(p,x)=>{var re=zi[p];0===x||10===x?((1===p?ie:U)(Br(re,0)),re.length=0):re.push(x)},Ii=[31,29,31,30,31,30,31,31,30,31,30,31],Wi=[31,28,31,30,31,30,31,31,30,31,30,31];function Oo(p,x,re){var Fe=re>0?re:Po(p)+1,Qe=new Array(Fe),_n=xn(p,Qe,0,Qe.length);return x&&(Qe.length=_n),Qe}var Qn,Ps=(p,x)=>{se=p,(p=>{se=p,ro||(u.onExit&&u.onExit(p),le=!0),I(p,new $r(p))})(p)},ds={a:(p,x,re,Fe)=>{ge(`Assertion failed: ${pe(p)}, at: `+[x?pe(x):"unknown filename",re,Fe?pe(Fe):"unknown function"])},n:function Sn(p,x,re){mn(x,re)},j:()=>1,k:function Do(p,x,re){var Fe=mn(p,x),Qe=new Date(1e3*Fe);D[re>>2]=Qe.getSeconds(),D[re+4>>2]=Qe.getMinutes(),D[re+8>>2]=Qe.getHours(),D[re+12>>2]=Qe.getDate(),D[re+16>>2]=Qe.getMonth(),D[re+20>>2]=Qe.getFullYear()-1900,D[re+24>>2]=Qe.getDay();var _n=0|On(Qe);D[re+28>>2]=_n,D[re+36>>2]=-60*Qe.getTimezoneOffset();var on=new Date(Qe.getFullYear(),0,1),Kt=new Date(Qe.getFullYear(),6,1).getTimezoneOffset(),lr=on.getTimezoneOffset(),Fo=0|(Kt!=lr&&Qe.getTimezoneOffset()==Math.min(lr,Kt));D[re+32>>2]=Fo},l:function(p){var x=(()=>{var re=new Date(D[p+20>>2]+1900,D[p+16>>2],D[p+12>>2],D[p+8>>2],D[p+4>>2],D[p>>2],0),Fe=D[p+32>>2],Qe=re.getTimezoneOffset(),_n=new Date(re.getFullYear(),0,1),on=new Date(re.getFullYear(),6,1).getTimezoneOffset(),Kt=_n.getTimezoneOffset(),lr=Math.min(Kt,on);if(Fe<0)D[p+32>>2]=+(on!=Kt&&lr==Qe);else if(Fe>0!=(lr==Qe)){var Fo=Math.max(Kt,on),jn=Fe>0?lr:Fo;re.setTime(re.getTime()+6e4*(jn-Qe))}D[p+24>>2]=re.getDay();var Ba=0|On(re);D[p+28>>2]=Ba,D[p>>2]=re.getSeconds(),D[p+4>>2]=re.getMinutes(),D[p+8>>2]=re.getHours(),D[p+12>>2]=re.getDate(),D[p+16>>2]=re.getMonth(),D[p+20>>2]=re.getYear();var xo=re.getTime();return isNaN(xo)?(D[Ln()>>2]=61,-1):xo/1e3})();return ho((Pn=x,+Math.abs(Pn)>=1?Pn>0?+Math.floor(Pn/4294967296)>>>0:~~+Math.ceil((Pn-+(~~Pn>>>0))/4294967296)>>>0:0)),x>>>0},e:(p,x,re)=>{var Fe=(new Date).getFullYear(),Qe=new Date(Fe,0,1),_n=new Date(Fe,6,1),on=Qe.getTimezoneOffset(),Kt=_n.getTimezoneOffset(),lr=Math.max(on,Kt);function Fo(da){var Bs=da.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Bs?Bs[1]:"GMT"}X[p>>2]=60*lr,D[x>>2]=+(on!=Kt);var jn=Fo(Qe),Ba=Fo(_n),xo=yr(jn),pt=yr(Ba);Kt<on?(X[re>>2]=xo,X[re+4>>2]=pt):(X[re>>2]=pt,X[re+4>>2]=xo)},b:()=>{ge("")},c:()=>Date.now(),f:(p,x,re)=>O.copyWithin(p,x,x+re),d:p=>{var lr,x=O.length,re=2147483648;if((p>>>=0)>re)return!1;for(var Qe=1;Qe<=4;Qe*=2){var _n=x*(1+.2/Qe);_n=Math.min(_n,p+100663296);var on=Math.min(re,(lr=Math.max(p,_n))+(65536-lr%65536)%65536);if(fi(on))return!0}return!1},p:(p,x)=>{var re=0;return zo().forEach((Fe,Qe)=>{var _n=x+re;X[p+4*Qe>>2]=_n,((p,x)=>{for(var re=0;re<p.length;++re)ke[x++>>0]=p.charCodeAt(re);ke[x>>0]=0})(Fe,_n),re+=Fe.length+1}),0},q:(p,x)=>{var re=zo();X[p>>2]=re.length;var Fe=0;return re.forEach(Qe=>Fe+=Qe.length+1),X[x>>2]=Fe,0},g:p=>52,i:(p,x,re,Fe)=>52,m:function Jr(p,x,re,Fe,Qe){return mn(x,re),70},h:(p,x,re,Fe)=>{for(var Qe=0,_n=0;_n<re;_n++){var on=X[x>>2],Kt=X[x+4>>2];x+=8;for(var lr=0;lr<Kt;lr++)Qs(p,O[on+lr]);Qe+=Kt}return X[Fe>>2]=Qe,0},o:(p,x,re,Fe,Qe)=>((p,x,re,Fe)=>{var Qe=X[Fe+40>>2],_n={tm_sec:D[Fe>>2],tm_min:D[Fe+4>>2],tm_hour:D[Fe+8>>2],tm_mday:D[Fe+12>>2],tm_mon:D[Fe+16>>2],tm_year:D[Fe+20>>2],tm_wday:D[Fe+24>>2],tm_yday:D[Fe+28>>2],tm_isdst:D[Fe+32>>2],tm_gmtoff:D[Fe+36>>2],tm_zone:Qe?pe(Qe):""},on=pe(re),Kt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var lr in Kt)on=on.replace(new RegExp(lr,"g"),Kt[lr]);var Fo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ba(mt,sn,hi){for(var ri="number"==typeof mt?mt.toString():mt||"";ri.length<sn;)ri=hi[0]+ri;return ri}function xo(mt,sn){return Ba(mt,sn,"0")}function pt(mt,sn){function hi(Gl){return Gl<0?-1:Gl>0?1:0}var ri;return 0===(ri=hi(mt.getFullYear()-sn.getFullYear()))&&0===(ri=hi(mt.getMonth()-sn.getMonth()))&&(ri=hi(mt.getDate()-sn.getDate())),ri}function da(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Bs(mt){var sn=((p,x)=>{for(var re=new Date(p.getTime());x>0;){var Fe=nr(re.getFullYear()),Qe=re.getMonth(),_n=(Fe?Ii:Wi)[Qe];if(!(x>_n-re.getDate()))return re.setDate(re.getDate()+x),re;x-=_n-re.getDate()+1,re.setDate(1),Qe<11?re.setMonth(Qe+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1))}return re})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),hi=new Date(sn.getFullYear(),0,4),ri=new Date(sn.getFullYear()+1,0,4),Gl=da(hi),Yd=da(ri);return pt(Gl,sn)<=0?pt(Yd,sn)<=0?sn.getFullYear()+1:sn.getFullYear():sn.getFullYear()-1}var jl={"%a":mt=>Fo[mt.tm_wday].substring(0,3),"%A":mt=>Fo[mt.tm_wday],"%b":mt=>jn[mt.tm_mon].substring(0,3),"%B":mt=>jn[mt.tm_mon],"%C":mt=>xo((mt.tm_year+1900)/100|0,2),"%d":mt=>xo(mt.tm_mday,2),"%e":mt=>Ba(mt.tm_mday,2," "),"%g":mt=>Bs(mt).toString().substring(2),"%G":mt=>Bs(mt),"%H":mt=>xo(mt.tm_hour,2),"%I":mt=>{var sn=mt.tm_hour;return 0==sn?sn=12:sn>12&&(sn-=12),xo(sn,2)},"%j":mt=>xo(mt.tm_mday+((p,x)=>{for(var re=0,Fe=0;Fe<=x;re+=p[Fe++]);return re})(nr(mt.tm_year+1900)?Ii:Wi,mt.tm_mon-1),3),"%m":mt=>xo(mt.tm_mon+1,2),"%M":mt=>xo(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>xo(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>xo(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var sn=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&sn++,sn){if(53==sn){var ri=(mt.tm_wday+371-mt.tm_yday)%7;4!=ri&&(3!=ri||!nr(mt.tm_year))&&(sn=1)}}else{sn=52;var hi=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==hi||5==hi&&nr(mt.tm_year%400-1))&&sn++}return xo(sn,2)},"%w":mt=>mt.tm_wday,"%W":mt=>xo(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var sn=mt.tm_gmtoff;return(sn>=0?"+":"-")+("0000"+(sn=(sn=Math.abs(sn)/60)/60*100+sn%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var lr in on=on.replace(/%%/g,"\0\0"),jl)on.includes(lr)&&(on=on.replace(new RegExp(lr,"g"),jl[lr](_n)));var Va=Oo(on=on.replace(/\0\0/g,"%"),!1);return Va.length>x?0:(((p,x)=>{ke.set(p,x)})(Va,p),Va.length-1)})(p,x,re,Fe)},nt=function wo(){var p={a:ds};function x(Fe,Qe){return nt=function nn(p){var x={};for(var re in p){var Fe=p[re];x[re]="function"==typeof Fe?dn(Fe):Fe}return x}(nt=Fe.exports),J=nt.r,$e(),qn=nt.Ua,function at(p){Gt.unshift(p)}(nt.s),function pn(){var p=qn.get,x={};qn.get=re=>{var Fe=p.call(qn,re),Qe=x[re];return(!Qe||Qe.func!==Fe)&&(Qe=x[re]={func:Fe,wrapper:dn(Fe)}),Qe.wrapper}}(),function be(p){if(St--,u.monitorRunDependencies&&u.monitorRunDependencies(St),0==St&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var x=jt;jt=null,x()}}(),nt}if(function xe(p){St++,u.monitorRunDependencies&&u.monitorRunDependencies(St)}(),u.instantiateWasm)try{return u.instantiateWasm(p,x)}catch(Fe){U(`Module.instantiateWasm callback failed with error: ${Fe}`),q(Fe)}return function So(p,x,re,Fe){return p||"function"!=typeof WebAssembly.instantiateStreaming||yt(x)||"function"!=typeof fetch?Ho(x,re,Fe):fetch(x,{credentials:"same-origin"}).then(Qe=>WebAssembly.instantiateStreaming(Qe,re).then(Fe,function(on){return U(`wasm streaming compile failed: ${on}`),U("falling back to ArrayBuffer instantiation"),Ho(x,re,Fe)}))}(M,Jt,p,function re(Fe){x(Fe.instance)}).catch(q),{}}(),qi=u._malloc=p=>(qi=u._malloc=nt.t)(p),m=(u._free=p=>(u._free=nt.u)(p),u._webidl_free=p=>(u._webidl_free=nt.v)(p),u._webidl_malloc=p=>(u._webidl_malloc=nt.w)(p),u._emscripten_bind_VoidPtr___destroy___0=p=>(m=u._emscripten_bind_VoidPtr___destroy___0=nt.x)(p)),w=u._emscripten_bind_FileEntry_GetName_0=p=>(w=u._emscripten_bind_FileEntry_GetName_0=nt.y)(p),L=u._emscripten_bind_FileEntry_IsDirectory_0=p=>(L=u._emscripten_bind_FileEntry_IsDirectory_0=nt.z)(p),ne=u._emscripten_bind_FileEntry_GetSize_0=p=>(ne=u._emscripten_bind_FileEntry_GetSize_0=nt.A)(p),Te=u._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Te=u._emscripten_bind_FileEntry_GetModifiedTS_0=nt.B)(p),ue=u._emscripten_bind_FileEntry_GetAttributes_0=p=>(ue=u._emscripten_bind_FileEntry_GetAttributes_0=nt.C)(p),Ke=u._emscripten_bind_FileEntry___destroy___0=p=>(Ke=u._emscripten_bind_FileEntry___destroy___0=nt.D)(p),qe=u._emscripten_bind_Vfs_Vfs_0=()=>(qe=u._emscripten_bind_Vfs_Vfs_0=nt.E)(),et=u._emscripten_bind_Vfs_Malloc_1=(p,x)=>(et=u._emscripten_bind_Vfs_Malloc_1=nt.F)(p,x),A=u._emscripten_bind_Vfs_Free_1=(p,x)=>(A=u._emscripten_bind_Vfs_Free_1=nt.G)(p,x),Ct=u._emscripten_bind_Vfs_Nullptr_0=p=>(Ct=u._emscripten_bind_Vfs_Nullptr_0=nt.H)(p),At=u._emscripten_bind_Vfs_AllocateImage_1=(p,x)=>(At=u._emscripten_bind_Vfs_AllocateImage_1=nt.I)(p,x),kt=u._emscripten_bind_Vfs_MountImage_1=(p,x)=>(kt=u._emscripten_bind_Vfs_MountImage_1=nt.J)(p,x),wn=u._emscripten_bind_Vfs_UnmountImage_1=(p,x)=>(wn=u._emscripten_bind_Vfs_UnmountImage_1=nt.K)(p,x),Dr=u._emscripten_bind_Vfs_SwitchSlot_1=(p,x)=>(Dr=u._emscripten_bind_Vfs_SwitchSlot_1=nt.L)(p,x),Vr=u._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(Vr=u._emscripten_bind_Vfs_GetPendingImageSize_0=nt.M)(p),zr=u._emscripten_bind_Vfs_GetSize_1=(p,x)=>(zr=u._emscripten_bind_Vfs_GetSize_1=nt.N)(p,x),Xn=u._emscripten_bind_Vfs_GetPendingImage_0=p=>(Xn=u._emscripten_bind_Vfs_GetPendingImage_0=nt.O)(p),Ki=u._emscripten_bind_Vfs_GetImage_1=(p,x)=>(Ki=u._emscripten_bind_Vfs_GetImage_1=nt.P)(p,x),Bn=u._emscripten_bind_Vfs_GetDirtyPages_1=(p,x)=>(Bn=u._emscripten_bind_Vfs_GetDirtyPages_1=nt.Q)(p,x),No=u._emscripten_bind_Vfs_RenameFile_2=(p,x,re)=>(No=u._emscripten_bind_Vfs_RenameFile_2=nt.R)(p,x,re),Io=u._emscripten_bind_Vfs_ChmodFile_3=(p,x,re,Fe)=>(Io=u._emscripten_bind_Vfs_ChmodFile_3=nt.S)(p,x,re,Fe),Xi=u._emscripten_bind_Vfs_StatFile_1=(p,x)=>(Xi=u._emscripten_bind_Vfs_StatFile_1=nt.T)(p,x),Ma=u._emscripten_bind_Vfs_UnlinkFile_1=(p,x)=>(Ma=u._emscripten_bind_Vfs_UnlinkFile_1=nt.U)(p,x),ta=u._emscripten_bind_Vfs_Mkdir_1=(p,x)=>(ta=u._emscripten_bind_Vfs_Mkdir_1=nt.V)(p,x),Os=u._emscripten_bind_Vfs_GetEntry_0=p=>(Os=u._emscripten_bind_Vfs_GetEntry_0=nt.W)(p),na=u._emscripten_bind_Vfs_BytesFree_1=(p,x)=>(na=u._emscripten_bind_Vfs_BytesFree_1=nt.X)(p,x),Qi=u._emscripten_bind_Vfs_BytesTotal_1=(p,x)=>(Qi=u._emscripten_bind_Vfs_BytesTotal_1=nt.Y)(p,x),Aa=u._emscripten_bind_Vfs_ReadFile_1=(p,x)=>(Aa=u._emscripten_bind_Vfs_ReadFile_1=nt.Z)(p,x),ra=u._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(ra=u._emscripten_bind_Vfs_GetCurrentFileSize_0=nt._)(p),oa=u._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(oa=u._emscripten_bind_Vfs_GetCurrentFileContent_0=nt.$)(p),ka=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(ka=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=nt.aa)(p),Ra=u._emscripten_bind_Vfs_WriteFile_3=(p,x,re,Fe)=>(Ra=u._emscripten_bind_Vfs_WriteFile_3=nt.ba)(p,x,re,Fe),Pa=u._emscripten_bind_Vfs___destroy___0=p=>(Pa=u._emscripten_bind_Vfs___destroy___0=nt.ca)(p),Oa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Oa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=nt.da)(p),ia=u._emscripten_bind_ReaddirContext_Next_0=p=>(ia=u._emscripten_bind_ReaddirContext_Next_0=nt.ea)(p),Na=u._emscripten_bind_ReaddirContext_GetEntry_0=p=>(Na=u._emscripten_bind_ReaddirContext_GetEntry_0=nt.fa)(p),Fa=u._emscripten_bind_ReaddirContext_GetStatus_0=p=>(Fa=u._emscripten_bind_ReaddirContext_GetStatus_0=nt.ga)(p),Er=u._emscripten_bind_ReaddirContext_GetError_0=p=>(Er=u._emscripten_bind_ReaddirContext_GetError_0=nt.ha)(p),sa=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(sa=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=nt.ia)(p),po=u._emscripten_bind_ReaddirContext___destroy___0=p=>(po=u._emscripten_bind_ReaddirContext___destroy___0=nt.ja)(p),Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,x)=>(Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=nt.ka)(p,x),aa=u._emscripten_bind_ExportZipContext_AddFile_1=(p,x)=>(aa=u._emscripten_bind_ExportZipContext_AddFile_1=nt.la)(p,x),Ns=u._emscripten_bind_ExportZipContext_AddDirectory_1=(p,x)=>(Ns=u._emscripten_bind_ExportZipContext_AddDirectory_1=nt.ma)(p,x),eo=u._emscripten_bind_ExportZipContext_Continue_0=p=>(eo=u._emscripten_bind_ExportZipContext_Continue_0=nt.na)(p),Fs=u._emscripten_bind_ExportZipContext_GetState_0=p=>(Fs=u._emscripten_bind_ExportZipContext_GetState_0=nt.oa)(p),La=u._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(La=u._emscripten_bind_ExportZipContext_GetZipContent_0=nt.pa)(p),Vn=u._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Vn=u._emscripten_bind_ExportZipContext_GetZipSize_0=nt.qa)(p),hs=u._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(hs=u._emscripten_bind_ExportZipContext_GetErrorItem_0=nt.ra)(p),Ir=u._emscripten_bind_ExportZipContext___destroy___0=p=>(Ir=u._emscripten_bind_ExportZipContext___destroy___0=nt.sa)(p),Ls=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Ls=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=nt.ta)(p),hl=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,x)=>(hl=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=nt.ua)(p,x),$a=u._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>($a=u._emscripten_bind_DeleteRecursiveContext_Continue_0=nt.va)(p),zn=u._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(zn=u._emscripten_bind_DeleteRecursiveContext_GetState_0=nt.wa)(p),Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=nt.xa)(p),ms=u._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(ms=u._emscripten_bind_DeleteRecursiveContext___destroy___0=nt.ya)(p),$s=u._emscripten_bind_UnzipContext_UnzipContext_4=(p,x,re,Fe)=>($s=u._emscripten_bind_UnzipContext_UnzipContext_4=nt.za)(p,x,re,Fe),ml=u._emscripten_bind_UnzipContext_GetState_0=p=>(ml=u._emscripten_bind_UnzipContext_GetState_0=nt.Aa)(p),la=u._emscripten_bind_UnzipContext_Continue_0=p=>(la=u._emscripten_bind_UnzipContext_Continue_0=nt.Ba)(p),Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=nt.Ca)(p),Ji=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(Ji=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=nt.Da)(p),gs=u._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(gs=u._emscripten_bind_UnzipContext_GetCollisionPath_0=nt.Ea)(p),es=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(es=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=nt.Fa)(p),ca=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(ca=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=nt.Ga)(p),ua=u._emscripten_bind_UnzipContext___destroy___0=p=>(ua=u._emscripten_bind_UnzipContext___destroy___0=nt.Ha)(p),ni=u._emscripten_bind_PasteContext_PasteContext_3=(p,x,re)=>(ni=u._emscripten_bind_PasteContext_PasteContext_3=nt.Ia)(p,x,re),br=u._emscripten_bind_PasteContext_AddFile_1=(p,x)=>(br=u._emscripten_bind_PasteContext_AddFile_1=nt.Ja)(p,x),Wo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,x)=>(Wo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=nt.Ka)(p,x),Bt=u._emscripten_bind_PasteContext_GetState_0=p=>(Bt=u._emscripten_bind_PasteContext_GetState_0=nt.La)(p),Fn=u._emscripten_bind_PasteContext_Continue_0=p=>(Fn=u._emscripten_bind_PasteContext_Continue_0=nt.Ma)(p),Bl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(Bl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=nt.Na)(p),gl=u._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(gl=u._emscripten_bind_PasteContext_GetCurrentEntry_0=nt.Oa)(p),_l=u._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(_l=u._emscripten_bind_PasteContext_GetCollisionPath_0=nt.Pa)(p),Vl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(Vl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=nt.Qa)(p),Yn=u._emscripten_bind_PasteContext___destroy___0=p=>(Yn=u._emscripten_bind_PasteContext___destroy___0=nt.Ra)(p),_s=u._main=(p,x)=>(_s=u._main=nt.Sa)(p,x),Ln=()=>(Ln=nt.Ta)(),ho=p=>(ho=nt.Va)(p);function xr(){function p(){Qn||(Qn=!0,u.calledRun=!0,!le&&(function st(){Ur(Gt)}(),function $t(){Ur(Ne)}(),W(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),v&&function kr(){var p=_s;try{Nt+=1;var Fe=p(0,0);return Ps(Fe),Fe}catch(Qe){return(p=>{if(p instanceof $r||"unwind"==p)return se;I(1,p)})(Qe)}finally{Nt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),ze.unshift(p);var p;Ur(ze)}()))}St>0||(function Ve(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),ht.unshift(p);var p;Ur(ht)}(),St>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),p()},1)):p())}if(u.___original_main=()=>(u.___original_main=nt.Wa)(),jt=function p(){Qn||xr(),Qn||(jt=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var v=!0;function j(){}function oe(p){return(p||j).__cache__}function Oe(p,x){var re=oe(x),Fe=re[p];return Fe||((Fe=Object.create((x||j).prototype)).ptr=p,re[p]=Fe)}u.noInitialRun&&(v=!1),xr(),(j.prototype=Object.create(j.prototype)).constructor=j,j.prototype.__class__=j,j.__cache__={},u.WrapperObject=j,u.getCache=oe,u.wrapPointer=Oe,u.castObject=function bt(p,x){return Oe(p.ptr,x)},u.NULL=Oe(0),u.destroy=function qt(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete oe(p.__class__)[p.ptr]},u.compare=function ot(p,x){return p.ptr===x.ptr},u.getPointer=function hn(p){return p.ptr},u.getClass=function ir(p){return p.__class__};var zt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(zt.needed){for(var p=0;p<zt.temps.length;p++)u._webidl_free(zt.temps[p]);zt.temps.length=0,u._webidl_free(zt.buffer),zt.buffer=0,zt.size+=zt.needed,zt.needed=0}zt.buffer||(zt.size+=128,zt.buffer=u._webidl_malloc(zt.size),Ee(zt.buffer)),zt.pos=0},alloc(p,x){Ee(zt.buffer);var Qe,Fe=p.length*x.BYTES_PER_ELEMENT;return zt.pos+(Fe=Fe+7&-8)>=zt.size?(Ee(Fe>0),zt.needed+=Fe,Qe=u._webidl_malloc(Fe),zt.temps.push(Qe)):(Qe=zt.buffer+zt.pos,zt.pos+=Fe),Qe},copy(p,x,re){switch(re>>>=0,x.BYTES_PER_ELEMENT){case 2:re>>>=1;break;case 4:re>>>=2;break;case 8:re>>>=3}for(var Qe=0;Qe<p.length;Qe++)x[re+Qe]=p[Qe]}};function Rr(p){if("string"==typeof p){var x=Oo(p),re=zt.alloc(x,ke);return zt.copy(x,ke,re),re}return p}function Le(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Dn(){throw"cannot construct a FileEntry, no constructor in IDL"}function ct(){this.ptr=qe(),oe(ct)[this.ptr]=this}function sr(p){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),this.ptr=Oa(p),oe(sr)[this.ptr]=this}function Wn(p,x){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x&&"object"==typeof x&&(x=x.ptr),this.ptr=Ht(p,x),oe(Wn)[this.ptr]=this}function Pr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Ls(p),oe(Pr)[this.ptr]=this}function ar(p,x,re,Fe){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Rr(x),re&&"object"==typeof re&&(re=re.ptr),Fe&&"object"==typeof Fe&&(Fe=Fe.ptr),this.ptr=$s(p,x,re,Fe),oe(ar)[this.ptr]=this}function We(p,x,re){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Rr(x),re=re&&"object"==typeof re?re.ptr:Rr(re),this.ptr=ni(p,x,re),oe(We)[this.ptr]=this}return(Le.prototype=Object.create(j.prototype)).constructor=Le,Le.prototype.__class__=Le,Le.__cache__={},u.VoidPtr=Le,Le.prototype.__destroy__=Le.prototype.__destroy__=function(){m(this.ptr)},(Dn.prototype=Object.create(j.prototype)).constructor=Dn,Dn.prototype.__class__=Dn,Dn.__cache__={},u.FileEntry=Dn,Dn.prototype.GetName=Dn.prototype.GetName=function(){return pe(w(this.ptr))},Dn.prototype.IsDirectory=Dn.prototype.IsDirectory=function(){return!!L(this.ptr)},Dn.prototype.GetSize=Dn.prototype.GetSize=function(){return ne(this.ptr)},Dn.prototype.GetModifiedTS=Dn.prototype.GetModifiedTS=function(){return Te(this.ptr)},Dn.prototype.GetAttributes=Dn.prototype.GetAttributes=function(){return ue(this.ptr)},Dn.prototype.__destroy__=Dn.prototype.__destroy__=function(){Ke(this.ptr)},(ct.prototype=Object.create(j.prototype)).constructor=ct,ct.prototype.__class__=ct,ct.__cache__={},u.Vfs=ct,ct.prototype.Malloc=ct.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(et(this.ptr,p),Le)},ct.prototype.Free=ct.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),A(this.ptr,p)},ct.prototype.Nullptr=ct.prototype.Nullptr=function(){return Oe(Ct(this.ptr),Le)},ct.prototype.AllocateImage=ct.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),At(this.ptr,p)},ct.prototype.MountImage=ct.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!kt(this.ptr,p)},ct.prototype.UnmountImage=ct.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),wn(this.ptr,p)},ct.prototype.SwitchSlot=ct.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Dr(this.ptr,p)},ct.prototype.GetPendingImageSize=ct.prototype.GetPendingImageSize=function(){return Vr(this.ptr)},ct.prototype.GetSize=ct.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),zr(this.ptr,p)},ct.prototype.GetPendingImage=ct.prototype.GetPendingImage=function(){return Oe(Xn(this.ptr),Le)},ct.prototype.GetImage=ct.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Ki(this.ptr,p),Le)},ct.prototype.GetDirtyPages=ct.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Bn(this.ptr,p),Le)},ct.prototype.RenameFile=ct.prototype.RenameFile=function(p,x){var re=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x=x&&"object"==typeof x?x.ptr:Rr(x),No(re,p,x)},ct.prototype.ChmodFile=ct.prototype.ChmodFile=function(p,x,re){var Fe=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x&&"object"==typeof x&&(x=x.ptr),re&&"object"==typeof re&&(re=re.ptr),Io(Fe,p,x,re)},ct.prototype.StatFile=ct.prototype.StatFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Xi(x,p)},ct.prototype.UnlinkFile=ct.prototype.UnlinkFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Ma(x,p)},ct.prototype.Mkdir=ct.prototype.Mkdir=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),ta(x,p)},ct.prototype.GetEntry=ct.prototype.GetEntry=function(){return Oe(Os(this.ptr),Dn)},ct.prototype.BytesFree=ct.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),na(this.ptr,p)},ct.prototype.BytesTotal=ct.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),Qi(this.ptr,p)},ct.prototype.ReadFile=ct.prototype.ReadFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),!!Aa(x,p)},ct.prototype.GetCurrentFileSize=ct.prototype.GetCurrentFileSize=function(){return ra(this.ptr)},ct.prototype.GetCurrentFileContent=ct.prototype.GetCurrentFileContent=function(){return Oe(oa(this.ptr),Le)},ct.prototype.ReleaseCurrentFile=ct.prototype.ReleaseCurrentFile=function(){ka(this.ptr)},ct.prototype.WriteFile=ct.prototype.WriteFile=function(p,x,re){var Fe=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x&&"object"==typeof x&&(x=x.ptr),re&&"object"==typeof re&&(re=re.ptr),Ra(Fe,p,x,re)},ct.prototype.__destroy__=ct.prototype.__destroy__=function(){Pa(this.ptr)},(sr.prototype=Object.create(j.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},u.ReaddirContext=sr,sr.prototype.Next=sr.prototype.Next=function(){return ia(this.ptr)},sr.prototype.GetEntry=sr.prototype.GetEntry=function(){return Oe(Na(this.ptr),Dn)},sr.prototype.GetStatus=sr.prototype.GetStatus=function(){return Fa(this.ptr)},sr.prototype.GetError=sr.prototype.GetError=function(){return Er(this.ptr)},sr.prototype.GetErrorDescription=sr.prototype.GetErrorDescription=function(){return pe(sa(this.ptr))},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){po(this.ptr)},(Wn.prototype=Object.create(j.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},u.ExportZipContext=Wn,Wn.prototype.AddFile=Wn.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Oe(aa(x,p),Wn)},Wn.prototype.AddDirectory=Wn.prototype.AddDirectory=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Oe(Ns(x,p),Wn)},Wn.prototype.Continue=Wn.prototype.Continue=function(){return eo(this.ptr)},Wn.prototype.GetState=Wn.prototype.GetState=function(){return Fs(this.ptr)},Wn.prototype.GetZipContent=Wn.prototype.GetZipContent=function(){return Oe(La(this.ptr),Le)},Wn.prototype.GetZipSize=Wn.prototype.GetZipSize=function(){return Vn(this.ptr)},Wn.prototype.GetErrorItem=Wn.prototype.GetErrorItem=function(){return pe(hs(this.ptr))},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){Ir(this.ptr)},(Pr.prototype=Object.create(j.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},u.DeleteRecursiveContext=Pr,Pr.prototype.AddFile=Pr.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Oe(hl(x,p),Pr)},Pr.prototype.Continue=Pr.prototype.Continue=function(){return $a(this.ptr)},Pr.prototype.GetState=Pr.prototype.GetState=function(){return zn(this.ptr)},Pr.prototype.GetFailingPath=Pr.prototype.GetFailingPath=function(){return pe(Yt(this.ptr))},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){ms(this.ptr)},(ar.prototype=Object.create(j.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},u.UnzipContext=ar,ar.prototype.GetState=ar.prototype.GetState=function(){return ml(this.ptr)},ar.prototype.Continue=ar.prototype.Continue=function(){return la(this.ptr)},ar.prototype.ContinueWithOverwrite=ar.prototype.ContinueWithOverwrite=function(){return Xe(this.ptr)},ar.prototype.GetCurrentEntry=ar.prototype.GetCurrentEntry=function(){return pe(Ji(this.ptr))},ar.prototype.GetCollisionPath=ar.prototype.GetCollisionPath=function(){return pe(gs(this.ptr))},ar.prototype.GetEntriesTotal=ar.prototype.GetEntriesTotal=function(){return es(this.ptr)},ar.prototype.GetEntriesSuccess=ar.prototype.GetEntriesSuccess=function(){return ca(this.ptr)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){ua(this.ptr)},(We.prototype=Object.create(j.prototype)).constructor=We,We.prototype.__class__=We,We.__cache__={},u.PasteContext=We,We.prototype.AddFile=We.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Oe(br(x,p),We)},We.prototype.SetDeleteAfterCopy=We.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Wo(this.ptr,p),We)},We.prototype.GetState=We.prototype.GetState=function(){return Bt(this.ptr)},We.prototype.Continue=We.prototype.Continue=function(){return Fn(this.ptr)},We.prototype.ContinueWithOverwrite=We.prototype.ContinueWithOverwrite=function(){return Bl(this.ptr)},We.prototype.GetCurrentEntry=We.prototype.GetCurrentEntry=function(){return pe(gl(this.ptr))},We.prototype.GetCollisionPath=We.prototype.GetCollisionPath=function(){return pe(_l(this.ptr))},We.prototype.GetEntriesSuccess=We.prototype.GetEntriesSuccess=function(){return Vl(this.ptr)},We.prototype.__destroy__=We.prototype.__destroy__=function(){Yn(this.ptr)},S.ready});me.exports=Ce},276:(me,Ce,C)=>{"use strict";C.d(Ce,{c:()=>W,r:()=>k});const W=(O,N)=>{O.componentOnReady?O.componentOnReady().then(te=>N(te)):k(()=>N(O))},k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O)},7687:(me,Ce,C)=>{"use strict";C.d(Ce,{L:()=>S,a:()=>u,b:()=>W,c:()=>q,d:()=>V,g:()=>O});const S="ionViewWillEnter",u="ionViewDidEnter",W="ionViewWillLeave",q="ionViewDidLeave",V="ionViewWillUnload",O=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(me,Ce,C)=>{"use strict";C.d(Ce,{c:()=>_e});var S=C(6940),u=C(4675);let W;const V=ie=>ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R=ie=>(void 0===W&&(W=void 0===ie.style.animationName&&void 0!==ie.style.webkitAnimationName?"-webkit-":""),W),E=(ie,U,M)=>{const J=U.startsWith("animation")?R(ie):"";ie.style.setProperty(J+U,M)},I=(ie,U)=>{const M=U.startsWith("animation")?R(ie):"";ie.style.removeProperty(M+U)},k=[],de=(ie=[],U)=>{if(void 0!==U){const M=Array.isArray(U)?U:[U];return[...ie,...M]}return ie},_e=ie=>{let U,M,J,le,se,Ee,D,ze,Re,Ve,st,at,Ze,ke=[],O=[],N=[],te=!1,X={},z=[],he=[],$e={},ht=0,Gt=!1,Ne=!1,$t=!0,fe=!1,Ue=!0,St=!1;const Ut=ie,jt=[],xe=[],be=[],ge=[],Je=[],yt=[],Nt=[],dn=[],nn=[],pn=[],Jt=[],_r="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,Zn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_r,So=()=>Jt,ro=(m,w)=>{const L=w.findIndex(ne=>ne.c===m);L>-1&&w.splice(L,1)},go=(m,w)=>((w?.oneTimeCallback?xe:jt).push({c:m,o:w}),Ze),pe=()=>{if(Zn)Jt.forEach(m=>{m.cancel()}),Jt.length=0;else{const m=ge.slice();(0,u.r)(()=>{m.forEach(w=>{I(w,"animation-name"),I(w,"animation-duration"),I(w,"animation-timing-function"),I(w,"animation-iteration-count"),I(w,"animation-delay"),I(w,"animation-play-state"),I(w,"animation-fill-mode"),I(w,"animation-direction")})})}},ye=()=>{yt.forEach(m=>{m?.parentNode&&m.parentNode.removeChild(m)}),yt.length=0},Po=()=>void 0!==se?se:D?D.getFill():"both",xn=()=>void 0!==Re?Re:void 0!==Ee?Ee:D?D.getDirection():"normal",vr=()=>Gt?"linear":void 0!==J?J:D?D.getEasing():"linear",yr=()=>Ne?0:void 0!==Ve?Ve:void 0!==M?M:D?D.getDuration():0,Tn=()=>void 0!==le?le:D?D.getIterations():1,Nn=()=>void 0!==st?st:void 0!==U?U:D?D.getDelay():0,Jr=()=>{0!==ht&&(ht--,0===ht&&((()=>{Zi(),nn.forEach(Te=>Te()),pn.forEach(Te=>Te());const m=$t?1:0,w=z,L=he,ne=$e;ge.forEach(Te=>{const ue=Te.classList;w.forEach(Ke=>ue.add(Ke)),L.forEach(Ke=>ue.remove(Ke));for(const Ke in ne)ne.hasOwnProperty(Ke)&&E(Te,Ke,ne[Ke])}),Ve=void 0,Re=void 0,st=void 0,jt.forEach(Te=>Te.c(m,Ze)),xe.forEach(Te=>Te.c(m,Ze)),xe.length=0,Ue=!0,$t&&(fe=!0),$t=!0})(),D&&D.animationFinish()))},zi=(m=!0)=>{ye();const w=(ie=>(ie.forEach(U=>{for(const M in U)if(U.hasOwnProperty(M)){const J=U[M];if("easing"===M)U["animation-timing-function"]=J,delete U[M];else{const le=V(M);le!==M&&(U[le]=J,delete U[M])}}}),ie))(ke);ge.forEach(L=>{if(w.length>0){const ne=((ie=[])=>ie.map(U=>{const M=U.offset,J=[];for(const le in U)U.hasOwnProperty(le)&&"offset"!==le&&J.push(`${le}: ${U[le]};`);return`${100*M}% { ${J.join(" ")} }`}).join(" "))(w);at=void 0!==ie?ie:(ie=>{let U=k.indexOf(ie);return U<0&&(U=k.push(ie)-1),`ion-animation-${U}`})(ne);const Te=((ie,U,M)=>{var J;const le=(ie=>{const U=void 0!==ie.getRootNode?ie.getRootNode():ie;return U.head||U})(M),se=R(M),Ee=le.querySelector("#"+ie);if(Ee)return Ee;const ke=(null!==(J=M.ownerDocument)&&void 0!==J?J:document).createElement("style");return ke.id=ie,ke.textContent=`@${se}keyframes ${ie} { ${U} } @${se}keyframes ${ie}-alt { ${U} }`,le.appendChild(ke),ke})(at,ne,L);yt.push(Te),E(L,"animation-duration",`${yr()}ms`),E(L,"animation-timing-function",vr()),E(L,"animation-delay",`${Nn()}ms`),E(L,"animation-fill-mode",Po()),E(L,"animation-direction",xn());const ue=Tn()===1/0?"infinite":Tn().toString();E(L,"animation-iteration-count",ue),E(L,"animation-play-state","paused"),m&&E(L,"animation-name",`${Te.id}-alt`),(0,u.r)(()=>{E(L,"animation-name",Te.id||null)})}})},Ei=(m=!0)=>{(()=>{Nt.forEach(ne=>ne()),dn.forEach(ne=>ne());const m=O,w=N,L=X;ge.forEach(ne=>{const Te=ne.classList;m.forEach(ue=>Te.add(ue)),w.forEach(ue=>Te.remove(ue));for(const ue in L)L.hasOwnProperty(ue)&&E(ne,ue,L[ue])})})(),ke.length>0&&(Zn?(ge.forEach(m=>{const w=m.animate(ke,{id:Ut,delay:Nn(),duration:yr(),easing:vr(),iterations:Tn(),fill:Po(),direction:xn()});w.pause(),Jt.push(w)}),Jt.length>0&&(Jt[0].onfinish=()=>{Jr()})):zi(m)),te=!0},vo=m=>{if(m=Math.min(Math.max(m,0),.9999),Zn)Jt.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+yr()*m,w.pause()});else{const w=`-${yr()*m}ms`;ge.forEach(L=>{ke.length>0&&(E(L,"animation-delay",w),E(L,"animation-play-state","paused"))})}},Ii=m=>{Jt.forEach(w=>{w.effect.updateTiming({delay:Nn(),duration:yr(),easing:vr(),iterations:Tn(),fill:Po(),direction:xn()})}),void 0!==m&&vo(m)},Wi=(m=!0,w)=>{(0,u.r)(()=>{ge.forEach(L=>{E(L,"animation-name",at||null),E(L,"animation-duration",`${yr()}ms`),E(L,"animation-timing-function",vr()),E(L,"animation-delay",void 0!==w?`-${w*yr()}ms`:`${Nn()}ms`),E(L,"animation-fill-mode",Po()||null),E(L,"animation-direction",xn()||null);const ne=Tn()===1/0?"infinite":Tn().toString();E(L,"animation-iteration-count",ne),m&&E(L,"animation-name",`${at}-alt`),(0,u.r)(()=>{E(L,"animation-name",at||null)})})})},Hr=(m=!1,w=!0,L)=>(m&&Je.forEach(ne=>{ne.update(m,w,L)}),Zn?Ii(L):Wi(w,L),Ze),Mn=()=>{te&&(Zn?Jt.forEach(m=>{m.pause()}):ge.forEach(m=>{E(m,"animation-play-state","paused")}),St=!0)},ea=()=>{ze=void 0,Jr()},Zi=()=>{ze&&clearTimeout(ze)},fs=m=>new Promise(w=>{m?.sync&&(Ne=!0,go(()=>Ne=!1,{oneTimeCallback:!0})),te||Ei(),fe&&(Zn?(vo(0),Ii()):Wi(),fe=!1),Ue&&(ht=Je.length+1,Ue=!1);const L=()=>{ro(ne,xe),w()},ne=()=>{ro(L,be),w()};go(ne,{oneTimeCallback:!0}),((m,w)=>{be.push({c:m,o:{oneTimeCallback:!0}})})(L),Je.forEach(Te=>{Te.play()}),Zn?(Jt.forEach(m=>{m.play()}),(0===ke.length||0===ge.length)&&Jr()):(()=>{if(Zi(),(0,u.r)(()=>{ge.forEach(m=>{ke.length>0&&E(m,"animation-play-state","running")})}),0===ke.length||0===ge.length)Jr();else{const m=Nn()||0,w=yr()||0,L=Tn()||1;isFinite(L)&&(ze=setTimeout(ea,m+w*L+100)),((ie,U)=>{let M;const J={passive:!0},se=Ee=>{ie===Ee.target&&(M&&M(),Zi(),(0,u.r)(()=>{ge.forEach(m=>{I(m,"animation-duration"),I(m,"animation-delay"),I(m,"animation-play-state")}),(0,u.r)(Jr)}))};ie&&(ie.addEventListener("webkitAnimationEnd",se,J),ie.addEventListener("animationend",se,J),M=()=>{ie.removeEventListener("webkitAnimationEnd",se,J),ie.removeEventListener("animationend",se,J)})})(ge[0])}})(),St=!1}),Yi=(m,w)=>{const L=ke[0];return void 0===L||void 0!==L.offset&&0!==L.offset?ke=[{offset:0,[m]:w},...ke]:L[m]=w,Ze};return Ze={parentAnimation:D,elements:ge,childAnimations:Je,id:Ut,animationFinish:Jr,from:Yi,to:(m,w)=>{const L=ke[ke.length-1];return void 0===L||void 0!==L.offset&&1!==L.offset?ke=[...ke,{offset:1,[m]:w}]:L[m]=w,Ze},fromTo:(m,w,L)=>Yi(m,w).to(m,L),parent:m=>(D=m,Ze),play:fs,pause:()=>(Je.forEach(m=>{m.pause()}),Mn(),Ze),stop:()=>{Je.forEach(m=>{m.stop()}),te&&(pe(),te=!1),Gt=!1,Ne=!1,Ue=!0,Re=void 0,Ve=void 0,st=void 0,ht=0,fe=!1,$t=!0,St=!1,be.forEach(m=>m.c(0,Ze)),be.length=0},destroy:m=>(Je.forEach(w=>{w.destroy(m)}),(m=>{pe(),m&&ye()})(m),ge.length=0,Je.length=0,ke.length=0,jt.length=0,xe.length=0,te=!1,Ue=!0,Ze),keyframes:m=>{const w=ke!==m;return ke=m,w&&(m=>{Zn?So().forEach(w=>{const L=w.effect;if(L.setKeyframes)L.setKeyframes(m);else{const ne=new KeyframeEffect(L.target,m,L.getTiming());w.effect=ne}}):zi()})(ke),Ze},addAnimation:m=>{if(null!=m)if(Array.isArray(m))for(const w of m)w.parent(Ze),Je.push(w);else m.parent(Ze),Je.push(m);return Ze},addElement:m=>{if(null!=m)if(1===m.nodeType)ge.push(m);else if(m.length>=0)for(let w=0;w<m.length;w++)ge.push(m[w]);else console.error("Invalid addElement value");return Ze},update:Hr,fill:m=>(se=m,Hr(!0),Ze),direction:m=>(Ee=m,Hr(!0),Ze),iterations:m=>(le=m,Hr(!0),Ze),duration:m=>(!Zn&&0===m&&(m=1),M=m,Hr(!0),Ze),easing:m=>(J=m,Hr(!0),Ze),delay:m=>(U=m,Hr(!0),Ze),getWebAnimations:So,getKeyframes:()=>ke,getFill:Po,getDirection:xn,getDelay:Nn,getIterations:Tn,getEasing:vr,getDuration:yr,afterAddRead:m=>(nn.push(m),Ze),afterAddWrite:m=>(pn.push(m),Ze),afterClearStyles:(m=[])=>{for(const w of m)$e[w]="";return Ze},afterStyles:(m={})=>($e=m,Ze),afterRemoveClass:m=>(he=de(he,m),Ze),afterAddClass:m=>(z=de(z,m),Ze),beforeAddRead:m=>(Nt.push(m),Ze),beforeAddWrite:m=>(dn.push(m),Ze),beforeClearStyles:(m=[])=>{for(const w of m)X[w]="";return Ze},beforeStyles:(m={})=>(X=m,Ze),beforeRemoveClass:m=>(N=de(N,m),Ze),beforeAddClass:m=>(O=de(O,m),Ze),onFinish:go,isRunning:()=>0!==ht&&!St,progressStart:(m=!1,w)=>(Je.forEach(L=>{L.progressStart(m,w)}),Mn(),Gt=m,te||Ei(),Hr(!1,!0,w),Ze),progressStep:m=>(Je.forEach(w=>{w.progressStep(m)}),vo(m),Ze),progressEnd:(m,w,L)=>(Gt=!1,Je.forEach(ne=>{ne.progressEnd(m,w,L)}),void 0!==L&&(Ve=L),fe=!1,$t=!0,0===m?(Re="reverse"===xn()?"normal":"reverse","reverse"===Re&&($t=!1),Zn?(Hr(),vo(1-w)):(st=(1-w)*yr()*-1,Hr(!1,!1))):1===m&&(Zn?(Hr(),vo(w)):(st=w*yr()*-1,Hr(!1,!1))),void 0!==m&&!D&&fs(),Ze)}}},2984:(me,Ce,C)=>{"use strict";C.d(Ce,{E:()=>F,I:()=>E,a:()=>S,s:()=>I});const S=k=>{try{if(k instanceof E)return k.value;if(!q()||"string"!=typeof k||""===k)return k;if(k.includes("onload="))return"";const P=document.createDocumentFragment(),T=document.createElement("div");P.appendChild(T),T.innerHTML=k,R.forEach(ie=>{const U=P.querySelectorAll(ie);for(let M=U.length-1;M>=0;M--){const J=U[M];J.parentNode?J.parentNode.removeChild(J):P.removeChild(J);const le=W(J);for(let se=0;se<le.length;se++)u(le[se])}});const $=W(P);for(let ie=0;ie<$.length;ie++)u($[ie]);const de=document.createElement("div");de.appendChild(P);const _e=de.querySelector("div");return null!==_e?_e.innerHTML:de.innerHTML}catch(P){return console.error(P),""}},u=k=>{if(k.nodeType&&1!==k.nodeType)return;if(typeof NamedNodeMap<"u"&&!(k.attributes instanceof NamedNodeMap))return void k.remove();for(let T=k.attributes.length-1;T>=0;T--){const $=k.attributes.item(T),de=$.name;if(!V.includes(de.toLowerCase())){k.removeAttribute(de);continue}const _e=$.value,ie=k[de];(null!=_e&&_e.toLowerCase().includes("javascript:")||null!=ie&&ie.toLowerCase().includes("javascript:"))&&k.removeAttribute(de)}const P=W(k);for(let T=0;T<P.length;T++)u(P[T])},W=k=>null!=k.children?k.children:k.childNodes,q=()=>{var k;const P=window,T=null===(k=P?.Ionic)||void 0===k?void 0:k.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},V=["class","id","href","src","name","slot"],R=["script","style","iframe","meta","link","object","embed"];class E{constructor(P){this.value=P}}const I=k=>{const P=window,T=P.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return P.Ionic=P.Ionic||{},P.Ionic.config=Object.assign(Object.assign({},P.Ionic.config),k),P.Ionic.config},F=!1},8573:(me,Ce,C)=>{"use strict";C.d(Ce,{C:()=>V,a:()=>W,d:()=>q});var S=C(3918),u=C(4675);const W=function(){var R=(0,S.Z)(function*(E,I,K,F,k,P){var T;if(E)return E.attachViewToDom(I,K,k,F);if(!(P||"string"==typeof K||K instanceof HTMLElement))throw new Error("framework delegate is missing");const $="string"==typeof K?null===(T=I.ownerDocument)||void 0===T?void 0:T.createElement(K):K;return F&&F.forEach(de=>$.classList.add(de)),k&&Object.assign($,k),I.appendChild($),yield new Promise(de=>(0,u.c)($,de)),$});return function(I,K,F,k,P,T){return R.apply(this,arguments)}}(),q=(R,E)=>{if(E){if(R)return R.removeViewFromDom(E.parentElement,E);E.remove()}return Promise.resolve()},V=()=>{let R,E;return{attachViewToDom:function(){var F=(0,S.Z)(function*(k,P,T={},$=[]){var de,_e;let ie;if(R=k,P){const M="string"==typeof P?null===(de=R.ownerDocument)||void 0===de?void 0:de.createElement(P):P;$.forEach(J=>M.classList.add(J)),Object.assign(M,T),R.appendChild(M),ie=M,yield new Promise(J=>(0,u.c)(M,J))}else if(R.children.length>0&&("ION-MODAL"===R.tagName||"ION-POPOVER"===R.tagName)&&!(ie=R.children[0]).classList.contains("ion-delegate-host")){const J=null===(_e=R.ownerDocument)||void 0===_e?void 0:_e.createElement("div");J.classList.add("ion-delegate-host"),$.forEach(le=>J.classList.add(le)),J.append(...R.children),R.appendChild(J),ie=J}const U=document.querySelector("ion-app")||document.body;return E=document.createComment("ionic teleport"),R.parentNode.insertBefore(E,R),U.appendChild(R),ie??R});return function(P,T){return F.apply(this,arguments)}}(),removeViewFromDom:()=>(R&&E&&(E.parentNode.insertBefore(R,E),E.remove()),Promise.resolve())}}},4967:(me,Ce,C)=>{"use strict";C.d(Ce,{G:()=>V});class u{constructor(E,I,K,F,k){this.id=I,this.name=K,this.disableScroll=k,this.priority=1e6*F+I,this.ctrl=E}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const E=this.ctrl.capture(this.name,this.id,this.priority);return E&&this.disableScroll&&this.ctrl.disableScroll(this.id),E}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(E,I,K,F){this.id=I,this.disable=K,this.disableScroll=F,this.ctrl=E}block(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.disableGesture(E,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.enableGesture(E,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const q="backdrop-no-scroll",V=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(E){var I;return new u(this,this.newID(),E.name,null!==(I=E.priority)&&void 0!==I?I:0,!!E.disableScroll)}createBlocker(E={}){return new W(this,this.newID(),E.disable,!!E.disableScroll)}start(E,I,K){return this.canStart(E)?(this.requestedStart.set(I,K),!0):(this.requestedStart.delete(I),!1)}capture(E,I,K){if(!this.start(E,I,K))return!1;const F=this.requestedStart;let k=-1e4;if(F.forEach(P=>{k=Math.max(k,P)}),k===K){this.capturedId=I,F.clear();const P=new CustomEvent("ionGestureCaptured",{detail:{gestureName:E}});return document.dispatchEvent(P),!0}return F.delete(I),!1}release(E){this.requestedStart.delete(E),this.capturedId===E&&(this.capturedId=void 0)}disableGesture(E,I){let K=this.disabledGestures.get(E);void 0===K&&(K=new Set,this.disabledGestures.set(E,K)),K.add(I)}enableGesture(E,I){const K=this.disabledGestures.get(E);void 0!==K&&K.delete(I)}disableScroll(E){this.disabledScroll.add(E),1===this.disabledScroll.size&&document.body.classList.add(q)}enableScroll(E){this.disabledScroll.delete(E),0===this.disabledScroll.size&&document.body.classList.remove(q)}canStart(E){return!(void 0!==this.capturedId||this.isDisabled(E))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(E){const I=this.disabledGestures.get(E);return!!(I&&I.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(me,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{MENU_BACK_BUTTON_PRIORITY:()=>V,OVERLAY_BACK_BUTTON_PRIORITY:()=>q,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>W});var S=C(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const R=document;let E=!1;R.addEventListener("backbutton",()=>{if(E)return;let I=0,K=[];const F=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(T,$){K.push({priority:T,handler:$,id:I++})}}});R.dispatchEvent(F);const k=function(){var T=(0,S.Z)(function*($){try{if($?.handler){const de=$.handler(P);null!=de&&(yield de)}}catch(de){console.error(de)}});return function(de){return T.apply(this,arguments)}}(),P=()=>{if(K.length>0){let T={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};K.forEach($=>{$.priority>=T.priority&&(T=$)}),E=!0,K=K.filter($=>$.id!==T.id),k(T).then(()=>E=!1)}};P()})},q=100,V=99},4675:(me,Ce,C)=>{"use strict";C.d(Ce,{a:()=>I,b:()=>K,c:()=>W,d:()=>_e,e:()=>de,f:()=>$,g:()=>F,h:()=>T,i:()=>E,j:()=>se,k:()=>V,l:()=>ie,m:()=>q,n:()=>P,o:()=>U,p:()=>le,q:()=>Ee,r:()=>k,s:()=>ke,t:()=>S,u:()=>M,v:()=>J});const S=(O,N=0)=>new Promise(te=>{u(O,N,te)}),u=(O,N=0,te)=>{let D,X;const z={passive:!0},$e=()=>{D&&D()},ht=Gt=>{(void 0===Gt||O===Gt.target)&&($e(),te(Gt))};return O&&(O.addEventListener("webkitTransitionEnd",ht,z),O.addEventListener("transitionend",ht,z),X=setTimeout(ht,N+500),D=()=>{X&&(clearTimeout(X),X=void 0),O.removeEventListener("webkitTransitionEnd",ht,z),O.removeEventListener("transitionend",ht,z)}),$e},W=(O,N)=>{O.componentOnReady?O.componentOnReady().then(te=>N(te)):k(()=>N(O))},q=O=>void 0!==O.componentOnReady,V=(O,N=[])=>{const te={};return N.forEach(D=>{O.hasAttribute(D)&&(null!==O.getAttribute(D)&&(te[D]=O.getAttribute(D)),O.removeAttribute(D))}),te},R=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],E=(O,N)=>{let te=R;return N&&N.length>0&&(te=te.filter(D=>!N.includes(D))),V(O,te)},I=(O,N,te,D)=>{var X;if(typeof window<"u"){const z=window,he=null===(X=z?.Ionic)||void 0===X?void 0:X.config;if(he){const $e=he.get("_ael");if($e)return $e(O,N,te,D);if(he._ael)return he._ael(O,N,te,D)}}return O.addEventListener(N,te,D)},K=(O,N,te,D)=>{var X;if(typeof window<"u"){const z=window,he=null===(X=z?.Ionic)||void 0===X?void 0:X.config;if(he){const $e=he.get("_rel");if($e)return $e(O,N,te,D);if(he._rel)return he._rel(O,N,te,D)}}return O.removeEventListener(N,te,D)},F=(O,N=O)=>O.shadowRoot||N,k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O),P=O=>!!O.shadowRoot&&!!O.attachShadow,T=O=>{const N=O.closest("ion-item");return N?N.querySelector("ion-label"):null},$=O=>{if(O.focus(),O.classList.contains("ion-focusable")){const N=O.closest("ion-app");N&&N.setFocus([O])}},de=(O,N)=>{let te;const D=O.getAttribute("aria-labelledby"),X=O.id;let z=null!==D&&""!==D.trim()?D:N+"-lbl",he=null!==D&&""!==D.trim()?document.getElementById(D):T(O);return he?(null===D&&(he.id=z),te=he.textContent,he.setAttribute("aria-hidden","true")):""!==X.trim()&&(he=document.querySelector(`label[for="${X}"]`),he&&(""!==he.id?z=he.id:he.id=z=`${X}-lbl`,te=he.textContent)),{label:he,labelId:z,labelText:te}},_e=(O,N,te,D,X)=>{if(O||P(N)){let z=N.querySelector("input.aux-input");z||(z=N.ownerDocument.createElement("input"),z.type="hidden",z.classList.add("aux-input"),N.appendChild(z)),z.disabled=X,z.name=te,z.value=D||""}},ie=(O,N,te)=>Math.max(O,Math.min(N,te)),U=(O,N)=>{if(!O){const te="ASSERT: "+N;throw console.error(te),new Error(te)}},M=O=>O.timeStamp||Date.now(),J=O=>{if(O){const N=O.changedTouches;if(N&&N.length>0){const te=N[0];return{x:te.clientX,y:te.clientY}}if(void 0!==O.pageX)return{x:O.pageX,y:O.pageY}}return{x:0,y:0}},le=O=>{const N="rtl"===document.dir;switch(O){case"start":return N;case"end":return!N;default:throw new Error(`"${O}" is not a valid value for [side]. Use "start" or "end" instead.`)}},se=(O,N)=>{const te=O._original||O;return{_original:O,emit:Ee(te.emit.bind(te),N)}},Ee=(O,N=0)=>{let te;return(...D)=>{clearTimeout(te),te=setTimeout(O,N,...D)}},ke=(O,N)=>{if(O??(O={}),N??(N={}),O===N)return!0;const te=Object.keys(O);if(te.length!==Object.keys(N).length)return!1;for(const D of te)if(!(D in N)||O[D]!==N[D])return!1;return!0}},4656:(me,Ce,C)=>{"use strict";C.d(Ce,{m:()=>T});var S=C(3918),u=C(6940),W=C(1940),q=C(6240),V=C(4675),R=C(5194),E=C(2723);const I=$=>(0,E.c)().duration($?400:300),K=$=>{let de,_e;const ie=$.width+8,U=(0,E.c)(),M=(0,E.c)();$.isEndSide?(de=ie+"px",_e="0px"):(de=-ie+"px",_e="0px"),U.addElement($.menuInnerEl).fromTo("transform",`translateX(${de})`,`translateX(${_e})`);const le="ios"===(0,R.b)($),se=le?.2:.25;return M.addElement($.backdropEl).fromTo("opacity",.01,se),I(le).addAnimation([U,M])},F=$=>{let de,_e;const ie=(0,R.b)($),U=$.width;$.isEndSide?(de=-U+"px",_e=U+"px"):(de=U+"px",_e=-U+"px");const M=(0,E.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${_e})`,"translateX(0px)"),J=(0,E.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`),le=(0,E.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return I("ios"===ie).addAnimation([M,J,le])},k=$=>{const de=(0,R.b)($),_e=$.width*($.isEndSide?-1:1)+"px",ie=(0,E.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${_e})`);return I("ios"===de).addAnimation(ie)},T=(()=>{const $=new Map,de=[],_e=function(){var Re=(0,S.Z)(function*(Ve){const st=yield Ee(Ve,!0);return!!st&&st.open()});return function(st){return Re.apply(this,arguments)}}(),ie=function(){var Re=(0,S.Z)(function*(Ve){const st=yield void 0!==Ve?Ee(Ve,!0):ke();return void 0!==st&&st.close()});return function(st){return Re.apply(this,arguments)}}(),U=function(){var Re=(0,S.Z)(function*(Ve){const st=yield Ee(Ve,!0);return!!st&&st.toggle()});return function(st){return Re.apply(this,arguments)}}(),M=function(){var Re=(0,S.Z)(function*(Ve,st){const $t=yield Ee(st);return $t&&($t.disabled=!Ve),$t});return function(st,$t){return Re.apply(this,arguments)}}(),J=function(){var Re=(0,S.Z)(function*(Ve,st){const $t=yield Ee(st);return $t&&($t.swipeGesture=Ve),$t});return function(st,$t){return Re.apply(this,arguments)}}(),le=function(){var Re=(0,S.Z)(function*(Ve){if(null!=Ve){const st=yield Ee(Ve);return void 0!==st&&st.isOpen()}return void 0!==(yield ke())});return function(st){return Re.apply(this,arguments)}}(),se=function(){var Re=(0,S.Z)(function*(Ve){const st=yield Ee(Ve);return!!st&&!st.disabled});return function(st){return Re.apply(this,arguments)}}(),Ee=function(){var Re=(0,S.Z)(function*(Ve,st=!1){if(yield ze(),"start"===Ve||"end"===Ve){const fe=de.filter(at=>at.side===Ve&&!at.disabled);if(fe.length>=1)return fe.length>1&&st&&(0,q.p)(`menuController queried for a menu on the "${Ve}" side, but ${fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fe.map(at=>at.el)),fe[0].el;const Ue=de.filter(at=>at.side===Ve);if(Ue.length>=1)return Ue.length>1&&st&&(0,q.p)(`menuController queried for a menu on the "${Ve}" side, but ${Ue.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ue.map(at=>at.el)),Ue[0].el}else if(null!=Ve)return Ne(fe=>fe.menuId===Ve);return Ne(fe=>!fe.disabled)||(de.length>0?de[0].el:void 0)});return function(st){return Re.apply(this,arguments)}}(),ke=function(){var Re=(0,S.Z)(function*(){return yield ze(),$e()});return function(){return Re.apply(this,arguments)}}(),O=function(){var Re=(0,S.Z)(function*(){return yield ze(),ht()});return function(){return Re.apply(this,arguments)}}(),N=function(){var Re=(0,S.Z)(function*(){return yield ze(),Gt()});return function(){return Re.apply(this,arguments)}}(),te=(Re,Ve)=>{$.set(Re,Ve)},z=function(){var Re=(0,S.Z)(function*(Ve,st,$t){if(Gt())return!1;if(st){const fe=yield ke();fe&&Ve.el!==fe&&(yield fe.setOpen(!1,!1))}return Ve._setOpen(st,$t)});return function(st,$t,fe){return Re.apply(this,arguments)}}(),$e=()=>Ne(Re=>Re._isOpen),ht=()=>de.map(Re=>Re.el),Gt=()=>de.some(Re=>Re.isAnimating),Ne=Re=>{const Ve=de.find(Re);if(void 0!==Ve)return Ve.el},ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Re=>new Promise(Ve=>(0,V.c)(Re,Ve))));return te("reveal",k),te("push",F),te("overlay",K),null==u.d||u.d.addEventListener("ionBackButton",Re=>{const Ve=$e();Ve&&Re.detail.register(W.MENU_BACK_BUTTON_PRIORITY,()=>Ve.close())}),{registerAnimation:te,get:Ee,getMenus:O,getOpen:ke,isEnabled:se,swipeGesture:J,isAnimating:N,isOpen:le,enable:M,toggle:U,close:ie,open:_e,_getOpenSync:$e,_createAnimation:(Re,Ve)=>{const st=$.get(Re);if(!st)throw new Error("animation not registered");return st(Ve)},_register:Re=>{de.indexOf(Re)<0&&de.push(Re)},_unregister:Re=>{const Ve=de.indexOf(Re);Ve>-1&&de.splice(Ve,1)},_setOpen:z}})()},4923:(me,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>K});var S=C(4967);const u=(T,$,de,_e)=>{const ie=W(T)?{capture:!!_e.capture,passive:!!_e.passive}:!!_e.capture;let U,M;return T.__zone_symbol__addEventListener?(U="__zone_symbol__addEventListener",M="__zone_symbol__removeEventListener"):(U="addEventListener",M="removeEventListener"),T[U]($,de,ie),()=>{T[M]($,de,ie)}},W=T=>{if(void 0===q)try{const $=Object.defineProperty({},"passive",{get:()=>{q=!0}});T.addEventListener("optsTest",()=>{},$)}catch{q=!1}return!!q};let q;const E=T=>T instanceof Document?T:T.ownerDocument,K=T=>{let $=!1,de=!1,_e=!0,ie=!1;const U=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},T),M=U.canStart,J=U.onWillStart,le=U.onStart,se=U.onEnd,Ee=U.notCaptured,ke=U.onMove,O=U.threshold,N=U.passive,te=U.blurOnStart,D={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((T,$,de)=>{const _e=de*(Math.PI/180),ie="x"===T,U=Math.cos(_e),M=$*$;let J=0,le=0,se=!1,Ee=0;return{start(ke,O){J=ke,le=O,Ee=0,se=!0},detect(ke,O){if(!se)return!1;const N=ke-J,te=O-le,D=N*N+te*te;if(D<M)return!1;const X=Math.sqrt(D),z=(ie?N:te)/X;return Ee=z>U?1:z<-U?-1:0,se=!1,!0},isGesture:()=>0!==Ee,getDirection:()=>Ee}})(U.direction,U.threshold,U.maxAngle),z=S.G.createGesture({name:T.gestureName,priority:T.gesturePriority,disableScroll:T.disableScroll}),ht=()=>{$&&(ie=!1,ke&&ke(D))},Gt=()=>!!z.capture()&&($=!0,_e=!1,D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime,J?J(D).then(ze):ze(),!0),ze=()=>{te&&(()=>{if(typeof document<"u"){const fe=document.activeElement;fe?.blur&&fe.blur()}})(),le&&le(D),_e=!0},Re=()=>{$=!1,de=!1,ie=!1,_e=!0,z.release()},Ve=fe=>{const Ue=$,at=_e;if(Re(),at){if(F(D,fe),Ue)return void(se&&se(D));Ee&&Ee(D)}},st=((T,$,de,_e,ie)=>{let U,M,J,le,se,Ee,ke,O=0;const N=Ne=>{O=Date.now()+2e3,$(Ne)&&(!M&&de&&(M=u(T,"touchmove",de,ie)),J||(J=u(Ne.target,"touchend",D,ie)),le||(le=u(Ne.target,"touchcancel",D,ie)))},te=Ne=>{O>Date.now()||$(Ne)&&(!Ee&&de&&(Ee=u(E(T),"mousemove",de,ie)),ke||(ke=u(E(T),"mouseup",X,ie)))},D=Ne=>{z(),_e&&_e(Ne)},X=Ne=>{he(),_e&&_e(Ne)},z=()=>{M&&M(),J&&J(),le&&le(),M=J=le=void 0},he=()=>{Ee&&Ee(),ke&&ke(),Ee=ke=void 0},$e=()=>{z(),he()},ht=(Ne=!0)=>{Ne?(U||(U=u(T,"touchstart",N,ie)),se||(se=u(T,"mousedown",te,ie))):(U&&U(),se&&se(),U=se=void 0,$e())};return{enable:ht,stop:$e,destroy:()=>{ht(!1),_e=de=$=void 0}}})(U.el,fe=>{const Ue=P(fe);return!(de||!_e||(k(fe,D),D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime=Ue,D.velocityX=D.velocityY=D.deltaX=D.deltaY=0,D.event=fe,M&&!1===M(D))||(z.release(),!z.start()))&&(de=!0,0===O?Gt():(X.start(D.startX,D.startY),!0))},fe=>{$?!ie&&_e&&(ie=!0,F(D,fe),requestAnimationFrame(ht)):(F(D,fe),X.detect(D.currentX,D.currentY)&&(!X.isGesture()||!Gt())&&$t())},Ve,{capture:!1,passive:N}),$t=()=>{Re(),st.stop(),Ee&&Ee(D)};return{enable(fe=!0){fe||($&&Ve(void 0),Re()),st.enable(fe)},destroy(){z.destroy(),st.destroy()}}},F=(T,$)=>{if(!$)return;const de=T.currentX,_e=T.currentY,ie=T.currentTime;k($,T);const U=T.currentX,M=T.currentY,le=(T.currentTime=P($))-ie;if(le>0&&le<100){const Ee=(M-_e)/le;T.velocityX=(U-de)/le*.7+.3*T.velocityX,T.velocityY=.7*Ee+.3*T.velocityY}T.deltaX=U-T.startX,T.deltaY=M-T.startY,T.event=$},k=(T,$)=>{let de=0,_e=0;if(T){const ie=T.changedTouches;if(ie&&ie.length>0){const U=ie[0];de=U.clientX,_e=U.clientY}else void 0!==T.pageX&&(de=T.pageX,_e=T.pageY)}$.currentX=de,$.currentY=_e},P=T=>T.timeStamp||Date.now()},8044:(me,Ce,C)=>{"use strict";C.d(Ce,{b:()=>R,c:()=>E,d:()=>I,e:()=>O,g:()=>D,l:()=>Ee,s:()=>N,t:()=>k,w:()=>ke});var S=C(3918),u=C(3426),W=C(4675);const R="ionViewWillLeave",E="ionViewDidLeave",I="ionViewWillUnload",k=X=>new Promise((z,he)=>{(0,u.w)(()=>{P(X),T(X).then($e=>{$e.animation&&$e.animation.destroy(),$(X),z($e)},$e=>{$(X),he($e)})})}),P=X=>{const z=X.enteringEl,he=X.leavingEl;te(z,he,X.direction),X.showGoBack?z.classList.add("can-go-back"):z.classList.remove("can-go-back"),N(z,!1),z.style.setProperty("pointer-events","none"),he&&(N(he,!1),he.style.setProperty("pointer-events","none"))},T=function(){var X=(0,S.Z)(function*(z){const he=yield de(z);return he&&u.B.isBrowser?_e(he,z):ie(z)});return function(he){return X.apply(this,arguments)}}(),$=X=>{const z=X.enteringEl,he=X.leavingEl;z.classList.remove("ion-page-invisible"),z.style.removeProperty("pointer-events"),void 0!==he&&(he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events"))},de=function(){var X=(0,S.Z)(function*(z){return z.leavingEl&&z.animated&&0!==z.duration?z.animationBuilder?z.animationBuilder:"ios"===z.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(he){return X.apply(this,arguments)}}(),_e=function(){var X=(0,S.Z)(function*(z,he){yield U(he,!0);const $e=z(he.baseEl,he);le(he.enteringEl,he.leavingEl);const ht=yield J($e,he);return he.progressCallback&&he.progressCallback(void 0),ht&&se(he.enteringEl,he.leavingEl),{hasCompleted:ht,animation:$e}});return function(he,$e){return X.apply(this,arguments)}}(),ie=function(){var X=(0,S.Z)(function*(z){const he=z.enteringEl,$e=z.leavingEl;return yield U(z,!1),le(he,$e),se(he,$e),{hasCompleted:!0}});return function(he){return X.apply(this,arguments)}}(),U=function(){var X=(0,S.Z)(function*(z,he){(void 0!==z.deepWait?z.deepWait:he)&&(yield Promise.all([O(z.enteringEl),O(z.leavingEl)])),yield M(z.viewIsReady,z.enteringEl)});return function(he,$e){return X.apply(this,arguments)}}(),M=function(){var X=(0,S.Z)(function*(z,he){z&&(yield z(he))});return function(he,$e){return X.apply(this,arguments)}}(),J=(X,z)=>{const he=z.progressCallback,$e=new Promise(ht=>{X.onFinish(Gt=>ht(1===Gt))});return he?(X.progressStart(!0),he(X)):X.play(),$e},le=(X,z)=>{Ee(z,R),Ee(X,"ionViewWillEnter")},se=(X,z)=>{Ee(X,"ionViewDidEnter"),Ee(z,E)},Ee=(X,z)=>{if(X){const he=new CustomEvent(z,{bubbles:!1,cancelable:!1});X.dispatchEvent(he)}},ke=()=>new Promise(X=>(0,W.r)(()=>(0,W.r)(()=>X()))),O=function(){var X=(0,S.Z)(function*(z){const he=z;if(he){if(null!=he.componentOnReady){if(null!=(yield he.componentOnReady()))return}else if(null!=he.__registerHost)return void(yield new Promise(ht=>(0,W.r)(ht)));yield Promise.all(Array.from(he.children).map(O))}});return function(he){return X.apply(this,arguments)}}(),N=(X,z)=>{z?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},te=(X,z,he)=>{void 0!==X&&(X.style.zIndex="back"===he?"99":"101"),void 0!==z&&(z.style.zIndex="100")},D=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6240:(me,Ce,C)=>{"use strict";C.d(Ce,{a:()=>u,b:()=>W,p:()=>S});const S=(q,...V)=>console.warn(`[Ionic Warning]: ${q}`,...V),u=(q,...V)=>console.error(`[Ionic Error]: ${q}`,...V),W=(q,...V)=>console.error(`<${q.tagName.toLowerCase()}> must be used inside ${V.join(" or ")}.`)},6940:(me,Ce,C)=>{"use strict";C.d(Ce,{d:()=>u,w:()=>S});const S=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3426:(me,Ce,C)=>{"use strict";C.d(Ce,{B:()=>P,H:()=>Gt,a:()=>Js,b:()=>Di,c:()=>at,d:()=>jt,e:()=>ps,f:()=>Ut,g:()=>Ze,h:()=>$e,i:()=>Po,j:()=>T,r:()=>zi,w:()=>ut});var S=C(3918);let q,V,R,E=!1,I=!1,K=!1,F=!1,k=!1;const P={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},T=m=>{const w=new URL(m,Mn.$resourcesUrl$);return w.origin!==ti.location.origin?w.href:w.pathname},J="s-id",le="sty-id",ke="slot-fb{display:contents}slot-fb[hidden]{display:none}",O="http://www.w3.org/1999/xlink",N={},z=m=>"object"==(m=typeof m)||"function"===m;function he(m){var w,L,ne;return null!==(ne=null===(L=null===(w=m.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===L?void 0:L.getAttribute("content"))&&void 0!==ne?ne:void 0}const $e=(m,w,...L)=>{let ne=null,Te=null,ue=null,Ke=!1,qe=!1;const et=[],A=At=>{for(let kt=0;kt<At.length;kt++)ne=At[kt],Array.isArray(ne)?A(ne):null!=ne&&"boolean"!=typeof ne&&((Ke="function"!=typeof m&&!z(ne))&&(ne=String(ne)),Ke&&qe?et[et.length-1].$text$+=ne:et.push(Ke?ht(null,ne):ne),qe=Ke)};if(A(L),w){w.key&&(Te=w.key),w.name&&(ue=w.name);{const At=w.className||w.class;At&&(w.class="object"!=typeof At?At:Object.keys(At).filter(kt=>At[kt]).join(" "))}}if("function"==typeof m)return m(null===w?{}:w,et,ze);const Ct=ht(m,null);return Ct.$attrs$=w,et.length>0&&(Ct.$children$=et),Ct.$key$=Te,Ct.$name$=ue,Ct},ht=(m,w)=>({$flags$:0,$tag$:m,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Gt={},ze={forEach:(m,w)=>m.map(Re).forEach(w),map:(m,w)=>m.map(Re).map(w).map(Ve)},Re=m=>({vattrs:m.$attrs$,vchildren:m.$children$,vkey:m.$key$,vname:m.$name$,vtag:m.$tag$,vtext:m.$text$}),Ve=m=>{if("function"==typeof m.vtag){const L=Object.assign({},m.vattrs);return m.vkey&&(L.key=m.vkey),m.vname&&(L.name=m.vname),$e(m.vtag,L,...m.vchildren||[])}const w=ht(m.vtag,m.vtext);return w.$attrs$=m.vattrs,w.$children$=m.vchildren,w.$key$=m.vkey,w.$name$=m.vname,w},$t=(m,w,L,ne,Te,ue,Ke)=>{let qe,et,A,Ct;if(1===ue.nodeType){for(qe=ue.getAttribute("c-id"),qe&&(et=qe.split("."),(et[0]===Ke||"0"===et[0])&&(A={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(A),ue.removeAttribute("c-id"),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,m=A,ne&&"0"===A.$depth$&&(ne[A.$index$]=A.$elm$))),Ct=ue.childNodes.length-1;Ct>=0;Ct--)$t(m,w,L,ne,Te,ue.childNodes[Ct],Ke);if(ue.shadowRoot)for(Ct=ue.shadowRoot.childNodes.length-1;Ct>=0;Ct--)$t(m,w,L,ne,Te,ue.shadowRoot.childNodes[Ct],Ke)}else if(8===ue.nodeType)et=ue.nodeValue.split("."),(et[1]===Ke||"0"===et[1])&&(qe=et[0],A={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===qe?(A.$elm$=ue.nextSibling,A.$elm$&&3===A.$elm$.nodeType&&(A.$text$=A.$elm$.textContent,w.push(A),ue.remove(),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,ne&&"0"===A.$depth$&&(ne[A.$index$]=A.$elm$))):A.$hostId$===Ke&&("s"===qe?(A.$tag$="slot",ue["s-sn"]=et[5]?A.$name$=et[5]:"",ue["s-sr"]=!0,ne&&(A.$elm$=Ar.createElement(A.$tag$),A.$name$&&A.$elm$.setAttribute("name",A.$name$),ue.parentNode.insertBefore(A.$elm$,ue),ue.remove(),"0"===A.$depth$&&(ne[A.$index$]=A.$elm$)),L.push(A),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A):"r"===qe&&(ne?ue.remove():(Te["s-cr"]=ue,ue["s-cn"]=!0))));else if(m&&"style"===m.$tag$){const At=ht(null,ue.textContent);At.$elm$=ue,At.$index$="0",m.$children$=[At]}},fe=(m,w)=>{if(1===m.nodeType){let L=0;for(;L<m.childNodes.length;L++)fe(m.childNodes[L],w);if(m.shadowRoot)for(L=0;L<m.shadowRoot.childNodes.length;L++)fe(m.shadowRoot.childNodes[L],w)}else if(8===m.nodeType){const L=m.nodeValue.split(".");"o"===L[0]&&(w.set(L[1]+"."+L[2],m),m.nodeValue="",m["s-en"]=L[3])}},at=m=>Oo.push(m),Ze=m=>Jr(m).$modeName$,Ut=m=>Jr(m).$hostElement$,jt=(m,w,L)=>{const ne=Ut(m);return{emit:Te=>xe(ne,w,{bubbles:!!(4&L),composed:!!(2&L),cancelable:!!(1&L),detail:Te})}},xe=(m,w,L)=>{const ne=Mn.ce(w,L);return m.dispatchEvent(ne),ne},be=new WeakMap,ge=(m,w,L)=>{let ne=Hr.get(m);Ps&&L?(ne=ne||new CSSStyleSheet,"string"==typeof ne?ne=w:ne.replaceSync(w)):ne=w,Hr.set(m,ne)},Je=(m,w,L)=>{var ne;const Te=Nt(w,L),ue=Hr.get(Te);if(m=11===m.nodeType?m:Ar,ue)if("string"==typeof ue){let qe,Ke=be.get(m=m.head||m);if(Ke||be.set(m,Ke=new Set),!Ke.has(Te)){if(m.host&&(qe=m.querySelector(`[${le}="${Te}"]`)))qe.innerHTML=ue;else{qe=Ar.createElement("style"),qe.innerHTML=ue;const et=null!==(ne=Mn.$nonce$)&&void 0!==ne?ne:he(Ar);null!=et&&qe.setAttribute("nonce",et),m.insertBefore(qe,m.querySelector("link"))}4&w.$flags$&&(qe.innerHTML+=ke),Ke&&Ke.add(Te)}}else m.adoptedStyleSheets.includes(ue)||(m.adoptedStyleSheets=[...m.adoptedStyleSheets,ue]);return Te},Nt=(m,w)=>"sc-"+(w&&32&m.$flags$?m.$tagName$+"-"+w:m.$tagName$),dn=m=>m.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nn=(m,w,L,ne,Te,ue)=>{if(L!==ne){let Ke=Ei(m,w),qe=w.toLowerCase();if("class"===w){const et=m.classList,A=Jt(L),Ct=Jt(ne);et.remove(...A.filter(At=>At&&!Ct.includes(At))),et.add(...Ct.filter(At=>At&&!A.includes(At)))}else if("style"===w){for(const et in L)(!ne||null==ne[et])&&(et.includes("-")?m.style.removeProperty(et):m.style[et]="");for(const et in ne)(!L||ne[et]!==L[et])&&(et.includes("-")?m.style.setProperty(et,ne[et]):m.style[et]=ne[et])}else if("key"!==w)if("ref"===w)ne&&ne(m);else if(Ke||"o"!==w[0]||"n"!==w[1]){const et=z(ne);if((Ke||et&&null!==ne)&&!Te)try{if(m.tagName.includes("-"))m[w]=ne;else{const Ct=ne??"";"list"===w?Ke=!1:(null==L||m[w]!=Ct)&&(m[w]=Ct)}}catch{}let A=!1;qe!==(qe=qe.replace(/^xlink\:?/,""))&&(w=qe,A=!0),null==ne||!1===ne?(!1!==ne||""===m.getAttribute(w))&&(A?m.removeAttributeNS(O,w):m.removeAttribute(w)):(!Ke||4&ue||Te)&&!et&&(ne=!0===ne?"":ne,A?m.setAttributeNS(O,w,ne):m.setAttribute(w,ne))}else if(w="-"===w[2]?w.slice(3):Ei(ti,qe)?qe.slice(2):qe[2]+w.slice(3),L||ne){const et=w.endsWith(_r);w=w.replace(Zn,""),L&&Mn.rel(m,w,L,et),ne&&Mn.ael(m,w,ne,et)}}},pn=/\s/,Jt=m=>m?m.split(pn):[],_r="Capture",Zn=new RegExp(_r+"$"),Ho=(m,w,L,ne)=>{const Te=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ue=m&&m.$attrs$||N,Ke=w.$attrs$||N;for(ne in ue)ne in Ke||nn(Te,ne,ue[ne],void 0,L,w.$flags$);for(ne in Ke)nn(Te,ne,ue[ne],Ke[ne],L,w.$flags$)},So=(m,w,L,ne)=>{var Te;const ue=w.$children$[L];let qe,et,A,Ke=0;if(E||(K=!0,"slot"===ue.$tag$&&(q&&ne.classList.add(q+"-s"),ue.$flags$|=ue.$children$?2:1)),null!==ue.$text$)qe=ue.$elm$=Ar.createTextNode(ue.$text$);else if(1&ue.$flags$)qe=ue.$elm$=Ar.createTextNode("");else{if(F||(F="svg"===ue.$tag$),qe=ue.$elm$=Ar.createElementNS(F?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ue.$flags$?"slot-fb":ue.$tag$),F&&"foreignObject"===ue.$tag$&&(F=!1),Ho(null,ue,F),(m=>null!=m)(q)&&qe["s-si"]!==q&&qe.classList.add(qe["s-si"]=q),ue.$children$)for(Ke=0;Ke<ue.$children$.length;++Ke)et=So(m,ue,Ke,qe),et&&qe.appendChild(et);"svg"===ue.$tag$?F=!1:"foreignObject"===qe.tagName&&(F=!0)}return qe["s-hn"]=R,3&ue.$flags$&&(qe["s-sr"]=!0,qe["s-fs"]=null===(Te=ue.$attrs$)||void 0===Te?void 0:Te.slot,qe["s-cr"]=V,qe["s-sn"]=ue.$name$||"",A=m&&m.$children$&&m.$children$[L],A&&A.$tag$===ue.$tag$&&m.$elm$&&wo(m.$elm$,!1)),qe},wo=(m,w)=>{var L;Mn.$flags$|=1;const ne=m.childNodes;for(let Te=ne.length-1;Te>=0;Te--){const ue=ne[Te];ue["s-hn"]!==R&&ue["s-ol"]&&(go(ue).insertBefore(ue,qn(ue)),ue["s-ol"].remove(),ue["s-ol"]=void 0,ue["s-sh"]=void 0,1===ue.nodeType&&ue.setAttribute("slot",null!==(L=ue["s-sn"])&&void 0!==L?L:""),K=!0),w&&wo(ue,w)}Mn.$flags$&=-2},Pn=(m,w,L,ne,Te,ue)=>{let qe,Ke=m["s-cr"]&&m["s-cr"].parentNode||m;for(Ke.shadowRoot&&Ke.tagName===R&&(Ke=Ke.shadowRoot);Te<=ue;++Te)ne[Te]&&(qe=So(null,L,Te,m),qe&&(ne[Te].$elm$=qe,Ke.insertBefore(qe,qn(w))))},$r=(m,w,L)=>{for(let ne=w;ne<=L;++ne){const Te=m[ne];if(Te){const ue=Te.$elm$;Sn(Te),ue&&(I=!0,ue["s-ol"]?ue["s-ol"].remove():wo(ue,!0),ue.remove())}}},ro=(m,w)=>m.$tag$===w.$tag$&&("slot"===m.$tag$?m.$name$===w.$name$:m.$key$===w.$key$),qn=m=>m&&m["s-ol"]||m,go=m=>(m["s-ol"]?m["s-ol"]:m).parentNode,Br=(m,w)=>{const L=w.$elm$=m.$elm$,ne=m.$children$,Te=w.$children$,ue=w.$tag$,Ke=w.$text$;let qe;null===Ke?(F="svg"===ue||"foreignObject"!==ue&&F,"slot"===ue||Ho(m,w,F),null!==ne&&null!==Te?((m,w,L,ne)=>{let Dr,Vr,Te=0,ue=0,Ke=0,qe=0,et=w.length-1,A=w[0],Ct=w[et],At=ne.length-1,kt=ne[0],wn=ne[At];for(;Te<=et&&ue<=At;)if(null==A)A=w[++Te];else if(null==Ct)Ct=w[--et];else if(null==kt)kt=ne[++ue];else if(null==wn)wn=ne[--At];else if(ro(A,kt))Br(A,kt),A=w[++Te],kt=ne[++ue];else if(ro(Ct,wn))Br(Ct,wn),Ct=w[--et],wn=ne[--At];else if(ro(A,wn))("slot"===A.$tag$||"slot"===wn.$tag$)&&wo(A.$elm$.parentNode,!1),Br(A,wn),m.insertBefore(A.$elm$,Ct.$elm$.nextSibling),A=w[++Te],wn=ne[--At];else if(ro(Ct,kt))("slot"===A.$tag$||"slot"===wn.$tag$)&&wo(Ct.$elm$.parentNode,!1),Br(Ct,kt),m.insertBefore(Ct.$elm$,A.$elm$),Ct=w[--et],kt=ne[++ue];else{for(Ke=-1,qe=Te;qe<=et;++qe)if(w[qe]&&null!==w[qe].$key$&&w[qe].$key$===kt.$key$){Ke=qe;break}Ke>=0?(Vr=w[Ke],Vr.$tag$!==kt.$tag$?Dr=So(w&&w[ue],L,Ke,m):(Br(Vr,kt),w[Ke]=void 0,Dr=Vr.$elm$),kt=ne[++ue]):(Dr=So(w&&w[ue],L,ue,m),kt=ne[++ue]),Dr&&go(A.$elm$).insertBefore(Dr,qn(A.$elm$))}Te>et?Pn(m,null==ne[At+1]?null:ne[At+1].$elm$,L,ne,ue,At):ue>At&&$r(w,Te,et)})(L,ne,w,Te):null!==Te?(null!==m.$text$&&(L.textContent=""),Pn(L,null,w,Te,0,Te.length-1)):null!==ne&&$r(ne,0,ne.length-1),F&&"svg"===ue&&(F=!1)):(qe=L["s-cr"])?qe.parentNode.textContent=Ke:m.$text$!==Ke&&(L.data=Ke)},pe=m=>{const w=m.childNodes;for(const L of w)if(1===L.nodeType){if(L["s-sr"]){const ne=L["s-sn"];L.hidden=!1;for(const Te of w)if(Te!==L)if(Te["s-hn"]!==L["s-hn"]||""!==ne){if(1===Te.nodeType&&(ne===Te.getAttribute("slot")||ne===Te["s-sn"])){L.hidden=!0;break}}else if(1===Te.nodeType||3===Te.nodeType&&""!==Te.textContent.trim()){L.hidden=!0;break}}pe(L)}},ye=[],ln=m=>{let w,L,ne;for(const Te of m.childNodes){if(Te["s-sr"]&&(w=Te["s-cr"])&&w.parentNode){L=w.parentNode.childNodes;const ue=Te["s-sn"];for(ne=L.length-1;ne>=0;ne--)if(w=L[ne],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==Te["s-hn"])if(mn(w,ue)){let Ke=ye.find(qe=>qe.$nodeToRelocate$===w);I=!0,w["s-sn"]=w["s-sn"]||ue,Ke?(Ke.$nodeToRelocate$["s-sh"]=Te["s-hn"],Ke.$slotRefNode$=Te):(w["s-sh"]=Te["s-hn"],ye.push({$slotRefNode$:Te,$nodeToRelocate$:w})),w["s-sr"]&&ye.map(qe=>{mn(qe.$nodeToRelocate$,w["s-sn"])&&(Ke=ye.find(et=>et.$nodeToRelocate$===w),Ke&&!qe.$slotRefNode$&&(qe.$slotRefNode$=Ke.$slotRefNode$))})}else ye.some(Ke=>Ke.$nodeToRelocate$===w)||ye.push({$nodeToRelocate$:w})}1===Te.nodeType&&ln(Te)}},mn=(m,w)=>1===m.nodeType?null===m.getAttribute("slot")&&""===w||m.getAttribute("slot")===w:m["s-sn"]===w||""===w,Sn=m=>{m.$attrs$&&m.$attrs$.ref&&m.$attrs$.ref(null),m.$children$&&m.$children$.map(Sn)},fo=(m,w)=>{w&&!m.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(L=>m.$onRenderResolve$=L))},nr=(m,w)=>{if(m.$flags$|=16,!(4&m.$flags$))return fo(m,m.$ancestorComponent$),ut(()=>wr(m,w));m.$flags$|=512},wr=(m,w)=>{const ne=m.$lazyInstance$;let Te;return w&&(m.$flags$|=256,m.$queuedListeners$&&(m.$queuedListeners$.map(([ue,Ke])=>vr(ne,ue,Ke)),m.$queuedListeners$=void 0),Te=vr(ne,"componentWillLoad")),Te=_o(Te,()=>vr(ne,"componentWillRender")),_o(Te,()=>Do(m,ne,w))},_o=(m,w)=>On(m)?m.then(w):w(),On=m=>m instanceof Promise||m&&m.then&&"function"==typeof m.then,Do=function(){var m=(0,S.Z)(function*(w,L,ne){var Te;const ue=w.$hostElement$,qe=ue["s-rc"];ne&&(m=>{const w=m.$cmpMeta$,L=m.$hostElement$,ne=w.$flags$,ue=Je(L.shadowRoot?L.shadowRoot:L.getRootNode(),w,m.$modeName$);10&ne&&(L["s-sc"]=ue,L.classList.add(ue+"-h"),2&ne&&L.classList.add(ue+"-s"))})(w);oo(w,L,ue,ne),qe&&(qe.map(A=>A()),ue["s-rc"]=void 0);{const A=null!==(Te=ue["s-p"])&&void 0!==Te?Te:[],Ct=()=>Ui(w);0===A.length?Ct():(Promise.all(A).then(Ct),w.$flags$|=4,A.length=0)}});return function(L,ne,Te){return m.apply(this,arguments)}}(),oo=(m,w,L,ne)=>{try{w=w.render&&w.render(),m.$flags$&=-17,m.$flags$|=2,((m,w,L=!1)=>{var ne,Te,ue,Ke;const qe=m.$hostElement$,et=m.$cmpMeta$,A=m.$vnode$||ht(null,null),Ct=(m=>m&&m.$tag$===Gt)(w)?w:$e(null,null,w);if(R=qe.tagName,et.$attrsToReflect$&&(Ct.$attrs$=Ct.$attrs$||{},et.$attrsToReflect$.map(([At,kt])=>Ct.$attrs$[kt]=qe[At])),L&&Ct.$attrs$)for(const At of Object.keys(Ct.$attrs$))qe.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(Ct.$attrs$[At]=qe[At]);if(Ct.$tag$=null,Ct.$flags$|=4,m.$vnode$=Ct,Ct.$elm$=A.$elm$=qe.shadowRoot||qe,q=qe["s-sc"],V=qe["s-cr"],E=0!=(1&et.$flags$),I=!1,Br(A,Ct),Mn.$flags$|=1,K){ln(Ct.$elm$);for(const At of ye){const kt=At.$nodeToRelocate$;if(!kt["s-ol"]){const wn=Ar.createTextNode("");wn["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=wn,kt)}}for(const At of ye){const kt=At.$nodeToRelocate$,wn=At.$slotRefNode$;if(wn){const Dr=wn.parentNode;let Vr=wn.nextSibling;{let zr=null===(ne=kt["s-ol"])||void 0===ne?void 0:ne.previousSibling;for(;zr;){let Xn=null!==(Te=zr["s-nr"])&&void 0!==Te?Te:null;if(Xn&&Xn["s-sn"]===kt["s-sn"]&&Dr===Xn.parentNode&&(Xn=Xn.nextSibling,!Xn||!Xn["s-nr"])){Vr=Xn;break}zr=zr.previousSibling}}(!Vr&&Dr!==kt.parentNode||kt.nextSibling!==Vr)&&kt!==Vr&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Dr.insertBefore(kt,Vr),1===kt.nodeType&&(kt.hidden=null!==(ue=kt["s-ih"])&&void 0!==ue&&ue))}else 1===kt.nodeType&&(L&&(kt["s-ih"]=null!==(Ke=kt.hidden)&&void 0!==Ke&&Ke),kt.hidden=!0)}}I&&pe(Ct.$elm$),Mn.$flags$&=-2,ye.length=0})(m,w,ne)}catch(Te){vo(Te,m.$hostElement$)}return null},Ui=m=>{const L=m.$hostElement$,Te=m.$lazyInstance$,ue=m.$ancestorComponent$;vr(Te,"componentDidRender"),64&m.$flags$?vr(Te,"componentDidUpdate"):(m.$flags$|=64,yr(L),vr(Te,"componentDidLoad"),m.$onReadyResolve$(L),ue||xn()),m.$onInstanceResolve$(L),m.$onRenderResolve$&&(m.$onRenderResolve$(),m.$onRenderResolve$=void 0),512&m.$flags$&&Yi(()=>nr(m,!1)),m.$flags$&=-517},Po=m=>{{const w=Jr(m),L=w.$hostElement$.isConnected;return L&&2==(18&w.$flags$)&&nr(w,!1),L}},xn=m=>{yr(Ar.documentElement),Yi(()=>xe(ti,"appload",{detail:{namespace:"ionic"}}))},vr=(m,w,L)=>{if(m&&m[w])try{return m[w](L)}catch(ne){vo(ne)}},yr=m=>m.classList.add("hydrated"),di=(m,w,L)=>{var ne;const Te=m.prototype;if(w.$members$){m.watchers&&(w.$watchers$=m.watchers);const ue=Object.entries(w.$members$);if(ue.map(([Ke,[qe]])=>{31&qe||2&L&&32&qe?Object.defineProperty(Te,Ke,{get(){return((m,w)=>Jr(this).$instanceValues$.get(w))(0,Ke)},set(et){((m,w,L,ne)=>{const Te=Jr(m),ue=Te.$hostElement$,Ke=Te.$instanceValues$.get(w),qe=Te.$flags$,et=Te.$lazyInstance$;L=((m,w)=>null==m||z(m)?m:4&w?"false"!==m&&(""===m||!!m):2&w?parseFloat(m):1&w?String(m):m)(L,ne.$members$[w][0]);const A=Number.isNaN(Ke)&&Number.isNaN(L);if((!(8&qe)||void 0===Ke)&&L!==Ke&&!A&&(Te.$instanceValues$.set(w,L),et)){if(ne.$watchers$&&128&qe){const At=ne.$watchers$[w];At&&At.map(kt=>{try{et[kt](L,Ke,w)}catch(wn){vo(wn,ue)}})}2==(18&qe)&&nr(Te,!1)}})(this,Ke,et,w)},configurable:!0,enumerable:!0}):1&L&&64&qe&&Object.defineProperty(Te,Ke,{value(...et){var A;const Ct=Jr(this);return null===(A=Ct?.$onInstancePromise$)||void 0===A?void 0:A.then(()=>{var At;return null===(At=Ct.$lazyInstance$)||void 0===At?void 0:At[Ke](...et)})}})}),1&L){const Ke=new Map;Te.attributeChangedCallback=function(qe,et,A){Mn.jmp(()=>{var Ct;const At=Ke.get(qe);if(this.hasOwnProperty(At))A=this[At],delete this[At];else{if(Te.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==A)return;if(null==At){const kt=Jr(this),wn=kt?.$flags$;if(wn&&!(8&wn)&&128&wn&&A!==et){const Dr=kt.$lazyInstance$,Vr=null===(Ct=w.$watchers$)||void 0===Ct?void 0:Ct[qe];Vr?.forEach(zr=>{null!=Dr[zr]&&Dr[zr].call(Dr,A,et,qe)})}return}}this[At]=(null!==A||"boolean"!=typeof this[At])&&A})},m.observedAttributes=Array.from(new Set([...Object.keys(null!==(ne=w.$watchers$)&&void 0!==ne?ne:{}),...ue.filter(([qe,et])=>15&et[0]).map(([qe,et])=>{var A;const Ct=et[1]||qe;return Ke.set(Ct,qe),512&et[0]&&(null===(A=w.$attrsToReflect$)||void 0===A||A.push([qe,Ct])),Ct})]))}}return m},cn=function(){var m=(0,S.Z)(function*(w,L,ne,Te){let ue;if(!(32&L.$flags$)){L.$flags$|=32;{if(ue=Wi(ne),ue.then){const A=()=>{};ue=yield ue,A()}ue.isProxied||(ne.$watchers$=ue.watchers,di(ue,ne,2),ue.isProxied=!0);const et=()=>{};L.$flags$|=8;try{new ue(L)}catch(A){vo(A)}L.$flags$&=-9,L.$flags$|=128,et(),ei(L.$lazyInstance$)}if(ue.style){let et=ue.style;"string"!=typeof et&&(et=et[L.$modeName$=(m=>Oo.map(w=>w(m)).find(w=>!!w))(w)]);const A=Nt(ne,L.$modeName$);if(!Hr.has(A)){const Ct=()=>{};ge(A,et,!!(1&ne.$flags$)),Ct()}}}const Ke=L.$ancestorComponent$,qe=()=>nr(L,!0);Ke&&Ke["s-rc"]?Ke["s-rc"].push(qe):qe()});return function(L,ne,Te,ue){return m.apply(this,arguments)}}(),ei=m=>{vr(m,"connectedCallback")},fi=m=>{const w=m["s-cr"]=Ar.createComment("");w["s-cn"]=!0,m.insertBefore(w,m.firstChild)},pi=m=>{vr(m,"disconnectedCallback")},ae=function(){var m=(0,S.Z)(function*(w){if(!(1&Mn.$flags$)){const L=Jr(w);L.$rmListeners$&&(L.$rmListeners$.map(ne=>ne()),L.$rmListeners$=void 0),L?.$lazyInstance$?pi(L.$lazyInstance$):L?.$onReadyPromise$&&L.$onReadyPromise$.then(()=>pi(L.$lazyInstance$))}});return function(L){return m.apply(this,arguments)}}(),Di=(m,w={})=>{var L;const Te=[],ue=w.exclude||[],Ke=ti.customElements,qe=Ar.head,et=qe.querySelector("meta[charset]"),A=Ar.createElement("style"),Ct=[],At=Ar.querySelectorAll(`[${le}]`);let kt,wn=!0,Dr=0;for(Object.assign(Mn,w),Mn.$resourcesUrl$=new URL(w.resourcesUrl||"./",Ar.baseURI).href,Mn.$flags$|=2;Dr<At.length;Dr++)ge(At[Dr].getAttribute(le),dn(At[Dr].innerHTML),!0);let Vr=!1;if(m.map(zr=>{zr[1].map(Xn=>{var Ki;const Bn={$flags$:Xn[0],$tagName$:Xn[1],$members$:Xn[2],$listeners$:Xn[3]};4&Bn.$flags$&&(Vr=!0),Bn.$members$=Xn[2],Bn.$listeners$=Xn[3],Bn.$attrsToReflect$=[],Bn.$watchers$=null!==(Ki=Xn[4])&&void 0!==Ki?Ki:{};const No=Bn.$tagName$,Io=class extends HTMLElement{constructor(Xi){super(Xi),Qs(Xi=this,Bn),1&Bn.$flags$&&Xi.attachShadow({mode:"open",delegatesFocus:!!(16&Bn.$flags$)})}connectedCallback(){kt&&(clearTimeout(kt),kt=null),wn?Ct.push(this):Mn.jmp(()=>(m=>{if(!(1&Mn.$flags$)){const w=Jr(m),L=w.$cmpMeta$,ne=()=>{};if(1&w.$flags$)zo(m,w,L.$listeners$),w?.$lazyInstance$?ei(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>ei(w.$lazyInstance$));else{let Te;if(w.$flags$|=1,Te=m.getAttribute(J),Te){if(1&L.$flags$){const ue=Je(m.shadowRoot,L,m.getAttribute("s-mode"));m.classList.remove(ue+"-h",ue+"-s")}((m,w,L,ne)=>{const ue=m.shadowRoot,Ke=[],et=ue?[]:null,A=ne.$vnode$=ht(w,null);Mn.$orgLocNodes$||fe(Ar.body,Mn.$orgLocNodes$=new Map),m[J]=L,m.removeAttribute(J),$t(A,Ke,[],et,m,m,L),Ke.map(Ct=>{const At=Ct.$hostId$+"."+Ct.$nodeId$,kt=Mn.$orgLocNodes$.get(At),wn=Ct.$elm$;kt&&ea&&""===kt["s-en"]&&kt.parentNode.insertBefore(wn,kt.nextSibling),ue||(wn["s-hn"]=w,kt&&(wn["s-ol"]=kt,wn["s-ol"]["s-nr"]=wn)),Mn.$orgLocNodes$.delete(At)}),ue&&et.map(Ct=>{Ct&&ue.appendChild(Ct)})})(m,L.$tagName$,Te,w)}Te||12&L.$flags$&&fi(m);{let ue=m;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){fo(w,w.$ancestorComponent$=ue);break}}L.$members$&&Object.entries(L.$members$).map(([ue,[Ke]])=>{if(31&Ke&&m.hasOwnProperty(ue)){const qe=m[ue];delete m[ue],m[ue]=qe}}),cn(m,w,L)}ne()}})(this))}disconnectedCallback(){Mn.jmp(()=>ae(this))}componentOnReady(){return Jr(this).$onReadyPromise$}};Bn.$lazyBundleId$=zr[0],!ue.includes(No)&&!Ke.get(No)&&(Te.push(No),Ke.define(No,di(Io,Bn,1)))})}),Vr&&(A.innerHTML+=ke),A.innerHTML+=Te+"{visibility:hidden}.hydrated{visibility:inherit}",A.innerHTML.length){A.setAttribute("data-styles","");const zr=null!==(L=Mn.$nonce$)&&void 0!==L?L:he(Ar);null!=zr&&A.setAttribute("nonce",zr),qe.insertBefore(A,et?et.nextSibling:qe.firstChild)}wn=!1,Ct.length?Ct.map(zr=>zr.connectedCallback()):Mn.jmp(()=>kt=setTimeout(xn,30))},zo=(m,w,L,ne)=>{L&&L.map(([Te,ue,Ke])=>{const qe=li(m,Te),et=Eo(w,Ke),A=Rs(Te);Mn.ael(qe,ue,et,A),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Mn.rel(qe,ue,et,A))})},Eo=(m,w)=>L=>{try{256&m.$flags$?m.$lazyInstance$[w](L):(m.$queuedListeners$=m.$queuedListeners$||[]).push([w,L])}catch(ne){vo(ne)}},li=(m,w)=>4&w?Ar:8&w?ti:16&w?Ar.body:m,Rs=m=>0!=(2&m),Hi=new WeakMap,Jr=m=>Hi.get(m),zi=(m,w)=>Hi.set(w.$lazyInstance$=m,w),Qs=(m,w)=>{const L={$flags$:0,$hostElement$:m,$cmpMeta$:w,$instanceValues$:new Map};return L.$onInstancePromise$=new Promise(ne=>L.$onInstanceResolve$=ne),L.$onReadyPromise$=new Promise(ne=>L.$onReadyResolve$=ne),m["s-p"]=[],m["s-rc"]=[],zo(m,L,w.$listeners$),Hi.set(m,L)},Ei=(m,w)=>w in m,vo=(m,w)=>(0,console.error)(m,w),Ii=new Map,Wi=(m,w,L)=>{const ne=m.$tagName$.replace(/-/g,"_"),Te=m.$lazyBundleId$,ue=Ii.get(Te);return ue?ue[ne]:C(863)(`./${Te}.entry.js`).then(Ke=>(Ii.set(Te,Ke),Ke[ne]),vo)},Hr=new Map,Oo=[],ti=typeof window<"u"?window:{},Ar=ti.document||{head:{}},Mn={$flags$:0,$resourcesUrl$:"",jmp:m=>m(),raf:m=>requestAnimationFrame(m),ael:(m,w,L,ne)=>m.addEventListener(w,L,ne),rel:(m,w,L,ne)=>m.removeEventListener(w,L,ne),ce:(m,w)=>new CustomEvent(m,w)},Js=m=>{Object.assign(Mn,m)},ea=!0,Ps=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),us=[],ds=[],nt=(m,w)=>L=>{m.push(L),k||(k=!0,w&&4&Mn.$flags$?Yi(qi):Mn.raf(qi))},fs=m=>{for(let w=0;w<m.length;w++)try{m[w](performance.now())}catch(L){vo(L)}m.length=0},qi=()=>{fs(us),fs(ds),(k=us.length>0)&&Mn.raf(qi)},Yi=m=>Promise.resolve(void 0).then(m),ps=nt(us,!1),ut=nt(ds,!0)},5194:(me,Ce,C)=>{"use strict";C.d(Ce,{a:()=>k,b:()=>ht,c:()=>W,i:()=>Gt});var S=C(3426);class u{constructor(){this.m=new Map}reset(ze){this.m=new Map(Object.entries(ze))}get(ze,Re){const Ve=this.m.get(ze);return void 0!==Ve?Ve:Re}getBoolean(ze,Re=!1){const Ve=this.m.get(ze);return void 0===Ve?Re:"string"==typeof Ve?"true"===Ve:!!Ve}getNumber(ze,Re){const Ve=parseFloat(this.m.get(ze));return isNaN(Ve)?void 0!==Re?Re:NaN:Ve}set(ze,Re){this.m.set(ze,Re)}}const W=new u,I="ionic:",K="ionic-persist-config",k=(Ne,ze)=>("string"==typeof Ne&&(ze=Ne,Ne=void 0),(Ne=>P(Ne))(Ne).includes(ze)),P=(Ne=window)=>{if(typeof Ne>"u")return[];Ne.Ionic=Ne.Ionic||{};let ze=Ne.Ionic.platforms;return null==ze&&(ze=Ne.Ionic.platforms=T(Ne),ze.forEach(Re=>Ne.document.documentElement.classList.add(`plt-${Re}`))),ze},T=Ne=>{const ze=W.get("platform");return Object.keys(he).filter(Re=>{const Ve=ze?.[Re];return"function"==typeof Ve?Ve(Ne):he[Re](Ne)})},de=Ne=>!!(X(Ne,/iPad/i)||X(Ne,/Macintosh/i)&&se(Ne)),U=Ne=>X(Ne,/android|sink/i),se=Ne=>z(Ne,"(any-pointer:coarse)"),ke=Ne=>O(Ne)||N(Ne),O=Ne=>!!(Ne.cordova||Ne.phonegap||Ne.PhoneGap),N=Ne=>{const ze=Ne.Capacitor;return!!ze?.isNative},X=(Ne,ze)=>ze.test(Ne.navigator.userAgent),z=(Ne,ze)=>{var Re;return null===(Re=Ne.matchMedia)||void 0===Re?void 0:Re.call(Ne,ze).matches},he={ipad:de,iphone:Ne=>X(Ne,/iPhone/i),ios:Ne=>X(Ne,/iPhone|iPod/i)||de(Ne),android:U,phablet:Ne=>{const ze=Ne.innerWidth,Re=Ne.innerHeight,Ve=Math.min(ze,Re),st=Math.max(ze,Re);return Ve>390&&Ve<520&&st>620&&st<800},tablet:Ne=>{const ze=Ne.innerWidth,Re=Ne.innerHeight,Ve=Math.min(ze,Re),st=Math.max(ze,Re);return de(Ne)||(Ne=>U(Ne)&&!X(Ne,/mobile/i))(Ne)||Ve>460&&Ve<820&&st>780&&st<1400},cordova:O,capacitor:N,electron:Ne=>X(Ne,/electron/i),pwa:Ne=>{var ze;return!!(null!==(ze=Ne.matchMedia)&&void 0!==ze&&ze.call(Ne,"(display-mode: standalone)").matches||Ne.navigator.standalone)},mobile:se,mobileweb:Ne=>se(Ne)&&!ke(Ne),desktop:Ne=>!se(Ne),hybrid:ke};let $e;const ht=Ne=>Ne&&(0,S.g)(Ne)||$e,Gt=(Ne={})=>{if(typeof window>"u")return;const ze=window.document,Re=window,Ve=Re.Ionic=Re.Ionic||{},st={};Ne._ael&&(st.ael=Ne._ael),Ne._rel&&(st.rel=Ne._rel),Ne._ce&&(st.ce=Ne._ce),(0,S.a)(st);const $t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ne=>{try{const ze=Ne.sessionStorage.getItem(K);return null!==ze?JSON.parse(ze):{}}catch{return{}}})(Re)),{persistConfig:!1}),Ve.config),(Ne=>{const ze={};return Ne.location.search.slice(1).split("&").map(Re=>Re.split("=")).map(([Re,Ve])=>[decodeURIComponent(Re),decodeURIComponent(Ve)]).filter(([Re])=>((Ne,ze)=>Ne.substr(0,ze.length)===ze)(Re,I)).map(([Re,Ve])=>[Re.slice(6),Ve]).forEach(([Re,Ve])=>{ze[Re]=Ve}),ze})(Re)),Ne);W.reset($t),W.getBoolean("persistConfig")&&((Ne,ze)=>{try{Ne.sessionStorage.setItem(K,JSON.stringify(ze))}catch{return}})(Re,$t),P(Re),Ve.config=W,Ve.mode=$e=W.get("mode",ze.documentElement.getAttribute("mode")||(k(Re,"ios")?"ios":"md")),W.set("mode",$e),ze.documentElement.setAttribute("mode",$e),ze.documentElement.classList.add($e),W.getBoolean("_testing")&&W.set("animated",!1);const fe=at=>{var Ze;return null===(Ze=at.tagName)||void 0===Ze?void 0:Ze.startsWith("ION-")},Ue=at=>["ios","md"].includes(at);(0,S.c)(at=>{for(;at;){const Ze=at.mode||at.getAttribute("mode");if(Ze){if(Ue(Ze))return Ze;fe(at)&&console.warn('Invalid ionic mode: "'+Ze+'", expected: "ios" or "md"')}at=at.parentElement}return $e})}},5444:(me,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{iosTransitionAnimation:()=>T,shadow:()=>E});var S=C(2723),u=C(8044);C(6940),C(3426);const R=de=>document.querySelector(`${de}.ion-cloned-element`),E=de=>de.shadowRoot||de,I=de=>{const _e="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),ie="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=_e){const U=_e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=U?U.querySelector(ie):null}return de.querySelector(ie)},K=(de,_e)=>{const ie="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let U=[];if(null!=ie){const M=ie.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=M&&(U=M.querySelectorAll("ion-buttons"))}else U=de.querySelectorAll("ion-buttons");for(const M of U){const J=M.closest("ion-header"),le=J&&!J.classList.contains("header-collapse-condense-inactive"),se=M.querySelector("ion-back-button"),Ee=M.classList.contains("buttons-collapse");if(null!==se&&("start"===M.slot||""===M.slot)&&(Ee&&le&&_e||!Ee))return se}return null},k=(de,_e,ie,U,M,J,le,se,Ee)=>{var ke,O;const N=_e?`calc(100% - ${M.right+4}px)`:M.left-4+"px",te=_e?"right":"left",D=_e?"left":"right",X=_e?"right":"left",z=(null===(ke=J.textContent)||void 0===ke?void 0:ke.trim())===(null===(O=se.textContent)||void 0===O?void 0:O.trim()),$e=(Ee.height-$)/le.height,ht=z?`scale(${Ee.width/le.width}, ${$e})`:`scale(${$e})`,Gt="scale(1)",ze=E(U).querySelector("ion-icon").getBoundingClientRect(),Re=_e?ze.width/2-(ze.right-M.right)+"px":M.left-ze.width/2+"px",Ve=_e?`-${window.innerWidth-M.right}px`:`${M.left}px`,st=`${Ee.top}px`,$t=`${M.top}px`,at=ie?[{offset:0,transform:`translate3d(${Ve}, ${$t}, 0)`},{offset:1,transform:`translate3d(${Re}, ${st}, 0)`}]:[{offset:0,transform:`translate3d(${Re}, ${st}, 0)`},{offset:1,transform:`translate3d(${Ve}, ${$t}, 0)`}],Ut=ie?[{offset:0,opacity:1,transform:Gt},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Gt}],be=ie?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ge=(0,S.c)(),Je=(0,S.c)(),yt=(0,S.c)(),Nt=R("ion-back-button"),dn=E(Nt).querySelector(".button-text"),nn=E(Nt).querySelector("ion-icon");Nt.text=U.text,Nt.mode=U.mode,Nt.icon=U.icon,Nt.color=U.color,Nt.disabled=U.disabled,Nt.style.setProperty("display","block"),Nt.style.setProperty("position","fixed"),Je.addElement(nn),ge.addElement(dn),yt.addElement(Nt),yt.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(at),ge.beforeStyles({"transform-origin":`${te} top`}).beforeAddWrite(()=>{U.style.setProperty("display","none"),Nt.style.setProperty(te,N)}).afterAddWrite(()=>{U.style.setProperty("display",""),Nt.style.setProperty("display","none"),Nt.style.removeProperty(te)}).keyframes(Ut),Je.beforeStyles({"transform-origin":`${D} center`}).keyframes(be),de.addAnimation([ge,Je,yt])},P=(de,_e,ie,U,M,J,le,se)=>{var Ee,ke;const O=_e?"right":"left",N=_e?`calc(100% - ${M.right}px)`:`${M.left}px`,D=`${M.top}px`,z=_e?`-${window.innerWidth-se.right-8}px`:se.x-8+"px",$e=se.y-2+"px",ht=(null===(Ee=le.textContent)||void 0===Ee?void 0:Ee.trim())===(null===(ke=U.textContent)||void 0===ke?void 0:ke.trim()),Ne=se.height/(J.height-$),ze="scale(1)",Re=ht?`scale(${se.width/J.width}, ${Ne})`:`scale(${Ne})`,$t=ie?[{offset:0,opacity:0,transform:`translate3d(${z}, ${$e}, 0) ${Re}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${D}, 0) ${ze}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${D}, 0) ${ze}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${z}, ${$e}, 0) ${Re}`}],fe=R("ion-title"),Ue=(0,S.c)();fe.innerText=U.innerText,fe.size=U.size,fe.color=U.color,Ue.addElement(fe),Ue.beforeStyles({"transform-origin":`${O} top`,height:`${M.height}px`,display:"",position:"relative",[O]:N}).beforeAddWrite(()=>{U.style.setProperty("opacity","0")}).afterAddWrite(()=>{U.style.setProperty("opacity",""),fe.style.setProperty("display","none")}).keyframes($t),de.addAnimation(Ue)},T=(de,_e)=>{var ie;try{const U="cubic-bezier(0.32,0.72,0,1)",M="opacity",J="transform",le="0%",Ee="rtl"===de.ownerDocument.dir,ke=Ee?"-99.5%":"99.5%",O=Ee?"33%":"-33%",N=_e.enteringEl,te=_e.leavingEl,D="back"===_e.direction,X=N.querySelector(":scope > ion-content"),z=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),he=N.querySelectorAll(":scope > ion-header > ion-toolbar"),$e=(0,S.c)(),ht=(0,S.c)();if($e.addElement(N).duration((null!==(ie=_e.duration)&&void 0!==ie?ie:0)||540).easing(_e.easing||U).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=de){const Re=(0,S.c)();Re.addElement(de),$e.addAnimation(Re)}if(X||0!==he.length||0!==z.length?(ht.addElement(X),ht.addElement(z)):ht.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$e.addAnimation(ht),D?ht.beforeClearStyles([M]).fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.8,1):ht.beforeClearStyles([M]).fromTo("transform",`translateX(${ke})`,`translateX(${le})`),X){const Re=E(X).querySelector(".transition-effect");if(Re){const Ve=Re.querySelector(".transition-cover"),st=Re.querySelector(".transition-shadow"),$t=(0,S.c)(),fe=(0,S.c)(),Ue=(0,S.c)();$t.addElement(Re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fe.addElement(Ve).beforeClearStyles([M]).fromTo(M,0,.1),Ue.addElement(st).beforeClearStyles([M]).fromTo(M,.03,.7),$t.addAnimation([fe,Ue]),ht.addAnimation([$t])}}const Gt=N.querySelector("ion-header.header-collapse-condense"),{forward:Ne,backward:ze}=((de,_e,ie,U,M)=>{const J=K(U,ie),le=I(M),se=I(U),Ee=K(M,ie),ke=null!==J&&null!==le&&!ie,O=null!==se&&null!==Ee&&ie;if(ke){const N=le.getBoundingClientRect(),te=J.getBoundingClientRect(),D=E(J).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(le).querySelector(".toolbar-title").getBoundingClientRect();P(de,_e,ie,le,N,he,D,X),k(de,_e,ie,J,te,D,X,le,he)}else if(O){const N=se.getBoundingClientRect(),te=Ee.getBoundingClientRect(),D=E(Ee).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(se).querySelector(".toolbar-title").getBoundingClientRect();P(de,_e,ie,se,N,he,D,X),k(de,_e,ie,Ee,te,D,X,se,he)}return{forward:ke,backward:O}})($e,Ee,D,N,te);if(he.forEach(Re=>{const Ve=(0,S.c)();Ve.addElement(Re),$e.addAnimation(Ve);const st=(0,S.c)();st.addElement(Re.querySelector("ion-title"));const $t=(0,S.c)(),fe=Array.from(Re.querySelectorAll("ion-buttons,[menuToggle]")),Ue=Re.closest("ion-header"),at=Ue?.classList.contains("header-collapse-condense-inactive");let Ze;Ze=fe.filter(D?be=>{const ge=be.classList.contains("buttons-collapse");return ge&&!at||!ge}:be=>!be.classList.contains("buttons-collapse")),$t.addElement(Ze);const St=(0,S.c)();St.addElement(Re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ut=(0,S.c)();Ut.addElement(E(Re).querySelector(".toolbar-background"));const jt=(0,S.c)(),xe=Re.querySelector("ion-back-button");if(xe&&jt.addElement(xe),Ve.addAnimation([st,$t,St,Ut,jt]),$t.fromTo(M,.01,1),St.fromTo(M,.01,1),D)at||st.fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.01,1),St.fromTo("transform",`translateX(${O})`,`translateX(${le})`),jt.fromTo(M,.01,1);else if(Gt||st.fromTo("transform",`translateX(${ke})`,`translateX(${le})`).fromTo(M,.01,1),St.fromTo("transform",`translateX(${ke})`,`translateX(${le})`),Ut.beforeClearStyles([M,"transform"]),Ue?.translucent?Ut.fromTo("transform",Ee?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ut.fromTo(M,.01,"var(--opacity)"),Ne||jt.fromTo(M,.01,1),xe&&!Ne){const ge=(0,S.c)();ge.addElement(E(xe).querySelector(".button-text")).fromTo("transform",Ee?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ve.addAnimation(ge)}}),te){const Re=(0,S.c)(),Ve=te.querySelector(":scope > ion-content"),st=te.querySelectorAll(":scope > ion-header > ion-toolbar"),$t=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ve||0!==st.length||0!==$t.length?(Re.addElement(Ve),Re.addElement($t)):Re.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$e.addAnimation(Re),D){Re.beforeClearStyles([M]).fromTo("transform",`translateX(${le})`,Ee?"translateX(-100%)":"translateX(100%)");const fe=(0,u.g)(te);$e.afterAddWrite(()=>{"normal"===$e.getDirection()&&fe.style.setProperty("display","none")})}else Re.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,1,.8);if(Ve){const fe=E(Ve).querySelector(".transition-effect");if(fe){const Ue=fe.querySelector(".transition-cover"),at=fe.querySelector(".transition-shadow"),Ze=(0,S.c)(),St=(0,S.c)(),Ut=(0,S.c)();Ze.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),St.addElement(Ue).beforeClearStyles([M]).fromTo(M,.1,0),Ut.addElement(at).beforeClearStyles([M]).fromTo(M,.7,.03),Ze.addAnimation([St,Ut]),Re.addAnimation([Ze])}}st.forEach(fe=>{const Ue=(0,S.c)();Ue.addElement(fe);const at=(0,S.c)();at.addElement(fe.querySelector("ion-title"));const Ze=(0,S.c)(),St=fe.querySelectorAll("ion-buttons,[menuToggle]"),Ut=fe.closest("ion-header"),jt=Ut?.classList.contains("header-collapse-condense-inactive"),xe=Array.from(St).filter(dn=>{const nn=dn.classList.contains("buttons-collapse");return nn&&!jt||!nn});Ze.addElement(xe);const be=(0,S.c)(),ge=fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ge.length>0&&be.addElement(ge);const Je=(0,S.c)();Je.addElement(E(fe).querySelector(".toolbar-background"));const yt=(0,S.c)(),Nt=fe.querySelector("ion-back-button");if(Nt&&yt.addElement(Nt),Ue.addAnimation([at,Ze,be,yt,Je]),$e.addAnimation(Ue),yt.fromTo(M,.99,0),Ze.fromTo(M,.99,0),be.fromTo(M,.99,0),D){if(jt||at.fromTo("transform",`translateX(${le})`,Ee?"translateX(-100%)":"translateX(100%)").fromTo(M,.99,0),be.fromTo("transform",`translateX(${le})`,Ee?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([M,"transform"]),Ut?.translucent?Je.fromTo("transform","translateX(0px)",Ee?"translateX(-100%)":"translateX(100%)"):Je.fromTo(M,"var(--opacity)",0),Nt&&!ze){const nn=(0,S.c)();nn.addElement(E(Nt).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(Ee?-124:124)+"px"})`),Ue.addAnimation(nn)}}else jt||at.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,.99,0).afterClearStyles([J,M]),be.fromTo("transform",`translateX(${le})`,`translateX(${O})`).afterClearStyles([J,M]),yt.afterClearStyles([M]),at.afterClearStyles([M]),Ze.afterClearStyles([M])})}return $e}catch(U){throw U}},$=10},5922:(me,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{mdTransitionAnimation:()=>V});var S=C(2723),u=C(8044);C(6940),C(3426);const V=(R,E)=>{var I,K,F;const k="40px",T="back"===E.direction,de=E.leavingEl,_e=(0,u.g)(E.enteringEl),ie=_e.querySelector("ion-toolbar"),U=(0,S.c)();if(U.addElement(_e).fill("both").beforeRemoveClass("ion-page-invisible"),T?U.duration((null!==(I=E.duration)&&void 0!==I?I:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):U.duration((null!==(K=E.duration)&&void 0!==K?K:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${k})`,"translateY(0px)").fromTo("opacity",.01,1),ie){const M=(0,S.c)();M.addElement(ie),U.addAnimation(M)}if(de&&T){U.duration((null!==(F=E.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const M=(0,S.c)();M.addElement((0,u.g)(de)).onFinish(J=>{1===J&&M.elements.length>0&&M.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${k})`).fromTo("opacity",1,0),U.addAnimation(M)}return U}},7261:(me,Ce,C)=>{"use strict";C.d(Ce,{B:()=>at,G:()=>Ze,O:()=>St,a:()=>P,b:()=>T,c:()=>ie,d:()=>Ut,e:()=>jt,f:()=>ht,g:()=>Ne,h:()=>Ve,i:()=>$t,j:()=>M,k:()=>J,l:()=>$,m:()=>de,n:()=>F,o:()=>Ee,q:()=>he,s:()=>Ue});var S=C(3918),u=C(6940),W=C(5194),q=C(8573),V=C(1940),R=C(4675),E=C(6240);let I=0,K=0;const F=new WeakMap,k=xe=>({create:be=>le(xe,be),dismiss:(be,ge,Je)=>D(document,be,ge,xe,Je),getTop:()=>(0,S.Z)(function*(){return he(document,xe)})()}),P=k("ion-alert"),T=k("ion-action-sheet"),$=k("ion-loading"),de=k("ion-modal"),ie=k("ion-popover"),M=xe=>{typeof document<"u"&&te(document);const be=I++;xe.overlayIndex=be},J=xe=>(xe.hasAttribute("id")||(xe.id="ion-overlay-"+ ++K),xe.id),le=(xe,be)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(xe).then(()=>{const ge=document.createElement(xe);return ge.classList.add("overlay-hidden"),Object.assign(ge,Object.assign(Object.assign({},be),{hasController:!0})),ze(document).appendChild(ge),new Promise(Je=>(0,R.c)(ge,Je))}):Promise.resolve(),se='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ee=(xe,be)=>{let ge=xe.querySelector(se);const Je=ge?.shadowRoot;Je&&(ge=Je.querySelector(se)||ge),ge?(0,R.f)(ge):be.focus()},O=(xe,be)=>{const ge=Array.from(xe.querySelectorAll(se));let Je=ge.length>0?ge[ge.length-1]:null;const yt=Je?.shadowRoot;yt&&(Je=yt.querySelector(se)||Je),Je?Je.focus():be.focus()},te=xe=>{0===I&&(I=1,xe.addEventListener("focus",be=>{((xe,be)=>{const ge=he(be,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=xe.target;ge&&Je&&!ge.classList.contains("ion-disable-focus-trap")&&(ge.shadowRoot?(()=>{if(ge.contains(Je))ge.lastFocus=Je;else{const dn=ge.lastFocus;Ee(ge,ge),dn===be.activeElement&&O(ge,ge),ge.lastFocus=be.activeElement}})():(()=>{if(ge===Je)ge.lastFocus=void 0;else{const dn=(0,R.g)(ge);if(!dn.contains(Je))return;const nn=dn.querySelector(".ion-overlay-wrapper");if(!nn)return;if(nn.contains(Je)||Je===dn.querySelector("ion-backdrop"))ge.lastFocus=Je;else{const pn=ge.lastFocus;Ee(nn,ge),pn===be.activeElement&&O(nn,ge),ge.lastFocus=be.activeElement}}})())})(be,xe)},!0),xe.addEventListener("ionBackButton",be=>{const ge=he(xe);ge?.backdropDismiss&&be.detail.register(V.OVERLAY_BACK_BUTTON_PRIORITY,()=>ge.dismiss(void 0,at))}),xe.addEventListener("keydown",be=>{if("Escape"===be.key){const ge=he(xe);ge?.backdropDismiss&&ge.dismiss(void 0,at)}}))},D=(xe,be,ge,Je,yt)=>{const Nt=he(xe,Je,yt);return Nt?Nt.dismiss(be,ge):Promise.reject("overlay does not exist")},z=(xe,be)=>((xe,be)=>(void 0===be&&(be="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(xe.querySelectorAll(be)).filter(ge=>ge.overlayIndex>0)))(xe,be).filter(ge=>!(xe=>xe.classList.contains("overlay-hidden"))(ge)),he=(xe,be,ge)=>{const Je=z(xe,be);return void 0===ge?Je[Je.length-1]:Je.find(yt=>yt.id===ge)},$e=(xe=!1)=>{const ge=ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ge&&(xe?ge.setAttribute("aria-hidden","true"):ge.removeAttribute("aria-hidden"))},ht=function(){var xe=(0,S.Z)(function*(be,ge,Je,yt,Nt){var dn,nn;if(be.presented)return;$e(!0),be.presented=!0,be.willPresent.emit(),null===(dn=be.willPresentShorthand)||void 0===dn||dn.emit();const pn=(0,W.b)(be),Jt=be.enterAnimation?be.enterAnimation:W.c.get(ge,"ios"===pn?Je:yt);(yield Re(be,Jt,be.el,Nt))&&(be.didPresent.emit(),null===(nn=be.didPresentShorthand)||void 0===nn||nn.emit()),"ION-TOAST"!==be.el.tagName&&Gt(be.el),be.keyboardClose&&(null===document.activeElement||!be.el.contains(document.activeElement))&&be.el.focus()});return function(ge,Je,yt,Nt,dn){return xe.apply(this,arguments)}}(),Gt=function(){var xe=(0,S.Z)(function*(be){let ge=document.activeElement;if(!ge)return;const Je=ge?.shadowRoot;Je&&(ge=Je.querySelector(se)||ge),yield be.onDidDismiss(),ge.focus()});return function(ge){return xe.apply(this,arguments)}}(),Ne=function(){var xe=(0,S.Z)(function*(be,ge,Je,yt,Nt,dn,nn){var pn,Jt;if(!be.presented)return!1;void 0!==u.d&&1===z(u.d).length&&$e(!1),be.presented=!1;try{be.el.style.setProperty("pointer-events","none"),be.willDismiss.emit({data:ge,role:Je}),null===(pn=be.willDismissShorthand)||void 0===pn||pn.emit({data:ge,role:Je});const _r=(0,W.b)(be),Zn=be.leaveAnimation?be.leaveAnimation:W.c.get(yt,"ios"===_r?Nt:dn);Je!==Ze&&(yield Re(be,Zn,be.el,nn)),be.didDismiss.emit({data:ge,role:Je}),null===(Jt=be.didDismissShorthand)||void 0===Jt||Jt.emit({data:ge,role:Je}),F.delete(be),be.el.classList.add("overlay-hidden"),be.el.style.removeProperty("pointer-events"),void 0!==be.el.lastFocus&&(be.el.lastFocus=void 0)}catch(_r){console.error(_r)}return be.el.remove(),!0});return function(ge,Je,yt,Nt,dn,nn,pn){return xe.apply(this,arguments)}}(),ze=xe=>xe.querySelector("ion-app")||xe.body,Re=function(){var xe=(0,S.Z)(function*(be,ge,Je,yt){Je.classList.remove("overlay-hidden");const dn=ge(be.el,yt);(!be.animated||!W.c.getBoolean("animated",!0))&&dn.duration(0),be.keyboardClose&&dn.beforeAddWrite(()=>{const pn=Je.ownerDocument.activeElement;pn?.matches("input,ion-input, ion-textarea")&&pn.blur()});const nn=F.get(be)||[];return F.set(be,[...nn,dn]),yield dn.play(),!0});return function(ge,Je,yt,Nt){return xe.apply(this,arguments)}}(),Ve=(xe,be)=>{let ge;const Je=new Promise(yt=>ge=yt);return st(xe,be,yt=>{ge(yt.detail)}),Je},st=(xe,be,ge)=>{const Je=yt=>{(0,R.b)(xe,be,Je),ge(yt)};(0,R.a)(xe,be,Je)},$t=xe=>"cancel"===xe||xe===at,fe=xe=>xe(),Ue=(xe,be)=>{if("function"==typeof xe)return W.c.get("_zoneGate",fe)(()=>{try{return xe(be)}catch(Je){throw Je}})},at="backdrop",Ze="gesture",St=39,Ut=xe=>{let ge,be=!1;const Je=(0,q.C)(),yt=(nn=!1)=>{if(ge&&!nn)return{delegate:ge,inline:be};const{el:pn,hasController:Jt,delegate:_r}=xe;return be=null!==pn.parentNode&&!Jt,ge=be?_r||Je:_r,{inline:be,delegate:ge}};return{attachViewToDom:function(){var nn=(0,S.Z)(function*(pn){const{delegate:Jt}=yt(!0);if(Jt)return yield Jt.attachViewToDom(xe.el,pn);const{hasController:_r}=xe;if(_r&&void 0!==pn)throw new Error("framework delegate is missing");return null});return function(Jt){return nn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:nn}=yt();nn&&void 0!==xe.el&&nn.removeViewFromDom(xe.el.parentElement,xe.el)}}},jt=()=>{let xe;const be=()=>{xe&&(xe(),xe=void 0)};return{addClickListener:(Je,yt)=>{be();const Nt=void 0!==yt?document.getElementById(yt):null;Nt?xe=((nn,pn)=>{const Jt=()=>{pn.present()};return nn.addEventListener("click",Jt),()=>{nn.removeEventListener("click",Jt)}})(Nt,Je):(0,E.p)(`A trigger element with the ID "${yt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:be}}},2410:(me,Ce,C)=>{"use strict";var u=C(1491)("ArrayBuffer.prototype.byteLength",!0),W=C(9850);me.exports=function(V){return W(V)?u?u(V):V.byteLength:NaN}},1491:(me,Ce,C)=>{"use strict";var S=C(3485),u=C(1773),W=u(S("String.prototype.indexOf"));me.exports=function(V,R){var E=S(V,!!R);return"function"==typeof E&&W(V,".prototype.")>-1?u(E):E}},1773:(me,Ce,C)=>{"use strict";var S=C(8956),u=C(3485),W=C(3931),q=u("%TypeError%"),V=u("%Function.prototype.apply%"),R=u("%Function.prototype.call%"),E=u("%Reflect.apply%",!0)||S.call(R,V),I=u("%Object.defineProperty%",!0),K=u("%Math.max%");if(I)try{I({},"a",{value:1})}catch{I=null}me.exports=function(P){if("function"!=typeof P)throw new q("a function is required");var T=E(S,R,arguments);return W(T,1+K(0,P.length-(arguments.length-1)),!0)};var F=function(){return E(S,V,arguments)};I?I(me.exports,"apply",{value:F}):me.exports.apply=F},7303:me=>{var Ce={utf8:{stringToBytes:function(C){return Ce.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Ce.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],u=0;u<C.length;u++)S.push(255&C.charCodeAt(u));return S},bytesToString:function(C){for(var S=[],u=0;u<C.length;u++)S.push(String.fromCharCode(C[u]));return S.join("")}}};me.exports=Ce},3754:me=>{var Ce,C;Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me.exports=C={rotl:function(S,u){return S<<u|S>>>32-u},rotr:function(S,u){return S<<32-u|S>>>u},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var u=0;u<S.length;u++)S[u]=C.endian(S[u]);return S},randomBytes:function(S){for(var u=[];S>0;S--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(S){for(var u=[],W=0,q=0;W<S.length;W++,q+=8)u[q>>>5]|=S[W]<<24-q%32;return u},wordsToBytes:function(S){for(var u=[],W=0;W<32*S.length;W+=8)u.push(S[W>>>5]>>>24-W%32&255);return u},bytesToHex:function(S){for(var u=[],W=0;W<S.length;W++)u.push((S[W]>>>4).toString(16)),u.push((15&S[W]).toString(16));return u.join("")},hexToBytes:function(S){for(var u=[],W=0;W<S.length;W+=2)u.push(parseInt(S.substr(W,2),16));return u},bytesToBase64:function(S){for(var u=[],W=0;W<S.length;W+=3)for(var q=S[W]<<16|S[W+1]<<8|S[W+2],V=0;V<4;V++)u.push(8*W+6*V<=8*S.length?Ce.charAt(q>>>6*(3-V)&63):"=");return u.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],W=0,q=0;W<S.length;q=++W%4)0!=q&&u.push((Ce.indexOf(S.charAt(W-1))&Math.pow(2,-2*q+8)-1)<<2*q|Ce.indexOf(S.charAt(W))>>>6-2*q);return u}}},307:(me,Ce,C)=>{"use strict";var S=C(5747),u=C(1491),W=C(4300),q=C(3485),V=C(1324),R=C(4355),E=C(500),I=C(1568),K=C(9604),F=C(9850),k=C(6994),P=C(9649),T=C(5327),$=C(5692),de=C(8460),_e=C(9148),ie=C(927),U=C(2410),M=u("SharedArrayBuffer.prototype.byteLength",!0),J=u("Date.prototype.getTime"),le=Object.getPrototypeOf,se=u("Object.prototype.toString"),Ee=q("%Set%",!0),ke=u("Map.prototype.has",!0),O=u("Map.prototype.get",!0),N=u("Map.prototype.size",!0),te=u("Set.prototype.add",!0),D=u("Set.prototype.delete",!0),X=u("Set.prototype.has",!0),z=u("Set.prototype.size",!0);function he(fe,Ue,at,Ze){for(var Ut,St=V(fe);(Ut=St.next())&&!Ut.done;)if(ze(Ue,Ut.value,at,Ze))return D(fe,Ut.value),!0;return!1}function $e(fe){return typeof fe>"u"?null:"object"!=typeof fe?"symbol"!=typeof fe&&("string"!=typeof fe&&"number"!=typeof fe||+fe==+fe):void 0}function ht(fe,Ue,at,Ze,St,Ut){var jt=$e(at);if(null!=jt)return jt;var xe=O(Ue,jt),be=S({},St,{strict:!1});return!(typeof xe>"u"&&!ke(Ue,jt)||!ze(Ze,xe,be,Ut))&&!ke(fe,jt)&&ze(Ze,xe,be,Ut)}function Gt(fe,Ue,at){var Ze=$e(at);return Ze??(X(Ue,Ze)&&!X(fe,Ze))}function Ne(fe,Ue,at,Ze,St,Ut){for(var xe,be,jt=V(fe);(xe=jt.next())&&!xe.done;)if(ze(at,be=xe.value,St,Ut)&&ze(Ze,O(Ue,be),St,Ut))return D(fe,be),!0;return!1}function ze(fe,Ue,at,Ze){var St=at||{};if(St.strict?E(fe,Ue):fe===Ue)return!0;if(de(fe)!==de(Ue))return!1;if(!fe||!Ue||"object"!=typeof fe&&"object"!=typeof Ue)return St.strict?E(fe,Ue):fe==Ue;var ge,xe=Ze.has(fe),be=Ze.has(Ue);if(xe&&be){if(Ze.get(fe)===Ze.get(Ue))return!0}else ge={};return xe||Ze.set(fe,ge),be||Ze.set(Ue,ge),function $t(fe,Ue,at,Ze){var St,Ut;if(typeof fe!=typeof Ue||null==fe||null==Ue||se(fe)!==se(Ue)||I(fe)!==I(Ue))return!1;if(K(fe)!==K(Ue))return!1;var be=fe instanceof Error,ge=Ue instanceof Error;if(be!==ge||(be||ge)&&(fe.name!==Ue.name||fe.message!==Ue.message))return!1;var Je=P(fe),yt=P(Ue);if(Je!==yt||(Je||yt)&&(fe.source!==Ue.source||W(fe)!==W(Ue)))return!1;var Nt=k(fe),dn=k(Ue);if(Nt!==dn||(Nt||dn)&&J(fe)!==J(Ue)||at.strict&&le&&le(fe)!==le(Ue))return!1;var nn=ie(fe),pn=ie(Ue);if(nn!==pn)return!1;if(nn||pn){if(fe.length!==Ue.length)return!1;for(St=0;St<fe.length;St++)if(fe[St]!==Ue[St])return!1;return!0}var Jt=Re(fe),_r=Re(Ue);if(Jt!==_r)return!1;if(Jt||_r){if(fe.length!==Ue.length)return!1;for(St=0;St<fe.length;St++)if(fe[St]!==Ue[St])return!1;return!0}var Zn=F(fe),Ho=F(Ue);if(Zn!==Ho)return!1;if(Zn||Ho)return U(fe)===U(Ue)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ue),at,Ze);var So=T(fe),wo=T(Ue);if(So!==wo)return!1;if(So||wo)return M(fe)===M(Ue)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ue),at,Ze);if(typeof fe!=typeof Ue)return!1;var Pn=$(fe),$r=$(Ue);if(Pn.length!==$r.length)return!1;for(Pn.sort(),$r.sort(),St=Pn.length-1;St>=0;St--)if(Pn[St]!=$r[St])return!1;for(St=Pn.length-1;St>=0;St--)if(!ze(fe[Ut=Pn[St]],Ue[Ut],at,Ze))return!1;var Ur=_e(fe),ro=_e(Ue);return Ur===ro&&("Set"===Ur||"Set"===ro?function Ve(fe,Ue,at,Ze){if(z(fe)!==z(Ue))return!1;for(var jt,xe,be,St=V(fe),Ut=V(Ue);(jt=St.next())&&!jt.done;)if(jt.value&&"object"==typeof jt.value)be||(be=new Ee),te(be,jt.value);else if(!X(Ue,jt.value)){if(at.strict||!Gt(fe,Ue,jt.value))return!1;be||(be=new Ee),te(be,jt.value)}if(be){for(;(xe=Ut.next())&&!xe.done;)if(xe.value&&"object"==typeof xe.value){if(!he(be,xe.value,at.strict,Ze))return!1}else if(!at.strict&&!X(fe,xe.value)&&!he(be,xe.value,at.strict,Ze))return!1;return 0===z(be)}return!0}(fe,Ue,at,Ze):"Map"!==Ur||function st(fe,Ue,at,Ze){if(N(fe)!==N(Ue))return!1;for(var jt,xe,be,ge,Je,yt,St=V(fe),Ut=V(Ue);(jt=St.next())&&!jt.done;)if(Je=jt.value[1],(ge=jt.value[0])&&"object"==typeof ge)be||(be=new Ee),te(be,ge);else if(typeof(yt=O(Ue,ge))>"u"&&!ke(Ue,ge)||!ze(Je,yt,at,Ze)){if(at.strict||!ht(fe,Ue,ge,Je,at,Ze))return!1;be||(be=new Ee),te(be,ge)}if(be){for(;(xe=Ut.next())&&!xe.done;)if(yt=xe.value[1],(ge=xe.value[0])&&"object"==typeof ge){if(!Ne(be,fe,ge,yt,at,Ze))return!1}else if(!(at.strict||fe.has(ge)&&ze(O(fe,ge),yt,at,Ze)||Ne(be,fe,ge,yt,S({},at,{strict:!1}),Ze)))return!1;return 0===z(be)}return!0}(fe,Ue,at,Ze))}(fe,Ue,St,Ze)}function Re(fe){return!(!fe||"object"!=typeof fe||"number"!=typeof fe.length||"function"!=typeof fe.copy||"function"!=typeof fe.slice||fe.length>0&&"number"!=typeof fe[0]||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))}me.exports=function(Ue,at,Ze){return ze(Ue,at,Ze,R())}},4467:(me,Ce,C)=>{"use strict";var S=C(7811)(),u=C(3485),W=S&&u("%Object.defineProperty%",!0);if(W)try{W({},"a",{value:1})}catch{W=!1}var q=u("%SyntaxError%"),V=u("%TypeError%"),R=C(6078);me.exports=function(I,K,F){if(!I||"object"!=typeof I&&"function"!=typeof I)throw new V("`obj` must be an object or a function`");if("string"!=typeof K&&"symbol"!=typeof K)throw new V("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new V("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new V("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new V("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new V("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,P=arguments.length>4?arguments[4]:null,T=arguments.length>5?arguments[5]:null,$=arguments.length>6&&arguments[6],de=!!R&&R(I,K);if(W)W(I,K,{configurable:null===T&&de?de.configurable:!T,enumerable:null===k&&de?de.enumerable:!k,value:F,writable:null===P&&de?de.writable:!P});else{if(!$&&(k||P||T))throw new q("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");I[K]=F}}},9567:(me,Ce,C)=>{"use strict";var S=C(5692),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),W=Object.prototype.toString,q=Array.prototype.concat,V=C(4467),E=C(7811)(),I=function(F,k,P,T){if(k in F)if(!0===T){if(F[k]===P)return}else if(!function(F){return"function"==typeof F&&"[object Function]"===W.call(F)}(T)||!T())return;E?V(F,k,P,!0):V(F,k,P)},K=function(F,k){var P=arguments.length>2?arguments[2]:{},T=S(k);u&&(T=q.call(T,Object.getOwnPropertySymbols(k)));for(var $=0;$<T.length;$+=1)I(F,T[$],k[T[$]],P[T[$]])};K.supportsDescriptors=!!E,me.exports=K},1633:function(me,Ce){!function(C){"use strict";var P,W=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,q=536870912,V=2*q,E=new WeakMap,K=function(P,T){return function($){var de=T.get($),_e=void 0===de?$.size:de<V?de+1:0;if(!$.has(_e))return P($,_e);if($.size<q){for(;$.has(_e);)_e=Math.floor(Math.random()*V);return P($,_e)}if($.size>W)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;$.has(_e);)_e=Math.floor(Math.random()*W);return P($,_e)}}((P=E,function(T,$){return P.set(T,$),$}),E),F=function(P){return function(T){var $=P(T);return T.add($),$}}(K);C.addUniqueNumber=F,C.generateUniqueNumber=K}(Ce)},2418:(me,Ce,C)=>{"use strict";var S=C(5487),u=Object.prototype.toString,W=Object.prototype.hasOwnProperty;me.exports=function(K,F,k){if(!S(F))throw new TypeError("iterator must be a function");var P;arguments.length>=3&&(P=k),"[object Array]"===u.call(K)?function(K,F,k){for(var P=0,T=K.length;P<T;P++)W.call(K,P)&&(null==k?F(K[P],P,K):F.call(k,K[P],P,K))}(K,F,P):"string"==typeof K?function(K,F,k){for(var P=0,T=K.length;P<T;P++)null==k?F(K.charAt(P),P,K):F.call(k,K.charAt(P),P,K)}(K,F,P):function(K,F,k){for(var P in K)W.call(K,P)&&(null==k?F(K[P],P,K):F.call(k,K[P],P,K))}(K,F,P)}},8026:me=>{"use strict";var C=Object.prototype.toString,S=Math.max,W=function(E,I){for(var K=[],F=0;F<E.length;F+=1)K[F]=E[F];for(var k=0;k<I.length;k+=1)K[k+E.length]=I[k];return K};me.exports=function(E){var I=this;if("function"!=typeof I||"[object Function]"!==C.apply(I))throw new TypeError("Function.prototype.bind called on incompatible "+I);for(var F,K=function(E,I){for(var K=[],F=1,k=0;F<E.length;F+=1,k+=1)K[k]=E[F];return K}(arguments),P=S(0,I.length-K.length),T=[],$=0;$<P;$++)T[$]="$"+$;if(F=Function("binder","return function ("+function(R,E){for(var I="",K=0;K<R.length;K+=1)I+=R[K],K+1<R.length&&(I+=",");return I}(T)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof F){var _e=I.apply(this,W(K,arguments));return Object(_e)===_e?_e:this}return I.apply(E,W(K,arguments))}),I.prototype){var de=function(){};de.prototype=I.prototype,F.prototype=new de,de.prototype=null}return F}},8956:(me,Ce,C)=>{"use strict";var S=C(8026);me.exports=Function.prototype.bind||S},7688:me=>{"use strict";var Ce=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Ce.functionsHaveConfigurableNames=function(){if(!Ce()||!C)return!1;var W=C(function(){},"name");return!!W&&!!W.configurable};var S=Function.prototype.bind;Ce.boundFunctionsHaveNames=function(){return Ce()&&"function"==typeof S&&""!==function(){}.bind().name},me.exports=Ce},3485:(me,Ce,C)=>{"use strict";var S,u=SyntaxError,W=Function,q=TypeError,V=function(X){try{return W('"use strict"; return ('+X+").constructor;")()}catch{}},R=Object.getOwnPropertyDescriptor;if(R)try{R({},"")}catch{R=null}var E=function(){throw new q},I=R?function(){try{return E}catch{try{return R(arguments,"callee").get}catch{return E}}}():E,K=C(2337)(),F=C(1441)(),k=Object.getPrototypeOf||(F?function(X){return X.__proto__}:null),P={},T=typeof Uint8Array>"u"||!k?S:k(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":K&&k?k([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":W,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&k?k(k([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!k?S:k((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!k?S:k((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&k?k(""[Symbol.iterator]()):S,"%Symbol%":K?Symbol:S,"%SyntaxError%":u,"%ThrowTypeError%":I,"%TypedArray%":T,"%TypeError%":q,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(k)try{null.error}catch(X){var de=k(k(X));$["%Error.prototype%"]=de}var _e=function X(z){var he;if("%AsyncFunction%"===z)he=V("async function () {}");else if("%GeneratorFunction%"===z)he=V("function* () {}");else if("%AsyncGeneratorFunction%"===z)he=V("async function* () {}");else if("%AsyncGenerator%"===z){var $e=X("%AsyncGeneratorFunction%");$e&&(he=$e.prototype)}else if("%AsyncIteratorPrototype%"===z){var ht=X("%AsyncGenerator%");ht&&k&&(he=k(ht.prototype))}return $[z]=he,he},ie={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=C(8956),M=C(7528),J=U.call(Function.call,Array.prototype.concat),le=U.call(Function.apply,Array.prototype.splice),se=U.call(Function.call,String.prototype.replace),Ee=U.call(Function.call,String.prototype.slice),ke=U.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,D=function(z,he){var ht,$e=z;if(M(ie,$e)&&($e="%"+(ht=ie[$e])[0]+"%"),M($,$e)){var Gt=$[$e];if(Gt===P&&(Gt=_e($e)),typeof Gt>"u"&&!he)throw new q("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:ht,name:$e,value:Gt}}throw new u("intrinsic "+z+" does not exist!")};me.exports=function(z,he){if("string"!=typeof z||0===z.length)throw new q("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof he)throw new q('"allowMissing" argument must be a boolean');if(null===ke(/^%?[^%]*%?$/,z))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $e=function(z){var he=Ee(z,0,1),$e=Ee(z,-1);if("%"===he&&"%"!==$e)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===$e&&"%"!==he)throw new u("invalid intrinsic syntax, expected opening `%`");var ht=[];return se(z,O,function(Gt,Ne,ze,Re){ht[ht.length]=ze?se(Re,N,"$1"):Ne||Gt}),ht}(z),ht=$e.length>0?$e[0]:"",Gt=D("%"+ht+"%",he),Ne=Gt.name,ze=Gt.value,Re=!1,Ve=Gt.alias;Ve&&(ht=Ve[0],le($e,J([0,1],Ve)));for(var st=1,$t=!0;st<$e.length;st+=1){var fe=$e[st],Ue=Ee(fe,0,1),at=Ee(fe,-1);if(('"'===Ue||"'"===Ue||"`"===Ue||'"'===at||"'"===at||"`"===at)&&Ue!==at)throw new u("property names with quotes must have matching quotes");if(("constructor"===fe||!$t)&&(Re=!0),M($,Ne="%"+(ht+="."+fe)+"%"))ze=$[Ne];else if(null!=ze){if(!(fe in ze)){if(!he)throw new q("base intrinsic for "+z+" exists, but the property is not available.");return}if(R&&st+1>=$e.length){var Ze=R(ze,fe);ze=($t=!!Ze)&&"get"in Ze&&!("originalValue"in Ze.get)?Ze.get:ze[fe]}else $t=M(ze,fe),ze=ze[fe];$t&&!Re&&($[Ne]=ze)}}return ze}},6078:(me,Ce,C)=>{"use strict";var u=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}me.exports=u},5112:me=>{"use strict";var Ce=typeof BigInt<"u"&&BigInt;me.exports=function(){return"function"==typeof Ce&&"function"==typeof BigInt&&"bigint"==typeof Ce(42)&&"bigint"==typeof BigInt(42)}},7811:(me,Ce,C)=>{"use strict";var u=C(3485)("%Object.defineProperty%",!0),W=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};W.hasArrayLengthDefineBug=function(){if(!W())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},me.exports=W},1441:me=>{"use strict";var Ce={foo:{}},C=Object;me.exports=function(){return{__proto__:Ce}.foo===Ce.foo&&!({__proto__:null}instanceof C)}},2337:(me,Ce,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,u=C(2759);me.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&u()}},2759:me=>{"use strict";me.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),u=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var q=Object.getOwnPropertySymbols(C);if(1!==q.length||q[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var V=Object.getOwnPropertyDescriptor(C,S);if(42!==V.value||!0!==V.enumerable)return!1}return!0}},6518:(me,Ce,C)=>{"use strict";var S=C(2759);me.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(me,Ce,C)=>{"use strict";var S=Function.prototype.call,u=Object.prototype.hasOwnProperty,W=C(8956);me.exports=W.call(S,u)},2605:(me,Ce,C)=>{"use strict";var S=C(3485),u=C(7528),W=C(4355)(),q=S("%TypeError%"),V={assert:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");if(W.assert(R),!V.has(R,E))throw new q("`"+E+"` is not present on `O`")},get:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");var I=W.get(R);return I&&I["$"+E]},has:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");var I=W.get(R);return!!I&&u(I,"$"+E)},set:function(R,E,I){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");var K=W.get(R);K||W.set(R,K={}),K["$"+E]=I}};Object.freeze&&Object.freeze(V),me.exports=V},1568:(me,Ce,C)=>{"use strict";var S=C(6518)(),W=C(1491)("Object.prototype.toString"),q=function(I){return!(S&&I&&"object"==typeof I&&Symbol.toStringTag in I)&&"[object Arguments]"===W(I)},V=function(I){return!!q(I)||null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Array]"!==W(I)&&"[object Function]"===W(I.callee)},R=function(){return q(arguments)}();q.isLegacyArguments=V,me.exports=R?q:V},9850:(me,Ce,C)=>{"use strict";var S=C(1773),u=C(1491),W=C(3485),q=C(3631),V=W("ArrayBuffer",!0),R=W("Float32Array",!0),E=u("ArrayBuffer.prototype.byteLength",!0),I=V&&!E&&(new V).slice,K=I&&S(I);me.exports=E||K?function(k){if(!k||"object"!=typeof k)return!1;try{return E?E(k):K(k,0),!0}catch{return!1}}:R?function(k){try{return new R(k).buffer===k&&!q(k)}catch(P){return"object"==typeof k&&"RangeError"===P.name}}:function(k){return!1}},7050:(me,Ce,C)=>{"use strict";if(C(5112)()){var u=BigInt.prototype.valueOf;me.exports=function(V){return!(null===V||typeof V>"u"||"boolean"==typeof V||"string"==typeof V||"number"==typeof V||"symbol"==typeof V||"function"==typeof V)&&("bigint"==typeof V||function(V){try{return u.call(V),!0}catch{}return!1}(V))}}else me.exports=function(V){return!1}},2856:(me,Ce,C)=>{"use strict";var S=C(1491),u=S("Boolean.prototype.toString"),W=S("Object.prototype.toString"),R=C(6518)();me.exports=function(I){return"boolean"==typeof I||null!==I&&"object"==typeof I&&(R&&Symbol.toStringTag in I?function(I){try{return u(I),!0}catch{return!1}}(I):"[object Boolean]"===W(I))}},7617:me=>{function Ce(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}me.exports=function(S){return null!=S&&(Ce(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Ce(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:me=>{"use strict";var S,u,Ce=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw u}}),u={},C(function(){throw 42},null,S)}catch(ie){ie!==u&&(C=null)}else C=null;var W=/^\s*class\b/,q=function(U){try{var M=Ce.call(U);return W.test(M)}catch{return!1}},V=function(U){try{return!q(U)&&(Ce.call(U),!0)}catch{return!1}},R=Object.prototype.toString,T="function"==typeof Symbol&&!!Symbol.toStringTag,$=!(0 in[,]),de=function(){return!1};if("object"==typeof document){var _e=document.all;R.call(_e)===R.call(document.all)&&(de=function(U){if(($||!U)&&(typeof U>"u"||"object"==typeof U))try{var M=R.call(U);return("[object HTMLAllCollection]"===M||"[object HTML document.all class]"===M||"[object HTMLCollection]"===M||"[object Object]"===M)&&null==U("")}catch{}return!1})}me.exports=C?function(U){if(de(U))return!0;if(!U||"function"!=typeof U&&"object"!=typeof U)return!1;try{C(U,null,S)}catch(M){if(M!==u)return!1}return!q(U)&&V(U)}:function(U){if(de(U))return!0;if(!U||"function"!=typeof U&&"object"!=typeof U)return!1;if(T)return V(U);if(q(U))return!1;var M=R.call(U);return!("[object Function]"!==M&&"[object GeneratorFunction]"!==M&&!/^\[object HTML/.test(M))&&V(U)}},6994:(me,Ce,C)=>{"use strict";var S=Date.prototype.getDay,W=Object.prototype.toString,V=C(6518)();me.exports=function(E){return"object"==typeof E&&null!==E&&(V?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Date]"===W.call(E))}},6128:me=>{"use strict";var S,Ce="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Ce||(S=function(V){return!1});var u=Ce?Map.prototype.has:null,W=C?Set.prototype.has:null;!S&&!u&&(S=function(V){return!1}),me.exports=S||function(V){if(!V||"object"!=typeof V)return!1;try{if(u.call(V),W)try{W.call(V)}catch{return!0}return V instanceof Ce}catch{}return!1}},9065:(me,Ce,C)=>{"use strict";var S=Number.prototype.toString,W=Object.prototype.toString,V=C(6518)();me.exports=function(E){return"number"==typeof E||"object"==typeof E&&(V?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Number]"===W.call(E))}},9649:(me,Ce,C)=>{"use strict";var W,q,V,R,S=C(1491),u=C(6518)();if(u){W=S("Object.prototype.hasOwnProperty"),q=S("RegExp.prototype.exec"),V={};var E=function(){throw V};R={toString:E,valueOf:E},"symbol"==typeof Symbol.toPrimitive&&(R[Symbol.toPrimitive]=E)}var I=S("Object.prototype.toString"),K=Object.getOwnPropertyDescriptor;me.exports=u?function(P){if(!P||"object"!=typeof P)return!1;var T=K(P,"lastIndex");if(!T||!W(T,"value"))return!1;try{q(P,R)}catch(de){return de===V}}:function(P){return!(!P||"object"!=typeof P&&"function"!=typeof P)&&"[object RegExp]"===I(P)}},5918:me=>{"use strict";var S,Ce="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(V){return!1});var u=Ce?Map.prototype.has:null,W=C?Set.prototype.has:null;!S&&!W&&(S=function(V){return!1}),me.exports=S||function(V){if(!V||"object"!=typeof V)return!1;try{if(W.call(V),u)try{u.call(V)}catch{return!0}return V instanceof C}catch{}return!1}},5327:(me,Ce,C)=>{"use strict";var u=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);me.exports=u?function(q){if(!q||"object"!=typeof q)return!1;try{return u(q),!0}catch{return!1}}:function(q){return!1}},2706:(me,Ce,C)=>{"use strict";var S=String.prototype.valueOf,W=Object.prototype.toString,V=C(6518)();me.exports=function(E){return"string"==typeof E||"object"==typeof E&&(V?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object String]"===W.call(E))}},2630:(me,Ce,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var W=Symbol.prototype.toString,q=/^Symbol\(.*\)$/;me.exports=function(E){if("symbol"==typeof E)return!0;if("[object Symbol]"!==S.call(E))return!1;try{return function(E){return"symbol"==typeof E.valueOf()&&q.test(W.call(E))}(E)}catch{return!1}}}else me.exports=function(E){return!1}},3631:(me,Ce,C)=>{"use strict";var S=C(927);me.exports=function(W){return!!S(W)}},1545:me=>{"use strict";var S,Ce="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ce||(S=function(V){return!1});var u=Ce?Ce.prototype.has:null,W=C?C.prototype.has:null;!S&&!u&&(S=function(V){return!1}),me.exports=S||function(V){if(!V||"object"!=typeof V)return!1;try{if(u.call(V,u),W)try{W.call(V,W)}catch{return!0}return V instanceof Ce}catch{}return!1}},9043:(me,Ce,C)=>{"use strict";var S=C(3485),u=C(1491),W=S("%WeakSet%",!0),q=u("WeakSet.prototype.has",!0);if(q){var V=u("WeakMap.prototype.has",!0);me.exports=function(E){if(!E||"object"!=typeof E)return!1;try{if(q(E,q),V)try{V(E,V)}catch{return!0}return E instanceof W}catch{}return!1}}else me.exports=function(E){return!1}},9604:me=>{var Ce={}.toString;me.exports=Array.isArray||function(C){return"[object Array]"==Ce.call(C)}},3219:(me,Ce,C)=>{var S,u,W,q,V;S=C(3754),u=C(7303).utf8,W=C(7617),q=C(7303).bin,(V=function(R,E){R.constructor==String?R=E&&"binary"===E.encoding?q.stringToBytes(R):u.stringToBytes(R):W(R)?R=Array.prototype.slice.call(R,0):!Array.isArray(R)&&R.constructor!==Uint8Array&&(R=R.toString());for(var I=S.bytesToWords(R),K=8*R.length,F=1732584193,k=-271733879,P=-1732584194,T=271733878,$=0;$<I.length;$++)I[$]=16711935&(I[$]<<8|I[$]>>>24)|4278255360&(I[$]<<24|I[$]>>>8);I[K>>>5]|=128<<K%32,I[14+(K+64>>>9<<4)]=K;var de=V._ff,_e=V._gg,ie=V._hh,U=V._ii;for($=0;$<I.length;$+=16){var M=F,J=k,le=P,se=T;F=de(F,k,P,T,I[$+0],7,-680876936),T=de(T,F,k,P,I[$+1],12,-389564586),P=de(P,T,F,k,I[$+2],17,606105819),k=de(k,P,T,F,I[$+3],22,-1044525330),F=de(F,k,P,T,I[$+4],7,-176418897),T=de(T,F,k,P,I[$+5],12,1200080426),P=de(P,T,F,k,I[$+6],17,-1473231341),k=de(k,P,T,F,I[$+7],22,-45705983),F=de(F,k,P,T,I[$+8],7,1770035416),T=de(T,F,k,P,I[$+9],12,-1958414417),P=de(P,T,F,k,I[$+10],17,-42063),k=de(k,P,T,F,I[$+11],22,-1990404162),F=de(F,k,P,T,I[$+12],7,1804603682),T=de(T,F,k,P,I[$+13],12,-40341101),P=de(P,T,F,k,I[$+14],17,-1502002290),F=_e(F,k=de(k,P,T,F,I[$+15],22,1236535329),P,T,I[$+1],5,-165796510),T=_e(T,F,k,P,I[$+6],9,-1069501632),P=_e(P,T,F,k,I[$+11],14,643717713),k=_e(k,P,T,F,I[$+0],20,-373897302),F=_e(F,k,P,T,I[$+5],5,-701558691),T=_e(T,F,k,P,I[$+10],9,38016083),P=_e(P,T,F,k,I[$+15],14,-660478335),k=_e(k,P,T,F,I[$+4],20,-405537848),F=_e(F,k,P,T,I[$+9],5,568446438),T=_e(T,F,k,P,I[$+14],9,-1019803690),P=_e(P,T,F,k,I[$+3],14,-187363961),k=_e(k,P,T,F,I[$+8],20,1163531501),F=_e(F,k,P,T,I[$+13],5,-1444681467),T=_e(T,F,k,P,I[$+2],9,-51403784),P=_e(P,T,F,k,I[$+7],14,1735328473),F=ie(F,k=_e(k,P,T,F,I[$+12],20,-1926607734),P,T,I[$+5],4,-378558),T=ie(T,F,k,P,I[$+8],11,-2022574463),P=ie(P,T,F,k,I[$+11],16,1839030562),k=ie(k,P,T,F,I[$+14],23,-35309556),F=ie(F,k,P,T,I[$+1],4,-1530992060),T=ie(T,F,k,P,I[$+4],11,1272893353),P=ie(P,T,F,k,I[$+7],16,-155497632),k=ie(k,P,T,F,I[$+10],23,-1094730640),F=ie(F,k,P,T,I[$+13],4,681279174),T=ie(T,F,k,P,I[$+0],11,-358537222),P=ie(P,T,F,k,I[$+3],16,-722521979),k=ie(k,P,T,F,I[$+6],23,76029189),F=ie(F,k,P,T,I[$+9],4,-640364487),T=ie(T,F,k,P,I[$+12],11,-421815835),P=ie(P,T,F,k,I[$+15],16,530742520),F=U(F,k=ie(k,P,T,F,I[$+2],23,-995338651),P,T,I[$+0],6,-198630844),T=U(T,F,k,P,I[$+7],10,1126891415),P=U(P,T,F,k,I[$+14],15,-1416354905),k=U(k,P,T,F,I[$+5],21,-57434055),F=U(F,k,P,T,I[$+12],6,1700485571),T=U(T,F,k,P,I[$+3],10,-1894986606),P=U(P,T,F,k,I[$+10],15,-1051523),k=U(k,P,T,F,I[$+1],21,-2054922799),F=U(F,k,P,T,I[$+8],6,1873313359),T=U(T,F,k,P,I[$+15],10,-30611744),P=U(P,T,F,k,I[$+6],15,-1560198380),k=U(k,P,T,F,I[$+13],21,1309151649),F=U(F,k,P,T,I[$+4],6,-145523070),T=U(T,F,k,P,I[$+11],10,-1120210379),P=U(P,T,F,k,I[$+2],15,718787259),k=U(k,P,T,F,I[$+9],21,-343485551),F=F+M>>>0,k=k+J>>>0,P=P+le>>>0,T=T+se>>>0}return S.endian([F,k,P,T])})._ff=function(R,E,I,K,F,k,P){var T=R+(E&I|~E&K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},V._gg=function(R,E,I,K,F,k,P){var T=R+(E&K|I&~K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},V._hh=function(R,E,I,K,F,k,P){var T=R+(E^I^K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},V._ii=function(R,E,I,K,F,k,P){var T=R+(I^(E|~K))+(F>>>0)+P;return(T<<k|T>>>32-k)+E},V._blocksize=16,V._digestsize=16,me.exports=function(R,E){if(null==R)throw new Error("Illegal argument "+R);var I=S.wordsToBytes(V(R,E));return E&&E.asBytes?I:E&&E.asString?q.bytesToString(I):S.bytesToHex(I)}},5580:(me,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(q,V){return typeof V>"u"?q:function(E){q(E,V)}};var W=function(){function q(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return q.prototype.addHandler=function(V,R){return this.isHandlerAttached(V,R)||(this._handlers.push(V),this._contexts.push(R),this._createDispatcher(),this._updateHasHandlers()),this},q.prototype.removeHandler=function(V,R){var E=this._getHandlerIndex(V,R);return typeof E<"u"&&(this._handlers.splice(E,1),this._contexts.splice(E,1),this._createDispatcher(),this._updateHasHandlers()),this},q.prototype.isHandlerAttached=function(V,R){return typeof this._getHandlerIndex(V,R)<"u"},q.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},q.prototype._getHandlerIndex=function(V,R){var I,E=this._handlers.length;for(I=0;I<E&&(this._handlers[I]!==V||this._contexts[I]!==R);I++);return I<E?I:void 0},q.prototype._createDispatcher=function(){this.dispatch=function S(q){return C[q]||(C[q]=function u(q){for(var V="return function dispatcher"+q+"(payload) {\n",R=[],E=[],I=0;I<q;I++)R.push("cb"+I),E.push("ctx"+I),V+="    cb"+I+"(payload, ctx"+I+");\n";return V+="};",new(Function.bind.apply(Function,[void 0].concat(R.concat(E),[V])))}(q)),C[q]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},q}();Ce.default=W},5861:(me,Ce,C)=>{"use strict";var u=C(5580);Ce.j=u.default},2720:(me,Ce,C)=>{var S="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,W=S&&u&&"function"==typeof u.get?u.get:null,q=S&&Map.prototype.forEach,V="function"==typeof Set&&Set.prototype,R=Object.getOwnPropertyDescriptor&&V?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=V&&R&&"function"==typeof R.get?R.get:null,I=V&&Set.prototype.forEach,F="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,$="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,de=Boolean.prototype.valueOf,_e=Object.prototype.toString,ie=Function.prototype.toString,U=String.prototype.match,M=String.prototype.slice,J=String.prototype.replace,le=String.prototype.toUpperCase,se=String.prototype.toLowerCase,Ee=RegExp.prototype.test,ke=Array.prototype.concat,O=Array.prototype.join,N=Array.prototype.slice,te=Math.floor,D="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,he="function"==typeof Symbol&&"object"==typeof Symbol.iterator,$e="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ht=Object.prototype.propertyIsEnumerable,Gt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(pe){return pe.__proto__}:null);function Ne(pe,ye){if(pe===1/0||pe===-1/0||pe!=pe||pe&&pe>-1e3&&pe<1e3||Ee.call(/e/,ye))return ye;var ln=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof pe){var mn=pe<0?-te(-pe):te(pe);if(mn!==pe){var Sn=String(mn),rn=M.call(ye,Sn.length+1);return J.call(Sn,ln,"$&_")+"."+J.call(J.call(rn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(ye,ln,"$&_")}var ze=C(4654),Re=ze.custom,Ve=xe(Re)?Re:null;function st(pe,ye,ln){var mn="double"===(ln.quoteStyle||ye)?'"':"'";return mn+pe+mn}function $t(pe){return J.call(String(pe),/"/g,"&quot;")}function fe(pe){return!("[object Array]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}function at(pe){return!("[object RegExp]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}function xe(pe){if(he)return pe&&"object"==typeof pe&&pe instanceof Symbol;if("symbol"==typeof pe)return!0;if(!pe||"object"!=typeof pe||!z)return!1;try{return z.call(pe),!0}catch{}return!1}me.exports=function pe(ye,ln,mn,Sn){var rn=ln||{};if(Je(rn,"quoteStyle")&&"single"!==rn.quoteStyle&&"double"!==rn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(rn,"maxStringLength")&&("number"==typeof rn.maxStringLength?rn.maxStringLength<0&&rn.maxStringLength!==1/0:null!==rn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fo=!Je(rn,"customInspect")||rn.customInspect;if("boolean"!=typeof fo&&"symbol"!==fo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(rn,"indent")&&null!==rn.indent&&"\t"!==rn.indent&&!(parseInt(rn.indent,10)===rn.indent&&rn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(rn,"numericSeparator")&&"boolean"!=typeof rn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var nr=rn.numericSeparator;if(typeof ye>"u")return"undefined";if(null===ye)return"null";if("boolean"==typeof ye)return ye?"true":"false";if("string"==typeof ye)return So(ye,rn);if("number"==typeof ye){if(0===ye)return 1/0/ye>0?"0":"-0";var wr=String(ye);return nr?Ne(ye,wr):wr}if("bigint"==typeof ye){var _o=String(ye)+"n";return nr?Ne(ye,_o):_o}var On=typeof rn.depth>"u"?5:rn.depth;if(typeof mn>"u"&&(mn=0),mn>=On&&On>0&&"object"==typeof ye)return fe(ye)?"[Array]":"[Object]";var Do=function qn(pe,ye){var ln;if("\t"===pe.indent)ln="\t";else{if(!("number"==typeof pe.indent&&pe.indent>0))return null;ln=O.call(Array(pe.indent+1)," ")}return{base:ln,prev:O.call(Array(ye+1),ln)}}(rn,mn);if(typeof Sn>"u")Sn=[];else if(dn(Sn,ye)>=0)return"[Circular]";function oo(Eo,li,Rs){if(li&&(Sn=N.call(Sn)).push(li),Rs){var ci={depth:rn.depth};return Je(rn,"quoteStyle")&&(ci.quoteStyle=rn.quoteStyle),pe(Eo,ci,mn+1,Sn)}return pe(Eo,rn,mn+1,Sn)}if("function"==typeof ye&&!at(ye)){var Ui=function Nt(pe){if(pe.name)return pe.name;var ye=U.call(ie.call(pe),/^function\s*([\w$]+)/);return ye?ye[1]:null}(ye),Po=Br(ye,oo);return"[Function"+(Ui?": "+Ui:" (anonymous)")+"]"+(Po.length>0?" { "+O.call(Po,", ")+" }":"")}if(xe(ye)){var xn=he?J.call(String(ye),/^(Symbol\(.*\))_[^)]*$/,"$1"):z.call(ye);return"object"!=typeof ye||he?xn:Pn(xn)}if(function Ho(pe){return!(!pe||"object"!=typeof pe)&&(typeof HTMLElement<"u"&&pe instanceof HTMLElement||"string"==typeof pe.nodeName&&"function"==typeof pe.getAttribute)}(ye)){for(var vr="<"+se.call(String(ye.nodeName)),yr=ye.attributes||[],Tn=0;Tn<yr.length;Tn++)vr+=" "+yr[Tn].name+"="+st($t(yr[Tn].value),"double",rn);return vr+=">",ye.childNodes&&ye.childNodes.length&&(vr+="..."),vr+"</"+se.call(String(ye.nodeName))+">"}if(fe(ye)){if(0===ye.length)return"[]";var Nn=Br(ye,oo);return Do&&!function ro(pe){for(var ye=0;ye<pe.length;ye++)if(dn(pe[ye],"\n")>=0)return!1;return!0}(Nn)?"["+go(Nn,Do)+"]":"[ "+O.call(Nn,", ")+" ]"}if(function Ze(pe){return!("[object Error]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye)){var di=Br(ye,oo);return"cause"in Error.prototype||!("cause"in ye)||ht.call(ye,"cause")?0===di.length?"["+String(ye)+"]":"{ ["+String(ye)+"] "+O.call(di,", ")+" }":"{ ["+String(ye)+"] "+O.call(ke.call("[cause]: "+oo(ye.cause),di),", ")+" }"}if("object"==typeof ye&&fo){if(Ve&&"function"==typeof ye[Ve]&&ze)return ze(ye,{depth:On-mn});if("symbol"!==fo&&"function"==typeof ye.inspect)return ye.inspect()}if(function nn(pe){if(!W||!pe||"object"!=typeof pe)return!1;try{W.call(pe);try{E.call(pe)}catch{return!0}return pe instanceof Map}catch{}return!1}(ye)){var cn=[];return q&&q.call(ye,function(Eo,li){cn.push(oo(li,ye,!0)+" => "+oo(Eo,ye))}),Ur("Map",W.call(ye),cn,Do)}if(function _r(pe){if(!E||!pe||"object"!=typeof pe)return!1;try{E.call(pe);try{W.call(pe)}catch{return!0}return pe instanceof Set}catch{}return!1}(ye)){var ei=[];return I&&I.call(ye,function(Eo){ei.push(oo(Eo,ye))}),Ur("Set",E.call(ye),ei,Do)}if(function pn(pe){if(!F||!pe||"object"!=typeof pe)return!1;try{F.call(pe,F);try{P.call(pe,P)}catch{return!0}return pe instanceof WeakMap}catch{}return!1}(ye))return $r("WeakMap");if(function Zn(pe){if(!P||!pe||"object"!=typeof pe)return!1;try{P.call(pe,P);try{F.call(pe,F)}catch{return!0}return pe instanceof WeakSet}catch{}return!1}(ye))return $r("WeakSet");if(function Jt(pe){if(!$||!pe||"object"!=typeof pe)return!1;try{return $.call(pe),!0}catch{}return!1}(ye))return $r("WeakRef");if(function Ut(pe){return!("[object Number]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye))return Pn(oo(Number(ye)));if(function be(pe){if(!pe||"object"!=typeof pe||!D)return!1;try{return D.call(pe),!0}catch{}return!1}(ye))return Pn(oo(D.call(ye)));if(function jt(pe){return!("[object Boolean]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye))return Pn(de.call(ye));if(function St(pe){return!("[object String]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye))return Pn(oo(String(ye)));if(typeof window<"u"&&ye===window)return"{ [object Window] }";if(ye===global)return"{ [object globalThis] }";if(!function Ue(pe){return!("[object Date]"!==yt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye)&&!at(ye)){var wi=Br(ye,oo),fi=Gt?Gt(ye)===Object.prototype:ye instanceof Object||ye.constructor===Object,pi=ye instanceof Object?"":"null prototype",ae=!fi&&$e&&Object(ye)===ye&&$e in ye?M.call(yt(ye),8,-1):pi?"Object":"",zo=(fi||"function"!=typeof ye.constructor?"":ye.constructor.name?ye.constructor.name+" ":"")+(ae||pi?"["+O.call(ke.call([],ae||[],pi||[]),": ")+"] ":"");return 0===wi.length?zo+"{}":Do?zo+"{"+go(wi,Do)+"}":zo+"{ "+O.call(wi,", ")+" }"}return String(ye)};var ge=Object.prototype.hasOwnProperty||function(pe){return pe in this};function Je(pe,ye){return ge.call(pe,ye)}function yt(pe){return _e.call(pe)}function dn(pe,ye){if(pe.indexOf)return pe.indexOf(ye);for(var ln=0,mn=pe.length;ln<mn;ln++)if(pe[ln]===ye)return ln;return-1}function So(pe,ye){if(pe.length>ye.maxStringLength){var ln=pe.length-ye.maxStringLength,mn="... "+ln+" more character"+(ln>1?"s":"");return So(M.call(pe,0,ye.maxStringLength),ye)+mn}return st(J.call(J.call(pe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wo),"single",ye)}function wo(pe){var ye=pe.charCodeAt(0),ln={8:"b",9:"t",10:"n",12:"f",13:"r"}[ye];return ln?"\\"+ln:"\\x"+(ye<16?"0":"")+le.call(ye.toString(16))}function Pn(pe){return"Object("+pe+")"}function $r(pe){return pe+" { ? }"}function Ur(pe,ye,ln,mn){return pe+" ("+ye+") {"+(mn?go(ln,mn):O.call(ln,", "))+"}"}function go(pe,ye){if(0===pe.length)return"";var ln="\n"+ye.prev+ye.base;return ln+O.call(pe,","+ln)+"\n"+ye.prev}function Br(pe,ye){var ln=fe(pe),mn=[];if(ln){mn.length=pe.length;for(var Sn=0;Sn<pe.length;Sn++)mn[Sn]=Je(pe,Sn)?ye(pe[Sn],pe):""}var fo,rn="function"==typeof X?X(pe):[];if(he){fo={};for(var nr=0;nr<rn.length;nr++)fo["$"+rn[nr]]=rn[nr]}for(var wr in pe)Je(pe,wr)&&(ln&&String(Number(wr))===wr&&wr<pe.length||he&&fo["$"+wr]instanceof Symbol||(Ee.call(/[^\w$]/,wr)?mn.push(ye(wr,pe)+": "+ye(pe[wr],pe)):mn.push(wr+": "+ye(pe[wr],pe))));if("function"==typeof X)for(var _o=0;_o<rn.length;_o++)ht.call(pe,rn[_o])&&mn.push("["+ye(rn[_o])+"]: "+ye(pe[rn[_o]],pe));return mn}},5376:me=>{"use strict";var Ce=function(C){return C!=C};me.exports=function(S,u){return 0===S&&0===u?1/S==1/u:!!(S===u||Ce(S)&&Ce(u))}},500:(me,Ce,C)=>{"use strict";var S=C(9567),u=C(1773),W=C(5376),q=C(8204),V=C(2688),R=u(q(),Object);S(R,{getPolyfill:q,implementation:W,shim:V}),me.exports=R},8204:(me,Ce,C)=>{"use strict";var S=C(5376);me.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(me,Ce,C)=>{"use strict";var S=C(8204),u=C(9567);me.exports=function(){var q=S();return u(Object,{is:q},{is:function(){return Object.is!==q}}),q}},1601:(me,Ce,C)=>{"use strict";var S;if(!Object.keys){var u=Object.prototype.hasOwnProperty,W=Object.prototype.toString,q=C(6755),V=Object.prototype.propertyIsEnumerable,R=!V.call({toString:null},"toString"),E=V.call(function(){},"prototype"),I=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],K=function(T){var $=T.constructor;return $&&$.prototype===T},F={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if(typeof window>"u")return!1;for(var T in window)try{if(!F["$"+T]&&u.call(window,T)&&null!==window[T]&&"object"==typeof window[T])try{K(window[T])}catch{return!0}}catch{return!0}return!1}();S=function($){var de=null!==$&&"object"==typeof $,_e="[object Function]"===W.call($),ie=q($),U=de&&"[object String]"===W.call($),M=[];if(!de&&!_e&&!ie)throw new TypeError("Object.keys called on a non-object");var J=E&&_e;if(U&&$.length>0&&!u.call($,0))for(var le=0;le<$.length;++le)M.push(String(le));if(ie&&$.length>0)for(var se=0;se<$.length;++se)M.push(String(se));else for(var Ee in $)(!J||"prototype"!==Ee)&&u.call($,Ee)&&M.push(String(Ee));if(R)for(var ke=function(T){if(typeof window>"u"||!k)return K(T);try{return K(T)}catch{return!1}}($),O=0;O<I.length;++O)(!ke||"constructor"!==I[O])&&u.call($,I[O])&&M.push(I[O]);return M}}me.exports=S},5692:(me,Ce,C)=>{"use strict";var S=Array.prototype.slice,u=C(6755),W=Object.keys,q=W?function(E){return W(E)}:C(1601),V=Object.keys;q.shim=function(){if(Object.keys){var E=function(){var I=Object.keys(arguments);return I&&I.length===arguments.length}(1,2);E||(Object.keys=function(K){return u(K)?V(S.call(K)):V(K)})}else Object.keys=q;return Object.keys||q},me.exports=q},6755:me=>{"use strict";var Ce=Object.prototype.toString;me.exports=function(S){var u=Ce.call(S),W="[object Arguments]"===u;return W||(W="[object Array]"!==u&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Ce.call(S.callee)),W}},8032:(me,Ce,C)=>{"use strict";var S=C(5692),u=C(2759)(),W=C(1491),q=Object,V=W("Array.prototype.push"),R=W("Object.prototype.propertyIsEnumerable"),E=u?Object.getOwnPropertySymbols:null;me.exports=function(K,F){if(null==K)throw new TypeError("target must be an object");var k=q(K);if(1===arguments.length)return k;for(var P=1;P<arguments.length;++P){var T=q(arguments[P]),$=S(T),de=u&&(Object.getOwnPropertySymbols||E);if(de)for(var _e=de(T),ie=0;ie<_e.length;++ie){var U=_e[ie];R(T,U)&&V($,U)}for(var M=0;M<$.length;++M){var J=$[M];R(T,J)&&(k[J]=T[J])}}return k}},5747:(me,Ce,C)=>{"use strict";var S=C(9567),u=C(1773),W=C(8032),q=C(9530),V=C(4096),R=u.apply(q()),E=function(K,F){return R(Object,arguments)};S(E,{getPolyfill:q,implementation:W,shim:V}),me.exports=E},9530:(me,Ce,C)=>{"use strict";var S=C(8032);me.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var q="abcdefghijklmnopqrst",V=q.split(""),R={},E=0;E<V.length;++E)R[V[E]]=V[E];var I=Object.assign({},R),K="";for(var F in I)K+=F;return q!==K}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var q=Object.preventExtensions({1:2});try{Object.assign(q,"xy")}catch{return"y"===q[1]}return!1}()?S:Object.assign}},4096:(me,Ce,C)=>{"use strict";var S=C(9567),u=C(9530);me.exports=function(){var q=u();return S(Object,{assign:q},{assign:function(){return Object.assign!==q}}),q}},6716:(me,Ce)=>{"use strict";var C=Object.prototype.hasOwnProperty;function u(R){try{return decodeURIComponent(R.replace(/\+/g," "))}catch{return null}}function W(R){try{return encodeURIComponent(R)}catch{return null}}Ce.stringify=function V(R,E){E=E||"";var K,F,I=[];for(F in"string"!=typeof E&&(E="?"),R)if(C.call(R,F)){if(!(K=R[F])&&(null==K||isNaN(K))&&(K=""),F=W(F),K=W(K),null===F||null===K)continue;I.push(F+"="+K)}return I.length?E+I.join("&"):""},Ce.parse=function q(R){for(var K,E=/([^=?#&]+)=?([^&]*)/g,I={};K=E.exec(R);){var F=u(K[1]),k=u(K[2]);null===F||null===k||F in I||(I[F]=k)}return I}},7732:(me,Ce,C)=>{"use strict";var S=C(2562),u=Object,W=TypeError;me.exports=S(function(){if(null!=this&&this!==u(this))throw new W("RegExp.prototype.flags getter called on non-object");var V="";return this.hasIndices&&(V+="d"),this.global&&(V+="g"),this.ignoreCase&&(V+="i"),this.multiline&&(V+="m"),this.dotAll&&(V+="s"),this.unicode&&(V+="u"),this.unicodeSets&&(V+="v"),this.sticky&&(V+="y"),V},"get flags",!0)},4300:(me,Ce,C)=>{"use strict";var S=C(9567),u=C(1773),W=C(7732),q=C(5848),V=C(6472),R=u(q());S(R,{getPolyfill:q,implementation:W,shim:V}),me.exports=R},5848:(me,Ce,C)=>{"use strict";var S=C(7732),u=C(9567).supportsDescriptors,W=Object.getOwnPropertyDescriptor;me.exports=function(){if(u&&"gim"===/a/gim.flags){var V=W(RegExp.prototype,"flags");if(V&&"function"==typeof V.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var R="",E={};if(Object.defineProperty(E,"hasIndices",{get:function(){R+="d"}}),Object.defineProperty(E,"sticky",{get:function(){R+="y"}}),"dy"===R)return V.get}}return S}},6472:(me,Ce,C)=>{"use strict";var S=C(9567).supportsDescriptors,u=C(5848),W=Object.getOwnPropertyDescriptor,q=Object.defineProperty,V=TypeError,R=Object.getPrototypeOf,E=/a/;me.exports=function(){if(!S||!R)throw new V("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var K=u(),F=R(E),k=W(F,"flags");return(!k||k.get!==K)&&q(F,"flags",{configurable:!0,enumerable:!1,get:K}),K}},716:me=>{"use strict";me.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(me,Ce,C)=>{"use strict";var S=C(3485),u=C(4467),W=C(7811)(),q=C(6078),V=S("%TypeError%"),R=S("%Math.floor%");me.exports=function(I,K){if("function"!=typeof I)throw new V("`fn` is not a function");if("number"!=typeof K||K<0||K>4294967295||R(K)!==K)throw new V("`length` must be a positive 32-bit integer");var F=arguments.length>2&&!!arguments[2],k=!0,P=!0;if("length"in I&&q){var T=q(I,"length");T&&!T.configurable&&(k=!1),T&&!T.writable&&(P=!1)}return(k||P||!F)&&(W?u(I,"length",K,!0,!0):u(I,"length",K)),I}},2562:(me,Ce,C)=>{"use strict";var S=C(4467),u=C(7811)(),W=C(7688).functionsHaveConfigurableNames(),q=TypeError;me.exports=function(R,E){if("function"!=typeof R)throw new q("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||W)&&(u?S(R,"name",E,!0,!0):S(R,"name",E)),R}},4355:(me,Ce,C)=>{"use strict";var S=C(3485),u=C(1491),W=C(2720),q=S("%TypeError%"),V=S("%WeakMap%",!0),R=S("%Map%",!0),E=u("WeakMap.prototype.get",!0),I=u("WeakMap.prototype.set",!0),K=u("WeakMap.prototype.has",!0),F=u("Map.prototype.get",!0),k=u("Map.prototype.set",!0),P=u("Map.prototype.has",!0),T=function(ie,U){for(var J,M=ie;null!==(J=M.next);M=J)if(J.key===U)return M.next=J.next,J.next=ie.next,ie.next=J,J};me.exports=function(){var U,M,J,le={assert:function(se){if(!le.has(se))throw new q("Side channel does not contain "+W(se))},get:function(se){if(V&&se&&("object"==typeof se||"function"==typeof se)){if(U)return E(U,se)}else if(R){if(M)return F(M,se)}else if(J)return function(ie,U){var M=T(ie,U);return M&&M.value}(J,se)},has:function(se){if(V&&se&&("object"==typeof se||"function"==typeof se)){if(U)return K(U,se)}else if(R){if(M)return P(M,se)}else if(J)return function(ie,U){return!!T(ie,U)}(J,se);return!1},set:function(se,Ee){V&&se&&("object"==typeof se||"function"==typeof se)?(U||(U=new V),I(U,se,Ee)):R?(M||(M=new R),k(M,se,Ee)):(J||(J={key:{},next:null}),function(ie,U,M){var J=T(ie,U);J?J.value=M:ie.next={key:U,next:ie.next,value:M}}(J,se,Ee))}};return le}},118:(me,Ce,C)=>{"use strict";var S=C(2605),u=SyntaxError,W="object"==typeof StopIteration?StopIteration:null;me.exports=function(V){if(!W)throw new u("this environment lacks StopIteration");S.set(V,"[[Done]]",!1);var R={next:function(){var I=S.get(this,"[[Iterator]]"),K=S.get(I,"[[Done]]");try{return{done:K,value:K?void 0:I.next()}}catch(F){if(S.set(I,"[[Done]]",!0),F!==W)throw F;return{done:!0,value:void 0}}}};return S.set(R,"[[Iterator]]",V),R}},6299:(me,Ce,C)=>{"use strict";var S=C(716),u=C(6716),W=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,q=/[\n\r\t]/g,V=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,R=/:\d+$/,E=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,I=/^[a-zA-Z]:/;function K(M){return(M||"").toString().replace(W,"")}var F=[["#","hash"],["?","query"],function(J,le){return T(le.protocol)?J.replace(/\\/g,"/"):J},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],k={hash:1,query:1};function P(M){var J;J=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ke,se={},Ee=typeof(M=M||J.location||{});if("blob:"===M.protocol)se=new _e(unescape(M.pathname),{});else if("string"===Ee)for(ke in se=new _e(M,{}),k)delete se[ke];else if("object"===Ee){for(ke in M)ke in k||(se[ke]=M[ke]);void 0===se.slashes&&(se.slashes=V.test(M.href))}return se}function T(M){return"file:"===M||"ftp:"===M||"http:"===M||"https:"===M||"ws:"===M||"wss:"===M}function $(M,J){M=(M=K(M)).replace(q,""),J=J||{};var N,le=E.exec(M),se=le[1]?le[1].toLowerCase():"",Ee=!!le[2],ke=!!le[3],O=0;return Ee?ke?(N=le[2]+le[3]+le[4],O=le[2].length+le[3].length):(N=le[2]+le[4],O=le[2].length):ke?(N=le[3]+le[4],O=le[3].length):N=le[4],"file:"===se?O>=2&&(N=N.slice(2)):T(se)?N=le[4]:se?Ee&&(N=N.slice(2)):O>=2&&T(J.protocol)&&(N=le[4]),{protocol:se,slashes:Ee||T(se),slashesCount:O,rest:N}}function _e(M,J,le){if(M=(M=K(M)).replace(q,""),!(this instanceof _e))return new _e(M,J,le);var se,Ee,ke,O,N,te,D=F.slice(),X=typeof J,z=this,he=0;for("object"!==X&&"string"!==X&&(le=J,J=null),le&&"function"!=typeof le&&(le=u.parse),se=!(Ee=$(M||"",J=P(J))).protocol&&!Ee.slashes,z.slashes=Ee.slashes||se&&J.slashes,z.protocol=Ee.protocol||J.protocol||"",M=Ee.rest,("file:"===Ee.protocol&&(2!==Ee.slashesCount||I.test(M))||!Ee.slashes&&(Ee.protocol||Ee.slashesCount<2||!T(z.protocol)))&&(D[3]=[/(.*)/,"pathname"]);he<D.length;he++)"function"!=typeof(O=D[he])?(te=O[1],(ke=O[0])!=ke?z[te]=M:"string"==typeof ke?~(N="@"===ke?M.lastIndexOf(ke):M.indexOf(ke))&&("number"==typeof O[2]?(z[te]=M.slice(0,N),M=M.slice(N+O[2])):(z[te]=M.slice(N),M=M.slice(0,N))):(N=ke.exec(M))&&(z[te]=N[1],M=M.slice(0,N.index)),z[te]=z[te]||se&&O[3]&&J[te]||"",O[4]&&(z[te]=z[te].toLowerCase())):M=O(M,z);le&&(z.query=le(z.query)),se&&J.slashes&&"/"!==z.pathname.charAt(0)&&(""!==z.pathname||""!==J.pathname)&&(z.pathname=function de(M,J){if(""===M)return J;for(var le=(J||"/").split("/").slice(0,-1).concat(M.split("/")),se=le.length,Ee=le[se-1],ke=!1,O=0;se--;)"."===le[se]?le.splice(se,1):".."===le[se]?(le.splice(se,1),O++):O&&(0===se&&(ke=!0),le.splice(se,1),O--);return ke&&le.unshift(""),("."===Ee||".."===Ee)&&le.push(""),le.join("/")}(z.pathname,J.pathname)),"/"!==z.pathname.charAt(0)&&T(z.protocol)&&(z.pathname="/"+z.pathname),S(z.port,z.protocol)||(z.host=z.hostname,z.port=""),z.username=z.password="",z.auth&&(~(N=z.auth.indexOf(":"))?(z.username=z.auth.slice(0,N),z.username=encodeURIComponent(decodeURIComponent(z.username)),z.password=z.auth.slice(N+1),z.password=encodeURIComponent(decodeURIComponent(z.password))):z.username=encodeURIComponent(decodeURIComponent(z.auth)),z.auth=z.password?z.username+":"+z.password:z.username),z.origin="file:"!==z.protocol&&T(z.protocol)&&z.host?z.protocol+"//"+z.host:"null",z.href=z.toString()}_e.prototype={set:function ie(M,J,le){var se=this;switch(M){case"query":"string"==typeof J&&J.length&&(J=(le||u.parse)(J)),se[M]=J;break;case"port":se[M]=J,S(J,se.protocol)?J&&(se.host=se.hostname+":"+J):(se.host=se.hostname,se[M]="");break;case"hostname":se[M]=J,se.port&&(J+=":"+se.port),se.host=J;break;case"host":se[M]=J,R.test(J)?(J=J.split(":"),se.port=J.pop(),se.hostname=J.join(":")):(se.hostname=J,se.port="");break;case"protocol":se.protocol=J.toLowerCase(),se.slashes=!le;break;case"pathname":case"hash":if(J){var Ee="pathname"===M?"/":"#";se[M]=J.charAt(0)!==Ee?Ee+J:J}else se[M]=J;break;case"username":case"password":se[M]=encodeURIComponent(J);break;case"auth":var ke=J.indexOf(":");~ke?(se.username=J.slice(0,ke),se.username=encodeURIComponent(decodeURIComponent(se.username)),se.password=J.slice(ke+1),se.password=encodeURIComponent(decodeURIComponent(se.password))):se.username=encodeURIComponent(decodeURIComponent(J))}for(var O=0;O<F.length;O++){var N=F[O];N[4]&&(se[N[1]]=se[N[1]].toLowerCase())}return se.auth=se.password?se.username+":"+se.password:se.username,se.origin="file:"!==se.protocol&&T(se.protocol)&&se.host?se.protocol+"//"+se.host:"null",se.href=se.toString(),se},toString:function U(M){(!M||"function"!=typeof M)&&(M=u.stringify);var J,le=this,se=le.host,Ee=le.protocol;Ee&&":"!==Ee.charAt(Ee.length-1)&&(Ee+=":");var ke=Ee+(le.protocol&&le.slashes||T(le.protocol)?"//":"");return le.username?(ke+=le.username,le.password&&(ke+=":"+le.password),ke+="@"):le.password?(ke+=":"+le.password,ke+="@"):"file:"!==le.protocol&&T(le.protocol)&&!se&&"/"!==le.pathname&&(ke+="@"),(":"===se[se.length-1]||R.test(le.hostname)&&!le.port)&&(se+=":"),ke+=se+le.pathname,(J="object"==typeof le.query?M(le.query):le.query)&&(ke+="?"!==J.charAt(0)?"?"+J:J),le.hash&&(ke+=le.hash),ke}},_e.extractProtocol=$,_e.location=P,_e.trimLeft=K,_e.qs=u,me.exports=_e},8460:(me,Ce,C)=>{"use strict";var S=C(2706),u=C(9065),W=C(2856),q=C(2630),V=C(7050);me.exports=function(E){return null==E||"object"!=typeof E&&"function"!=typeof E?null:S(E)?"String":u(E)?"Number":W(E)?"Boolean":q(E)?"Symbol":V(E)?"BigInt":void 0}},927:(me,Ce,C)=>{"use strict";var S=C(2418),u=C(1001),W=C(1773),q=C(1491),V=C(6078),R=q("Object.prototype.toString"),E=C(6518)(),I=typeof globalThis>"u"?global:globalThis,K=u(),F=q("String.prototype.slice"),k=Object.getPrototypeOf,P=q("Array.prototype.indexOf",!0)||function(ie,U){for(var M=0;M<ie.length;M+=1)if(ie[M]===U)return M;return-1},T={__proto__:null};S(K,E&&V&&k?function(_e){var ie=new I[_e];if(Symbol.toStringTag in ie){var U=k(ie),M=V(U,Symbol.toStringTag);if(!M){var J=k(U);M=V(J,Symbol.toStringTag)}T["$"+_e]=W(M.get)}}:function(_e){var ie=new I[_e],U=ie.slice||ie.set;U&&(T["$"+_e]=W(U))}),me.exports=function(ie){if(!ie||"object"!=typeof ie)return!1;if(!E){var U=F(R(ie),8,-1);return P(K,U)>-1?U:"Object"===U&&function(ie){var U=!1;return S(T,function(M,J){if(!U)try{M(ie),U=F(J,1)}catch{}}),U}(ie)}return V?function(ie){var U=!1;return S(T,function(M,J){if(!U)try{"$"+M(ie)===J&&(U=F(J,1))}catch{}}),U}(ie):null}},863:(me,Ce,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function u(W){if(!C.o(S,W))return Promise.resolve().then(()=>{var R=new Error("Cannot find module '"+W+"'");throw R.code="MODULE_NOT_FOUND",R});var q=S[W],V=q[0];return Promise.all(q.slice(1).map(C.e)).then(()=>C(V))}u.keys=()=>Object.keys(S),u.id=863,me.exports=u},4654:()=>{},1001:me=>{"use strict";var Ce=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;me.exports=function(){for(var u=[],W=0;W<Ce.length;W++)"function"==typeof C[Ce[W]]&&(u[u.length]=Ce[W]);return u}},1324:(me,Ce,C)=>{"use strict";var S=C(1568),u=C(118);if(C(2337)()||C(2759)()){var W=Symbol.iterator;me.exports=function(N){return null!=N&&typeof N[W]<"u"?N[W]():S(N)?Array.prototype[W].call(N):void 0}}else{var q=C(9604),V=C(2706),R=C(3485),E=R("%Map%",!0),I=R("%Set%",!0),K=C(1491),F=K("Array.prototype.push"),k=K("String.prototype.charCodeAt"),P=K("String.prototype.slice"),$=function(N){var te=0;return{next:function(){var z,X=te>=N.length;return X||(z=N[te],te+=1),{done:X,value:z}}}},de=function(N,te){if(q(N)||S(N))return $(N);if(V(N)){var D=0;return{next:function(){var z=function(N,te){if(te+1>=N.length)return te+1;var X=k(N,te);if(X<55296||X>56319)return te+1;var z=k(N,te+1);return z<56320||z>57343?te+1:te+2}(N,D),he=P(N,D,z);return D=z,{done:z>N.length,value:he}}}}return te&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(E||I){var _e=C(6128),ie=C(5918),U=K("Map.prototype.forEach",!0),M=K("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var J=K("Map.prototype.iterator",!0),le=K("Set.prototype.iterator",!0);var se=K("Map.prototype.@@iterator",!0)||K("Map.prototype._es6-shim iterator_",!0),Ee=K("Set.prototype.@@iterator",!0)||K("Set.prototype._es6-shim iterator_",!0);me.exports=function(N){return function(N){if(_e(N)){if(J)return u(J(N));if(se)return se(N);if(U){var te=[];return U(N,function(X,z){F(te,[z,X])}),$(te)}}if(ie(N)){if(le)return u(le(N));if(Ee)return Ee(N);if(M){var D=[];return M(N,function(X){F(D,X)}),$(D)}}}(N)||de(N)}}else me.exports=function(N){if(null!=N)return de(N,!0)}}},9148:(me,Ce,C)=>{"use strict";var S=C(6128),u=C(5918),W=C(1545),q=C(9043);me.exports=function(R){if(R&&"object"==typeof R){if(S(R))return"Map";if(u(R))return"Set";if(W(R))return"WeakMap";if(q(R))return"WeakSet"}return!1}},3918:(me,Ce,C)=>{"use strict";function S(W,q,V,R,E,I,K){try{var F=W[I](K),k=F.value}catch(P){return void V(P)}F.done?q(k):Promise.resolve(k).then(R,E)}function u(W){return function(){var q=this,V=arguments;return new Promise(function(R,E){var I=W.apply(q,V);function K(k){S(I,R,E,K,F,"next",k)}function F(k){S(I,R,E,K,F,"throw",k)}K(void 0)})}}C.d(Ce,{Z:()=>u})}},me=>{me(me.s=1511)}]);
//# sourceMappingURL=main.abc3e1655f62ba2e.js.map