(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8389:(Be,qe,F)=>{"use strict";function k(t){return"function"==typeof t}function u(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ae=u(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ie(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class q{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(k(r))try{r()}catch(i){n=i instanceof ae?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{z(i)}catch(s){n=n??[],s instanceof ae?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ae(n)}}add(n){var e;if(n&&n!==this)if(this.closed)z(n);else{if(n instanceof q){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ie(e,n)}remove(n){const{_finalizers:e}=this;e&&ie(e,n),n instanceof q&&n._removeParent(this)}}q.EMPTY=(()=>{const t=new q;return t.closed=!0,t})();const X=q.EMPTY;function G(t){return t instanceof q||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function z(t){k(t)?t():t.unsubscribe()}const Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Z={setTimeout(t,n,...e){const{delegate:r}=Z;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Z;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function se(t){Z.setTimeout(()=>{const{onUnhandledError:n}=Ce;if(!n)throw t;n(t)})}function $(){}const O=ee("C",void 0,void 0);function ee(t,n,e){return{kind:t,value:n,error:e}}let Se=null;function we(t){if(Ce.useDeprecatedSynchronousErrorHandling){const n=!Se;if(n&&(Se={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=Se;if(Se=null,e)throw r}}else t()}class he extends q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,G(n)&&n.add(this)):this.destination=Ve}static create(n,e,r){return new ve(n,e,r)}next(n){this.isStopped?ze(function Oe(t){return ee("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ze(function j(t){return ee("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ze(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(t,n){return Ne.call(t,n)}class Ye{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Ie(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Ie(r)}else Ie(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ie(e)}}}class ve extends he{constructor(n,e,r){let o;if(super(),k(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Ce.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&me(n.next,i),error:n.error&&me(n.error,i),complete:n.complete&&me(n.complete,i)}):o=n}this.destination=new Ye(o)}}function Ie(t){Ce.useDeprecatedSynchronousErrorHandling?function ce(t){Ce.useDeprecatedSynchronousErrorHandling&&Se&&(Se.errorThrown=!0,Se.error=t)}(t):se(t)}function ze(t,n){const{onStoppedNotification:e}=Ce;e&&Z.setTimeout(()=>e(t,n))}const Ve={closed:!0,next:$,error:function Ae(t){throw t},complete:$},Pe="function"==typeof Symbol&&Symbol.observable||"@@observable";function Q(t){return t}let yt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function L(t){return t&&t instanceof he||function We(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}(t)&&G(t)}(e)?e:new ve(e,r,o);return we(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=xt(r))((o,i)=>{const s=new ve({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Pe](){return this}pipe(...e){return function Ke(t){return 0===t.length?Q:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}(e)(this)}toPromise(e){return new(e=xt(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function xt(t){var n;return null!==(n=t??Ce.Promise)&&void 0!==n?n:Promise}const H=u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class t extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ge(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new H}next(e){we(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){we(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){we(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?X:(this.currentObservers=null,i.push(e),new q(()=>{this.currentObservers=null,ie(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new yt;return e.source=this,e}}return t.create=(n,e)=>new ge(n,e),t})();class ge extends W{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:X}}function Re(t){return k(t?.lift)}function $e(t){return n=>{if(Re(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,n,e,r,o){return new it(t,n,e,r,o)}class it extends he{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function lt(t,n){return $e((e,r)=>{let o=0;e.subscribe(ut(r,i=>{r.next(t.call(n,i,o++))}))})}function ue(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Yn(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function c(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}function cr(t){return this instanceof cr?(this.v=t,this):new cr(t)}function Qn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(D){r[D]&&(o[D]=function(x){return new Promise(function(te,xe){i.push([D,x,te,xe])>1||a(D,x)})})}function a(D,x){try{!function c(D){D.value instanceof cr?Promise.resolve(D.value.v).then(f,m):_(i[0][2],D)}(r[D](x))}catch(te){_(i[0][3],te)}}function f(D){a("next",D)}function m(D){a("throw",D)}function _(D,x){D(x),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Vr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function jn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const hn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Sn(t){return k(t?.then)}function $t(t){return k(t[Pe])}function cn(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function tr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kn=function nn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ur(t){return k(t?.[Kn])}function jt(t){return Qn(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield cr(e.read());if(o)return yield cr(void 0);yield yield cr(r)}}finally{e.releaseLock()}})}function nr(t){return k(t?.getReader)}function E(t){if(t instanceof yt)return t;if(null!=t){if($t(t))return function At(t){return new yt(n=>{const e=t[Pe]();if(k(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(hn(t))return function gr(t){return new yt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Sn(t))return function M(t){return new yt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,se)})}(t);if(cn(t))return lo(t);if(ur(t))return function Fr(t){return new yt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(nr(t))return function co(t){return lo(jt(t))}(t)}throw tr(t)}function lo(t){return new yt(n=>{(function Oo(t,n){var e,r,o,i;return Yn(this,void 0,void 0,function*(){try{for(e=Vr(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Cr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function zt(t,n,e=1/0){return k(n)?zt((r,o)=>lt((i,s)=>n(r,i,o,s))(E(t(r,o))),e):("number"==typeof n&&(e=n),$e((r,o)=>function To(t,n,e,r,o,i,s,a){const c=[];let f=0,m=0,_=!1;const D=()=>{_&&!c.length&&!f&&n.complete()},x=xe=>f<r?te(xe):c.push(xe),te=xe=>{i&&n.next(xe),f++;let Xe=!1;E(e(xe,m++)).subscribe(ut(n,Ge=>{o?.(Ge),i?x(Ge):n.next(Ge)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(f--;c.length&&f<r;){const Ge=c.shift();s?Cr(n,s,()=>te(Ge)):te(Ge)}D()}catch(Ge){n.error(Ge)}}))};return t.subscribe(ut(n,x,()=>{_=!0,D()})),()=>{a?.()}}(r,o,t,e)))}function no(t=1/0){return zt(Q,t)}const rr=new yt(t=>t.complete());function Zo(t){return t&&k(t.schedule)}function en(t){return t[t.length-1]}function wo(t){return k(en(t))?t.pop():void 0}function I(t){return Zo(en(t))?t.pop():void 0}function Hr(t,n=0){return $e((e,r)=>{e.subscribe(ut(r,o=>Cr(r,t,()=>r.next(o),n),()=>Cr(r,t,()=>r.complete(),n),o=>Cr(r,t,()=>r.error(o),n)))})}function ui(t,n=0){return $e((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function ns(t,n){if(!t)throw new Error("Iterable cannot be null");return new yt(e=>{Cr(e,n,()=>{const r=t[Symbol.asyncIterator]();Cr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Gn(t,n){return n?function Li(t,n){if(null!=t){if($t(t))return function di(t,n){return E(t).pipe(ui(n),Hr(n))}(t,n);if(hn(t))return function xo(t,n){return new yt(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Sn(t))return function No(t,n){return E(t).pipe(ui(n),Hr(n))}(t,n);if(cn(t))return ns(t,n);if(ur(t))return function jr(t,n){return new yt(e=>{let r;return Cr(e,n,()=>{r=t[Kn](),Cr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}(t,n);if(nr(t))return function Yo(t,n){return ns(jt(t),n)}(t,n)}throw tr(t)}(t,n):E(t)}function Ko(...t){const n=I(t),e=function Yr(t,n){return"number"==typeof en(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?E(r[0]):no(e)(Gn(r,n)):rr}function Ci(t={}){const{connector:n=(()=>new W),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,f=0,m=!1,_=!1;const D=()=>{a?.unsubscribe(),a=void 0},x=()=>{D(),s=c=void 0,m=_=!1},te=()=>{const xe=s;x(),xe?.unsubscribe()};return $e((xe,Xe)=>{f++,!_&&!m&&D();const Ge=c=c??n();Xe.add(()=>{f--,0===f&&!_&&!m&&(a=Xo(te,o))}),Ge.subscribe(Xe),!s&&f>0&&(s=new ve({next:gt=>Ge.next(gt),error:gt=>{_=!0,D(),a=Xo(x,e,gt),Ge.error(gt)},complete:()=>{m=!0,D(),a=Xo(x,r),Ge.complete()}}),E(xe).subscribe(s))})(i)}}function Xo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ve({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function Fn(t){for(let n in t)if(t[n]===Fn)return n;throw Error("Could not find renamed property on target object.")}function Qo(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ln(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ln).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Si(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const rs=Fn({__forward_ref__:Fn});function T(t){return t.__forward_ref__=T,t.toString=function(){return Ln(this())},t}function N(t){return pe(t)?t():t}function pe(t){return"function"==typeof t&&t.hasOwnProperty(rs)&&t.__forward_ref__===T}class R extends Error{constructor(n,e){super(function Y(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t,n){throw new R(-201,!1)}function Nr(t,n){null==t&&function On(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function bt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ps(t){return ks(t,os)||ks(t,Ts)}function ks(t,n){return t.hasOwnProperty(n)?t[n]:null}function Bi(t){return t&&(t.hasOwnProperty(is)||t.hasOwnProperty(io))?t[is]:null}const os=Fn({\u0275prov:Fn}),is=Fn({\u0275inj:Fn}),Ts=Fn({ngInjectableDef:Fn}),io=Fn({ngInjectorDef:Fn});var qt=(()=>((qt=qt||{})[qt.Default=0]="Default",qt[qt.Host=1]="Host",qt[qt.Self=2]="Self",qt[qt.SkipSelf=4]="SkipSelf",qt[qt.Optional=8]="Optional",qt))();let ei;function Lo(t){const n=ei;return ei=t,n}function xs(t,n,e){const r=ps(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&qt.Optional?null:void 0!==n?n:void Wt(Ln(t))}function _r(t){return{toString:t}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),Jn=(()=>{return(t=Jn||(Jn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Jn;var t})();const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),y={},w=[],P=Fn({\u0275cmp:Fn}),V=Fn({\u0275dir:Fn}),ne=Fn({\u0275pipe:Fn}),_e=Fn({\u0275mod:Fn}),d=Fn({\u0275fac:Fn}),g=Fn({__NG_ELEMENT_ID__:Fn});let b=0;function C(t){return _r(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||w,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,id:"c"+b++,styles:t.styles||w,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=Zt(t.inputs,r),o.outputs=Zt(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(K).filter(J):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(dn).filter(J):null,o})}function K(t){return mt(t)||St(t)}function J(t){return null!==t}const Ee={};function Je(t){return _r(()=>{const n={type:t.type,bootstrap:t.bootstrap||w,declarations:t.declarations||w,imports:t.imports||w,exports:t.exports||w,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ee[t.id]=t.type),n})}function Zt(t,n){if(null==t)return y;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const ye=C;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function mt(t){return t[P]||null}function St(t){return t[V]||null}function dn(t){return t[ne]||null}function mn(t,n){const e=t[_e]||null;if(!e&&!0===n)throw new Error(`Type ${Ln(t)} does not have '\u0275mod' property.`);return e}function $o(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ii(t){return Array.isArray(t)&&!0===t[1]}function nc(t){return 0!=(8&t.flags)}function yl(t){return 2==(2&t.flags)}function _l(t){return 1==(1&t.flags)}function Mi(t){return null!==t.template}function ef(t){return 0!=(256&t[2])}function Fs(t,n){return t.hasOwnProperty(d)?t[d]:null}class rf{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function po(){return hu}function hu(t){return t.type.prototype.ngOnChanges&&(t.setInput=af),sf}function sf(){const t=gu(this),n=t?.current;if(n){const e=t.previous;if(e===y)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function af(t,n,e,r){const o=gu(t)||function lf(t,n){return t[mu]=n}(t,{previous:y,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new rf(c&&c.currentValue,n,s===y),t[r]=n}po.ngInherit=!0;const mu="__ngSimpleChanges__";function gu(t){return t[mu]||null}function Ur(t){for(;Array.isArray(t);)t=t[0];return t}function vl(t,n){return Ur(n[t])}function pi(t,n){return Ur(n[t.index])}function ac(t,n){return t.data[n]}function oa(t,n){return t[n]}function ni(t,n){const e=n[t];return $o(e)?e:e[0]}function yu(t){return 4==(4&t[2])}function lc(t){return 64==(64&t[2])}function ms(t,n){return null==n?null:t[n]}function _u(t){t[18]=0}function cc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const _n={lFrame:Te(null),bindingsEnabled:!0};function Kh(){return _n.bindingsEnabled}function ht(){return _n.lFrame.lView}function $n(){return _n.lFrame.tView}function Yt(t){return _n.lFrame.contextLView=t,t[8]}function Et(t){return _n.lFrame.contextLView=null,t}function Sr(){let t=zn();for(;null!==t&&64===t.type;)t=t.parent;return t}function zn(){return _n.lFrame.currentTNode}function ss(t,n){const e=_n.lFrame;e.currentTNode=t,e.isParent=n}function bu(){return _n.lFrame.isParent}function wu(){_n.lFrame.isParent=!1}function Xn(){return _n.lFrame.bindingIndex++}function kr(t){const n=_n.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function ho(t,n){const e=_n.lFrame;e.bindingIndex=e.bindingRootIndex=t,$r(n)}function $r(t){_n.lFrame.currentDirectiveIndex=t}function l(){return _n.lFrame.currentQueryIndex}function h(t){_n.lFrame.currentQueryIndex=t}function v(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function A(t,n,e){if(e&qt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&qt.Host||(o=v(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=_n.lFrame=De();return r.currentTNode=n,r.lView=t,!0}function U(t){const n=De(),e=t[1];_n.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function De(){const t=_n.lFrame,n=null===t?null:t.child;return null===n?Te(t):n}function Te(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function He(){const t=_n.lFrame;return _n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ct=He;function tn(){const t=He();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ot(){return _n.lFrame.selectedIndex}function Vt(t){_n.lFrame.selectedIndex=t}function Jt(){const t=_n.lFrame;return ac(t.tView,t.selectedIndex)}function dr(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=m&&(t.destroyHooks||(t.destroyHooks=[])).push(e,m)}}function oi(t,n,e){Nv(t,n,3,e)}function Br(t,n,e,r){(3&t[2])===e&&Nv(t,n,e,r)}function Xh(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Nv(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(JM(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function JM(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Cu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function yf(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];$v(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function Lv(t){return 3===t||4===t||6===t}function $v(t){return 64===t.charCodeAt(0)}function _f(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||Bv(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function Bv(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function Vv(t){return-1!==t}function dc(t){return 32767&t}function fc(t,n){let e=function ok(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Jh=!0;function vf(t){const n=Jh;return Jh=t,n}let ik=0;const Os={};function Eu(t,n){const e=tm(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,em(r.data,t),em(n,null),em(r.blueprint,null));const o=bf(t,n),i=t.injectorIndex;if(Vv(o)){const s=dc(o),a=fc(o,n),c=a[1].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|c[s+f]}return n[i+8]=o,i}function em(t,n){t.push(0,0,0,0,0,0,0,0,n)}function tm(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function bf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=Yv(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function wf(t,n,e){!function sk(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(g)&&(r=e[g]),null==r&&(r=e[g]=ik++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function Uv(t,n,e){if(e&qt.Optional)return t;Wt()}function Gv(t,n,e,r){if(e&qt.Optional&&void 0===r&&(r=null),0==(e&(qt.Self|qt.Host))){const o=t[9],i=Lo(void 0);try{return o?o.get(n,r,e&qt.Optional):xs(n,r,e&qt.Optional)}finally{Lo(i)}}return Uv(r,0,e)}function zv(t,n,e,r=qt.Default,o){if(null!==t){if(1024&n[2]){const s=function dk(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Wv(i,s,e,r|qt.Self,Os);if(a!==Os)return a;let c=i.parent;if(!c){const f=s[21];if(f){const m=f.get(e,Os,r);if(m!==Os)return m}c=Yv(s),s=s[15]}i=c}return o}(t,n,e,r,Os);if(s!==Os)return s}const i=Wv(t,n,e,r,Os);if(i!==Os)return i}return Gv(n,e,r,o)}function Wv(t,n,e,r,o){const i=function ck(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(g)?t[g]:void 0;return"number"==typeof n?n>=0?255&n:uk:n}(e);if("function"==typeof i){if(!A(n,t,r))return r&qt.Host?Uv(o,0,r):Gv(n,e,r,o);try{const s=i(r);if(null!=s||r&qt.Optional)return s;Wt()}finally{Ct()}}else if("number"==typeof i){let s=null,a=tm(t,n),c=-1,f=r&qt.Host?n[16][6]:null;for((-1===a||r&qt.SkipSelf)&&(c=-1===a?bf(t,n):n[a+8],-1!==c&&Zv(r,!1)?(s=n[1],a=dc(c),n=fc(c,n)):a=-1);-1!==a;){const m=n[1];if(qv(i,a,m.data)){const _=lk(a,n,e,s,r,f);if(_!==Os)return _}c=n[a+8],-1!==c&&Zv(r,n[1].data[a+8]===f)&&qv(i,a,n)?(s=m,a=dc(c),n=fc(c,n)):a=-1}}return o}function lk(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],m=Cf(a,s,e,null==r?yl(a)&&Jh:r!=s&&0!=(3&a.type),o&qt.Host&&i===a);return null!==m?Du(n,s,m,a):Os}function Cf(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,m=i>>20,D=o?a+m:t.directiveEnd;for(let x=r?a:a+m;x<D;x++){const te=s[x];if(x<c&&e===te||x>=c&&te.type===e)return x}if(o){const x=s[c];if(x&&Mi(x)&&x.type===e)return c}return null}function Du(t,n,e,r){let o=t[e];const i=n.data;if(function ek(t){return t instanceof Cu}(o)){const s=o;s.resolving&&function Qe(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(i[e]));const a=vf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Lo(s.injectImpl):null;A(t,r,qt.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function mo(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=hu(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&Lo(c),vf(a),s.resolving=!1,Ct()}}return o}function qv(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Zv(t,n){return!(t&qt.Self||t&qt.Host&&n)}class pc{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return zv(this._tNode,this._lView,n,r,e)}}function uk(){return new pc(Sr(),ht())}function jo(t){return _r(()=>{const n=t.prototype.constructor,e=n[d]||nm(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[d]||nm(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function nm(t){return pe(t)?()=>{const n=nm(N(t));return n&&n()}:Fs(t)}function Yv(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function wl(t){return function ak(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(Lv(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(Sr(),t)}const mc="__parameters__";function yc(t,n,e){return _r(()=>{const r=function rm(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,m){const _=c.hasOwnProperty(mc)?c[mc]:Object.defineProperty(c,mc,{value:[]})[mc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class an{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=bt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const pk=new an("AnalyzeForEntryComponents");function Vi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Vi(r,n)):n!==t&&n.push(r)}return n}function ia(t,n){t.forEach(e=>Array.isArray(e)?ia(e,n):n(e))}function Xv(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Sf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ku(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Hi(t,n,e){let r=_c(t,n);return r>=0?t[1|r]=e:(r=~r,function gk(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function im(t,n){const e=_c(t,n);if(e>=0)return t[1|e]}function _c(t,n){return function e0(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Tu={},am="__NG_DI_FLAG__",Df="ngTempTokenPath",Ek=/\n/gm,t0="__source";let xu;function If(t){const n=xu;return xu=t,n}function Ik(t,n=qt.Default){if(void 0===xu)throw new R(-203,!1);return null===xu?xs(t,void 0,n):xu.get(t,n&qt.Optional?null:void 0,n)}function be(t,n=qt.Default){return(function hs(){return ei}()||Ik)(N(t),n)}function Cl(t,n=qt.Default){return be(t,n)}function lm(t){const n=[];for(let e=0;e<t.length;e++){const r=N(t[e]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let o,i=qt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Mk(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(be(o,i))}else n.push(be(r))}return n}function Au(t,n){return t[am]=n,t.prototype[am]=n,t}function Mk(t){return t[am]}const Ua=Au(yc("Optional"),8),Pu=Au(yc("SkipSelf"),4);let um,Tf;function bc(t){var n;return(null===(n=function dm(){if(void 0===Tf&&(Tf=null,pn.trustedTypes))try{Tf=pn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tf}())||void 0===n?void 0:n.createHTML(t))||t}class Sl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jk extends Sl{getTypeName(){return"HTML"}}class Uk extends Sl{getTypeName(){return"Style"}}class Gk extends Sl{getTypeName(){return"Script"}}class zk extends Sl{getTypeName(){return"URL"}}class Wk extends Sl{getTypeName(){return"ResourceURL"}}function ji(t){return t instanceof Sl?t.changingThisBreaksApplicationSecurity:t}function Ns(t,n){const e=function qk(t){return t instanceof Sl&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class Jk{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(bc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class eT{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bc(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=bc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const nT=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rT=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ou(t){return(t=String(t)).match(nT)||t.match(rT)?t:"unsafe:"+t}function g0(t){return(t=String(t)).split(",").map(n=>Ou(n.trim())).join(", ")}function Ls(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Nu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const y0=Ls("area,br,col,hr,img,wbr"),_0=Ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v0=Ls("rp,rt"),pm=Nu(y0,Nu(_0,Ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nu(v0,Ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nu(v0,_0)),hm=Ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mm=Ls("srcset"),b0=Nu(hm,mm,Ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oT=Ls("script,style,template");class iT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!pm.hasOwnProperty(e))return this.sanitizedSomething=!0,!oT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!b0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;hm[a]&&(c=Ou(c)),mm[a]&&(c=g0(c)),this.buf.push(" ",s,'="',w0(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();pm.hasOwnProperty(e)&&!y0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(w0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const sT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aT=/([^\#-~ |!])/g;function w0(t){return t.replace(/&/g,"&amp;").replace(sT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(aT,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Af;function C0(t,n){let e=null;try{Af=Af||function m0(t){const n=new eT(t);return function tT(){try{return!!(new window.DOMParser).parseFromString(bc(""),"text/html")}catch{return!1}}()?new Jk(n):n}(t);let r=n?String(n):"";e=Af.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Af.getInertBodyElement(r)}while(r!==i);return bc((new iT).sanitizeChildren(gm(e)||e))}finally{if(e){const r=gm(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gm(t){return"content"in t&&function lT(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function vm(t){return t.ngOriginalError}class wc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&vm(n);for(;e&&vm(e);)e=vm(e);return e||null}}const bm=new Map;let ET=0;const Cm="__ngContext__";function ii(t,n){$o(n)?(t[Cm]=n[20],function IT(t){bm.set(t[20],t)}(n)):t[Cm]=n}function $u(t){const n=t[Cm];return"number"==typeof n?function D0(t){return bm.get(t)||null}(n):n||null}function Sm(t){const n=$u(t);return n?$o(n)?n:n.lView:null}const OT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(pn))();function sa(t){return t instanceof Function?t():t}var Ti=(()=>((Ti=Ti||{})[Ti.Important=1]="Important",Ti[Ti.DashCase=2]="DashCase",Ti))();function Dm(t,n){return undefined(t,n)}function Bu(t){const n=t[3];return Ii(n)?n[3]:n}function Im(t){return R0(t[13])}function Mm(t){return R0(t[4])}function R0(t){for(;null!==t&&!Ii(t);)t=t[4];return t}function Sc(t,n,e,r,o){if(null!=r){let i,s=!1;Ii(r)?i=r:$o(r)&&(s=!0,r=r[0]);const a=Ur(r);0===t&&null!==e?null==o?B0(n,e,a):El(n,e,a,o||null,!0):1===t&&null!==e?El(n,e,a,o||null,!0):2===t?function W0(t,n,e){const r=Pf(t,n);r&&function QT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function tx(t,n,e,r,o){const i=e[7];i!==Ur(e)&&Sc(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Vu(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function Tm(t,n,e){return t.createElement(n,e)}function O0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,cc(o,-1)),e.splice(r,1)}function xm(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&O0(o,r),n>0&&(t[e-1][4]=r[4]);const i=Sf(t,10+n);!function GT(t,n){Vu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function N0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Vu(t,n,e,3,null,null),function qT(t){let n=t[13];if(!n)return Am(t[1],t);for(;n;){let e=null;if($o(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)$o(n)&&Am(n[1],n),n=n[3];null===n&&(n=t),$o(n)&&Am(n[1],n),e=n&&n[4]}n=e}}(n)}}function Am(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function XT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof Cu)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function KT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):Ur(n[s]),c=r[o=e[i+2]],f=e[i+3];"boolean"==typeof f?a.removeEventListener(e[i],c,f):f>=0?r[o=f]():r[o=-f].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&Ii(n[3])){e!==n[3]&&O0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function MT(t){bm.delete(t[20])}(n)}}function L0(t,n,e){return function $0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===Jn.None||o===Jn.Emulated)return null}return pi(r,e)}(t,n.parent,e)}function El(t,n,e,r,o){t.insertBefore(n,e,r,o)}function B0(t,n,e){t.appendChild(n,e)}function V0(t,n,e,r,o){null!==r?El(t,n,e,r,o):B0(t,n,e)}function Pf(t,n){return t.parentNode(n)}function H0(t,n,e){return U0(t,n,e)}let U0=function j0(t,n,e){return 40&t.type?pi(t,e):null};function Rf(t,n,e,r){const o=L0(t,r,n),i=n[11],a=H0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)V0(i,o,e[c],a,!1);else V0(i,o,e,a,!1)}function Ff(t,n){if(null!==n){const e=n.type;if(3&e)return pi(n,t);if(4&e)return Rm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Ff(t,r);{const o=t[n.index];return Ii(o)?Rm(-1,o):Ur(o)}}if(32&e)return Dm(n,t)()||Ur(t[n.index]);{const r=z0(t,n);return null!==r?Array.isArray(r)?r[0]:Ff(Bu(t[16]),r):Ff(t,n.next)}}return null}function z0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Rm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return Ff(r,o)}return n[7]}function Fm(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&ii(Ur(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)Fm(t,n,e.child,r,o,i,!1),Sc(n,t,o,a,i);else if(32&c){const f=Dm(e,r);let m;for(;m=f();)Sc(n,t,o,m,i);Sc(n,t,o,a,i)}else 16&c?q0(t,n,r,e,o,i):Sc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Vu(t,n,e,r,o,i){Fm(e,r,t.firstChild,n,o,i,!1)}function q0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)Sc(n,t,o,c[f],i);else Fm(t,n,c,s[3],o,i,!0)}function Z0(t,n,e){t.setAttribute(n,"style",e)}function Om(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Y0(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const K0="ng-template";function rx(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==Y0(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function X0(t){return 4===t.type&&t.value!==K0}function ox(t,n,e){return n===(4!==t.type||e?t.value:K0)}function ix(t,n,e){let r=4;const o=t.attrs||[],i=function lx(t){for(let n=0;n<t.length;n++)if(Lv(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ox(t,c,e)||""===c&&1===n.length){if(gs(r))return!1;s=!0}}else{const f=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!rx(t.attrs,f,e)){if(gs(r))return!1;s=!0}continue}const _=sx(8&r?"class":c,o,X0(t),e);if(-1===_){if(gs(r))return!1;s=!0;continue}if(""!==f){let D;D=_>i?"":o[_+1].toLowerCase();const x=8&r?D:null;if(x&&-1!==Y0(x,f,0)||2&r&&f!==D){if(gs(r))return!1;s=!0}}}}else{if(!s&&!gs(r)&&!gs(c))return!1;if(s&&gs(c))continue;s=!1,r=c|1&r}}return gs(r)||s}function gs(t){return 0==(1&t)}function sx(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function cx(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Q0(t,n,e=!1){for(let r=0;r<n.length;r++)if(ix(t,n[r],e))return!0;return!1}function ux(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function J0(t,n){return t?":not("+n.trim()+")":n}function dx(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!gs(s)&&(n+=J0(i,o),o=""),r=s,i=i||!gs(r);e++}return""!==o&&(n+=J0(i,o)),n}const Dn={};function rt(t){eb($n(),ht(),Ot()+t,!1)}function eb(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&oi(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Br(n,i,0,e)}Vt(e)}const Nm=new an("ENVIRONMENT_INITIALIZER"),ob=new an("INJECTOR_DEF_TYPES");function vx(...t){return{\u0275providers:ib(0,t)}}function ib(t,...n){const e=[],r=new Set;let o;return ia(n,i=>{const s=i;Lm(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&sb(o,e),e}function sb(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];ia(o,i=>{n.push(i)})}}function Lm(t,n,e,r){if(!(t=N(t)))return!1;let o=null,i=Bi(t);const s=!i&&mt(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=Bi(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)Lm(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ia(i.imports,m=>{Lm(m,n,e,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&sb(f,n)}if(!a){const f=Fs(o)||(()=>new o);n.push({provide:o,useFactory:f,deps:w},{provide:ob,useValue:o,multi:!0},{provide:Nm,useValue:()=>be(o),multi:!0})}const c=i.providers;null==c||a||ia(c,m=>{n.push(m)})}}return o!==t&&void 0!==t.providers}const bx=Fn({provide:String,useValue:Fn});function $m(t){return null!==t&&"object"==typeof t&&bx in t}function Dl(t){return"function"==typeof t}const Bm=new an("INJECTOR",-1);class cb{get(n,e=Tu){if(e===Tu){const r=new Error(`NullInjectorError: No provider for ${Ln(n)}!`);throw r.name="NullInjectorError",r}return e}}const Vm=new an("Set Injector scope."),Of={},Cx={};let Hm;function jm(){return void 0===Hm&&(Hm=new cb),Hm}class Il{}class ub extends Il{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gm(n,s=>this.processProvider(s)),this.records.set(Bm,Ec(void 0,this)),o.has("environment")&&this.records.set(Il,Ec(void 0,this));const i=this.records.get(Vm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ob.multi,w,qt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,e=Tu,r=qt.Default){this.assertNotDestroyed();const o=If(this),i=Lo(void 0);try{if(!(r&qt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function Mx(t){return"function"==typeof t||"object"==typeof t&&t instanceof an}(n)&&ps(n);a=c&&this.injectableDefInScope(c)?Ec(Um(n),Of):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&qt.Self?jm():this.parent).get(n,e=r&qt.Optional&&e===Tu?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Df]=s[Df]||[]).unshift(Ln(n)),o)throw s;return function kk(t,n,e,r){const o=t[Df];throw n[t0]&&o.unshift(n[t0]),t.message=function Tk(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Ln(n);if(Array.isArray(n))o=n.map(Ln).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Ln(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(Ek,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[Df]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{Lo(i),If(o)}}resolveInjectorInitializers(){const n=If(this),e=Lo(void 0);try{const r=this.get(Nm.multi,w,qt.Self);for(const o of r)o()}finally{If(n),Lo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Ln(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(n){let e=Dl(n=N(n))?n:N(n&&n.provide);const r=function Ex(t){return $m(t)?Ec(void 0,t.useValue):Ec(db(t),Of)}(n);if(Dl(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Ec(void 0,Of,!0),o.factory=()=>lm(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Of&&(e.value=Cx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Ix(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=N(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Um(t){const n=ps(t),e=null!==n?n.factory:Fs(t);if(null!==e)return e;if(t instanceof an)throw new R(204,!1);if(t instanceof Function)return function Sx(t){const n=t.length;if(n>0)throw ku(n,"?"),new R(204,!1);const e=function Na(t){const n=t&&(t[os]||t[Ts]);if(n){const e=function La(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new R(204,!1)}function db(t,n,e){let r;if(Dl(t)){const o=N(t);return Fs(o)||Um(o)}if($m(t))r=()=>N(t.useValue);else if(function lb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...lm(t.deps||[]));else if(function ab(t){return!(!t||!t.useExisting)}(t))r=()=>be(N(t.useExisting));else{const o=N(t&&(t.useClass||t.provide));if(!function Dx(t){return!!t.deps}(t))return Fs(o)||Um(o);r=()=>new o(...lm(t.deps))}return r}function Ec(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function kx(t){return!!t.\u0275providers}function Gm(t,n){for(const e of t)Array.isArray(e)?Gm(e,n):kx(e)?Gm(e.\u0275providers,n):n(e)}function fb(t,n=null,e=null,r){const o=pb(t,n,e,r);return o.resolveInjectorInitializers(),o}function pb(t,n=null,e=null,r,o=new Set){const i=[e||w,vx(t)];return r=r||("object"==typeof t?void 0:Ln(t)),new ub(i,n||jm(),r||null,o)}let vr=(()=>{class t{static create(e,r){if(Array.isArray(e))return fb({name:""},r,e,"");{var o;const i=null!==(o=e.name)&&void 0!==o?o:"";return fb({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Tu,t.NULL=new cb,t.\u0275prov=bt({token:t,providedIn:"any",factory:()=>be(Bm)}),t.__NG_ELEMENT_ID__=-1,t})();function S(t,n=qt.Default){const e=ht();return null===e?be(t,n):zv(Sr(),e,N(t),n)}function Ym(){throw new Error("invalid")}function Lf(t,n){return t<<17|n<<2}function ys(t){return t>>17&32767}function Jm(t){return 2|t}function aa(t){return(131068&t)>>2}function eg(t,n){return-131069&t|n<<2}function tg(t){return 1|t}function Rb(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];h(o),s.contentQueries(2,n[i],i)}}}function Vf(t,n,e,r,o,i,s,a,c,f,m){const _=n.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||t&&1024&t[2])&&(_[2]|=1024),_u(_),_[3]=_[15]=t,_[8]=e,_[10]=s||t&&t[10],_[11]=a||t&&t[11],_[12]=c||t&&t[12]||null,_[9]=f||t&&t[9]||null,_[6]=i,_[20]=function DT(){return ET++}(),_[21]=m,_[16]=2==n.type?t[16]:_,_}function Ic(t,n,e,r,o){let i=t.data[n];if(null===i)i=function ug(t,n,e,r,o){const i=zn(),s=bu(),c=t.data[n]=function aA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function ri(){return _n.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function bl(){const t=_n.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ss(i,!0),i}function Mc(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Hf(t,n,e){U(n);try{const r=t.viewQuery;null!==r&&vg(1,r,e);const o=t.template;null!==o&&Fb(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rb(t,n),t.staticViewQueries&&vg(2,t.viewQuery,e);const i=t.components;null!==i&&function rA(t,n){for(let e=0;e<n.length;e++)DA(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,tn()}}function Hu(t,n,e,r){const o=n[2];if(128!=(128&o)){U(n);try{_u(n),function Bn(t){return _n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Fb(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&oi(n,f,null)}else{const f=t.preOrderHooks;null!==f&&Br(n,f,0,null),Xh(n,0)}if(function SA(t){for(let n=Im(t);null!==n;n=Mm(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&cc(i,1),o[2]|=512}}}(n),function CA(t){for(let n=Im(t);null!==n;n=Mm(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];lc(r)&&Hu(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&Rb(t,n),s){const f=t.contentCheckHooks;null!==f&&oi(n,f)}else{const f=t.contentHooks;null!==f&&Br(n,f,1),Xh(n,1)}!function tA(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Vt(~o);else{const i=o,s=e[++r],a=e[++r];ho(s,i),a(2,n[i])}}}finally{Vt(-1)}}(t,n);const a=t.components;null!==a&&function nA(t,n){for(let e=0;e<n.length;e++)EA(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&vg(2,c,r),s){const f=t.viewCheckHooks;null!==f&&oi(n,f)}else{const f=t.viewHooks;null!==f&&Br(n,f,2),Xh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,cc(n[3],-1))}finally{tn()}}}function oA(t,n,e,r){const o=n[10],s=yu(n);try{!s&&o.begin&&o.begin(),s&&Hf(t,n,r),Hu(t,n,e,r)}finally{!s&&o.end&&o.end()}}function Fb(t,n,e,r,o){const i=Ot(),s=2&r;try{Vt(-1),s&&n.length>22&&eb(t,n,22,!1),e(r,o)}finally{Vt(i)}}function Ob(t,n,e){if(nc(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function dg(t,n,e){!Kh()||(function hA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||Eu(e,n),ii(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],f=Mi(c);f&&vA(n,e,c);const m=Du(n,t,a,e);ii(m,n),null!==s&&bA(0,a-o,m,c,0,s),f&&(ni(e.index,n)[8]=m)}}(t,n,e,pi(e,n)),128==(128&e.flags)&&function mA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function Lr(){return _n.lFrame.currentDirectiveIndex}();try{Vt(i);for(let a=r;a<o;a++){const c=t.data[a],f=n[a];$r(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Vb(c,f)}}finally{Vt(-1),$r(s)}}(t,n,e))}function fg(t,n,e=pi){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function Nb(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=pg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function pg(t,n,e,r,o,i,s,a,c,f){const m=22+r,_=m+o,D=function iA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Dn);return e}(m,_),x="function"==typeof f?f():f;return D[1]={type:t,blueprint:D,template:e,queries:null,viewQuery:a,declTNode:n,data:D.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1}}function Lb(t,n,e,r){const o=qb(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&Zb(t).push(r,o.length-1))}function $b(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function hg(t,n,e,r){let o=!1;if(Kh()){const i=function gA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Q0(e,s.selectors,!1)&&(o||(o=[]),wf(Eu(e,n),t,s.type),Mi(s)?(Hb(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,jb(e,t.data.length,i.length);for(let m=0;m<i.length;m++){const _=i[m];_.providersResolver&&_.providersResolver(_)}let a=!1,c=!1,f=Mc(t,n,i.length,null);for(let m=0;m<i.length;m++){const _=i[m];e.mergedAttrs=_f(e.mergedAttrs,_.hostAttrs),Ub(t,e,n,f,_),_A(f,_,s),null!==_.contentQueries&&(e.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=128);const D=_.type.prototype;!a&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function lA(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let f=n.directiveStart;f<r;f++){const m=o[f],_=m.inputs,D=null===i||X0(n)?null:wA(_,i);s.push(D),a=$b(_,f,a),c=$b(m.outputs,f,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}(t,e)}s&&function yA(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new R(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=_f(e.mergedAttrs,e.attrs),o}function Bb(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function pA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function Vb(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Hb(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function _A(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Mi(n)&&(e[""]=t)}}function jb(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Ub(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Fs(o.type)),s=new Cu(i,Mi(o),S);t.blueprint[r]=s,e[r]=s,Bb(t,n,0,r,Mc(t,e,o.hostVars,Dn),o)}function vA(t,n,e){const r=pi(n,t),o=Nb(e),i=t[10],s=jf(t,Vf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function $s(t,n,e,r,o,i){const s=pi(t,n);!function mg(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?re(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function bA(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const f=s[c++],m=s[c++],_=s[c++];null!==a?r.setInput(e,_,f,m):e[m]=_}}}function wA(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Gb(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function EA(t,n){const e=ni(n,t);if(lc(e)){const r=e[1];48&e[2]?Hu(r,e,r.template,e[8]):e[5]>0&&gg(e)}}function gg(t){for(let r=Im(t);null!==r;r=Mm(r))for(let o=10;o<r.length;o++){const i=r[o];if(512&i[2]){const s=i[1];Hu(s,i,s.template,i[8])}else i[5]>0&&gg(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=ni(e[r],t);lc(o)&&o[5]>0&&gg(o)}}function DA(t,n){const e=ni(n,t),r=e[1];(function IA(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Hf(r,e,e[8])}function jf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function yg(t){for(;t;){t[2]|=32;const n=Bu(t);if(ef(t)&&!n)return t;t=n}return null}function Wb(t){!function zb(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=Sm(e);if(null!==r){const o=r[1];oA(o,r,o.template,e)}}}(t[8])}function vg(t,n,e){h(0),n(t,e)}const kA=(()=>Promise.resolve(null))();function qb(t){return t[7]||(t[7]=[])}function Zb(t){return t.cleanup||(t.cleanup=[])}function Kb(t,n){const e=t[9],r=e?e.get(wc,null):null;r&&r.handleError(n)}function Xb(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],f=t.data[s];null!==f.setInput?f.setInput(c,o,r,a):c[a]=o}}function la(t,n,e){const r=vl(n,t);!function F0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function Uf(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Si(o,a):2==i&&(r=Si(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function PA(){const t=Sr();dr(ht()[1],t)}function Zn(t){let n=function Qb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Mi(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=bg(t.inputs),s.declaredInputs=bg(t.declaredInputs),s.outputs=bg(t.outputs);const a=o.hostBindings;a&&NA(t,a);const c=o.viewQuery,f=o.contentQueries;if(c&&FA(t,c),f&&OA(t,f),Qo(t.inputs,o.inputs),Qo(t.declaredInputs,o.declaredInputs),Qo(t.outputs,o.outputs),Mi(o)&&o.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Zn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function RA(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=_f(o.hostAttrs,e=_f(e,o.hostAttrs))}}(r)}function bg(t){return t===y?{}:t===w?[]:t}function FA(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function OA(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function NA(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let Gf=null;function Ml(){if(!Gf){const t=pn.Symbol;if(t&&t.iterator)Gf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Gf=r)}}}return Gf}function ju(t){return!!function wg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ml()in t)}function si(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Vs(t,n,e,r){const o=ht();return si(o,Xn(),n)&&($n(),$s(Jt(),o,t,n,e,r)),Vs}function xc(t,n,e,r,o,i){const a=function kl(t,n,e,r){const o=si(t,n,e);return si(t,n+1,r)||o}(t,function er(){return _n.lFrame.bindingIndex}(),e,o);return kr(2),a?n+re(e)+r+re(o)+i:Dn}function Kt(t,n,e,r,o,i,s,a){const c=ht(),f=$n(),m=t+22,_=f.firstCreatePass?function zA(t,n,e,r,o,i,s,a,c){const f=n.consts,m=Ic(n,t,4,s||null,ms(f,a));hg(n,e,m,ms(f,c)),dr(n,m);const _=m.tViews=pg(2,m,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,m),_.queries=n.queries.embeddedTView(m)),m}(m,f,c,n,e,r,o,i,s):f.data[m];ss(_,!1);const D=c[11].createComment("");Rf(f,c,D,_),ii(D,c),jf(c,c[m]=Gb(D,c,D,_)),_l(_)&&dg(f,c,_),null!=s&&fg(c,_,a)}function Gi(t){return oa(function Mn(){return _n.lFrame.contextLView}(),22+t)}function ot(t,n,e){const r=ht();return si(r,Xn(),n)&&function Ui(t,n,e,r,o,i,s,a){const c=pi(n,e);let m,f=n.inputs;!a&&null!=f&&(m=f[r])?(Xb(t,e,m,r,o),yl(n)&&function uA(t,n){const e=ni(n,t);16&e[2]||(e[2]|=32)}(e,n.index)):3&n.type&&(r=function cA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}($n(),Jt(),r,t,n,r[11],e,!1),ot}function Cg(t,n,e,r,o){const s=o?"class":"style";Xb(t,e,n.inputs[s],s,r)}function de(t,n,e,r){const o=ht(),i=$n(),s=22+t,a=o[11],c=o[s]=Tm(a,n,function on(){return _n.lFrame.currentNamespace}()),f=i.firstCreatePass?function qA(t,n,e,r,o,i,s){const a=n.consts,f=Ic(n,t,2,o,ms(a,i));return hg(n,e,f,ms(a,s)),null!==f.attrs&&Uf(f,f.attrs,!1),null!==f.mergedAttrs&&Uf(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(s,i,o,0,n,e,r):i.data[s];ss(f,!0);const m=f.mergedAttrs;null!==m&&yf(a,c,m);const _=f.classes;null!==_&&Om(a,c,_);const D=f.styles;return null!==D&&Z0(a,c,D),64!=(64&f.flags)&&Rf(i,o,c,f),0===function mf(){return _n.lFrame.elementDepthCount}()&&ii(c,o),function gf(){_n.lFrame.elementDepthCount++}(),_l(f)&&(dg(i,o,f),Ob(i,f,o)),null!==r&&fg(o,f),de}function oe(){let t=Sr();bu()?wu():(t=t.parent,ss(t,!1));const n=t;!function Yh(){_n.lFrame.elementDepthCount--}();const e=$n();return e.firstCreatePass&&(dr(e,t),nc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function nk(t){return 0!=(16&t.flags)}(n)&&Cg(e,n,ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function rk(t){return 0!=(32&t.flags)}(n)&&Cg(e,n,ht(),n.stylesWithoutHost,!1),oe}function ft(t,n,e,r){return de(t,n,e,r),oe(),ft}function Gu(t,n,e){const r=ht(),o=$n(),i=t+22,s=o.firstCreatePass?function ZA(t,n,e,r,o){const i=n.consts,s=ms(i,r),a=Ic(n,t,8,"ng-container",s);return null!==s&&Uf(a,s,!0),hg(n,e,a,ms(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];ss(s,!0);const a=r[i]=r[11].createComment("");return Rf(o,r,a,s),ii(a,r),_l(s)&&(dg(o,r,s),Ob(o,s,r)),null!=e&&fg(r,s),Gu}function zu(){let t=Sr();const n=$n();return bu()?wu():(t=t.parent,ss(t,!1)),n.firstCreatePass&&(dr(n,t),nc(t)&&n.queries.elementEnd(t)),zu}function fr(){return ht()}function Wu(t){return!!t&&"function"==typeof t.then}function lw(t){return!!t&&"function"==typeof t.subscribe}const Sg=lw;function ct(t,n,e,r){const o=ht(),i=$n(),s=Sr();return function uw(t,n,e,r,o,i,s,a){const c=_l(r),m=t.firstCreatePass&&Zb(t),_=n[8],D=qb(n);let x=!0;if(3&r.type||a){const Xe=pi(r,n),Ge=a?a(Xe):Xe,gt=D.length,nt=a?Xt=>a(Ur(Xt[r.index])):r.index;let pt=null;if(!a&&c&&(pt=function YA(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=i,pt.__ngLastListenerFn__=i,x=!1;else{i=fw(r,n,_,i,!1);const Xt=e.listen(Ge,o,i);D.push(i,Xt),m&&m.push(o,nt,gt,gt+1)}}else i=fw(r,n,_,i,!1);const te=r.outputs;let xe;if(x&&null!==te&&(xe=te[o])){const Xe=xe.length;if(Xe)for(let Ge=0;Ge<Xe;Ge+=2){const ln=n[xe[Ge]][xe[Ge+1]].subscribe(i),ko=D.length;D.push(i,ln),m&&m.push(o,r.index,ko,-(ko+1))}}}(i,o,o[11],s,t,n,0,r),ct}function dw(t,n,e,r){try{return!1!==e(r)}catch(o){return Kb(t,o),!1}}function fw(t,n,e,r,o){return function i(s){if(s===Function)return r;yg(2&t.flags?ni(t.index,n):n);let c=dw(n,0,r,s),f=i.__ngNextListenerFn__;for(;f;)c=dw(n,0,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Nt(t=1){return function Tn(t){return(_n.lFrame.contextLView=function Vn(t,n){for(;t>0;)n=n[15],t--;return n}(t,_n.lFrame.contextLView))[8]}(t)}function KA(t,n){let e=null;const r=function ax(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?Q0(t,i,!0):ux(r,i))return o}else e=o}return e}function kt(t){const n=ht()[16][6];if(!n.projection){const r=n.projection=ku(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?KA(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function Mt(t,n=0,e){const r=ht(),o=$n(),i=Ic(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),wu(),64!=(64&i.flags)&&function ex(t,n,e){q0(n[11],0,n,e,L0(t,e,n),H0(e.parent||n[6],e,n))}(o,r,i)}function Cw(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?ys(i):aa(i),c=!1;for(;0!==a&&(!1===c||s);){const m=t[a+1];JA(t[a],n)&&(c=!0,t[a+1]=r?tg(m):Jm(m)),a=r?ys(m):aa(m)}c&&(t[e+1]=r?Jm(i):tg(i))}function JA(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&_c(t,n)>=0}function qu(t,n,e){return _s(t,n,e,!1),qu}function ca(t,n){return _s(t,n,null,!0),ca}function _s(t,n,e,r){const o=ht(),i=$n(),s=kr(2);i.firstUpdatePass&&function xw(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Ot()],s=function Tw(t,n){return n>=t.expandoStartIndex}(t,e);(function Fw(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function lP(t,n,e,r){const o=function rn(t){const n=_n.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Zu(e=Dg(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=Dg(o,t,n,e,r),null===i){let c=function cP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==aa(r))return t[ys(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=Dg(null,t,n,c[1],r),c=Zu(c,n.attrs,r),function uP(t,n,e,r){t[ys(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function dP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Zu(r,t[i].hostAttrs,e);return Zu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function XA(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=ys(s),c=aa(s);t[r]=e;let m,f=!1;if(Array.isArray(e)){const _=e;m=_[1],(null===m||_c(_,m)>0)&&(f=!0)}else m=e;if(o)if(0!==c){const D=ys(t[a+1]);t[r+1]=Lf(D,a),0!==D&&(t[D+1]=eg(t[D+1],r)),t[a+1]=function zx(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=Lf(a,0),0!==a&&(t[a+1]=eg(t[a+1],r)),a=r;else t[r+1]=Lf(c,0),0===a?a=r:t[c+1]=eg(t[c+1],r),c=r;f&&(t[r+1]=Jm(t[r+1])),Cw(t,m,r,!0),Cw(t,m,r,!1),function QA(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&_c(i,n)>=0&&(e[r+1]=tg(e[r+1]))}(n,m,t,r,i),s=Lf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==Dn&&si(o,s,n)&&function Pw(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,f=c[a+1];qf(function Db(t){return 1==(1&t)}(f)?Rw(c,n,e,o,aa(f),s):void 0)||(qf(i)||function Eb(t){return 2==(2&t)}(f)&&(i=Rw(c,null,e,o,a,s)),function nx(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Ti.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ti.Important),t.setStyle(e,r,o,i))}}(r,s,vl(Ot(),e),o,i))}(i,i.data[Ot()],o,o[11],t,o[s+1]=function hP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ln(ji(t)))),t}(n,e),r,s)}function Dg(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Zu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Zu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hi(t,s,!!e||n[++i]))}return void 0===t?null:t}function Rw(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],f=Array.isArray(c),m=f?c[1]:c,_=null===m;let D=e[o+1];D===Dn&&(D=_?w:void 0);let x=_?im(D,r):m===r?D:void 0;if(f&&!qf(x)&&(x=im(c,r)),qf(x)&&(a=x,s))return a;const te=t[o+1];o=s?ys(te):aa(te)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=im(c,r))}return a}function qf(t){return void 0!==t}function tt(t,n=""){const e=ht(),r=$n(),o=t+22,i=r.firstCreatePass?Ic(r,o,1,n,null):r.data[o],s=e[o]=function km(t,n){return t.createText(n)}(e[11],n);Rf(r,e,s,i),ss(i,!1)}function zi(t){return xi("",t,""),zi}function xi(t,n,e){const r=ht(),o=function Tc(t,n,e,r){return si(t,Xn(),e)?n+re(e)+r:Dn}(r,t,n,e);return o!==Dn&&la(r,Ot(),o),xi}function Zf(t,n,e,r,o){const i=ht(),s=xc(i,t,n,e,r,o);return s!==Dn&&la(i,Ot(),s),Zf}const Bc="en-US";let tC=Bc;function kg(t,n,e,r,o){if(t=N(t),Array.isArray(t))for(let i=0;i<t.length;i++)kg(t[i],n,e,r,o);else{const i=$n(),s=ht();let a=Dl(t)?t:N(t.provide),c=db(t);const f=Sr(),m=1048575&f.providerIndexes,_=f.directiveStart,D=f.providerIndexes>>20;if(Dl(t)||!t.multi){const x=new Cu(c,o,S),te=xg(a,n,o?m:m+D,_);-1===te?(wf(Eu(f,s),i,a),Tg(i,t,n.length),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(x),s.push(x)):(e[te]=x,s[te]=x)}else{const x=xg(a,n,m+D,_),te=xg(a,n,m,m+D),xe=x>=0&&e[x],Xe=te>=0&&e[te];if(o&&!Xe||!o&&!xe){wf(Eu(f,s),i,a);const Ge=function PR(t,n,e,r,o){const i=new Cu(t,e,S);return i.multi=[],i.index=n,i.componentProviders=0,IC(i,o,r&&!e),i}(o?AR:xR,e.length,o,r,c);!o&&Xe&&(e[te].providerFactory=Ge),Tg(i,t,n.length,0),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(Ge),s.push(Ge)}else Tg(i,t,x>-1?x:te,IC(e[o?te:x],c,!o&&r));!o&&r&&Xe&&e[te].componentProviders++}}}function Tg(t,n,e,r){const o=Dl(n),i=function wx(t){return!!t.useClass}(n);if(o||i){const c=(i?N(n.useClass):n).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const m=f.indexOf(e);-1===m?f.push(e,[r,c]):f[m+1].push(r,c)}else f.push(e,c)}}}function IC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function xg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function xR(t,n,e,r){return Ag(this.multi,[])}function AR(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Du(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),Ag(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Ag(o,i);return i}function Ag(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function mr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function TR(t,n,e){const r=$n();if(r.firstCreatePass){const o=Mi(t);kg(e,r.data,r.blueprint,o,!0),kg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class FR{resolveComponentFactory(n){throw function RR(t){const n=Error(`No component factory found for ${Ln(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ua=(()=>{class t{}return t.NULL=new FR,t})();class Wa{}class kC{}class TC{}function NR(){return Hc(Sr(),ht())}function Hc(t,n){return new _t(pi(t,n))}let _t=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=NR,t})();function LR(t){return t instanceof _t?t.nativeElement:t}class xC{}let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function $R(){const t=ht(),e=ni(Sr().index,t);return($o(e)?e:t)[11]}(),t})(),BR=(()=>{class t{}return t.\u0275prov=bt({token:t,providedIn:"root",factory:()=>null}),t})();class Ju{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const VR=new Ju("14.0.6"),Pg={};function Jf(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Ur(i)),Ii(i))for(let a=10;a<i.length;a++){const c=i[a],f=c[1].firstChild;null!==f&&Jf(c[1],c,f,r)}const s=e.type;if(8&s)Jf(t,n,e.child,r);else if(32&s){const a=Dm(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=z0(n,e);if(Array.isArray(a))r.push(...a);else{const c=Bu(n[16]);Jf(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class ed{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Jf(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ii(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(xm(n,r),Sf(e,r))}this._attachedToViewContainer=!1}N0(this._lView[1],this._lView)}onDestroy(n){Lb(this._lView[1],this._lView,null,n)}markForCheck(){yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function _g(t,n,e){const r=n[10];r.begin&&r.begin();try{Hu(t,n,t.template,e)}catch(o){throw Kb(n,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WT(t,n){Vu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n}}class HR extends ed{constructor(n){super(n),this._view=n}detectChanges(){Wb(this._view)}checkNoChanges(){}get context(){return null}}class Rg extends ua{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=mt(n);return new Fg(e,this.ngModule)}}function AC(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class UR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,Pg,r);return o!==Pg||e===Pg?o:this.parentInjector.get(n,e,r)}}class Fg extends TC{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function fx(t){return t.map(dx).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return AC(this.componentDef.inputs)}get outputs(){return AC(this.componentDef.outputs)}create(n,e,r,o){var i;let s=(o=o||this.ngModule)instanceof Il?o:null===(i=o)||void 0===i?void 0:i.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new UR(n,s):n,c=a.get(xC,null);if(null===c)throw new R(407,!1);const f=a.get(BR,null),m=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",D=r?function sA(t,n,e){return t.selectRootElement(n,e===Jn.ShadowDom)}(m,r,this.componentDef.encapsulation):Tm(c.createRenderer(null,this.componentDef),_,function jR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),x=this.componentDef.onPush?288:272,te=function AA(t,n){return{components:[],scheduler:t||OT,clean:kA,playerHandler:n||null,flags:0}}(),xe=pg(0,null,null,1,0,null,null,null,null,null),Xe=Vf(null,xe,te,x,null,null,c,m,f,a,null);let Ge,gt;U(Xe);try{const nt=function TA(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=Ic(s,22,2,"#host",null),f=c.mergedAttrs=n.hostAttrs;null!==f&&(Uf(c,f,!0),null!==t&&(yf(o,t,f),null!==c.classes&&Om(o,t,c.classes),null!==c.styles&&Z0(o,t,c.styles)));const m=r.createRenderer(t,n),_=Vf(e,Nb(n),null,n.onPush?32:16,e[22],c,r,m,i||null,null,null);return s.firstCreatePass&&(wf(Eu(c,e),s,n.type),Hb(s,c),jb(c,e.length,1)),jf(e,_),e[22]=_}(D,this.componentDef,Xe,c,m);if(D)if(r)yf(m,D,["ng-version",VR.full]);else{const{attrs:pt,classes:Xt}=function px(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!gs(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);pt&&yf(m,D,pt),Xt&&Xt.length>0&&Om(m,D,Xt.join(" "))}if(gt=ac(xe,22),void 0!==e){const pt=gt.projection=[];for(let Xt=0;Xt<this.ngContentSelectors.length;Xt++){const ln=e[Xt];pt.push(null!=ln?Array.from(ln):null)}}Ge=function xA(t,n,e,r,o){const i=e[1],s=function fA(t,n,e){const r=Sr();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ub(t,r,n,Mc(t,n,1,null),e));const o=Du(n,t,r.directiveStart,r);ii(o,n);const i=pi(r,n);return i&&ii(i,n),o}(i,e,n);if(r.components.push(s),t[8]=s,null!==o)for(const c of o)c(s,n);if(n.contentQueries){const c=Sr();n.contentQueries(1,s,c.directiveStart)}const a=Sr();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Vt(a.index),Bb(e[1],a,0,a.directiveStart,a.directiveEnd,n),Vb(n,s)),s}(nt,this.componentDef,Xe,te,[PA]),Hf(xe,Xe,null)}finally{tn()}return new zR(this.componentType,Ge,Hc(gt,Xe),Xe,gt)}}class zR extends class OR{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new HR(o),this.componentType=n}get injector(){return new pc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class PC extends Wa{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rg(this);const r=mn(n);this._bootstrapComponents=sa(r.bootstrap),this._r3Injector=pb(n,e,[{provide:Wa,useValue:this},{provide:ua,useValue:this.componentFactoryResolver}],Ln(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,e=vr.THROW_IF_NOT_FOUND,r=qt.Default){return n===vr||n===Wa||n===Bm?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Og extends kC{constructor(n){super(),this.moduleType=n}create(n){return new PC(this.moduleType,n)}}class qR extends Wa{constructor(n,e,r){super(),this.componentFactoryResolver=new Rg(this),this.instance=null;const o=new ub([...n,{provide:Wa,useValue:this},{provide:ua,useValue:this.componentFactoryResolver}],e||jm(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ep(t,n=null,e=null){return new qR(t,n,e).injector}function BC(t,n,e,r,o,i){const s=n+e;return si(t,s,o)?function Bs(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function td(t,n){const e=t[n];return e===Dn?void 0:e}(t,s+1)}function xl(t,n){const e=$n();let r;const o=t+22;e.firstCreatePass?(r=function h2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Fs(r.type)),s=Lo(S);try{const a=vf(!1),c=i();return vf(a),function WA(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,ht(),o,c),c}finally{Lo(s)}}function Al(t,n,e){const r=t+22,o=ht(),i=oa(o,r);return function nd(t,n){return t[1].data[n].pure}(o,r)?BC(o,function Ue(){const t=_n.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function Lg(t){return n=>{setTimeout(t,void 0,n)}}const gn=class v2 extends W{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){var a,c,f;const _=n;o=null===(a=_.next)||void 0===a?void 0:a.bind(_),i=null===(c=_.error)||void 0===c?void 0:c.bind(_),s=null===(f=_.complete)||void 0===f?void 0:f.bind(_)}this.__isAsync&&(i=Lg(i),o&&(o=Lg(o)),s&&(s=Lg(s)));const m=super.subscribe({next:o,error:i,complete:s});return n instanceof q&&n.add(m),m}};function b2(){return this._results[Ml()]()}class $g{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ml(),r=$g.prototype;r[e]||(r[e]=b2)}get changes(){return this._changes||(this._changes=new gn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Vi(n);(this._changesDetected=!function hk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=S2,t})();const w2=Ai,C2=class extends w2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=Vf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),Hf(r,o,n),new ed(o)}};function S2(){return tp(Sr(),ht())}function tp(t,n){return 4&t.type?new C2(n,t,Hc(t,n)):null}let ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=E2,t})();function E2(){return WC(Sr(),ht())}const D2=ai,GC=class extends D2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new pc(this._hostTNode,this._hostLView)}get parentInjector(){const n=bf(this._hostTNode,this._hostLView);if(Vv(n)){const e=fc(n,this._hostLView),r=dc(n);return new pc(e[1].data[r+8],e)}return new pc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=zC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function Mu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const _=e||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const c=s?n:new Fg(mt(n)),f=r||this.parentInjector;if(!i&&null==c.ngModule){const D=(s?f:this.parentInjector).get(Il,null);D&&(i=D)}const m=c.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(n,e){const r=n._lView,o=r[1];if(function hf(t){return Ii(t[3])}(r)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const _=r[3],D=new GC(_,_[6],_[3]);D.detach(D.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function ZT(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],Xv(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function YT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=Rm(i,s),c=r[11],f=Pf(c,s[7]);return null!==f&&function zT(t,n,e,r,o,i){r[0]=o,r[6]=n,Vu(t,r,e,1,o,i)}(o,s[6],c,r,f,a),n.attachToViewContainerRef(),Xv(Bg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=zC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=xm(this._lContainer,e);r&&(Sf(Bg(this._lContainer),e),N0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=xm(this._lContainer,e);return r&&null!=Sf(Bg(this._lContainer),e)?new ed(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function zC(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function WC(t,n){let e;const r=n[t.index];if(Ii(r))e=r;else{let o;if(8&t.type)o=Ur(r);else{const i=n[11];o=i.createComment("");const s=pi(t,n);El(i,Pf(i,s),o,function JT(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=Gb(r,n,o,t),jf(n,e)}return new GC(e,t,n)}class Vg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Vg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Hg(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==XC(n,e).matches&&this.queries[e].setDirty()}}class qC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class jg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new jg(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ug{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Ug(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,k2(e,i)),this.matchTNodeWithReadOption(n,e,Cf(e,n,i,!1,!1))}else r===Ai?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Cf(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===ai||o===Ai&&4&e.type)this.addMatch(e.index,-2);else{const i=Cf(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function k2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function x2(t,n,e,r){return-1===e?function T2(t,n){return 11&t.type?Hc(t,n):4&t.type?tp(t,n):null}(n,t):-2===e?function A2(t,n,e){return e===_t?Hc(n,t):e===Ai?tp(n,t):e===ai?WC(n,t):void 0}(t,n,r):Du(t,t[1],e,n)}function ZC(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:x2(n,i[f],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function Gg(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=ZC(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const f=i[a+1],m=n[-c];for(let _=10;_<m.length;_++){const D=m[_];D[17]===D[3]&&Gg(D[1],D,f,r)}if(null!==m[9]){const _=m[9];for(let D=0;D<_.length;D++){const x=_[D];Gg(x[1],x,f,r)}}}}}return r}function Pi(t){const n=ht(),e=$n(),r=l();h(r+1);const o=XC(e,r);if(t.dirty&&yu(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?Gg(e,n,r,[]):ZC(e,n,o,r);t.reset(i,LR),t.notifyOnChanges()}return!0}return!1}function jc(t,n,e){const r=$n();r.firstCreatePass&&(KC(r,new qC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),YC(r,ht(),n)}function Ri(){return function P2(t,n){return t[19].queries[n].queryList}(ht(),l())}function YC(t,n,e){const r=new $g(4==(4&e));Lb(t,n,r,r.destroy),null===n[19]&&(n[19]=new Hg),n[19].queries.push(new Vg(r))}function KC(t,n,e){null===t.queries&&(t.queries=new jg),t.queries.track(new Ug(n,e))}function XC(t,n){return t.queries.getByIndex(n)}function rp(...t){}const Pl=new an("Application Initializer");let op=(()=>{class t{constructor(e){this.appInits=e,this.resolve=rp,this.reject=rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Wu(i))e.push(i);else if(Sg(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(be(Pl,8))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const od=new an("AppId",{providedIn:"root",factory:function gS(){return`${Yg()}${Yg()}${Yg()}`}});function Yg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yS=new an("Platform Initializer"),Wc=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_S=new an("appBootstrapListener");let eF=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const pa=new an("LocaleId",{providedIn:"root",factory:()=>Cl(pa,qt.Optional|qt.SkipSelf)||function tF(){return typeof $localize<"u"&&$localize.locale||Bc}()});class rF{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Kg=(()=>{class t{compileModuleSync(e){return new Og(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=sa(mn(e).declarations).reduce((s,a)=>{const c=mt(a);return c&&s.push(new Fg(c)),s},[]);return new rF(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sF=(()=>Promise.resolve(0))();function Xg(t){typeof Zone>"u"?sF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class dt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function aF(){let t=pn.requestAnimationFrame,n=pn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uF(t){const n=()=>{!function cF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jg(t),t.isCheckStableRunning=!0,Qg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return wS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),CS(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return wS(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),CS(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Jg(t),Qg(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new R(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,lF,rp,rp);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const lF={};function Qg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CS(t){t._nesting--,Qg(t)}class dF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const SS=new an(""),ip=new an("");let ny,ey=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ny||(function fF(t){ny=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),Xg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(be(dt),be(ty),be(ip))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),ty=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){var o,i;return null!==(o=null===(i=ny)||void 0===i?void 0:i.findTestabilityInTree(this,e,r))&&void 0!==o?o:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),qa=null;const ES=new an("AllowMultipleToken"),ry=new an("PlatformDestroyListeners");class DS{constructor(n,e){this.name=n,this.token=e}}function MS(t,n,e=[]){const r=`Platform: ${n}`,o=new an(r);return(i=[])=>{let s=oy();if(!s||s.injector.get(ES,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function mF(t){if(qa&&!qa.get(ES,!1))throw new R(400,!1);qa=t;const n=t.get(TS);(function IS(t){const n=t.get(yS,null);n&&n.forEach(e=>e())})(t)}(function kS(t=[],n){return vr.create({name:n,providers:[{provide:Vm,useValue:"platform"},{provide:ry,useValue:new Set([()=>qa=null])},...t]})}(a,r))}return function yF(t){const n=oy();if(!n)throw new R(401,!1);return n}()}}function oy(){var t,n;return null!==(t=null===(n=qa)||void 0===n?void 0:n.get(TS))&&void 0!==t?t:null}let TS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function _F(t,n){let e;return e="noop"===t?new dF:("zone.js"===t?void 0:t)||new dt(n),e}(r?.ngZone,function xS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:dt,useValue:o}];return o.run(()=>{const s=vr.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(wc,null);if(!c)throw new R(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{c.handleError(m)}});a.onDestroy(()=>{sp(this._modules,a),f.unsubscribe()})}),function AS(t,n,e){try{const r=e();return Wu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const f=a.injector.get(op);return f.runInitializers(),f.donePromise.then(()=>(function nC(t){Nr(t,"Expected localeId to be defined"),"string"==typeof t&&(tC=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(pa,Bc)||Bc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=PS({},r);return function pF(t,n,e){const r=new Og(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Za);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new R(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(ry,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(be(vr))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function PS(t,n){return Array.isArray(n)?n.reduce(PS,t):{...t,...n}}let Za=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new yt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new yt(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),Xg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=Ko(i,s.pipe(Ci()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof TC;if(!this._injector.get(op).done)throw!o&&function Gc(t){const n=mt(t)||St(t)||dn(t);return null!==n&&n.standalone}(e),new R(405,false);let s;s=o?e:this._injector.get(ua).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function hF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Wa),f=s.create(vr.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(SS,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),sp(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;sp(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(_S,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(be(dt),be(vr),be(wc))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let FS=!0,Dt=(()=>{class t{}return t.__NG_ELEMENT_ID__=wF,t})();function wF(t){return function CF(t,n,e){if(yl(t)&&!e){const r=ni(t.index,n);return new ed(r,r)}return 47&t.type?new ed(n[16],n):null}(Sr(),ht(),16==(16&t))}class BS{constructor(){}supports(n){return ju(n)}create(n){return new kF(n)}}const MF=(t,n)=>n;class kF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<HS(r,o,i)?e:r,a=HS(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=c-o;if(f!=m){for(let D=0;D<f;D++){const x=D<i.length?i[D]:i[D]=0,te=x+D;m<=te&&te<f&&(i[D]=x+1)}i[s.previousIndex]=m-f}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!ju(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function HA(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Ml()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new TF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new VS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class TF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class VS{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new xF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HS(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function US(){return new id([new BS])}let id=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||US()),deps:[[t,new Pu,new Ua]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new R(901,!1)}}return t.\u0275prov=bt({token:t,providedIn:"root",factory:US}),t})();const OF=MS(null,"core",[]);let NF=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(be(Za))},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({}),t})(),cp=null;function Us(){return cp}const Io=new an("DocumentToken");let up=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:function(){return function VF(){return be(zS)}()},providedIn:"platform"}),t})();const HF=new an("Location Initialized");let zS=(()=>{class t extends up{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Us().getBaseHref(this._doc)}onPopState(e){const r=Us().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Us().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){WS()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){WS()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(be(Io))},t.\u0275prov=bt({token:t,factory:function(){return function jF(){return new zS(be(Io))}()},providedIn:"platform"}),t})();function WS(){return!!window.history.pushState}function cy(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function qS(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ga(t){return t&&"?"!==t[0]?"?"+t:t}let Gs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:function(){return function UF(){const t=be(Io).location;return new YS(be(up),t&&t.origin||"")}()},providedIn:"root"}),t})();const ZS=new an("appBaseHref");let YS=(()=>{class t extends Gs{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return cy(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ga(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+ga(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+ga(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(be(up),be(ZS,8))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),KS=(()=>{class t extends Gs{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=cy(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+ga(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+ga(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(be(up),be(ZS,8))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),ad=(()=>{class t{constructor(e){this._subject=new gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=qS(XS(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ga(r))}normalize(e){return t.stripTrailingSlash(function zF(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,XS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ga(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ga(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(r=(o=this._locationStrategy).historyGo)||void 0===r||r.call(o,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);var o;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=ga,t.joinWithSlash=cy,t.stripTrailingSlash=qS,t.\u0275fac=function(e){return new(e||t)(be(Gs))},t.\u0275prov=bt({token:t,factory:function(){return function GF(){return new ad(be(Gs))}()},providedIn:"root"}),t})();function XS(t){return t.replace(/\/index.html$/,"")}function sE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class xO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fl=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new xO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),cE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{cE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(S(ai),S(Ai),S(id))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function cE(t,n){t.context.$implicit=n.item}let Ao=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new PO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(S(ai),S(Ai))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class PO{constructor(){this.$implicit=null,this.ngIf=null}}function uE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ln(n)}'.`)}class vy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let bp=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),dE=(()=>{class t{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new vy(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(S(ai),S(Ai),S(bp,9))},t.\u0275dir=ye({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),fE=(()=>{class t{constructor(e,r,o){o._addDefault(new vy(e,r))}}return t.\u0275fac=function(e){return new(e||t)(S(ai),S(Ai),S(bp,9))},t.\u0275dir=ye({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();class OO{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class NO{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const LO=new NO,$O=new OO;let hE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Wu(e))return LO;if(lw(e))return $O;throw function Cs(t,n){return new R(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(S(Dt,16))},t.\u0275pipe=et({name:"async",type:t,pure:!1}),t})(),zs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({}),t})();const gE="browser";function _a(t){return t===gE}let oN=(()=>{class t{}return t.\u0275prov=bt({token:t,providedIn:"root",factory:()=>new iN(be(Io),window)}),t})();class iN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function sN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=yE(this.window.history)||yE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class _E{}class Sy extends class aN extends class BF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $F(t){cp||(cp=t)}(new Sy)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function lN(){return ud=ud||document.querySelector("base"),ud?ud.getAttribute("href"):null}();return null==e?null:function cN(t){wp=wp||document.createElement("a"),wp.setAttribute("href",t);const n=wp.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return sE(document.cookie,n)}}let wp,ud=null;const vE=new an("TRANSITION_ID"),dN=[{provide:Pl,useFactory:function uN(t,n,e){return()=>{e.get(op).donePromise.then(()=>{const r=Us(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[vE,Io,vr],multi:!0}];let pN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const Cp=new an("EventManagerPlugins");let Sp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(be(Cp),be(dt))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class bE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=Us().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let wE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),dd=(()=>{class t extends wE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(CE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(CE))}}return t.\u0275fac=function(e){return new(e||t)(be(Io))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();function CE(t){Us().remove(t)}const Ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dy=/%COMP%/g;function Ep(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?Ep(t,o,e):(o=o.replace(Dy,t),e.push(o))}return e}function DE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Iy=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new My(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Jn.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new vN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case Jn.ShadowDom:return new bN(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ep(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(be(Sp),be(dd),be(od))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class My{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Ey[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(ME(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(ME(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=Ey[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Ey[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Ti.DashCase|Ti.Important)?n.style.setProperty(e,r,o&Ti.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ti.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,DE(r)):this.eventManager.addEventListener(n,e,DE(r))}}function ME(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vN extends My{constructor(n,e,r,o){super(n),this.component=r;const i=Ep(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function gN(t){return"_ngcontent-%COMP%".replace(Dy,t)}(o+"-"+r.id),this.hostAttr=function yN(t){return"_nghost-%COMP%".replace(Dy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class bN extends My{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ep(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let wN=(()=>{class t extends bE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(be(Io))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const kE=["alt","control","meta","shift"],SN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},EN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let DN=(()=>{class t extends bE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Us().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(kE.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let r="",o=function IN(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&TE.hasOwnProperty(n)&&(n=TE[n]))}return SN[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),kE.forEach(i=>{i!=o&&EN[i](e)&&(r+=i+".")}),r+=o,r}static eventCallback(e,r,o){return i=>{t.getEventFullKey(i)===e&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(be(Io))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const xE=[{provide:Wc,useValue:gE},{provide:yS,useValue:function MN(){Sy.makeCurrent()},multi:!0},{provide:Io,useFactory:function TN(){return function Bk(t){um=t}(document),document},deps:[]}],xN=MS(OF,"browser",xE),AE=new an(""),PE=[{provide:ip,useClass:class fN{addToWindow(n){pn.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},pn.getAllAngularTestabilities=()=>n.getAllTestabilities(),pn.getAllAngularRootElements=()=>n.getAllRootElements(),pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(r=>{const o=pn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Us().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:SS,useClass:ey,deps:[dt,ty,ip]},{provide:ey,useClass:ey,deps:[dt,ty,ip]}],RE=[{provide:Vm,useValue:"root"},{provide:wc,useFactory:function kN(){return new wc},deps:[]},{provide:Cp,useClass:wN,multi:!0,deps:[Io,dt,Wc]},{provide:Cp,useClass:DN,multi:!0,deps:[Io]},{provide:Iy,useClass:Iy,deps:[Sp,dd,od]},{provide:xC,useExisting:Iy},{provide:wE,useExisting:dd},{provide:dd,useClass:dd,deps:[Io]},{provide:Sp,useClass:Sp,deps:[Cp,dt]},{provide:_E,useClass:pN,deps:[]},[]];let AN=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:od,useValue:e.appId},{provide:vE,useExisting:od},dN]}}}return t.\u0275fac=function(e){return new(e||t)(be(AE,12))},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({providers:[...RE,...PE],imports:[zs,NF]}),t})(),FE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(be(Io))},t.\u0275prov=bt({token:t,factory:function(e){let r=null;return r=e?new e:function RN(){return new FE(be(Io))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let xy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:function(e){let r=null;return r=e?new(e||t):be(LE),r},providedIn:"root"}),t})(),LE=(()=>{class t extends xy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Er.NONE:return r;case Er.HTML:return Ns(r,"HTML")?ji(r):C0(this._doc,String(r)).toString();case Er.STYLE:return Ns(r,"Style")?ji(r):r;case Er.SCRIPT:if(Ns(r,"Script"))return ji(r);throw new Error("unsafe value used in a script context");case Er.URL:return Ns(r,"URL")?ji(r):Ou(String(r));case Er.RESOURCE_URL:if(Ns(r,"ResourceURL"))return ji(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Zk(t){return new jk(t)}(e)}bypassSecurityTrustStyle(e){return function Yk(t){return new Uk(t)}(e)}bypassSecurityTrustScript(e){return function Kk(t){return new Gk(t)}(e)}bypassSecurityTrustUrl(e){return function Xk(t){return new zk(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Qk(t){return new Wk(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Io))},t.\u0275prov=bt({token:t,factory:function(e){let r=null;return r=e?new e:function HN(t){return new LE(t.get(Io))}(be(vr)),r},providedIn:"root"}),t})();var Po=F(1158),jN=F(9233),qc=F.n(jN);let Dp,Ip;function $E(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function BE(){return void 0!==Ip}class VE{constructor(){this.requestEvent=new Po.j}dispatchRequest(n){if(n){try{n=new(qc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let Ay=(()=>{class t{constructor(){this.installation=new VE,this.import=new VE,Dp&&this.installation.dispatchRequest(Dp),Ip&&this.import.dispatchRequest(Ip)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vn(...t){return Gn(t,I(t))}function Zc(t,n){return k(n)?zt(t,n,1):zt(t,1)}function Uo(t,n){return $e((e,r)=>{let o=0;e.subscribe(ut(r,i=>t.call(n,i,o++)&&r.next(i)))})}class HE{}class jE{}class va{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new va;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof va?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class zN{encodeKey(n){return UE(n)}encodeValue(n){return UE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const qN=/%(\d[a-f0-9])/gi,ZN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UE(t){return encodeURIComponent(t).replace(qN,(n,e)=>{var r;return null!==(r=ZN[e])&&void 0!==r?r:n})}function Mp(t){return`${t}`}class Ka{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new zN,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function WN(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(Mp):[Mp(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ka({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Mp(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(Mp(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class YN{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function GE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function zE(t){return typeof Blob<"u"&&t instanceof Blob}function WE(t){return typeof FormData<"u"&&t instanceof FormData}class fd{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function KN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new va),this.context||(this.context=new YN),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Ka,this.urlWithParams=e}serializeBody(){return null===this.body?null:GE(this.body)||zE(this.body)||WE(this.body)||function XN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ka?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WE(this.body)?null:zE(this.body)?this.body.type||null:GE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ka?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,m=n.params||this.params;const _=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((D,x)=>D.set(x,n.setHeaders[x]),f)),n.setParams&&(m=Object.keys(n.setParams).reduce((D,x)=>D.set(x,n.setParams[x]),m)),new fd(r,o,s,{params:m,headers:f,context:_,reportProgress:c,responseType:i,withCredentials:a})}}var _o=(()=>((_o=_o||{})[_o.Sent=0]="Sent",_o[_o.UploadProgress=1]="UploadProgress",_o[_o.ResponseHeader=2]="ResponseHeader",_o[_o.DownloadProgress=3]="DownloadProgress",_o[_o.Response=4]="Response",_o[_o.User=5]="User",_o))();class Py{constructor(n,e=200,r="OK"){this.headers=n.headers||new va,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ry extends Py{constructor(n={}){super(n),this.type=_o.ResponseHeader}clone(n={}){return new Ry({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class kp extends Py{constructor(n={}){super(n),this.type=_o.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new kp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class qE extends Py{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Fy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Oy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof fd)i=e;else{let c,f;c=o.headers instanceof va?o.headers:new va(o.headers),o.params&&(f=o.params instanceof Ka?o.params:new Ka({fromObject:o.params})),i=new fd(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=vn(i).pipe(Zc(c=>this.handler.handle(c)));if(e instanceof fd||"events"===o.observe)return s;const a=s.pipe(Uo(c=>c instanceof kp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(lt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(lt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(lt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(lt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ka).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Fy(o,r))}post(e,r,o={}){return this.request("POST",e,Fy(o,r))}put(e,r,o={}){return this.request("PUT",e,Fy(o,r))}}return t.\u0275fac=function(e){return new(e||t)(be(HE))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class ZE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const YE=new an("HTTP_INTERCEPTORS");let QN=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const JN=/^\)\]\}',?\n/;let KE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,te)=>o.setRequestHeader(x,te.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const x=e.detectContentTypeHeader();null!==x&&o.setRequestHeader("Content-Type",x)}if(e.responseType){const x=e.responseType.toLowerCase();o.responseType="json"!==x?x:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const x=o.statusText||"OK",te=new va(o.getAllResponseHeaders()),xe=function eL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Ry({headers:te,status:o.status,statusText:x,url:xe}),s},c=()=>{let{headers:x,status:te,statusText:xe,url:Xe}=a(),Ge=null;204!==te&&(Ge=typeof o.response>"u"?o.responseText:o.response),0===te&&(te=Ge?200:0);let gt=te>=200&&te<300;if("json"===e.responseType&&"string"==typeof Ge){const nt=Ge;Ge=Ge.replace(JN,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(pt){Ge=nt,gt&&(gt=!1,Ge={error:pt,text:Ge})}}gt?(r.next(new kp({body:Ge,headers:x,status:te,statusText:xe,url:Xe||void 0})),r.complete()):r.error(new qE({error:Ge,headers:x,status:te,statusText:xe,url:Xe||void 0}))},f=x=>{const{url:te}=a(),xe=new qE({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:te||void 0});r.error(xe)};let m=!1;const _=x=>{m||(r.next(a()),m=!0);let te={type:_o.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(te.total=x.total),"text"===e.responseType&&!!o.responseText&&(te.partialText=o.responseText),r.next(te)},D=x=>{let te={type:_o.UploadProgress,loaded:x.loaded};x.lengthComputable&&(te.total=x.total),r.next(te)};return o.addEventListener("load",c),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",D)),o.send(i),r.next({type:_o.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",c),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(be(_E))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const Ny=new an("XSRF_COOKIE_NAME"),Ly=new an("XSRF_HEADER_NAME");class XE{}let tL=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=sE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(be(Io),be(Wc),be(Ny))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),$y=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(be(XE),be(Ly))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),nL=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(YE,[]);this.chain=r.reduceRight((o,i)=>new ZE(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(be(jE),be(vr))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),rL=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:$y,useClass:QN}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ny,useValue:e.cookieName}:[],e.headerName?{provide:Ly,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({providers:[$y,{provide:YE,useExisting:$y,multi:!0},{provide:XE,useClass:tL},{provide:Ny,useValue:"XSRF-TOKEN"},{provide:Ly,useValue:"X-XSRF-TOKEN"}]}),t})(),oL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({providers:[Oy,{provide:HE,useClass:nL},KE,{provide:jE,useExisting:KE}],imports:[rL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:iL}=Array,{getPrototypeOf:sL,prototype:aL,keys:lL}=Object;function QE(t){if(1===t.length){const n=t[0];if(iL(n))return{args:n,keys:null};if(function cL(t){return t&&"object"==typeof t&&sL(t)===aL}(n)){const e=lL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:uL}=Array;function By(t){return lt(n=>function dL(t,n){return uL(n)?t(...n):t(n)}(t,n))}function JE(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let eD=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(S(da),S(_t))},t.\u0275dir=ye({type:t}),t})(),Ol=(()=>{class t extends eD{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=jo(t)))(r||t)}}(),t.\u0275dir=ye({type:t,features:[Zn]}),t})();const yi=new an("NgValueAccessor"),hL={provide:yi,useExisting:T(()=>Vy),multi:!0},gL=new an("CompositionEventMode");let Vy=(()=>{class t extends eD{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mL(){const t=Us()?Us().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(S(da),S(_t),S(gL,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&ct("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[mr([hL]),Zn]}),t})();function Xa(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function nD(t){return null!=t&&"number"==typeof t.length}const li=new an("NgValidators"),Qa=new an("NgAsyncValidators"),_L=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hy{static min(n){return function rD(t){return n=>{if(Xa(n.value)||Xa(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function oD(t){return n=>{if(Xa(n.value)||Xa(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function iD(t){return Xa(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function sD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function aD(t){return Xa(t.value)||_L.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function lD(t){return n=>Xa(n.value)||!nD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return cD(n)}static pattern(n){return function uD(t){if(!t)return Tp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Xa(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return gD(n)}static composeAsync(n){return yD(n)}}function cD(t){return n=>nD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Tp(t){return null}function dD(t){return null!=t}function fD(t){return Wu(t)?Gn(t):t}function pD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function hD(t,n){return n.map(e=>e(t))}function mD(t){return t.map(n=>function vL(t){return!t.validate}(n)?n:e=>n.validate(e))}function gD(t){if(!t)return null;const n=t.filter(dD);return 0==n.length?null:function(e){return pD(hD(e,n))}}function jy(t){return null!=t?gD(mD(t)):null}function yD(t){if(!t)return null;const n=t.filter(dD);return 0==n.length?null:function(e){return function fL(...t){const n=wo(t),{args:e,keys:r}=QE(t),o=new yt(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let m=0;m<s;m++){let _=!1;E(e[m]).subscribe(ut(i,D=>{_||(_=!0,f--),a[m]=D},()=>c--,void 0,()=>{(!c||!_)&&(f||i.next(r?JE(r,a):a),i.complete())}))}});return n?o.pipe(By(n)):o}(hD(e,n).map(fD)).pipe(lt(pD))}}function Uy(t){return null!=t?yD(mD(t)):null}function _D(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function vD(t){return t._rawValidators}function bD(t){return t._rawAsyncValidators}function Gy(t){return t?Array.isArray(t)?t:[t]:[]}function xp(t,n){return Array.isArray(t)?t.includes(n):t===n}function wD(t,n){const e=Gy(n);return Gy(t).forEach(o=>{xp(e,o)||e.push(o)}),e}function CD(t,n){return Gy(n).filter(e=>!xp(t,e))}class SD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=jy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Uy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class _i extends SD{get formDirective(){return null}get path(){return null}}class ba extends SD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ED{constructor(n){this._cd=n}get isTouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.touched)}get isUntouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.untouched)}get isPristine(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pristine)}get isDirty(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.dirty)}get isValid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.valid)}get isInvalid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.invalid)}get isPending(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let Nl=(()=>{class t extends ED{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(S(ba,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ca("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Zn]}),t})(),Ll=(()=>{class t extends ED{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(S(_i,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&ca("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Zn]}),t})();const pd="VALID",Pp="INVALID",Yc="PENDING",hd="DISABLED";function Zy(t){return(Rp(t)?t.validators:t)||null}function ID(t){return Array.isArray(t)?jy(t):t||null}function Yy(t,n){return(Rp(n)?n.asyncValidators:t)||null}function MD(t){return Array.isArray(t)?Uy(t):t||null}function Rp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=ID(this._rawValidators),this._composedAsyncValidatorFn=MD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===pd}get invalid(){return this.status===Pp}get pending(){return this.status==Yc}get disabled(){return this.status===hd}get enabled(){return this.status!==hd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=ID(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=MD(n)}addValidators(n){this.setValidators(wD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(wD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(CD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(CD(n,this._rawAsyncValidators))}hasValidator(n){return xp(this._rawValidators,n)}hasAsyncValidator(n){return xp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Yc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=hd,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=pd,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pd||this.status===Yc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hd:pd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Yc,this._hasOwnPendingAsyncValidator=!0;const e=fD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new gn,this.statusChanges=new gn}_calculateStatus(){return this._allControlsDisabled()?hd:this.errors?Pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yc)?Yc:this._anyControlsHaveStatus(Pp)?Pp:pd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Rp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Kc extends xD{constructor(n,e,r){super(Zy(e),Yy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function TD(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new R(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function kD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[e])throw new R(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Fp=Kc;function md(t,n){var e,r;Ky(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&(null===(e=(r=n.valueAccessor).setDisabledState)||void 0===e||e.call(r,!0)),function kL(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&AD(t,n)})}(t,n),function xL(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function TL(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&AD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function ML(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Np(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),$p(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Ky(t,n){const e=vD(t);null!==n.validator?t.setValidators(_D(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=bD(t);null!==n.asyncValidator?t.setAsyncValidators(_D(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Lp(n._rawValidators,o),Lp(n._rawAsyncValidators,o)}function $p(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=vD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=bD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Lp(n._rawValidators,r),Lp(n._rawAsyncValidators,r),e}function AD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OD(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function ND(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wa=class extends xD{constructor(n=null,e,r){super(Zy(e),Yy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ND(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){OD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){OD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ND(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Ro=wa;let $l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),jD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({}),t})();const e_=new an("NgModelWithFormControlWarning"),GL={provide:_i,useExisting:T(()=>Ca)};let Ca=(()=>{class t extends _i{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return md(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Np(e.control||null,e,!1),function FL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function FD(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Np(r||null,e),(t=>t instanceof wa)(o)&&(md(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function PD(t,n){Ky(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function AL(t,n){return $p(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ky(this.form,this),this._oldForm&&$p(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(S(li,10),S(Qa,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&ct("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mr([GL]),Zn,po]}),t})();const qL={provide:ba,useExisting:T(()=>Ja)};let Ja=(()=>{class t extends ba{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new gn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Qy(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Vy?e=i:function RL(t){return Object.getPrototypeOf(t.constructor)===Ol}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Xy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Op(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(S(_i,13),S(li,10),S(Qa,10),S(yi,10),S(e_,8))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[mr([qL]),Zn,po]}),t})();let Bl=(()=>{class t{constructor(){this._validator=Tp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,features:[po]}),t})();const s3={provide:li,useExisting:T(()=>s_),multi:!0};let s_=(()=>{class t extends Bl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function YD(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>cD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=jo(t)))(r||t)}}(),t.\u0275dir=ye({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Vs("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[mr([s3]),Zn]}),t})(),r1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[jD]}),t})(),Vl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[r1]}),t})(),Bp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:e_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[r1]}),t})();const c3=["addListener","removeListener"],u3=["addEventListener","removeEventListener"],d3=["on","off"];function yd(t,n,e,r){if(k(e)&&(r=e,e=void 0),r)return yd(t,n,e).pipe(By(r));const[o,i]=function h3(t){return k(t.addEventListener)&&k(t.removeEventListener)}(t)?u3.map(s=>a=>t[s](n,a,e)):function f3(t){return k(t.addListener)&&k(t.removeListener)}(t)?c3.map(o1(t,n)):function p3(t){return k(t.on)&&k(t.off)}(t)?d3.map(o1(t,n)):[];if(!o&&hn(t))return zt(s=>yd(s,n,e))(E(t));if(!o)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function o1(t,n){return e=>r=>t[e](n,r)}class Wi extends W{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function i1(...t){const n=I(t),e=wo(t),{args:r,keys:o}=QE(t);if(0===r.length)return Gn([],n);const i=new yt(function m3(t,n,e=Q){return r=>{s1(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)s1(n,()=>{const f=Gn(t[c],n);let m=!1;f.subscribe(ut(r,_=>{i[c]=_,m||(m=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>JE(o,s):Q));return e?i.pipe(By(e)):i}function s1(t,n,e){t?Cr(e,t,n):n()}function Xc(t,n){const e=k(t)?t:()=>t,r=o=>o.error(e());return new yt(n?o=>n.schedule(r,0,o):r)}const _d=u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function vd(...t){return function g3(){return no(1)}()(Gn(t,I(t)))}function Vp(t){return new yt(n=>{E(t()).subscribe(n)})}function a_(){return $e((t,n)=>{let e=null;t._refCount++;const r=ut(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class l_ extends yt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Re(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new q;const e=this.getSubject();n.add(this.source.subscribe(ut(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=q.EMPTY)}return n}refCount(){return a_()(this)}}function Oi(t,n){return $e((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(ut(r,c=>{o?.unsubscribe();let f=0;const m=i++;E(t(c,m)).subscribe(o=ut(r,_=>r.next(n?n(c,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function qi(t){return t<=0?()=>rr:$e((n,e)=>{let r=0;n.subscribe(ut(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function a1(...t){const n=I(t);return $e((e,r)=>{(n?vd(t,e,n):vd(t,e)).subscribe(r)})}function y3(t,n,e,r,o){return(i,s)=>{let a=e,c=n,f=0;i.subscribe(ut(s,m=>{const _=f++;c=a?t(c,m,_):(a=!0,m),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function l1(t,n){return $e(y3(t,n,arguments.length>=2,!0))}function el(t){return $e((n,e)=>{let i,r=null,o=!1;r=n.subscribe(ut(e,void 0,void 0,s=>{i=E(t(s,el(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function c_(t){return t<=0?()=>rr:$e((n,e)=>{let r=[];n.subscribe(ut(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function c1(t=_3){return $e((n,e)=>{let r=!1;n.subscribe(ut(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function _3(){return new _d}function u_(t){return $e((n,e)=>{let r=!1;n.subscribe(ut(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function tl(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Uo((o,i)=>t(o,i,r)):Q,qi(1),e?u_(n):c1(()=>new _d))}function Go(t,n,e){const r=k(t)||n||e?{next:t,error:n,complete:e}:t;return r?$e((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ut(i,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,c),i.error(c)},()=>{var c,f;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):Q}function d_(t){return lt(()=>t)}function f_(t){return $e((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class Sa{constructor(n,e){this.id=n,this.url=e}}class Hp extends Sa{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hl extends Sa{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jp extends Sa{constructor(n,e,r){super(n,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class u1 extends Sa{constructor(n,e,r){super(n,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class b3 extends Sa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w3 extends Sa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C3 extends Sa{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class S3 extends Sa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E3 extends Sa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class I3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class M3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rn="primary";class P3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qc(t){return new P3(t)}const p_="Redirecting to ",f1="ngNavigationCancelingError";function h_(t){const n=Error("NavigationCancelingError: "+(t||""));return n[f1]=!0,n}function F3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Ws(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!p1(t[o],n[o]))return!1;return!0}function p1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function h1(t){return Array.prototype.concat.apply([],t)}function m1(t){return t.length>0?t[t.length-1]:null}function zo(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function nl(t){return Sg(t)?t:Wu(t)?Gn(Promise.resolve(t)):vn(t)}const L3={exact:function _1(t,n,e){if(!Ul(t.segments,n.segments)||!Up(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!_1(t.children[r],n.children[r],e))return!1;return!0},subset:v1},g1={exact:function $3(t,n){return Ws(t,n)},subset:function B3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>p1(t[e],n[e]))},ignored:()=>!0};function y1(t,n,e){return L3[e.paths](t.root,n.root,e.matrixParams)&&g1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function v1(t,n,e){return b1(t,n,n.segments,e)}function b1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Ul(o,e)||n.hasChildren()||!Up(o,e,r))}if(t.segments.length===e.length){if(!Ul(t.segments,e)||!Up(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!v1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Ul(t.segments,o)&&Up(t.segments,o,r)&&t.children[Rn])&&b1(t.children[Rn],n,i,r)}}function Up(t,n,e){return n.every((r,o)=>g1[e](t[o].parameters,r.parameters))}class jl{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return j3.serialize(this)}}class Un{constructor(n,e){this.segments=n,this.children=e,this.parent=null,zo(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gp(this)}}class bd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return E1(this)}}function Ul(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class g_{}class w1{parse(n){const e=new X3(n);return new jl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${wd(n.root,!0)}`,r=function z3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${zp(e)}=${zp(o)}`).join("&"):`${zp(e)}=${zp(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function U3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const j3=new w1;function Gp(t){return t.segments.map(n=>E1(n)).join("/")}function wd(t,n){if(!t.hasChildren())return Gp(t);if(n){const e=t.children[Rn]?wd(t.children[Rn],!1):"",r=[];return zo(t.children,(o,i)=>{i!==Rn&&r.push(`${i}:${wd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function H3(t,n){let e=[];return zo(t.children,(r,o)=>{o===Rn&&(e=e.concat(n(r,o)))}),zo(t.children,(r,o)=>{o!==Rn&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===Rn?[wd(t.children[Rn],!1)]:[`${o}:${wd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Rn]?`${Gp(t)}/${e[0]}`:`${Gp(t)}/(${e.join("//")})`}}function C1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zp(t){return C1(t).replace(/%3B/gi,";")}function y_(t){return C1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wp(t){return decodeURIComponent(t)}function S1(t){return Wp(t.replace(/\+/g,"%20"))}function E1(t){return`${y_(t.path)}${function G3(t){return Object.keys(t).map(n=>`;${y_(n)}=${y_(t[n])}`).join("")}(t.parameters)}`}const W3=/^[^\/()?;=#]+/;function qp(t){const n=t.match(W3);return n?n[0]:""}const q3=/^[^=?&#]+/,Y3=/^[^&#]+/;class X3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Rn]=new Un(n,e)),r}parseSegment(){const n=qp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new bd(Wp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=qp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=qp(this.remaining);o&&(r=o,this.capture(r))}n[Wp(e)]=Wp(r)}parseQueryParam(n){const e=function Z3(t){const n=t.match(q3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function K3(t){const n=t.match(Y3);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=S1(e),i=S1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new R(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Rn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Rn]:new Un([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}}class D1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=__(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=__(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=v_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return v_(n,this._root).map(e=>e.value)}}function __(t,n){if(t===n.value)return n;for(const e of n.children){const r=__(t,e);if(r)return r}return null}function v_(t,n){if(t===n.value)return[n];for(const e of n.children){const r=v_(t,e);if(r.length)return r.unshift(n),r}return[]}class Ea{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class I1 extends D1{constructor(n,e){super(n),this.snapshot=e,b_(this,n)}toString(){return this.snapshot.toString()}}function M1(t,n){const e=function Q3(t,n){const s=new Zp([],{},{},"",{},Rn,n,null,t.root,-1,{});return new T1("",new Ea(s,[]))}(t,n),r=new Wi([new bd("",{})]),o=new Wi({}),i=new Wi({}),s=new Wi({}),a=new Wi(""),c=new Da(r,o,s,a,i,Rn,n,e.root);return c.snapshot=e.root,new I1(new Ea(c,[]),e)}class Da{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(lt(n=>Qc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(lt(n=>Qc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function J3(t){return t.reduce((n,e)=>{var r;return{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...null===(r=e.routeConfig)||void 0===r?void 0:r.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(r))}class Zp{constructor(n,e,r,o,i,s,a,c,f,m,_,D){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=f,this._lastPathIndex=m,this._correctedLastPathIndex=D??m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class T1 extends D1{constructor(n,e){super(e),this.url=n,b_(this,e)}toString(){return x1(this._root)}}function b_(t,n){n.value._routerState=t,n.children.forEach(e=>b_(t,e))}function x1(t){const n=t.children.length>0?` { ${t.children.map(x1).join(", ")} } `:"";return`${t.value}${n}`}function w_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ws(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Ws(n.params,e.params)||t.params.next(e.params),function O3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ws(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Ws(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function C_(t,n){const e=Ws(t.params,n.params)&&function V3(t,n){return Ul(t,n)&&t.every((e,r)=>Ws(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||C_(t.parent,n.parent))}function Cd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function t$(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Cd(t,r,o);return Cd(t,r)})}(t,n,e);return new Ea(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Cd(t,a)),s}}const r=function n$(t){return new Da(new Wi(t.url),new Wi(t.params),new Wi(t.queryParams),new Wi(t.fragment),new Wi(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>Cd(t,i));return new Ea(r,o)}}function Yp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Sd(t){return"object"==typeof t&&null!=t&&t.outlets}function E_(t,n,e,r,o){let i={};if(r&&zo(r,(a,c)=>{i[c]=Array.isArray(a)?a.map(f=>`${f}`):`${a}`}),t===n)return new jl(e,i,o);const s=A1(t,n,e);return new jl(s,i,o)}function A1(t,n,e){const r={};return zo(t.children,(o,i)=>{r[i]=o===n?e:A1(o,n,e)}),new Un(t.segments,r)}class P1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Yp(r[0]))throw new R(4003,false);const o=r.find(Sd);if(o&&o!==m1(r))throw new R(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class D_{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function R1(t,n,e){if(t||(t=new Un([],{})),0===t.segments.length&&t.hasChildren())return Kp(t,n,e);const r=function l$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(Sd(a))break;const c=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!O1(c,f,s))return i;r+=2}else{if(!O1(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Un(t.segments.slice(0,r.pathIndex),{});return i.children[Rn]=new Un(t.segments.slice(r.pathIndex),t.children),Kp(i,0,o)}return r.match&&0===o.length?new Un(t.segments,{}):r.match&&!t.hasChildren()?I_(t,n,e):r.match?Kp(t,0,o):I_(t,n,e)}function Kp(t,n,e){if(0===e.length)return new Un(t.segments,{});{const r=function a$(t){return Sd(t[0])?t[0].outlets:{[Rn]:t}}(e),o={};return zo(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=R1(t.children[s],n,i))}),zo(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Un(t.segments,o)}}function I_(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(Sd(i)){const c=c$(i.outlets);return new Un(r,c)}if(0===o&&Yp(e[0])){r.push(new bd(t.segments[n].path,F1(e[0]))),o++;continue}const s=Sd(i)?i.outlets[Rn]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Yp(a)?(r.push(new bd(s,F1(a))),o+=2):(r.push(new bd(s,{})),o++)}return new Un(r,{})}function c$(t){const n={};return zo(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=I_(new Un([],{}),0,e))}),n}function F1(t){const n={};return zo(t,(e,r)=>n[r]=`${e}`),n}function O1(t,n,e){return t==e.path&&Ws(n,e.parameters)}class u${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gl,this.attachRef=null}}class Gl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new u$,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}const Xp=!1;let N1=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new gn,this.deactivateEvents=new gn,this.attachEvents=new gn,this.detachEvents=new gn,this.name=o||Rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,Xp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,Xp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,Xp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,Xp);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new d$(e,a,o.injector);if(r&&function f$(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(S(Gl),S(ai),wl("name"),S(Dt),S(Il))},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class d${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Da?this.route:n===Gl?this.childContexts:this.parent.get(n,e)}}let L1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&ft(0,"router-outlet")},dependencies:[N1],encapsulation:2}),t})();function $1(t,n){var e;return t.providers&&!t._injector&&(t._injector=ep(t.providers,n,`Route: ${t.path}`)),null!==(e=t._injector)&&void 0!==e?e:n}function k_(t){const n=t.children&&t.children.map(k_),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=L1),e}function us(t){return t.outlet||Rn}function B1(t,n){const e=t.filter(r=>us(r)===n);return e.push(...t.filter(r=>us(r)!==n)),e}function V1(t){var n;if(!t)return null;if(null!==(n=t.routeConfig)&&void 0!==n&&n._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class y${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),w_(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=Jc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),zo(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Jc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Jc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=Jc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new x3(i.value.snapshot))}),n.children.length&&this.forwardEvent(new k3(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(w_(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),w_(c.route.value),this.activateChildRoutes(n,null,a.children)}else{var s;const c=V1(o.snapshot),f=null!==(s=c?.get(ua))&&void 0!==s?s:null;a.attachRef=null,a.route=o,a.resolver=f,a.injector=c,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}function Qp(t){return"function"==typeof t}function zl(t){return t instanceof jl}const Ed=Symbol("INITIAL_VALUE");function Dd(){return Oi(t=>i1(t.map(n=>n.pipe(qi(1),a1(Ed)))).pipe(l1((n,e)=>{let r=!1;return e.reduce((o,i,s)=>o!==Ed?o:(i===Ed&&(r=!0),r||!1!==i&&s!==e.length-1&&!zl(i)?o:i),n)},Ed),Uo(n=>n!==Ed),lt(n=>zl(n)?n:!0===n),qi(1)))}const H1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jp(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...H1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||F3)(e,t,n);if(!i)return{...H1};const s={};zo(i.posParams,(c,f)=>{s[f]=c.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function eh(t,n,e,r,o="corrected"){if(e.length>0&&function D$(t,n,e){return e.some(r=>th(t,n,r)&&us(r)!==Rn)}(t,e,r)){const s=new Un(n,function E$(t,n,e,r){const o={};o[Rn]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&us(i)!==Rn){const s=new Un([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[us(i)]=s}return o}(t,n,r,new Un(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function I$(t,n,e){return e.some(r=>th(t,n,r))}(t,e,r)){const s=new Un(t.segments,function S$(t,n,e,r,o,i){const s={};for(const a of r)if(th(t,e,a)&&!o[us(a)]){const c=new Un([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[us(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new Un(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function th(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function j1(t,n,e,r){return!!(us(t)===r||r!==Rn&&th(n,e,t))&&("**"===t.path||Jp(n,t,e).matched)}function U1(t,n,e){return 0===n.length&&!t.children[e]}const nh=!1;class rh{constructor(n){this.segmentGroup=n||null}}class G1{constructor(n){this.urlTree=n}}function Id(t){return Xc(new rh(t))}function z1(t){return Xc(new G1(t))}class x${constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=eh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Un(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Rn).pipe(lt(i=>this.createUrlTree(T_(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(i=>{if(i instanceof G1)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof rh?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Rn).pipe(lt(o=>this.createUrlTree(T_(o),n.queryParams,n.fragment))).pipe(el(o=>{throw o instanceof rh?this.noMatchError(o):o}))}noMatchError(n){return new R(4002,nh)}createUrlTree(n,e,r){const o=n.segments.length>0?new Un([],{[Rn]:n}):n;return new jl(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(lt(i=>new Un([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Gn(o).pipe(Zc(i=>{const s=r.children[i],a=B1(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(lt(c=>({segment:c,outlet:i})))}),l1((i,s)=>(i[s.outlet]=s.segment,i),{}),function v3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Uo((o,i)=>t(o,i,r)):Q,c_(1),e?u_(n):c1(()=>new _d))}())}expandSegment(n,e,r,o,i,s){return Gn(r).pipe(Zc(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(el(f=>{if(f instanceof rh)return vn(null);throw f}))),tl(a=>!!a),el((a,c)=>{if(a instanceof _d||"EmptyError"===a.name)return U1(e,o,i)?vn(new Un([],{})):Id(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return j1(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):Id(e):Id(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?z1(i):this.lineralizeSegments(r,i).pipe(zt(s=>{const a=new Un(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:m}=Jp(e,o,i);if(!a)return Id(e);const _=this.applyRedirectCommands(c,o.redirectTo,m);return o.redirectTo.startsWith("/")?z1(_):this.lineralizeSegments(o,_).pipe(zt(D=>this.expandSegment(n,e,r,D.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){if("**"===r.path)return n=$1(r,n),r.loadChildren?(r._loadedRoutes?vn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(lt(_=>(r._loadedRoutes=_.routes,r._loadedInjector=_.injector,new Un(o,{})))):vn(new Un(o,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=Jp(e,r,o);return s?(n=$1(r,n),this.getChildConfig(n,r,o).pipe(zt(m=>{var _;const D=null!==(_=m.injector)&&void 0!==_?_:n,x=m.routes,{segmentGroup:te,slicedSegments:xe}=eh(e,a,c,x),Xe=new Un(te.segments,te.children);if(0===xe.length&&Xe.hasChildren())return this.expandChildren(D,x,Xe).pipe(lt(pt=>new Un(a,pt)));if(0===x.length&&0===xe.length)return vn(new Un(a,{}));const Ge=us(r)===i;return this.expandSegment(D,Xe,x,xe,Ge?Rn:i,!0).pipe(lt(nt=>new Un(a.concat(nt.segments),nt.children)))}))):Id(e)}getChildConfig(n,e,r){return e.children?vn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?vn({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(n,e,r).pipe(zt(o=>o?this.configLoader.loadChildren(n,e).pipe(Go(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function k$(t){return Xc(h_(nh))}())):vn({routes:[],injector:n})}runCanLoadGuards(n,e,r){const o=e.canLoad;return o&&0!==o.length?vn(o.map(s=>{const a=n.get(s);return nl(function v$(t){return t&&Qp(t.canLoad)}(a)?a.canLoad(e,r):a(e,r))})).pipe(Dd(),Go(s=>{if(!zl(s))return;const a=h_(p_+this.urlSerializer.serialize(s));throw a.url=s,a}),lt(s=>!0===s)):vn(!0)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return vn(r);if(o.numberOfChildren>1||!o.children[Rn])return Xc(new R(4e3,nh));o=o.children[Rn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new jl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return zo(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return zo(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new Un(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new R(4001,nh);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}function T_(t){const n={};for(const r of Object.keys(t.children)){const i=T_(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function A$(t){if(1===t.numberOfChildren&&t.children[Rn]){const n=t.children[Rn];return new Un(t.segments.concat(n.segments),n.children)}return t}(new Un(t.segments,n))}class W1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class oh{constructor(n,e){this.component=n,this.route=e}}function R$(t,n,e){const r=t._root;return Md(r,n?n._root:null,e,[r.value])}function ih(t,n,e){return(V1(n)??e).get(t)}function Md(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Jc(n);return t.children.forEach(s=>{(function O$(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function N$(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Ul(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ul(t.url,n.url)||!Ws(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C_(t,n)||!Ws(t.queryParams,n.queryParams);default:return!C_(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new W1(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Md(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new oh(a.outlet.component,s))}else s&&kd(n,a,o),o.canActivateChecks.push(new W1(r)),Md(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),zo(i,(s,a)=>kd(s,e.getContext(a),o)),o}function kd(t,n,e){const r=Jc(t),o=t.value;zo(r,(i,s)=>{kd(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new oh(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class z${}function q1(t){return new yt(n=>n.error(t))}class q${constructor(n,e,r,o,i,s){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const n=eh(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Rn);if(null===e)return null;const r=new Zp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ea(r,e),i=new T1(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(n){const e=n.value,r=k1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],a=B1(n,i),c=this.processSegmentGroup(a,s,i);if(null===c)return null;r.push(...c)}const o=Z1(r);return function Z$(t){t.sort((n,e)=>n.value.outlet===Rn?-1:e.value.outlet===Rn?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,r,o){for(const i of n){const s=this.processSegmentAgainstRoute(i,e,r,o);if(null!==s)return s}return U1(e,r,o)?[]:null}processSegmentAgainstRoute(n,e,r,o){if(n.redirectTo||!j1(n,e,r,o))return null;let i,s=[],a=[];if("**"===n.path){var c,f;const Ge=r.length>0?m1(r).parameters:{},gt=K1(e)+r.length;i=new Zp(r,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Q1(n),us(n),null!==(c=null!==(f=n.component)&&void 0!==f?f:n._loadedComponent)&&void 0!==c?c:null,n,Y1(e),gt,J1(n),gt)}else{var m,_;const Ge=Jp(e,n,r);if(!Ge.matched)return null;s=Ge.consumedSegments,a=Ge.remainingSegments;const gt=K1(e)+s.length;i=new Zp(s,Ge.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Q1(n),us(n),null!==(m=null!==(_=n.component)&&void 0!==_?_:n._loadedComponent)&&void 0!==m?m:null,n,Y1(e),gt,J1(n),gt)}const D=function Y$(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:x,slicedSegments:te}=eh(e,s,a,D.filter(Ge=>void 0===Ge.redirectTo),this.relativeLinkResolution);if(0===te.length&&x.hasChildren()){const Ge=this.processChildren(D,x);return null===Ge?null:[new Ea(i,Ge)]}if(0===D.length&&0===te.length)return[new Ea(i,[])];const xe=us(n)===o,Xe=this.processSegment(D,x,te,xe?Rn:o);return null===Xe?null:[new Ea(i,Xe)]}}function K$(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Z1(t){const n=[],e=new Set;for(const r of t){if(!K$(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=Z1(r.children);n.push(new Ea(r.value,o))}return n.filter(r=>!e.has(r))}function Y1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function K1(t){var n;let e=t,r=null!==(n=e._segmentIndexShift)&&void 0!==n?n:0;for(;e._sourceSegment;){var o;e=e._sourceSegment,r+=null!==(o=e._segmentIndexShift)&&void 0!==o?o:0}return r-1}function Q1(t){return t.data||{}}function J1(t){return t.resolve||{}}const A_=Symbol("RouteTitle");function eI(t){return"string"==typeof t.title||null===t.title}function P_(t){return Oi(n=>{const e=t(n);return e?Gn(e).pipe(lt(()=>n)):vn(n)})}class tI{}class o4 extends class r4{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const R_=new an("ROUTES");let F_=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return vn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=nl(e.loadComponent()).pipe(Go(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),f_(()=>{this.componentLoaders.delete(e)})),o=new l_(r,()=>new W).pipe(a_());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(lt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f,m=!1;Array.isArray(a)?f=a:(c=a.create(e).injector,f=h1(c.get(R_,[],qt.Self|qt.Optional)));return{routes:f.map(k_),injector:c}}),f_(()=>{this.childrenLoaders.delete(r)})),s=new l_(i,()=>new W).pipe(a_());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return nl(e()).pipe(zt(r=>r instanceof kC||Array.isArray(r)?vn(r):Gn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(be(vr),be(Kg))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class s4{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function a4(t){throw t}function l4(t,n,e){return n.parse("/")}const c4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new W,this.errorHandler=a4,this.malformedUriErrorHandler=l4,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vn(void 0),this.urlHandlingStrategy=new s4,this.routeReuseStrategy=new o4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(F_),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new I3(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new D3(D)),this.ngModule=s.get(Wa),this.console=s.get(eF);const _=s.get(dt);this.isNgZoneEnabled=_ instanceof dt&&dt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function N3(){return new jl(new Un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=M1(this.currentUrlTree,this.rootComponentType),this.transitions=new Wi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Uo(o=>0!==o.id),lt(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Oi(o=>{let i=!1,s=!1;return vn(o).pipe(Go(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Oi(a=>{const c=this.browserUrlTree.toString(),f=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return oI(a.source)&&(this.browserUrlTree=a.extractedUrl),vn(a).pipe(Oi(_=>{const D=this.transitions.getValue();return r.next(new Hp(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),D!==this.transitions.getValue()?rr:Promise.resolve(_)}),function P$(t,n,e,r){return Oi(o=>function T$(t,n,e,r,o){return new x$(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(lt(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Go(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects}}),function X$(t,n,e,r,o){return zt(i=>function W$(t,n,e,r,o="emptyOnly",i="legacy"){try{const s=new q$(t,n,e,r,o,i).recognize();return null===s?q1(new z$):vn(s)}catch(s){return q1(s)}}(t,n,i.urlAfterRedirects,e(i.urlAfterRedirects),r,o).pipe(lt(s=>({...i,targetSnapshot:s}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),Go(_=>{if("eager"===this.urlUpdateStrategy){if(!_.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);this.setBrowserUrl(x,_)}this.browserUrlTree=_.urlAfterRedirects}const D=new b3(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);r.next(D)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:x,source:te,restoredState:xe,extras:Xe}=a,Ge=new Hp(D,this.serializeUrl(x),te,xe);r.next(Ge);const gt=M1(x,this.rootComponentType).snapshot;return vn({...a,targetSnapshot:gt,urlAfterRedirects:x,extras:{...Xe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),rr}),Go(a=>{const c=new w3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),lt(a=>({...a,guards:R$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function L$(t,n){return zt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?vn({...e,guardsResult:!0}):function $$(t,n,e,r){return Gn(t).pipe(zt(o=>function G$(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?vn(i.map(a=>{const c=ih(a,n,o);return nl(function C$(t){return t&&Qp(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,r):c(t,n,e,r)).pipe(tl())})).pipe(Dd()):vn(!0)}(o.component,o.route,e,n,r)),tl(o=>!0!==o,!0))}(s,r,o,t).pipe(zt(a=>a&&function _$(t){return"boolean"==typeof t}(a)?function B$(t,n,e,r){return Gn(n).pipe(Zc(o=>vd(function H$(t,n){return null!==t&&n&&n(new M3(t)),vn(!0)}(o.route.parent,r),function V$(t,n){return null!==t&&n&&n(new T3(t)),vn(!0)}(o.route,r),function U$(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function F$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Vp(()=>vn(s.guards.map(c=>{const f=ih(c,s.node,e);return nl(function w$(t){return t&&Qp(t.canActivateChild)}(f)?f.canActivateChild(r,t):f(r,t)).pipe(tl())})).pipe(Dd())));return vn(i).pipe(Dd())}(t,o.path,e),function j$(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return vn(!0);const o=r.map(i=>Vp(()=>{const s=ih(i,n,e);return nl(function b$(t){return t&&Qp(t.canActivate)}(s)?s.canActivate(n,t):s(n,t)).pipe(tl())}));return vn(o).pipe(Dd())}(t,o.route,e))),tl(o=>!0!==o,!0))}(r,i,t,n):vn(a)),lt(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Go(a=>{if(zl(a.guardsResult)){const f=h_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw f.url=a.guardsResult,f}const c=new C3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Uo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),P_(a=>{if(a.guards.canActivateChecks.length)return vn(a).pipe(Go(c=>{const f=new S3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),Oi(c=>{let f=!1;return vn(c).pipe(function Q$(t,n){return zt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return vn(e);let i=0;return Gn(o).pipe(Zc(s=>function J$(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!eI(o)&&(i[A_]=o.title),function e4(t,n,e,r){const o=function t4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return vn({});const i={};return Gn(o).pipe(zt(s=>function n4(t,n,e,r){const o=ih(t,n,r);return nl(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,r).pipe(tl(),Go(a=>{i[s]=a}))),c_(1),d_(i),el(s=>s instanceof _d?rr:Xc(s)))}(i,t,n,r).pipe(lt(s=>(t._resolvedData=s,t.data=k1(t,e).resolve,o&&eI(o)&&(t.data[A_]=o.title),null)))}(s.route,r,t,n)),Go(()=>i++),c_(1),zt(s=>i===o.length?vn(e):rr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Go({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Go(c=>{const f=new E3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}))}),P_(a=>{const c=f=>{var m;const _=[];null!==(m=f.routeConfig)&&void 0!==m&&m.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(Go(D=>{f.component=D}),lt(()=>{})));for(const D of f.children)_.push(...c(D));return _};return i1(c(a.targetSnapshot.root)).pipe(u_(),qi(1))}),P_(()=>this.afterPreactivation()),lt(a=>{const c=function e$(t,n,e){const r=Cd(t,n._root,e?e._root:void 0);return new I1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:c}}),Go(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>lt(r=>(new y$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Go({next(){i=!0},complete(){i=!0}}),f_(()=>{var a;i||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),el(a=>{if(s=!0,function R3(t){return t&&t[f1]}(a)){const c=zl(a.url);c||(this.navigated=!0,this.restoreHistory(o,!0));const f=new jp(o.id,this.serializeUrl(o.extractedUrl),a.message);if(r.next(f),c){const m=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),_={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oI(o.source)};this.scheduleNavigation(m,"imperative",null,_,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new u1(o.id,this.serializeUrl(o.extractedUrl),a);r.next(c);try{o.resolve(this.errorHandler(a))}catch(f){o.reject(f)}}return rr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const i={replaceUrl:!0},s=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=o||this.routerState.root,m=c?this.currentUrlTree.fragment:s;let _=null;switch(a){case"merge":_={...this.currentUrlTree.queryParams,...i};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=i||null}return null!==_&&(_=this.removeEmptyProps(_)),function r$(t,n,e,r,o){var i;if(0===e.length)return E_(n.root,n.root,n.root,r,o);const s=function o$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new P1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return zo(i.outlets,(c,f)=>{a[f]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new P1(e,n,r)}(e);if(s.toRoot())return E_(n.root,n.root,new Un([],{}),r,o);const c=function a(m){var _;const D=function i$(t,n,e,r){return t.isAbsolute?new D_(n.root,!0,0):-1===r?new D_(e,e===n.root,0):function s$(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new R(4005,!1);o=r.segments.length}return new D_(r,!1,o-i)}(e,r+(Yp(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,null===(_=t.snapshot)||void 0===_?void 0:_._urlSegment,m),x=D.processChildren?Kp(D.segmentGroup,D.index,s.commands):R1(D.segmentGroup,D.index,s.commands);return E_(n.root,D.segmentGroup,x,r,o)}(null===(i=t.snapshot)||void 0===i?void 0:i._lastPathIndex);return c}(f,this.currentUrlTree,e,_,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=zl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function d4(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new R(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...c4}:!1===r?{...u4}:r,zl(e))return y1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return y1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Hl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((te,xe)=>{a=te,c=xe});const m=++this.navigationId;let _;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(o=this.location.getState()),o&&o.\u0275routerPageId)_=o.\u0275routerPageId;else if(i.replaceUrl||i.skipLocationChange){var D;_=null!==(D=this.browserPageId)&&void 0!==D?D:0}else{var x;_=(null!==(x=this.browserPageId)&&void 0!==x?x:0)+1}else _=0;return this.setTransition({id:m,targetPageId:_,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(te=>Promise.reject(te))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){var o,i;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new jp(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){Ym()},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();function oI(t){return"imperative"!==t}class iI{buildTitle(n){let e,r=n.root;for(;void 0!==r;){var o;e=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:e,r=r.children.find(i=>i.outlet===Rn)}return e}getResolvedTitleForRoute(n){return n.data[A_]}}let h4=(()=>{class t extends iI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(be(FE))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sI{}let m4=(()=>{class t{preload(e,r){return r().pipe(el(()=>vn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aI=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Uo(e=>e instanceof Hl),Zc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){var i,s;c.providers&&!c._injector&&(c._injector=ep(c.providers,e,`Route: ${c.path}`));const f=null!==(i=c._injector)&&void 0!==i?i:e,m=null!==(s=c._loadedInjector)&&void 0!==s?s:f;if(c.loadChildren&&!c._loadedRoutes||c.loadComponent&&!c._loadedComponent)o.push(this.preloadConfig(f,c));else if(c.children||c._loadedRoutes){var a;o.push(this.processRoutes(m,null!==(a=c.children)&&void 0!==a?a:c._loadedRoutes))}}return Gn(o).pipe(no())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):vn(null);const i=o.pipe(zt(s=>{var a;return null===s?vn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return r.loadComponent&&!r._loadedComponent?Gn([i,this.loader.loadComponent(r)]).pipe(no()):i})}}return t.\u0275fac=function(e){return new(e||t)(be(zr),be(Kg),be(Il),be(sI),be(F_))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const lI=new an("");let g4=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof d1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new d1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Ym()},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const N_=new an("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),cI=new an("ROUTER_FORROOT_GUARD"),uI=new an(""),y4=[ad,{provide:g_,useClass:w1},{provide:zr,useFactory:function S4(t,n,e,r,o,i,s={},a,c,f,m){const _=new zr(null,t,n,e,r,o,h1(i));return f&&(_.urlHandlingStrategy=f),m&&(_.routeReuseStrategy=m),_.titleStrategy=c??a,function E4(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,_),_},deps:[g_,Gl,ad,vr,Kg,R_,N_,h4,[iI,new Ua],[class i4{},new Ua],[tI,new Ua]]},Gl,{provide:Da,useFactory:function D4(t){return t.routerState.root},deps:[zr]},F_];function _4(){return new DS("Router",zr)}let sh=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[y4,[],dI(e),{provide:cI,useFactory:C4,deps:[[zr,new Ua,new Pu]]},{provide:N_,useValue:r||{}},null!=r&&r.useHash?{provide:Gs,useClass:KS}:{provide:Gs,useClass:YS},{provide:lI,useFactory:()=>{const t=Cl(zr),n=Cl(oN),e=Cl(N_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new g4(t,n,e)}},null!=r&&r.preloadingStrategy?P4(r.preloadingStrategy):[],{provide:DS,multi:!0,useFactory:_4},null!=r&&r.initialNavigation?M4(r):[],[{provide:fI,useFactory:I4},{provide:_S,multi:!0,useExisting:fI}]]}}static forChild(e){return{ngModule:t,providers:[dI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(be(cI,8),be(zr,8))},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({}),t})();function C4(t){return"guarded"}function dI(t){return[{provide:pk,multi:!0,useValue:t},{provide:R_,multi:!0,useValue:t}]}function I4(){const t=Cl(vr);return n=>{var e,r;const o=t.get(Za);if(n!==o.components[0])return;const i=t.get(zr),s=t.get(pI);null===t.get(L_,null,qt.Optional)&&i.initialNavigation(),null===(e=t.get(uI,null,qt.Optional))||void 0===e||e.setUpPreloading(),null===(r=t.get(lI,null,qt.Optional))||void 0===r||r.init(),i.resetRootComponentType(o.componentTypes[0]),s.next(),s.complete()}}const fI=new an("");function M4(t){return["disabled"===t.initialNavigation?[{provide:Pl,multi:!0,useFactory:()=>{const t=Cl(zr);return()=>{t.setUpLocationChangeListener()}}},{provide:L_,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:L_,useValue:"enabledBlocking"},{provide:Pl,multi:!0,deps:[vr],useFactory:t=>{const n=t.get(HF,Promise.resolve(null));let e=!1;return()=>n.then(()=>new Promise(o=>{const i=t.get(zr),s=t.get(pI);(function r(o){const i=t.get(zr);i.events.pipe(Uo(s=>s instanceof Hl||s instanceof jp||s instanceof u1),lt(s=>{if(s instanceof Hl)return!0;const a=i.navigationId!==s.id,c=s instanceof jp&&-1!==s.reason.indexOf(p_);return!(!a&&!c)&&null}),Uo(s=>null!==s),qi(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),i.afterPreactivation=()=>(o(!0),e||s.closed?vn(void 0):s),i.initialNavigation()}))}}]:[]]}const pI=new an("",{factory:()=>new W}),L_=new an("");function P4(t){return[aI,{provide:uI,useExisting:aI},{provide:sI,useExisting:t}]}F(5794),F(932),F(2172);var $_=F(537),eu=F(9158),xd=F(4736),Ad=(F(9506),F(9703)),hI=(F(607),F(9479));function gI(t,n=Q){return t=t??F4,$e((e,r)=>{let o,i=!0;e.subscribe(ut(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function F4(t,n){return t===n}const N4=$_.i,Pt=["*"],B4=["outlet"],V4=[[["","slot","top"]],"*"],H4=["[slot=top]","*"],yI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),_I=t=>!!t.resolveComponentFactory;let Pd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",tu(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),tu(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),tu(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(ba)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>tu(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),tu(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(S(vr),S(_t))},t.\u0275dir=ye({type:t,hostBindings:function(e,r){1&e&&ct("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const tu=t=>{yI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=G4(n);B_(n,r);const o=n.closest("ion-item");o&&B_(o,e?[...r,"item-has-value"]:r)})},G4=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&z4(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},B_=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},z4=(t,n)=>t.substring(0,n.length)===n;let Rd=(()=>{class t extends Pd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,tu(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(S(vr),S(_t))},t.\u0275dir=ye({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleIonChange(i.target)})},features:[mr([{provide:yi,useExisting:t,multi:!0}]),Zn]}),t})(),Fd=(()=>{class t extends Pd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(S(vr),S(_t))},t.\u0275dir=ye({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[mr([{provide:yi,useExisting:t,multi:!0}]),Zn]}),t})(),Wl=(()=>{class t extends Pd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(S(vr),S(_t))},t.\u0275dir=ye({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[mr([{provide:yi,useExisting:t,multi:!0}]),Zn]}),t})();const Z4=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},Y4=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},ar=(t,n,e)=>{e.forEach(r=>t[r]=yd(n,r))};function Tt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&Z4(e,o),i&&Y4(e,i),e}}let vI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-app"]],ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0})],t),t})(),bI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),Zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),Yi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),Ki=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Xi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),Wo=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),ql=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),ci=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),ah=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),lh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),ch=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),ds=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),qs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),wI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),V_=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),uh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),dh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),Od=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),H_=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),CI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),Qi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Nd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ar(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),Ji=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(S(Dt),S(_t),S(dt))},t.\u0275cmp=C({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Pt,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2,changeDetection:0}),t=ue([Tt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class SI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let fh=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new qB(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(be(dt),be(Za))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class qB{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(ZB(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const ZB=(t,n,e,r,o,i,s,a,c,f,m)=>{let _;const D=vr.create({providers:KB(f),parent:e});if(n&&_I(n)){const Xe=n.resolveComponentFactory(c);_=r?r.createComponent(Xe,r.length,D):Xe.create(D)}else{if(!r)return null;_=r.createComponent(c,{index:r.indexOf,injector:D,environmentInjector:n})}const x=_.instance,te=_.location.nativeElement;if(f&&Object.assign(x,f),m)for(const Xe of m)te.classList.add(Xe);const xe=EI(t,x,te);return a.appendChild(te),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(te,_),s.set(te,xe),te},YB=[xd.L,xd.a,xd.b,xd.c,xd.d],EI=(t,n,e)=>t.run(()=>{const r=YB.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),DI=new an("NavParamsToken"),KB=t=>[{provide:DI,useValue:t},{provide:SI,useFactory:XB,deps:[DI]}],XB=t=>new SI(t),II=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),j_=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},nV=(t,n)=>{if(!t)return;const e=MI(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},MI=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),kI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class rV{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?MI(n):void 0}createView(n,e){var r;const o=j_(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=EI(this.zone,n.instance,i);return{id:this.nextId++,stackId:nV(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=j_(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,f=((t,n)=>!n||t.stackId!==n.stackId)(n,c);f&&(i="back",s=void 0);const m=this.views.slice();let _;const D=this.router;D.getCurrentNavigation?_=D.getCurrentNavigation():!(null===(e=D.navigations)||void 0===e)&&e.value&&(_=D.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const x=this.views.includes(n),te=this.insertView(n,i);x||n.ref.changeDetectorRef.detectChanges();const xe=n.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==xe&&(a=xe),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>oV(n,te,m,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:f})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const m=c.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&TI(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(kI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?II(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):II(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return Yn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const oV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{TI(t,n,e,r,o),i()})}):Promise.resolve(),TI=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(kI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let U_=(()=>{class t{get(e,r){const o=G_();return o?o.get(e,r):null}getBoolean(e,r){const o=G_();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=G_();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xI=new an("USERCONFIG"),G_=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let iV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new W,this.keyboardDidShow=new W,this.keyboardDidHide=new W,this.pause=new W,this.resume=new W,this.resize=new W,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,f=>r.run(()=>a(f))))},nu(this.pause,e,"pause"),nu(this.resume,e,"resume"),nu(this.backButton,e,"ionBackButton"),nu(this.resize,this.win,"resize"),nu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),nu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,$_.a)(this.win,e)}platforms(){return(0,$_.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return sV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(be(Io),be(dt))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},nu=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let Ld=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=AI,this.animated=PI,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Hp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return Yn(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=aV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=AI,this.animated=PI,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(be(iV),be(ad),be(g_),be(zr,8))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const aV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},AI="auto",PI=void 0;class z_{}let $d=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,D,x,te,xe){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.environmentInjector=c,this.componentFactoryResolver=f,this.parentOutlet=xe,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Wi(null),this.stackEvents=new gn,this.activateEvents=new gn,this.deactivateEvents=new gn,this.nativeEl=_.nativeElement,this.name=o||Rn,this.tabsPrefix="true"===i?j_(D,te):void 0,this.stackCtrl=new rV(this.tabsPrefix,this.nativeEl,D,a,x,m),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,eu.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const s=i.savedData;s&&(this.getContext().children.contexts=s),this.updateActivatedRouteProxy(o.instance,e)}else{const s=e._futureSnapshot,a=s.routeConfig.component;if(null==a&&s.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const c=this.parentContexts.getOrCreateContext(this.name).children,f=new Wi(null),m=this.createActivatedRouteProxy(f,e),_=new lV(m,c,this.location.injector);if((r=r||this.componentFactoryResolver)&&_I(r)){const D=r.resolveComponentFactory(a);o=this.activated=this.location.createComponent(D,this.location.length,_)}else o=this.activated=this.location.createComponent(a,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(s=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(o.instance),this.stackEvents.emit(s)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Da;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(Uo(o=>!!o),Oi(o=>this.currentActivatedRoute$.pipe(Uo(i=>null!==i&&i.component===o),Oi(i=>i&&i.activatedRoute[r]),gI())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(S(Gl),S(ai),wl("name"),wl("tabs"),S(U_),S(Ld),S(z_,8),S(ua,8),S(ad),S(_t),S(zr),S(dt),S(Da),S(t,12))},t.\u0275dir=ye({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class lV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Da?this.route:n===Gl?this.childContexts:this.parent.get(n,e)}}let RI=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new gn,this.ionTabsDidChange=new gn}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(S(Ld))},t.\u0275cmp=C({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function fa(t,n,e,r){const o=$n();if(o.firstCreatePass){const i=Sr();KC(o,new qC(n,e,r),i.index),function R2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}YC(o,ht(),e)}(o,H_,5),2&e){let i;Pi(i=Ri())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&jc(B4,5,$d),2&e){let o;Pi(o=Ri())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&ct("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:H4,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,r){1&e&&(kt(V4),Mt(0),de(1,"div",0)(2,"ion-router-outlet",1,2),ct("stackEvents",function(i){return r.onPageSelected(i)}),oe()(),Mt(4,1))},dependencies:[$d],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),FI=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(S($d,8),S(Ld),S(U_))},t.\u0275dir=ye({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&ct("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),OI=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),ar(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(S(_t),S(ua),S(vr),S(fh),S(ai))},t.\u0275dir=ye({type:t,selectors:[["ion-nav"]]}),t=ue([Tt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class Bd{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Vd=(()=>{class t extends Bd{constructor(){super(Ad.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ru=(()=>{class t extends Bd{constructor(){super(Ad.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zl=(()=>{class t extends Bd{constructor(){super(Ad.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ss=(()=>{class t extends Bd{constructor(e,r,o,i){super(Ad.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(be(fh),be(ua),be(vr),be(z_,8))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),Yl=(()=>{class t extends Bd{constructor(e,r,o,i){super(Ad.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(be(fh),be(ua),be(vr),be(z_,8))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class mV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const gV=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function O4(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(F.e(6748).then(F.t.bind(F,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(F.e(2214).then(F.t.bind(F,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,hI.p)().then(()=>(N4(),(0,hI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:yI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let rl=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:xI,useValue:e},{provide:Pl,useFactory:gV,multi:!0,deps:[xI,Io,dt]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({providers:[fh,Ss,Yl],imports:[[zs]]}),t})();class yV extends q{constructor(n,e){super()}schedule(n,e=0){return this}}const ph={setInterval(t,n,...e){const{delegate:r}=ph;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=ph;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},W_={now:()=>(W_.delegate||Date).now(),delegate:void 0};class Hd{constructor(n,e=Hd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}Hd.now=W_.now;const BI=new class vV extends Hd{constructor(n,e=Hd.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class _V extends yV{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return ph.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;ph.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ie(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),bV=BI;function VI(t=0,n,e=bV){let r=-1;return null!=n&&(Zo(n)?e=n:r=n),new yt(o=>{let i=function wV(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class CV extends W{constructor(n=1/0,e=1/0,r=W_){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}let ou={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const IV=/[&<>"']/,MV=/[&<>"']/g,kV=/[<>"']|&(?!#?\w+;)/,TV=/[<>"']|&(?!#?\w+;)/g,xV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jI=t=>xV[t];function Fo(t,n){if(n){if(IV.test(t))return t.replace(MV,jI)}else if(kV.test(t))return t.replace(TV,jI);return t}const AV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function UI(t){return t.replace(AV,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const PV=/(^|[^\[])\^/g;function Dr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(PV,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const RV=/[^\w:]/g,FV=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function GI(t,n,e){if(t){let r;try{r=decodeURIComponent(UI(e)).replace(RV,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!FV.test(e)&&(e=function $V(t,n){hh[" "+t]||(hh[" "+t]=OV.test(t)?t+"/":gh(t,"/",!0));const e=-1===(t=hh[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(NV,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(LV,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const hh={},OV=/^[^:]+:\/*[^/]*$/,NV=/^([^:]+:)[\s\S]*$/,LV=/^([^:]+:\/*[^/]*)[\s\S]*$/,mh={exec:function(){}};function Es(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function zI(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function gh(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function WI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qI(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function ZI(t,n,e,r){const o=n.href,i=n.title?Fo(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Fo(s)}}class q_{constructor(n){this.options=n||ou}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:gh(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function VV(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=gh(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,f,m,_,D,x,te,xe=e[1].trim();const Xe=xe.length>1,Ge={type:"list",raw:"",ordered:Xe,start:Xe?+xe.slice(0,-1):"",loose:!1,items:[]};xe=Xe?`\\d{1,9}\\${xe.slice(-1)}`:`\\${xe}`,this.options.pedantic&&(xe=Xe?xe:"[*+-]");const gt=new RegExp(`^( {0,3}${xe})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(te=!1,(e=gt.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),m=e[2].split("\n",1)[0],_=n.split("\n",1)[0],this.options.pedantic?(s=2,x=m.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,x=m.slice(s),s+=e[1].length),c=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",n=n.substring(_.length+1),te=!0),!te){const pt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),Xt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ln=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),ko=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(D=n.split("\n",1)[0],m=D,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ln.test(m)||ko.test(m)||pt.test(m)||Xt.test(n)));){if(m.search(/[^ ]/)>=s||!m.trim())x+="\n"+m.slice(s);else{if(c)break;x+="\n"+m}!c&&!m.trim()&&(c=!0),r+=D+"\n",n=n.substring(D.length+1)}}Ge.loose||(f?Ge.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(x),o&&(i="[ ] "!==o[0],x=x.replace(/^\[[ xX]\] +/,""))),Ge.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:x}),Ge.raw+=r}Ge.items[Ge.items.length-1].raw=r.trimRight(),Ge.items[Ge.items.length-1].text=x.trimRight(),Ge.raw=Ge.raw.trimRight();const nt=Ge.items.length;for(a=0;a<nt;a++){this.lexer.state.top=!1,Ge.items[a].tokens=this.lexer.blockTokens(Ge.items[a].text,[]);const pt=Ge.items[a].tokens.filter(ln=>"space"===ln.type),Xt=pt.every(ln=>{const ko=ln.raw.split("");let ts=0;for(const Jl of ko)if("\n"===Jl&&(ts+=1),ts>1)return!0;return!1});!Ge.loose&&pt.length&&Xt&&(Ge.loose=!0,Ge.items[a].loose=!0)}return Ge}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Fo(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:zI(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=zI(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=[],this.lexer.inline(r.header[s].text,r.header[s].tokens);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=[],this.lexer.inline(c[a].text,c[a].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Fo(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Fo(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=gh(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function BV(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),ZI(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return ZI(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=_.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){m+=c;continue}if(f-=c,f>0)continue;if(c=Math.min(c,c+f+m),Math.min(s,c)%2){const x=n.slice(1,s+o.index+c);return{type:"em",raw:n.slice(0,s+o.index+c+1),text:x,tokens:this.lexer.inlineTokens(x,[])}}const D=n.slice(2,s+o.index+c-1);return{type:"strong",raw:n.slice(0,s+o.index+c+1),text:D,tokens:this.lexer.inlineTokens(D,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Fo(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Fo(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Fo(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Fo(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Fo(r[0]),i="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Fo(r[0]):r[0]:Fo(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const un={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:mh,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};un.def=Dr(un.def).replace("label",un._label).replace("title",un._title).getRegex(),un.bullet=/(?:[*+-]|\d{1,9}[.)])/,un.listItemStart=Dr(/^( *)(bull) */).replace("bull",un.bullet).getRegex(),un.list=Dr(un.list).replace(/bull/g,un.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+un.def.source+")").getRegex(),un._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",un._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,un.html=Dr(un.html,"i").replace("comment",un._comment).replace("tag",un._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),un.paragraph=Dr(un._paragraph).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.blockquote=Dr(un.blockquote).replace("paragraph",un.paragraph).getRegex(),un.normal=Es({},un),un.gfm=Es({},un.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),un.gfm.table=Dr(un.gfm.table).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.gfm.paragraph=Dr(un._paragraph).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",un.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.pedantic=Es({},un.normal,{html:Dr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",un._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mh,paragraph:Dr(un.normal._paragraph).replace("hr",un.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",un.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ut={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:mh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:mh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function HV(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function YI(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}Ut._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ut.punctuation=Dr(Ut.punctuation).replace(/punctuation/g,Ut._punctuation).getRegex(),Ut.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ut.escapedEmSt=/\\\*|\\_/g,Ut._comment=Dr(un._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ut.emStrong.lDelim=Dr(Ut.emStrong.lDelim).replace(/punct/g,Ut._punctuation).getRegex(),Ut.emStrong.rDelimAst=Dr(Ut.emStrong.rDelimAst,"g").replace(/punct/g,Ut._punctuation).getRegex(),Ut.emStrong.rDelimUnd=Dr(Ut.emStrong.rDelimUnd,"g").replace(/punct/g,Ut._punctuation).getRegex(),Ut._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ut._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ut._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ut.autolink=Dr(Ut.autolink).replace("scheme",Ut._scheme).replace("email",Ut._email).getRegex(),Ut._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ut.tag=Dr(Ut.tag).replace("comment",Ut._comment).replace("attribute",Ut._attribute).getRegex(),Ut._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ut._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ut._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ut.link=Dr(Ut.link).replace("label",Ut._label).replace("href",Ut._href).replace("title",Ut._title).getRegex(),Ut.reflink=Dr(Ut.reflink).replace("label",Ut._label).replace("ref",un._label).getRegex(),Ut.nolink=Dr(Ut.nolink).replace("ref",un._label).getRegex(),Ut.reflinkSearch=Dr(Ut.reflinkSearch,"g").replace("reflink",Ut.reflink).replace("nolink",Ut.nolink).getRegex(),Ut.normal=Es({},Ut),Ut.pedantic=Es({},Ut.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Dr(/^!?\[(label)\]\((.*?)\)/).replace("label",Ut._label).getRegex(),reflink:Dr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ut._label).getRegex()}),Ut.gfm=Es({},Ut.normal,{escape:Dr(Ut.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ut.gfm.url=Dr(Ut.gfm.url,"i").replace("email",Ut.gfm._extended_email).getRegex(),Ut.breaks=Es({},Ut.gfm,{br:Dr(Ut.br).replace("{2,}","*").getRegex(),text:Dr(Ut.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ma{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||ou,this.options.tokenizer=this.options.tokenizer||new q_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:un.normal,inline:Ut.normal};this.options.pedantic?(e.block=un.pedantic,e.inline=Ut.pedantic):this.options.gfm&&(e.block=un.gfm,e.inline=this.options.breaks?Ut.breaks:Ut.gfm),this.tokenizer.rules=e}static get rules(){return{block:un,inline:Ut}}static lex(n,e){return new Ma(e).lex(n)}static lexInline(n,e){return new Ma(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,i,a,c,f,s=n;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+qI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+qI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,YI)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,YI))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=n.slice(1);let D;this.options.extensions.startInline.forEach(function(x){D=x.call({lexer:this},_),"number"==typeof D&&D>=0&&(m=Math.min(m,D))}),m<1/0&&m>=0&&(i=n.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,HV)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const m="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return e}}class iu{constructor(n){this.options=n||ou}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Fo(o,!0)+'">'+(r?n:Fo(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Fo(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=GI(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+Fo(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=GI(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class KI{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class XI{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class ka{constructor(n){this.options=n||ou,this.options.renderer=this.options.renderer||new iu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new KI,this.slugger=new XI}static parse(n,e){return new ka(e).parse(n)}static parseInline(n,e){return new ka(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,f,m,_,D,x,te,xe,Xe,Ge,gt,nt,pt,Xt,ln,r="";const ko=n.length;for(o=0;o<ko;o++)if(x=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(ln=this.options.extensions.renderers[x.type].call({parser:this},x),!1!==ln||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)))r+=ln||"";else switch(x.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(x.tokens),x.depth,UI(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(x.text,x.lang,x.escaped);continue;case"table":for(_="",m="",a=x.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(x.header[i].tokens),{header:!0,align:x.align[i]});for(_+=this.renderer.tablerow(m),D="",a=x.rows.length,i=0;i<a;i++){for(f=x.rows[i],m="",c=f.length,s=0;s<c;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:x.align[s]});D+=this.renderer.tablerow(m)}r+=this.renderer.table(_,D);continue;case"blockquote":D=this.parse(x.tokens),r+=this.renderer.blockquote(D);continue;case"list":for(te=x.ordered,xe=x.start,Xe=x.loose,a=x.items.length,D="",i=0;i<a;i++)gt=x.items[i],nt=gt.checked,pt=gt.task,Ge="",gt.task&&(Xt=this.renderer.checkbox(nt),Xe?gt.tokens.length>0&&"paragraph"===gt.tokens[0].type?(gt.tokens[0].text=Xt+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&"text"===gt.tokens[0].tokens[0].type&&(gt.tokens[0].tokens[0].text=Xt+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:Xt}):Ge+=Xt),Ge+=this.parse(gt.tokens,Xe),D+=this.renderer.listitem(Ge,pt,nt);r+=this.renderer.list(D,te,xe);continue;case"html":r+=this.renderer.html(x.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(x.tokens));continue;case"text":for(D=x.tokens?this.parseInline(x.tokens):x.text;o+1<ko&&"text"===n[o+1].type;)x=n[++o],D+="\n"+(x.tokens?this.parseInline(x.tokens):x.text);r+=e?this.renderer.paragraph(D):D;continue;default:{const ts='Token with "'+x.type+'" type was not found.';if(this.options.silent)return void console.error(ts);throw new Error(ts)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function bn(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),WI(n=Es({},bn.defaults,n||{})),e){const r=n.highlight;let o;try{o=Ma.lex(t,n)}catch(a){return e(a)}const i=function(a){let c;if(!a)try{n.walkTokens&&bn.walkTokens(o,n.walkTokens),c=ka.parse(o,n)}catch(f){a=f}return n.highlight=r,a?e(a):e(null,c)};if(!r||r.length<3||(delete n.highlight,!o.length))return i();let s=0;return bn.walkTokens(o,function(a){"code"===a.type&&(s++,setTimeout(()=>{r(a.text,a.lang,function(c,f){if(c)return i(c);null!=f&&f!==a.text&&(a.text=f,a.escaped=!0),s--,0===s&&i()})},0))}),void(0===s&&i())}try{const r=Ma.lex(t,n);return n.walkTokens&&bn.walkTokens(r,n.walkTokens),ka.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Fo(r.message+"",!0)+"</pre>";throw r}}bn.options=bn.setOptions=function(t){return Es(bn.defaults,t),function DV(t){ou=t}(bn.defaults),bn},bn.getDefaults=function HI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},bn.defaults=ou,bn.use=function(...t){const n=Es({},...t),e=bn.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers?e.renderers[i.name]:null;e.renderers[i.name]=s?function(...a){let c=i.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)})),o.renderer){const i=bn.defaults.renderer||new iu;for(const s in o.renderer){const a=i[s];i[s]=(...c)=>{let f=o.renderer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.renderer=i}if(o.tokenizer){const i=bn.defaults.tokenizer||new q_;for(const s in o.tokenizer){const a=i[s];i[s]=(...c)=>{let f=o.tokenizer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.tokenizer=i}if(o.walkTokens){const i=bn.defaults.walkTokens;n.walkTokens=function(s){o.walkTokens.call(this,s),i&&i.call(this,s)}}r&&(n.extensions=e),bn.setOptions(n)})},bn.walkTokens=function(t,n){for(const e of t)switch(n.call(bn,e),e.type){case"table":for(const r of e.header)bn.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)bn.walkTokens(o.tokens,n);break;case"list":bn.walkTokens(e.items,n);break;default:bn.defaults.extensions&&bn.defaults.extensions.childTokens&&bn.defaults.extensions.childTokens[e.type]?bn.defaults.extensions.childTokens[e.type].forEach(function(r){bn.walkTokens(e[r],n)}):e.tokens&&bn.walkTokens(e.tokens,n)}},bn.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");WI(n=Es({},bn.defaults,n||{}));try{const e=Ma.lexInline(t,n);return n.walkTokens&&bn.walkTokens(e,n.walkTokens),ka.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Fo(e.message+"",!0)+"</pre>";throw e}},bn.Parser=ka,bn.parser=ka.parse,bn.Renderer=iu,bn.TextRenderer=KI,bn.Lexer=Ma,bn.lexer=Ma.lex,bn.Tokenizer=q_,bn.Slugger=XI,bn.parse=bn;const jV=["*"];let Z_=(()=>{class t{constructor(){this._buttonClick$=new W,this.copied$=this._buttonClick$.pipe(Oi(()=>Ko(vn(!0),VI(3e3).pipe(d_(!1)))),gI(),function SV(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,Ci({connector:()=>new CV(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(a1(!1),lt(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(de(0,"button",0),ct("click",function(){return r.onCopyToClipboardClick()}),xl(1,"async"),tt(2),xl(3,"async"),oe()),2&e&&(ca("copied",Al(1,3,r.copied$)),rt(2),zi(Al(3,5,r.copiedText$)))},dependencies:[hE],encapsulation:2,changeDetection:0}),t})();class zV{}var jd=(()=>{return(t=jd||(jd={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",jd;var t})();class QI{}const JI=new an("SECURITY_CONTEXT");let Y_=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new iu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new W,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new iu));const f=this.trimIndentation(e),m=o?this.decodeHtml(f):f,_=s?this.parseEmoji(m):m,D=this.parseMarked(_,c,i);return this.sanitizer.sanitize(this.securityContext,D)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(lt(r=>this.handleExtension(e,r)))}highlight(e){if(!_a(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!_a(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),f=c>-1?a.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return _a(this.platform)?o?bn.parseInline(e,r):bn.parse(e,r):e}parseEmoji(e){if(!_a(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(_a(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!_a(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const f=a.item(c),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let D,x;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",D=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Z_).hostView,D.rootNodes.forEach(te=>{te.onmouseover=()=>_.style.opacity="1",_.appendChild(te),x=new ClipboardJS(te,{text:()=>f.innerText})}),D.onDestroy(()=>x.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!_a(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(be(Wc),be(JI),be(Oy,8),be(zV,8),be(QI,8),be(xy))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),K_=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new gn,this.load=new gn,this.ready=new gn,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new W}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function EV(t){return $e((n,e)=>{E(t).subscribe(ut(e,()=>e.complete(),$)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,jd.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,jd.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(S(_t),S(Y_),S(ai))},t.\u0275cmp=C({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[po],ngContentSelectors:jV,decls:1,vars:0,template:function(e,r){1&e&&(kt(),Mt(0))},encapsulation:2}),t})(),X_=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Y_,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:JI,useValue:e&&null!=e.sanitize?e.sanitize:Er.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs]}),t})();var eM;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(eM||(eM={}));var Me=F(3918);window;const tM=!navigator.userAgent.match(/(crios)|(fxios)/i),Zs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,nM=!!navigator.userAgent.match(/android/i);var ol=(()=>{return(t=ol||(ol={})).web="web",t.pwa="pwa",t.twa="twa",ol;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const tH=new Error("request for lock canceled");var rM=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function c(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})};class nH{constructor(n,e=tH){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return rM(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return rM(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class Ys{constructor(n){this._semaphore=new nH(1,n)}acquire(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function c(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[,n]=yield this._semaphore.acquire();return n})}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const yh="cloudpilot-session-preview";function iM(){localStorage.removeItem(yh)}function vi(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,Me.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),e}}let Ta=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Pr{constructor(n,e){this.alertController=n,this.emulationState=e,this.emergencySaveEvent=new Po.j}errorMessage(n){var e=this;return(0,Me.Z)(function*(){yield(yield e.alertController.create({header:"Error",backdropDismiss:!1,message:n,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(n,e,r={},o="Close"){var i=this;return(0,Me.Z)(function*(){const s=yield i.alertController.create({header:n,message:e,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var n=this;return(0,Me.Z)(function*(){const e=yield n.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield e.present(),yield e.onDidDismiss()})()}fatalError(n,e=!0){var r=this;return(0,Me.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${n}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&e?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&e?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${n}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Pr.\u0275fac=function(n){return new(n||Pr)(be(ru),be(Ta))},Pr.\u0275prov=bt({token:Pr,factory:Pr.\u0275fac,providedIn:"root"}),ue([vi()],Pr.prototype,"updateAvailable",null),ue([vi()],Pr.prototype,"fatalError",null),ue([vi()],Pr.prototype,"errorInNativeCode",null);let Kl=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&iM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new Po.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(be(Pr),be(dt))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wr=(()=>{return(t=Wr||(Wr={})).cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",Wr;var t})();let su=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Wr.none}claim(e,r){this.assertOwnership(e,Wr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=`Card is already claimed for ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)(be(Kl))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sl="session",au="rom",al="memory",xa="state",_h="kvs",ll="memory-meta",Ks="storage",es="storage-card",Ud="lock";class lu extends Error{constructor(n){super(n)}}function Wn(t){return new Promise((n,e)=>{!function cH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new lu(t.error?.message))})}function aM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function uH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const vh="session",J_="memory",fH="memory-meta",pH="storage",cM="storage-meta",uM="storage-card",mH="storageId";function ev(){return(ev=(0,Me.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(vh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function tv(){return(tv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function nv(){return(nv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(fH,{keyPath:"sessionId"});t.createObjectStore(pH),t.createObjectStore(cM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(vh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function rv(){return(rv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(cM).name=uM})).apply(this,arguments)}function ov(){return(ov=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(uM).createIndex(mH,"storageId")})).apply(this,arguments)}function iv(){return(iv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var EH=F(5023),DH=F.n(EH);const dM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bh;const IH=new Uint8Array(16);function MH(){if(!bh&&(bh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bh(IH)}const qo=[];for(let t=0;t<256;++t)qo.push((t+256).toString(16).slice(1));const sv=function kH(t,n,e){if(dM.randomUUID&&!n&&!t)return dM.randomUUID();const r=(t=t||{}).random||(t.rng||MH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function fM(t,n=0){return(qo[t[n+0]]+qo[t[n+1]]+qo[t[n+2]]+qo[t[n+3]]+"-"+qo[t[n+4]]+qo[t[n+5]]+"-"+qo[t[n+6]]+qo[t[n+7]]+"-"+qo[t[n+8]]+qo[t[n+9]]+"-"+qo[t[n+10]]+qo[t[n+11]]+qo[t[n+12]]+qo[t[n+13]]+qo[t[n+14]]+qo[t[n+15]]).toLowerCase()}(r)},av=new Error("page lock lost"),pM=new Error("version mismatch"),hM=sv();function Jr(){return(t,n,e)=>{const r=e.value;return e.value=(0,Me.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof lu?o.fatalIDBDead():i===pM?o.fatalVersionMismatch():i===av?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class Nn{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(al),c=o.objectStore(ll),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const D=s.length>>>10;for(let x=0;x<D;x++){m.set(s.subarray(1024*x,1024*(x+1)));const te=aM(f);if("number"==typeof te)a.put(te,[i,x]);else{const xe=new Uint32Array(256);xe.set(te),a.put(xe,[i,x])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,Me.Z)(function*(){const s=o.objectStore(ll),a=yield Wn(s.get(i));if(a)return new Promise(function(){var c=(0,Me.Z)(function*(f,m){const _=o.objectStore(al),D=new Uint32Array(a.totalSize>>>2),x=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));x.onsuccess=()=>{const te=x.result;if(!te)return f(new Uint8Array(D.buffer));const xe=te.value,[,Xe]=te.key;"number"==typeof xe?D.subarray(256*Xe,256*(Xe+1)).fill(xe|xe<<8|xe<<16|xe<<24):D.subarray(256*Xe,256*(Xe+1)).set(1024===xe.length?new Uint32Array(xe.buffer):xe),te.continue()},x.onerror=()=>m(new lu(x.error?.message))});return function(f,m){return c.apply(this,arguments)}}())})),this.sessionChangeEvent=new Po.j,this.storageCardChangeEvent=new Po.j,this.sessionUpdateMutex=new Ys,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,Me.Z)(function*(){const s=DH()(e),a=yield i.newTransaction(sl,au,xa,al,ll),c=a.objectStore(sl),f=a.objectStore(au);(yield Wn(f.get(s)))||f.put(e,s);const{id:_,...D}=n,x=yield Wn(c.add({...D,rom:s})),te=yield Wn(c.get(x));return r&&i.saveMemory(a,te.id,r),o&&i.saveState(a,te.id,o),yield Wn(a),te})()}getAllSessions(){var n=this;return(0,Me.Z)(function*(){const[e]=yield n.prepareObjectStore(sl);return yield Wn(e.getAll())})()}getSession(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(sl);return yield Wn(r.get(n))})()}deleteSession(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(sl,au,xa,al,ll),o=r.objectStore(sl),i=r.objectStore(au);(n=yield Wn(o.get(n.id)))&&(o.delete(n.id),0===(yield Wn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield Wn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,Me.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[f,m]=yield r.prepareObjectStore(sl),_=yield Wn(f.get(n));if(!_)throw new Error(`no session with id ${n}`);const D={..._,...c};f.put(D),yield Wn(m),r.sessionChangeEvent.dispatch([_.id,D])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(sl),i=yield Wn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield Wn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(au,xa,al,ll),o=r.objectStore(au);return[yield Wn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(xa);r.delete(n.id),yield Wn(o)})()}addEmptyStorageCard(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(es),o=yield Wn(r.add(n)),i=yield Wn(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,Me.Z)(function*(){return r.ngZone.runOutsideAngular((0,Me.Z)(function*(){const o=yield r.newTransaction(es,Ks),i=o.objectStore(es),s=o.objectStore(Ks),a=yield Wn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<c;_++){const D=e.subarray(2048*_,2048*(_+1));_===c-1&&f.set(D);const x=uH(_===c-1?f:D);0!==x&&s.put("number"==typeof x?x:x?.slice(),[a,_])}const m=yield Wn(i.get(a));return yield Wn(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var n=this;return(0,Me.Z)(function*(){const[e]=yield n.prepareObjectStore(es);return Wn(e.getAll())})()}getCard(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(es);return Wn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,Me.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,f]=yield r.prepareObjectStore(es),m=yield Wn(c.get(n));if(!m)throw new Error(`no card with id ${n}`);const _={...m,...a};c.put(_),yield Wn(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(es,Ks);e.storageCardContext.assertOwnership(n,Wr.none);const o=r.objectStore(es),i=r.objectStore(Ks);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield Wn(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,Me.Z)(function*(){const i=yield o.newTransaction(es,Ks);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(Ks);yield new Promise(function(){var a=(0,Me.Z)(function*(c,f){const m=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return c();let D=_.value;const[,x]=_.key;"number"==typeof D?e.subarray(2048*x,2048*(x+1)).fill(D):(2048*(x+1)>e.length&&(D=D.subarray(0,2048-2048*(x+1)+e.length)),e.subarray(2048*x,2048*(x+1)).set(D)),_.continue()},m.onerror=()=>f(new lu(m.error?.message))});return function(c,f){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,Me.Z)(function*(){const s=yield i.newTransaction(es,Ks);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(es),c=s.objectStore(Ks),f=yield Wn(a.get(n));if(!f)throw new Error(`no card with ID ${n}`);if(e.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let D=0;D<r.length;D++)for(let x=1;x<256&&!(_>=m);x<<=1)r[D]&x&&c.put(e.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield Wn(s)}))}kvsGet(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(_h);return Wn(r.get(n))})()}kvsSet(n){var e=this;return(0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(_h);for(const i of Object.keys(n))r.put(n[i],i);yield Wn(o)})()}kvsLoad(){var n=this;return(0,Me.Z)(function*(){const[e]=yield n.prepareObjectStore(_h);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new lu(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(_h);r.delete(n),yield Wn(o)})()}acquireLock(n){var e=this;return(0,Me.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Wn(n.objectStore(Ud).get(0)))!==hM)throw n.abort(),n.db.close(),av})()}newTransaction(...n){var e=this;return(0,Me.Z)(function*(){const r=(yield e.db).transaction([Ud,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(xa);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(xa).delete(e)}loadState(n,e){return Wn(n.objectStore(xa).get(e))}deleteMemory(n,e){const r=n.objectStore(al),o=n.objectStore(ll);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,Me.Z)(function*(){const e=n.transaction(Ud,"readwrite");yield Wn(e.objectStore(Ud).put(hM,0))})()}setupDb(){var n=this;return(0,Me.Z)(function*(){const e=setTimeout(()=>Zs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw pM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new lu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,Me.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function gH(t){t.createObjectStore(vh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function yH(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(J_)&&t.deleteObjectStore(J_),n.objectStore(vh).clear(),t.createObjectStore("rom"),t.createObjectStore(J_),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function _H(t,n){return ev.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function vH(t,n){return tv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function bH(t,n){return nv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function wH(t,n){return rv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function CH(t,n){return ov.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function SH(t,n){return iv.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,Me.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}Nn.\u0275fac=function(n){return new(n||Nn)(be(dt),be(Kl),be(su))},Nn.\u0275prov=bt({token:Nn,factory:Nn.\u0275fac,providedIn:"root"}),ue([Jr()],Nn.prototype,"addSession",null),ue([Jr()],Nn.prototype,"getAllSessions",null),ue([Jr()],Nn.prototype,"getSession",null),ue([Jr()],Nn.prototype,"deleteSession",null),ue([Jr()],Nn.prototype,"updateSessionPartial",null),ue([Jr()],Nn.prototype,"updateSession",null),ue([Jr()],Nn.prototype,"loadSession",null),ue([Jr()],Nn.prototype,"deleteStateForSession",null),ue([Jr()],Nn.prototype,"addEmptyStorageCard",null),ue([Jr()],Nn.prototype,"importStorageCard",null),ue([Jr()],Nn.prototype,"getAllStorageCards",null),ue([Jr()],Nn.prototype,"getCard",null),ue([Jr()],Nn.prototype,"updateStorageCardPartial",null),ue([Jr()],Nn.prototype,"deleteStorageCard",null),ue([Jr()],Nn.prototype,"loadCardData",null),ue([Jr()],Nn.prototype,"kvsGet",null),ue([Jr()],Nn.prototype,"kvsSet",null),ue([Jr()],Nn.prototype,"kvsDelete",null),ue([Jr()],Nn.prototype,"newTransaction",null),ue([Jr()],Nn.prototype,"prepareObjectStore",null),ue([Jr()],Nn.prototype,"initializeLock",null),ue([Jr()],Nn.prototype,"setupDb",null);const mM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Ni=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,Me.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new Po.j,this.mutex=new Ys,this.storageMutex=new Ys,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,Me.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,Me.Z)(function*(){const r=e;try{const o={...mM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...mM}}})()}}return t.\u0275fac=function(e){return new(e||t)(be(Nn))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,Me.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Zs||nM)&&this.installationMode===ol.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return Zs&&tM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Zs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Zs&&tM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Zs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ol.pwa:document.referrer.startsWith("android-app://")?ol.twa:window.matchMedia("(display-mode: standalone)").matches?ol.pwa:ol.web}}return t.\u0275fac=function(e){return new(e||t)(be(Ni),be(Pr))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NH(t,n){1&t&&(de(0,"div",6),ft(1,"ion-spinner"),oe())}let Gd=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(S(Ss))},t.\u0275cmp=C({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.modalController.dismiss()}),tt(6,"Close"),oe()()()(),de(7,"ion-content",3),Kt(8,NH,2,0,"div",4),de(9,"markdown",5),ct("load",function(){return r.loading=!1}),oe()()),2&e&&(rt(3),zi(r.title),rt(5),ot("ngIf",r.loading),rt(1),ot("src",r.url))},dependencies:[Ao,K_,Zi,Yi,Ki,Xi,Od,Ji,Qi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Xl="1.7.9-2ab36fe (preview)";var wh=F(9897);let zd=null;const Ch=(t=t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const D=n.get(m);if("number"==typeof D){const x=r.get(D);if(void 0===x||x.timerId!==m||x.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof D<"u"))throw new Error("The timer is in an undefined state.");D()}}else if("timeout"===_){const D=e.get(m);if("number"==typeof D){const x=r.get(D);if(void 0===x||x.timerId!==m||x.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof D<"u"))throw new Error("The timer is in an undefined state.");D(),e.delete(m)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:D,timerType:x}=_;r.delete(m),"interval"===x?n.delete(D):e.delete(D)}}}),{clearInterval:f=>{const m=(0,wh.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),n.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,wh.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,wh.generateUniqueNumber)(n);return n.set(_,()=>{f(),"function"==typeof n.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,wh.generateUniqueNumber)(e);return e.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}},()=>{if(null!==zd)return zd;const e=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(e);return zd=t(r),zd.setTimeout(()=>URL.revokeObjectURL(r),0),zd});var t,cl=(()=>(function(t){t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout"}(cl||(cl={})),cl))();class _M{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return cl.animationFrame}}class UH{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>Ch().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){void 0!==this.handle&&((t=>{Ch().clearTimeout(t)})(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return cl.timeout}}const GH=[135,135,105],zH=[0,0,0],ul=new Array(16).fill(0).map((t,n)=>zH.map((e,r)=>Math.floor((n*e+(15-n)*GH[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),lv=ul.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var fe=(()=>(function(t){t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70"}(fe||(fe={})),fe))(),dl=(()=>(function(t){t.sdcard="sdcard",t.memorystick="memorystick",t.none="none"}(dl||(dl={})),dl))();function Wd(t){switch(t){case fe.i710:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case fe.handera330:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case fe.pegS300:case fe.pegS320:case fe.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case fe.pegT600c:case fe.pegT400:case fe.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case fe.pegN600c:case fe.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case fe.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function cv(t){switch(t){case fe.pilot:case fe.palmPilot:case fe.iii:case fe.palmV:case fe.palmVx:case fe.iiix:case fe.iiixe:case fe.iiie:case fe.m100:case fe.m105:case fe.m125:case fe.m500:case fe.palmVII:case fe.palmVIIEZ:case fe.palmVIIx:case fe.i705:case fe.handera330:case fe.pegS300:case fe.pegS320:case fe.pegT400:return!1;default:return!0}}function vM(t){switch(t){case fe.pilot:return"Pilot";case fe.palmPilot:return"Palm Pilot";case fe.iii:return"Palm III";case fe.m500:return"Palm m500";case fe.m505:return"Palm m505";case fe.m515:return"Palm m515";case fe.palmVx:return"Palm Vx";case fe.iiix:return"Palm IIIx";case fe.iiixe:return"Palm IIIxe";case fe.iiie:return"Palm IIIe";case fe.palmV:return"Palm V";case fe.palmVII:return"Palm VII";case fe.palmVIIEZ:return"Palm VII EZ";case fe.palmVIIx:return"Palm VIIx";case fe.iiic:return"Palm IIIc";case fe.m100:return"Palm m100";case fe.m105:return"Palm m105";case fe.m125:return"Palm m125";case fe.m130:return"Palm m130";case fe.i705:return"Palm i705";case fe.i710:return"Tungsten W";case fe.handera330:return"Handera 330";case fe.pegS300:return"Sony PEG-S300";case fe.pegS320:return"Sony PEG-S320";case fe.pegT400:return"Sony PEG-T400 series";case fe.pegN600c:return"Sony PEG-N600C series";case fe.pegT600c:return"Sony PEG-T600C series";case fe.pegN700c:return"Sony PEG-N700C series";case fe.pegT650c:return"Sony PEG-T650C series";case fe.pegNR70:return"Sony PEG-NR70 series";case fe.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function bM(t){switch(t){case fe.m500:case fe.m505:case fe.m515:case fe.m125:case fe.m130:case fe.i705:case fe.i710:case fe.handera330:return dl.sdcard;case fe.pegS300:case fe.pegS500c:case fe.pegS320:case fe.pegT400:case fe.pegN600c:case fe.pegT600c:case fe.pegN700c:case fe.pegT650c:case fe.pegNR70:return dl.memorystick;default:return dl.none}}class wM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class ZH{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const o6=new Error("transaction timeout"),SM=new Error("session does not match emulation");let qd=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.ngZone=s,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Me.Z)(function*(){try{yield a.triggerSnapshotUnguarded()}finally{a.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Po.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,Me.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,Me.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===SM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===av)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,Me.Z)(function*(){const r=e.db.transaction([al,ll,xa,Ks,es,Ud],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw SM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield Wn(r.objectStore(es).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let f=!1;const m=performance.now();let _=0,D=0,x=0;const te=setTimeout(()=>{f=!0;try{r.abort()}catch{}c(o6)},6e3);r.oncomplete=()=>{clearTimeout(te),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:x,timeBlocking:D-_,timeTotal:performance.now()-m})},r.onerror=()=>{clearTimeout(te),c(new Error(r.error?.message))};try{_=performance.now(),x=e.saveDirtyMemory(r),o&&(x+=e.saveDirtyStorage(o,r)),e.saveSession(r),D=performance.now()}catch(xe){throw f||(clearTimeout(te),r.abort()),xe}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(al),i=e.objectStore(ll),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let c=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const D=aM(a.subarray(256*r,256*(r+1)));"number"==typeof D?o.put(D,[this.sessionId,r]):(this.pages[r].set(D),o.put(this.pages[r],[this.sessionId,r])),c++}r++}else r+=8;return c}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Wr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,c=0;const f=r.objectStore(Ks),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let D=1;D<256&&!(s>=m);D<<=1){if(this.cardDirtyPages[_]&D){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const x=this.cardPagePool[a++];x.set(i.subarray(2048*s,2048*(s+1))),f.put(x,[e.id,s]),c++}s++}else s+=8;return 8*c}saveSession(e){const r=e.objectStore(xa);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(be(Nn),be(Ta),be(Kl),be(su),be(dt))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function i6(t,n){1&t&&(de(0,"p",11),tt(1," ERROR: URL must be served via HTTPS. "),oe())}function s6(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(qc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let a6=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(qc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(qc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Fp({url:new Ro("",s6)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Enter download URL"),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.continue()}),tt(6,"OK"),oe()(),de(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),oe()()()(),de(10,"ion-content",5)(11,"form",6),ct("keydown",function(i){return r.formKeyDown(i)}),de(12,"p"),tt(13," Please enter the URL from which to download: "),oe(),de(14,"ion-item",7)(15,"ion-label",8),tt(16,"URL"),oe(),ft(17,"ion-input",9),oe(),Kt(18,i6,2,0,"p",10),de(19,"p"),tt(20," Note that the remote server needs to support the CORS protocol. "),oe()()()),2&e&&(rt(5),ot("disabled",r.formGroup.invalid),rt(6),ot("formGroup",r.formGroup),rt(7),ot("ngIf",r.isMixedContent))},dependencies:[Ao,Zi,Yi,Ki,Xi,ql,ci,ds,Ji,Qi,Wl,$l,Nl,Ll,Ca,Ja],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function uv(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function EM(t){return`${uv(t.name)}.bin`}function DM(t,n){return`backup_${uv(t.name)}${n?"_with_rom":""}.zip`}function dv(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function IM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let l6=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Fp({username:new Ro(e?.username??""),password:new Ro(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(S(Ni))},t.\u0275cmp=C({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Authenticate"),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.saveAndContinue()}),tt(6,"OK"),oe()(),de(7,"ion-buttons",3)(8,"ion-button",2),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),oe()()()(),de(10,"ion-content",4)(11,"form",5),ct("keydown",function(i){return r.formKeyDown(i)}),de(12,"p"),tt(13," The server requires authentication. "),oe(),de(14,"ion-item",6)(15,"ion-label",7),tt(16,"Username"),oe(),ft(17,"ion-input",8),oe(),de(18,"ion-item",6)(19,"ion-label",7),tt(20,"Password"),oe(),ft(21,"ion-input",9),oe()()()),2&e&&(rt(11),ot("formGroup",r.formGroup))},dependencies:[Zi,Yi,Ki,Xi,ql,ci,ds,Ji,Qi,Wl,$l,Nl,Ll,Ca,Ja],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),MM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,Me.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(qc())("string"==typeof e?e:e.url);let c,f,m=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),f=window.setTimeout(()=>c.present(),i));const _=o.kvsService.kvs.credentials[a.origin],D=new AbortController,x=window.setTimeout(()=>D.abort(),s),te=yield fetch(e,{...o.requestInit(r),signal:D.signal,headers:{...r?.headers||{},...m&&_?{Authorization:"Basic "+btoa(`${_.username}:${_.password}`)}:{}}});if(clearTimeout(x),401===te.status){if(!m&&_){m=!0;continue}if(c&&(c.dismiss(),clearTimeout(f),i=0,c=void 0),m=!0,yield o.authenticate(a.origin))continue}return te}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,Me.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:l6,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(be(Zl),be(Ni),be(Ss))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u6=F(3272),d6=F.n(u6);function fv(t){const n=(t>>>13)+(t%8192>0?1:0);return(n>>>3)+(n%8>0?1:0)}const kM=[fe.palmPilot,fe.pilot,fe.iii,fe.palmVx,fe.palmV,fe.palmVII,fe.palmVIIEZ,fe.palmVIIx,fe.iiixe,fe.iiix,fe.iiie,fe.m500,fe.m505,fe.m515,fe.iiic,fe.m100,fe.m105,fe.m125,fe.m130,fe.i705,fe.i710,fe.handera330,fe.pegS300,fe.pegS320,fe.pegS500c,fe.pegT400,fe.pegN600c,fe.pegT600c,fe.pegN700c,fe.pegT650c,fe.pegNR70];function Gt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Ht{constructor(n){this.module=n,this.fatalErrorEvent=new Po.j,this.pwmUpdateEvent=new Po.j,this.proxyDisconnectEvent=new Po.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,Me.Z)(function*(){return new Ht(yield d6()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:kM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,Me.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,Me.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const m=(new TextEncoder).encode(JSON.stringify(n.metadata));c=m.length,a=this.copyIn(m)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!kM.includes(c))return void console.warn(`unsupported device ${c}`);let f;const m=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=fv(this.cloudpilot.GetCardSize(n));return this.module.HEAPU8.subarray(e,e+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}ue([Gt()],Ht.prototype,"getRomInfo",null),ue([Gt()],Ht.prototype,"initializeSession",null),ue([Gt()],Ht.prototype,"cyclesPerSecond",null),ue([Gt()],Ht.prototype,"runEmulation",null),ue([Gt()],Ht.prototype,"getFrame",null),ue([Gt()],Ht.prototype,"isScreenDirty",null),ue([Gt()],Ht.prototype,"markScreenClean",null),ue([Gt()],Ht.prototype,"minRamForDevice",null),ue([Gt()],Ht.prototype,"framebufferSizeForDevice",null),ue([Gt()],Ht.prototype,"totalMemorySizeForDevice",null),ue([Gt()],Ht.prototype,"queuePenMove",null),ue([Gt()],Ht.prototype,"queuePenUp",null),ue([Gt()],Ht.prototype,"queueButtonDown",null),ue([Gt()],Ht.prototype,"queueButtonUp",null),ue([Gt()],Ht.prototype,"queueKeyboardEvent",null),ue([Gt()],Ht.prototype,"isPowerOff",null),ue([Gt()],Ht.prototype,"isUiInitialized",null),ue([Gt()],Ht.prototype,"isSetupComplete",null),ue([Gt()],Ht.prototype,"getOSVersion",null),ue([Gt()],Ht.prototype,"reset",null),ue([Gt()],Ht.prototype,"resetNoExtensions",null),ue([Gt()],Ht.prototype,"resetHard",null),ue([Gt()],Ht.prototype,"installDb",null),ue([Gt()],Ht.prototype,"getPalette2bitMapping",null),ue([Gt()],Ht.prototype,"getMemory",null),ue([Gt()],Ht.prototype,"getMemory32",null),ue([Gt()],Ht.prototype,"getDirtyPages",null),ue([Gt()],Ht.prototype,"loadMemory",null),ue([Gt()],Ht.prototype,"getRomImage",null),ue([Gt()],Ht.prototype,"getSavestate",null),ue([Gt()],Ht.prototype,"saveState",null),ue([Gt()],Ht.prototype,"loadState",null),ue([Gt()],Ht.prototype,"getHotsyncName",null),ue([Gt()],Ht.prototype,"setClockFactor",null),ue([Gt()],Ht.prototype,"setHotsyncName",null),ue([Gt()],Ht.prototype,"setClipboardIntegration",null),ue([Gt()],Ht.prototype,"getClipboardIntegration",null),ue([Gt()],Ht.prototype,"isSuspended",null),ue([Gt()],Ht.prototype,"getSuspendKind",null),ue([Gt()],Ht.prototype,"cancelSuspend",null),ue([Gt()],Ht.prototype,"getSuspendContextClipboardCopy",null),ue([Gt()],Ht.prototype,"getSuspendContextClipboardPaste",null),ue([Gt()],Ht.prototype,"setNetworkRedirection",null),ue([Gt()],Ht.prototype,"getNetworkRedirection",null),ue([Gt()],Ht.prototype,"getSuspendContextNetworkConnect",null),ue([Gt()],Ht.prototype,"getSuspendContextNetworkRpc",null),ue([Gt()],Ht.prototype,"copyBuffer",null),ue([Gt()],Ht.prototype,"freeBuffer",null),ue([Gt()],Ht.prototype,"setHotsyncNameManagement",null),ue([Gt()],Ht.prototype,"resolveBuffer",null),ue([Gt()],Ht.prototype,"serializeSessionImage",null),ue([Gt()],Ht.prototype,"deserializeSessionImage",null),ue([Gt()],Ht.prototype,"launchAppByName",null),ue([Gt()],Ht.prototype,"launchAppByDbHeader",null),ue([Gt()],Ht.prototype,"deviceSupportsCardSize",null),ue([Gt()],Ht.prototype,"clearExternalStorage",null),ue([Gt()],Ht.prototype,"allocateCard",null),ue([Gt()],Ht.prototype,"getCardData",null),ue([Gt()],Ht.prototype,"getCardDirtyPages",null),ue([Gt()],Ht.prototype,"getMountedKey",null),ue([Gt()],Ht.prototype,"mountCard",null),ue([Gt()],Ht.prototype,"removeCard",null),ue([Gt()],Ht.prototype,"remountCards",null),ue([Gt()],Ht.prototype,"getCardSupportLevel",null);let Xs=(()=>{class t{constructor(){this.cloudpilot=Ht.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cu=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}saveSession(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:IM(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);f?r.saveFile(EM(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const m={deviceId:e.device,metadata:IM(e),rom:s,memory:a,savestate:c},_=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(m);_&&o.saveFile(EM(e),_)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,Me.Z)(function*(){let i;try{i=new(qc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,Me.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)},{text:"Cancel"}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,Me.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:a6,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,Me.Z)(function*(i){const s=i.target;if(!s?.files?.length)return[];const a=[];for(let c=0;c<s.files?.length;c++){const f=s.files.item(c);if(!f)continue;const m=new Promise((_,D)=>{const x=new FileReader;x.onload=()=>_({content:new Uint8Array(x.result),name:f.name}),x.onerror=()=>D(x.error),x.readAsArrayBuffer(f)});a.push(m)}r(yield Promise.all(a))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}}return t.\u0275fac=function(e){return new(e||t)(be(Nn),be(Zl),be(Vd),be(Ni),be(Ss),be(Pr),be(MM),be(Xs))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pv=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Po.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(be(dt))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Sh=new Error("permission denied");let TM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,Me.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===Sh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,Me.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?Sh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,Me.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,Me.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,Me.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===Sh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,Me.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?Sh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,Me.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,Me.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,Me.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,Me.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(be(ru),be(Pr))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const p6="https:"===window.location.protocol?8667:8666,h6=/^[\da-z\-\.]+$/i,m6=/^[\da-z\-\.]+:\d+$/i;function hv(t){if(!t)return;const n=window.location.protocol;if(t.match(h6))return`${n}//${t}:${p6}`;if(t.match(m6))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function g6(t){return void 0!==hv(t.value)?null:{proxyAddress:"invalid"}}let mv=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,Me.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=hv(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=sv(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Po.j,this.mutex=new Ys,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,Me.Z)(function*(){const i=hv(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(be(Ni),be(Pr),be(dt),be(MM))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b6=F(9084),RM=F.n(b6);function gv(){return gv=(0,Me.Z)(function*(t){const n=yield yv.create();if(n.mkfs(t))return n.getImage()}),gv.apply(this,arguments)}const FM="fstools_web.wasm",OM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(FM)):fetch(FM).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class yv{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,Me.Z)(function*(){return new yv(yield RM()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,Me.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield OM,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class Eh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,Me.Z)(function*(){const e=yield RM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,Me.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield OM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Eh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=fv(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(n,n+e)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var br=(()=>(function(t){t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable"}(br||(br={})),br))(),pr=(()=>(function(t){t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180"}(pr||(pr={})),pr))();let Zd=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Ys,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,Me.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:pr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,Me.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:pr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,Me.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,Me.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,Me.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,Me.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(be(Xs),be(Nn),be(Zl))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C6=F(7971),S6=F.n(C6);function E6(t){return{readonly:0!=(1&t),hidden:0!=(2&t),system:0!=(4&t)}}class _v{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,Me.Z)(function*(){return new _v(yield S6()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}allocateImage(n){this.vfsNative.AllocateImage(n>>>9)}mountImage(n){return this.vfsNative.MountImage(n)}unmountImage(n){this.vfsNative.UnmountImage(n)}getPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}getImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}getDirtyPagesForSlot(n){const e=this.module.getPointer(this.vfsNative.GetDirtyPages(n));if(0===e)return;const r=fv(this.vfsNative.GetSize(n));return this.module.HEAPU8.subarray(e,e+r)}readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntry(),i=o.GetName(),s=o.GetModifiedTS();r.push({path:`${n.replace(/\/*$/,"")}/${i}`,name:i,size:o.GetSize(),lastModifiedTS:s,lastModifiedLocalDate:new Date(1e3*s).toLocaleDateString(),isDirectory:o.IsDirectory(),attributes:E6(o.GetAttributes())}),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}rename(n,e){return this.vfsNative.RenameFile(n,e)}chmod(n,e){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(e.hidden,2),i(e.readonly,1),i(e.system,4),this.vfsNative.ChmodFile(n,r,o)}}let vv=(()=>{class t{constructor(e,r){this.storageService=e,this.storageCardContext=r,this.onReleaseCard=new Po.j,this.vfs=_v.create(),this.directoryCache=new Map}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}mountCardUnchecked(e,r,o){var i=this;return(0,Me.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.storageCardContext.claim(e,Wr.vfs),i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&(yield i.releaseCard(i.mountedCard.id));const a=yield i.vfs;a.allocateImage(s.size);const c=a.getPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,Wr.vfs),!!a.mountImage(0)&&(i.mountedCard=s,!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,Me.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).unmountImage(0),r.mountedCard=void 0,r.storageCardContext.release(e,Wr.vfs),r.onReleaseCard.dispatch(e))})()}readdir(e){var r=this;return(0,Me.Z)(function*(){const o=r.normalizePath(e);if(!r.directoryCache.has(o)){const i=(yield r.vfs).readdir(e);0===i.error&&r.directoryCache.set(o,i.entries)}return r.directoryCache.get(o)})()}currentCard(){return this.mountedCard}}return t.\u0275fac=function(e){return new(e||t)(be(Nn),be(su))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var eo=(()=>(function(t){t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128"}(eo||(eo={})),eo))();function NM(){return sv().replace(/-/g,"")}let uu=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,D){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=f,this.fileService=m,this.vfsService=_,this.storageCardContext=D,this.loading=!0,this.cards=[],this.updateMutex=new Ys,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,Me.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function w6(t){return gv.apply(this,arguments)}(function D6(t){switch(t){case eo.mb4:return 4;case eo.mb8:return 8;case eo.mb16:return 16;case eo.mb32:return 32;case eo.mb64:return 64;case eo.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:NM(),name:e,size:4*a.length,status:br.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromFile(e,r,o){var i=this;return(0,Me.Z)(function*(){const s={storageId:NM(),name:e,size:r.content.length,status:br.clean,dontFsckAutomatically:o},a=new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[f,m]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(m,f)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Wr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,Wr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,Wr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:br.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,Wr.cloudpilot)})()}checkCard(e){var r=this;return(0,Me.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,Wr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,Me.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=br.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,Me.Z)(function*(){yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e)})()}saveCard(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a;try{yield s.present();const c=o.mountedInSession(e);c&&c.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),a=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId)),a||(a=new Uint32Array(i.size>>>2),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e)))}finally{s.dismiss()}o.fileService.saveFile(r,new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var r=this;return(0,Me.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,Me.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,Me.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,Me.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,Me.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===br.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,Wr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case br.clean:break;case br.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case br.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case br.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,Wr.fstools);const s=yield Eh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),Wr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:br.clean}),r.storageCardContext.release(e,Wr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:br.unformatted}),r.storageCardContext.release(e,Wr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:br.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:br.unfixable}),r.storageCardContext.release(e,Wr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,Me.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),Wr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:br.clean}),o.storageCardContext.release(e,Wr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield Eh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:br.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:br.clean}]:[e,{...r,status:br.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:br.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:br.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,Me.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:br.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,Me.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:br.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,Me.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(be(Zd),be(Nn),be(Ta),be(Xs),be(Zl),be(qd),be(Pr),be(Kl),be(cu),be(vv),be(su))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qs=(()=>{class t extends class t6{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new Po.j,this.pwmUpdateEvent=new Po.j,this.emulationStateChangeEvent=new Po.j,this.powerOffChangeEvent=new Po.j,this.deviceId=fe.m515,this.clockEmulator=0,this.scheduler=new _M(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new ZH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new wM(20),this.timePerFrameAverage=new wM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=Wd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=Wd(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===cl.animationFrame?new _M(n=>this.onSchedule(n)):new UH(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=Wd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=cv(n)?"white":lv[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=ul[15],i=ul[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ul[15&o],ul[o>>>4&15],ul[o>>>8&15],ul[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=ul[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,f,m,_,D,x,te,xe,Xe,Ge,gt,nt){var pt;super(),pt=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=f,this.modalWatcher=m,this.clipboardService=_,this.kvsService=D,this.proxyService=x,this.buttonService=te,this.bootstrapService=xe,this.cloudpilotService=Xe,this.storageCardService=Ge,this.storageCardContext=gt,this.app=nt,this.switchSession=ln=>this.mutex.runExclusive((0,Me.Z)(function*(){if(ln===pt.emulationState.getCurrentSession()?.id)return;yield pt.stopUnchecked(),yield pt.bootstrapService.hasRendered();const ko=yield pt.loadingController.create({message:"Loading..."});yield ko.present();try{const ts=yield pt.storageService.getSession(ln);if(pt.emulationState.setCurrentSession(ts),!ts)throw new Error(`invalid session ${ln}`);const Jl=yield pt.cloudpilotService.cloudpilot;yield pt.restoreSession(ts,Jl),function aH(t){localStorage.setItem(yh,t+"")}(ln)}finally{yield ko.dismiss()}})),this.resume=()=>this.mutex.runExclusive((0,Me.Z)(function*(){!pt.emulationState.getCurrentSession()||pt.running||pt.errorService.hasFatalError()||!pt.cloudpilotInstance||(yield pt.kvsService.mutex.runExclusive(()=>pt.updateFeatures()),pt.doResume(),pt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Me.Z)(function*(){pt.doPause(),!pt.errorService.hasFatalError()&&pt.emulationState.getCurrentSession()&&(yield pt.snapshotService.waitForPendingSnapshot(),yield pt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([ln,ko])=>this.mutex.runExclusive((0,Me.Z)(function*(){ln===pt.emulationState.getCurrentSession()?.id&&(pt.emulationState.setCurrentSession(ko),pt.emulationState.getCurrentSession()||(iM(),pt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Me.Z)(function*(){const ln=pt.emulationState.getCurrentSession();ln&&pt.fileService.emergencySaveSession(ln,yield pt.cloudpilotService.cloudpilot)})),this.mutex=new Ys,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(ln=>{ln.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(ln),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Xt=function sH(){const t=localStorage.getItem(yh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Xt&&!BE()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Xt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?cl.timeout:cl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,Me.Z)(function*(){!e.emulationState.getCurrentSession()||(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,Me.Z)(function*(){try{yield r.switchSession(e)}catch{Zs&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,Me.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);if(r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!o.openSession(r,i,e.device,s,a))throw new Error("failed to open session");o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot)})()}}return t.\u0275fac=function(e){return new(e||t)(be(Nn),be(dt),be(Zl),be(Ta),be(qd),be(Kl),be(cu),be(Pr),be(pv),be(TM),be(Ni),be(mv),be(AM),be(PM),be(Xs),be(uu),be(su),be(Za))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fl=new yt($),T6={connector:()=>new W};function LM(t,n=T6){const{connector:e}=n;return $e((r,o)=>{const i=e();E(t(function k6(t){return new yt(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function $M(t,n){return n?e=>vd(n.pipe(qi(1),function P6(){return $e((t,n)=>{t.subscribe(ut(n,$))})}()),e.pipe($M(t))):zt((e,r)=>t(e,r).pipe(qi(1),d_(e)))}const Yd="Service workers are disabled or not supported by this browser";class Dh{constructor(n){if(this.serviceWorker=n,n){const r=yd(n,"controllerchange").pipe(lt(()=>n.controller)),i=vd(Vp(()=>vn(n.controller)),r);this.worker=i.pipe(Uo(m=>!!m)),this.registration=this.worker.pipe(Oi(()=>n.getRegistration()));const f=yd(n,"message").pipe(lt(m=>m.data)).pipe(Uo(m=>m&&m.type)).pipe(function A6(t){return t?n=>LM(t)(n):n=>function x6(t,n){const e=k(t)?t:()=>t;return k(n)?LM(n,{connector:e}):r=>new l_(r,e)}(new W)(n)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function F6(t){return Vp(()=>Xc(new Error(t)))}(Yd)}postMessage(n,e){return this.worker.pipe(qi(1),Go(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(Uo(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(qi(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(Uo(e=>e.nonce===n),qi(1),lt(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let O6=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new W,!e.isEnabled)return this.messages=fl,this.notificationClicks=fl,void(this.subscription=fl);this.messages=this.sw.eventsOfType("PUSH").pipe(lt(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(lt(o=>o.data)),this.pushManager=this.sw.registration.pipe(lt(o=>o.pushManager));const r=this.pushManager.pipe(Oi(o=>o.getSubscription()));this.subscription=Ko(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(Yd));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Oi(s=>s.subscribe(r)),qi(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(qi(1),Oi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Yd))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Dh))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})(),bv=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=fl,this.available=fl,this.activated=fl,void(this.unrecoverable=fl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Uo(r=>"VERSION_READY"===r.type),lt(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(be(Dh))},t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();class wv{}const BM=new an("NGSW_REGISTER_SCRIPT");function N6(t,n,e,r){return()=>{if(!_a(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[a,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=vn(null);break;case"registerWithDelay":i=VM(+c[0]||0);break;case"registerWhenStable":i=c[0]?Ko(HM(t),VM(+c[0])):HM(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(dt).runOutsideAngular(()=>i.pipe(qi(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function VM(t){return vn(null).pipe(function R6(t,n=BI){const e=VI(t,n);return $M(()=>e)}(t))}function HM(t){return t.get(Za).isStable.pipe(Uo(e=>e))}function L6(t,n){return new Dh(_a(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let $6=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:BM,useValue:e},{provide:wv,useValue:r},{provide:Dh,useFactory:L6,deps:[wv,Wc]},{provide:Pl,useFactory:N6,deps:[vr,BM,wv,Wc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({providers:[O6,bv]}),t})(),jM=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Me.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==Xl&&(yield a.kvsService.set({version:Xl,previousVersion:c,latestVersion:Xl}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Xl}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=Xl})),this.mutex=new Ys,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,Me.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,Me.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Xl){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:Gd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(be(Ni),be(Qs),be(Pr),be(Ss),be(bv))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),V6=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(S(gM),S(jM),S(PM))},t.\u0275cmp=C({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(de(0,"ion-app"),ft(1,"ion-router-outlet"),oe())},dependencies:[vI,$d]}),t})(),UM=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(de(0,"div"),tt(1,"Dummy"),oe())},encapsulation:2}),t})(),GM=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(be(Ay),be(zr))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Cv=fe.m515,H6=lv[2],j6=lv[0],du="rgba(0,0,0,0.2)";function zM(t){const n=Wd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function W6(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const X6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function Q6(t){const e=o=>function Z6(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,Me.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,Me.Z)(function*(){if(!i){const s=(yield t)[o];i=function Y6(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of X6)r[o]=e(o);return r}let Ih=(()=>{class t extends class q6{constructor(n){this.skin=n,this.layout=zM(Cv),this.onResize=new Po.j}get width(){switch(this.getOrientation()){case pr.portrait:case pr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case pr.portrait:case pr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case pr.landscape90:{const _=f;f=this.layout.height.frameDevice-c,c=_;break}case pr.landscape270:{const _=f;f=c,c=this.layout.width.frameDevice-_;break}case pr.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[c,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,Me.Z)(function*(){if(!n)return;e.layout=zM(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,Me.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,du),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,du))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case pr.portrait:case void 0:break;case pr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case pr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case pr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,Me.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,H6),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case fe.pegT600c:case fe.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case fe.pegN700c:case fe.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case fe.pegS320:case fe.pegS300:return this.skin.SILKSCREEN_PEG_S300;case fe.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case fe.pegT400:return this.skin.SILKSCREEN_PEG_T415;case fe.palmPilot:case fe.pilot:case fe.iii:case fe.palmVII:return this.skin.SILKSCREEN_PILOT;case fe.m500:return this.skin.SILKSCREEN_M500;case fe.m505:case fe.m515:return this.skin.SILKSCREEN_M515;case fe.iiic:return this.skin.SILKSCREEN_IIIC;case fe.m100:case fe.m105:case fe.m125:return this.skin.SILKSCREEN_M100;case fe.m130:return this.skin.SILKSCREEN_M130;case fe.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case fe.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case fe.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case fe.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case fe.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case fe.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case fe.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case fe.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case fe.pegT400:case fe.pegT600c:case fe.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case fe.pilot:case fe.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case fe.m500:return this.skin.HARD_BUTTONS_M500;case fe.m505:case fe.m515:return this.skin.HARD_BUTTONS_M515;case fe.iiic:return this.skin.HARD_BUTTONS_IIIC;case fe.m100:case fe.m105:return this.skin.HARD_BUTTONS_M100;case fe.m125:return this.skin.HARD_BUTTONS_M125;case fe.m130:return this.skin.HARD_BUTTONS_M130;case fe.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case fe.iii:case fe.iiix:case fe.iiixe:case fe.palmVII:case fe.palmVIIEZ:case fe.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case fe.iiie:return this.skin.HARD_BUTTONS_IIIE;case fe.i705:return this.skin.HARD_BUTTONS_I705;case fe.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return cv(this.getDeviceId())?"white":j6}frameColor(){return cv(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(Q6(F.e(4907).then(F.bind(F,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,Me.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,Me.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,Me.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Cv}getOrientation(){return this.session?.deviceOrientation??pr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function J6(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Wd(this.session?.device??Cv).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sv=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(S(zr),S(Ih),S(Ta))},t.\u0275cmp=C({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(de(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ft(4,"ion-icon",3),de(5,"ion-label"),tt(6,"Emulator"),oe()(),de(7,"ion-tab-button",4),ft(8,"ion-icon",5),de(9,"ion-label"),tt(10,"Sessions"),oe()(),de(11,"ion-tab-button",6),ft(12,"ion-icon",7),de(13,"ion-label"),tt(14,"Cards"),oe()(),de(15,"ion-tab-button",8),ft(16,"ion-icon",9),de(17,"ion-label"),tt(18,"Settings"),oe()(),de(19,"ion-tab-button",10),ft(20,"ion-icon",11),de(21,"ion-label"),tt(22,"About"),oe()()()()()),2&e&&(rt(2),ca("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[Wo,ds,H_,CI,RI],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Kd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs,X_.forChild(),rl,Vl,Bp]}),t})(),ej=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs,Vl,rl,Kd,X_.forChild()]}),t})(),tj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs,Vl,rl,Kd]}),t})(),nj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs,Vl,rl,Bp,Kd]}),t})(),rj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs,Vl,rl,Kd,Bp]}),t})(),oj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[zs,rl,Vl,Bp,Kd]}),t})();function ij(t,n){if(1&t){const e=fr();de(0,"ion-button",1),ct("click",function(){return Yt(e),Et(Nt().onClick())}),ft(1,"ion-icon",2),oe()}if(2&t){const e=Nt();rt(1),ot("name",e.iconName)}}let Mh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Zs?"logo-apple-appstore":nM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(S(gM))},t.\u0275cmp=C({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&Kt(0,ij,2,1,"ion-button",0),2&e&&ot("ngIf",r.show)},dependencies:[Ao,Zi,Wo]}),t})();function sj(t,n){1&t&&(de(0,"div",11),ft(1,"ion-spinner"),oe())}function aj(t,n){1&t&&(de(0,"div"),tt(1,"app cached for offline use"),oe())}let lj=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return Xl}showChangelog(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:Gd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(S(Ss),S(bv))},t.\u0275cmp=C({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"About"),oe(),de(4,"ion-buttons",1),ft(5,"app-pwa-prompt"),oe()()(),de(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),tt(10,"About"),oe()()(),Kt(11,sj,2,0,"div",4),de(12,"div",5)(13,"markdown",6),ct("load",function(){return r.loading=!1}),oe()(),de(14,"div",7),tt(15),ft(16,"br"),de(17,"a",8),ct("click",function(){return r.showChangelog()}),tt(18,"Changelog"),oe(),Kt(19,aj,2,0,"div",9),oe(),ft(20,"img",10),oe()),2&e&&(ot("translucent",!0),rt(11),ot("ngIf",r.loading),rt(4),xi(" CloudpilotEmu version ",r.version," "),rt(4),ot("ngIf",r.serviceWorkerAvailable))},dependencies:[Ao,Yi,Ki,Xi,Od,Ji,Qi,Mh,K_],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function cj(t,n){if(1&t&&(de(0,"ion-select-option",17),tt(1),oe()),2&t){const e=n.$implicit;ot("value",e[0]),rt(1),xi("",e[1]," ")}}function uj(t,n){if(1&t&&(de(0,"ion-select-option",17),tt(1),oe()),2&t){const e=n.$implicit;ot("value",e[0]),rt(1),xi("",e[1]," ")}}function dj(t,n){if(1&t&&(de(0,"ion-item",7)(1,"ion-label",8),tt(2,"Hotsync name"),oe(),ft(3,"ion-input",18),oe()),2&t){const e=Nt();rt(3),ot("placeholder",e.placeholder)}}let WM=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[pr.portrait,"Portrait"],[pr.landscape90,"Landscape 90\xb0"],[pr.landscape270,"Landscape 270\xb0"],[pr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,vM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function WH(t){switch(t){case fe.palmPilot:case fe.pilot:case fe.iii:case fe.palmVII:case fe.palmVx:case fe.palmV:case fe.palmVIIEZ:case fe.palmVIIx:case fe.iiic:case fe.iiix:case fe.iiixe:case fe.iiie:case fe.m100:case fe.m105:case fe.pegS300:case fe.pegS500c:return 16;case fe.m500:case fe.m505:case fe.m515:case fe.m125:case fe.m130:case fe.i705:case fe.i710:case fe.handera330:case fe.pegS320:case fe.pegT400:case fe.pegN600c:case fe.pegT600c:case fe.pegN700c:return 33;case fe.pegT650c:case fe.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Fp({name:new Ro(this.session.name,{validators:[Hy.required,this.validateNameUnique]}),manageHotsyncName:new Ro(!this.session.dontManageHotsyncName),hotsyncName:new Ro(this.session.hotsyncName||""),device:new Ro({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Ro((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Ro(this.session.deviceOrientation||pr.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(S(Zd),S(Pr))},t.\u0275cmp=C({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Session settings"),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.save()}),tt(6,"Save"),oe()(),de(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),oe()()()(),de(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),de(12,"h1"),tt(13,"Session"),oe(),de(14,"ion-item",7)(15,"ion-label",8),tt(16,"Session name"),oe(),ft(17,"ion-input",9),oe(),de(18,"h1"),tt(19,"Device"),oe(),de(20,"ion-item",7)(21,"ion-label",8),tt(22,"Device type"),oe(),de(23,"ion-select",10),Kt(24,cj,2,2,"ion-select-option",11),oe()(),de(25,"ion-item",7)(26,"ion-label",8),tt(27,"Orientation"),oe(),de(28,"ion-select",12),Kt(29,uj,2,2,"ion-select-option",11),oe()(),de(30,"ion-item",7)(31,"ion-label",13),tt(32),oe(),ft(33,"ion-range",14),oe(),de(34,"h1"),tt(35,"Hotsync"),oe(),de(36,"ion-item",7)(37,"ion-label"),tt(38,"Manage hotsync name"),oe(),ft(39,"ion-toggle",15),oe(),Kt(40,dj,4,1,"ion-item",16),oe()()),2&e&&(rt(5),ot("disabled",r.formGroup.invalid),rt(6),ot("formGroup",r.formGroup),rt(13),ot("ngForOf",r.deviceList),rt(5),ot("ngForOf",r.orientations),rt(3),zi(r.speedLabel),rt(8),ot("ngIf",r.showHotsyncNameInput))},dependencies:[Fl,Ao,Zi,Yi,Ki,Xi,ql,ci,ds,V_,uh,dh,Nd,Ji,Qi,Rd,Fd,Wl,$l,Nl,Ll,s_,Ca,Ja],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),fj=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,Me.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,Me.Z)(function*(m){for(m.Init(e);m.IsInProgress();){const _=m.GetCurrentDatabase();m.Save()||s.push(_),yield new Promise(D=>setTimeout(D,0))}a=c.getArchive(m)});return function(m){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${dv(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(DM(o,e),a)},"Cancel"):r.fileService.saveFile(DM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(be(Qs),be(Zl),be(qd),be(cu),be(Ta),be(Pr),be(Xs))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pj=window.AudioContext||window.webkitAudioContext;function Ev(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let Dv=(()=>{class t extends class hj{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,Me.Z)(function*(){if(!e.initialized){try{e.context=new pj}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,Me.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield Ev(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Ev(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,Me.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ys,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Zs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Zs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,Me.Z)(function*(){!n.context||(yield Ev(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(be(Qs),be(Ni),be(pv))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZM=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(be(Qs),be(dt))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gj(t,n){if(1&t){const e=fr();de(0,"ion-item",4),ct("click",function(){return Yt(e),Et(Nt().power())}),de(1,"ion-label"),tt(2,"Power"),oe(),ft(3,"ion-icon",5),oe()}if(2&t){const e=Nt();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function yj(t,n){if(1&t){const e=fr();de(0,"ion-item",4),ct("click",function(){return Yt(e),Et(Nt().hotsync())}),de(1,"ion-label"),tt(2,"Hotsync"),oe(),ft(3,"ion-icon",6),oe()}if(2&t){const e=Nt();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function _j(t,n){if(1&t){const e=fr();de(0,"ion-item",4),ct("click",function(){return Yt(e),Et(Nt().reset())}),de(1,"ion-label"),tt(2,"Reset"),oe(),ft(3,"ion-icon",7),oe()}if(2&t){const e=Nt();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function vj(t,n){if(1&t){const e=fr();de(0,"ion-item",8),ct("click",function(){return Yt(e),Et(Nt().insertCard())}),de(1,"ion-label"),tt(2),oe(),ft(3,"ion-icon",9),oe()}if(2&t){const e=Nt();ot("detail",!1),rt(2),xi("Insert ",e.hasMemorystick?"stick":"SD card","")}}function bj(t,n){if(1&t){const e=fr();de(0,"ion-item",8),ct("click",function(){return Yt(e),Et(Nt().ejectCard())}),de(1,"ion-label"),tt(2),oe(),ft(3,"ion-icon",10),oe()}if(2&t){const e=Nt();ot("detail",!1),rt(2),xi("Eject ",e.hasMemorystick?"stick":"SD card","")}}function wj(t,n){if(1&t){const e=fr();de(0,"ion-item",8),ct("click",function(){return Yt(e),Et(Nt().mute(!1))}),de(1,"ion-label"),tt(2,"Enable audio"),oe(),ft(3,"ion-icon",11),oe()}2&t&&ot("detail",!1)}function Cj(t,n){if(1&t){const e=fr();de(0,"ion-item",8),ct("click",function(){return Yt(e),Et(Nt().mute(!0))}),de(1,"ion-label"),tt(2,"Disable audio"),oe(),ft(3,"ion-icon",12),oe()}2&t&&ot("detail",!1)}function Sj(t,n){if(1&t){const e=fr();de(0,"ion-item",4),ct("click",function(){return Yt(e),Et(Nt().backup())}),de(1,"ion-label"),tt(2,"Save backup"),oe(),ft(3,"ion-icon",13),oe()}if(2&t){const e=Nt();ot("detail",!1)("disabled",e.backupDisabled)}}function Ej(t,n){if(1&t){const e=fr();de(0,"ion-item",8),ct("click",function(){return Yt(e),Et(Nt().rotate())}),de(1,"ion-label"),tt(2,"Rotate"),oe(),ft(3,"ion-icon",14),oe()}2&t&&ot("detail",!1)}function Dj(t,n){if(1&t){const e=fr();de(0,"ion-item",8),ct("click",function(){return Yt(e),Et(Nt().editSettings())}),de(1,"ion-label"),tt(2,"Settings"),oe(),ft(3,"ion-icon",15),oe()}2&t&&ot("detail",!1)}function Ij(t){switch(t){case pr.portrait:case void 0:return pr.landscape90;case pr.landscape90:return pr.portrait180;case pr.portrait180:return pr.landscape270;case pr.landscape270:return pr.portrait;default:throw new Error("cannot happen")}}let Mj=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,D,x,te,xe,Xe,Ge,gt,nt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=f,this.modalController=m,this.sessionService=_,this.performanceWatchdogService=D,this.canvasDisplayService=x,this.cloudpilotService=te,this.storageCardService=xe,this.alertService=Xe,this.alertController=Ge,this.storageService=gt,this.errorService=nt,this.showHelp=()=>{}}reset(){var e=this;return(0,Me.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,Me.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function qH(t){return[fe.i705,fe.i710,fe.pegNR70,fe.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&bM(e.device)!==dl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&bM(e.device)===dl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:WM,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,Me.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:Ij(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,Me.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,Me.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(S(Qs),S(Ta),S(fj),S(AM),S(Vd),S(Yl),S(Dv),S(Ni),S(Ss),S(Zd),S(ZM),S(Ih),S(Xs),S(uu),S(Pr),S(ru),S(Nn),S(Kl))},t.\u0275cmp=C({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline"],["name","volume-mute-outline"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list"),Kt(1,gj,4,2,"ion-item",0),Kt(2,yj,4,2,"ion-item",0),Kt(3,_j,4,2,"ion-item",0),Kt(4,vj,4,2,"ion-item",1),Kt(5,bj,4,2,"ion-item",1),Kt(6,wj,4,1,"ion-item",1),Kt(7,Cj,4,1,"ion-item",1),Kt(8,Sj,4,2,"ion-item",0),Kt(9,Ej,4,1,"ion-item",1),Kt(10,Dj,4,1,"ion-item",1),de(11,"ion-item",2),ct("click",function(){return r.help()}),de(12,"ion-label"),tt(13,"Help"),oe(),ft(14,"ion-icon",3),oe()()),2&e&&(rt(1),ot("ngIf",r.hasActiveSession&&!r.powerDisabled),rt(1),ot("ngIf",r.hasActiveSession),rt(1),ot("ngIf",r.hasActiveSession),rt(1),ot("ngIf",r.supportsStorageCard&&!r.hasMountedCard),rt(1),ot("ngIf",r.supportsStorageCard&&r.hasMountedCard),rt(1),ot("ngIf",r.isMuted&&!r.isAudioOff),rt(1),ot("ngIf",!r.isMuted&&!r.isAudioOff),rt(1),ot("ngIf",r.hasActiveSession),rt(1),ot("ngIf",r.hasActiveSession),rt(1),ot("ngIf",r.hasActiveSession),rt(1),ot("detail",!1))},dependencies:[Ao,Wo,ci,ds,qs]}),t})(),Tj=(()=>{class t extends class kj{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(be(Qs),be(Ih),be(pv),be(dt),be(Za))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YM(t){return/\.(prc|pdb|pqa)$/i.test(t)}class Fj{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,Me.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else YM(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,Me.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function Rj(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,Me.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,Me.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!YM(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function Pj(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let Oj=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new Fj(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(m=>!!m).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${dv(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${dv(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(be(Xs),be(Qs),be(Zl),be(qd),be(Pr),be(ru))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nj=["canvas"];function Lj(t,n){if(1&t){const e=fr();de(0,"ion-button",5),ct("click",function(){return Yt(e),Et(Nt().navigation.lock())}),ft(1,"ion-icon",10),oe()}}function $j(t,n){if(1&t){const e=fr();de(0,"ion-button",5),ct("click",function(){return Yt(e),Et(Nt().navigation.unlock())}),ft(1,"ion-icon",11),oe()}}function Bj(t,n){if(1&t){const e=fr();de(0,"ion-button",5),ct("click",function(){return Yt(e),Et(Nt().showGameModeHint())}),ft(1,"ion-icon",12),oe()}}function Vj(t,n){if(1&t){const e=fr();de(0,"ion-button",5),ct("click",function(){return Yt(e),Et(Nt().showProxyConnectedHint())}),ft(1,"ion-icon",13),oe()}}function Hj(t,n){if(1&t){const e=fr();de(0,"ion-button",5),ct("click",function(){return Yt(e),Et(Nt().showSlowdowndHint())}),ft(1,"ion-icon",14),oe()}}function jj(t,n){if(1&t){const e=fr();de(0,"div",15),tt(1," The device was reset forcefully. How do you want to boot? "),de(2,"ion-button",16),ct("click",function(){return Yt(e),Et(Nt().bootAfterForcefulReset())}),tt(3,"Normal boot"),oe(),de(4,"ion-button",16),ct("click",function(){return Yt(e),Et(Nt().bootAfterForcefulResetNoExtensions())}),tt(5,"No extensions"),oe(),de(6,"ion-button",16),ct("click",function(){return Yt(e),Et(Nt().bootAfterForcefulResetHardReset())}),tt(7,"Hard reset"),oe()()}}function Uj(t,n){1&t&&(de(0,"div",15)(1,"div"),tt(2,"No session selected"),oe()())}let Gj=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,D,x,te,xe,Xe,Ge,gt){var nt=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=f,this.alertService=m,this.fileService=_,this.snapshotService=D,this.installlationService=x,this.proxyService=te,this.navigation=xe,this.linkApi=Xe,this.performanceWatchdogService=Ge,this.cloudpilotService=gt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Me.Z)(function*(){yield nt.emulationService.bootstrapComplete(),nt.boostrapComplete=!0;const pt=nt.emulationState.getCurrentSession();pt&&!pt.wasResetForcefully&&(yield nt.launchEmulator()),nt.linkApi.installation.requestEvent.addHandler(nt.handleLinkApiInstallationRequest),nt.handleLinkApiInstallationRequest()})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=pt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(pt,this.emulationService.getStatistics())},this.onNewFrame=pt=>{this.canvasDisplayService.updateEmulationCanvas(pt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const pt=this.linkApi.installation.receivePendingUrl();pt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${pt} ?`,{OK:()=>this.fileService.openUrl(pt,ln=>this.installlationService.installFiles([ln]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${pt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ys}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,Me.Z)(function*(){(yield r.popoverController.create({component:Mj,event:e,componentProps:{showHelp:()=>r.showHelp()},arrow:!1})).present()})()}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:Gd,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,Me.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,Me.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,Me.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,Me.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,Me.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,Me.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(S(Qs),S(Ta),S(Nn),S(Tj),S(Ih),S(Ni),S(Yl),S(Ss),S(Pr),S(cu),S(qd),S(Oj),S(mv),S(Sv),S(Ay),S(ZM),S(Xs))},t.\u0275cmp=C({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&jc(Nj,5),2&e){let o;Pi(o=Ri())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(de(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3),oe(),de(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return r.installFiles()}),ft(6,"ion-icon",2),oe(),Kt(7,Lj,2,0,"ion-button",3),Kt(8,$j,2,0,"ion-button",3),oe(),de(9,"ion-buttons",4)(10,"ion-button",5),ct("click",function(i){return r.openContextMenu(i)}),ft(11,"ion-icon",6),oe(),Kt(12,Bj,2,0,"ion-button",3),Kt(13,Vj,2,0,"ion-button",3),Kt(14,Hj,2,0,"ion-button",3),oe()()(),de(15,"ion-content")(16,"div",7),ct("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),ft(17,"canvas",null,8),oe(),Kt(19,jj,8,0,"div",9),Kt(20,Uj,3,0,"div",9),oe()),2&e){let o,i;rt(3),zi(r.title),rt(2),ot("disabled",r.installFileDisabled),rt(2),ot("ngIf",!r.navigation.isLocked()),rt(1),ot("ngIf",r.navigation.isLocked()),rt(4),ot("ngIf",r.eventHandlingService.isGameMode()),rt(1),ot("ngIf",r.proxyService.isConnected()),rt(1),ot("ngIf",r.performanceWatchdogService.isSlowdownDetected()),rt(1),ca("locked",r.navigation.isLocked()),rt(1),qu("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),rt(1),qu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),rt(2),ot("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),rt(1),ot("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[Ao,Zi,Yi,Ki,Xi,Wo,Ji,Qi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:var(--ion-color-light)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();var zj=F(5541),Wj=F.n(zj);function KM(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let qj=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),ft(2,"ion-icon",1),tt(3," Edit "),oe(),de(4,"ion-item",0),ct("click",function(){return r.onSave()}),ft(5,"ion-icon",2),tt(6," Save "),oe(),de(7,"ion-item",0),ct("click",function(){return r.onReset()}),ft(8,"ion-icon",3),tt(9," Reset "),oe(),de(10,"ion-item",4),ct("click",function(){return r.onDelete()}),ft(11,"ion-icon",5),tt(12," Delete "),oe()()),2&e&&(rt(1),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1))},dependencies:[Wo,ci,qs]}),t})();const Yj=["slidingItem"];function Kj(t,n){if(1&t&&(de(0,"span"),tt(1),oe()),2&t){const e=Nt();rt(1),xi(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let Xj=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new gn,this.resetSession=new gn,this.edit=new gn,this.save=new gn,this.selectItem=new gn,this.interaction=new gn}get device(){return this.session?vM(this.session.device):""}onContextmenu(e){var r=this;return(0,Me.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:qj,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(),onSave:()=>r.save.emit(),onDelete:()=>r.delete.emit(),onReset:()=>r.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const r=function Zj(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(S(Yl))},t.\u0275cmp=C({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&jc(Yj,5),2&e){let o;Pi(o=Ri())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=fr();de(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),de(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.edit.emit(r.session))}),ft(4,"ion-icon",4),oe(),de(5,"ion-item-option",5),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.save.emit(r.session))}),ft(6,"ion-icon",6),oe()(),de(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.resetSession.emit(r.session))}),ft(9,"ion-icon",9),oe(),de(10,"ion-item-option",10),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.delete.emit(r.session))}),ft(11,"ion-icon",11),oe()(),de(12,"ion-item",12),ct("click",function(){return r.selectItem.emit()}),de(13,"ion-label")(14,"h2"),tt(15),oe(),de(16,"p"),tt(17),Kt(18,Kj,2,1,"span",13),oe()()()()}2&e&&(rt(12),ot("color",r.color),rt(1),ca("in-item-color",r.selected),rt(2),zi(null==r.session?null:r.session.name),rt(2),Zf("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),rt(1),ot("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[Ao,Wo,ci,ah,lh,ch,ds],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function Qj(t,n){1&t&&(de(0,"div",10),ft(1,"ion-spinner"),oe())}function Jj(t,n){1&t&&(de(0,"div",11)(1,"div",12),tt(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ft(3,"br")(4,"br"),tt(5," You can find a collection of compatible ROMs on "),de(6,"a",13),tt(7,"PalmDB"),oe(),tt(8,". "),oe()())}function eU(t,n){if(1&t){const e=fr();de(0,"app-session-item",15),ct("delete",function(){const i=Yt(e).$implicit;return Et(Nt(2).deleteSession(i))})("selectItem",function(){const i=Yt(e).$implicit;return Et(Nt(2).launchSession(i))})("edit",function(){const i=Yt(e).$implicit;return Et(Nt(2).editSession(i))})("save",function(){const i=Yt(e).$implicit;return Et(Nt(2).saveSession(i))})("resetSession",function(){const i=Yt(e).$implicit;return Et(Nt(2).resetSession(i))})("interaction",function(){const i=Yt(e).$implicit;return Et(Nt(2).lastSessionTouched=i.id)}),oe()}if(2&t){const e=n.$implicit,r=Nt(2);ot("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function tU(t,n){if(1&t&&(de(0,"ion-list"),Kt(1,eU,1,3,"app-session-item",14),oe()),2&t){const e=Nt();rt(1),ot("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class Js{constructor(n,e,r,o,i,s,a,c,f,m,_){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const D=this.linkApi.import.receivePendingUrl();!D||this.alertService.message("Import request",`Do you want to import<br>${D} ?`,{OK:()=>this.fileService.openUrl(D,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest()}ionViewWillLeave(){this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,Me.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,Me.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!Wj()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,Me.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id,yield e.emulationService.switchSession(n.id),e.currentSessionOverride=void 0,e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,Me.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,Me.Z)(function*(){yield(yield n.modalController.create({component:Gd,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}processFile(n){var e=this;return(0,Me.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(n.content);if(r){const o={name:e.disambiguateSessionName(r.metadata?.name??n.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield e.editSettings(o)){const i=yield e.sessionService.addSessionFromImage(r,o.name,o);e.lastSessionTouched=i.id}}else{const o=(yield e.cloudpilotService.cloudpilot).getRomInfo(n.content);if(!o)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const i={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield e.editSettings(i,o.supportedDevices)){const s=yield e.sessionService.addSessionFromRom(n.content,i.name,i.device,i);e.lastSessionTouched=s.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:WM,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return KM(n,r=>e.some(o=>o.name===r))}}function nU(t,n){1&t&&(de(0,"ion-item",8)(1,"ion-label"),tt(2,"Clipboard integration"),oe(),ft(3,"ion-toggle",17),oe())}function rU(t,n){if(1&t){const e=fr();de(0,"ion-item",8)(1,"ion-label",18),tt(2,"Proxy server"),oe(),de(3,"div",19),ft(4,"ion-input",20),de(5,"ion-button",21),ct("click",function(o){Yt(e);const i=Nt();return o.preventDefault(),o.stopPropagation(),Et(i.testProxyConnection())})("touchstart",function(o){Yt(e);const i=Nt();return o.preventDefault(),o.stopPropagation(),Et(i.testProxyConnection())}),tt(6," Test "),oe()()()}if(2&t){const e=Nt();rt(5),ot("disabled",!e.proxyServerValid)}}Js.\u0275fac=function(n){return new(n||Js)(S(Zd),S(cu),S(ru),S(Pr),S(Qs),S(Ta),S(Nn),S(Ss),S(Ay),S(zr),S(Xs))},Js.\u0275cmp=C({type:Js,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(n,e){1&n&&(de(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3,"Sessions"),oe(),de(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return e.importSession()}),ft(6,"ion-icon",2),oe()(),de(7,"ion-buttons",3)(8,"ion-button",1),ct("click",function(){return e.showHelp()}),ft(9,"ion-icon",4),oe(),ft(10,"app-pwa-prompt"),oe()()(),de(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),tt(15,"Sessions"),oe()()(),Kt(16,Qj,2,0,"div",7),Kt(17,Jj,9,0,"div",8),Kt(18,tU,2,2,"ion-list",9),oe()),2&n&&(rt(16),ot("ngIf",e.sessionService.isLoading()),rt(1),ot("ngIf",!e.sessionService.isLoading()&&0===e.sessions.length),rt(1),ot("ngIf",!e.sessionService.isLoading()&&e.sessions.length>0))},dependencies:[Fl,Ao,Zi,Yi,Ki,Xi,Wo,qs,Od,Ji,Qi,Mh,Xj],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),ue([vi()],Js.prototype,"deleteSession",null),ue([vi()],Js.prototype,"editSession",null),ue([vi()],Js.prototype,"saveSession",null),ue([vi()],Js.prototype,"launchSession",null),ue([vi()],Js.prototype,"resetSession",null);let oU=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:Gd,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,Me.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,Me.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Fp({volume:new Ro(this.kvsService.kvs.volume),showStatistics:new Ro(this.kvsService.kvs.showStatistics),runHidden:new Ro(this.kvsService.kvs.runHidden),clipboardIntegration:new Ro(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Ro(this.kvsService.kvs.networkRedirection),proxyServer:new Ro(this.kvsService.kvs.proxyServer,{validators:[g6]}),autoLockUI:new Ro(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Ro(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Ro(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(S(Ss),S(Ni),S(TM),S(Pr),S(mv))},t.\u0275cmp=C({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Settings"),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.showHelp()}),ft(6,"ion-icon",3),oe(),ft(7,"app-pwa-prompt"),oe()()(),de(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),tt(12,"Settings"),oe()()(),de(13,"div",6)(14,"form",7)(15,"h1"),tt(16,"Emulation"),oe(),de(17,"ion-item",8)(18,"ion-label"),tt(19,"Volume"),oe(),ft(20,"ion-range",9),oe(),de(21,"ion-item",8)(22,"ion-label"),tt(23,"Enable audio on start"),oe(),ft(24,"ion-toggle",10),oe(),de(25,"ion-item",8)(26,"ion-label"),tt(27,"Run when hidden"),oe(),ft(28,"ion-toggle",11),oe(),de(29,"h1"),tt(30,"Host integration"),oe(),Kt(31,nU,4,0,"ion-item",12),de(32,"ion-item",8)(33,"ion-label"),tt(34,"Network redirection"),oe(),ft(35,"ion-toggle",13),oe(),Kt(36,rU,7,1,"ion-item",12),de(37,"h1"),tt(38,"UI"),oe(),de(39,"ion-item",8)(40,"ion-label"),tt(41,"Auto-lock UI"),oe(),ft(42,"ion-toggle",14),oe(),de(43,"ion-item",8)(44,"ion-label"),tt(45,"Show statistics"),oe(),ft(46,"ion-toggle",15),oe(),de(47,"ion-item",8)(48,"ion-label"),tt(49,"Open from remote sources"),oe(),ft(50,"ion-toggle",16),oe()()()()),2&e&&(ot("translucent",!0),rt(14),ot("formGroup",r.formGroup),rt(17),ot("ngIf",r.clipboardService.isSupported()),rt(5),ot("ngIf",r.showProxyServer))},dependencies:[Ao,$l,Nl,Ll,Zi,Yi,Ki,Xi,Wo,ql,ci,ds,V_,Nd,Ji,Qi,Rd,Fd,Wl,Mh,Ca,Ja],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),Iv=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=et({name:"cardSize",type:t,pure:!0}),t})();function iU(t,n){1&t&&(de(0,"div",14)(1,"b"),tt(2,"WARNING:"),oe(),tt(3," This image cannot be used as a memory stick image."),oe())}let XM=(()=>{class t{constructor(e){this.storageCardService=e,this.onCancel=()=>{},this.onSave=()=>{},this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Kc({name:new wa("",{nonNullable:!0,validators:[Hy.required,this.validateNameUnique]}),size:new wa({value:"dummy",disabled:!0}),checkAutomatically:new wa(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2}ngOnInit(){!this.card||(this.formGroup.get("name")?.setValue(this.card.name),this.formGroup.get("checkAutomatically")?.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(S(uu))},t.\u0275cmp=C({type:t,selectors:[["app-edit-card-dialog"]],inputs:{onCancel:"onCancel",onSave:"onSave",card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.save()}),tt(6,"Save"),oe()(),de(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),oe()()()(),de(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),de(12,"ion-item",7)(13,"ion-label",8),tt(14,"Card name"),oe(),ft(15,"ion-input",9),oe(),de(16,"ion-item",7)(17,"ion-label",8),tt(18,"Card size"),oe(),de(19,"ion-select",10)(20,"ion-select-option",11),tt(21),xl(22,"cardSize"),oe()()(),de(23,"ion-item",7)(24,"ion-label"),tt(25,"Check for errors automatically"),oe(),ft(26,"ion-toggle",12),oe()(),Kt(27,iU,4,0,"div",13),oe()),2&e&&(rt(3),zi(r.newCard?"New memory card":"Edit memory card"),rt(2),ot("disabled",r.formGroup.invalid),rt(6),ot("formGroup",r.formGroup),rt(10),xi("",Al(22,5,null==r.card?null:r.card.size)," "),rt(6),ot("ngIf",!r.memoryStickSupported))},dependencies:[Ao,Zi,Yi,Ki,Xi,ql,ci,ds,uh,dh,Nd,Ji,Qi,Rd,Fd,Wl,$l,Nl,Ll,Ca,Ja,Iv],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function sU(t,n){if(1&t&&(de(0,"ion-select-option",13),tt(1),xl(2,"cardSize"),oe()),2&t){const e=n.$implicit,r=Nt();ot("value",e),rt(1),xi("",Al(2,2,r.sizeBytes(e))," ")}}const aU=[eo.mb4,eo.mb8,eo.mb16,eo.mb32,eo.mb64,eo.mb128];let lU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Kc({name:new wa("",{nonNullable:!0,validators:[Hy.required,this.validateNameUnique]}),size:new wa(eo.mb32,{nonNullable:!0}),checkAutomatically:new wa(!0,{nonNullable:!0})})}get sizes(){return aU}sizeBytes(e){return function I6(t){switch(t){case eo.mb4:return 4046848;case eo.mb8:return 8110080;case eo.mb16:return 16220160;case eo.mb32:return 32473088;case eo.mb64:return 64978944;case eo.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(S(uu))},t.\u0275cmp=C({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"New memory card"),oe(),de(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.create()}),tt(6,"Create"),oe()(),de(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),oe()()()(),de(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),de(12,"ion-item",7)(13,"ion-label",8),tt(14,"Card name"),oe(),ft(15,"ion-input",9),oe(),de(16,"ion-item",7)(17,"ion-label",8),tt(18,"Card size"),oe(),de(19,"ion-select",10),Kt(20,sU,3,4,"ion-select-option",11),oe()(),de(21,"ion-item",7)(22,"ion-label"),tt(23,"Check for errors automatically"),oe(),ft(24,"ion-toggle",12),oe()()()),2&e&&(rt(5),ot("disabled",r.formGroup.invalid),rt(6),ot("formGroup",r.formGroup),rt(9),ot("ngForOf",r.sizes))},dependencies:[Fl,Zi,Yi,Ki,Xi,ql,ci,ds,uh,dh,Nd,Ji,Qi,Rd,Fd,Wl,$l,Nl,Ll,Ca,Ja,Iv]}),t})(),cU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),ft(2,"ion-icon",1),tt(3," Edit "),oe(),de(4,"ion-item",0),ct("click",function(){return r.onSave()}),ft(5,"ion-icon",2),tt(6," Save "),oe(),de(7,"ion-item",0),ct("click",function(){return r.onCheck()}),ft(8,"ion-icon",3),tt(9," Check "),oe(),de(10,"ion-item",4),ct("click",function(){return r.onDelete()}),ft(11,"ion-icon",5),tt(12," Delete "),oe()()),2&e&&(rt(1),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1))},dependencies:[Wo,ci,qs]}),t})(),uU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new gn,this.selectCard=new gn,this.edit=new gn,this.check=new gn,this.delete=new gn,this.save=new gn}onContextmenu(e){var r=this;return(0,Me.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:cU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(r.card),onSave:()=>r.save.emit(r.card),onCheck:()=>r.check.emit(),onDelete:()=>r.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case br.dirty:return"needs check";case br.clean:return"no errors";case br.unformatted:return"no filesystem";case br.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(S(uu),S(Yl))},t.\u0275cmp=C({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=fr();de(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),de(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.edit.emit(r.card))}),ft(4,"ion-icon",4),oe(),de(5,"ion-item-option",5),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.save.emit(r.card))}),ft(6,"ion-icon",6),oe()(),de(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.check.emit(r.card))}),ft(9,"ion-icon",9),oe(),de(10,"ion-item-option",10),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.delete.emit(r.card))}),ft(11,"ion-icon",11),oe()(),de(12,"ion-item",12),ct("click",function(){return r.selectCard.emit(),r.interaction.emit()}),de(13,"ion-label")(14,"h2"),tt(15),oe(),de(16,"p"),tt(17),xl(18,"cardSize"),oe()()()()}2&e&&(rt(12),ot("color",r.color),rt(3),zi(null==r.card?null:r.card.name),rt(2),Zf("",Al(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[Wo,ci,ah,lh,ch,ds,Iv],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function dU(t,n){1&t&&(de(0,"div",10),ft(1,"ion-spinner"),oe())}function fU(t,n){1&t&&(de(0,"div",11)(1,"div",12),tt(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),oe()())}function pU(t,n){if(1&t){const e=fr();de(0,"app-storage-card",14),ct("delete",function(){const i=Yt(e).$implicit;return Et(Nt(2).deleteCard(i))})("selectCard",function(){const i=Yt(e).$implicit;return Et(Nt(2).selectCard(i))})("edit",function(){const i=Yt(e).$implicit;return Et(Nt(2).editCard(i))})("check",function(){const i=Yt(e).$implicit;return Et(Nt(2).checkCard(i))})("interaction",function(){const i=Yt(e).$implicit;return Et(Nt(2).lastCardTouched=i.id)})("save",function(){const i=Yt(e).$implicit;return Et(Nt(2).saveCard(i))}),oe()}if(2&t){const e=n.$implicit,r=Nt(2);ot("card",e)("touched",e.id===r.lastCardTouched)}}function hU(t,n){if(1&t&&(de(0,"ion-list"),Kt(1,pU,1,2,"app-storage-card",13),oe()),2&t){const e=Nt();rt(1),ot("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class Ds{constructor(n,e,r,o,i,s,a,c,f){var m=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.storaceCarcContext=f,this.handleCardImport=function(){var _=(0,Me.Z)(function*(D){const te=(yield m.cloudpilotService.cloudpilot).getCardSupportLevel(D.content.length);if(0===te)return void m.alertService.errorMessage("This is not a supported card image.");const xe=yield new Promise(function(){var Xe=(0,Me.Z)(function*(Ge){const gt=yield m.modalController.create({component:XM,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(D.name),size:D.content.length},cardSupportLevel:te,newCard:!0,onCancel:()=>{gt.dismiss(),Ge(void 0)},onSave:nt=>{Ge(nt),gt.dismiss()}}});yield gt.present()});return function(Ge){return Xe.apply(this,arguments)}}());xe&&(yield m.storageCardService.createCardFromFile(xe.name,D,!!xe.dontFsckAutomatically))});return function(D){return _.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{}}get cards(){return this.storageCardService.getAllCards()}addCardImage(){var n=this;return(0,Me.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(n){var e=this;return(0,Me.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:XM,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,Me.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){return this.storageCardService.saveCard(n.id,`${uv(n.name.replace(/\.img$/,""))}.img`)}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,Me.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,Me.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,Me.Z)(function*(){const e=yield n.modalController.create({component:lU,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,Me.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return KM(n,r=>e.some(o=>o.name===r))}}function mU(t,n){1&t&&ft(0,"ion-icon",8)}function gU(t,n){1&t&&ft(0,"ion-icon",9)}function yU(t,n){1&t&&ft(0,"ion-icon",10)}function _U(t,n){if(1&t){const e=fr();de(0,"ion-item",2),ct("click",function(){const i=Yt(e).index;return Et(Nt(2).onSelect(i))}),Gu(1,3),Kt(2,mU,1,0,"ion-icon",4),Kt(3,gU,1,0,"ion-icon",5),Kt(4,yU,1,0,"ion-icon",6),zu(),de(5,"div",7),tt(6),oe()()}if(2&t){const e=n.$implicit,r=n.index,o=Nt(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),rt(1),ot("ngSwitch",o.entries.length),rt(1),ot("ngSwitchCase",r+1),rt(1),ot("ngSwitchCase",r+2),rt(3),zi(e)}}function vU(t,n){if(1&t&&(de(0,"ion-list"),Kt(1,_U,7,6,"ion-item",1),oe()),2&t){const e=Nt();rt(1),ot("ngForOf",e.entries)}}Ds.\u0275fac=function(n){return new(n||Ds)(S(Vd),S(uu),S(Ss),S(ru),S(Xs),S(Pr),S(Kl),S(cu),S(su))},Ds.\u0275cmp=C({type:Ds,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(n,e){1&n&&(de(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3,"Memory cards"),oe(),de(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return e.addCardImage()}),ft(6,"ion-icon",2),oe()(),de(7,"ion-buttons",3)(8,"ion-button",1),ct("click",function(){return e.showHelp()}),ft(9,"ion-icon",4),oe(),ft(10,"app-pwa-prompt"),oe()()(),de(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),tt(15,"Memory cards"),oe()()(),Kt(16,dU,2,0,"div",7),Kt(17,fU,3,0,"div",8),Kt(18,hU,2,2,"ion-list",9),oe()),2&n&&(rt(16),ot("ngIf",e.storageCardService.isLoading()),rt(1),ot("ngIf",!e.storageCardService.isLoading()&&0===e.cards.length),rt(1),ot("ngIf",!e.storageCardService.isLoading()&&e.cards.length>0))},dependencies:[Fl,Ao,Zi,Yi,Ki,Xi,Wo,qs,Od,Ji,Qi,Mh,uU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),ue([vi()],Ds.prototype,"addCardImage",null),ue([vi()],Ds.prototype,"selectCard",null),ue([vi()],Ds.prototype,"editCard",null),ue([vi()],Ds.prototype,"saveCard",null),ue([vi()],Ds.prototype,"checkCard",null),ue([vi()],Ds.prototype,"deleteCard",null);let bU=(()=>{class t{constructor(){this.onSelect=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,r){1&e&&Kt(0,vU,2,1,"ion-list",0),2&e&&ot("ngIf",r.entries)},dependencies:[Fl,Ao,bp,dE,fE,Wo,ci,qs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})(),wU=(()=>{class t{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onStartSelection()}),ft(2,"ion-icon",1),tt(3," Start selection "),oe(),de(4,"ion-item",2),ct("click",function(){return r.onAddFiles()}),ft(5,"ion-icon",3),tt(6," Add files "),oe(),de(7,"ion-item",2),ct("click",function(){return r.onCreateDirectry()}),ft(8,"ion-icon",4),tt(9," Add directory "),oe(),de(10,"ion-item",2),ct("click",function(){return r.onExtractZipfile()}),ft(11,"ion-icon",5),tt(12," Extract zip "),oe(),de(13,"ion-item",0),ct("click",function(){return r.onPaste()}),ft(14,"ion-icon",6),tt(15," Paste "),oe(),de(16,"ion-item",7),ct("click",function(){return r.onHelp()}),ft(17,"ion-icon",8),tt(18," Help "),oe()()),2&e&&(rt(1),ot("detail",!1)("disabled",r.emptyDirectory),rt(3),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1)("disabled",!0),rt(3),ot("detail",!1))},dependencies:[Wo,ci,qs]}),t})();const CU=["zero","one","two","three","four","five","six","seven","eight","nine"];let EU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),ft(2,"ion-icon",1),tt(3," Edit "),oe(),de(4,"ion-item",0),ct("click",function(){return r.onSave()}),ft(5,"ion-icon",2),tt(6," Save "),oe(),de(7,"ion-item",0),ct("click",function(){return r.onCopy()}),ft(8,"ion-icon",3),tt(9," Copy "),oe(),de(10,"ion-item",0),ct("click",function(){return r.onCut()}),ft(11,"ion-icon",4),tt(12," Cut "),oe(),de(13,"ion-item",5),ct("click",function(){return r.onDelete()}),ft(14,"ion-icon",6),tt(15," Delete "),oe()()),2&e&&(rt(1),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1),rt(3),ot("detail",!1))},dependencies:[Wo,ci,qs]}),t})(),DU=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=et({name:"fileSize",type:t,pure:!0}),t})();const IU=["slidingItem"];function MU(t,n){1&t&&ft(0,"ion-icon",21)}function kU(t,n){1&t&&ft(0,"ion-icon",22)}function TU(t,n){1&t&&ft(0,"ion-icon",23)}function xU(t,n){1&t&&ft(0,"ion-icon",24)}function AU(t,n){1&t&&ft(0,"ion-icon",25)}function PU(t,n){1&t&&ft(0,"ion-icon",26)}function RU(t,n){1&t&&ft(0,"ion-icon",27)}function FU(t,n){if(1&t&&(Gu(0),tt(1),xl(2,"fileSize"),zu()),2&t){const e=Nt();rt(1),xi(" - ",Al(2,1,null==e.entry?null:e.entry.size)," ")}}let OU=(()=>{class t{constructor(e,r){this.actionSheetController=e,this.popoverController=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new gn,this.selectEntry=new gn,this.editEntry=new gn,this.copyEntry=new gn,this.cutEntry=new gn,this.deleteEntry=new gn,this.saveEntry=new gn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var r=this;return(0,Me.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:EU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.editEntry.emit(r.entry),onSave:()=>r.saveEntry.emit(r.entry),onCopy:()=>r.copyEntry.emit(r.entry),onCut:()=>r.cutEntry.emit(r.entry),onDelete:()=>r.deleteEntry.emit(r.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,Me.Z)(function*(){const r=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${r}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${r}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}return t.\u0275fac=function(e){return new(e||t)(S(Vd),S(Yl))},t.\u0275cmp=C({type:t,selectors:[["app-file-entry"]],viewQuery:function(e,r){if(1&e&&jc(IU,5),2&e){let o;Pi(o=Ri())&&(r.slidingItem=o.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[po],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,r){if(1&e){const o=fr();de(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),de(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.editEntry.emit(r.entry))}),ft(4,"ion-icon",4),oe(),de(5,"ion-item-option",5),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.saveEntry.emit(r.entry))}),ft(6,"ion-icon",6),oe()(),de(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.cutOrCopyEntry())}),ft(9,"ion-icon",9),oe(),de(10,"ion-item-option",10),ct("click",function(){return Yt(o),Gi(1).close(),Et(r.deleteEntry.emit(r.entry))}),ft(11,"ion-icon",11),oe()(),de(12,"ion-item",12),ct("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),Kt(13,MU,1,0,"ion-icon",13),Kt(14,kU,1,0,"ion-icon",14),Kt(15,TU,1,0,"ion-icon",15),Kt(16,xU,1,0,"ion-icon",16),Kt(17,AU,1,0,"ion-icon",17),Kt(18,PU,1,0,"ion-icon",18),Kt(19,RU,1,0,"ion-icon",19),de(20,"ion-label")(21,"h2"),tt(22),oe(),de(23,"p"),tt(24),Kt(25,FU,3,3,"ng-container",20),oe()()()()}2&e&&(ot("disabled",r.selecting),rt(12),qu("opacity",r.touched?1:.99999),ca("is-directory",null==r.entry?null:r.entry.isDirectory),ot("color",r.color)("detail",(null==r.entry?null:r.entry.isDirectory)&&!r.selecting),rt(1),ot("ngIf",null==r.entry?null:r.entry.isDirectory),rt(1),ot("ngIf",!(null!=r.entry&&r.entry.isDirectory)),rt(1),ot("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.readonly),rt(1),ot("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.hidden),rt(1),ot("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.system),rt(1),ot("ngIf",r.selecting&&!r.selected),rt(1),ot("ngIf",r.selecting&&r.selected),rt(3),zi(null==r.entry?null:r.entry.name),rt(2),xi(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),rt(1),ot("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[Ao,Wo,ci,ah,lh,ch,ds,DU],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:#0006;color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"]}),t})();function NU(t,n){1&t&&ft(0,"div",8)}function LU(t,n){if(1&t){const e=fr();de(0,"ion-toolbar")(1,"ion-title",2),ct("click",function(o){return Yt(e),Et(Nt().openBreadcrumbMenu(o))}),tt(2),Kt(3,NU,1,0,"div",3),oe(),de(4,"ion-buttons",4),ft(5,"ion-back-button"),oe(),de(6,"ion-buttons",5)(7,"ion-button",6),ct("click",function(o){return Yt(e),Et(Nt().openContextMenu(o))}),ft(8,"ion-icon",7),oe()()()}if(2&t){const e=Nt();rt(1),ot("id",e.breadcrumbTriggerId),rt(1),zi(e.title),rt(1),ot("ngIf",e.showBreadcrumb)}}function $U(t,n){if(1&t){const e=fr();de(0,"ion-buttons",10)(1,"ion-button",6),ct("click",function(){return Yt(e),Et(Nt(2).onSelectAll())}),tt(2,"Select all"),oe()()}}function BU(t,n){if(1&t){const e=fr();de(0,"ion-buttons",10)(1,"ion-button",6),ct("click",function(){return Yt(e),Et(Nt(2).selection.clear())}),tt(2,"Clear"),oe()()}}function VU(t,n){if(1&t){const e=fr();de(0,"ion-toolbar")(1,"ion-title"),tt(2,"Selection"),oe(),de(3,"ion-buttons",5)(4,"ion-button",6),ct("click",function(){return Yt(e),Et(Nt().onSelectionDone())}),tt(5),oe()(),Kt(6,$U,3,0,"ion-buttons",9),Kt(7,BU,3,0,"ion-buttons",9),oe()}if(2&t){const e=Nt();rt(5),zi(0===e.selection.size?"Cancel":"Done"),rt(1),ot("ngIf",e.selection.size!==(null==e.entries?null:e.entries.length)),rt(1),ot("ngIf",e.selection.size===(null==e.entries?null:e.entries.length))}}function HU(t,n){if(1&t&&(de(0,"div",11)(1,"div",12),tt(2),oe()()),2&t){const e=Nt();rt(2),xi(" empty ","/"===e.path?"card":"directory"," ")}}function jU(t,n){if(1&t){const e=fr();de(0,"app-file-entry",14),ct("selectEntry",function(){const i=Yt(e).$implicit;return Et(Nt(2).onSelect(i))})("editEntry",function(){const i=Yt(e).$implicit;return Et(Nt(2).onEditEntry(i))})("saveEntry",function(){const i=Yt(e).$implicit;return Et(Nt(2).onSaveEntry(i))})("copyEntry",function(){const i=Yt(e).$implicit;return Et(Nt(2).onCopyEntry(i))})("cutEntry",function(){const i=Yt(e).$implicit;return Et(Nt(2).onCutEntry(i))})("deleteEntry",function(){const i=Yt(e).$implicit;return Et(Nt(2).onDeleteEntry(i))})("interaction",function(){const i=Yt(e).$implicit;return Et(Nt(2).lastEntryTouched=i.name)}),oe()}if(2&t){const e=n.$implicit,r=Nt(2);ot("entry",e)("selecting","select"===r.mode)("selected",r.selection.has(e.name))("touched",e.name===r.lastEntryTouched)}}function UU(t,n){if(1&t&&(de(0,"ion-list"),Kt(1,jU,1,4,"app-file-entry",13),oe()),2&t){const e=Nt();rt(1),ot("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy)}}function GU(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let zU=0;class Ql{constructor(n,e,r,o,i){this.vfsService=n,this.popoverController=e,this.config=r,this.alertService=o,this.actionSheetController=i,this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+zU++}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const n=this.vfsService.splitPath(this.path);return n[n.length-1]??""}}}get showBreadcrumb(){return!!this.path&&"/"!==this.path}ngOnInit(){this.updateEntries()}trackEntryBy(n,e){return e.name}onSelect(n){"browse"===this.mode?n.isDirectory&&this.onNavigate(n.path):this.selection?.has(n.name)?this.selection.delete(n.name):this.selection.add(n.name)}onEditEntry(n){this.alertService.message("Not implemented",`Edit ${n.name}: not implemented.`)}onSaveEntry(n){this.alertService.message("Not implemented",`Save ${n.name}: not implemented.`)}onCopyEntry(n){this.alertService.message("Not implemented",`Copy ${n.name}: not implemented.`)}onCutEntry(n){this.alertService.message("Not implemented",`Cut ${n.name}: not implemented.`)}onDeleteEntry(n){this.alertService.message("Not implemented",`Delete ${n.name}: not implemented.`)}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select")}onSelectionDone(){var n=this;return(0,Me.Z)(function*(){if(!n.entries)return;const e=Array.from(n.selection),r=new Map(n.entries.map(c=>[c.name,c])),o=e.every(c=>!r.get(c)?.isDirectory),i=e.every(c=>r.get(c)?.isDirectory),s=function SU(t){return t<10?CU[t]:t+""}(n.selection.size);let a=`${s} items`;if(o&&(a=1===n.selection.size?"file":`${s} files`),i&&(a=1===n.selection.size?"directory":`${s} directories`),0!==n.selection.size){const c=yield n.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${a}`,handler:n.onCopySelection.bind(n)},{text:`Cut ${a}`,handler:n.onCutSelection.bind(n)},{text:`Save ${a} as zip`,handler:n.onSaveZip.bind(n)},{text:`Delete ${a}`,handler:n.onDeleteSelection.bind(n)},{text:"Cancel"}]});yield c.present(),yield c.onWillDismiss()}n.mode="browse"})()}onSelectAll(){this.entries?.forEach(n=>this.selection.add(n.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){this.alertService.message("Not implemented","Save zip: not implemented.")}onDeleteSelection(){this.alertService.message("Not implemented","Delete selection: not implemented.")}openBreadcrumbMenu(n){var e=this;return(0,Me.Z)(function*(){if(!e.card||!e.path||"/"===e.path)return;const r=[...e.vfsService.splitPath(e.path).reverse().slice(1),e.card.name,"Memory cards"];(yield e.popoverController.create({component:bU,event:n,componentProps:{entries:r,onSelect:i=>e.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===e.config.get("mode")?"center":"start",trigger:e.breadcrumbTriggerId})).present()})()}openContextMenu(n){var e=this;return(0,Me.Z)(function*(){(yield e.popoverController.create({component:wU,componentProps:{emptyDirectory:0===e.entries?.length,onStartSelection:e.onStartSelection.bind(e),onAddFiles:e.onAddFiles.bind(e),onCreateDirectry:e.onCreateDirectory.bind(e),onExtractZipfile:e.onExtractZipfile.bind(e),onPaste:e.onPaste.bind(e),onHelp:e.onHelp.bind(e)},event:n,dismissOnSelect:!0,arrow:!1})).present()})()}updateEntries(){void 0!==this.path?this.vfsService.readdir(this.path).then(n=>this.entries=n?[...n].sort(GU):[]):this.entries=[]}}Ql.\u0275fac=function(n){return new(n||Ql)(S(vv),S(Yl),S(U_),S(Pr),S(Vd))},Ql.\u0275cmp=C({type:Ql,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:6,vars:4,consts:[[4,"ngIf"],["class","placeholder-container",4,"ngIf"],[3,"id","click"],["class","select-arrow",4,"ngIf"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"select-arrow"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-container"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"]],template:function(n,e){1&n&&(de(0,"ion-header"),Kt(1,LU,9,3,"ion-toolbar",0),Kt(2,VU,8,3,"ion-toolbar",0),oe(),de(3,"ion-content"),Kt(4,HU,3,1,"div",1),Kt(5,UU,2,2,"ion-list",0),oe()),2&n&&(rt(1),ot("ngIf","browse"===e.mode),rt(1),ot("ngIf","select"===e.mode),rt(2),ot("ngIf",void 0!==e.entries&&0===e.entries.length),rt(1),ot("ngIf",void 0!==e.entries))},dependencies:[Fl,Ao,bI,Zi,Yi,Ki,Xi,Wo,qs,Ji,Qi,FI,OU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}ion-list[_ngcontent-%COMP%]{background:none}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),ue([vi()],Ql.prototype,"onSelectionDone",null);const WU=["nav"],qU=[{path:"tab",component:Sv,children:[{path:"emulation",component:Gj},{path:"sessions",component:Js},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(Ql,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})},this.onNavigateBreadcrumb=r=>{!this.currentlyBrowsingCard||this.nav?.popTo(r)},this.navRoot=Ds,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Ql,{card:e,path:"/",onNavigate:this.onNavigate})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}return t.\u0275fac=function(e){return new(e||t)(S(vv))},t.\u0275cmp=C({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&jc(WU,5),2&e){let o;Pi(o=Ri())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&ft(0,"ion-nav",0,1),2&e&&ot("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[wI,OI]}),t})()},{path:"settings",component:oU},{path:"about",component:lj},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let ZU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[sh.forChild(qU),sh]}),t})(),YU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({imports:[rl,zs,Vl,ZU,tj,nj,rj,oj,ej]}),t})(),KU=(()=>{class t extends KS{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=jo(t)))(r||t)}}(),t.\u0275prov=bt({token:t,factory:t.\u0275fac}),t})();const XU=[{path:"install",component:UM,canActivate:[GM]},{path:"import",component:UM,canActivate:[GM]},{path:"",component:Sv}];let QU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Je({type:t}),t.\u0275inj=qn({providers:[{provide:Gs,useClass:KU}],imports:[sh.forRoot(XU,{preloadingStrategy:m4,useHash:!0}),YU,sh]}),t})();const QM=["touch","click","keydown"];let JU=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,Me.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{QM.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};QM.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(be(Ni),be(Dv))},t.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const e8=()=>{const t=new iu;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let t8=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(be(Nn),be(Qs),be(Dv),be(Zd),be(Ni),be(jM),be(JU))},t.\u0275mod=Je({type:t,bootstrap:[V6]}),t.\u0275inj=qn({providers:[{provide:tI,useClass:mV},{provide:Pl,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Ni]}],imports:[AN,rl.forRoot(),QU,$6.register("ngsw-worker.js",{enabled:true}),X_.forRoot({loader:Oy,markedOptions:{provide:QI,useFactory:e8}}),oL]}),t})();window.global=window,function UN(){Dp=$E("#/install?"),Ip=$E("#/import?")}(),function iH(){return!!localStorage.getItem(yh)}()&&!BE()||function GN(){return void 0!==Dp}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function bF(){FS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),xN().bootstrapModule(t8).catch(t=>console.log(t))},3272:Be=>{var F,qe=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ae,ie,u=typeof(k=k||{})<"u"?k:{};u.ready=new Promise(function(l,h){ae=l,ie=h});var j,Oe,ee,q=Object.assign({},u),X=[],G="./this.program",z=(l,h)=>{throw h},Ce="object"==typeof window,Z="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ce||Z)&&(Z?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),F&&($=F),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Z&&(ee=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Oe=(l,h,v)=>{var A=new XMLHttpRequest;A.open("GET",l,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?h(A.response):v()},A.onerror=v,A.send(null)});var he,we=u.print||console.log.bind(console),ce=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(X=u.arguments),u.thisProgram&&(G=u.thisProgram),u.quit&&(z=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Ne=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var me,ve,Ye=!1;function Ie(l,h){l||Qn(h)}var Ze,Ke,yt,L,H,ge,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(l,h,v){for(var A=h+v,U=h;l[U]&&!(U>=A);)++U;if(U-h>16&&l.buffer&&Ae)return Ae.decode(l.subarray(h,U));for(var De="";h<U;){var Te=l[h++];if(128&Te){var He=63&l[h++];if(192!=(224&Te)){var Ct=63&l[h++];if((Te=224==(240&Te)?(15&Te)<<12|He<<6|Ct:(7&Te)<<18|He<<12|Ct<<6|63&l[h++])<65536)De+=String.fromCharCode(Te);else{var tn=Te-65536;De+=String.fromCharCode(55296|tn>>10,56320|1023&tn)}}else De+=String.fromCharCode((31&Te)<<6|He)}else De+=String.fromCharCode(Te)}return De}function Ve(l,h){return l?ze(yt,l,h):""}function Pe(l,h,v,A){if(!(A>0))return 0;for(var U=v,De=v+A-1,Te=0;Te<l.length;++Te){var He=l.charCodeAt(Te);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&l.charCodeAt(++Te)),He<=127){if(v>=De)break;h[v++]=He}else if(He<=2047){if(v+1>=De)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=De)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=De)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-U}function Q(l){for(var h=0,v=0;v<l.length;++v){var A=l.charCodeAt(v);A<=127?h++:A<=2047?h+=2:A>=55296&&A<=57343?(h+=4,++v):h+=3}return h}function Re(l){Ze=l,u.HEAP8=Ke=new Int8Array(l),u.HEAP16=new Int16Array(l),u.HEAP32=L=new Int32Array(l),u.HEAPU8=yt=new Uint8Array(l),u.HEAPU16=new Uint16Array(l),u.HEAPU32=H=new Uint32Array(l),u.HEAPF32=new Float32Array(l),u.HEAPF64=ge=new Float64Array(l)}var ut,En,it=[],lt=[],Rt=[],Bt=[],jn=0,lr=null,wr=null;function vo(l){jn++,u.monitorRunDependencies&&u.monitorRunDependencies(jn)}function cr(l){if(jn--,u.monitorRunDependencies&&u.monitorRunDependencies(jn),0==jn&&(null!==lr&&(clearInterval(lr),lr=null),wr)){var h=wr;wr=null,h()}}function Qn(l){u.onAbort&&u.onAbort(l),ce(l="Aborted("+l+")"),Ye=!0,ve=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw ie(h),h}function Vr(l){return l.startsWith("data:application/octet-stream;base64,")}function Zr(l){try{if(l==En&&he)return new Uint8Array(he);if(ee)return ee(l);throw"both async and sync fetching of the wasm failed"}catch(h){Qn(h)}}Vr(En="cloudpilot_web.wasm")||(En=function O(l){return u.locateFile?u.locateFile(l,$):$+l}(En));var at,le,je={242196:l=>{ut.grow(65536);for(let h=0;h<=65535;h++)ut.set(ut.length-65535-1+h,ut.get(H[(l>>>2)+h]));return ut.length-65535-1}};function Sn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function $t(l){for(;l.length>0;)l.shift()(u)}function tr(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var nn={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,A=l.length-1;A>=0;A--){var U=l[A];"."===U?l.splice(A,1):".."===U?(l.splice(A,1),v++):v&&(l.splice(A,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=nn.isAbs(l),v="/"===l.substr(-1);return!(l=nn.normalizeArray(l.split("/").filter(A=>!!A),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=nn.splitPath(l),v=h[0],A=h[1];return v||A?(A&&(A=A.substr(0,A.length-1)),v+A):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=nn.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return nn.normalize(l.join("/"))},join2:(l,h)=>nn.normalize(l+"/"+h)},ur={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var A=v>=0?arguments[v]:M.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";l=A+"/"+l,h=nn.isAbs(A)}return(h?"/":"")+(l=nn.normalizeArray(l.split("/").filter(U=>!!U),!h).join("/"))||"."},relative:(l,h)=>{function v(tn){for(var Tn=0;Tn<tn.length&&""===tn[Tn];Tn++);for(var Vn=tn.length-1;Vn>=0&&""===tn[Vn];Vn--);return Tn>Vn?[]:tn.slice(Tn,Vn-Tn+1)}l=ur.resolve(l).substr(1),h=ur.resolve(h).substr(1);for(var A=v(l.split("/")),U=v(h.split("/")),De=Math.min(A.length,U.length),Te=De,He=0;He<De;He++)if(A[He]!==U[He]){Te=He;break}var Ct=[];for(He=Te;He<A.length;He++)Ct.push("..");return(Ct=Ct.concat(U.slice(Te))).join("/")}};function jt(l,h,v){var A=v>0?v:Q(l)+1,U=new Array(A),De=Pe(l,U,0,U.length);return h&&(U.length=De),U}var nr={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){nr.ttys[l]={input:[],output:[],ops:h},M.registerDevice(l,nr.stream_ops)},stream_ops:{open:function(l){var h=nr.ttys[l.node.rdev];if(!h)throw new M.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,A,U){if(!l.tty||!l.tty.ops.get_char)throw new M.ErrnoError(60);for(var De=0,Te=0;Te<A;Te++){var He;try{He=l.tty.ops.get_char(l.tty)}catch{throw new M.ErrnoError(29)}if(void 0===He&&0===De)throw new M.ErrnoError(6);if(null==He)break;De++,h[v+Te]=He}return De&&(l.node.timestamp=Date.now()),De},write:function(l,h,v,A,U){if(!l.tty||!l.tty.ops.put_char)throw new M.ErrnoError(60);try{for(var De=0;De<A;De++)l.tty.ops.put_char(l.tty,h[v+De])}catch{throw new M.ErrnoError(29)}return A&&(l.node.timestamp=Date.now()),De}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=jt(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(we(ze(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(we(ze(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(ce(ze(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(ce(ze(l.output,0)),l.output=[])}}};function E(l){Qn()}var At={ops_table:null,mount:function(l){return At.createNode(null,"/",16895,0)},createNode:function(l,h,v,A){if(M.isBlkdev(v)||M.isFIFO(v))throw new M.ErrnoError(63);At.ops_table||(At.ops_table={dir:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr,lookup:At.node_ops.lookup,mknod:At.node_ops.mknod,rename:At.node_ops.rename,unlink:At.node_ops.unlink,rmdir:At.node_ops.rmdir,readdir:At.node_ops.readdir,symlink:At.node_ops.symlink},stream:{llseek:At.stream_ops.llseek}},file:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr},stream:{llseek:At.stream_ops.llseek,read:At.stream_ops.read,write:At.stream_ops.write,allocate:At.stream_ops.allocate,mmap:At.stream_ops.mmap,msync:At.stream_ops.msync}},link:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr,readlink:At.node_ops.readlink},stream:{}},chrdev:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr},stream:M.chrdev_stream_ops}});var U=M.createNode(l,h,v,A);return M.isDir(U.mode)?(U.node_ops=At.ops_table.dir.node,U.stream_ops=At.ops_table.dir.stream,U.contents={}):M.isFile(U.mode)?(U.node_ops=At.ops_table.file.node,U.stream_ops=At.ops_table.file.stream,U.usedBytes=0,U.contents=null):M.isLink(U.mode)?(U.node_ops=At.ops_table.link.node,U.stream_ops=At.ops_table.link.stream):M.isChrdev(U.mode)&&(U.node_ops=At.ops_table.chrdev.node,U.stream_ops=At.ops_table.chrdev.stream),U.timestamp=Date.now(),l&&(l.contents[h]=U,l.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var U=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(U.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=M.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=M.isDir(l.mode)?4096:M.isFile(l.mode)?l.usedBytes:M.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&At.resizeFileStorage(l,h.size)},lookup:function(l,h){throw M.genericErrors[44]},mknod:function(l,h,v,A){return At.createNode(l,h,v,A)},rename:function(l,h,v){if(M.isDir(l.mode)){var A;try{A=M.lookupNode(h,v)}catch{}if(A)for(var U in A.contents)throw new M.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=M.lookupNode(l,h);for(var A in v.contents)throw new M.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)!l.contents.hasOwnProperty(v)||h.push(v);return h},symlink:function(l,h,v){var A=At.createNode(l,h,41471,0);return A.link=v,A},readlink:function(l){if(!M.isLink(l.mode))throw new M.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,A,U){var De=l.node.contents;if(U>=l.node.usedBytes)return 0;var Te=Math.min(l.node.usedBytes-U,A);if(Te>8&&De.subarray)h.set(De.subarray(U,U+Te),v);else for(var He=0;He<Te;He++)h[v+He]=De[U+He];return Te},write:function(l,h,v,A,U,De){if(h.buffer===Ke.buffer&&(De=!1),!A)return 0;var Te=l.node;if(Te.timestamp=Date.now(),h.subarray&&(!Te.contents||Te.contents.subarray)){if(De)return Te.contents=h.subarray(v,v+A),Te.usedBytes=A,A;if(0===Te.usedBytes&&0===U)return Te.contents=h.slice(v,v+A),Te.usedBytes=A,A;if(U+A<=Te.usedBytes)return Te.contents.set(h.subarray(v,v+A),U),A}if(At.expandFileStorage(Te,U+A),Te.contents.subarray&&h.subarray)Te.contents.set(h.subarray(v,v+A),U);else for(var He=0;He<A;He++)Te.contents[U+He]=h[v+He];return Te.usedBytes=Math.max(Te.usedBytes,U+A),A},llseek:function(l,h,v){var A=h;if(1===v?A+=l.position:2===v&&M.isFile(l.node.mode)&&(A+=l.node.usedBytes),A<0)throw new M.ErrnoError(28);return A},allocate:function(l,h,v){At.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,A,U){if(!M.isFile(l.node.mode))throw new M.ErrnoError(43);var De,Te,He=l.node.contents;if(2&U||He.buffer!==Ze){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),Te=!0,!(De=E()))throw new M.ErrnoError(48);Ke.set(He,De)}else Te=!1,De=He.byteOffset;return{ptr:De,allocated:Te}},msync:function(l,h,v,A,U){return At.stream_ops.write(l,h,0,A,v,!1),0}}},M={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=ur.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new M.ErrnoError(32);for(var A=l.split("/").filter(Vn=>!!Vn),U=M.root,De="/",Te=0;Te<A.length;Te++){var He=Te===A.length-1;if(He&&h.parent)break;if(U=M.lookupNode(U,A[Te]),De=nn.join2(De,A[Te]),M.isMountpoint(U)&&(!He||He&&h.follow_mount)&&(U=U.mounted.root),!He||h.follow)for(var Ct=0;M.isLink(U.mode);){var tn=M.readlink(De);if(De=ur.resolve(nn.dirname(De),tn),U=M.lookupPath(De,{recurse_count:h.recurse_count+1}).node,Ct++>40)throw new M.ErrnoError(32)}}return{path:De,node:U}},getPath:l=>{for(var h;;){if(M.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,A=0;A<h.length;A++)v=(v<<5)-v+h.charCodeAt(A)|0;return(l+v>>>0)%M.nameTable.length},hashAddNode:l=>{var h=M.hashName(l.parent.id,l.name);l.name_next=M.nameTable[h],M.nameTable[h]=l},hashRemoveNode:l=>{var h=M.hashName(l.parent.id,l.name);if(M.nameTable[h]===l)M.nameTable[h]=l.name_next;else for(var v=M.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=M.mayLookup(l);if(v)throw new M.ErrnoError(v,l);for(var A=M.hashName(l.id,h),U=M.nameTable[A];U;U=U.name_next)if(U.parent.id===l.id&&U.name===h)return U;return M.lookup(l,h)},createNode:(l,h,v,A)=>{var U=new M.FSNode(l,h,v,A);return M.hashAddNode(U),U},destroyNode:l=>{M.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=M.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>M.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>M.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return M.lookupNode(l,h),20}catch{}return M.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var A;try{A=M.lookupNode(l,h)}catch(De){return De.errno}var U=M.nodePermissions(l,"wx");if(U)return U;if(v){if(!M.isDir(A.mode))return 54;if(M.isRoot(A)||M.getPath(A)===M.cwd())return 10}else if(M.isDir(A.mode))return 31;return 0},mayOpen:(l,h)=>l?M.isLink(l.mode)?32:M.isDir(l.mode)&&("r"!==M.flagsToPermissionString(h)||512&h)?31:M.nodePermissions(l,M.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=M.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!M.streams[v])return v;throw new M.ErrnoError(33)},getStream:l=>M.streams[l],createStream:(l,h,v)=>{M.FSStream||(M.FSStream=function(){this.shared={}},M.FSStream.prototype={},Object.defineProperties(M.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),l=Object.assign(new M.FSStream,l);var A=M.nextfd(h,v);return l.fd=A,M.streams[A]=l,l},closeStream:l=>{M.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=M.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new M.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{M.devices[l]={stream_ops:h}},getDevice:l=>M.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var A=v.pop();h.push(A),v.push.apply(v,A.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),M.syncFSRequests++,M.syncFSRequests>1&&ce("warning: "+M.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=M.getMounts(M.root.mount),A=0;function U(Te){return M.syncFSRequests--,h(Te)}function De(Te){if(Te)return De.errored?void 0:(De.errored=!0,U(Te));++A>=v.length&&U(null)}v.forEach(Te=>{if(!Te.type.syncfs)return De(null);Te.type.syncfs(Te,l,De)})},mount:(l,h,v)=>{var De,A="/"===v,U=!v;if(A&&M.root)throw new M.ErrnoError(10);if(!A&&!U){var Te=M.lookupPath(v,{follow_mount:!1});if(v=Te.path,M.isMountpoint(De=Te.node))throw new M.ErrnoError(10);if(!M.isDir(De.mode))throw new M.ErrnoError(54)}var He={type:l,opts:h,mountpoint:v,mounts:[]},Ct=l.mount(He);return Ct.mount=He,He.root=Ct,A?M.root=Ct:De&&(De.mounted=He,De.mount&&De.mount.mounts.push(He)),Ct},unmount:l=>{var h=M.lookupPath(l,{follow_mount:!1});if(!M.isMountpoint(h.node))throw new M.ErrnoError(28);var v=h.node,A=v.mounted,U=M.getMounts(A);Object.keys(M.nameTable).forEach(Te=>{for(var He=M.nameTable[Te];He;){var Ct=He.name_next;U.includes(He.mount)&&M.destroyNode(He),He=Ct}}),v.mounted=null;var De=v.mount.mounts.indexOf(A);v.mount.mounts.splice(De,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var U=M.lookupPath(l,{parent:!0}).node,De=nn.basename(l);if(!De||"."===De||".."===De)throw new M.ErrnoError(28);var Te=M.mayCreate(U,De);if(Te)throw new M.ErrnoError(Te);if(!U.node_ops.mknod)throw new M.ErrnoError(63);return U.node_ops.mknod(U,De,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,M.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,M.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),A="",U=0;U<v.length;++U)if(v[U]){A+="/"+v[U];try{M.mkdir(A,h)}catch(De){if(20!=De.errno)throw De}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),M.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!ur.resolve(l))throw new M.ErrnoError(44);var A=M.lookupPath(h,{parent:!0}).node;if(!A)throw new M.ErrnoError(44);var U=nn.basename(h),De=M.mayCreate(A,U);if(De)throw new M.ErrnoError(De);if(!A.node_ops.symlink)throw new M.ErrnoError(63);return A.node_ops.symlink(A,U,l)},rename:(l,h)=>{var He,Ct,v=nn.dirname(l),A=nn.dirname(h),U=nn.basename(l),De=nn.basename(h);if(He=M.lookupPath(l,{parent:!0}).node,Ct=M.lookupPath(h,{parent:!0}).node,!He||!Ct)throw new M.ErrnoError(44);if(He.mount!==Ct.mount)throw new M.ErrnoError(75);var Vn,tn=M.lookupNode(He,U),Tn=ur.relative(l,A);if("."!==Tn.charAt(0))throw new M.ErrnoError(28);if("."!==(Tn=ur.relative(h,v)).charAt(0))throw new M.ErrnoError(55);try{Vn=M.lookupNode(Ct,De)}catch{}if(tn!==Vn){var Ot=M.isDir(tn.mode),Vt=M.mayDelete(He,U,Ot);if(Vt)throw new M.ErrnoError(Vt);if(Vt=Vn?M.mayDelete(Ct,De,Ot):M.mayCreate(Ct,De))throw new M.ErrnoError(Vt);if(!He.node_ops.rename)throw new M.ErrnoError(63);if(M.isMountpoint(tn)||Vn&&M.isMountpoint(Vn))throw new M.ErrnoError(10);if(Ct!==He&&(Vt=M.nodePermissions(He,"w")))throw new M.ErrnoError(Vt);M.hashRemoveNode(tn);try{He.node_ops.rename(tn,Ct,De)}catch(Jt){throw Jt}finally{M.hashAddNode(tn)}}},rmdir:l=>{var v=M.lookupPath(l,{parent:!0}).node,A=nn.basename(l),U=M.lookupNode(v,A),De=M.mayDelete(v,A,!0);if(De)throw new M.ErrnoError(De);if(!v.node_ops.rmdir)throw new M.ErrnoError(63);if(M.isMountpoint(U))throw new M.ErrnoError(10);v.node_ops.rmdir(v,A),M.destroyNode(U)},readdir:l=>{var v=M.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new M.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=M.lookupPath(l,{parent:!0}).node;if(!v)throw new M.ErrnoError(44);var A=nn.basename(l),U=M.lookupNode(v,A),De=M.mayDelete(v,A,!1);if(De)throw new M.ErrnoError(De);if(!v.node_ops.unlink)throw new M.ErrnoError(63);if(M.isMountpoint(U))throw new M.ErrnoError(10);v.node_ops.unlink(v,A),M.destroyNode(U)},readlink:l=>{var v=M.lookupPath(l).node;if(!v)throw new M.ErrnoError(44);if(!v.node_ops.readlink)throw new M.ErrnoError(28);return ur.resolve(M.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var A=M.lookupPath(l,{follow:!h}).node;if(!A)throw new M.ErrnoError(44);if(!A.node_ops.getattr)throw new M.ErrnoError(63);return A.node_ops.getattr(A)},lstat:l=>M.stat(l,!0),chmod:(l,h,v)=>{var A;if(!(A="string"==typeof l?M.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new M.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&h|-4096&A.mode,timestamp:Date.now()})},lchmod:(l,h)=>{M.chmod(l,h,!0)},fchmod:(l,h)=>{var v=M.getStream(l);if(!v)throw new M.ErrnoError(8);M.chmod(v.node,h)},chown:(l,h,v,A)=>{var U;if(!(U="string"==typeof l?M.lookupPath(l,{follow:!A}).node:l).node_ops.setattr)throw new M.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(l,h,v)=>{M.chown(l,h,v,!0)},fchown:(l,h,v)=>{var A=M.getStream(l);if(!A)throw new M.ErrnoError(8);M.chown(A.node,h,v)},truncate:(l,h)=>{if(h<0)throw new M.ErrnoError(28);var v;if(!(v="string"==typeof l?M.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new M.ErrnoError(63);if(M.isDir(v.mode))throw new M.ErrnoError(31);if(!M.isFile(v.mode))throw new M.ErrnoError(28);var U=M.nodePermissions(v,"w");if(U)throw new M.ErrnoError(U);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=M.getStream(l);if(!v)throw new M.ErrnoError(8);if(0==(2097155&v.flags))throw new M.ErrnoError(28);M.truncate(v.node,h)},utime:(l,h,v)=>{var U=M.lookupPath(l,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new M.ErrnoError(44);var A;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?M.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)A=l;else{l=nn.normalize(l);try{A=M.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var De=!1;if(64&h)if(A){if(128&h)throw new M.ErrnoError(20)}else A=M.mknod(l,v,0),De=!0;if(!A)throw new M.ErrnoError(44);if(M.isChrdev(A.mode)&&(h&=-513),65536&h&&!M.isDir(A.mode))throw new M.ErrnoError(54);if(!De){var Te=M.mayOpen(A,h);if(Te)throw new M.ErrnoError(Te)}512&h&&!De&&M.truncate(A,0),h&=-131713;var He=M.createStream({node:A,path:M.getPath(A),flags:h,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),u.logReadFiles&&!(1&h)&&(M.readFiles||(M.readFiles={}),l in M.readFiles||(M.readFiles[l]=1)),He},close:l=>{if(M.isClosed(l))throw new M.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{M.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(M.isClosed(l))throw new M.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new M.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new M.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,A,U)=>{if(A<0||U<0)throw new M.ErrnoError(28);if(M.isClosed(l))throw new M.ErrnoError(8);if(1==(2097155&l.flags))throw new M.ErrnoError(8);if(M.isDir(l.node.mode))throw new M.ErrnoError(31);if(!l.stream_ops.read)throw new M.ErrnoError(28);var De=typeof U<"u";if(De){if(!l.seekable)throw new M.ErrnoError(70)}else U=l.position;var Te=l.stream_ops.read(l,h,v,A,U);return De||(l.position+=Te),Te},write:(l,h,v,A,U,De)=>{if(A<0||U<0)throw new M.ErrnoError(28);if(M.isClosed(l))throw new M.ErrnoError(8);if(0==(2097155&l.flags))throw new M.ErrnoError(8);if(M.isDir(l.node.mode))throw new M.ErrnoError(31);if(!l.stream_ops.write)throw new M.ErrnoError(28);l.seekable&&1024&l.flags&&M.llseek(l,0,2);var Te=typeof U<"u";if(Te){if(!l.seekable)throw new M.ErrnoError(70)}else U=l.position;var He=l.stream_ops.write(l,h,v,A,U,De);return Te||(l.position+=He),He},allocate:(l,h,v)=>{if(M.isClosed(l))throw new M.ErrnoError(8);if(h<0||v<=0)throw new M.ErrnoError(28);if(0==(2097155&l.flags))throw new M.ErrnoError(8);if(!M.isFile(l.node.mode)&&!M.isDir(l.node.mode))throw new M.ErrnoError(43);if(!l.stream_ops.allocate)throw new M.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,A,U)=>{if(0!=(2&A)&&0==(2&U)&&2!=(2097155&l.flags))throw new M.ErrnoError(2);if(1==(2097155&l.flags))throw new M.ErrnoError(2);if(!l.stream_ops.mmap)throw new M.ErrnoError(43);return l.stream_ops.mmap(l,h,v,A,U)},msync:(l,h,v,A,U)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,A,U):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new M.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,A=M.open(l,h.flags),De=M.stat(l).size,Te=new Uint8Array(De);return M.read(A,Te,0,De,0),"utf8"===h.encoding?v=ze(Te,0):"binary"===h.encoding&&(v=Te),M.close(A),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var A=M.open(l,v.flags,v.mode);if("string"==typeof h){var U=new Uint8Array(Q(h)+1),De=Pe(h,U,0,U.length);M.write(A,U,0,De,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");M.write(A,h,0,h.byteLength,void 0,v.canOwn)}M.close(A)},cwd:()=>M.currentPath,chdir:l=>{var h=M.lookupPath(l,{follow:!0});if(null===h.node)throw new M.ErrnoError(44);if(!M.isDir(h.node.mode))throw new M.ErrnoError(54);var v=M.nodePermissions(h.node,"x");if(v)throw new M.ErrnoError(v);M.currentPath=h.path},createDefaultDirectories:()=>{M.mkdir("/tmp"),M.mkdir("/home"),M.mkdir("/home/web_user")},createDefaultDevices:()=>{M.mkdir("/dev"),M.registerDevice(M.makedev(1,3),{read:()=>0,write:(h,v,A,U,De)=>U}),M.mkdev("/dev/null",M.makedev(1,3)),nr.register(M.makedev(5,0),nr.default_tty_ops),nr.register(M.makedev(6,0),nr.default_tty1_ops),M.mkdev("/dev/tty",M.makedev(5,0)),M.mkdev("/dev/tty1",M.makedev(6,0));var l=function Kn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>Qn("randomDevice")}();M.createDevice("/dev","random",l),M.createDevice("/dev","urandom",l),M.mkdir("/dev/shm"),M.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{M.mkdir("/proc");var l=M.mkdir("/proc/self");M.mkdir("/proc/self/fd"),M.mount({mount:()=>{var h=M.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,A)=>{var De=M.getStream(+A);if(!De)throw new M.ErrnoError(8);var Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>De.path}};return Te.parent=Te,Te}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?M.createDevice("/dev","stdin",u.stdin):M.symlink("/dev/tty","/dev/stdin"),u.stdout?M.createDevice("/dev","stdout",null,u.stdout):M.symlink("/dev/tty","/dev/stdout"),u.stderr?M.createDevice("/dev","stderr",null,u.stderr):M.symlink("/dev/tty1","/dev/stderr"),M.open("/dev/stdin",0),M.open("/dev/stdout",1),M.open("/dev/stderr",1)},ensureErrnoError:()=>{M.ErrnoError||(M.ErrnoError=function(h,v){this.node=v,this.setErrno=function(A){this.errno=A},this.setErrno(h),this.message="FS error"},M.ErrnoError.prototype=new Error,M.ErrnoError.prototype.constructor=M.ErrnoError,[44].forEach(l=>{M.genericErrors[l]=new M.ErrnoError(l),M.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{M.ensureErrnoError(),M.nameTable=new Array(4096),M.mount(At,{},"/"),M.createDefaultDirectories(),M.createDefaultDevices(),M.createSpecialDirectories(),M.filesystems={MEMFS:At}},init:(l,h,v)=>{M.init.initialized=!0,M.ensureErrnoError(),u.stdin=l||u.stdin,u.stdout=h||u.stdout,u.stderr=v||u.stderr,M.createStandardStreams()},quit:()=>{M.init.initialized=!1;for(var l=0;l<M.streams.length;l++){var h=M.streams[l];!h||M.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=M.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=M.lookupPath(l,{follow:!h})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=M.lookupPath(l,{parent:!0});A.parentExists=!0,A.parentPath=v.path,A.parentObject=v.node,A.name=nn.basename(l),v=M.lookupPath(l,{follow:!h}),A.exists=!0,A.path=v.path,A.object=v.node,A.name=v.node.name,A.isRoot="/"===v.path}catch(U){A.error=U.errno}return A},createPath:(l,h,v,A)=>{l="string"==typeof l?l:M.getPath(l);for(var U=h.split("/").reverse();U.length;){var De=U.pop();if(De){var Te=nn.join2(l,De);try{M.mkdir(Te)}catch{}l=Te}}return Te},createFile:(l,h,v,A,U)=>{var De=nn.join2("string"==typeof l?l:M.getPath(l),h),Te=M.getMode(A,U);return M.create(De,Te)},createDataFile:(l,h,v,A,U,De)=>{var Te=h;l&&(l="string"==typeof l?l:M.getPath(l),Te=h?nn.join2(l,h):l);var He=M.getMode(A,U),Ct=M.create(Te,He);if(v){if("string"==typeof v){for(var tn=new Array(v.length),Tn=0,Vn=v.length;Tn<Vn;++Tn)tn[Tn]=v.charCodeAt(Tn);v=tn}M.chmod(Ct,146|He);var Ot=M.open(Ct,577);M.write(Ot,v,0,v.length,0,De),M.close(Ot),M.chmod(Ct,He)}return Ct},createDevice:(l,h,v,A)=>{var U=nn.join2("string"==typeof l?l:M.getPath(l),h),De=M.getMode(!!v,!!A);M.createDevice.major||(M.createDevice.major=64);var Te=M.makedev(M.createDevice.major++,0);return M.registerDevice(Te,{open:He=>{He.seekable=!1},close:He=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(He,Ct,tn,Tn,Vn)=>{for(var Ot=0,Vt=0;Vt<Tn;Vt++){var Jt;try{Jt=v()}catch{throw new M.ErrnoError(29)}if(void 0===Jt&&0===Ot)throw new M.ErrnoError(6);if(null==Jt)break;Ot++,Ct[tn+Vt]=Jt}return Ot&&(He.node.timestamp=Date.now()),Ot},write:(He,Ct,tn,Tn,Vn)=>{for(var Ot=0;Ot<Tn;Ot++)try{A(Ct[tn+Ot])}catch{throw new M.ErrnoError(29)}return Tn&&(He.node.timestamp=Date.now()),Ot}}),M.mkdev(U,De,Te)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=jt(j(l.url),!0),l.usedBytes=l.contents.length}catch{throw new M.ErrnoError(29)}},createLazyFile:(l,h,v,A,U)=>{function De(){this.lengthKnown=!1,this.chunks=[]}if(De.prototype.get=function(Vt){if(!(Vt>this.length-1||Vt<0)){var Jt=Vt%this.chunkSize;return this.getter(Vt/this.chunkSize|0)[Jt]}},De.prototype.setDataGetter=function(Vt){this.getter=Vt},De.prototype.cacheLength=function(){var Vt=new XMLHttpRequest;if(Vt.open("HEAD",v,!1),Vt.send(null),!(Vt.status>=200&&Vt.status<300||304===Vt.status))throw new Error("Couldn't load "+v+". Status: "+Vt.status);var Xr,Jt=Number(Vt.getResponseHeader("Content-length")),ki=(Xr=Vt.getResponseHeader("Accept-Ranges"))&&"bytes"===Xr,Ho=(Xr=Vt.getResponseHeader("Content-Encoding"))&&"gzip"===Xr,wt=1048576;ki||(wt=Jt);var mo=this;mo.setDataGetter(dr=>{var oi=dr*wt,Br=(dr+1)*wt-1;if(Br=Math.min(Br,Jt-1),typeof mo.chunks[dr]>"u"&&(mo.chunks[dr]=((dr,oi)=>{if(dr>oi)throw new Error("invalid range ("+dr+", "+oi+") or no bytes requested!");if(oi>Jt-1)throw new Error("only "+Jt+" bytes available! programmer error!");var Br=new XMLHttpRequest;if(Br.open("GET",v,!1),Jt!==wt&&Br.setRequestHeader("Range","bytes="+dr+"-"+oi),Br.responseType="arraybuffer",Br.overrideMimeType&&Br.overrideMimeType("text/plain; charset=x-user-defined"),Br.send(null),!(Br.status>=200&&Br.status<300||304===Br.status))throw new Error("Couldn't load "+v+". Status: "+Br.status);return void 0!==Br.response?new Uint8Array(Br.response||[]):jt(Br.responseText||"",!0)})(oi,Br)),typeof mo.chunks[dr]>"u")throw new Error("doXHR failed!");return mo.chunks[dr]}),(Ho||!Jt)&&(wt=Jt=1,Jt=this.getter(0).length,wt=Jt,we("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Jt,this._chunkSize=wt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new De;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Te}}else He={isDevice:!1,url:v};var Ct=M.createFile(l,h,He,A,U);He.contents?Ct.contents=He.contents:He.url&&(Ct.contents=null,Ct.url=He.url),Object.defineProperties(Ct,{usedBytes:{get:function(){return this.contents.length}}});var tn={};function Vn(Ot,Vt,Jt,Xr,ki){var Ho=Ot.node.contents;if(ki>=Ho.length)return 0;var wt=Math.min(Ho.length-ki,Xr);if(Ho.slice)for(var on=0;on<wt;on++)Vt[Jt+on]=Ho[ki+on];else for(on=0;on<wt;on++)Vt[Jt+on]=Ho.get(ki+on);return wt}return Object.keys(Ct.stream_ops).forEach(Ot=>{var Vt=Ct.stream_ops[Ot];tn[Ot]=function(){return M.forceLoadFile(Ct),Vt.apply(null,arguments)}}),tn.read=(Ot,Vt,Jt,Xr,ki)=>(M.forceLoadFile(Ct),Vn(Ot,Vt,Jt,Xr,ki)),tn.mmap=(Ot,Vt,Jt,Xr,ki)=>{M.forceLoadFile(Ct);var Ho=E();if(!Ho)throw new M.ErrnoError(48);return Vn(Ot,Ke,Ho,Vt,Jt),{ptr:Ho,allocated:!0}},Ct.stream_ops=tn,Ct},createPreloadedFile:(l,h,v,A,U,De,Te,He,Ct,tn)=>{var Tn=h?ur.resolve(nn.join2(l,h)):l;function Ot(Vt){function Jt(Xr){tn&&tn(),He||M.createDataFile(l,h,Xr,A,U,Ct),De&&De(),cr()}Browser.handledByPreloadPlugin(Vt,Tn,Jt,()=>{Te&&Te(),cr()})||Jt(Vt)}vo(),"string"==typeof v?function gr(l,h,v,A){var U=A?"":"al "+l;Oe(l,De=>{Ie(De,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(De)),U&&cr()},De=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),U&&vo()}(v,Vt=>Ot(Vt),Te):Ot(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var A=M.indexedDB();try{var U=A.open(M.DB_NAME(),M.DB_VERSION)}catch(De){return v(De)}U.onupgradeneeded=()=>{we("creating db"),U.result.createObjectStore(M.DB_STORE_NAME)},U.onsuccess=()=>{var Te=U.result.transaction([M.DB_STORE_NAME],"readwrite"),He=Te.objectStore(M.DB_STORE_NAME),Ct=0,tn=0,Tn=l.length;function Vn(){0==tn?h():v()}l.forEach(Ot=>{var Vt=He.put(M.analyzePath(Ot).object.contents,Ot);Vt.onsuccess=()=>{++Ct+tn==Tn&&Vn()},Vt.onerror=()=>{tn++,Ct+tn==Tn&&Vn()}}),Te.onerror=v},U.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var A=M.indexedDB();try{var U=A.open(M.DB_NAME(),M.DB_VERSION)}catch(De){return v(De)}U.onupgradeneeded=v,U.onsuccess=()=>{var De=U.result;try{var Te=De.transaction([M.DB_STORE_NAME],"readonly")}catch(Ot){return void v(Ot)}var He=Te.objectStore(M.DB_STORE_NAME),Ct=0,tn=0,Tn=l.length;function Vn(){0==tn?h():v()}l.forEach(Ot=>{var Vt=He.get(Ot);Vt.onsuccess=()=>{M.analyzePath(Ot).exists&&M.unlink(Ot),M.createDataFile(nn.dirname(Ot),nn.basename(Ot),Vt.result,!0,!0,!0),++Ct+tn==Tn&&Vn()},Vt.onerror=()=>{tn++,Ct+tn==Tn&&Vn()}}),Te.onerror=v},U.onerror=v}},Fr={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(nn.isAbs(h))return h;var A;if(A=-100===l?M.cwd():Fr.getStreamFromFD(l).path,0==h.length){if(!v)throw new M.ErrnoError(44);return A}return nn.join2(A,h)},doStat:function(l,h,v){try{var A=l(h)}catch(U){if(U&&U.node&&nn.normalize(h)!==nn.normalize(M.getPath(U.node)))return-54;throw U}return L[v>>2]=A.dev,L[v+8>>2]=A.ino,L[v+12>>2]=A.mode,H[v+16>>2]=A.nlink,L[v+20>>2]=A.uid,L[v+24>>2]=A.gid,L[v+28>>2]=A.rdev,le=[A.size>>>0,(at=A.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[v+40>>2]=le[0],L[v+44>>2]=le[1],L[v+48>>2]=4096,L[v+52>>2]=A.blocks,le=[Math.floor(A.atime.getTime()/1e3)>>>0,(at=Math.floor(A.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[v+56>>2]=le[0],L[v+60>>2]=le[1],H[v+64>>2]=0,le=[Math.floor(A.mtime.getTime()/1e3)>>>0,(at=Math.floor(A.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[v+72>>2]=le[0],L[v+76>>2]=le[1],H[v+80>>2]=0,le=[Math.floor(A.ctime.getTime()/1e3)>>>0,(at=Math.floor(A.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[v+88>>2]=le[0],L[v+92>>2]=le[1],H[v+96>>2]=0,le=[A.ino>>>0,(at=A.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[v+104>>2]=le[0],L[v+108>>2]=le[1],0},doMsync:function(l,h,v,A,U){if(!M.isFile(h.node.mode))throw new M.ErrnoError(43);if(2&A)return 0;var De=yt.slice(l,l+v);M.msync(h,De,U,v,A)},varargs:void 0,get:function(){return Fr.varargs+=4,L[Fr.varargs-4>>2]},getStr:function(l){return Ve(l)},getStreamFromFD:function(l){var h=M.getStream(l);if(!h)throw new M.ErrnoError(8);return h}};function To(l){return l%4==0&&(l%100!=0||l%400==0)}var zt=[0,31,60,91,121,152,182,213,244,274,305,335],no=[0,31,59,90,120,151,181,212,243,273,304,334];function rr(l){return(To(l.getFullYear())?zt:no)[l.getMonth()]+l.getDate()-1}function Zo(l){var h=Q(l)+1,v=bt(h);return v&&Pe(l,Ke,v,h),v}var I=[];function jr(l){try{return me.grow(l-Ze.byteLength+65535>>>16),Re(me.buffer),1}catch{}}var Yo={};function Gn(){if(!Gn.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var v in Yo)void 0===Yo[v]?delete h[v]:h[v]=Yo[v];var A=[];for(var v in h)A.push(v+"="+h[v]);Gn.strings=A}return Gn.strings}var pe=[31,29,31,30,31,30,31,31,30,31,30,31],ke=[31,28,31,30,31,30,31,31,30,31,30,31];function Wt(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Or=[];function yr(l){var h=Or[l];return h||(l>=Or.length&&(Or.length=l+1),Or[l]=h=ut.get(l)),h}var Jo=void 0,Ei=[];function Is(l,h){ut.set(l,h),Or[l]=ut.get(l)}var Ms=function(l,h,v,A){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=M.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(Ms.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return M.isDir(this.mode)}},isDevice:{get:function(){return M.isChrdev(this.mode)}}}),M.FSNode=Ms,M.staticInit();var uc,On={b:function cn(l,h,v,A){Qn("Assertion failed: "+Ve(l)+", at: "+[h?Ve(h):"unknown filename",v,A?Ve(A):"unknown function"])},i:function hn(l){const h=new Error(Ve(l));throw h.isAssert=!0,h},l:function lo(l,h,v){try{var A=tr(h,v);return isNaN(A)?-61:(M.ftruncate(l,A),0)}catch(U){if(typeof M>"u"||!(U instanceof M.ErrnoError))throw U;return-U.errno}},e:function Oo(){return!0},f:function ro(l,h){var v=new Date(1e3*function Cr(l){return H[l>>2]+4294967296*L[l+4>>2]}(l));L[h>>2]=v.getSeconds(),L[h+4>>2]=v.getMinutes(),L[h+8>>2]=v.getHours(),L[h+12>>2]=v.getDate(),L[h+16>>2]=v.getMonth(),L[h+20>>2]=v.getFullYear()-1900,L[h+24>>2]=v.getDay();var A=0|rr(v);L[h+28>>2]=A,L[h+36>>2]=-60*v.getTimezoneOffset();var U=new Date(v.getFullYear(),0,1),De=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Te=U.getTimezoneOffset(),He=0|(De!=Te&&v.getTimezoneOffset()==Math.min(Te,De));L[h+32>>2]=He},g:function oo(l){var h=new Date(L[l+20>>2]+1900,L[l+16>>2],L[l+12>>2],L[l+8>>2],L[l+4>>2],L[l>>2],0),v=L[l+32>>2],A=h.getTimezoneOffset(),U=new Date(h.getFullYear(),0,1),De=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Te=U.getTimezoneOffset(),He=Math.min(Te,De);if(v<0)L[l+32>>2]=Number(De!=Te&&He==A);else if(v>0!=(He==A)){var Ct=Math.max(Te,De),tn=v>0?He:Ct;h.setTime(h.getTime()+6e4*(tn-A))}L[l+24>>2]=h.getDay();var Tn=0|rr(h);return L[l+28>>2]=Tn,L[l>>2]=h.getSeconds(),L[l+4>>2]=h.getMinutes(),L[l+8>>2]=h.getHours(),L[l+12>>2]=h.getDate(),L[l+16>>2]=h.getMonth(),L[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function en(l,h,v){var A=(new Date).getFullYear(),U=new Date(A,0,1),De=new Date(A,6,1),Te=U.getTimezoneOffset(),He=De.getTimezoneOffset(),Ct=Math.max(Te,He);function tn(Jt){var Xr=Jt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Xr?Xr[1]:"GMT"}H[l>>2]=60*Ct,L[h>>2]=Number(Te!=He);var Tn=tn(U),Vn=tn(De),Ot=Zo(Tn),Vt=Zo(Vn);He<Te?(H[v>>2]=Ot,H[v+4>>2]=Vt):(H[v>>2]=Vt,H[v+4>>2]=Ot)},a:function wo(){Qn("")},j:function Hr(l,h,v){var A=function Yr(l,h){var v;for(I.length=0,h>>=2;v=yt[l++];)h+=105!=v&h,I.push(105==v?L[h]:ge[h++>>1]),++h;return I}(h,v);return je[l].apply(null,A)},c:function ui(){return Date.now()},q:function No(l,h,v){yt.copyWithin(l,h,h+v)},p:function ns(l){var Ct,h=yt.length,v=2147483648;if((l>>>=0)>v)return!1;for(var U=1;U<=4;U*=2){var De=h*(1+.2/U);if(De=Math.min(De,l+100663296),jr(Math.min(v,(Ct=Math.max(l,De))+(65536-Ct%65536)%65536)))return!0}return!1},n:function Ci(l,h){var v=0;return Gn().forEach(function(A,U){var De=h+v;H[l+4*U>>2]=De,function Ko(l,h,v){for(var A=0;A<l.length;++A)Ke[h++>>0]=l.charCodeAt(A);v||(Ke[h>>0]=0)}(A,De),v+=A.length+1}),0},o:function Xo(l,h){var v=Gn();H[l>>2]=v.length;var A=0;return v.forEach(function(U){A+=U.length+1}),H[h>>2]=A,0},r:function Fn(l){try{var h=Fr.getStreamFromFD(l);return M.close(h),0}catch(v){if(typeof M>"u"||!(v instanceof M.ErrnoError))throw v;return v.errno}},d:function Ln(l,h,v,A){try{var De=function Qo(l,h,v,A){for(var U=0,De=0;De<v;De++){var Te=H[h>>2],He=H[h+4>>2];h+=8;var Ct=M.read(l,Ke,Te,He,A);if(Ct<0)return-1;if(U+=Ct,Ct<He)break}return U}(Fr.getStreamFromFD(l),h,v);return H[A>>2]=De,0}catch(Te){if(typeof M>"u"||!(Te instanceof M.ErrnoError))throw Te;return Te.errno}},k:function Si(l,h,v,A,U){try{var De=tr(h,v);if(isNaN(De))return 61;var Te=Fr.getStreamFromFD(l);return M.llseek(Te,De,A),le=[Te.position>>>0,(at=Te.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[U>>2]=le[0],L[U+4>>2]=le[1],Te.getdents&&0===De&&0===A&&(Te.getdents=null),0}catch(He){if(typeof M>"u"||!(He instanceof M.ErrnoError))throw He;return He.errno}},s:function T(l,h,v,A){try{var De=function rs(l,h,v,A){for(var U=0,De=0;De<v;De++){var Te=H[h>>2],He=H[h+4>>2];h+=8;var Ct=M.write(l,Ke,Te,He,A);if(Ct<0)return-1;U+=Ct}return U}(Fr.getStreamFromFD(l),h,v);return H[A>>2]=De,0}catch(Te){if(typeof M>"u"||!(Te instanceof M.ErrnoError))throw Te;return Te.errno}},m:function Le(l,h,v,A,U){return function re(l,h,v,A){var U=L[A+40>>2],De={tm_sec:L[A>>2],tm_min:L[A+4>>2],tm_hour:L[A+8>>2],tm_mday:L[A+12>>2],tm_mon:L[A+16>>2],tm_year:L[A+20>>2],tm_wday:L[A+24>>2],tm_yday:L[A+28>>2],tm_isdst:L[A+32>>2],tm_gmtoff:L[A+36>>2],tm_zone:U?Ve(U):""},Te=Ve(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ct in He)Te=Te.replace(new RegExp(Ct,"g"),He[Ct]);var tn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Tn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Vn(wt,on,mo){for(var dr="number"==typeof wt?wt.toString():wt||"";dr.length<on;)dr=mo[0]+dr;return dr}function Ot(wt,on){return Vn(wt,on,"0")}function Vt(wt,on){function mo(oi){return oi<0?-1:oi>0?1:0}var dr;return 0===(dr=mo(wt.getFullYear()-on.getFullYear()))&&0===(dr=mo(wt.getMonth()-on.getMonth()))&&(dr=mo(wt.getDate()-on.getDate())),dr}function Jt(wt){switch(wt.getDay()){case 0:return new Date(wt.getFullYear()-1,11,29);case 1:return wt;case 2:return new Date(wt.getFullYear(),0,3);case 3:return new Date(wt.getFullYear(),0,2);case 4:return new Date(wt.getFullYear(),0,1);case 5:return new Date(wt.getFullYear()-1,11,31);case 6:return new Date(wt.getFullYear()-1,11,30)}}function Xr(wt){var on=function R(l,h){for(var v=new Date(l.getTime());h>0;){var A=To(v.getFullYear()),U=v.getMonth(),De=(A?pe:ke)[U];if(!(h>De-v.getDate()))return v.setDate(v.getDate()+h),v;h-=De-v.getDate()+1,v.setDate(1),U<11?v.setMonth(U+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(wt.tm_year+1900,0,1),wt.tm_yday),mo=new Date(on.getFullYear(),0,4),dr=new Date(on.getFullYear()+1,0,4),oi=Jt(mo),Br=Jt(dr);return Vt(oi,on)<=0?Vt(Br,on)<=0?on.getFullYear()+1:on.getFullYear():on.getFullYear()-1}var ki={"%a":function(wt){return tn[wt.tm_wday].substring(0,3)},"%A":function(wt){return tn[wt.tm_wday]},"%b":function(wt){return Tn[wt.tm_mon].substring(0,3)},"%B":function(wt){return Tn[wt.tm_mon]},"%C":function(wt){return Ot((wt.tm_year+1900)/100|0,2)},"%d":function(wt){return Ot(wt.tm_mday,2)},"%e":function(wt){return Vn(wt.tm_mday,2," ")},"%g":function(wt){return Xr(wt).toString().substring(2)},"%G":function(wt){return Xr(wt)},"%H":function(wt){return Ot(wt.tm_hour,2)},"%I":function(wt){var on=wt.tm_hour;return 0==on?on=12:on>12&&(on-=12),Ot(on,2)},"%j":function(wt){return Ot(wt.tm_mday+function N(l,h){for(var v=0,A=0;A<=h;v+=l[A++]);return v}(To(wt.tm_year+1900)?pe:ke,wt.tm_mon-1),3)},"%m":function(wt){return Ot(wt.tm_mon+1,2)},"%M":function(wt){return Ot(wt.tm_min,2)},"%n":function(){return"\n"},"%p":function(wt){return wt.tm_hour>=0&&wt.tm_hour<12?"AM":"PM"},"%S":function(wt){return Ot(wt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(wt){return wt.tm_wday||7},"%U":function(wt){return Ot(Math.floor((wt.tm_yday+7-wt.tm_wday)/7),2)},"%V":function(wt){var on=Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7);if((wt.tm_wday+371-wt.tm_yday-2)%7<=2&&on++,on){if(53==on){var dr=(wt.tm_wday+371-wt.tm_yday)%7;4!=dr&&(3!=dr||!To(wt.tm_year))&&(on=1)}}else{on=52;var mo=(wt.tm_wday+7-wt.tm_yday-1)%7;(4==mo||5==mo&&To(wt.tm_year%400-1))&&on++}return Ot(on,2)},"%w":function(wt){return wt.tm_wday},"%W":function(wt){return Ot(Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7),2)},"%y":function(wt){return(wt.tm_year+1900).toString().substring(2)},"%Y":function(wt){return wt.tm_year+1900},"%z":function(wt){var on=wt.tm_gmtoff,mo=on>=0;return on=(on=Math.abs(on)/60)/60*100+on%60,(mo?"+":"-")+String("0000"+on).slice(-4)},"%Z":function(wt){return wt.tm_zone},"%%":function(){return"%"}};for(var Ct in Te=Te.replace(/%%/g,"\0\0"),ki)Te.includes(Ct)&&(Te=Te.replace(new RegExp(Ct,"g"),ki[Ct](De)));var Ho=jt(Te=Te.replace(/\0\0/g,"%"),!1);return Ho.length>h?0:(function Y(l,h){Ke.set(l,h)}(Ho,l),Ho.length-1)}(l,h,v,A)}},bt=(function Rr(){var l={a:On};function h(Te,He){u.asm=Te.exports,Re((me=u.asm.t).buffer),ut=u.asm.hc,function to(l){lt.unshift(l)}(u.asm.u),cr()}function v(Te){h(Te.instance)}function A(Te){return function wi(){return he||!Ce&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Zr(En)}):fetch(En,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+En+"'";return l.arrayBuffer()}).catch(function(){return Zr(En)})}().then(function(He){return WebAssembly.instantiate(He,l)}).then(function(He){return He}).then(Te,function(He){ce("failed to asynchronously prepare wasm: "+He),Qn(He)})}if(vo(),u.instantiateWasm)try{return u.instantiateWasm(l,h)}catch(Te){ce("Module.instantiateWasm callback failed with error: "+Te),ie(Te)}(function U(){return he||"function"!=typeof WebAssembly.instantiateStreaming||Vr(En)||"function"!=typeof fetch?A(v):fetch(En,{credentials:"same-origin"}).then(function(Te){return WebAssembly.instantiateStreaming(Te,l).then(v,function(Ct){return ce("wasm streaming compile failed: "+Ct),ce("falling back to ArrayBuffer instantiation"),A(v)})})})().catch(ie)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.u).apply(null,arguments)},u._free=function(){return(u._free=u.asm.v).apply(null,arguments)},u._malloc=function(){return(bt=u._malloc=u.asm.w).apply(null,arguments)}),qn=(u._main=function(){return(u._main=u.asm.x).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(qn=u._emscripten_bind_VoidPtr___destroy___0=u.asm.y).apply(null,arguments)}),ps=u._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(ps=u._emscripten_bind_Cloudpilot_Cloudpilot_0=u.asm.z).apply(null,arguments)},ks=u._emscripten_bind_Cloudpilot_Malloc_1=function(){return(ks=u._emscripten_bind_Cloudpilot_Malloc_1=u.asm.A).apply(null,arguments)},Na=u._emscripten_bind_Cloudpilot_Free_1=function(){return(Na=u._emscripten_bind_Cloudpilot_Free_1=u.asm.B).apply(null,arguments)},La=u._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(La=u._emscripten_bind_Cloudpilot_Nullptr_0=u.asm.C).apply(null,arguments)},Bi=u._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Bi=u._emscripten_bind_Cloudpilot_InitializeSession_3=u.asm.D).apply(null,arguments)},os=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(os=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u.asm.E).apply(null,arguments)},is=u._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(is=u._emscripten_bind_Cloudpilot_RunEmulation_1=u.asm.F).apply(null,arguments)},Ts=u._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(Ts=u._emscripten_bind_Cloudpilot_SetClockFactor_1=u.asm.G).apply(null,arguments)},io=u._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(io=u._emscripten_bind_Cloudpilot_CopyFrame_0=u.asm.H).apply(null,arguments)},qt=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(qt=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=u.asm.I).apply(null,arguments)},ei=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(ei=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=u.asm.J).apply(null,arguments)},hs=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(hs=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=u.asm.K).apply(null,arguments)},Lo=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Lo=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=u.asm.L).apply(null,arguments)},xs=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(xs=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=u.asm.M).apply(null,arguments)},$a=u._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return($a=u._emscripten_bind_Cloudpilot_QueuePenMove_2=u.asm.N).apply(null,arguments)},_r=u._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(_r=u._emscripten_bind_Cloudpilot_QueuePenUp_0=u.asm.O).apply(null,arguments)},wn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(wn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=u.asm.P).apply(null,arguments)},ti=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(ti=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=u.asm.Q).apply(null,arguments)},fo=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(fo=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=u.asm.R).apply(null,arguments)},Jn=u._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(Jn=u._emscripten_bind_Cloudpilot_IsPowerOff_0=u.asm.S).apply(null,arguments)},pn=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(pn=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=u.asm.T).apply(null,arguments)},Mr=u._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(Mr=u._emscripten_bind_Cloudpilot_GetOSVersion_0=u.asm.U).apply(null,arguments)},p=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=u.asm.V).apply(null,arguments)},y=u._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=u._emscripten_bind_Cloudpilot_Reset_0=u.asm.W).apply(null,arguments)},w=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u.asm.X).apply(null,arguments)},P=u._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(P=u._emscripten_bind_Cloudpilot_ResetHard_0=u.asm.Y).apply(null,arguments)},V=u._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(V=u._emscripten_bind_Cloudpilot_InstallDb_2=u.asm.Z).apply(null,arguments)},ne=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ne=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u.asm._).apply(null,arguments)},_e=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(_e=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u.asm.$).apply(null,arguments)},d=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(d=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u.asm.aa).apply(null,arguments)},g=u._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(g=u._emscripten_bind_Cloudpilot_GetMemorySize_0=u.asm.ba).apply(null,arguments)},b=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(b=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=u.asm.ca).apply(null,arguments)},C=u._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(C=u._emscripten_bind_Cloudpilot_GetRomPtr_0=u.asm.da).apply(null,arguments)},B=u._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(B=u._emscripten_bind_Cloudpilot_GetRomSize_0=u.asm.ea).apply(null,arguments)},K=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(K=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u.asm.fa).apply(null,arguments)},J=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(J=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=u.asm.ga).apply(null,arguments)},Ee=u._emscripten_bind_Cloudpilot_SaveState_0=function(){return(Ee=u._emscripten_bind_Cloudpilot_SaveState_0=u.asm.ha).apply(null,arguments)},Je=u._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Je=u._emscripten_bind_Cloudpilot_LoadState_2=u.asm.ia).apply(null,arguments)},Ft=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(Ft=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=u.asm.ja).apply(null,arguments)},Zt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Zt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=u.asm.ka).apply(null,arguments)},ye=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(ye=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=u.asm.la).apply(null,arguments)},et=u._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(et=u._emscripten_bind_Cloudpilot_StartBackup_0=u.asm.ma).apply(null,arguments)},mt=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(mt=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=u.asm.na).apply(null,arguments)},St=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(St=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u.asm.oa).apply(null,arguments)},dn=u._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(dn=u._emscripten_bind_Cloudpilot_IsSuspended_0=u.asm.pa).apply(null,arguments)},mn=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(mn=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=u.asm.qa).apply(null,arguments)},ir=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(ir=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=u.asm.ra).apply(null,arguments)},Fe=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(Fe=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u.asm.sa).apply(null,arguments)},vt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(vt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=u.asm.ta).apply(null,arguments)},Cn=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Cn=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=u.asm.ua).apply(null,arguments)},kn=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(kn=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=u.asm.va).apply(null,arguments)},Kr=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Kr=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=u.asm.wa).apply(null,arguments)},An=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(An=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=u.asm.xa).apply(null,arguments)},As=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(As=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u.asm.ya).apply(null,arguments)},Ar=u._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Ar=u._emscripten_bind_Cloudpilot_AllocateCard_2=u.asm.za).apply(null,arguments)},Ba=u._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Ba=u._emscripten_bind_Cloudpilot_MountCard_1=u.asm.Aa).apply(null,arguments)},ea=u._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(ea=u._emscripten_bind_Cloudpilot_RemoveCard_1=u.asm.Ba).apply(null,arguments)},In=u._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(In=u._emscripten_bind_Cloudpilot_GetCardData_1=u.asm.Ca).apply(null,arguments)},hl=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(hl=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=u.asm.Da).apply(null,arguments)},ta=u._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(ta=u._emscripten_bind_Cloudpilot_GetCardSize_1=u.asm.Ea).apply(null,arguments)},ec=u._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(ec=u._emscripten_bind_Cloudpilot_RemountCards_0=u.asm.Fa).apply(null,arguments)},Ps=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(Ps=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=u.asm.Ga).apply(null,arguments)},Co=u._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Co=u._emscripten_bind_Cloudpilot_GetMountedKey_0=u.asm.Ha).apply(null,arguments)},Va=u._emscripten_bind_Cloudpilot___destroy___0=function(){return(Va=u._emscripten_bind_Cloudpilot___destroy___0=u.asm.Ia).apply(null,arguments)},na=u._emscripten_bind_RomInfo_RomInfo_2=function(){return(na=u._emscripten_bind_RomInfo_RomInfo_2=u.asm.Ja).apply(null,arguments)},Di=u._emscripten_bind_RomInfo_IsValid_0=function(){return(Di=u._emscripten_bind_RomInfo_IsValid_0=u.asm.Ka).apply(null,arguments)},ra=u._emscripten_bind_RomInfo_CardVersion_0=function(){return(ra=u._emscripten_bind_RomInfo_CardVersion_0=u.asm.La).apply(null,arguments)},fu=u._emscripten_bind_RomInfo_CardName_0=function(){return(fu=u._emscripten_bind_RomInfo_CardName_0=u.asm.Ma).apply(null,arguments)},hr=u._emscripten_bind_RomInfo_RomVersion_0=function(){return(hr=u._emscripten_bind_RomInfo_RomVersion_0=u.asm.Na).apply(null,arguments)},Xd=u._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Xd=u._emscripten_bind_RomInfo_RomVersionString_0=u.asm.Oa).apply(null,arguments)},Qd=u._emscripten_bind_RomInfo_Supports_1=function(){return(Qd=u._emscripten_bind_RomInfo_Supports_1=u.asm.Pa).apply(null,arguments)},ml=u._emscripten_bind_RomInfo___destroy___0=function(){return(ml=u._emscripten_bind_RomInfo___destroy___0=u.asm.Qa).apply(null,arguments)},tc=u._emscripten_bind_Frame_GetLineWidth_0=function(){return(tc=u._emscripten_bind_Frame_GetLineWidth_0=u.asm.Ra).apply(null,arguments)},Ha=u._emscripten_bind_Frame_GetBpp_0=function(){return(Ha=u._emscripten_bind_Frame_GetBpp_0=u.asm.Sa).apply(null,arguments)},gl=u._emscripten_bind_Frame_GetLines_0=function(){return(gl=u._emscripten_bind_Frame_GetLines_0=u.asm.Ta).apply(null,arguments)},Rs=u._emscripten_bind_Frame_GetMargin_0=function(){return(Rs=u._emscripten_bind_Frame_GetMargin_0=u.asm.Ua).apply(null,arguments)},So=u._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(So=u._emscripten_bind_Frame_GetBytesPerLine_0=u.asm.Va).apply(null,arguments)},Jd=u._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Jd=u._emscripten_bind_Frame_GetFirstDirtyLine_0=u.asm.Wa).apply(null,arguments)},$o=u._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return($o=u._emscripten_bind_Frame_GetLastDirtyLine_0=u.asm.Xa).apply(null,arguments)},Ii=u._emscripten_bind_Frame_GetHasChanges_0=function(){return(Ii=u._emscripten_bind_Frame_GetHasChanges_0=u.asm.Ya).apply(null,arguments)},nc=u._emscripten_bind_Frame_GetBuffer_0=function(){return(nc=u._emscripten_bind_Frame_GetBuffer_0=u.asm.Za).apply(null,arguments)},yl=u._emscripten_bind_Frame_GetBufferSize_0=function(){return(yl=u._emscripten_bind_Frame_GetBufferSize_0=u.asm._a).apply(null,arguments)},_l=u._emscripten_bind_Frame_GetScaleX_0=function(){return(_l=u._emscripten_bind_Frame_GetScaleX_0=u.asm.$a).apply(null,arguments)},Mi=u._emscripten_bind_Frame_GetScaleY_0=function(){return(Mi=u._emscripten_bind_Frame_GetScaleY_0=u.asm.ab).apply(null,arguments)},ef=u._emscripten_bind_Frame___destroy___0=function(){return(ef=u._emscripten_bind_Frame___destroy___0=u.asm.bb).apply(null,arguments)},kh=u._emscripten_bind_DbBackup_Init_1=function(){return(kh=u._emscripten_bind_DbBackup_Init_1=u.asm.cb).apply(null,arguments)},tf=u._emscripten_bind_DbBackup_IsInProgress_0=function(){return(tf=u._emscripten_bind_DbBackup_IsInProgress_0=u.asm.db).apply(null,arguments)},nf=u._emscripten_bind_DbBackup_IsDone_0=function(){return(nf=u._emscripten_bind_DbBackup_IsDone_0=u.asm.eb).apply(null,arguments)},Th=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Th=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=u.asm.fb).apply(null,arguments)},xh=u._emscripten_bind_DbBackup_Save_0=function(){return(xh=u._emscripten_bind_DbBackup_Save_0=u.asm.gb).apply(null,arguments)},Ah=u._emscripten_bind_DbBackup_Skip_0=function(){return(Ah=u._emscripten_bind_DbBackup_Skip_0=u.asm.hb).apply(null,arguments)},Ph=u._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Ph=u._emscripten_bind_DbBackup_GetArchivePtr_0=u.asm.ib).apply(null,arguments)},Rh=u._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Rh=u._emscripten_bind_DbBackup_GetArchiveSize_0=u.asm.jb).apply(null,arguments)},Fh=u._emscripten_bind_DbBackup___destroy___0=function(){return(Fh=u._emscripten_bind_DbBackup___destroy___0=u.asm.kb).apply(null,arguments)},Oh=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Oh=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u.asm.lb).apply(null,arguments)},Nh=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Nh=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u.asm.mb).apply(null,arguments)},Lh=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Lh=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u.asm.nb).apply(null,arguments)},$h=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return($h=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u.asm.ob).apply(null,arguments)},Bh=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(Bh=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u.asm.pb).apply(null,arguments)},Vh=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Vh=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=u.asm.qb).apply(null,arguments)},Hh=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(Hh=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u.asm.rb).apply(null,arguments)},jh=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(jh=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u.asm.sb).apply(null,arguments)},pu=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(pu=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=u.asm.tb).apply(null,arguments)},rc=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(rc=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u.asm.ub).apply(null,arguments)},Uh=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Uh=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u.asm.vb).apply(null,arguments)},Gh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(Gh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u.asm.wb).apply(null,arguments)},zh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(zh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u.asm.xb).apply(null,arguments)},Fs=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Fs=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=u.asm.yb).apply(null,arguments)},rf=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(rf=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u.asm.zb).apply(null,arguments)},po=u._emscripten_bind_SuspendContext_GetKind_0=function(){return(po=u._emscripten_bind_SuspendContext_GetKind_0=u.asm.Ab).apply(null,arguments)},hu=u._emscripten_bind_SuspendContext_Cancel_0=function(){return(hu=u._emscripten_bind_SuspendContext_Cancel_0=u.asm.Bb).apply(null,arguments)},sf=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(sf=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u.asm.Cb).apply(null,arguments)},af=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(af=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u.asm.Db).apply(null,arguments)},mu=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(mu=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u.asm.Eb).apply(null,arguments)},gu=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(gu=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u.asm.Fb).apply(null,arguments)},lf=u._emscripten_bind_SuspendContext___destroy___0=function(){return(lf=u._emscripten_bind_SuspendContext___destroy___0=u.asm.Gb).apply(null,arguments)},oc=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(oc=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=u.asm.Hb).apply(null,arguments)},cf=u._emscripten_bind_ZipfileWalker_GetState_0=function(){return(cf=u._emscripten_bind_ZipfileWalker_GetState_0=u.asm.Ib).apply(null,arguments)},fi=u._emscripten_bind_ZipfileWalker_Next_0=function(){return(fi=u._emscripten_bind_ZipfileWalker_Next_0=u.asm.Jb).apply(null,arguments)},ic=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(ic=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u.asm.Kb).apply(null,arguments)},uf=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(uf=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u.asm.Lb).apply(null,arguments)},sc=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(sc=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u.asm.Mb).apply(null,arguments)},df=u._emscripten_bind_ZipfileWalker___destroy___0=function(){return(df=u._emscripten_bind_ZipfileWalker___destroy___0=u.asm.Nb).apply(null,arguments)},Wh=u._emscripten_bind_SessionImage_SessionImage_0=function(){return(Wh=u._emscripten_bind_SessionImage_SessionImage_0=u.asm.Ob).apply(null,arguments)},Ur=u._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Ur=u._emscripten_bind_SessionImage_GetDeviceId_0=u.asm.Pb).apply(null,arguments)},ff=u._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(ff=u._emscripten_bind_SessionImage_SetDeviceId_1=u.asm.Qb).apply(null,arguments)},qh=u._emscripten_bind_SessionImage_GetRomImage_0=function(){return(qh=u._emscripten_bind_SessionImage_GetRomImage_0=u.asm.Rb).apply(null,arguments)},vl=u._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vl=u._emscripten_bind_SessionImage_GetRomImageSize_0=u.asm.Sb).apply(null,arguments)},pi=u._emscripten_bind_SessionImage_SetRomImage_2=function(){return(pi=u._emscripten_bind_SessionImage_SetRomImage_2=u.asm.Tb).apply(null,arguments)},pf=u._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(pf=u._emscripten_bind_SessionImage_GetMemoryImage_0=u.asm.Ub).apply(null,arguments)},ac=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(ac=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=u.asm.Vb).apply(null,arguments)},oa=u._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(oa=u._emscripten_bind_SessionImage_SetMemoryImage_2=u.asm.Wb).apply(null,arguments)},ni=u._emscripten_bind_SessionImage_GetMetadata_0=function(){return(ni=u._emscripten_bind_SessionImage_GetMetadata_0=u.asm.Xb).apply(null,arguments)},yu=u._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(yu=u._emscripten_bind_SessionImage_GetMetadataSize_0=u.asm.Yb).apply(null,arguments)},lc=u._emscripten_bind_SessionImage_SetMetadata_2=function(){return(lc=u._emscripten_bind_SessionImage_SetMetadata_2=u.asm.Zb).apply(null,arguments)},hf=u._emscripten_bind_SessionImage_GetSavestate_0=function(){return(hf=u._emscripten_bind_SessionImage_GetSavestate_0=u.asm._b).apply(null,arguments)},ms=u._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(ms=u._emscripten_bind_SessionImage_GetSavestateSize_0=u.asm.$b).apply(null,arguments)},_u=u._emscripten_bind_SessionImage_SetSavestate_2=function(){return(_u=u._emscripten_bind_SessionImage_SetSavestate_2=u.asm.ac).apply(null,arguments)},cc=u._emscripten_bind_SessionImage_GetVersion_0=function(){return(cc=u._emscripten_bind_SessionImage_GetVersion_0=u.asm.bc).apply(null,arguments)},_n=u._emscripten_bind_SessionImage_Serialize_0=function(){return(_n=u._emscripten_bind_SessionImage_Serialize_0=u.asm.cc).apply(null,arguments)},vu=u._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(vu=u._emscripten_bind_SessionImage_GetSerializedImage_0=u.asm.dc).apply(null,arguments)},Zh=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Zh=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=u.asm.ec).apply(null,arguments)},mf=u._emscripten_bind_SessionImage_Deserialize_2=function(){return(mf=u._emscripten_bind_SessionImage_Deserialize_2=u.asm.fc).apply(null,arguments)},gf=u._emscripten_bind_SessionImage___destroy___0=function(){return(gf=u._emscripten_bind_SessionImage___destroy___0=u.asm.gc).apply(null,arguments)};function ht(l){var h=u._main;try{var U=h(0,0);return function st(l,h){ve=l,function Qe(l){ve=l,function sn(){return Ne}()||(u.onExit&&u.onExit(l),Ye=!0),z(l,new Sn(l))}(l)}(U),U}catch(De){return function It(l){if(l instanceof Sn||"unwind"==l)return ve;z(1,l)}(De)}}function $n(l){function h(){uc||(uc=!0,u.calledRun=!0,!Ye&&(function qr(){!u.noFSInit&&!M.init.initialized&&M.init(),M.ignorePermissions=!1,nr.init(),$t(lt)}(),function Ir(){$t(Rt)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Yt&&ht(),function Yn(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)l=u.postRun.shift(),Bt.unshift(l);var l;$t(Bt)}()))}l=l||X,jn>0||(function ue(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)l=u.preRun.shift(),it.unshift(l);var l;$t(it)}(),jn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),h()},1)):h())}if(u.___original_main=function(){return(u.___original_main=u.asm.ic).apply(null,arguments)},u.___start_em_js=242387,u.___stop_em_js=242584,u.UTF8ToString=Ve,u.addFunction=function Pa(l,h){if(Jo||(Jo=new WeakMap,function $i(l,h){if(Jo)for(var v=l;v<l+h;v++){var A=yr(v);A&&Jo.set(A,v)}}(0,ut.length)),Jo.has(l))return Jo.get(l);var v=function Aa(){if(Ei.length)return Ei.pop();try{ut.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return ut.length-1}();try{Is(v,l)}catch(U){if(!(U instanceof TypeError))throw U;Is(v,function uo(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Qt(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},A=1;A<l.length;++A)v.parameters.push(h[l[A]]),"j"===l[A]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function or(l,h){var v=l.slice(0,1),A=l.slice(1),U={i:127,p:127,j:126,f:125,d:124};h.push(96),Wt(A.length,h);for(var De=0;De<A.length;++De)h.push(U[A[De]]);"v"==v?h.push(0):h.push(1,U[v])}(h,v);var A=[0,97,115,109,1,0,0,0,1];Wt(v.length,A),A.push.apply(A,v),A.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var U=new WebAssembly.Module(new Uint8Array(A));return new WebAssembly.Instance(U,{e:{f:l}}).exports.f}(l,h))}return Jo.set(l,v),v},wr=function l(){uc||$n(),uc||(wr=l)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Yt=!0;function Et(){}function Sr(l){return(l||Et).__cache__}function zn(l,h){var v=Sr(h),A=v[l];return A||((A=Object.create((h||Et).prototype)).ptr=l,v[l]=A)}u.noInitialRun&&(Yt=!1),$n(),(Et.prototype=Object.create(Et.prototype)).constructor=Et,Et.prototype.__class__=Et,Et.__cache__={},u.WrapperObject=Et,u.getCache=Sr,u.wrapPointer=zn,u.castObject=function bl(l,h){return zn(l.ptr,h)},u.NULL=zn(0),u.destroy=function ss(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Sr(l.__class__)[l.ptr]},u.compare=function bu(l,h){return l.ptr===h.ptr},u.getPointer=function wu(l){return l.ptr},u.getClass=function Ov(l){return l.__class__};var Mn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mn.needed){for(var l=0;l<Mn.temps.length;l++)u._free(Mn.temps[l]);Mn.temps.length=0,u._free(Mn.buffer),Mn.buffer=0,Mn.size+=Mn.needed,Mn.needed=0}Mn.buffer||(Mn.size+=128,Mn.buffer=u._malloc(Mn.size),Ie(Mn.buffer)),Mn.pos=0},alloc:function(l,h){Ie(Mn.buffer);var U,A=l.length*h.BYTES_PER_ELEMENT;return Mn.pos+(A=A+7&-8)>=Mn.size?(Ie(A>0),Mn.needed+=A,U=u._malloc(A),Mn.temps.push(U)):(U=Mn.buffer+Mn.pos,Mn.pos+=A),U},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var U=0;U<l.length;U++)h[v+U]=l[U]}};function Bo(l){if("string"==typeof l){var h=jt(l),v=Mn.alloc(h,Ke);return Mn.copy(h,Ke,v),v}return l}function sr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ue(){this.ptr=ps(),Sr(Ue)[this.ptr]=this}function er(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=na(l,h),Sr(er)[this.ptr]=this}function Bn(){throw"cannot construct a Frame, no constructor in IDL"}function Xn(){throw"cannot construct a DbBackup, no constructor in IDL"}function kr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function ri(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Vo(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function ho(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Lr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function $r(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=oc(l,h),Sr($r)[this.ptr]=this}function rn(){this.ptr=Wh(),Sr(rn)[this.ptr]=this}return(sr.prototype=Object.create(Et.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},u.VoidPtr=sr,sr.prototype.__destroy__=sr.prototype.__destroy__=function(){qn(this.ptr)},(Ue.prototype=Object.create(Et.prototype)).constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},u.Cloudpilot=Ue,Ue.prototype.Malloc=Ue.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),zn(ks(this.ptr,l),sr)},Ue.prototype.Free=Ue.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Na(this.ptr,l)},Ue.prototype.Nullptr=Ue.prototype.Nullptr=function(){return zn(La(this.ptr),sr)},Ue.prototype.InitializeSession=Ue.prototype.InitializeSession=function(l,h,v){var A=this.ptr;return Mn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Bo(v),!!Bi(A,l,h,v)},Ue.prototype.GetCyclesPerSecond=Ue.prototype.GetCyclesPerSecond=function(){return os(this.ptr)},Ue.prototype.RunEmulation=Ue.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),is(this.ptr,l)},Ue.prototype.SetClockFactor=Ue.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Ts(this.ptr,l)},Ue.prototype.CopyFrame=Ue.prototype.CopyFrame=function(){return zn(io(this.ptr),Bn)},Ue.prototype.IsScreenDirty=Ue.prototype.IsScreenDirty=function(){return!!qt(this.ptr)},Ue.prototype.MarkScreenClean=Ue.prototype.MarkScreenClean=function(){ei(this.ptr)},Ue.prototype.MinMemoryForDevice=Ue.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),hs(h,l)},Ue.prototype.FramebufferSizeForDevice=Ue.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),Lo(h,l)},Ue.prototype.TotalMemoryForDevice=Ue.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),xs(h,l)},Ue.prototype.QueuePenMove=Ue.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),$a(this.ptr,l,h)},Ue.prototype.QueuePenUp=Ue.prototype.QueuePenUp=function(){_r(this.ptr)},Ue.prototype.QueueButtonDown=Ue.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),wn(this.ptr,l)},Ue.prototype.QueueButtonUp=Ue.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),ti(this.ptr,l)},Ue.prototype.QueueKeyboardEvent=Ue.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fo(this.ptr,l,h)},Ue.prototype.IsPowerOff=Ue.prototype.IsPowerOff=function(){return!!Jn(this.ptr)},Ue.prototype.IsUIInitialized=Ue.prototype.IsUIInitialized=function(){return!!pn(this.ptr)},Ue.prototype.GetOSVersion=Ue.prototype.GetOSVersion=function(){return Mr(this.ptr)},Ue.prototype.IsSetupComplete=Ue.prototype.IsSetupComplete=function(){return!!p(this.ptr)},Ue.prototype.Reset=Ue.prototype.Reset=function(){y(this.ptr)},Ue.prototype.ResetNoExtensions=Ue.prototype.ResetNoExtensions=function(){w(this.ptr)},Ue.prototype.ResetHard=Ue.prototype.ResetHard=function(){P(this.ptr)},Ue.prototype.InstallDb=Ue.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),V(this.ptr,l,h)},Ue.prototype.GetPalette2bitMapping=Ue.prototype.GetPalette2bitMapping=function(){return ne(this.ptr)},Ue.prototype.GetMemoryPtr=Ue.prototype.GetMemoryPtr=function(){return zn(_e(this.ptr),sr)},Ue.prototype.GetDirtyPagesPtr=Ue.prototype.GetDirtyPagesPtr=function(){return zn(d(this.ptr),sr)},Ue.prototype.GetMemorySize=Ue.prototype.GetMemorySize=function(){return g(this.ptr)},Ue.prototype.ImportMemoryImage=Ue.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!b(this.ptr,l,h)},Ue.prototype.GetRomPtr=Ue.prototype.GetRomPtr=function(){return zn(C(this.ptr),sr)},Ue.prototype.GetRomSize=Ue.prototype.GetRomSize=function(){return B(this.ptr)},Ue.prototype.GetSavestatePtr=Ue.prototype.GetSavestatePtr=function(){return zn(K(this.ptr),sr)},Ue.prototype.GetSavestateSize=Ue.prototype.GetSavestateSize=function(){return J(this.ptr)},Ue.prototype.SaveState=Ue.prototype.SaveState=function(){return!!Ee(this.ptr)},Ue.prototype.LoadState=Ue.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Je(this.ptr,l,h)},Ue.prototype.GetHotsyncName=Ue.prototype.GetHotsyncName=function(){return Ve(Ft(this.ptr))},Ue.prototype.SetHotsyncName=Ue.prototype.SetHotsyncName=function(l){var h=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),Zt(h,l)},Ue.prototype.RegisterPwmHandler=Ue.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),ye(this.ptr,l)},Ue.prototype.StartBackup=Ue.prototype.StartBackup=function(){return zn(et(this.ptr),Xn)},Ue.prototype.SetClipboardIntegration=Ue.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),mt(this.ptr,l)},Ue.prototype.GetClipboardIntegration=Ue.prototype.GetClipboardIntegration=function(){return!!St(this.ptr)},Ue.prototype.IsSuspended=Ue.prototype.IsSuspended=function(){return!!dn(this.ptr)},Ue.prototype.GetSuspendContext=Ue.prototype.GetSuspendContext=function(){return zn(mn(this.ptr),Lr)},Ue.prototype.SetNetworkRedirection=Ue.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),ir(this.ptr,l)},Ue.prototype.GetNetworkRedirection=Ue.prototype.GetNetworkRedirection=function(){return!!Fe(this.ptr)},Ue.prototype.RegisterProxyDisconnectHandler=Ue.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),vt(this.ptr,l)},Ue.prototype.SetHotsyncNameManagement=Ue.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),Cn(this.ptr,l)},Ue.prototype.LaunchAppByName=Ue.prototype.LaunchAppByName=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),!!kn(h,l)},Ue.prototype.LaunchAppByDbHeader=Ue.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Kr(this.ptr,l,h)},Ue.prototype.DeviceSupportsCardSize=Ue.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!An(this.ptr,l)},Ue.prototype.ClearExternalStorage=Ue.prototype.ClearExternalStorage=function(){As(this.ptr)},Ue.prototype.AllocateCard=Ue.prototype.AllocateCard=function(l,h){var v=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),h&&"object"==typeof h&&(h=h.ptr),!!Ar(v,l,h)},Ue.prototype.MountCard=Ue.prototype.MountCard=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),!!Ba(h,l)},Ue.prototype.RemoveCard=Ue.prototype.RemoveCard=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),!!ea(h,l)},Ue.prototype.GetCardData=Ue.prototype.GetCardData=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),zn(In(h,l),sr)},Ue.prototype.GetCardDirtyPages=Ue.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),zn(hl(h,l),sr)},Ue.prototype.GetCardSize=Ue.prototype.GetCardSize=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),ta(h,l)},Ue.prototype.RemountCards=Ue.prototype.RemountCards=function(){ec(this.ptr)},Ue.prototype.GetSupportLevel=Ue.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),Ps(this.ptr,l)},Ue.prototype.GetMountedKey=Ue.prototype.GetMountedKey=function(){return Ve(Co(this.ptr))},Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){Va(this.ptr)},(er.prototype=Object.create(Et.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},u.RomInfo=er,er.prototype.IsValid=er.prototype.IsValid=function(){return!!Di(this.ptr)},er.prototype.CardVersion=er.prototype.CardVersion=function(){return ra(this.ptr)},er.prototype.CardName=er.prototype.CardName=function(){return Ve(fu(this.ptr))},er.prototype.RomVersion=er.prototype.RomVersion=function(){return hr(this.ptr)},er.prototype.RomVersionString=er.prototype.RomVersionString=function(){return Ve(Xd(this.ptr))},er.prototype.Supports=er.prototype.Supports=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),!!Qd(h,l)},er.prototype.__destroy__=er.prototype.__destroy__=function(){ml(this.ptr)},(Bn.prototype=Object.create(Et.prototype)).constructor=Bn,Bn.prototype.__class__=Bn,Bn.__cache__={},u.Frame=Bn,Bn.prototype.GetLineWidth=Bn.prototype.GetLineWidth=function(){return tc(this.ptr)},Bn.prototype.GetBpp=Bn.prototype.GetBpp=function(){return Ha(this.ptr)},Bn.prototype.GetLines=Bn.prototype.GetLines=function(){return gl(this.ptr)},Bn.prototype.GetMargin=Bn.prototype.GetMargin=function(){return Rs(this.ptr)},Bn.prototype.GetBytesPerLine=Bn.prototype.GetBytesPerLine=function(){return So(this.ptr)},Bn.prototype.GetFirstDirtyLine=Bn.prototype.GetFirstDirtyLine=function(){return Jd(this.ptr)},Bn.prototype.GetLastDirtyLine=Bn.prototype.GetLastDirtyLine=function(){return $o(this.ptr)},Bn.prototype.GetHasChanges=Bn.prototype.GetHasChanges=function(){return!!Ii(this.ptr)},Bn.prototype.GetBuffer=Bn.prototype.GetBuffer=function(){return zn(nc(this.ptr),sr)},Bn.prototype.GetBufferSize=Bn.prototype.GetBufferSize=function(){return yl(this.ptr)},Bn.prototype.GetScaleX=Bn.prototype.GetScaleX=function(){return _l(this.ptr)},Bn.prototype.GetScaleY=Bn.prototype.GetScaleY=function(){return Mi(this.ptr)},Bn.prototype.__destroy__=Bn.prototype.__destroy__=function(){ef(this.ptr)},(Xn.prototype=Object.create(Et.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},u.DbBackup=Xn,Xn.prototype.Init=Xn.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!kh(this.ptr,l)},Xn.prototype.IsInProgress=Xn.prototype.IsInProgress=function(){return!!tf(this.ptr)},Xn.prototype.IsDone=Xn.prototype.IsDone=function(){return!!nf(this.ptr)},Xn.prototype.GetCurrentDatabase=Xn.prototype.GetCurrentDatabase=function(){return Ve(Th(this.ptr))},Xn.prototype.Save=Xn.prototype.Save=function(){return!!xh(this.ptr)},Xn.prototype.Skip=Xn.prototype.Skip=function(){Ah(this.ptr)},Xn.prototype.GetArchivePtr=Xn.prototype.GetArchivePtr=function(){return zn(Ph(this.ptr),sr)},Xn.prototype.GetArchiveSize=Xn.prototype.GetArchiveSize=function(){return Rh(this.ptr)},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){Fh(this.ptr)},(kr.prototype=Object.create(Et.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},u.SuspendContextClipboardCopy=kr,kr.prototype.Cancel=kr.prototype.Cancel=function(){Oh(this.ptr)},kr.prototype.Resume=kr.prototype.Resume=function(){Nh(this.ptr)},kr.prototype.GetClipboardContent=kr.prototype.GetClipboardContent=function(){return Ve(Lh(this.ptr))},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){$h(this.ptr)},(ri.prototype=Object.create(Et.prototype)).constructor=ri,ri.prototype.__class__=ri,ri.__cache__={},u.SuspendContextClipboardPaste=ri,ri.prototype.Cancel=ri.prototype.Cancel=function(){Bh(this.ptr)},ri.prototype.Resume=ri.prototype.Resume=function(l){var h=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),Vh(h,l)},ri.prototype.__destroy__=ri.prototype.__destroy__=function(){Hh(this.ptr)},(Vo.prototype=Object.create(Et.prototype)).constructor=Vo,Vo.prototype.__class__=Vo,Vo.__cache__={},u.SuspendContextNetworkConnect=Vo,Vo.prototype.Cancel=Vo.prototype.Cancel=function(){jh(this.ptr)},Vo.prototype.Resume=Vo.prototype.Resume=function(l){var h=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),pu(h,l)},Vo.prototype.__destroy__=Vo.prototype.__destroy__=function(){rc(this.ptr)},(ho.prototype=Object.create(Et.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},u.SuspendContextNetworkRpc=ho,ho.prototype.Cancel=ho.prototype.Cancel=function(){Uh(this.ptr)},ho.prototype.GetRequestSize=ho.prototype.GetRequestSize=function(){return Gh(this.ptr)},ho.prototype.GetRequestData=ho.prototype.GetRequestData=function(){return zn(zh(this.ptr),sr)},ho.prototype.ReceiveResponse=ho.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Fs(this.ptr,l,h)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){rf(this.ptr)},(Lr.prototype=Object.create(Et.prototype)).constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},u.SuspendContext=Lr,Lr.prototype.GetKind=Lr.prototype.GetKind=function(){return po(this.ptr)},Lr.prototype.Cancel=Lr.prototype.Cancel=function(){hu(this.ptr)},Lr.prototype.AsContextClipboardCopy=Lr.prototype.AsContextClipboardCopy=function(){return zn(sf(this.ptr),kr)},Lr.prototype.AsContextClipboardPaste=Lr.prototype.AsContextClipboardPaste=function(){return zn(af(this.ptr),ri)},Lr.prototype.AsContextNetworkConnect=Lr.prototype.AsContextNetworkConnect=function(){return zn(mu(this.ptr),Vo)},Lr.prototype.AsContextNetworkRpc=Lr.prototype.AsContextNetworkRpc=function(){return zn(gu(this.ptr),ho)},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){lf(this.ptr)},($r.prototype=Object.create(Et.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},u.ZipfileWalker=$r,$r.prototype.GetState=$r.prototype.GetState=function(){return cf(this.ptr)},$r.prototype.Next=$r.prototype.Next=function(){return fi(this.ptr)},$r.prototype.GetCurrentEntrySize=$r.prototype.GetCurrentEntrySize=function(){return ic(this.ptr)},$r.prototype.GetCurrentEntryName=$r.prototype.GetCurrentEntryName=function(){return Ve(uf(this.ptr))},$r.prototype.GetCurrentEntryContent=$r.prototype.GetCurrentEntryContent=function(){return zn(sc(this.ptr),sr)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){df(this.ptr)},(rn.prototype=Object.create(Et.prototype)).constructor=rn,rn.prototype.__class__=rn,rn.__cache__={},u.SessionImage=rn,rn.prototype.GetDeviceId=rn.prototype.GetDeviceId=function(){return Ve(Ur(this.ptr))},rn.prototype.SetDeviceId=rn.prototype.SetDeviceId=function(l){var h=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Bo(l),zn(ff(h,l),rn)},rn.prototype.GetRomImage=rn.prototype.GetRomImage=function(){return zn(qh(this.ptr),sr)},rn.prototype.GetRomImageSize=rn.prototype.GetRomImageSize=function(){return vl(this.ptr)},rn.prototype.SetRomImage=rn.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),zn(pi(this.ptr,l,h),rn)},rn.prototype.GetMemoryImage=rn.prototype.GetMemoryImage=function(){return zn(pf(this.ptr),sr)},rn.prototype.GetMemoryImageSize=rn.prototype.GetMemoryImageSize=function(){return ac(this.ptr)},rn.prototype.SetMemoryImage=rn.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),zn(oa(this.ptr,l,h),rn)},rn.prototype.GetMetadata=rn.prototype.GetMetadata=function(){return zn(ni(this.ptr),sr)},rn.prototype.GetMetadataSize=rn.prototype.GetMetadataSize=function(){return yu(this.ptr)},rn.prototype.SetMetadata=rn.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),zn(lc(this.ptr,l,h),rn)},rn.prototype.GetSavestate=rn.prototype.GetSavestate=function(){return zn(hf(this.ptr),sr)},rn.prototype.GetSavestateSize=rn.prototype.GetSavestateSize=function(){return ms(this.ptr)},rn.prototype.SetSavestate=rn.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),zn(_u(this.ptr,l,h),rn)},rn.prototype.GetVersion=rn.prototype.GetVersion=function(){return cc(this.ptr)},rn.prototype.Serialize=rn.prototype.Serialize=function(){return!!_n(this.ptr)},rn.prototype.GetSerializedImage=rn.prototype.GetSerializedImage=function(){return zn(vu(this.ptr),sr)},rn.prototype.GetSerializedImageSize=rn.prototype.GetSerializedImageSize=function(){return Zh(this.ptr)},rn.prototype.Deserialize=rn.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!mf(this.ptr,l,h)},rn.prototype.__destroy__=rn.prototype.__destroy__=function(){gf(this.ptr)},k.ready});Be.exports=qe},9084:Be=>{var F,qe=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ae,ie,u=typeof(k=k||{})<"u"?k:{};u.ready=new Promise(function(p,y){ae=p,ie=y});var j,Oe,ee,q=Object.assign({},u),X=[],G="./this.program",z=(p,y)=>{throw y},Ce="object"==typeof window,Z="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ce||Z)&&(Z?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),F&&($=F),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},Z&&(ee=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Oe=(p,y,w)=>{var P=new XMLHttpRequest;P.open("GET",p,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?y(P.response):w()},P.onerror=w,P.send(null)});var he,we=u.print||console.log.bind(console),ce=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(X=u.arguments),u.thisProgram&&(G=u.thisProgram),u.quit&&(z=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Ne=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var me,ve,Ye=!1;function Ie(p,y){p||Qn(y)}var Ze,Ke,yt,L,H,ge,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(p,y,w){for(var P=y+w,V=y;p[V]&&!(V>=P);)++V;if(V-y>16&&p.buffer&&Ae)return Ae.decode(p.subarray(y,V));for(var ne="";y<V;){var _e=p[y++];if(128&_e){var d=63&p[y++];if(192!=(224&_e)){var g=63&p[y++];if((_e=224==(240&_e)?(15&_e)<<12|d<<6|g:(7&_e)<<18|d<<12|g<<6|63&p[y++])<65536)ne+=String.fromCharCode(_e);else{var b=_e-65536;ne+=String.fromCharCode(55296|b>>10,56320|1023&b)}}else ne+=String.fromCharCode((31&_e)<<6|d)}else ne+=String.fromCharCode(_e)}return ne}function Ve(p,y){return p?ze(yt,p,y):""}function Pe(p,y,w,P){if(!(P>0))return 0;for(var V=w,ne=w+P-1,_e=0;_e<p.length;++_e){var d=p.charCodeAt(_e);if(d>=55296&&d<=57343&&(d=65536+((1023&d)<<10)|1023&p.charCodeAt(++_e)),d<=127){if(w>=ne)break;y[w++]=d}else if(d<=2047){if(w+1>=ne)break;y[w++]=192|d>>6,y[w++]=128|63&d}else if(d<=65535){if(w+2>=ne)break;y[w++]=224|d>>12,y[w++]=128|d>>6&63,y[w++]=128|63&d}else{if(w+3>=ne)break;y[w++]=240|d>>18,y[w++]=128|d>>12&63,y[w++]=128|d>>6&63,y[w++]=128|63&d}}return y[w]=0,w-V}function Q(p){for(var y=0,w=0;w<p.length;++w){var P=p.charCodeAt(w);P<=127?y++:P<=2047?y+=2:P>=55296&&P<=57343?(y+=4,++w):y+=3}return y}function Re(p){Ze=p,u.HEAP8=Ke=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAP32=L=new Int32Array(p),u.HEAPU8=yt=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAPU32=H=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=ge=new Float64Array(p)}var En,it=[],lt=[],Rt=[],Bt=[],jn=0,lr=null,wr=null;function vo(p){jn++,u.monitorRunDependencies&&u.monitorRunDependencies(jn)}function cr(p){if(jn--,u.monitorRunDependencies&&u.monitorRunDependencies(jn),0==jn&&(null!==lr&&(clearInterval(lr),lr=null),wr)){var y=wr;wr=null,y()}}function Qn(p){u.onAbort&&u.onAbort(p),ce(p="Aborted("+p+")"),Ye=!0,ve=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw ie(y),y}function Vr(p){return p.startsWith("data:application/octet-stream;base64,")}function Zr(p){try{if(p==En&&he)return new Uint8Array(he);if(ee)return ee(p);throw"both async and sync fetching of the wasm failed"}catch(y){Qn(y)}}Vr(En="fstools_web.wasm")||(En=function O(p){return u.locateFile?u.locateFile(p,$):$+p}(En));var at,le,je={40302:()=>{throw new Error("terminated")}};function hn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Sn(p){for(;p.length>0;)p.shift()(u)}var $t={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var w=0,P=p.length-1;P>=0;P--){var V=p[P];"."===V?p.splice(P,1):".."===V?(p.splice(P,1),w++):w&&(p.splice(P,1),w--)}if(y)for(;w;w--)p.unshift("..");return p},normalize:p=>{var y=$t.isAbs(p),w="/"===p.substr(-1);return!(p=$t.normalizeArray(p.split("/").filter(P=>!!P),!y).join("/"))&&!y&&(p="."),p&&w&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=$t.splitPath(p),w=y[0],P=y[1];return w||P?(P&&(P=P.substr(0,P.length-1)),w+P):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=$t.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return $t.normalize(p.join("/"))},join2:(p,y)=>$t.normalize(p+"/"+y)},tr={resolve:function(){for(var p="",y=!1,w=arguments.length-1;w>=-1&&!y;w--){var P=w>=0?arguments[w]:E.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";p=P+"/"+p,y=$t.isAbs(P)}return(y?"/":"")+(p=$t.normalizeArray(p.split("/").filter(V=>!!V),!y).join("/"))||"."},relative:(p,y)=>{function w(b){for(var C=0;C<b.length&&""===b[C];C++);for(var B=b.length-1;B>=0&&""===b[B];B--);return C>B?[]:b.slice(C,B-C+1)}p=tr.resolve(p).substr(1),y=tr.resolve(y).substr(1);for(var P=w(p.split("/")),V=w(y.split("/")),ne=Math.min(P.length,V.length),_e=ne,d=0;d<ne;d++)if(P[d]!==V[d]){_e=d;break}var g=[];for(d=_e;d<P.length;d++)g.push("..");return(g=g.concat(V.slice(_e))).join("/")}};function nn(p,y,w){var P=w>0?w:Q(p)+1,V=new Array(P),ne=Pe(p,V,0,V.length);return y&&(V.length=ne),V}var Kn={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Kn.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,Kn.stream_ops)},stream_ops:{open:function(p){var y=Kn.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,w,P,V){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var ne=0,_e=0;_e<P;_e++){var d;try{d=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===d&&0===ne)throw new E.ErrnoError(6);if(null==d)break;ne++,y[w+_e]=d}return ne&&(p.node.timestamp=Date.now()),ne},write:function(p,y,w,P,V){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var ne=0;ne<P;ne++)p.tty.ops.put_char(p.tty,y[w+ne])}catch{throw new E.ErrnoError(29)}return P&&(p.node.timestamp=Date.now()),ne}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=nn(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(we(ze(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(we(ze(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(ce(ze(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(ce(ze(p.output,0)),p.output=[])}}};function ur(p){Qn()}var jt={ops_table:null,mount:function(p){return jt.createNode(null,"/",16895,0)},createNode:function(p,y,w,P){if(E.isBlkdev(w)||E.isFIFO(w))throw new E.ErrnoError(63);jt.ops_table||(jt.ops_table={dir:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,lookup:jt.node_ops.lookup,mknod:jt.node_ops.mknod,rename:jt.node_ops.rename,unlink:jt.node_ops.unlink,rmdir:jt.node_ops.rmdir,readdir:jt.node_ops.readdir,symlink:jt.node_ops.symlink},stream:{llseek:jt.stream_ops.llseek}},file:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:{llseek:jt.stream_ops.llseek,read:jt.stream_ops.read,write:jt.stream_ops.write,allocate:jt.stream_ops.allocate,mmap:jt.stream_ops.mmap,msync:jt.stream_ops.msync}},link:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,readlink:jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:E.chrdev_stream_ops}});var V=E.createNode(p,y,w,P);return E.isDir(V.mode)?(V.node_ops=jt.ops_table.dir.node,V.stream_ops=jt.ops_table.dir.stream,V.contents={}):E.isFile(V.mode)?(V.node_ops=jt.ops_table.file.node,V.stream_ops=jt.ops_table.file.stream,V.usedBytes=0,V.contents=null):E.isLink(V.mode)?(V.node_ops=jt.ops_table.link.node,V.stream_ops=jt.ops_table.link.stream):E.isChrdev(V.mode)&&(V.node_ops=jt.ops_table.chrdev.node,V.stream_ops=jt.ops_table.chrdev.stream),V.timestamp=Date.now(),p&&(p.contents[y]=V,p.timestamp=V.timestamp),V},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var w=p.contents?p.contents.length:0;if(!(w>=y)){y=Math.max(y,w*(w<1048576?2:1.125)>>>0),0!=w&&(y=Math.max(y,256));var V=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(V.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(y),w&&p.contents.set(w.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&jt.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,w,P){return jt.createNode(p,y,w,P)},rename:function(p,y,w){if(E.isDir(p.mode)){var P;try{P=E.lookupNode(y,w)}catch{}if(P)for(var V in P.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,y.contents[w]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var w=E.lookupNode(p,y);for(var P in w.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var w in p.contents)!p.contents.hasOwnProperty(w)||y.push(w);return y},symlink:function(p,y,w){var P=jt.createNode(p,y,41471,0);return P.link=w,P},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,w,P,V){var ne=p.node.contents;if(V>=p.node.usedBytes)return 0;var _e=Math.min(p.node.usedBytes-V,P);if(_e>8&&ne.subarray)y.set(ne.subarray(V,V+_e),w);else for(var d=0;d<_e;d++)y[w+d]=ne[V+d];return _e},write:function(p,y,w,P,V,ne){if(y.buffer===Ke.buffer&&(ne=!1),!P)return 0;var _e=p.node;if(_e.timestamp=Date.now(),y.subarray&&(!_e.contents||_e.contents.subarray)){if(ne)return _e.contents=y.subarray(w,w+P),_e.usedBytes=P,P;if(0===_e.usedBytes&&0===V)return _e.contents=y.slice(w,w+P),_e.usedBytes=P,P;if(V+P<=_e.usedBytes)return _e.contents.set(y.subarray(w,w+P),V),P}if(jt.expandFileStorage(_e,V+P),_e.contents.subarray&&y.subarray)_e.contents.set(y.subarray(w,w+P),V);else for(var d=0;d<P;d++)_e.contents[V+d]=y[w+d];return _e.usedBytes=Math.max(_e.usedBytes,V+P),P},llseek:function(p,y,w){var P=y;if(1===w?P+=p.position:2===w&&E.isFile(p.node.mode)&&(P+=p.node.usedBytes),P<0)throw new E.ErrnoError(28);return P},allocate:function(p,y,w){jt.expandFileStorage(p.node,y+w),p.node.usedBytes=Math.max(p.node.usedBytes,y+w)},mmap:function(p,y,w,P,V){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var ne,_e,d=p.node.contents;if(2&V||d.buffer!==Ze){if((w>0||w+y<d.length)&&(d=d.subarray?d.subarray(w,w+y):Array.prototype.slice.call(d,w,w+y)),_e=!0,!(ne=ur()))throw new E.ErrnoError(48);Ke.set(d,ne)}else _e=!1,ne=d.byteOffset;return{ptr:ne,allocated:_e}},msync:function(p,y,w,P,V){return jt.stream_ops.write(p,y,0,P,w,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=tr.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var P=p.split("/").filter(B=>!!B),V=E.root,ne="/",_e=0;_e<P.length;_e++){var d=_e===P.length-1;if(d&&y.parent)break;if(V=E.lookupNode(V,P[_e]),ne=$t.join2(ne,P[_e]),E.isMountpoint(V)&&(!d||d&&y.follow_mount)&&(V=V.mounted.root),!d||y.follow)for(var g=0;E.isLink(V.mode);){var b=E.readlink(ne);if(ne=tr.resolve($t.dirname(ne),b),V=E.lookupPath(ne,{recurse_count:y.recurse_count+1}).node,g++>40)throw new E.ErrnoError(32)}}return{path:ne,node:V}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var w=p.mount.mountpoint;return y?"/"!==w[w.length-1]?w+"/"+y:w+y:w}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var w=0,P=0;P<y.length;P++)w=(w<<5)-w+y.charCodeAt(P)|0;return(p+w>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var w=E.nameTable[y];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,y)=>{var w=E.mayLookup(p);if(w)throw new E.ErrnoError(w,p);for(var P=E.hashName(p.id,y),V=E.nameTable[P];V;V=V.name_next)if(V.parent.id===p.id&&V.name===y)return V;return E.lookup(p,y)},createNode:(p,y,w,P)=>{var V=new E.FSNode(p,y,w,P);return E.hashAddNode(V),V},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,w)=>{var P;try{P=E.lookupNode(p,y)}catch(ne){return ne.errno}var V=E.nodePermissions(p,"wx");if(V)return V;if(w){if(!E.isDir(P.mode))return 54;if(E.isRoot(P)||E.getPath(P)===E.cwd())return 10}else if(E.isDir(P.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var w=p;w<=y;w++)if(!E.streams[w])return w;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,w)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(V){this.node=V}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(V){this.shared.flags=V}},position:{get:function(){return this.shared.position},set:function(V){this.shared.position=V}}})),p=Object.assign(new E.FSStream,p);var P=E.nextfd(y,w);return p.fd=P,E.streams[P]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],w=[p];w.length;){var P=w.pop();y.push(P),w.push.apply(w,P.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&ce("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=E.getMounts(E.root.mount),P=0;function V(_e){return E.syncFSRequests--,y(_e)}function ne(_e){if(_e)return ne.errored?void 0:(ne.errored=!0,V(_e));++P>=w.length&&V(null)}w.forEach(_e=>{if(!_e.type.syncfs)return ne(null);_e.type.syncfs(_e,p,ne)})},mount:(p,y,w)=>{var ne,P="/"===w,V=!w;if(P&&E.root)throw new E.ErrnoError(10);if(!P&&!V){var _e=E.lookupPath(w,{follow_mount:!1});if(w=_e.path,E.isMountpoint(ne=_e.node))throw new E.ErrnoError(10);if(!E.isDir(ne.mode))throw new E.ErrnoError(54)}var d={type:p,opts:y,mountpoint:w,mounts:[]},g=p.mount(d);return g.mount=d,d.root=g,P?E.root=g:ne&&(ne.mounted=d,ne.mount&&ne.mount.mounts.push(d)),g},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var w=y.node,P=w.mounted,V=E.getMounts(P);Object.keys(E.nameTable).forEach(_e=>{for(var d=E.nameTable[_e];d;){var g=d.name_next;V.includes(d.mount)&&E.destroyNode(d),d=g}}),w.mounted=null;var ne=w.mount.mounts.indexOf(P);w.mount.mounts.splice(ne,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,w)=>{var V=E.lookupPath(p,{parent:!0}).node,ne=$t.basename(p);if(!ne||"."===ne||".."===ne)throw new E.ErrnoError(28);var _e=E.mayCreate(V,ne);if(_e)throw new E.ErrnoError(_e);if(!V.node_ops.mknod)throw new E.ErrnoError(63);return V.node_ops.mknod(V,ne,y,w)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var w=p.split("/"),P="",V=0;V<w.length;++V)if(w[V]){P+="/"+w[V];try{E.mkdir(P,y)}catch(ne){if(20!=ne.errno)throw ne}}},mkdev:(p,y,w)=>(typeof w>"u"&&(w=y,y=438),E.mknod(p,y|=8192,w)),symlink:(p,y)=>{if(!tr.resolve(p))throw new E.ErrnoError(44);var P=E.lookupPath(y,{parent:!0}).node;if(!P)throw new E.ErrnoError(44);var V=$t.basename(y),ne=E.mayCreate(P,V);if(ne)throw new E.ErrnoError(ne);if(!P.node_ops.symlink)throw new E.ErrnoError(63);return P.node_ops.symlink(P,V,p)},rename:(p,y)=>{var d,g,w=$t.dirname(p),P=$t.dirname(y),V=$t.basename(p),ne=$t.basename(y);if(d=E.lookupPath(p,{parent:!0}).node,g=E.lookupPath(y,{parent:!0}).node,!d||!g)throw new E.ErrnoError(44);if(d.mount!==g.mount)throw new E.ErrnoError(75);var B,b=E.lookupNode(d,V),C=tr.relative(p,P);if("."!==C.charAt(0))throw new E.ErrnoError(28);if("."!==(C=tr.relative(y,w)).charAt(0))throw new E.ErrnoError(55);try{B=E.lookupNode(g,ne)}catch{}if(b!==B){var K=E.isDir(b.mode),J=E.mayDelete(d,V,K);if(J)throw new E.ErrnoError(J);if(J=B?E.mayDelete(g,ne,K):E.mayCreate(g,ne))throw new E.ErrnoError(J);if(!d.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(b)||B&&E.isMountpoint(B))throw new E.ErrnoError(10);if(g!==d&&(J=E.nodePermissions(d,"w")))throw new E.ErrnoError(J);E.hashRemoveNode(b);try{d.node_ops.rename(b,g,ne)}catch(Ee){throw Ee}finally{E.hashAddNode(b)}}},rmdir:p=>{var w=E.lookupPath(p,{parent:!0}).node,P=$t.basename(p),V=E.lookupNode(w,P),ne=E.mayDelete(w,P,!0);if(ne)throw new E.ErrnoError(ne);if(!w.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(V))throw new E.ErrnoError(10);w.node_ops.rmdir(w,P),E.destroyNode(V)},readdir:p=>{var w=E.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new E.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=E.lookupPath(p,{parent:!0}).node;if(!w)throw new E.ErrnoError(44);var P=$t.basename(p),V=E.lookupNode(w,P),ne=E.mayDelete(w,P,!1);if(ne)throw new E.ErrnoError(ne);if(!w.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(V))throw new E.ErrnoError(10);w.node_ops.unlink(w,P),E.destroyNode(V)},readlink:p=>{var w=E.lookupPath(p).node;if(!w)throw new E.ErrnoError(44);if(!w.node_ops.readlink)throw new E.ErrnoError(28);return tr.resolve(E.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,y)=>{var P=E.lookupPath(p,{follow:!y}).node;if(!P)throw new E.ErrnoError(44);if(!P.node_ops.getattr)throw new E.ErrnoError(63);return P.node_ops.getattr(P)},lstat:p=>E.stat(p,!0),chmod:(p,y,w)=>{var P;if(!(P="string"==typeof p?E.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new E.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&y|-4096&P.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);E.chmod(w.node,y)},chown:(p,y,w,P)=>{var V;if(!(V="string"==typeof p?E.lookupPath(p,{follow:!P}).node:p).node_ops.setattr)throw new E.ErrnoError(63);V.node_ops.setattr(V,{timestamp:Date.now()})},lchown:(p,y,w)=>{E.chown(p,y,w,!0)},fchown:(p,y,w)=>{var P=E.getStream(p);if(!P)throw new E.ErrnoError(8);E.chown(P.node,y,w)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var w;if(!(w="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(w.mode))throw new E.ErrnoError(31);if(!E.isFile(w.mode))throw new E.ErrnoError(28);var V=E.nodePermissions(w,"w");if(V)throw new E.ErrnoError(V);w.node_ops.setattr(w,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);if(0==(2097155&w.flags))throw new E.ErrnoError(28);E.truncate(w.node,y)},utime:(p,y,w)=>{var V=E.lookupPath(p,{follow:!0}).node;V.node_ops.setattr(V,{timestamp:Math.max(y,w)})},open:(p,y,w)=>{if(""===p)throw new E.ErrnoError(44);var P;if(w=typeof w>"u"?438:w,w=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&w|32768:0,"object"==typeof p)P=p;else{p=$t.normalize(p);try{P=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var ne=!1;if(64&y)if(P){if(128&y)throw new E.ErrnoError(20)}else P=E.mknod(p,w,0),ne=!0;if(!P)throw new E.ErrnoError(44);if(E.isChrdev(P.mode)&&(y&=-513),65536&y&&!E.isDir(P.mode))throw new E.ErrnoError(54);if(!ne){var _e=E.mayOpen(P,y);if(_e)throw new E.ErrnoError(_e)}512&y&&!ne&&E.truncate(P,0),y&=-131713;var d=E.createStream({node:P,path:E.getPath(P),flags:y,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return d.stream_ops.open&&d.stream_ops.open(d),u.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),d},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,w),p.ungotten=[],p.position},read:(p,y,w,P,V)=>{if(P<0||V<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var ne=typeof V<"u";if(ne){if(!p.seekable)throw new E.ErrnoError(70)}else V=p.position;var _e=p.stream_ops.read(p,y,w,P,V);return ne||(p.position+=_e),_e},write:(p,y,w,P,V,ne)=>{if(P<0||V<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(0==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var _e=typeof V<"u";if(_e){if(!p.seekable)throw new E.ErrnoError(70)}else V=p.position;var d=p.stream_ops.write(p,y,w,P,V,ne);return _e||(p.position+=d),d},allocate:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||w<=0)throw new E.ErrnoError(28);if(0==(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,w)},mmap:(p,y,w,P,V)=>{if(0!=(2&P)&&0==(2&V)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,w,P,V)},msync:(p,y,w,P,V)=>p.stream_ops.msync?p.stream_ops.msync(p,y,w,P,V):0,munmap:p=>0,ioctl:(p,y,w)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,w)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var w,P=E.open(p,y.flags),ne=E.stat(p).size,_e=new Uint8Array(ne);return E.read(P,_e,0,ne,0),"utf8"===y.encoding?w=ze(_e,0):"binary"===y.encoding&&(w=_e),E.close(P),w},writeFile:(p,y,w={})=>{w.flags=w.flags||577;var P=E.open(p,w.flags,w.mode);if("string"==typeof y){var V=new Uint8Array(Q(y)+1),ne=Pe(y,V,0,V.length);E.write(P,V,0,ne,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(P,y,0,y.byteLength,void 0,w.canOwn)}E.close(P)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var w=E.nodePermissions(y.node,"x");if(w)throw new E.ErrnoError(w);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,w,P,V,ne)=>V}),E.mkdev("/dev/null",E.makedev(1,3)),Kn.register(E.makedev(5,0),Kn.default_tty_ops),Kn.register(E.makedev(6,0),Kn.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function cn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>Qn("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(w,P)=>{var ne=E.getStream(+P);if(!ne)throw new E.ErrnoError(8);var _e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ne.path}};return _e.parent=_e,_e}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?E.createDevice("/dev","stdin",u.stdin):E.symlink("/dev/tty","/dev/stdin"),u.stdout?E.createDevice("/dev","stdout",null,u.stdout):E.symlink("/dev/tty","/dev/stdout"),u.stderr?E.createDevice("/dev","stderr",null,u.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,w){this.node=w,this.setErrno=function(P){this.errno=P},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(jt,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:jt}},init:(p,y,w)=>{E.init.initialized=!0,E.ensureErrnoError(),u.stdin=p||u.stdin,u.stdout=y||u.stdout,u.stderr=w||u.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];!y||E.close(y)}},getMode:(p,y)=>{var w=0;return p&&(w|=365),y&&(w|=146),w},findObject:(p,y)=>{var w=E.analyzePath(p,y);return w.exists?w.object:null},analyzePath:(p,y)=>{try{p=(w=E.lookupPath(p,{follow:!y})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=E.lookupPath(p,{parent:!0});P.parentExists=!0,P.parentPath=w.path,P.parentObject=w.node,P.name=$t.basename(p),w=E.lookupPath(p,{follow:!y}),P.exists=!0,P.path=w.path,P.object=w.node,P.name=w.node.name,P.isRoot="/"===w.path}catch(V){P.error=V.errno}return P},createPath:(p,y,w,P)=>{p="string"==typeof p?p:E.getPath(p);for(var V=y.split("/").reverse();V.length;){var ne=V.pop();if(ne){var _e=$t.join2(p,ne);try{E.mkdir(_e)}catch{}p=_e}}return _e},createFile:(p,y,w,P,V)=>{var ne=$t.join2("string"==typeof p?p:E.getPath(p),y),_e=E.getMode(P,V);return E.create(ne,_e)},createDataFile:(p,y,w,P,V,ne)=>{var _e=y;p&&(p="string"==typeof p?p:E.getPath(p),_e=y?$t.join2(p,y):p);var d=E.getMode(P,V),g=E.create(_e,d);if(w){if("string"==typeof w){for(var b=new Array(w.length),C=0,B=w.length;C<B;++C)b[C]=w.charCodeAt(C);w=b}E.chmod(g,146|d);var K=E.open(g,577);E.write(K,w,0,w.length,0,ne),E.close(K),E.chmod(g,d)}return g},createDevice:(p,y,w,P)=>{var V=$t.join2("string"==typeof p?p:E.getPath(p),y),ne=E.getMode(!!w,!!P);E.createDevice.major||(E.createDevice.major=64);var _e=E.makedev(E.createDevice.major++,0);return E.registerDevice(_e,{open:d=>{d.seekable=!1},close:d=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(d,g,b,C,B)=>{for(var K=0,J=0;J<C;J++){var Ee;try{Ee=w()}catch{throw new E.ErrnoError(29)}if(void 0===Ee&&0===K)throw new E.ErrnoError(6);if(null==Ee)break;K++,g[b+J]=Ee}return K&&(d.node.timestamp=Date.now()),K},write:(d,g,b,C,B)=>{for(var K=0;K<C;K++)try{P(g[b+K])}catch{throw new E.ErrnoError(29)}return C&&(d.node.timestamp=Date.now()),K}}),E.mkdev(V,ne,_e)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=nn(j(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,w,P,V)=>{function ne(){this.lengthKnown=!1,this.chunks=[]}if(ne.prototype.get=function(J){if(!(J>this.length-1||J<0)){var Ee=J%this.chunkSize;return this.getter(J/this.chunkSize|0)[Ee]}},ne.prototype.setDataGetter=function(J){this.getter=J},ne.prototype.cacheLength=function(){var J=new XMLHttpRequest;if(J.open("HEAD",w,!1),J.send(null),!(J.status>=200&&J.status<300||304===J.status))throw new Error("Couldn't load "+w+". Status: "+J.status);var Je,Ee=Number(J.getResponseHeader("Content-length")),Ft=(Je=J.getResponseHeader("Accept-Ranges"))&&"bytes"===Je,Zt=(Je=J.getResponseHeader("Content-Encoding"))&&"gzip"===Je,ye=1048576;Ft||(ye=Ee);var mt=this;mt.setDataGetter(St=>{var dn=St*ye,mn=(St+1)*ye-1;if(mn=Math.min(mn,Ee-1),typeof mt.chunks[St]>"u"&&(mt.chunks[St]=((St,dn)=>{if(St>dn)throw new Error("invalid range ("+St+", "+dn+") or no bytes requested!");if(dn>Ee-1)throw new Error("only "+Ee+" bytes available! programmer error!");var mn=new XMLHttpRequest;if(mn.open("GET",w,!1),Ee!==ye&&mn.setRequestHeader("Range","bytes="+St+"-"+dn),mn.responseType="arraybuffer",mn.overrideMimeType&&mn.overrideMimeType("text/plain; charset=x-user-defined"),mn.send(null),!(mn.status>=200&&mn.status<300||304===mn.status))throw new Error("Couldn't load "+w+". Status: "+mn.status);return void 0!==mn.response?new Uint8Array(mn.response||[]):nn(mn.responseText||"",!0)})(dn,mn)),typeof mt.chunks[St]>"u")throw new Error("doXHR failed!");return mt.chunks[St]}),(Zt||!Ee)&&(ye=Ee=1,Ee=this.getter(0).length,ye=Ee,we("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ee,this._chunkSize=ye,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _e=new ne;Object.defineProperties(_e,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var d={isDevice:!1,contents:_e}}else d={isDevice:!1,url:w};var g=E.createFile(p,y,d,P,V);d.contents?g.contents=d.contents:d.url&&(g.contents=null,g.url=d.url),Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var b={};function B(K,J,Ee,Je,Ft){var Zt=K.node.contents;if(Ft>=Zt.length)return 0;var ye=Math.min(Zt.length-Ft,Je);if(Zt.slice)for(var et=0;et<ye;et++)J[Ee+et]=Zt[Ft+et];else for(et=0;et<ye;et++)J[Ee+et]=Zt.get(Ft+et);return ye}return Object.keys(g.stream_ops).forEach(K=>{var J=g.stream_ops[K];b[K]=function(){return E.forceLoadFile(g),J.apply(null,arguments)}}),b.read=(K,J,Ee,Je,Ft)=>(E.forceLoadFile(g),B(K,J,Ee,Je,Ft)),b.mmap=(K,J,Ee,Je,Ft)=>{E.forceLoadFile(g);var Zt=ur();if(!Zt)throw new E.ErrnoError(48);return B(K,Ke,Zt,J,Ee),{ptr:Zt,allocated:!0}},g.stream_ops=b,g},createPreloadedFile:(p,y,w,P,V,ne,_e,d,g,b)=>{var C=y?tr.resolve($t.join2(p,y)):p;function K(J){function Ee(Je){b&&b(),d||E.createDataFile(p,y,Je,P,V,g),ne&&ne(),cr()}Browser.handledByPreloadPlugin(J,C,Ee,()=>{_e&&_e(),cr()})||Ee(J)}vo(),"string"==typeof w?function nr(p,y,w,P){var V=P?"":"al "+p;Oe(p,ne=>{Ie(ne,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(ne)),V&&cr()},ne=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),V&&vo()}(w,J=>K(J),_e):K(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var P=E.indexedDB();try{var V=P.open(E.DB_NAME(),E.DB_VERSION)}catch(ne){return w(ne)}V.onupgradeneeded=()=>{we("creating db"),V.result.createObjectStore(E.DB_STORE_NAME)},V.onsuccess=()=>{var _e=V.result.transaction([E.DB_STORE_NAME],"readwrite"),d=_e.objectStore(E.DB_STORE_NAME),g=0,b=0,C=p.length;function B(){0==b?y():w()}p.forEach(K=>{var J=d.put(E.analyzePath(K).object.contents,K);J.onsuccess=()=>{++g+b==C&&B()},J.onerror=()=>{b++,g+b==C&&B()}}),_e.onerror=w},V.onerror=w},loadFilesFromDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var P=E.indexedDB();try{var V=P.open(E.DB_NAME(),E.DB_VERSION)}catch(ne){return w(ne)}V.onupgradeneeded=w,V.onsuccess=()=>{var ne=V.result;try{var _e=ne.transaction([E.DB_STORE_NAME],"readonly")}catch(K){return void w(K)}var d=_e.objectStore(E.DB_STORE_NAME),g=0,b=0,C=p.length;function B(){0==b?y():w()}p.forEach(K=>{var J=d.get(K);J.onsuccess=()=>{E.analyzePath(K).exists&&E.unlink(K),E.createDataFile($t.dirname(K),$t.basename(K),J.result,!0,!0,!0),++g+b==C&&B()},J.onerror=()=>{b++,g+b==C&&B()}}),_e.onerror=w},V.onerror=w}},At={DEFAULT_POLLMASK:5,calculateAt:function(p,y,w){if($t.isAbs(y))return y;var P;if(P=-100===p?E.cwd():At.getStreamFromFD(p).path,0==y.length){if(!w)throw new E.ErrnoError(44);return P}return $t.join2(P,y)},doStat:function(p,y,w){try{var P=p(y)}catch(V){if(V&&V.node&&$t.normalize(y)!==$t.normalize(E.getPath(V.node)))return-54;throw V}return L[w>>2]=P.dev,L[w+8>>2]=P.ino,L[w+12>>2]=P.mode,H[w+16>>2]=P.nlink,L[w+20>>2]=P.uid,L[w+24>>2]=P.gid,L[w+28>>2]=P.rdev,le=[P.size>>>0,(at=P.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[w+40>>2]=le[0],L[w+44>>2]=le[1],L[w+48>>2]=4096,L[w+52>>2]=P.blocks,le=[Math.floor(P.atime.getTime()/1e3)>>>0,(at=Math.floor(P.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[w+56>>2]=le[0],L[w+60>>2]=le[1],H[w+64>>2]=0,le=[Math.floor(P.mtime.getTime()/1e3)>>>0,(at=Math.floor(P.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[w+72>>2]=le[0],L[w+76>>2]=le[1],H[w+80>>2]=0,le=[Math.floor(P.ctime.getTime()/1e3)>>>0,(at=Math.floor(P.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[w+88>>2]=le[0],L[w+92>>2]=le[1],H[w+96>>2]=0,le=[P.ino>>>0,(at=P.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[w+104>>2]=le[0],L[w+108>>2]=le[1],0},doMsync:function(p,y,w,P,V){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&P)return 0;var ne=yt.slice(p,p+w);E.msync(y,ne,V,w,P)},varargs:void 0,get:function(){return At.varargs+=4,L[At.varargs-4>>2]},getStr:function(p){return Ve(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function M(p){return H[p>>2]+4294967296*L[p+4>>2]}function lo(p){return p%4==0&&(p%100!=0||p%400==0)}var co=[0,31,60,91,121,152,182,213,244,274,305,335],Oo=[0,31,59,90,120,151,181,212,243,273,304,334];function zt(p){var y=Q(p)+1,w=uo(y);return w&&Pe(p,Ke,w,y),w}var ro=[];function Yr(p){try{return me.grow(p-Ze.byteLength+65535>>>16),Re(me.buffer),1}catch{}}var ui={};function No(){if(!No.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var w in ui)void 0===ui[w]?delete y[w]:y[w]=ui[w];var P=[];for(var w in y)P.push(w+"="+y[w]);No.strings=P}return No.strings}function Li(p,y){ve=p,function Yo(p){ve=p,function sn(){return Ne}()||(u.onExit&&u.onExit(p),Ye=!0),z(p,new hn(p))}(p)}var Gn=Li,T=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Le=function(p,y,w,P){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(Le.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=Le,E.staticInit();var Bi,It={o:function gr(p,y,w,P){At.varargs=P;try{y=At.getStr(y),y=At.calculateAt(p,y);var V=P?At.get():0;return E.open(y,w,V).fd}catch(ne){if(typeof E>"u"||!(ne instanceof E.ErrnoError))throw ne;return-ne.errno}},h:function Fr(p,y){var w=new Date(1e3*M(p));L[y>>2]=w.getUTCSeconds(),L[y+4>>2]=w.getUTCMinutes(),L[y+8>>2]=w.getUTCHours(),L[y+12>>2]=w.getUTCDate(),L[y+16>>2]=w.getUTCMonth(),L[y+20>>2]=w.getUTCFullYear()-1900,L[y+24>>2]=w.getUTCDay();var P=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),V=(w.getTime()-P)/864e5|0;L[y+28>>2]=V},i:function To(p,y){var w=new Date(1e3*M(p));L[y>>2]=w.getSeconds(),L[y+4>>2]=w.getMinutes(),L[y+8>>2]=w.getHours(),L[y+12>>2]=w.getDate(),L[y+16>>2]=w.getMonth(),L[y+20>>2]=w.getFullYear()-1900,L[y+24>>2]=w.getDay();var P=0|function Cr(p){return(lo(p.getFullYear())?co:Oo)[p.getMonth()]+p.getDate()-1}(w);L[y+28>>2]=P,L[y+36>>2]=-60*w.getTimezoneOffset();var V=new Date(w.getFullYear(),0,1),ne=new Date(w.getFullYear(),6,1).getTimezoneOffset(),_e=V.getTimezoneOffset(),d=0|(ne!=_e&&w.getTimezoneOffset()==Math.min(_e,ne));L[y+32>>2]=d},j:function no(p,y,w){var P=(new Date).getFullYear(),V=new Date(P,0,1),ne=new Date(P,6,1),_e=V.getTimezoneOffset(),d=ne.getTimezoneOffset(),g=Math.max(_e,d);function b(Ee){var Je=Ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Je?Je[1]:"GMT"}H[p>>2]=60*g,L[y>>2]=Number(_e!=d);var C=b(V),B=b(ne),K=zt(C),J=zt(B);d<_e?(H[w>>2]=K,H[w+4>>2]=J):(H[w>>2]=J,H[w+4>>2]=K)},b:function rr(){Qn("")},a:function Zo(p,y,w){var P=function oo(p,y){var w;for(ro.length=0,y>>=2;w=yt[p++];)y+=105!=w&y,ro.push(105==w?L[y]:ge[y++>>1]),++y;return ro}(y,w);return je[p].apply(null,P)},c:function en(){return Date.now()},g:function wo(p,y,w){yt.copyWithin(p,y,y+w)},m:function Hr(p){var g,y=yt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var V=1;V<=4;V*=2){var ne=y*(1+.2/V);if(ne=Math.min(ne,p+100663296),Yr(Math.min(w,(g=Math.max(p,ne))+(65536-g%65536)%65536)))return!0}return!1},p:function jr(p,y){var w=0;return No().forEach(function(P,V){var ne=y+w;H[p+4*V>>2]=ne,function xo(p,y,w){for(var P=0;P<p.length;++P)Ke[y++>>0]=p.charCodeAt(P);w||(Ke[y>>0]=0)}(P,ne),w+=P.length+1}),0},f:function ns(p,y){var w=No();H[p>>2]=w.length;var P=0;return w.forEach(function(V){P+=V.length+1}),H[y>>2]=P,0},q:Gn,d:function Ko(p){try{var y=At.getStreamFromFD(p);return E.close(y),0}catch(w){if(typeof E>"u"||!(w instanceof E.ErrnoError))throw w;return w.errno}},e:function Xo(p,y,w,P){try{var ne=function Ci(p,y,w,P){for(var V=0,ne=0;ne<w;ne++){var _e=H[y>>2],d=H[y+4>>2];y+=8;var g=E.read(p,Ke,_e,d,P);if(g<0)return-1;if(V+=g,g<d)break}return V}(At.getStreamFromFD(p),y,w);return H[P>>2]=ne,0}catch(_e){if(typeof E>"u"||!(_e instanceof E.ErrnoError))throw _e;return _e.errno}},k:function Qo(p,y,w,P,V){try{var ne=function Fn(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,w);if(isNaN(ne))return 61;var _e=At.getStreamFromFD(p);return E.llseek(_e,ne,P),le=[_e.position>>>0,(at=_e.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[V>>2]=le[0],L[V+4>>2]=le[1],_e.getdents&&0===ne&&0===P&&(_e.getdents=null),0}catch(d){if(typeof E>"u"||!(d instanceof E.ErrnoError))throw d;return d.errno}},n:function Si(p,y,w,P){try{var ne=function Ln(p,y,w,P){for(var V=0,ne=0;ne<w;ne++){var _e=H[y>>2],d=H[y+4>>2];y+=8;var g=E.write(p,Ke,_e,d,P);if(g<0)return-1;V+=g}return V}(At.getStreamFromFD(p),y,w);return H[P>>2]=ne,0}catch(_e){if(typeof E>"u"||!(_e instanceof E.ErrnoError))throw _e;return _e.errno}},l:function Y(p,y,w,P,V){return function R(p,y,w,P){var V=L[P+40>>2],ne={tm_sec:L[P>>2],tm_min:L[P+4>>2],tm_hour:L[P+8>>2],tm_mday:L[P+12>>2],tm_mon:L[P+16>>2],tm_year:L[P+20>>2],tm_wday:L[P+24>>2],tm_yday:L[P+28>>2],tm_isdst:L[P+32>>2],tm_gmtoff:L[P+36>>2],tm_zone:V?Ve(V):""},_e=Ve(w),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var g in d)_e=_e.replace(new RegExp(g,"g"),d[g]);var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],C=["January","February","March","April","May","June","July","August","September","October","November","December"];function B(ye,et,mt){for(var St="number"==typeof ye?ye.toString():ye||"";St.length<et;)St=mt[0]+St;return St}function K(ye,et){return B(ye,et,"0")}function J(ye,et){function mt(dn){return dn<0?-1:dn>0?1:0}var St;return 0===(St=mt(ye.getFullYear()-et.getFullYear()))&&0===(St=mt(ye.getMonth()-et.getMonth()))&&(St=mt(ye.getDate()-et.getDate())),St}function Ee(ye){switch(ye.getDay()){case 0:return new Date(ye.getFullYear()-1,11,29);case 1:return ye;case 2:return new Date(ye.getFullYear(),0,3);case 3:return new Date(ye.getFullYear(),0,2);case 4:return new Date(ye.getFullYear(),0,1);case 5:return new Date(ye.getFullYear()-1,11,31);case 6:return new Date(ye.getFullYear()-1,11,30)}}function Je(ye){var et=function pe(p,y){for(var w=new Date(p.getTime());y>0;){var P=lo(w.getFullYear()),V=w.getMonth(),ne=(P?T:N)[V];if(!(y>ne-w.getDate()))return w.setDate(w.getDate()+y),w;y-=ne-w.getDate()+1,w.setDate(1),V<11?w.setMonth(V+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(ye.tm_year+1900,0,1),ye.tm_yday),mt=new Date(et.getFullYear(),0,4),St=new Date(et.getFullYear()+1,0,4),dn=Ee(mt),mn=Ee(St);return J(dn,et)<=0?J(mn,et)<=0?et.getFullYear()+1:et.getFullYear():et.getFullYear()-1}var Ft={"%a":function(ye){return b[ye.tm_wday].substring(0,3)},"%A":function(ye){return b[ye.tm_wday]},"%b":function(ye){return C[ye.tm_mon].substring(0,3)},"%B":function(ye){return C[ye.tm_mon]},"%C":function(ye){return K((ye.tm_year+1900)/100|0,2)},"%d":function(ye){return K(ye.tm_mday,2)},"%e":function(ye){return B(ye.tm_mday,2," ")},"%g":function(ye){return Je(ye).toString().substring(2)},"%G":function(ye){return Je(ye)},"%H":function(ye){return K(ye.tm_hour,2)},"%I":function(ye){var et=ye.tm_hour;return 0==et?et=12:et>12&&(et-=12),K(et,2)},"%j":function(ye){return K(ye.tm_mday+function rs(p,y){for(var w=0,P=0;P<=y;w+=p[P++]);return w}(lo(ye.tm_year+1900)?T:N,ye.tm_mon-1),3)},"%m":function(ye){return K(ye.tm_mon+1,2)},"%M":function(ye){return K(ye.tm_min,2)},"%n":function(){return"\n"},"%p":function(ye){return ye.tm_hour>=0&&ye.tm_hour<12?"AM":"PM"},"%S":function(ye){return K(ye.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ye){return ye.tm_wday||7},"%U":function(ye){return K(Math.floor((ye.tm_yday+7-ye.tm_wday)/7),2)},"%V":function(ye){var et=Math.floor((ye.tm_yday+7-(ye.tm_wday+6)%7)/7);if((ye.tm_wday+371-ye.tm_yday-2)%7<=2&&et++,et){if(53==et){var St=(ye.tm_wday+371-ye.tm_yday)%7;4!=St&&(3!=St||!lo(ye.tm_year))&&(et=1)}}else{et=52;var mt=(ye.tm_wday+7-ye.tm_yday-1)%7;(4==mt||5==mt&&lo(ye.tm_year%400-1))&&et++}return K(et,2)},"%w":function(ye){return ye.tm_wday},"%W":function(ye){return K(Math.floor((ye.tm_yday+7-(ye.tm_wday+6)%7)/7),2)},"%y":function(ye){return(ye.tm_year+1900).toString().substring(2)},"%Y":function(ye){return ye.tm_year+1900},"%z":function(ye){var et=ye.tm_gmtoff,mt=et>=0;return et=(et=Math.abs(et)/60)/60*100+et%60,(mt?"+":"-")+String("0000"+et).slice(-4)},"%Z":function(ye){return ye.tm_zone},"%%":function(){return"%"}};for(var g in _e=_e.replace(/%%/g,"\0\0"),Ft)_e.includes(g)&&(_e=_e.replace(new RegExp(g,"g"),Ft[g](ne)));var Zt=nn(_e=_e.replace(/\0\0/g,"%"),!1);return Zt.length>y?0:(function ke(p,y){Ke.set(p,y)}(Zt,p),Zt.length-1)}(p,y,w,P)}},uo=(function Rr(){var p={a:It};function y(_e,d){u.asm=_e.exports,Re((me=u.asm.r).buffer),function to(p){lt.unshift(p)}(u.asm.s),cr()}function w(_e){y(_e.instance)}function P(_e){return function wi(){return he||!Ce&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Zr(En)}):fetch(En,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+En+"'";return p.arrayBuffer()}).catch(function(){return Zr(En)})}().then(function(d){return WebAssembly.instantiate(d,p)}).then(function(d){return d}).then(_e,function(d){ce("failed to asynchronously prepare wasm: "+d),Qn(d)})}if(vo(),u.instantiateWasm)try{return u.instantiateWasm(p,y)}catch(_e){ce("Module.instantiateWasm callback failed with error: "+_e),ie(_e)}(function V(){return he||"function"!=typeof WebAssembly.instantiateStreaming||Vr(En)||"function"!=typeof fetch?P(w):fetch(En,{credentials:"same-origin"}).then(function(_e){return WebAssembly.instantiateStreaming(_e,p).then(w,function(g){return ce("wasm streaming compile failed: "+g),ce("falling back to ArrayBuffer instantiation"),P(w)})})})().catch(ie)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.s).apply(null,arguments)},u._free=function(){return(u._free=u.asm.t).apply(null,arguments)},u._malloc=function(){return(uo=u._malloc=u.asm.u).apply(null,arguments)}),Or=u._emscripten_bind_VoidPtr___destroy___0=function(){return(Or=u._emscripten_bind_VoidPtr___destroy___0=u.asm.v).apply(null,arguments)},yr=u._emscripten_bind_FSTools_FSTools_0=function(){return(yr=u._emscripten_bind_FSTools_FSTools_0=u.asm.w).apply(null,arguments)},$i=u._emscripten_bind_FSTools_Malloc_1=function(){return($i=u._emscripten_bind_FSTools_Malloc_1=u.asm.x).apply(null,arguments)},Jo=u._emscripten_bind_FSTools_Free_1=function(){return(Jo=u._emscripten_bind_FSTools_Free_1=u.asm.y).apply(null,arguments)},Ei=u._emscripten_bind_FSTools_Nullptr_0=function(){return(Ei=u._emscripten_bind_FSTools_Nullptr_0=u.asm.z).apply(null,arguments)},Aa=u._emscripten_bind_FSTools___destroy___0=function(){return(Aa=u._emscripten_bind_FSTools___destroy___0=u.asm.A).apply(null,arguments)},Is=u._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Is=u._emscripten_bind_MkfsContext_MkfsContext_0=u.asm.B).apply(null,arguments)},Pa=u._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Pa=u._emscripten_bind_MkfsContext_Mkfs_2=u.asm.C).apply(null,arguments)},Ms=u._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ms=u._emscripten_bind_MkfsContext_GetImage_0=u.asm.D).apply(null,arguments)},fs=u._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(fs=u._emscripten_bind_MkfsContext_GetImageSize_0=u.asm.E).apply(null,arguments)},Nr=u._emscripten_bind_MkfsContext___destroy___0=function(){return(Nr=u._emscripten_bind_MkfsContext___destroy___0=u.asm.F).apply(null,arguments)},On=u._emscripten_bind_FsckContext_FsckContext_1=function(){return(On=u._emscripten_bind_FsckContext_FsckContext_1=u.asm.G).apply(null,arguments)},pl=u._emscripten_bind_FsckContext_GetImage_0=function(){return(pl=u._emscripten_bind_FsckContext_GetImage_0=u.asm.H).apply(null,arguments)},Ra=u._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(Ra=u._emscripten_bind_FsckContext_GetDirtyPages_0=u.asm.I).apply(null,arguments)},Fa=u._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Fa=u._emscripten_bind_FsckContext_GetImageSize_0=u.asm.J).apply(null,arguments)},bt=u._emscripten_bind_FsckContext_Fsck_0=function(){return(bt=u._emscripten_bind_FsckContext_Fsck_0=u.asm.K).apply(null,arguments)},Oa=u._emscripten_bind_FsckContext_GetResult_0=function(){return(Oa=u._emscripten_bind_FsckContext_GetResult_0=u.asm.L).apply(null,arguments)},qn=u._emscripten_bind_FsckContext___destroy___0=function(){return(qn=u._emscripten_bind_FsckContext___destroy___0=u.asm.M).apply(null,arguments)};function is(p){function y(){Bi||(Bi=!0,u.calledRun=!0,!Ye&&(function qr(){!u.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,Kn.init(),Sn(lt)}(),function Ir(){Sn(Rt)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Ts&&function os(p){var y=u._main;try{var V=y(0,0);return Li(V),V}catch(ne){return function re(p){if(p instanceof hn||"unwind"==p)return ve;z(1,p)}(ne)}}(),function Yn(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),Bt.unshift(p);var p;Sn(Bt)}()))}p=p||X,jn>0||(function ue(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),it.unshift(p);var p;Sn(it)}(),jn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),y()},1)):y())}if(u._main=function(){return(u._main=u.asm.N).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.P).apply(null,arguments)},u.___start_em_js=40204,u.___stop_em_js=40302,wr=function p(){Bi||is(),Bi||(wr=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Ts=!0;function io(){}function qt(p){return(p||io).__cache__}function ei(p,y){var w=qt(y),P=w[p];return P||((P=Object.create((y||io).prototype)).ptr=p,w[p]=P)}u.noInitialRun&&(Ts=!1),is(),(io.prototype=Object.create(io.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},u.WrapperObject=io,u.getCache=qt,u.wrapPointer=ei,u.castObject=function hs(p,y){return ei(p.ptr,y)},u.NULL=ei(0),u.destroy=function Lo(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete qt(p.__class__)[p.ptr]},u.compare=function xs(p,y){return p.ptr===y.ptr},u.getPointer=function $a(p){return p.ptr},u.getClass=function _r(p){return p.__class__};var wn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(wn.needed){for(var p=0;p<wn.temps.length;p++)u._free(wn.temps[p]);wn.temps.length=0,u._free(wn.buffer),wn.buffer=0,wn.size+=wn.needed,wn.needed=0}wn.buffer||(wn.size+=128,wn.buffer=u._malloc(wn.size),Ie(wn.buffer)),wn.pos=0},alloc:function(p,y){Ie(wn.buffer);var V,P=p.length*y.BYTES_PER_ELEMENT;return wn.pos+(P=P+7&-8)>=wn.size?(Ie(P>0),wn.needed+=P,V=u._malloc(P),wn.temps.push(V)):(V=wn.buffer+wn.pos,wn.pos+=P),V},copy:function(p,y,w){switch(w>>>=0,y.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var V=0;V<p.length;V++)y[w+V]=p[V]}};function fo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Jn(){this.ptr=yr(),qt(Jn)[this.ptr]=this}function pn(){this.ptr=Is(),qt(pn)[this.ptr]=this}function Mr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=On(p),qt(Mr)[this.ptr]=this}return(fo.prototype=Object.create(io.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},u.VoidPtr=fo,fo.prototype.__destroy__=fo.prototype.__destroy__=function(){Or(this.ptr)},(Jn.prototype=Object.create(io.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},u.FSTools=Jn,Jn.prototype.Malloc=Jn.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),ei($i(this.ptr,p),fo)},Jn.prototype.Free=Jn.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Jo(this.ptr,p)},Jn.prototype.Nullptr=Jn.prototype.Nullptr=function(){return ei(Ei(this.ptr),fo)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){Aa(this.ptr)},(pn.prototype=Object.create(io.prototype)).constructor=pn,pn.prototype.__class__=pn,pn.__cache__={},u.MkfsContext=pn,pn.prototype.Mkfs=pn.prototype.Mkfs=function(p,y){var w=this.ptr;return wn.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function ti(p){if("string"==typeof p){var y=nn(p),w=wn.alloc(y,Ke);return wn.copy(y,Ke,w),w}return p}(y),!!Pa(w,p,y)},pn.prototype.GetImage=pn.prototype.GetImage=function(){return ei(Ms(this.ptr),fo)},pn.prototype.GetImageSize=pn.prototype.GetImageSize=function(){return fs(this.ptr)},pn.prototype.__destroy__=pn.prototype.__destroy__=function(){Nr(this.ptr)},(Mr.prototype=Object.create(io.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},u.FsckContext=Mr,Mr.prototype.GetImage=Mr.prototype.GetImage=function(){return ei(pl(this.ptr),fo)},Mr.prototype.GetDirtyPages=Mr.prototype.GetDirtyPages=function(){return ei(Ra(this.ptr),fo)},Mr.prototype.GetImageSize=Mr.prototype.GetImageSize=function(){return Fa(this.ptr)},Mr.prototype.Fsck=Mr.prototype.Fsck=function(){return bt(this.ptr)},Mr.prototype.GetResult=Mr.prototype.GetResult=function(){return Oa(this.ptr)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){qn(this.ptr)},k.ready});Be.exports=qe},7971:Be=>{var F,qe=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ae,ie,u=typeof(k=k||{})<"u"?k:{};u.ready=new Promise(function(d,g){ae=d,ie=g});var j,Oe,ee,q=Object.assign({},u),X=[],G="./this.program",z=(d,g)=>{throw g},Ce="object"==typeof window,Z="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ce||Z)&&(Z?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),F&&($=F),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},Z&&(ee=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Oe=(d,g,b)=>{var C=new XMLHttpRequest;C.open("GET",d,!0),C.responseType="arraybuffer",C.onload=()=>{200==C.status||0==C.status&&C.response?g(C.response):b()},C.onerror=b,C.send(null)});var he,we=u.print||console.log.bind(console),ce=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(X=u.arguments),u.thisProgram&&(G=u.thisProgram),u.quit&&(z=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Ne=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var me,ve,Ye=!1;function Ie(d,g){d||Qn(g)}var Ze,Ke,yt,L,H,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(d,g,b){for(var C=g+b,B=g;d[B]&&!(B>=C);)++B;if(B-g>16&&d.buffer&&Ae)return Ae.decode(d.subarray(g,B));for(var K="";g<B;){var J=d[g++];if(128&J){var Ee=63&d[g++];if(192!=(224&J)){var Je=63&d[g++];if((J=224==(240&J)?(15&J)<<12|Ee<<6|Je:(7&J)<<18|Ee<<12|Je<<6|63&d[g++])<65536)K+=String.fromCharCode(J);else{var Ft=J-65536;K+=String.fromCharCode(55296|Ft>>10,56320|1023&Ft)}}else K+=String.fromCharCode((31&J)<<6|Ee)}else K+=String.fromCharCode(J)}return K}function Ve(d,g){return d?ze(yt,d,g):""}function Pe(d,g,b,C){if(!(C>0))return 0;for(var B=b,K=b+C-1,J=0;J<d.length;++J){var Ee=d.charCodeAt(J);if(Ee>=55296&&Ee<=57343&&(Ee=65536+((1023&Ee)<<10)|1023&d.charCodeAt(++J)),Ee<=127){if(b>=K)break;g[b++]=Ee}else if(Ee<=2047){if(b+1>=K)break;g[b++]=192|Ee>>6,g[b++]=128|63&Ee}else if(Ee<=65535){if(b+2>=K)break;g[b++]=224|Ee>>12,g[b++]=128|Ee>>6&63,g[b++]=128|63&Ee}else{if(b+3>=K)break;g[b++]=240|Ee>>18,g[b++]=128|Ee>>12&63,g[b++]=128|Ee>>6&63,g[b++]=128|63&Ee}}return g[b]=0,b-B}function Q(d){for(var g=0,b=0;b<d.length;++b){var C=d.charCodeAt(b);C<=127?g++:C<=2047?g+=2:C>=55296&&C<=57343?(g+=4,++b):g+=3}return g}function Re(d){Ze=d,u.HEAP8=Ke=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAP32=L=new Int32Array(d),u.HEAPU8=yt=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAPU32=H=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=new Float64Array(d)}var En,at,le,it=[],lt=[],Rt=[],Bt=[],jn=0,lr=null,wr=null;function vo(d){jn++,u.monitorRunDependencies&&u.monitorRunDependencies(jn)}function cr(d){if(jn--,u.monitorRunDependencies&&u.monitorRunDependencies(jn),0==jn&&(null!==lr&&(clearInterval(lr),lr=null),wr)){var g=wr;wr=null,g()}}function Qn(d){u.onAbort&&u.onAbort(d),ce(d="Aborted("+d+")"),Ye=!0,ve=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw ie(g),g}function Vr(d){return d.startsWith("data:application/octet-stream;base64,")}function Zr(d){try{if(d==En&&he)return new Uint8Array(he);if(ee)return ee(d);throw"both async and sync fetching of the wasm failed"}catch(g){Qn(g)}}function je(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function hn(d){for(;d.length>0;)d.shift()(u)}function $t(d){return d%4==0&&(d%100!=0||d%400==0)}Vr(En="vfs_web.wasm")||(En=function O(d){return u.locateFile?u.locateFile(d,$):$+d}(En));var cn=[0,31,60,91,121,152,182,213,244,274,305,335],tr=[0,31,59,90,120,151,181,212,243,273,304,334];function nn(d){return($t(d.getFullYear())?cn:tr)[d.getMonth()]+d.getDate()-1}function jt(d){var g=Q(d)+1,b=Le(g);return b&&Pe(d,Ke,b,g),b}function Fr(d){try{return me.grow(d-Ze.byteLength+65535>>>16),Re(me.buffer),1}catch{}}var co={};function Cr(){if(!Cr.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var b in co)void 0===co[b]?delete g[b]:g[b]=co[b];var C=[];for(var b in g)C.push(b+"="+g[b]);Cr.strings=C}return Cr.strings}var zt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var b=0,C=d.length-1;C>=0;C--){var B=d[C];"."===B?d.splice(C,1):".."===B?(d.splice(C,1),b++):b&&(d.splice(C,1),b--)}if(g)for(;b;b--)d.unshift("..");return d},normalize:d=>{var g=zt.isAbs(d),b="/"===d.substr(-1);return!(d=zt.normalizeArray(d.split("/").filter(C=>!!C),!g).join("/"))&&!g&&(d="."),d&&b&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=zt.splitPath(d),b=g[0],C=g[1];return b||C?(C&&(C=C.substr(0,C.length-1)),b+C):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=zt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return zt.normalize(d.join("/"))},join2:(d,g)=>zt.normalize(d+"/"+g)},rr={resolve:function(){for(var d="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var C=b>=0?arguments[b]:I.cwd();if("string"!=typeof C)throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";d=C+"/"+d,g=zt.isAbs(C)}return(g?"/":"")+(d=zt.normalizeArray(d.split("/").filter(B=>!!B),!g).join("/"))||"."},relative:(d,g)=>{function b(Ft){for(var Zt=0;Zt<Ft.length&&""===Ft[Zt];Zt++);for(var ye=Ft.length-1;ye>=0&&""===Ft[ye];ye--);return Zt>ye?[]:Ft.slice(Zt,ye-Zt+1)}d=rr.resolve(d).substr(1),g=rr.resolve(g).substr(1);for(var C=b(d.split("/")),B=b(g.split("/")),K=Math.min(C.length,B.length),J=K,Ee=0;Ee<K;Ee++)if(C[Ee]!==B[Ee]){J=Ee;break}var Je=[];for(Ee=J;Ee<C.length;Ee++)Je.push("..");return(Je=Je.concat(B.slice(J))).join("/")}};function ro(d,g,b){var C=b>0?b:Q(d)+1,B=new Array(C),K=Pe(d,B,0,B.length);return g&&(B.length=K),B}var oo={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){oo.ttys[d]={input:[],output:[],ops:g},I.registerDevice(d,oo.stream_ops)},stream_ops:{open:function(d){var g=oo.ttys[d.node.rdev];if(!g)throw new I.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,b,C,B){if(!d.tty||!d.tty.ops.get_char)throw new I.ErrnoError(60);for(var K=0,J=0;J<C;J++){var Ee;try{Ee=d.tty.ops.get_char(d.tty)}catch{throw new I.ErrnoError(29)}if(void 0===Ee&&0===K)throw new I.ErrnoError(6);if(null==Ee)break;K++,g[b+J]=Ee}return K&&(d.node.timestamp=Date.now()),K},write:function(d,g,b,C,B){if(!d.tty||!d.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var K=0;K<C;K++)d.tty.ops.put_char(d.tty,g[b+K])}catch{throw new I.ErrnoError(29)}return C&&(d.node.timestamp=Date.now()),K}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=ro(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(we(ze(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(we(ze(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(ce(ze(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(ce(ze(d.output,0)),d.output=[])}}};function Zo(d){Qn()}var en={ops_table:null,mount:function(d){return en.createNode(null,"/",16895,0)},createNode:function(d,g,b,C){if(I.isBlkdev(b)||I.isFIFO(b))throw new I.ErrnoError(63);en.ops_table||(en.ops_table={dir:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr,lookup:en.node_ops.lookup,mknod:en.node_ops.mknod,rename:en.node_ops.rename,unlink:en.node_ops.unlink,rmdir:en.node_ops.rmdir,readdir:en.node_ops.readdir,symlink:en.node_ops.symlink},stream:{llseek:en.stream_ops.llseek}},file:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr},stream:{llseek:en.stream_ops.llseek,read:en.stream_ops.read,write:en.stream_ops.write,allocate:en.stream_ops.allocate,mmap:en.stream_ops.mmap,msync:en.stream_ops.msync}},link:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr,readlink:en.node_ops.readlink},stream:{}},chrdev:{node:{getattr:en.node_ops.getattr,setattr:en.node_ops.setattr},stream:I.chrdev_stream_ops}});var B=I.createNode(d,g,b,C);return I.isDir(B.mode)?(B.node_ops=en.ops_table.dir.node,B.stream_ops=en.ops_table.dir.stream,B.contents={}):I.isFile(B.mode)?(B.node_ops=en.ops_table.file.node,B.stream_ops=en.ops_table.file.stream,B.usedBytes=0,B.contents=null):I.isLink(B.mode)?(B.node_ops=en.ops_table.link.node,B.stream_ops=en.ops_table.link.stream):I.isChrdev(B.mode)&&(B.node_ops=en.ops_table.chrdev.node,B.stream_ops=en.ops_table.chrdev.stream),B.timestamp=Date.now(),d&&(d.contents[g]=B,d.timestamp=B.timestamp),B},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var b=d.contents?d.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var B=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(B.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var b=d.contents;d.contents=new Uint8Array(g),b&&d.contents.set(b.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=I.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=I.isDir(d.mode)?4096:I.isFile(d.mode)?d.usedBytes:I.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&en.resizeFileStorage(d,g.size)},lookup:function(d,g){throw I.genericErrors[44]},mknod:function(d,g,b,C){return en.createNode(d,g,b,C)},rename:function(d,g,b){if(I.isDir(d.mode)){var C;try{C=I.lookupNode(g,b)}catch{}if(C)for(var B in C.contents)throw new I.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=b,g.contents[b]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var b=I.lookupNode(d,g);for(var C in b.contents)throw new I.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var b in d.contents)!d.contents.hasOwnProperty(b)||g.push(b);return g},symlink:function(d,g,b){var C=en.createNode(d,g,41471,0);return C.link=b,C},readlink:function(d){if(!I.isLink(d.mode))throw new I.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,b,C,B){var K=d.node.contents;if(B>=d.node.usedBytes)return 0;var J=Math.min(d.node.usedBytes-B,C);if(J>8&&K.subarray)g.set(K.subarray(B,B+J),b);else for(var Ee=0;Ee<J;Ee++)g[b+Ee]=K[B+Ee];return J},write:function(d,g,b,C,B,K){if(g.buffer===Ke.buffer&&(K=!1),!C)return 0;var J=d.node;if(J.timestamp=Date.now(),g.subarray&&(!J.contents||J.contents.subarray)){if(K)return J.contents=g.subarray(b,b+C),J.usedBytes=C,C;if(0===J.usedBytes&&0===B)return J.contents=g.slice(b,b+C),J.usedBytes=C,C;if(B+C<=J.usedBytes)return J.contents.set(g.subarray(b,b+C),B),C}if(en.expandFileStorage(J,B+C),J.contents.subarray&&g.subarray)J.contents.set(g.subarray(b,b+C),B);else for(var Ee=0;Ee<C;Ee++)J.contents[B+Ee]=g[b+Ee];return J.usedBytes=Math.max(J.usedBytes,B+C),C},llseek:function(d,g,b){var C=g;if(1===b?C+=d.position:2===b&&I.isFile(d.node.mode)&&(C+=d.node.usedBytes),C<0)throw new I.ErrnoError(28);return C},allocate:function(d,g,b){en.expandFileStorage(d.node,g+b),d.node.usedBytes=Math.max(d.node.usedBytes,g+b)},mmap:function(d,g,b,C,B){if(!I.isFile(d.node.mode))throw new I.ErrnoError(43);var K,J,Ee=d.node.contents;if(2&B||Ee.buffer!==Ze){if((b>0||b+g<Ee.length)&&(Ee=Ee.subarray?Ee.subarray(b,b+g):Array.prototype.slice.call(Ee,b,b+g)),J=!0,!(K=Zo()))throw new I.ErrnoError(48);Ke.set(Ee,K)}else J=!1,K=Ee.byteOffset;return{ptr:K,allocated:J}},msync:function(d,g,b,C,B){return en.stream_ops.write(d,g,0,C,b,!1),0}}},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=rr.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new I.ErrnoError(32);for(var C=d.split("/").filter(ye=>!!ye),B=I.root,K="/",J=0;J<C.length;J++){var Ee=J===C.length-1;if(Ee&&g.parent)break;if(B=I.lookupNode(B,C[J]),K=zt.join2(K,C[J]),I.isMountpoint(B)&&(!Ee||Ee&&g.follow_mount)&&(B=B.mounted.root),!Ee||g.follow)for(var Je=0;I.isLink(B.mode);){var Ft=I.readlink(K);if(K=rr.resolve(zt.dirname(K),Ft),B=I.lookupPath(K,{recurse_count:g.recurse_count+1}).node,Je++>40)throw new I.ErrnoError(32)}}return{path:K,node:B}},getPath:d=>{for(var g;;){if(I.isRoot(d)){var b=d.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var b=0,C=0;C<g.length;C++)b=(b<<5)-b+g.charCodeAt(C)|0;return(d+b>>>0)%I.nameTable.length},hashAddNode:d=>{var g=I.hashName(d.parent.id,d.name);d.name_next=I.nameTable[g],I.nameTable[g]=d},hashRemoveNode:d=>{var g=I.hashName(d.parent.id,d.name);if(I.nameTable[g]===d)I.nameTable[g]=d.name_next;else for(var b=I.nameTable[g];b;){if(b.name_next===d){b.name_next=d.name_next;break}b=b.name_next}},lookupNode:(d,g)=>{var b=I.mayLookup(d);if(b)throw new I.ErrnoError(b,d);for(var C=I.hashName(d.id,g),B=I.nameTable[C];B;B=B.name_next)if(B.parent.id===d.id&&B.name===g)return B;return I.lookup(d,g)},createNode:(d,g,b,C)=>{var B=new I.FSNode(d,g,b,C);return I.hashAddNode(B),B},destroyNode:d=>{I.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=I.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>I.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>I.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return I.lookupNode(d,g),20}catch{}return I.nodePermissions(d,"wx")},mayDelete:(d,g,b)=>{var C;try{C=I.lookupNode(d,g)}catch(K){return K.errno}var B=I.nodePermissions(d,"wx");if(B)return B;if(b){if(!I.isDir(C.mode))return 54;if(I.isRoot(C)||I.getPath(C)===I.cwd())return 10}else if(I.isDir(C.mode))return 31;return 0},mayOpen:(d,g)=>d?I.isLink(d.mode)?32:I.isDir(d.mode)&&("r"!==I.flagsToPermissionString(g)||512&g)?31:I.nodePermissions(d,I.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=I.MAX_OPEN_FDS)=>{for(var b=d;b<=g;b++)if(!I.streams[b])return b;throw new I.ErrnoError(33)},getStream:d=>I.streams[d],createStream:(d,g,b)=>{I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get:function(){return this.node},set:function(B){this.node=B}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(B){this.shared.flags=B}},position:{get:function(){return this.shared.position},set:function(B){this.shared.position=B}}})),d=Object.assign(new I.FSStream,d);var C=I.nextfd(g,b);return d.fd=C,I.streams[C]=d,d},closeStream:d=>{I.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=I.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new I.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{I.devices[d]={stream_ops:g}},getDevice:d=>I.devices[d],getMounts:d=>{for(var g=[],b=[d];b.length;){var C=b.pop();g.push(C),b.push.apply(b,C.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),I.syncFSRequests++,I.syncFSRequests>1&&ce("warning: "+I.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=I.getMounts(I.root.mount),C=0;function B(J){return I.syncFSRequests--,g(J)}function K(J){if(J)return K.errored?void 0:(K.errored=!0,B(J));++C>=b.length&&B(null)}b.forEach(J=>{if(!J.type.syncfs)return K(null);J.type.syncfs(J,d,K)})},mount:(d,g,b)=>{var K,C="/"===b,B=!b;if(C&&I.root)throw new I.ErrnoError(10);if(!C&&!B){var J=I.lookupPath(b,{follow_mount:!1});if(b=J.path,I.isMountpoint(K=J.node))throw new I.ErrnoError(10);if(!I.isDir(K.mode))throw new I.ErrnoError(54)}var Ee={type:d,opts:g,mountpoint:b,mounts:[]},Je=d.mount(Ee);return Je.mount=Ee,Ee.root=Je,C?I.root=Je:K&&(K.mounted=Ee,K.mount&&K.mount.mounts.push(Ee)),Je},unmount:d=>{var g=I.lookupPath(d,{follow_mount:!1});if(!I.isMountpoint(g.node))throw new I.ErrnoError(28);var b=g.node,C=b.mounted,B=I.getMounts(C);Object.keys(I.nameTable).forEach(J=>{for(var Ee=I.nameTable[J];Ee;){var Je=Ee.name_next;B.includes(Ee.mount)&&I.destroyNode(Ee),Ee=Je}}),b.mounted=null;var K=b.mount.mounts.indexOf(C);b.mount.mounts.splice(K,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,b)=>{var B=I.lookupPath(d,{parent:!0}).node,K=zt.basename(d);if(!K||"."===K||".."===K)throw new I.ErrnoError(28);var J=I.mayCreate(B,K);if(J)throw new I.ErrnoError(J);if(!B.node_ops.mknod)throw new I.ErrnoError(63);return B.node_ops.mknod(B,K,g,b)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,I.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,I.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var b=d.split("/"),C="",B=0;B<b.length;++B)if(b[B]){C+="/"+b[B];try{I.mkdir(C,g)}catch(K){if(20!=K.errno)throw K}}},mkdev:(d,g,b)=>(typeof b>"u"&&(b=g,g=438),I.mknod(d,g|=8192,b)),symlink:(d,g)=>{if(!rr.resolve(d))throw new I.ErrnoError(44);var C=I.lookupPath(g,{parent:!0}).node;if(!C)throw new I.ErrnoError(44);var B=zt.basename(g),K=I.mayCreate(C,B);if(K)throw new I.ErrnoError(K);if(!C.node_ops.symlink)throw new I.ErrnoError(63);return C.node_ops.symlink(C,B,d)},rename:(d,g)=>{var Ee,Je,b=zt.dirname(d),C=zt.dirname(g),B=zt.basename(d),K=zt.basename(g);if(Ee=I.lookupPath(d,{parent:!0}).node,Je=I.lookupPath(g,{parent:!0}).node,!Ee||!Je)throw new I.ErrnoError(44);if(Ee.mount!==Je.mount)throw new I.ErrnoError(75);var ye,Ft=I.lookupNode(Ee,B),Zt=rr.relative(d,C);if("."!==Zt.charAt(0))throw new I.ErrnoError(28);if("."!==(Zt=rr.relative(g,b)).charAt(0))throw new I.ErrnoError(55);try{ye=I.lookupNode(Je,K)}catch{}if(Ft!==ye){var et=I.isDir(Ft.mode),mt=I.mayDelete(Ee,B,et);if(mt)throw new I.ErrnoError(mt);if(mt=ye?I.mayDelete(Je,K,et):I.mayCreate(Je,K))throw new I.ErrnoError(mt);if(!Ee.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(Ft)||ye&&I.isMountpoint(ye))throw new I.ErrnoError(10);if(Je!==Ee&&(mt=I.nodePermissions(Ee,"w")))throw new I.ErrnoError(mt);I.hashRemoveNode(Ft);try{Ee.node_ops.rename(Ft,Je,K)}catch(St){throw St}finally{I.hashAddNode(Ft)}}},rmdir:d=>{var b=I.lookupPath(d,{parent:!0}).node,C=zt.basename(d),B=I.lookupNode(b,C),K=I.mayDelete(b,C,!0);if(K)throw new I.ErrnoError(K);if(!b.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(B))throw new I.ErrnoError(10);b.node_ops.rmdir(b,C),I.destroyNode(B)},readdir:d=>{var b=I.lookupPath(d,{follow:!0}).node;if(!b.node_ops.readdir)throw new I.ErrnoError(54);return b.node_ops.readdir(b)},unlink:d=>{var b=I.lookupPath(d,{parent:!0}).node;if(!b)throw new I.ErrnoError(44);var C=zt.basename(d),B=I.lookupNode(b,C),K=I.mayDelete(b,C,!1);if(K)throw new I.ErrnoError(K);if(!b.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(B))throw new I.ErrnoError(10);b.node_ops.unlink(b,C),I.destroyNode(B)},readlink:d=>{var b=I.lookupPath(d).node;if(!b)throw new I.ErrnoError(44);if(!b.node_ops.readlink)throw new I.ErrnoError(28);return rr.resolve(I.getPath(b.parent),b.node_ops.readlink(b))},stat:(d,g)=>{var C=I.lookupPath(d,{follow:!g}).node;if(!C)throw new I.ErrnoError(44);if(!C.node_ops.getattr)throw new I.ErrnoError(63);return C.node_ops.getattr(C)},lstat:d=>I.stat(d,!0),chmod:(d,g,b)=>{var C;if(!(C="string"==typeof d?I.lookupPath(d,{follow:!b}).node:d).node_ops.setattr)throw new I.ErrnoError(63);C.node_ops.setattr(C,{mode:4095&g|-4096&C.mode,timestamp:Date.now()})},lchmod:(d,g)=>{I.chmod(d,g,!0)},fchmod:(d,g)=>{var b=I.getStream(d);if(!b)throw new I.ErrnoError(8);I.chmod(b.node,g)},chown:(d,g,b,C)=>{var B;if(!(B="string"==typeof d?I.lookupPath(d,{follow:!C}).node:d).node_ops.setattr)throw new I.ErrnoError(63);B.node_ops.setattr(B,{timestamp:Date.now()})},lchown:(d,g,b)=>{I.chown(d,g,b,!0)},fchown:(d,g,b)=>{var C=I.getStream(d);if(!C)throw new I.ErrnoError(8);I.chown(C.node,g,b)},truncate:(d,g)=>{if(g<0)throw new I.ErrnoError(28);var b;if(!(b="string"==typeof d?I.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(b.mode))throw new I.ErrnoError(31);if(!I.isFile(b.mode))throw new I.ErrnoError(28);var B=I.nodePermissions(b,"w");if(B)throw new I.ErrnoError(B);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var b=I.getStream(d);if(!b)throw new I.ErrnoError(8);if(0==(2097155&b.flags))throw new I.ErrnoError(28);I.truncate(b.node,g)},utime:(d,g,b)=>{var B=I.lookupPath(d,{follow:!0}).node;B.node_ops.setattr(B,{timestamp:Math.max(g,b)})},open:(d,g,b)=>{if(""===d)throw new I.ErrnoError(44);var C;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?I.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof d)C=d;else{d=zt.normalize(d);try{C=I.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var K=!1;if(64&g)if(C){if(128&g)throw new I.ErrnoError(20)}else C=I.mknod(d,b,0),K=!0;if(!C)throw new I.ErrnoError(44);if(I.isChrdev(C.mode)&&(g&=-513),65536&g&&!I.isDir(C.mode))throw new I.ErrnoError(54);if(!K){var J=I.mayOpen(C,g);if(J)throw new I.ErrnoError(J)}512&g&&!K&&I.truncate(C,0),g&=-131713;var Ee=I.createStream({node:C,path:I.getPath(C),flags:g,seekable:!0,position:0,stream_ops:C.stream_ops,ungotten:[],error:!1});return Ee.stream_ops.open&&Ee.stream_ops.open(Ee),u.logReadFiles&&!(1&g)&&(I.readFiles||(I.readFiles={}),d in I.readFiles||(I.readFiles[d]=1)),Ee},close:d=>{if(I.isClosed(d))throw new I.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{I.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,b)=>{if(I.isClosed(d))throw new I.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new I.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,b),d.ungotten=[],d.position},read:(d,g,b,C,B)=>{if(C<0||B<0)throw new I.ErrnoError(28);if(I.isClosed(d))throw new I.ErrnoError(8);if(1==(2097155&d.flags))throw new I.ErrnoError(8);if(I.isDir(d.node.mode))throw new I.ErrnoError(31);if(!d.stream_ops.read)throw new I.ErrnoError(28);var K=typeof B<"u";if(K){if(!d.seekable)throw new I.ErrnoError(70)}else B=d.position;var J=d.stream_ops.read(d,g,b,C,B);return K||(d.position+=J),J},write:(d,g,b,C,B,K)=>{if(C<0||B<0)throw new I.ErrnoError(28);if(I.isClosed(d))throw new I.ErrnoError(8);if(0==(2097155&d.flags))throw new I.ErrnoError(8);if(I.isDir(d.node.mode))throw new I.ErrnoError(31);if(!d.stream_ops.write)throw new I.ErrnoError(28);d.seekable&&1024&d.flags&&I.llseek(d,0,2);var J=typeof B<"u";if(J){if(!d.seekable)throw new I.ErrnoError(70)}else B=d.position;var Ee=d.stream_ops.write(d,g,b,C,B,K);return J||(d.position+=Ee),Ee},allocate:(d,g,b)=>{if(I.isClosed(d))throw new I.ErrnoError(8);if(g<0||b<=0)throw new I.ErrnoError(28);if(0==(2097155&d.flags))throw new I.ErrnoError(8);if(!I.isFile(d.node.mode)&&!I.isDir(d.node.mode))throw new I.ErrnoError(43);if(!d.stream_ops.allocate)throw new I.ErrnoError(138);d.stream_ops.allocate(d,g,b)},mmap:(d,g,b,C,B)=>{if(0!=(2&C)&&0==(2&B)&&2!=(2097155&d.flags))throw new I.ErrnoError(2);if(1==(2097155&d.flags))throw new I.ErrnoError(2);if(!d.stream_ops.mmap)throw new I.ErrnoError(43);return d.stream_ops.mmap(d,g,b,C,B)},msync:(d,g,b,C,B)=>d.stream_ops.msync?d.stream_ops.msync(d,g,b,C,B):0,munmap:d=>0,ioctl:(d,g,b)=>{if(!d.stream_ops.ioctl)throw new I.ErrnoError(59);return d.stream_ops.ioctl(d,g,b)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,C=I.open(d,g.flags),K=I.stat(d).size,J=new Uint8Array(K);return I.read(C,J,0,K,0),"utf8"===g.encoding?b=ze(J,0):"binary"===g.encoding&&(b=J),I.close(C),b},writeFile:(d,g,b={})=>{b.flags=b.flags||577;var C=I.open(d,b.flags,b.mode);if("string"==typeof g){var B=new Uint8Array(Q(g)+1),K=Pe(g,B,0,B.length);I.write(C,B,0,K,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");I.write(C,g,0,g.byteLength,void 0,b.canOwn)}I.close(C)},cwd:()=>I.currentPath,chdir:d=>{var g=I.lookupPath(d,{follow:!0});if(null===g.node)throw new I.ErrnoError(44);if(!I.isDir(g.node.mode))throw new I.ErrnoError(54);var b=I.nodePermissions(g.node,"x");if(b)throw new I.ErrnoError(b);I.currentPath=g.path},createDefaultDirectories:()=>{I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices:()=>{I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(g,b,C,B,K)=>B}),I.mkdev("/dev/null",I.makedev(1,3)),oo.register(I.makedev(5,0),oo.default_tty_ops),oo.register(I.makedev(6,0),oo.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var d=function no(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>Qn("randomDevice")}();I.createDevice("/dev","random",d),I.createDevice("/dev","urandom",d),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{I.mkdir("/proc");var d=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount:()=>{var g=I.createNode(d,"fd",16895,73);return g.node_ops={lookup:(b,C)=>{var K=I.getStream(+C);if(!K)throw new I.ErrnoError(8);var J={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>K.path}};return J.parent=J,J}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?I.createDevice("/dev","stdin",u.stdin):I.symlink("/dev/tty","/dev/stdin"),u.stdout?I.createDevice("/dev","stdout",null,u.stdout):I.symlink("/dev/tty","/dev/stdout"),u.stderr?I.createDevice("/dev","stderr",null,u.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError:()=>{I.ErrnoError||(I.ErrnoError=function(g,b){this.node=b,this.setErrno=function(C){this.errno=C},this.setErrno(g),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(d=>{I.genericErrors[d]=new I.ErrnoError(d),I.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(en,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:en}},init:(d,g,b)=>{I.init.initialized=!0,I.ensureErrnoError(),u.stdin=d||u.stdin,u.stdout=g||u.stdout,u.stderr=b||u.stderr,I.createStandardStreams()},quit:()=>{I.init.initialized=!1;for(var d=0;d<I.streams.length;d++){var g=I.streams[d];!g||I.close(g)}},getMode:(d,g)=>{var b=0;return d&&(b|=365),g&&(b|=146),b},findObject:(d,g)=>{var b=I.analyzePath(d,g);return b.exists?b.object:null},analyzePath:(d,g)=>{try{d=(b=I.lookupPath(d,{follow:!g})).path}catch{}var C={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=I.lookupPath(d,{parent:!0});C.parentExists=!0,C.parentPath=b.path,C.parentObject=b.node,C.name=zt.basename(d),b=I.lookupPath(d,{follow:!g}),C.exists=!0,C.path=b.path,C.object=b.node,C.name=b.node.name,C.isRoot="/"===b.path}catch(B){C.error=B.errno}return C},createPath:(d,g,b,C)=>{d="string"==typeof d?d:I.getPath(d);for(var B=g.split("/").reverse();B.length;){var K=B.pop();if(K){var J=zt.join2(d,K);try{I.mkdir(J)}catch{}d=J}}return J},createFile:(d,g,b,C,B)=>{var K=zt.join2("string"==typeof d?d:I.getPath(d),g),J=I.getMode(C,B);return I.create(K,J)},createDataFile:(d,g,b,C,B,K)=>{var J=g;d&&(d="string"==typeof d?d:I.getPath(d),J=g?zt.join2(d,g):d);var Ee=I.getMode(C,B),Je=I.create(J,Ee);if(b){if("string"==typeof b){for(var Ft=new Array(b.length),Zt=0,ye=b.length;Zt<ye;++Zt)Ft[Zt]=b.charCodeAt(Zt);b=Ft}I.chmod(Je,146|Ee);var et=I.open(Je,577);I.write(et,b,0,b.length,0,K),I.close(et),I.chmod(Je,Ee)}return Je},createDevice:(d,g,b,C)=>{var B=zt.join2("string"==typeof d?d:I.getPath(d),g),K=I.getMode(!!b,!!C);I.createDevice.major||(I.createDevice.major=64);var J=I.makedev(I.createDevice.major++,0);return I.registerDevice(J,{open:Ee=>{Ee.seekable=!1},close:Ee=>{C&&C.buffer&&C.buffer.length&&C(10)},read:(Ee,Je,Ft,Zt,ye)=>{for(var et=0,mt=0;mt<Zt;mt++){var St;try{St=b()}catch{throw new I.ErrnoError(29)}if(void 0===St&&0===et)throw new I.ErrnoError(6);if(null==St)break;et++,Je[Ft+mt]=St}return et&&(Ee.node.timestamp=Date.now()),et},write:(Ee,Je,Ft,Zt,ye)=>{for(var et=0;et<Zt;et++)try{C(Je[Ft+et])}catch{throw new I.ErrnoError(29)}return Zt&&(Ee.node.timestamp=Date.now()),et}}),I.mkdev(B,K,J)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=ro(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile:(d,g,b,C,B)=>{function K(){this.lengthKnown=!1,this.chunks=[]}if(K.prototype.get=function(mt){if(!(mt>this.length-1||mt<0)){var St=mt%this.chunkSize;return this.getter(mt/this.chunkSize|0)[St]}},K.prototype.setDataGetter=function(mt){this.getter=mt},K.prototype.cacheLength=function(){var mt=new XMLHttpRequest;if(mt.open("HEAD",b,!1),mt.send(null),!(mt.status>=200&&mt.status<300||304===mt.status))throw new Error("Couldn't load "+b+". Status: "+mt.status);var dn,St=Number(mt.getResponseHeader("Content-length")),mn=(dn=mt.getResponseHeader("Accept-Ranges"))&&"bytes"===dn,ir=(dn=mt.getResponseHeader("Content-Encoding"))&&"gzip"===dn,Fe=1048576;mn||(Fe=St);var Cn=this;Cn.setDataGetter(kn=>{var Kr=kn*Fe,An=(kn+1)*Fe-1;if(An=Math.min(An,St-1),typeof Cn.chunks[kn]>"u"&&(Cn.chunks[kn]=((kn,Kr)=>{if(kn>Kr)throw new Error("invalid range ("+kn+", "+Kr+") or no bytes requested!");if(Kr>St-1)throw new Error("only "+St+" bytes available! programmer error!");var An=new XMLHttpRequest;if(An.open("GET",b,!1),St!==Fe&&An.setRequestHeader("Range","bytes="+kn+"-"+Kr),An.responseType="arraybuffer",An.overrideMimeType&&An.overrideMimeType("text/plain; charset=x-user-defined"),An.send(null),!(An.status>=200&&An.status<300||304===An.status))throw new Error("Couldn't load "+b+". Status: "+An.status);return void 0!==An.response?new Uint8Array(An.response||[]):ro(An.responseText||"",!0)})(Kr,An)),typeof Cn.chunks[kn]>"u")throw new Error("doXHR failed!");return Cn.chunks[kn]}),(ir||!St)&&(Fe=St=1,St=this.getter(0).length,Fe=St,we("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=St,this._chunkSize=Fe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var J=new K;Object.defineProperties(J,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ee={isDevice:!1,contents:J}}else Ee={isDevice:!1,url:b};var Je=I.createFile(d,g,Ee,C,B);Ee.contents?Je.contents=Ee.contents:Ee.url&&(Je.contents=null,Je.url=Ee.url),Object.defineProperties(Je,{usedBytes:{get:function(){return this.contents.length}}});var Ft={};function ye(et,mt,St,dn,mn){var ir=et.node.contents;if(mn>=ir.length)return 0;var Fe=Math.min(ir.length-mn,dn);if(ir.slice)for(var vt=0;vt<Fe;vt++)mt[St+vt]=ir[mn+vt];else for(vt=0;vt<Fe;vt++)mt[St+vt]=ir.get(mn+vt);return Fe}return Object.keys(Je.stream_ops).forEach(et=>{var mt=Je.stream_ops[et];Ft[et]=function(){return I.forceLoadFile(Je),mt.apply(null,arguments)}}),Ft.read=(et,mt,St,dn,mn)=>(I.forceLoadFile(Je),ye(et,mt,St,dn,mn)),Ft.mmap=(et,mt,St,dn,mn)=>{I.forceLoadFile(Je);var ir=Zo();if(!ir)throw new I.ErrnoError(48);return ye(et,Ke,ir,mt,St),{ptr:ir,allocated:!0}},Je.stream_ops=Ft,Je},createPreloadedFile:(d,g,b,C,B,K,J,Ee,Je,Ft)=>{var Zt=g?rr.resolve(zt.join2(d,g)):d;function et(mt){function St(dn){Ft&&Ft(),Ee||I.createDataFile(d,g,dn,C,B,Je),K&&K(),cr()}Browser.handledByPreloadPlugin(mt,Zt,St,()=>{J&&J(),cr()})||St(mt)}vo(),"string"==typeof b?function wo(d,g,b,C){var B=C?"":"al "+d;Oe(d,K=>{Ie(K,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(K)),B&&cr()},K=>{if(!b)throw'Loading data file "'+d+'" failed.';b()}),B&&vo()}(b,mt=>et(mt),J):et(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var C=I.indexedDB();try{var B=C.open(I.DB_NAME(),I.DB_VERSION)}catch(K){return b(K)}B.onupgradeneeded=()=>{we("creating db"),B.result.createObjectStore(I.DB_STORE_NAME)},B.onsuccess=()=>{var J=B.result.transaction([I.DB_STORE_NAME],"readwrite"),Ee=J.objectStore(I.DB_STORE_NAME),Je=0,Ft=0,Zt=d.length;function ye(){0==Ft?g():b()}d.forEach(et=>{var mt=Ee.put(I.analyzePath(et).object.contents,et);mt.onsuccess=()=>{++Je+Ft==Zt&&ye()},mt.onerror=()=>{Ft++,Je+Ft==Zt&&ye()}}),J.onerror=b},B.onerror=b},loadFilesFromDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var C=I.indexedDB();try{var B=C.open(I.DB_NAME(),I.DB_VERSION)}catch(K){return b(K)}B.onupgradeneeded=b,B.onsuccess=()=>{var K=B.result;try{var J=K.transaction([I.DB_STORE_NAME],"readonly")}catch(et){return void b(et)}var Ee=J.objectStore(I.DB_STORE_NAME),Je=0,Ft=0,Zt=d.length;function ye(){0==Ft?g():b()}d.forEach(et=>{var mt=Ee.get(et);mt.onsuccess=()=>{I.analyzePath(et).exists&&I.unlink(et),I.createDataFile(zt.dirname(et),zt.basename(et),mt.result,!0,!0,!0),++Je+Ft==Zt&&ye()},mt.onerror=()=>{Ft++,Je+Ft==Zt&&ye()}}),J.onerror=b},B.onerror=b}},Yr={DEFAULT_POLLMASK:5,calculateAt:function(d,g,b){if(zt.isAbs(g))return g;var C;if(C=-100===d?I.cwd():Yr.getStreamFromFD(d).path,0==g.length){if(!b)throw new I.ErrnoError(44);return C}return zt.join2(C,g)},doStat:function(d,g,b){try{var C=d(g)}catch(B){if(B&&B.node&&zt.normalize(g)!==zt.normalize(I.getPath(B.node)))return-54;throw B}return L[b>>2]=C.dev,L[b+8>>2]=C.ino,L[b+12>>2]=C.mode,H[b+16>>2]=C.nlink,L[b+20>>2]=C.uid,L[b+24>>2]=C.gid,L[b+28>>2]=C.rdev,le=[C.size>>>0,(at=C.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[b+40>>2]=le[0],L[b+44>>2]=le[1],L[b+48>>2]=4096,L[b+52>>2]=C.blocks,le=[Math.floor(C.atime.getTime()/1e3)>>>0,(at=Math.floor(C.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[b+56>>2]=le[0],L[b+60>>2]=le[1],H[b+64>>2]=0,le=[Math.floor(C.mtime.getTime()/1e3)>>>0,(at=Math.floor(C.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[b+72>>2]=le[0],L[b+76>>2]=le[1],H[b+80>>2]=0,le=[Math.floor(C.ctime.getTime()/1e3)>>>0,(at=Math.floor(C.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[b+88>>2]=le[0],L[b+92>>2]=le[1],H[b+96>>2]=0,le=[C.ino>>>0,(at=C.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[b+104>>2]=le[0],L[b+108>>2]=le[1],0},doMsync:function(d,g,b,C,B){if(!I.isFile(g.node.mode))throw new I.ErrnoError(43);if(2&C)return 0;var K=yt.slice(d,d+b);I.msync(g,K,B,b,C)},varargs:void 0,get:function(){return Yr.varargs+=4,L[Yr.varargs-4>>2]},getStr:function(d){return Ve(d)},getStreamFromFD:function(d){var g=I.getStream(d);if(!g)throw new I.ErrnoError(8);return g}},Ko=[31,29,31,30,31,30,31,31,30,31,30,31],Ci=[31,28,31,30,31,30,31,31,30,31,30,31];var N=function(d,g,b,C){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=I.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=C};Object.defineProperties(N.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=N,I.staticInit();var hs,R={h:function Kn(d,g){var b=new Date(1e3*function Sn(d){return H[d>>2]+4294967296*L[d+4>>2]}(d));L[g>>2]=b.getSeconds(),L[g+4>>2]=b.getMinutes(),L[g+8>>2]=b.getHours(),L[g+12>>2]=b.getDate(),L[g+16>>2]=b.getMonth(),L[g+20>>2]=b.getFullYear()-1900,L[g+24>>2]=b.getDay();var C=0|nn(b);L[g+28>>2]=C,L[g+36>>2]=-60*b.getTimezoneOffset();var B=new Date(b.getFullYear(),0,1),K=new Date(b.getFullYear(),6,1).getTimezoneOffset(),J=B.getTimezoneOffset(),Ee=0|(K!=J&&b.getTimezoneOffset()==Math.min(J,K));L[g+32>>2]=Ee},i:function ur(d){var g=new Date(L[d+20>>2]+1900,L[d+16>>2],L[d+12>>2],L[d+8>>2],L[d+4>>2],L[d>>2],0),b=L[d+32>>2],C=g.getTimezoneOffset(),B=new Date(g.getFullYear(),0,1),K=new Date(g.getFullYear(),6,1).getTimezoneOffset(),J=B.getTimezoneOffset(),Ee=Math.min(J,K);if(b<0)L[d+32>>2]=Number(K!=J&&Ee==C);else if(b>0!=(Ee==C)){var Je=Math.max(J,K),Ft=b>0?Ee:Je;g.setTime(g.getTime()+6e4*(Ft-C))}L[d+24>>2]=g.getDay();var Zt=0|nn(g);return L[d+28>>2]=Zt,L[d>>2]=g.getSeconds(),L[d+4>>2]=g.getMinutes(),L[d+8>>2]=g.getHours(),L[d+12>>2]=g.getDate(),L[d+16>>2]=g.getMonth(),L[d+20>>2]=g.getYear(),g.getTime()/1e3|0},n:function nr(d,g,b){var C=(new Date).getFullYear(),B=new Date(C,0,1),K=new Date(C,6,1),J=B.getTimezoneOffset(),Ee=K.getTimezoneOffset(),Je=Math.max(J,Ee);function Ft(St){var dn=St.toTimeString().match(/\(([A-Za-z ]+)\)$/);return dn?dn[1]:"GMT"}H[d>>2]=60*Je,L[g>>2]=Number(J!=Ee);var Zt=Ft(B),ye=Ft(K),et=jt(Zt),mt=jt(ye);Ee<J?(H[b>>2]=et,H[b+4>>2]=mt):(H[b>>2]=mt,H[b+4>>2]=et)},a:function E(){Qn("")},g:function At(){return Date.now()},f:function gr(d,g,b){yt.copyWithin(d,g,g+b)},e:function lo(d){var Je,g=yt.length,b=2147483648;if((d>>>=0)>b)return!1;for(var B=1;B<=4;B*=2){var K=g*(1+.2/B);if(K=Math.min(K,d+100663296),Fr(Math.min(b,(Je=Math.max(d,K))+(65536-Je%65536)%65536)))return!0}return!1},l:function Hr(d,g){var b=0;return Cr().forEach(function(C,B){var K=g+b;H[d+4*B>>2]=K,function To(d,g,b){for(var C=0;C<d.length;++C)Ke[g++>>0]=d.charCodeAt(C);b||(Ke[g>>0]=0)}(C,K),b+=C.length+1}),0},m:function ui(d,g){var b=Cr();H[d>>2]=b.length;var C=0;return b.forEach(function(B){C+=B.length+1}),H[g>>2]=C,0},b:function di(d){try{var g=Yr.getStreamFromFD(d);return I.close(g),0}catch(b){if(typeof I>"u"||!(b instanceof I.ErrnoError))throw b;return b.errno}},d:function xo(d,g,b,C){try{var K=function No(d,g,b,C){for(var B=0,K=0;K<b;K++){var J=H[g>>2],Ee=H[g+4>>2];g+=8;var Je=I.read(d,Ke,J,Ee,C);if(Je<0)return-1;if(B+=Je,Je<Ee)break}return B}(Yr.getStreamFromFD(d),g,b);return H[C>>2]=K,0}catch(J){if(typeof I>"u"||!(J instanceof I.ErrnoError))throw J;return J.errno}},j:function ns(d,g,b,C,B){try{var K=function jr(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}(g,b);if(isNaN(K))return 61;var J=Yr.getStreamFromFD(d);return I.llseek(J,K,C),le=[J.position>>>0,(at=J.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],L[B>>2]=le[0],L[B+4>>2]=le[1],J.getdents&&0===K&&0===C&&(J.getdents=null),0}catch(Ee){if(typeof I>"u"||!(Ee instanceof I.ErrnoError))throw Ee;return Ee.errno}},c:function Li(d,g,b,C){try{var K=function Yo(d,g,b,C){for(var B=0,K=0;K<b;K++){var J=H[g>>2],Ee=H[g+4>>2];g+=8;var Je=I.write(d,Ke,J,Ee,C);if(Je<0)return-1;B+=Je}return B}(Yr.getStreamFromFD(d),g,b);return H[C>>2]=K,0}catch(J){if(typeof I>"u"||!(J instanceof I.ErrnoError))throw J;return J.errno}},k:function Ln(d,g,b,C,B){return function Qo(d,g,b,C){var B=L[C+40>>2],K={tm_sec:L[C>>2],tm_min:L[C+4>>2],tm_hour:L[C+8>>2],tm_mday:L[C+12>>2],tm_mon:L[C+16>>2],tm_year:L[C+20>>2],tm_wday:L[C+24>>2],tm_yday:L[C+28>>2],tm_isdst:L[C+32>>2],tm_gmtoff:L[C+36>>2],tm_zone:B?Ve(B):""},J=Ve(b),Ee={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Je in Ee)J=J.replace(new RegExp(Je,"g"),Ee[Je]);var Ft=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Zt=["January","February","March","April","May","June","July","August","September","October","November","December"];function ye(Fe,vt,Cn){for(var kn="number"==typeof Fe?Fe.toString():Fe||"";kn.length<vt;)kn=Cn[0]+kn;return kn}function et(Fe,vt){return ye(Fe,vt,"0")}function mt(Fe,vt){function Cn(Kr){return Kr<0?-1:Kr>0?1:0}var kn;return 0===(kn=Cn(Fe.getFullYear()-vt.getFullYear()))&&0===(kn=Cn(Fe.getMonth()-vt.getMonth()))&&(kn=Cn(Fe.getDate()-vt.getDate())),kn}function St(Fe){switch(Fe.getDay()){case 0:return new Date(Fe.getFullYear()-1,11,29);case 1:return Fe;case 2:return new Date(Fe.getFullYear(),0,3);case 3:return new Date(Fe.getFullYear(),0,2);case 4:return new Date(Fe.getFullYear(),0,1);case 5:return new Date(Fe.getFullYear()-1,11,31);case 6:return new Date(Fe.getFullYear()-1,11,30)}}function dn(Fe){var vt=function Xo(d,g){for(var b=new Date(d.getTime());g>0;){var C=$t(b.getFullYear()),B=b.getMonth(),K=(C?Ko:Ci)[B];if(!(g>K-b.getDate()))return b.setDate(b.getDate()+g),b;g-=K-b.getDate()+1,b.setDate(1),B<11?b.setMonth(B+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(Fe.tm_year+1900,0,1),Fe.tm_yday),Cn=new Date(vt.getFullYear(),0,4),kn=new Date(vt.getFullYear()+1,0,4),Kr=St(Cn),An=St(kn);return mt(Kr,vt)<=0?mt(An,vt)<=0?vt.getFullYear()+1:vt.getFullYear():vt.getFullYear()-1}var mn={"%a":function(Fe){return Ft[Fe.tm_wday].substring(0,3)},"%A":function(Fe){return Ft[Fe.tm_wday]},"%b":function(Fe){return Zt[Fe.tm_mon].substring(0,3)},"%B":function(Fe){return Zt[Fe.tm_mon]},"%C":function(Fe){return et((Fe.tm_year+1900)/100|0,2)},"%d":function(Fe){return et(Fe.tm_mday,2)},"%e":function(Fe){return ye(Fe.tm_mday,2," ")},"%g":function(Fe){return dn(Fe).toString().substring(2)},"%G":function(Fe){return dn(Fe)},"%H":function(Fe){return et(Fe.tm_hour,2)},"%I":function(Fe){var vt=Fe.tm_hour;return 0==vt?vt=12:vt>12&&(vt-=12),et(vt,2)},"%j":function(Fe){return et(Fe.tm_mday+function Gn(d,g){for(var b=0,C=0;C<=g;b+=d[C++]);return b}($t(Fe.tm_year+1900)?Ko:Ci,Fe.tm_mon-1),3)},"%m":function(Fe){return et(Fe.tm_mon+1,2)},"%M":function(Fe){return et(Fe.tm_min,2)},"%n":function(){return"\n"},"%p":function(Fe){return Fe.tm_hour>=0&&Fe.tm_hour<12?"AM":"PM"},"%S":function(Fe){return et(Fe.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Fe){return Fe.tm_wday||7},"%U":function(Fe){return et(Math.floor((Fe.tm_yday+7-Fe.tm_wday)/7),2)},"%V":function(Fe){var vt=Math.floor((Fe.tm_yday+7-(Fe.tm_wday+6)%7)/7);if((Fe.tm_wday+371-Fe.tm_yday-2)%7<=2&&vt++,vt){if(53==vt){var kn=(Fe.tm_wday+371-Fe.tm_yday)%7;4!=kn&&(3!=kn||!$t(Fe.tm_year))&&(vt=1)}}else{vt=52;var Cn=(Fe.tm_wday+7-Fe.tm_yday-1)%7;(4==Cn||5==Cn&&$t(Fe.tm_year%400-1))&&vt++}return et(vt,2)},"%w":function(Fe){return Fe.tm_wday},"%W":function(Fe){return et(Math.floor((Fe.tm_yday+7-(Fe.tm_wday+6)%7)/7),2)},"%y":function(Fe){return(Fe.tm_year+1900).toString().substring(2)},"%Y":function(Fe){return Fe.tm_year+1900},"%z":function(Fe){var vt=Fe.tm_gmtoff,Cn=vt>=0;return vt=(vt=Math.abs(vt)/60)/60*100+vt%60,(Cn?"+":"-")+String("0000"+vt).slice(-4)},"%Z":function(Fe){return Fe.tm_zone},"%%":function(){return"%"}};for(var Je in J=J.replace(/%%/g,"\0\0"),mn)J.includes(Je)&&(J=J.replace(new RegExp(Je,"g"),mn[Je](K)));var ir=ro(J=J.replace(/\0\0/g,"%"),!1);return ir.length>g?0:(function Fn(d,g){Ke.set(d,g)}(ir,d),ir.length-1)}(d,g,b,C)}},Le=(function Rr(){var d={a:R};function g(J,Ee){u.asm=J.exports,Re((me=u.asm.o).buffer),function to(d){lt.unshift(d)}(u.asm.p),cr()}function b(J){g(J.instance)}function C(J){return function wi(){return he||!Ce&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Zr(En)}):fetch(En,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+En+"'";return d.arrayBuffer()}).catch(function(){return Zr(En)})}().then(function(Ee){return WebAssembly.instantiate(Ee,d)}).then(function(Ee){return Ee}).then(J,function(Ee){ce("failed to asynchronously prepare wasm: "+Ee),Qn(Ee)})}if(vo(),u.instantiateWasm)try{return u.instantiateWasm(d,g)}catch(J){ce("Module.instantiateWasm callback failed with error: "+J),ie(J)}(function B(){return he||"function"!=typeof WebAssembly.instantiateStreaming||Vr(En)||"function"!=typeof fetch?C(b):fetch(En,{credentials:"same-origin"}).then(function(J){return WebAssembly.instantiateStreaming(J,d).then(b,function(Je){return ce("wasm streaming compile failed: "+Je),ce("falling back to ArrayBuffer instantiation"),C(b)})})})().catch(ie)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.p).apply(null,arguments)},u._malloc=function(){return(Le=u._malloc=u.asm.q).apply(null,arguments)}),st=(u._free=function(){return(u._free=u.asm.r).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(st=u._emscripten_bind_VoidPtr___destroy___0=u.asm.s).apply(null,arguments)}),It=u._emscripten_bind_FileEntry_GetName_0=function(){return(It=u._emscripten_bind_FileEntry_GetName_0=u.asm.t).apply(null,arguments)},Wt=u._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Wt=u._emscripten_bind_FileEntry_IsDirectory_0=u.asm.u).apply(null,arguments)},Qt=u._emscripten_bind_FileEntry_GetSize_0=function(){return(Qt=u._emscripten_bind_FileEntry_GetSize_0=u.asm.v).apply(null,arguments)},or=u._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(or=u._emscripten_bind_FileEntry_GetModifiedTS_0=u.asm.w).apply(null,arguments)},uo=u._emscripten_bind_FileEntry_GetAttributes_0=function(){return(uo=u._emscripten_bind_FileEntry_GetAttributes_0=u.asm.x).apply(null,arguments)},Or=u._emscripten_bind_FileEntry___destroy___0=function(){return(Or=u._emscripten_bind_FileEntry___destroy___0=u.asm.y).apply(null,arguments)},yr=u._emscripten_bind_Vfs_Vfs_0=function(){return(yr=u._emscripten_bind_Vfs_Vfs_0=u.asm.z).apply(null,arguments)},$i=u._emscripten_bind_Vfs_Malloc_1=function(){return($i=u._emscripten_bind_Vfs_Malloc_1=u.asm.A).apply(null,arguments)},Jo=u._emscripten_bind_Vfs_Free_1=function(){return(Jo=u._emscripten_bind_Vfs_Free_1=u.asm.B).apply(null,arguments)},Ei=u._emscripten_bind_Vfs_Nullptr_0=function(){return(Ei=u._emscripten_bind_Vfs_Nullptr_0=u.asm.C).apply(null,arguments)},Aa=u._emscripten_bind_Vfs_AllocateImage_1=function(){return(Aa=u._emscripten_bind_Vfs_AllocateImage_1=u.asm.D).apply(null,arguments)},Is=u._emscripten_bind_Vfs_MountImage_1=function(){return(Is=u._emscripten_bind_Vfs_MountImage_1=u.asm.E).apply(null,arguments)},Pa=u._emscripten_bind_Vfs_UnmountImage_1=function(){return(Pa=u._emscripten_bind_Vfs_UnmountImage_1=u.asm.F).apply(null,arguments)},Ms=u._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(Ms=u._emscripten_bind_Vfs_GetPendingImageSize_0=u.asm.G).apply(null,arguments)},fs=u._emscripten_bind_Vfs_GetSize_1=function(){return(fs=u._emscripten_bind_Vfs_GetSize_1=u.asm.H).apply(null,arguments)},Nr=u._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Nr=u._emscripten_bind_Vfs_GetPendingImage_0=u.asm.I).apply(null,arguments)},On=u._emscripten_bind_Vfs_GetImage_1=function(){return(On=u._emscripten_bind_Vfs_GetImage_1=u.asm.J).apply(null,arguments)},pl=u._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(pl=u._emscripten_bind_Vfs_GetDirtyPages_1=u.asm.K).apply(null,arguments)},Ra=u._emscripten_bind_Vfs_RenameFile_2=function(){return(Ra=u._emscripten_bind_Vfs_RenameFile_2=u.asm.L).apply(null,arguments)},Fa=u._emscripten_bind_Vfs_ChmodFile_3=function(){return(Fa=u._emscripten_bind_Vfs_ChmodFile_3=u.asm.M).apply(null,arguments)},bt=u._emscripten_bind_Vfs_StatFile_1=function(){return(bt=u._emscripten_bind_Vfs_StatFile_1=u.asm.N).apply(null,arguments)},Oa=u._emscripten_bind_Vfs_GetEntry_0=function(){return(Oa=u._emscripten_bind_Vfs_GetEntry_0=u.asm.O).apply(null,arguments)},qn=u._emscripten_bind_Vfs___destroy___0=function(){return(qn=u._emscripten_bind_Vfs___destroy___0=u.asm.P).apply(null,arguments)},ps=u._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(ps=u._emscripten_bind_ReaddirContext_ReaddirContext_1=u.asm.Q).apply(null,arguments)},ks=u._emscripten_bind_ReaddirContext_Next_0=function(){return(ks=u._emscripten_bind_ReaddirContext_Next_0=u.asm.R).apply(null,arguments)},Na=u._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(Na=u._emscripten_bind_ReaddirContext_GetEntry_0=u.asm.S).apply(null,arguments)},La=u._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(La=u._emscripten_bind_ReaddirContext_GetStatus_0=u.asm.T).apply(null,arguments)},Bi=u._emscripten_bind_ReaddirContext_GetError_0=function(){return(Bi=u._emscripten_bind_ReaddirContext_GetError_0=u.asm.U).apply(null,arguments)},os=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(os=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=u.asm.V).apply(null,arguments)},is=u._emscripten_bind_ReaddirContext___destroy___0=function(){return(is=u._emscripten_bind_ReaddirContext___destroy___0=u.asm.W).apply(null,arguments)};function Lo(d){var g=u._main;try{var B=g(0,0);return function rs(d,g){ve=d,function Si(d){ve=d,function sn(){return Ne}()||(u.onExit&&u.onExit(d),Ye=!0),z(d,new je(d))}(d)}(B),B}catch(K){return function T(d){if(d instanceof je||"unwind"==d)return ve;z(1,d)}(K)}}function xs(d){function g(){hs||(hs=!0,u.calledRun=!0,!Ye&&(function qr(){!u.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,oo.init(),hn(lt)}(),function Ir(){hn(Rt)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),$a&&Lo(),function Yn(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),Bt.unshift(d);var d;hn(Bt)}()))}d=d||X,jn>0||(function ue(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),it.unshift(d);var d;hn(it)}(),jn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),g()},1)):g())}if(u._main=function(){return(u._main=u.asm.X).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.Z).apply(null,arguments)},u.___start_em_js=16120,u.___stop_em_js=16218,wr=function d(){hs||xs(),hs||(wr=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var $a=!0;function _r(){}function wn(d){return(d||_r).__cache__}function ti(d,g){var b=wn(g),C=b[d];return C||((C=Object.create((g||_r).prototype)).ptr=d,b[d]=C)}u.noInitialRun&&($a=!1),xs(),(_r.prototype=Object.create(_r.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},u.WrapperObject=_r,u.getCache=wn,u.wrapPointer=ti,u.castObject=function fo(d,g){return ti(d.ptr,g)},u.NULL=ti(0),u.destroy=function Jn(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete wn(d.__class__)[d.ptr]},u.compare=function pn(d,g){return d.ptr===g.ptr},u.getPointer=function Mr(d){return d.ptr},u.getClass=function p(d){return d.__class__};var y={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(y.needed){for(var d=0;d<y.temps.length;d++)u._free(y.temps[d]);y.temps.length=0,u._free(y.buffer),y.buffer=0,y.size+=y.needed,y.needed=0}y.buffer||(y.size+=128,y.buffer=u._malloc(y.size),Ie(y.buffer)),y.pos=0},alloc:function(d,g){Ie(y.buffer);var B,C=d.length*g.BYTES_PER_ELEMENT;return y.pos+(C=C+7&-8)>=y.size?(Ie(C>0),y.needed+=C,B=u._malloc(C),y.temps.push(B)):(B=y.buffer+y.pos,y.pos+=C),B},copy:function(d,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var B=0;B<d.length;B++)g[b+B]=d[B]}};function w(d){if("string"==typeof d){var g=ro(d),b=y.alloc(g,Ke);return y.copy(g,Ke,b),b}return d}function P(){throw"cannot construct a VoidPtr, no constructor in IDL"}function V(){throw"cannot construct a FileEntry, no constructor in IDL"}function ne(){this.ptr=yr(),wn(ne)[this.ptr]=this}function _e(d){y.prepare(),d=d&&"object"==typeof d?d.ptr:w(d),this.ptr=ps(d),wn(_e)[this.ptr]=this}return(P.prototype=Object.create(_r.prototype)).constructor=P,P.prototype.__class__=P,P.__cache__={},u.VoidPtr=P,P.prototype.__destroy__=P.prototype.__destroy__=function(){st(this.ptr)},(V.prototype=Object.create(_r.prototype)).constructor=V,V.prototype.__class__=V,V.__cache__={},u.FileEntry=V,V.prototype.GetName=V.prototype.GetName=function(){return Ve(It(this.ptr))},V.prototype.IsDirectory=V.prototype.IsDirectory=function(){return!!Wt(this.ptr)},V.prototype.GetSize=V.prototype.GetSize=function(){return Qt(this.ptr)},V.prototype.GetModifiedTS=V.prototype.GetModifiedTS=function(){return or(this.ptr)},V.prototype.GetAttributes=V.prototype.GetAttributes=function(){return uo(this.ptr)},V.prototype.__destroy__=V.prototype.__destroy__=function(){Or(this.ptr)},(ne.prototype=Object.create(_r.prototype)).constructor=ne,ne.prototype.__class__=ne,ne.__cache__={},u.Vfs=ne,ne.prototype.Malloc=ne.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),ti($i(this.ptr,d),P)},ne.prototype.Free=ne.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Jo(this.ptr,d)},ne.prototype.Nullptr=ne.prototype.Nullptr=function(){return ti(Ei(this.ptr),P)},ne.prototype.AllocateImage=ne.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Aa(this.ptr,d)},ne.prototype.MountImage=ne.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Is(this.ptr,d)},ne.prototype.UnmountImage=ne.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Pa(this.ptr,d)},ne.prototype.GetPendingImageSize=ne.prototype.GetPendingImageSize=function(){return Ms(this.ptr)},ne.prototype.GetSize=ne.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),fs(this.ptr,d)},ne.prototype.GetPendingImage=ne.prototype.GetPendingImage=function(){return ti(Nr(this.ptr),P)},ne.prototype.GetImage=ne.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),ti(On(this.ptr,d),P)},ne.prototype.GetDirtyPages=ne.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),ti(pl(this.ptr,d),P)},ne.prototype.RenameFile=ne.prototype.RenameFile=function(d,g){var b=this.ptr;return y.prepare(),d=d&&"object"==typeof d?d.ptr:w(d),g=g&&"object"==typeof g?g.ptr:w(g),Ra(b,d,g)},ne.prototype.ChmodFile=ne.prototype.ChmodFile=function(d,g,b){var C=this.ptr;return y.prepare(),d=d&&"object"==typeof d?d.ptr:w(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),Fa(C,d,g,b)},ne.prototype.StatFile=ne.prototype.StatFile=function(d){var g=this.ptr;return y.prepare(),d=d&&"object"==typeof d?d.ptr:w(d),bt(g,d)},ne.prototype.GetEntry=ne.prototype.GetEntry=function(){return ti(Oa(this.ptr),V)},ne.prototype.__destroy__=ne.prototype.__destroy__=function(){qn(this.ptr)},(_e.prototype=Object.create(_r.prototype)).constructor=_e,_e.prototype.__class__=_e,_e.__cache__={},u.ReaddirContext=_e,_e.prototype.Next=_e.prototype.Next=function(){return ks(this.ptr)},_e.prototype.GetEntry=_e.prototype.GetEntry=function(){return ti(Na(this.ptr),V)},_e.prototype.GetStatus=_e.prototype.GetStatus=function(){return La(this.ptr)},_e.prototype.GetError=_e.prototype.GetError=function(){return Bi(this.ptr)},_e.prototype.GetErrorDescription=_e.prototype.GetErrorDescription=function(){return Ve(os(this.ptr))},_e.prototype.__destroy__=_e.prototype.__destroy__=function(){is(this.ptr)},k.ready});Be.exports=qe},2597:(Be,qe,F)=>{"use strict";F.d(qe,{c:()=>Oe});var k=F(9158);let u;const ie=ee=>ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q=ee=>{if(void 0===u){const we=void 0!==ee.style.webkitAnimationName;u=void 0===ee.style.animationName&&we?"-webkit-":""}return u},X=(ee,Se,we)=>{const ce=Se.startsWith("animation")?q(ee):"";ee.style.setProperty(ce+Se,we)},G=(ee,Se)=>{const we=Se.startsWith("animation")?q(ee):"";ee.style.removeProperty(we+Se)},Z=[],j=(ee=[],Se)=>{if(void 0!==Se){const we=Array.isArray(Se)?Se:[Se];return[...ee,...we]}return ee},Oe=ee=>{let Se,we,ce,he,Ne,me,ze,We,L,H,W,ut,it,Ye=[],ve=[],Ie=[],Ae=!1,Ve={},Pe=[],Q=[],Ze={},Ke=0,yt=!1,xt=!1,ge=!0,Re=!1,$e=!0,lt=!1;const Rt=ee,Bt=[],xn=[],sn=[],ue=[],qr=[],Ir=[],Yn=[],ao=[],to=[],xr=[],jn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,lr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&jn,bi=()=>xr,Vr=(R,Y)=>((Y?.oneTimeCallback?xn:Bt).push({c:R,o:Y}),it),Zr=()=>{if(lr)xr.forEach(R=>{R.cancel()}),xr.length=0;else{const R=sn.slice();(0,k.r)(()=>{R.forEach(Y=>{G(Y,"animation-name"),G(Y,"animation-duration"),G(Y,"animation-timing-function"),G(Y,"animation-iteration-count"),G(Y,"animation-delay"),G(Y,"animation-play-state"),G(Y,"animation-fill-mode"),G(Y,"animation-direction")})})}},wi=()=>{qr.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),qr.length=0},jt=()=>void 0!==Ne?Ne:ze?ze.getFill():"both",nr=()=>void 0!==L?L:void 0!==me?me:ze?ze.getDirection():"normal",E=()=>yt?"linear":void 0!==ce?ce:ze?ze.getEasing():"linear",At=()=>xt?0:void 0!==H?H:void 0!==we?we:ze?ze.getDuration():0,gr=()=>void 0!==he?he:ze?ze.getIterations():1,M=()=>void 0!==W?W:void 0!==Se?Se:ze?ze.getDelay():0,I=()=>{0!==Ke&&(Ke--,0===Ke&&((()=>{Xo(),ao.forEach(Qe=>Qe()),to.forEach(Qe=>Qe());const R=ge?1:0,Y=Pe,re=Q,Le=Ze;sn.forEach(Qe=>{const st=Qe.classList;Y.forEach(It=>st.add(It)),re.forEach(It=>st.remove(It));for(const It in Le)Le.hasOwnProperty(It)&&X(Qe,It,Le[It])}),Bt.forEach(Qe=>Qe.c(R,it)),xn.forEach(Qe=>Qe.c(R,it)),xn.length=0,$e=!0,ge&&(Re=!0),ge=!0})(),ze&&ze.animationFinish()))},Yr=(R=!0)=>{wi();const Y=(ee=>(ee.forEach(Se=>{for(const we in Se)if(Se.hasOwnProperty(we)){const ce=Se[we];if("easing"===we)Se["animation-timing-function"]=ce,delete Se[we];else{const he=ie(we);he!==we&&(Se[he]=ce,delete Se[we])}}}),ee))(Ye);sn.forEach(re=>{if(Y.length>0){const Le=((ee=[])=>ee.map(Se=>{const we=Se.offset,ce=[];for(const he in Se)Se.hasOwnProperty(he)&&"offset"!==he&&ce.push(`${he}: ${Se[he]};`);return`${100*we}% { ${ce.join(" ")} }`}).join(" "))(Y);ut=void 0!==ee?ee:(ee=>{let Se=Z.indexOf(ee);return Se<0&&(Se=Z.push(ee)-1),`ion-animation-${Se}`})(Le);const Qe=((ee,Se,we)=>{const ce=(ee=>{const Se=ee.getRootNode();return Se.head||Se})(we),he=q(we),Ne=ce.querySelector("#"+ee);if(Ne)return Ne;const me=(we.ownerDocument||document).createElement("style");return me.id=ee,me.textContent=`@${he}keyframes ${ee} { ${Se} } @${he}keyframes ${ee}-alt { ${Se} }`,ce.appendChild(me),me})(ut,Le,re);qr.push(Qe),X(re,"animation-duration",`${At()}ms`),X(re,"animation-timing-function",E()),X(re,"animation-delay",`${M()}ms`),X(re,"animation-fill-mode",jt()),X(re,"animation-direction",nr());const st=gr()===1/0?"infinite":gr().toString();X(re,"animation-iteration-count",st),X(re,"animation-play-state","paused"),R&&X(re,"animation-name",`${Qe.id}-alt`),(0,k.r)(()=>{X(re,"animation-name",Qe.id||null)})}})},ui=(R=!0)=>{(()=>{Ir.forEach(Le=>Le()),Yn.forEach(Le=>Le());const R=ve,Y=Ie,re=Ve;sn.forEach(Le=>{const Qe=Le.classList;R.forEach(st=>Qe.add(st)),Y.forEach(st=>Qe.remove(st));for(const st in re)re.hasOwnProperty(st)&&X(Le,st,re[st])})})(),Ye.length>0&&(lr?(sn.forEach(R=>{const Y=R.animate(Ye,{id:Rt,delay:M(),duration:At(),easing:E(),iterations:gr(),fill:jt(),direction:nr()});Y.pause(),xr.push(Y)}),xr.length>0&&(xr[0].onfinish=()=>{I()})):Yr(R)),Ae=!0},di=R=>{if(R=Math.min(Math.max(R,0),.9999),lr)xr.forEach(Y=>{Y.currentTime=Y.effect.getComputedTiming().delay+At()*R,Y.pause()});else{const Y=`-${At()*R}ms`;sn.forEach(re=>{Ye.length>0&&(X(re,"animation-delay",Y),X(re,"animation-play-state","paused"))})}},No=R=>{xr.forEach(Y=>{Y.effect.updateTiming({delay:M(),duration:At(),easing:E(),iterations:gr(),fill:jt(),direction:nr()})}),void 0!==R&&di(R)},xo=(R=!0,Y)=>{(0,k.r)(()=>{sn.forEach(re=>{X(re,"animation-name",ut||null),X(re,"animation-duration",`${At()}ms`),X(re,"animation-timing-function",E()),X(re,"animation-delay",void 0!==Y?`-${Y*At()}ms`:`${M()}ms`),X(re,"animation-fill-mode",jt()||null),X(re,"animation-direction",nr()||null);const Le=gr()===1/0?"infinite":gr().toString();X(re,"animation-iteration-count",Le),R&&X(re,"animation-name",`${ut}-alt`),(0,k.r)(()=>{X(re,"animation-name",ut||null)})})})},jr=(R=!1,Y=!0,re)=>(R&&ue.forEach(Le=>{Le.update(R,Y,re)}),lr?No(re):xo(Y,re),it),Gn=()=>{Ae&&(lr?xr.forEach(R=>{R.pause()}):sn.forEach(R=>{X(R,"animation-play-state","paused")}),lt=!0)},Ci=()=>{We=void 0,I()},Xo=()=>{We&&clearTimeout(We)},rs=R=>new Promise(Y=>{R?.sync&&(xt=!0,Vr(()=>xt=!1,{oneTimeCallback:!0})),Ae||ui(),Re&&(lr?(di(0),No()):xo(),Re=!1),$e&&(Ke=ue.length+1,$e=!1),Vr(()=>Y(),{oneTimeCallback:!0}),ue.forEach(re=>{re.play()}),lr?(xr.forEach(R=>{R.play()}),(0===Ye.length||0===sn.length)&&I()):(()=>{if(Xo(),(0,k.r)(()=>{sn.forEach(R=>{Ye.length>0&&X(R,"animation-play-state","running")})}),0===Ye.length||0===sn.length)I();else{const R=M()||0,Y=At()||0,re=gr()||1;isFinite(re)&&(We=setTimeout(Ci,R+Y*re+100)),((ee,Se)=>{let we;const ce={passive:!0},Ne=me=>{ee===me.target&&(we&&we(),Xo(),(0,k.r)(()=>{sn.forEach(R=>{G(R,"animation-duration"),G(R,"animation-delay"),G(R,"animation-play-state")}),(0,k.r)(I)}))};ee&&(ee.addEventListener("webkitAnimationEnd",Ne,ce),ee.addEventListener("animationend",Ne,ce),we=()=>{ee.removeEventListener("webkitAnimationEnd",Ne,ce),ee.removeEventListener("animationend",Ne,ce)})})(sn[0])}})(),lt=!1}),N=(R,Y)=>{const re=Ye[0];return void 0===re||void 0!==re.offset&&0!==re.offset?Ye=[{offset:0,[R]:Y},...Ye]:re[R]=Y,it};return it={parentAnimation:ze,elements:sn,childAnimations:ue,id:Rt,animationFinish:I,from:N,to:(R,Y)=>{const re=Ye[Ye.length-1];return void 0===re||void 0!==re.offset&&1!==re.offset?Ye=[...Ye,{offset:1,[R]:Y}]:re[R]=Y,it},fromTo:(R,Y,re)=>N(R,Y).to(R,re),parent:R=>(ze=R,it),play:rs,pause:()=>(ue.forEach(R=>{R.pause()}),Gn(),it),stop:()=>{ue.forEach(R=>{R.stop()}),Ae&&(Zr(),Ae=!1),yt=!1,xt=!1,$e=!0,L=void 0,H=void 0,W=void 0,Ke=0,Re=!1,ge=!0,lt=!1},destroy:R=>(ue.forEach(Y=>{Y.destroy(R)}),(R=>{Zr(),R&&wi()})(R),sn.length=0,ue.length=0,Ye.length=0,Bt.length=0,xn.length=0,Ae=!1,$e=!0,it),keyframes:R=>{const Y=Ye!==R;return Ye=R,Y&&(R=>{lr?bi().forEach(Y=>{if(Y.effect.setKeyframes)Y.effect.setKeyframes(R);else{const re=new KeyframeEffect(Y.effect.target,R,Y.effect.getTiming());Y.effect=re}}):Yr()})(Ye),it},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const Y of R)Y.parent(it),ue.push(Y);else R.parent(it),ue.push(R);return it},addElement:R=>{if(null!=R)if(1===R.nodeType)sn.push(R);else if(R.length>=0)for(let Y=0;Y<R.length;Y++)sn.push(R[Y]);else console.error("Invalid addElement value");return it},update:jr,fill:R=>(Ne=R,jr(!0),it),direction:R=>(me=R,jr(!0),it),iterations:R=>(he=R,jr(!0),it),duration:R=>(!lr&&0===R&&(R=1),we=R,jr(!0),it),easing:R=>(ce=R,jr(!0),it),delay:R=>(Se=R,jr(!0),it),getWebAnimations:bi,getKeyframes:()=>Ye,getFill:jt,getDirection:nr,getDelay:M,getIterations:gr,getEasing:E,getDuration:At,afterAddRead:R=>(ao.push(R),it),afterAddWrite:R=>(to.push(R),it),afterClearStyles:(R=[])=>{for(const Y of R)Ze[Y]="";return it},afterStyles:(R={})=>(Ze=R,it),afterRemoveClass:R=>(Q=j(Q,R),it),afterAddClass:R=>(Pe=j(Pe,R),it),beforeAddRead:R=>(Ir.push(R),it),beforeAddWrite:R=>(Yn.push(R),it),beforeClearStyles:(R=[])=>{for(const Y of R)Ve[Y]="";return it},beforeStyles:(R={})=>(Ve=R,it),beforeRemoveClass:R=>(Ie=j(Ie,R),it),beforeAddClass:R=>(ve=j(ve,R),it),onFinish:Vr,isRunning:()=>0!==Ke&&!lt,progressStart:(R=!1,Y)=>(ue.forEach(re=>{re.progressStart(R,Y)}),Gn(),yt=R,Ae||ui(),jr(!1,!0,Y),it),progressStep:R=>(ue.forEach(Y=>{Y.progressStep(R)}),di(R),it),progressEnd:(R,Y,re)=>(yt=!1,ue.forEach(Le=>{Le.progressEnd(R,Y,re)}),void 0!==re&&(H=re),Re=!1,ge=!0,0===R?(L="reverse"===nr()?"normal":"reverse","reverse"===L&&(ge=!1),lr?(jr(),di(1-Y)):(W=(1-Y)*At()*-1,jr(!1,!1))):1===R&&(lr?(jr(),di(Y)):(W=Y*At()*-1,jr(!1,!1))),void 0!==R&&(Vr(()=>{H=void 0,L=void 0,W=void 0},{oneTimeCallback:!0}),ze||rs()),it)}}},607:(Be,qe,F)=>{"use strict";F.d(qe,{G:()=>q});class u{constructor(G,z,Ce,Z,se){this.id=z,this.name=Ce,this.disableScroll=se,this.priority=1e6*Z+z,this.ctrl=G}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const G=this.ctrl.capture(this.name,this.id,this.priority);return G&&this.disableScroll&&this.ctrl.disableScroll(this.id),G}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ae{constructor(G,z,Ce,Z){this.id=z,this.disable=Ce,this.disableScroll=Z,this.ctrl=G}block(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.disableGesture(G,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.enableGesture(G,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",q=new class k{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(G){return new u(this,this.newID(),G.name,G.priority||0,!!G.disableScroll)}createBlocker(G={}){return new ae(this,this.newID(),G.disable,!!G.disableScroll)}start(G,z,Ce){return this.canStart(G)?(this.requestedStart.set(z,Ce),!0):(this.requestedStart.delete(z),!1)}capture(G,z,Ce){if(!this.start(G,z,Ce))return!1;const Z=this.requestedStart;let se=-1e4;if(Z.forEach($=>{se=Math.max(se,$)}),se===Ce){this.capturedId=z,Z.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:G}});return document.dispatchEvent($),!0}return Z.delete(z),!1}release(G){this.requestedStart.delete(G),this.capturedId===G&&(this.capturedId=void 0)}disableGesture(G,z){let Ce=this.disabledGestures.get(G);void 0===Ce&&(Ce=new Set,this.disabledGestures.set(G,Ce)),Ce.add(z)}enableGesture(G,z){const Ce=this.disabledGestures.get(G);void 0!==Ce&&Ce.delete(z)}disableScroll(G){this.disabledScroll.add(G),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(G){this.disabledScroll.delete(G),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(G){return!(void 0!==this.capturedId||this.isDisabled(G))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(G){const z=this.disabledGestures.get(G);return!!(z&&z.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{MENU_BACK_BUTTON_PRIORITY:()=>q,OVERLAY_BACK_BUTTON_PRIORITY:()=>ie,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>ae});var k=F(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},ae=()=>{const X=document;let G=!1;X.addEventListener("backbutton",()=>{if(G)return;let z=0,Ce=[];const Z=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(O,j){Ce.push({priority:O,handler:j,id:z++})}}});X.dispatchEvent(Z);const se=function(){var O=(0,k.Z)(function*(j){try{if(j?.handler){const Oe=j.handler($);null!=Oe&&(yield Oe)}}catch(Oe){console.error(Oe)}});return function(Oe){return O.apply(this,arguments)}}(),$=()=>{if(Ce.length>0){let O={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ce.forEach(j=>{j.priority>=O.priority&&(O=j)}),G=!0,Ce=Ce.filter(j=>j.id!==O.id),se(O).then(()=>G=!1)}};$()})},ie=100,q=99},9158:(Be,qe,F)=>{"use strict";F.d(qe,{a:()=>G,b:()=>z,c:()=>ae,d:()=>j,e:()=>Oe,f:()=>O,g:()=>Ce,h:()=>Ne,i:()=>X,j:()=>ie,k:()=>$,l:()=>ee,m:()=>se,n:()=>Se,o:()=>he,p:()=>ce,q:()=>me,r:()=>Z,s:()=>Ye,t:()=>k,u:()=>we});const k=(ve,Ie=0)=>new Promise(Ae=>{u(ve,Ie,Ae)}),u=(ve,Ie=0,Ae)=>{let ze,Ve;const Pe={passive:!0},Ze=()=>{ze&&ze()},Ke=yt=>{(void 0===yt||ve===yt.target)&&(Ze(),Ae(yt))};return ve&&(ve.addEventListener("webkitTransitionEnd",Ke,Pe),ve.addEventListener("transitionend",Ke,Pe),Ve=setTimeout(Ke,Ie+500),ze=()=>{Ve&&(clearTimeout(Ve),Ve=void 0),ve.removeEventListener("webkitTransitionEnd",Ke,Pe),ve.removeEventListener("transitionend",Ke,Pe)}),Ze},ae=(ve,Ie)=>{ve.componentOnReady?ve.componentOnReady().then(Ae=>Ie(Ae)):Z(()=>Ie(ve))},ie=(ve,Ie=[])=>{const Ae={};return Ie.forEach(ze=>{ve.hasAttribute(ze)&&(null!==ve.getAttribute(ze)&&(Ae[ze]=ve.getAttribute(ze)),ve.removeAttribute(ze))}),Ae},q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=ve=>ie(ve,q),G=(ve,Ie,Ae,ze)=>{var Ve;if(typeof window<"u"){const Q=null===(Ve=window?.Ionic)||void 0===Ve?void 0:Ve.config;if(Q){const Ze=Q.get("_ael");if(Ze)return Ze(ve,Ie,Ae,ze);if(Q._ael)return Q._ael(ve,Ie,Ae,ze)}}return ve.addEventListener(Ie,Ae,ze)},z=(ve,Ie,Ae,ze)=>{var Ve;if(typeof window<"u"){const Q=null===(Ve=window?.Ionic)||void 0===Ve?void 0:Ve.config;if(Q){const Ze=Q.get("_rel");if(Ze)return Ze(ve,Ie,Ae,ze);if(Q._rel)return Q._rel(ve,Ie,Ae,ze)}}return ve.removeEventListener(Ie,Ae,ze)},Ce=(ve,Ie=ve)=>ve.shadowRoot||Ie,Z=ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve),se=ve=>!!ve.shadowRoot&&!!ve.attachShadow,$=ve=>{const Ie=ve.closest("ion-item");return Ie?Ie.querySelector("ion-label"):null},O=ve=>{if(ve.focus(),ve.classList.contains("ion-focusable")){const Ie=ve.closest("ion-app");Ie&&Ie.setFocus([ve])}},j=(ve,Ie)=>{let Ae;const ze=ve.getAttribute("aria-labelledby"),Ve=ve.id;let Pe=null!==ze&&""!==ze.trim()?ze:Ie+"-lbl",Q=null!==ze&&""!==ze.trim()?document.getElementById(ze):$(ve);return Q?(null===ze&&(Q.id=Pe),Ae=Q.textContent,Q.setAttribute("aria-hidden","true")):""!==Ve.trim()&&(Q=document.querySelector(`label[for="${Ve}"]`),Q&&(""!==Q.id?Pe=Q.id:Q.id=Pe=`${Ve}-lbl`,Ae=Q.textContent)),{label:Q,labelId:Pe,labelText:Ae}},Oe=(ve,Ie,Ae,ze,Ve)=>{if(ve||se(Ie)){let Pe=Ie.querySelector("input.aux-input");Pe||(Pe=Ie.ownerDocument.createElement("input"),Pe.type="hidden",Pe.classList.add("aux-input"),Ie.appendChild(Pe)),Pe.disabled=Ve,Pe.name=Ae,Pe.value=ze||""}},ee=(ve,Ie,Ae)=>Math.max(ve,Math.min(Ie,Ae)),Se=(ve,Ie)=>{if(!ve){const Ae="ASSERT: "+Ie;throw console.error(Ae),new Error(Ae)}},we=ve=>ve.timeStamp||Date.now(),ce=ve=>{if(ve){const Ie=ve.changedTouches;if(Ie&&Ie.length>0){const Ae=Ie[0];return{x:Ae.clientX,y:Ae.clientY}}if(void 0!==ve.pageX)return{x:ve.pageX,y:ve.pageY}}return{x:0,y:0}},he=ve=>{const Ie="rtl"===document.dir;switch(ve){case"start":return Ie;case"end":return!Ie;default:throw new Error(`"${ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ne=(ve,Ie)=>{const Ae=ve._original||ve;return{_original:ve,emit:me(Ae.emit.bind(Ae),Ie)}},me=(ve,Ie=0)=>{let Ae;return(...ze)=>{clearTimeout(Ae),Ae=setTimeout(ve,Ie,...ze)}},Ye=(ve,Ie)=>{if(ve??(ve={}),Ie??(Ie={}),ve===Ie)return!0;const Ae=Object.keys(ve);if(Ae.length!==Object.keys(Ie).length)return!1;for(const ze of Ae)if(!(ze in Ie)||ve[ze]!==Ie[ze])return!1;return!0}},2172:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{GESTURE_CONTROLLER:()=>k.G,createGesture:()=>Ce});var k=F(607);const u=(O,j,Oe,ee)=>{const Se=ae(O)?{capture:!!ee.capture,passive:!!ee.passive}:!!ee.capture;let we,ce;return O.__zone_symbol__addEventListener?(we="__zone_symbol__addEventListener",ce="__zone_symbol__removeEventListener"):(we="addEventListener",ce="removeEventListener"),O[we](j,Oe,Se),()=>{O[ce](j,Oe,Se)}},ae=O=>{if(void 0===ie)try{const j=Object.defineProperty({},"passive",{get:()=>{ie=!0}});O.addEventListener("optsTest",()=>{},j)}catch{ie=!1}return!!ie};let ie;const G=O=>O instanceof Document?O:O.ownerDocument,Ce=O=>{let j=!1,Oe=!1,ee=!0,Se=!1;const we=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},O),ce=we.canStart,he=we.onWillStart,Ne=we.onStart,me=we.onEnd,Ye=we.notCaptured,ve=we.onMove,Ie=we.threshold,Ae=we.passive,ze=we.blurOnStart,Ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Pe=((O,j,Oe)=>{const ee=Oe*(Math.PI/180),Se="x"===O,we=Math.cos(ee),ce=j*j;let he=0,Ne=0,me=!1,Ye=0;return{start(ve,Ie){he=ve,Ne=Ie,Ye=0,me=!0},detect(ve,Ie){if(!me)return!1;const Ae=ve-he,ze=Ie-Ne,Ve=Ae*Ae+ze*ze;if(Ve<ce)return!1;const Pe=Math.sqrt(Ve),Q=(Se?Ae:ze)/Pe;return Ye=Q>we?1:Q<-we?-1:0,me=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(we.direction,we.threshold,we.maxAngle),Q=k.G.createGesture({name:O.gestureName,priority:O.gesturePriority,disableScroll:O.disableScroll}),yt=()=>{!j||(Se=!1,ve&&ve(Ve))},xt=()=>!(Q&&!Q.capture()||(j=!0,ee=!1,Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime,he?he(Ve).then(L):L(),0)),L=()=>{ze&&(()=>{if(typeof document<"u"){const $e=document.activeElement;$e?.blur&&$e.blur()}})(),Ne&&Ne(Ve),ee=!0},H=()=>{j=!1,Oe=!1,Se=!1,ee=!0,Q.release()},W=$e=>{const ut=j,it=ee;if(H(),it){if(Z(Ve,$e),ut)return void(me&&me(Ve));Ye&&Ye(Ve)}},ge=((O,j,Oe,ee,Se)=>{let we,ce,he,Ne,me,Ye,ve,Ie=0;const Ae=We=>{Ie=Date.now()+2e3,j(We)&&(!ce&&Oe&&(ce=u(O,"touchmove",Oe,Se)),he||(he=u(We.target,"touchend",Ve,Se)),Ne||(Ne=u(We.target,"touchcancel",Ve,Se)))},ze=We=>{Ie>Date.now()||!j(We)||(!Ye&&Oe&&(Ye=u(G(O),"mousemove",Oe,Se)),ve||(ve=u(G(O),"mouseup",Pe,Se)))},Ve=We=>{Q(),ee&&ee(We)},Pe=We=>{Ze(),ee&&ee(We)},Q=()=>{ce&&ce(),he&&he(),Ne&&Ne(),ce=he=Ne=void 0},Ze=()=>{Ye&&Ye(),ve&&ve(),Ye=ve=void 0},Ke=()=>{Q(),Ze()},yt=(We=!0)=>{We?(we||(we=u(O,"touchstart",Ae,Se)),me||(me=u(O,"mousedown",ze,Se))):(we&&we(),me&&me(),we=me=void 0,Ke())};return{enable:yt,stop:Ke,destroy:()=>{yt(!1),ee=Oe=j=void 0}}})(we.el,$e=>{const ut=$($e);return!(Oe||!ee||(se($e,Ve),Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime=ut,Ve.velocityX=Ve.velocityY=Ve.deltaX=Ve.deltaY=0,Ve.event=$e,ce&&!1===ce(Ve))||(Q.release(),!Q.start()))&&(Oe=!0,0===Ie?xt():(Pe.start(Ve.startX,Ve.startY),!0))},$e=>{j?!Se&&ee&&(Se=!0,Z(Ve,$e),requestAnimationFrame(yt)):(Z(Ve,$e),Pe.detect(Ve.currentX,Ve.currentY)&&(!Pe.isGesture()||!xt())&&Re())},W,{capture:!1,passive:Ae}),Re=()=>{H(),ge.stop(),Ye&&Ye(Ve)};return{enable($e=!0){$e||(j&&W(void 0),H()),ge.enable($e)},destroy(){Q.destroy(),ge.destroy()}}},Z=(O,j)=>{if(!j)return;const Oe=O.currentX,ee=O.currentY,Se=O.currentTime;se(j,O);const we=O.currentX,ce=O.currentY,Ne=(O.currentTime=$(j))-Se;if(Ne>0&&Ne<100){const Ye=(ce-ee)/Ne;O.velocityX=(we-Oe)/Ne*.7+.3*O.velocityX,O.velocityY=.7*Ye+.3*O.velocityY}O.deltaX=we-O.startX,O.deltaY=ce-O.startY,O.event=j},se=(O,j)=>{let Oe=0,ee=0;if(O){const Se=O.changedTouches;if(Se&&Se.length>0){const we=Se[0];Oe=we.clientX,ee=we.clientY}else void 0!==O.pageX&&(Oe=O.pageX,ee=O.pageY)}j.currentX=Oe,j.currentY=ee},$=O=>O.timeStamp||Date.now()},4736:(Be,qe,F)=>{"use strict";F.d(qe,{L:()=>ie,a:()=>q,b:()=>X,c:()=>G,d:()=>z,e:()=>Ie,g:()=>Ve,l:()=>Ye,s:()=>Ae,t:()=>se});var k=F(3918),u=F(9479),ae=F(9158);const ie="ionViewWillEnter",q="ionViewDidEnter",X="ionViewWillLeave",G="ionViewDidLeave",z="ionViewWillUnload",se=Pe=>new Promise((Q,Ze)=>{(0,u.c)(()=>{$(Pe),O(Pe).then(Ke=>{Ke.animation&&Ke.animation.destroy(),j(Pe),Q(Ke)},Ke=>{j(Pe),Ze(Ke)})})}),$=Pe=>{const Q=Pe.enteringEl,Ze=Pe.leavingEl;ze(Q,Ze,Pe.direction),Pe.showGoBack?Q.classList.add("can-go-back"):Q.classList.remove("can-go-back"),Ae(Q,!1),Q.style.setProperty("pointer-events","none"),Ze&&(Ae(Ze,!1),Ze.style.setProperty("pointer-events","none"))},O=function(){var Pe=(0,k.Z)(function*(Q){const Ze=yield Oe(Q);return Ze&&u.B.isBrowser?ee(Ze,Q):Se(Q)});return function(Ze){return Pe.apply(this,arguments)}}(),j=Pe=>{const Q=Pe.enteringEl,Ze=Pe.leavingEl;Q.classList.remove("ion-page-invisible"),Q.style.removeProperty("pointer-events"),void 0!==Ze&&(Ze.classList.remove("ion-page-invisible"),Ze.style.removeProperty("pointer-events"))},Oe=function(){var Pe=(0,k.Z)(function*(Q){return Q.leavingEl&&Q.animated&&0!==Q.duration?Q.animationBuilder?Q.animationBuilder:"ios"===Q.mode?(yield Promise.resolve().then(F.bind(F,5794))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,932))).mdTransitionAnimation:void 0});return function(Ze){return Pe.apply(this,arguments)}}(),ee=function(){var Pe=(0,k.Z)(function*(Q,Ze){yield we(Ze,!0);const Ke=Q(Ze.baseEl,Ze);Ne(Ze.enteringEl,Ze.leavingEl);const yt=yield he(Ke,Ze);return Ze.progressCallback&&Ze.progressCallback(void 0),yt&&me(Ze.enteringEl,Ze.leavingEl),{hasCompleted:yt,animation:Ke}});return function(Ze,Ke){return Pe.apply(this,arguments)}}(),Se=function(){var Pe=(0,k.Z)(function*(Q){const Ze=Q.enteringEl,Ke=Q.leavingEl;return yield we(Q,!1),Ne(Ze,Ke),me(Ze,Ke),{hasCompleted:!0}});return function(Ze){return Pe.apply(this,arguments)}}(),we=function(){var Pe=(0,k.Z)(function*(Q,Ze){const yt=(void 0!==Q.deepWait?Q.deepWait:Ze)?[Ie(Q.enteringEl),Ie(Q.leavingEl)]:[ve(Q.enteringEl),ve(Q.leavingEl)];yield Promise.all(yt),yield ce(Q.viewIsReady,Q.enteringEl)});return function(Ze,Ke){return Pe.apply(this,arguments)}}(),ce=function(){var Pe=(0,k.Z)(function*(Q,Ze){Q&&(yield Q(Ze))});return function(Ze,Ke){return Pe.apply(this,arguments)}}(),he=(Pe,Q)=>{const Ze=Q.progressCallback,Ke=new Promise(yt=>{Pe.onFinish(xt=>yt(1===xt))});return Ze?(Pe.progressStart(!0),Ze(Pe)):Pe.play(),Ke},Ne=(Pe,Q)=>{Ye(Q,X),Ye(Pe,ie)},me=(Pe,Q)=>{Ye(Pe,q),Ye(Q,G)},Ye=(Pe,Q)=>{if(Pe){const Ze=new CustomEvent(Q,{bubbles:!1,cancelable:!1});Pe.dispatchEvent(Ze)}},ve=Pe=>Pe?new Promise(Q=>(0,ae.c)(Pe,Q)):Promise.resolve(),Ie=function(){var Pe=(0,k.Z)(function*(Q){const Ze=Q;if(Ze){if(null!=Ze.componentOnReady){if(null!=(yield Ze.componentOnReady()))return}else if(null!=Ze.__registerHost)return void(yield new Promise(yt=>(0,ae.r)(yt)));yield Promise.all(Array.from(Ze.children).map(Ie))}});return function(Ze){return Pe.apply(this,arguments)}}(),Ae=(Pe,Q)=>{Q?(Pe.setAttribute("aria-hidden","true"),Pe.classList.add("ion-page-hidden")):(Pe.hidden=!1,Pe.removeAttribute("aria-hidden"),Pe.classList.remove("ion-page-hidden"))},ze=(Pe,Q,Ze)=>{void 0!==Pe&&(Pe.style.zIndex="back"===Ze?"99":"101"),void 0!==Q&&(Q.style.zIndex="100")},Ve=Pe=>Pe.classList.contains("ion-page")?Pe:Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Pe},9479:(Be,qe,F)=>{"use strict";F.d(qe,{B:()=>rs,H:()=>ue,a:()=>Re,b:()=>wo,c:()=>Si,e:()=>$t,f:()=>Ln,g:()=>$e,h:()=>xn,i:()=>Sn,j:()=>E,k:()=>I,p:()=>ee,r:()=>ui,s:()=>j});var k=F(3918);let ae,ie,q,X=!1,G=!1,z=!1,Ce=!1,Z=!1;const se=typeof window<"u"?window:{},$=se.document||{head:{}},O={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,N,pe,ke)=>T.addEventListener(N,pe,ke),rel:(T,N,pe,ke)=>T.removeEventListener(N,pe,ke),ce:(T,N)=>new CustomEvent(T,N)},j=T=>{Object.assign(O,T)},ee=T=>Promise.resolve(T),Se=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),we=(T,N,pe,ke)=>{pe&&pe.map(([R,Y,re])=>{const Le=he(T,R),Qe=ce(N,re),st=Ne(R);O.ael(Le,Y,Qe,st),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>O.rel(Le,Y,Qe,st))})},ce=(T,N)=>pe=>{try{256&T.$flags$?T.$lazyInstance$[N](pe):(T.$queuedListeners$=T.$queuedListeners$||[]).push([N,pe])}catch(ke){xo(ke)}},he=(T,N)=>4&N?$:8&N?se:16&N?$.body:T,Ne=T=>0!=(2&T),Ae="s-id",ze="sty-id",Q="http://www.w3.org/1999/xlink",yt=new WeakMap,xt=(T,N,pe)=>{let ke=Yo.get(T);Se&&pe?(ke=ke||new CSSStyleSheet,ke.replace(N)):ke=N,Yo.set(T,ke)},We=(T,N,pe,ke)=>{let R=H(N,pe);const Y=Yo.get(R);if(T=11===T.nodeType?T:$,Y)if("string"==typeof Y){let Le,re=yt.get(T=T.head||T);re||yt.set(T,re=new Set),re.has(R)||(T.host&&(Le=T.querySelector(`[${ze}="${R}"]`))?Le.innerHTML=Y:(Le=$.createElement("style"),Le.innerHTML=Y,T.insertBefore(Le,T.querySelector("link"))),re&&re.add(R))}else T.adoptedStyleSheets.includes(Y)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,Y]);return R},H=(T,N)=>"sc-"+(N&&32&T.$flags$?T.$tagName$+"-"+N:T.$tagName$),W=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Re=T=>Li.push(T),$e=T=>Hr(T).$modeName$,ut={},Bt=T=>"object"==(T=typeof T)||"function"===T,xn=(T,N,...pe)=>{let ke=null,R=null,Y=null,re=!1,Le=!1;const Qe=[],st=Wt=>{for(let Qt=0;Qt<Wt.length;Qt++)ke=Wt[Qt],Array.isArray(ke)?st(ke):null!=ke&&"boolean"!=typeof ke&&((re="function"!=typeof T&&!Bt(ke))&&(ke=String(ke)),re&&Le?Qe[Qe.length-1].$text$+=ke:Qe.push(re?sn(null,ke):ke),Le=re)};if(st(pe),N){N.key&&(R=N.key),N.name&&(Y=N.name);{const Wt=N.className||N.class;Wt&&(N.class="object"!=typeof Wt?Wt:Object.keys(Wt).filter(Qt=>Wt[Qt]).join(" "))}}if("function"==typeof T)return T(null===N?{}:N,Qe,Ir);const It=sn(T,null);return It.$attrs$=N,Qe.length>0&&(It.$children$=Qe),It.$key$=R,It.$name$=Y,It},sn=(T,N)=>({$flags$:0,$tag$:T,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ue={},Ir={forEach:(T,N)=>T.map(Yn).forEach(N),map:(T,N)=>T.map(Yn).map(N).map(ao)},Yn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),ao=T=>{if("function"==typeof T.vtag){const pe=Object.assign({},T.vattrs);return T.vkey&&(pe.key=T.vkey),T.vname&&(pe.name=T.vname),xn(T.vtag,pe,...T.vchildren||[])}const N=sn(T.vtag,T.vtext);return N.$attrs$=T.vattrs,N.$children$=T.vchildren,N.$key$=T.vkey,N.$name$=T.vname,N},to=(T,N,pe,ke,R,Y)=>{if(pe!==ke){let re=No(T,N),Le=N.toLowerCase();if("class"===N){const Qe=T.classList,st=jn(pe),It=jn(ke);Qe.remove(...st.filter(Wt=>Wt&&!It.includes(Wt))),Qe.add(...It.filter(Wt=>Wt&&!st.includes(Wt)))}else if("style"===N){for(const Qe in pe)(!ke||null==ke[Qe])&&(Qe.includes("-")?T.style.removeProperty(Qe):T.style[Qe]="");for(const Qe in ke)(!pe||ke[Qe]!==pe[Qe])&&(Qe.includes("-")?T.style.setProperty(Qe,ke[Qe]):T.style[Qe]=ke[Qe])}else if("key"!==N)if("ref"===N)ke&&ke(T);else if(re||"o"!==N[0]||"n"!==N[1]){const Qe=Bt(ke);if((re||Qe&&null!==ke)&&!R)try{if(T.tagName.includes("-"))T[N]=ke;else{const It=ke??"";"list"===N?re=!1:(null==pe||T[N]!=It)&&(T[N]=It)}}catch{}let st=!1;Le!==(Le=Le.replace(/^xlink\:?/,""))&&(N=Le,st=!0),null==ke||!1===ke?(!1!==ke||""===T.getAttribute(N))&&(st?T.removeAttributeNS(Q,N):T.removeAttribute(N)):(!re||4&Y||R)&&!Qe&&(ke=!0===ke?"":ke,st?T.setAttributeNS(Q,N,ke):T.setAttribute(N,ke))}else N="-"===N[2]?N.slice(3):No(se,Le)?Le.slice(2):Le[2]+N.slice(3),pe&&O.rel(T,N,pe,!1),ke&&O.ael(T,N,ke,!1)}},xr=/\s/,jn=T=>T?T.split(xr):[],lr=(T,N,pe,ke)=>{const R=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,Y=T&&T.$attrs$||ut,re=N.$attrs$||ut;for(ke in Y)ke in re||to(R,ke,Y[ke],void 0,pe,N.$flags$);for(ke in re)to(R,ke,Y[ke],re[ke],pe,N.$flags$)},wr=(T,N,pe,ke)=>{const R=N.$children$[pe];let re,Le,Qe,Y=0;if(X||(z=!0,"slot"===R.$tag$&&(ae&&ke.classList.add(ae+"-s"),R.$flags$|=R.$children$?2:1)),null!==R.$text$)re=R.$elm$=$.createTextNode(R.$text$);else if(1&R.$flags$)re=R.$elm$=$.createTextNode("");else{if(Ce||(Ce="svg"===R.$tag$),re=R.$elm$=$.createElementNS(Ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&R.$flags$?"slot-fb":R.$tag$),Ce&&"foreignObject"===R.$tag$&&(Ce=!1),lr(null,R,Ce),(T=>null!=T)(ae)&&re["s-si"]!==ae&&re.classList.add(re["s-si"]=ae),R.$children$)for(Y=0;Y<R.$children$.length;++Y)Le=wr(T,R,Y,re),Le&&re.appendChild(Le);"svg"===R.$tag$?Ce=!1:"foreignObject"===re.tagName&&(Ce=!0)}return re["s-hn"]=q,3&R.$flags$&&(re["s-sr"]=!0,re["s-cr"]=ie,re["s-sn"]=R.$name$||"",Qe=T&&T.$children$&&T.$children$[pe],Qe&&Qe.$tag$===R.$tag$&&T.$elm$&&bi(T.$elm$,!1)),re},bi=(T,N)=>{O.$flags$|=1;const pe=T.childNodes;for(let ke=pe.length-1;ke>=0;ke--){const R=pe[ke];R["s-hn"]!==q&&R["s-ol"]&&(En(R).insertBefore(R,Vr(R)),R["s-ol"].remove(),R["s-ol"]=void 0,z=!0),N&&bi(R,N)}O.$flags$&=-2},vo=(T,N,pe,ke,R,Y)=>{let Le,re=T["s-cr"]&&T["s-cr"].parentNode||T;for(re.shadowRoot&&re.tagName===q&&(re=re.shadowRoot);R<=Y;++R)ke[R]&&(Le=wr(null,pe,R,T),Le&&(ke[R].$elm$=Le,re.insertBefore(Le,Vr(N))))},cr=(T,N,pe,ke,R)=>{for(;N<=pe;++N)(ke=T[N])&&(R=ke.$elm$,je(ke),G=!0,R["s-ol"]?R["s-ol"].remove():bi(R,!0),R.remove())},bo=(T,N)=>T.$tag$===N.$tag$&&("slot"===T.$tag$?T.$name$===N.$name$:T.$key$===N.$key$),Vr=T=>T&&T["s-ol"]||T,En=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,Zr=(T,N)=>{const pe=N.$elm$=T.$elm$,ke=T.$children$,R=N.$children$,Y=N.$tag$,re=N.$text$;let Le;null===re?(Ce="svg"===Y||"foreignObject"!==Y&&Ce,"slot"===Y||lr(T,N,Ce),null!==ke&&null!==R?((T,N,pe,ke)=>{let uo,Or,R=0,Y=0,re=0,Le=0,Qe=N.length-1,st=N[0],It=N[Qe],Wt=ke.length-1,Qt=ke[0],or=ke[Wt];for(;R<=Qe&&Y<=Wt;)if(null==st)st=N[++R];else if(null==It)It=N[--Qe];else if(null==Qt)Qt=ke[++Y];else if(null==or)or=ke[--Wt];else if(bo(st,Qt))Zr(st,Qt),st=N[++R],Qt=ke[++Y];else if(bo(It,or))Zr(It,or),It=N[--Qe],or=ke[--Wt];else if(bo(st,or))("slot"===st.$tag$||"slot"===or.$tag$)&&bi(st.$elm$.parentNode,!1),Zr(st,or),T.insertBefore(st.$elm$,It.$elm$.nextSibling),st=N[++R],or=ke[--Wt];else if(bo(It,Qt))("slot"===st.$tag$||"slot"===or.$tag$)&&bi(It.$elm$.parentNode,!1),Zr(It,Qt),T.insertBefore(It.$elm$,st.$elm$),It=N[--Qe],Qt=ke[++Y];else{for(re=-1,Le=R;Le<=Qe;++Le)if(N[Le]&&null!==N[Le].$key$&&N[Le].$key$===Qt.$key$){re=Le;break}re>=0?(Or=N[re],Or.$tag$!==Qt.$tag$?uo=wr(N&&N[Y],pe,re,T):(Zr(Or,Qt),N[re]=void 0,uo=Or.$elm$),Qt=ke[++Y]):(uo=wr(N&&N[Y],pe,Y,T),Qt=ke[++Y]),uo&&En(st.$elm$).insertBefore(uo,Vr(st.$elm$))}R>Qe?vo(T,null==ke[Wt+1]?null:ke[Wt+1].$elm$,pe,ke,Y,Wt):Y>Wt&&cr(N,R,Qe)})(pe,ke,N,R):null!==R?(null!==T.$text$&&(pe.textContent=""),vo(pe,null,N,R,0,R.length-1)):null!==ke&&cr(ke,0,ke.length-1),Ce&&"svg"===Y&&(Ce=!1)):(Le=pe["s-cr"])?Le.parentNode.textContent=re:T.$text$!==re&&(pe.data=re)},wi=T=>{const N=T.childNodes;let pe,ke,R,Y,re,Le;for(ke=0,R=N.length;ke<R;ke++)if(pe=N[ke],1===pe.nodeType){if(pe["s-sr"])for(re=pe["s-sn"],pe.hidden=!1,Y=0;Y<R;Y++)if(Le=N[Y].nodeType,N[Y]["s-hn"]!==pe["s-hn"]||""!==re){if(1===Le&&re===N[Y].getAttribute("slot")){pe.hidden=!0;break}}else if(1===Le||3===Le&&""!==N[Y].textContent.trim()){pe.hidden=!0;break}wi(pe)}},Rr=[],at=T=>{let N,pe,ke,R,Y,re,Le=0;const Qe=T.childNodes,st=Qe.length;for(;Le<st;Le++){if(N=Qe[Le],N["s-sr"]&&(pe=N["s-cr"])&&pe.parentNode)for(ke=pe.parentNode.childNodes,R=N["s-sn"],re=ke.length-1;re>=0;re--)pe=ke[re],!pe["s-cn"]&&!pe["s-nr"]&&pe["s-hn"]!==N["s-hn"]&&(le(pe,R)?(Y=Rr.find(It=>It.$nodeToRelocate$===pe),G=!0,pe["s-sn"]=pe["s-sn"]||R,Y?Y.$slotRefNode$=N:Rr.push({$slotRefNode$:N,$nodeToRelocate$:pe}),pe["s-sr"]&&Rr.map(It=>{le(It.$nodeToRelocate$,pe["s-sn"])&&(Y=Rr.find(Wt=>Wt.$nodeToRelocate$===pe),Y&&!It.$slotRefNode$&&(It.$slotRefNode$=Y.$slotRefNode$))})):Rr.some(It=>It.$nodeToRelocate$===pe)||Rr.push({$nodeToRelocate$:pe}));1===N.nodeType&&at(N)}},le=(T,N)=>1===T.nodeType?null===T.getAttribute("slot")&&""===N||T.getAttribute("slot")===N:T["s-sn"]===N||""===N,je=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(je)},Sn=T=>Hr(T).$hostElement$,$t=(T,N,pe)=>{const ke=Sn(T);return{emit:R=>cn(ke,N,{bubbles:!!(4&pe),composed:!!(2&pe),cancelable:!!(1&pe),detail:R})}},cn=(T,N,pe)=>{const ke=O.ce(N,pe);return T.dispatchEvent(ke),ke},tr=(T,N)=>{N&&!T.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(pe=>T.$onRenderResolve$=pe))},nn=(T,N)=>{if(T.$flags$|=16,!(4&T.$flags$))return tr(T,T.$ancestorComponent$),Si(()=>Kn(T,N));T.$flags$|=512},Kn=(T,N)=>{const ke=T.$lazyInstance$;let R;return N&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([Y,re])=>gr(ke,Y,re)),T.$queuedListeners$=null),R=gr(ke,"componentWillLoad")),R=M(R,()=>gr(ke,"componentWillRender")),M(R,()=>ur(T,ke,N))},ur=function(){var T=(0,k.Z)(function*(N,pe,ke){const R=N.$hostElement$,re=R["s-rc"];ke&&(T=>{const N=T.$cmpMeta$,pe=T.$hostElement$,ke=N.$flags$,Y=We(pe.shadowRoot?pe.shadowRoot:pe.getRootNode(),N,T.$modeName$);10&ke&&(pe["s-sc"]=Y,pe.classList.add(Y+"-h"),2&ke&&pe.classList.add(Y+"-s"))})(N);jt(N,pe),re&&(re.map(Qe=>Qe()),R["s-rc"]=void 0);{const Qe=R["s-p"],st=()=>nr(N);0===Qe.length?st():(Promise.all(Qe).then(st),N.$flags$|=4,Qe.length=0)}});return function(pe,ke,R){return T.apply(this,arguments)}}(),jt=(T,N,pe)=>{try{N=N.render&&N.render(),T.$flags$&=-17,T.$flags$|=2,((T,N)=>{const pe=T.$hostElement$,ke=T.$cmpMeta$,R=T.$vnode$||sn(null,null),Y=(T=>T&&T.$tag$===ue)(N)?N:xn(null,null,N);if(q=pe.tagName,ke.$attrsToReflect$&&(Y.$attrs$=Y.$attrs$||{},ke.$attrsToReflect$.map(([re,Le])=>Y.$attrs$[Le]=pe[re])),Y.$tag$=null,Y.$flags$|=4,T.$vnode$=Y,Y.$elm$=R.$elm$=pe.shadowRoot||pe,ae=pe["s-sc"],ie=pe["s-cr"],X=0!=(1&ke.$flags$),G=!1,Zr(R,Y),O.$flags$|=1,z){at(Y.$elm$);let re,Le,Qe,st,It,Wt,Qt=0;for(;Qt<Rr.length;Qt++)re=Rr[Qt],Le=re.$nodeToRelocate$,Le["s-ol"]||(Qe=$.createTextNode(""),Qe["s-nr"]=Le,Le.parentNode.insertBefore(Le["s-ol"]=Qe,Le));for(Qt=0;Qt<Rr.length;Qt++)if(re=Rr[Qt],Le=re.$nodeToRelocate$,re.$slotRefNode$){for(st=re.$slotRefNode$.parentNode,It=re.$slotRefNode$.nextSibling,Qe=Le["s-ol"];Qe=Qe.previousSibling;)if(Wt=Qe["s-nr"],Wt&&Wt["s-sn"]===Le["s-sn"]&&st===Wt.parentNode&&(Wt=Wt.nextSibling,!Wt||!Wt["s-nr"])){It=Wt;break}(!It&&st!==Le.parentNode||Le.nextSibling!==It)&&Le!==It&&(!Le["s-hn"]&&Le["s-ol"]&&(Le["s-hn"]=Le["s-ol"].parentNode.nodeName),st.insertBefore(Le,It))}else 1===Le.nodeType&&(Le.hidden=!0)}G&&wi(Y.$elm$),O.$flags$&=-2,Rr.length=0})(T,N)}catch(ke){xo(ke,T.$hostElement$)}return null},nr=T=>{const pe=T.$hostElement$,R=T.$lazyInstance$,Y=T.$ancestorComponent$;gr(R,"componentDidRender"),64&T.$flags$?gr(R,"componentDidUpdate"):(T.$flags$|=64,Fr(pe),gr(R,"componentDidLoad"),T.$onReadyResolve$(pe),Y||At()),T.$onInstanceResolve$(pe),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&Qo(()=>nn(T,!1)),T.$flags$&=-517},E=T=>{{const N=Hr(T),pe=N.$hostElement$.isConnected;return pe&&2==(18&N.$flags$)&&nn(N,!1),pe}},At=T=>{Fr($.documentElement),Qo(()=>cn(se,"appload",{detail:{namespace:"ionic"}}))},gr=(T,N,pe)=>{if(T&&T[N])try{return T[N](pe)}catch(ke){xo(ke)}},M=(T,N)=>T&&T.then?T.then(N):N(),Fr=T=>T.classList.add("hydrated"),co=(T,N,pe,ke,R,Y,re)=>{let Le,Qe,st,It;if(1===Y.nodeType){for(Le=Y.getAttribute("c-id"),Le&&(Qe=Le.split("."),(Qe[0]===re||"0"===Qe[0])&&(st={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:Y.tagName.toLowerCase(),$elm$:Y,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(st),Y.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[st.$index$]=st,T=st,ke&&"0"===st.$depth$&&(ke[st.$index$]=st.$elm$))),It=Y.childNodes.length-1;It>=0;It--)co(T,N,pe,ke,R,Y.childNodes[It],re);if(Y.shadowRoot)for(It=Y.shadowRoot.childNodes.length-1;It>=0;It--)co(T,N,pe,ke,R,Y.shadowRoot.childNodes[It],re)}else if(8===Y.nodeType)Qe=Y.nodeValue.split("."),(Qe[1]===re||"0"===Qe[1])&&(Le=Qe[0],st={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:Y,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Le?(st.$elm$=Y.nextSibling,st.$elm$&&3===st.$elm$.nodeType&&(st.$text$=st.$elm$.textContent,N.push(st),Y.remove(),T.$children$||(T.$children$=[]),T.$children$[st.$index$]=st,ke&&"0"===st.$depth$&&(ke[st.$index$]=st.$elm$))):st.$hostId$===re&&("s"===Le?(st.$tag$="slot",Y["s-sn"]=Qe[5]?st.$name$=Qe[5]:"",Y["s-sr"]=!0,ke&&(st.$elm$=$.createElement(st.$tag$),st.$name$&&st.$elm$.setAttribute("name",st.$name$),Y.parentNode.insertBefore(st.$elm$,Y),Y.remove(),"0"===st.$depth$&&(ke[st.$index$]=st.$elm$)),pe.push(st),T.$children$||(T.$children$=[]),T.$children$[st.$index$]=st):"r"===Le&&(ke?Y.remove():(R["s-cr"]=Y,Y["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Wt=sn(null,Y.textContent);Wt.$elm$=Y,Wt.$index$="0",T.$children$=[Wt]}},Oo=(T,N)=>{if(1===T.nodeType){let pe=0;for(;pe<T.childNodes.length;pe++)Oo(T.childNodes[pe],N);if(T.shadowRoot)for(pe=0;pe<T.shadowRoot.childNodes.length;pe++)Oo(T.shadowRoot.childNodes[pe],N)}else if(8===T.nodeType){const pe=T.nodeValue.split(".");"o"===pe[0]&&(N.set(pe[1]+"."+pe[2],T),T.nodeValue="",T["s-en"]=pe[3])}},no=(T,N,pe)=>{if(N.$members$){T.watchers&&(N.$watchers$=T.watchers);const ke=Object.entries(N.$members$),R=T.prototype;if(ke.map(([Y,[re]])=>{31&re||2&pe&&32&re?Object.defineProperty(R,Y,{get(){return((T,N)=>Hr(this).$instanceValues$.get(N))(0,Y)},set(Le){((T,N,pe,ke)=>{const R=Hr(T),Y=R.$hostElement$,re=R.$instanceValues$.get(N),Le=R.$flags$,Qe=R.$lazyInstance$;pe=((T,N)=>null==T||Bt(T)?T:4&N?"false"!==T&&(""===T||!!T):2&N?parseFloat(T):1&N?String(T):T)(pe,ke.$members$[N][0]);const st=Number.isNaN(re)&&Number.isNaN(pe);if((!(8&Le)||void 0===re)&&pe!==re&&!st&&(R.$instanceValues$.set(N,pe),Qe)){if(ke.$watchers$&&128&Le){const Wt=ke.$watchers$[N];Wt&&Wt.map(Qt=>{try{Qe[Qt](pe,re,N)}catch(or){xo(or,Y)}})}2==(18&Le)&&nn(R,!1)}})(this,Y,Le,N)},configurable:!0,enumerable:!0}):1&pe&&64&re&&Object.defineProperty(R,Y,{value(...Le){const Qe=Hr(this);return Qe.$onInstancePromise$.then(()=>Qe.$lazyInstance$[Y](...Le))}})}),1&pe){const Y=new Map;R.attributeChangedCallback=function(re,Le,Qe){O.jmp(()=>{const st=Y.get(re);if(this.hasOwnProperty(st))Qe=this[st],delete this[st];else if(R.hasOwnProperty(st)&&"number"==typeof this[st]&&this[st]==Qe)return;this[st]=(null!==Qe||"boolean"!=typeof this[st])&&Qe})},T.observedAttributes=ke.filter(([re,Le])=>15&Le[0]).map(([re,Le])=>{const Qe=Le[1]||re;return Y.set(Qe,re),512&Le[0]&&N.$attrsToReflect$.push([re,Qe]),Qe})}}return T},rr=function(){var T=(0,k.Z)(function*(N,pe,ke,R,Y){if(0==(32&pe.$flags$)){{if(pe.$flags$|=32,(Y=ns(ke)).then){const st=()=>{};Y=yield Y,st()}Y.isProxied||(ke.$watchers$=Y.watchers,no(Y,ke,2),Y.isProxied=!0);const Qe=()=>{};pe.$flags$|=8;try{new Y(pe)}catch(st){xo(st)}pe.$flags$&=-9,pe.$flags$|=128,Qe(),ro(pe.$lazyInstance$)}if(Y.style){let Qe=Y.style;"string"!=typeof Qe&&(Qe=Qe[pe.$modeName$=(T=>Li.map(N=>N(T)).find(N=>!!N))(N)]);const st=H(ke,pe.$modeName$);if(!Yo.has(st)){const It=()=>{};xt(st,Qe,!!(1&ke.$flags$)),It()}}}const re=pe.$ancestorComponent$,Le=()=>nn(pe,!0);re&&re["s-rc"]?re["s-rc"].push(Le):Le()});return function(pe,ke,R,Y,re){return T.apply(this,arguments)}}(),ro=T=>{gr(T,"connectedCallback")},Zo=T=>{const N=T["s-cr"]=$.createComment("");N["s-cn"]=!0,T.insertBefore(N,T.firstChild)},wo=(T,N={})=>{const ke=[],R=N.exclude||[],Y=se.customElements,re=$.head,Le=re.querySelector("meta[charset]"),Qe=$.createElement("style"),st=[],It=$.querySelectorAll(`[${ze}]`);let Wt,Qt=!0,or=0;for(Object.assign(O,N),O.$resourcesUrl$=new URL(N.resourcesUrl||"./",$.baseURI).href,O.$flags$|=2;or<It.length;or++)xt(It[or].getAttribute(ze),W(It[or].innerHTML),!0);T.map(uo=>{uo[1].map(Or=>{const yr={$flags$:Or[0],$tagName$:Or[1],$members$:Or[2],$listeners$:Or[3]};yr.$members$=Or[2],yr.$listeners$=Or[3],yr.$attrsToReflect$=[],yr.$watchers$={};const $i=yr.$tagName$,Jo=class extends HTMLElement{constructor(Ei){super(Ei),di(Ei=this,yr),1&yr.$flags$&&Ei.attachShadow({mode:"open",delegatesFocus:!!(16&yr.$flags$)})}connectedCallback(){Wt&&(clearTimeout(Wt),Wt=null),Qt?st.push(this):O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=Hr(T),pe=N.$cmpMeta$,ke=()=>{};if(1&N.$flags$)we(T,N,pe.$listeners$),ro(N.$lazyInstance$);else{let R;if(N.$flags$|=1,R=T.getAttribute(Ae),R){if(1&pe.$flags$){const Y=We(T.shadowRoot,pe,T.getAttribute("s-mode"));T.classList.remove(Y+"-h",Y+"-s")}((T,N,pe,ke)=>{const Y=T.shadowRoot,re=[],Qe=Y?[]:null,st=ke.$vnode$=sn(N,null);O.$orgLocNodes$||Oo($.body,O.$orgLocNodes$=new Map),T[Ae]=pe,T.removeAttribute(Ae),co(st,re,[],Qe,T,T,pe),re.map(It=>{const Wt=It.$hostId$+"."+It.$nodeId$,Qt=O.$orgLocNodes$.get(Wt),or=It.$elm$;Qt&&""===Qt["s-en"]&&Qt.parentNode.insertBefore(or,Qt.nextSibling),Y||(or["s-hn"]=N,Qt&&(or["s-ol"]=Qt,or["s-ol"]["s-nr"]=or)),O.$orgLocNodes$.delete(Wt)}),Y&&Qe.map(It=>{It&&Y.appendChild(It)})})(T,pe.$tagName$,R,N)}R||12&pe.$flags$&&Zo(T);{let Y=T;for(;Y=Y.parentNode||Y.host;)if(1===Y.nodeType&&Y.hasAttribute("s-id")&&Y["s-p"]||Y["s-p"]){tr(N,N.$ancestorComponent$=Y);break}}pe.$members$&&Object.entries(pe.$members$).map(([Y,[re]])=>{if(31&re&&T.hasOwnProperty(Y)){const Le=T[Y];delete T[Y],T[Y]=Le}}),Qo(()=>rr(T,N,pe))}ke()}})(this))}disconnectedCallback(){O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=Hr(this),pe=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(ke=>ke()),N.$rmListeners$=void 0),gr(pe,"disconnectedCallback")}})())}componentOnReady(){return Hr(this).$onReadyPromise$}};yr.$lazyBundleId$=uo[0],!R.includes($i)&&!Y.get($i)&&(ke.push($i),Y.define($i,no(Jo,yr,1)))})}),Qe.innerHTML=ke+"{visibility:hidden}.hydrated{visibility:inherit}",Qe.setAttribute("data-styles",""),re.insertBefore(Qe,Le?Le.nextSibling:re.firstChild),Qt=!1,st.length?st.map(uo=>uo.connectedCallback()):O.jmp(()=>Wt=setTimeout(At,30))},I=T=>{const N=new URL(T,O.$resourcesUrl$);return N.origin!==se.location.origin?N.href:N.pathname},Yr=new WeakMap,Hr=T=>Yr.get(T),ui=(T,N)=>Yr.set(N.$lazyInstance$=T,N),di=(T,N)=>{const pe={$flags$:0,$hostElement$:T,$cmpMeta$:N,$instanceValues$:new Map};return pe.$onInstancePromise$=new Promise(ke=>pe.$onInstanceResolve$=ke),pe.$onReadyPromise$=new Promise(ke=>pe.$onReadyResolve$=ke),T["s-p"]=[],T["s-rc"]=[],we(T,pe,N.$listeners$),Yr.set(T,pe)},No=(T,N)=>N in T,xo=(T,N)=>(0,console.error)(T,N),jr=new Map,ns=(T,N,pe)=>{const ke=T.$tagName$.replace(/-/g,"_"),R=T.$lazyBundleId$,Y=jr.get(R);return Y?Y[ke]:F(863)(`./${R}.entry.js`).then(re=>(jr.set(R,re),re[ke]),xo)},Yo=new Map,Li=[],Gn=[],Ko=[],Ci=(T,N)=>pe=>{T.push(pe),Z||(Z=!0,N&&4&O.$flags$?Qo(Fn):O.raf(Fn))},Xo=T=>{for(let N=0;N<T.length;N++)try{T[N](performance.now())}catch(pe){xo(pe)}T.length=0},Fn=()=>{Xo(Gn),Xo(Ko),(Z=Gn.length>0)&&O.raf(Fn)},Qo=T=>ee().then(T),Ln=Ci(Gn,!1),Si=Ci(Ko,!0),rs={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9506:(Be,qe,F)=>{"use strict";F.d(qe,{m:()=>se});var k=F(3918),u=F(159),ae=F(9158),ie=F(537),q=F(2597);const X=$=>(0,q.c)().duration($?400:300),G=$=>{let O,j;const Oe=$.width+8,ee=(0,q.c)(),Se=(0,q.c)();$.isEndSide?(O=Oe+"px",j="0px"):(O=-Oe+"px",j="0px"),ee.addElement($.menuInnerEl).fromTo("transform",`translateX(${O})`,`translateX(${j})`);const ce="ios"===(0,ie.b)($),he=ce?.2:.25;return Se.addElement($.backdropEl).fromTo("opacity",.01,he),X(ce).addAnimation([ee,Se])},z=$=>{let O,j;const Oe=(0,ie.b)($),ee=$.width;$.isEndSide?(O=-ee+"px",j=ee+"px"):(O=ee+"px",j=-ee+"px");const Se=(0,q.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),we=(0,q.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${O})`),ce=(0,q.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Oe).addAnimation([Se,we,ce])},Ce=$=>{const O=(0,ie.b)($),j=$.width*($.isEndSide?-1:1)+"px",Oe=(0,q.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return X("ios"===O).addAnimation(Oe)},se=(()=>{const $=new Map,O=[],j=function(){var L=(0,k.Z)(function*(H){const W=yield Ne(H);return!!W&&W.open()});return function(W){return L.apply(this,arguments)}}(),Oe=function(){var L=(0,k.Z)(function*(H){const W=yield void 0!==H?Ne(H):me();return void 0!==W&&W.close()});return function(W){return L.apply(this,arguments)}}(),ee=function(){var L=(0,k.Z)(function*(H){const W=yield Ne(H);return!!W&&W.toggle()});return function(W){return L.apply(this,arguments)}}(),Se=function(){var L=(0,k.Z)(function*(H,W){const ge=yield Ne(W);return ge&&(ge.disabled=!H),ge});return function(W,ge){return L.apply(this,arguments)}}(),we=function(){var L=(0,k.Z)(function*(H,W){const ge=yield Ne(W);return ge&&(ge.swipeGesture=H),ge});return function(W,ge){return L.apply(this,arguments)}}(),ce=function(){var L=(0,k.Z)(function*(H){if(null!=H){const W=yield Ne(H);return void 0!==W&&W.isOpen()}return void 0!==(yield me())});return function(W){return L.apply(this,arguments)}}(),he=function(){var L=(0,k.Z)(function*(H){const W=yield Ne(H);return!!W&&!W.disabled});return function(W){return L.apply(this,arguments)}}(),Ne=function(){var L=(0,k.Z)(function*(H){return yield We(),"start"===H||"end"===H?xt(Re=>Re.side===H&&!Re.disabled)||xt(Re=>Re.side===H):null!=H?xt(ge=>ge.menuId===H):xt(ge=>!ge.disabled)||(O.length>0?O[0].el:void 0)});return function(W){return L.apply(this,arguments)}}(),me=function(){var L=(0,k.Z)(function*(){return yield We(),Ze()});return function(){return L.apply(this,arguments)}}(),Ye=function(){var L=(0,k.Z)(function*(){return yield We(),Ke()});return function(){return L.apply(this,arguments)}}(),ve=function(){var L=(0,k.Z)(function*(){return yield We(),yt()});return function(){return L.apply(this,arguments)}}(),Ie=(L,H)=>{$.set(L,H)},Ve=L=>{const H=L.side;O.filter(W=>W.side===H&&W!==L).forEach(W=>W.disabled=!0)},Pe=function(){var L=(0,k.Z)(function*(H,W,ge){if(yt())return!1;if(W){const Re=yield me();Re&&H.el!==Re&&(yield Re.setOpen(!1,!1))}return H._setOpen(W,ge)});return function(W,ge,Re){return L.apply(this,arguments)}}(),Ze=()=>xt(L=>L._isOpen),Ke=()=>O.map(L=>L.el),yt=()=>O.some(L=>L.isAnimating),xt=L=>{const H=O.find(L);if(void 0!==H)return H.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(H=>(0,ae.c)(L,H))));return Ie("reveal",Ce),Ie("push",z),Ie("overlay",G),typeof document<"u"&&document.addEventListener("ionBackButton",L=>{const H=Ze();H&&L.detail.register(u.MENU_BACK_BUTTON_PRIORITY,()=>H.close())}),{registerAnimation:Ie,get:Ne,getMenus:Ye,getOpen:me,isEnabled:he,swipeGesture:we,isAnimating:ve,isOpen:ce,enable:Se,toggle:ee,close:Oe,open:j,_getOpenSync:Ze,_createAnimation:(L,H)=>{const W=$.get(L);if(!W)throw new Error("animation not registered");return W(H)},_register:L=>{O.indexOf(L)<0&&(L.disabled||Ve(L),O.push(L))},_unregister:L=>{const H=O.indexOf(L);H>-1&&O.splice(H,1)},_setOpen:Pe,_setActiveMenu:Ve}})()},537:(Be,qe,F)=>{"use strict";F.d(qe,{a:()=>se,b:()=>yt,c:()=>ae,g:()=>Z,i:()=>xt});var k=F(9479);class u{constructor(){this.m=new Map}reset(L){this.m=new Map(Object.entries(L))}get(L,H){const W=this.m.get(L);return void 0!==W?W:H}getBoolean(L,H=!1){const W=this.m.get(L);return void 0===W?H:"string"==typeof W?"true"===W:!!W}getNumber(L,H){const W=parseFloat(this.m.get(L));return isNaN(W)?void 0!==H?H:NaN:W}set(L,H){this.m.set(L,H)}}const ae=new u,z="ionic:",Ce="ionic-persist-config",Z=We=>$(We),se=(We,L)=>("string"==typeof We&&(L=We,We=void 0),Z(We).includes(L)),$=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let L=We.Ionic.platforms;return null==L&&(L=We.Ionic.platforms=O(We),L.forEach(H=>We.document.documentElement.classList.add(`plt-${H}`))),L},O=We=>{const L=ae.get("platform");return Object.keys(Ze).filter(H=>{const W=L?.[H];return"function"==typeof W?W(We):Ze[H](We)})},Oe=We=>!!(Pe(We,/iPad/i)||Pe(We,/Macintosh/i)&&me(We)),we=We=>Pe(We,/android|sink/i),me=We=>Q(We,"(any-pointer:coarse)"),ve=We=>Ie(We)||Ae(We),Ie=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Ae=We=>!!We.Capacitor?.isNative,Pe=(We,L)=>L.test(We.navigator.userAgent),Q=(We,L)=>{var H;return null===(H=We.matchMedia)||void 0===H?void 0:H.call(We,L).matches},Ze={ipad:Oe,iphone:We=>Pe(We,/iPhone/i),ios:We=>Pe(We,/iPhone|iPod/i)||Oe(We),android:we,phablet:We=>{const L=We.innerWidth,H=We.innerHeight,W=Math.min(L,H),ge=Math.max(L,H);return W>390&&W<520&&ge>620&&ge<800},tablet:We=>{const L=We.innerWidth,H=We.innerHeight,W=Math.min(L,H),ge=Math.max(L,H);return Oe(We)||(We=>we(We)&&!Pe(We,/mobile/i))(We)||W>460&&W<820&&ge>780&&ge<1400},cordova:Ie,capacitor:Ae,electron:We=>Pe(We,/electron/i),pwa:We=>{var L;return!(!(null===(L=We.matchMedia)||void 0===L?void 0:L.call(We,"(display-mode: standalone)").matches)&&!We.navigator.standalone)},mobile:me,mobileweb:We=>me(We)&&!ve(We),desktop:We=>!me(We),hybrid:ve};let Ke;const yt=We=>We&&(0,k.g)(We)||Ke,xt=(We={})=>{if(typeof window>"u")return;const L=window.document,H=window,W=H.Ionic=H.Ionic||{},ge={};We._ael&&(ge.ael=We._ael),We._rel&&(ge.rel=We._rel),We._ce&&(ge.ce=We._ce),(0,k.s)(ge);const Re=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const L=We.sessionStorage.getItem(Ce);return null!==L?JSON.parse(L):{}}catch{return{}}})(H)),{persistConfig:!1}),W.config),(We=>{const L={};return We.location.search.slice(1).split("&").map(H=>H.split("=")).map(([H,W])=>[decodeURIComponent(H),decodeURIComponent(W)]).filter(([H])=>((We,L)=>We.substr(0,L.length)===L)(H,z)).map(([H,W])=>[H.slice(z.length),W]).forEach(([H,W])=>{L[H]=W}),L})(H)),We);ae.reset(Re),ae.getBoolean("persistConfig")&&((We,L)=>{try{We.sessionStorage.setItem(Ce,JSON.stringify(L))}catch{return}})(H,Re),$(H),W.config=ae,W.mode=Ke=ae.get("mode",L.documentElement.getAttribute("mode")||(se(H,"ios")?"ios":"md")),ae.set("mode",Ke),L.documentElement.setAttribute("mode",Ke),L.documentElement.classList.add(Ke),ae.getBoolean("_testing")&&ae.set("animated",!1);const $e=it=>{var lt;return null===(lt=it.tagName)||void 0===lt?void 0:lt.startsWith("ION-")},ut=it=>["ios","md"].includes(it);(0,k.a)(it=>{for(;it;){const lt=it.mode||it.getAttribute("mode");if(lt){if(ut(lt))return lt;$e(it)&&console.warn('Invalid ionic mode: "'+lt+'", expected: "ios" or "md"')}it=it.parentElement}return Ke})}},5794:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{iosTransitionAnimation:()=>$,shadow:()=>X});var k=F(2597),u=F(4736);F(9479);const q=O=>document.querySelector(`${O}.ion-cloned-element`),X=O=>O.shadowRoot||O,G=O=>{const j="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs"),Oe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=j){const ee=j.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ee?ee.querySelector(Oe):null}return O.querySelector(Oe)},z=(O,j)=>{const Oe="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs");let ee=[];if(null!=Oe){const Se=Oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Se&&(ee=Se.querySelectorAll("ion-buttons"))}else ee=O.querySelectorAll("ion-buttons");for(const Se of ee){const we=Se.closest("ion-header"),ce=we&&!we.classList.contains("header-collapse-condense-inactive"),he=Se.querySelector("ion-back-button"),Ne=Se.classList.contains("buttons-collapse"),me="start"===Se.slot||""===Se.slot;if(null!==he&&me&&(Ne&&ce&&j||!Ne))return he}return null},Z=(O,j,Oe,ee,Se,we)=>{const ce=j?`calc(100% - ${we.right+4}px)`:we.left-4+"px",he=j?"7px":"-7px",Ne=j?"-4px":"4px",me=j?"-4px":"4px",Ye=j?"right":"left",ve=j?"left":"right",ze=Oe?[{offset:0,opacity:1,transform:`translate3d(${Ne}, ${we.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${he}, ${Se.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${he}, ${Se.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ne}, ${we.top-46}px, 0) scale(1)`}],Q=Oe?[{offset:0,opacity:1,transform:`translate3d(${me}, ${we.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${me}, ${we.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${me}, ${we.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${me}, ${we.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${me}, ${we.top-46}px, 0) scale(1)`}],Ze=(0,k.c)(),Ke=(0,k.c)(),yt=q("ion-back-button"),xt=X(yt).querySelector(".button-text"),We=X(yt).querySelector("ion-icon");yt.text=ee.text,yt.mode=ee.mode,yt.icon=ee.icon,yt.color=ee.color,yt.disabled=ee.disabled,yt.style.setProperty("display","block"),yt.style.setProperty("position","fixed"),Ke.addElement(We),Ze.addElement(xt),Ze.beforeStyles({"transform-origin":`${Ye} center`}).beforeAddWrite(()=>{ee.style.setProperty("display","none"),yt.style.setProperty(Ye,ce)}).afterAddWrite(()=>{ee.style.setProperty("display",""),yt.style.setProperty("display","none"),yt.style.removeProperty(Ye)}).keyframes(ze),Ke.beforeStyles({"transform-origin":`${ve} center`}).keyframes(Q),O.addAnimation([Ze,Ke])},se=(O,j,Oe,ee,Se,we)=>{const ce=j?`calc(100% - ${Se.right}px)`:`${Se.left}px`,he=j?"-18px":"18px",Ne=j?"right":"left",ve=Oe?[{offset:0,opacity:0,transform:`translate3d(${he}, ${we.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${he}, ${we.top-4}px, 0) scale(0.5)`}],Ie=q("ion-title"),Ae=(0,k.c)();Ie.innerText=ee.innerText,Ie.size=ee.size,Ie.color=ee.color,Ae.addElement(Ie),Ae.beforeStyles({"transform-origin":`${Ne} center`,height:"46px",display:"",position:"relative",[Ne]:ce}).beforeAddWrite(()=>{ee.style.setProperty("display","none")}).afterAddWrite(()=>{ee.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(ve),O.addAnimation(Ae)},$=(O,j)=>{try{const Oe="cubic-bezier(0.32,0.72,0,1)",ee="opacity",Se="transform",we="0%",he="rtl"===O.ownerDocument.dir,Ne=he?"-99.5%":"99.5%",me=he?"33%":"-33%",Ye=j.enteringEl,ve=j.leavingEl,Ie="back"===j.direction,Ae=Ye.querySelector(":scope > ion-content"),ze=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ve=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),Pe=(0,k.c)(),Q=(0,k.c)();if(Pe.addElement(Ye).duration(j.duration||540).easing(j.easing||Oe).fill("both").beforeRemoveClass("ion-page-invisible"),ve&&O){const xt=(0,k.c)();xt.addElement(O),Pe.addAnimation(xt)}if(Ae||0!==Ve.length||0!==ze.length?(Q.addElement(Ae),Q.addElement(ze)):Q.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(Q),Ie?Q.beforeClearStyles([ee]).fromTo("transform",`translateX(${me})`,`translateX(${we})`).fromTo(ee,.8,1):Q.beforeClearStyles([ee]).fromTo("transform",`translateX(${Ne})`,`translateX(${we})`),Ae){const xt=X(Ae).querySelector(".transition-effect");if(xt){const We=xt.querySelector(".transition-cover"),L=xt.querySelector(".transition-shadow"),H=(0,k.c)(),W=(0,k.c)(),ge=(0,k.c)();H.addElement(xt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),W.addElement(We).beforeClearStyles([ee]).fromTo(ee,0,.1),ge.addElement(L).beforeClearStyles([ee]).fromTo(ee,.03,.7),H.addAnimation([W,ge]),Q.addAnimation([H])}}const Ze=Ye.querySelector("ion-header.header-collapse-condense"),{forward:Ke,backward:yt}=((O,j,Oe,ee,Se)=>{const we=z(ee,Oe),ce=G(Se),he=G(ee),Ne=z(Se,Oe),me=null!==we&&null!==ce&&!Oe,Ye=null!==he&&null!==Ne&&Oe;if(me){const ve=ce.getBoundingClientRect(),Ie=we.getBoundingClientRect();se(O,j,Oe,ce,ve,Ie),Z(O,j,Oe,we,ve,Ie)}else if(Ye){const ve=he.getBoundingClientRect(),Ie=Ne.getBoundingClientRect();se(O,j,Oe,he,ve,Ie),Z(O,j,Oe,Ne,ve,Ie)}return{forward:me,backward:Ye}})(Pe,he,Ie,Ye,ve);if(Ve.forEach(xt=>{const We=(0,k.c)();We.addElement(xt),Pe.addAnimation(We);const L=(0,k.c)();L.addElement(xt.querySelector("ion-title"));const H=(0,k.c)(),W=Array.from(xt.querySelectorAll("ion-buttons,[menuToggle]")),ge=xt.closest("ion-header"),Re=ge?.classList.contains("header-collapse-condense-inactive");let $e;$e=W.filter(Ie?Bt=>{const xn=Bt.classList.contains("buttons-collapse");return xn&&!Re||!xn}:Bt=>!Bt.classList.contains("buttons-collapse")),H.addElement($e);const ut=(0,k.c)();ut.addElement(xt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const it=(0,k.c)();it.addElement(X(xt).querySelector(".toolbar-background"));const lt=(0,k.c)(),Rt=xt.querySelector("ion-back-button");if(Rt&&lt.addElement(Rt),We.addAnimation([L,H,ut,it,lt]),H.fromTo(ee,.01,1),ut.fromTo(ee,.01,1),Ie)Re||L.fromTo("transform",`translateX(${me})`,`translateX(${we})`).fromTo(ee,.01,1),ut.fromTo("transform",`translateX(${me})`,`translateX(${we})`),lt.fromTo(ee,.01,1);else if(Ze||L.fromTo("transform",`translateX(${Ne})`,`translateX(${we})`).fromTo(ee,.01,1),ut.fromTo("transform",`translateX(${Ne})`,`translateX(${we})`),it.beforeClearStyles([ee,"transform"]),ge?.translucent?it.fromTo("transform",he?"translateX(-100%)":"translateX(100%)","translateX(0px)"):it.fromTo(ee,.01,"var(--opacity)"),Ke||lt.fromTo(ee,.01,1),Rt&&!Ke){const xn=(0,k.c)();xn.addElement(X(Rt).querySelector(".button-text")).fromTo("transform",he?"translateX(-100px)":"translateX(100px)","translateX(0px)"),We.addAnimation(xn)}}),ve){const xt=(0,k.c)(),We=ve.querySelector(":scope > ion-content"),L=ve.querySelectorAll(":scope > ion-header > ion-toolbar"),H=ve.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(We||0!==L.length||0!==H.length?(xt.addElement(We),xt.addElement(H)):xt.addElement(ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(xt),Ie){xt.beforeClearStyles([ee]).fromTo("transform",`translateX(${we})`,he?"translateX(-100%)":"translateX(100%)");const W=(0,u.g)(ve);Pe.afterAddWrite(()=>{"normal"===Pe.getDirection()&&W.style.setProperty("display","none")})}else xt.fromTo("transform",`translateX(${we})`,`translateX(${me})`).fromTo(ee,1,.8);if(We){const W=X(We).querySelector(".transition-effect");if(W){const ge=W.querySelector(".transition-cover"),Re=W.querySelector(".transition-shadow"),$e=(0,k.c)(),ut=(0,k.c)(),it=(0,k.c)();$e.addElement(W).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ut.addElement(ge).beforeClearStyles([ee]).fromTo(ee,.1,0),it.addElement(Re).beforeClearStyles([ee]).fromTo(ee,.7,.03),$e.addAnimation([ut,it]),xt.addAnimation([$e])}}L.forEach(W=>{const ge=(0,k.c)();ge.addElement(W);const Re=(0,k.c)();Re.addElement(W.querySelector("ion-title"));const $e=(0,k.c)(),ut=W.querySelectorAll("ion-buttons,[menuToggle]"),it=W.closest("ion-header"),lt=it?.classList.contains("header-collapse-condense-inactive"),Rt=Array.from(ut).filter(Ir=>{const Yn=Ir.classList.contains("buttons-collapse");return Yn&&!lt||!Yn});$e.addElement(Rt);const Bt=(0,k.c)(),xn=W.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xn.length>0&&Bt.addElement(xn);const sn=(0,k.c)();sn.addElement(X(W).querySelector(".toolbar-background"));const ue=(0,k.c)(),qr=W.querySelector("ion-back-button");if(qr&&ue.addElement(qr),ge.addAnimation([Re,$e,Bt,ue,sn]),Pe.addAnimation(ge),ue.fromTo(ee,.99,0),$e.fromTo(ee,.99,0),Bt.fromTo(ee,.99,0),Ie){if(lt||Re.fromTo("transform",`translateX(${we})`,he?"translateX(-100%)":"translateX(100%)").fromTo(ee,.99,0),Bt.fromTo("transform",`translateX(${we})`,he?"translateX(-100%)":"translateX(100%)"),sn.beforeClearStyles([ee,"transform"]),it?.translucent?sn.fromTo("transform","translateX(0px)",he?"translateX(-100%)":"translateX(100%)"):sn.fromTo(ee,"var(--opacity)",0),qr&&!yt){const Yn=(0,k.c)();Yn.addElement(X(qr).querySelector(".button-text")).fromTo("transform",`translateX(${we})`,`translateX(${(he?-124:124)+"px"})`),ge.addAnimation(Yn)}}else lt||Re.fromTo("transform",`translateX(${we})`,`translateX(${me})`).fromTo(ee,.99,0).afterClearStyles([Se,ee]),Bt.fromTo("transform",`translateX(${we})`,`translateX(${me})`).afterClearStyles([Se,ee]),ue.afterClearStyles([ee]),Re.afterClearStyles([ee]),$e.afterClearStyles([ee])})}return Pe}catch(Oe){throw Oe}}},932:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{mdTransitionAnimation:()=>ie});var k=F(2597),u=F(4736);F(9479);const ie=(q,X)=>{const Ce="back"===X.direction,se=X.leavingEl,$=(0,u.g)(X.enteringEl),O=$.querySelector("ion-toolbar"),j=(0,k.c)();if(j.addElement($).fill("both").beforeRemoveClass("ion-page-invisible"),Ce?j.duration(X.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):j.duration(X.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),O){const Oe=(0,k.c)();Oe.addElement(O),j.addAnimation(Oe)}if(se&&Ce){j.duration(X.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Oe=(0,k.c)();Oe.addElement((0,u.g)(se)).onFinish(ee=>{1===ee&&Oe.elements.length>0&&Oe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),j.addAnimation(Oe)}return j}},9703:(Be,qe,F)=>{"use strict";F.d(qe,{B:()=>H,a:()=>z,b:()=>Ce,c:()=>O,d:()=>ze,e:()=>Oe,f:()=>Pe,g:()=>Ke,h:()=>X,i:()=>xt,j:()=>we,k:()=>Ie,l:()=>Z,m:()=>se,s:()=>L});var k=F(3918),u=F(537),ae=F(159),ie=F(9158);let q=0;const X=new WeakMap,G=W=>({create:ge=>ee(W,ge),dismiss:(ge,Re,$e)=>Ye(document,ge,Re,W,$e),getTop:()=>(0,k.Z)(function*(){return Ie(document,W)})()}),z=G("ion-alert"),Ce=G("ion-action-sheet"),Z=G("ion-loading"),se=G("ion-modal"),O=G("ion-popover"),Oe=W=>{typeof document<"u"&&me(document);const ge=q++;W.overlayIndex=ge,W.hasAttribute("id")||(W.id=`ion-overlay-${ge}`)},ee=(W,ge)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(W).then(()=>{const Re=document.createElement(W);return Re.classList.add("overlay-hidden"),Object.assign(Re,Object.assign(Object.assign({},ge),{hasController:!0})),Q(document).appendChild(Re),new Promise($e=>(0,ie.c)(Re,$e))}):Promise.resolve(),Se='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',we=(W,ge)=>{let Re=W.querySelector(Se);const $e=Re?.shadowRoot;$e&&(Re=$e.querySelector(Se)||Re),Re?(0,ie.f)(Re):ge.focus()},he=(W,ge)=>{const Re=Array.from(W.querySelectorAll(Se));let $e=Re.length>0?Re[Re.length-1]:null;const ut=$e?.shadowRoot;ut&&($e=ut.querySelector(Se)||$e),$e?$e.focus():ge.focus()},me=W=>{0===q&&(q=1,W.addEventListener("focus",ge=>{((W,ge)=>{const Re=Ie(ge,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),$e=W.target;Re&&$e&&!Re.classList.contains("ion-disable-focus-trap")&&(Re.shadowRoot?(()=>{if(Re.contains($e))Re.lastFocus=$e;else{const lt=Re.lastFocus;we(Re,Re),lt===ge.activeElement&&he(Re,Re),Re.lastFocus=ge.activeElement}})():(()=>{if(Re===$e)Re.lastFocus=void 0;else{const lt=(0,ie.g)(Re);if(!lt.contains($e))return;const Rt=lt.querySelector(".ion-overlay-wrapper");if(!Rt)return;if(Rt.contains($e))Re.lastFocus=$e;else{const Bt=Re.lastFocus;we(Rt,Re),Bt===ge.activeElement&&he(Rt,Re),Re.lastFocus=ge.activeElement}}})())})(ge,W)},!0),W.addEventListener("ionBackButton",ge=>{const Re=Ie(W);Re?.backdropDismiss&&ge.detail.register(ae.OVERLAY_BACK_BUTTON_PRIORITY,()=>Re.dismiss(void 0,H))}),W.addEventListener("keyup",ge=>{if("Escape"===ge.key){const Re=Ie(W);Re?.backdropDismiss&&Re.dismiss(void 0,H)}}))},Ye=(W,ge,Re,$e,ut)=>{const it=Ie(W,$e,ut);return it?it.dismiss(ge,Re):Promise.reject("overlay does not exist")},Ie=(W,ge,Re)=>{const $e=((W,ge)=>(void 0===ge&&(ge="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(W.querySelectorAll(ge)).filter(Re=>Re.overlayIndex>0)))(W,ge).filter(ut=>!(W=>W.classList.contains("overlay-hidden"))(ut));return void 0===Re?$e[$e.length-1]:$e.find(ut=>ut.id===Re)},Ae=(W=!1)=>{const Re=Q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Re||(W?Re.setAttribute("aria-hidden","true"):Re.removeAttribute("aria-hidden"))},ze=function(){var W=(0,k.Z)(function*(ge,Re,$e,ut,it){var lt,Rt;if(ge.presented)return;Ae(!0),ge.presented=!0,ge.willPresent.emit(),null===(lt=ge.willPresentShorthand)||void 0===lt||lt.emit();const Bt=(0,u.b)(ge),xn=ge.enterAnimation?ge.enterAnimation:u.c.get(Re,"ios"===Bt?$e:ut);(yield Ze(ge,xn,ge.el,it))&&(ge.didPresent.emit(),null===(Rt=ge.didPresentShorthand)||void 0===Rt||Rt.emit()),"ION-TOAST"!==ge.el.tagName&&Ve(ge.el),ge.keyboardClose&&(null===document.activeElement||!ge.el.contains(document.activeElement))&&ge.el.focus()});return function(Re,$e,ut,it,lt){return W.apply(this,arguments)}}(),Ve=function(){var W=(0,k.Z)(function*(ge){let Re=document.activeElement;if(!Re)return;const $e=Re?.shadowRoot;$e&&(Re=$e.querySelector(Se)||Re),yield ge.onDidDismiss(),Re.focus()});return function(Re){return W.apply(this,arguments)}}(),Pe=function(){var W=(0,k.Z)(function*(ge,Re,$e,ut,it,lt,Rt){var Bt,xn;if(!ge.presented)return!1;Ae(!1),ge.presented=!1;try{ge.el.style.setProperty("pointer-events","none"),ge.willDismiss.emit({data:Re,role:$e}),null===(Bt=ge.willDismissShorthand)||void 0===Bt||Bt.emit({data:Re,role:$e});const sn=(0,u.b)(ge),ue=ge.leaveAnimation?ge.leaveAnimation:u.c.get(ut,"ios"===sn?it:lt);"gesture"!==$e&&(yield Ze(ge,ue,ge.el,Rt)),ge.didDismiss.emit({data:Re,role:$e}),null===(xn=ge.didDismissShorthand)||void 0===xn||xn.emit({data:Re,role:$e}),X.delete(ge),ge.el.classList.add("overlay-hidden"),ge.el.style.removeProperty("pointer-events")}catch(sn){console.error(sn)}return ge.el.remove(),!0});return function(Re,$e,ut,it,lt,Rt,Bt){return W.apply(this,arguments)}}(),Q=W=>W.querySelector("ion-app")||W.body,Ze=function(){var W=(0,k.Z)(function*(ge,Re,$e,ut){$e.classList.remove("overlay-hidden");const lt=Re(ge.el,ut);(!ge.animated||!u.c.getBoolean("animated",!0))&&lt.duration(0),ge.keyboardClose&&lt.beforeAddWrite(()=>{const Bt=$e.ownerDocument.activeElement;Bt?.matches("input,ion-input, ion-textarea")&&Bt.blur()});const Rt=X.get(ge)||[];return X.set(ge,[...Rt,lt]),yield lt.play(),!0});return function(Re,$e,ut,it){return W.apply(this,arguments)}}(),Ke=(W,ge)=>{let Re;const $e=new Promise(ut=>Re=ut);return yt(W,ge,ut=>{Re(ut.detail)}),$e},yt=(W,ge,Re)=>{const $e=ut=>{(0,ie.b)(W,ge,$e),Re(ut)};(0,ie.a)(W,ge,$e)},xt=W=>"cancel"===W||W===H,We=W=>W(),L=(W,ge)=>{if("function"==typeof W)return u.c.get("_zoneGate",We)(()=>{try{return W(ge)}catch($e){throw $e}})},H="backdrop"},4263:(Be,qe,F)=>{"use strict";var k=F(9903),u=F(3855),ae=u(k("String.prototype.indexOf"));Be.exports=function(q,X){var G=k(q,!!X);return"function"==typeof G&&ae(q,".prototype.")>-1?u(G):G}},3855:(Be,qe,F)=>{"use strict";var k=F(224),u=F(9903),ae=u("%Function.prototype.apply%"),ie=u("%Function.prototype.call%"),q=u("%Reflect.apply%",!0)||k.call(ie,ae),X=u("%Object.getOwnPropertyDescriptor%",!0),G=u("%Object.defineProperty%",!0),z=u("%Math.max%");if(G)try{G({},"a",{value:1})}catch{G=null}Be.exports=function(se){var $=q(k,ie,arguments);if(X&&G){var O=X($,"length");O.configurable&&G($,"length",{value:1+z(0,se.length-(arguments.length-1))})}return $};var Ce=function(){return q(k,ae,arguments)};G?G(Be.exports,"apply",{value:Ce}):Be.exports.apply=Ce},5107:Be=>{var qe={utf8:{stringToBytes:function(F){return qe.bin.stringToBytes(unescape(encodeURIComponent(F)))},bytesToString:function(F){return decodeURIComponent(escape(qe.bin.bytesToString(F)))}},bin:{stringToBytes:function(F){for(var k=[],u=0;u<F.length;u++)k.push(255&F.charCodeAt(u));return k},bytesToString:function(F){for(var k=[],u=0;u<F.length;u++)k.push(String.fromCharCode(F[u]));return k.join("")}}};Be.exports=qe},7175:Be=>{var qe,F;qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=F={rotl:function(k,u){return k<<u|k>>>32-u},rotr:function(k,u){return k<<32-u|k>>>u},endian:function(k){if(k.constructor==Number)return 16711935&F.rotl(k,8)|4278255360&F.rotl(k,24);for(var u=0;u<k.length;u++)k[u]=F.endian(k[u]);return k},randomBytes:function(k){for(var u=[];k>0;k--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(k){for(var u=[],ae=0,ie=0;ae<k.length;ae++,ie+=8)u[ie>>>5]|=k[ae]<<24-ie%32;return u},wordsToBytes:function(k){for(var u=[],ae=0;ae<32*k.length;ae+=8)u.push(k[ae>>>5]>>>24-ae%32&255);return u},bytesToHex:function(k){for(var u=[],ae=0;ae<k.length;ae++)u.push((k[ae]>>>4).toString(16)),u.push((15&k[ae]).toString(16));return u.join("")},hexToBytes:function(k){for(var u=[],ae=0;ae<k.length;ae+=2)u.push(parseInt(k.substr(ae,2),16));return u},bytesToBase64:function(k){for(var u=[],ae=0;ae<k.length;ae+=3)for(var ie=k[ae]<<16|k[ae+1]<<8|k[ae+2],q=0;q<4;q++)u.push(8*ae+6*q<=8*k.length?qe.charAt(ie>>>6*(3-q)&63):"=");return u.join("")},base64ToBytes:function(k){k=k.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],ae=0,ie=0;ae<k.length;ie=++ae%4)0!=ie&&u.push((qe.indexOf(k.charAt(ae-1))&Math.pow(2,-2*ie+8)-1)<<2*ie|qe.indexOf(k.charAt(ae))>>>6-2*ie);return u}}},5541:(Be,qe,F)=>{"use strict";var k=F(2093),u=F(9102),ae=F(5734),ie=F(6687),q=F(8704),X=F(8266),G=F(4666),z=F(2086),Ce=F(9903),Z=F(4263),se=F(2107),$=F(2069),O=F(8432),j=F(5709),Oe=F(6189),ee=Z("Date.prototype.getTime"),Se=Object.getPrototypeOf,we=Z("Object.prototype.toString"),ce=Ce("%Set%",!0),he=Z("Map.prototype.has",!0),Ne=Z("Map.prototype.get",!0),me=Z("Map.prototype.size",!0),Ye=Z("Set.prototype.add",!0),ve=Z("Set.prototype.delete",!0),Ie=Z("Set.prototype.has",!0),Ae=Z("Set.prototype.size",!0);function ze(H,W,ge,Re){for(var ut,$e=$(H);(ut=$e.next())&&!ut.done;)if(Ke(W,ut.value,ge,Re))return ve(H,ut.value),!0;return!1}function Ve(H){return typeof H>"u"?null:"object"!=typeof H?"symbol"!=typeof H&&("string"!=typeof H&&"number"!=typeof H||+H==+H):void 0}function Pe(H,W,ge,Re,$e,ut){var it=Ve(ge);if(null!=it)return it;var lt=Ne(W,it),Rt=Oe({},$e,{strict:!1});return!(typeof lt>"u"&&!he(W,it)||!Ke(Re,lt,Rt,ut))&&!he(H,it)&&Ke(Re,lt,Rt,ut)}function Q(H,W,ge){var Re=Ve(ge);return Re??(Ie(W,Re)&&!Ie(H,Re))}function Ze(H,W,ge,Re,$e,ut){for(var lt,Rt,it=$(H);(lt=it.next())&&!lt.done;)if(Ke(ge,Rt=lt.value,$e,ut)&&Ke(Re,Ne(W,Rt),$e,ut))return ve(H,Rt),!0;return!1}function Ke(H,W,ge,Re){var $e=ge||{};if($e.strict?ae(H,W):H===W)return!0;if(z(H)!==z(W))return!1;if(!H||!W||"object"!=typeof H&&"object"!=typeof W)return $e.strict?ae(H,W):H==W;var Bt,lt=Re.has(H),Rt=Re.has(W);if(lt&&Rt){if(Re.get(H)===Re.get(W))return!0}else Bt={};return lt||Re.set(H,Bt),Rt||Re.set(W,Bt),function L(H,W,ge,Re){var $e,ut;if(typeof H!=typeof W||null==H||null==W||we(H)!==we(W)||u(H)!==u(W))return!1;if(X(H)!==X(W))return!1;var Rt=H instanceof Error,Bt=W instanceof Error;if(Rt!==Bt||(Rt||Bt)&&(H.name!==W.name||H.message!==W.message))return!1;var xn=ie(H),sn=ie(W);if(xn!==sn||(xn||sn)&&(H.source!==W.source||q(H)!==q(W)))return!1;var ue=G(H),qr=G(W);if(ue!==qr||(ue||qr)&&ee(H)!==ee(W)||ge.strict&&Se&&Se(H)!==Se(W)||j(H)!==j(W))return!1;var Ir=yt(H),Yn=yt(W);if(Ir!==Yn)return!1;if(Ir||Yn){if(H.length!==W.length)return!1;for($e=0;$e<H.length;$e++)if(H[$e]!==W[$e])return!1;return!0}if(typeof H!=typeof W)return!1;var ao=k(H),to=k(W);if(ao.length!==to.length)return!1;for(ao.sort(),to.sort(),$e=ao.length-1;$e>=0;$e--)if(ao[$e]!=to[$e])return!1;for($e=ao.length-1;$e>=0;$e--)if(!Ke(H[ut=ao[$e]],W[ut],ge,Re))return!1;var xr=se(H),jn=se(W);return xr===jn&&("Set"===xr||"Set"===jn?function xt(H,W,ge,Re){if(Ae(H)!==Ae(W))return!1;for(var it,lt,Rt,$e=$(H),ut=$(W);(it=$e.next())&&!it.done;)if(it.value&&"object"==typeof it.value)Rt||(Rt=new ce),Ye(Rt,it.value);else if(!Ie(W,it.value)){if(ge.strict||!Q(H,W,it.value))return!1;Rt||(Rt=new ce),Ye(Rt,it.value)}if(Rt){for(;(lt=ut.next())&&!lt.done;)if(lt.value&&"object"==typeof lt.value){if(!ze(Rt,lt.value,ge.strict,Re))return!1}else if(!ge.strict&&!Ie(H,lt.value)&&!ze(Rt,lt.value,ge.strict,Re))return!1;return 0===Ae(Rt)}return!0}(H,W,ge,Re):"Map"!==xr||function We(H,W,ge,Re){if(me(H)!==me(W))return!1;for(var it,lt,Rt,Bt,xn,sn,$e=$(H),ut=$(W);(it=$e.next())&&!it.done;)if(xn=it.value[1],(Bt=it.value[0])&&"object"==typeof Bt)Rt||(Rt=new ce),Ye(Rt,Bt);else if(typeof(sn=Ne(W,Bt))>"u"&&!he(W,Bt)||!Ke(xn,sn,ge,Re)){if(ge.strict||!Pe(H,W,Bt,xn,ge,Re))return!1;Rt||(Rt=new ce),Ye(Rt,Bt)}if(Rt){for(;(lt=ut.next())&&!lt.done;)if(sn=lt.value[1],(Bt=lt.value[0])&&"object"==typeof Bt){if(!Ze(Rt,H,Bt,sn,ge,Re))return!1}else if(!(ge.strict||H.has(Bt)&&Ke(Ne(H,Bt),sn,ge,Re)||Ze(Rt,H,Bt,sn,Oe({},ge,{strict:!1}),Re)))return!1;return 0===Ae(Rt)}return!0}(H,W,ge,Re))}(H,W,$e,Re)}function yt(H){return!(!H||"object"!=typeof H||"number"!=typeof H.length||"function"!=typeof H.copy||"function"!=typeof H.slice||H.length>0&&"number"!=typeof H[0]||!(H.constructor&&H.constructor.isBuffer&&H.constructor.isBuffer(H)))}Be.exports=function(W,ge,Re){return Ke(W,ge,Re,O())}},1790:(Be,qe,F)=>{"use strict";var k=F(2093),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ae=Object.prototype.toString,ie=Array.prototype.concat,q=Object.defineProperty,G=F(9006)(),z=q&&G,Ce=function(se,$,O,j){$ in se&&(!function(se){return"function"==typeof se&&"[object Function]"===ae.call(se)}(j)||!j())||(z?q(se,$,{configurable:!0,enumerable:!1,value:O,writable:!0}):se[$]=O)},Z=function(se,$){var O=arguments.length>2?arguments[2]:{},j=k($);u&&(j=ie.call(j,Object.getOwnPropertySymbols($)));for(var Oe=0;Oe<j.length;Oe+=1)Ce(se,j[Oe],$[j[Oe]],O[j[Oe]])};Z.supportsDescriptors=!!z,Be.exports=Z},9897:function(Be,qe){!function(F){"use strict";var $,ae=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ie=536870912,q=2*ie,G=new WeakMap,Ce=function($,O){return function(j){var Oe=O.get(j),ee=void 0===Oe?j.size:Oe<q?Oe+1:0;if(!j.has(ee))return $(j,ee);if(j.size<ie){for(;j.has(ee);)ee=Math.floor(Math.random()*q);return $(j,ee)}if(j.size>ae)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(ee);)ee=Math.floor(Math.random()*ae);return $(j,ee)}}(($=G,function(O,j){return $.set(O,j),j}),G),Z=function($){return function(O){var j=$(O);return O.add(j),j}}(Ce);F.addUniqueNumber=Z,F.generateUniqueNumber=Ce,Object.defineProperty(F,"__esModule",{value:!0})}(qe)},3037:(Be,qe,F)=>{"use strict";var k=F(8642),u=Object.prototype.toString,ae=Object.prototype.hasOwnProperty,ie=function(Ce,Z,se){for(var $=0,O=Ce.length;$<O;$++)ae.call(Ce,$)&&(null==se?Z(Ce[$],$,Ce):Z.call(se,Ce[$],$,Ce))},q=function(Ce,Z,se){for(var $=0,O=Ce.length;$<O;$++)null==se?Z(Ce.charAt($),$,Ce):Z.call(se,Ce.charAt($),$,Ce)},X=function(Ce,Z,se){for(var $ in Ce)ae.call(Ce,$)&&(null==se?Z(Ce[$],$,Ce):Z.call(se,Ce[$],$,Ce))};Be.exports=function(Ce,Z,se){if(!k(Z))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=se),"[object Array]"===u.call(Ce)?ie(Ce,Z,$):"string"==typeof Ce?q(Ce,Z,$):X(Ce,Z,$)}},2199:Be=>{"use strict";var qe="Function.prototype.bind called on incompatible ",F=Array.prototype.slice,k=Object.prototype.toString,u="[object Function]";Be.exports=function(ie){var q=this;if("function"!=typeof q||k.call(q)!==u)throw new TypeError(qe+q);for(var G,X=F.call(arguments,1),z=function(){if(this instanceof G){var O=q.apply(this,X.concat(F.call(arguments)));return Object(O)===O?O:this}return q.apply(ie,X.concat(F.call(arguments)))},Ce=Math.max(0,q.length-X.length),Z=[],se=0;se<Ce;se++)Z.push("$"+se);if(G=Function("binder","return function ("+Z.join(",")+"){ return binder.apply(this,arguments); }")(z),q.prototype){var $=function(){};$.prototype=q.prototype,G.prototype=new $,$.prototype=null}return G}},224:(Be,qe,F)=>{"use strict";var k=F(2199);Be.exports=Function.prototype.bind||k},3677:Be=>{"use strict";var qe=function(){return"string"==typeof function(){}.name},F=Object.getOwnPropertyDescriptor;if(F)try{F([],"length")}catch{F=null}qe.functionsHaveConfigurableNames=function(){if(!qe()||!F)return!1;var ae=F(function(){},"name");return!!ae&&!!ae.configurable};var k=Function.prototype.bind;qe.boundFunctionsHaveNames=function(){return qe()&&"function"==typeof k&&""!==function(){}.bind().name},Be.exports=qe},9903:(Be,qe,F)=>{"use strict";var k,u=SyntaxError,ae=Function,ie=TypeError,q=function(ze){try{return ae('"use strict"; return ('+ze+").constructor;")()}catch{}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch{X=null}var G=function(){throw new ie},z=X?function(){try{return G}catch{try{return X(arguments,"callee").get}catch{return G}}}():G,Ce=F(524)(),Z=Object.getPrototypeOf||function(ze){return ze.__proto__},se={},$=typeof Uint8Array>"u"?k:Z(Uint8Array),O={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":Ce?Z([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":ae,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ce?Z(Z([][Symbol.iterator]())):k,"%JSON%":"object"==typeof JSON?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ce?k:Z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ce?k:Z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ce?Z(""[Symbol.iterator]()):k,"%Symbol%":Ce?Symbol:k,"%SyntaxError%":u,"%ThrowTypeError%":z,"%TypedArray%":$,"%TypeError%":ie,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet},j=function ze(Ve){var Pe;if("%AsyncFunction%"===Ve)Pe=q("async function () {}");else if("%GeneratorFunction%"===Ve)Pe=q("function* () {}");else if("%AsyncGeneratorFunction%"===Ve)Pe=q("async function* () {}");else if("%AsyncGenerator%"===Ve){var Q=ze("%AsyncGeneratorFunction%");Q&&(Pe=Q.prototype)}else if("%AsyncIteratorPrototype%"===Ve){var Ze=ze("%AsyncGenerator%");Ze&&(Pe=Z(Ze.prototype))}return O[Ve]=Pe,Pe},Oe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ee=F(224),Se=F(4031),we=ee.call(Function.call,Array.prototype.concat),ce=ee.call(Function.apply,Array.prototype.splice),he=ee.call(Function.call,String.prototype.replace),Ne=ee.call(Function.call,String.prototype.slice),me=ee.call(Function.call,RegExp.prototype.exec),Ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ve=/\\(\\)?/g,Ie=function(Ve){var Pe=Ne(Ve,0,1),Q=Ne(Ve,-1);if("%"===Pe&&"%"!==Q)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===Q&&"%"!==Pe)throw new u("invalid intrinsic syntax, expected opening `%`");var Ze=[];return he(Ve,Ye,function(Ke,yt,xt,We){Ze[Ze.length]=xt?he(We,ve,"$1"):yt||Ke}),Ze},Ae=function(Ve,Pe){var Ze,Q=Ve;if(Se(Oe,Q)&&(Q="%"+(Ze=Oe[Q])[0]+"%"),Se(O,Q)){var Ke=O[Q];if(Ke===se&&(Ke=j(Q)),typeof Ke>"u"&&!Pe)throw new ie("intrinsic "+Ve+" exists, but is not available. Please file an issue!");return{alias:Ze,name:Q,value:Ke}}throw new u("intrinsic "+Ve+" does not exist!")};Be.exports=function(Ve,Pe){if("string"!=typeof Ve||0===Ve.length)throw new ie("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Pe)throw new ie('"allowMissing" argument must be a boolean');if(null===me(/^%?[^%]*%?$/g,Ve))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Q=Ie(Ve),Ze=Q.length>0?Q[0]:"",Ke=Ae("%"+Ze+"%",Pe),yt=Ke.name,xt=Ke.value,We=!1,L=Ke.alias;L&&(Ze=L[0],ce(Q,we([0,1],L)));for(var H=1,W=!0;H<Q.length;H+=1){var ge=Q[H],Re=Ne(ge,0,1),$e=Ne(ge,-1);if(('"'===Re||"'"===Re||"`"===Re||'"'===$e||"'"===$e||"`"===$e)&&Re!==$e)throw new u("property names with quotes must have matching quotes");if(("constructor"===ge||!W)&&(We=!0),Se(O,yt="%"+(Ze+="."+ge)+"%"))xt=O[yt];else if(null!=xt){if(!(ge in xt)){if(!Pe)throw new ie("base intrinsic for "+Ve+" exists, but the property is not available.");return}if(X&&H+1>=Q.length){var ut=X(xt,ge);xt=(W=!!ut)&&"get"in ut&&!("originalValue"in ut.get)?ut.get:xt[ge]}else W=Se(xt,ge),xt=xt[ge];W&&!We&&(O[yt]=xt)}}return xt}},5861:Be=>{"use strict";var qe=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof qe&&"function"==typeof BigInt&&"bigint"==typeof qe(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,qe,F)=>{"use strict";var u=F(9903)("%Object.defineProperty%",!0),ae=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};ae.hasArrayLengthDefineBug=function(){if(!ae())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},Be.exports=ae},524:(Be,qe,F)=>{"use strict";var k=typeof Symbol<"u"&&Symbol,u=F(6858);Be.exports=function(){return"function"==typeof k&&"function"==typeof Symbol&&"symbol"==typeof k("foo")&&"symbol"==typeof Symbol("bar")&&u()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var F={},k=Symbol("test"),u=Object(k);if("string"==typeof k||"[object Symbol]"!==Object.prototype.toString.call(k)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(k in F[k]=42,F)return!1;if("function"==typeof Object.keys&&0!==Object.keys(F).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(F).length)return!1;var ie=Object.getOwnPropertySymbols(F);if(1!==ie.length||ie[0]!==k||!Object.prototype.propertyIsEnumerable.call(F,k))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var q=Object.getOwnPropertyDescriptor(F,k);if(42!==q.value||!0!==q.enumerable)return!1}return!0}},3261:(Be,qe,F)=>{"use strict";var k=F(6858);Be.exports=function(){return k()&&!!Symbol.toStringTag}},4031:(Be,qe,F)=>{"use strict";var k=F(224);Be.exports=k.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Be,qe,F)=>{"use strict";var k=F(3261)(),ae=F(4263)("Object.prototype.toString"),ie=function(z){return!(k&&z&&"object"==typeof z&&Symbol.toStringTag in z)&&"[object Arguments]"===ae(z)},q=function(z){return!!ie(z)||null!==z&&"object"==typeof z&&"number"==typeof z.length&&z.length>=0&&"[object Array]"!==ae(z)&&"[object Function]"===ae(z.callee)},X=function(){return ie(arguments)}();ie.isLegacyArguments=q,Be.exports=X?ie:q},3:(Be,qe,F)=>{"use strict";if(F(5861)()){var u=BigInt.prototype.valueOf;Be.exports=function(q){return!(null===q||typeof q>"u"||"boolean"==typeof q||"string"==typeof q||"number"==typeof q||"symbol"==typeof q||"function"==typeof q)&&("bigint"==typeof q||function(q){try{return u.call(q),!0}catch{}return!1}(q))}}else Be.exports=function(q){return!1}},6180:(Be,qe,F)=>{"use strict";var k=F(4263),u=k("Boolean.prototype.toString"),ae=k("Object.prototype.toString"),X=F(3261)();Be.exports=function(z){return"boolean"==typeof z||null!==z&&"object"==typeof z&&(X&&Symbol.toStringTag in z?function(z){try{return u(z),!0}catch{return!1}}(z):"[object Boolean]"===ae(z))}},5057:Be=>{function qe(k){return!!k.constructor&&"function"==typeof k.constructor.isBuffer&&k.constructor.isBuffer(k)}Be.exports=function(k){return null!=k&&(qe(k)||function F(k){return"function"==typeof k.readFloatLE&&"function"==typeof k.slice&&qe(k.slice(0,0))}(k)||!!k._isBuffer)}},8642:Be=>{"use strict";var k,u,qe=Function.prototype.toString,F="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof F&&"function"==typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw u}}),u={},F(function(){throw 42},null,k)}catch(se){se!==u&&(F=null)}else F=null;var ae=/^\s*class\b/,ie=function($){try{var O=qe.call($);return ae.test(O)}catch{return!1}},X=Object.prototype.toString,Ce="function"==typeof Symbol&&!!Symbol.toStringTag,Z="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};Be.exports=F?function($){if($===Z)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;try{F($,null,k)}catch(O){if(O!==u)return!1}return!ie($)}:function($){if($===Z)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;if(Ce)return function($){try{return!ie($)&&(qe.call($),!0)}catch{return!1}}($);if(ie($))return!1;var O=X.call($);return"[object Function]"===O||"[object GeneratorFunction]"===O}},4666:(Be,qe,F)=>{"use strict";var k=Date.prototype.getDay,ae=Object.prototype.toString,q=F(3261)();Be.exports=function(G){return"object"==typeof G&&null!==G&&(q?function(G){try{return k.call(G),!0}catch{return!1}}(G):"[object Date]"===ae.call(G))}},9898:Be=>{"use strict";var k,qe="function"==typeof Map&&Map.prototype?Map:null,F="function"==typeof Set&&Set.prototype?Set:null;qe||(k=function(q){return!1});var u=qe?Map.prototype.has:null,ae=F?Set.prototype.has:null;!k&&!u&&(k=function(q){return!1}),Be.exports=k||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q),ae)try{ae.call(q)}catch{return!0}return q instanceof qe}catch{}return!1}},1046:(Be,qe,F)=>{"use strict";var k=Number.prototype.toString,ae=Object.prototype.toString,q=F(3261)();Be.exports=function(G){return"number"==typeof G||"object"==typeof G&&(q?function(G){try{return k.call(G),!0}catch{return!1}}(G):"[object Number]"===ae.call(G))}},6687:(Be,qe,F)=>{"use strict";var ae,ie,q,X,k=F(4263),u=F(3261)();if(u){ae=k("Object.prototype.hasOwnProperty"),ie=k("RegExp.prototype.exec"),q={};var G=function(){throw q};X={toString:G,valueOf:G},"symbol"==typeof Symbol.toPrimitive&&(X[Symbol.toPrimitive]=G)}var z=k("Object.prototype.toString"),Ce=Object.getOwnPropertyDescriptor;Be.exports=u?function($){if(!$||"object"!=typeof $)return!1;var O=Ce($,"lastIndex");if(!O||!ae(O,"value"))return!1;try{ie($,X)}catch(Oe){return Oe===q}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===z($)}},3870:Be=>{"use strict";var k,qe="function"==typeof Map&&Map.prototype?Map:null,F="function"==typeof Set&&Set.prototype?Set:null;F||(k=function(q){return!1});var u=qe?Map.prototype.has:null,ae=F?Set.prototype.has:null;!k&&!ae&&(k=function(q){return!1}),Be.exports=k||function(q){if(!q||"object"!=typeof q)return!1;try{if(ae.call(q),u)try{u.call(q)}catch{return!0}return q instanceof F}catch{}return!1}},4764:(Be,qe,F)=>{"use strict";var k=String.prototype.valueOf,ae=Object.prototype.toString,q=F(3261)();Be.exports=function(G){return"string"==typeof G||"object"==typeof G&&(q?function(G){try{return k.call(G),!0}catch{return!1}}(G):"[object String]"===ae.call(G))}},6434:(Be,qe,F)=>{"use strict";var k=Object.prototype.toString;if(F(524)()){var ae=Symbol.prototype.toString,ie=/^Symbol\(.*\)$/;Be.exports=function(G){if("symbol"==typeof G)return!0;if("[object Symbol]"!==k.call(G))return!1;try{return function(G){return"symbol"==typeof G.valueOf()&&ie.test(ae.call(G))}(G)}catch{return!1}}}else Be.exports=function(G){return!1}},7673:(Be,qe,F)=>{"use strict";var k=F(3037),u=F(5271),ae=F(4263),ie=ae("Object.prototype.toString"),q=F(3261)(),X=typeof globalThis>"u"?global:globalThis,G=u(),z=ae("Array.prototype.indexOf",!0)||function(Oe,ee){for(var Se=0;Se<Oe.length;Se+=1)if(Oe[Se]===ee)return Se;return-1},Ce=ae("String.prototype.slice"),Z={},se=F(2292),$=Object.getPrototypeOf;q&&se&&$&&k(G,function(j){var Oe=new X[j];if(Symbol.toStringTag in Oe){var ee=$(Oe),Se=se(ee,Symbol.toStringTag);if(!Se){var we=$(ee);Se=se(we,Symbol.toStringTag)}Z[j]=Se.get}}),Be.exports=function(Oe){if(!Oe||"object"!=typeof Oe)return!1;if(!q||!(Symbol.toStringTag in Oe)){var ee=Ce(ie(Oe),8,-1);return z(G,ee)>-1}return!!se&&function(Oe){var ee=!1;return k(Z,function(Se,we){if(!ee)try{ee=Se.call(Oe)===we}catch{}}),ee}(Oe)}},5585:Be=>{"use strict";var k,qe="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,F="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;qe||(k=function(q){return!1});var u=qe?qe.prototype.has:null,ae=F?F.prototype.has:null;!k&&!u&&(k=function(q){return!1}),Be.exports=k||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q,u),ae)try{ae.call(q,ae)}catch{return!0}return q instanceof qe}catch{}return!1}},1902:(Be,qe,F)=>{"use strict";var k=F(9903),u=F(4263),ae=k("%WeakSet%",!0),ie=u("WeakSet.prototype.has",!0);if(ie){var q=u("WeakMap.prototype.has",!0);Be.exports=function(G){if(!G||"object"!=typeof G)return!1;try{if(ie(G,ie),q)try{q(G,q)}catch{return!0}return G instanceof ae}catch{}return!1}}else Be.exports=function(G){return!1}},8266:Be=>{var qe={}.toString;Be.exports=Array.isArray||function(F){return"[object Array]"==qe.call(F)}},5023:(Be,qe,F)=>{var k,u,ae,ie,q;k=F(7175),u=F(5107).utf8,ae=F(5057),ie=F(5107).bin,(q=function(X,G){X.constructor==String?X=G&&"binary"===G.encoding?ie.stringToBytes(X):u.stringToBytes(X):ae(X)?X=Array.prototype.slice.call(X,0):!Array.isArray(X)&&X.constructor!==Uint8Array&&(X=X.toString());for(var z=k.bytesToWords(X),Ce=8*X.length,Z=1732584193,se=-271733879,$=-1732584194,O=271733878,j=0;j<z.length;j++)z[j]=16711935&(z[j]<<8|z[j]>>>24)|4278255360&(z[j]<<24|z[j]>>>8);z[Ce>>>5]|=128<<Ce%32,z[14+(Ce+64>>>9<<4)]=Ce;var Oe=q._ff,ee=q._gg,Se=q._hh,we=q._ii;for(j=0;j<z.length;j+=16){var ce=Z,he=se,Ne=$,me=O;Z=Oe(Z,se,$,O,z[j+0],7,-680876936),O=Oe(O,Z,se,$,z[j+1],12,-389564586),$=Oe($,O,Z,se,z[j+2],17,606105819),se=Oe(se,$,O,Z,z[j+3],22,-1044525330),Z=Oe(Z,se,$,O,z[j+4],7,-176418897),O=Oe(O,Z,se,$,z[j+5],12,1200080426),$=Oe($,O,Z,se,z[j+6],17,-1473231341),se=Oe(se,$,O,Z,z[j+7],22,-45705983),Z=Oe(Z,se,$,O,z[j+8],7,1770035416),O=Oe(O,Z,se,$,z[j+9],12,-1958414417),$=Oe($,O,Z,se,z[j+10],17,-42063),se=Oe(se,$,O,Z,z[j+11],22,-1990404162),Z=Oe(Z,se,$,O,z[j+12],7,1804603682),O=Oe(O,Z,se,$,z[j+13],12,-40341101),$=Oe($,O,Z,se,z[j+14],17,-1502002290),Z=ee(Z,se=Oe(se,$,O,Z,z[j+15],22,1236535329),$,O,z[j+1],5,-165796510),O=ee(O,Z,se,$,z[j+6],9,-1069501632),$=ee($,O,Z,se,z[j+11],14,643717713),se=ee(se,$,O,Z,z[j+0],20,-373897302),Z=ee(Z,se,$,O,z[j+5],5,-701558691),O=ee(O,Z,se,$,z[j+10],9,38016083),$=ee($,O,Z,se,z[j+15],14,-660478335),se=ee(se,$,O,Z,z[j+4],20,-405537848),Z=ee(Z,se,$,O,z[j+9],5,568446438),O=ee(O,Z,se,$,z[j+14],9,-1019803690),$=ee($,O,Z,se,z[j+3],14,-187363961),se=ee(se,$,O,Z,z[j+8],20,1163531501),Z=ee(Z,se,$,O,z[j+13],5,-1444681467),O=ee(O,Z,se,$,z[j+2],9,-51403784),$=ee($,O,Z,se,z[j+7],14,1735328473),Z=Se(Z,se=ee(se,$,O,Z,z[j+12],20,-1926607734),$,O,z[j+5],4,-378558),O=Se(O,Z,se,$,z[j+8],11,-2022574463),$=Se($,O,Z,se,z[j+11],16,1839030562),se=Se(se,$,O,Z,z[j+14],23,-35309556),Z=Se(Z,se,$,O,z[j+1],4,-1530992060),O=Se(O,Z,se,$,z[j+4],11,1272893353),$=Se($,O,Z,se,z[j+7],16,-155497632),se=Se(se,$,O,Z,z[j+10],23,-1094730640),Z=Se(Z,se,$,O,z[j+13],4,681279174),O=Se(O,Z,se,$,z[j+0],11,-358537222),$=Se($,O,Z,se,z[j+3],16,-722521979),se=Se(se,$,O,Z,z[j+6],23,76029189),Z=Se(Z,se,$,O,z[j+9],4,-640364487),O=Se(O,Z,se,$,z[j+12],11,-421815835),$=Se($,O,Z,se,z[j+15],16,530742520),Z=we(Z,se=Se(se,$,O,Z,z[j+2],23,-995338651),$,O,z[j+0],6,-198630844),O=we(O,Z,se,$,z[j+7],10,1126891415),$=we($,O,Z,se,z[j+14],15,-1416354905),se=we(se,$,O,Z,z[j+5],21,-57434055),Z=we(Z,se,$,O,z[j+12],6,1700485571),O=we(O,Z,se,$,z[j+3],10,-1894986606),$=we($,O,Z,se,z[j+10],15,-1051523),se=we(se,$,O,Z,z[j+1],21,-2054922799),Z=we(Z,se,$,O,z[j+8],6,1873313359),O=we(O,Z,se,$,z[j+15],10,-30611744),$=we($,O,Z,se,z[j+6],15,-1560198380),se=we(se,$,O,Z,z[j+13],21,1309151649),Z=we(Z,se,$,O,z[j+4],6,-145523070),O=we(O,Z,se,$,z[j+11],10,-1120210379),$=we($,O,Z,se,z[j+2],15,718787259),se=we(se,$,O,Z,z[j+9],21,-343485551),Z=Z+ce>>>0,se=se+he>>>0,$=$+Ne>>>0,O=O+me>>>0}return k.endian([Z,se,$,O])})._ff=function(X,G,z,Ce,Z,se,$){var O=X+(G&z|~G&Ce)+(Z>>>0)+$;return(O<<se|O>>>32-se)+G},q._gg=function(X,G,z,Ce,Z,se,$){var O=X+(G&Ce|z&~Ce)+(Z>>>0)+$;return(O<<se|O>>>32-se)+G},q._hh=function(X,G,z,Ce,Z,se,$){var O=X+(G^z^Ce)+(Z>>>0)+$;return(O<<se|O>>>32-se)+G},q._ii=function(X,G,z,Ce,Z,se,$){var O=X+(z^(G|~Ce))+(Z>>>0)+$;return(O<<se|O>>>32-se)+G},q._blocksize=16,q._digestsize=16,Be.exports=function(X,G){if(null==X)throw new Error("Illegal argument "+X);var z=k.wordsToBytes(q(X,G));return G&&G.asBytes?z:G&&G.asString?ie.bytesToString(z):k.bytesToHex(z)}},9052:(Be,qe)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});var F=[];F[0]=function(){return function(){}},F[1]=function(ie,q){return typeof q>"u"?ie:function(G){ie(G,q)}};var ae=function(){function ie(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ie.prototype.addHandler=function(q,X){return this.isHandlerAttached(q,X)||(this._handlers.push(q),this._contexts.push(X),this._createDispatcher(),this._updateHasHandlers()),this},ie.prototype.removeHandler=function(q,X){var G=this._getHandlerIndex(q,X);return typeof G<"u"&&(this._handlers.splice(G,1),this._contexts.splice(G,1),this._createDispatcher(),this._updateHasHandlers()),this},ie.prototype.isHandlerAttached=function(q,X){return typeof this._getHandlerIndex(q,X)<"u"},ie.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ie.prototype._getHandlerIndex=function(q,X){var z,G=this._handlers.length;for(z=0;z<G&&(this._handlers[z]!==q||this._contexts[z]!==X);z++);return z<G?z:void 0},ie.prototype._createDispatcher=function(){this.dispatch=function k(ie){return F[ie]||(F[ie]=function u(ie){for(var q="return function dispatcher"+ie+"(payload) {\n",X=[],G=[],z=0;z<ie;z++)X.push("cb"+z),G.push("ctx"+z),q+="    cb"+z+"(payload, ctx"+z+");\n";return q+="};",new(Function.bind.apply(Function,[void 0].concat(X.concat(G),[q])))}(ie)),F[ie]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ie}();qe.default=ae},1158:(Be,qe,F)=>{"use strict";var u=F(9052);qe.j=u.default},8597:(Be,qe,F)=>{var k="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ae=k&&u&&"function"==typeof u.get?u.get:null,ie=k&&Map.prototype.forEach,q="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,G=q&&X&&"function"==typeof X.get?X.get:null,z=q&&Set.prototype.forEach,Z="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Oe=Boolean.prototype.valueOf,ee=Object.prototype.toString,Se=Function.prototype.toString,we=String.prototype.match,ce=String.prototype.slice,he=String.prototype.replace,Ne=String.prototype.toUpperCase,me=String.prototype.toLowerCase,Ye=RegExp.prototype.test,ve=Array.prototype.concat,Ie=Array.prototype.join,Ae=Array.prototype.slice,ze=Math.floor,Ve="function"==typeof BigInt?BigInt.prototype.valueOf:null,Pe=Object.getOwnPropertySymbols,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ze="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ke="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,xt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function We(le,je){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||Ye.call(/e/,je))return je;var hn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var Sn=le<0?-ze(-le):ze(le);if(Sn!==le){var $t=String(Sn),cn=ce.call(je,$t.length+1);return he.call($t,hn,"$&_")+"."+he.call(he.call(cn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return he.call(je,hn,"$&_")}var L=F(4654),H=L.custom,W=sn(H)?H:null;function ge(le,je,hn){var Sn="double"===(hn.quoteStyle||je)?'"':"'";return Sn+le+Sn}function Re(le){return he.call(String(le),/"/g,"&quot;")}function $e(le){return!("[object Array]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}function it(le){return!("[object RegExp]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}function sn(le){if(Ze)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!Q)return!1;try{return Q.call(le),!0}catch{}return!1}Be.exports=function le(je,hn,Sn,$t){var cn=hn||{};if(Ir(cn,"quoteStyle")&&"single"!==cn.quoteStyle&&"double"!==cn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ir(cn,"maxStringLength")&&("number"==typeof cn.maxStringLength?cn.maxStringLength<0&&cn.maxStringLength!==1/0:null!==cn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var tr=!Ir(cn,"customInspect")||cn.customInspect;if("boolean"!=typeof tr&&"symbol"!==tr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ir(cn,"indent")&&null!==cn.indent&&"\t"!==cn.indent&&!(parseInt(cn.indent,10)===cn.indent&&cn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ir(cn,"numericSeparator")&&"boolean"!=typeof cn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var nn=cn.numericSeparator;if(typeof je>"u")return"undefined";if(null===je)return"null";if("boolean"==typeof je)return je?"true":"false";if("string"==typeof je)return cr(je,cn);if("number"==typeof je){if(0===je)return 1/0/je>0?"0":"-0";var Kn=String(je);return nn?We(je,Kn):Kn}if("bigint"==typeof je){var ur=String(je)+"n";return nn?We(je,ur):ur}var jt=typeof cn.depth>"u"?5:cn.depth;if(typeof Sn>"u"&&(Sn=0),Sn>=jt&&jt>0&&"object"==typeof je)return $e(je)?"[Array]":"[Object]";var nr=function wi(le,je){var hn;if("\t"===le.indent)hn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;hn=Ie.call(Array(le.indent+1)," ")}return{base:hn,prev:Ie.call(Array(je+1),hn)}}(cn,Sn);if(typeof $t>"u")$t=[];else if(to($t,je)>=0)return"[Circular]";function E(wo,I,Yr){if(I&&($t=Ae.call($t)).push(I),Yr){var Hr={depth:cn.depth};return Ir(cn,"quoteStyle")&&(Hr.quoteStyle=cn.quoteStyle),le(wo,Hr,Sn+1,$t)}return le(wo,cn,Sn+1,$t)}if("function"==typeof je&&!it(je)){var At=function ao(le){if(le.name)return le.name;var je=we.call(Se.call(le),/^function\s*([\w$]+)/);return je?je[1]:null}(je),gr=at(je,E);return"[Function"+(At?": "+At:" (anonymous)")+"]"+(gr.length>0?" { "+Ie.call(gr,", ")+" }":"")}if(sn(je)){var M=Ze?he.call(String(je),/^(Symbol\(.*\))_[^)]*$/,"$1"):Q.call(je);return"object"!=typeof je||Ze?M:bo(M)}if(function vo(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(je)){for(var Fr="<"+me.call(String(je.nodeName)),lo=je.attributes||[],co=0;co<lo.length;co++)Fr+=" "+lo[co].name+"="+ge(Re(lo[co].value),"double",cn);return Fr+=">",je.childNodes&&je.childNodes.length&&(Fr+="..."),Fr+"</"+me.call(String(je.nodeName))+">"}if($e(je)){if(0===je.length)return"[]";var Oo=at(je,E);return nr&&!function Zr(le){for(var je=0;je<le.length;je++)if(to(le[je],"\n")>=0)return!1;return!0}(Oo)?"["+Rr(Oo,nr)+"]":"[ "+Ie.call(Oo,", ")+" ]"}if(function lt(le){return!("[object Error]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}(je)){var Cr=at(je,E);return"cause"in Error.prototype||!("cause"in je)||yt.call(je,"cause")?0===Cr.length?"["+String(je)+"]":"{ ["+String(je)+"] "+Ie.call(Cr,", ")+" }":"{ ["+String(je)+"] "+Ie.call(ve.call("[cause]: "+E(je.cause),Cr),", ")+" }"}if("object"==typeof je&&tr){if(W&&"function"==typeof je[W]&&L)return L(je,{depth:jt-Sn});if("symbol"!==tr&&"function"==typeof je.inspect)return je.inspect()}if(function xr(le){if(!ae||!le||"object"!=typeof le)return!1;try{ae.call(le);try{G.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(je)){var To=[];return ie.call(je,function(wo,I){To.push(E(I,je,!0)+" => "+E(wo,je))}),En("Map",ae.call(je),To,nr)}if(function wr(le){if(!G||!le||"object"!=typeof le)return!1;try{G.call(le);try{ae.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(je)){var zt=[];return z.call(je,function(wo){zt.push(E(wo,je))}),En("Set",G.call(je),zt,nr)}if(function jn(le){if(!Z||!le||"object"!=typeof le)return!1;try{Z.call(le,Z);try{$.call(le,$)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(je))return Vr("WeakMap");if(function bi(le){if(!$||!le||"object"!=typeof le)return!1;try{$.call(le,$);try{Z.call(le,Z)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(je))return Vr("WeakSet");if(function lr(le){if(!j||!le||"object"!=typeof le)return!1;try{return j.call(le),!0}catch{}return!1}(je))return Vr("WeakRef");if(function Bt(le){return!("[object Number]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}(je))return bo(E(Number(je)));if(function ue(le){if(!le||"object"!=typeof le||!Ve)return!1;try{return Ve.call(le),!0}catch{}return!1}(je))return bo(E(Ve.call(je)));if(function xn(le){return!("[object Boolean]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}(je))return bo(Oe.call(je));if(function Rt(le){return!("[object String]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}(je))return bo(E(String(je)));if(!function ut(le){return!("[object Date]"!==Yn(le)||Ke&&"object"==typeof le&&Ke in le)}(je)&&!it(je)){var no=at(je,E),rr=xt?xt(je)===Object.prototype:je instanceof Object||je.constructor===Object,ro=je instanceof Object?"":"null prototype",oo=!rr&&Ke&&Object(je)===je&&Ke in je?ce.call(Yn(je),8,-1):ro?"Object":"",en=(rr||"function"!=typeof je.constructor?"":je.constructor.name?je.constructor.name+" ":"")+(oo||ro?"["+Ie.call(ve.call([],oo||[],ro||[]),": ")+"] ":"");return 0===no.length?en+"{}":nr?en+"{"+Rr(no,nr)+"}":en+"{ "+Ie.call(no,", ")+" }"}return String(je)};var qr=Object.prototype.hasOwnProperty||function(le){return le in this};function Ir(le,je){return qr.call(le,je)}function Yn(le){return ee.call(le)}function to(le,je){if(le.indexOf)return le.indexOf(je);for(var hn=0,Sn=le.length;hn<Sn;hn++)if(le[hn]===je)return hn;return-1}function cr(le,je){if(le.length>je.maxStringLength){var hn=le.length-je.maxStringLength,Sn="... "+hn+" more character"+(hn>1?"s":"");return cr(ce.call(le,0,je.maxStringLength),je)+Sn}return ge(he.call(he.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qn),"single",je)}function Qn(le){var je=le.charCodeAt(0),hn={8:"b",9:"t",10:"n",12:"f",13:"r"}[je];return hn?"\\"+hn:"\\x"+(je<16?"0":"")+Ne.call(je.toString(16))}function bo(le){return"Object("+le+")"}function Vr(le){return le+" { ? }"}function En(le,je,hn,Sn){return le+" ("+je+") {"+(Sn?Rr(hn,Sn):Ie.call(hn,", "))+"}"}function Rr(le,je){if(0===le.length)return"";var hn="\n"+je.prev+je.base;return hn+Ie.call(le,","+hn)+"\n"+je.prev}function at(le,je){var hn=$e(le),Sn=[];if(hn){Sn.length=le.length;for(var $t=0;$t<le.length;$t++)Sn[$t]=Ir(le,$t)?je(le[$t],le):""}var tr,cn="function"==typeof Pe?Pe(le):[];if(Ze){tr={};for(var nn=0;nn<cn.length;nn++)tr["$"+cn[nn]]=cn[nn]}for(var Kn in le)!Ir(le,Kn)||hn&&String(Number(Kn))===Kn&&Kn<le.length||Ze&&tr["$"+Kn]instanceof Symbol||(Ye.call(/[^\w$]/,Kn)?Sn.push(je(Kn,le)+": "+je(le[Kn],le)):Sn.push(Kn+": "+je(le[Kn],le)));if("function"==typeof Pe)for(var ur=0;ur<cn.length;ur++)yt.call(le,cn[ur])&&Sn.push("["+je(cn[ur])+"]: "+je(le[cn[ur]],le));return Sn}},6872:Be=>{"use strict";var qe=function(F){return F!=F};Be.exports=function(k,u){return 0===k&&0===u?1/k==1/u:!!(k===u||qe(k)&&qe(u))}},5734:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(3855),ae=F(6872),ie=F(3306),q=F(7715),X=u(ie(),Object);k(X,{getPolyfill:ie,implementation:ae,shim:q}),Be.exports=X},3306:(Be,qe,F)=>{"use strict";var k=F(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:k}},7715:(Be,qe,F)=>{"use strict";var k=F(3306),u=F(1790);Be.exports=function(){var ie=k();return u(Object,{is:ie},{is:function(){return Object.is!==ie}}),ie}},7010:(Be,qe,F)=>{"use strict";var k;if(!Object.keys){var u=Object.prototype.hasOwnProperty,ae=Object.prototype.toString,ie=F(5185),q=Object.prototype.propertyIsEnumerable,X=!q.call({toString:null},"toString"),G=q.call(function(){},"prototype"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ce=function(O){var j=O.constructor;return j&&j.prototype===O},Z={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},se=function(){if(typeof window>"u")return!1;for(var O in window)try{if(!Z["$"+O]&&u.call(window,O)&&null!==window[O]&&"object"==typeof window[O])try{Ce(window[O])}catch{return!0}}catch{return!0}return!1}();k=function(j){var Oe=null!==j&&"object"==typeof j,ee="[object Function]"===ae.call(j),Se=ie(j),we=Oe&&"[object String]"===ae.call(j),ce=[];if(!Oe&&!ee&&!Se)throw new TypeError("Object.keys called on a non-object");var he=G&&ee;if(we&&j.length>0&&!u.call(j,0))for(var Ne=0;Ne<j.length;++Ne)ce.push(String(Ne));if(Se&&j.length>0)for(var me=0;me<j.length;++me)ce.push(String(me));else for(var Ye in j)(!he||"prototype"!==Ye)&&u.call(j,Ye)&&ce.push(String(Ye));if(X)for(var ve=function(O){if(typeof window>"u"||!se)return Ce(O);try{return Ce(O)}catch{return!1}}(j),Ie=0;Ie<z.length;++Ie)(!ve||"constructor"!==z[Ie])&&u.call(j,z[Ie])&&ce.push(z[Ie]);return ce}}Be.exports=k},2093:(Be,qe,F)=>{"use strict";var k=Array.prototype.slice,u=F(5185),ae=Object.keys,ie=ae?function(G){return ae(G)}:F(7010),q=Object.keys;ie.shim=function(){if(Object.keys){var G=function(){var z=Object.keys(arguments);return z&&z.length===arguments.length}(1,2);G||(Object.keys=function(Ce){return u(Ce)?q(k.call(Ce)):q(Ce)})}else Object.keys=ie;return Object.keys||ie},Be.exports=ie},5185:Be=>{"use strict";var qe=Object.prototype.toString;Be.exports=function(k){var u=qe.call(k),ae="[object Arguments]"===u;return ae||(ae="[object Array]"!==u&&null!==k&&"object"==typeof k&&"number"==typeof k.length&&k.length>=0&&"[object Function]"===qe.call(k.callee)),ae}},2461:(Be,qe,F)=>{"use strict";var k=F(2093),u=function(Ce){return typeof Ce<"u"&&null!==Ce},ae=F(6858)(),ie=F(4263),q=Object,X=ie("Array.prototype.push"),G=ie("Object.prototype.propertyIsEnumerable"),z=ae?Object.getOwnPropertySymbols:null;Be.exports=function(Z,se){if(!u(Z))throw new TypeError("target must be an object");var O,j,Oe,ee,Se,we,ce,$=q(Z);for(O=1;O<arguments.length;++O){j=q(arguments[O]),ee=k(j);var he=ae&&(Object.getOwnPropertySymbols||z);if(he)for(Se=he(j),Oe=0;Oe<Se.length;++Oe)G(j,ce=Se[Oe])&&X(ee,ce);for(Oe=0;Oe<ee.length;++Oe)we=j[ce=ee[Oe]],G(j,ce)&&($[ce]=we)}return $}},6189:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(3855),ae=F(2461),ie=F(6255),q=F(152),X=u.apply(ie()),G=function(Ce,Z){return X(Object,arguments)};k(G,{getPolyfill:ie,implementation:ae,shim:q}),Be.exports=G},6255:(Be,qe,F)=>{"use strict";var k=F(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ie="abcdefghijklmnopqrst",q=ie.split(""),X={},G=0;G<q.length;++G)X[q[G]]=q[G];var z=Object.assign({},X),Ce="";for(var Z in z)Ce+=Z;return ie!==Ce}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ie=Object.preventExtensions({1:2});try{Object.assign(ie,"xy")}catch{return"y"===ie[1]}return!1}()?k:Object.assign}},152:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(6255);Be.exports=function(){var ie=u();return k(Object,{assign:ie},{assign:function(){return Object.assign!==ie}}),ie}},151:(Be,qe)=>{"use strict";var F=Object.prototype.hasOwnProperty;function u(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function ae(X){try{return encodeURIComponent(X)}catch{return null}}qe.stringify=function q(X,G){G=G||"";var Ce,Z,z=[];for(Z in"string"!=typeof G&&(G="?"),X)if(F.call(X,Z)){if(!(Ce=X[Z])&&(null==Ce||isNaN(Ce))&&(Ce=""),Z=ae(Z),Ce=ae(Ce),null===Z||null===Ce)continue;z.push(Z+"="+Ce)}return z.length?G+z.join("&"):""},qe.parse=function ie(X){for(var Ce,G=/([^=?#&]+)=?([^&]*)/g,z={};Ce=G.exec(X);){var Z=u(Ce[1]),se=u(Ce[2]);null===Z||null===se||Z in z||(z[Z]=se)}return z}},4040:(Be,qe,F)=>{"use strict";var k=F(3677).functionsHaveConfigurableNames(),u=Object,ae=TypeError;Be.exports=function(){if(null!=this&&this!==u(this))throw new ae("RegExp.prototype.flags getter called on non-object");var q="";return this.hasIndices&&(q+="d"),this.global&&(q+="g"),this.ignoreCase&&(q+="i"),this.multiline&&(q+="m"),this.dotAll&&(q+="s"),this.unicode&&(q+="u"),this.sticky&&(q+="y"),q},k&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(3855),ae=F(4040),ie=F(9783),q=F(9369),X=u(ie());k(X,{getPolyfill:ie,implementation:ae,shim:q}),Be.exports=X},9783:(Be,qe,F)=>{"use strict";var k=F(4040),u=F(1790).supportsDescriptors,ae=Object.getOwnPropertyDescriptor;Be.exports=function(){if(u&&"gim"===/a/gim.flags){var q=ae(RegExp.prototype,"flags");if(q&&"function"==typeof q.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var X="",G={};if(Object.defineProperty(G,"hasIndices",{get:function(){X+="d"}}),Object.defineProperty(G,"sticky",{get:function(){X+="y"}}),"dy"===X)return q.get}}return k}},9369:(Be,qe,F)=>{"use strict";var k=F(1790).supportsDescriptors,u=F(9783),ae=Object.getOwnPropertyDescriptor,ie=Object.defineProperty,q=TypeError,X=Object.getPrototypeOf,G=/a/;Be.exports=function(){if(!k||!X)throw new q("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Ce=u(),Z=X(G),se=ae(Z,"flags");return(!se||se.get!==Ce)&&ie(Z,"flags",{configurable:!0,enumerable:!1,get:Ce}),Ce}},47:Be=>{"use strict";Be.exports=function(F,k){if(k=k.split(":")[0],!(F=+F))return!1;switch(k){case"http":case"ws":return 80!==F;case"https":case"wss":return 443!==F;case"ftp":return 21!==F;case"gopher":return 70!==F;case"file":return!1}return 0!==F}},8432:(Be,qe,F)=>{"use strict";var k=F(9903),u=F(4263),ae=F(8597),ie=k("%TypeError%"),q=k("%WeakMap%",!0),X=k("%Map%",!0),G=u("WeakMap.prototype.get",!0),z=u("WeakMap.prototype.set",!0),Ce=u("WeakMap.prototype.has",!0),Z=u("Map.prototype.get",!0),se=u("Map.prototype.set",!0),$=u("Map.prototype.has",!0),O=function(Se,we){for(var he,ce=Se;null!==(he=ce.next);ce=he)if(he.key===we)return ce.next=he.next,he.next=Se.next,Se.next=he,he};Be.exports=function(){var we,ce,he,Ne={assert:function(me){if(!Ne.has(me))throw new ie("Side channel does not contain "+ae(me))},get:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(we)return G(we,me)}else if(X){if(ce)return Z(ce,me)}else if(he)return function(Se,we){var ce=O(Se,we);return ce&&ce.value}(he,me)},has:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(we)return Ce(we,me)}else if(X){if(ce)return $(ce,me)}else if(he)return function(Se,we){return!!O(Se,we)}(he,me);return!1},set:function(me,Ye){q&&me&&("object"==typeof me||"function"==typeof me)?(we||(we=new q),z(we,me,Ye)):X?(ce||(ce=new X),se(ce,me,Ye)):(he||(he={key:{},next:null}),function(Se,we,ce){var he=O(Se,we);he?he.value=ce:Se.next={key:we,next:Se.next,value:ce}}(he,me,Ye))}};return Ne}},9233:(Be,qe,F)=>{"use strict";var k=F(47),u=F(151),ae=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ie=/[\n\r\t]/g,q=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,X=/:\d+$/,G=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,z=/^[a-zA-Z]:/;function Ce(ce){return(ce||"").toString().replace(ae,"")}var Z=[["#","hash"],["?","query"],function(he,Ne){return O(Ne.protocol)?he.replace(/\\/g,"/"):he},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function $(ce){var he;he=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ve,me={},Ye=typeof(ce=ce||he.location||{});if("blob:"===ce.protocol)me=new ee(unescape(ce.pathname),{});else if("string"===Ye)for(ve in me=new ee(ce,{}),se)delete me[ve];else if("object"===Ye){for(ve in ce)ve in se||(me[ve]=ce[ve]);void 0===me.slashes&&(me.slashes=q.test(ce.href))}return me}function O(ce){return"file:"===ce||"ftp:"===ce||"http:"===ce||"https:"===ce||"ws:"===ce||"wss:"===ce}function j(ce,he){ce=(ce=Ce(ce)).replace(ie,""),he=he||{};var Ae,Ne=G.exec(ce),me=Ne[1]?Ne[1].toLowerCase():"",Ye=!!Ne[2],ve=!!Ne[3],Ie=0;return Ye?ve?(Ae=Ne[2]+Ne[3]+Ne[4],Ie=Ne[2].length+Ne[3].length):(Ae=Ne[2]+Ne[4],Ie=Ne[2].length):ve?(Ae=Ne[3]+Ne[4],Ie=Ne[3].length):Ae=Ne[4],"file:"===me?Ie>=2&&(Ae=Ae.slice(2)):O(me)?Ae=Ne[4]:me?Ye&&(Ae=Ae.slice(2)):Ie>=2&&O(he.protocol)&&(Ae=Ne[4]),{protocol:me,slashes:Ye||O(me),slashesCount:Ie,rest:Ae}}function ee(ce,he,Ne){if(ce=(ce=Ce(ce)).replace(ie,""),!(this instanceof ee))return new ee(ce,he,Ne);var me,Ye,ve,Ie,Ae,ze,Ve=Z.slice(),Pe=typeof he,Q=this,Ze=0;for("object"!==Pe&&"string"!==Pe&&(Ne=he,he=null),Ne&&"function"!=typeof Ne&&(Ne=u.parse),me=!(Ye=j(ce||"",he=$(he))).protocol&&!Ye.slashes,Q.slashes=Ye.slashes||me&&he.slashes,Q.protocol=Ye.protocol||he.protocol||"",ce=Ye.rest,("file:"===Ye.protocol&&(2!==Ye.slashesCount||z.test(ce))||!Ye.slashes&&(Ye.protocol||Ye.slashesCount<2||!O(Q.protocol)))&&(Ve[3]=[/(.*)/,"pathname"]);Ze<Ve.length;Ze++)"function"!=typeof(Ie=Ve[Ze])?(ze=Ie[1],(ve=Ie[0])!=ve?Q[ze]=ce:"string"==typeof ve?~(Ae="@"===ve?ce.lastIndexOf(ve):ce.indexOf(ve))&&("number"==typeof Ie[2]?(Q[ze]=ce.slice(0,Ae),ce=ce.slice(Ae+Ie[2])):(Q[ze]=ce.slice(Ae),ce=ce.slice(0,Ae))):(Ae=ve.exec(ce))&&(Q[ze]=Ae[1],ce=ce.slice(0,Ae.index)),Q[ze]=Q[ze]||me&&Ie[3]&&he[ze]||"",Ie[4]&&(Q[ze]=Q[ze].toLowerCase())):ce=Ie(ce,Q);Ne&&(Q.query=Ne(Q.query)),me&&he.slashes&&"/"!==Q.pathname.charAt(0)&&(""!==Q.pathname||""!==he.pathname)&&(Q.pathname=function Oe(ce,he){if(""===ce)return he;for(var Ne=(he||"/").split("/").slice(0,-1).concat(ce.split("/")),me=Ne.length,Ye=Ne[me-1],ve=!1,Ie=0;me--;)"."===Ne[me]?Ne.splice(me,1):".."===Ne[me]?(Ne.splice(me,1),Ie++):Ie&&(0===me&&(ve=!0),Ne.splice(me,1),Ie--);return ve&&Ne.unshift(""),("."===Ye||".."===Ye)&&Ne.push(""),Ne.join("/")}(Q.pathname,he.pathname)),"/"!==Q.pathname.charAt(0)&&O(Q.protocol)&&(Q.pathname="/"+Q.pathname),k(Q.port,Q.protocol)||(Q.host=Q.hostname,Q.port=""),Q.username=Q.password="",Q.auth&&(~(Ae=Q.auth.indexOf(":"))?(Q.username=Q.auth.slice(0,Ae),Q.username=encodeURIComponent(decodeURIComponent(Q.username)),Q.password=Q.auth.slice(Ae+1),Q.password=encodeURIComponent(decodeURIComponent(Q.password))):Q.username=encodeURIComponent(decodeURIComponent(Q.auth)),Q.auth=Q.password?Q.username+":"+Q.password:Q.username),Q.origin="file:"!==Q.protocol&&O(Q.protocol)&&Q.host?Q.protocol+"//"+Q.host:"null",Q.href=Q.toString()}ee.prototype={set:function Se(ce,he,Ne){var me=this;switch(ce){case"query":"string"==typeof he&&he.length&&(he=(Ne||u.parse)(he)),me[ce]=he;break;case"port":me[ce]=he,k(he,me.protocol)?he&&(me.host=me.hostname+":"+he):(me.host=me.hostname,me[ce]="");break;case"hostname":me[ce]=he,me.port&&(he+=":"+me.port),me.host=he;break;case"host":me[ce]=he,X.test(he)?(he=he.split(":"),me.port=he.pop(),me.hostname=he.join(":")):(me.hostname=he,me.port="");break;case"protocol":me.protocol=he.toLowerCase(),me.slashes=!Ne;break;case"pathname":case"hash":if(he){var Ye="pathname"===ce?"/":"#";me[ce]=he.charAt(0)!==Ye?Ye+he:he}else me[ce]=he;break;case"username":case"password":me[ce]=encodeURIComponent(he);break;case"auth":var ve=he.indexOf(":");~ve?(me.username=he.slice(0,ve),me.username=encodeURIComponent(decodeURIComponent(me.username)),me.password=he.slice(ve+1),me.password=encodeURIComponent(decodeURIComponent(me.password))):me.username=encodeURIComponent(decodeURIComponent(he))}for(var Ie=0;Ie<Z.length;Ie++){var Ae=Z[Ie];Ae[4]&&(me[Ae[1]]=me[Ae[1]].toLowerCase())}return me.auth=me.password?me.username+":"+me.password:me.username,me.origin="file:"!==me.protocol&&O(me.protocol)&&me.host?me.protocol+"//"+me.host:"null",me.href=me.toString(),me},toString:function we(ce){(!ce||"function"!=typeof ce)&&(ce=u.stringify);var he,Ne=this,me=Ne.host,Ye=Ne.protocol;Ye&&":"!==Ye.charAt(Ye.length-1)&&(Ye+=":");var ve=Ye+(Ne.protocol&&Ne.slashes||O(Ne.protocol)?"//":"");return Ne.username?(ve+=Ne.username,Ne.password&&(ve+=":"+Ne.password),ve+="@"):Ne.password?(ve+=":"+Ne.password,ve+="@"):"file:"!==Ne.protocol&&O(Ne.protocol)&&!me&&"/"!==Ne.pathname&&(ve+="@"),(":"===me[me.length-1]||X.test(Ne.hostname)&&!Ne.port)&&(me+=":"),ve+=me+Ne.pathname,(he="object"==typeof Ne.query?ce(Ne.query):Ne.query)&&(ve+="?"!==he.charAt(0)?"?"+he:he),Ne.hash&&(ve+=Ne.hash),ve}},ee.extractProtocol=j,ee.location=$,ee.trimLeft=Ce,ee.qs=u,Be.exports=ee},2086:(Be,qe,F)=>{"use strict";var k=F(4764),u=F(1046),ae=F(6180),ie=F(6434),q=F(3);Be.exports=function(G){return null==G||"object"!=typeof G&&"function"!=typeof G?null:k(G)?"String":u(G)?"Number":ae(G)?"Boolean":ie(G)?"Symbol":q(G)?"BigInt":void 0}},5709:(Be,qe,F)=>{"use strict";var k=F(3037),u=F(5271),ae=F(4263),ie=ae("Object.prototype.toString"),q=F(3261)(),X=typeof globalThis>"u"?global:globalThis,G=u(),z=ae("String.prototype.slice"),Ce={},Z=F(2292),se=Object.getPrototypeOf;q&&Z&&se&&k(G,function(j){if("function"==typeof X[j]){var Oe=new X[j];if(Symbol.toStringTag in Oe){var ee=se(Oe),Se=Z(ee,Symbol.toStringTag);if(!Se){var we=se(ee);Se=Z(we,Symbol.toStringTag)}Ce[j]=Se.get}}});var O=F(7673);Be.exports=function(Oe){return!!O(Oe)&&(q&&Symbol.toStringTag in Oe?function(Oe){var ee=!1;return k(Ce,function(Se,we){if(!ee)try{var ce=Se.call(Oe);ce===we&&(ee=ce)}catch{}}),ee}(Oe):z(ie(Oe),8,-1))}},863:(Be,qe,F)=>{var k={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4812],"./ion-avatar_3.entry.js":[6655,8592,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8592,8308],"./ion-card_5.entry.js":[4690,8592,4690],"./ion-checkbox.entry.js":[4090,8592,4090],"./ion-chip.entry.js":[6214,8592,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime_3.entry.js":[9689,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9667],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,5473],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8592,8994],"./ion-radio_2.entry.js":[3592,8592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,290],"./ion-reorder_2.entry.js":[2666,8592,2666],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,8592,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8592,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8592,8395],"./ion-textarea.entry.js":[6357,8592,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function u(ae){if(!F.o(k,ae))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+ae+"'");throw X.code="MODULE_NOT_FOUND",X});var ie=k[ae],q=ie[0];return Promise.all(ie.slice(1).map(F.e)).then(()=>F(q))}u.keys=()=>Object.keys(k),u.id=863,Be.exports=u},4654:()=>{},5271:Be=>{"use strict";var qe=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],F=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var u=[],ae=0;ae<qe.length;ae++)"function"==typeof F[qe[ae]]&&(u[u.length]=qe[ae]);return u}},2292:(Be,qe,F)=>{"use strict";var u=F(9903)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}Be.exports=u},2069:(Be,qe,F)=>{"use strict";var k=F(9102);if(F(524)()||F(6858)()){var u=Symbol.iterator;Be.exports=function(Ae){return null!=Ae&&typeof Ae[u]<"u"?Ae[u]():k(Ae)?Array.prototype[u].call(Ae):void 0}}else{var ae=F(8266),ie=F(4764),q=F(9903),X=q("%Map%",!0),G=q("%Set%",!0),z=F(4263),Ce=z("Array.prototype.push"),Z=z("String.prototype.charCodeAt"),se=z("String.prototype.slice"),O=function(Ae){var ze=0;return{next:function(){var Q,Pe=ze>=Ae.length;return Pe||(Q=Ae[ze],ze+=1),{done:Pe,value:Q}}}},j=function(Ae,ze){if(ae(Ae)||k(Ae))return O(Ae);if(ie(Ae)){var Ve=0;return{next:function(){var Q=function(Ae,ze){if(ze+1>=Ae.length)return ze+1;var Pe=Z(Ae,ze);if(Pe<55296||Pe>56319)return ze+1;var Q=Z(Ae,ze+1);return Q<56320||Q>57343?ze+1:ze+2}(Ae,Ve),Ze=se(Ae,Ve,Q);return Ve=Q,{done:Q>Ae.length,value:Ze}}}}return ze&&typeof Ae["_es6-shim iterator_"]<"u"?Ae["_es6-shim iterator_"]():void 0};if(X||G){var Oe=F(9898),ee=F(3870),Se=z("Map.prototype.forEach",!0),we=z("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ce=z("Map.prototype.iterator",!0),he=z("Set.prototype.iterator",!0),Ne=function(Ie){var Ae=!1;return{next:function(){try{return{done:Ae,value:Ae?void 0:Ie.next()}}catch{return Ae=!0,{done:!0,value:void 0}}}}};var me=z("Map.prototype.@@iterator",!0)||z("Map.prototype._es6-shim iterator_",!0),Ye=z("Set.prototype.@@iterator",!0)||z("Set.prototype._es6-shim iterator_",!0);Be.exports=function(Ae){return function(Ae){if(Oe(Ae)){if(ce)return Ne(ce(Ae));if(me)return me(Ae);if(Se){var ze=[];return Se(Ae,function(Pe,Q){Ce(ze,[Q,Pe])}),O(ze)}}if(ee(Ae)){if(he)return Ne(he(Ae));if(Ye)return Ye(Ae);if(we){var Ve=[];return we(Ae,function(Pe){Ce(Ve,Pe)}),O(Ve)}}}(Ae)||j(Ae)}}else Be.exports=function(Ae){if(null!=Ae)return j(Ae,!0)}}},2107:(Be,qe,F)=>{"use strict";var k=F(9898),u=F(3870),ae=F(5585),ie=F(1902);Be.exports=function(X){if(X&&"object"==typeof X){if(k(X))return"Map";if(u(X))return"Set";if(ae(X))return"WeakMap";if(ie(X))return"WeakSet"}return!1}},3918:(Be,qe,F)=>{"use strict";function k(ae,ie,q,X,G,z,Ce){try{var Z=ae[z](Ce),se=Z.value}catch($){return void q($)}Z.done?ie(se):Promise.resolve(se).then(X,G)}function u(ae){return function(){var ie=this,q=arguments;return new Promise(function(X,G){var z=ae.apply(ie,q);function Ce(se){k(z,X,G,Ce,Z,"next",se)}function Z(se){k(z,X,G,Ce,Z,"throw",se)}Ce(void 0)})}}F.d(qe,{Z:()=>u})}},Be=>{Be(Be.s=8389)}]);
//# sourceMappingURL=main.9360bf9f4cc52172.js.map