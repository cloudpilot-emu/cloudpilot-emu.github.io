(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6996:(ge,Ce,C)=>{"use strict";let u=null,q=1;function R(e){const t=u;return u=e,t}function T(e){if((!we(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==q)){if(!e.producerMustRecompute(e)&&!M(e))return e.dirty=!1,void(e.lastCleanEpoch=q);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=q}}function M(e){Ae(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(T(r),n!==r.version))return!0}return!1}function ie(e,t){if(function O(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ae(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ie(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ae(o),o.producerIndexOfThis[n]=t}}function we(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ae(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let $e=null;function Ee(e){return"function"==typeof e}function be(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const _e=be(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class vt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Ee(n))try{n()}catch(i){t=i instanceof _e?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{nn(i)}catch(s){t=t??[],s instanceof _e?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _e(t)}}add(t){var r;if(t&&t!==this)if(this.closed)nn(t);else{if(t instanceof vt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof vt&&t._removeParent(this)}}vt.EMPTY=(()=>{const e=new vt;return e.closed=!0,e})();const Pt=vt.EMPTY;function un(e){return e instanceof vt||e&&"closed"in e&&Ee(e.remove)&&Ee(e.add)&&Ee(e.unsubscribe)}function nn(e){Ee(e)?e():e.unsubscribe()}const fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jt={setTimeout(e,t,...r){const{delegate:n}=Jt;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Jt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function gr(e){Jt.setTimeout(()=>{const{onUnhandledError:t}=fn;if(!t)throw e;t(e)})}function zn(){}const Ho=Pn("C",void 0,void 0);function Pn(e,t,r){return{kind:e,value:t,error:r}}let $r=null;function Ur(e){if(fn.useDeprecatedSynchronousErrorHandling){const t=!$r;if(t&&($r={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=$r;if($r=null,r)throw n}}else e()}class Wn extends vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,un(t)&&t.add(this)):this.destination=rn}static create(t,r,n){return new ye(t,r,n)}next(t){this.isStopped?Cn(function wo(e){return Pn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Cn(function So(e){return Pn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Cn(Ho,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const go=Function.prototype.bind;function Br(e,t){return go.call(e,t)}class pe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){ln(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){ln(n)}else ln(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){ln(r)}}}class ye extends Wn{constructor(t,r,n){let o;if(super(),Ee(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&fn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Br(t.next,i),error:t.error&&Br(t.error,i),complete:t.complete&&Br(t.complete,i)}):o=t}this.destination=new pe(o)}}function ln(e){fn.useDeprecatedSynchronousErrorHandling?function ro(e){fn.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=e)}(e):gr(e)}function Cn(e,t){const{onStoppedNotification:r}=fn;r&&Jt.setTimeout(()=>r(e,t))}const rn={closed:!0,next:zn,error:function hn(e){throw e},complete:zn},fo="function"==typeof Symbol&&Symbol.observable||"@@observable";function tr(e){return e}function _o(e){return 0===e.length?tr:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let On=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Gi(e){return e&&e instanceof Wn||function oo(e){return e&&Ee(e.next)&&Ee(e.error)&&Ee(e.complete)}(e)&&un(e)}(r)?r:new ye(r,n,o);return Ur(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Do(n))((o,i)=>{const s=new ye({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[fo](){return this}pipe(...r){return _o(r)(this)}toPromise(r){return new(r=Do(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Do(e){var t;return null!==(t=e??fn.Promise)&&void 0!==t?t:Promise}const Po=be(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xn=(()=>{class e extends On{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new _r(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Po}next(r){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Pt:(this.currentObservers=null,i.push(r),new vt(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new On;return r.source=this,r}}return e.create=(t,r)=>new _r(t,r),e})();class _r extends xn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Pt}}function vr(e){return Ee(e?.lift)}function Tn(e){return t=>{if(vr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nn(e,t,r,n,o){return new di(e,t,r,n,o)}class di extends Wn{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function cn(e,t){return Tn((r,n)=>{let o=0;r.subscribe(Nn(n,i=>{n.next(e.call(t,i,o++))}))})}function ae(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Oo(e){return this instanceof Oo?(this.v=e,this):new Oo(e)}function Mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ei(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ut=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function m(e){return Ee(e?.then)}function w(e){return Ee(e[fo])}function L(e){return Symbol.asyncIterator&&Ee(e?.[Symbol.asyncIterator])}function te(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ue=function Ie(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ke(e){return Ee(e?.[ue])}function qe(e){return function ei(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){n[g]&&(o[g]=function(b){return new Promise(function(j,se){i.push([g,b,j,se])>1||a(g,b)})})}function a(g,b){try{!function l(g){g.value instanceof Oo?Promise.resolve(g.value.v).then(c,f):h(i[0][2],g)}(n[g](b))}catch(j){h(i[0][3],j)}}function c(g){a("next",g)}function f(g){a("throw",g)}function h(g,b){g(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Oo(r.read());if(o)return yield Oo(void 0);yield yield Oo(n)}}finally{r.releaseLock()}})}function et(e){return Ee(e?.getReader)}function A(e){if(e instanceof On)return e;if(null!=e){if(w(e))return function bt(e){return new On(t=>{const r=e[fo]();if(Ee(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ut(e))return function At(e){return new On(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(m(e))return function kt(e){return new On(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,gr)})}(e);if(L(e))return Sr(e);if(Ke(e))return function Sn(e){return new On(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(et(e))return function Vr(e){return Sr(qe(e))}(e)}throw te(e)}function Sr(e){return new On(t=>{(function zr(e,t){var r,n,o,i;return function Ui(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Mn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Kn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Bn(e,t,r=1/0){return Ee(t)?Bn((n,o)=>cn((i,s)=>t(n,i,o,s))(A(e(n,o))),r):("number"==typeof t&&(r=t),Tn((n,o)=>function Yi(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,h=!1;const g=()=>{h&&!l.length&&!c&&t.complete()},b=se=>c<n?j(se):l.push(se),j=se=>{i&&t.next(se),c++;let me=!1;A(r(se,f++)).subscribe(Nn(t,De=>{o?.(De),i?b(De):t.next(De)},()=>{me=!0},void 0,()=>{if(me)try{for(c--;l.length&&c<n;){const De=l.shift();s?Kn(t,s,()=>j(De)):j(De)}g()}catch(De){t.error(De)}}))};return e.subscribe(Nn(t,b,()=>{h=!0,g()})),()=>{a?.()}}(n,o,e,r)))}function No(e=1/0){return Bn(tr,e)}const Io=new On(e=>e.complete());function ea(e){return e&&Ee(e.schedule)}function Os(e){return e[e.length-1]}function ta(e){return Ee(Os(e))?e.pop():void 0}function Xi(e){return ea(Os(e))?e.pop():void 0}function na(e,t=0){return Tn((r,n)=>{r.subscribe(Nn(n,o=>Kn(n,e,()=>n.next(o),t),()=>Kn(n,e,()=>n.complete(),t),o=>Kn(n,e,()=>n.error(o),t)))})}function ra(e,t=0){return Tn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function oa(e,t){if(!e)throw new Error("Iterable cannot be null");return new On(r=>{Kn(r,t,()=>{const n=e[Symbol.asyncIterator]();Kn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function wr(e,t){return t?function Oa(e,t){if(null!=e){if(w(e))return function Ma(e,t){return A(e).pipe(ra(t),na(t))}(e,t);if(ut(e))return function ka(e,t){return new On(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(m(e))return function Aa(e,t){return A(e).pipe(ra(t),na(t))}(e,t);if(L(e))return oa(e,t);if(Ke(e))return function Ra(e,t){return new On(r=>{let n;return Kn(r,t,()=>{n=e[ue](),Kn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>Ee(n?.return)&&n.return()})}(e,t);if(et(e))return function Pa(e,t){return oa(qe(e),t)}(e,t)}throw te(e)}(e,t):A(e)}function ia(...e){const t=Xi(e),r=function Ta(e,t){return"number"==typeof Os(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?A(n[0]):No(r)(wr(n,t)):Io}class po extends xn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Ht(...e){return wr(e,Xi(e))}function sa(e={}){const{connector:t=(()=>new xn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},b=()=>{g(),s=l=void 0,f=h=!1},j=()=>{const se=s;b(),se?.unsubscribe()};return Tn((se,me)=>{c++,!h&&!f&&g();const De=l=l??t();me.add(()=>{c--,0===c&&!h&&!f&&(a=Ns(j,o))}),De.subscribe(me),!s&&c>0&&(s=new ye({next:Se=>De.next(Se),error:Se=>{h=!0,g(),a=Ns(b,r,Se),De.error(Se)},complete:()=>{f=!0,g(),a=Ns(b,n),De.complete()}}),A(se).subscribe(s))})(i)}}function Ns(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new ye({next:()=>{n.unsubscribe(),e()}});return A(t(...r)).subscribe(n)}function Jr(e,t){return Tn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Nn(n,l=>{o?.unsubscribe();let c=0;const f=i++;A(e(l,f)).subscribe(o=Nn(n,h=>n.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Fs(e,t=tr){return e=e??Na,Tn((r,n)=>{let o,i=!0;r.subscribe(Nn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Na(e,t){return e===t}function Vn(e){for(let t in e)if(e[t]===Vn)return t;throw Error("Could not find renamed property on target object.")}function hs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Dr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Dr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Ls(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Fa=Vn({__forward_ref__:Vn});function Un(e){return e.__forward_ref__=Un,e.toString=function(){return Dr(this())},e}function Yt(e){return ms(e)?e():e}function ms(e){return"function"==typeof e&&e.hasOwnProperty(Fa)&&e.__forward_ref__===Un}function $s(e){return e&&!!e.\u0275providers}const aa="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function Qi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const gs=Vn({\u0275cmp:Vn}),Ji=Vn({\u0275dir:Vn}),la=Vn({\u0275pipe:Vn}),ca=Vn({\u0275mod:Vn}),ti=Vn({\u0275fac:Vn}),yr=Vn({__NG_ELEMENT_ID__:Vn}),Wo=Vn({__NG_ENV_ID__:Vn});function Lt(e){return"string"==typeof e?e:null==e?"":String(e)}function _s(e,t){throw new Xe(-201,!1)}function qt(e,t){null==e&&function ot(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function Le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function sr(e){return Pr(e,p)||Pr(e,ne)}function Pr(e,t){return e.hasOwnProperty(t)?e[t]:null}function We(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(Ne))?e[x]:null}const p=Vn({\u0275prov:Vn}),x=Vn({\u0275inj:Vn}),ne=Vn({ngInjectableDef:Vn}),Ne=Vn({ngInjectorDef:Vn});var Qe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qe||{});let gn;function on(){return gn}function Kt(e){const t=gn;return gn=e,t}function lr(e,t,r){const n=sr(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Qe.Optional?null:void 0!==t?t:void _s(Dr(e))}const Yn=globalThis;class ft{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Le({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ul={},du="__NG_DI_FLAG__",Dc="ngTempTokenPath",nh=/\n/gm,Wd="__source";let _l;function da(e){const t=_l;return _l=e,t}function ih(e,t=Qe.Default){if(void 0===_l)throw new Xe(-203,!1);return null===_l?lr(e,void 0,t):_l.get(e,t&Qe.Optional?null:void 0,t)}function ce(e,t=Qe.Default){return(on()||ih)(Yt(e),t)}function rt(e,t=Qe.Default){return ce(e,Ec(t))}function Ec(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fu(e){const t=[];for(let r=0;r<e.length;r++){const n=Yt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Qe.Default;for(let s=0;s<n.length;s++){const a=n[s],l=sh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ce(o,i))}else t.push(ce(n))}return t}function Hl(e,t){return e[du]=t,e.prototype[du]=t,e}function sh(e){return e[du]}function Vs(e){return{toString:e}.toString()}var Ic=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ic||{}),es=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(es||{});const vs={},Qn=[];function qd(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function pu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Kd(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function Yd(e){return 3===e||4===e||6===e}function Kd(e){return 64===e.charCodeAt(0)}function zl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||Xd(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function Xd(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const Qd="ng-template";function ch(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==qd(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Jd(e){return 4===e.type&&e.value!==Qd}function uh(e,t,r){return t===(4!==e.type||r?e.value:Qd)}function dh(e,t,r){let n=4;const o=e.attrs||[],i=function hh(e){for(let t=0;t<e.length;t++)if(Yd(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!uh(e,l,r)||""===l&&1===t.length){if(ts(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!ch(e.attrs,c,r)){if(ts(n))return!1;s=!0}continue}const h=fh(8&n?"class":l,o,Jd(e),r);if(-1===h){if(ts(n))return!1;s=!0;continue}if(""!==c){let g;g=h>i?"":o[h+1].toLowerCase();const b=8&n?g:null;if(b&&-1!==qd(b,c,0)||2&n&&c!==g){if(ts(n))return!1;s=!0}}}}else{if(!s&&!ts(n)&&!ts(l))return!1;if(s&&ts(l))continue;s=!1,n=l|1&n}}return ts(n)||s}function ts(e){return 0==(1&e)}function fh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function mh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function ef(e,t,r=!1){for(let n=0;n<t.length;n++)if(dh(e,t[n],r))return!0;return!1}function gh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function tf(e,t){return e?":not("+t.trim()+")":t}function _h(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!ts(s)&&(t+=tf(i,o),o=""),n=s,i=i||!ts(n);r++}return""!==o&&(t+=tf(i,o)),t}function Ye(e){return Vs(()=>{const t=js(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ic.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||es.Emulated,styles:e.styles||Qn,_:null,schemas:e.schemas||null,tView:null,id:""};jn(r);const n=e.dependencies;return r.directiveDefs=hu(n,!1),r.pipeDefs=hu(n,!0),r.id=function I_(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function bh(e){return _n(e)||To(e)}function D_(e){return null!==e}function io(e){return Vs(()=>({type:e.type,bootstrap:e.bootstrap||Qn,declarations:e.declarations||Qn,imports:e.imports||Qn,exports:e.exports||Qn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ch(e,t){if(null==e)return vs;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Nt(e){return Vs(()=>{const t=js(e);return jn(t),t})}function Zo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function _n(e){return e[gs]||null}function To(e){return e[Ji]||null}function Lo(e){return e[la]||null}function An(e,t){const r=e[ca]||null;if(!r&&!0===t)throw new Error(`Type ${Dr(e)} does not have '\u0275mod' property.`);return r}function js(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||vs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Qn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ch(e.inputs,t),outputs:Ch(e.outputs),debugInfo:null}}function jn(e){e.features?.forEach(t=>t(e))}function hu(e,t){if(!e)return null;const r=t?Lo:bh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(D_)}const so=0,gt=1,it=2,Dn=3,kn=4,Te=5,nr=6,Rn=7,tn=8,ur=9,Mo=10,Wt=11,ao=12,eo=13,Zt=14,Gn=15,Or=16,Ir=17,d=18,y=19,z=20,Me=21,It=22,en=23,dt=25,vn=1,jr=7,ys=9,$n=10;var Gs=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Gs||{});function yo(e){return Array.isArray(e)&&"object"==typeof e[vn]}function lo(e){return Array.isArray(e)&&!0===e[vn]}function mu(e){return 0!=(4&e.flags)}function ha(e){return e.componentOffset>-1}function _t(e){return 1==(1&e.flags)}function Xt(e){return!!e.template}function mi(e){return 0!=(512&e[it])}function xc(e,t){return e.hasOwnProperty(ti)?e[ti]:null}class qR{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function _i(){return U0}function U0(e){return e.type.prototype.ngOnChanges&&(e.setInput=KR),YR}function YR(){const e=z0(this),t=e?.current;if(t){const r=e.previous;if(r===vs)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function KR(e,t,r,n){const o=this.declaredInputs[r],i=z0(e)||function XR(e,t){return e[H0]=t}(e,{previous:vs,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new qR(l&&l.currentValue,t,a===vs),e[n]=t}_i.ngInherit=!0;const H0="__ngSimpleChanges__";function z0(e){return e[H0]||null}const Ba=function(e,t,r){};function Zr(e){for(;Array.isArray(e);)e=e[so];return e}function rf(e,t){return Zr(t[e])}function xi(e,t){return Zr(t[e.index])}function sf(e,t){return e.data[t]}function _u(e,t){return e[t]}function bs(e,t){const r=t[e];return yo(r)?r:r[so]}function A_(e){return 128==(128&e[it])}function Va(e,t){return null==t?null:e[t]}function q0(e){e[Ir]=0}function nP(e){1024&e[it]||(e[it]|=1024,A_(e)&&Sh(e))}function K0(e){return 9216&e[it]||e[en]?.dirty}function X0(e){K0(e)&&Sh(e)}function Sh(e){let t=e[Dn];for(;null!==t&&!(lo(t)&&t[it]&Gs.HasChildViewsToRefresh||yo(t)&&8192&t[it]);){if(lo(t))t[it]|=Gs.HasChildViewsToRefresh;else if(t[it]|=8192,!A_(t))break;t=t[Dn]}}function wh(e,t){if(256==(256&e[it]))throw new Xe(911,!1);null===e[Me]&&(e[Me]=[]),e[Me].push(t)}const dn={lFrame:aS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function J0(){return dn.bindingsEnabled}function vu(){return null!==dn.skipHydrationRootTNode}function Ue(){return dn.lFrame.lView}function Jn(){return dn.lFrame.tView}function Bt(e){return dn.lFrame.contextLView=e,e[tn]}function Vt(e){return dn.lFrame.contextLView=null,e}function Nr(){let e=eS();for(;null!==e&&64===e.type;)e=e.parent;return e}function eS(){return dn.lFrame.currentTNode}function ja(e,t){const r=dn.lFrame;r.currentTNode=e,r.isParent=t}function R_(){return dn.lFrame.isParent}function P_(){dn.lFrame.isParent=!1}function vl(){return dn.lFrame.bindingIndex}function Ga(){return dn.lFrame.bindingIndex++}function yl(e){const t=dn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function pP(e,t){const r=dn.lFrame;r.bindingIndex=r.bindingRootIndex=e,O_(t)}function O_(e){dn.lFrame.currentDirectiveIndex=e}function oS(){return dn.lFrame.currentQueryIndex}function F_(e){dn.lFrame.currentQueryIndex=e}function mP(e){const t=e[gt];return 2===t.type?t.declTNode:1===t.type?e[Te]:null}function iS(e,t,r){if(r&Qe.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Qe.Host||(o=mP(i),null===o||(i=i[Zt],10&o.type))););if(null===o)return!1;t=o,e=i}const n=dn.lFrame=sS();return n.currentTNode=t,n.lView=e,!0}function L_(e){const t=sS(),r=e[gt];dn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function sS(){const e=dn.lFrame,t=null===e?null:e.child;return null===t?aS(e):t}function aS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lS(){const e=dn.lFrame;return dn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const cS=lS;function $_(){const e=lS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vi(){return dn.lFrame.selectedIndex}function Tc(e){dn.lFrame.selectedIndex=e}function to(){const e=dn.lFrame;return sf(e.tView,e.selectedIndex)}let dS=!0;function Dh(){return dS}function Wl(e){dS=e}function Eh(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function Ih(e,t,r){fS(e,t,3,r)}function xh(e,t,r,n){(3&e[it])===r&&fS(e,t,r,n)}function B_(e,t){let r=e[it];(3&r)===t&&(r&=16383,r+=1,e[it]=r)}function fS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Ir]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Ir]+=65536),(a<i||-1==i)&&(SP(e,r,t,l),e[Ir]=(4294901760&e[Ir])+l+2),l++}function pS(e,t){Ba(4,e,t);const r=R(null);try{t.call(e)}finally{R(r),Ba(5,e,t)}}function SP(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[it]>>14<e[Ir]>>16&&(3&e[it])===t&&(e[it]+=16384,pS(a,i)):pS(a,i)}const yu=-1;class lf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function j_(e){return e!==yu}function cf(e){return 32767&e}function uf(e,t){let r=function xP(e){return e>>16}(e),n=t;for(;r>0;)n=n[Zt],r--;return n}let G_=!0;function Th(e){const t=G_;return G_=e,t}const hS=255,mS=5;let TP=0;const Ua={};function Mh(e,t){const r=gS(e,t);if(-1!==r)return r;const n=t[gt];n.firstCreatePass&&(e.injectorIndex=t.length,U_(n.data,e),U_(t,null),U_(n.blueprint,null));const o=Ah(e,t),i=e.injectorIndex;if(j_(o)){const s=cf(o),a=uf(o,t),l=a[gt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function U_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ah(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=wS(o),null===n)return yu;if(r++,o=o[Zt],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return yu}function H_(e,t,r){!function MP(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(yr)&&(n=r[yr]),null==n&&(n=r[yr]=TP++);const o=n&hS;t.data[e+(o>>mS)]|=1<<o}(e,t,r)}function _S(e,t,r){if(r&Qe.Optional||void 0!==e)return e;_s()}function vS(e,t,r,n){if(r&Qe.Optional&&void 0===n&&(n=null),!(r&(Qe.Self|Qe.Host))){const o=e[ur],i=Kt(void 0);try{return o?o.get(t,n,r&Qe.Optional):lr(t,n,r&Qe.Optional)}finally{Kt(i)}}return _S(n,0,r)}function yS(e,t,r,n=Qe.Default,o){if(null!==e){if(2048&t[it]&&!(n&Qe.Self)){const s=function OP(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[it]&&!(512&s[it]);){const a=bS(i,s,r,n|Qe.Self,Ua);if(a!==Ua)return a;let l=i.parent;if(!l){const c=s[z];if(c){const f=c.get(r,Ua,n);if(f!==Ua)return f}l=wS(s),s=s[Zt]}i=l}return o}(e,t,r,n,Ua);if(s!==Ua)return s}const i=bS(e,t,r,n,Ua);if(i!==Ua)return i}return vS(t,r,n,o)}function bS(e,t,r,n,o){const i=function RP(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(yr)?e[yr]:void 0;return"number"==typeof t?t>=0?t&hS:PP:t}(r);if("function"==typeof i){if(!iS(t,e,n))return n&Qe.Host?_S(o,0,n):vS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Qe.Optional)return s;_s()}finally{cS()}}else if("number"==typeof i){let s=null,a=gS(e,t),l=yu,c=n&Qe.Host?t[Gn][Te]:null;for((-1===a||n&Qe.SkipSelf)&&(l=-1===a?Ah(e,t):t[a+8],l!==yu&&SS(n,!1)?(s=t[gt],a=cf(l),t=uf(l,t)):a=-1);-1!==a;){const f=t[gt];if(CS(i,a,f.data)){const h=kP(a,t,r,s,n,c);if(h!==Ua)return h}l=t[a+8],l!==yu&&SS(n,t[gt].data[a+8]===c)&&CS(i,a,t)?(s=f,a=cf(l),t=uf(l,t)):a=-1}}return o}function kP(e,t,r,n,o,i){const s=t[gt],a=s.data[e+8],f=kh(a,s,r,null==n?ha(a)&&G_:n!=s&&0!=(3&a.type),o&Qe.Host&&i===a);return null!==f?Mc(t,s,f,a):Ua}function kh(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,g=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<g;b++){const j=s[b];if(b<l&&r===j||b>=l&&j.type===r)return b}if(o){const b=s[l];if(b&&Xt(b)&&b.type===r)return l}return null}function Mc(e,t,r,n){let o=e[r];const i=t.data;if(function wP(e){return e instanceof lf}(o)){const s=o;s.resolving&&function gl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Fn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Lt(e)}(i[r]));const a=Th(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Kt(s.injectImpl):null;iS(e,n,Qe.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function CP(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=U0(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&Kt(c),Th(a),s.resolving=!1,cS()}}return o}function CS(e,t,r){return!!(r[t+(e>>mS)]&1<<e)}function SS(e,t){return!(e&Qe.Self||e&Qe.Host&&t)}class qo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return yS(this._tNode,this._lView,t,Ec(n),r)}}function PP(){return new qo(Nr(),Ue())}function qr(e){return Vs(()=>{const t=e.prototype.constructor,r=t[ti]||z_(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ti]||z_(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function z_(e){return ms(e)?()=>{const t=z_(Yt(e));return t&&t()}:xc(e)}function wS(e){const t=e[gt],r=t.type;return 2===r?t.declTNode:1===r?e[Te]:null}function Zl(e){return function AP(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(Yd(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Nr(),e)}const wu="__parameters__";function Eu(e,t,r){return Vs(()=>{const n=function W_(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const h=l.hasOwnProperty(wu)?l[wu]:Object.defineProperty(l,wu,{value:[]})[wu];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function xu(e,t){e.forEach(r=>Array.isArray(r)?xu(r,t):t(r))}function ES(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Rh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ff(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Cs(e,t,r){let n=Tu(e,t);return n>=0?e[1|n]=r:(n=~n,function IS(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function q_(e,t){const r=Tu(e,t);if(r>=0)return e[1|r]}function Tu(e,t){return function xS(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Oh=Hl(Eu("Optional"),8),Nh=Hl(Eu("SkipSelf"),4),Au=new ft("ENVIRONMENT_INITIALIZER"),kS=new ft("INJECTOR",-1),X_=new ft("INJECTOR_DEF_TYPES");class Lh{get(t,r=Ul){if(r===Ul){const n=new Error(`NullInjectorError: No provider for ${Dr(t)}!`);throw n.name="NullInjectorError",n}return r}}function nO(...e){return{\u0275providers:RS(0,e),\u0275fromNgModule:!0}}function RS(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return xu(t,s=>{const a=s;$h(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&PS(o,i),r}function PS(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];J_(o,i=>{t(i,n)})}}function $h(e,t,r,n){if(!(e=Yt(e)))return!1;let o=null,i=We(e);const s=!i&&_n(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=We(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)$h(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{xu(i.imports,f=>{$h(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&PS(c,t)}if(!a){const c=xc(o)||(()=>new o);t({provide:o,useFactory:c,deps:Qn},o),t({provide:X_,useValue:o,multi:!0},o),t({provide:Au,useValue:()=>ce(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;J_(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function J_(e,t){for(let r of e)$s(r)&&(r=r.\u0275providers),Array.isArray(r)?J_(r,t):t(r)}const rO=Vn({provide:String,useValue:Vn});function ev(e){return null!==e&&"object"==typeof e&&rO in e}function Ac(e){return"function"==typeof e}const tv=new ft("Set Injector scope."),Bh={},iO={};let nv;function Vh(){return void 0===nv&&(nv=new Lh),nv}class ri{}class ku extends ri{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ov(t,s=>this.processProvider(s)),this.records.set(kS,Ru(void 0,this)),o.has("environment")&&this.records.set(ri,Ru(void 0,this));const i=this.records.get(tv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(X_,Qn,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=da(this),n=Kt(void 0);try{return t()}finally{da(r),Kt(n)}}get(t,r=Ul,n=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Wo))return t[Wo](this);n=Ec(n);const i=da(this),s=Kt(void 0);try{if(!(n&Qe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function uO(e){return"function"==typeof e||"object"==typeof e&&e instanceof ft}(t)&&sr(t);l=c&&this.injectableDefInScope(c)?Ru(rv(t),Bh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Qe.Self?Vh():this.parent).get(t,r=n&Qe.Optional&&r===Ul?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Dc]=a[Dc]||[]).unshift(Dr(t)),i)throw a;return function ah(e,t,r,n){const o=e[Dc];throw t[Wd]&&o.unshift(t[Wd]),e.message=function lh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Dr(t);if(Array.isArray(t))o=t.map(Dr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Dr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(nh,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Dc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Kt(s),da(i)}}resolveInjectorInitializers(){const t=da(this),r=Kt(void 0);try{const o=this.get(Au,Qn,Qe.Self);for(const i of o)i()}finally{da(t),Kt(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Dr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=Ac(t=Yt(t))?t:Yt(t&&t.provide);const n=function aO(e){return ev(e)?Ru(void 0,e.useValue):Ru(FS(e),Bh)}(t);if(Ac(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ru(void 0,Bh,!0),o.factory=()=>fu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Bh&&(r.value=iO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function cO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Yt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function rv(e){const t=sr(e),r=null!==t?t.factory:xc(e);if(null!==r)return r;if(e instanceof ft)throw new Xe(204,!1);if(e instanceof Function)return function sO(e){const t=e.length;if(t>0)throw ff(t,"?"),new Xe(204,!1);const r=function ar(e){return e&&(e[p]||e[ne])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function FS(e,t,r){let n;if(Ac(e)){const o=Yt(e);return xc(o)||rv(o)}if(ev(e))n=()=>Yt(e.useValue);else if(function NS(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...fu(e.deps||[]));else if(function OS(e){return!(!e||!e.useExisting)}(e))n=()=>ce(Yt(e.useExisting));else{const o=Yt(e&&(e.useClass||e.provide));if(!function lO(e){return!!e.deps}(e))return xc(o)||rv(o);n=()=>new o(...fu(e.deps))}return n}function Ru(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function ov(e,t){for(const r of e)Array.isArray(r)?ov(r,t):r&&$s(r)?ov(r.\u0275providers,t):t(r)}function ql(e,t){e instanceof ku&&e.assertNotDestroyed();const n=da(e),o=Kt(void 0);try{return t()}finally{da(n),Kt(o)}}function VS(e,t=null,r=null,n){const o=jS(e,t,r,n);return o.resolveInjectorInitializers(),o}function jS(e,t=null,r=null,n,o=new Set){const i=[r||Qn,nO(e)];return n=n||("object"==typeof e?void 0:Dr(e)),new ku(i,t||Vh(),n||null,o)}let av,Yr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return VS({name:""},o,n,"");{const i=n.name??"";return VS({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Ul,e.NULL=new Lh,e.\u0275prov=Le({token:e,providedIn:"any",factory:()=>ce(kS)}),e.__NG_ELEMENT_ID__=-1,t})();const Gh=new ft("AppId",{providedIn:"root",factory:()=>yO}),yO="ng",US=new ft("Platform Initializer"),Xl=new ft("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HS=new ft("CSP nonce",{providedIn:"root",factory:()=>function Kl(){if(void 0!==av)return av;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ss(e){return e instanceof Function?e():e}function Wh(e){return 128==(128&e.flags)}var ec=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ec||{});const MO=/^>|^->|<!--|-->|--!>|<!-$/g,AO=/(<|>)/g,kO="\u200b$1\u200b";const fv=new Map;let RO=0;const hv="__ngContext__";function yi(e,t){yo(t)?(e[hv]=t[y],function OO(e){fv.set(e[y],e)}(t)):e[hv]=t}let mv;function gv(e,t){return mv(e,t)}function vf(e){const t=e[Dn];return lo(t)?t[Dn]:t}function lw(e){return uw(e[ao])}function cw(e){return uw(e[kn])}function uw(e){for(;null!==e&&!lo(e);)e=e[kn];return e}function Ou(e,t,r,n,o){if(null!=n){let i,s=!1;lo(n)?i=n:yo(n)&&(s=!0,n=n[so]);const a=Zr(n);0===e&&null!==r?null==o?hw(t,r,a):kc(t,r,a,o||null,!0):1===e&&null!==r?kc(t,r,a,o||null,!0):2===e?function Jh(e,t,r){const n=Xh(e,t);n&&function JO(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function nN(e,t,r,n,o){const i=r[jr];i!==Zr(r)&&Ou(t,e,n,i,o);for(let a=$n;a<r.length;a++){const l=r[a];Cf(l[gt],l,e,t,n,i)}}(t,e,i,r,o)}}function _v(e,t){return e.createComment(function ew(e){return e.replace(MO,t=>t.replace(AO,kO))}(t))}function Yh(e,t,r){return e.createElement(t,r)}function fw(e,t){const r=e[ys],n=r.indexOf(t);r.splice(n,1)}function yf(e,t){if(e.length<=$n)return;const r=$n+t,n=e[r];if(n){const o=n[Or];null!==o&&o!==e&&fw(o,n),t>0&&(e[r-1][kn]=n[kn]);const i=Rh(e,$n+t);!function zO(e,t){Cf(e,t,t[Wt],2,null,null),t[so]=null,t[Te]=null}(n[gt],n);const s=i[d];null!==s&&s.detachView(i[gt]),n[Dn]=null,n[kn]=null,n[it]&=-129}return n}function Kh(e,t){if(!(256&t[it])){const r=t[Wt];r.destroyNode&&Cf(e,t,r,3,null,null),function qO(e){let t=e[ao];if(!t)return vv(e[gt],e);for(;t;){let r=null;if(yo(t))r=t[ao];else{const n=t[$n];n&&(r=n)}if(!r){for(;t&&!t[kn]&&t!==e;)yo(t)&&vv(t[gt],t),t=t[Dn];null===t&&(t=e),yo(t)&&vv(t[gt],t),r=t&&t[kn]}t=r}}(t)}}function vv(e,t){if(!(256&t[it])){t[it]&=-129,t[it]|=256,t[en]&&function J(e){if(Ae(e),we(e))for(let t=0;t<e.producerNode.length;t++)ie(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[en]),function QO(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof lf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ba(4,a,l);try{l.call(a)}finally{Ba(5,a,l)}}else{Ba(4,o,i);try{i.call(o)}finally{Ba(5,o,i)}}}}}(e,t),function XO(e,t){const r=e.cleanup,n=t[Rn];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[Rn]=null);const o=t[Me];if(null!==o){t[Me]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[gt].type&&t[Wt].destroy();const r=t[Or];if(null!==r&&lo(t[Dn])){r!==t[Dn]&&fw(r,t);const n=t[d];null!==n&&n.detachView(e)}!function NO(e){fv.delete(e[y])}(t)}}function yv(e,t,r){return function pw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[so];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===es.None||i===es.Emulated)return null}return xi(n,r)}}(e,t.parent,r)}function kc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function hw(e,t,r){e.appendChild(t,r)}function mw(e,t,r,n,o){null!==n?kc(e,t,r,n,o):hw(e,t,r)}function Xh(e,t){return e.parentNode(t)}function gw(e,t,r){return vw(e,t,r)}let bv,em,vw=function _w(e,t,r){return 40&e.type?xi(e,r):null};function Qh(e,t,r,n){const o=yv(e,n,t),i=t[Wt],a=gw(n.parent||t[Te],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)mw(i,o,r[l],a,!1);else mw(i,o,r,a,!1);void 0!==bv&&bv(i,n,t,r,o)}function bf(e,t){if(null!==t){const r=t.type;if(3&r)return xi(t,e);if(4&r)return Cv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return bf(e,n);{const o=e[t.index];return lo(o)?Cv(-1,o):Zr(o)}}if(32&r)return gv(t,e)()||Zr(e[t.index]);{const n=bw(e,t);return null!==n?Array.isArray(n)?n[0]:bf(vf(e[Gn]),n):bf(e,t.next)}}return null}function bw(e,t){return null!==t?e[Gn][Te].projection[t.projection]:null}function Cv(e,t){const r=$n+e+1;if(r<t.length){const n=t[r],o=n[gt].firstChild;if(null!==o)return bf(n,o)}return t[jr]}function Sv(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&yi(Zr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Sv(e,t,r.child,n,o,i,!1),Ou(t,e,o,a,i);else if(32&l){const c=gv(r,n);let f;for(;f=c();)Ou(t,e,o,f,i);Ou(t,e,o,a,i)}else 16&l?Sw(e,t,n,r,o,i):Ou(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Cf(e,t,r,n,o,i){Sv(r,n,e.firstChild,t,o,i,!1)}function Sw(e,t,r,n,o,i){const s=r[Gn],l=s[Te].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ou(t,e,o,l[c],i);else{let c=l;const f=s[Dn];Wh(n)&&(c.flags|=128),Sv(e,t,c,f,o,i,!0)}}function ww(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Dw(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&pu(e,t,n),null!==o&&ww(e,t,o),null!==i&&function oN(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Nu(e){return function wv(){if(void 0===em&&(em=null,Yn.trustedTypes))try{em=Yn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return em}()?.createHTML(e)||e}class Rc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aa})`}}class lN extends Rc{getTypeName(){return"HTML"}}class cN extends Rc{getTypeName(){return"Style"}}class uN extends Rc{getTypeName(){return"Script"}}class dN extends Rc{getTypeName(){return"URL"}}class fN extends Rc{getTypeName(){return"ResourceURL"}}function ws(e){return e instanceof Rc?e.changingThisBreaksApplicationSecurity:e}function Ha(e,t){const r=function pN(e){return e instanceof Rc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${aa})`)}return r===t}class yN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Nu(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class bN{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Nu(t),r}}const SN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nm(e){return(e=String(e)).match(SN)?e:"unsafe:"+e}function bl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Sf(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const Mw=bl("area,br,col,hr,img,wbr"),Aw=bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kw=bl("rp,rt"),Ev=Sf(Mw,Sf(Aw,bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sf(kw,bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sf(kw,Aw)),Iv=bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rw=Sf(Iv,bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wN=bl("script,style,template");class DN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Ev.hasOwnProperty(r))return this.sanitizedSomething=!0,!wN.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!Rw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Iv[a]&&(l=nm(l)),this.buf.push(" ",s,'="',Pw(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Ev.hasOwnProperty(r)&&!Mw.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Pw(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const EN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IN=/([^\#-~ |!])/g;function Pw(e){return e.replace(/&/g,"&amp;").replace(EN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(IN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rm;function Ow(e,t){let r=null;try{rm=rm||function Tw(e){const t=new bN(e);return function CN(){try{return!!(new window.DOMParser).parseFromString(Nu(""),"text/html")}catch{return!1}}()?new yN(t):t}(e);let n=t?String(t):"";r=rm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=rm.getInertBodyElement(n)}while(n!==i);return Nu((new DN).sanitizeChildren(xv(r)||r))}finally{if(r){const n=xv(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function xv(e){return"content"in e&&function xN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ds=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ds||{});let $w=(e,t,r)=>null;function Nv(e,t,r=!1){return $w(e,t,r)}class GN{}class jw{}class HN{resolveComponentFactory(t){throw function UN(e){const t=Error(`No component factory found for ${Dr(e)}.`);return t.ngComponent=e,t}(t)}}let cm=(()=>{class t{}return t.NULL=new HN,t})();function zN(){return $u(Nr(),Ue())}function $u(e,t){return new tt(xi(e,t))}let tt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=zN,t})();function WN(e){return e instanceof tt?e.nativeElement:e}class Uw{}let Cl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function ZN(){const e=Ue(),r=bs(Nr().index,e);return(yo(r)?r:e)[Wt]}(),t})(),qN=(()=>{var e;class t{}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:()=>null}),t})();class If{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const YN=new If("17.0.7"),$v={};function Hw(e){const t=R(null);try{return e()}finally{R(t)}}function um(e){return!!function Bv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class zw{constructor(){}supports(t){return um(t)}create(t){return new eF(t)}}const JN=(e,t)=>t;class eF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<Zw(n,o,i)?r:n,a=Zw(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let g=0;g<c;g++){const b=g<i.length?i[g]:i[g]=0,j=b+g;f<=j&&j<c&&(i[g]=b+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!um(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function QN(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new tF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ww),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ww),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class Ww{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new nF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zw(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function Yw(){return new dm([new zw])}let dm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||Yw()),deps:[[t,new Nh,new Oh]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:Yw}),t})();function Tf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Zr(i)),lo(i)&&Xw(i,n);const s=r.type;if(8&s)Tf(e,t,r.child,n);else if(32&s){const a=gv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=bw(t,r);if(Array.isArray(a))n.push(...a);else{const l=vf(t[Gn]);Tf(l[gt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function Xw(e,t){for(let r=$n;r<e.length;r++){const n=e[r],o=n[gt].firstChild;null!==o&&Tf(n[gt],n,o,t)}e[jr]!==e[so]&&t.push(e[jr])}let Qw=[];const cF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Sh(e.lView)},consumerOnSignalRead(){this.lView[en]=this}};function Vv(e){return e.ngOriginalError}class Sl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Vv(t);for(;r&&Vv(r);)r=Vv(r);return r||null}}const eD=new ft("",{providedIn:"root",factory:()=>rt(Sl).handleError.bind(void 0)}),nD=new ft("",{providedIn:"root",factory:()=>!1}),yn={};function Re(e){sD(Jn(),Ue(),vi()+e,!1)}function sD(e,t,r,n){if(!n)if(3==(3&t[it])){const i=e.preOrderCheckHooks;null!==i&&Ih(t,i,r)}else{const i=e.preOrderHooks;null!==i&&xh(t,i,0,r)}Tc(r)}function _(e,t=Qe.Default){const r=Ue();return null===r?ce(e,t):yS(Nr(),r,Yt(e),t)}function pm(e,t,r,n,o,i,s,a,l,c,f){const h=t.blueprint.slice();return h[so]=o,h[it]=140|n,(null!==c||e&&2048&e[it])&&(h[it]|=2048),q0(h),h[Dn]=h[Zt]=e,h[tn]=r,h[Mo]=s||e&&e[Mo],h[Wt]=a||e&&e[Wt],h[ur]=l||e&&e[ur]||null,h[Te]=i,h[y]=function PO(){return RO++}(),h[nr]=f,h[z]=c,h[Gn]=2==t.type?e[Gn]:h,h}function Bu(e,t,r,n,o){let i=e.data[t];if(null===i)i=function jv(e,t,r,n,o){const i=eS(),s=R_(),l=e.data[t]=function SF(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return vu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function fP(){return dn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function af(){const e=dn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ja(i,!0),i}function Mf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function lD(e,t,r,n,o){const i=vi(),s=2&n;try{Tc(-1),s&&t.length>dt&&sD(e,t,dt,!1),Ba(s?2:0,o),r(n,o)}finally{Tc(i),Ba(s?3:1,o)}}function Gv(e,t,r){if(mu(t)){const n=R(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{R(n)}}}function Uv(e,t,r){J0()&&(function MF(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;ha(r)&&function FF(e,t,r){const n=xi(t,e),o=cD(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=hm(e,pm(e,o,null,s,n,t,null,e[Mo].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Mh(r,t),yi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=Mc(t,e,a,r);yi(c,t),null!==s&&LF(0,a-o,c,l,0,s),Xt(l)&&(bs(r.index,t)[tn]=Mc(t,e,a,r))}}(e,t,r,xi(r,t)),64==(64&r.flags)&&hD(e,t,r))}function Hv(e,t,r=xi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function cD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zv(e,t,r,n,o,i,s,a,l,c,f){const h=dt+n,g=h+o,b=function gF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:yn);return r}(h,g),j="function"==typeof c?c():c;return b[gt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:j,incompleteFirstPass:!1,ssrId:f}}let uD=e=>null;function dD(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?fD(r,t,o,i):n.hasOwnProperty(o)&&fD(r,t,n[o],i)}return r}function fD(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Es(e,t,r,n,o,i,s,a){const l=xi(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(Kv(e,r,f,n,o),ha(t)&&function EF(e,t){const r=bs(t,e);16&r[it]||(r[it]|=64)}(r,t.index)):3&t.type&&(n=function DF(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function Wv(e,t,r,n){if(J0()){const o=null===n?null:{"":-1},i=function kF(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(ef(t,s.selectors,!1))if(n||(n=[]),Xt(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Zv(e,t,a.length)}else n.unshift(s),Zv(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&pD(e,t,r,s,o,a),o&&function RF(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=zl(r.mergedAttrs,r.attrs)}function pD(e,t,r,n,o,i){for(let c=0;c<n.length;c++)H_(Mh(r,t),e,n[c].type);!function OF(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Mf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=zl(r.mergedAttrs,f.hostAttrs),NF(e,r,t,l,f),PF(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function wF(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],g=r?r.get(h):null,j=g?g.outputs:null;l=dD(h.inputs,f,l,g?g.inputs:null),c=dD(h.outputs,f,c,j);const se=null===l||null===s||Jd(t)?null:$F(l,f,s);a.push(se)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function hD(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function hP(){return dn.lFrame.currentDirectiveIndex}();try{Tc(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];O_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AF(l,c)}}finally{Tc(-1),O_(s)}}function AF(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zv(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function PF(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Xt(t)&&(r[""]=e)}}function NF(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=xc(o.type)),s=new lf(i,Xt(o),_);e.blueprint[n]=s,r[n]=s,function xF(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function TF(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Mf(e,r,o.hostVars,yn),o)}function za(e,t,r,n,o,i){const s=xi(e,t);!function qv(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Lt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[Wt],s,i,e.value,r,n,o)}function LF(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)mD(n,r,s[a++],s[a++],s[a++])}function mD(e,t,r,n,o){const i=R(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{R(i)}}function $F(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function gD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function _D(e,t){const r=e.contentQueries;if(null!==r){const n=R(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];F_(r[o]),a.contentQueries(2,t[s],s)}}}finally{R(n)}}}function hm(e,t){return e[ao]?e[eo][kn]=t:e[ao]=t,e[eo]=t,t}function Yv(e,t,r){F_(0);const n=R(null);try{t(e,r)}finally{R(n)}}function vD(e){return e[Rn]||(e[Rn]=[])}function yD(e){return e.cleanup||(e.cleanup=[])}function mm(e,t){const r=e[ur],n=r?r.get(Sl,null):null;n&&n.handleError(t)}function Kv(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];mD(e.data[s],t[s],n,a,o)}}function wl(e,t,r){const n=rf(t,e);!function dw(e,t,r){e.setValue(t,r)}(e[Wt],n,r)}function jF(e,t,r,n){const o=t[it];if(256==(256&o))return;t[Mo].inlineEffectRunner?.flush(),L_(t);let s=null,a=null;(function GF(e){return 2!==e.type})(e)&&(a=function sF(e){return e[en]??function aF(e){const t=Qw.pop()??Object.create(cF);return t.lView=e,t}(e)}(t),s=function oe(e){return e&&(e.nextProducerIndex=0),R(e)}(a));try{q0(t),function nS(e){return dn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&lD(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&Ih(t,h,null)}else{const h=e.preOrderHooks;null!==h&&xh(t,h,0,null),B_(t,0)}if(function UF(e){for(let t=lw(e);null!==t;t=cw(t)){if(!(t[it]&Gs.HasTransplantedViews))continue;const r=t[ys];for(let n=0;n<r.length;n++){nP(r[n])}}}(t),CD(t,0),null!==e.contentQueries&&_D(e,t),l){const h=e.contentCheckHooks;null!==h&&Ih(t,h)}else{const h=e.contentHooks;null!==h&&xh(t,h,1),B_(t,1)}!function mF(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)Tc(~o);else{const i=o,s=r[++n],a=r[++n];pP(s,i),a(2,t[i])}}}finally{Tc(-1)}}(e,t);const c=e.components;null!==c&&wD(t,c,0);const f=e.viewQuery;if(null!==f&&Yv(2,f,n),l){const h=e.viewCheckHooks;null!==h&&Ih(t,h)}else{const h=e.viewHooks;null!==h&&xh(t,h,2),B_(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[It]){for(const h of t[It])h();t[It]=null}t[it]&=-73}catch(l){throw Sh(t),l}finally{null!==a&&(function G(e,t){if(R(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(we(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ie(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function lF(e){e.lView[en]!==e&&(e.lView=null,Qw.push(e))}(a)),$_()}}function CD(e,t){for(let r=lw(e);null!==r;r=cw(r)){r[it]&=~Gs.HasChildViewsToRefresh;for(let n=$n;n<r.length;n++)SD(r[n],t)}}function HF(e,t,r){SD(bs(t,e),r)}function SD(e,t){A_(e)&&Qv(e,t)}function Qv(e,t){const n=e[gt],o=e[it],i=e[en];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!M(i)),i&&(i.dirty=!1),e[it]&=-9217,s)jF(n,e,n.template,e[tn]);else if(8192&o){CD(e,1);const a=n.components;null!==a&&wD(e,a,1)}}function wD(e,t,r){for(let n=0;n<t.length;n++)HF(e,t[n],r)}function Af(e){for(;e;){e[it]|=64;const t=vf(e);if(mi(e)&&!t)return e;e=t}return null}class kf{get rootNodes(){const t=this._lView,r=t[gt];return Tf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(t){this._lView[tn]=t}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Dn];if(lo(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(yf(t,n),Rh(r,n))}this._attachedToViewContainer=!1}Kh(this._lView[gt],this._lView)}onDestroy(t){wh(this._lView,t)}markForCheck(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){X0(this._lView),this._lView[it]|=128}detectChanges(){this._lView[it]|=1024,function Xv(e,t=!0){const r=e[Mo],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function VF(e){Qv(e,0);let t=0;for(;K0(e);){if(100===t)throw new Xe(103,!1);t++,Qv(e,1)}}(e)}catch(s){throw t&&mm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZO(e,t){Cf(e,t,t[Wt],2,null,null)}(this._lView[gt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let pt=(()=>{class t{}return t.__NG_ELEMENT_ID__=zF,t})();function zF(e){return function WF(e,t,r){if(ha(e)&&!r){const n=bs(e.index,t);return new kf(n,n)}return 47&e.type?new kf(t[Gn],t):null}(Nr(),Ue(),16==(16&e))}let gm=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=KF,e.__NG_ENV_ID__=r=>r,t})();class YF extends gm{constructor(t){super(),this._lView=t}onDestroy(t){return wh(this._lView,t),()=>function k_(e,t){if(null===e[Me])return;const r=e[Me].indexOf(t);-1!==r&&e[Me].splice(r,1)}(this._lView,t)}}function KF(){return new YF(Ue())}const DD=new Set;function Pc(e){DD.has(e)||(DD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Jv(e){return t=>{setTimeout(e,void 0,t)}}const an=class r2 extends xn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=Jv(i),o&&(o=Jv(o)),s&&(s=Jv(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof vt&&t.add(a),a}};function ED(...e){}class je{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function o2(){const e="function"==typeof Yn.requestAnimationFrame;let t=Yn[e?"requestAnimationFrame":"setTimeout"],r=Yn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function a2(e){const t=()=>{!function s2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Yn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ty(e),e.isCheckStableRunning=!0,ey(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ty(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function c2(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return ID(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),xD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return ID(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),xD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ty(e),ey(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,i2,ED,ED);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const i2={};function ey(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ty(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function ID(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xD(e){e._nesting--,ey(e)}class l2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const TD=new ft("",{providedIn:"root",factory:MD});function MD(){const e=rt(je);let t=!0;return ia(new On(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new On(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{je.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(sa()))}var Oc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Oc||{});const AD={destroy(){}};function RD(e,t){!t&&function iv(e){if(!on()&&!function oh(){return _l}())throw new Xe(-203,!1)}();const r=t?.injector??rt(Yr);if(!function Ql(e){return"browser"===(e??rt(Yr)).get(Xl)}(r))return AD;Pc("NgAfterNextRender");const n=r.get(_m),o=n.handler??=new OD,i=t?.phase??Oc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(gm).onDestroy(s),l=new PD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class PD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(je),this.errorHandler=t.get(Sl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class OD{constructor(){this.executingCallbacks=!1,this.buckets={[Oc.EarlyRead]:new Set,[Oc.Write]:new Set,[Oc.MixedReadWrite]:new Set,[Oc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let _m=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:()=>new e}),t})();function f2(e,t){const r=bs(t,e),n=r[gt];!function p2(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[so];null!==o&&null===r[nr]&&(r[nr]=Nv(o,r[ur])),ny(n,r,r[tn])}function ny(e,t,r){L_(t);try{const n=e.viewQuery;null!==n&&Yv(1,n,r);const o=e.template;null!==o&&lD(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_D(e,t),e.staticViewQueries&&Yv(2,e.viewQuery,r);const i=e.components;null!==i&&function h2(e,t){for(let r=0;r<t.length;r++)f2(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[it]&=-5,$_()}}function vm(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ls(o,a):2==i&&(n=Ls(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class ND extends cm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=_n(t);return new Rf(r,this.ngModule)}}function FD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class g2{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Ec(n);const o=this.injector.get(t,$v,n);return o!==$v||r===$v?o:this.parentInjector.get(t,r,n)}}class Rf extends jw{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=FD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return FD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function vh(e){return e.map(_h).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ri?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new g2(t,i):t,a=s.get(Uw,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(qN,null),inlineEffectRunner:null,afterRenderEventManager:s.get(_m,null)},h=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=n?function _F(e,t,r,n){const i=n.get(nD,!1)||r===es.ShadowDom,s=e.selectRootElement(t,i);return function vF(e){uD(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Yh(h,g,function m2(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),me=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let De=null;null!==b&&(De=Nv(b,s,!0));const Se=zv(0,null,null,1,0,null,null,null,null,null,null),Et=pm(null,Se,null,me,null,null,f,h,s,null,De);let Mt,lt;L_(Et);try{const In=this.componentDef;let Mr,cs=null;In.findHostDirectiveDefs?(Mr=[],cs=new Map,In.findHostDirectiveDefs(In,Mr,cs),Mr.push(In)):Mr=[In];const ks=function v2(e,t){const r=e[gt],n=dt;return e[n]=t,Bu(r,n,2,"#host",null)}(Et,b),WR=function y2(e,t,r,n,o,i,s){const a=o[gt];!function b2(e,t,r,n){for(const o of e)t.mergedAttrs=zl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(vm(t,t.mergedAttrs,!0),null!==r&&Dw(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=Nv(t,o[ur]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=pm(o,cD(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Zv(a,e,n.length-1),hm(o,h),o[e.index]=h}(ks,b,In,Mr,Et,f,h);lt=sf(Se,dt),b&&function S2(e,t,r,n){if(n)pu(e,r,["ng-version",YN.full]);else{const{attrs:o,classes:i}=function yh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!ts(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&pu(e,r,o),i&&i.length>0&&ww(e,r,i.join(" "))}}(h,In,b,n),void 0!==r&&function w2(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(lt,this.ngContentSelectors,r),Mt=function C2(e,t,r,n,o,i){const s=Nr(),a=o[gt],l=xi(s,o);pD(a,o,s,r,null,n);for(let f=0;f<r.length;f++)yi(Mc(o,a,s.directiveStart+f,s),o);hD(a,o,s),l&&yi(l,o);const c=Mc(o,a,s.directiveStart+s.componentOffset,s);if(e[tn]=o[tn]=c,null!==i)for(const f of i)f(c,t);return Gv(a,s,e),c}(WR,In,Mr,cs,Et,[D2]),ny(Se,Et,null)}finally{$_()}return new _2(this.componentType,Mt,$u(lt,Et),Et,lt)}}class _2 extends GN{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new kf(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Kv(i[gt],i,o,t,r),this.previousInputValues.set(t,r),Af(bs(this._tNode.index,i))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function D2(){const e=Nr();Eh(Ue()[gt],e)}function bn(e){let t=function LD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Xt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=ym(e.inputs),s.inputTransforms=ym(e.inputTransforms),s.declaredInputs=ym(e.declaredInputs),s.outputs=ym(e.outputs);const a=o.hostBindings;a&&T2(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&I2(e,l),c&&x2(e,c),hs(e.inputs,o.inputs),hs(e.declaredInputs,o.declaredInputs),hs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),hs(s.inputTransforms,o.inputTransforms)),Xt(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===bn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function E2(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=zl(o.hostAttrs,r=zl(r,o.hostAttrs))}}(n)}function ym(e){return e===vs?{}:e===Qn?[]:e}function I2(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function x2(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function T2(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function $o(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Nc(e,t,r,n){const o=$o(e,t,r);return $o(e,t+1,n)||o}function Hs(e,t,r,n){const o=Ue();return $o(o,Ga(),t)&&(Jn(),za(to(),o,e,t,r,n)),Hs}function ju(e,t,r,n){return $o(e,Ga(),r)?t+Lt(r)+n:yn}function Uu(e,t,r,n,o,i,s,a){const c=function bm(e,t,r,n,o){const i=Nc(e,t,r,n);return $o(e,t+2,o)||i}(e,vl(),r,o,s);return yl(3),c?t+Lt(r)+n+Lt(o)+i+Lt(s)+a:yn}function Cm(e,t){return e<<17|t<<2}function tc(e){return e>>17&32767}function ry(e){return 2|e}function Fc(e){return(131068&e)>>2}function oy(e,t){return-131069&e|t<<2}function iy(e){return 1|e}function XD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?tc(i):Fc(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];B2(e[a],t)&&(l=!0,e[a+1]=n?iy(f):ry(f)),a=n?tc(f):Fc(f)}l&&(e[r+1]=n?ry(i):iy(i))}function B2(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Tu(e,t)>=0}function Fe(e,t,r){const n=Ue();return $o(n,Ga(),t)&&Es(Jn(),to(),n,e,t,n[Wt],r,!1),Fe}function sy(e,t,r,n,o){const s=o?"class":"style";Kv(e,r,t.inputs[s],s,n)}function Ku(e,t,r){return ma(e,t,r,!1),Ku}function Za(e,t){return ma(e,t,null,!0),Za}function ma(e,t,r,n){const o=Ue(),i=Jn(),s=yl(2);i.firstUpdatePass&&function iE(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[vi()],s=function oE(e,t){return t>=e.expandoStartIndex}(e,r);(function cE(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function q2(e,t,r,n){const o=function N_(e){const t=dn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=Of(r=ay(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=ay(o,e,t,r,n),null===i){let l=function Y2(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==Fc(n))return e[tc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=ay(null,e,t,l[1],n),l=Of(l,t.attrs,n),function K2(e,t,r,n){e[tc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function X2(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=Of(n,e[i].hostAttrs,r);return Of(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function L2(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=tc(s),l=Fc(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||Tu(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const g=tc(e[a+1]);e[n+1]=Cm(g,a),0!==g&&(e[g+1]=oy(e[g+1],n)),e[a+1]=function N2(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Cm(a,0),0!==a&&(e[a+1]=oy(e[a+1],n)),a=n;else e[n+1]=Cm(l,0),0===a?a=n:e[l+1]=oy(e[l+1],n),l=n;c&&(e[n+1]=ry(e[n+1])),XD(e,f,n,!0),XD(e,f,n,!1),function $2(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Tu(i,t)>=0&&(r[n+1]=iy(r[n+1]))}(t,f,e,n,i),s=Cm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==yn&&$o(o,s,t)&&function aE(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function F2(e){return 1==(1&e)}(c)?lE(l,t,r,o,Fc(c),s):void 0;Sm(f)||(Sm(i)||function O2(e){return 2==(2&e)}(c)&&(i=lE(l,null,r,o,a,s)),function rN(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:ec.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ec.Important),e.setStyle(r,n,o,i))}}(n,s,rf(vi(),r),o,i))}(i,i.data[vi()],o,o[Wt],e,o[s+1]=function tL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Dr(ws(e)))),e}(t,r),n,s)}function ay(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=Of(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function Of(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cs(e,s,!!r||t[++i]))}return void 0===e?null:e}function lE(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,h=null===f;let g=r[o+1];g===yn&&(g=h?Qn:void 0);let b=h?q_(g,n):f===n?g:void 0;if(c&&!Sm(b)&&(b=q_(l,n)),Sm(b)&&(a=b,s))return a;const j=e[o+1];o=s?tc(j):Fc(j)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=q_(l,n))}return a}function Sm(e){return void 0!==e}function Qu(e,t){return!t||null===t.firstChild||Wh(e)}function Vf(e,t,r,n=!0){const o=t[gt];if(function YO(e,t,r,n){const o=$n+n,i=r.length;n>0&&(r[o-1][kn]=t),n<i-$n?(t[kn]=r[o],ES(r,$n+n,t)):(r.push(t),t[kn]=null),t[Dn]=r;const s=t[Or];null!==s&&r!==s&&function KO(e,t){const r=e[ys];t[Gn]!==t[Dn][Dn][Gn]&&(e[it]|=Gs.HasTransplantedViews),null===r?e[ys]=[t]:r.push(t)}(s,t);const a=t[d];null!==a&&a.insertView(e),X0(t),t[it]|=128}(o,t,e,r),n){const s=Cv(r,e),a=t[Wt],l=Xh(a,e[jr]);null!==l&&function WO(e,t,r,n,o,i){n[so]=o,n[Te]=t,Cf(e,n,r,1,o,i)}(o,e[Te],a,t,l,s)}const i=t[nr];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let os=(()=>{class t{}return t.__NG_ELEMENT_ID__=NL,t})();function NL(){return SE(Nr(),Ue())}const FL=os,bE=class extends FL{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ah(this._hostTNode,this._hostLView);if(j_(t)){const r=uf(t,this._hostLView),n=cf(t);return new qo(r[gt].data[n+8],r)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=CE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,Qu(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function df(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const j=r||{};a=j.index,n=j.injector,o=j.projectableNodes,i=j.environmentInjector||j.ngModuleRef}const l=s?t:new Rf(_n(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const se=(s?c:this.parentInjector).get(ri,null);se&&(i=se)}_n(l.componentType??{});const b=l.create(c,o,null,i);return this.insertImpl(b.hostView,a,Qu(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function tP(e){return lo(e[Dn])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Dn],c=new bE(l,l[Te],l[Dn]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Vf(s,o,i,n),t.attachToViewContainerRef(),ES(gy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=CE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=yf(this._lContainer,r);n&&(Rh(gy(this._lContainer),r),Kh(n[gt],n))}detach(t){const r=this._adjustIndex(t,-1),n=yf(this._lContainer,r);return n&&null!=Rh(gy(this._lContainer),r)?new kf(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function CE(e){return e[8]}function gy(e){return e[8]||(e[8]=[])}function SE(e,t){let r;const n=t[e.index];return lo(n)?r=n:(r=gD(n,t,null,e),t[e.index]=r,hm(t,r)),wE(r,t,e,n),new bE(r,e,t)}let wE=function EE(e,t,r,n){if(e[jr])return;let o;o=8&r.type?Zr(n):function LL(e,t){const r=e[Wt],n=r.createComment(""),o=xi(t,e);return kc(r,Xh(r,o),n,function eN(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[jr]=o},_y=(e,t,r)=>!1;function mn(e,t,r,n,o,i,s,a){const l=Ue(),c=Jn(),f=e+dt,h=c.firstCreatePass?function jL(e,t,r,n,o,i,s,a,l){const c=t.consts,f=Bu(t,e,4,s||null,Va(c,a));Wv(t,r,f,Va(c,l)),Eh(t,f);const h=f.tView=zv(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];ja(h,!1);const g=IE(c,l,h,e);Dh()&&Qh(c,l,g,h),yi(g,l);const b=gD(g,l,g,h);return l[f]=b,hm(l,b),function DE(e,t,r){return _y(e,t,r)}(b,h,l),_t(h)&&Uv(c,l,h),null!=s&&Hv(l,h,a),mn}let IE=function xE(e,t,r,n){return Wl(!0),t[Wt].createComment("")};function Y(e,t,r,n){const o=Ue(),i=Jn(),s=dt+e,a=o[Wt],l=i.firstCreatePass?function A3(e,t,r,n,o,i){const s=t.consts,l=Bu(t,e,2,n,Va(s,o));return Wv(t,r,l,Va(s,i)),null!==l.attrs&&vm(l,l.attrs,!1),null!==l.mergedAttrs&&vm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=KE(i,o,l,a,t,e);o[s]=c;const f=_t(l);return ja(l,!0),Dw(a,c,l),32!=(32&l.flags)&&Dh()&&Qh(i,o,c,l),0===function rP(){return dn.lFrame.elementDepthCount}()&&yi(c,o),function oP(){dn.lFrame.elementDepthCount++}(),f&&(Uv(i,o,l),Gv(i,l,o)),null!==n&&Hv(o,l),Y}function W(){let e=Nr();R_()?P_():(e=e.parent,ja(e,!1));const t=e;(function sP(e){return dn.skipHydrationRootTNode===e})(t)&&function uP(){dn.skipHydrationRootTNode=null}(),function iP(){dn.lFrame.elementDepthCount--}();const r=Jn();return r.firstCreatePass&&(Eh(r,e),mu(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function EP(e){return 0!=(8&e.flags)}(t)&&sy(r,t,Ue(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function IP(e){return 0!=(16&e.flags)}(t)&&sy(r,t,Ue(),t.stylesWithoutHost,!1),W}function He(e,t,r,n){return Y(e,t,r,n),W(),He}let KE=(e,t,r,n,o,i)=>(Wl(!0),Yh(n,o,function uS(){return dn.lFrame.currentNamespace}()));function id(e,t,r){const n=Ue(),o=Jn(),i=e+dt,s=o.firstCreatePass?function P3(e,t,r,n,o){const i=t.consts,s=Va(i,n),a=Bu(t,e,8,"ng-container",s);return null!==s&&vm(a,s,!0),Wv(t,r,a,Va(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];ja(s,!0);const a=XE(o,n,s,e);return n[i]=a,Dh()&&Qh(o,n,a,s),yi(a,n),_t(s)&&(Uv(o,n,s),Gv(o,s,n)),null!=r&&Hv(n,s),id}function sd(){let e=Nr();const t=Jn();return R_()?P_():(e=e.parent,ja(e,!1)),t.firstCreatePass&&(Eh(t,e),mu(e)&&t.queries.elementEnd(e)),sd}let XE=(e,t,r,n)=>(Wl(!0),_v(t[Wt],""));function rr(){return Ue()}const ld="en-US";let nI=ld;function Yf(e){return!!e&&"function"==typeof e.then}function xI(e){return!!e&&"function"==typeof e.subscribe}function Ve(e,t,r,n){const o=Ue(),i=Jn(),s=Nr();return function MI(e,t,r,n,o,i,s){const a=_t(n),c=e.firstCreatePass&&yD(e),f=t[tn],h=vD(t);let g=!0;if(3&n.type||s){const se=xi(n,t),me=s?s(se):se,De=h.length,Se=s?Mt=>s(Zr(Mt[n.index])):n.index;let Et=null;if(!s&&a&&(Et=function R$(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[Rn],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=i,Et.__ngLastListenerFn__=i,g=!1;else{i=kI(n,t,f,i,!1);const Mt=r.listen(me,o,i);h.push(i,Mt),c&&c.push(o,Se,De,De+1)}}else i=kI(n,t,f,i,!1);const b=n.outputs;let j;if(g&&null!==b&&(j=b[o])){const se=j.length;if(se)for(let me=0;me<se;me+=2){const lt=t[j[me]][j[me+1]].subscribe(i),In=h.length;h.push(i,lt),c&&c.push(o,n.index,In,-(In+1))}}}(i,o,o[Wt],s,e,t,n),Ve}function AI(e,t,r,n){try{return Ba(6,t,r),!1!==r(n)}catch(o){return mm(e,o),!1}finally{Ba(7,t,r)}}function kI(e,t,r,n,o){return function i(s){if(s===Function)return n;Af(e.componentOffset>-1?bs(e.index,t):t);let l=AI(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=AI(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function wt(e=1){return function gP(e){return(dn.lFrame.contextLView=function Y0(e,t){for(;e>0;)t=t[Zt],e--;return t}(e,dn.lFrame.contextLView))[tn]}(e)}function P$(e,t){let r=null;const n=function ph(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?ef(e,i,!0):gh(n,i))return o}else r=o}return r}function Dt(e){const t=Ue()[Gn][Te];if(!t.projection){const n=t.projection=ff(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?P$(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function St(e,t=0,r){const n=Ue(),o=Jn(),i=Bu(o,dt+e,16,null,r||null);null===i.projection&&(i.projection=t),P_(),(!n[nr]||vu())&&32!=(32&i.flags)&&function tN(e,t,r){Sw(t[Wt],0,t,r,yv(e,r,t),gw(r.parent||t[Te],r,t))}(o,n,i)}function Lm(e,t,r,n,o){const i=Ue(),s=ju(i,t,r,n);return s!==yn&&Es(Jn(),to(),i,e,s,i[Wt],o,!1),Lm}function Is(e){return _u(function dP(){return dn.lFrame.contextLView}(),dt+e)}function xe(e,t=""){const r=Ue(),n=Jn(),o=e+dt,i=n.firstCreatePass?Bu(n,o,1,t,null):n.data[o],s=KI(n,r,i,t,e);r[o]=s,Dh()&&Qh(n,r,s,i),ja(i,!1)}let KI=(e,t,r,n,o)=>(Wl(!0),function qh(e,t){return e.createText(t)}(t[Wt],n));function ss(e){return bi("",e,""),ss}function bi(e,t,r){const n=Ue(),o=ju(n,e,t,r);return o!==yn&&wl(n,vi(),o),bi}function Kf(e,t,r,n,o){const i=Ue(),s=function Gu(e,t,r,n,o,i){const a=Nc(e,vl(),r,o);return yl(2),a?t+Lt(r)+n+Lt(o)+i:yn}(i,e,t,r,n,o);return s!==yn&&wl(i,vi(),s),Kf}function Ay(e,t,r,n,o,i,s){const a=Ue(),l=Uu(a,e,t,r,n,o,i,s);return l!==yn&&wl(a,vi(),l),Ay}function ky(e,t,r,n,o){if(e=Yt(e),Array.isArray(e))for(let i=0;i<e.length;i++)ky(e[i],t,r,n,o);else{const i=Jn(),s=Ue(),a=Nr();let l=Ac(e)?e:Yt(e.provide);const c=FS(e),f=1048575&a.providerIndexes,h=a.directiveStart,g=a.providerIndexes>>20;if(Ac(e)||!e.multi){const b=new lf(c,o,_),j=Py(l,t,o?f:f+g,h);-1===j?(H_(Mh(a,s),i,l),Ry(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[j]=b,s[j]=b)}else{const b=Py(l,t,f+g,h),j=Py(l,t,f,f+g),me=j>=0&&r[j];if(o&&!me||!o&&!(b>=0&&r[b])){H_(Mh(a,s),i,l);const De=function Y$(e,t,r,n,o){const i=new lf(e,r,_);return i.multi=[],i.index=t,i.componentProviders=0,r1(i,o,n&&!r),i}(o?q$:Z$,r.length,o,n,c);!o&&me&&(r[j].providerFactory=De),Ry(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(De),s.push(De)}else Ry(i,e,b>-1?b:j,r1(r[o?j:b],c,!o&&n));!o&&n&&me&&r[j].componentProviders++}}}function Ry(e,t,r,n){const o=Ac(t),i=function oO(e){return!!e.useClass}(t);if(o||i){const l=(i?Yt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function r1(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Py(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function Z$(e,t,r,n){return Oy(this.multi,[])}function q$(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Mc(r,r[gt],this.providerFactory.index,n);i=a.slice(0,s),Oy(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Oy(o,i);return i}function Oy(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function fr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function W$(e,t,r){const n=Jn();if(n.firstCreatePass){const o=Xt(e);ky(r,n.data,n.blueprint,o,!0),ky(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Bc{}class o1{}class Ny extends Bc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ND(this);const o=An(t);this._bootstrapComponents=Ss(o.bootstrap),this._r3Injector=jS(t,r,[{provide:Bc,useValue:this},{provide:cm,useValue:this.componentFactoryResolver},...n],Dr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fy extends o1{constructor(t){super(),this.moduleType=t}create(t){return new Ny(this.moduleType,t,[])}}class i1 extends Bc{constructor(t){super(),this.componentFactoryResolver=new ND(this),this.instance=null;const r=new ku([...t.providers,{provide:Bc,useValue:this},{provide:cm,useValue:this.componentFactoryResolver}],t.parent||Vh(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ly(e,t,r=null){return new i1({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let Q$=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=RS(0,n.type),i=o.length>0?Ly([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Le({token:e,providedIn:"environment",factory:()=>new e(ce(ri))}),t})();function $m(e){Pc("NgStandalone"),e.getStandaloneInjector=t=>t.get(Q$).getOrCreateStandaloneInjector(e)}function p1(e,t,r,n,o,i){const s=t+r;return $o(e,s,o)?function Wa(e,t,r){return e[t]=r}(e,s+1,i?n.call(i,o):n(o)):function Xf(e,t){const r=e[t];return r===yn?void 0:r}(e,s+1)}function Ka(e,t){const r=Jn();let n;const o=e+dt;r.firstCreatePass?(n=function yB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=xc(n.type)),a=Kt(_);try{const l=Th(!1),c=i();return Th(l),function O$(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,Ue(),o,c),c}finally{Kt(a)}}function Xa(e,t,r){const n=e+dt,o=Ue(),i=_u(o,n);return function Qf(e,t){return e[gt].data[t].pure}(o,n)?p1(o,function Ti(){const e=dn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,i.transform,r,i):i.transform(r)}function DB(){return this._results[Symbol.iterator]()}class By{get changes(){return this._changes??=new an}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=By.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=DB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function ns(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function BP(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=xB,t})();const EB=_a,IB=class extends EB{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function Bf(e,t,r,n){const o=t.tView,a=pm(e,o,r,4096&e[it]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[Or]=e[t.index];const c=e[d];return null!==c&&(a[d]=c.createEmbeddedView(o)),ny(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new kf(o)}};function xB(){return jm(Nr(),Ue())}function jm(e,t){return 4&e.type?new IB(t,e,$u(e,t)):null}class Vy{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class jy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new jy(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==S1(t,r).matches&&this.queries[r].setDirty()}}class v1{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class Gy{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new Gy(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Uy{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Uy(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,TB(r,i)),this.matchTNodeWithReadOption(t,r,kh(r,t,i,!1,!1))}else n===_a?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,kh(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===tt||o===os||o===_a&&4&r.type)this.addMatch(r.index,-2);else{const i=kh(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function TB(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function AB(e,t,r,n){return-1===r?function MB(e,t){return 11&e.type?$u(e,t):4&e.type?jm(e,t):null}(t,e):-2===r?function kB(e,t,r){return r===tt?$u(t,e):r===_a?jm(t,e):r===os?SE(t,e):void 0}(e,t,n):Mc(e,e[gt],r,t)}function y1(e,t,r,n){const o=t[d].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:AB(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Hy(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=y1(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let h=$n;h<f.length;h++){const g=f[h];g[Or]===g[Dn]&&Hy(g[gt],g,c,n)}if(null!==f[ys]){const h=f[ys];for(let g=0;g<h.length;g++){const b=h[g];Hy(b[gt],b,c,n)}}}}}return n}function Ws(e){const t=Ue(),r=Jn(),n=oS();F_(n+1);const o=S1(r,n);if(e.dirty&&function eP(e){return 4==(4&e[it])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Hy(r,t,n,[]):y1(r,t,o,n);e.reset(i,WN),e.notifyOnChanges()}return!0}return!1}function Vc(e,t,r){const n=Jn();n.firstCreatePass&&(C1(n,new v1(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),b1(n,Ue(),t)}function cd(e,t,r,n){const o=Jn();if(o.firstCreatePass){const i=Nr();C1(o,new v1(t,r,n),i.index),function PB(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}b1(o,Ue(),r)}function Zs(){return function RB(e,t){return e[d].queries[t].queryList}(Ue(),oS())}function b1(e,t,r){const n=new By(4==(4&r));(function CF(e,t,r,n){const o=vD(t);o.push(r),e.firstCreatePass&&yD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[d]&&(t[d]=new jy),t[d].queries.push(new Vy(n))}function C1(e,t,r){null===e.queries&&(e.queries=new Gy),e.queries.track(new Uy(t,r))}function S1(e,t){return e.queries.getByIndex(t)}let $1=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Um=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new po(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class nV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let B1=(()=>{var e;class t{compileModuleSync(n){return new Fy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Ss(An(n).declarations).reduce((a,l)=>{const c=_n(l);return c&&a.push(new Rf(c)),a},[]);return new nV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const H1=new ft(""),zm=new ft("");let Qy,Ky=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qy||(function xV(e){Qy=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(je),ce(Xy),ce(zm))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})(),Xy=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Qy?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const tp=new ft("Application Initializer");let Jy=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=rt(tp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Yf(s))n.push(s);else if(xI(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const eb=new ft("appBootstrapListener");function Z1(e,t){return Array.isArray(t)?t.reduce(Z1,e):{...e,...t}}let Dl=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rt(eD),this.zoneIsStable=rt(TD),this.componentTypes=[],this.components=[],this.isStable=rt(Um).hasPendingTasks.pipe(Jr(n=>n?Ht(!1):this.zoneIsStable),Fs()),this._injector=rt(ri)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof jw;if(!this._injector.get(Jy).done)throw!i&&function fa(e){const t=_n(e)||To(e)||Lo(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get(cm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function MV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Bc),f=a.create(Yr.NULL,[],o||a.selector,l),h=f.location.nativeElement,g=f.injector.get(H1,null);return g?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Wm(this.components,f),g?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Wm(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(eb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Wm(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let kV=(()=>{var e;class t{constructor(){this.zone=rt(je),this.applicationRef=rt(Dl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RV(){const e=rt(je),t=rt(Sl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const El=new ft("LocaleId",{providedIn:"root",factory:()=>rt(El,Qe.Optional|Qe.SkipSelf)||function OV(){return typeof $localize<"u"&&$localize.locale||ld}()}),tb=new ft("PlatformDestroyListeners");let X1=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function u2(e="zone.js",t){return"noop"===e?new l2:"zone.js"===e?new je(t):e}(o?.ngZone,function K1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function X$(e,t,r){return new Ny(e,t,r)}(n.moduleType,this.injector,function Y1(e){return[{provide:je,useFactory:e},{provide:Au,multi:!0,useFactory:()=>{const t=rt(kV,{optional:!0});return()=>t.initialize()}},{provide:eD,useFactory:RV},{provide:TD,useFactory:MD}]}(()=>i)),a=s.injector.get(Sl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Wm(this._modules,s),l.unsubscribe()})}),function W1(e,t,r){try{const n=r();return Yf(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(Jy);return l.runInitializers(),l.donePromise.then(()=>(function rI(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(nI=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(El,ld)||ld),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=Z1({},o);return function TV(e,t,r){const n=new Fy(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Dl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(tb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Yr))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),rc=null;const Q1=new ft("AllowMultipleToken");function J1(e,t,r=[]){const n=`Platform: ${t}`,o=new ft(n);return(i=[])=>{let s=nb();if(!s||s.injector.get(Q1,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function LV(e){if(rc&&!rc.get(Q1,!1))throw new Xe(400,!1);(function z1(){!function Gt(e){$e=e}(()=>{throw new Xe(600,!1)})})(),rc=e;const t=e.get(X1);(function tx(e){e.get(US,null)?.forEach(r=>r())})(e)}(function ex(e=[],t){return Yr.create({name:t,providers:[{provide:tv,useValue:"platform"},{provide:tb,useValue:new Set([()=>rc=null])},...e]})}(a,n))}return function $V(e){const t=nb();if(!t)throw new Xe(401,!1);return t}()}}function nb(){return rc?.get(X1)??null}const HV=J1(null,"core",[]);let zV=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Dl))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();function Dx(e){const t=_n(e);if(!t)return null;const r=new Rf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let db=null;function oc(){return db}class y4{}const oi=new ft("DocumentToken");let fb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(C4),providedIn:"platform"}),t})();const b4=new ft("Location Initialized");let C4=(()=>{var e;class t extends fb{constructor(){super(),this._doc=rt(oi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oc().getBaseHref(this._doc)}onPopState(n){const o=oc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=oc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>new e,providedIn:"platform"}),t})();function pb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function Ex(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Il(e){return e&&"?"!==e[0]?"?"+e:e}let Qa=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(xx),providedIn:"root"}),t})();const Ix=new ft("appBaseHref");let xx=(()=>{var e;class t extends Qa{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??rt(oi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(fb),ce(Ix,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Tx=(()=>{var e;class t extends Qa{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=pb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(fb),ce(Ix,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})(),ic=(()=>{var e;class t{constructor(n){this._subject=new an,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function D4(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(Ex(Mx(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Il(o))}normalize(n){return t.stripTrailingSlash(function w4(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,Mx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Il,e.joinWithSlash=pb,e.stripTrailingSlash=Ex,e.\u0275fac=function(n){return new(n||e)(ce(Qa))},e.\u0275prov=Le({token:e,factory:()=>function S4(){return new ic(ce(Qa))}(),providedIn:"root"}),t})();function Mx(e){return e.replace(/\/index.html$/,"")}function $x(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class uj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new uj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),jx(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{jx(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(_a),_(dm))},e.\u0275dir=Nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function jx(e,t){e.context.$implicit=t.item}let ii=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new dj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Gx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Gx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(_a))},e.\u0275dir=Nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class dj{constructor(){this.$implicit=null,this.ngIf=null}}function Gx(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Dr(t)}'.`)}class Db{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Nt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Ux=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new Db(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(_a),_(dg,9))},e.\u0275dir=Nt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Hx=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new Db(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(_a),_(dg,9))},e.\u0275dir=Nt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class mj{createSubscription(t,r){return Hw(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){Hw(()=>t.unsubscribe())}}class gj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const _j=new gj,vj=new mj;let Wx=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Yf(n))return _j;if(xI(n))return vj;throw function ya(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(pt,16))},e.\u0275pipe=Zo({name:"async",type:e,pure:!1,standalone:!0}),t})(),Ja=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();const qx="browser";function md(e){return e===qx}function Yx(e){return"server"===e}let Bj=(()=>{var e;class t{}return(e=t).\u0275prov=Le({token:e,providedIn:"root",factory:()=>new Vj(ce(oi),window)}),t})();class Vj{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function jj(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Kx{}class uG extends y4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ab extends uG{static makeCurrent(){!function v4(e){db||(db=e)}(new Ab)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function dG(){return ap=ap||document.querySelector("base"),ap?ap.getAttribute("href"):null}();return null==r?null:function fG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){ap=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $x(document.cookie,t)}}let ap=null,hG=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const kb=new ft("EventManagerPlugins");let eT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(kb),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();class tT{constructor(t){this._doc=t}}const Rb="ng-app-id";let nT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yx(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Rb}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(Rb),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Rb,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(oi),ce(Gh),ce(HS,8),ce(Xl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const Pb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ob=/%COMP%/g,vG=new ft("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function oT(e,t){return t.map(r=>r.replace(Ob,e))}let iT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Yx(l),this.defaultRenderer=new Nb(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===es.ShadowDom&&(o={...o,encapsulation:es.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof aT?i.applyToHost(n):i instanceof Fb&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(o.encapsulation){case es.Emulated:s=new aT(c,f,o,this.appId,h,a,l,g);break;case es.ShadowDom:return new SG(c,f,n,o,a,l,this.nonce,g);default:s=new Fb(c,f,o,h,a,l,g)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(eT),ce(nT),ce(Gh),ce(vG),ce(oi),ce(Xl),ce(je),ce(HS))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();class Nb{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Pb[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(sT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(sT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=Pb[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=Pb[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(ec.DashCase|ec.Important)?t.style.setProperty(r,n,o&ec.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&ec.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=oc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function sT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class SG extends Nb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=oT(o.id,o.styles);for(const f of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fb extends Nb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?oT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class aT extends Fb{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function yG(e){return"_ngcontent-%COMP%".replace(Ob,e)}(c),this.hostAttr=function bG(e){return"_nghost-%COMP%".replace(Ob,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let wG=(()=>{var e;class t extends tT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(oi))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const lT=["alt","control","meta","shift"],DG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let IG=(()=>{var e;class t extends tT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),lT.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=DG[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lT.forEach(a=>{a!==i&&(0,EG[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(oi))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const AG=J1(HV,"browser",[{provide:Xl,useValue:qx},{provide:US,useValue:function xG(){Ab.makeCurrent()},multi:!0},{provide:oi,useFactory:function MG(){return function vO(e){av=e}(document),document},deps:[]}]),kG=new ft(""),dT=[{provide:zm,useClass:class pG{addToWindow(t){Yn.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},Yn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Yn.getAllAngularRootElements=()=>t.getAllRootElements(),Yn.frameworkStabilizers||(Yn.frameworkStabilizers=[]),Yn.frameworkStabilizers.push(n=>{const o=Yn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?oc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:H1,useClass:Ky,deps:[je,Xy,zm]},{provide:Ky,useClass:Ky,deps:[je,Xy,zm]}],fT=[{provide:tv,useValue:"root"},{provide:Sl,useFactory:function TG(){return new Sl},deps:[]},{provide:kb,useClass:wG,multi:!0,deps:[oi,je,Xl]},{provide:kb,useClass:IG,multi:!0,deps:[oi]},iT,nT,eT,{provide:Uw,useExisting:iT},{provide:Kx,useClass:hG,deps:[]},[]];let RG=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Gh,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(kG,12))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[...fT,...dT],imports:[Ja,zV]}),t})(),pT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(oi))},e.\u0275prov=Le({token:e,factory:function(n){let o=null;return o=n?new n:function OG(){return new pT(ce(oi))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let $b=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:function(n){let o=null;return o=n?new(n||e):ce(gT),o},providedIn:"root"}),t})(),gT=(()=>{var e;class t extends $b{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ds.NONE:return o;case Ds.HTML:return Ha(o,"HTML")?ws(o):Ow(this._doc,String(o)).toString();case Ds.STYLE:return Ha(o,"Style")?ws(o):o;case Ds.SCRIPT:if(Ha(o,"Script"))return ws(o);throw new Xe(5200,!1);case Ds.URL:return Ha(o,"URL")?ws(o):nm(String(o));case Ds.RESOURCE_URL:if(Ha(o,"ResourceURL"))return ws(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function hN(e){return new lN(e)}(n)}bypassSecurityTrustStyle(n){return function mN(e){return new cN(e)}(n)}bypassSecurityTrustScript(n){return function gN(e){return new uN(e)}(n)}bypassSecurityTrustUrl(n){return function _N(e){return new dN(e)}(n)}bypassSecurityTrustResourceUrl(n){return function vN(e){return new fN(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(oi))},e.\u0275prov=Le({token:e,factory:function(n){let o=null;return o=n?new n:function $G(e){return new gT(e.get(oi))}(ce(Yr)),o},providedIn:"root"}),t})();var Ro=C(5861),BG=C(6299),gd=C.n(BG);let hg,mg;function vT(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function yT(){return void 0!==mg}class bT{constructor(){this.requestEvent=new Ro.j}dispatchRequest(t){if(t){try{t=new(gd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let Bb=(()=>{var e;class t{constructor(){this.installation=new bT,this.import=new bT,hg&&this.installation.dispatchRequest(hg),mg&&this.import.dispatchRequest(mg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Z=C(3918);function _d(e,t){return Ee(t)?Bn(e,t,1):Bn(e,1)}function ba(e,t){return Tn((r,n)=>{let o=0;r.subscribe(Nn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function lp(e){return Tn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class gg{}class _g{}class Ks{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ks?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Ks;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Ks?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class GG{encodeKey(t){return CT(t)}encodeValue(t){return CT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const HG=/%(\d[a-f0-9])/gi,zG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CT(e){return encodeURIComponent(e).replace(HG,(t,r)=>zG[r]??t)}function vg(e){return`${e}`}class ac{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new GG,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function UG(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(vg):[vg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new ac({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(vg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(vg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class WG{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ST(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function wT(e){return typeof Blob<"u"&&e instanceof Blob}function DT(e){return typeof FormData<"u"&&e instanceof FormData}class cp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ZG(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Ks),this.context||(this.context=new WG),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new ac,this.urlWithParams=r}serializeBody(){return null===this.body?null:ST(this.body)||wT(this.body)||DT(this.body)||function qG(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DT(this.body)?null:wT(this.body)?this.body.type||null:ST(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,g)=>h.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,g)=>h.set(g,t.setParams[g]),c)),new cp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var lc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(lc||{});class Vb{constructor(t,r=200,n="OK"){this.headers=t.headers||new Ks,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class yg extends Vb{constructor(t={}){super(t),this.type=lc.ResponseHeader}clone(t={}){return new yg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uc extends Vb{constructor(t={}){super(t),this.type=lc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Uc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vd extends Vb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function jb(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Gb=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof cp)s=n;else{let c,f;c=i.headers instanceof Ks?i.headers:new Ks(i.headers),i.params&&(f=i.params instanceof ac?i.params:new ac({fromObject:i.params})),s=new cp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Ht(s).pipe(_d(c=>this.handler.handle(c)));if(n instanceof cp||"events"===i.observe)return a;const l=a.pipe(ba(c=>c instanceof Uc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(cn(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(cn(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new ac).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,jb(i,o))}post(n,o,i={}){return this.request("POST",n,jb(i,o))}put(n,o,i={}){return this.request("PUT",n,jb(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(gg))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function IT(e,t){return t(e)}function JG(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const tU=new ft(""),up=new ft(""),xT=new ft(""),TT=new ft("");function nU(){let e=null;return(t,r)=>{null===e&&(e=(rt(tU,{optional:!0})??[]).reduceRight(JG,IT));const n=rt(Um),o=n.add();return e(t,r).pipe(lp(()=>n.remove(o)))}}let MT=(()=>{var e;class t extends gg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=rt(Um);const i=rt(TT,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(up),...this.injector.get(xT,[])]));this.chain=i.reduceRight((s,a)=>function eU(e,t,r){return(n,o)=>ql(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),IT)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(lp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(_g),ce(ri))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const aU=/^\)\]\}',?\n/;let kT=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?wr(o.\u0275loadImpl()):Ht(null)).pipe(Jr(()=>new On(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((me,De)=>a.setRequestHeader(me,De.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const me=n.detectContentTypeHeader();null!==me&&a.setRequestHeader("Content-Type",me)}if(n.responseType){const me=n.responseType.toLowerCase();a.responseType="json"!==me?me:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const me=a.statusText||"OK",De=new Ks(a.getAllResponseHeaders()),Se=function lU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new yg({headers:De,status:a.status,statusText:me,url:Se}),c},h=()=>{let{headers:me,status:De,statusText:Se,url:Et}=f(),Mt=null;204!==De&&(Mt=typeof a.response>"u"?a.responseText:a.response),0===De&&(De=Mt?200:0);let lt=De>=200&&De<300;if("json"===n.responseType&&"string"==typeof Mt){const In=Mt;Mt=Mt.replace(aU,"");try{Mt=""!==Mt?JSON.parse(Mt):null}catch(Mr){Mt=In,lt&&(lt=!1,Mt={error:Mr,text:Mt})}}lt?(s.next(new Uc({body:Mt,headers:me,status:De,statusText:Se,url:Et||void 0})),s.complete()):s.error(new vd({error:Mt,headers:me,status:De,statusText:Se,url:Et||void 0}))},g=me=>{const{url:De}=f(),Se=new vd({error:me,status:a.status||0,statusText:a.statusText||"Unknown Error",url:De||void 0});s.error(Se)};let b=!1;const j=me=>{b||(s.next(f()),b=!0);let De={type:lc.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(De.total=me.total),"text"===n.responseType&&a.responseText&&(De.partialText=a.responseText),s.next(De)},se=me=>{let De={type:lc.UploadProgress,loaded:me.loaded};me.lengthComputable&&(De.total=me.total),s.next(De)};return a.addEventListener("load",h),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),n.reportProgress&&(a.addEventListener("progress",j),null!==l&&a.upload&&a.upload.addEventListener("progress",se)),a.send(l),s.next({type:lc.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",h),a.removeEventListener("timeout",g),n.reportProgress&&(a.removeEventListener("progress",j),null!==l&&a.upload&&a.upload.removeEventListener("progress",se)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Kx))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const zb=new ft("XSRF_ENABLED"),RT=new ft("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PT=new ft("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class OT{}let dU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=$x(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(oi),ce(Xl),ce(RT))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function fU(e,t){const r=e.url.toLowerCase();if(!rt(zb)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=rt(OT).getToken(),o=rt(PT);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var cc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(cc||{});function Hc(e,t){return{\u0275kind:e,\u0275providers:t}}function pU(...e){const t=[Gb,kT,MT,{provide:gg,useExisting:MT},{provide:_g,useExisting:kT},{provide:up,useValue:fU,multi:!0},{provide:zb,useValue:!0},{provide:OT,useClass:dU}];for(const r of e)t.push(...r.\u0275providers);return function Q_(e){return{\u0275providers:e}}(t)}const NT=new ft("LEGACY_INTERCEPTOR_FN");let mU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[pU(Hc(cc.LegacyInterceptors,[{provide:NT,useFactory:nU},{provide:up,useExisting:NT,multi:!0}]))]}),t})();const{isArray:SU}=Array,{getPrototypeOf:wU,prototype:DU,keys:EU}=Object;function GT(e){if(1===e.length){const t=e[0];if(SU(t))return{args:t,keys:null};if(function IU(e){return e&&"object"==typeof e&&wU(e)===DU}(t)){const r=EU(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:xU}=Array;function Wb(e){return cn(t=>function TU(e,t){return xU(t)?e(...t):e(t)}(e,t))}function UT(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Cg(...e){const t=Xi(e),r=ta(e),{args:n,keys:o}=GT(e);if(0===n.length)return wr([],t);const i=new On(function MU(e,t,r=tr){return n=>{HT(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)HT(t,()=>{const c=wr(e[l],t);let f=!1;c.subscribe(Nn(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>UT(o,s):tr));return r?i.pipe(Wb(r)):i}function HT(e,t,r){e?Kn(r,e,t):t()}const Sg=be(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Zb(...e){return function AU(){return No(1)}()(wr(e,Xi(e)))}function zT(e){return new On(t=>{A(e()).subscribe(t)})}function wg(e,t){const r=Ee(e)?e:()=>e,n=o=>o.error(r());return new On(t?o=>t.schedule(n,0,o):n)}function qb(){return Tn((e,t)=>{let r=null;e._refCount++;const n=Nn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class WT extends On{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,vr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vt;const r=this.getSubject();t.add(this.source.subscribe(Nn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vt.EMPTY)}return t}refCount(){return qb()(this)}}function yd(e){return e<=0?()=>Io:Tn((t,r)=>{let n=0;t.subscribe(Nn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function ZT(...e){const t=Xi(e);return Tn((r,n)=>{(t?Zb(e,r,t):Zb(e,r)).subscribe(n)})}function Dg(e){return Tn((t,r)=>{let n=!1;t.subscribe(Nn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function qT(e=kU){return Tn((t,r)=>{let n=!1;t.subscribe(Nn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function kU(){return new Sg}function uc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?ba((o,i)=>e(o,i,n)):tr,yd(1),r?Dg(t):qT(()=>new Sg))}function Ci(e,t,r){const n=Ee(e)||t||r?{next:e,error:t,complete:r}:e;return n?Tn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Nn(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):tr}function zc(e){return Tn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Nn(r,void 0,void 0,s=>{i=A(e(s,zc(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function Yb(e){return e<=0?()=>Io:Tn((t,r)=>{let n=[];t.subscribe(Nn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function YT(e){return cn(()=>e)}function KT(e){return Tn((t,r)=>{A(e).subscribe(Nn(r,()=>r.complete(),zn)),!r.closed&&t.subscribe(r)})}const En="primary",dp=Symbol("RouteTitle");class NU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function bd(e){return new NU(e)}function FU(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function el(e,t){const r=e?Kb(e):void 0,n=t?Kb(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!XT(e[o],t[o]))return!1;return!0}function Kb(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function XT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function QT(e){return e.length>0?e[e.length-1]:null}function dc(e){return function CU(e){return!!e&&(e instanceof On||Ee(e.lift)&&Ee(e.subscribe))}(e)?e:Yf(e)?wr(Promise.resolve(e)):Ht(e)}const $U={exact:function tM(e,t,r){if(!Wc(e.segments,t.segments)||!Eg(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!tM(e.children[n],t.children[n],r))return!1;return!0},subset:nM},JT={exact:function BU(e,t){return el(e,t)},subset:function VU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>XT(e[r],t[r]))},ignored:()=>!0};function eM(e,t,r){return $U[r.paths](e.root,t.root,r.matrixParams)&&JT[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function nM(e,t,r){return rM(e,t,t.segments,r)}function rM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Wc(o,r)||t.hasChildren()||!Eg(o,r,n))}if(e.segments.length===r.length){if(!Wc(e.segments,r)||!Eg(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!nM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Wc(e.segments,o)&&Eg(e.segments,o,n)&&e.children[En])&&rM(e.children[En],t,i,n)}}function Eg(e,t,r){return t.every((n,o)=>JT[r](e[o].parameters,n.parameters))}class Cd{constructor(t=new Fr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bd(this.queryParams)),this._queryParamMap}toString(){return UU.serialize(this)}}class Fr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ig(this)}}class fp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=bd(this.parameters)),this._parameterMap}toString(){return sM(this)}}function Wc(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Zc=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>new Xb,providedIn:"root"}),t})();class Xb{parse(t){const r=new eH(t);return new Cd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${pp(t.root,!0)}`,n=function WU(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${xg(r)}=${xg(o)}`).join("&"):`${xg(r)}=${xg(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function HU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const UU=new Xb;function Ig(e){return e.segments.map(t=>sM(t)).join("/")}function pp(e,t){if(!e.hasChildren())return Ig(e);if(t){const r=e.children[En]?pp(e.children[En],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==En&&n.push(`${o}:${pp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function GU(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===En&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==En&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===En?[pp(e.children[En],!1)]:[`${o}:${pp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[En]?`${Ig(e)}/${r[0]}`:`${Ig(e)}/(${r.join("//")})`}}function oM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xg(e){return oM(e).replace(/%3B/gi,";")}function Qb(e){return oM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tg(e){return decodeURIComponent(e)}function iM(e){return Tg(e.replace(/\+/g,"%20"))}function sM(e){return`${Qb(e.path)}${function zU(e){return Object.keys(e).map(t=>`;${Qb(t)}=${Qb(e[t])}`).join("")}(e.parameters)}`}const ZU=/^[^\/()?;#]+/;function Jb(e){const t=e.match(ZU);return t?t[0]:""}const qU=/^[^\/()?;=#]+/,KU=/^[^=?&#]+/,QU=/^[^&#]+/;class eH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fr([],{}):new Fr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[En]=new Fr(t,r)),n}parseSegment(){const t=Jb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new fp(Tg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function YU(e){const t=e.match(qU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=Jb(this.remaining);o&&(n=o,this.capture(n))}t[Tg(r)]=Tg(n)}parseQueryParam(t){const r=function XU(e){const t=e.match(KU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function JU(e){const t=e.match(QU);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=iM(r),i=iM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Jb(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=En);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[En]:new Fr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function aM(e){return e.segments.length>0?new Fr([],{[En]:e}):e}function lM(e){const t={};for(const n of Object.keys(e.children)){const i=lM(e.children[n]);if(n===En&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function tH(e){if(1===e.numberOfChildren&&e.children[En]){const t=e.children[En];return new Fr(e.segments.concat(t.segments),t.children)}return e}(new Fr(e.segments,t))}function qc(e){return e instanceof Cd}function cM(e){let t;const o=aM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Fr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function uM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return eC(o,o,o,r,n);const i=function rH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new fM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new fM(r,t,n)}(t);if(i.toRoot())return eC(o,o,new Fr([],{}),r,n);const s=function oH(e,t,r){if(e.isAbsolute)return new Ag(t,!0,0);if(!r)return new Ag(t,!1,NaN);if(null===r.parent)return new Ag(r,!0,0);const n=Mg(e.commands[0])?0:1;return function iH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new Ag(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?mp(s.segmentGroup,s.index,i.commands):pM(s.segmentGroup,s.index,i.commands);return eC(o,s.segmentGroup,a,r,n)}function Mg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function hp(e){return"object"==typeof e&&null!=e&&e.outlets}function eC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:dM(e,t,r);const a=aM(lM(s));return new Cd(a,i,o)}function dM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:dM(i,t,r)}),new Fr(e.segments,n)}class fM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Mg(n[0]))throw new Xe(4003,!1);const o=n.find(hp);if(o&&o!==QT(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ag{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function pM(e,t,r){if(e||(e=new Fr([],{})),0===e.segments.length&&e.hasChildren())return mp(e,t,r);const n=function aH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(hp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!mM(l,c,s))return i;n+=2}else{if(!mM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Fr(e.segments.slice(0,n.pathIndex),{});return i.children[En]=new Fr(e.segments.slice(n.pathIndex),e.children),mp(i,0,o)}return n.match&&0===o.length?new Fr(e.segments,{}):n.match&&!e.hasChildren()?tC(e,t,r):n.match?mp(e,0,o):tC(e,t,r)}function mp(e,t,r){if(0===r.length)return new Fr(e.segments,{});{const n=function sH(e){return hp(e[0])?e[0].outlets:{[En]:e}}(r),o={};if(Object.keys(n).some(i=>i!==En)&&e.children[En]&&1===e.numberOfChildren&&0===e.children[En].segments.length){const i=mp(e.children[En],t,r);return new Fr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=pM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Fr(e.segments,o)}}function tC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(hp(i)){const l=lH(i.outlets);return new Fr(n,l)}if(0===o&&Mg(r[0])){n.push(new fp(e.segments[t].path,hM(r[0]))),o++;continue}const s=hp(i)?i.outlets[En]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Mg(a)?(n.push(new fp(s,hM(a))),o+=2):(n.push(new fp(s,{})),o++)}return new Fr(n,{})}function lH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=tC(new Fr([],{}),0,n))}),t}function hM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function mM(e,t,r){return e==r.path&&el(t,r.parameters)}const gp="imperative";class tl{constructor(t,r){this.id=t,this.url=r}}class _p extends tl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ml extends tl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sd extends tl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wd extends tl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class kg extends tl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gM extends tl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cH extends tl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uH extends tl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dH extends tl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fH extends tl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _H{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _M{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nC{}class rC{constructor(t){this.url=t}}class yH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yc,this.attachRef=null}}let Yc=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new yH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class vM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=oC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=oC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=iC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return iC(t,this._root).map(r=>r.value)}}function oC(e,t){if(e===t.value)return t;for(const r of t.children){const n=oC(e,r);if(n)return n}return null}function iC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=iC(e,r);if(n.length)return n.unshift(t),n}return[]}class Ca{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Dd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class yM extends vM{constructor(t,r){super(t),this.snapshot=r,lC(this,t)}toString(){return this.snapshot.toString()}}function bM(e,t){const r=function bH(e,t){const s=new aC([],{},{},"",{},En,t,null,{});return new CM("",new Ca(s,[]))}(0,t),n=new po([new fp("",{})]),o=new po({}),i=new po({}),s=new po({}),a=new po(""),l=new nl(n,o,s,a,i,En,t,r.root);return l.snapshot=r.root,new yM(new Ca(l,[]),r)}class nl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(cn(c=>c[dp]))??Ht(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(cn(t=>bd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(cn(t=>bd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&wM(o)&&(n.resolve[dp]=o.title),n}class aC{get title(){return this.data?.[dp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CM extends vM{constructor(t,r){super(r),this.url=t,lC(this,r)}toString(){return SM(this._root)}}function lC(e,t){t.value._routerState=e,t.children.forEach(r=>lC(e,r))}function SM(e){const t=e.children.length>0?` { ${e.children.map(SM).join(", ")} } `:"";return`${e.value}${t}`}function cC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,el(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),el(t.params,r.params)||e.paramsSubject.next(r.params),function LU(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!el(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),el(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function uC(e,t){const r=el(e.params,t.params)&&function jU(e,t){return Wc(e,t)&&e.every((r,n)=>el(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||uC(e.parent,t.parent))}function wM(e){return"string"==typeof e.title||null===e.title}let DM=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=En,this.activateEvents=new an,this.deactivateEvents=new an,this.attachEvents=new an,this.detachEvents=new an,this.parentContexts=rt(Yc),this.location=rt(os),this.changeDetector=rt(pt),this.environmentInjector=rt(ri),this.inputBinder=rt(Rg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new CH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_i]}),t})();class CH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===nl?this.route:t===Yc?this.childContexts:this.parent.get(t,r)}}const Rg=new ft("");let EM=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Cg([o.queryParams,o.params,o.data]).pipe(Jr(([s,a,l],c)=>(l={...s,...a,...l},0===c?Ht(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=Dx(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function vp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function wH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return vp(e,n,o);return vp(e,n)})}(e,t,r);return new Ca(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>vp(e,a)),s}}const n=function DH(e){return new nl(new po(e.url),new po(e.params),new po(e.queryParams),new po(e.fragment),new po(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>vp(e,i));return new Ca(n,o)}}const dC="ngNavigationCancelingError";function IM(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=qc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=xM(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function xM(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[dC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function TM(e){return e&&e[dC]}let MM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[$m],decls:1,vars:0,template:function(n,o){1&n&&He(0,"router-outlet")},dependencies:[DM],encapsulation:2}),t})();function fC(e){const t=e.children&&e.children.map(fC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==En&&(r.component=MM),r}function rl(e){return e.outlet||En}function yp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class RH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),cC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Dd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Dd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Dd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Dd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new vH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new gH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(cC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=yp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class AM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Pg{constructor(t,r){this.component=t,this.route=r}}function PH(e,t,r){const n=e._root;return bp(n,t?t._root:null,r,[n.value])}function Ed(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Hn(e){return null!==sr(e)}(e)?t.get(e):e:n}function bp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Dd(t);return e.children.forEach(s=>{(function NH(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function FH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Wc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Wc(e.url,t.url)||!el(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uC(e,t)||!el(e.queryParams,t.queryParams);default:return!uC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new AM(n)):(i.data=s.data,i._resolvedData=s._resolvedData),bp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Pg(a.outlet.component,s))}else s&&Cp(t,a,o),o.canActivateChecks.push(new AM(n)),bp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Cp(a,r.getContext(s),o)),o}function Cp(e,t,r){const n=Dd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Cp(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new Pg(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Sp(e){return"function"==typeof e}function kM(e){return e instanceof Sg||"EmptyError"===e?.name}const Og=Symbol("INITIAL_VALUE");function Id(){return Jr(e=>Cg(e.map(t=>t.pipe(yd(1),ZT(Og)))).pipe(cn(t=>{for(const r of t)if(!0!==r){if(r===Og)return Og;if(!1===r||r instanceof Cd)return r}return!0}),ba(t=>t!==Og),yd(1)))}function RM(e){return function Cr(...e){return _o(e)}(Ci(t=>{if(qc(t))throw IM(0,t)}),cn(t=>!0===t))}class pC{constructor(t){this.segmentGroup=t||null}}class hC extends Error{constructor(t){super(),this.urlTree=t}}function xd(e){return wg(new pC(e))}class n6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Ht(n);if(o.numberOfChildren>1||!o.children[En])return wg(new Xe(4e3,!1));o=o.children[En]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new hC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new Cd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Fr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const mC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function r6(e,t,r,n,o){const i=gC(e,t,r);return i.matched?(n=function IH(e,t){return e.providers&&!e._injector&&(e._injector=Ly(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function JH(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Ht(o.map(s=>{const a=Ed(s,e);return dc(function GH(e){return e&&Sp(e.canMatch)}(a)?a.canMatch(t,r):ql(e,()=>a(t,r)))})).pipe(Id(),RM()):Ht(!0)}(n,t,r).pipe(cn(s=>!0===s?i:{...mC}))):Ht(i)}function gC(e,t,r){if("**"===t.path)return function o6(e){return{matched:!0,parameters:e.length>0?QT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...mC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||FU)(r,e,t);if(!o)return{...mC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function PM(e,t,r,n){return r.length>0&&function a6(e,t,r){return r.some(n=>Ng(e,t,n)&&rl(n)!==En)}(e,r,n)?{segmentGroup:new Fr(t,s6(n,new Fr(r,e.children))),slicedSegments:[]}:0===r.length&&function l6(e,t,r){return r.some(n=>Ng(e,t,n))}(e,r,n)?{segmentGroup:new Fr(e.segments,i6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Fr(e.segments,e.children),slicedSegments:r}}function i6(e,t,r,n,o){const i={};for(const s of n)if(Ng(e,r,s)&&!o[rl(s)]){const a=new Fr([],{});i[rl(s)]=a}return{...o,...i}}function s6(e,t){const r={};r[En]=t;for(const n of e)if(""===n.path&&rl(n)!==En){const o=new Fr([],{});r[rl(n)]=o}return r}function Ng(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class d6{}class h6{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new n6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=PM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(cn(r=>{const n=new aC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,{}),o=new Ca(n,r),i=new CM("",o),s=function nH(e,t,r=null,n=null){return uM(cM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,En).pipe(zc(n=>{if(n instanceof hC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=sC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(cn(i=>i instanceof Ca?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return wr(o).pipe(_d(i=>{const s=n.children[i],a=function AH(e,t){const r=e.filter(n=>rl(n)===t);return r.push(...e.filter(n=>rl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function PU(e,t){return Tn(function RU(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Nn(s,f=>{const h=c++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Dg(null),function OU(e,t){const r=arguments.length>=2;return n=>n.pipe(e?ba((o,i)=>e(o,i,n)):tr,Yb(1),r?Dg(t):qT(()=>new Sg))}(),Bn(i=>{if(null===i)return xd(n);const s=OM(i);return function m6(e){e.sort((t,r)=>t.value.outlet===En?-1:r.value.outlet===En?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Ht(s)}))}processSegment(t,r,n,o,i,s){return wr(r).pipe(_d(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(zc(l=>{if(l instanceof pC)return Ht(null);throw l}))),uc(a=>!!a),zc(a=>{if(kM(a))return function u6(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Ht(new d6):xd(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function c6(e,t,r,n){return!!(rl(e)===n||n!==En&&Ng(t,r,e))&&gC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):xd(o):xd(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=gC(r,o,i);if(!a)return xd(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,h).pipe(Bn(g=>this.processSegment(t,n,r,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=r6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Jr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Jr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:g}=a,b=new aC(f,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _6(e){return e.data||{}}(n),rl(n),n.component??n._loadedComponent??null,n,function v6(e){return e.resolve||{}}(n)),{segmentGroup:j,slicedSegments:se}=PM(r,f,h,l);if(0===se.length&&j.hasChildren())return this.processChildren(c,l,j).pipe(cn(De=>null===De?null:new Ca(b,De)));if(0===l.length&&0===se.length)return Ht(new Ca(b,[]));const me=rl(n)===i;return this.processSegment(c,l,j,se,me?En:i,!0).pipe(cn(De=>new Ca(b,De instanceof Ca?[De]:[])))})):xd(r)))}getChildConfig(t,r,n){return r.children?Ht({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Ht({routes:r._loadedRoutes,injector:r._loadedInjector}):function QH(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(s=>{const a=Ed(s,e);return dc(function $H(e){return e&&Sp(e.canLoad)}(a)?a.canLoad(t,r):ql(e,()=>a(t,r)))})).pipe(Id(),RM())}(t,r,n).pipe(Bn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ci(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function t6(e){return wg(xM(!1,3))}())):Ht({routes:[],injector:t})}}function g6(e){const t=e.value.routeConfig;return t&&""===t.path}function OM(e){const t=[],r=new Set;for(const n of e){if(!g6(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=OM(n.children);t.push(new Ca(n.value,o))}return t.filter(n=>!r.has(n))}function NM(e){const t=e.children.map(r=>NM(r)).flat();return[e,...t]}function _C(e){return Jr(t=>{const r=e(t);return r?wr(r).pipe(cn(()=>t)):Ht(t)})}let FM=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===En);return o}getResolvedTitleForRoute(n){return n.data[dp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(D6),providedIn:"root"}),t})(),D6=(()=>{var e;class t extends FM{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(pT))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Td=new ft("",{providedIn:"root",factory:()=>({})}),Md=new ft("ROUTES");let vC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(B1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ht(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=dc(n.loadComponent()).pipe(cn(LM),Ci(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),lp(()=>{this.componentLoaders.delete(n)})),i=new WT(o,()=>new xn).pipe(qb());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Ht({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function E6(e,t,r,n){return dc(e.loadChildren()).pipe(cn(LM),Bn(o=>o instanceof o1||Array.isArray(o)?Ht(o):wr(t.compileModuleAsync(o))),cn(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(Md,[],{optional:!0,self:!0}).flat()),{routes:s.map(fC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(lp(()=>{this.childrenLoaders.delete(o)})),a=new WT(s,()=>new xn).pipe(qb());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function LM(e){return function I6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let yC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(x6),providedIn:"root"}),t})(),x6=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const $M=new ft(""),BM=new ft("");function T6(e,t,r){const n=e.get(BM),o=e.get(oi);return e.get(je).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function M6(e){return new Promise(t=>{RD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&ql(e,()=>l({transition:a,from:t,to:r})),s})}let Fg=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn,this.transitionAbortSubject=new xn,this.configLoader=rt(vC),this.environmentInjector=rt(ri),this.urlSerializer=rt(Zc),this.rootContexts=rt(Yc),this.location=rt(ic),this.inputBindingEnabled=null!==rt(Rg,{optional:!0}),this.titleStrategy=rt(FM),this.options=rt(Td,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=rt(yC),this.createViewTransition=rt($M,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new pH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new po({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ba(s=>0!==s.id),cn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Jr(s=>{this.currentTransition=s;let a=!1,l=!1;return Ht(s).pipe(Ci(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jr(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new wd(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),Io}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ht(c).pipe(Jr(g=>{const b=this.transitions?.getValue();return this.events.next(new _p(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),b!==this.transitions?.getValue()?Io:Promise.resolve(g)}),function y6(e,t,r,n,o,i){return Bn(s=>function f6(e,t,r,n,o,i,s="emptyOnly"){return new h6(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(cn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ci(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const b=new gM(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:b,source:j,restoredState:se,extras:me}=c,De=new _p(g,this.urlSerializer.serialize(b),j,se);this.events.next(De);const Se=bM(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Se,urlAfterRedirects:b,extras:{...me,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Ht(s)}{const g="";return this.events.next(new wd(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),Io}}),Ci(c=>{const f=new cH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),cn(c=>(this.currentTransition=s={...c,guards:PH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function HH(e,t){return Bn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Ht({...r,guardsResult:!0}):function zH(e,t,r,n){return wr(e).pipe(Bn(o=>function XH(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Ht(i.map(a=>{const l=yp(t)??o,c=Ed(a,l);return dc(function jH(e){return e&&Sp(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):ql(l,()=>c(e,t,r,n))).pipe(uc())})).pipe(Id()):Ht(!0)}(o.component,o.route,r,t,n)),uc(o=>!0!==o,!0))}(s,n,o,e).pipe(Bn(a=>a&&function LH(e){return"boolean"==typeof e}(a)?function WH(e,t,r,n){return wr(t).pipe(_d(o=>Zb(function qH(e,t){return null!==e&&t&&t(new mH(e)),Ht(!0)}(o.route.parent,n),function ZH(e,t){return null!==e&&t&&t(new _H(e)),Ht(!0)}(o.route,n),function KH(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function OH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>zT(()=>Ht(s.guards.map(l=>{const c=yp(s.node)??r,f=Ed(l,c);return dc(function VH(e){return e&&Sp(e.canActivateChild)}(f)?f.canActivateChild(n,e):ql(c,()=>f(n,e))).pipe(uc())})).pipe(Id())));return Ht(i).pipe(Id())}(e,o.path,r),function YH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Ht(!0);const o=n.map(i=>zT(()=>{const s=yp(t)??r,a=Ed(i,s);return dc(function BH(e){return e&&Sp(e.canActivate)}(a)?a.canActivate(t,e):ql(s,()=>a(t,e))).pipe(uc())}));return Ht(o).pipe(Id())}(e,o.route,r))),uc(o=>!0!==o,!0))}(n,i,e,t):Ht(a)),cn(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ci(c=>{if(s.guardsResult=c.guardsResult,qc(c.guardsResult))throw IM(0,c.guardsResult);const f=new uH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),ba(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),_C(c=>{if(c.guards.canActivateChecks.length)return Ht(c).pipe(Ci(f=>{const h=new dH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),Jr(f=>{let h=!1;return Ht(f).pipe(function b6(e,t){return Bn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Ht(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of NM(l))s.add(c);let a=0;return wr(s).pipe(_d(l=>i.has(l)?function C6(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!wM(o)&&(i[dp]=o.title),function S6(e,t,r,n){const o=Kb(e);if(0===o.length)return Ht({});const i={};return wr(o).pipe(Bn(s=>function w6(e,t,r,n){const o=yp(t)??n,i=Ed(e,o);return dc(i.resolve?i.resolve(t,r):ql(o,()=>i(t,r)))}(e[s],t,r,n).pipe(uc(),Ci(a=>{i[s]=a}))),Yb(1),YT(i),zc(s=>kM(s)?Io:wg(s)))}(i,e,t,n).pipe(cn(s=>(e._resolvedData=s,e.data=sC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=sC(l,l.parent,e).resolve,Ht(void 0))),Ci(()=>a++),Yb(1),Bn(l=>a===s.size?Ht(r):Io))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ci({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ci(f=>{const h=new fH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),_C(c=>{const f=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ci(b=>{h.component=b}),cn(()=>{})));for(const b of h.children)g.push(...f(b));return g};return Cg(f(c.targetSnapshot.root)).pipe(Dg(),yd(1))}),_C(()=>this.afterPreactivation()),Jr(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return h?wr(h).pipe(cn(()=>s)):Ht(s)}),cn(c=>{const f=function SH(e,t,r){const n=vp(e,t._root,r?r._root:void 0);return new yM(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ci(()=>{this.events.next(new nC)}),((e,t,r,n)=>cn(o=>(new RH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),yd(1),Ci({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ml(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),KT(this.transitionAbortSubject.pipe(Ci(c=>{throw c}))),lp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),zc(c=>{if(l=!0,TM(c))this.events.next(new Sd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function EH(e){return TM(e)&&qc(e.url)}(c)?this.events.next(new rC(c.url)):s.resolve(!1);else{this.events.next(new kg(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Io}))}))}cancelNavigationTransition(n,o,i){const s=new Sd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function A6(e){return e!==gp}let VM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(R6),providedIn:"root"}),t})();class k6{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let R6=(()=>{var e;class t extends k6{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),jM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:()=>rt(P6),providedIn:"root"}),t})(),P6=(()=>{var e;class t extends jM{constructor(){super(...arguments),this.location=rt(ic),this.urlSerializer=rt(Zc),this.options=rt(Td,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=rt(yC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bM(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof _p)this.stateMemento=this.createStateMemento();else if(n instanceof wd)this.rawUrlTree=o.initialUrl;else if(n instanceof gM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof nC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Sd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof kg?this.restoreHistory(o,!0):n instanceof Ml&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var wp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(wp||{});function GM(e,t){e.events.pipe(ba(r=>r instanceof Ml||r instanceof Sd||r instanceof kg||r instanceof wd),cn(r=>r instanceof Ml||r instanceof wd?wp.COMPLETE:r instanceof Sd&&(0===r.code||1===r.code)?wp.REDIRECTING:wp.FAILED),ba(r=>r!==wp.REDIRECTING),yd(1)).subscribe(()=>{t()})}function O6(e){throw e}const N6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=rt($1),this.stateManager=rt(jM),this.options=rt(Td,{optional:!0})||{},this.pendingTasks=rt(Um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=rt(Fg),this.urlSerializer=rt(Zc),this.location=rt(ic),this.urlHandlingStrategy=rt(yC),this._events=new xn,this.errorHandler=this.options.errorHandler||O6,this.navigated=!1,this.routeReuseStrategy=rt(VM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=rt(Md,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!rt(Rg,{optional:!0}),this.eventsSubscription=new vt,this.isNgZoneEnabled=rt(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Sd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof Ml)this.navigated=!0;else if(o instanceof rC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||A6(i.source)};this.scheduleNavigation(a,gp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function $6(e){return!(e instanceof nC||e instanceof rC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let g,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=cM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return uM(g,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=qc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,gp,null,o)}navigate(n,o={skipLocationChange:!1}){return function L6(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...N6}:!1===o?{...F6}:o,qc(n))return eM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return eM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((g,b)=>{l=g,c=b});const h=this.pendingTasks.add();return GM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class UM{}let j6=(()=>{var e;class t{preload(n,o){return o().pipe(zc(()=>Ht(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),G6=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ba(n=>n instanceof Ml),_d(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Ly(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return wr(i).pipe(No())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Ht(null);const s=i.pipe(Bn(a=>null===a?Ht(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?wr([s,this.loader.loadComponent(o)]).pipe(No()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(jo),ce(B1),ce(ri),ce(UM),ce(vC))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const bC=new ft("");let HM=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _p?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ml?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof wd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _M&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _M(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function aD(){throw new Error("invalid")}()},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();function ol(e,t){return{\u0275kind:e,\u0275providers:t}}function WM(){const e=rt(Yr);return t=>{const r=e.get(Dl);if(t!==r.components[0])return;const n=e.get(jo),o=e.get(ZM);1===e.get(CC)&&n.initialNavigation(),e.get(qM,null,Qe.Optional)?.setUpPreloading(),e.get(bC,null,Qe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const ZM=new ft("",{factory:()=>new xn}),CC=new ft("",{providedIn:"root",factory:()=>1}),qM=new ft("");function W6(e){return ol(0,[{provide:qM,useExisting:G6},{provide:UM,useExisting:e}])}function q6(e){return ol(9,[{provide:$M,useValue:T6},{provide:BM,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const YM=new ft("ROUTER_FORROOT_GUARD"),Y6=[ic,{provide:Zc,useClass:Xb},jo,Yc,{provide:nl,useFactory:function zM(e){return e.routerState.root},deps:[jo]},vC,[]];let Lg=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Y6,[],{provide:Md,multi:!0,useValue:n},{provide:YM,useFactory:J6,deps:[[jo,new Oh,new Nh]]},{provide:Td,useValue:o||{}},o?.useHash?{provide:Qa,useClass:Tx}:{provide:Qa,useClass:xx},{provide:bC,useFactory:()=>{const e=rt(Bj),t=rt(je),r=rt(Td),n=rt(Fg),o=rt(Zc);return r.scrollOffset&&e.setOffset(r.scrollOffset),new HM(o,n,e,t,r)}},o?.preloadingStrategy?W6(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?e5(o):[],o?.bindToComponentInputs?ol(8,[EM,{provide:Rg,useExisting:EM}]).\u0275providers:[],o?.enableViewTransitions?q6().\u0275providers:[],[{provide:KM,useFactory:WM},{provide:eb,multi:!0,useExisting:KM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Md,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(YM,8))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();function J6(e){return"guarded"}function e5(e){return["disabled"===e.initialNavigation?ol(3,[{provide:tp,multi:!0,useFactory:()=>{const t=rt(jo);return()=>{t.setUpLocationChangeListener()}}},{provide:CC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ol(2,[{provide:CC,useValue:0},{provide:tp,multi:!0,deps:[Yr],useFactory:t=>{const r=t.get(b4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(jo),i=t.get(ZM);GM(o,()=>{n(!0)}),t.get(Fg).afterPreactivation=()=>(n(!0),i.closed?Ht(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const KM=new ft("");class n5{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const fc=new n5,JM=e=>tA(e),tA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=a5(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},a5=e=>{const t=fc.get("platform");return Object.keys(sA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):sA[r](e)})},SC=e=>!!(Kc(e,/iPad/i)||Kc(e,/Macintosh/i)&&$g(e)),nA=e=>Kc(e,/android|sink/i),$g=e=>_5(e,"(any-pointer:coarse)"),rA=e=>oA(e)||iA(e),oA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),iA=e=>{const t=e.Capacitor;return!!t?.isNative},Kc=(e,t)=>t.test(e.navigator.userAgent),_5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},sA={ipad:SC,iphone:e=>Kc(e,/iPhone/i),ios:e=>Kc(e,/iPhone|iPod/i)||SC(e),android:nA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return SC(e)||(e=>nA(e)&&!Kc(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:oA,capacitor:iA,electron:e=>Kc(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:$g,mobileweb:e=>$g(e)&&!rA(e),desktop:e=>!$g(e),hybrid:rA};var Ep=C(7687),v5=C(276);const y5=["addListener","removeListener"],b5=["addEventListener","removeEventListener"],C5=["on","off"];function Bg(e,t,r,n){if(Ee(r)&&(n=r,r=void 0),n)return Bg(e,t,r).pipe(Wb(n));const[o,i]=function D5(e){return Ee(e.addEventListener)&&Ee(e.removeEventListener)}(e)?b5.map(s=>a=>e[s](t,a,r)):function S5(e){return Ee(e.addListener)&&Ee(e.removeListener)}(e)?y5.map(aA(e,t)):function w5(e){return Ee(e.on)&&Ee(e.off)}(e)?C5.map(aA(e,t)):[];if(!o&&ut(e))return Bn(s=>Bg(s,t,r))(A(e));if(!o)throw new TypeError("Invalid event target");return new On(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function aA(e,t){return r=>n=>e[r](t,n)}let lA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Cl),_(tt))},e.\u0275dir=Nt({type:e}),t})(),Xc=(()=>{var e;class t extends lA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Nt({type:e,features:[bn]}),t})();const Pi=new ft("NgValueAccessor"),x5={provide:Pi,useExisting:Un(()=>wC),multi:!0},M5=new ft("CompositionEventMode");let wC=(()=>{var e;class t extends lA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T5(){const e=oc()?oc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Cl),_(tt),_(M5,8))},e.\u0275dir=Nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Ve("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[fr([x5]),bn]}),t})();function pc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function uA(e){return null!=e&&"number"==typeof e.length}const si=new ft("NgValidators"),hc=new ft("NgAsyncValidators"),A5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ip{static min(t){return dA(t)}static max(t){return fA(t)}static required(t){return function pA(e){return pc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function hA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function mA(e){return pc(e.value)||A5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function gA(e){return t=>pc(t.value)||!uA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return _A(t)}static pattern(t){return function vA(e){if(!e)return Vg;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(pc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return DA(t)}static composeAsync(t){return EA(t)}}function dA(e){return t=>{if(pc(t.value)||pc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function fA(e){return t=>{if(pc(t.value)||pc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function _A(e){return t=>uA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Vg(e){return null}function yA(e){return null!=e}function bA(e){return Yf(e)?wr(e):e}function CA(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function SA(e,t){return t.map(r=>r(e))}function wA(e){return e.map(t=>function k5(e){return!e.validate}(t)?t:r=>t.validate(r))}function DA(e){if(!e)return null;const t=e.filter(yA);return 0==t.length?null:function(r){return CA(SA(r,t))}}function DC(e){return null!=e?DA(wA(e)):null}function EA(e){if(!e)return null;const t=e.filter(yA);return 0==t.length?null:function(r){return function E5(...e){const t=ta(e),{args:r,keys:n}=GT(e),o=new On(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let h=!1;A(r[f]).subscribe(Nn(i,g=>{h||(h=!0,c--),a[f]=g},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(n?UT(n,a):a),i.complete())}))}});return t?o.pipe(Wb(t)):o}(SA(r,t).map(bA)).pipe(cn(CA))}}function EC(e){return null!=e?EA(wA(e)):null}function IA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function xA(e){return e._rawValidators}function TA(e){return e._rawAsyncValidators}function IC(e){return e?Array.isArray(e)?e:[e]:[]}function jg(e,t){return Array.isArray(e)?e.includes(t):e===t}function MA(e,t){const r=IC(t);return IC(e).forEach(o=>{jg(r,o)||r.push(o)}),r}function AA(e,t){return IC(t).filter(r=>!jg(e,r))}class kA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=DC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=EC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Oi extends kA{get formDirective(){return null}get path(){return null}}class Al extends kA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kl=(()=>{var e;class t extends RA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Al,2))},e.\u0275dir=Nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Za("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[bn]}),t})(),Rl=(()=>{var e;class t extends RA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Oi,10))},e.\u0275dir=Nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Za("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[bn]}),t})();const xp="VALID",Ug="INVALID",kd="PENDING",Tp="DISABLED";function MC(e){return(Hg(e)?e.validators:e)||null}function AC(e,t){return(Hg(t)?t.asyncValidators:e)||null}function Hg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class FA{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xp}get invalid(){return this.status===Ug}get pending(){return this.status==kd}get disabled(){return this.status===Tp}get enabled(){return this.status!==Tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(MA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(MA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(AA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(AA(t,this._rawAsyncValidators))}hasValidator(t){return jg(this._rawValidators,t)}hasAsyncValidator(t){return jg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=kd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Tp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=xp,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xp||this.status===kd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tp:xp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=kd,this._hasOwnPendingAsyncValidator=!0;const r=bA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new an,this.statusChanges=new an}_calculateStatus(){return this._allControlsDisabled()?Tp:this.errors?Ug:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kd)?kd:this._anyControlsHaveStatus(Ug)?Ug:xp}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Hg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function N5(e){return Array.isArray(e)?DC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function F5(e){return Array.isArray(e)?EC(e):e||null}(this._rawAsyncValidators)}}class mc extends FA{constructor(t,r,n){super(MC(r),AC(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function NA(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function OA(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const zg=mc,Qc=new ft("CallSetDisabledState",{providedIn:"root",factory:()=>Mp}),Mp="always";function Ap(e,t,r=Mp){kC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function B5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&LA(e,t)})}(e,t),function j5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function V5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&LA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function $5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function Zg(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Yg(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function qg(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function kC(e,t){const r=xA(e);null!==t.validator?e.setValidators(IA(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=TA(e);null!==t.asyncValidator?e.setAsyncValidators(IA(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();qg(t._rawValidators,o),qg(t._rawAsyncValidators,o)}function Yg(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=xA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=TA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return qg(t._rawValidators,n),qg(t._rawAsyncValidators,n),r}function LA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function VA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function jA(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const as=class extends FA{constructor(t=null,r,n){super(MC(r),AC(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=jA(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){VA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){VA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){jA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Go=as;let Pl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),ZA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();const FC=new ft("NgModelWithFormControlWarning"),tz={provide:Oi,useExisting:Un(()=>Sa)};let Sa=(()=>{var e;class t extends Oi{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new an,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Ap(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){Zg(n.control||null,n,!1),function z5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function BA(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(Zg(o||null,n),(e=>e instanceof as)(i)&&(Ap(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function $A(e,t){kC(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function G5(e,t){return Yg(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kC(this.form,this),this._oldForm&&Yg(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(_(si,10),_(hc,10),_(Qc,8))},e.\u0275dir=Nt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Ve("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fr([tz]),bn,_i]}),t})();const oz={provide:Al,useExisting:Un(()=>il)};let il=(()=>{var e;class t extends Al{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new an,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function OC(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===wC?r=i:function H5(e){return Object.getPrototypeOf(e.constructor)===Xc}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function PC(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Wg(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(_(Oi,13),_(si,10),_(hc,10),_(Pi,10),_(FC,8))},e.\u0275dir=Nt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fr([oz]),bn,_i]}),t})();function tk(e){return"number"==typeof e?e:parseFloat(e)}let Jc=(()=>{var e;class t{constructor(){this._validator=Vg}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Vg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Nt({type:e,features:[_i]}),t})();const dz={provide:si,useExisting:Un(()=>jC),multi:!0};let jC=(()=>{var e;class t extends Jc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>tk(n),this.createValidator=n=>fA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Nt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Hs("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[fr([dz]),bn]}),t})();const fz={provide:si,useExisting:Un(()=>GC),multi:!0};let GC=(()=>{var e;class t extends Jc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>tk(n),this.createValidator=n=>dA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Nt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Hs("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[fr([fz]),bn]}),t})();const _z={provide:si,useExisting:Un(()=>HC),multi:!0};let HC=(()=>{var e;class t extends Jc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function ek(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>_A(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275dir=Nt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Hs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[fr([_z]),bn]}),t})(),sk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[ZA]}),t})(),eu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:Qc,useValue:n.callSetDisabledState??Mp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[sk]}),t})(),Kg=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:FC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Qc,useValue:n.callSetDisabledState??Mp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[sk]}),t})();const bz=["tabsInner"];let Cz=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new xn,this.keyboardDidShow=new xn,this.keyboardDidHide=new xn,this.pause=new xn,this.resume=new xn,this.resize=new xn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},Rd(this.pause,r,"pause",n),Rd(this.resume,r,"resume",n),Rd(this.backButton,r,"ionBackButton",n),Rd(this.resize,this.win,"resize",n),Rd(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),Rd(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),JM(e).includes(t)))(this.win,r)}platforms(){return JM(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return Sz(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ce(oi),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sz=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Rd=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let Pd=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=ak,this.animated=lk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof _p){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,Z.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=wz(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=ak,this.animated=lk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ce(Cz),ce(ic),ce(Zc),ce(jo,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const wz=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},ak="auto",lk=void 0;let Xg=(()=>{class e{get(r,n){const o=zC();return o?o.get(r,n):null}getBoolean(r,n){const o=zC();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=zC();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ck=new ft("USERCONFIG"),zC=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class uk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Rp=(()=>{class e{constructor(){this.zone=rt(je),this.applicationRef=rt(Dl)}create(r,n,o){return new Dz(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),e})();class Dz{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(Ez(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const Ez=(e,t,r,n,o,i,s,a,l,c,f)=>{const g=function _4(e,t){const r=_n(e),n=t.elementInjector||Vh();return new Rf(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Yr.create({providers:xz(l),parent:r})}),b=g.instance,j=g.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),c)for(const me of c)j.classList.add(me);const se=dk(e,b,j);return s.appendChild(j),n.attachView(g.hostView),o.set(j,g),i.set(j,se),j},Iz=[Ep.L,Ep.a,Ep.b,Ep.c,Ep.d],dk=(e,t,r)=>e.run(()=>{const n=Iz.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),fk=new ft("NavParamsToken"),xz=e=>[{provide:fk,useValue:e},{provide:uk,useFactory:Tz,deps:[fk]}],Tz=e=>new uk(e),Mz=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},Az=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function Qg(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&Mz(r,o),i&&Az(r,i),r}}const pk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),ZC=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},hk=(e,t)=>!t||e.stackId!==t.stackId,Vz=(e,t)=>{if(!e)return;const r=mk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},mk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),gk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class jz{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?mk(t):void 0}createView(t,r){const n=ZC(this.router,r),o=t?.location?.nativeElement,i=dk(this.zone,t.instance,o);return{id:this.nextId++,stackId:Vz(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=ZC(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=hk(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),g=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>Gz(t,g,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&_k(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(gk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?pk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):pk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,Z.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const Gz=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{_k(e,t,r,n,o),i()})}):Promise.resolve(),_k=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(gk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let vk=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new po(null),this.activated=null,this._activatedRoute=null,this.name=En,this.stackWillChange=new an,this.stackDidChange=new an,this.activateEvents=new an,this.deactivateEvents=new an,this.parentContexts=rt(Yc),this.location=rt(os),this.environmentInjector=rt(ri),this.inputBinder=rt(yk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=rt(Xg),this.navCtrl=rt(Pd),this.nativeEl=i.nativeElement,this.name=r||En,this.tabsPrefix="true"===n?ZC(s,l):void 0,this.stackCtrl=new jz(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,v5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new po(null),f=this.createActivatedRouteProxy(c,r),h=new Uz(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:hk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new nl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(ba(o=>!!o),Jr(o=>this.currentActivatedRoute$.pipe(ba(i=>null!==i&&i.component===o),Jr(i=>i&&i.activatedRoute[n]),Fs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Zl("name"),Zl("tabs"),_(ic),_(tt),_(jo),_(je),_(nl),_(e,12))},e.\u0275dir=Nt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Uz{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===nl?this.route:t===Yc?this.childContexts:this.parent.get(t,r)}}const yk=new ft("");let Hz=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Cg([n.queryParams,n.params,n.data]).pipe(Jr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Ht(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=Dx(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),e})();function Wz(e){return e?.componentInputBindingEnabled?new Hz:null}const Zz=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let qz=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(_(vk,8),_(Pd),_(Xg),_(tt),_(je),_(pt))},e.\u0275dir=Nt({type:e,hostBindings:function(r,n){1&r&&Ve("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=ae([Qg({inputs:Zz})],e),e})();const Xz=["animated","animation","root","rootParams","swipeGesture"],Qz=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Jz=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=Bg(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(_(tt),_(ri),_(Yr),_(Rp),_(je),_(pt))},e.\u0275dir=Nt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=ae([Qg({inputs:Xz,methods:Qz})],e),e})(),e8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new an,this.ionTabsDidChange=new an,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(_(Pd))},e.\u0275dir=Nt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&Vc(bz,7,tt),2&r){let o;Ws(o=Zs())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Ve("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const bk=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Pp=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Od(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Od(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Od(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Al)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Od(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Od(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Nt({type:e,hostBindings:function(r,n){1&r&&Ve("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Od=e=>{bk(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=t8(t);qC(t,n);const o=t.closest("ion-item");o&&qC(o,r?[...n,"item-has-value"]:n)})},t8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&n8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},qC=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},n8=(e,t)=>e.substring(0,t.length)===t;class r8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class Op{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var YC=C(2723),o8=(C(8044),C(5444),C(5922),C(4923),C(5194)),Ck=C(2984),Np=(C(4656),C(7261)),i8=(C(6940),C(3426));C(4967);const a8=o8.i,xt=["*"],c8=["outlet"],u8=[[["","slot","top"]],"*"],d8=["[slot=top]","*"];let Nd=(()=>{class e extends Pp{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Od(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Nt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Ve("ionChange",function(i){return n._handleIonChange(i.target)})},features:[fr([{provide:Pi,useExisting:e,multi:!0}]),bn]}),e})(),Jg=(()=>{class e extends Pp{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Nt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Ve("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[fr([{provide:Pi,useExisting:e,multi:!0}]),bn]}),e})(),Ol=(()=>{class e extends Pp{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Yr),_(tt))},e.\u0275dir=Nt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Ve("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[fr([{provide:Pi,useExisting:e,multi:!0}]),bn]}),e})();const g8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},_8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},mr=(e,t,r)=>{r.forEach(n=>e[n]=Bg(t,n))};function Tt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&g8(r,o),i&&_8(r,i),r}}let Sk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-app"]],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({})],e),e})(),Ni=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Fi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["collapse"]})],e),e})(),wk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Li=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),$i=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["collapse","mode","translucent"]})],e),e})(),ai=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Nl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Qo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),e_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),t_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["side"]})],e),e})(),n_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Bi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","mode","position"]})],e),e})(),sl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),KC=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),r_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),o_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["disabled","value"]})],e),e})(),Fp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","duration","name","paused"]})],e),e})(),i_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),Dk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Vi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","size"]})],e),e})(),Lp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,mr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(pt),_(tt),_(je))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e=ae([Tt({inputs:["color","mode"]})],e),e})(),$p=(()=>{class e extends vk{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Zl("name"),Zl("tabs"),_(ic),_(tt),_(jo),_(je),_(nl),_(e,12))},e.\u0275dir=Nt({type:e,selectors:[["ion-router-outlet"]],features:[bn]}),e})(),Ek=(()=>{class e extends e8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=qr(e)))(n||e)}})(),e.\u0275cmp=Ye({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(cd(o,i_,5),cd(o,i_,4)),2&r){let i;Ws(i=Zs())&&(n.tabBar=i.first),Ws(i=Zs())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&Vc(c8,5,$p),2&r){let o;Ws(o=Zs())&&(n.outlet=o.first)}},features:[bn],ngContentSelectors:d8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(Dt(u8),St(0),Y(1,"div",0,1)(3,"ion-router-outlet",2,3),Ve("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),W()(),St(5,1))},dependencies:[$p],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),Ik=(()=>{class e extends qz{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_($p,8),_(Pd),_(Xg),_(tt),_(je),_(pt))},e.\u0275cmp=Ye({type:e,selectors:[["ion-back-button"]],features:[bn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e})(),xk=(()=>{class e extends Jz{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(tt),_(ri),_(Yr),_(Rp),_(je),_(pt))},e.\u0275cmp=Ye({type:e,selectors:[["ion-nav"]],features:[bn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),St(0))},encapsulation:2,changeDetection:0}),e})();const SW={provide:si,useExisting:Un(()=>Tk),multi:!0};let Tk=(()=>{class e extends jC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=qr(e)))(n||e)}})(),e.\u0275dir=Nt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Hs("max",n._enabled?n.max:null)},features:[fr([SW]),bn]}),e})();const wW={provide:si,useExisting:Un(()=>Mk),multi:!0};let Mk=(()=>{class e extends GC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=qr(e)))(n||e)}})(),e.\u0275dir=Nt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Hs("min",n._enabled?n.min:null)},features:[fr([wW]),bn]}),e})(),Fl=(()=>{class e extends Op{constructor(){super(Np.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Bp=(()=>{class e extends Op{constructor(){super(Np.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),al=(()=>{class e extends Op{constructor(){super(Np.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ls=(()=>{class e extends Op{constructor(){super(Np.m),this.angularDelegate=rt(Rp),this.injector=rt(Yr),this.environmentInjector=rt(ri)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),e})();class tu extends Op{constructor(){super(Np.c),this.angularDelegate=rt(Rp),this.injector=rt(Yr),this.environmentInjector=rt(ri)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const DW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,Ck.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function s8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return a8(),(0,i8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:bk,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let gc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:ck,useValue:r},{provide:tp,useFactory:DW,multi:!0,deps:[ck,oi,je]},{provide:yk,useFactory:Wz,deps:[jo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[Rp,ls,tu],imports:[Ja]}),e})();function Ak(e,t){(function EW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function XC(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Vp(e){return(Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function co(e,t,r){return(t=function xW(e){var t=function IW(e,t){if("object"!==Vp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Vp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let nu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function kk(e){nu=e}const Rk=/[&<>"']/,TW=new RegExp(Rk.source,"g"),Pk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,MW=new RegExp(Pk.source,"g"),AW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ok=e=>AW[e];function Ts(e,t){if(t){if(Rk.test(e))return e.replace(TW,Ok)}else if(Pk.test(e))return e.replace(MW,Ok);return e}const kW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,PW=/(^|[^\[])\^/g;function br(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(PW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function Nk(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const s_={exec:()=>null};function Fk(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function a_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function Lk(e,t,r,n){const o=t.href,i=t.title?Ts(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Ts(s)}}class l_{constructor(t){co(this,"options",void 0),co(this,"rules",void 0),co(this,"lexer",void 0),this.options=t||nu}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:a_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function NW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=a_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=a_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,De=>" ".repeat(3*De.length)),g=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let j=!1;if(!h&&/^ *$/.test(g)&&(a+=g+"\n",t=t.substring(g.length+1),f=!0),!f){const De=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Se=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Et=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),Mt=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const lt=t.split("\n",1)[0];if(g=lt,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Et.test(g)||Mt.test(g)||De.test(g)||Se.test(t))break;if(g.search(/[^ ]/)>=b||!g.trim())l+="\n"+g.slice(b);else{if(j||h.search(/[^ ]/)>=4||Et.test(h)||Mt.test(h)||Se.test(h))break;l+="\n"+g}!j&&!g.trim()&&(j=!0),a+=lt+"\n",t=t.substring(lt.length+1),h=g.slice(b)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let me,se=null;this.options.gfm&&(se=/^\[[ xX]\] /.exec(l),se&&(me="[ ] "!==se[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!se,checked:me,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),g=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=g}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:Fk(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=Fk(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Ts(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=a_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function OW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),Lk(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Lk(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const g=[...o[0]][0].length,b=t.slice(0,s+o.index+g+l);if(Math.min(s,l)%2){const se=b.slice(1,-1);return{type:"em",raw:b,text:se,tokens:this.lexer.inlineTokens(se)}}const j=b.slice(2,-2);return{type:"strong",raw:b,text:j,tokens:this.lexer.inlineTokens(j)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ts(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Ts(r[1]),o="mailto:"+n):(n=Ts(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Ts(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Ts(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Ts(r[0]),{type:"text",raw:r[0],text:n}}}}const Qt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:s_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Qt.def=br(Qt.def).replace("label",Qt._label).replace("title",Qt._title).getRegex(),Qt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Qt.listItemStart=br(/^( *)(bull) */).replace("bull",Qt.bullet).getRegex(),Qt.list=br(Qt.list).replace(/bull/g,Qt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Qt.def.source+")").getRegex(),Qt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Qt.html=br(Qt.html,"i").replace("comment",Qt._comment).replace("tag",Qt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Qt.lheading=br(Qt.lheading).replace(/bull/g,Qt.bullet).getRegex(),Qt.paragraph=br(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.blockquote=br(Qt.blockquote).replace("paragraph",Qt.paragraph).getRegex(),Qt.normal={...Qt},Qt.gfm={...Qt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Qt.gfm.table=br(Qt.gfm.table).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.gfm.paragraph=br(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.pedantic={...Qt.normal,html:br("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Qt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:s_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:br(Qt.normal._paragraph).replace("hr",Qt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Qt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Rt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:s_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:s_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Rt.punctuation=br(Rt.punctuation,"u").replace(/punctuation/g,Rt._punctuation).getRegex(),Rt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Rt.anyPunctuation=/\\[punct]/g,Rt._escapes=/\\([punct])/g,Rt._comment=br(Qt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Rt.emStrong.lDelim=br(Rt.emStrong.lDelim,"u").replace(/punct/g,Rt._punctuation).getRegex(),Rt.emStrong.rDelimAst=br(Rt.emStrong.rDelimAst,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt.emStrong.rDelimUnd=br(Rt.emStrong.rDelimUnd,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt.anyPunctuation=br(Rt.anyPunctuation,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt._escapes=br(Rt._escapes,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Rt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Rt.autolink=br(Rt.autolink).replace("scheme",Rt._scheme).replace("email",Rt._email).getRegex(),Rt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Rt.tag=br(Rt.tag).replace("comment",Rt._comment).replace("attribute",Rt._attribute).getRegex(),Rt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Rt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Rt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Rt.link=br(Rt.link).replace("label",Rt._label).replace("href",Rt._href).replace("title",Rt._title).getRegex(),Rt.reflink=br(Rt.reflink).replace("label",Rt._label).replace("ref",Qt._label).getRegex(),Rt.nolink=br(Rt.nolink).replace("ref",Qt._label).getRegex(),Rt.reflinkSearch=br(Rt.reflinkSearch,"g").replace("reflink",Rt.reflink).replace("nolink",Rt.nolink).getRegex(),Rt.normal={...Rt},Rt.pedantic={...Rt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:br(/^!?\[(label)\]\((.*?)\)/).replace("label",Rt._label).getRegex(),reflink:br(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rt._label).getRegex()},Rt.gfm={...Rt.normal,escape:br(Rt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Rt.gfm.url=br(Rt.gfm.url,"i").replace("email",Rt.gfm._extended_email).getRegex(),Rt.breaks={...Rt.gfm,br:br(Rt.br).replace("{2,}","*").getRegex(),text:br(Rt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ll{constructor(t){co(this,"tokens",void 0),co(this,"options",void 0),co(this,"state",void 0),co(this,"tokenizer",void 0),co(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||nu,this.options.tokenizer=this.options.tokenizer||new l_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Qt.normal,inline:Rt.normal};this.options.pedantic?(r.block=Qt.pedantic,r.inline=Rt.pedantic):this.options.gfm&&(r.block=Qt.gfm,r.inline=this.options.breaks?Rt.breaks:Rt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Qt,inline:Rt}}static lex(t,r){return new ll(r).lex(t)}static lexInline(t,r){return new ll(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},h),"number"==typeof g&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class ru{constructor(t){co(this,"options",void 0),this.options=t||nu}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Ts(o)+'">'+(n?t:Ts(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Ts(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=Nk(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=Nk(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class JC{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class cl{constructor(t){co(this,"options",void 0),co(this,"renderer",void 0),co(this,"textRenderer",void 0),this.options=t||nu,this.options.renderer=this.options.renderer||new ru,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new JC}static parse(t,r){return new cl(r).parse(t)}static parseInline(t,r){return new cl(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(kW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let g=0;g<h.length;g++)l+=this.renderer.tablecell(this.parseInline(h[g].tokens),{header:!1,align:s.align[g]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let h=0;h<s.items.length;h++){const g=s.items[h],b=g.checked,j=g.task;let se="";if(g.task){const me=this.renderer.checkbox(!!b);c?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=me+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=me+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:me+" "}):se+=me+" "}se+=this.parse(g.tokens,c),f+=this.renderer.listitem(se,j,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class jp{constructor(t){co(this,"options",void 0),this.options=t||nu}preprocess(t){return t}postprocess(t){return t}}co(jp,"passThroughHooks",new Set(["preprocess","postprocess"]));var e0=new WeakSet,$k=new WeakSet;function Bk(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=XC(this,$k,LW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function LW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Ts(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const ou=new class FW{constructor(...t){Ak(this,$k),Ak(this,e0),co(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),co(this,"options",this.setOptions),co(this,"parse",XC(this,e0,Bk).call(this,ll.lex,cl.parse)),co(this,"parseInline",XC(this,e0,Bk).call(this,ll.lexInline,cl.parseInline)),co(this,"Parser",cl),co(this,"Renderer",ru),co(this,"TextRenderer",JC),co(this,"Lexer",ll),co(this,"Tokenizer",l_),co(this,"Hooks",jp),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new ru(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new l_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new jp;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=jp.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(g=>c.call(i,g));const h=a.call(i,f);return c.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ll.lex(t,r??this.defaults)}parser(t,r){return cl.parse(t,r??this.defaults)}};function dr(e,t){return ou.parse(e,t)}dr.options=dr.setOptions=function(e){return ou.setOptions(e),kk(dr.defaults=ou.defaults),dr},dr.getDefaults=function QC(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},dr.defaults=nu,dr.use=function(...e){return ou.use(...e),kk(dr.defaults=ou.defaults),dr},dr.walkTokens=function(e,t){return ou.walkTokens(e,t)},dr.parseInline=ou.parseInline,dr.Parser=cl,dr.parser=cl.parse,dr.Renderer=ru,dr.TextRenderer=JC,dr.Lexer=ll,dr.lexer=ll.lex,dr.Tokenizer=l_,dr.Hooks=jp,dr.parse=dr;class $W extends vt{constructor(t,r){super()}schedule(t,r=0){return this}}const c_={setInterval(e,t,...r){const{delegate:n}=c_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=c_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},t0={now:()=>(t0.delegate||Date).now(),delegate:void 0};class Gp{constructor(t,r=Gp.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Gp.now=t0.now;const jW=new class VW extends Gp{constructor(t,r=Gp.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class BW extends $W{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return c_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&c_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class HW extends xn{constructor(t=1/0,r=1/0,n=t0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const WW=["*"];let Vk=(()=>{var e;class t{constructor(){this._buttonClick$=new xn,this.copied$=this._buttonClick$.pipe(Jr(()=>ia(Ht(!0),function UW(e=0,t,r=jW){let n=-1;return null!=t&&(ea(t)?r=t:n=t),new On(o=>{let i=function GW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(YT(!1)))),Fs(),function zW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,sa({connector:()=>new HW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(ZT(!1),cn(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[$m],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(Y(0,"button",0),Ve("click",function(){return o.onCopyToClipboardClick()}),Ka(1,"async"),xe(2),Ka(3,"async"),W()),2&n&&(Za("copied",Xa(1,3,o.copied$)),Re(2),ss(Xa(3,5,o.copiedText$)))},dependencies:[Wx],encapsulation:2,changeDetection:0}),t})();const YW=new ft("CLIPBOARD_OPTIONS");var n0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(n0||{});const jk=new ft("MARKED_EXTENSIONS"),Gk=new ft("MARKED_OPTIONS"),Uk=new ft("SECURITY_CONTEXT");let r0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new ru},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new xn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new ru;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const g=this.trimIndentation(n),b=i?this.decodeHtml(g):g,j=a?this.parseEmoji(b):b,se=this.parseMarked(j,f,s);return(c?se:this.sanitizer.sanitize(this.securityContext,se))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(cn(o=>this.handleExtension(n,o)))}highlight(n){if(!md(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!md(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&dr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(dr.use({renderer:o.renderer}),delete o.renderer),i?dr.parseInline(n,o):dr.parse(n,o)}parseEmoji(n){if(!md(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(md(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!md(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const g=document.createElement("div");let b,j;g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.opacity="0",g.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",g),f.onmouseover=()=>g.style.opacity="1",f.onmouseout=()=>g.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(Vk).hostView,b.rootNodes.forEach(se=>{se.onmouseover=()=>g.style.opacity="1",g.appendChild(se),j=new ClipboardJS(se,{text:()=>f.innerText})}),b.onDestroy(()=>j.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!md(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(YW,8),ce(jk,8),ce(Gk,8),ce(Xl),ce(Uk),ce(Gb,8),ce($b))},e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})(),o0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new an,this.load=new an,this.ready=new an,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new xn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(KT(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,Z.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,n0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,n0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(r0),_(os))},e.\u0275cmp=Ye({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[_i,$m],ngContentSelectors:WW,decls:1,vars:0,template:function(n,o){1&n&&(Dt(),St(0))},encapsulation:2}),t})();function o9(e){return[r0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:jk,useValue:e?.markedExtensions??[]},{provide:Uk,useValue:e?.sanitize??Ds.HTML}]}let s0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[o9(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja]}),t})();var Hk;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(Hk||(Hk={}));const zk="safari"in window,a0=!navigator.userAgent.match(/(crios)|(fxios)/i),Ms=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Wk=!!navigator.userAgent.match(/android/i),i9=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Fd=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Fd||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const l9=new Error("request for lock canceled");class u9{constructor(t,r=l9){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class ul{constructor(t){this._semaphore=new u9(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const u_="cloudpilot-session-preview";function qk(){localStorage.removeItem(u_)}function no(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,Z.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let Ll=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ld;class uo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Ro.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,Z.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,Z.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,Z.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Ck.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(Ld=uo).\u0275fac=function(t){return new(t||Ld)(ce(Fl),ce(Ll))},Ld.\u0275prov=Le({token:Ld,factory:Ld.\u0275fac,providedIn:"root"}),ae([no()],uo.prototype,"updateAvailable",null),ae([no()],uo.prototype,"fatalError",null),ae([no()],uo.prototype,"errorInNativeCode",null);let iu=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&qk(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Ro.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(uo),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var xr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(xr||{});let Up=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??xr.none}claim(n,o){this.assertOwnership(n,xr.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===xr.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(iu))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const _c="session",$d="rom",vc="memory",$l="state",d_="kvs",yc="memory-meta",dl="storage",As="storage-card",Hp="lock";class su extends Error{constructor(t){super(t)}}function er(e){return new Promise((t,r)=>{!function _9(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new su(e.error?.message))})}function Kk(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function v9(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const f_="session",c0="memory",Qk="storage-meta",Jk="storage-card";function u0(){return(u0=(0,Z.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(f_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function d0(){return(d0=(0,Z.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function f0(){return(f0=(0,Z.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(Qk,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(f_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function p0(){return(p0=(0,Z.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(Qk).name=Jk})).apply(this,arguments)}function h0(){return(h0=(0,Z.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(Jk).createIndex("storageId","storageId")})).apply(this,arguments)}function m0(){return(m0=(0,Z.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const R9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function eR(e){let t=-1;for(let r=0;r<e.length;r++)t=R9[255&(t^e[r])]^t>>>8;return~t}var P9=C(3219),O9=C.n(P9);const tR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p_;const N9=new Uint8Array(16);function F9(){if(!p_&&(p_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p_(N9)}const ui=[];for(let e=0;e<256;++e)ui.push((e+256).toString(16).slice(1));const g0=function L9(e,t,r){if(tR.randomUUID&&!t&&!e)return tR.randomUUID();const n=(e=e||{}).random||(e.rng||F9)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function nR(e,t=0){return ui[e[t+0]]+ui[e[t+1]]+ui[e[t+2]]+ui[e[t+3]]+"-"+ui[e[t+4]]+ui[e[t+5]]+"-"+ui[e[t+6]]+ui[e[t+7]]+"-"+ui[e[t+8]]+ui[e[t+9]]+"-"+ui[e[t+10]]+ui[e[t+11]]+ui[e[t+12]]+ui[e[t+13]]+ui[e[t+14]]+ui[e[t+15]]}(n)};var Bd;const _0=new Error("page lock lost"),rR=new Error("version mismatch"),oR=g0();function Co(){return(e,t,r)=>{const n=r.value;return r.value=(0,Z.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw s instanceof su?i.fatalIDBDead():s===rR?i.fatalVersionMismatch():s===_0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class or{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(vc),l=o.objectStore(yc),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const g=s.length>>>10;for(let b=0;b<g;b++){f.set(s.subarray(1024*b,1024*(b+1)));const j=Kk(c);if("number"==typeof j)a.put(j,[i,b]);else{const se=new Uint32Array(256);se.set(j),a.put(se,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,Z.Z)(function*(){const a=o.objectStore(yc),l=yield er(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,Z.Z)(function*(h,g){const b=o.objectStore(vc),j=new Uint32Array(l.totalSize>>>2),se=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));se.onsuccess=()=>{const me=se.result;if(!me)return h(new Uint8Array(j.buffer));const De=me.value,[,Se]=me.key;"number"==typeof De?j.subarray(256*Se,256*(Se+1)).fill(De|De<<8|De<<16|De<<24):j.subarray(256*Se,256*(Se+1)).set(1024===De.length?new Uint32Array(De.buffer):De),me.continue()},se.onerror=()=>g(new su(se.error?.message))});return function(h,g){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==eR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new Ro.j,this.storageCardChangeEvent=new Ro.j,this.sessionUpdateMutex=new ul,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,Z.Z)(function*(){const s=O9()(r),a=yield i.newTransaction(_c,$d,$l,vc,yc),l=a.objectStore(_c),c=a.objectStore($d);(yield er(c.get(s)))||c.put(r,s);const{id:h,...g}=t,b=yield er(l.add({...g,rom:s})),j=yield er(l.get(b));return n&&i.saveMemory(a,j.id,n),o&&i.saveState(a,j.id,o),yield er(a),j})()}getAllSessions(){var t=this;return(0,Z.Z)(function*(){const[r]=yield t.prepareObjectStore(_c);return yield er(r.getAll())})()}getSession(t){var r=this;return(0,Z.Z)(function*(){const[n]=yield r.prepareObjectStore(_c);return yield er(n.get(t))})()}deleteSession(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.newTransaction(_c,$d,$l,vc,yc),o=n.objectStore(_c),i=n.objectStore($d);(t=yield er(o.get(t.id)))&&(o.delete(t.id),0===(yield er(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield er(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,Z.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(_c),h=yield er(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const g={...h,...l};c.put(g),yield er(f),n.sessionChangeEvent.dispatch([h.id,g])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,Z.Z)(function*(){const[n,o]=yield r.prepareObjectStore(_c),i=yield er(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield er(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,Z.Z)(function*(){const o=yield n.newTransaction($d,$l,vc,yc),i=o.objectStore($d);return[yield er(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,Z.Z)(function*(){const[n,o]=yield r.prepareObjectStore($l);n.delete(t.id),yield er(o)})()}addEmptyStorageCard(t){var r=this;return(0,Z.Z)(function*(){const[n]=yield r.prepareObjectStore(As),o=yield er(n.add(t)),i=yield er(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,Z.Z)(function*(){return n.ngZone.runOutsideAngular((0,Z.Z)(function*(){const o=yield n.newTransaction(As,dl),i=o.objectStore(As),s=o.objectStore(dl),a=yield er(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const g=r.subarray(2048*h,2048*(h+1));h===l-1&&c.set(g);const b=v9(h===l-1?c:g);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield er(i.get(a));return yield er(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,Z.Z)(function*(){const[r]=yield t.prepareObjectStore(As);return er(r.getAll())})()}getCard(t){var r=this;return(0,Z.Z)(function*(){const[n]=yield r.prepareObjectStore(As);return er(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,Z.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(As),f=yield er(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield er(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.newTransaction(As,dl);r.storageCardContext.assertOwnership(t,xr.none);const o=n.objectStore(As),i=n.objectStore(dl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield er(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,Z.Z)(function*(){const i=yield o.newTransaction(As,dl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(dl);yield new Promise(function(){var a=(0,Z.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let g=h.value;const[,b]=h.key;"number"==typeof g?r.subarray(2048*b,2048*(b+1)).fill(g):(2048*(b+1)>r.length&&(g=g.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(g)),h.continue()},f.onerror=()=>c(new su(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,Z.Z)(function*(){const s=yield i.newTransaction(As,dl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(As),l=s.objectStore(dl),c=yield er(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let g=0;g<n.length;g++)for(let b=1;b<256&&!(h>=f);b<<=1)n[g]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield er(s)}))}kvsGet(t){var r=this;return(0,Z.Z)(function*(){const[n]=yield r.prepareObjectStore(d_);return er(n.get(t))})()}kvsSet(t){var r=this;return(0,Z.Z)(function*(){const[n,o]=yield r.prepareObjectStore(d_);for(const i of Object.keys(t))n.put(t[i],i);yield er(o)})()}kvsLoad(){var t=this;return(0,Z.Z)(function*(){const[r]=yield t.prepareObjectStore(d_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new su(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,Z.Z)(function*(){const[n,o]=yield r.prepareObjectStore(d_);n.delete(t),yield er(o)})()}acquireLock(t){var r=this;return(0,Z.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield er(t.objectStore(Hp).get(0)))!==oR)throw t.abort(),t.db.close(),_0})()}newTransaction(...t){var r=this;return(0,Z.Z)(function*(){const n=(yield r.db).transaction([Hp,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore($l);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore($l).delete(r)}loadState(t,r){return er(t.objectStore($l).get(r))}deleteMemory(t,r){const n=t.objectStore(vc),o=t.objectStore(yc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,Z.Z)(function*(){const r=t.transaction(Hp,"readwrite");yield er(r.objectStore(Hp).put(oR,0))})()}setupDb(){var t=this;return(0,Z.Z)(function*(){const r=setTimeout(()=>Ms&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw rR}const n=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new su("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new su("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,Z.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function D9(e){e.createObjectStore(f_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function E9(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(c0)&&e.deleteObjectStore(c0),t.objectStore(f_).clear(),e.createObjectStore("rom"),e.createObjectStore(c0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function I9(e,t){return u0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function x9(e,t){return d0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function T9(e,t){return f0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function M9(e,t){return p0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function A9(e,t){return h0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function k9(e,t){return m0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,Z.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(Bd=or).\u0275fac=function(t){return new(t||Bd)(ce(je),ce(iu),ce(Up))},Bd.\u0275prov=Le({token:Bd,factory:Bd.\u0275fac,providedIn:"root"}),ae([Co()],or.prototype,"addSession",null),ae([Co()],or.prototype,"getAllSessions",null),ae([Co()],or.prototype,"getSession",null),ae([Co()],or.prototype,"deleteSession",null),ae([Co()],or.prototype,"updateSessionPartial",null),ae([Co()],or.prototype,"updateSession",null),ae([Co()],or.prototype,"loadSession",null),ae([Co()],or.prototype,"deleteStateForSession",null),ae([Co()],or.prototype,"addEmptyStorageCard",null),ae([Co()],or.prototype,"importStorageCard",null),ae([Co()],or.prototype,"getAllStorageCards",null),ae([Co()],or.prototype,"getCard",null),ae([Co()],or.prototype,"updateStorageCardPartial",null),ae([Co()],or.prototype,"deleteStorageCard",null),ae([Co()],or.prototype,"loadCardData",null),ae([Co()],or.prototype,"kvsGet",null),ae([Co()],or.prototype,"kvsSet",null),ae([Co()],or.prototype,"kvsDelete",null),ae([Co()],or.prototype,"newTransaction",null),ae([Co()],or.prototype,"prepareObjectStore",null),ae([Co()],or.prototype,"initializeLock",null),ae([Co()],or.prototype,"setupDb",null);const iR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Si=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,Z.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Ro.j,this.mutex=new ul,this.storageMutex=new ul,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,Z.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,Z.Z)(function*(){const o=n;try{const i={...iR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...iR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),sR=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,Z.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Ms||Wk)&&this.installationMode===Fd.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Ms&&a0?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ms?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Ms&&a0?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ms?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Fd.pwa:document.referrer.startsWith("android-app://")?Fd.twa:window.matchMedia("(display-mode: standalone)").matches?Fd.pwa:Fd.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function z9(e,t){1&e&&(Y(0,"div",5),He(1,"ion-spinner"),W())}let au=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls))},e.\u0275cmp=Ye({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.modalController.dismiss()}),xe(6,"Close"),W()()()(),Y(7,"ion-content",2),mn(8,z9,2,0,"div",3),Y(9,"markdown",4),Ve("load",function(){return o.loading=!1}),W()()),2&n&&(Re(3),ss(o.title),Re(5),Fe("ngIf",o.loading),Re(1),Fe("src",o.url))},dependencies:[ii,o0,Ni,Fi,Li,$i,Fp,Vi,ji],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const lu="1.9.4-5de5b8f (preview)",lR=C.p+"assets/doc/CHANGELOG-94e2c830c39784ed.md";var h_=C(1633);const m_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:h}}=c;if("interval"===h){const g=t.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g()}}else if("timeout"===h){const g=r.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:g,timerType:b}=h;n.delete(f),"interval"===b?t.delete(g):r.delete(g)}}}),{clearInterval:c=>{const f=(0,h_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,h_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const h=(0,h_.generateUniqueNumber)(t);return t.set(h,()=>{c(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(c,f)=>{const h=(0,h_.generateUniqueNumber)(r);return r.set(h,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Vd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Vd||{});class cR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Vd.animationFrame}}class X9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>m_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,m_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Vd.timeout}}const Q9=[135,135,105],J9=[0,0,0],bc=new Array(16).fill(0).map((e,t)=>J9.map((r,n)=>Math.floor((t*r+(15-t)*Q9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),v0=bc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),jd=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(jd||{});function zp(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function y0(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function uR(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function dR(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return jd.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return jd.memorystick;default:return jd.none}}class fR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class n7{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class c7{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;if(this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r)return void this.handleSuspend();const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.emulationStateChangeEvent=new Ro.j,this.powerOffChangeEvent=new Ro.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new cR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new n7(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new fR(20),this.timePerFrameAverage=new fR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=zp(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=zp(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Vd.animationFrame?new cR(t=>this.onSchedule(t)):new X9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=zp(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=y0(t)?"white":v0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=bc[15],i=bc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[bc[15&o],bc[o>>>4&15],bc[o>>>8&15],bc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=bc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class u7{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const p7=new Error("transaction timeout"),mR=new Error("session does not match emulation");let Wp=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Z.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ro.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,Z.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,Z.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===mR)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===_0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,Z.Z)(function*(){const o=n.db.transaction([vc,yc,$l,dl,As,Hp],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield er(o.objectStore(As).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const h=performance.now();let g=0,b=0,j=0;const se=new u7(500,()=>{f=!0;try{o.abort()}catch{}c(p7)});o.oncomplete=()=>{se.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:j,timeBlocking:b-g,timeTotal:performance.now()-h})},o.onerror=()=>{se.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),g=performance.now(),j=n.saveDirtyMemory(o,se),i&&(j+=n.saveDirtyStorage(i,o,se)),n.saveSession(o),b=performance.now()}catch(me){throw f||(se.cancel(),o.abort()),me}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(vc),a=n.objectStore(yc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const g=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(g);for(let b=0;b<g;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=eR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let g=0;g<l.length;g++)if(this.dirtyPages[g]|=l[g],l[g]=0,0!==this.dirtyPages[g])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[g]&b){const j=Kk(c.subarray(256*i,256*(i+1)));"number"==typeof j?s.put(j,[this.sessionId,i]):(this.pages[i].set(j),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,xr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const h=o.objectStore(dl),g=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let j=1;j<256&&!(l>=g);j<<=1){if(this.cardDirtyPages[b]&j){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const se=this.cardPagePool[c++];se.set(a.subarray(2048*l,2048*(l+1))),h.put(se,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore($l);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw mR}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(Ll),ce(iu),ce(Up),ce(Si),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function h7(e,t){1&e&&(Y(0,"p",10),xe(1," ERROR: URL must be served via HTTPS. "),W())}function m7(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(gd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let g7=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(gd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(gd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new zg({url:new Go("",m7)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Enter download URL"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.continue()}),xe(6,"OK"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",4)(11,"form",5),Ve("keydown",function(s){return o.formKeyDown(s)}),Y(12,"p"),xe(13," Please enter the URL from which to download: "),W(),Y(14,"ion-item",6)(15,"ion-label",7),xe(16,"URL"),W(),He(17,"ion-input",8),W(),mn(18,h7,2,0,"p",9),Y(19,"p"),xe(20," Note that the remote server needs to support the CORS protocol. "),W()()()),2&n&&(Re(5),Fe("disabled",o.formGroup.invalid),Re(6),Fe("formGroup",o.formGroup),Re(7),Fe("ngIf",o.isMixedContent))},dependencies:[ii,Ni,Fi,Li,$i,Nl,Qo,Bi,Vi,ji,Ol,Pl,kl,Rl,Sa,il],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function Zp(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function gR(e){return`${Zp(e.name)}.img`}function _R(e,t){return`backup_${Zp(e.name)}${t?"_with_rom":""}.zip`}function b0(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function vR(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}function g_(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}let y7=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new zg({username:new Go(n?.username??""),password:new Go(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Si))},e.\u0275cmp=Ye({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Authenticate"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.saveAndContinue()}),xe(6,"OK"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",1),Ve("click",function(){return o.onCancel()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",3)(11,"form",4),Ve("keydown",function(s){return o.formKeyDown(s)}),Y(12,"p"),xe(13," The server requires authentication. "),W(),Y(14,"ion-item",5)(15,"ion-label",6),xe(16,"Username"),W(),He(17,"ion-input",7),W(),Y(18,"ion-item",5)(19,"ion-label",6),xe(20,"Password"),W(),He(21,"ion-input",8),W()()()),2&n&&(Re(11),Fe("formGroup",o.formGroup))},dependencies:[Ni,Fi,Li,$i,Nl,Qo,Bi,Vi,ji,Ol,Pl,kl,Rl,Sa,il],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),yR=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,Z.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(gd())("string"==typeof n?n:n.url);let c,f,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const g=i.kvsService.kvs.credentials[l.origin],b=new AbortController,j=window.setTimeout(()=>b.abort(),a),se=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&g?{Authorization:"Basic "+btoa(`${g.username}:${g.password}`)}:{}}});if(clearTimeout(j),401===se.status){if(!h&&g){h=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return se}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,Z.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:y7,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(al),ce(Si),ce(ls))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var C7=C(2227),S7=C.n(C7);function C0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function bR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}const CR=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function $t(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Ot{constructor(t){this.module=t,this.fatalErrorEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.proxyDisconnectEvent=new Ro.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi"))}static create(t){return(0,Z.Z)(function*(){return new Ot(yield S7()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:CR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,Z.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,Z.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(bR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!CR.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=C0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}}ae([$t()],Ot.prototype,"getRomInfo",null),ae([$t()],Ot.prototype,"initializeSession",null),ae([$t()],Ot.prototype,"cyclesPerSecond",null),ae([$t()],Ot.prototype,"runEmulation",null),ae([$t()],Ot.prototype,"getFrame",null),ae([$t()],Ot.prototype,"isScreenDirty",null),ae([$t()],Ot.prototype,"markScreenClean",null),ae([$t()],Ot.prototype,"minRamForDevice",null),ae([$t()],Ot.prototype,"framebufferSizeForDevice",null),ae([$t()],Ot.prototype,"totalMemorySizeForDevice",null),ae([$t()],Ot.prototype,"queuePenMove",null),ae([$t()],Ot.prototype,"queuePenUp",null),ae([$t()],Ot.prototype,"queueButtonDown",null),ae([$t()],Ot.prototype,"queueButtonUp",null),ae([$t()],Ot.prototype,"queueKeyboardEvent",null),ae([$t()],Ot.prototype,"isPowerOff",null),ae([$t()],Ot.prototype,"isUiInitialized",null),ae([$t()],Ot.prototype,"isSetupComplete",null),ae([$t()],Ot.prototype,"getOSVersion",null),ae([$t()],Ot.prototype,"reset",null),ae([$t()],Ot.prototype,"resetNoExtensions",null),ae([$t()],Ot.prototype,"resetHard",null),ae([$t()],Ot.prototype,"installDb",null),ae([$t()],Ot.prototype,"getPalette2bitMapping",null),ae([$t()],Ot.prototype,"getMemory",null),ae([$t()],Ot.prototype,"getMemory32",null),ae([$t()],Ot.prototype,"getDirtyPages",null),ae([$t()],Ot.prototype,"loadMemory",null),ae([$t()],Ot.prototype,"getRomImage",null),ae([$t()],Ot.prototype,"getSavestate",null),ae([$t()],Ot.prototype,"saveState",null),ae([$t()],Ot.prototype,"loadState",null),ae([$t()],Ot.prototype,"getHotsyncName",null),ae([$t()],Ot.prototype,"setClockFactor",null),ae([$t()],Ot.prototype,"setHotsyncName",null),ae([$t()],Ot.prototype,"setClipboardIntegration",null),ae([$t()],Ot.prototype,"getClipboardIntegration",null),ae([$t()],Ot.prototype,"isSuspended",null),ae([$t()],Ot.prototype,"getSuspendKind",null),ae([$t()],Ot.prototype,"cancelSuspend",null),ae([$t()],Ot.prototype,"getSuspendContextClipboardCopy",null),ae([$t()],Ot.prototype,"getSuspendContextClipboardPaste",null),ae([$t()],Ot.prototype,"setNetworkRedirection",null),ae([$t()],Ot.prototype,"getNetworkRedirection",null),ae([$t()],Ot.prototype,"getSuspendContextNetworkConnect",null),ae([$t()],Ot.prototype,"getSuspendContextNetworkRpc",null),ae([$t()],Ot.prototype,"copyBuffer",null),ae([$t()],Ot.prototype,"freeBuffer",null),ae([$t()],Ot.prototype,"setHotsyncNameManagement",null),ae([$t()],Ot.prototype,"resolveBuffer",null),ae([$t()],Ot.prototype,"serializeSessionImage",null),ae([$t()],Ot.prototype,"deserializeSessionImage",null),ae([$t()],Ot.prototype,"launchAppByName",null),ae([$t()],Ot.prototype,"launchAppByDbHeader",null),ae([$t()],Ot.prototype,"deviceSupportsCardSize",null),ae([$t()],Ot.prototype,"clearExternalStorage",null),ae([$t()],Ot.prototype,"allocateCard",null),ae([$t()],Ot.prototype,"decompressCard",null),ae([$t()],Ot.prototype,"getCardData",null),ae([$t()],Ot.prototype,"getCardDirtyPages",null),ae([$t()],Ot.prototype,"getMountedKey",null),ae([$t()],Ot.prototype,"mountCard",null),ae([$t()],Ot.prototype,"removeCard",null),ae([$t()],Ot.prototype,"remountCards",null),ae([$t()],Ot.prototype,"getCardSupportLevel",null),ae([$t()],Ot.prototype,"loadSkin",null);const w7=C.p+"wasm/cloudpilot_web-70072015cd716eef.wasm";let Da=(()=>{var e;class t{constructor(){this.cloudpilot=Ot.create(w7)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var D7=C(3097),Gd=C.n(D7);const S0=524288;class w0{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(S0),t.destroy(n)}static create(t,r){return(0,Z.Z)(function*(){return new w0(yield Gd()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,Z.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=S0){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,S0);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class D0{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,Z.Z)(function*(){return new D0(yield Gd()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class E0{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,Z.Z)(function*(){const n=yield Gd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new E0(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=C0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class I0{constructor(t,r){this.module=t;const n=new t.FSTools,o=n.Malloc(r.length),i=t.getPointer(o);t.HEAPU8.subarray(i,i+r.length).set(r),t.destroy(n),this.nativeContext=new t.GunzipContext(o,r.length,524288)}static create(t,r){return(0,Z.Z)(function*(){const n=yield Gd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new I0(n,t)})()}gunzip(){var t=this;return(0,Z.Z)(function*(){for(;0===t.nativeContext.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==t.nativeContext.GetState()||(console.error(`gunzip failed: ${t.nativeContext.GetError()}`),!1)})()}getDecompressedData(){const t=this.nativeContext.GetUncompressedSize(),r=this.nativeContext.GetUncompressedData(),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t)}}class x0{constructor(t,r){this.module=t,this.uncompressedDataSize=r;const n=new t.FSTools,o=n.Malloc(r);this.uncompressedDataPtr=t.getPointer(o),t.destroy(n),this.nativeContext=new t.GzipContext(o,r,524288)}static create(t,r){return(0,Z.Z)(function*(){const n=yield Gd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new x0(n,t)})()}getBuffer(){return this.module.HEAPU8.subarray(this.uncompressedDataPtr,this.uncompressedDataPtr+this.uncompressedDataSize)}setFilename(t){return this.nativeContext.SetFilename(t),this}setMtime(t){return this.nativeContext.SetMtime(t),this}gzip(){var t=this;return(0,Z.Z)(function*(){for(t.nativeContext.Continue();1===t.nativeContext.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==t.nativeContext.GetState()||(console.error(`gzip failed: ${t.nativeContext.GetError()}`),!1)})()}getGzipData(){const t=this.nativeContext.GetGzipSize(),r=this.nativeContext.GetGzipData(),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t)}}const SR=new Map;class M7{constructor(t="fstools_web.wasm"){let r=SR.get(t);r||(r=function E7(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,Z.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),SR.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,Z.Z)(function*(){const n=yield D0.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,Z.Z)(function*(){const n=yield I0.create(t,r.instantiante);if(yield n.gunzip())return n.getDecompressedData()})()}createGzipContext(t){return x0.create(t,this.instantiante)}createFsckContext(t){return E0.create(t,this.instantiante)}createZipContext(t){return w0.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,Z.Z)(function*(){const n=yield Gd()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),bR(new n.ZipfileWalker(t.length,i),n)})()}}const A7=C.p+"wasm/fstools_web-b474c601800e104b.wasm";let qp=(()=>{var e;class t extends M7{constructor(){super(A7)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Cc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f,this.fstoolsService=h,this.alertController=g}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.saveFile(gR(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fstoolsService.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const h=g_(c.name.replace(/[\/\\]/,"_").substring(0,200),g=>a.has(g));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.saveFile(function _7(){return`${Zp("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:vR(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.saveFile(gR(n),g)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,Z.Z)(function*(){let s;try{s=new(gd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,Z.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:vR(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,Z.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,Z.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:g7,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=zk||Ms&&a0;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,Z.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,Z.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(al),ce(Bp),ce(Si),ce(ls),ce(uo),ce(yR),ce(Da),ce(qp),ce(Fl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),T0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Ro.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const __=new Error("permission denied");let wR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,Z.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===__)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,Z.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?__:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,Z.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,Z.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,Z.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===__)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,Z.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?__:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,Z.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(l=(0,Z.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,Z.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,Z.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Fl),ce(uo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const R7="https:"===window.location.protocol?8667:8666,P7=/^[\da-z\-\.]+$/i,O7=/^[\da-z\-\.]+:\d+$/i;function M0(e){if(!e)return;const t=window.location.protocol;if(e.match(P7))return`${t}//${e}:${R7}`;if(e.match(O7))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function N7(e){return void 0!==M0(e.value)?null:{proxyAddress:"invalid"}}let A0=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,Z.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=M0(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=g0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ro.j,this.mutex=new ul,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,Z.Z)(function*(){const s=M0(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(je),ce(yR))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ER=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),IR=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Tr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(Tr||{}),Lr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Lr||{});let Yp=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.alertController=l,this.sessions=[],this.loading=!0,this.updateMutex=new ul,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,Z.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(h=>h.name));let f=1;for(;0===a.GetState();){i.message=`Importing ${f++}/${l}...`;const h=/\.(bin|img)$/.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!h){yield o.alertService.errorMessage(`${a.GetCurrentEntryName()} is not a valid session.`,"Continue"),a.Next();continue}const g=g_(h.metadata?.name??a.GetCurrentEntryName(),b=>c.has(b));yield o.doAddSessionFromImage(h,g,h.metadata),a.Next()}}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,Z.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Lr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,Z.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,Z.Z)(function*(){yield o.storageService.updateSession(n)})()}updateSessionsFromStorage(){var n=this;return(0,Z.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,Z.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,Z.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Lr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da),ce(or),ce(al),ce(qp),ce(uo),ce(Fl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var B7=C(8886),V7=C.n(B7),fl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(fl||{}),cu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(cu||{});function j7(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function xR(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:j7(e.GetAttributes())}}class k0{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,Z.Z)(function*(){return new k0(yield V7()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=C0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(xR(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:xR(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,Z.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,Z.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,Z.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(fl.success);case-3:return a(fl.cardFull);case-1:return a(fl.ioError);case-2:return a(fl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,Z.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return cu.success;case-2:return cu.cardFull;case-1:return cu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var G7=C(307),TR=C.n(G7);function MR(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const U7=C.p+"wasm/vfs_web-3431374c51026b1f.wasm";let uu=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertController=a,this.alertService=l,this.onReleaseCard=new Ro.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=k0.create(U7),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,Z.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,Z.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,xr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,xr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,xr.vfs),!1)})()}releaseCard(n){var o=this;return(0,Z.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,xr.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,Z.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||TR()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,Z.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),c=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function v7(e){return`files_${Zp(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:g}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),g.length>0&&(g.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.slice(0,3).join("<br>")}<br><br> and ${g.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,Z.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,Z.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,Z.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===Tr.clean||n.status===Tr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,Z.Z)(function*(){const s=yield i.loadingController.create();yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),c){case fl.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case fl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case fl.cardFull:f="No space left on card.",h="No space left";break;case fl.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const g=a-l,b=j=>j>1?`${j} entries`:"one entry";a>0&&g===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),g>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${MR(b(l))} unpacked succesfully, but ${b(g)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,Z.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create();yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case cu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case cu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,Z.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create();yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${MR(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,Z.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,h=!1,g=!1;e:for(let b=0;b<n.length;b++){const j=n[b],se=s.find(De=>De.name===j.name);if(se&&se.isDirectory){if(!h){const{overwrite:Se,rememberChoice:Et}=yield i.overwriteFileDialog(j.name,"directory");g=Se,h=Et}let De=!0;if(g&&(De=!(yield l.deleteRecursive([i.normalizePath(`${o}/${j.name}`)])).success),De){a.push(j.name);continue}}if(se&&!se.isDirectory){if(!c){const{overwrite:De,rememberChoice:Se}=yield i.overwriteFileDialog(j.name,"file");f=De,c=Se}if(!f){a.push(j.name);continue}}let me;try{me=yield j.getContent()}catch(De){console.warn(De),a.push(j.name),yield i.alertService.errorMessage(`Unable to open ${j.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${j.name}`),me)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(De=>De.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(j.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,Z.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,Z.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,Z.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,Z.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==fl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,Z.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===cu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,Z.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,xr.vfs),yield n.storageService.loadCardData(o.id,s,xr.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,xr.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,Z.Z)(function*(){let s=!1,a=!1;const l=yield i.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:i.alertService.sanitizeMessage("file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                    Do you want to overwrite the existing directory ${n}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>s=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:c=>a=!0===c.checked,cssClass:"alert-checkbox"}]});return yield l.present(),yield l.onDidDismiss(),{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,Z.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,Z.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:Tr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,Z.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,xr.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,Z.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,Z.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(Up),ce(Cc),ce(al),ce(Fl),ce(uo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Uo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Uo||{});function AR(){return g0().replace(/-/g,"")}let Ud=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,j){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=h,this.vfsService=g,this.storageCardContext=b,this.fstools=j,this.mountCardEvent=new Ro.j,this.deleteCardEvent=new Ro.j,this.loading=!0,this.cards=[],this.updateMutex=new ul,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,Z.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function H7(e){switch(e){case Uo.mb4:return 4;case Uo.mb8:return 8;case Uo.mb16:return 16;case Uo.mb32:return 32;case Uo.mb64:return 64;case Uo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:AR(),name:n,size:4*l.length,status:Tr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,Z.Z)(function*(){const a={storageId:AR(),name:n,size:o.length,status:Tr.clean,dontFsckAutomatically:i},l=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2),c=yield s.loadingController.create({message:"Importing..."});try{if(i)yield c.present(),yield s.storageService.importStorageCard(a,l);else{const[f,h]=yield s.fsckNewCard(l,a);yield c.present(),yield s.storageService.importStorageCard(h,f)}}finally{c.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,xr.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,Z.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,xr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,xr.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,Z.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:Tr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,xr.cloudpilot)})()}checkCard(n){var o=this;return(0,Z.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,xr.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,Z.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===xr.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,Z.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=Tr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create();yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,Z.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;const f=i?yield s.fstools.createGzipContext(a.size):void 0;if(f){const h=f.getBuffer();c=new Uint32Array(h.buffer,h.byteOffset,h.byteLength>>2)}try{yield l.present();const h=s.mountedInSession(n);let g;if(h&&h.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),g=(yield s.cloudpilotService.cloudpilot).getCardData(a.storageId),g&&(c?c.set(g):c=g)),g||(c||(c=new Uint32Array(a.size>>>2)),yield s.storageService.loadCardData(a.id,c,s.storageCardContext.getOwner(n))),f){if(f.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),!(yield f.gzip()))return void s.alertService.errorMessage("Failed to compress card image.");o+=".gz"}}finally{l.dismiss()}s.fileService.saveFile(o,f?f.getGzipData():new Uint8Array(c.buffer,c.byteOffset,c.length<<2))})()}getCard(n){var o=this;return(0,Z.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}updateCardsFromDB(){var n=this;return(0,Z.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,Z.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,Z.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,Z.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===Tr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,xr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case Tr.clean:break;case Tr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Tr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case Tr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,xr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),xr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:Tr.clean}),o.storageCardContext.release(n,xr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:Tr.unformatted}),o.storageCardContext.release(n,xr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:Tr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:Tr.unfixable}),o.storageCardContext.release(n,xr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,Z.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),xr.fstools),yield i.storageService.updateStorageCardPartial(n,{status:Tr.clean}),i.storageCardContext.release(n,xr.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,Z.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:Tr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:Tr.clean}]:[n,{...o,status:Tr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:Tr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:Tr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,Z.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:Tr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,Z.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:Tr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,Z.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Yp),ce(or),ce(Ll),ce(Da),ce(al),ce(Wp),ce(uo),ce(iu),ce(Cc),ce(uu),ce(Up),ce(qp))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Ea=(()=>{var e;class t extends c7{constructor(n,o,i,s,a,l,c,f,h,g,b,j,se,me,De,Se,Et,Mt){var lt;super(),lt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.fileService=c,this.alertService=f,this.modalWatcher=h,this.clipboardService=g,this.kvsService=b,this.proxyService=j,this.buttonService=se,this.bootstrapService=me,this.cloudpilotService=De,this.storageCardService=Se,this.storageCardContext=Et,this.app=Mt,this.switchSession=(Mr,cs={})=>this.mutex.runExclusive((0,Z.Z)(function*(){if(Mr===lt.emulationState.getCurrentSession()?.id)return!0;let ks;yield lt.stopUnchecked(),yield lt.bootstrapService.hasRendered(),(cs.showLoader??1)&&(ks=yield lt.loadingController.create({message:"Loading..."}),yield ks.present());try{const B0=yield lt.storageService.getSession(Mr);if(!B0)throw new Error(`invalid session ${Mr}`);lt.emulationState.setCurrentSession(void 0);const kY=yield lt.cloudpilotService.cloudpilot;if(!(yield lt.restoreSession(B0,kY)))return lt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;lt.emulationState.setCurrentSession(B0),function m9(e){localStorage.setItem(u_,e+"")}(Mr)}finally{ks&&(yield ks.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,Z.Z)(function*(){!lt.emulationState.getCurrentSession()||lt.running||lt.errorService.hasFatalError()||!lt.cloudpilotInstance||(yield lt.kvsService.mutex.runExclusive(()=>lt.updateFeatures()),lt.doResume(),lt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Z.Z)(function*(){lt.doPause(),!lt.errorService.hasFatalError()&&lt.emulationState.getCurrentSession()&&(yield lt.snapshotService.waitForPendingSnapshot(),yield lt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Mr,cs])=>this.mutex.runExclusive((0,Z.Z)(function*(){const ks=lt.emulationState.getCurrentSession();Mr===ks?.id&&(void 0!==ks.mountedCard&&void 0===cs&&lt.storageCardContext.release(ks.mountedCard,xr.cloudpilot),lt.emulationState.setCurrentSession(cs),lt.emulationState.getCurrentSession()||(qk(),lt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Z.Z)(function*(){const Mr=lt.emulationState.getCurrentSession();Mr&&lt.fileService.emergencySaveSession(Mr)})),this.mutex=new ul,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Mr=>{Mr.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Mr),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const In=function h9(){const e=localStorage.getItem(u_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==In&&!yT()&&(this.bootstrapCompletePromise=this.recoverStoredSession(In))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Vd.timeout:Vd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,Z.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,Z.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,Z.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Ms&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,Z.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(je),ce(al),ce(Ll),ce(Wp),ce(iu),ce(Cc),ce(uo),ce(T0),ce(wR),ce(Si),ce(A0),ce(ER),ce(IR),ce(Da),ce(Ud),ce(Up),ce(Dl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),R0=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Ro.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,Z.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,Z.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,Z.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,Z.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(al))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),kR=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Z.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==lu&&(yield l.kvsService.set({version:lu,previousVersion:c,latestVersion:lu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${lu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=lu})),this.mutex=new ul,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,Z.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,Z.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===lu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,Z.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:lR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,Z.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(Ea),ce(uo),ce(ls),ce(R0))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),K7=(()=>{var e;class t{constructor(n,o,i){this.kvsService=n,this.alertService=o,this.emulationService=i}start(){var n=this;return(0,Z.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o)})()}showInfo(n){var o=this;return(0,Z.Z)(function*(){return 2===n&&Ms&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(Ea))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),X7=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,Z.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(sR),_(kR),_(IR),_(K7))},e.\u0275cmp=Ye({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(Y(0,"ion-app"),He(1,"ion-router-outlet"),W())},dependencies:[Sk,$p]}),t})(),RR=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(Y(0,"div"),xe(1,"Dummy"),W())},encapsulation:2}),t})(),PR=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Bb),ce(jo))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const P0=Q.m515,Q7=v0[2],J7=v0[0],Hd="rgba(0,0,0,0.2)";function OR(e){const t=zp(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function rZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class oZ{constructor(t){this.skinLoader=t,this.layout=OR(P0),this.onResize=new Ro.j}get width(){switch(this.getOrientation()){case Lr.portrait:case Lr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Lr.portrait:case Lr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Lr.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case Lr.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case Lr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,Z.Z)(function*(){if(!t)return;r.layout=OR(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,Z.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Hd),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Hd),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Hd),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Hd),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Hd),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Hd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Lr.portrait:case void 0:break;case Lr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Lr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Lr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,Z.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,Q7),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return y0(this.getDeviceId())?"white":J7}frameColor(){return y0(this.getDeviceId())?"white":"#ccc"}}function sZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class lZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,sZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function iZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,Z.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(zk||Ms)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let y_=(()=>{var e;class t extends oZ{constructor(n){super(new lZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,Z.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,Z.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,Z.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??P0}getOrientation(){return this.session?.deviceOrientation??Lr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function cZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(zp(this.session?.device??P0).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),O0=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(_(jo),_(y_),_(Ll))},e.\u0275cmp=Ye({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(Y(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),He(4,"ion-icon",3),Y(5,"ion-label"),xe(6,"Emulator"),W()(),Y(7,"ion-tab-button",4),He(8,"ion-icon",5),Y(9,"ion-label"),xe(10,"Sessions"),W()(),Y(11,"ion-tab-button",6),He(12,"ion-icon",7),Y(13,"ion-label"),xe(14,"Cards"),W()(),Y(15,"ion-tab-button",8),He(16,"ion-icon",9),Y(17,"ion-label"),xe(18,"Settings"),W()(),Y(19,"ion-tab-button",10),He(20,"ion-icon",11),Y(21,"ion-label"),xe(22,"About"),W()()()()()),2&n&&(Re(2),Za("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[ai,Bi,i_,Dk,Ek],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Kp=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja,s0.forChild(),gc,eu,Kg]}),t})(),uZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja,eu,gc,Kp,s0.forChild()]}),t})(),dZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja,eu,gc,Kp]}),t})(),fZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja,eu,gc,Kg,Kp]}),t})(),pZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja,eu,gc,Kp,Kg]}),t})(),hZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Ja,gc,eu,Kg,Kp]}),t})();const mZ=C.p+"assets/doc/about-d0ca8b5cf1135905.md";function gZ(e,t){if(1&e){const r=rr();Y(0,"ion-button",1),Ve("click",function(){return Bt(r),Vt(wt().onClick())}),He(1,"ion-icon",2),W()}if(2&e){const r=wt();Re(1),Fe("name",r.iconName)}}let b_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Ms?"logo-apple-appstore":Wk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(sR))},e.\u0275cmp=Ye({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&mn(0,gZ,2,1,"ion-button",0),2&n&&Fe("ngIf",o.show)},dependencies:[ii,Ni,ai]}),t})();function _Z(e,t){1&e&&(Y(0,"div",10),He(1,"ion-spinner"),W())}function vZ(e,t){1&e&&(Y(0,"div"),xe(1,"app cached for offline use"),W())}let yZ=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return lu}get url(){return mZ}showChangelog(){var n=this;return(0,Z.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:lR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(R0))},e.\u0275cmp=Ye({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"About"),W(),Y(4,"ion-buttons",0),He(5,"app-pwa-prompt"),W()()(),Y(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),xe(10,"About"),W()()(),mn(11,_Z,2,0,"div",3),Y(12,"div",4)(13,"markdown",5),Ve("load",function(){return o.loading=!1}),W()(),Y(14,"div",6),xe(15),He(16,"br"),Y(17,"a",7),Ve("click",function(){return o.showChangelog()}),xe(18,"Changelog"),W(),mn(19,vZ,2,0,"div",8),W(),He(20,"img",9),W()),2&n&&(Re(11),Fe("ngIf",o.loading),Re(2),Fe("src",o.url),Re(2),bi(" CloudpilotEmu version ",o.version," "),Re(4),Fe("ngIf",o.serviceWorkerAvailable))},dependencies:[ii,Fi,Li,$i,Fp,Vi,ji,b_,o0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function bZ(e,t){if(1&e&&(Y(0,"ion-select-option",16),xe(1),W()),2&e){const r=t.$implicit;Fe("value",r[0]),Re(1),bi("",r[1]," ")}}function CZ(e,t){if(1&e&&(Y(0,"ion-select-option",16),xe(1),W()),2&e){const r=t.$implicit;Fe("value",r[0]),Re(1),bi("",r[1]," ")}}function SZ(e,t){if(1&e&&(Y(0,"ion-item",6)(1,"ion-label",7),xe(2,"Hotsync name"),W(),He(3,"ion-input",17),W()),2&e){const r=wt();Re(3),Fe("placeholder",r.placeholder)}}let NR=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Lr.portrait,"Portrait"],[Lr.landscape90,"Landscape 90\xb0"],[Lr.landscape270,"Landscape 270\xb0"],[Lr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,uR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function e7(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new zg({name:new Go(this.session.name,{validators:[Ip.required,this.validateNameUnique]}),manageHotsyncName:new Go(!this.session.dontManageHotsyncName),hotsyncName:new Go(this.session.hotsyncName||""),device:new Go({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Go((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Go(this.session.deviceOrientation||Lr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Yp),_(uo))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Session settings"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.save()}),xe(6,"Save"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),Y(12,"h1"),xe(13,"Session"),W(),Y(14,"ion-item",6)(15,"ion-label",7),xe(16,"Session name"),W(),He(17,"ion-input",8),W(),Y(18,"h1"),xe(19,"Device"),W(),Y(20,"ion-item",6)(21,"ion-label",7),xe(22,"Device type"),W(),Y(23,"ion-select",9),mn(24,bZ,2,2,"ion-select-option",10),W()(),Y(25,"ion-item",6)(26,"ion-label",7),xe(27,"Orientation"),W(),Y(28,"ion-select",11),mn(29,CZ,2,2,"ion-select-option",10),W()(),Y(30,"ion-item",6)(31,"ion-label",12),xe(32),W(),Y(33,"ion-range",13),Ve("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),W()(),Y(34,"h1"),xe(35,"Hotsync"),W(),Y(36,"ion-item",6)(37,"ion-label"),xe(38,"Manage hotsync name"),W(),He(39,"ion-toggle",14),W(),mn(40,SZ,4,1,"ion-item",15),W()()),2&n&&(Re(5),Fe("disabled",o.formGroup.invalid),Re(6),Fe("formGroup",o.formGroup),Re(13),Fe("ngForOf",o.deviceList),Re(5),Fe("ngForOf",o.orientations),Re(3),ss(o.speedLabel),Re(8),Fe("ngIf",o.showHotsyncNameInput))},dependencies:[Gc,ii,Ni,Fi,Li,$i,Nl,Qo,Bi,KC,r_,o_,Vi,Lp,ji,Nd,Jg,Ol,Pl,kl,Rl,HC,Sa,il],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),wZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,Z.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,Z.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const g=h.GetCurrentDatabase();h.Save()||a.push(g),yield new Promise(b=>setTimeout(b,0))}l=c.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${b0(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(_R(i,n),l)},"Cancel"):o.fileService.saveFile(_R(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea),ce(al),ce(Wp),ce(Cc),ce(Ll),ce(uo),ce(Da))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const DZ=window.AudioContext||window.webkitAudioContext;function N0(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class EZ{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,Z.Z)(function*(){if(!r.initialized){try{r.context=new DZ}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,Z.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield N0(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield N0(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,Z.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new ul,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Ms||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Ms||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,Z.Z)(function*(){t.context&&(yield N0(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let F0=(()=>{var e;class t extends EZ{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea),ce(Si),ce(T0))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),LR=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea),ce(je))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function xZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",4),Ve("click",function(){return Bt(r),Vt(wt().power())}),Y(1,"ion-label"),xe(2,"Power"),W(),He(3,"ion-icon",5),W()}if(2&e){const r=wt();Fe("detail",!1)("disabled",!r.emulationService.isRunning())}}function TZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",4),Ve("click",function(){return Bt(r),Vt(wt().hotsync())}),Y(1,"ion-label"),xe(2,"Hotsync"),W(),He(3,"ion-icon",6),W()}if(2&e){const r=wt();Fe("detail",!1)("disabled",!r.emulationService.isRunning())}}function MZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",4),Ve("click",function(){return Bt(r),Vt(wt().reset())}),Y(1,"ion-label"),xe(2,"Reset"),W(),He(3,"ion-icon",7),W()}if(2&e){const r=wt();Fe("detail",!1)("disabled",!r.emulationService.isRunning())}}function AZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",8),Ve("click",function(){return Bt(r),Vt(wt().insertCard())}),Y(1,"ion-label"),xe(2),W(),He(3,"ion-icon",9),W()}if(2&e){const r=wt();Fe("detail",!1),Re(2),bi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function kZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",8),Ve("click",function(){return Bt(r),Vt(wt().ejectCard())}),Y(1,"ion-label"),xe(2),W(),He(3,"ion-icon",10),W()}if(2&e){const r=wt();Fe("detail",!1),Re(2),bi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function RZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",8),Ve("click",function(){return Bt(r),Vt(wt().mute(!1))}),Y(1,"ion-label"),xe(2,"Enable audio"),W(),He(3,"ion-icon",11),W()}2&e&&Fe("detail",!1)}function PZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",8),Ve("click",function(){return Bt(r),Vt(wt().mute(!0))}),Y(1,"ion-label"),xe(2,"Disable audio"),W(),He(3,"ion-icon",12),W()}2&e&&Fe("detail",!1)}function OZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",4),Ve("click",function(){return Bt(r),Vt(wt().backup())}),Y(1,"ion-label"),xe(2,"Save backup"),W(),He(3,"ion-icon",13),W()}if(2&e){const r=wt();Fe("detail",!1)("disabled",r.backupDisabled)}}function NZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",8),Ve("click",function(){return Bt(r),Vt(wt().rotate())}),Y(1,"ion-label"),xe(2,"Rotate"),W(),He(3,"ion-icon",14),W()}2&e&&Fe("detail",!1)}function FZ(e,t){if(1&e){const r=rr();Y(0,"ion-item",8),Ve("click",function(){return Bt(r),Vt(wt().editSettings())}),Y(1,"ion-label"),xe(2,"Settings"),W(),He(3,"ion-icon",15),W()}2&e&&Fe("detail",!1)}function LZ(e){switch(e){case Lr.portrait:case void 0:return Lr.landscape90;case Lr.landscape90:return Lr.portrait180;case Lr.portrait180:return Lr.landscape270;case Lr.landscape270:return Lr.portrait;default:throw new Error("cannot happen")}}let $Z=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,j,se,me,De,Se,Et,Mt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=h,this.sessionService=g,this.performanceWatchdogService=b,this.canvasDisplayService=j,this.cloudpilotService=se,this.storageCardService=me,this.alertService=De,this.alertController=Se,this.storageService=Et,this.errorService=Mt,this.showHelp=()=>{}}reset(){var n=this;return(0,Z.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,Z.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function t7(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&dR(n.device)!==jd.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&dR(n.device)===jd.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,Z.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:NR,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,Z.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,Z.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:LZ(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,Z.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,Z.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ea),_(Ll),_(wZ),_(ER),_(Bp),_(tu),_(F0),_(Si),_(ls),_(Yp),_(LR),_(y_),_(Da),_(Ud),_(uo),_(Fl),_(or),_(iu))},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list"),mn(1,xZ,4,2,"ion-item",0)(2,TZ,4,2,"ion-item",0)(3,MZ,4,2,"ion-item",0)(4,AZ,4,2,"ion-item",1)(5,kZ,4,2,"ion-item",1)(6,RZ,4,1,"ion-item",1)(7,PZ,4,1,"ion-item",1)(8,OZ,4,2,"ion-item",0)(9,NZ,4,1,"ion-item",1)(10,FZ,4,1,"ion-item",1),Y(11,"ion-item",2),Ve("click",function(){return o.help()}),Y(12,"ion-label"),xe(13,"Help"),W(),He(14,"ion-icon",3),W()()),2&n&&(Re(1),Fe("ngIf",o.hasActiveSession&&!o.powerDisabled),Re(1),Fe("ngIf",o.hasActiveSession),Re(1),Fe("ngIf",o.hasActiveSession),Re(1),Fe("ngIf",o.supportsStorageCard&&!o.hasMountedCard),Re(1),Fe("ngIf",o.supportsStorageCard&&o.hasMountedCard),Re(1),Fe("ngIf",o.isMuted&&!o.isAudioOff),Re(1),Fe("ngIf",!o.isMuted&&!o.isAudioOff),Re(1),Fe("ngIf",o.hasActiveSession),Re(1),Fe("ngIf",o.hasActiveSession),Re(1),Fe("ngIf",o.hasActiveSession),Re(1),Fe("detail",!1))},dependencies:[ii,ai,Qo,Bi,sl]}),t})();const BZ=C.p+"assets/doc/emulation-4d1cd1e4fd3e19e2.md";class VZ{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let jZ=(()=>{var e;class t extends VZ{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ea),ce(y_),ce(T0),ce(je),ce(Dl))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function $R(e){return/\.(prc|pdb|pqa)$/i.test(e)}class WZ{constructor(t,r,n,o,i,s){this.cloudpilotService=t,this.fstools=r,this.alertController=n,this.alertService=o,this.snapshotService=i,this.files=s,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,Z.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else $R(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,Z.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function zZ(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!$R(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function HZ(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():new Promise(n=>{this.alertController.create({header:t,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:this.alertService.sanitizeMessage(r),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),n()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let ZZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.alertController=l,this.fstools=c}installFiles(n){var o=this;return(0,Z.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new WZ(o.cloudpilotService,o.fstools,o.alertController,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSucces(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSucces(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${b0(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${b0(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Da),ce(Ea),ce(al),ce(Wp),ce(uo),ce(Fl),ce(qp))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),L0=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const qZ=["canvas"];function YZ(e,t){if(1&e){const r=rr();Y(0,"ion-button",5),Ve("click",function(){return Bt(r),Vt(wt().navigation.lock())}),He(1,"ion-icon",10),W()}}function KZ(e,t){if(1&e){const r=rr();Y(0,"ion-button",5),Ve("click",function(){return Bt(r),Vt(wt().navigation.unlock())}),He(1,"ion-icon",11),W()}}function XZ(e,t){if(1&e){const r=rr();Y(0,"ion-button",5),Ve("click",function(){return Bt(r),Vt(wt().showGameModeHint())}),He(1,"ion-icon",12),W()}}function QZ(e,t){if(1&e){const r=rr();Y(0,"ion-button",5),Ve("click",function(){return Bt(r),Vt(wt().showProxyConnectedHint())}),He(1,"ion-icon",13),W()}}function JZ(e,t){if(1&e){const r=rr();Y(0,"ion-button",5),Ve("click",function(){return Bt(r),Vt(wt().showSlowdowndHint())}),He(1,"ion-icon",14),W()}}function eq(e,t){if(1&e){const r=rr();Y(0,"div",15),xe(1," The device was reset forcefully. How do you want to boot? "),Y(2,"ion-button",16),Ve("click",function(){return Bt(r),Vt(wt().bootAfterForcefulReset())}),xe(3,"Normal boot"),W(),Y(4,"ion-button",16),Ve("click",function(){return Bt(r),Vt(wt().bootAfterForcefulResetNoExtensions())}),xe(5,"No extensions"),W(),Y(6,"ion-button",16),Ve("click",function(){return Bt(r),Vt(wt().bootAfterForcefulResetHardReset())}),xe(7,"Hard reset"),W()()}}function tq(e,t){1&e&&(Y(0,"div",15)(1,"div"),xe(2,"No session selected"),W()())}let nq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,j,se,me,De,Se,Et,Mt){var lt=this;this.emulationService=n,this.emulationState=o,this.storageService=i,this.eventHandlingService=s,this.canvasDisplayService=a,this.kvsService=l,this.popoverController=c,this.modalController=f,this.alertService=h,this.fileService=g,this.snapshotService=b,this.installlationService=j,this.proxyService=se,this.navigation=me,this.linkApi=De,this.performanceWatchdogService=Se,this.cloudpilotService=Et,this.dragDropService=Mt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Z.Z)(function*(){yield lt.emulationService.bootstrapComplete(),lt.boostrapComplete=!0;const In=lt.emulationState.getCurrentSession();In&&!In.wasResetForcefully&&(yield lt.launchEmulator()),lt.linkApi.installation.requestEvent.addHandler(lt.handleLinkApiInstallationRequest),lt.handleLinkApiInstallationRequest(),lt.dragDropService.registerClient(lt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=In=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(In,this.emulationService.getStatistics())},this.onNewFrame=In=>{this.canvasDisplayService.updateEmulationCanvas(In)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const In=this.linkApi.installation.receivePendingUrl();In&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${In} ?`,{OK:()=>this.fileService.openUrl(In,cs=>this.installlationService.installFiles([cs]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${In} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new ul}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(n){var o=this;return(0,Z.Z)(function*(){(yield o.popoverController.create({component:$Z,event:n,componentProps:{showHelp:()=>o.showHelp()},arrow:!1,translucent:!0})).present()})()}handleDragDropEvent(n){this.installFileDisabled||this.fileService.openFromDrop(n,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var n=this;return(0,Z.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:BZ}})).present()})()}showGameModeHint(){var n=this;return(0,Z.Z)(function*(){yield n.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>n.showHelp()})})()}showProxyConnectedHint(){var n=this;return(0,Z.Z)(function*(){yield n.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var n=this;return(0,Z.Z)(function*(){yield n.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var n=this;return(0,Z.Z)(function*(){yield n.clearForcefulReset(),yield n.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var n=this;return(0,Z.Z)(function*(){yield n.clearForcefulReset(),(yield n.cloudpilotService.cloudpilot).resetNoExtensions(),yield n.launchEmulator()})()}bootAfterForcefulResetHardReset(){var n=this;return(0,Z.Z)(function*(){yield n.clearForcefulReset(),(yield n.cloudpilotService.cloudpilot).resetHard(),yield n.launchEmulator()})()}cancelIfEmulationActive(n){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&n.cancelable&&n.preventDefault()}clearForcefulReset(){var n=this;return(0,Z.Z)(function*(){const o=n.emulationState.getCurrentSession();o&&(yield n.storageService.updateSessionPartial(o.id,{wasResetForcefully:!1}))})()}launchEmulator(){var n=this;return(0,Z.Z)(function*(){const o=n.emulationState.getCurrentSession();o&&(yield n.kvsService.mutex.runExclusive(()=>n.kvsService.kvs.autoLockUI&&n.autoLockUI&&n.navigation.lock()),n.canvasDisplayService.initialize(n.canvasRef.nativeElement,o).then(()=>{n.onKvsUpdate(),n.kvsService.updateEvent.addHandler(n.onKvsUpdate)}),n.onNewFrame(n.emulationService.getCanvas()),n.emulationService.newFrameEvent.addHandler(n.onNewFrame),n.snapshotService.snapshotEvent.addHandler(n.onSnapshot),yield n.emulationService.resume(),n.eventHandlingService.bind(n.canvasRef.nativeElement))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ea),_(Ll),_(or),_(jZ),_(y_),_(Si),_(tu),_(ls),_(uo),_(Cc),_(Wp),_(ZZ),_(A0),_(O0),_(Bb),_(LR),_(Da),_(L0))},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation"]],viewQuery:function(n,o){if(1&n&&Vc(qZ,5),2&n){let i;Ws(i=Zs())&&(o.canvasRef=i.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,o){if(1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.installFiles()}),He(6,"ion-icon",2),W(),mn(7,YZ,2,0,"ion-button",3)(8,KZ,2,0,"ion-button",3),W(),Y(9,"ion-buttons",4)(10,"ion-button",5),Ve("click",function(s){return o.openContextMenu(s)}),He(11,"ion-icon",6),W(),mn(12,XZ,2,0,"ion-button",3)(13,QZ,2,0,"ion-button",3)(14,JZ,2,0,"ion-button",3),W()()(),Y(15,"ion-content")(16,"div",7),Ve("touchstart",function(s){return o.cancelIfEmulationActive(s)})("touchmove",function(s){return o.cancelIfEmulationActive(s)}),He(17,"canvas",null,8),W(),mn(19,eq,8,0,"div",9)(20,tq,3,0,"div",9),W()),2&n){let i,s;Re(3),ss(o.title),Re(2),Fe("disabled",o.installFileDisabled),Re(2),Fe("ngIf",!o.navigation.isLocked()),Re(1),Fe("ngIf",o.navigation.isLocked()),Re(4),Fe("ngIf",o.eventHandlingService.isGameMode()),Re(1),Fe("ngIf",o.proxyService.isConnected()),Re(1),Fe("ngIf",o.performanceWatchdogService.isSlowdownDetected()),Re(1),Za("locked",o.navigation.isLocked()),Re(1),Ku("display",!o.emulationState.getCurrentSession()||null!=(i=o.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),Re(1),Ku("width",o.cssWidth)("height",o.cssHeight)("display",o.emulationState.getCurrentSession()?"block":"none"),Re(2),Fe("ngIf",null!=(s=o.emulationState.getCurrentSession())&&s.wasResetForcefully?"none":void 0),Re(1),Fe("ngIf",!o.emulationState.getCurrentSession()&&o.boostrapComplete)}},dependencies:[ii,Ni,Fi,Li,$i,ai,Vi,ji],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),t})();function C_(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const rq=C.p+"assets/doc/sessions-fb3e8a7faa382af3.md";let oq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onEdit()}),He(2,"ion-icon",1),xe(3," Edit "),W(),Y(4,"ion-item",0),Ve("click",function(){return o.onSave()}),He(5,"ion-icon",2),xe(6," Save "),W(),Y(7,"ion-item",0),Ve("click",function(){return o.onReset()}),He(8,"ion-icon",3),xe(9," Reset "),W(),Y(10,"ion-item",4),Ve("click",function(){return o.onDelete()}),He(11,"ion-icon",5),xe(12," Delete "),W()()),2&n&&(Re(1),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1))},dependencies:[ai,Qo,sl]}),t})();const sq=["slidingItem"];function aq(e,t){if(1&e&&(Y(0,"span"),xe(1),W()),2&e){const r=wt();Re(1),bi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function lq(e,t){1&e&&He(0,"ion-icon",16)}function cq(e,t){1&e&&He(0,"ion-icon",17)}let uq=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new an,this.resetSession=new an,this.edit=new an,this.save=new an,this.selectItem=new an,this.interaction=new an}get device(){return this.session?uR(this.session.device):""}onContextmenu(n){var o=this;return(0,Z.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:oq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function iq(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tu))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Vc(sq,5),2&n){let i;Ws(i=Zs())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=rr();Y(0,"ion-item-sliding",0,1),Ve("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),Y(2,"ion-item-options",2)(3,"ion-item-option",3),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.edit.emit(o.session))}),He(4,"ion-icon",4),W(),Y(5,"ion-item-option",5),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.save.emit(o.session))}),He(6,"ion-icon",6),W()(),Y(7,"ion-item-options",7)(8,"ion-item-option",8),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.resetSession.emit(o.session))}),He(9,"ion-icon",9),W(),Y(10,"ion-item-option",10),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.delete.emit(o.session))}),He(11,"ion-icon",11),W()(),Y(12,"ion-item",12),Ve("click",function(){return o.selectItem.emit()}),Y(13,"ion-label")(14,"h2"),xe(15),W(),Y(16,"p"),xe(17),mn(18,aq,2,1,"span",13),W()(),mn(19,lq,1,0,"ion-icon",14)(20,cq,1,0,"ion-icon",15),W()()}2&n&&(Fe("disabled",o.selecting),Re(12),Fe("color",o.color),Re(1),Za("in-item-color",o.selected)("selecting",o.selecting),Re(2),ss(null==o.session?null:o.session.name),Re(2),Kf("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),Re(1),Fe("ngIf",null==o.session?null:o.session.osVersion),Re(1),Fe("ngIf",o.selecting&&!o.selectedForExport),Re(1),Fe("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ii,ai,Qo,e_,t_,n_,Bi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Xp;function dq(e,t){if(1&e){const r=rr();Y(0,"ion-toolbar")(1,"ion-title"),xe(2,"Sessions"),W(),Y(3,"ion-buttons",5)(4,"ion-button",6),Ve("click",function(){return Bt(r),Vt(wt().startMassExport())}),He(5,"ion-icon",7),W(),Y(6,"ion-button",8),Ve("click",function(){return Bt(r),Vt(wt().importSession())}),He(7,"ion-icon",9),W()(),Y(8,"ion-buttons",10)(9,"ion-button",8),Ve("click",function(){return Bt(r),Vt(wt().showHelp())}),He(10,"ion-icon",11),W(),He(11,"app-pwa-prompt"),W()()}if(2&e){const r=wt();Re(4),Fe("disabled",r.sessionService.isLoading()||0===r.sessions.length)}}function fq(e,t){if(1&e){const r=rr();Y(0,"ion-buttons",10)(1,"ion-button",8),Ve("click",function(){return Bt(r),Vt(wt(2).onSelectAll())}),xe(2,"Select all"),W()()}}function pq(e,t){if(1&e){const r=rr();Y(0,"ion-buttons",10)(1,"ion-button",8),Ve("click",function(){return Bt(r),Vt(wt(2).selection.clear())}),xe(2,"Clear"),W()()}}function hq(e,t){if(1&e){const r=rr();Y(0,"ion-toolbar")(1,"ion-title"),xe(2,"Export"),W(),Y(3,"ion-buttons",5)(4,"ion-button",8),Ve("click",function(){return Bt(r),Vt(wt().onSelectionDone())}),xe(5),W()(),mn(6,fq,3,0,"ion-buttons",12)(7,pq,3,0,"ion-buttons",12),W()}if(2&e){const r=wt();Re(5),ss(0===r.selection.size?"Cancel":"Export"),Re(1),Fe("ngIf",r.selection.size!==r.sessionCount),Re(1),Fe("ngIf",r.selection.size===r.sessionCount)}}function mq(e,t){1&e&&(Y(0,"ion-title",13),xe(1,"Sessions"),W())}function gq(e,t){1&e&&(Y(0,"ion-title",13),xe(1,"Select for export"),W())}function _q(e,t){1&e&&(Y(0,"div",14),He(1,"ion-spinner"),W())}function vq(e,t){1&e&&(Y(0,"div",15)(1,"div",16),xe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),He(3,"br")(4,"br"),xe(5," You can find a collection of compatible ROMs on "),Y(6,"a",17),xe(7,"PalmDB"),W(),xe(8,". "),W()())}function yq(e,t){if(1&e){const r=rr();Y(0,"app-session-item",19),Ve("delete",function(){const i=Bt(r).$implicit;return Vt(wt(2).deleteSession(i))})("selectItem",function(){const i=Bt(r).$implicit,s=wt(2);return Vt("default"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Bt(r).$implicit;return Vt(wt(2).editSession(i))})("save",function(){const i=Bt(r).$implicit;return Vt(wt(2).saveSession(i))})("resetSession",function(){const i=Bt(r).$implicit;return Vt(wt(2).resetSession(i))})("interaction",function(){const i=Bt(r).$implicit;return Vt(wt(2).lastSessionTouched=i.id)}),W()}if(2&e){const r=t.$implicit,n=wt(2);Fe("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","select-for-export"===n.mode)("selectedForExport",n.selection.has(r.id))}}function bq(e,t){if(1&e&&(Y(0,"ion-list"),mn(1,yq,1,5,"app-session-item",18),W()),2&e){const r=wt();Re(1),Fe("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class Sc{constructor(t,r,n,o,i,s,a,l,c,f,h,g,b){this.sessionService=t,this.fileService=r,this.alertController=n,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=l,this.linkApi=c,this.router=f,this.cloudpilotService=h,this.dragDropService=g,this.cd=b,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const j=this.linkApi.import.receivePendingUrl();j&&this.alertService.message("Import request",`Do you want to import<br>${j} ?`,{OK:()=>this.fileService.openUrl(j,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="default",this.selection=new Set,this.checkSessions=C_(b,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,Z.Z)(function*(){yield(yield r.alertController.create({header:"Warning",message:`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.sessionService.deleteSession(t)}],backdropDismiss:!1})).present()})()}editSession(t){var r=this;return(0,Z.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!TR()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.fileService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,Z.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,Z.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield(yield r.alertController.create({header:"Done",message:`Session ${t.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,Z.Z)(function*(){yield(yield t.modalController.create({component:au,componentProps:{url:rq}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}onSelectionDone(){var t=this;return(0,Z.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(o=>[o.id,o])),n=Array.from(t.selection).map(o=>r.get(o)).filter(o=>void 0!==o);t.mode="default",1===n.length&&(yield t.fileService.saveSession(n[0])),n.length>1&&(yield t.fileService.saveSessions(n))})()}ionViewDidLeave(){this.mode="default"}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,Z.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Warning","CloudpilotEmu will attempt to import all sessions in the selected zip archive. Are you sure you want to continue?",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:NR,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return g_(t,n=>r.some(o=>o.name===n))}}(Xp=Sc).\u0275fac=function(t){return new(t||Xp)(_(Yp),_(Cc),_(Fl),_(uo),_(Ea),_(Ll),_(or),_(ls),_(Bb),_(jo),_(Da),_(L0),_(pt))},Xp.\u0275cmp=Ye({type:Xp,selectors:[["app-sessions"]],decls:11,vars:7,consts:[[4,"ngIf"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","share-outline"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(Y(0,"ion-header"),mn(1,dq,12,1,"ion-toolbar",0)(2,hq,8,3,"ion-toolbar",0),W(),Y(3,"ion-content")(4,"ion-header",1)(5,"ion-toolbar"),mn(6,mq,2,0,"ion-title",2)(7,gq,2,0,"ion-title",2),W()(),mn(8,_q,2,0,"div",3)(9,vq,9,0,"div",4)(10,bq,2,2,"ion-list",0),W()),2&t&&(Re(1),Fe("ngIf","default"===r.mode),Re(1),Fe("ngIf","select-for-export"===r.mode),Re(4),Fe("ngIf","default"===r.mode),Re(1),Fe("ngIf","select-for-export"===r.mode),Re(1),Fe("ngIf",r.sessionService.isLoading()),Re(1),Fe("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),Re(1),Fe("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Gc,ii,Ni,Fi,Li,$i,ai,sl,Fp,Vi,ji,b_,uq],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),ae([no()],Sc.prototype,"deleteSession",null),ae([no()],Sc.prototype,"editSession",null),ae([no()],Sc.prototype,"saveSession",null),ae([no()],Sc.prototype,"launchSession",null),ae([no()],Sc.prototype,"resetSession",null),ae([no()],Sc.prototype,"onSelectionDone",null);const BR="reduced-animations",Cq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,YC.c)()),Sq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,YC.c)()},wq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,YC.c)()};function VR(e){localStorage.setItem(BR,e?"1":"0")}function jR(){return"1"===(localStorage.getItem(BR)??"0")}const Eq=C.p+"assets/doc/settings-589ae62c10d3967b.md";function Iq(e,t){1&e&&(Y(0,"ion-item",7)(1,"ion-label"),xe(2,"Clipboard integration"),W(),He(3,"ion-toggle",18),W())}function xq(e,t){if(1&e){const r=rr();Y(0,"ion-item",7)(1,"ion-label",19),xe(2,"Proxy server"),W(),Y(3,"div",20),He(4,"ion-input",21),Y(5,"ion-button",22),Ve("click",function(o){Bt(r);const i=wt();return o.preventDefault(),o.stopPropagation(),Vt(i.testProxyConnection())})("touchstart",function(o){Bt(r);const i=wt();return o.preventDefault(),o.stopPropagation(),Vt(i.testProxyConnection())}),xe(6," Test "),W()()()}if(2&e){const r=wt();Re(5),Fe("disabled",!r.proxyServerValid)}}function Tq(e,t){1&e&&(id(0),Y(1,"h1"),xe(2,"Debug"),W(),Y(3,"ion-item",7)(4,"ion-label"),xe(5,"Snapshot validation (slow)"),W(),He(6,"ion-toggle",23),W(),sd())}let Mq=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{VR(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,Z.Z)(function*(){yield(yield n.modalController.create({component:au,componentProps:{url:Eq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,Z.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),VR(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,Z.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return true}createFormGroup(){this.formGroup=new zg({volume:new Go(this.kvsService.kvs.volume),showStatistics:new Go(this.kvsService.kvs.showStatistics),runHidden:new Go(this.kvsService.kvs.runHidden),clipboardIntegration:new Go(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Go(this.kvsService.kvs.networkRedirection),proxyServer:new Go(this.kvsService.kvs.proxyServer,{validators:[N7]}),autoLockUI:new Go(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Go(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Go(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Go(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Go(jR())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(Si),_(wR),_(uo),_(A0))},e.\u0275cmp=Ye({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Settings"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.showHelp()}),He(6,"ion-icon",2),W(),He(7,"app-pwa-prompt"),W()()(),Y(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),xe(12,"Settings"),W()()(),Y(13,"div",5)(14,"form",6)(15,"h1"),xe(16,"Emulation"),W(),Y(17,"ion-item",7)(18,"ion-label"),xe(19,"Volume"),W(),He(20,"ion-range",8),W(),Y(21,"ion-item",7)(22,"ion-label"),xe(23,"Enable audio on start"),W(),He(24,"ion-toggle",9),W(),Y(25,"ion-item",7)(26,"ion-label"),xe(27,"Run when hidden"),W(),He(28,"ion-toggle",10),W(),Y(29,"h1"),xe(30,"Host integration"),W(),mn(31,Iq,4,0,"ion-item",11),Y(32,"ion-item",7)(33,"ion-label"),xe(34,"Network redirection"),W(),He(35,"ion-toggle",12),W(),mn(36,xq,7,1,"ion-item",11),Y(37,"h1"),xe(38,"UI"),W(),Y(39,"ion-item",7)(40,"ion-label"),xe(41,"Auto-lock UI"),W(),He(42,"ion-toggle",13),W(),Y(43,"ion-item",7)(44,"ion-label"),xe(45,"Reduce animations"),W(),He(46,"ion-toggle",14),W(),Y(47,"ion-item",7)(48,"ion-label"),xe(49,"Show statistics"),W(),He(50,"ion-toggle",15),W(),Y(51,"ion-item",7)(52,"ion-label"),xe(53,"Open from remote sources"),W(),He(54,"ion-toggle",16),W(),mn(55,Tq,7,0,"ng-container",17),W()()()),2&n&&(Re(14),Fe("formGroup",o.formGroup),Re(17),Fe("ngIf",o.clipboardService.isSupported()),Re(5),Fe("ngIf",o.showProxyServer),Re(19),Fe("ngIf",o.showDebugOptions))},dependencies:[ii,Pl,kl,Rl,Ni,Fi,Li,$i,ai,Nl,Qo,Bi,KC,Vi,Lp,ji,Nd,Ol,b_,Sa,il],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),$0=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Zo({name:"cardSize",type:e,pure:!0}),t})();function Aq(e,t){1&e&&(Y(0,"div",13)(1,"b"),xe(2,"WARNING:"),W(),xe(3," This image cannot be used as a memory stick image."),W())}let GR=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ip.required,this.validateNameUnique]}),size:new as({value:"dummy",disabled:!0}),checkAutomatically:new as(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ud))},e.\u0275cmp=Ye({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.save()}),xe(6,"Save"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),xe(14,"Card name"),W(),He(15,"ion-input",8),W(),Y(16,"ion-item",6)(17,"ion-label",7),xe(18,"Card size"),W(),Y(19,"ion-select",9)(20,"ion-select-option",10),xe(21),Ka(22,"cardSize"),W()()(),Y(23,"ion-item",6)(24,"ion-label"),xe(25,"Check for errors automatically"),W(),He(26,"ion-toggle",11),W()(),mn(27,Aq,4,0,"div",12),W()),2&n&&(Re(3),ss(o.newCard?"New memory card":"Edit memory card"),Re(2),Fe("disabled",o.formGroup.invalid),Re(6),Fe("formGroup",o.formGroup),Re(10),bi("",Xa(22,5,null==o.card?null:o.card.size)," "),Re(6),Fe("ngIf",!o.memoryStickSupported))},dependencies:[ii,Ni,Fi,Li,$i,Nl,Qo,Bi,r_,o_,Vi,Lp,ji,Nd,Jg,Ol,Pl,kl,Rl,Sa,il,$0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function kq(e,t){if(1&e&&(Y(0,"ion-select-option",12),xe(1),Ka(2,"cardSize"),W()),2&e){const r=t.$implicit,n=wt();Fe("value",r),Re(1),bi("",Xa(2,2,n.sizeBytes(r))," ")}}const Rq=[Uo.mb4,Uo.mb8,Uo.mb16,Uo.mb32,Uo.mb64,Uo.mb128];let Pq=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ip.required,this.validateNameUnique]}),size:new as(Uo.mb32,{nonNullable:!0}),checkAutomatically:new as(!0,{nonNullable:!0})})}get sizes(){return Rq}sizeBytes(n){return function z7(e){switch(e){case Uo.mb4:return 4046848;case Uo.mb8:return 8110080;case Uo.mb16:return 16220160;case Uo.mb32:return 32473088;case Uo.mb64:return 64978944;case Uo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ud))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"New memory card"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.create()}),xe(6,"Create"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),xe(14,"Card name"),W(),He(15,"ion-input",8),W(),Y(16,"ion-item",6)(17,"ion-label",7),xe(18,"Card size"),W(),Y(19,"ion-select",9),mn(20,kq,3,4,"ion-select-option",10),W()(),Y(21,"ion-item",6)(22,"ion-label"),xe(23,"Check for errors automatically"),W(),He(24,"ion-toggle",11),W()()()),2&n&&(Re(5),Fe("disabled",o.formGroup.invalid),Re(6),Fe("formGroup",o.formGroup),Re(9),Fe("ngForOf",o.sizes))},dependencies:[Gc,Ni,Fi,Li,$i,Nl,Qo,Bi,r_,o_,Vi,Lp,ji,Nd,Jg,Ol,Pl,kl,Rl,Sa,il,$0]}),t})();const Oq=C.p+"assets/doc/cards-164c5578de056bad.md";let Nq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onEdit()}),He(2,"ion-icon",1),xe(3," Edit "),W(),Y(4,"ion-item",0),Ve("click",function(){return o.onSave()}),He(5,"ion-icon",2),xe(6," Save "),W(),Y(7,"ion-item",0),Ve("click",function(){return o.onCheck()}),He(8,"ion-icon",3),xe(9," Check "),W(),Y(10,"ion-item",4),Ve("click",function(){return o.onDelete()}),He(11,"ion-icon",5),xe(12," Delete "),W()()),2&n&&(Re(1),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1))},dependencies:[ai,Qo,sl]}),t})(),Fq=(()=>{var e;class t{constructor(n,o){this.storageCardService=n,this.popoverController=o,this.touched=!1,this.interaction=new an,this.selectCard=new an,this.edit=new an,this.check=new an,this.delete=new an,this.save=new an}onContextmenu(n){var o=this;return(0,Z.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Nq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Tr.dirty:return"needs check";case Tr.clean:return"no errors";case Tr.unformatted:return"no filesystem";case Tr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ud),_(tu))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(n,o){if(1&n){const i=rr();Y(0,"ion-item-sliding",0,1),Ve("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),Y(2,"ion-item-options",2)(3,"ion-item-option",3),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.edit.emit(o.card))}),He(4,"ion-icon",4),W(),Y(5,"ion-item-option",5),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.save.emit(o.card))}),He(6,"ion-icon",6),W()(),Y(7,"ion-item-options",7)(8,"ion-item-option",8),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.check.emit(o.card))}),He(9,"ion-icon",9),W(),Y(10,"ion-item-option",10),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.delete.emit(o.card))}),He(11,"ion-icon",11),W()(),Y(12,"ion-item",12),Ve("click",function(){return o.selectCard.emit(),o.interaction.emit()}),Y(13,"ion-label")(14,"h2"),xe(15),W(),Y(16,"p"),xe(17),Ka(18,"cardSize"),W()()()()}2&n&&(Re(12),Fe("color",o.color),Re(3),ss(null==o.card?null:o.card.name),Re(2),Kf("",Xa(18,4,null==o.card?null:o.card.size),", ",o.status,""))},dependencies:[ai,Qo,e_,t_,n_,Bi,$0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0}),t})();var Qp;function Lq(e,t){1&e&&(Y(0,"div",10),He(1,"ion-spinner"),W())}function $q(e,t){1&e&&(Y(0,"div",11)(1,"div",12),xe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),W()())}function Bq(e,t){if(1&e){const r=rr();Y(0,"app-storage-card",14),Ve("delete",function(){const i=Bt(r).$implicit;return Vt(wt(2).deleteCard(i))})("selectCard",function(){const i=Bt(r).$implicit;return Vt(wt(2).selectCard(i))})("edit",function(){const i=Bt(r).$implicit;return Vt(wt(2).editCard(i))})("check",function(){const i=Bt(r).$implicit;return Vt(wt(2).checkCard(i))})("interaction",function(){const i=Bt(r).$implicit;return Vt(wt(2).lastCardTouched=i.id)})("save",function(){const i=Bt(r).$implicit;return Vt(wt(2).saveCard(i))}),W()}if(2&e){const r=t.$implicit,n=wt(2);Fe("card",r)("touched",r.id===n.lastCardTouched)}}function Vq(e,t){if(1&e&&(Y(0,"ion-list"),mn(1,Bq,1,2,"app-storage-card",13),W()),2&e){const r=wt();Re(1),Fe("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class wc{constructor(t,r,n,o,i,s,a,l,c,f,h){var g=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=l,this.loadingController=c,this.fstools=f,this.handleCardImport=function(){var b=(0,Z.Z)(function*(j){const se=yield g.cloudpilotService.cloudpilot;let me;try{me=yield j.getContent()}catch(Et){return console.warn(Et),void(yield g.alertService.errorMessage(`Unable to open ${j.name}".`))}if(/\.gz$/.test(j.name)){const Et=yield g.loadingController.create({message:"Unpacking..."});yield Et.present();try{me=yield g.fstools.gunzip(me)}finally{yield Et.dismiss()}}const De=me?se.getCardSupportLevel(me.length):0;if(void 0===me||0===De)return void g.alertService.errorMessage("This is not a supported card image.");const Se=yield new Promise(function(){var Et=(0,Z.Z)(function*(Mt){const lt=yield g.modalController.create({component:GR,backdropDismiss:!1,componentProps:{card:{name:g.disambiguateName(j.name.replace(/\.gz$/,"")),size:me.length},cardSupportLevel:De,newCard:!0,onCancel:()=>{lt.dismiss(),Mt(void 0)},onSave:In=>{Mt(In),lt.dismiss()}}});yield lt.present()});return function(Mt){return Et.apply(this,arguments)}}());Se&&(yield g.storageCardService.createCardFromImage(Se.name,me,!!Se.dontFsckAutomatically))});return function(j){return b.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=C_(h,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,Z.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,Z.Z)(function*(){yield(yield t.modalController.create({component:au,componentProps:{url:Oq}})).present()})()}selectCard(t){var r=this;return(0,Z.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,Z.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:GR,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,Z.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,Z.Z)(function*(){const n=`${Zp(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Save uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,Z.Z)(function*(){var o;yield(yield r.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,Z.Z)(function*(){try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(t,r){return r.id}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,Z.Z)(function*(){const r=yield t.modalController.create({component:Pq,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,Z.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return g_(t,n=>r.some(o=>o.name===n))}}function jq(e,t){1&e&&He(0,"ion-icon",8)}function Gq(e,t){1&e&&He(0,"ion-icon",9)}function Uq(e,t){1&e&&He(0,"ion-icon",10)}function Hq(e,t){if(1&e){const r=rr();Y(0,"ion-item",2),Ve("click",function(){const i=Bt(r).index;return Vt(wt(2).onSelect(i))}),id(1,3),mn(2,jq,1,0,"ion-icon",4)(3,Gq,1,0,"ion-icon",5)(4,Uq,1,0,"ion-icon",6),sd(),Y(5,"div",7),xe(6),W()()}if(2&e){const r=t.$implicit,n=t.index,o=wt(2);Fe("detail",!1)("lines",n===o.entries.length-1?"none":"full"),Re(1),Fe("ngSwitch",o.entries.length),Re(1),Fe("ngSwitchCase",n+1),Re(1),Fe("ngSwitchCase",n+2),Re(3),ss(r)}}function zq(e,t){if(1&e&&(Y(0,"ion-list"),mn(1,Hq,7,6,"ion-item",1),W()),2&e){const r=wt();Re(1),Fe("ngForOf",r.entries)}}(Qp=wc).\u0275fac=function(t){return new(t||Qp)(_(Bp),_(Ud),_(ls),_(Fl),_(Da),_(uo),_(iu),_(Cc),_(al),_(qp),_(pt))},Qp.\u0275cmp=Ye({type:Qp,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Memory cards"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return r.addCardImage()}),He(6,"ion-icon",2),W()(),Y(7,"ion-buttons",3)(8,"ion-button",1),Ve("click",function(){return r.showHelp()}),He(9,"ion-icon",4),W(),He(10,"app-pwa-prompt"),W()()(),Y(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),xe(15,"Memory cards"),W()()(),mn(16,Lq,2,0,"div",7)(17,$q,3,0,"div",8)(18,Vq,2,2,"ion-list",9),W()),2&t&&(Re(16),Fe("ngIf",r.storageCardService.isLoading()),Re(1),Fe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),Re(1),Fe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Gc,ii,Ni,Fi,Li,$i,ai,sl,Fp,Vi,ji,b_,Fq],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ae([no()],wc.prototype,"addCardImage",null),ae([no()],wc.prototype,"selectCard",null),ae([no()],wc.prototype,"editCard",null),ae([no()],wc.prototype,"saveCard",null),ae([no()],wc.prototype,"checkCard",null),ae([no()],wc.prototype,"deleteCard",null);let Wq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&mn(0,zq,2,1,"ion-list",0),2&n&&Fe("ngIf",o.entries)},dependencies:[Gc,ii,dg,Ux,Hx,ai,Qo,sl],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:170px}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:130px}"]}),t})(),Zq=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(_(uu))},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onStartSelection()}),He(2,"ion-icon",1),xe(3," Start selection "),W(),Y(4,"ion-item",2),Ve("click",function(){return o.onAddFiles()}),He(5,"ion-icon",3),xe(6," Add files "),W(),Y(7,"ion-item",2),Ve("click",function(){return o.onCreateDirectry()}),He(8,"ion-icon",4),xe(9," Add directory "),W(),Y(10,"ion-item",2),Ve("click",function(){return o.onExtractZipfile()}),He(11,"ion-icon",5),xe(12," Extract zip "),W(),Y(13,"ion-item",0),Ve("click",function(){return o.onPaste()}),He(14,"ion-icon",6),xe(15," Paste "),W(),Y(16,"ion-item",7),Ve("click",function(){return o.onHelp()}),He(17,"ion-icon",8),xe(18," Help "),W()()),2&n&&(Re(1),Fe("detail",!1)("disabled",o.emptyDirectory),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),Re(3),Fe("detail",!1))},dependencies:[ai,Qo,sl]}),t})();var Jp;class S_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ip.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new as(!1,{nonNullable:!0}),attrHidden:new as(!1,{nonNullable:!0}),attrSystem:new as(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,Z.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,Z.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,Z.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Jp=S_).\u0275fac=function(t){return new(t||Jp)(_(ls),_(uu))},Jp.\u0275cmp=Ye({type:Jp,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return r.onSaveClick()}),xe(6,"Save"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return r.onCancelClick()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return r.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),xe(14),W(),He(15,"ion-input",8),W(),Y(16,"ion-item",6)(17,"h2"),xe(18,"Attributes"),W()(),Y(19,"ion-item",6)(20,"ion-label"),He(21,"ion-icon",9),xe(22,"Readonly"),W(),He(23,"ion-checkbox",10),W(),Y(24,"ion-item",6)(25,"ion-label"),He(26,"ion-icon",11),xe(27,"Hidden"),W(),He(28,"ion-checkbox",12),W(),Y(29,"ion-item",6)(30,"ion-label"),He(31,"ion-icon",13),xe(32,"System"),W(),He(33,"ion-checkbox",14),W()()()),2&t&&(Re(3),bi("Edit ",r.subjectName.toLowerCase(),""),Re(2),Fe("disabled",r.formGroup.invalid),Re(6),Fe("formGroup",r.formGroup),Re(3),bi("",r.subjectName," name"),Re(1),Lm("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Ni,Fi,wk,Li,$i,ai,Nl,Qo,Bi,Vi,ji,Nd,Ol,Pl,kl,Rl,Sa,il],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),ae([no()],S_.prototype,"onSaveClick",null),ae([no()],S_.prototype,"onEnter",null);let qq=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(je))},e.\u0275dir=Nt({type:e,selectors:[["","appAutofocus",""]]}),t})(),Yq=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new mc({name:new as("",{nonNullable:!0,validators:[Ip.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(uu),_(ls))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(Y(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Create directory"),W(),Y(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.onCreateClick()}),xe(6,"Create"),W()(),Y(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancelClick()}),xe(9,"Cancel"),W()()()(),Y(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),Y(12,"ion-item",6)(13,"ion-label",7),xe(14,"Directory name"),W(),He(15,"ion-input",8),W()()()),2&n&&(Re(5),Fe("disabled",o.formGroup.invalid),Re(6),Fe("formGroup",o.formGroup))},dependencies:[Ni,Fi,Li,$i,Nl,Qo,Bi,Vi,ji,Ol,Pl,kl,Rl,Sa,il,qq]}),t})();function UR(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const Kq=C.p+"assets/doc/card-browser-5a0261814255810d.md";let Xq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(Y(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onEdit()}),He(2,"ion-icon",1),xe(3," Edit "),W(),Y(4,"ion-item",0),Ve("click",function(){return o.onSave()}),He(5,"ion-icon",2),xe(6," Save "),W(),Y(7,"ion-item",0),Ve("click",function(){return o.onCopy()}),He(8,"ion-icon",3),xe(9," Copy "),W(),Y(10,"ion-item",0),Ve("click",function(){return o.onCut()}),He(11,"ion-icon",4),xe(12," Cut "),W(),Y(13,"ion-item",5),Ve("click",function(){return o.onDelete()}),He(14,"ion-icon",6),xe(15," Delete "),W()()),2&n&&(Re(1),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1),Re(3),Fe("detail",!1))},dependencies:[ai,Qo,sl]}),t})(),HR=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Zo({name:"fileSize",type:e,pure:!0}),t})();const Qq=["slidingItem"];function Jq(e,t){1&e&&He(0,"ion-icon",24)}function eY(e,t){1&e&&He(0,"ion-icon",25)}function tY(e,t){1&e&&He(0,"ion-icon",26)}function nY(e,t){1&e&&He(0,"ion-icon",27)}function rY(e,t){1&e&&He(0,"ion-icon",28)}function oY(e,t){1&e&&He(0,"ion-icon",29)}function iY(e,t){1&e&&He(0,"ion-icon",30)}function sY(e,t){1&e&&He(0,"ion-icon",31)}function aY(e,t){1&e&&He(0,"ion-icon",32)}function lY(e,t){if(1&e&&(id(0),xe(1),Ka(2,"fileSize"),sd()),2&e){const r=wt();Re(1),bi(" - ",Xa(2,1,null==r.entry?null:r.entry.size)," ")}}let cY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new an,this.selectEntry=new an,this.editEntry=new an,this.copyEntry=new an,this.cutEntry=new an,this.deleteEntry=new an,this.saveEntry=new an,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,Z.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Xq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,Z.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Bp),_(tu),_(uu))},e.\u0275cmp=Ye({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Vc(Qq,5),2&n){let i;Ws(i=Zs())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[_i],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=rr();Y(0,"ion-item-sliding",0,1),Ve("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),Y(2,"ion-item-options",2)(3,"ion-item-option",3),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.editEntry.emit(o.entry))}),He(4,"ion-icon",4),W(),Y(5,"ion-item-option",5),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.saveEntry.emit(o.entry))}),He(6,"ion-icon",6),W()(),Y(7,"ion-item-options",7)(8,"ion-item-option",8),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.cutOrCopyEntry())}),He(9,"ion-icon",9),W(),Y(10,"ion-item-option",10),Ve("click",function(){return Bt(i),Is(1).close(),Vt(o.deleteEntry.emit(o.entry))}),He(11,"ion-icon",11),W()(),Y(12,"ion-item",12),Ve("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),mn(13,Jq,1,0,"ion-icon",13)(14,eY,1,0,"ion-icon",14),Y(15,"div",15),mn(16,tY,1,0,"ion-icon",16)(17,nY,1,0,"ion-icon",17)(18,rY,1,0,"ion-icon",18)(19,oY,1,0,"ion-icon",19)(20,iY,1,0,"ion-icon",20),W(),mn(21,sY,1,0,"ion-icon",21)(22,aY,1,0,"ion-icon",22),Y(23,"ion-label")(24,"h2"),xe(25),W(),Y(26,"p"),xe(27),mn(28,lY,3,3,"ng-container",23),W()()()()}2&n&&(Fe("disabled",o.selecting),Re(12),Ku("opacity",o.touched?1:.99999),Za("is-directory",null==o.entry?null:o.entry.isDirectory),Fe("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),Re(1),Fe("ngIf",null==o.entry?null:o.entry.isDirectory),Re(1),Fe("ngIf",!(null!=o.entry&&o.entry.isDirectory)),Re(2),Fe("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),Re(1),Fe("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),Re(1),Fe("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),Re(1),Fe("ngIf",o.markedForCopy),Re(1),Fe("ngIf",o.markedForCut),Re(1),Fe("ngIf",o.selecting&&!o.selected),Re(1),Fe("ngIf",o.selecting&&o.selected),Re(1),Ku("padding-right",o.safetyMargin),Za("selecting",o.selecting),Re(2),ss(null==o.entry?null:o.entry.name),Re(2),bi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),Re(1),Fe("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[ii,ai,Qo,e_,t_,n_,Bi,HR],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var eh;function uY(e,t){if(1&e){const r=rr();Y(0,"ion-toolbar")(1,"ion-title",6),Ve("click",function(o){return Bt(r),Vt(wt().openBreadcrumbMenu(o))}),Y(2,"div",7)(3,"div",8),xe(4),W(),He(5,"div",9),W()(),Y(6,"ion-buttons",10),He(7,"ion-back-button"),W(),Y(8,"ion-buttons",11)(9,"ion-button",12),Ve("click",function(o){return Bt(r),Vt(wt().openContextMenu(o,"trigger"))}),He(10,"ion-icon",13),W()()()}if(2&e){const r=wt();Re(1),Fe("id",r.breadcrumbTriggerId),Re(3),ss(r.title)}}function dY(e,t){if(1&e){const r=rr();Y(0,"ion-buttons",15)(1,"ion-button",12),Ve("click",function(){return Bt(r),Vt(wt(2).onSelectAll())}),xe(2,"Select all"),W()()}}function fY(e,t){if(1&e){const r=rr();Y(0,"ion-buttons",15)(1,"ion-button",12),Ve("click",function(){return Bt(r),Vt(wt(2).selection.clear())}),xe(2,"Clear"),W()()}}function pY(e,t){if(1&e){const r=rr();Y(0,"ion-toolbar")(1,"ion-title"),xe(2,"Selection"),W(),Y(3,"ion-buttons",11)(4,"ion-button",12),Ve("click",function(){return Bt(r),Vt(wt().onSelectionDone())}),xe(5),W()(),mn(6,dY,3,0,"ion-buttons",14)(7,fY,3,0,"ion-buttons",14),W()}if(2&e){const r=wt();Re(5),ss(0===r.selection.size?"Cancel":"Done"),Re(1),Fe("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),Re(1),Fe("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function hY(e,t){if(1&e&&(Y(0,"div",16)(1,"div",17),xe(2),W()()),2&e){const r=wt();Re(2),bi(" empty ",r.isRoot?"card":"directory"," ")}}function mY(e,t){if(1&e){const r=rr();Y(0,"app-file-entry",18),Ve("selectEntry",function(){const i=Bt(r).$implicit;return Vt(wt().onSelect(i))})("editEntry",function(){const i=Bt(r).$implicit;return Vt(wt().onEditEntry(i))})("saveEntry",function(){const i=Bt(r).$implicit;return Vt(wt().onSaveEntry(i))})("copyEntry",function(){const i=Bt(r).$implicit;return Vt(wt().onCopyEntry(i))})("cutEntry",function(){const i=Bt(r).$implicit;return Vt(wt().onCutEntry(i))})("deleteEntry",function(){const i=Bt(r).$implicit;return Vt(wt().onDeleteEntry(i))})("interaction",function(){const i=Bt(r).$implicit;return Vt(wt().lastEntryTouched=i.name)}),W()}if(2&e){const r=t.$implicit,n=wt();Fe("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function gY(e,t){if(1&e&&(Y(0,"p"),xe(1),Ka(2,"fileSize"),Ka(3,"fileSize"),W()),2&e){const r=wt(2);Re(1),Kf(" ",Xa(2,2,r.bytesFree)," free, ",Xa(3,4,r.bytesTotal)," total ")}}function _Y(e,t){if(1&e&&(Y(0,"p"),xe(1),Ka(2,"fileSize"),W()),2&e){const r=wt(2);Re(1),Ay(" ",Xa(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function vY(e,t){if(1&e&&(Y(0,"ion-item",19)(1,"ion-label"),mn(2,gY,4,6,"p",0)(3,_Y,3,5,"p",0),W()()),2&e){const r=wt();Re(2),Fe("ngIf",r.isRoot),Re(1),Fe("ngIf",r.fileCount>0)}}function yY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}let bY=0;class Ia{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=UR(c=>c?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=UR(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+bY++,this.checkEntries=C_(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=C_(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(yY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,Z.Z)(function*(){yield(yield r.modalController.create({component:S_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,Z.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,Z.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,Z.Z)(function*(){yield(yield t.modalController.create({component:Yq,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,Z.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,Z.Z)(function*(){yield(yield t.modalController.create({component:au,componentProps:{url:Kq}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,Z.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,Z.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,Z.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,Z.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:Wq,event:t,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:r.breadcrumbTriggerId})).present()})()}openContextMenu(t,r){var n=this;return(0,Z.Z)(function*(){(yield n.popoverController.create({component:Zq,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,Z.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(eh=Ia).\u0275fac=function(t){return new(t||eh)(_(uu),_(tu),_(Xg),_(uo),_(Bp),_(ls),_(Cc),_(pt))},eh.\u0275cmp=Ye({type:eh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(Y(0,"ion-header"),mn(1,uY,11,2,"ion-toolbar",0)(2,pY,8,3,"ion-toolbar",0),W(),Y(3,"ion-content",1),Ve("contextmenu",function(o){return r.onContextMenu(o)}),Y(4,"div",2),mn(5,hY,3,1,"div",3),Y(6,"ion-list"),mn(7,mY,1,4,"app-file-entry",4)(8,vY,4,2,"ion-item",5),W()()()),2&t&&(Re(1),Fe("ngIf","browse"===r.mode),Re(1),Fe("ngIf","select"===r.mode),Re(3),Fe("ngIf",0===(null==r.entries?null:r.entries.length)),Re(2),Fe("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),Re(1),Fe("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Gc,ii,Ni,Fi,Li,$i,ai,Qo,Bi,sl,Vi,ji,Ik,cY,HR],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),ae([no()],Ia.prototype,"onSaveEntry",null),ae([no()],Ia.prototype,"onDeleteEntry",null),ae([no()],Ia.prototype,"onCreateDirectory",null),ae([no()],Ia.prototype,"onPaste",null),ae([no()],Ia.prototype,"onHelp",null),ae([no()],Ia.prototype,"onSelectionDone",null),ae([no()],Ia.prototype,"onSaveZip",null),ae([no()],Ia.prototype,"onDeleteSelection",null);const CY=["nav"],SY=[{path:"tab",component:O0,children:[{path:"emulation",component:nq},{path:"sessions",component:Sc},{path:"storage",component:(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ia,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=wc,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,Z.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,Z.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!i9}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ia,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(uu),_(L0))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Vc(CY,5),2&n){let i;Ws(i=Zs())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&He(0,"ion-nav",0,1),2&n&&Fe("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[xk]}),t})()},{path:"settings",component:Mq},{path:"about",component:yZ},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let wY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Lg.forChild(SY),Lg]}),t})(),DY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[gc,Ja,eu,wY,dZ,fZ,pZ,hZ,uZ]}),t})(),EY=(()=>{var e;class t extends Tx{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=qr(e)))(o||e)}})(),e.\u0275prov=Le({token:e,factory:e.\u0275fac}),t})();const IY=[{path:"install",component:RR,canActivate:[PR]},{path:"import",component:RR,canActivate:[PR]},{path:"",component:O0}];let xY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[{provide:Qa,useClass:EY}],imports:[Lg.forRoot(IY,{preloadingStrategy:j6,useHash:!0}),DY,Lg]}),t})();const zR=["touch","click","keydown"];let TY=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,Z.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{zR.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};zR.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(F0))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const MY=()=>{const e=new ru;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let AY=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(or),ce(Ea),ce(F0),ce(Yp),ce(Si),ce(kR),ce(TY),ce(R0))},e.\u0275mod=io({type:e,bootstrap:[X7]}),e.\u0275inj=ct({providers:[{provide:VM,useClass:r8},{provide:tp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Si]}],imports:[RG,gc.forRoot({...jR()?{actionSheetEnter:Cq,loadingEnter:Sq,alertEnter:wq}:{},innerHTMLTemplatesEnabled:!0}),xY,s0.forRoot({loader:Gb,markedOptions:{provide:Gk,useFactory:MY}}),mU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function VG(){hg=vT("#/install?"),mg=vT("#/import?")}(),function p9(){return!!localStorage.getItem(u_)}()&&!yT()||function jG(){return void 0!==hg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),AG().bootstrapModule(AY).catch(e=>console.log(e))},2227:ge=>{var C,Ce=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var H,q,u=S;u.ready=new Promise((d,y)=>{H=d,q=y});var ve,B=Object.assign({},u),E="./this.program",I=(d,y)=>{throw y},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(ve=d=>{var y=new XMLHttpRequest;return y.open("GET",d,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var M,oe=u.print||console.log.bind(console),G=u.printErr||console.error.bind(console);Object.assign(u,B),B=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&_e("no native wasm support detected");var J,ie,Ae,O,D,X,he,le=!1;function we(d,y){d||_e(y)}function $e(){var d=J.buffer;u.HEAP8=Ae=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAPU8=O=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAP32=D=new Int32Array(d),u.HEAPU32=X=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=he=new Float64Array(d)}var ht=[],Gt=[],Oe=[],ze=[],Ct=0,Ut=null,jt=null;function _e(d){u.onAbort&&u.onAbort(d),G(d="Aborted("+d+")"),le=!0,ie=1,d+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(d);throw q(y),y}var Pt,vt=d=>d.startsWith("data:application/octet-stream;base64,");function un(d){if(d==Pt&&M)return new Uint8Array(M);if(ve)return ve(d);throw"both async and sync fetching of the wasm failed"}function fn(d,y,z){return function nn(d){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>un(d)):fetch(d,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+d+"'";return y.arrayBuffer()}).catch(()=>un(d))}(d).then(Me=>WebAssembly.instantiate(Me,y)).then(Me=>Me).then(z,Me=>{G(`failed to asynchronously prepare wasm: ${Me}`),_e(Me)})}vt(Pt="cloudpilot_web.wasm")||(Pt=function T(d){return u.locateFile?u.locateFile(d,P):P+d}(Pt));var zn,Ho={1472504:d=>{ut.grow(65536);for(let y=0;y<=65535;y++)ut.set(ut.length-65535-1+y,ut.get(X[(d>>>2)+y]));return ut.length-65535-1}};function wo(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}var Pn=d=>{for(;d.length>0;)d.shift()(u)},$r=u.noExitRuntime||!0,Ur=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ro=(d,y,z)=>{for(var Me=y+z,It=y;d[It]&&!(It>=Me);)++It;if(It-y>16&&d.buffer&&Ur)return Ur.decode(d.subarray(y,It));for(var en="";y<It;){var dt=d[y++];if(128&dt){var vn=63&d[y++];if(192!=(224&dt)){var cr=63&d[y++];if((dt=224==(240&dt)?(15&dt)<<12|vn<<6|cr:(7&dt)<<18|vn<<12|cr<<6|63&d[y++])<65536)en+=String.fromCharCode(dt);else{var jr=dt-65536;en+=String.fromCharCode(55296|jr>>10,56320|1023&jr)}}else en+=String.fromCharCode((31&dt)<<6|vn)}else en+=String.fromCharCode(dt)}return en},Wn=(d,y)=>d?ro(O,d,y):"",pe=(d,y)=>y+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*y:NaN,Cn=d=>d%4==0&&(d%100!=0||d%400==0),rn=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],tr=d=>(Cn(d.getFullYear())?rn:fo)[d.getMonth()]+d.getDate()-1,Do=d=>{for(var y=0,z=0;z<d.length;++z){var Me=d.charCodeAt(z);Me<=127?y++:Me<=2047?y+=2:Me>=55296&&Me<=57343?(y+=4,++z):y+=3}return y},oo=(d,y,z,Me)=>{if(!(Me>0))return 0;for(var It=z,en=z+Me-1,dt=0;dt<d.length;++dt){var vn=d.charCodeAt(dt);if(vn>=55296&&vn<=57343&&(vn=65536+((1023&vn)<<10)|1023&d.charCodeAt(++dt)),vn<=127){if(z>=en)break;y[z++]=vn}else if(vn<=2047){if(z+1>=en)break;y[z++]=192|vn>>6,y[z++]=128|63&vn}else if(vn<=65535){if(z+2>=en)break;y[z++]=224|vn>>12,y[z++]=128|vn>>6&63,y[z++]=128|63&vn}else{if(z+3>=en)break;y[z++]=240|vn>>18,y[z++]=128|vn>>12&63,y[z++]=128|vn>>6&63,y[z++]=128|63&vn}}return y[z]=0,z-It},Po=d=>{var y=Do(d)+1,z=At(y);return z&&((d,y,z)=>{oo(d,O,y,z)})(d,z,y),z},vr=[],pi=d=>{var z=(d-J.buffer.byteLength+65535)/65536;try{return J.grow(z),$e(),1}catch{}},Di={},Eo=()=>{if(!Eo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var z in Di)void 0===Di[z]?delete y[z]:y[z]=Di[z];var Me=[];for(var z in y)Me.push(`${z}=${y[z]}`);Eo.strings=Me}return Eo.strings},Xs=[null,[],[]],Ei=(d,y)=>{var z=Xs[d];0===y||10===y?((1===d?oe:G)(ro(z,0)),z.length=0):z.push(y)},zi=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function ei(d,y,z){var Me=z>0?z:Do(d)+1,It=new Array(Me),en=oo(d,It,0,It.length);return y&&(It.length=en),It}var ut,L,_n,us=(d,y)=>{ie=d,(d=>{ie=d,$r||(u.onExit&&u.onExit(d),le=!0),I(d,new wo(d))})(d)},nt=(d,y)=>{d<128?y.push(d):y.push(d%128|128,d>>7)},ps=[],m=d=>{var y=ps[d];return y||(d>=ps.length&&(ps.length=d+1),ps[d]=y=ut.get(d)),y},Ie=[],Ke=(d,y)=>{ut.set(d,y),ps[d]=ut.get(d)},et={b:(d,y,z,Me)=>{_e(`Assertion failed: ${Wn(d)}, at: `+[y?Wn(y):"unknown filename",z,Me?Wn(Me):"unknown function"])},i:function So(d){const y=new Error(Wn(d));throw y.isAssert=!0,y},m:function ye(d,y,z){pe(y,z)},h:()=>1,j:function Cr(d,y,z){var Me=pe(d,y),It=new Date(1e3*Me);D[z>>2]=It.getSeconds(),D[z+4>>2]=It.getMinutes(),D[z+8>>2]=It.getHours(),D[z+12>>2]=It.getDate(),D[z+16>>2]=It.getMonth(),D[z+20>>2]=It.getFullYear()-1900,D[z+24>>2]=It.getDay();var en=0|tr(It);D[z+28>>2]=en,D[z+36>>2]=-60*It.getTimezoneOffset();var dt=new Date(It.getFullYear(),0,1),vn=new Date(It.getFullYear(),6,1).getTimezoneOffset(),cr=dt.getTimezoneOffset(),jr=0|(vn!=cr&&It.getTimezoneOffset()==Math.min(cr,vn));D[z+32>>2]=jr},k:function(d){var y=(()=>{var z=new Date(D[d+20>>2]+1900,D[d+16>>2],D[d+12>>2],D[d+8>>2],D[d+4>>2],D[d>>2],0),Me=D[d+32>>2],It=z.getTimezoneOffset(),en=new Date(z.getFullYear(),0,1),dt=new Date(z.getFullYear(),6,1).getTimezoneOffset(),vn=en.getTimezoneOffset(),cr=Math.min(vn,dt);if(Me<0)D[d+32>>2]=+(dt!=vn&&cr==It);else if(Me>0!=(cr==It)){var jr=Math.max(vn,dt),pa=Me>0?cr:jr;z.setTime(z.getTime()+6e4*(pa-It))}D[d+24>>2]=z.getDay();var ys=0|tr(z);D[d+28>>2]=ys,D[d>>2]=z.getSeconds(),D[d+4>>2]=z.getMinutes(),D[d+8>>2]=z.getHours(),D[d+12>>2]=z.getDate(),D[d+16>>2]=z.getMonth(),D[d+20>>2]=z.getYear();var $n=z.getTime();return isNaN($n)?(D[Ye()>>2]=61,-1):$n/1e3})();return bh((zn=y,+Math.abs(zn)>=1?zn>0?+Math.floor(zn/4294967296)>>>0:~~+Math.ceil((zn-+(~~zn>>>0))/4294967296)>>>0:0)),y>>>0},r:(d,y,z)=>{var Me=(new Date).getFullYear(),It=new Date(Me,0,1),en=new Date(Me,6,1),dt=It.getTimezoneOffset(),vn=en.getTimezoneOffset(),cr=Math.max(dt,vn);function jr(yo){var lo=yo.toTimeString().match(/\(([A-Za-z ]+)\)$/);return lo?lo[1]:"GMT"}X[d>>2]=60*cr,D[y>>2]=+(dt!=vn);var pa=jr(It),ys=jr(en),$n=Po(pa),Gs=Po(ys);vn<dt?(X[z>>2]=$n,X[z+4>>2]=Gs):(X[z>>2]=Gs,X[z+4>>2]=$n)},a:()=>{_e("")},s:(d,y,z)=>((d,y,z)=>{var Me=((d,y)=>{vr.length=0;for(var z;z=O[d++];){var Me=105!=z;y+=(Me&=112!=z)&&y%8?4:0,vr.push(112==z?X[y>>2]:105==z?D[y>>2]:he[y>>3]),y+=Me?8:4}return vr})(y,z);return Ho[d].apply(null,Me)})(d,y,z),c:()=>Date.now(),d:(d,y,z)=>O.copyWithin(d,y,y+z),q:d=>{var cr,y=O.length,z=2147483648;if((d>>>=0)>z)return!1;for(var It=1;It<=4;It*=2){var en=y*(1+.2/It);en=Math.min(en,d+100663296);var dt=Math.min(z,(cr=Math.max(d,en))+(65536-cr%65536)%65536);if(pi(dt))return!0}return!1},o:(d,y)=>{var z=0;return Eo().forEach((Me,It)=>{var en=y+z;X[d+4*It>>2]=en,((d,y)=>{for(var z=0;z<d.length;++z)Ae[y++>>0]=d.charCodeAt(z);Ae[y>>0]=0})(Me,en),z+=Me.length+1}),0},p:(d,y)=>{var z=Eo();X[d>>2]=z.length;var Me=0;return z.forEach(It=>Me+=It.length+1),X[y>>2]=Me,0},e:d=>52,g:(d,y,z,Me)=>52,l:function Hi(d,y,z,Me,It){return pe(y,z),70},f:(d,y,z,Me)=>{for(var It=0,en=0;en<z;en++){var dt=X[y>>2],vn=X[y+4>>2];y+=8;for(var cr=0;cr<vn;cr++)Ei(d,O[dt+cr]);It+=vn}return X[Me>>2]=It,0},n:(d,y,z,Me,It)=>((d,y,z,Me)=>{var It=X[Me+40>>2],en={tm_sec:D[Me>>2],tm_min:D[Me+4>>2],tm_hour:D[Me+8>>2],tm_mday:D[Me+12>>2],tm_mon:D[Me+16>>2],tm_year:D[Me+20>>2],tm_wday:D[Me+24>>2],tm_yday:D[Me+28>>2],tm_isdst:D[Me+32>>2],tm_gmtoff:D[Me+36>>2],tm_zone:It?Wn(It):""},dt=Wn(z),vn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var cr in vn)dt=dt.replace(new RegExp(cr,"g"),vn[cr]);var jr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],pa=["January","February","March","April","May","June","July","August","September","October","November","December"];function ys(_t,Xt,mi){for(var gi="number"==typeof _t?_t.toString():_t||"";gi.length<Xt;)gi=mi[0]+gi;return gi}function $n(_t,Xt){return ys(_t,Xt,"0")}function Gs(_t,Xt){function mi(gu){return gu<0?-1:gu>0?1:0}var gi;return 0===(gi=mi(_t.getFullYear()-Xt.getFullYear()))&&0===(gi=mi(_t.getMonth()-Xt.getMonth()))&&(gi=mi(_t.getDate()-Xt.getDate())),gi}function yo(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function lo(_t){var Xt=((d,y)=>{for(var z=new Date(d.getTime());y>0;){var Me=Cn(z.getFullYear()),It=z.getMonth(),en=(Me?zi:Hr)[It];if(!(y>en-z.getDate()))return z.setDate(z.getDate()+y),z;y-=en-z.getDate()+1,z.setDate(1),It<11?z.setMonth(It+1):(z.setMonth(0),z.setFullYear(z.getFullYear()+1))}return z})(new Date(_t.tm_year+1900,0,1),_t.tm_yday),mi=new Date(Xt.getFullYear(),0,4),gi=new Date(Xt.getFullYear()+1,0,4),gu=yo(mi),nf=yo(gi);return Gs(gu,Xt)<=0?Gs(nf,Xt)<=0?Xt.getFullYear()+1:Xt.getFullYear():Xt.getFullYear()-1}var mu={"%a":_t=>jr[_t.tm_wday].substring(0,3),"%A":_t=>jr[_t.tm_wday],"%b":_t=>pa[_t.tm_mon].substring(0,3),"%B":_t=>pa[_t.tm_mon],"%C":_t=>$n((_t.tm_year+1900)/100|0,2),"%d":_t=>$n(_t.tm_mday,2),"%e":_t=>ys(_t.tm_mday,2," "),"%g":_t=>lo(_t).toString().substring(2),"%G":_t=>lo(_t),"%H":_t=>$n(_t.tm_hour,2),"%I":_t=>{var Xt=_t.tm_hour;return 0==Xt?Xt=12:Xt>12&&(Xt-=12),$n(Xt,2)},"%j":_t=>$n(_t.tm_mday+((d,y)=>{for(var z=0,Me=0;Me<=y;z+=d[Me++]);return z})(Cn(_t.tm_year+1900)?zi:Hr,_t.tm_mon-1),3),"%m":_t=>$n(_t.tm_mon+1,2),"%M":_t=>$n(_t.tm_min,2),"%n":()=>"\n","%p":_t=>_t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM","%S":_t=>$n(_t.tm_sec,2),"%t":()=>"\t","%u":_t=>_t.tm_wday||7,"%U":_t=>$n(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2),"%V":_t=>{var Xt=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&Xt++,Xt){if(53==Xt){var gi=(_t.tm_wday+371-_t.tm_yday)%7;4!=gi&&(3!=gi||!Cn(_t.tm_year))&&(Xt=1)}}else{Xt=52;var mi=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==mi||5==mi&&Cn(_t.tm_year%400-1))&&Xt++}return $n(Xt,2)},"%w":_t=>_t.tm_wday,"%W":_t=>$n(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2),"%y":_t=>(_t.tm_year+1900).toString().substring(2),"%Y":_t=>_t.tm_year+1900,"%z":_t=>{var Xt=_t.tm_gmtoff;return(Xt>=0?"+":"-")+("0000"+(Xt=(Xt=Math.abs(Xt)/60)/60*100+Xt%60)).slice(-4)},"%Z":_t=>_t.tm_zone,"%%":()=>"%"};for(var cr in dt=dt.replace(/%%/g,"\0\0"),mu)dt.includes(cr)&&(dt=dt.replace(new RegExp(cr,"g"),mu[cr](en)));var ha=ei(dt=dt.replace(/\0\0/g,"%"),!1);return ha.length>y?0:(((d,y)=>{Ae.set(d,y)})(ha,d),ha.length-1)})(d,y,z,Me)},A=function gr(){var d={a:et};function y(Me,It){return J=(A=Me.exports).t,$e(),ut=A.yc,function at(d){Gt.unshift(d)}(A.u),function be(d){if(Ct--,u.monitorRunDependencies&&u.monitorRunDependencies(Ct),0==Ct&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var y=jt;jt=null,y()}}(),A}if(function Ee(d){Ct++,u.monitorRunDependencies&&u.monitorRunDependencies(Ct)}(),u.instantiateWasm)try{return u.instantiateWasm(d,y)}catch(Me){G(`Module.instantiateWasm callback failed with error: ${Me}`),q(Me)}return function Jt(d,y,z,Me){return d||"function"!=typeof WebAssembly.instantiateStreaming||vt(y)||"function"!=typeof fetch?fn(y,z,Me):fetch(y,{credentials:"same-origin"}).then(It=>WebAssembly.instantiateStreaming(It,z).then(Me,function(dt){return G(`wasm streaming compile failed: ${dt}`),G("falling back to ArrayBuffer instantiation"),fn(y,z,Me)}))}(M,Pt,d,function z(Me){y(Me.instance)}).catch(q),{}}(),At=u._malloc=d=>(At=u._malloc=A.v)(d),Sn=(u._free=d=>(u._free=A.w)(d),u._main=(d,y)=>(Sn=u._main=A.x)(d,y)),zr=(u._webidl_free=d=>(u._webidl_free=A.y)(d),u._webidl_malloc=d=>(u._webidl_malloc=A.z)(d),u._emscripten_bind_VoidPtr___destroy___0=d=>(zr=u._emscripten_bind_VoidPtr___destroy___0=A.A)(d)),Kn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Kn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=A.B)(),Yi=u._emscripten_bind_Cloudpilot_Malloc_1=(d,y)=>(Yi=u._emscripten_bind_Cloudpilot_Malloc_1=A.C)(d,y),Bn=u._emscripten_bind_Cloudpilot_Free_1=(d,y)=>(Bn=u._emscripten_bind_Cloudpilot_Free_1=A.D)(d,y),No=u._emscripten_bind_Cloudpilot_Nullptr_0=d=>(No=u._emscripten_bind_Cloudpilot_Nullptr_0=A.E)(d),Io=u._emscripten_bind_Cloudpilot_InitializeSession_3=(d,y,z,Me)=>(Io=u._emscripten_bind_Cloudpilot_InitializeSession_3=A.F)(d,y,z,Me),Ki=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d=>(Ki=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=A.G)(d),xa=u._emscripten_bind_Cloudpilot_RunEmulation_1=(d,y)=>(xa=u._emscripten_bind_Cloudpilot_RunEmulation_1=A.H)(d,y),ea=u._emscripten_bind_Cloudpilot_SetClockFactor_1=(d,y)=>(ea=u._emscripten_bind_Cloudpilot_SetClockFactor_1=A.I)(d,y),Os=u._emscripten_bind_Cloudpilot_CopyFrame_0=d=>(Os=u._emscripten_bind_Cloudpilot_CopyFrame_0=A.J)(d),ta=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=d=>(ta=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=A.K)(d),Xi=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=d=>(Xi=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=A.L)(d),Ta=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(d,y)=>(Ta=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=A.M)(d,y),na=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(d,y)=>(na=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=A.N)(d,y),ra=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(d,y)=>(ra=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=A.O)(d,y),Ma=u._emscripten_bind_Cloudpilot_QueuePenMove_2=(d,y,z)=>(Ma=u._emscripten_bind_Cloudpilot_QueuePenMove_2=A.P)(d,y,z),Aa=u._emscripten_bind_Cloudpilot_QueuePenUp_0=d=>(Aa=u._emscripten_bind_Cloudpilot_QueuePenUp_0=A.Q)(d),ka=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=(d,y)=>(ka=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=A.R)(d,y),Ra=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=(d,y)=>(Ra=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=A.S)(d,y),oa=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(d,y,z)=>(oa=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=A.T)(d,y,z),Pa=u._emscripten_bind_Cloudpilot_IsPowerOff_0=d=>(Pa=u._emscripten_bind_Cloudpilot_IsPowerOff_0=A.U)(d),Oa=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=d=>(Oa=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=A.V)(d),wr=u._emscripten_bind_Cloudpilot_GetOSVersion_0=d=>(wr=u._emscripten_bind_Cloudpilot_GetOSVersion_0=A.W)(d),ia=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=d=>(ia=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=A.X)(d),po=u._emscripten_bind_Cloudpilot_Reset_0=d=>(po=u._emscripten_bind_Cloudpilot_Reset_0=A.Y)(d),Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d=>(Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=A.Z)(d),sa=u._emscripten_bind_Cloudpilot_ResetHard_0=d=>(sa=u._emscripten_bind_Cloudpilot_ResetHard_0=A._)(d),Ns=u._emscripten_bind_Cloudpilot_InstallDb_2=(d,y,z)=>(Ns=u._emscripten_bind_Cloudpilot_InstallDb_2=A.$)(d,y,z),Jr=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d=>(Jr=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=A.aa)(d),Fs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d=>(Fs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=A.ba)(d),Na=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d=>(Na=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=A.ca)(d),Vn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=d=>(Vn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=A.da)(d),hs=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(d,y,z)=>(hs=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=A.ea)(d,y,z),Dr=u._emscripten_bind_Cloudpilot_GetRomPtr_0=d=>(Dr=u._emscripten_bind_Cloudpilot_GetRomPtr_0=A.fa)(d),Ls=u._emscripten_bind_Cloudpilot_GetRomSize_0=d=>(Ls=u._emscripten_bind_Cloudpilot_GetRomSize_0=A.ga)(d),pl=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d=>(pl=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=A.ha)(d),Fa=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=d=>(Fa=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=A.ia)(d),Un=u._emscripten_bind_Cloudpilot_SaveState_0=d=>(Un=u._emscripten_bind_Cloudpilot_SaveState_0=A.ja)(d),Yt=u._emscripten_bind_Cloudpilot_LoadState_2=(d,y,z)=>(Yt=u._emscripten_bind_Cloudpilot_LoadState_2=A.ka)(d,y,z),ms=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=d=>(ms=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=A.la)(d),$s=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=(d,y)=>($s=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=A.ma)(d,y),hl=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(d,y)=>(hl=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=A.na)(d,y),aa=u._emscripten_bind_Cloudpilot_StartBackup_0=d=>(aa=u._emscripten_bind_Cloudpilot_StartBackup_0=A.oa)(d),Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(d,y)=>(Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=A.pa)(d,y),Qi=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d=>(Qi=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=A.qa)(d),gs=u._emscripten_bind_Cloudpilot_IsSuspended_0=d=>(gs=u._emscripten_bind_Cloudpilot_IsSuspended_0=A.ra)(d),Ji=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=d=>(Ji=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=A.sa)(d),la=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(d,y)=>(la=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=A.ta)(d,y),ca=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d=>(ca=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=A.ua)(d),ti=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(d,y)=>(ti=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=A.va)(d,y),yr=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(d,y)=>(yr=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=A.wa)(d,y),Wo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=(d,y)=>(Wo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=A.xa)(d,y),Lt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(d,y,z)=>(Lt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=A.ya)(d,y,z),Fn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(d,y)=>(Fn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=A.za)(d,y),Bl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d=>(Bl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=A.Aa)(d),ml=u._emscripten_bind_Cloudpilot_AllocateCard_2=(d,y,z)=>(ml=u._emscripten_bind_Cloudpilot_AllocateCard_2=A.Ba)(d,y,z),gl=u._emscripten_bind_Cloudpilot_AdoptCard_3=(d,y,z,Me)=>(gl=u._emscripten_bind_Cloudpilot_AdoptCard_3=A.Ca)(d,y,z,Me),Vl=u._emscripten_bind_Cloudpilot_MountCard_1=(d,y)=>(Vl=u._emscripten_bind_Cloudpilot_MountCard_1=A.Da)(d,y),Zn=u._emscripten_bind_Cloudpilot_RemoveCard_1=(d,y)=>(Zn=u._emscripten_bind_Cloudpilot_RemoveCard_1=A.Ea)(d,y),_s=u._emscripten_bind_Cloudpilot_GetCardData_1=(d,y)=>(_s=u._emscripten_bind_Cloudpilot_GetCardData_1=A.Fa)(d,y),Ln=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(d,y)=>(Ln=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=A.Ga)(d,y),ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=(d,y)=>(ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=A.Ha)(d,y),mo=u._emscripten_bind_Cloudpilot_RemountCards_0=d=>(mo=u._emscripten_bind_Cloudpilot_RemountCards_0=A.Ia)(d),Wr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=(d,y)=>(Wr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=A.Ja)(d,y),qn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=d=>(qn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=A.Ka)(d),Xn=u._emscripten_bind_Cloudpilot___destroy___0=d=>(Xn=u._emscripten_bind_Cloudpilot___destroy___0=A.La)(d),kr=u._emscripten_bind_RomInfo_RomInfo_2=(d,y)=>(kr=u._emscripten_bind_RomInfo_RomInfo_2=A.Ma)(d,y),Er=u._emscripten_bind_RomInfo_IsValid_0=d=>(Er=u._emscripten_bind_RomInfo_IsValid_0=A.Na)(d),v=u._emscripten_bind_RomInfo_CardVersion_0=d=>(v=u._emscripten_bind_RomInfo_CardVersion_0=A.Oa)(d),V=u._emscripten_bind_RomInfo_CardName_0=d=>(V=u._emscripten_bind_RomInfo_CardName_0=A.Pa)(d),re=u._emscripten_bind_RomInfo_RomVersion_0=d=>(re=u._emscripten_bind_RomInfo_RomVersion_0=A.Qa)(d),Pe=u._emscripten_bind_RomInfo_RomVersionString_0=d=>(Pe=u._emscripten_bind_RomInfo_RomVersionString_0=A.Ra)(d),yt=u._emscripten_bind_RomInfo_Supports_1=(d,y)=>(yt=u._emscripten_bind_RomInfo_Supports_1=A.Sa)(d,y),qt=u._emscripten_bind_RomInfo___destroy___0=d=>(qt=u._emscripten_bind_RomInfo___destroy___0=A.Ta)(d),ot=u._emscripten_bind_Frame_GetLineWidth_0=d=>(ot=u._emscripten_bind_Frame_GetLineWidth_0=A.Ua)(d),pn=u._emscripten_bind_Frame_GetBpp_0=d=>(pn=u._emscripten_bind_Frame_GetBpp_0=A.Va)(d),ir=u._emscripten_bind_Frame_GetLines_0=d=>(ir=u._emscripten_bind_Frame_GetLines_0=A.Wa)(d),zt=u._emscripten_bind_Frame_GetMargin_0=d=>(zt=u._emscripten_bind_Frame_GetMargin_0=A.Xa)(d),Rr=u._emscripten_bind_Frame_GetBytesPerLine_0=d=>(Rr=u._emscripten_bind_Frame_GetBytesPerLine_0=A.Ya)(d),Le=u._emscripten_bind_Frame_GetFirstDirtyLine_0=d=>(Le=u._emscripten_bind_Frame_GetFirstDirtyLine_0=A.Za)(d),wn=u._emscripten_bind_Frame_GetLastDirtyLine_0=d=>(wn=u._emscripten_bind_Frame_GetLastDirtyLine_0=A._a)(d),ct=u._emscripten_bind_Frame_GetHasChanges_0=d=>(ct=u._emscripten_bind_Frame_GetHasChanges_0=A.$a)(d),sr=u._emscripten_bind_Frame_GetBuffer_0=d=>(sr=u._emscripten_bind_Frame_GetBuffer_0=A.ab)(d),Hn=u._emscripten_bind_Frame_GetBufferSize_0=d=>(Hn=u._emscripten_bind_Frame_GetBufferSize_0=A.bb)(d),Pr=u._emscripten_bind_Frame_GetScaleX_0=d=>(Pr=u._emscripten_bind_Frame_GetScaleX_0=A.cb)(d),ar=u._emscripten_bind_Frame_GetScaleY_0=d=>(ar=u._emscripten_bind_Frame_GetScaleY_0=A.db)(d),We=u._emscripten_bind_Frame___destroy___0=d=>(We=u._emscripten_bind_Frame___destroy___0=A.eb)(d),p=u._emscripten_bind_DbBackup_Init_1=(d,y)=>(p=u._emscripten_bind_DbBackup_Init_1=A.fb)(d,y),x=u._emscripten_bind_DbBackup_IsInProgress_0=d=>(x=u._emscripten_bind_DbBackup_IsInProgress_0=A.gb)(d),ne=u._emscripten_bind_DbBackup_IsDone_0=d=>(ne=u._emscripten_bind_DbBackup_IsDone_0=A.hb)(d),Ne=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=d=>(Ne=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=A.ib)(d),Qe=u._emscripten_bind_DbBackup_Save_0=d=>(Qe=u._emscripten_bind_DbBackup_Save_0=A.jb)(d),gn=u._emscripten_bind_DbBackup_Skip_0=d=>(gn=u._emscripten_bind_DbBackup_Skip_0=A.kb)(d),on=u._emscripten_bind_DbBackup_GetArchivePtr_0=d=>(on=u._emscripten_bind_DbBackup_GetArchivePtr_0=A.lb)(d),Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=d=>(Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=A.mb)(d),lr=u._emscripten_bind_DbBackup___destroy___0=d=>(lr=u._emscripten_bind_DbBackup___destroy___0=A.nb)(d),Fo=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d=>(Fo=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=A.ob)(d),Yn=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d=>(Yn=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=A.pb)(d),La=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d=>(La=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=A.qb)(d),xo=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d=>(xo=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=A.rb)(d),ft=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d=>(ft=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=A.sb)(d),ua=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(d,y)=>(ua=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=A.tb)(d,y),Bs=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d=>(Bs=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=A.ub)(d),jl=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d=>(jl=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=A.vb)(d),$a=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(d,y)=>($a=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=A.wb)(d,y),mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d=>(mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=A.xb)(d),sn=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d=>(sn=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=A.yb)(d),hi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d=>(hi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=A.zb)(d),ni=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d=>(ni=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=A.Ab)(d),Gl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(d,y,z)=>(Gl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=A.Bb)(d,y,z),zd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d=>(zd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=A.Cb)(d),w_=u._emscripten_bind_SuspendContext_GetKind_0=d=>(w_=u._emscripten_bind_SuspendContext_GetKind_0=A.Db)(d),Ul=u._emscripten_bind_SuspendContext_Cancel_0=d=>(Ul=u._emscripten_bind_SuspendContext_Cancel_0=A.Eb)(d),du=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d=>(du=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=A.Fb)(d),Dc=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d=>(Dc=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=A.Gb)(d),th=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d=>(th=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=A.Hb)(d),nh=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d=>(nh=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=A.Ib)(d),rh=u._emscripten_bind_SuspendContext___destroy___0=d=>(rh=u._emscripten_bind_SuspendContext___destroy___0=A.Jb)(d),Wd=u._emscripten_bind_SessionImage_SessionImage_0=()=>(Wd=u._emscripten_bind_SessionImage_SessionImage_0=A.Kb)(),_l=u._emscripten_bind_SessionImage_GetDeviceId_0=d=>(_l=u._emscripten_bind_SessionImage_GetDeviceId_0=A.Lb)(d),oh=u._emscripten_bind_SessionImage_SetDeviceId_1=(d,y)=>(oh=u._emscripten_bind_SessionImage_SetDeviceId_1=A.Mb)(d,y),da=u._emscripten_bind_SessionImage_GetRomImage_0=d=>(da=u._emscripten_bind_SessionImage_GetRomImage_0=A.Nb)(d),ih=u._emscripten_bind_SessionImage_GetRomImageSize_0=d=>(ih=u._emscripten_bind_SessionImage_GetRomImageSize_0=A.Ob)(d),ce=u._emscripten_bind_SessionImage_SetRomImage_2=(d,y,z)=>(ce=u._emscripten_bind_SessionImage_SetRomImage_2=A.Pb)(d,y,z),Zd=u._emscripten_bind_SessionImage_GetMemoryImage_0=d=>(Zd=u._emscripten_bind_SessionImage_GetMemoryImage_0=A.Qb)(d),rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=d=>(rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=A.Rb)(d),Ec=u._emscripten_bind_SessionImage_SetMemoryImage_2=(d,y,z)=>(Ec=u._emscripten_bind_SessionImage_SetMemoryImage_2=A.Sb)(d,y,z),fu=u._emscripten_bind_SessionImage_GetMetadata_0=d=>(fu=u._emscripten_bind_SessionImage_GetMetadata_0=A.Tb)(d),Hl=u._emscripten_bind_SessionImage_GetMetadataSize_0=d=>(Hl=u._emscripten_bind_SessionImage_GetMetadataSize_0=A.Ub)(d),sh=u._emscripten_bind_SessionImage_SetMetadata_2=(d,y,z)=>(sh=u._emscripten_bind_SessionImage_SetMetadata_2=A.Vb)(d,y,z),ah=u._emscripten_bind_SessionImage_GetSavestate_0=d=>(ah=u._emscripten_bind_SessionImage_GetSavestate_0=A.Wb)(d),lh=u._emscripten_bind_SessionImage_GetSavestateSize_0=d=>(lh=u._emscripten_bind_SessionImage_GetSavestateSize_0=A.Xb)(d),Vs=u._emscripten_bind_SessionImage_SetSavestate_2=(d,y,z)=>(Vs=u._emscripten_bind_SessionImage_SetSavestate_2=A.Yb)(d,y,z),Ic=u._emscripten_bind_SessionImage_GetVersion_0=d=>(Ic=u._emscripten_bind_SessionImage_GetVersion_0=A.Zb)(d),es=u._emscripten_bind_SessionImage_Serialize_0=d=>(es=u._emscripten_bind_SessionImage_Serialize_0=A._b)(d),vs=u._emscripten_bind_SessionImage_GetSerializedImage_0=d=>(vs=u._emscripten_bind_SessionImage_GetSerializedImage_0=A.$b)(d),Qn=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=d=>(Qn=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=A.ac)(d),qd=u._emscripten_bind_SessionImage_Deserialize_2=(d,y,z)=>(qd=u._emscripten_bind_SessionImage_Deserialize_2=A.bc)(d,y,z),pu=u._emscripten_bind_SessionImage___destroy___0=d=>(pu=u._emscripten_bind_SessionImage___destroy___0=A.cc)(d),Yd=u._emscripten_bind_SkinLoader_SkinLoader_1=d=>(Yd=u._emscripten_bind_SkinLoader_SkinLoader_1=A.dc)(d),Kd=u._emscripten_bind_SkinLoader_GetData_0=d=>(Kd=u._emscripten_bind_SkinLoader_GetData_0=A.ec)(d),zl=u._emscripten_bind_SkinLoader_GetSize_0=d=>(zl=u._emscripten_bind_SkinLoader_GetSize_0=A.fc)(d),Xd=u._emscripten_bind_SkinLoader___destroy___0=d=>(Xd=u._emscripten_bind_SkinLoader___destroy___0=A.gc)(d),Qd=u._emscripten_bind_GunzipContext_GunzipContext_3=(d,y,z)=>(Qd=u._emscripten_bind_GunzipContext_GunzipContext_3=A.hc)(d,y,z),ch=u._emscripten_bind_GunzipContext_GetState_0=d=>(ch=u._emscripten_bind_GunzipContext_GetState_0=A.ic)(d),Jd=u._emscripten_bind_GunzipContext_Continue_0=d=>(Jd=u._emscripten_bind_GunzipContext_Continue_0=A.jc)(d),uh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=d=>(uh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=A.kc)(d),dh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=d=>(dh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=A.lc)(d),ts=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=d=>(ts=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=A.mc)(d),fh=u._emscripten_bind_GunzipContext_GetError_0=d=>(fh=u._emscripten_bind_GunzipContext_GetError_0=A.nc)(d),ef=u._emscripten_bind_GunzipContext___destroy___0=d=>(ef=u._emscripten_bind_GunzipContext___destroy___0=A.oc)(d),ph=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(d,y)=>(ph=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=A.pc)(d,y),hh=u._emscripten_bind_ZipfileWalker_GetState_0=d=>(hh=u._emscripten_bind_ZipfileWalker_GetState_0=A.qc)(d),mh=u._emscripten_bind_ZipfileWalker_Next_0=d=>(mh=u._emscripten_bind_ZipfileWalker_Next_0=A.rc)(d),gh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=d=>(gh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=A.sc)(d),tf=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d=>(tf=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=A.tc)(d),_h=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d=>(_h=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=A.uc)(d),vh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d=>(vh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=A.vc)(d),yh=u._emscripten_bind_ZipfileWalker___destroy___0=d=>(yh=u._emscripten_bind_ZipfileWalker___destroy___0=A.wc)(d),Ye=()=>(Ye=A.xc)(),bh=d=>(bh=A.zc)(d);function Lo(){function d(){_n||(_n=!0,u.calledRun=!0,!le&&(function st(){Pn(Gt)}(),function Ft(){Pn(Oe)}(),H(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),fa&&function To(){var d=Sn;try{var Me=d(0,0);return us(Me),Me}catch(It){return(d=>{if(d instanceof wo||"unwind"==d)return ie;I(1,d)})(It)}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),ze.unshift(d);var d;Pn(ze)}()))}Ct>0||(function Be(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),ht.unshift(d);var d;Pn(ht)}(),Ct>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),d()},1)):d())}if(u.___original_main=()=>(u.___original_main=A.Ac)(),u.___start_em_js=1472695,u.___stop_em_js=1472794,u.addFunction=(d,y)=>{var z=(d=>(L||(L=new WeakMap,((d,y)=>{if(L)for(var z=0;z<0+y;z++){var Me=m(z);Me&&L.set(Me,z)}})(0,ut.length)),L.get(d)||0))(d);if(z)return z;var Me=(()=>{if(Ie.length)return Ie.pop();try{ut.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return ut.length-1})();try{Ke(Me,d)}catch(en){if(!(en instanceof TypeError))throw en;var It=((d,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((d=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},z={parameters:[],results:"v"==d[0]?[]:[y[d[0]]]},Me=1;Me<d.length;++Me)z.parameters.push(y[d[Me]]);return z})(y),d);var z=[1];((d,y)=>{var z=d.slice(0,1),Me=d.slice(1),It={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),nt(Me.length,y);for(var en=0;en<Me.length;++en)y.push(It[Me[en]]);"v"==z?y.push(0):y.push(1,It[z])})(y,z);var Me=[0,97,115,109,1,0,0,0,1];nt(z.length,Me),Me.push.apply(Me,z),Me.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var It=new WebAssembly.Module(new Uint8Array(Me));return new WebAssembly.Instance(It,{e:{f:d}}).exports.f})(d,y);Ke(Me,It)}return L.set(d,Me),Me},u.UTF8ToString=Wn,jt=function d(){_n||Lo(),_n||(jt=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var fa=!0;function An(){}function js(d){return(d||An).__cache__}function jn(d,y){var z=js(y),Me=z[d];return Me||((Me=Object.create((y||An).prototype)).ptr=d,z[d]=Me)}u.noInitialRun&&(fa=!1),Lo(),(An.prototype=Object.create(An.prototype)).constructor=An,An.prototype.__class__=An,An.__cache__={},u.WrapperObject=An,u.getCache=js,u.wrapPointer=jn,u.castObject=function hu(d,y){return jn(d.ptr,y)},u.NULL=jn(0),u.destroy=function E_(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete js(d.__class__)[d.ptr]},u.compare=function I_(d,y){return d.ptr===y.ptr},u.getPointer=function so(d){return d.ptr},u.getClass=function gt(d){return d.__class__};var it={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(it.needed){for(var d=0;d<it.temps.length;d++)u._webidl_free(it.temps[d]);it.temps.length=0,u._webidl_free(it.buffer),it.buffer=0,it.size+=it.needed,it.needed=0}it.buffer||(it.size+=128,it.buffer=u._webidl_malloc(it.size),we(it.buffer)),it.pos=0},alloc(d,y){we(it.buffer);var It,Me=d.length*y.BYTES_PER_ELEMENT;return it.pos+(Me=Me+7&-8)>=it.size?(we(Me>0),it.needed+=Me,It=u._webidl_malloc(Me),it.temps.push(It)):(It=it.buffer+it.pos,it.pos+=Me),It},copy(d,y,z){switch(z>>>=0,y.BYTES_PER_ELEMENT){case 2:z>>>=1;break;case 4:z>>>=2;break;case 8:z>>>=3}for(var It=0;It<d.length;It++)y[z+It]=d[It]}};function Dn(d){if("string"==typeof d){var y=ei(d),z=it.alloc(y,Ae);return it.copy(y,Ae,z),z}return d}function kn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Te(){this.ptr=Kn(),js(Te)[this.ptr]=this}function nr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=kr(d,y),js(nr)[this.ptr]=this}function Rn(){throw"cannot construct a Frame, no constructor in IDL"}function tn(){throw"cannot construct a DbBackup, no constructor in IDL"}function ur(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Mo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Wt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function ao(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function eo(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Zt(){this.ptr=Wd(),js(Zt)[this.ptr]=this}function Gn(d){it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),this.ptr=Yd(d),js(Gn)[this.ptr]=this}function Or(d,y,z){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),z&&"object"==typeof z&&(z=z.ptr),this.ptr=Qd(d,y,z),js(Or)[this.ptr]=this}function Ir(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=ph(d,y),js(Ir)[this.ptr]=this}return(kn.prototype=Object.create(An.prototype)).constructor=kn,kn.prototype.__class__=kn,kn.__cache__={},u.VoidPtr=kn,kn.prototype.__destroy__=kn.prototype.__destroy__=function(){zr(this.ptr)},(Te.prototype=Object.create(An.prototype)).constructor=Te,Te.prototype.__class__=Te,Te.__cache__={},u.Cloudpilot=Te,Te.prototype.Malloc=Te.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),jn(Yi(this.ptr,d),kn)},Te.prototype.Free=Te.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Bn(this.ptr,d)},Te.prototype.Nullptr=Te.prototype.Nullptr=function(){return jn(No(this.ptr),kn)},Te.prototype.InitializeSession=Te.prototype.InitializeSession=function(d,y,z){var Me=this.ptr;return it.prepare(),d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),z=z&&"object"==typeof z?z.ptr:Dn(z),!!Io(Me,d,y,z)},Te.prototype.GetCyclesPerSecond=Te.prototype.GetCyclesPerSecond=function(){return Ki(this.ptr)},Te.prototype.RunEmulation=Te.prototype.RunEmulation=function(d){return d&&"object"==typeof d&&(d=d.ptr),xa(this.ptr,d)},Te.prototype.SetClockFactor=Te.prototype.SetClockFactor=function(d){d&&"object"==typeof d&&(d=d.ptr),ea(this.ptr,d)},Te.prototype.CopyFrame=Te.prototype.CopyFrame=function(){return jn(Os(this.ptr),Rn)},Te.prototype.IsScreenDirty=Te.prototype.IsScreenDirty=function(){return!!ta(this.ptr)},Te.prototype.MarkScreenClean=Te.prototype.MarkScreenClean=function(){Xi(this.ptr)},Te.prototype.MinMemoryForDevice=Te.prototype.MinMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Ta(y,d)},Te.prototype.FramebufferSizeForDevice=Te.prototype.FramebufferSizeForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),na(y,d)},Te.prototype.TotalMemoryForDevice=Te.prototype.TotalMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ra(y,d)},Te.prototype.QueuePenMove=Te.prototype.QueuePenMove=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Ma(this.ptr,d,y)},Te.prototype.QueuePenUp=Te.prototype.QueuePenUp=function(){Aa(this.ptr)},Te.prototype.QueueButtonDown=Te.prototype.QueueButtonDown=function(d){d&&"object"==typeof d&&(d=d.ptr),ka(this.ptr,d)},Te.prototype.QueueButtonUp=Te.prototype.QueueButtonUp=function(d){d&&"object"==typeof d&&(d=d.ptr),Ra(this.ptr,d)},Te.prototype.QueueKeyboardEvent=Te.prototype.QueueKeyboardEvent=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),oa(this.ptr,d,y)},Te.prototype.IsPowerOff=Te.prototype.IsPowerOff=function(){return!!Pa(this.ptr)},Te.prototype.IsUIInitialized=Te.prototype.IsUIInitialized=function(){return!!Oa(this.ptr)},Te.prototype.GetOSVersion=Te.prototype.GetOSVersion=function(){return wr(this.ptr)},Te.prototype.IsSetupComplete=Te.prototype.IsSetupComplete=function(){return!!ia(this.ptr)},Te.prototype.Reset=Te.prototype.Reset=function(){po(this.ptr)},Te.prototype.ResetNoExtensions=Te.prototype.ResetNoExtensions=function(){Ht(this.ptr)},Te.prototype.ResetHard=Te.prototype.ResetHard=function(){sa(this.ptr)},Te.prototype.InstallDb=Te.prototype.InstallDb=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Ns(this.ptr,d,y)},Te.prototype.GetPalette2bitMapping=Te.prototype.GetPalette2bitMapping=function(){return Jr(this.ptr)},Te.prototype.GetMemoryPtr=Te.prototype.GetMemoryPtr=function(){return jn(Fs(this.ptr),kn)},Te.prototype.GetDirtyPagesPtr=Te.prototype.GetDirtyPagesPtr=function(){return jn(Na(this.ptr),kn)},Te.prototype.GetMemorySize=Te.prototype.GetMemorySize=function(){return Vn(this.ptr)},Te.prototype.ImportMemoryImage=Te.prototype.ImportMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!hs(this.ptr,d,y)},Te.prototype.GetRomPtr=Te.prototype.GetRomPtr=function(){return jn(Dr(this.ptr),kn)},Te.prototype.GetRomSize=Te.prototype.GetRomSize=function(){return Ls(this.ptr)},Te.prototype.GetSavestatePtr=Te.prototype.GetSavestatePtr=function(){return jn(pl(this.ptr),kn)},Te.prototype.GetSavestateSize=Te.prototype.GetSavestateSize=function(){return Fa(this.ptr)},Te.prototype.SaveState=Te.prototype.SaveState=function(){return!!Un(this.ptr)},Te.prototype.LoadState=Te.prototype.LoadState=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Yt(this.ptr,d,y)},Te.prototype.GetHotsyncName=Te.prototype.GetHotsyncName=function(){return Wn(ms(this.ptr))},Te.prototype.SetHotsyncName=Te.prototype.SetHotsyncName=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),$s(y,d)},Te.prototype.RegisterPwmHandler=Te.prototype.RegisterPwmHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),hl(this.ptr,d)},Te.prototype.StartBackup=Te.prototype.StartBackup=function(){return jn(aa(this.ptr),tn)},Te.prototype.SetClipboardIntegration=Te.prototype.SetClipboardIntegration=function(d){d&&"object"==typeof d&&(d=d.ptr),Xe(this.ptr,d)},Te.prototype.GetClipboardIntegration=Te.prototype.GetClipboardIntegration=function(){return!!Qi(this.ptr)},Te.prototype.IsSuspended=Te.prototype.IsSuspended=function(){return!!gs(this.ptr)},Te.prototype.GetSuspendContext=Te.prototype.GetSuspendContext=function(){return jn(Ji(this.ptr),eo)},Te.prototype.SetNetworkRedirection=Te.prototype.SetNetworkRedirection=function(d){d&&"object"==typeof d&&(d=d.ptr),la(this.ptr,d)},Te.prototype.GetNetworkRedirection=Te.prototype.GetNetworkRedirection=function(){return!!ca(this.ptr)},Te.prototype.RegisterProxyDisconnectHandler=Te.prototype.RegisterProxyDisconnectHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),ti(this.ptr,d)},Te.prototype.SetHotsyncNameManagement=Te.prototype.SetHotsyncNameManagement=function(d){d&&"object"==typeof d&&(d=d.ptr),yr(this.ptr,d)},Te.prototype.LaunchAppByName=Te.prototype.LaunchAppByName=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Wo(y,d)},Te.prototype.LaunchAppByDbHeader=Te.prototype.LaunchAppByDbHeader=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Lt(this.ptr,d,y)},Te.prototype.DeviceSupportsCardSize=Te.prototype.DeviceSupportsCardSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Fn(this.ptr,d)},Te.prototype.ClearExternalStorage=Te.prototype.ClearExternalStorage=function(){Bl(this.ptr)},Te.prototype.AllocateCard=Te.prototype.AllocateCard=function(d,y){var z=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),y&&"object"==typeof y&&(y=y.ptr),!!ml(z,d,y)},Te.prototype.AdoptCard=Te.prototype.AdoptCard=function(d,y,z){var Me=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),y&&"object"==typeof y&&(y=y.ptr),z&&"object"==typeof z&&(z=z.ptr),!!gl(Me,d,y,z)},Te.prototype.MountCard=Te.prototype.MountCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Vl(y,d)},Te.prototype.RemoveCard=Te.prototype.RemoveCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Zn(y,d)},Te.prototype.GetCardData=Te.prototype.GetCardData=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),jn(_s(y,d),kn)},Te.prototype.GetCardDirtyPages=Te.prototype.GetCardDirtyPages=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),jn(Ln(y,d),kn)},Te.prototype.GetCardSize=Te.prototype.GetCardSize=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ho(y,d)},Te.prototype.RemountCards=Te.prototype.RemountCards=function(){mo(this.ptr)},Te.prototype.GetSupportLevel=Te.prototype.GetSupportLevel=function(d){return d&&"object"==typeof d&&(d=d.ptr),Wr(this.ptr,d)},Te.prototype.GetMountedKey=Te.prototype.GetMountedKey=function(){return Wn(qn(this.ptr))},Te.prototype.__destroy__=Te.prototype.__destroy__=function(){Xn(this.ptr)},(nr.prototype=Object.create(An.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},u.RomInfo=nr,nr.prototype.IsValid=nr.prototype.IsValid=function(){return!!Er(this.ptr)},nr.prototype.CardVersion=nr.prototype.CardVersion=function(){return v(this.ptr)},nr.prototype.CardName=nr.prototype.CardName=function(){return Wn(V(this.ptr))},nr.prototype.RomVersion=nr.prototype.RomVersion=function(){return re(this.ptr)},nr.prototype.RomVersionString=nr.prototype.RomVersionString=function(){return Wn(Pe(this.ptr))},nr.prototype.Supports=nr.prototype.Supports=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!yt(y,d)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){qt(this.ptr)},(Rn.prototype=Object.create(An.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},u.Frame=Rn,Rn.prototype.GetLineWidth=Rn.prototype.GetLineWidth=function(){return ot(this.ptr)},Rn.prototype.GetBpp=Rn.prototype.GetBpp=function(){return pn(this.ptr)},Rn.prototype.GetLines=Rn.prototype.GetLines=function(){return ir(this.ptr)},Rn.prototype.GetMargin=Rn.prototype.GetMargin=function(){return zt(this.ptr)},Rn.prototype.GetBytesPerLine=Rn.prototype.GetBytesPerLine=function(){return Rr(this.ptr)},Rn.prototype.GetFirstDirtyLine=Rn.prototype.GetFirstDirtyLine=function(){return Le(this.ptr)},Rn.prototype.GetLastDirtyLine=Rn.prototype.GetLastDirtyLine=function(){return wn(this.ptr)},Rn.prototype.GetHasChanges=Rn.prototype.GetHasChanges=function(){return!!ct(this.ptr)},Rn.prototype.GetBuffer=Rn.prototype.GetBuffer=function(){return jn(sr(this.ptr),kn)},Rn.prototype.GetBufferSize=Rn.prototype.GetBufferSize=function(){return Hn(this.ptr)},Rn.prototype.GetScaleX=Rn.prototype.GetScaleX=function(){return Pr(this.ptr)},Rn.prototype.GetScaleY=Rn.prototype.GetScaleY=function(){return ar(this.ptr)},Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){We(this.ptr)},(tn.prototype=Object.create(An.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},u.DbBackup=tn,tn.prototype.Init=tn.prototype.Init=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!p(this.ptr,d)},tn.prototype.IsInProgress=tn.prototype.IsInProgress=function(){return!!x(this.ptr)},tn.prototype.IsDone=tn.prototype.IsDone=function(){return!!ne(this.ptr)},tn.prototype.GetCurrentDatabase=tn.prototype.GetCurrentDatabase=function(){return Wn(Ne(this.ptr))},tn.prototype.Save=tn.prototype.Save=function(){return!!Qe(this.ptr)},tn.prototype.Skip=tn.prototype.Skip=function(){gn(this.ptr)},tn.prototype.GetArchivePtr=tn.prototype.GetArchivePtr=function(){return jn(on(this.ptr),kn)},tn.prototype.GetArchiveSize=tn.prototype.GetArchiveSize=function(){return Kt(this.ptr)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){lr(this.ptr)},(ur.prototype=Object.create(An.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},u.SuspendContextClipboardCopy=ur,ur.prototype.Cancel=ur.prototype.Cancel=function(){Fo(this.ptr)},ur.prototype.Resume=ur.prototype.Resume=function(){Yn(this.ptr)},ur.prototype.GetClipboardContent=ur.prototype.GetClipboardContent=function(){return Wn(La(this.ptr))},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){xo(this.ptr)},(Mo.prototype=Object.create(An.prototype)).constructor=Mo,Mo.prototype.__class__=Mo,Mo.__cache__={},u.SuspendContextClipboardPaste=Mo,Mo.prototype.Cancel=Mo.prototype.Cancel=function(){ft(this.ptr)},Mo.prototype.Resume=Mo.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ua(y,d)},Mo.prototype.__destroy__=Mo.prototype.__destroy__=function(){Bs(this.ptr)},(Wt.prototype=Object.create(An.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},u.SuspendContextNetworkConnect=Wt,Wt.prototype.Cancel=Wt.prototype.Cancel=function(){jl(this.ptr)},Wt.prototype.Resume=Wt.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),$a(y,d)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){mt(this.ptr)},(ao.prototype=Object.create(An.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},u.SuspendContextNetworkRpc=ao,ao.prototype.Cancel=ao.prototype.Cancel=function(){sn(this.ptr)},ao.prototype.GetRequestSize=ao.prototype.GetRequestSize=function(){return hi(this.ptr)},ao.prototype.GetRequestData=ao.prototype.GetRequestData=function(){return jn(ni(this.ptr),kn)},ao.prototype.ReceiveResponse=ao.prototype.ReceiveResponse=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gl(this.ptr,d,y)},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){zd(this.ptr)},(eo.prototype=Object.create(An.prototype)).constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},u.SuspendContext=eo,eo.prototype.GetKind=eo.prototype.GetKind=function(){return w_(this.ptr)},eo.prototype.Cancel=eo.prototype.Cancel=function(){Ul(this.ptr)},eo.prototype.AsContextClipboardCopy=eo.prototype.AsContextClipboardCopy=function(){return jn(du(this.ptr),ur)},eo.prototype.AsContextClipboardPaste=eo.prototype.AsContextClipboardPaste=function(){return jn(Dc(this.ptr),Mo)},eo.prototype.AsContextNetworkConnect=eo.prototype.AsContextNetworkConnect=function(){return jn(th(this.ptr),Wt)},eo.prototype.AsContextNetworkRpc=eo.prototype.AsContextNetworkRpc=function(){return jn(nh(this.ptr),ao)},eo.prototype.__destroy__=eo.prototype.__destroy__=function(){rh(this.ptr)},(Zt.prototype=Object.create(An.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},u.SessionImage=Zt,Zt.prototype.GetDeviceId=Zt.prototype.GetDeviceId=function(){return Wn(_l(this.ptr))},Zt.prototype.SetDeviceId=Zt.prototype.SetDeviceId=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),jn(oh(y,d),Zt)},Zt.prototype.GetRomImage=Zt.prototype.GetRomImage=function(){return jn(da(this.ptr),kn)},Zt.prototype.GetRomImageSize=Zt.prototype.GetRomImageSize=function(){return ih(this.ptr)},Zt.prototype.SetRomImage=Zt.prototype.SetRomImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),jn(ce(this.ptr,d,y),Zt)},Zt.prototype.GetMemoryImage=Zt.prototype.GetMemoryImage=function(){return jn(Zd(this.ptr),kn)},Zt.prototype.GetMemoryImageSize=Zt.prototype.GetMemoryImageSize=function(){return rt(this.ptr)},Zt.prototype.SetMemoryImage=Zt.prototype.SetMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),jn(Ec(this.ptr,d,y),Zt)},Zt.prototype.GetMetadata=Zt.prototype.GetMetadata=function(){return jn(fu(this.ptr),kn)},Zt.prototype.GetMetadataSize=Zt.prototype.GetMetadataSize=function(){return Hl(this.ptr)},Zt.prototype.SetMetadata=Zt.prototype.SetMetadata=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),jn(sh(this.ptr,d,y),Zt)},Zt.prototype.GetSavestate=Zt.prototype.GetSavestate=function(){return jn(ah(this.ptr),kn)},Zt.prototype.GetSavestateSize=Zt.prototype.GetSavestateSize=function(){return lh(this.ptr)},Zt.prototype.SetSavestate=Zt.prototype.SetSavestate=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),jn(Vs(this.ptr,d,y),Zt)},Zt.prototype.GetVersion=Zt.prototype.GetVersion=function(){return Ic(this.ptr)},Zt.prototype.Serialize=Zt.prototype.Serialize=function(){return!!es(this.ptr)},Zt.prototype.GetSerializedImage=Zt.prototype.GetSerializedImage=function(){return jn(vs(this.ptr),kn)},Zt.prototype.GetSerializedImageSize=Zt.prototype.GetSerializedImageSize=function(){return Qn(this.ptr)},Zt.prototype.Deserialize=Zt.prototype.Deserialize=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!qd(this.ptr,d,y)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){pu(this.ptr)},(Gn.prototype=Object.create(An.prototype)).constructor=Gn,Gn.prototype.__class__=Gn,Gn.__cache__={},u.SkinLoader=Gn,Gn.prototype.GetData=Gn.prototype.GetData=function(){return jn(Kd(this.ptr),kn)},Gn.prototype.GetSize=Gn.prototype.GetSize=function(){return zl(this.ptr)},Gn.prototype.__destroy__=Gn.prototype.__destroy__=function(){Xd(this.ptr)},(Or.prototype=Object.create(An.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},u.GunzipContext=Or,Or.prototype.GetState=Or.prototype.GetState=function(){return ch(this.ptr)},Or.prototype.Continue=Or.prototype.Continue=function(){return Jd(this.ptr)},Or.prototype.GetUncompressedData=Or.prototype.GetUncompressedData=function(){return jn(uh(this.ptr),kn)},Or.prototype.ReleaseUncompressedData=Or.prototype.ReleaseUncompressedData=function(){return jn(dh(this.ptr),kn)},Or.prototype.GetUncompressedSize=Or.prototype.GetUncompressedSize=function(){return ts(this.ptr)},Or.prototype.GetError=Or.prototype.GetError=function(){return Wn(fh(this.ptr))},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){ef(this.ptr)},(Ir.prototype=Object.create(An.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},u.ZipfileWalker=Ir,Ir.prototype.GetState=Ir.prototype.GetState=function(){return hh(this.ptr)},Ir.prototype.Next=Ir.prototype.Next=function(){return mh(this.ptr)},Ir.prototype.GetTotalEntries=Ir.prototype.GetTotalEntries=function(){return gh(this.ptr)},Ir.prototype.GetCurrentEntrySize=Ir.prototype.GetCurrentEntrySize=function(){return tf(this.ptr)},Ir.prototype.GetCurrentEntryName=Ir.prototype.GetCurrentEntryName=function(){return Wn(_h(this.ptr))},Ir.prototype.GetCurrentEntryContent=Ir.prototype.GetCurrentEntryContent=function(){return jn(vh(this.ptr),kn)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){yh(this.ptr)},S.ready});ge.exports=Ce},3097:ge=>{var C,Ce=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var H,q,u=S;u.ready=new Promise((v,V)=>{H=v,q=V});var ve,B=Object.assign({},u),E="./this.program",I=(v,V)=>{throw V},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(ve=v=>{var V=new XMLHttpRequest;return V.open("GET",v,!1),V.responseType="arraybuffer",V.send(null),new Uint8Array(V.response)}));var M,oe=u.print||console.log.bind(console),G=u.printErr||console.error.bind(console);Object.assign(u,B),B=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&_e("no native wasm support detected");var J,ie,Ae,O,D,X,he,le=!1;function we(v,V){v||_e(V)}function $e(){var v=J.buffer;u.HEAP8=Ae=new Int8Array(v),u.HEAP16=new Int16Array(v),u.HEAPU8=O=new Uint8Array(v),u.HEAPU16=new Uint16Array(v),u.HEAP32=D=new Int32Array(v),u.HEAPU32=X=new Uint32Array(v),u.HEAPF32=new Float32Array(v),u.HEAPF64=he=new Float64Array(v)}var ht=[],Gt=[],Oe=[],ze=[],Ct=0,Ut=null,jt=null;function _e(v){u.onAbort&&u.onAbort(v),G(v="Aborted("+v+")"),le=!0,ie=1,v+=". Build with -sASSERTIONS for more info.";var V=new WebAssembly.RuntimeError(v);throw q(V),V}var Jt,vt=v=>v.startsWith("data:application/octet-stream;base64,"),Pt=0;function un(v){return function(){if(le)throw"program has already aborted!";Pt+=1;try{return v.apply(null,arguments)}catch(V){if(le||Pt>1||V===1/0||"unwind"===V)throw V;_e("unhandled exception: "+[V,V.stack])}finally{Pt-=1}}}function gr(v){if(v==Jt&&M)return new Uint8Array(M);if(ve)return ve(v);throw"both async and sync fetching of the wasm failed"}function Ho(v,V,re){return function zn(v){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>gr(v)):fetch(v,{credentials:"same-origin"}).then(V=>{if(!V.ok)throw"failed to load wasm binary file at '"+v+"'";return V.arrayBuffer()}).catch(()=>gr(v))}(v).then(Pe=>WebAssembly.instantiate(Pe,V)).then(Pe=>Pe).then(re,Pe=>{G(`failed to asynchronously prepare wasm: ${Pe}`),_e(Pe)})}vt(Jt="fstools_web.wasm")||(Jt=function T(v){return u.locateFile?u.locateFile(v,P):P+v}(Jt));var Pn,$r={1093102:()=>{throw new Error("terminated")}};function Ur(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var go,ro=v=>{for(;v.length>0;)v.shift()(u)},Wn=u.noExitRuntime||!0,Br=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pe=(v,V,re)=>{for(var Pe=V+re,yt=V;v[yt]&&!(yt>=Pe);)++yt;if(yt-V>16&&v.buffer&&Br)return Br.decode(v.subarray(V,yt));for(var qt="";V<yt;){var ot=v[V++];if(128&ot){var pn=63&v[V++];if(192!=(224&ot)){var ir=63&v[V++];if((ot=224==(240&ot)?(15&ot)<<12|pn<<6|ir:(7&ot)<<18|pn<<12|ir<<6|63&v[V++])<65536)qt+=String.fromCharCode(ot);else{var zt=ot-65536;qt+=String.fromCharCode(55296|zt>>10,56320|1023&zt)}}else qt+=String.fromCharCode((31&ot)<<6|pn)}else qt+=String.fromCharCode(ot)}return qt},ye=(v,V)=>v?pe(O,v,V):"",hn={varargs:void 0,get(){var v=D[+hn.varargs>>2];return hn.varargs+=4,v},getp:()=>hn.get(),getStr:v=>ye(v)},Cn=(v,V)=>V+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*V:NaN,Cr=v=>v%4==0&&(v%100!=0||v%400==0),_o=[0,31,60,91,121,152,182,213,244,274,305,335],On=[0,31,59,90,120,151,181,212,243,273,304,334],Do=v=>(Cr(v.getFullYear())?_o:On)[v.getMonth()]+v.getDate()-1,xn=v=>{for(var V=0,re=0;re<v.length;++re){var Pe=v.charCodeAt(re);Pe<=127?V++:Pe<=2047?V+=2:Pe>=55296&&Pe<=57343?(V+=4,++re):V+=3}return V},_r=(v,V,re,Pe)=>{if(!(Pe>0))return 0;for(var yt=re,qt=re+Pe-1,ot=0;ot<v.length;++ot){var pn=v.charCodeAt(ot);if(pn>=55296&&pn<=57343&&(pn=65536+((1023&pn)<<10)|1023&v.charCodeAt(++ot)),pn<=127){if(re>=qt)break;V[re++]=pn}else if(pn<=2047){if(re+1>=qt)break;V[re++]=192|pn>>6,V[re++]=128|63&pn}else if(pn<=65535){if(re+2>=qt)break;V[re++]=224|pn>>12,V[re++]=128|pn>>6&63,V[re++]=128|63&pn}else{if(re+3>=qt)break;V[re++]=240|pn>>18,V[re++]=128|pn>>12&63,V[re++]=128|pn>>6&63,V[re++]=128|63&pn}}return V[re]=0,re-yt},Tn=v=>{var V=xn(v)+1,re=te(V);return re&&((v,V,re)=>{_r(v,O,V,re)})(v,re,V),re},cn=[],zo=v=>{var re=(v-J.buffer.byteLength+65535)/65536;try{return J.grow(re),$e(),1}catch{}},li={},ci=()=>{if(!ci.strings){var V={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var re in li)void 0===li[re]?delete V[re]:V[re]=li[re];var Pe=[];for(var re in V)Pe.push(`${re}=${V[re]}`);ci.strings=Pe}return ci.strings},Ii=(v,V)=>{ie=v,(v=>{ie=v,Wn||(u.onExit&&u.onExit(v),le=!0),I(v,new Ur(v))})(v)},Ar=[null,[],[]],Mn=(v,V)=>{var re=Ar[v];0===V||10===V?((1===v?oe:G)(pe(re,0)),re.length=0):re.push(V)},Wi=[31,29,31,30,31,30,31,31,30,31,30,31],Ps=[31,28,31,30,31,30,31,31,30,31,30,31];function ds(v,V,re){var Pe=re>0?re:xn(v)+1,yt=new Array(Pe),qt=_r(v,yt,0,yt.length);return V&&(yt.length=qt),yt}var Ji,ps={b:(v,V,re,Pe)=>{_e(`Assertion failed: ${ye(v)}, at: `+[V?ye(V):"unknown filename",re,Pe?ye(Pe):"unknown function"])},n:function rn(v,V,re){Cn(V,re)},i:function fo(v,V,re,Pe){hn.varargs=Pe},j:function tr(v,V,re){var Pe=Cn(v,V),yt=new Date(1e3*Pe);D[re>>2]=yt.getUTCSeconds(),D[re+4>>2]=yt.getUTCMinutes(),D[re+8>>2]=yt.getUTCHours(),D[re+12>>2]=yt.getUTCDate(),D[re+16>>2]=yt.getUTCMonth(),D[re+20>>2]=yt.getUTCFullYear()-1900,D[re+24>>2]=yt.getUTCDay();var qt=Date.UTC(yt.getUTCFullYear(),0,1,0,0,0,0),ot=(yt.getTime()-qt)/864e5|0;D[re+28>>2]=ot},k:function oo(v,V,re){var Pe=Cn(v,V),yt=new Date(1e3*Pe);D[re>>2]=yt.getSeconds(),D[re+4>>2]=yt.getMinutes(),D[re+8>>2]=yt.getHours(),D[re+12>>2]=yt.getDate(),D[re+16>>2]=yt.getMonth(),D[re+20>>2]=yt.getFullYear()-1900,D[re+24>>2]=yt.getDay();var qt=0|Do(yt);D[re+28>>2]=qt,D[re+36>>2]=-60*yt.getTimezoneOffset();var ot=new Date(yt.getFullYear(),0,1),pn=new Date(yt.getFullYear(),6,1).getTimezoneOffset(),ir=ot.getTimezoneOffset(),zt=0|(pn!=ir&&yt.getTimezoneOffset()==Math.min(ir,pn));D[re+32>>2]=zt},l:function(v){var V=(()=>{var re=new Date(D[v+20>>2]+1900,D[v+16>>2],D[v+12>>2],D[v+8>>2],D[v+4>>2],D[v>>2],0),Pe=D[v+32>>2],yt=re.getTimezoneOffset(),qt=new Date(re.getFullYear(),0,1),ot=new Date(re.getFullYear(),6,1).getTimezoneOffset(),pn=qt.getTimezoneOffset(),ir=Math.min(pn,ot);if(Pe<0)D[v+32>>2]=+(ot!=pn&&ir==yt);else if(Pe>0!=(ir==yt)){var zt=Math.max(pn,ot),Rr=Pe>0?ir:zt;re.setTime(re.getTime()+6e4*(Rr-yt))}D[v+24>>2]=re.getDay();var Le=0|Do(re);D[v+28>>2]=Le,D[v>>2]=re.getSeconds(),D[v+4>>2]=re.getMinutes(),D[v+8>>2]=re.getHours(),D[v+12>>2]=re.getDate(),D[v+16>>2]=re.getMonth(),D[v+20>>2]=re.getYear();var wn=re.getTime();return isNaN(wn)?(D[w()>>2]=61,-1):wn/1e3})();return aa((Pn=V,+Math.abs(Pn)>=1?Pn>0?+Math.floor(Pn/4294967296)>>>0:~~+Math.ceil((Pn-+(~~Pn>>>0))/4294967296)>>>0:0)),V>>>0},q:(v,V,re)=>{var Pe=(new Date).getFullYear(),yt=new Date(Pe,0,1),qt=new Date(Pe,6,1),ot=yt.getTimezoneOffset(),pn=qt.getTimezoneOffset(),ir=Math.max(ot,pn);function zt(sr){var Hn=sr.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Hn?Hn[1]:"GMT"}X[v>>2]=60*ir,D[V>>2]=+(ot!=pn);var Rr=zt(yt),Le=zt(qt),wn=Tn(Rr),ct=Tn(Le);pn<ot?(X[re>>2]=wn,X[re+4>>2]=ct):(X[re>>2]=ct,X[re+4>>2]=wn)},c:()=>{_e("")},a:(v,V,re)=>((v,V,re)=>{var Pe=((v,V)=>{cn.length=0;for(var re;re=O[v++];){var Pe=105!=re;V+=(Pe&=112!=re)&&V%8?4:0,cn.push(112==re?X[V>>2]:105==re?D[V>>2]:he[V>>3]),V+=Pe?8:4}return cn})(V,re);return $r[v].apply(null,Pe)})(v,V,re),e:()=>Date.now(),g:(v,V,re)=>O.copyWithin(v,V,V+re),p:v=>{var ir,V=O.length,re=2147483648;if((v>>>=0)>re)return!1;for(var yt=1;yt<=4;yt*=2){var qt=V*(1+.2/yt);qt=Math.min(qt,v+100663296);var ot=Math.min(re,(ir=Math.max(v,qt))+(65536-ir%65536)%65536);if(zo(ot))return!0}return!1},r:(v,V)=>{var re=0;return ci().forEach((Pe,yt)=>{var qt=V+re;X[v+4*yt>>2]=qt,((v,V)=>{for(var re=0;re<v.length;++re)Ae[V++>>0]=v.charCodeAt(re);Ae[V>>0]=0})(Pe,qt),re+=Pe.length+1}),0},s:(v,V)=>{var re=ci();X[v>>2]=re.length;var Pe=0;return re.forEach(yt=>Pe+=yt.length+1),X[V>>2]=Pe,0},t:Ii,f:v=>52,d:(v,V,re,Pe)=>52,m:function ei(v,V,re,Pe,yt){return Cn(V,re),70},h:(v,V,re,Pe)=>{for(var yt=0,qt=0;qt<re;qt++){var ot=X[V>>2],pn=X[V+4>>2];V+=8;for(var ir=0;ir<pn;ir++)Mn(v,O[ot+ir]);yt+=pn}return X[Pe>>2]=yt,0},o:(v,V,re,Pe,yt)=>((v,V,re,Pe)=>{var yt=X[Pe+40>>2],qt={tm_sec:D[Pe>>2],tm_min:D[Pe+4>>2],tm_hour:D[Pe+8>>2],tm_mday:D[Pe+12>>2],tm_mon:D[Pe+16>>2],tm_year:D[Pe+20>>2],tm_wday:D[Pe+24>>2],tm_yday:D[Pe+28>>2],tm_isdst:D[Pe+32>>2],tm_gmtoff:D[Pe+36>>2],tm_zone:yt?ye(yt):""},ot=ye(re),pn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ir in pn)ot=ot.replace(new RegExp(ir,"g"),pn[ir]);var zt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rr=["January","February","March","April","May","June","July","August","September","October","November","December"];function Le(We,p,x){for(var ne="number"==typeof We?We.toString():We||"";ne.length<p;)ne=x[0]+ne;return ne}function wn(We,p){return Le(We,p,"0")}function ct(We,p){function x(Ne){return Ne<0?-1:Ne>0?1:0}var ne;return 0===(ne=x(We.getFullYear()-p.getFullYear()))&&0===(ne=x(We.getMonth()-p.getMonth()))&&(ne=x(We.getDate()-p.getDate())),ne}function sr(We){switch(We.getDay()){case 0:return new Date(We.getFullYear()-1,11,29);case 1:return We;case 2:return new Date(We.getFullYear(),0,3);case 3:return new Date(We.getFullYear(),0,2);case 4:return new Date(We.getFullYear(),0,1);case 5:return new Date(We.getFullYear()-1,11,31);case 6:return new Date(We.getFullYear()-1,11,30)}}function Hn(We){var p=((v,V)=>{for(var re=new Date(v.getTime());V>0;){var Pe=Cr(re.getFullYear()),yt=re.getMonth(),qt=(Pe?Wi:Ps)[yt];if(!(V>qt-re.getDate()))return re.setDate(re.getDate()+V),re;V-=qt-re.getDate()+1,re.setDate(1),yt<11?re.setMonth(yt+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1))}return re})(new Date(We.tm_year+1900,0,1),We.tm_yday),x=new Date(p.getFullYear(),0,4),ne=new Date(p.getFullYear()+1,0,4),Ne=sr(x),Qe=sr(ne);return ct(Ne,p)<=0?ct(Qe,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Pr={"%a":We=>zt[We.tm_wday].substring(0,3),"%A":We=>zt[We.tm_wday],"%b":We=>Rr[We.tm_mon].substring(0,3),"%B":We=>Rr[We.tm_mon],"%C":We=>wn((We.tm_year+1900)/100|0,2),"%d":We=>wn(We.tm_mday,2),"%e":We=>Le(We.tm_mday,2," "),"%g":We=>Hn(We).toString().substring(2),"%G":We=>Hn(We),"%H":We=>wn(We.tm_hour,2),"%I":We=>{var p=We.tm_hour;return 0==p?p=12:p>12&&(p-=12),wn(p,2)},"%j":We=>wn(We.tm_mday+((v,V)=>{for(var re=0,Pe=0;Pe<=V;re+=v[Pe++]);return re})(Cr(We.tm_year+1900)?Wi:Ps,We.tm_mon-1),3),"%m":We=>wn(We.tm_mon+1,2),"%M":We=>wn(We.tm_min,2),"%n":()=>"\n","%p":We=>We.tm_hour>=0&&We.tm_hour<12?"AM":"PM","%S":We=>wn(We.tm_sec,2),"%t":()=>"\t","%u":We=>We.tm_wday||7,"%U":We=>wn(Math.floor((We.tm_yday+7-We.tm_wday)/7),2),"%V":We=>{var p=Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7);if((We.tm_wday+371-We.tm_yday-2)%7<=2&&p++,p){if(53==p){var ne=(We.tm_wday+371-We.tm_yday)%7;4!=ne&&(3!=ne||!Cr(We.tm_year))&&(p=1)}}else{p=52;var x=(We.tm_wday+7-We.tm_yday-1)%7;(4==x||5==x&&Cr(We.tm_year%400-1))&&p++}return wn(p,2)},"%w":We=>We.tm_wday,"%W":We=>wn(Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7),2),"%y":We=>(We.tm_year+1900).toString().substring(2),"%Y":We=>We.tm_year+1900,"%z":We=>{var p=We.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":We=>We.tm_zone,"%%":()=>"%"};for(var ir in ot=ot.replace(/%%/g,"\0\0"),Pr)ot.includes(ir)&&(ot=ot.replace(new RegExp(ir,"g"),Pr[ir](qt)));var ar=ds(ot=ot.replace(/\0\0/g,"%"),!1);return ar.length>V?0:(((v,V)=>{Ae.set(v,V)})(ar,v),ar.length-1)})(v,V,re,Pe)},ut=function wo(){var v={a:ps};function V(Pe,yt){return ut=function nn(v){var V={};for(var re in v){var Pe=v[re];V[re]="function"==typeof Pe?un(Pe):Pe}return V}(ut=Pe.exports),J=ut.u,$e(),go=ut.za,function at(v){Gt.unshift(v)}(ut.v),function fn(){var v=go.get,V={};go.get=re=>{var Pe=v.call(go,re),yt=V[re];return(!yt||yt.func!==Pe)&&(yt=V[re]={func:Pe,wrapper:un(Pe)}),yt.wrapper}}(),function be(v){if(Ct--,u.monitorRunDependencies&&u.monitorRunDependencies(Ct),0==Ct&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var V=jt;jt=null,V()}}(),ut}if(function Ee(v){Ct++,u.monitorRunDependencies&&u.monitorRunDependencies(Ct)}(),u.instantiateWasm)try{return u.instantiateWasm(v,V)}catch(Pe){G(`Module.instantiateWasm callback failed with error: ${Pe}`),q(Pe)}return function So(v,V,re,Pe){return v||"function"!=typeof WebAssembly.instantiateStreaming||vt(V)||"function"!=typeof fetch?Ho(V,re,Pe):fetch(V,{credentials:"same-origin"}).then(yt=>WebAssembly.instantiateStreaming(yt,re).then(Pe,function(ot){return G(`wasm streaming compile failed: ${ot}`),G("falling back to ArrayBuffer instantiation"),Ho(V,re,Pe)}))}(M,Jt,v,function re(Pe){V(Pe.instance)}).catch(q),{}}(),w=()=>(w=ut.w)(),te=(u._free=v=>(u._free=ut.x)(v),u._malloc=v=>(te=u._malloc=ut.y)(v)),Ke=(u._webidl_free=v=>(u._webidl_free=ut.z)(v),u._webidl_malloc=v=>(u._webidl_malloc=ut.A)(v),u._emscripten_bind_VoidPtr___destroy___0=v=>(Ke=u._emscripten_bind_VoidPtr___destroy___0=ut.B)(v)),qe=u._emscripten_bind_FSTools_FSTools_0=()=>(qe=u._emscripten_bind_FSTools_FSTools_0=ut.C)(),et=u._emscripten_bind_FSTools_Malloc_1=(v,V)=>(et=u._emscripten_bind_FSTools_Malloc_1=ut.D)(v,V),A=u._emscripten_bind_FSTools_Free_1=(v,V)=>(A=u._emscripten_bind_FSTools_Free_1=ut.E)(v,V),bt=u._emscripten_bind_FSTools_Nullptr_0=v=>(bt=u._emscripten_bind_FSTools_Nullptr_0=ut.F)(v),At=u._emscripten_bind_FSTools___destroy___0=v=>(At=u._emscripten_bind_FSTools___destroy___0=ut.G)(v),kt=u._emscripten_bind_MkfsContext_MkfsContext_0=()=>(kt=u._emscripten_bind_MkfsContext_MkfsContext_0=ut.H)(),Sn=u._emscripten_bind_MkfsContext_Mkfs_2=(v,V,re)=>(Sn=u._emscripten_bind_MkfsContext_Mkfs_2=ut.I)(v,V,re),Sr=u._emscripten_bind_MkfsContext_GetImage_0=v=>(Sr=u._emscripten_bind_MkfsContext_GetImage_0=ut.J)(v),Vr=u._emscripten_bind_MkfsContext_GetImageSize_0=v=>(Vr=u._emscripten_bind_MkfsContext_GetImageSize_0=ut.K)(v),zr=u._emscripten_bind_MkfsContext___destroy___0=v=>(zr=u._emscripten_bind_MkfsContext___destroy___0=ut.L)(v),Kn=u._emscripten_bind_FsckContext_FsckContext_1=v=>(Kn=u._emscripten_bind_FsckContext_FsckContext_1=ut.M)(v),Yi=u._emscripten_bind_FsckContext_GetImage_0=v=>(Yi=u._emscripten_bind_FsckContext_GetImage_0=ut.N)(v),Bn=u._emscripten_bind_FsckContext_GetDirtyPages_0=v=>(Bn=u._emscripten_bind_FsckContext_GetDirtyPages_0=ut.O)(v),No=u._emscripten_bind_FsckContext_GetImageSize_0=v=>(No=u._emscripten_bind_FsckContext_GetImageSize_0=ut.P)(v),Io=u._emscripten_bind_FsckContext_Fsck_0=v=>(Io=u._emscripten_bind_FsckContext_Fsck_0=ut.Q)(v),Ki=u._emscripten_bind_FsckContext_GetResult_0=v=>(Ki=u._emscripten_bind_FsckContext_GetResult_0=ut.R)(v),xa=u._emscripten_bind_FsckContext___destroy___0=v=>(xa=u._emscripten_bind_FsckContext___destroy___0=ut.S)(v),ea=u._emscripten_bind_GunzipContext_GunzipContext_3=(v,V,re)=>(ea=u._emscripten_bind_GunzipContext_GunzipContext_3=ut.T)(v,V,re),Os=u._emscripten_bind_GunzipContext_GetState_0=v=>(Os=u._emscripten_bind_GunzipContext_GetState_0=ut.U)(v),ta=u._emscripten_bind_GunzipContext_Continue_0=v=>(ta=u._emscripten_bind_GunzipContext_Continue_0=ut.V)(v),Xi=u._emscripten_bind_GunzipContext_GetUncompressedData_0=v=>(Xi=u._emscripten_bind_GunzipContext_GetUncompressedData_0=ut.W)(v),Ta=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=v=>(Ta=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=ut.X)(v),na=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=v=>(na=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=ut.Y)(v),ra=u._emscripten_bind_GunzipContext_GetError_0=v=>(ra=u._emscripten_bind_GunzipContext_GetError_0=ut.Z)(v),Ma=u._emscripten_bind_GunzipContext___destroy___0=v=>(Ma=u._emscripten_bind_GunzipContext___destroy___0=ut._)(v),Aa=u._emscripten_bind_GzipContext_GzipContext_3=(v,V,re)=>(Aa=u._emscripten_bind_GzipContext_GzipContext_3=ut.$)(v,V,re),ka=u._emscripten_bind_GzipContext_SetFilename_1=(v,V)=>(ka=u._emscripten_bind_GzipContext_SetFilename_1=ut.aa)(v,V),Ra=u._emscripten_bind_GzipContext_SetMtime_1=(v,V)=>(Ra=u._emscripten_bind_GzipContext_SetMtime_1=ut.ba)(v,V),oa=u._emscripten_bind_GzipContext_Continue_0=v=>(oa=u._emscripten_bind_GzipContext_Continue_0=ut.ca)(v),Pa=u._emscripten_bind_GzipContext_GetState_0=v=>(Pa=u._emscripten_bind_GzipContext_GetState_0=ut.da)(v),Oa=u._emscripten_bind_GzipContext_GetGzipData_0=v=>(Oa=u._emscripten_bind_GzipContext_GetGzipData_0=ut.ea)(v),wr=u._emscripten_bind_GzipContext_GetGzipSize_0=v=>(wr=u._emscripten_bind_GzipContext_GetGzipSize_0=ut.fa)(v),ia=u._emscripten_bind_GzipContext_GetError_0=v=>(ia=u._emscripten_bind_GzipContext_GetError_0=ut.ga)(v),po=u._emscripten_bind_GzipContext___destroy___0=v=>(po=u._emscripten_bind_GzipContext___destroy___0=ut.ha)(v),Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=ut.ia)(),sa=u._emscripten_bind_CreateZipContext_Initialize_1=(v,V)=>(sa=u._emscripten_bind_CreateZipContext_Initialize_1=ut.ja)(v,V),Ns=u._emscripten_bind_CreateZipContext_AddEntry_1=(v,V)=>(Ns=u._emscripten_bind_CreateZipContext_AddEntry_1=ut.ka)(v,V),Jr=u._emscripten_bind_CreateZipContext_WriteData_2=(v,V,re)=>(Jr=u._emscripten_bind_CreateZipContext_WriteData_2=ut.la)(v,V,re),Fs=u._emscripten_bind_CreateZipContext_GetZipData_0=v=>(Fs=u._emscripten_bind_CreateZipContext_GetZipData_0=ut.ma)(v),Na=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=v=>(Na=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=ut.na)(v),Vn=u._emscripten_bind_CreateZipContext_GetLastError_0=v=>(Vn=u._emscripten_bind_CreateZipContext_GetLastError_0=ut.oa)(v),hs=u._emscripten_bind_CreateZipContext___destroy___0=v=>(hs=u._emscripten_bind_CreateZipContext___destroy___0=ut.pa)(v),Dr=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(v,V)=>(Dr=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=ut.qa)(v,V),Ls=u._emscripten_bind_ZipfileWalker_GetState_0=v=>(Ls=u._emscripten_bind_ZipfileWalker_GetState_0=ut.ra)(v),pl=u._emscripten_bind_ZipfileWalker_Next_0=v=>(pl=u._emscripten_bind_ZipfileWalker_Next_0=ut.sa)(v),Fa=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=v=>(Fa=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=ut.ta)(v),Un=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=v=>(Un=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ut.ua)(v),Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=v=>(Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ut.va)(v),ms=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=v=>(ms=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ut.wa)(v),$s=u._emscripten_bind_ZipfileWalker___destroy___0=v=>($s=u._emscripten_bind_ZipfileWalker___destroy___0=ut.xa)(v),hl=u._main=(v,V)=>(hl=u._main=ut.ya)(v,V),aa=v=>(aa=ut.Aa)(v);function ca(){function v(){Ji||(Ji=!0,u.calledRun=!0,!le&&(function st(){ro(Gt)}(),function Ft(){ro(Oe)}(),H(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),ti&&function la(){var v=hl;try{Pt+=1;var Pe=v(0,0);return Ii(Pe),Pe}catch(yt){return(v=>{if(v instanceof Ur||"unwind"==v)return ie;I(1,v)})(yt)}finally{Pt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)v=u.postRun.shift(),ze.unshift(v);var v;ro(ze)}()))}Ct>0||(function Be(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)v=u.preRun.shift(),ht.unshift(v);var v;ro(ht)}(),Ct>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),v()},1)):v())}if(u.___original_main=()=>(u.___original_main=ut.Ba)(),jt=function v(){Ji||ca(),Ji||(jt=v)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var ti=!0;function yr(){}function Wo(v){return(v||yr).__cache__}function Lt(v,V){var re=Wo(V),Pe=re[v];return Pe||((Pe=Object.create((V||yr).prototype)).ptr=v,re[v]=Pe)}u.noInitialRun&&(ti=!1),ca(),(yr.prototype=Object.create(yr.prototype)).constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},u.WrapperObject=yr,u.getCache=Wo,u.wrapPointer=Lt,u.castObject=function Fn(v,V){return Lt(v.ptr,V)},u.NULL=Lt(0),u.destroy=function Bl(v){if(!v.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";v.__destroy__(),delete Wo(v.__class__)[v.ptr]},u.compare=function ml(v,V){return v.ptr===V.ptr},u.getPointer=function gl(v){return v.ptr},u.getClass=function Vl(v){return v.__class__};var Zn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Zn.needed){for(var v=0;v<Zn.temps.length;v++)u._webidl_free(Zn.temps[v]);Zn.temps.length=0,u._webidl_free(Zn.buffer),Zn.buffer=0,Zn.size+=Zn.needed,Zn.needed=0}Zn.buffer||(Zn.size+=128,Zn.buffer=u._webidl_malloc(Zn.size),we(Zn.buffer)),Zn.pos=0},alloc(v,V){we(Zn.buffer);var yt,Pe=v.length*V.BYTES_PER_ELEMENT;return Zn.pos+(Pe=Pe+7&-8)>=Zn.size?(we(Pe>0),Zn.needed+=Pe,yt=u._webidl_malloc(Pe),Zn.temps.push(yt)):(yt=Zn.buffer+Zn.pos,Zn.pos+=Pe),yt},copy(v,V,re){switch(re>>>=0,V.BYTES_PER_ELEMENT){case 2:re>>>=1;break;case 4:re>>>=2;break;case 8:re>>>=3}for(var yt=0;yt<v.length;yt++)V[re+yt]=v[yt]}};function _s(v){if("string"==typeof v){var V=ds(v),re=Zn.alloc(V,Ae);return Zn.copy(V,Ae,re),re}return v}function Ln(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ho(){this.ptr=qe(),Wo(ho)[this.ptr]=this}function mo(){this.ptr=kt(),Wo(mo)[this.ptr]=this}function Wr(v){v&&"object"==typeof v&&(v=v.ptr),this.ptr=Kn(v),Wo(Wr)[this.ptr]=this}function qn(v,V,re){v&&"object"==typeof v&&(v=v.ptr),V&&"object"==typeof V&&(V=V.ptr),re&&"object"==typeof re&&(re=re.ptr),this.ptr=ea(v,V,re),Wo(qn)[this.ptr]=this}function Xn(v,V,re){v&&"object"==typeof v&&(v=v.ptr),V&&"object"==typeof V&&(V=V.ptr),re&&"object"==typeof re&&(re=re.ptr),this.ptr=Aa(v,V,re),Wo(Xn)[this.ptr]=this}function kr(){this.ptr=Ht(),Wo(kr)[this.ptr]=this}function Er(v,V){v&&"object"==typeof v&&(v=v.ptr),V&&"object"==typeof V&&(V=V.ptr),this.ptr=Dr(v,V),Wo(Er)[this.ptr]=this}return(Ln.prototype=Object.create(yr.prototype)).constructor=Ln,Ln.prototype.__class__=Ln,Ln.__cache__={},u.VoidPtr=Ln,Ln.prototype.__destroy__=Ln.prototype.__destroy__=function(){Ke(this.ptr)},(ho.prototype=Object.create(yr.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},u.FSTools=ho,ho.prototype.Malloc=ho.prototype.Malloc=function(v){return v&&"object"==typeof v&&(v=v.ptr),Lt(et(this.ptr,v),Ln)},ho.prototype.Free=ho.prototype.Free=function(v){v&&"object"==typeof v&&(v=v.ptr),A(this.ptr,v)},ho.prototype.Nullptr=ho.prototype.Nullptr=function(){return Lt(bt(this.ptr),Ln)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){At(this.ptr)},(mo.prototype=Object.create(yr.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},u.MkfsContext=mo,mo.prototype.Mkfs=mo.prototype.Mkfs=function(v,V){var re=this.ptr;return Zn.prepare(),v&&"object"==typeof v&&(v=v.ptr),V=V&&"object"==typeof V?V.ptr:_s(V),!!Sn(re,v,V)},mo.prototype.GetImage=mo.prototype.GetImage=function(){return Lt(Sr(this.ptr),Ln)},mo.prototype.GetImageSize=mo.prototype.GetImageSize=function(){return Vr(this.ptr)},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){zr(this.ptr)},(Wr.prototype=Object.create(yr.prototype)).constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},u.FsckContext=Wr,Wr.prototype.GetImage=Wr.prototype.GetImage=function(){return Lt(Yi(this.ptr),Ln)},Wr.prototype.GetDirtyPages=Wr.prototype.GetDirtyPages=function(){return Lt(Bn(this.ptr),Ln)},Wr.prototype.GetImageSize=Wr.prototype.GetImageSize=function(){return No(this.ptr)},Wr.prototype.Fsck=Wr.prototype.Fsck=function(){return Io(this.ptr)},Wr.prototype.GetResult=Wr.prototype.GetResult=function(){return Ki(this.ptr)},Wr.prototype.__destroy__=Wr.prototype.__destroy__=function(){xa(this.ptr)},(qn.prototype=Object.create(yr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},u.GunzipContext=qn,qn.prototype.GetState=qn.prototype.GetState=function(){return Os(this.ptr)},qn.prototype.Continue=qn.prototype.Continue=function(){return ta(this.ptr)},qn.prototype.GetUncompressedData=qn.prototype.GetUncompressedData=function(){return Lt(Xi(this.ptr),Ln)},qn.prototype.ReleaseUncompressedData=qn.prototype.ReleaseUncompressedData=function(){return Lt(Ta(this.ptr),Ln)},qn.prototype.GetUncompressedSize=qn.prototype.GetUncompressedSize=function(){return na(this.ptr)},qn.prototype.GetError=qn.prototype.GetError=function(){return ye(ra(this.ptr))},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){Ma(this.ptr)},(Xn.prototype=Object.create(yr.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},u.GzipContext=Xn,Xn.prototype.SetFilename=Xn.prototype.SetFilename=function(v){var V=this.ptr;return Zn.prepare(),v=v&&"object"==typeof v?v.ptr:_s(v),Lt(ka(V,v),Xn)},Xn.prototype.SetMtime=Xn.prototype.SetMtime=function(v){return v&&"object"==typeof v&&(v=v.ptr),Lt(Ra(this.ptr,v),Xn)},Xn.prototype.Continue=Xn.prototype.Continue=function(){return oa(this.ptr)},Xn.prototype.GetState=Xn.prototype.GetState=function(){return Pa(this.ptr)},Xn.prototype.GetGzipData=Xn.prototype.GetGzipData=function(){return Lt(Oa(this.ptr),Ln)},Xn.prototype.GetGzipSize=Xn.prototype.GetGzipSize=function(){return wr(this.ptr)},Xn.prototype.GetError=Xn.prototype.GetError=function(){return ye(ia(this.ptr))},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){po(this.ptr)},(kr.prototype=Object.create(yr.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},u.CreateZipContext=kr,kr.prototype.Initialize=kr.prototype.Initialize=function(v){return v&&"object"==typeof v&&(v=v.ptr),!!sa(this.ptr,v)},kr.prototype.AddEntry=kr.prototype.AddEntry=function(v){var V=this.ptr;return Zn.prepare(),v=v&&"object"==typeof v?v.ptr:_s(v),!!Ns(V,v)},kr.prototype.WriteData=kr.prototype.WriteData=function(v,V){return v&&"object"==typeof v&&(v=v.ptr),V&&"object"==typeof V&&(V=V.ptr),!!Jr(this.ptr,v,V)},kr.prototype.GetZipData=kr.prototype.GetZipData=function(){return Lt(Fs(this.ptr),Ln)},kr.prototype.GetZipDataSize=kr.prototype.GetZipDataSize=function(){return Na(this.ptr)},kr.prototype.GetLastError=kr.prototype.GetLastError=function(){return ye(Vn(this.ptr))},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){hs(this.ptr)},(Er.prototype=Object.create(yr.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},u.ZipfileWalker=Er,Er.prototype.GetState=Er.prototype.GetState=function(){return Ls(this.ptr)},Er.prototype.Next=Er.prototype.Next=function(){return pl(this.ptr)},Er.prototype.GetTotalEntries=Er.prototype.GetTotalEntries=function(){return Fa(this.ptr)},Er.prototype.GetCurrentEntrySize=Er.prototype.GetCurrentEntrySize=function(){return Un(this.ptr)},Er.prototype.GetCurrentEntryName=Er.prototype.GetCurrentEntryName=function(){return ye(Yt(this.ptr))},Er.prototype.GetCurrentEntryContent=Er.prototype.GetCurrentEntryContent=function(){return Lt(ms(this.ptr),Ln)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){$s(this.ptr)},S.ready});ge.exports=Ce},8886:ge=>{var C,Ce=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var H,q,u=S;u.ready=new Promise((p,x)=>{H=p,q=x});var ve,B=Object.assign({},u),E="./this.program",I=(p,x)=>{throw x},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(ve=p=>{var x=new XMLHttpRequest;return x.open("GET",p,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}));var M,oe=u.print||console.log.bind(console),G=u.printErr||console.error.bind(console);Object.assign(u,B),B=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&_e("no native wasm support detected");var J,ie,Ae,O,D,X,le=!1;function we(p,x){p||_e(x)}function $e(){var p=J.buffer;u.HEAP8=Ae=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAPU8=O=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAP32=D=new Int32Array(p),u.HEAPU32=X=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=new Float64Array(p)}var ht=[],Gt=[],Oe=[],ze=[],Ct=0,Ut=null,jt=null;function _e(p){u.onAbort&&u.onAbort(p),G(p="Aborted("+p+")"),le=!0,ie=1,p+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(p);throw q(x),x}var Jt,Pn,vt=p=>p.startsWith("data:application/octet-stream;base64,"),Pt=0;function un(p){return function(){if(le)throw"program has already aborted!";Pt+=1;try{return p.apply(null,arguments)}catch(x){if(le||Pt>1||x===1/0||"unwind"===x)throw x;_e("unhandled exception: "+[x,x.stack])}finally{Pt-=1}}}function gr(p){if(p==Jt&&M)return new Uint8Array(M);if(ve)return ve(p);throw"both async and sync fetching of the wasm failed"}function Ho(p,x,ne){return function zn(p){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>gr(p)):fetch(p,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+p+"'";return x.arrayBuffer()}).catch(()=>gr(p))}(p).then(Ne=>WebAssembly.instantiate(Ne,x)).then(Ne=>Ne).then(ne,Ne=>{G(`failed to asynchronously prepare wasm: ${Ne}`),_e(Ne)})}function $r(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}vt(Jt="vfs_web.wasm")||(Jt=function T(p){return u.locateFile?u.locateFile(p,P):P+p}(Jt));var Wn,Ur=p=>{for(;p.length>0;)p.shift()(u)},ro=u.noExitRuntime||!0,go=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Br=(p,x,ne)=>{for(var Ne=x+ne,Qe=x;p[Qe]&&!(Qe>=Ne);)++Qe;if(Qe-x>16&&p.buffer&&go)return go.decode(p.subarray(x,Qe));for(var gn="";x<Qe;){var on=p[x++];if(128&on){var Kt=63&p[x++];if(192!=(224&on)){var lr=63&p[x++];if((on=224==(240&on)?(15&on)<<12|Kt<<6|lr:(7&on)<<18|Kt<<12|lr<<6|63&p[x++])<65536)gn+=String.fromCharCode(on);else{var Fo=on-65536;gn+=String.fromCharCode(55296|Fo>>10,56320|1023&Fo)}}else gn+=String.fromCharCode((31&on)<<6|Kt)}else gn+=String.fromCharCode(on)}return gn},pe=(p,x)=>p?Br(O,p,x):"",hn=(p,x)=>x+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*x:NaN,tr=p=>p%4==0&&(p%100!=0||p%400==0),Cr=[0,31,60,91,121,152,182,213,244,274,305,335],_o=[0,31,59,90,120,151,181,212,243,273,304,334],On=p=>(tr(p.getFullYear())?Cr:_o)[p.getMonth()]+p.getDate()-1,Po=p=>{for(var x=0,ne=0;ne<p.length;++ne){var Ne=p.charCodeAt(ne);Ne<=127?x++:Ne<=2047?x+=2:Ne>=55296&&Ne<=57343?(x+=4,++ne):x+=3}return x},xn=(p,x,ne,Ne)=>{if(!(Ne>0))return 0;for(var Qe=ne,gn=ne+Ne-1,on=0;on<p.length;++on){var Kt=p.charCodeAt(on);if(Kt>=55296&&Kt<=57343&&(Kt=65536+((1023&Kt)<<10)|1023&p.charCodeAt(++on)),Kt<=127){if(ne>=gn)break;x[ne++]=Kt}else if(Kt<=2047){if(ne+1>=gn)break;x[ne++]=192|Kt>>6,x[ne++]=128|63&Kt}else if(Kt<=65535){if(ne+2>=gn)break;x[ne++]=224|Kt>>12,x[ne++]=128|Kt>>6&63,x[ne++]=128|63&Kt}else{if(ne+3>=gn)break;x[ne++]=240|Kt>>18,x[ne++]=128|Kt>>12&63,x[ne++]=128|Kt>>6&63,x[ne++]=128|63&Kt}}return x[ne]=0,ne-Qe},vr=p=>{var x=Po(p)+1,ne=Zi(x);return ne&&((p,x,ne)=>{xn(p,O,x,ne)})(p,ne,x),ne},fi=p=>{var ne=(p-J.buffer.byteLength+65535)/65536;try{return J.grow(ne),$e(),1}catch{}},ae={},zo=()=>{if(!zo.strings){var x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var ne in ae)void 0===ae[ne]?delete x[ne]:x[ne]=ae[ne];var Ne=[];for(var ne in x)Ne.push(`${ne}=${x[ne]}`);zo.strings=Ne}return zo.strings},Hi=[null,[],[]],Xs=(p,x)=>{var ne=Hi[p];0===x||10===x?((1===p?oe:G)(Br(ne,0)),ne.length=0):ne.push(x)},Ii=[31,29,31,30,31,30,31,31,30,31,30,31],zi=[31,28,31,30,31,30,31,31,30,31,30,31];function Oo(p,x,ne){var Ne=ne>0?ne:Po(p)+1,Qe=new Array(Ne),gn=xn(p,Qe,0,Qe.length);return x&&(Qe.length=gn),Qe}var Xn,Ps=(p,x)=>{ie=p,(p=>{ie=p,ro||(u.onExit&&u.onExit(p),le=!0),I(p,new $r(p))})(p)},ds={a:(p,x,ne,Ne)=>{_e(`Assertion failed: ${pe(p)}, at: `+[x?pe(x):"unknown filename",ne,Ne?pe(Ne):"unknown function"])},n:function Cn(p,x,ne){hn(x,ne)},j:()=>1,k:function Do(p,x,ne){var Ne=hn(p,x),Qe=new Date(1e3*Ne);D[ne>>2]=Qe.getSeconds(),D[ne+4>>2]=Qe.getMinutes(),D[ne+8>>2]=Qe.getHours(),D[ne+12>>2]=Qe.getDate(),D[ne+16>>2]=Qe.getMonth(),D[ne+20>>2]=Qe.getFullYear()-1900,D[ne+24>>2]=Qe.getDay();var gn=0|On(Qe);D[ne+28>>2]=gn,D[ne+36>>2]=-60*Qe.getTimezoneOffset();var on=new Date(Qe.getFullYear(),0,1),Kt=new Date(Qe.getFullYear(),6,1).getTimezoneOffset(),lr=on.getTimezoneOffset(),Fo=0|(Kt!=lr&&Qe.getTimezoneOffset()==Math.min(lr,Kt));D[ne+32>>2]=Fo},l:function(p){var x=(()=>{var ne=new Date(D[p+20>>2]+1900,D[p+16>>2],D[p+12>>2],D[p+8>>2],D[p+4>>2],D[p>>2],0),Ne=D[p+32>>2],Qe=ne.getTimezoneOffset(),gn=new Date(ne.getFullYear(),0,1),on=new Date(ne.getFullYear(),6,1).getTimezoneOffset(),Kt=gn.getTimezoneOffset(),lr=Math.min(Kt,on);if(Ne<0)D[p+32>>2]=+(on!=Kt&&lr==Qe);else if(Ne>0!=(lr==Qe)){var Fo=Math.max(Kt,on),Yn=Ne>0?lr:Fo;ne.setTime(ne.getTime()+6e4*(Yn-Qe))}D[p+24>>2]=ne.getDay();var La=0|On(ne);D[p+28>>2]=La,D[p>>2]=ne.getSeconds(),D[p+4>>2]=ne.getMinutes(),D[p+8>>2]=ne.getHours(),D[p+12>>2]=ne.getDate(),D[p+16>>2]=ne.getMonth(),D[p+20>>2]=ne.getYear();var xo=ne.getTime();return isNaN(xo)?(D[Ln()>>2]=61,-1):xo/1e3})();return ho((Pn=x,+Math.abs(Pn)>=1?Pn>0?+Math.floor(Pn/4294967296)>>>0:~~+Math.ceil((Pn-+(~~Pn>>>0))/4294967296)>>>0:0)),x>>>0},e:(p,x,ne)=>{var Ne=(new Date).getFullYear(),Qe=new Date(Ne,0,1),gn=new Date(Ne,6,1),on=Qe.getTimezoneOffset(),Kt=gn.getTimezoneOffset(),lr=Math.max(on,Kt);function Fo(ua){var Bs=ua.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Bs?Bs[1]:"GMT"}X[p>>2]=60*lr,D[x>>2]=+(on!=Kt);var Yn=Fo(Qe),La=Fo(gn),xo=vr(Yn),ft=vr(La);Kt<on?(X[ne>>2]=xo,X[ne+4>>2]=ft):(X[ne>>2]=ft,X[ne+4>>2]=xo)},b:()=>{_e("")},c:()=>Date.now(),f:(p,x,ne)=>O.copyWithin(p,x,x+ne),d:p=>{var lr,x=O.length,ne=2147483648;if((p>>>=0)>ne)return!1;for(var Qe=1;Qe<=4;Qe*=2){var gn=x*(1+.2/Qe);gn=Math.min(gn,p+100663296);var on=Math.min(ne,(lr=Math.max(p,gn))+(65536-lr%65536)%65536);if(fi(on))return!0}return!1},p:(p,x)=>{var ne=0;return zo().forEach((Ne,Qe)=>{var gn=x+ne;X[p+4*Qe>>2]=gn,((p,x)=>{for(var ne=0;ne<p.length;++ne)Ae[x++>>0]=p.charCodeAt(ne);Ae[x>>0]=0})(Ne,gn),ne+=Ne.length+1}),0},q:(p,x)=>{var ne=zo();X[p>>2]=ne.length;var Ne=0;return ne.forEach(Qe=>Ne+=Qe.length+1),X[x>>2]=Ne,0},g:p=>52,i:(p,x,ne,Ne)=>52,m:function Qr(p,x,ne,Ne,Qe){return hn(x,ne),70},h:(p,x,ne,Ne)=>{for(var Qe=0,gn=0;gn<ne;gn++){var on=X[x>>2],Kt=X[x+4>>2];x+=8;for(var lr=0;lr<Kt;lr++)Xs(p,O[on+lr]);Qe+=Kt}return X[Ne>>2]=Qe,0},o:(p,x,ne,Ne,Qe)=>((p,x,ne,Ne)=>{var Qe=X[Ne+40>>2],gn={tm_sec:D[Ne>>2],tm_min:D[Ne+4>>2],tm_hour:D[Ne+8>>2],tm_mday:D[Ne+12>>2],tm_mon:D[Ne+16>>2],tm_year:D[Ne+20>>2],tm_wday:D[Ne+24>>2],tm_yday:D[Ne+28>>2],tm_isdst:D[Ne+32>>2],tm_gmtoff:D[Ne+36>>2],tm_zone:Qe?pe(Qe):""},on=pe(ne),Kt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var lr in Kt)on=on.replace(new RegExp(lr,"g"),Kt[lr]);var Fo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Yn=["January","February","March","April","May","June","July","August","September","October","November","December"];function La(mt,sn,hi){for(var ni="number"==typeof mt?mt.toString():mt||"";ni.length<sn;)ni=hi[0]+ni;return ni}function xo(mt,sn){return La(mt,sn,"0")}function ft(mt,sn){function hi(Gl){return Gl<0?-1:Gl>0?1:0}var ni;return 0===(ni=hi(mt.getFullYear()-sn.getFullYear()))&&0===(ni=hi(mt.getMonth()-sn.getMonth()))&&(ni=hi(mt.getDate()-sn.getDate())),ni}function ua(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Bs(mt){var sn=((p,x)=>{for(var ne=new Date(p.getTime());x>0;){var Ne=tr(ne.getFullYear()),Qe=ne.getMonth(),gn=(Ne?Ii:zi)[Qe];if(!(x>gn-ne.getDate()))return ne.setDate(ne.getDate()+x),ne;x-=gn-ne.getDate()+1,ne.setDate(1),Qe<11?ne.setMonth(Qe+1):(ne.setMonth(0),ne.setFullYear(ne.getFullYear()+1))}return ne})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),hi=new Date(sn.getFullYear(),0,4),ni=new Date(sn.getFullYear()+1,0,4),Gl=ua(hi),zd=ua(ni);return ft(Gl,sn)<=0?ft(zd,sn)<=0?sn.getFullYear()+1:sn.getFullYear():sn.getFullYear()-1}var jl={"%a":mt=>Fo[mt.tm_wday].substring(0,3),"%A":mt=>Fo[mt.tm_wday],"%b":mt=>Yn[mt.tm_mon].substring(0,3),"%B":mt=>Yn[mt.tm_mon],"%C":mt=>xo((mt.tm_year+1900)/100|0,2),"%d":mt=>xo(mt.tm_mday,2),"%e":mt=>La(mt.tm_mday,2," "),"%g":mt=>Bs(mt).toString().substring(2),"%G":mt=>Bs(mt),"%H":mt=>xo(mt.tm_hour,2),"%I":mt=>{var sn=mt.tm_hour;return 0==sn?sn=12:sn>12&&(sn-=12),xo(sn,2)},"%j":mt=>xo(mt.tm_mday+((p,x)=>{for(var ne=0,Ne=0;Ne<=x;ne+=p[Ne++]);return ne})(tr(mt.tm_year+1900)?Ii:zi,mt.tm_mon-1),3),"%m":mt=>xo(mt.tm_mon+1,2),"%M":mt=>xo(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>xo(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>xo(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var sn=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&sn++,sn){if(53==sn){var ni=(mt.tm_wday+371-mt.tm_yday)%7;4!=ni&&(3!=ni||!tr(mt.tm_year))&&(sn=1)}}else{sn=52;var hi=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==hi||5==hi&&tr(mt.tm_year%400-1))&&sn++}return xo(sn,2)},"%w":mt=>mt.tm_wday,"%W":mt=>xo(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var sn=mt.tm_gmtoff;return(sn>=0?"+":"-")+("0000"+(sn=(sn=Math.abs(sn)/60)/60*100+sn%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var lr in on=on.replace(/%%/g,"\0\0"),jl)on.includes(lr)&&(on=on.replace(new RegExp(lr,"g"),jl[lr](gn)));var $a=Oo(on=on.replace(/\0\0/g,"%"),!1);return $a.length>x?0:(((p,x)=>{Ae.set(p,x)})($a,p),$a.length-1)})(p,x,ne,Ne)},nt=function wo(){var p={a:ds};function x(Ne,Qe){return nt=function nn(p){var x={};for(var ne in p){var Ne=p[ne];x[ne]="function"==typeof Ne?un(Ne):Ne}return x}(nt=Ne.exports),J=nt.r,$e(),Wn=nt.Ua,function at(p){Gt.unshift(p)}(nt.s),function fn(){var p=Wn.get,x={};Wn.get=ne=>{var Ne=p.call(Wn,ne),Qe=x[ne];return(!Qe||Qe.func!==Ne)&&(Qe=x[ne]={func:Ne,wrapper:un(Ne)}),Qe.wrapper}}(),function be(p){if(Ct--,u.monitorRunDependencies&&u.monitorRunDependencies(Ct),0==Ct&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var x=jt;jt=null,x()}}(),nt}if(function Ee(p){Ct++,u.monitorRunDependencies&&u.monitorRunDependencies(Ct)}(),u.instantiateWasm)try{return u.instantiateWasm(p,x)}catch(Ne){G(`Module.instantiateWasm callback failed with error: ${Ne}`),q(Ne)}return function So(p,x,ne,Ne){return p||"function"!=typeof WebAssembly.instantiateStreaming||vt(x)||"function"!=typeof fetch?Ho(x,ne,Ne):fetch(x,{credentials:"same-origin"}).then(Qe=>WebAssembly.instantiateStreaming(Qe,ne).then(Ne,function(on){return G(`wasm streaming compile failed: ${on}`),G("falling back to ArrayBuffer instantiation"),Ho(x,ne,Ne)}))}(M,Jt,p,function ne(Ne){x(Ne.instance)}).catch(q),{}}(),Zi=u._malloc=p=>(Zi=u._malloc=nt.t)(p),m=(u._free=p=>(u._free=nt.u)(p),u._webidl_free=p=>(u._webidl_free=nt.v)(p),u._webidl_malloc=p=>(u._webidl_malloc=nt.w)(p),u._emscripten_bind_VoidPtr___destroy___0=p=>(m=u._emscripten_bind_VoidPtr___destroy___0=nt.x)(p)),w=u._emscripten_bind_FileEntry_GetName_0=p=>(w=u._emscripten_bind_FileEntry_GetName_0=nt.y)(p),L=u._emscripten_bind_FileEntry_IsDirectory_0=p=>(L=u._emscripten_bind_FileEntry_IsDirectory_0=nt.z)(p),te=u._emscripten_bind_FileEntry_GetSize_0=p=>(te=u._emscripten_bind_FileEntry_GetSize_0=nt.A)(p),Ie=u._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Ie=u._emscripten_bind_FileEntry_GetModifiedTS_0=nt.B)(p),ue=u._emscripten_bind_FileEntry_GetAttributes_0=p=>(ue=u._emscripten_bind_FileEntry_GetAttributes_0=nt.C)(p),Ke=u._emscripten_bind_FileEntry___destroy___0=p=>(Ke=u._emscripten_bind_FileEntry___destroy___0=nt.D)(p),qe=u._emscripten_bind_Vfs_Vfs_0=()=>(qe=u._emscripten_bind_Vfs_Vfs_0=nt.E)(),et=u._emscripten_bind_Vfs_Malloc_1=(p,x)=>(et=u._emscripten_bind_Vfs_Malloc_1=nt.F)(p,x),A=u._emscripten_bind_Vfs_Free_1=(p,x)=>(A=u._emscripten_bind_Vfs_Free_1=nt.G)(p,x),bt=u._emscripten_bind_Vfs_Nullptr_0=p=>(bt=u._emscripten_bind_Vfs_Nullptr_0=nt.H)(p),At=u._emscripten_bind_Vfs_AllocateImage_1=(p,x)=>(At=u._emscripten_bind_Vfs_AllocateImage_1=nt.I)(p,x),kt=u._emscripten_bind_Vfs_MountImage_1=(p,x)=>(kt=u._emscripten_bind_Vfs_MountImage_1=nt.J)(p,x),Sn=u._emscripten_bind_Vfs_UnmountImage_1=(p,x)=>(Sn=u._emscripten_bind_Vfs_UnmountImage_1=nt.K)(p,x),Sr=u._emscripten_bind_Vfs_SwitchSlot_1=(p,x)=>(Sr=u._emscripten_bind_Vfs_SwitchSlot_1=nt.L)(p,x),Vr=u._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(Vr=u._emscripten_bind_Vfs_GetPendingImageSize_0=nt.M)(p),zr=u._emscripten_bind_Vfs_GetSize_1=(p,x)=>(zr=u._emscripten_bind_Vfs_GetSize_1=nt.N)(p,x),Kn=u._emscripten_bind_Vfs_GetPendingImage_0=p=>(Kn=u._emscripten_bind_Vfs_GetPendingImage_0=nt.O)(p),Yi=u._emscripten_bind_Vfs_GetImage_1=(p,x)=>(Yi=u._emscripten_bind_Vfs_GetImage_1=nt.P)(p,x),Bn=u._emscripten_bind_Vfs_GetDirtyPages_1=(p,x)=>(Bn=u._emscripten_bind_Vfs_GetDirtyPages_1=nt.Q)(p,x),No=u._emscripten_bind_Vfs_RenameFile_2=(p,x,ne)=>(No=u._emscripten_bind_Vfs_RenameFile_2=nt.R)(p,x,ne),Io=u._emscripten_bind_Vfs_ChmodFile_3=(p,x,ne,Ne)=>(Io=u._emscripten_bind_Vfs_ChmodFile_3=nt.S)(p,x,ne,Ne),Ki=u._emscripten_bind_Vfs_StatFile_1=(p,x)=>(Ki=u._emscripten_bind_Vfs_StatFile_1=nt.T)(p,x),xa=u._emscripten_bind_Vfs_UnlinkFile_1=(p,x)=>(xa=u._emscripten_bind_Vfs_UnlinkFile_1=nt.U)(p,x),ea=u._emscripten_bind_Vfs_Mkdir_1=(p,x)=>(ea=u._emscripten_bind_Vfs_Mkdir_1=nt.V)(p,x),Os=u._emscripten_bind_Vfs_GetEntry_0=p=>(Os=u._emscripten_bind_Vfs_GetEntry_0=nt.W)(p),ta=u._emscripten_bind_Vfs_BytesFree_1=(p,x)=>(ta=u._emscripten_bind_Vfs_BytesFree_1=nt.X)(p,x),Xi=u._emscripten_bind_Vfs_BytesTotal_1=(p,x)=>(Xi=u._emscripten_bind_Vfs_BytesTotal_1=nt.Y)(p,x),Ta=u._emscripten_bind_Vfs_ReadFile_1=(p,x)=>(Ta=u._emscripten_bind_Vfs_ReadFile_1=nt.Z)(p,x),na=u._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(na=u._emscripten_bind_Vfs_GetCurrentFileSize_0=nt._)(p),ra=u._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(ra=u._emscripten_bind_Vfs_GetCurrentFileContent_0=nt.$)(p),Ma=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(Ma=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=nt.aa)(p),Aa=u._emscripten_bind_Vfs_WriteFile_3=(p,x,ne,Ne)=>(Aa=u._emscripten_bind_Vfs_WriteFile_3=nt.ba)(p,x,ne,Ne),ka=u._emscripten_bind_Vfs___destroy___0=p=>(ka=u._emscripten_bind_Vfs___destroy___0=nt.ca)(p),Ra=u._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Ra=u._emscripten_bind_ReaddirContext_ReaddirContext_1=nt.da)(p),oa=u._emscripten_bind_ReaddirContext_Next_0=p=>(oa=u._emscripten_bind_ReaddirContext_Next_0=nt.ea)(p),Pa=u._emscripten_bind_ReaddirContext_GetEntry_0=p=>(Pa=u._emscripten_bind_ReaddirContext_GetEntry_0=nt.fa)(p),Oa=u._emscripten_bind_ReaddirContext_GetStatus_0=p=>(Oa=u._emscripten_bind_ReaddirContext_GetStatus_0=nt.ga)(p),wr=u._emscripten_bind_ReaddirContext_GetError_0=p=>(wr=u._emscripten_bind_ReaddirContext_GetError_0=nt.ha)(p),ia=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(ia=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=nt.ia)(p),po=u._emscripten_bind_ReaddirContext___destroy___0=p=>(po=u._emscripten_bind_ReaddirContext___destroy___0=nt.ja)(p),Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,x)=>(Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=nt.ka)(p,x),sa=u._emscripten_bind_ExportZipContext_AddFile_1=(p,x)=>(sa=u._emscripten_bind_ExportZipContext_AddFile_1=nt.la)(p,x),Ns=u._emscripten_bind_ExportZipContext_AddDirectory_1=(p,x)=>(Ns=u._emscripten_bind_ExportZipContext_AddDirectory_1=nt.ma)(p,x),Jr=u._emscripten_bind_ExportZipContext_Continue_0=p=>(Jr=u._emscripten_bind_ExportZipContext_Continue_0=nt.na)(p),Fs=u._emscripten_bind_ExportZipContext_GetState_0=p=>(Fs=u._emscripten_bind_ExportZipContext_GetState_0=nt.oa)(p),Na=u._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(Na=u._emscripten_bind_ExportZipContext_GetZipContent_0=nt.pa)(p),Vn=u._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Vn=u._emscripten_bind_ExportZipContext_GetZipSize_0=nt.qa)(p),hs=u._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(hs=u._emscripten_bind_ExportZipContext_GetErrorItem_0=nt.ra)(p),Dr=u._emscripten_bind_ExportZipContext___destroy___0=p=>(Dr=u._emscripten_bind_ExportZipContext___destroy___0=nt.sa)(p),Ls=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Ls=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=nt.ta)(p),pl=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,x)=>(pl=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=nt.ua)(p,x),Fa=u._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(Fa=u._emscripten_bind_DeleteRecursiveContext_Continue_0=nt.va)(p),Un=u._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(Un=u._emscripten_bind_DeleteRecursiveContext_GetState_0=nt.wa)(p),Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=nt.xa)(p),ms=u._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(ms=u._emscripten_bind_DeleteRecursiveContext___destroy___0=nt.ya)(p),$s=u._emscripten_bind_UnzipContext_UnzipContext_4=(p,x,ne,Ne)=>($s=u._emscripten_bind_UnzipContext_UnzipContext_4=nt.za)(p,x,ne,Ne),hl=u._emscripten_bind_UnzipContext_GetState_0=p=>(hl=u._emscripten_bind_UnzipContext_GetState_0=nt.Aa)(p),aa=u._emscripten_bind_UnzipContext_Continue_0=p=>(aa=u._emscripten_bind_UnzipContext_Continue_0=nt.Ba)(p),Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=nt.Ca)(p),Qi=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(Qi=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=nt.Da)(p),gs=u._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(gs=u._emscripten_bind_UnzipContext_GetCollisionPath_0=nt.Ea)(p),Ji=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(Ji=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=nt.Fa)(p),la=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(la=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=nt.Ga)(p),ca=u._emscripten_bind_UnzipContext___destroy___0=p=>(ca=u._emscripten_bind_UnzipContext___destroy___0=nt.Ha)(p),ti=u._emscripten_bind_PasteContext_PasteContext_3=(p,x,ne)=>(ti=u._emscripten_bind_PasteContext_PasteContext_3=nt.Ia)(p,x,ne),yr=u._emscripten_bind_PasteContext_AddFile_1=(p,x)=>(yr=u._emscripten_bind_PasteContext_AddFile_1=nt.Ja)(p,x),Wo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,x)=>(Wo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=nt.Ka)(p,x),Lt=u._emscripten_bind_PasteContext_GetState_0=p=>(Lt=u._emscripten_bind_PasteContext_GetState_0=nt.La)(p),Fn=u._emscripten_bind_PasteContext_Continue_0=p=>(Fn=u._emscripten_bind_PasteContext_Continue_0=nt.Ma)(p),Bl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(Bl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=nt.Na)(p),ml=u._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(ml=u._emscripten_bind_PasteContext_GetCurrentEntry_0=nt.Oa)(p),gl=u._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(gl=u._emscripten_bind_PasteContext_GetCollisionPath_0=nt.Pa)(p),Vl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(Vl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=nt.Qa)(p),Zn=u._emscripten_bind_PasteContext___destroy___0=p=>(Zn=u._emscripten_bind_PasteContext___destroy___0=nt.Ra)(p),_s=u._main=(p,x)=>(_s=u._main=nt.Sa)(p,x),Ln=()=>(Ln=nt.Ta)(),ho=p=>(ho=nt.Va)(p);function Er(){function p(){Xn||(Xn=!0,u.calledRun=!0,!le&&(function st(){Ur(Gt)}(),function Ft(){Ur(Oe)}(),H(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),v&&function kr(){var p=_s;try{Pt+=1;var Ne=p(0,0);return Ps(Ne),Ne}catch(Qe){return(p=>{if(p instanceof $r||"unwind"==p)return ie;I(1,p)})(Qe)}finally{Pt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),ze.unshift(p);var p;Ur(ze)}()))}Ct>0||(function Be(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),ht.unshift(p);var p;Ur(ht)}(),Ct>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),p()},1)):p())}if(u.___original_main=()=>(u.___original_main=nt.Wa)(),jt=function p(){Xn||Er(),Xn||(jt=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var v=!0;function V(){}function re(p){return(p||V).__cache__}function Pe(p,x){var ne=re(x),Ne=ne[p];return Ne||((Ne=Object.create((x||V).prototype)).ptr=p,ne[p]=Ne)}u.noInitialRun&&(v=!1),Er(),(V.prototype=Object.create(V.prototype)).constructor=V,V.prototype.__class__=V,V.__cache__={},u.WrapperObject=V,u.getCache=re,u.wrapPointer=Pe,u.castObject=function yt(p,x){return Pe(p.ptr,x)},u.NULL=Pe(0),u.destroy=function qt(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete re(p.__class__)[p.ptr]},u.compare=function ot(p,x){return p.ptr===x.ptr},u.getPointer=function pn(p){return p.ptr},u.getClass=function ir(p){return p.__class__};var zt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(zt.needed){for(var p=0;p<zt.temps.length;p++)u._webidl_free(zt.temps[p]);zt.temps.length=0,u._webidl_free(zt.buffer),zt.buffer=0,zt.size+=zt.needed,zt.needed=0}zt.buffer||(zt.size+=128,zt.buffer=u._webidl_malloc(zt.size),we(zt.buffer)),zt.pos=0},alloc(p,x){we(zt.buffer);var Qe,Ne=p.length*x.BYTES_PER_ELEMENT;return zt.pos+(Ne=Ne+7&-8)>=zt.size?(we(Ne>0),zt.needed+=Ne,Qe=u._webidl_malloc(Ne),zt.temps.push(Qe)):(Qe=zt.buffer+zt.pos,zt.pos+=Ne),Qe},copy(p,x,ne){switch(ne>>>=0,x.BYTES_PER_ELEMENT){case 2:ne>>>=1;break;case 4:ne>>>=2;break;case 8:ne>>>=3}for(var Qe=0;Qe<p.length;Qe++)x[ne+Qe]=p[Qe]}};function Rr(p){if("string"==typeof p){var x=Oo(p),ne=zt.alloc(x,Ae);return zt.copy(x,Ae,ne),ne}return p}function Le(){throw"cannot construct a VoidPtr, no constructor in IDL"}function wn(){throw"cannot construct a FileEntry, no constructor in IDL"}function ct(){this.ptr=qe(),re(ct)[this.ptr]=this}function sr(p){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),this.ptr=Ra(p),re(sr)[this.ptr]=this}function Hn(p,x){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x&&"object"==typeof x&&(x=x.ptr),this.ptr=Ht(p,x),re(Hn)[this.ptr]=this}function Pr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Ls(p),re(Pr)[this.ptr]=this}function ar(p,x,ne,Ne){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Rr(x),ne&&"object"==typeof ne&&(ne=ne.ptr),Ne&&"object"==typeof Ne&&(Ne=Ne.ptr),this.ptr=$s(p,x,ne,Ne),re(ar)[this.ptr]=this}function We(p,x,ne){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Rr(x),ne=ne&&"object"==typeof ne?ne.ptr:Rr(ne),this.ptr=ti(p,x,ne),re(We)[this.ptr]=this}return(Le.prototype=Object.create(V.prototype)).constructor=Le,Le.prototype.__class__=Le,Le.__cache__={},u.VoidPtr=Le,Le.prototype.__destroy__=Le.prototype.__destroy__=function(){m(this.ptr)},(wn.prototype=Object.create(V.prototype)).constructor=wn,wn.prototype.__class__=wn,wn.__cache__={},u.FileEntry=wn,wn.prototype.GetName=wn.prototype.GetName=function(){return pe(w(this.ptr))},wn.prototype.IsDirectory=wn.prototype.IsDirectory=function(){return!!L(this.ptr)},wn.prototype.GetSize=wn.prototype.GetSize=function(){return te(this.ptr)},wn.prototype.GetModifiedTS=wn.prototype.GetModifiedTS=function(){return Ie(this.ptr)},wn.prototype.GetAttributes=wn.prototype.GetAttributes=function(){return ue(this.ptr)},wn.prototype.__destroy__=wn.prototype.__destroy__=function(){Ke(this.ptr)},(ct.prototype=Object.create(V.prototype)).constructor=ct,ct.prototype.__class__=ct,ct.__cache__={},u.Vfs=ct,ct.prototype.Malloc=ct.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Pe(et(this.ptr,p),Le)},ct.prototype.Free=ct.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),A(this.ptr,p)},ct.prototype.Nullptr=ct.prototype.Nullptr=function(){return Pe(bt(this.ptr),Le)},ct.prototype.AllocateImage=ct.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),At(this.ptr,p)},ct.prototype.MountImage=ct.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!kt(this.ptr,p)},ct.prototype.UnmountImage=ct.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Sn(this.ptr,p)},ct.prototype.SwitchSlot=ct.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Sr(this.ptr,p)},ct.prototype.GetPendingImageSize=ct.prototype.GetPendingImageSize=function(){return Vr(this.ptr)},ct.prototype.GetSize=ct.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),zr(this.ptr,p)},ct.prototype.GetPendingImage=ct.prototype.GetPendingImage=function(){return Pe(Kn(this.ptr),Le)},ct.prototype.GetImage=ct.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Pe(Yi(this.ptr,p),Le)},ct.prototype.GetDirtyPages=ct.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Pe(Bn(this.ptr,p),Le)},ct.prototype.RenameFile=ct.prototype.RenameFile=function(p,x){var ne=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x=x&&"object"==typeof x?x.ptr:Rr(x),No(ne,p,x)},ct.prototype.ChmodFile=ct.prototype.ChmodFile=function(p,x,ne){var Ne=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x&&"object"==typeof x&&(x=x.ptr),ne&&"object"==typeof ne&&(ne=ne.ptr),Io(Ne,p,x,ne)},ct.prototype.StatFile=ct.prototype.StatFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Ki(x,p)},ct.prototype.UnlinkFile=ct.prototype.UnlinkFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),xa(x,p)},ct.prototype.Mkdir=ct.prototype.Mkdir=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),ea(x,p)},ct.prototype.GetEntry=ct.prototype.GetEntry=function(){return Pe(Os(this.ptr),wn)},ct.prototype.BytesFree=ct.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),ta(this.ptr,p)},ct.prototype.BytesTotal=ct.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),Xi(this.ptr,p)},ct.prototype.ReadFile=ct.prototype.ReadFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),!!Ta(x,p)},ct.prototype.GetCurrentFileSize=ct.prototype.GetCurrentFileSize=function(){return na(this.ptr)},ct.prototype.GetCurrentFileContent=ct.prototype.GetCurrentFileContent=function(){return Pe(ra(this.ptr),Le)},ct.prototype.ReleaseCurrentFile=ct.prototype.ReleaseCurrentFile=function(){Ma(this.ptr)},ct.prototype.WriteFile=ct.prototype.WriteFile=function(p,x,ne){var Ne=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),x&&"object"==typeof x&&(x=x.ptr),ne&&"object"==typeof ne&&(ne=ne.ptr),Aa(Ne,p,x,ne)},ct.prototype.__destroy__=ct.prototype.__destroy__=function(){ka(this.ptr)},(sr.prototype=Object.create(V.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},u.ReaddirContext=sr,sr.prototype.Next=sr.prototype.Next=function(){return oa(this.ptr)},sr.prototype.GetEntry=sr.prototype.GetEntry=function(){return Pe(Pa(this.ptr),wn)},sr.prototype.GetStatus=sr.prototype.GetStatus=function(){return Oa(this.ptr)},sr.prototype.GetError=sr.prototype.GetError=function(){return wr(this.ptr)},sr.prototype.GetErrorDescription=sr.prototype.GetErrorDescription=function(){return pe(ia(this.ptr))},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){po(this.ptr)},(Hn.prototype=Object.create(V.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},u.ExportZipContext=Hn,Hn.prototype.AddFile=Hn.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Pe(sa(x,p),Hn)},Hn.prototype.AddDirectory=Hn.prototype.AddDirectory=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Pe(Ns(x,p),Hn)},Hn.prototype.Continue=Hn.prototype.Continue=function(){return Jr(this.ptr)},Hn.prototype.GetState=Hn.prototype.GetState=function(){return Fs(this.ptr)},Hn.prototype.GetZipContent=Hn.prototype.GetZipContent=function(){return Pe(Na(this.ptr),Le)},Hn.prototype.GetZipSize=Hn.prototype.GetZipSize=function(){return Vn(this.ptr)},Hn.prototype.GetErrorItem=Hn.prototype.GetErrorItem=function(){return pe(hs(this.ptr))},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){Dr(this.ptr)},(Pr.prototype=Object.create(V.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},u.DeleteRecursiveContext=Pr,Pr.prototype.AddFile=Pr.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Pe(pl(x,p),Pr)},Pr.prototype.Continue=Pr.prototype.Continue=function(){return Fa(this.ptr)},Pr.prototype.GetState=Pr.prototype.GetState=function(){return Un(this.ptr)},Pr.prototype.GetFailingPath=Pr.prototype.GetFailingPath=function(){return pe(Yt(this.ptr))},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){ms(this.ptr)},(ar.prototype=Object.create(V.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},u.UnzipContext=ar,ar.prototype.GetState=ar.prototype.GetState=function(){return hl(this.ptr)},ar.prototype.Continue=ar.prototype.Continue=function(){return aa(this.ptr)},ar.prototype.ContinueWithOverwrite=ar.prototype.ContinueWithOverwrite=function(){return Xe(this.ptr)},ar.prototype.GetCurrentEntry=ar.prototype.GetCurrentEntry=function(){return pe(Qi(this.ptr))},ar.prototype.GetCollisionPath=ar.prototype.GetCollisionPath=function(){return pe(gs(this.ptr))},ar.prototype.GetEntriesTotal=ar.prototype.GetEntriesTotal=function(){return Ji(this.ptr)},ar.prototype.GetEntriesSuccess=ar.prototype.GetEntriesSuccess=function(){return la(this.ptr)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){ca(this.ptr)},(We.prototype=Object.create(V.prototype)).constructor=We,We.prototype.__class__=We,We.__cache__={},u.PasteContext=We,We.prototype.AddFile=We.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Rr(p),Pe(yr(x,p),We)},We.prototype.SetDeleteAfterCopy=We.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Pe(Wo(this.ptr,p),We)},We.prototype.GetState=We.prototype.GetState=function(){return Lt(this.ptr)},We.prototype.Continue=We.prototype.Continue=function(){return Fn(this.ptr)},We.prototype.ContinueWithOverwrite=We.prototype.ContinueWithOverwrite=function(){return Bl(this.ptr)},We.prototype.GetCurrentEntry=We.prototype.GetCurrentEntry=function(){return pe(ml(this.ptr))},We.prototype.GetCollisionPath=We.prototype.GetCollisionPath=function(){return pe(gl(this.ptr))},We.prototype.GetEntriesSuccess=We.prototype.GetEntriesSuccess=function(){return Vl(this.ptr)},We.prototype.__destroy__=We.prototype.__destroy__=function(){Zn(this.ptr)},S.ready});ge.exports=Ce},276:(ge,Ce,C)=>{"use strict";C.d(Ce,{c:()=>H,r:()=>k});const H=(O,N)=>{O.componentOnReady?O.componentOnReady().then(ee=>N(ee)):k(()=>N(O))},k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O)},7687:(ge,Ce,C)=>{"use strict";C.d(Ce,{L:()=>S,a:()=>u,b:()=>H,c:()=>q,d:()=>B,g:()=>O});const S="ionViewWillEnter",u="ionViewDidEnter",H="ionViewWillLeave",q="ionViewDidLeave",B="ionViewWillUnload",O=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(ge,Ce,C)=>{"use strict";C.d(Ce,{c:()=>ve});var S=C(6940),u=C(4675);let H;const B=oe=>oe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R=oe=>(void 0===H&&(H=void 0===oe.style.animationName&&void 0!==oe.style.webkitAnimationName?"-webkit-":""),H),E=(oe,G,M)=>{const J=G.startsWith("animation")?R(oe):"";oe.style.setProperty(J+G,M)},I=(oe,G)=>{const M=G.startsWith("animation")?R(oe):"";oe.style.removeProperty(M+G)},k=[],de=(oe=[],G)=>{if(void 0!==G){const M=Array.isArray(G)?G:[G];return[...oe,...M]}return oe},ve=oe=>{let G,M,J,le,ie,we,D,ze,ke,Be,st,at,Ze,Ae=[],O=[],N=[],ee=!1,X={},U=[],he=[],$e={},ht=0,Gt=!1,Oe=!1,Ft=!0,fe=!1,Ge=!0,Ct=!1;const Ut=oe,jt=[],Ee=[],be=[],_e=[],Je=[],vt=[],Pt=[],un=[],nn=[],fn=[],Jt=[],gr="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,zn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&gr,So=()=>Jt,ro=(m,w)=>{const L=w.findIndex(te=>te.c===m);L>-1&&w.splice(L,1)},go=(m,w)=>((w?.oneTimeCallback?Ee:jt).push({c:m,o:w}),Ze),pe=()=>{if(zn)Jt.forEach(m=>{m.cancel()}),Jt.length=0;else{const m=_e.slice();(0,u.r)(()=>{m.forEach(w=>{I(w,"animation-name"),I(w,"animation-duration"),I(w,"animation-timing-function"),I(w,"animation-iteration-count"),I(w,"animation-delay"),I(w,"animation-play-state"),I(w,"animation-fill-mode"),I(w,"animation-direction")})})}},ye=()=>{vt.forEach(m=>{m?.parentNode&&m.parentNode.removeChild(m)}),vt.length=0},Po=()=>void 0!==ie?ie:D?D.getFill():"both",xn=()=>void 0!==ke?ke:void 0!==we?we:D?D.getDirection():"normal",_r=()=>Gt?"linear":void 0!==J?J:D?D.getEasing():"linear",vr=()=>Oe?0:void 0!==Be?Be:void 0!==M?M:D?D.getDuration():0,Tn=()=>void 0!==le?le:D?D.getIterations():1,Nn=()=>void 0!==st?st:void 0!==G?G:D?D.getDelay():0,Qr=()=>{0!==ht&&(ht--,0===ht&&((()=>{Wi(),nn.forEach(Ie=>Ie()),fn.forEach(Ie=>Ie());const m=Ft?1:0,w=U,L=he,te=$e;_e.forEach(Ie=>{const ue=Ie.classList;w.forEach(Ke=>ue.add(Ke)),L.forEach(Ke=>ue.remove(Ke));for(const Ke in te)te.hasOwnProperty(Ke)&&E(Ie,Ke,te[Ke])}),Be=void 0,ke=void 0,st=void 0,jt.forEach(Ie=>Ie.c(m,Ze)),Ee.forEach(Ie=>Ie.c(m,Ze)),Ee.length=0,Ge=!0,Ft&&(fe=!0),Ft=!0})(),D&&D.animationFinish()))},Hi=(m=!0)=>{ye();const w=(oe=>(oe.forEach(G=>{for(const M in G)if(G.hasOwnProperty(M)){const J=G[M];if("easing"===M)G["animation-timing-function"]=J,delete G[M];else{const le=B(M);le!==M&&(G[le]=J,delete G[M])}}}),oe))(Ae);_e.forEach(L=>{if(w.length>0){const te=((oe=[])=>oe.map(G=>{const M=G.offset,J=[];for(const le in G)G.hasOwnProperty(le)&&"offset"!==le&&J.push(`${le}: ${G[le]};`);return`${100*M}% { ${J.join(" ")} }`}).join(" "))(w);at=void 0!==oe?oe:(oe=>{let G=k.indexOf(oe);return G<0&&(G=k.push(oe)-1),`ion-animation-${G}`})(te);const Ie=((oe,G,M)=>{var J;const le=(oe=>{const G=void 0!==oe.getRootNode?oe.getRootNode():oe;return G.head||G})(M),ie=R(M),we=le.querySelector("#"+oe);if(we)return we;const Ae=(null!==(J=M.ownerDocument)&&void 0!==J?J:document).createElement("style");return Ae.id=oe,Ae.textContent=`@${ie}keyframes ${oe} { ${G} } @${ie}keyframes ${oe}-alt { ${G} }`,le.appendChild(Ae),Ae})(at,te,L);vt.push(Ie),E(L,"animation-duration",`${vr()}ms`),E(L,"animation-timing-function",_r()),E(L,"animation-delay",`${Nn()}ms`),E(L,"animation-fill-mode",Po()),E(L,"animation-direction",xn());const ue=Tn()===1/0?"infinite":Tn().toString();E(L,"animation-iteration-count",ue),E(L,"animation-play-state","paused"),m&&E(L,"animation-name",`${Ie.id}-alt`),(0,u.r)(()=>{E(L,"animation-name",Ie.id||null)})}})},Ei=(m=!0)=>{(()=>{Pt.forEach(te=>te()),un.forEach(te=>te());const m=O,w=N,L=X;_e.forEach(te=>{const Ie=te.classList;m.forEach(ue=>Ie.add(ue)),w.forEach(ue=>Ie.remove(ue));for(const ue in L)L.hasOwnProperty(ue)&&E(te,ue,L[ue])})})(),Ae.length>0&&(zn?(_e.forEach(m=>{const w=m.animate(Ae,{id:Ut,delay:Nn(),duration:vr(),easing:_r(),iterations:Tn(),fill:Po(),direction:xn()});w.pause(),Jt.push(w)}),Jt.length>0&&(Jt[0].onfinish=()=>{Qr()})):Hi(m)),ee=!0},vo=m=>{if(m=Math.min(Math.max(m,0),.9999),zn)Jt.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+vr()*m,w.pause()});else{const w=`-${vr()*m}ms`;_e.forEach(L=>{Ae.length>0&&(E(L,"animation-delay",w),E(L,"animation-play-state","paused"))})}},Ii=m=>{Jt.forEach(w=>{w.effect.updateTiming({delay:Nn(),duration:vr(),easing:_r(),iterations:Tn(),fill:Po(),direction:xn()})}),void 0!==m&&vo(m)},zi=(m=!0,w)=>{(0,u.r)(()=>{_e.forEach(L=>{E(L,"animation-name",at||null),E(L,"animation-duration",`${vr()}ms`),E(L,"animation-timing-function",_r()),E(L,"animation-delay",void 0!==w?`-${w*vr()}ms`:`${Nn()}ms`),E(L,"animation-fill-mode",Po()||null),E(L,"animation-direction",xn()||null);const te=Tn()===1/0?"infinite":Tn().toString();E(L,"animation-iteration-count",te),m&&E(L,"animation-name",`${at}-alt`),(0,u.r)(()=>{E(L,"animation-name",at||null)})})})},Hr=(m=!1,w=!0,L)=>(m&&Je.forEach(te=>{te.update(m,w,L)}),zn?Ii(L):zi(w,L),Ze),Mn=()=>{ee&&(zn?Jt.forEach(m=>{m.pause()}):_e.forEach(m=>{E(m,"animation-play-state","paused")}),Ct=!0)},Js=()=>{ze=void 0,Qr()},Wi=()=>{ze&&clearTimeout(ze)},fs=m=>new Promise(w=>{m?.sync&&(Oe=!0,go(()=>Oe=!1,{oneTimeCallback:!0})),ee||Ei(),fe&&(zn?(vo(0),Ii()):zi(),fe=!1),Ge&&(ht=Je.length+1,Ge=!1);const L=()=>{ro(te,Ee),w()},te=()=>{ro(L,be),w()};go(te,{oneTimeCallback:!0}),((m,w)=>{be.push({c:m,o:{oneTimeCallback:!0}})})(L),Je.forEach(Ie=>{Ie.play()}),zn?(Jt.forEach(m=>{m.play()}),(0===Ae.length||0===_e.length)&&Qr()):(()=>{if(Wi(),(0,u.r)(()=>{_e.forEach(m=>{Ae.length>0&&E(m,"animation-play-state","running")})}),0===Ae.length||0===_e.length)Qr();else{const m=Nn()||0,w=vr()||0,L=Tn()||1;isFinite(L)&&(ze=setTimeout(Js,m+w*L+100)),((oe,G)=>{let M;const J={passive:!0},ie=we=>{oe===we.target&&(M&&M(),Wi(),(0,u.r)(()=>{_e.forEach(m=>{I(m,"animation-duration"),I(m,"animation-delay"),I(m,"animation-play-state")}),(0,u.r)(Qr)}))};oe&&(oe.addEventListener("webkitAnimationEnd",ie,J),oe.addEventListener("animationend",ie,J),M=()=>{oe.removeEventListener("webkitAnimationEnd",ie,J),oe.removeEventListener("animationend",ie,J)})})(_e[0])}})(),Ct=!1}),qi=(m,w)=>{const L=Ae[0];return void 0===L||void 0!==L.offset&&0!==L.offset?Ae=[{offset:0,[m]:w},...Ae]:L[m]=w,Ze};return Ze={parentAnimation:D,elements:_e,childAnimations:Je,id:Ut,animationFinish:Qr,from:qi,to:(m,w)=>{const L=Ae[Ae.length-1];return void 0===L||void 0!==L.offset&&1!==L.offset?Ae=[...Ae,{offset:1,[m]:w}]:L[m]=w,Ze},fromTo:(m,w,L)=>qi(m,w).to(m,L),parent:m=>(D=m,Ze),play:fs,pause:()=>(Je.forEach(m=>{m.pause()}),Mn(),Ze),stop:()=>{Je.forEach(m=>{m.stop()}),ee&&(pe(),ee=!1),Gt=!1,Oe=!1,Ge=!0,ke=void 0,Be=void 0,st=void 0,ht=0,fe=!1,Ft=!0,Ct=!1,be.forEach(m=>m.c(0,Ze)),be.length=0},destroy:m=>(Je.forEach(w=>{w.destroy(m)}),(m=>{pe(),m&&ye()})(m),_e.length=0,Je.length=0,Ae.length=0,jt.length=0,Ee.length=0,ee=!1,Ge=!0,Ze),keyframes:m=>{const w=Ae!==m;return Ae=m,w&&(m=>{zn?So().forEach(w=>{const L=w.effect;if(L.setKeyframes)L.setKeyframes(m);else{const te=new KeyframeEffect(L.target,m,L.getTiming());w.effect=te}}):Hi()})(Ae),Ze},addAnimation:m=>{if(null!=m)if(Array.isArray(m))for(const w of m)w.parent(Ze),Je.push(w);else m.parent(Ze),Je.push(m);return Ze},addElement:m=>{if(null!=m)if(1===m.nodeType)_e.push(m);else if(m.length>=0)for(let w=0;w<m.length;w++)_e.push(m[w]);else console.error("Invalid addElement value");return Ze},update:Hr,fill:m=>(ie=m,Hr(!0),Ze),direction:m=>(we=m,Hr(!0),Ze),iterations:m=>(le=m,Hr(!0),Ze),duration:m=>(!zn&&0===m&&(m=1),M=m,Hr(!0),Ze),easing:m=>(J=m,Hr(!0),Ze),delay:m=>(G=m,Hr(!0),Ze),getWebAnimations:So,getKeyframes:()=>Ae,getFill:Po,getDirection:xn,getDelay:Nn,getIterations:Tn,getEasing:_r,getDuration:vr,afterAddRead:m=>(nn.push(m),Ze),afterAddWrite:m=>(fn.push(m),Ze),afterClearStyles:(m=[])=>{for(const w of m)$e[w]="";return Ze},afterStyles:(m={})=>($e=m,Ze),afterRemoveClass:m=>(he=de(he,m),Ze),afterAddClass:m=>(U=de(U,m),Ze),beforeAddRead:m=>(Pt.push(m),Ze),beforeAddWrite:m=>(un.push(m),Ze),beforeClearStyles:(m=[])=>{for(const w of m)X[w]="";return Ze},beforeStyles:(m={})=>(X=m,Ze),beforeRemoveClass:m=>(N=de(N,m),Ze),beforeAddClass:m=>(O=de(O,m),Ze),onFinish:go,isRunning:()=>0!==ht&&!Ct,progressStart:(m=!1,w)=>(Je.forEach(L=>{L.progressStart(m,w)}),Mn(),Gt=m,ee||Ei(),Hr(!1,!0,w),Ze),progressStep:m=>(Je.forEach(w=>{w.progressStep(m)}),vo(m),Ze),progressEnd:(m,w,L)=>(Gt=!1,Je.forEach(te=>{te.progressEnd(m,w,L)}),void 0!==L&&(Be=L),fe=!1,Ft=!0,0===m?(ke="reverse"===xn()?"normal":"reverse","reverse"===ke&&(Ft=!1),zn?(Hr(),vo(1-w)):(st=(1-w)*vr()*-1,Hr(!1,!1))):1===m&&(zn?(Hr(),vo(w)):(st=w*vr()*-1,Hr(!1,!1))),void 0!==m&&!D&&fs(),Ze)}}},2984:(ge,Ce,C)=>{"use strict";C.d(Ce,{E:()=>F,I:()=>E,a:()=>S,s:()=>I});const S=k=>{try{if(k instanceof E)return k.value;if(!q()||"string"!=typeof k||""===k)return k;if(k.includes("onload="))return"";const P=document.createDocumentFragment(),T=document.createElement("div");P.appendChild(T),T.innerHTML=k,R.forEach(oe=>{const G=P.querySelectorAll(oe);for(let M=G.length-1;M>=0;M--){const J=G[M];J.parentNode?J.parentNode.removeChild(J):P.removeChild(J);const le=H(J);for(let ie=0;ie<le.length;ie++)u(le[ie])}});const $=H(P);for(let oe=0;oe<$.length;oe++)u($[oe]);const de=document.createElement("div");de.appendChild(P);const ve=de.querySelector("div");return null!==ve?ve.innerHTML:de.innerHTML}catch(P){return console.error(P),""}},u=k=>{if(k.nodeType&&1!==k.nodeType)return;if(typeof NamedNodeMap<"u"&&!(k.attributes instanceof NamedNodeMap))return void k.remove();for(let T=k.attributes.length-1;T>=0;T--){const $=k.attributes.item(T),de=$.name;if(!B.includes(de.toLowerCase())){k.removeAttribute(de);continue}const ve=$.value,oe=k[de];(null!=ve&&ve.toLowerCase().includes("javascript:")||null!=oe&&oe.toLowerCase().includes("javascript:"))&&k.removeAttribute(de)}const P=H(k);for(let T=0;T<P.length;T++)u(P[T])},H=k=>null!=k.children?k.children:k.childNodes,q=()=>{var k;const P=window,T=null===(k=P?.Ionic)||void 0===k?void 0:k.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},B=["class","id","href","src","name","slot"],R=["script","style","iframe","meta","link","object","embed"];class E{constructor(P){this.value=P}}const I=k=>{const P=window,T=P.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return P.Ionic=P.Ionic||{},P.Ionic.config=Object.assign(Object.assign({},P.Ionic.config),k),P.Ionic.config},F=!1},8573:(ge,Ce,C)=>{"use strict";C.d(Ce,{C:()=>B,a:()=>H,d:()=>q});var S=C(3918),u=C(4675);const H=function(){var R=(0,S.Z)(function*(E,I,K,F,k,P){var T;if(E)return E.attachViewToDom(I,K,k,F);if(!(P||"string"==typeof K||K instanceof HTMLElement))throw new Error("framework delegate is missing");const $="string"==typeof K?null===(T=I.ownerDocument)||void 0===T?void 0:T.createElement(K):K;return F&&F.forEach(de=>$.classList.add(de)),k&&Object.assign($,k),I.appendChild($),yield new Promise(de=>(0,u.c)($,de)),$});return function(I,K,F,k,P,T){return R.apply(this,arguments)}}(),q=(R,E)=>{if(E){if(R)return R.removeViewFromDom(E.parentElement,E);E.remove()}return Promise.resolve()},B=()=>{let R,E;return{attachViewToDom:function(){var F=(0,S.Z)(function*(k,P,T={},$=[]){var de,ve;let oe;if(R=k,P){const M="string"==typeof P?null===(de=R.ownerDocument)||void 0===de?void 0:de.createElement(P):P;$.forEach(J=>M.classList.add(J)),Object.assign(M,T),R.appendChild(M),oe=M,yield new Promise(J=>(0,u.c)(M,J))}else if(R.children.length>0&&("ION-MODAL"===R.tagName||"ION-POPOVER"===R.tagName)&&!(oe=R.children[0]).classList.contains("ion-delegate-host")){const J=null===(ve=R.ownerDocument)||void 0===ve?void 0:ve.createElement("div");J.classList.add("ion-delegate-host"),$.forEach(le=>J.classList.add(le)),J.append(...R.children),R.appendChild(J),oe=J}const G=document.querySelector("ion-app")||document.body;return E=document.createComment("ionic teleport"),R.parentNode.insertBefore(E,R),G.appendChild(R),oe??R});return function(P,T){return F.apply(this,arguments)}}(),removeViewFromDom:()=>(R&&E&&(E.parentNode.insertBefore(R,E),E.remove()),Promise.resolve())}}},4967:(ge,Ce,C)=>{"use strict";C.d(Ce,{G:()=>B});class u{constructor(E,I,K,F,k){this.id=I,this.name=K,this.disableScroll=k,this.priority=1e6*F+I,this.ctrl=E}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const E=this.ctrl.capture(this.name,this.id,this.priority);return E&&this.disableScroll&&this.ctrl.disableScroll(this.id),E}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(E,I,K,F){this.id=I,this.disable=K,this.disableScroll=F,this.ctrl=E}block(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.disableGesture(E,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.enableGesture(E,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const q="backdrop-no-scroll",B=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(E){var I;return new u(this,this.newID(),E.name,null!==(I=E.priority)&&void 0!==I?I:0,!!E.disableScroll)}createBlocker(E={}){return new H(this,this.newID(),E.disable,!!E.disableScroll)}start(E,I,K){return this.canStart(E)?(this.requestedStart.set(I,K),!0):(this.requestedStart.delete(I),!1)}capture(E,I,K){if(!this.start(E,I,K))return!1;const F=this.requestedStart;let k=-1e4;if(F.forEach(P=>{k=Math.max(k,P)}),k===K){this.capturedId=I,F.clear();const P=new CustomEvent("ionGestureCaptured",{detail:{gestureName:E}});return document.dispatchEvent(P),!0}return F.delete(I),!1}release(E){this.requestedStart.delete(E),this.capturedId===E&&(this.capturedId=void 0)}disableGesture(E,I){let K=this.disabledGestures.get(E);void 0===K&&(K=new Set,this.disabledGestures.set(E,K)),K.add(I)}enableGesture(E,I){const K=this.disabledGestures.get(E);void 0!==K&&K.delete(I)}disableScroll(E){this.disabledScroll.add(E),1===this.disabledScroll.size&&document.body.classList.add(q)}enableScroll(E){this.disabledScroll.delete(E),0===this.disabledScroll.size&&document.body.classList.remove(q)}canStart(E){return!(void 0!==this.capturedId||this.isDisabled(E))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(E){const I=this.disabledGestures.get(E);return!!(I&&I.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ge,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{MENU_BACK_BUTTON_PRIORITY:()=>B,OVERLAY_BACK_BUTTON_PRIORITY:()=>q,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>H});var S=C(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},H=()=>{const R=document;let E=!1;R.addEventListener("backbutton",()=>{if(E)return;let I=0,K=[];const F=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(T,$){K.push({priority:T,handler:$,id:I++})}}});R.dispatchEvent(F);const k=function(){var T=(0,S.Z)(function*($){try{if($?.handler){const de=$.handler(P);null!=de&&(yield de)}}catch(de){console.error(de)}});return function(de){return T.apply(this,arguments)}}(),P=()=>{if(K.length>0){let T={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};K.forEach($=>{$.priority>=T.priority&&(T=$)}),E=!0,K=K.filter($=>$.id!==T.id),k(T).then(()=>E=!1)}};P()})},q=100,B=99},4675:(ge,Ce,C)=>{"use strict";C.d(Ce,{a:()=>I,b:()=>K,c:()=>H,d:()=>ve,e:()=>de,f:()=>$,g:()=>F,h:()=>T,i:()=>E,j:()=>ie,k:()=>B,l:()=>oe,m:()=>q,n:()=>P,o:()=>G,p:()=>le,q:()=>we,r:()=>k,s:()=>Ae,t:()=>S,u:()=>M,v:()=>J});const S=(O,N=0)=>new Promise(ee=>{u(O,N,ee)}),u=(O,N=0,ee)=>{let D,X;const U={passive:!0},$e=()=>{D&&D()},ht=Gt=>{(void 0===Gt||O===Gt.target)&&($e(),ee(Gt))};return O&&(O.addEventListener("webkitTransitionEnd",ht,U),O.addEventListener("transitionend",ht,U),X=setTimeout(ht,N+500),D=()=>{X&&(clearTimeout(X),X=void 0),O.removeEventListener("webkitTransitionEnd",ht,U),O.removeEventListener("transitionend",ht,U)}),$e},H=(O,N)=>{O.componentOnReady?O.componentOnReady().then(ee=>N(ee)):k(()=>N(O))},q=O=>void 0!==O.componentOnReady,B=(O,N=[])=>{const ee={};return N.forEach(D=>{O.hasAttribute(D)&&(null!==O.getAttribute(D)&&(ee[D]=O.getAttribute(D)),O.removeAttribute(D))}),ee},R=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],E=(O,N)=>{let ee=R;return N&&N.length>0&&(ee=ee.filter(D=>!N.includes(D))),B(O,ee)},I=(O,N,ee,D)=>{var X;if(typeof window<"u"){const U=window,he=null===(X=U?.Ionic)||void 0===X?void 0:X.config;if(he){const $e=he.get("_ael");if($e)return $e(O,N,ee,D);if(he._ael)return he._ael(O,N,ee,D)}}return O.addEventListener(N,ee,D)},K=(O,N,ee,D)=>{var X;if(typeof window<"u"){const U=window,he=null===(X=U?.Ionic)||void 0===X?void 0:X.config;if(he){const $e=he.get("_rel");if($e)return $e(O,N,ee,D);if(he._rel)return he._rel(O,N,ee,D)}}return O.removeEventListener(N,ee,D)},F=(O,N=O)=>O.shadowRoot||N,k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O),P=O=>!!O.shadowRoot&&!!O.attachShadow,T=O=>{const N=O.closest("ion-item");return N?N.querySelector("ion-label"):null},$=O=>{if(O.focus(),O.classList.contains("ion-focusable")){const N=O.closest("ion-app");N&&N.setFocus([O])}},de=(O,N)=>{let ee;const D=O.getAttribute("aria-labelledby"),X=O.id;let U=null!==D&&""!==D.trim()?D:N+"-lbl",he=null!==D&&""!==D.trim()?document.getElementById(D):T(O);return he?(null===D&&(he.id=U),ee=he.textContent,he.setAttribute("aria-hidden","true")):""!==X.trim()&&(he=document.querySelector(`label[for="${X}"]`),he&&(""!==he.id?U=he.id:he.id=U=`${X}-lbl`,ee=he.textContent)),{label:he,labelId:U,labelText:ee}},ve=(O,N,ee,D,X)=>{if(O||P(N)){let U=N.querySelector("input.aux-input");U||(U=N.ownerDocument.createElement("input"),U.type="hidden",U.classList.add("aux-input"),N.appendChild(U)),U.disabled=X,U.name=ee,U.value=D||""}},oe=(O,N,ee)=>Math.max(O,Math.min(N,ee)),G=(O,N)=>{if(!O){const ee="ASSERT: "+N;throw console.error(ee),new Error(ee)}},M=O=>O.timeStamp||Date.now(),J=O=>{if(O){const N=O.changedTouches;if(N&&N.length>0){const ee=N[0];return{x:ee.clientX,y:ee.clientY}}if(void 0!==O.pageX)return{x:O.pageX,y:O.pageY}}return{x:0,y:0}},le=O=>{const N="rtl"===document.dir;switch(O){case"start":return N;case"end":return!N;default:throw new Error(`"${O}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ie=(O,N)=>{const ee=O._original||O;return{_original:O,emit:we(ee.emit.bind(ee),N)}},we=(O,N=0)=>{let ee;return(...D)=>{clearTimeout(ee),ee=setTimeout(O,N,...D)}},Ae=(O,N)=>{if(O??(O={}),N??(N={}),O===N)return!0;const ee=Object.keys(O);if(ee.length!==Object.keys(N).length)return!1;for(const D of ee)if(!(D in N)||O[D]!==N[D])return!1;return!0}},4656:(ge,Ce,C)=>{"use strict";C.d(Ce,{m:()=>T});var S=C(3918),u=C(6940),H=C(1940),q=C(6240),B=C(4675),R=C(5194),E=C(2723);const I=$=>(0,E.c)().duration($?400:300),K=$=>{let de,ve;const oe=$.width+8,G=(0,E.c)(),M=(0,E.c)();$.isEndSide?(de=oe+"px",ve="0px"):(de=-oe+"px",ve="0px"),G.addElement($.menuInnerEl).fromTo("transform",`translateX(${de})`,`translateX(${ve})`);const le="ios"===(0,R.b)($),ie=le?.2:.25;return M.addElement($.backdropEl).fromTo("opacity",.01,ie),I(le).addAnimation([G,M])},F=$=>{let de,ve;const oe=(0,R.b)($),G=$.width;$.isEndSide?(de=-G+"px",ve=G+"px"):(de=G+"px",ve=-G+"px");const M=(0,E.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${ve})`,"translateX(0px)"),J=(0,E.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`),le=(0,E.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return I("ios"===oe).addAnimation([M,J,le])},k=$=>{const de=(0,R.b)($),ve=$.width*($.isEndSide?-1:1)+"px",oe=(0,E.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`);return I("ios"===de).addAnimation(oe)},T=(()=>{const $=new Map,de=[],ve=function(){var ke=(0,S.Z)(function*(Be){const st=yield we(Be,!0);return!!st&&st.open()});return function(st){return ke.apply(this,arguments)}}(),oe=function(){var ke=(0,S.Z)(function*(Be){const st=yield void 0!==Be?we(Be,!0):Ae();return void 0!==st&&st.close()});return function(st){return ke.apply(this,arguments)}}(),G=function(){var ke=(0,S.Z)(function*(Be){const st=yield we(Be,!0);return!!st&&st.toggle()});return function(st){return ke.apply(this,arguments)}}(),M=function(){var ke=(0,S.Z)(function*(Be,st){const Ft=yield we(st);return Ft&&(Ft.disabled=!Be),Ft});return function(st,Ft){return ke.apply(this,arguments)}}(),J=function(){var ke=(0,S.Z)(function*(Be,st){const Ft=yield we(st);return Ft&&(Ft.swipeGesture=Be),Ft});return function(st,Ft){return ke.apply(this,arguments)}}(),le=function(){var ke=(0,S.Z)(function*(Be){if(null!=Be){const st=yield we(Be);return void 0!==st&&st.isOpen()}return void 0!==(yield Ae())});return function(st){return ke.apply(this,arguments)}}(),ie=function(){var ke=(0,S.Z)(function*(Be){const st=yield we(Be);return!!st&&!st.disabled});return function(st){return ke.apply(this,arguments)}}(),we=function(){var ke=(0,S.Z)(function*(Be,st=!1){if(yield ze(),"start"===Be||"end"===Be){const fe=de.filter(at=>at.side===Be&&!at.disabled);if(fe.length>=1)return fe.length>1&&st&&(0,q.p)(`menuController queried for a menu on the "${Be}" side, but ${fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fe.map(at=>at.el)),fe[0].el;const Ge=de.filter(at=>at.side===Be);if(Ge.length>=1)return Ge.length>1&&st&&(0,q.p)(`menuController queried for a menu on the "${Be}" side, but ${Ge.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ge.map(at=>at.el)),Ge[0].el}else if(null!=Be)return Oe(fe=>fe.menuId===Be);return Oe(fe=>!fe.disabled)||(de.length>0?de[0].el:void 0)});return function(st){return ke.apply(this,arguments)}}(),Ae=function(){var ke=(0,S.Z)(function*(){return yield ze(),$e()});return function(){return ke.apply(this,arguments)}}(),O=function(){var ke=(0,S.Z)(function*(){return yield ze(),ht()});return function(){return ke.apply(this,arguments)}}(),N=function(){var ke=(0,S.Z)(function*(){return yield ze(),Gt()});return function(){return ke.apply(this,arguments)}}(),ee=(ke,Be)=>{$.set(ke,Be)},U=function(){var ke=(0,S.Z)(function*(Be,st,Ft){if(Gt())return!1;if(st){const fe=yield Ae();fe&&Be.el!==fe&&(yield fe.setOpen(!1,!1))}return Be._setOpen(st,Ft)});return function(st,Ft,fe){return ke.apply(this,arguments)}}(),$e=()=>Oe(ke=>ke._isOpen),ht=()=>de.map(ke=>ke.el),Gt=()=>de.some(ke=>ke.isAnimating),Oe=ke=>{const Be=de.find(ke);if(void 0!==Be)return Be.el},ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ke=>new Promise(Be=>(0,B.c)(ke,Be))));return ee("reveal",k),ee("push",F),ee("overlay",K),null==u.d||u.d.addEventListener("ionBackButton",ke=>{const Be=$e();Be&&ke.detail.register(H.MENU_BACK_BUTTON_PRIORITY,()=>Be.close())}),{registerAnimation:ee,get:we,getMenus:O,getOpen:Ae,isEnabled:ie,swipeGesture:J,isAnimating:N,isOpen:le,enable:M,toggle:G,close:oe,open:ve,_getOpenSync:$e,_createAnimation:(ke,Be)=>{const st=$.get(ke);if(!st)throw new Error("animation not registered");return st(Be)},_register:ke=>{de.indexOf(ke)<0&&de.push(ke)},_unregister:ke=>{const Be=de.indexOf(ke);Be>-1&&de.splice(Be,1)},_setOpen:U}})()},4923:(ge,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>K});var S=C(4967);const u=(T,$,de,ve)=>{const oe=H(T)?{capture:!!ve.capture,passive:!!ve.passive}:!!ve.capture;let G,M;return T.__zone_symbol__addEventListener?(G="__zone_symbol__addEventListener",M="__zone_symbol__removeEventListener"):(G="addEventListener",M="removeEventListener"),T[G]($,de,oe),()=>{T[M]($,de,oe)}},H=T=>{if(void 0===q)try{const $=Object.defineProperty({},"passive",{get:()=>{q=!0}});T.addEventListener("optsTest",()=>{},$)}catch{q=!1}return!!q};let q;const E=T=>T instanceof Document?T:T.ownerDocument,K=T=>{let $=!1,de=!1,ve=!0,oe=!1;const G=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},T),M=G.canStart,J=G.onWillStart,le=G.onStart,ie=G.onEnd,we=G.notCaptured,Ae=G.onMove,O=G.threshold,N=G.passive,ee=G.blurOnStart,D={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((T,$,de)=>{const ve=de*(Math.PI/180),oe="x"===T,G=Math.cos(ve),M=$*$;let J=0,le=0,ie=!1,we=0;return{start(Ae,O){J=Ae,le=O,we=0,ie=!0},detect(Ae,O){if(!ie)return!1;const N=Ae-J,ee=O-le,D=N*N+ee*ee;if(D<M)return!1;const X=Math.sqrt(D),U=(oe?N:ee)/X;return we=U>G?1:U<-G?-1:0,ie=!1,!0},isGesture:()=>0!==we,getDirection:()=>we}})(G.direction,G.threshold,G.maxAngle),U=S.G.createGesture({name:T.gestureName,priority:T.gesturePriority,disableScroll:T.disableScroll}),ht=()=>{$&&(oe=!1,Ae&&Ae(D))},Gt=()=>!!U.capture()&&($=!0,ve=!1,D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime,J?J(D).then(ze):ze(),!0),ze=()=>{ee&&(()=>{if(typeof document<"u"){const fe=document.activeElement;fe?.blur&&fe.blur()}})(),le&&le(D),ve=!0},ke=()=>{$=!1,de=!1,oe=!1,ve=!0,U.release()},Be=fe=>{const Ge=$,at=ve;if(ke(),at){if(F(D,fe),Ge)return void(ie&&ie(D));we&&we(D)}},st=((T,$,de,ve,oe)=>{let G,M,J,le,ie,we,Ae,O=0;const N=Oe=>{O=Date.now()+2e3,$(Oe)&&(!M&&de&&(M=u(T,"touchmove",de,oe)),J||(J=u(Oe.target,"touchend",D,oe)),le||(le=u(Oe.target,"touchcancel",D,oe)))},ee=Oe=>{O>Date.now()||$(Oe)&&(!we&&de&&(we=u(E(T),"mousemove",de,oe)),Ae||(Ae=u(E(T),"mouseup",X,oe)))},D=Oe=>{U(),ve&&ve(Oe)},X=Oe=>{he(),ve&&ve(Oe)},U=()=>{M&&M(),J&&J(),le&&le(),M=J=le=void 0},he=()=>{we&&we(),Ae&&Ae(),we=Ae=void 0},$e=()=>{U(),he()},ht=(Oe=!0)=>{Oe?(G||(G=u(T,"touchstart",N,oe)),ie||(ie=u(T,"mousedown",ee,oe))):(G&&G(),ie&&ie(),G=ie=void 0,$e())};return{enable:ht,stop:$e,destroy:()=>{ht(!1),ve=de=$=void 0}}})(G.el,fe=>{const Ge=P(fe);return!(de||!ve||(k(fe,D),D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime=Ge,D.velocityX=D.velocityY=D.deltaX=D.deltaY=0,D.event=fe,M&&!1===M(D))||(U.release(),!U.start()))&&(de=!0,0===O?Gt():(X.start(D.startX,D.startY),!0))},fe=>{$?!oe&&ve&&(oe=!0,F(D,fe),requestAnimationFrame(ht)):(F(D,fe),X.detect(D.currentX,D.currentY)&&(!X.isGesture()||!Gt())&&Ft())},Be,{capture:!1,passive:N}),Ft=()=>{ke(),st.stop(),we&&we(D)};return{enable(fe=!0){fe||($&&Be(void 0),ke()),st.enable(fe)},destroy(){U.destroy(),st.destroy()}}},F=(T,$)=>{if(!$)return;const de=T.currentX,ve=T.currentY,oe=T.currentTime;k($,T);const G=T.currentX,M=T.currentY,le=(T.currentTime=P($))-oe;if(le>0&&le<100){const we=(M-ve)/le;T.velocityX=(G-de)/le*.7+.3*T.velocityX,T.velocityY=.7*we+.3*T.velocityY}T.deltaX=G-T.startX,T.deltaY=M-T.startY,T.event=$},k=(T,$)=>{let de=0,ve=0;if(T){const oe=T.changedTouches;if(oe&&oe.length>0){const G=oe[0];de=G.clientX,ve=G.clientY}else void 0!==T.pageX&&(de=T.pageX,ve=T.pageY)}$.currentX=de,$.currentY=ve},P=T=>T.timeStamp||Date.now()},8044:(ge,Ce,C)=>{"use strict";C.d(Ce,{b:()=>R,c:()=>E,d:()=>I,e:()=>O,g:()=>D,l:()=>we,s:()=>N,t:()=>k,w:()=>Ae});var S=C(3918),u=C(3426),H=C(4675);const R="ionViewWillLeave",E="ionViewDidLeave",I="ionViewWillUnload",k=X=>new Promise((U,he)=>{(0,u.w)(()=>{P(X),T(X).then($e=>{$e.animation&&$e.animation.destroy(),$(X),U($e)},$e=>{$(X),he($e)})})}),P=X=>{const U=X.enteringEl,he=X.leavingEl;ee(U,he,X.direction),X.showGoBack?U.classList.add("can-go-back"):U.classList.remove("can-go-back"),N(U,!1),U.style.setProperty("pointer-events","none"),he&&(N(he,!1),he.style.setProperty("pointer-events","none"))},T=function(){var X=(0,S.Z)(function*(U){const he=yield de(U);return he&&u.B.isBrowser?ve(he,U):oe(U)});return function(he){return X.apply(this,arguments)}}(),$=X=>{const U=X.enteringEl,he=X.leavingEl;U.classList.remove("ion-page-invisible"),U.style.removeProperty("pointer-events"),void 0!==he&&(he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events"))},de=function(){var X=(0,S.Z)(function*(U){return U.leavingEl&&U.animated&&0!==U.duration?U.animationBuilder?U.animationBuilder:"ios"===U.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(he){return X.apply(this,arguments)}}(),ve=function(){var X=(0,S.Z)(function*(U,he){yield G(he,!0);const $e=U(he.baseEl,he);le(he.enteringEl,he.leavingEl);const ht=yield J($e,he);return he.progressCallback&&he.progressCallback(void 0),ht&&ie(he.enteringEl,he.leavingEl),{hasCompleted:ht,animation:$e}});return function(he,$e){return X.apply(this,arguments)}}(),oe=function(){var X=(0,S.Z)(function*(U){const he=U.enteringEl,$e=U.leavingEl;return yield G(U,!1),le(he,$e),ie(he,$e),{hasCompleted:!0}});return function(he){return X.apply(this,arguments)}}(),G=function(){var X=(0,S.Z)(function*(U,he){(void 0!==U.deepWait?U.deepWait:he)&&(yield Promise.all([O(U.enteringEl),O(U.leavingEl)])),yield M(U.viewIsReady,U.enteringEl)});return function(he,$e){return X.apply(this,arguments)}}(),M=function(){var X=(0,S.Z)(function*(U,he){U&&(yield U(he))});return function(he,$e){return X.apply(this,arguments)}}(),J=(X,U)=>{const he=U.progressCallback,$e=new Promise(ht=>{X.onFinish(Gt=>ht(1===Gt))});return he?(X.progressStart(!0),he(X)):X.play(),$e},le=(X,U)=>{we(U,R),we(X,"ionViewWillEnter")},ie=(X,U)=>{we(X,"ionViewDidEnter"),we(U,E)},we=(X,U)=>{if(X){const he=new CustomEvent(U,{bubbles:!1,cancelable:!1});X.dispatchEvent(he)}},Ae=()=>new Promise(X=>(0,H.r)(()=>(0,H.r)(()=>X()))),O=function(){var X=(0,S.Z)(function*(U){const he=U;if(he){if(null!=he.componentOnReady){if(null!=(yield he.componentOnReady()))return}else if(null!=he.__registerHost)return void(yield new Promise(ht=>(0,H.r)(ht)));yield Promise.all(Array.from(he.children).map(O))}});return function(he){return X.apply(this,arguments)}}(),N=(X,U)=>{U?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},ee=(X,U,he)=>{void 0!==X&&(X.style.zIndex="back"===he?"99":"101"),void 0!==U&&(U.style.zIndex="100")},D=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6240:(ge,Ce,C)=>{"use strict";C.d(Ce,{a:()=>u,b:()=>H,p:()=>S});const S=(q,...B)=>console.warn(`[Ionic Warning]: ${q}`,...B),u=(q,...B)=>console.error(`[Ionic Error]: ${q}`,...B),H=(q,...B)=>console.error(`<${q.tagName.toLowerCase()}> must be used inside ${B.join(" or ")}.`)},6940:(ge,Ce,C)=>{"use strict";C.d(Ce,{d:()=>u,w:()=>S});const S=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3426:(ge,Ce,C)=>{"use strict";C.d(Ce,{B:()=>P,H:()=>Gt,a:()=>Qs,b:()=>Di,c:()=>at,d:()=>jt,e:()=>ps,f:()=>Ut,g:()=>Ze,h:()=>$e,i:()=>Po,j:()=>T,r:()=>Hi,w:()=>ut});var S=C(3918);let q,B,R,E=!1,I=!1,K=!1,F=!1,k=!1;const P={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},T=m=>{const w=new URL(m,Mn.$resourcesUrl$);return w.origin!==ei.location.origin?w.href:w.pathname},J="s-id",le="sty-id",Ae="slot-fb{display:contents}slot-fb[hidden]{display:none}",O="http://www.w3.org/1999/xlink",N={},U=m=>"object"==(m=typeof m)||"function"===m;function he(m){var w,L,te;return null!==(te=null===(L=null===(w=m.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===L?void 0:L.getAttribute("content"))&&void 0!==te?te:void 0}const $e=(m,w,...L)=>{let te=null,Ie=null,ue=null,Ke=!1,qe=!1;const et=[],A=At=>{for(let kt=0;kt<At.length;kt++)te=At[kt],Array.isArray(te)?A(te):null!=te&&"boolean"!=typeof te&&((Ke="function"!=typeof m&&!U(te))&&(te=String(te)),Ke&&qe?et[et.length-1].$text$+=te:et.push(Ke?ht(null,te):te),qe=Ke)};if(A(L),w){w.key&&(Ie=w.key),w.name&&(ue=w.name);{const At=w.className||w.class;At&&(w.class="object"!=typeof At?At:Object.keys(At).filter(kt=>At[kt]).join(" "))}}if("function"==typeof m)return m(null===w?{}:w,et,ze);const bt=ht(m,null);return bt.$attrs$=w,et.length>0&&(bt.$children$=et),bt.$key$=Ie,bt.$name$=ue,bt},ht=(m,w)=>({$flags$:0,$tag$:m,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Gt={},ze={forEach:(m,w)=>m.map(ke).forEach(w),map:(m,w)=>m.map(ke).map(w).map(Be)},ke=m=>({vattrs:m.$attrs$,vchildren:m.$children$,vkey:m.$key$,vname:m.$name$,vtag:m.$tag$,vtext:m.$text$}),Be=m=>{if("function"==typeof m.vtag){const L=Object.assign({},m.vattrs);return m.vkey&&(L.key=m.vkey),m.vname&&(L.name=m.vname),$e(m.vtag,L,...m.vchildren||[])}const w=ht(m.vtag,m.vtext);return w.$attrs$=m.vattrs,w.$children$=m.vchildren,w.$key$=m.vkey,w.$name$=m.vname,w},Ft=(m,w,L,te,Ie,ue,Ke)=>{let qe,et,A,bt;if(1===ue.nodeType){for(qe=ue.getAttribute("c-id"),qe&&(et=qe.split("."),(et[0]===Ke||"0"===et[0])&&(A={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(A),ue.removeAttribute("c-id"),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,m=A,te&&"0"===A.$depth$&&(te[A.$index$]=A.$elm$))),bt=ue.childNodes.length-1;bt>=0;bt--)Ft(m,w,L,te,Ie,ue.childNodes[bt],Ke);if(ue.shadowRoot)for(bt=ue.shadowRoot.childNodes.length-1;bt>=0;bt--)Ft(m,w,L,te,Ie,ue.shadowRoot.childNodes[bt],Ke)}else if(8===ue.nodeType)et=ue.nodeValue.split("."),(et[1]===Ke||"0"===et[1])&&(qe=et[0],A={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===qe?(A.$elm$=ue.nextSibling,A.$elm$&&3===A.$elm$.nodeType&&(A.$text$=A.$elm$.textContent,w.push(A),ue.remove(),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,te&&"0"===A.$depth$&&(te[A.$index$]=A.$elm$))):A.$hostId$===Ke&&("s"===qe?(A.$tag$="slot",ue["s-sn"]=et[5]?A.$name$=et[5]:"",ue["s-sr"]=!0,te&&(A.$elm$=Ar.createElement(A.$tag$),A.$name$&&A.$elm$.setAttribute("name",A.$name$),ue.parentNode.insertBefore(A.$elm$,ue),ue.remove(),"0"===A.$depth$&&(te[A.$index$]=A.$elm$)),L.push(A),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A):"r"===qe&&(te?ue.remove():(Ie["s-cr"]=ue,ue["s-cn"]=!0))));else if(m&&"style"===m.$tag$){const At=ht(null,ue.textContent);At.$elm$=ue,At.$index$="0",m.$children$=[At]}},fe=(m,w)=>{if(1===m.nodeType){let L=0;for(;L<m.childNodes.length;L++)fe(m.childNodes[L],w);if(m.shadowRoot)for(L=0;L<m.shadowRoot.childNodes.length;L++)fe(m.shadowRoot.childNodes[L],w)}else if(8===m.nodeType){const L=m.nodeValue.split(".");"o"===L[0]&&(w.set(L[1]+"."+L[2],m),m.nodeValue="",m["s-en"]=L[3])}},at=m=>Oo.push(m),Ze=m=>Qr(m).$modeName$,Ut=m=>Qr(m).$hostElement$,jt=(m,w,L)=>{const te=Ut(m);return{emit:Ie=>Ee(te,w,{bubbles:!!(4&L),composed:!!(2&L),cancelable:!!(1&L),detail:Ie})}},Ee=(m,w,L)=>{const te=Mn.ce(w,L);return m.dispatchEvent(te),te},be=new WeakMap,_e=(m,w,L)=>{let te=Hr.get(m);Ps&&L?(te=te||new CSSStyleSheet,"string"==typeof te?te=w:te.replaceSync(w)):te=w,Hr.set(m,te)},Je=(m,w,L)=>{var te;const Ie=Pt(w,L),ue=Hr.get(Ie);if(m=11===m.nodeType?m:Ar,ue)if("string"==typeof ue){let qe,Ke=be.get(m=m.head||m);if(Ke||be.set(m,Ke=new Set),!Ke.has(Ie)){if(m.host&&(qe=m.querySelector(`[${le}="${Ie}"]`)))qe.innerHTML=ue;else{qe=Ar.createElement("style"),qe.innerHTML=ue;const et=null!==(te=Mn.$nonce$)&&void 0!==te?te:he(Ar);null!=et&&qe.setAttribute("nonce",et),m.insertBefore(qe,m.querySelector("link"))}4&w.$flags$&&(qe.innerHTML+=Ae),Ke&&Ke.add(Ie)}}else m.adoptedStyleSheets.includes(ue)||(m.adoptedStyleSheets=[...m.adoptedStyleSheets,ue]);return Ie},Pt=(m,w)=>"sc-"+(w&&32&m.$flags$?m.$tagName$+"-"+w:m.$tagName$),un=m=>m.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nn=(m,w,L,te,Ie,ue)=>{if(L!==te){let Ke=Ei(m,w),qe=w.toLowerCase();if("class"===w){const et=m.classList,A=Jt(L),bt=Jt(te);et.remove(...A.filter(At=>At&&!bt.includes(At))),et.add(...bt.filter(At=>At&&!A.includes(At)))}else if("style"===w){for(const et in L)(!te||null==te[et])&&(et.includes("-")?m.style.removeProperty(et):m.style[et]="");for(const et in te)(!L||te[et]!==L[et])&&(et.includes("-")?m.style.setProperty(et,te[et]):m.style[et]=te[et])}else if("key"!==w)if("ref"===w)te&&te(m);else if(Ke||"o"!==w[0]||"n"!==w[1]){const et=U(te);if((Ke||et&&null!==te)&&!Ie)try{if(m.tagName.includes("-"))m[w]=te;else{const bt=te??"";"list"===w?Ke=!1:(null==L||m[w]!=bt)&&(m[w]=bt)}}catch{}let A=!1;qe!==(qe=qe.replace(/^xlink\:?/,""))&&(w=qe,A=!0),null==te||!1===te?(!1!==te||""===m.getAttribute(w))&&(A?m.removeAttributeNS(O,w):m.removeAttribute(w)):(!Ke||4&ue||Ie)&&!et&&(te=!0===te?"":te,A?m.setAttributeNS(O,w,te):m.setAttribute(w,te))}else if(w="-"===w[2]?w.slice(3):Ei(ei,qe)?qe.slice(2):qe[2]+w.slice(3),L||te){const et=w.endsWith(gr);w=w.replace(zn,""),L&&Mn.rel(m,w,L,et),te&&Mn.ael(m,w,te,et)}}},fn=/\s/,Jt=m=>m?m.split(fn):[],gr="Capture",zn=new RegExp(gr+"$"),Ho=(m,w,L,te)=>{const Ie=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ue=m&&m.$attrs$||N,Ke=w.$attrs$||N;for(te in ue)te in Ke||nn(Ie,te,ue[te],void 0,L,w.$flags$);for(te in Ke)nn(Ie,te,ue[te],Ke[te],L,w.$flags$)},So=(m,w,L,te)=>{var Ie;const ue=w.$children$[L];let qe,et,A,Ke=0;if(E||(K=!0,"slot"===ue.$tag$&&(q&&te.classList.add(q+"-s"),ue.$flags$|=ue.$children$?2:1)),null!==ue.$text$)qe=ue.$elm$=Ar.createTextNode(ue.$text$);else if(1&ue.$flags$)qe=ue.$elm$=Ar.createTextNode("");else{if(F||(F="svg"===ue.$tag$),qe=ue.$elm$=Ar.createElementNS(F?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ue.$flags$?"slot-fb":ue.$tag$),F&&"foreignObject"===ue.$tag$&&(F=!1),Ho(null,ue,F),(m=>null!=m)(q)&&qe["s-si"]!==q&&qe.classList.add(qe["s-si"]=q),ue.$children$)for(Ke=0;Ke<ue.$children$.length;++Ke)et=So(m,ue,Ke,qe),et&&qe.appendChild(et);"svg"===ue.$tag$?F=!1:"foreignObject"===qe.tagName&&(F=!0)}return qe["s-hn"]=R,3&ue.$flags$&&(qe["s-sr"]=!0,qe["s-fs"]=null===(Ie=ue.$attrs$)||void 0===Ie?void 0:Ie.slot,qe["s-cr"]=B,qe["s-sn"]=ue.$name$||"",A=m&&m.$children$&&m.$children$[L],A&&A.$tag$===ue.$tag$&&m.$elm$&&wo(m.$elm$,!1)),qe},wo=(m,w)=>{var L;Mn.$flags$|=1;const te=m.childNodes;for(let Ie=te.length-1;Ie>=0;Ie--){const ue=te[Ie];ue["s-hn"]!==R&&ue["s-ol"]&&(go(ue).insertBefore(ue,Wn(ue)),ue["s-ol"].remove(),ue["s-ol"]=void 0,ue["s-sh"]=void 0,1===ue.nodeType&&ue.setAttribute("slot",null!==(L=ue["s-sn"])&&void 0!==L?L:""),K=!0),w&&wo(ue,w)}Mn.$flags$&=-2},Pn=(m,w,L,te,Ie,ue)=>{let qe,Ke=m["s-cr"]&&m["s-cr"].parentNode||m;for(Ke.shadowRoot&&Ke.tagName===R&&(Ke=Ke.shadowRoot);Ie<=ue;++Ie)te[Ie]&&(qe=So(null,L,Ie,m),qe&&(te[Ie].$elm$=qe,Ke.insertBefore(qe,Wn(w))))},$r=(m,w,L)=>{for(let te=w;te<=L;++te){const Ie=m[te];if(Ie){const ue=Ie.$elm$;Cn(Ie),ue&&(I=!0,ue["s-ol"]?ue["s-ol"].remove():wo(ue,!0),ue.remove())}}},ro=(m,w)=>m.$tag$===w.$tag$&&("slot"===m.$tag$?m.$name$===w.$name$:m.$key$===w.$key$),Wn=m=>m&&m["s-ol"]||m,go=m=>(m["s-ol"]?m["s-ol"]:m).parentNode,Br=(m,w)=>{const L=w.$elm$=m.$elm$,te=m.$children$,Ie=w.$children$,ue=w.$tag$,Ke=w.$text$;let qe;null===Ke?(F="svg"===ue||"foreignObject"!==ue&&F,"slot"===ue||Ho(m,w,F),null!==te&&null!==Ie?((m,w,L,te)=>{let Sr,Vr,Ie=0,ue=0,Ke=0,qe=0,et=w.length-1,A=w[0],bt=w[et],At=te.length-1,kt=te[0],Sn=te[At];for(;Ie<=et&&ue<=At;)if(null==A)A=w[++Ie];else if(null==bt)bt=w[--et];else if(null==kt)kt=te[++ue];else if(null==Sn)Sn=te[--At];else if(ro(A,kt))Br(A,kt),A=w[++Ie],kt=te[++ue];else if(ro(bt,Sn))Br(bt,Sn),bt=w[--et],Sn=te[--At];else if(ro(A,Sn))("slot"===A.$tag$||"slot"===Sn.$tag$)&&wo(A.$elm$.parentNode,!1),Br(A,Sn),m.insertBefore(A.$elm$,bt.$elm$.nextSibling),A=w[++Ie],Sn=te[--At];else if(ro(bt,kt))("slot"===A.$tag$||"slot"===Sn.$tag$)&&wo(bt.$elm$.parentNode,!1),Br(bt,kt),m.insertBefore(bt.$elm$,A.$elm$),bt=w[--et],kt=te[++ue];else{for(Ke=-1,qe=Ie;qe<=et;++qe)if(w[qe]&&null!==w[qe].$key$&&w[qe].$key$===kt.$key$){Ke=qe;break}Ke>=0?(Vr=w[Ke],Vr.$tag$!==kt.$tag$?Sr=So(w&&w[ue],L,Ke,m):(Br(Vr,kt),w[Ke]=void 0,Sr=Vr.$elm$),kt=te[++ue]):(Sr=So(w&&w[ue],L,ue,m),kt=te[++ue]),Sr&&go(A.$elm$).insertBefore(Sr,Wn(A.$elm$))}Ie>et?Pn(m,null==te[At+1]?null:te[At+1].$elm$,L,te,ue,At):ue>At&&$r(w,Ie,et)})(L,te,w,Ie):null!==Ie?(null!==m.$text$&&(L.textContent=""),Pn(L,null,w,Ie,0,Ie.length-1)):null!==te&&$r(te,0,te.length-1),F&&"svg"===ue&&(F=!1)):(qe=L["s-cr"])?qe.parentNode.textContent=Ke:m.$text$!==Ke&&(L.data=Ke)},pe=m=>{const w=m.childNodes;for(const L of w)if(1===L.nodeType){if(L["s-sr"]){const te=L["s-sn"];L.hidden=!1;for(const Ie of w)if(Ie!==L)if(Ie["s-hn"]!==L["s-hn"]||""!==te){if(1===Ie.nodeType&&(te===Ie.getAttribute("slot")||te===Ie["s-sn"])){L.hidden=!0;break}}else if(1===Ie.nodeType||3===Ie.nodeType&&""!==Ie.textContent.trim()){L.hidden=!0;break}}pe(L)}},ye=[],ln=m=>{let w,L,te;for(const Ie of m.childNodes){if(Ie["s-sr"]&&(w=Ie["s-cr"])&&w.parentNode){L=w.parentNode.childNodes;const ue=Ie["s-sn"];for(te=L.length-1;te>=0;te--)if(w=L[te],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==Ie["s-hn"])if(hn(w,ue)){let Ke=ye.find(qe=>qe.$nodeToRelocate$===w);I=!0,w["s-sn"]=w["s-sn"]||ue,Ke?(Ke.$nodeToRelocate$["s-sh"]=Ie["s-hn"],Ke.$slotRefNode$=Ie):(w["s-sh"]=Ie["s-hn"],ye.push({$slotRefNode$:Ie,$nodeToRelocate$:w})),w["s-sr"]&&ye.map(qe=>{hn(qe.$nodeToRelocate$,w["s-sn"])&&(Ke=ye.find(et=>et.$nodeToRelocate$===w),Ke&&!qe.$slotRefNode$&&(qe.$slotRefNode$=Ke.$slotRefNode$))})}else ye.some(Ke=>Ke.$nodeToRelocate$===w)||ye.push({$nodeToRelocate$:w})}1===Ie.nodeType&&ln(Ie)}},hn=(m,w)=>1===m.nodeType?null===m.getAttribute("slot")&&""===w||m.getAttribute("slot")===w:m["s-sn"]===w||""===w,Cn=m=>{m.$attrs$&&m.$attrs$.ref&&m.$attrs$.ref(null),m.$children$&&m.$children$.map(Cn)},fo=(m,w)=>{w&&!m.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(L=>m.$onRenderResolve$=L))},tr=(m,w)=>{if(m.$flags$|=16,!(4&m.$flags$))return fo(m,m.$ancestorComponent$),ut(()=>Cr(m,w));m.$flags$|=512},Cr=(m,w)=>{const te=m.$lazyInstance$;let Ie;return w&&(m.$flags$|=256,m.$queuedListeners$&&(m.$queuedListeners$.map(([ue,Ke])=>_r(te,ue,Ke)),m.$queuedListeners$=void 0),Ie=_r(te,"componentWillLoad")),Ie=_o(Ie,()=>_r(te,"componentWillRender")),_o(Ie,()=>Do(m,te,w))},_o=(m,w)=>On(m)?m.then(w):w(),On=m=>m instanceof Promise||m&&m.then&&"function"==typeof m.then,Do=function(){var m=(0,S.Z)(function*(w,L,te){var Ie;const ue=w.$hostElement$,qe=ue["s-rc"];te&&(m=>{const w=m.$cmpMeta$,L=m.$hostElement$,te=w.$flags$,ue=Je(L.shadowRoot?L.shadowRoot:L.getRootNode(),w,m.$modeName$);10&te&&(L["s-sc"]=ue,L.classList.add(ue+"-h"),2&te&&L.classList.add(ue+"-s"))})(w);oo(w,L,ue,te),qe&&(qe.map(A=>A()),ue["s-rc"]=void 0);{const A=null!==(Ie=ue["s-p"])&&void 0!==Ie?Ie:[],bt=()=>Gi(w);0===A.length?bt():(Promise.all(A).then(bt),w.$flags$|=4,A.length=0)}});return function(L,te,Ie){return m.apply(this,arguments)}}(),oo=(m,w,L,te)=>{try{w=w.render&&w.render(),m.$flags$&=-17,m.$flags$|=2,((m,w,L=!1)=>{var te,Ie,ue,Ke;const qe=m.$hostElement$,et=m.$cmpMeta$,A=m.$vnode$||ht(null,null),bt=(m=>m&&m.$tag$===Gt)(w)?w:$e(null,null,w);if(R=qe.tagName,et.$attrsToReflect$&&(bt.$attrs$=bt.$attrs$||{},et.$attrsToReflect$.map(([At,kt])=>bt.$attrs$[kt]=qe[At])),L&&bt.$attrs$)for(const At of Object.keys(bt.$attrs$))qe.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(bt.$attrs$[At]=qe[At]);if(bt.$tag$=null,bt.$flags$|=4,m.$vnode$=bt,bt.$elm$=A.$elm$=qe.shadowRoot||qe,q=qe["s-sc"],B=qe["s-cr"],E=0!=(1&et.$flags$),I=!1,Br(A,bt),Mn.$flags$|=1,K){ln(bt.$elm$);for(const At of ye){const kt=At.$nodeToRelocate$;if(!kt["s-ol"]){const Sn=Ar.createTextNode("");Sn["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=Sn,kt)}}for(const At of ye){const kt=At.$nodeToRelocate$,Sn=At.$slotRefNode$;if(Sn){const Sr=Sn.parentNode;let Vr=Sn.nextSibling;{let zr=null===(te=kt["s-ol"])||void 0===te?void 0:te.previousSibling;for(;zr;){let Kn=null!==(Ie=zr["s-nr"])&&void 0!==Ie?Ie:null;if(Kn&&Kn["s-sn"]===kt["s-sn"]&&Sr===Kn.parentNode&&(Kn=Kn.nextSibling,!Kn||!Kn["s-nr"])){Vr=Kn;break}zr=zr.previousSibling}}(!Vr&&Sr!==kt.parentNode||kt.nextSibling!==Vr)&&kt!==Vr&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Sr.insertBefore(kt,Vr),1===kt.nodeType&&(kt.hidden=null!==(ue=kt["s-ih"])&&void 0!==ue&&ue))}else 1===kt.nodeType&&(L&&(kt["s-ih"]=null!==(Ke=kt.hidden)&&void 0!==Ke&&Ke),kt.hidden=!0)}}I&&pe(bt.$elm$),Mn.$flags$&=-2,ye.length=0})(m,w,te)}catch(Ie){vo(Ie,m.$hostElement$)}return null},Gi=m=>{const L=m.$hostElement$,Ie=m.$lazyInstance$,ue=m.$ancestorComponent$;_r(Ie,"componentDidRender"),64&m.$flags$?_r(Ie,"componentDidUpdate"):(m.$flags$|=64,vr(L),_r(Ie,"componentDidLoad"),m.$onReadyResolve$(L),ue||xn()),m.$onInstanceResolve$(L),m.$onRenderResolve$&&(m.$onRenderResolve$(),m.$onRenderResolve$=void 0),512&m.$flags$&&qi(()=>tr(m,!1)),m.$flags$&=-517},Po=m=>{{const w=Qr(m),L=w.$hostElement$.isConnected;return L&&2==(18&w.$flags$)&&tr(w,!1),L}},xn=m=>{vr(Ar.documentElement),qi(()=>Ee(ei,"appload",{detail:{namespace:"ionic"}}))},_r=(m,w,L)=>{if(m&&m[w])try{return m[w](L)}catch(te){vo(te)}},vr=m=>m.classList.add("hydrated"),di=(m,w,L)=>{var te;const Ie=m.prototype;if(w.$members$){m.watchers&&(w.$watchers$=m.watchers);const ue=Object.entries(w.$members$);if(ue.map(([Ke,[qe]])=>{31&qe||2&L&&32&qe?Object.defineProperty(Ie,Ke,{get(){return((m,w)=>Qr(this).$instanceValues$.get(w))(0,Ke)},set(et){((m,w,L,te)=>{const Ie=Qr(m),ue=Ie.$hostElement$,Ke=Ie.$instanceValues$.get(w),qe=Ie.$flags$,et=Ie.$lazyInstance$;L=((m,w)=>null==m||U(m)?m:4&w?"false"!==m&&(""===m||!!m):2&w?parseFloat(m):1&w?String(m):m)(L,te.$members$[w][0]);const A=Number.isNaN(Ke)&&Number.isNaN(L);if((!(8&qe)||void 0===Ke)&&L!==Ke&&!A&&(Ie.$instanceValues$.set(w,L),et)){if(te.$watchers$&&128&qe){const At=te.$watchers$[w];At&&At.map(kt=>{try{et[kt](L,Ke,w)}catch(Sn){vo(Sn,ue)}})}2==(18&qe)&&tr(Ie,!1)}})(this,Ke,et,w)},configurable:!0,enumerable:!0}):1&L&&64&qe&&Object.defineProperty(Ie,Ke,{value(...et){var A;const bt=Qr(this);return null===(A=bt?.$onInstancePromise$)||void 0===A?void 0:A.then(()=>{var At;return null===(At=bt.$lazyInstance$)||void 0===At?void 0:At[Ke](...et)})}})}),1&L){const Ke=new Map;Ie.attributeChangedCallback=function(qe,et,A){Mn.jmp(()=>{var bt;const At=Ke.get(qe);if(this.hasOwnProperty(At))A=this[At],delete this[At];else{if(Ie.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==A)return;if(null==At){const kt=Qr(this),Sn=kt?.$flags$;if(Sn&&!(8&Sn)&&128&Sn&&A!==et){const Sr=kt.$lazyInstance$,Vr=null===(bt=w.$watchers$)||void 0===bt?void 0:bt[qe];Vr?.forEach(zr=>{null!=Sr[zr]&&Sr[zr].call(Sr,A,et,qe)})}return}}this[At]=(null!==A||"boolean"!=typeof this[At])&&A})},m.observedAttributes=Array.from(new Set([...Object.keys(null!==(te=w.$watchers$)&&void 0!==te?te:{}),...ue.filter(([qe,et])=>15&et[0]).map(([qe,et])=>{var A;const bt=et[1]||qe;return Ke.set(bt,qe),512&et[0]&&(null===(A=w.$attrsToReflect$)||void 0===A||A.push([qe,bt])),bt})]))}}return m},cn=function(){var m=(0,S.Z)(function*(w,L,te,Ie){let ue;if(!(32&L.$flags$)){L.$flags$|=32;{if(ue=zi(te),ue.then){const A=()=>{};ue=yield ue,A()}ue.isProxied||(te.$watchers$=ue.watchers,di(ue,te,2),ue.isProxied=!0);const et=()=>{};L.$flags$|=8;try{new ue(L)}catch(A){vo(A)}L.$flags$&=-9,L.$flags$|=128,et(),Jo(L.$lazyInstance$)}if(ue.style){let et=ue.style;"string"!=typeof et&&(et=et[L.$modeName$=(m=>Oo.map(w=>w(m)).find(w=>!!w))(w)]);const A=Pt(te,L.$modeName$);if(!Hr.has(A)){const bt=()=>{};_e(A,et,!!(1&te.$flags$)),bt()}}}const Ke=L.$ancestorComponent$,qe=()=>tr(L,!0);Ke&&Ke["s-rc"]?Ke["s-rc"].push(qe):qe()});return function(L,te,Ie,ue){return m.apply(this,arguments)}}(),Jo=m=>{_r(m,"connectedCallback")},fi=m=>{const w=m["s-cr"]=Ar.createComment("");w["s-cn"]=!0,m.insertBefore(w,m.firstChild)},pi=m=>{_r(m,"disconnectedCallback")},ae=function(){var m=(0,S.Z)(function*(w){if(!(1&Mn.$flags$)){const L=Qr(w);L.$rmListeners$&&(L.$rmListeners$.map(te=>te()),L.$rmListeners$=void 0),L?.$lazyInstance$?pi(L.$lazyInstance$):L?.$onReadyPromise$&&L.$onReadyPromise$.then(()=>pi(L.$lazyInstance$))}});return function(L){return m.apply(this,arguments)}}(),Di=(m,w={})=>{var L;const Ie=[],ue=w.exclude||[],Ke=ei.customElements,qe=Ar.head,et=qe.querySelector("meta[charset]"),A=Ar.createElement("style"),bt=[],At=Ar.querySelectorAll(`[${le}]`);let kt,Sn=!0,Sr=0;for(Object.assign(Mn,w),Mn.$resourcesUrl$=new URL(w.resourcesUrl||"./",Ar.baseURI).href,Mn.$flags$|=2;Sr<At.length;Sr++)_e(At[Sr].getAttribute(le),un(At[Sr].innerHTML),!0);let Vr=!1;if(m.map(zr=>{zr[1].map(Kn=>{var Yi;const Bn={$flags$:Kn[0],$tagName$:Kn[1],$members$:Kn[2],$listeners$:Kn[3]};4&Bn.$flags$&&(Vr=!0),Bn.$members$=Kn[2],Bn.$listeners$=Kn[3],Bn.$attrsToReflect$=[],Bn.$watchers$=null!==(Yi=Kn[4])&&void 0!==Yi?Yi:{};const No=Bn.$tagName$,Io=class extends HTMLElement{constructor(Ki){super(Ki),Xs(Ki=this,Bn),1&Bn.$flags$&&Ki.attachShadow({mode:"open",delegatesFocus:!!(16&Bn.$flags$)})}connectedCallback(){kt&&(clearTimeout(kt),kt=null),Sn?bt.push(this):Mn.jmp(()=>(m=>{if(!(1&Mn.$flags$)){const w=Qr(m),L=w.$cmpMeta$,te=()=>{};if(1&w.$flags$)zo(m,w,L.$listeners$),w?.$lazyInstance$?Jo(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>Jo(w.$lazyInstance$));else{let Ie;if(w.$flags$|=1,Ie=m.getAttribute(J),Ie){if(1&L.$flags$){const ue=Je(m.shadowRoot,L,m.getAttribute("s-mode"));m.classList.remove(ue+"-h",ue+"-s")}((m,w,L,te)=>{const ue=m.shadowRoot,Ke=[],et=ue?[]:null,A=te.$vnode$=ht(w,null);Mn.$orgLocNodes$||fe(Ar.body,Mn.$orgLocNodes$=new Map),m[J]=L,m.removeAttribute(J),Ft(A,Ke,[],et,m,m,L),Ke.map(bt=>{const At=bt.$hostId$+"."+bt.$nodeId$,kt=Mn.$orgLocNodes$.get(At),Sn=bt.$elm$;kt&&Js&&""===kt["s-en"]&&kt.parentNode.insertBefore(Sn,kt.nextSibling),ue||(Sn["s-hn"]=w,kt&&(Sn["s-ol"]=kt,Sn["s-ol"]["s-nr"]=Sn)),Mn.$orgLocNodes$.delete(At)}),ue&&et.map(bt=>{bt&&ue.appendChild(bt)})})(m,L.$tagName$,Ie,w)}Ie||12&L.$flags$&&fi(m);{let ue=m;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){fo(w,w.$ancestorComponent$=ue);break}}L.$members$&&Object.entries(L.$members$).map(([ue,[Ke]])=>{if(31&Ke&&m.hasOwnProperty(ue)){const qe=m[ue];delete m[ue],m[ue]=qe}}),cn(m,w,L)}te()}})(this))}disconnectedCallback(){Mn.jmp(()=>ae(this))}componentOnReady(){return Qr(this).$onReadyPromise$}};Bn.$lazyBundleId$=zr[0],!ue.includes(No)&&!Ke.get(No)&&(Ie.push(No),Ke.define(No,di(Io,Bn,1)))})}),Vr&&(A.innerHTML+=Ae),A.innerHTML+=Ie+"{visibility:hidden}.hydrated{visibility:inherit}",A.innerHTML.length){A.setAttribute("data-styles","");const zr=null!==(L=Mn.$nonce$)&&void 0!==L?L:he(Ar);null!=zr&&A.setAttribute("nonce",zr),qe.insertBefore(A,et?et.nextSibling:qe.firstChild)}Sn=!1,bt.length?bt.map(zr=>zr.connectedCallback()):Mn.jmp(()=>kt=setTimeout(xn,30))},zo=(m,w,L,te)=>{L&&L.map(([Ie,ue,Ke])=>{const qe=li(m,Ie),et=Eo(w,Ke),A=Rs(Ie);Mn.ael(qe,ue,et,A),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Mn.rel(qe,ue,et,A))})},Eo=(m,w)=>L=>{try{256&m.$flags$?m.$lazyInstance$[w](L):(m.$queuedListeners$=m.$queuedListeners$||[]).push([w,L])}catch(te){vo(te)}},li=(m,w)=>4&w?Ar:8&w?ei:16&w?Ar.body:m,Rs=m=>0!=(2&m),Ui=new WeakMap,Qr=m=>Ui.get(m),Hi=(m,w)=>Ui.set(w.$lazyInstance$=m,w),Xs=(m,w)=>{const L={$flags$:0,$hostElement$:m,$cmpMeta$:w,$instanceValues$:new Map};return L.$onInstancePromise$=new Promise(te=>L.$onInstanceResolve$=te),L.$onReadyPromise$=new Promise(te=>L.$onReadyResolve$=te),m["s-p"]=[],m["s-rc"]=[],zo(m,L,w.$listeners$),Ui.set(m,L)},Ei=(m,w)=>w in m,vo=(m,w)=>(0,console.error)(m,w),Ii=new Map,zi=(m,w,L)=>{const te=m.$tagName$.replace(/-/g,"_"),Ie=m.$lazyBundleId$,ue=Ii.get(Ie);return ue?ue[te]:C(863)(`./${Ie}.entry.js`).then(Ke=>(Ii.set(Ie,Ke),Ke[te]),vo)},Hr=new Map,Oo=[],ei=typeof window<"u"?window:{},Ar=ei.document||{head:{}},Mn={$flags$:0,$resourcesUrl$:"",jmp:m=>m(),raf:m=>requestAnimationFrame(m),ael:(m,w,L,te)=>m.addEventListener(w,L,te),rel:(m,w,L,te)=>m.removeEventListener(w,L,te),ce:(m,w)=>new CustomEvent(m,w)},Qs=m=>{Object.assign(Mn,m)},Js=!0,Ps=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),us=[],ds=[],nt=(m,w)=>L=>{m.push(L),k||(k=!0,w&&4&Mn.$flags$?qi(Zi):Mn.raf(Zi))},fs=m=>{for(let w=0;w<m.length;w++)try{m[w](performance.now())}catch(L){vo(L)}m.length=0},Zi=()=>{fs(us),fs(ds),(k=us.length>0)&&Mn.raf(Zi)},qi=m=>Promise.resolve(void 0).then(m),ps=nt(us,!1),ut=nt(ds,!0)},5194:(ge,Ce,C)=>{"use strict";C.d(Ce,{a:()=>k,b:()=>ht,c:()=>H,i:()=>Gt});var S=C(3426);class u{constructor(){this.m=new Map}reset(ze){this.m=new Map(Object.entries(ze))}get(ze,ke){const Be=this.m.get(ze);return void 0!==Be?Be:ke}getBoolean(ze,ke=!1){const Be=this.m.get(ze);return void 0===Be?ke:"string"==typeof Be?"true"===Be:!!Be}getNumber(ze,ke){const Be=parseFloat(this.m.get(ze));return isNaN(Be)?void 0!==ke?ke:NaN:Be}set(ze,ke){this.m.set(ze,ke)}}const H=new u,I="ionic:",K="ionic-persist-config",k=(Oe,ze)=>("string"==typeof Oe&&(ze=Oe,Oe=void 0),(Oe=>P(Oe))(Oe).includes(ze)),P=(Oe=window)=>{if(typeof Oe>"u")return[];Oe.Ionic=Oe.Ionic||{};let ze=Oe.Ionic.platforms;return null==ze&&(ze=Oe.Ionic.platforms=T(Oe),ze.forEach(ke=>Oe.document.documentElement.classList.add(`plt-${ke}`))),ze},T=Oe=>{const ze=H.get("platform");return Object.keys(he).filter(ke=>{const Be=ze?.[ke];return"function"==typeof Be?Be(Oe):he[ke](Oe)})},de=Oe=>!!(X(Oe,/iPad/i)||X(Oe,/Macintosh/i)&&ie(Oe)),G=Oe=>X(Oe,/android|sink/i),ie=Oe=>U(Oe,"(any-pointer:coarse)"),Ae=Oe=>O(Oe)||N(Oe),O=Oe=>!!(Oe.cordova||Oe.phonegap||Oe.PhoneGap),N=Oe=>{const ze=Oe.Capacitor;return!!ze?.isNative},X=(Oe,ze)=>ze.test(Oe.navigator.userAgent),U=(Oe,ze)=>{var ke;return null===(ke=Oe.matchMedia)||void 0===ke?void 0:ke.call(Oe,ze).matches},he={ipad:de,iphone:Oe=>X(Oe,/iPhone/i),ios:Oe=>X(Oe,/iPhone|iPod/i)||de(Oe),android:G,phablet:Oe=>{const ze=Oe.innerWidth,ke=Oe.innerHeight,Be=Math.min(ze,ke),st=Math.max(ze,ke);return Be>390&&Be<520&&st>620&&st<800},tablet:Oe=>{const ze=Oe.innerWidth,ke=Oe.innerHeight,Be=Math.min(ze,ke),st=Math.max(ze,ke);return de(Oe)||(Oe=>G(Oe)&&!X(Oe,/mobile/i))(Oe)||Be>460&&Be<820&&st>780&&st<1400},cordova:O,capacitor:N,electron:Oe=>X(Oe,/electron/i),pwa:Oe=>{var ze;return!!(null!==(ze=Oe.matchMedia)&&void 0!==ze&&ze.call(Oe,"(display-mode: standalone)").matches||Oe.navigator.standalone)},mobile:ie,mobileweb:Oe=>ie(Oe)&&!Ae(Oe),desktop:Oe=>!ie(Oe),hybrid:Ae};let $e;const ht=Oe=>Oe&&(0,S.g)(Oe)||$e,Gt=(Oe={})=>{if(typeof window>"u")return;const ze=window.document,ke=window,Be=ke.Ionic=ke.Ionic||{},st={};Oe._ael&&(st.ael=Oe._ael),Oe._rel&&(st.rel=Oe._rel),Oe._ce&&(st.ce=Oe._ce),(0,S.a)(st);const Ft=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Oe=>{try{const ze=Oe.sessionStorage.getItem(K);return null!==ze?JSON.parse(ze):{}}catch{return{}}})(ke)),{persistConfig:!1}),Be.config),(Oe=>{const ze={};return Oe.location.search.slice(1).split("&").map(ke=>ke.split("=")).map(([ke,Be])=>[decodeURIComponent(ke),decodeURIComponent(Be)]).filter(([ke])=>((Oe,ze)=>Oe.substr(0,ze.length)===ze)(ke,I)).map(([ke,Be])=>[ke.slice(6),Be]).forEach(([ke,Be])=>{ze[ke]=Be}),ze})(ke)),Oe);H.reset(Ft),H.getBoolean("persistConfig")&&((Oe,ze)=>{try{Oe.sessionStorage.setItem(K,JSON.stringify(ze))}catch{return}})(ke,Ft),P(ke),Be.config=H,Be.mode=$e=H.get("mode",ze.documentElement.getAttribute("mode")||(k(ke,"ios")?"ios":"md")),H.set("mode",$e),ze.documentElement.setAttribute("mode",$e),ze.documentElement.classList.add($e),H.getBoolean("_testing")&&H.set("animated",!1);const fe=at=>{var Ze;return null===(Ze=at.tagName)||void 0===Ze?void 0:Ze.startsWith("ION-")},Ge=at=>["ios","md"].includes(at);(0,S.c)(at=>{for(;at;){const Ze=at.mode||at.getAttribute("mode");if(Ze){if(Ge(Ze))return Ze;fe(at)&&console.warn('Invalid ionic mode: "'+Ze+'", expected: "ios" or "md"')}at=at.parentElement}return $e})}},5444:(ge,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{iosTransitionAnimation:()=>T,shadow:()=>E});var S=C(2723),u=C(8044);C(6940),C(3426);const R=de=>document.querySelector(`${de}.ion-cloned-element`),E=de=>de.shadowRoot||de,I=de=>{const ve="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),oe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ve){const G=ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=G?G.querySelector(oe):null}return de.querySelector(oe)},K=(de,ve)=>{const oe="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let G=[];if(null!=oe){const M=oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=M&&(G=M.querySelectorAll("ion-buttons"))}else G=de.querySelectorAll("ion-buttons");for(const M of G){const J=M.closest("ion-header"),le=J&&!J.classList.contains("header-collapse-condense-inactive"),ie=M.querySelector("ion-back-button"),we=M.classList.contains("buttons-collapse");if(null!==ie&&("start"===M.slot||""===M.slot)&&(we&&le&&ve||!we))return ie}return null},k=(de,ve,oe,G,M,J,le,ie,we)=>{var Ae,O;const N=ve?`calc(100% - ${M.right+4}px)`:M.left-4+"px",ee=ve?"right":"left",D=ve?"left":"right",X=ve?"right":"left",U=(null===(Ae=J.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(O=ie.textContent)||void 0===O?void 0:O.trim()),$e=(we.height-$)/le.height,ht=U?`scale(${we.width/le.width}, ${$e})`:`scale(${$e})`,Gt="scale(1)",ze=E(G).querySelector("ion-icon").getBoundingClientRect(),ke=ve?ze.width/2-(ze.right-M.right)+"px":M.left-ze.width/2+"px",Be=ve?`-${window.innerWidth-M.right}px`:`${M.left}px`,st=`${we.top}px`,Ft=`${M.top}px`,at=oe?[{offset:0,transform:`translate3d(${Be}, ${Ft}, 0)`},{offset:1,transform:`translate3d(${ke}, ${st}, 0)`}]:[{offset:0,transform:`translate3d(${ke}, ${st}, 0)`},{offset:1,transform:`translate3d(${Be}, ${Ft}, 0)`}],Ut=oe?[{offset:0,opacity:1,transform:Gt},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Gt}],be=oe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],_e=(0,S.c)(),Je=(0,S.c)(),vt=(0,S.c)(),Pt=R("ion-back-button"),un=E(Pt).querySelector(".button-text"),nn=E(Pt).querySelector("ion-icon");Pt.text=G.text,Pt.mode=G.mode,Pt.icon=G.icon,Pt.color=G.color,Pt.disabled=G.disabled,Pt.style.setProperty("display","block"),Pt.style.setProperty("position","fixed"),Je.addElement(nn),_e.addElement(un),vt.addElement(Pt),vt.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(at),_e.beforeStyles({"transform-origin":`${ee} top`}).beforeAddWrite(()=>{G.style.setProperty("display","none"),Pt.style.setProperty(ee,N)}).afterAddWrite(()=>{G.style.setProperty("display",""),Pt.style.setProperty("display","none"),Pt.style.removeProperty(ee)}).keyframes(Ut),Je.beforeStyles({"transform-origin":`${D} center`}).keyframes(be),de.addAnimation([_e,Je,vt])},P=(de,ve,oe,G,M,J,le,ie)=>{var we,Ae;const O=ve?"right":"left",N=ve?`calc(100% - ${M.right}px)`:`${M.left}px`,D=`${M.top}px`,U=ve?`-${window.innerWidth-ie.right-8}px`:ie.x-8+"px",$e=ie.y-2+"px",ht=(null===(we=le.textContent)||void 0===we?void 0:we.trim())===(null===(Ae=G.textContent)||void 0===Ae?void 0:Ae.trim()),Oe=ie.height/(J.height-$),ze="scale(1)",ke=ht?`scale(${ie.width/J.width}, ${Oe})`:`scale(${Oe})`,Ft=oe?[{offset:0,opacity:0,transform:`translate3d(${U}, ${$e}, 0) ${ke}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${D}, 0) ${ze}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${D}, 0) ${ze}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${U}, ${$e}, 0) ${ke}`}],fe=R("ion-title"),Ge=(0,S.c)();fe.innerText=G.innerText,fe.size=G.size,fe.color=G.color,Ge.addElement(fe),Ge.beforeStyles({"transform-origin":`${O} top`,height:`${M.height}px`,display:"",position:"relative",[O]:N}).beforeAddWrite(()=>{G.style.setProperty("opacity","0")}).afterAddWrite(()=>{G.style.setProperty("opacity",""),fe.style.setProperty("display","none")}).keyframes(Ft),de.addAnimation(Ge)},T=(de,ve)=>{var oe;try{const G="cubic-bezier(0.32,0.72,0,1)",M="opacity",J="transform",le="0%",we="rtl"===de.ownerDocument.dir,Ae=we?"-99.5%":"99.5%",O=we?"33%":"-33%",N=ve.enteringEl,ee=ve.leavingEl,D="back"===ve.direction,X=N.querySelector(":scope > ion-content"),U=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),he=N.querySelectorAll(":scope > ion-header > ion-toolbar"),$e=(0,S.c)(),ht=(0,S.c)();if($e.addElement(N).duration((null!==(oe=ve.duration)&&void 0!==oe?oe:0)||540).easing(ve.easing||G).fill("both").beforeRemoveClass("ion-page-invisible"),ee&&null!=de){const ke=(0,S.c)();ke.addElement(de),$e.addAnimation(ke)}if(X||0!==he.length||0!==U.length?(ht.addElement(X),ht.addElement(U)):ht.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$e.addAnimation(ht),D?ht.beforeClearStyles([M]).fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.8,1):ht.beforeClearStyles([M]).fromTo("transform",`translateX(${Ae})`,`translateX(${le})`),X){const ke=E(X).querySelector(".transition-effect");if(ke){const Be=ke.querySelector(".transition-cover"),st=ke.querySelector(".transition-shadow"),Ft=(0,S.c)(),fe=(0,S.c)(),Ge=(0,S.c)();Ft.addElement(ke).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fe.addElement(Be).beforeClearStyles([M]).fromTo(M,0,.1),Ge.addElement(st).beforeClearStyles([M]).fromTo(M,.03,.7),Ft.addAnimation([fe,Ge]),ht.addAnimation([Ft])}}const Gt=N.querySelector("ion-header.header-collapse-condense"),{forward:Oe,backward:ze}=((de,ve,oe,G,M)=>{const J=K(G,oe),le=I(M),ie=I(G),we=K(M,oe),Ae=null!==J&&null!==le&&!oe,O=null!==ie&&null!==we&&oe;if(Ae){const N=le.getBoundingClientRect(),ee=J.getBoundingClientRect(),D=E(J).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(le).querySelector(".toolbar-title").getBoundingClientRect();P(de,ve,oe,le,N,he,D,X),k(de,ve,oe,J,ee,D,X,le,he)}else if(O){const N=ie.getBoundingClientRect(),ee=we.getBoundingClientRect(),D=E(we).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(ie).querySelector(".toolbar-title").getBoundingClientRect();P(de,ve,oe,ie,N,he,D,X),k(de,ve,oe,we,ee,D,X,ie,he)}return{forward:Ae,backward:O}})($e,we,D,N,ee);if(he.forEach(ke=>{const Be=(0,S.c)();Be.addElement(ke),$e.addAnimation(Be);const st=(0,S.c)();st.addElement(ke.querySelector("ion-title"));const Ft=(0,S.c)(),fe=Array.from(ke.querySelectorAll("ion-buttons,[menuToggle]")),Ge=ke.closest("ion-header"),at=Ge?.classList.contains("header-collapse-condense-inactive");let Ze;Ze=fe.filter(D?be=>{const _e=be.classList.contains("buttons-collapse");return _e&&!at||!_e}:be=>!be.classList.contains("buttons-collapse")),Ft.addElement(Ze);const Ct=(0,S.c)();Ct.addElement(ke.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ut=(0,S.c)();Ut.addElement(E(ke).querySelector(".toolbar-background"));const jt=(0,S.c)(),Ee=ke.querySelector("ion-back-button");if(Ee&&jt.addElement(Ee),Be.addAnimation([st,Ft,Ct,Ut,jt]),Ft.fromTo(M,.01,1),Ct.fromTo(M,.01,1),D)at||st.fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.01,1),Ct.fromTo("transform",`translateX(${O})`,`translateX(${le})`),jt.fromTo(M,.01,1);else if(Gt||st.fromTo("transform",`translateX(${Ae})`,`translateX(${le})`).fromTo(M,.01,1),Ct.fromTo("transform",`translateX(${Ae})`,`translateX(${le})`),Ut.beforeClearStyles([M,"transform"]),Ge?.translucent?Ut.fromTo("transform",we?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ut.fromTo(M,.01,"var(--opacity)"),Oe||jt.fromTo(M,.01,1),Ee&&!Oe){const _e=(0,S.c)();_e.addElement(E(Ee).querySelector(".button-text")).fromTo("transform",we?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Be.addAnimation(_e)}}),ee){const ke=(0,S.c)(),Be=ee.querySelector(":scope > ion-content"),st=ee.querySelectorAll(":scope > ion-header > ion-toolbar"),Ft=ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Be||0!==st.length||0!==Ft.length?(ke.addElement(Be),ke.addElement(Ft)):ke.addElement(ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$e.addAnimation(ke),D){ke.beforeClearStyles([M]).fromTo("transform",`translateX(${le})`,we?"translateX(-100%)":"translateX(100%)");const fe=(0,u.g)(ee);$e.afterAddWrite(()=>{"normal"===$e.getDirection()&&fe.style.setProperty("display","none")})}else ke.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,1,.8);if(Be){const fe=E(Be).querySelector(".transition-effect");if(fe){const Ge=fe.querySelector(".transition-cover"),at=fe.querySelector(".transition-shadow"),Ze=(0,S.c)(),Ct=(0,S.c)(),Ut=(0,S.c)();Ze.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ct.addElement(Ge).beforeClearStyles([M]).fromTo(M,.1,0),Ut.addElement(at).beforeClearStyles([M]).fromTo(M,.7,.03),Ze.addAnimation([Ct,Ut]),ke.addAnimation([Ze])}}st.forEach(fe=>{const Ge=(0,S.c)();Ge.addElement(fe);const at=(0,S.c)();at.addElement(fe.querySelector("ion-title"));const Ze=(0,S.c)(),Ct=fe.querySelectorAll("ion-buttons,[menuToggle]"),Ut=fe.closest("ion-header"),jt=Ut?.classList.contains("header-collapse-condense-inactive"),Ee=Array.from(Ct).filter(un=>{const nn=un.classList.contains("buttons-collapse");return nn&&!jt||!nn});Ze.addElement(Ee);const be=(0,S.c)(),_e=fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");_e.length>0&&be.addElement(_e);const Je=(0,S.c)();Je.addElement(E(fe).querySelector(".toolbar-background"));const vt=(0,S.c)(),Pt=fe.querySelector("ion-back-button");if(Pt&&vt.addElement(Pt),Ge.addAnimation([at,Ze,be,vt,Je]),$e.addAnimation(Ge),vt.fromTo(M,.99,0),Ze.fromTo(M,.99,0),be.fromTo(M,.99,0),D){if(jt||at.fromTo("transform",`translateX(${le})`,we?"translateX(-100%)":"translateX(100%)").fromTo(M,.99,0),be.fromTo("transform",`translateX(${le})`,we?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([M,"transform"]),Ut?.translucent?Je.fromTo("transform","translateX(0px)",we?"translateX(-100%)":"translateX(100%)"):Je.fromTo(M,"var(--opacity)",0),Pt&&!ze){const nn=(0,S.c)();nn.addElement(E(Pt).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(we?-124:124)+"px"})`),Ge.addAnimation(nn)}}else jt||at.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,.99,0).afterClearStyles([J,M]),be.fromTo("transform",`translateX(${le})`,`translateX(${O})`).afterClearStyles([J,M]),vt.afterClearStyles([M]),at.afterClearStyles([M]),Ze.afterClearStyles([M])})}return $e}catch(G){throw G}},$=10},5922:(ge,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{mdTransitionAnimation:()=>B});var S=C(2723),u=C(8044);C(6940),C(3426);const B=(R,E)=>{var I,K,F;const k="40px",T="back"===E.direction,de=E.leavingEl,ve=(0,u.g)(E.enteringEl),oe=ve.querySelector("ion-toolbar"),G=(0,S.c)();if(G.addElement(ve).fill("both").beforeRemoveClass("ion-page-invisible"),T?G.duration((null!==(I=E.duration)&&void 0!==I?I:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):G.duration((null!==(K=E.duration)&&void 0!==K?K:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${k})`,"translateY(0px)").fromTo("opacity",.01,1),oe){const M=(0,S.c)();M.addElement(oe),G.addAnimation(M)}if(de&&T){G.duration((null!==(F=E.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const M=(0,S.c)();M.addElement((0,u.g)(de)).onFinish(J=>{1===J&&M.elements.length>0&&M.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${k})`).fromTo("opacity",1,0),G.addAnimation(M)}return G}},7261:(ge,Ce,C)=>{"use strict";C.d(Ce,{B:()=>at,G:()=>Ze,O:()=>Ct,a:()=>P,b:()=>T,c:()=>oe,d:()=>Ut,e:()=>jt,f:()=>ht,g:()=>Oe,h:()=>Be,i:()=>Ft,j:()=>M,k:()=>J,l:()=>$,m:()=>de,n:()=>F,o:()=>we,q:()=>he,s:()=>Ge});var S=C(3918),u=C(6940),H=C(5194),q=C(8573),B=C(1940),R=C(4675),E=C(6240);let I=0,K=0;const F=new WeakMap,k=Ee=>({create:be=>le(Ee,be),dismiss:(be,_e,Je)=>D(document,be,_e,Ee,Je),getTop:()=>(0,S.Z)(function*(){return he(document,Ee)})()}),P=k("ion-alert"),T=k("ion-action-sheet"),$=k("ion-loading"),de=k("ion-modal"),oe=k("ion-popover"),M=Ee=>{typeof document<"u"&&ee(document);const be=I++;Ee.overlayIndex=be},J=Ee=>(Ee.hasAttribute("id")||(Ee.id="ion-overlay-"+ ++K),Ee.id),le=(Ee,be)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ee).then(()=>{const _e=document.createElement(Ee);return _e.classList.add("overlay-hidden"),Object.assign(_e,Object.assign(Object.assign({},be),{hasController:!0})),ze(document).appendChild(_e),new Promise(Je=>(0,R.c)(_e,Je))}):Promise.resolve(),ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',we=(Ee,be)=>{let _e=Ee.querySelector(ie);const Je=_e?.shadowRoot;Je&&(_e=Je.querySelector(ie)||_e),_e?(0,R.f)(_e):be.focus()},O=(Ee,be)=>{const _e=Array.from(Ee.querySelectorAll(ie));let Je=_e.length>0?_e[_e.length-1]:null;const vt=Je?.shadowRoot;vt&&(Je=vt.querySelector(ie)||Je),Je?Je.focus():be.focus()},ee=Ee=>{0===I&&(I=1,Ee.addEventListener("focus",be=>{((Ee,be)=>{const _e=he(be,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=Ee.target;_e&&Je&&!_e.classList.contains("ion-disable-focus-trap")&&(_e.shadowRoot?(()=>{if(_e.contains(Je))_e.lastFocus=Je;else{const un=_e.lastFocus;we(_e,_e),un===be.activeElement&&O(_e,_e),_e.lastFocus=be.activeElement}})():(()=>{if(_e===Je)_e.lastFocus=void 0;else{const un=(0,R.g)(_e);if(!un.contains(Je))return;const nn=un.querySelector(".ion-overlay-wrapper");if(!nn)return;if(nn.contains(Je)||Je===un.querySelector("ion-backdrop"))_e.lastFocus=Je;else{const fn=_e.lastFocus;we(nn,_e),fn===be.activeElement&&O(nn,_e),_e.lastFocus=be.activeElement}}})())})(be,Ee)},!0),Ee.addEventListener("ionBackButton",be=>{const _e=he(Ee);_e?.backdropDismiss&&be.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>_e.dismiss(void 0,at))}),Ee.addEventListener("keydown",be=>{if("Escape"===be.key){const _e=he(Ee);_e?.backdropDismiss&&_e.dismiss(void 0,at)}}))},D=(Ee,be,_e,Je,vt)=>{const Pt=he(Ee,Je,vt);return Pt?Pt.dismiss(be,_e):Promise.reject("overlay does not exist")},U=(Ee,be)=>((Ee,be)=>(void 0===be&&(be="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ee.querySelectorAll(be)).filter(_e=>_e.overlayIndex>0)))(Ee,be).filter(_e=>!(Ee=>Ee.classList.contains("overlay-hidden"))(_e)),he=(Ee,be,_e)=>{const Je=U(Ee,be);return void 0===_e?Je[Je.length-1]:Je.find(vt=>vt.id===_e)},$e=(Ee=!1)=>{const _e=ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");_e&&(Ee?_e.setAttribute("aria-hidden","true"):_e.removeAttribute("aria-hidden"))},ht=function(){var Ee=(0,S.Z)(function*(be,_e,Je,vt,Pt){var un,nn;if(be.presented)return;$e(!0),be.presented=!0,be.willPresent.emit(),null===(un=be.willPresentShorthand)||void 0===un||un.emit();const fn=(0,H.b)(be),Jt=be.enterAnimation?be.enterAnimation:H.c.get(_e,"ios"===fn?Je:vt);(yield ke(be,Jt,be.el,Pt))&&(be.didPresent.emit(),null===(nn=be.didPresentShorthand)||void 0===nn||nn.emit()),"ION-TOAST"!==be.el.tagName&&Gt(be.el),be.keyboardClose&&(null===document.activeElement||!be.el.contains(document.activeElement))&&be.el.focus()});return function(_e,Je,vt,Pt,un){return Ee.apply(this,arguments)}}(),Gt=function(){var Ee=(0,S.Z)(function*(be){let _e=document.activeElement;if(!_e)return;const Je=_e?.shadowRoot;Je&&(_e=Je.querySelector(ie)||_e),yield be.onDidDismiss(),_e.focus()});return function(_e){return Ee.apply(this,arguments)}}(),Oe=function(){var Ee=(0,S.Z)(function*(be,_e,Je,vt,Pt,un,nn){var fn,Jt;if(!be.presented)return!1;void 0!==u.d&&1===U(u.d).length&&$e(!1),be.presented=!1;try{be.el.style.setProperty("pointer-events","none"),be.willDismiss.emit({data:_e,role:Je}),null===(fn=be.willDismissShorthand)||void 0===fn||fn.emit({data:_e,role:Je});const gr=(0,H.b)(be),zn=be.leaveAnimation?be.leaveAnimation:H.c.get(vt,"ios"===gr?Pt:un);Je!==Ze&&(yield ke(be,zn,be.el,nn)),be.didDismiss.emit({data:_e,role:Je}),null===(Jt=be.didDismissShorthand)||void 0===Jt||Jt.emit({data:_e,role:Je}),F.delete(be),be.el.classList.add("overlay-hidden"),be.el.style.removeProperty("pointer-events"),void 0!==be.el.lastFocus&&(be.el.lastFocus=void 0)}catch(gr){console.error(gr)}return be.el.remove(),!0});return function(_e,Je,vt,Pt,un,nn,fn){return Ee.apply(this,arguments)}}(),ze=Ee=>Ee.querySelector("ion-app")||Ee.body,ke=function(){var Ee=(0,S.Z)(function*(be,_e,Je,vt){Je.classList.remove("overlay-hidden");const un=_e(be.el,vt);(!be.animated||!H.c.getBoolean("animated",!0))&&un.duration(0),be.keyboardClose&&un.beforeAddWrite(()=>{const fn=Je.ownerDocument.activeElement;fn?.matches("input,ion-input, ion-textarea")&&fn.blur()});const nn=F.get(be)||[];return F.set(be,[...nn,un]),yield un.play(),!0});return function(_e,Je,vt,Pt){return Ee.apply(this,arguments)}}(),Be=(Ee,be)=>{let _e;const Je=new Promise(vt=>_e=vt);return st(Ee,be,vt=>{_e(vt.detail)}),Je},st=(Ee,be,_e)=>{const Je=vt=>{(0,R.b)(Ee,be,Je),_e(vt)};(0,R.a)(Ee,be,Je)},Ft=Ee=>"cancel"===Ee||Ee===at,fe=Ee=>Ee(),Ge=(Ee,be)=>{if("function"==typeof Ee)return H.c.get("_zoneGate",fe)(()=>{try{return Ee(be)}catch(Je){throw Je}})},at="backdrop",Ze="gesture",Ct=39,Ut=Ee=>{let _e,be=!1;const Je=(0,q.C)(),vt=(nn=!1)=>{if(_e&&!nn)return{delegate:_e,inline:be};const{el:fn,hasController:Jt,delegate:gr}=Ee;return be=null!==fn.parentNode&&!Jt,_e=be?gr||Je:gr,{inline:be,delegate:_e}};return{attachViewToDom:function(){var nn=(0,S.Z)(function*(fn){const{delegate:Jt}=vt(!0);if(Jt)return yield Jt.attachViewToDom(Ee.el,fn);const{hasController:gr}=Ee;if(gr&&void 0!==fn)throw new Error("framework delegate is missing");return null});return function(Jt){return nn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:nn}=vt();nn&&void 0!==Ee.el&&nn.removeViewFromDom(Ee.el.parentElement,Ee.el)}}},jt=()=>{let Ee;const be=()=>{Ee&&(Ee(),Ee=void 0)};return{addClickListener:(Je,vt)=>{be();const Pt=void 0!==vt?document.getElementById(vt):null;Pt?Ee=((nn,fn)=>{const Jt=()=>{fn.present()};return nn.addEventListener("click",Jt),()=>{nn.removeEventListener("click",Jt)}})(Pt,Je):(0,E.p)(`A trigger element with the ID "${vt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:be}}},2410:(ge,Ce,C)=>{"use strict";var u=C(1491)("ArrayBuffer.prototype.byteLength",!0),H=C(9850);ge.exports=function(B){return H(B)?u?u(B):B.byteLength:NaN}},1491:(ge,Ce,C)=>{"use strict";var S=C(3485),u=C(1773),H=u(S("String.prototype.indexOf"));ge.exports=function(B,R){var E=S(B,!!R);return"function"==typeof E&&H(B,".prototype.")>-1?u(E):E}},1773:(ge,Ce,C)=>{"use strict";var S=C(8956),u=C(3485),H=C(3931),q=u("%TypeError%"),B=u("%Function.prototype.apply%"),R=u("%Function.prototype.call%"),E=u("%Reflect.apply%",!0)||S.call(R,B),I=u("%Object.defineProperty%",!0),K=u("%Math.max%");if(I)try{I({},"a",{value:1})}catch{I=null}ge.exports=function(P){if("function"!=typeof P)throw new q("a function is required");var T=E(S,R,arguments);return H(T,1+K(0,P.length-(arguments.length-1)),!0)};var F=function(){return E(S,B,arguments)};I?I(ge.exports,"apply",{value:F}):ge.exports.apply=F},7303:ge=>{var Ce={utf8:{stringToBytes:function(C){return Ce.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Ce.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],u=0;u<C.length;u++)S.push(255&C.charCodeAt(u));return S},bytesToString:function(C){for(var S=[],u=0;u<C.length;u++)S.push(String.fromCharCode(C[u]));return S.join("")}}};ge.exports=Ce},3754:ge=>{var Ce,C;Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge.exports=C={rotl:function(S,u){return S<<u|S>>>32-u},rotr:function(S,u){return S<<32-u|S>>>u},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var u=0;u<S.length;u++)S[u]=C.endian(S[u]);return S},randomBytes:function(S){for(var u=[];S>0;S--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(S){for(var u=[],H=0,q=0;H<S.length;H++,q+=8)u[q>>>5]|=S[H]<<24-q%32;return u},wordsToBytes:function(S){for(var u=[],H=0;H<32*S.length;H+=8)u.push(S[H>>>5]>>>24-H%32&255);return u},bytesToHex:function(S){for(var u=[],H=0;H<S.length;H++)u.push((S[H]>>>4).toString(16)),u.push((15&S[H]).toString(16));return u.join("")},hexToBytes:function(S){for(var u=[],H=0;H<S.length;H+=2)u.push(parseInt(S.substr(H,2),16));return u},bytesToBase64:function(S){for(var u=[],H=0;H<S.length;H+=3)for(var q=S[H]<<16|S[H+1]<<8|S[H+2],B=0;B<4;B++)u.push(8*H+6*B<=8*S.length?Ce.charAt(q>>>6*(3-B)&63):"=");return u.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],H=0,q=0;H<S.length;q=++H%4)0!=q&&u.push((Ce.indexOf(S.charAt(H-1))&Math.pow(2,-2*q+8)-1)<<2*q|Ce.indexOf(S.charAt(H))>>>6-2*q);return u}}},307:(ge,Ce,C)=>{"use strict";var S=C(5747),u=C(1491),H=C(4300),q=C(3485),B=C(1324),R=C(4355),E=C(500),I=C(1568),K=C(9604),F=C(9850),k=C(6994),P=C(9649),T=C(5327),$=C(5692),de=C(8460),ve=C(9148),oe=C(927),G=C(2410),M=u("SharedArrayBuffer.prototype.byteLength",!0),J=u("Date.prototype.getTime"),le=Object.getPrototypeOf,ie=u("Object.prototype.toString"),we=q("%Set%",!0),Ae=u("Map.prototype.has",!0),O=u("Map.prototype.get",!0),N=u("Map.prototype.size",!0),ee=u("Set.prototype.add",!0),D=u("Set.prototype.delete",!0),X=u("Set.prototype.has",!0),U=u("Set.prototype.size",!0);function he(fe,Ge,at,Ze){for(var Ut,Ct=B(fe);(Ut=Ct.next())&&!Ut.done;)if(ze(Ge,Ut.value,at,Ze))return D(fe,Ut.value),!0;return!1}function $e(fe){return typeof fe>"u"?null:"object"!=typeof fe?"symbol"!=typeof fe&&("string"!=typeof fe&&"number"!=typeof fe||+fe==+fe):void 0}function ht(fe,Ge,at,Ze,Ct,Ut){var jt=$e(at);if(null!=jt)return jt;var Ee=O(Ge,jt),be=S({},Ct,{strict:!1});return!(typeof Ee>"u"&&!Ae(Ge,jt)||!ze(Ze,Ee,be,Ut))&&!Ae(fe,jt)&&ze(Ze,Ee,be,Ut)}function Gt(fe,Ge,at){var Ze=$e(at);return Ze??(X(Ge,Ze)&&!X(fe,Ze))}function Oe(fe,Ge,at,Ze,Ct,Ut){for(var Ee,be,jt=B(fe);(Ee=jt.next())&&!Ee.done;)if(ze(at,be=Ee.value,Ct,Ut)&&ze(Ze,O(Ge,be),Ct,Ut))return D(fe,be),!0;return!1}function ze(fe,Ge,at,Ze){var Ct=at||{};if(Ct.strict?E(fe,Ge):fe===Ge)return!0;if(de(fe)!==de(Ge))return!1;if(!fe||!Ge||"object"!=typeof fe&&"object"!=typeof Ge)return Ct.strict?E(fe,Ge):fe==Ge;var _e,Ee=Ze.has(fe),be=Ze.has(Ge);if(Ee&&be){if(Ze.get(fe)===Ze.get(Ge))return!0}else _e={};return Ee||Ze.set(fe,_e),be||Ze.set(Ge,_e),function Ft(fe,Ge,at,Ze){var Ct,Ut;if(typeof fe!=typeof Ge||null==fe||null==Ge||ie(fe)!==ie(Ge)||I(fe)!==I(Ge))return!1;if(K(fe)!==K(Ge))return!1;var be=fe instanceof Error,_e=Ge instanceof Error;if(be!==_e||(be||_e)&&(fe.name!==Ge.name||fe.message!==Ge.message))return!1;var Je=P(fe),vt=P(Ge);if(Je!==vt||(Je||vt)&&(fe.source!==Ge.source||H(fe)!==H(Ge)))return!1;var Pt=k(fe),un=k(Ge);if(Pt!==un||(Pt||un)&&J(fe)!==J(Ge)||at.strict&&le&&le(fe)!==le(Ge))return!1;var nn=oe(fe),fn=oe(Ge);if(nn!==fn)return!1;if(nn||fn){if(fe.length!==Ge.length)return!1;for(Ct=0;Ct<fe.length;Ct++)if(fe[Ct]!==Ge[Ct])return!1;return!0}var Jt=ke(fe),gr=ke(Ge);if(Jt!==gr)return!1;if(Jt||gr){if(fe.length!==Ge.length)return!1;for(Ct=0;Ct<fe.length;Ct++)if(fe[Ct]!==Ge[Ct])return!1;return!0}var zn=F(fe),Ho=F(Ge);if(zn!==Ho)return!1;if(zn||Ho)return G(fe)===G(Ge)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ge),at,Ze);var So=T(fe),wo=T(Ge);if(So!==wo)return!1;if(So||wo)return M(fe)===M(Ge)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ge),at,Ze);if(typeof fe!=typeof Ge)return!1;var Pn=$(fe),$r=$(Ge);if(Pn.length!==$r.length)return!1;for(Pn.sort(),$r.sort(),Ct=Pn.length-1;Ct>=0;Ct--)if(Pn[Ct]!=$r[Ct])return!1;for(Ct=Pn.length-1;Ct>=0;Ct--)if(!ze(fe[Ut=Pn[Ct]],Ge[Ut],at,Ze))return!1;var Ur=ve(fe),ro=ve(Ge);return Ur===ro&&("Set"===Ur||"Set"===ro?function Be(fe,Ge,at,Ze){if(U(fe)!==U(Ge))return!1;for(var jt,Ee,be,Ct=B(fe),Ut=B(Ge);(jt=Ct.next())&&!jt.done;)if(jt.value&&"object"==typeof jt.value)be||(be=new we),ee(be,jt.value);else if(!X(Ge,jt.value)){if(at.strict||!Gt(fe,Ge,jt.value))return!1;be||(be=new we),ee(be,jt.value)}if(be){for(;(Ee=Ut.next())&&!Ee.done;)if(Ee.value&&"object"==typeof Ee.value){if(!he(be,Ee.value,at.strict,Ze))return!1}else if(!at.strict&&!X(fe,Ee.value)&&!he(be,Ee.value,at.strict,Ze))return!1;return 0===U(be)}return!0}(fe,Ge,at,Ze):"Map"!==Ur||function st(fe,Ge,at,Ze){if(N(fe)!==N(Ge))return!1;for(var jt,Ee,be,_e,Je,vt,Ct=B(fe),Ut=B(Ge);(jt=Ct.next())&&!jt.done;)if(Je=jt.value[1],(_e=jt.value[0])&&"object"==typeof _e)be||(be=new we),ee(be,_e);else if(typeof(vt=O(Ge,_e))>"u"&&!Ae(Ge,_e)||!ze(Je,vt,at,Ze)){if(at.strict||!ht(fe,Ge,_e,Je,at,Ze))return!1;be||(be=new we),ee(be,_e)}if(be){for(;(Ee=Ut.next())&&!Ee.done;)if(vt=Ee.value[1],(_e=Ee.value[0])&&"object"==typeof _e){if(!Oe(be,fe,_e,vt,at,Ze))return!1}else if(!(at.strict||fe.has(_e)&&ze(O(fe,_e),vt,at,Ze)||Oe(be,fe,_e,vt,S({},at,{strict:!1}),Ze)))return!1;return 0===U(be)}return!0}(fe,Ge,at,Ze))}(fe,Ge,Ct,Ze)}function ke(fe){return!(!fe||"object"!=typeof fe||"number"!=typeof fe.length||"function"!=typeof fe.copy||"function"!=typeof fe.slice||fe.length>0&&"number"!=typeof fe[0]||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))}ge.exports=function(Ge,at,Ze){return ze(Ge,at,Ze,R())}},4467:(ge,Ce,C)=>{"use strict";var S=C(7811)(),u=C(3485),H=S&&u("%Object.defineProperty%",!0);if(H)try{H({},"a",{value:1})}catch{H=!1}var q=u("%SyntaxError%"),B=u("%TypeError%"),R=C(6078);ge.exports=function(I,K,F){if(!I||"object"!=typeof I&&"function"!=typeof I)throw new B("`obj` must be an object or a function`");if("string"!=typeof K&&"symbol"!=typeof K)throw new B("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new B("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new B("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new B("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new B("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,P=arguments.length>4?arguments[4]:null,T=arguments.length>5?arguments[5]:null,$=arguments.length>6&&arguments[6],de=!!R&&R(I,K);if(H)H(I,K,{configurable:null===T&&de?de.configurable:!T,enumerable:null===k&&de?de.enumerable:!k,value:F,writable:null===P&&de?de.writable:!P});else{if(!$&&(k||P||T))throw new q("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");I[K]=F}}},9567:(ge,Ce,C)=>{"use strict";var S=C(5692),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),H=Object.prototype.toString,q=Array.prototype.concat,B=C(4467),E=C(7811)(),I=function(F,k,P,T){if(k in F)if(!0===T){if(F[k]===P)return}else if(!function(F){return"function"==typeof F&&"[object Function]"===H.call(F)}(T)||!T())return;E?B(F,k,P,!0):B(F,k,P)},K=function(F,k){var P=arguments.length>2?arguments[2]:{},T=S(k);u&&(T=q.call(T,Object.getOwnPropertySymbols(k)));for(var $=0;$<T.length;$+=1)I(F,T[$],k[T[$]],P[T[$]])};K.supportsDescriptors=!!E,ge.exports=K},1633:function(ge,Ce){!function(C){"use strict";var P,H=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,q=536870912,B=2*q,E=new WeakMap,K=function(P,T){return function($){var de=T.get($),ve=void 0===de?$.size:de<B?de+1:0;if(!$.has(ve))return P($,ve);if($.size<q){for(;$.has(ve);)ve=Math.floor(Math.random()*B);return P($,ve)}if($.size>H)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;$.has(ve);)ve=Math.floor(Math.random()*H);return P($,ve)}}((P=E,function(T,$){return P.set(T,$),$}),E),F=function(P){return function(T){var $=P(T);return T.add($),$}}(K);C.addUniqueNumber=F,C.generateUniqueNumber=K}(Ce)},2418:(ge,Ce,C)=>{"use strict";var S=C(5487),u=Object.prototype.toString,H=Object.prototype.hasOwnProperty;ge.exports=function(K,F,k){if(!S(F))throw new TypeError("iterator must be a function");var P;arguments.length>=3&&(P=k),"[object Array]"===u.call(K)?function(K,F,k){for(var P=0,T=K.length;P<T;P++)H.call(K,P)&&(null==k?F(K[P],P,K):F.call(k,K[P],P,K))}(K,F,P):"string"==typeof K?function(K,F,k){for(var P=0,T=K.length;P<T;P++)null==k?F(K.charAt(P),P,K):F.call(k,K.charAt(P),P,K)}(K,F,P):function(K,F,k){for(var P in K)H.call(K,P)&&(null==k?F(K[P],P,K):F.call(k,K[P],P,K))}(K,F,P)}},8026:ge=>{"use strict";var C=Object.prototype.toString,S=Math.max,H=function(E,I){for(var K=[],F=0;F<E.length;F+=1)K[F]=E[F];for(var k=0;k<I.length;k+=1)K[k+E.length]=I[k];return K};ge.exports=function(E){var I=this;if("function"!=typeof I||"[object Function]"!==C.apply(I))throw new TypeError("Function.prototype.bind called on incompatible "+I);for(var F,K=function(E,I){for(var K=[],F=1,k=0;F<E.length;F+=1,k+=1)K[k]=E[F];return K}(arguments),P=S(0,I.length-K.length),T=[],$=0;$<P;$++)T[$]="$"+$;if(F=Function("binder","return function ("+function(R,E){for(var I="",K=0;K<R.length;K+=1)I+=R[K],K+1<R.length&&(I+=",");return I}(T)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof F){var ve=I.apply(this,H(K,arguments));return Object(ve)===ve?ve:this}return I.apply(E,H(K,arguments))}),I.prototype){var de=function(){};de.prototype=I.prototype,F.prototype=new de,de.prototype=null}return F}},8956:(ge,Ce,C)=>{"use strict";var S=C(8026);ge.exports=Function.prototype.bind||S},7688:ge=>{"use strict";var Ce=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Ce.functionsHaveConfigurableNames=function(){if(!Ce()||!C)return!1;var H=C(function(){},"name");return!!H&&!!H.configurable};var S=Function.prototype.bind;Ce.boundFunctionsHaveNames=function(){return Ce()&&"function"==typeof S&&""!==function(){}.bind().name},ge.exports=Ce},3485:(ge,Ce,C)=>{"use strict";var S,u=SyntaxError,H=Function,q=TypeError,B=function(X){try{return H('"use strict"; return ('+X+").constructor;")()}catch{}},R=Object.getOwnPropertyDescriptor;if(R)try{R({},"")}catch{R=null}var E=function(){throw new q},I=R?function(){try{return E}catch{try{return R(arguments,"callee").get}catch{return E}}}():E,K=C(2337)(),F=C(1441)(),k=Object.getPrototypeOf||(F?function(X){return X.__proto__}:null),P={},T=typeof Uint8Array>"u"||!k?S:k(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":K&&k?k([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":H,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&k?k(k([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!k?S:k((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!k?S:k((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&k?k(""[Symbol.iterator]()):S,"%Symbol%":K?Symbol:S,"%SyntaxError%":u,"%ThrowTypeError%":I,"%TypedArray%":T,"%TypeError%":q,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(k)try{null.error}catch(X){var de=k(k(X));$["%Error.prototype%"]=de}var ve=function X(U){var he;if("%AsyncFunction%"===U)he=B("async function () {}");else if("%GeneratorFunction%"===U)he=B("function* () {}");else if("%AsyncGeneratorFunction%"===U)he=B("async function* () {}");else if("%AsyncGenerator%"===U){var $e=X("%AsyncGeneratorFunction%");$e&&(he=$e.prototype)}else if("%AsyncIteratorPrototype%"===U){var ht=X("%AsyncGenerator%");ht&&k&&(he=k(ht.prototype))}return $[U]=he,he},oe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},G=C(8956),M=C(7528),J=G.call(Function.call,Array.prototype.concat),le=G.call(Function.apply,Array.prototype.splice),ie=G.call(Function.call,String.prototype.replace),we=G.call(Function.call,String.prototype.slice),Ae=G.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,D=function(U,he){var ht,$e=U;if(M(oe,$e)&&($e="%"+(ht=oe[$e])[0]+"%"),M($,$e)){var Gt=$[$e];if(Gt===P&&(Gt=ve($e)),typeof Gt>"u"&&!he)throw new q("intrinsic "+U+" exists, but is not available. Please file an issue!");return{alias:ht,name:$e,value:Gt}}throw new u("intrinsic "+U+" does not exist!")};ge.exports=function(U,he){if("string"!=typeof U||0===U.length)throw new q("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof he)throw new q('"allowMissing" argument must be a boolean');if(null===Ae(/^%?[^%]*%?$/,U))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $e=function(U){var he=we(U,0,1),$e=we(U,-1);if("%"===he&&"%"!==$e)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===$e&&"%"!==he)throw new u("invalid intrinsic syntax, expected opening `%`");var ht=[];return ie(U,O,function(Gt,Oe,ze,ke){ht[ht.length]=ze?ie(ke,N,"$1"):Oe||Gt}),ht}(U),ht=$e.length>0?$e[0]:"",Gt=D("%"+ht+"%",he),Oe=Gt.name,ze=Gt.value,ke=!1,Be=Gt.alias;Be&&(ht=Be[0],le($e,J([0,1],Be)));for(var st=1,Ft=!0;st<$e.length;st+=1){var fe=$e[st],Ge=we(fe,0,1),at=we(fe,-1);if(('"'===Ge||"'"===Ge||"`"===Ge||'"'===at||"'"===at||"`"===at)&&Ge!==at)throw new u("property names with quotes must have matching quotes");if(("constructor"===fe||!Ft)&&(ke=!0),M($,Oe="%"+(ht+="."+fe)+"%"))ze=$[Oe];else if(null!=ze){if(!(fe in ze)){if(!he)throw new q("base intrinsic for "+U+" exists, but the property is not available.");return}if(R&&st+1>=$e.length){var Ze=R(ze,fe);ze=(Ft=!!Ze)&&"get"in Ze&&!("originalValue"in Ze.get)?Ze.get:ze[fe]}else Ft=M(ze,fe),ze=ze[fe];Ft&&!ke&&($[Oe]=ze)}}return ze}},6078:(ge,Ce,C)=>{"use strict";var u=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}ge.exports=u},5112:ge=>{"use strict";var Ce=typeof BigInt<"u"&&BigInt;ge.exports=function(){return"function"==typeof Ce&&"function"==typeof BigInt&&"bigint"==typeof Ce(42)&&"bigint"==typeof BigInt(42)}},7811:(ge,Ce,C)=>{"use strict";var u=C(3485)("%Object.defineProperty%",!0),H=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};H.hasArrayLengthDefineBug=function(){if(!H())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},ge.exports=H},1441:ge=>{"use strict";var Ce={foo:{}},C=Object;ge.exports=function(){return{__proto__:Ce}.foo===Ce.foo&&!({__proto__:null}instanceof C)}},2337:(ge,Ce,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,u=C(2759);ge.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&u()}},2759:ge=>{"use strict";ge.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),u=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var q=Object.getOwnPropertySymbols(C);if(1!==q.length||q[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var B=Object.getOwnPropertyDescriptor(C,S);if(42!==B.value||!0!==B.enumerable)return!1}return!0}},6518:(ge,Ce,C)=>{"use strict";var S=C(2759);ge.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(ge,Ce,C)=>{"use strict";var S=Function.prototype.call,u=Object.prototype.hasOwnProperty,H=C(8956);ge.exports=H.call(S,u)},2605:(ge,Ce,C)=>{"use strict";var S=C(3485),u=C(7528),H=C(4355)(),q=S("%TypeError%"),B={assert:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");if(H.assert(R),!B.has(R,E))throw new q("`"+E+"` is not present on `O`")},get:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");var I=H.get(R);return I&&I["$"+E]},has:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");var I=H.get(R);return!!I&&u(I,"$"+E)},set:function(R,E,I){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new q("`O` is not an object");if("string"!=typeof E)throw new q("`slot` must be a string");var K=H.get(R);K||H.set(R,K={}),K["$"+E]=I}};Object.freeze&&Object.freeze(B),ge.exports=B},1568:(ge,Ce,C)=>{"use strict";var S=C(6518)(),H=C(1491)("Object.prototype.toString"),q=function(I){return!(S&&I&&"object"==typeof I&&Symbol.toStringTag in I)&&"[object Arguments]"===H(I)},B=function(I){return!!q(I)||null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Array]"!==H(I)&&"[object Function]"===H(I.callee)},R=function(){return q(arguments)}();q.isLegacyArguments=B,ge.exports=R?q:B},9850:(ge,Ce,C)=>{"use strict";var S=C(1773),u=C(1491),H=C(3485),q=C(3631),B=H("ArrayBuffer",!0),R=H("Float32Array",!0),E=u("ArrayBuffer.prototype.byteLength",!0),I=B&&!E&&(new B).slice,K=I&&S(I);ge.exports=E||K?function(k){if(!k||"object"!=typeof k)return!1;try{return E?E(k):K(k,0),!0}catch{return!1}}:R?function(k){try{return new R(k).buffer===k&&!q(k)}catch(P){return"object"==typeof k&&"RangeError"===P.name}}:function(k){return!1}},7050:(ge,Ce,C)=>{"use strict";if(C(5112)()){var u=BigInt.prototype.valueOf;ge.exports=function(B){return!(null===B||typeof B>"u"||"boolean"==typeof B||"string"==typeof B||"number"==typeof B||"symbol"==typeof B||"function"==typeof B)&&("bigint"==typeof B||function(B){try{return u.call(B),!0}catch{}return!1}(B))}}else ge.exports=function(B){return!1}},2856:(ge,Ce,C)=>{"use strict";var S=C(1491),u=S("Boolean.prototype.toString"),H=S("Object.prototype.toString"),R=C(6518)();ge.exports=function(I){return"boolean"==typeof I||null!==I&&"object"==typeof I&&(R&&Symbol.toStringTag in I?function(I){try{return u(I),!0}catch{return!1}}(I):"[object Boolean]"===H(I))}},7617:ge=>{function Ce(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}ge.exports=function(S){return null!=S&&(Ce(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Ce(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:ge=>{"use strict";var S,u,Ce=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw u}}),u={},C(function(){throw 42},null,S)}catch(oe){oe!==u&&(C=null)}else C=null;var H=/^\s*class\b/,q=function(G){try{var M=Ce.call(G);return H.test(M)}catch{return!1}},B=function(G){try{return!q(G)&&(Ce.call(G),!0)}catch{return!1}},R=Object.prototype.toString,T="function"==typeof Symbol&&!!Symbol.toStringTag,$=!(0 in[,]),de=function(){return!1};if("object"==typeof document){var ve=document.all;R.call(ve)===R.call(document.all)&&(de=function(G){if(($||!G)&&(typeof G>"u"||"object"==typeof G))try{var M=R.call(G);return("[object HTMLAllCollection]"===M||"[object HTML document.all class]"===M||"[object HTMLCollection]"===M||"[object Object]"===M)&&null==G("")}catch{}return!1})}ge.exports=C?function(G){if(de(G))return!0;if(!G||"function"!=typeof G&&"object"!=typeof G)return!1;try{C(G,null,S)}catch(M){if(M!==u)return!1}return!q(G)&&B(G)}:function(G){if(de(G))return!0;if(!G||"function"!=typeof G&&"object"!=typeof G)return!1;if(T)return B(G);if(q(G))return!1;var M=R.call(G);return!("[object Function]"!==M&&"[object GeneratorFunction]"!==M&&!/^\[object HTML/.test(M))&&B(G)}},6994:(ge,Ce,C)=>{"use strict";var S=Date.prototype.getDay,H=Object.prototype.toString,B=C(6518)();ge.exports=function(E){return"object"==typeof E&&null!==E&&(B?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Date]"===H.call(E))}},6128:ge=>{"use strict";var S,Ce="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Ce||(S=function(B){return!1});var u=Ce?Map.prototype.has:null,H=C?Set.prototype.has:null;!S&&!u&&(S=function(B){return!1}),ge.exports=S||function(B){if(!B||"object"!=typeof B)return!1;try{if(u.call(B),H)try{H.call(B)}catch{return!0}return B instanceof Ce}catch{}return!1}},9065:(ge,Ce,C)=>{"use strict";var S=Number.prototype.toString,H=Object.prototype.toString,B=C(6518)();ge.exports=function(E){return"number"==typeof E||"object"==typeof E&&(B?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Number]"===H.call(E))}},9649:(ge,Ce,C)=>{"use strict";var H,q,B,R,S=C(1491),u=C(6518)();if(u){H=S("Object.prototype.hasOwnProperty"),q=S("RegExp.prototype.exec"),B={};var E=function(){throw B};R={toString:E,valueOf:E},"symbol"==typeof Symbol.toPrimitive&&(R[Symbol.toPrimitive]=E)}var I=S("Object.prototype.toString"),K=Object.getOwnPropertyDescriptor;ge.exports=u?function(P){if(!P||"object"!=typeof P)return!1;var T=K(P,"lastIndex");if(!T||!H(T,"value"))return!1;try{q(P,R)}catch(de){return de===B}}:function(P){return!(!P||"object"!=typeof P&&"function"!=typeof P)&&"[object RegExp]"===I(P)}},5918:ge=>{"use strict";var S,Ce="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(B){return!1});var u=Ce?Map.prototype.has:null,H=C?Set.prototype.has:null;!S&&!H&&(S=function(B){return!1}),ge.exports=S||function(B){if(!B||"object"!=typeof B)return!1;try{if(H.call(B),u)try{u.call(B)}catch{return!0}return B instanceof C}catch{}return!1}},5327:(ge,Ce,C)=>{"use strict";var u=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);ge.exports=u?function(q){if(!q||"object"!=typeof q)return!1;try{return u(q),!0}catch{return!1}}:function(q){return!1}},2706:(ge,Ce,C)=>{"use strict";var S=String.prototype.valueOf,H=Object.prototype.toString,B=C(6518)();ge.exports=function(E){return"string"==typeof E||"object"==typeof E&&(B?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object String]"===H.call(E))}},2630:(ge,Ce,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var H=Symbol.prototype.toString,q=/^Symbol\(.*\)$/;ge.exports=function(E){if("symbol"==typeof E)return!0;if("[object Symbol]"!==S.call(E))return!1;try{return function(E){return"symbol"==typeof E.valueOf()&&q.test(H.call(E))}(E)}catch{return!1}}}else ge.exports=function(E){return!1}},3631:(ge,Ce,C)=>{"use strict";var S=C(927);ge.exports=function(H){return!!S(H)}},1545:ge=>{"use strict";var S,Ce="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ce||(S=function(B){return!1});var u=Ce?Ce.prototype.has:null,H=C?C.prototype.has:null;!S&&!u&&(S=function(B){return!1}),ge.exports=S||function(B){if(!B||"object"!=typeof B)return!1;try{if(u.call(B,u),H)try{H.call(B,H)}catch{return!0}return B instanceof Ce}catch{}return!1}},9043:(ge,Ce,C)=>{"use strict";var S=C(3485),u=C(1491),H=S("%WeakSet%",!0),q=u("WeakSet.prototype.has",!0);if(q){var B=u("WeakMap.prototype.has",!0);ge.exports=function(E){if(!E||"object"!=typeof E)return!1;try{if(q(E,q),B)try{B(E,B)}catch{return!0}return E instanceof H}catch{}return!1}}else ge.exports=function(E){return!1}},9604:ge=>{var Ce={}.toString;ge.exports=Array.isArray||function(C){return"[object Array]"==Ce.call(C)}},3219:(ge,Ce,C)=>{var S,u,H,q,B;S=C(3754),u=C(7303).utf8,H=C(7617),q=C(7303).bin,(B=function(R,E){R.constructor==String?R=E&&"binary"===E.encoding?q.stringToBytes(R):u.stringToBytes(R):H(R)?R=Array.prototype.slice.call(R,0):!Array.isArray(R)&&R.constructor!==Uint8Array&&(R=R.toString());for(var I=S.bytesToWords(R),K=8*R.length,F=1732584193,k=-271733879,P=-1732584194,T=271733878,$=0;$<I.length;$++)I[$]=16711935&(I[$]<<8|I[$]>>>24)|4278255360&(I[$]<<24|I[$]>>>8);I[K>>>5]|=128<<K%32,I[14+(K+64>>>9<<4)]=K;var de=B._ff,ve=B._gg,oe=B._hh,G=B._ii;for($=0;$<I.length;$+=16){var M=F,J=k,le=P,ie=T;F=de(F,k,P,T,I[$+0],7,-680876936),T=de(T,F,k,P,I[$+1],12,-389564586),P=de(P,T,F,k,I[$+2],17,606105819),k=de(k,P,T,F,I[$+3],22,-1044525330),F=de(F,k,P,T,I[$+4],7,-176418897),T=de(T,F,k,P,I[$+5],12,1200080426),P=de(P,T,F,k,I[$+6],17,-1473231341),k=de(k,P,T,F,I[$+7],22,-45705983),F=de(F,k,P,T,I[$+8],7,1770035416),T=de(T,F,k,P,I[$+9],12,-1958414417),P=de(P,T,F,k,I[$+10],17,-42063),k=de(k,P,T,F,I[$+11],22,-1990404162),F=de(F,k,P,T,I[$+12],7,1804603682),T=de(T,F,k,P,I[$+13],12,-40341101),P=de(P,T,F,k,I[$+14],17,-1502002290),F=ve(F,k=de(k,P,T,F,I[$+15],22,1236535329),P,T,I[$+1],5,-165796510),T=ve(T,F,k,P,I[$+6],9,-1069501632),P=ve(P,T,F,k,I[$+11],14,643717713),k=ve(k,P,T,F,I[$+0],20,-373897302),F=ve(F,k,P,T,I[$+5],5,-701558691),T=ve(T,F,k,P,I[$+10],9,38016083),P=ve(P,T,F,k,I[$+15],14,-660478335),k=ve(k,P,T,F,I[$+4],20,-405537848),F=ve(F,k,P,T,I[$+9],5,568446438),T=ve(T,F,k,P,I[$+14],9,-1019803690),P=ve(P,T,F,k,I[$+3],14,-187363961),k=ve(k,P,T,F,I[$+8],20,1163531501),F=ve(F,k,P,T,I[$+13],5,-1444681467),T=ve(T,F,k,P,I[$+2],9,-51403784),P=ve(P,T,F,k,I[$+7],14,1735328473),F=oe(F,k=ve(k,P,T,F,I[$+12],20,-1926607734),P,T,I[$+5],4,-378558),T=oe(T,F,k,P,I[$+8],11,-2022574463),P=oe(P,T,F,k,I[$+11],16,1839030562),k=oe(k,P,T,F,I[$+14],23,-35309556),F=oe(F,k,P,T,I[$+1],4,-1530992060),T=oe(T,F,k,P,I[$+4],11,1272893353),P=oe(P,T,F,k,I[$+7],16,-155497632),k=oe(k,P,T,F,I[$+10],23,-1094730640),F=oe(F,k,P,T,I[$+13],4,681279174),T=oe(T,F,k,P,I[$+0],11,-358537222),P=oe(P,T,F,k,I[$+3],16,-722521979),k=oe(k,P,T,F,I[$+6],23,76029189),F=oe(F,k,P,T,I[$+9],4,-640364487),T=oe(T,F,k,P,I[$+12],11,-421815835),P=oe(P,T,F,k,I[$+15],16,530742520),F=G(F,k=oe(k,P,T,F,I[$+2],23,-995338651),P,T,I[$+0],6,-198630844),T=G(T,F,k,P,I[$+7],10,1126891415),P=G(P,T,F,k,I[$+14],15,-1416354905),k=G(k,P,T,F,I[$+5],21,-57434055),F=G(F,k,P,T,I[$+12],6,1700485571),T=G(T,F,k,P,I[$+3],10,-1894986606),P=G(P,T,F,k,I[$+10],15,-1051523),k=G(k,P,T,F,I[$+1],21,-2054922799),F=G(F,k,P,T,I[$+8],6,1873313359),T=G(T,F,k,P,I[$+15],10,-30611744),P=G(P,T,F,k,I[$+6],15,-1560198380),k=G(k,P,T,F,I[$+13],21,1309151649),F=G(F,k,P,T,I[$+4],6,-145523070),T=G(T,F,k,P,I[$+11],10,-1120210379),P=G(P,T,F,k,I[$+2],15,718787259),k=G(k,P,T,F,I[$+9],21,-343485551),F=F+M>>>0,k=k+J>>>0,P=P+le>>>0,T=T+ie>>>0}return S.endian([F,k,P,T])})._ff=function(R,E,I,K,F,k,P){var T=R+(E&I|~E&K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},B._gg=function(R,E,I,K,F,k,P){var T=R+(E&K|I&~K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},B._hh=function(R,E,I,K,F,k,P){var T=R+(E^I^K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},B._ii=function(R,E,I,K,F,k,P){var T=R+(I^(E|~K))+(F>>>0)+P;return(T<<k|T>>>32-k)+E},B._blocksize=16,B._digestsize=16,ge.exports=function(R,E){if(null==R)throw new Error("Illegal argument "+R);var I=S.wordsToBytes(B(R,E));return E&&E.asBytes?I:E&&E.asString?q.bytesToString(I):S.bytesToHex(I)}},5580:(ge,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(q,B){return typeof B>"u"?q:function(E){q(E,B)}};var H=function(){function q(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return q.prototype.addHandler=function(B,R){return this.isHandlerAttached(B,R)||(this._handlers.push(B),this._contexts.push(R),this._createDispatcher(),this._updateHasHandlers()),this},q.prototype.removeHandler=function(B,R){var E=this._getHandlerIndex(B,R);return typeof E<"u"&&(this._handlers.splice(E,1),this._contexts.splice(E,1),this._createDispatcher(),this._updateHasHandlers()),this},q.prototype.isHandlerAttached=function(B,R){return typeof this._getHandlerIndex(B,R)<"u"},q.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},q.prototype._getHandlerIndex=function(B,R){var I,E=this._handlers.length;for(I=0;I<E&&(this._handlers[I]!==B||this._contexts[I]!==R);I++);return I<E?I:void 0},q.prototype._createDispatcher=function(){this.dispatch=function S(q){return C[q]||(C[q]=function u(q){for(var B="return function dispatcher"+q+"(payload) {\n",R=[],E=[],I=0;I<q;I++)R.push("cb"+I),E.push("ctx"+I),B+="    cb"+I+"(payload, ctx"+I+");\n";return B+="};",new(Function.bind.apply(Function,[void 0].concat(R.concat(E),[B])))}(q)),C[q]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},q}();Ce.default=H},5861:(ge,Ce,C)=>{"use strict";var u=C(5580);Ce.j=u.default},2720:(ge,Ce,C)=>{var S="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,H=S&&u&&"function"==typeof u.get?u.get:null,q=S&&Map.prototype.forEach,B="function"==typeof Set&&Set.prototype,R=Object.getOwnPropertyDescriptor&&B?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=B&&R&&"function"==typeof R.get?R.get:null,I=B&&Set.prototype.forEach,F="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,$="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,de=Boolean.prototype.valueOf,ve=Object.prototype.toString,oe=Function.prototype.toString,G=String.prototype.match,M=String.prototype.slice,J=String.prototype.replace,le=String.prototype.toUpperCase,ie=String.prototype.toLowerCase,we=RegExp.prototype.test,Ae=Array.prototype.concat,O=Array.prototype.join,N=Array.prototype.slice,ee=Math.floor,D="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,he="function"==typeof Symbol&&"object"==typeof Symbol.iterator,$e="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ht=Object.prototype.propertyIsEnumerable,Gt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(pe){return pe.__proto__}:null);function Oe(pe,ye){if(pe===1/0||pe===-1/0||pe!=pe||pe&&pe>-1e3&&pe<1e3||we.call(/e/,ye))return ye;var ln=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof pe){var hn=pe<0?-ee(-pe):ee(pe);if(hn!==pe){var Cn=String(hn),rn=M.call(ye,Cn.length+1);return J.call(Cn,ln,"$&_")+"."+J.call(J.call(rn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(ye,ln,"$&_")}var ze=C(4654),ke=ze.custom,Be=Ee(ke)?ke:null;function st(pe,ye,ln){var hn="double"===(ln.quoteStyle||ye)?'"':"'";return hn+pe+hn}function Ft(pe){return J.call(String(pe),/"/g,"&quot;")}function fe(pe){return!("[object Array]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}function at(pe){return!("[object RegExp]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}function Ee(pe){if(he)return pe&&"object"==typeof pe&&pe instanceof Symbol;if("symbol"==typeof pe)return!0;if(!pe||"object"!=typeof pe||!U)return!1;try{return U.call(pe),!0}catch{}return!1}ge.exports=function pe(ye,ln,hn,Cn){var rn=ln||{};if(Je(rn,"quoteStyle")&&"single"!==rn.quoteStyle&&"double"!==rn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(rn,"maxStringLength")&&("number"==typeof rn.maxStringLength?rn.maxStringLength<0&&rn.maxStringLength!==1/0:null!==rn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fo=!Je(rn,"customInspect")||rn.customInspect;if("boolean"!=typeof fo&&"symbol"!==fo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(rn,"indent")&&null!==rn.indent&&"\t"!==rn.indent&&!(parseInt(rn.indent,10)===rn.indent&&rn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(rn,"numericSeparator")&&"boolean"!=typeof rn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var tr=rn.numericSeparator;if(typeof ye>"u")return"undefined";if(null===ye)return"null";if("boolean"==typeof ye)return ye?"true":"false";if("string"==typeof ye)return So(ye,rn);if("number"==typeof ye){if(0===ye)return 1/0/ye>0?"0":"-0";var Cr=String(ye);return tr?Oe(ye,Cr):Cr}if("bigint"==typeof ye){var _o=String(ye)+"n";return tr?Oe(ye,_o):_o}var On=typeof rn.depth>"u"?5:rn.depth;if(typeof hn>"u"&&(hn=0),hn>=On&&On>0&&"object"==typeof ye)return fe(ye)?"[Array]":"[Object]";var Do=function Wn(pe,ye){var ln;if("\t"===pe.indent)ln="\t";else{if(!("number"==typeof pe.indent&&pe.indent>0))return null;ln=O.call(Array(pe.indent+1)," ")}return{base:ln,prev:O.call(Array(ye+1),ln)}}(rn,hn);if(typeof Cn>"u")Cn=[];else if(un(Cn,ye)>=0)return"[Circular]";function oo(Eo,li,Rs){if(li&&(Cn=N.call(Cn)).push(li),Rs){var ci={depth:rn.depth};return Je(rn,"quoteStyle")&&(ci.quoteStyle=rn.quoteStyle),pe(Eo,ci,hn+1,Cn)}return pe(Eo,rn,hn+1,Cn)}if("function"==typeof ye&&!at(ye)){var Gi=function Pt(pe){if(pe.name)return pe.name;var ye=G.call(oe.call(pe),/^function\s*([\w$]+)/);return ye?ye[1]:null}(ye),Po=Br(ye,oo);return"[Function"+(Gi?": "+Gi:" (anonymous)")+"]"+(Po.length>0?" { "+O.call(Po,", ")+" }":"")}if(Ee(ye)){var xn=he?J.call(String(ye),/^(Symbol\(.*\))_[^)]*$/,"$1"):U.call(ye);return"object"!=typeof ye||he?xn:Pn(xn)}if(function Ho(pe){return!(!pe||"object"!=typeof pe)&&(typeof HTMLElement<"u"&&pe instanceof HTMLElement||"string"==typeof pe.nodeName&&"function"==typeof pe.getAttribute)}(ye)){for(var _r="<"+ie.call(String(ye.nodeName)),vr=ye.attributes||[],Tn=0;Tn<vr.length;Tn++)_r+=" "+vr[Tn].name+"="+st(Ft(vr[Tn].value),"double",rn);return _r+=">",ye.childNodes&&ye.childNodes.length&&(_r+="..."),_r+"</"+ie.call(String(ye.nodeName))+">"}if(fe(ye)){if(0===ye.length)return"[]";var Nn=Br(ye,oo);return Do&&!function ro(pe){for(var ye=0;ye<pe.length;ye++)if(un(pe[ye],"\n")>=0)return!1;return!0}(Nn)?"["+go(Nn,Do)+"]":"[ "+O.call(Nn,", ")+" ]"}if(function Ze(pe){return!("[object Error]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye)){var di=Br(ye,oo);return"cause"in Error.prototype||!("cause"in ye)||ht.call(ye,"cause")?0===di.length?"["+String(ye)+"]":"{ ["+String(ye)+"] "+O.call(di,", ")+" }":"{ ["+String(ye)+"] "+O.call(Ae.call("[cause]: "+oo(ye.cause),di),", ")+" }"}if("object"==typeof ye&&fo){if(Be&&"function"==typeof ye[Be]&&ze)return ze(ye,{depth:On-hn});if("symbol"!==fo&&"function"==typeof ye.inspect)return ye.inspect()}if(function nn(pe){if(!H||!pe||"object"!=typeof pe)return!1;try{H.call(pe);try{E.call(pe)}catch{return!0}return pe instanceof Map}catch{}return!1}(ye)){var cn=[];return q&&q.call(ye,function(Eo,li){cn.push(oo(li,ye,!0)+" => "+oo(Eo,ye))}),Ur("Map",H.call(ye),cn,Do)}if(function gr(pe){if(!E||!pe||"object"!=typeof pe)return!1;try{E.call(pe);try{H.call(pe)}catch{return!0}return pe instanceof Set}catch{}return!1}(ye)){var Jo=[];return I&&I.call(ye,function(Eo){Jo.push(oo(Eo,ye))}),Ur("Set",E.call(ye),Jo,Do)}if(function fn(pe){if(!F||!pe||"object"!=typeof pe)return!1;try{F.call(pe,F);try{P.call(pe,P)}catch{return!0}return pe instanceof WeakMap}catch{}return!1}(ye))return $r("WeakMap");if(function zn(pe){if(!P||!pe||"object"!=typeof pe)return!1;try{P.call(pe,P);try{F.call(pe,F)}catch{return!0}return pe instanceof WeakSet}catch{}return!1}(ye))return $r("WeakSet");if(function Jt(pe){if(!$||!pe||"object"!=typeof pe)return!1;try{return $.call(pe),!0}catch{}return!1}(ye))return $r("WeakRef");if(function Ut(pe){return!("[object Number]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye))return Pn(oo(Number(ye)));if(function be(pe){if(!pe||"object"!=typeof pe||!D)return!1;try{return D.call(pe),!0}catch{}return!1}(ye))return Pn(oo(D.call(ye)));if(function jt(pe){return!("[object Boolean]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye))return Pn(de.call(ye));if(function Ct(pe){return!("[object String]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye))return Pn(oo(String(ye)));if(typeof window<"u"&&ye===window)return"{ [object Window] }";if(ye===global)return"{ [object globalThis] }";if(!function Ge(pe){return!("[object Date]"!==vt(pe)||$e&&"object"==typeof pe&&$e in pe)}(ye)&&!at(ye)){var wi=Br(ye,oo),fi=Gt?Gt(ye)===Object.prototype:ye instanceof Object||ye.constructor===Object,pi=ye instanceof Object?"":"null prototype",ae=!fi&&$e&&Object(ye)===ye&&$e in ye?M.call(vt(ye),8,-1):pi?"Object":"",zo=(fi||"function"!=typeof ye.constructor?"":ye.constructor.name?ye.constructor.name+" ":"")+(ae||pi?"["+O.call(Ae.call([],ae||[],pi||[]),": ")+"] ":"");return 0===wi.length?zo+"{}":Do?zo+"{"+go(wi,Do)+"}":zo+"{ "+O.call(wi,", ")+" }"}return String(ye)};var _e=Object.prototype.hasOwnProperty||function(pe){return pe in this};function Je(pe,ye){return _e.call(pe,ye)}function vt(pe){return ve.call(pe)}function un(pe,ye){if(pe.indexOf)return pe.indexOf(ye);for(var ln=0,hn=pe.length;ln<hn;ln++)if(pe[ln]===ye)return ln;return-1}function So(pe,ye){if(pe.length>ye.maxStringLength){var ln=pe.length-ye.maxStringLength,hn="... "+ln+" more character"+(ln>1?"s":"");return So(M.call(pe,0,ye.maxStringLength),ye)+hn}return st(J.call(J.call(pe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wo),"single",ye)}function wo(pe){var ye=pe.charCodeAt(0),ln={8:"b",9:"t",10:"n",12:"f",13:"r"}[ye];return ln?"\\"+ln:"\\x"+(ye<16?"0":"")+le.call(ye.toString(16))}function Pn(pe){return"Object("+pe+")"}function $r(pe){return pe+" { ? }"}function Ur(pe,ye,ln,hn){return pe+" ("+ye+") {"+(hn?go(ln,hn):O.call(ln,", "))+"}"}function go(pe,ye){if(0===pe.length)return"";var ln="\n"+ye.prev+ye.base;return ln+O.call(pe,","+ln)+"\n"+ye.prev}function Br(pe,ye){var ln=fe(pe),hn=[];if(ln){hn.length=pe.length;for(var Cn=0;Cn<pe.length;Cn++)hn[Cn]=Je(pe,Cn)?ye(pe[Cn],pe):""}var fo,rn="function"==typeof X?X(pe):[];if(he){fo={};for(var tr=0;tr<rn.length;tr++)fo["$"+rn[tr]]=rn[tr]}for(var Cr in pe)Je(pe,Cr)&&(ln&&String(Number(Cr))===Cr&&Cr<pe.length||he&&fo["$"+Cr]instanceof Symbol||(we.call(/[^\w$]/,Cr)?hn.push(ye(Cr,pe)+": "+ye(pe[Cr],pe)):hn.push(Cr+": "+ye(pe[Cr],pe))));if("function"==typeof X)for(var _o=0;_o<rn.length;_o++)ht.call(pe,rn[_o])&&hn.push("["+ye(rn[_o])+"]: "+ye(pe[rn[_o]],pe));return hn}},5376:ge=>{"use strict";var Ce=function(C){return C!=C};ge.exports=function(S,u){return 0===S&&0===u?1/S==1/u:!!(S===u||Ce(S)&&Ce(u))}},500:(ge,Ce,C)=>{"use strict";var S=C(9567),u=C(1773),H=C(5376),q=C(8204),B=C(2688),R=u(q(),Object);S(R,{getPolyfill:q,implementation:H,shim:B}),ge.exports=R},8204:(ge,Ce,C)=>{"use strict";var S=C(5376);ge.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(ge,Ce,C)=>{"use strict";var S=C(8204),u=C(9567);ge.exports=function(){var q=S();return u(Object,{is:q},{is:function(){return Object.is!==q}}),q}},1601:(ge,Ce,C)=>{"use strict";var S;if(!Object.keys){var u=Object.prototype.hasOwnProperty,H=Object.prototype.toString,q=C(6755),B=Object.prototype.propertyIsEnumerable,R=!B.call({toString:null},"toString"),E=B.call(function(){},"prototype"),I=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],K=function(T){var $=T.constructor;return $&&$.prototype===T},F={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if(typeof window>"u")return!1;for(var T in window)try{if(!F["$"+T]&&u.call(window,T)&&null!==window[T]&&"object"==typeof window[T])try{K(window[T])}catch{return!0}}catch{return!0}return!1}();S=function($){var de=null!==$&&"object"==typeof $,ve="[object Function]"===H.call($),oe=q($),G=de&&"[object String]"===H.call($),M=[];if(!de&&!ve&&!oe)throw new TypeError("Object.keys called on a non-object");var J=E&&ve;if(G&&$.length>0&&!u.call($,0))for(var le=0;le<$.length;++le)M.push(String(le));if(oe&&$.length>0)for(var ie=0;ie<$.length;++ie)M.push(String(ie));else for(var we in $)(!J||"prototype"!==we)&&u.call($,we)&&M.push(String(we));if(R)for(var Ae=function(T){if(typeof window>"u"||!k)return K(T);try{return K(T)}catch{return!1}}($),O=0;O<I.length;++O)(!Ae||"constructor"!==I[O])&&u.call($,I[O])&&M.push(I[O]);return M}}ge.exports=S},5692:(ge,Ce,C)=>{"use strict";var S=Array.prototype.slice,u=C(6755),H=Object.keys,q=H?function(E){return H(E)}:C(1601),B=Object.keys;q.shim=function(){if(Object.keys){var E=function(){var I=Object.keys(arguments);return I&&I.length===arguments.length}(1,2);E||(Object.keys=function(K){return u(K)?B(S.call(K)):B(K)})}else Object.keys=q;return Object.keys||q},ge.exports=q},6755:ge=>{"use strict";var Ce=Object.prototype.toString;ge.exports=function(S){var u=Ce.call(S),H="[object Arguments]"===u;return H||(H="[object Array]"!==u&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Ce.call(S.callee)),H}},8032:(ge,Ce,C)=>{"use strict";var S=C(5692),u=C(2759)(),H=C(1491),q=Object,B=H("Array.prototype.push"),R=H("Object.prototype.propertyIsEnumerable"),E=u?Object.getOwnPropertySymbols:null;ge.exports=function(K,F){if(null==K)throw new TypeError("target must be an object");var k=q(K);if(1===arguments.length)return k;for(var P=1;P<arguments.length;++P){var T=q(arguments[P]),$=S(T),de=u&&(Object.getOwnPropertySymbols||E);if(de)for(var ve=de(T),oe=0;oe<ve.length;++oe){var G=ve[oe];R(T,G)&&B($,G)}for(var M=0;M<$.length;++M){var J=$[M];R(T,J)&&(k[J]=T[J])}}return k}},5747:(ge,Ce,C)=>{"use strict";var S=C(9567),u=C(1773),H=C(8032),q=C(9530),B=C(4096),R=u.apply(q()),E=function(K,F){return R(Object,arguments)};S(E,{getPolyfill:q,implementation:H,shim:B}),ge.exports=E},9530:(ge,Ce,C)=>{"use strict";var S=C(8032);ge.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var q="abcdefghijklmnopqrst",B=q.split(""),R={},E=0;E<B.length;++E)R[B[E]]=B[E];var I=Object.assign({},R),K="";for(var F in I)K+=F;return q!==K}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var q=Object.preventExtensions({1:2});try{Object.assign(q,"xy")}catch{return"y"===q[1]}return!1}()?S:Object.assign}},4096:(ge,Ce,C)=>{"use strict";var S=C(9567),u=C(9530);ge.exports=function(){var q=u();return S(Object,{assign:q},{assign:function(){return Object.assign!==q}}),q}},6716:(ge,Ce)=>{"use strict";var C=Object.prototype.hasOwnProperty;function u(R){try{return decodeURIComponent(R.replace(/\+/g," "))}catch{return null}}function H(R){try{return encodeURIComponent(R)}catch{return null}}Ce.stringify=function B(R,E){E=E||"";var K,F,I=[];for(F in"string"!=typeof E&&(E="?"),R)if(C.call(R,F)){if(!(K=R[F])&&(null==K||isNaN(K))&&(K=""),F=H(F),K=H(K),null===F||null===K)continue;I.push(F+"="+K)}return I.length?E+I.join("&"):""},Ce.parse=function q(R){for(var K,E=/([^=?#&]+)=?([^&]*)/g,I={};K=E.exec(R);){var F=u(K[1]),k=u(K[2]);null===F||null===k||F in I||(I[F]=k)}return I}},7732:(ge,Ce,C)=>{"use strict";var S=C(2562),u=Object,H=TypeError;ge.exports=S(function(){if(null!=this&&this!==u(this))throw new H("RegExp.prototype.flags getter called on non-object");var B="";return this.hasIndices&&(B+="d"),this.global&&(B+="g"),this.ignoreCase&&(B+="i"),this.multiline&&(B+="m"),this.dotAll&&(B+="s"),this.unicode&&(B+="u"),this.unicodeSets&&(B+="v"),this.sticky&&(B+="y"),B},"get flags",!0)},4300:(ge,Ce,C)=>{"use strict";var S=C(9567),u=C(1773),H=C(7732),q=C(5848),B=C(6472),R=u(q());S(R,{getPolyfill:q,implementation:H,shim:B}),ge.exports=R},5848:(ge,Ce,C)=>{"use strict";var S=C(7732),u=C(9567).supportsDescriptors,H=Object.getOwnPropertyDescriptor;ge.exports=function(){if(u&&"gim"===/a/gim.flags){var B=H(RegExp.prototype,"flags");if(B&&"function"==typeof B.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var R="",E={};if(Object.defineProperty(E,"hasIndices",{get:function(){R+="d"}}),Object.defineProperty(E,"sticky",{get:function(){R+="y"}}),"dy"===R)return B.get}}return S}},6472:(ge,Ce,C)=>{"use strict";var S=C(9567).supportsDescriptors,u=C(5848),H=Object.getOwnPropertyDescriptor,q=Object.defineProperty,B=TypeError,R=Object.getPrototypeOf,E=/a/;ge.exports=function(){if(!S||!R)throw new B("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var K=u(),F=R(E),k=H(F,"flags");return(!k||k.get!==K)&&q(F,"flags",{configurable:!0,enumerable:!1,get:K}),K}},716:ge=>{"use strict";ge.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(ge,Ce,C)=>{"use strict";var S=C(3485),u=C(4467),H=C(7811)(),q=C(6078),B=S("%TypeError%"),R=S("%Math.floor%");ge.exports=function(I,K){if("function"!=typeof I)throw new B("`fn` is not a function");if("number"!=typeof K||K<0||K>4294967295||R(K)!==K)throw new B("`length` must be a positive 32-bit integer");var F=arguments.length>2&&!!arguments[2],k=!0,P=!0;if("length"in I&&q){var T=q(I,"length");T&&!T.configurable&&(k=!1),T&&!T.writable&&(P=!1)}return(k||P||!F)&&(H?u(I,"length",K,!0,!0):u(I,"length",K)),I}},2562:(ge,Ce,C)=>{"use strict";var S=C(4467),u=C(7811)(),H=C(7688).functionsHaveConfigurableNames(),q=TypeError;ge.exports=function(R,E){if("function"!=typeof R)throw new q("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||H)&&(u?S(R,"name",E,!0,!0):S(R,"name",E)),R}},4355:(ge,Ce,C)=>{"use strict";var S=C(3485),u=C(1491),H=C(2720),q=S("%TypeError%"),B=S("%WeakMap%",!0),R=S("%Map%",!0),E=u("WeakMap.prototype.get",!0),I=u("WeakMap.prototype.set",!0),K=u("WeakMap.prototype.has",!0),F=u("Map.prototype.get",!0),k=u("Map.prototype.set",!0),P=u("Map.prototype.has",!0),T=function(oe,G){for(var J,M=oe;null!==(J=M.next);M=J)if(J.key===G)return M.next=J.next,J.next=oe.next,oe.next=J,J};ge.exports=function(){var G,M,J,le={assert:function(ie){if(!le.has(ie))throw new q("Side channel does not contain "+H(ie))},get:function(ie){if(B&&ie&&("object"==typeof ie||"function"==typeof ie)){if(G)return E(G,ie)}else if(R){if(M)return F(M,ie)}else if(J)return function(oe,G){var M=T(oe,G);return M&&M.value}(J,ie)},has:function(ie){if(B&&ie&&("object"==typeof ie||"function"==typeof ie)){if(G)return K(G,ie)}else if(R){if(M)return P(M,ie)}else if(J)return function(oe,G){return!!T(oe,G)}(J,ie);return!1},set:function(ie,we){B&&ie&&("object"==typeof ie||"function"==typeof ie)?(G||(G=new B),I(G,ie,we)):R?(M||(M=new R),k(M,ie,we)):(J||(J={key:{},next:null}),function(oe,G,M){var J=T(oe,G);J?J.value=M:oe.next={key:G,next:oe.next,value:M}}(J,ie,we))}};return le}},118:(ge,Ce,C)=>{"use strict";var S=C(2605),u=SyntaxError,H="object"==typeof StopIteration?StopIteration:null;ge.exports=function(B){if(!H)throw new u("this environment lacks StopIteration");S.set(B,"[[Done]]",!1);var R={next:function(){var I=S.get(this,"[[Iterator]]"),K=S.get(I,"[[Done]]");try{return{done:K,value:K?void 0:I.next()}}catch(F){if(S.set(I,"[[Done]]",!0),F!==H)throw F;return{done:!0,value:void 0}}}};return S.set(R,"[[Iterator]]",B),R}},6299:(ge,Ce,C)=>{"use strict";var S=C(716),u=C(6716),H=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,q=/[\n\r\t]/g,B=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,R=/:\d+$/,E=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,I=/^[a-zA-Z]:/;function K(M){return(M||"").toString().replace(H,"")}var F=[["#","hash"],["?","query"],function(J,le){return T(le.protocol)?J.replace(/\\/g,"/"):J},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],k={hash:1,query:1};function P(M){var J;J=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ae,ie={},we=typeof(M=M||J.location||{});if("blob:"===M.protocol)ie=new ve(unescape(M.pathname),{});else if("string"===we)for(Ae in ie=new ve(M,{}),k)delete ie[Ae];else if("object"===we){for(Ae in M)Ae in k||(ie[Ae]=M[Ae]);void 0===ie.slashes&&(ie.slashes=B.test(M.href))}return ie}function T(M){return"file:"===M||"ftp:"===M||"http:"===M||"https:"===M||"ws:"===M||"wss:"===M}function $(M,J){M=(M=K(M)).replace(q,""),J=J||{};var N,le=E.exec(M),ie=le[1]?le[1].toLowerCase():"",we=!!le[2],Ae=!!le[3],O=0;return we?Ae?(N=le[2]+le[3]+le[4],O=le[2].length+le[3].length):(N=le[2]+le[4],O=le[2].length):Ae?(N=le[3]+le[4],O=le[3].length):N=le[4],"file:"===ie?O>=2&&(N=N.slice(2)):T(ie)?N=le[4]:ie?we&&(N=N.slice(2)):O>=2&&T(J.protocol)&&(N=le[4]),{protocol:ie,slashes:we||T(ie),slashesCount:O,rest:N}}function ve(M,J,le){if(M=(M=K(M)).replace(q,""),!(this instanceof ve))return new ve(M,J,le);var ie,we,Ae,O,N,ee,D=F.slice(),X=typeof J,U=this,he=0;for("object"!==X&&"string"!==X&&(le=J,J=null),le&&"function"!=typeof le&&(le=u.parse),ie=!(we=$(M||"",J=P(J))).protocol&&!we.slashes,U.slashes=we.slashes||ie&&J.slashes,U.protocol=we.protocol||J.protocol||"",M=we.rest,("file:"===we.protocol&&(2!==we.slashesCount||I.test(M))||!we.slashes&&(we.protocol||we.slashesCount<2||!T(U.protocol)))&&(D[3]=[/(.*)/,"pathname"]);he<D.length;he++)"function"!=typeof(O=D[he])?(ee=O[1],(Ae=O[0])!=Ae?U[ee]=M:"string"==typeof Ae?~(N="@"===Ae?M.lastIndexOf(Ae):M.indexOf(Ae))&&("number"==typeof O[2]?(U[ee]=M.slice(0,N),M=M.slice(N+O[2])):(U[ee]=M.slice(N),M=M.slice(0,N))):(N=Ae.exec(M))&&(U[ee]=N[1],M=M.slice(0,N.index)),U[ee]=U[ee]||ie&&O[3]&&J[ee]||"",O[4]&&(U[ee]=U[ee].toLowerCase())):M=O(M,U);le&&(U.query=le(U.query)),ie&&J.slashes&&"/"!==U.pathname.charAt(0)&&(""!==U.pathname||""!==J.pathname)&&(U.pathname=function de(M,J){if(""===M)return J;for(var le=(J||"/").split("/").slice(0,-1).concat(M.split("/")),ie=le.length,we=le[ie-1],Ae=!1,O=0;ie--;)"."===le[ie]?le.splice(ie,1):".."===le[ie]?(le.splice(ie,1),O++):O&&(0===ie&&(Ae=!0),le.splice(ie,1),O--);return Ae&&le.unshift(""),("."===we||".."===we)&&le.push(""),le.join("/")}(U.pathname,J.pathname)),"/"!==U.pathname.charAt(0)&&T(U.protocol)&&(U.pathname="/"+U.pathname),S(U.port,U.protocol)||(U.host=U.hostname,U.port=""),U.username=U.password="",U.auth&&(~(N=U.auth.indexOf(":"))?(U.username=U.auth.slice(0,N),U.username=encodeURIComponent(decodeURIComponent(U.username)),U.password=U.auth.slice(N+1),U.password=encodeURIComponent(decodeURIComponent(U.password))):U.username=encodeURIComponent(decodeURIComponent(U.auth)),U.auth=U.password?U.username+":"+U.password:U.username),U.origin="file:"!==U.protocol&&T(U.protocol)&&U.host?U.protocol+"//"+U.host:"null",U.href=U.toString()}ve.prototype={set:function oe(M,J,le){var ie=this;switch(M){case"query":"string"==typeof J&&J.length&&(J=(le||u.parse)(J)),ie[M]=J;break;case"port":ie[M]=J,S(J,ie.protocol)?J&&(ie.host=ie.hostname+":"+J):(ie.host=ie.hostname,ie[M]="");break;case"hostname":ie[M]=J,ie.port&&(J+=":"+ie.port),ie.host=J;break;case"host":ie[M]=J,R.test(J)?(J=J.split(":"),ie.port=J.pop(),ie.hostname=J.join(":")):(ie.hostname=J,ie.port="");break;case"protocol":ie.protocol=J.toLowerCase(),ie.slashes=!le;break;case"pathname":case"hash":if(J){var we="pathname"===M?"/":"#";ie[M]=J.charAt(0)!==we?we+J:J}else ie[M]=J;break;case"username":case"password":ie[M]=encodeURIComponent(J);break;case"auth":var Ae=J.indexOf(":");~Ae?(ie.username=J.slice(0,Ae),ie.username=encodeURIComponent(decodeURIComponent(ie.username)),ie.password=J.slice(Ae+1),ie.password=encodeURIComponent(decodeURIComponent(ie.password))):ie.username=encodeURIComponent(decodeURIComponent(J))}for(var O=0;O<F.length;O++){var N=F[O];N[4]&&(ie[N[1]]=ie[N[1]].toLowerCase())}return ie.auth=ie.password?ie.username+":"+ie.password:ie.username,ie.origin="file:"!==ie.protocol&&T(ie.protocol)&&ie.host?ie.protocol+"//"+ie.host:"null",ie.href=ie.toString(),ie},toString:function G(M){(!M||"function"!=typeof M)&&(M=u.stringify);var J,le=this,ie=le.host,we=le.protocol;we&&":"!==we.charAt(we.length-1)&&(we+=":");var Ae=we+(le.protocol&&le.slashes||T(le.protocol)?"//":"");return le.username?(Ae+=le.username,le.password&&(Ae+=":"+le.password),Ae+="@"):le.password?(Ae+=":"+le.password,Ae+="@"):"file:"!==le.protocol&&T(le.protocol)&&!ie&&"/"!==le.pathname&&(Ae+="@"),(":"===ie[ie.length-1]||R.test(le.hostname)&&!le.port)&&(ie+=":"),Ae+=ie+le.pathname,(J="object"==typeof le.query?M(le.query):le.query)&&(Ae+="?"!==J.charAt(0)?"?"+J:J),le.hash&&(Ae+=le.hash),Ae}},ve.extractProtocol=$,ve.location=P,ve.trimLeft=K,ve.qs=u,ge.exports=ve},8460:(ge,Ce,C)=>{"use strict";var S=C(2706),u=C(9065),H=C(2856),q=C(2630),B=C(7050);ge.exports=function(E){return null==E||"object"!=typeof E&&"function"!=typeof E?null:S(E)?"String":u(E)?"Number":H(E)?"Boolean":q(E)?"Symbol":B(E)?"BigInt":void 0}},927:(ge,Ce,C)=>{"use strict";var S=C(2418),u=C(1001),H=C(1773),q=C(1491),B=C(6078),R=q("Object.prototype.toString"),E=C(6518)(),I=typeof globalThis>"u"?global:globalThis,K=u(),F=q("String.prototype.slice"),k=Object.getPrototypeOf,P=q("Array.prototype.indexOf",!0)||function(oe,G){for(var M=0;M<oe.length;M+=1)if(oe[M]===G)return M;return-1},T={__proto__:null};S(K,E&&B&&k?function(ve){var oe=new I[ve];if(Symbol.toStringTag in oe){var G=k(oe),M=B(G,Symbol.toStringTag);if(!M){var J=k(G);M=B(J,Symbol.toStringTag)}T["$"+ve]=H(M.get)}}:function(ve){var oe=new I[ve],G=oe.slice||oe.set;G&&(T["$"+ve]=H(G))}),ge.exports=function(oe){if(!oe||"object"!=typeof oe)return!1;if(!E){var G=F(R(oe),8,-1);return P(K,G)>-1?G:"Object"===G&&function(oe){var G=!1;return S(T,function(M,J){if(!G)try{M(oe),G=F(J,1)}catch{}}),G}(oe)}return B?function(oe){var G=!1;return S(T,function(M,J){if(!G)try{"$"+M(oe)===J&&(G=F(J,1))}catch{}}),G}(oe):null}},863:(ge,Ce,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function u(H){if(!C.o(S,H))return Promise.resolve().then(()=>{var R=new Error("Cannot find module '"+H+"'");throw R.code="MODULE_NOT_FOUND",R});var q=S[H],B=q[0];return Promise.all(q.slice(1).map(C.e)).then(()=>C(B))}u.keys=()=>Object.keys(S),u.id=863,ge.exports=u},4654:()=>{},1001:ge=>{"use strict";var Ce=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;ge.exports=function(){for(var u=[],H=0;H<Ce.length;H++)"function"==typeof C[Ce[H]]&&(u[u.length]=Ce[H]);return u}},1324:(ge,Ce,C)=>{"use strict";var S=C(1568),u=C(118);if(C(2337)()||C(2759)()){var H=Symbol.iterator;ge.exports=function(N){return null!=N&&typeof N[H]<"u"?N[H]():S(N)?Array.prototype[H].call(N):void 0}}else{var q=C(9604),B=C(2706),R=C(3485),E=R("%Map%",!0),I=R("%Set%",!0),K=C(1491),F=K("Array.prototype.push"),k=K("String.prototype.charCodeAt"),P=K("String.prototype.slice"),$=function(N){var ee=0;return{next:function(){var U,X=ee>=N.length;return X||(U=N[ee],ee+=1),{done:X,value:U}}}},de=function(N,ee){if(q(N)||S(N))return $(N);if(B(N)){var D=0;return{next:function(){var U=function(N,ee){if(ee+1>=N.length)return ee+1;var X=k(N,ee);if(X<55296||X>56319)return ee+1;var U=k(N,ee+1);return U<56320||U>57343?ee+1:ee+2}(N,D),he=P(N,D,U);return D=U,{done:U>N.length,value:he}}}}return ee&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(E||I){var ve=C(6128),oe=C(5918),G=K("Map.prototype.forEach",!0),M=K("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var J=K("Map.prototype.iterator",!0),le=K("Set.prototype.iterator",!0);var ie=K("Map.prototype.@@iterator",!0)||K("Map.prototype._es6-shim iterator_",!0),we=K("Set.prototype.@@iterator",!0)||K("Set.prototype._es6-shim iterator_",!0);ge.exports=function(N){return function(N){if(ve(N)){if(J)return u(J(N));if(ie)return ie(N);if(G){var ee=[];return G(N,function(X,U){F(ee,[U,X])}),$(ee)}}if(oe(N)){if(le)return u(le(N));if(we)return we(N);if(M){var D=[];return M(N,function(X){F(D,X)}),$(D)}}}(N)||de(N)}}else ge.exports=function(N){if(null!=N)return de(N,!0)}}},9148:(ge,Ce,C)=>{"use strict";var S=C(6128),u=C(5918),H=C(1545),q=C(9043);ge.exports=function(R){if(R&&"object"==typeof R){if(S(R))return"Map";if(u(R))return"Set";if(H(R))return"WeakMap";if(q(R))return"WeakSet"}return!1}},3918:(ge,Ce,C)=>{"use strict";function S(H,q,B,R,E,I,K){try{var F=H[I](K),k=F.value}catch(P){return void B(P)}F.done?q(k):Promise.resolve(k).then(R,E)}function u(H){return function(){var q=this,B=arguments;return new Promise(function(R,E){var I=H.apply(q,B);function K(k){S(I,R,E,K,F,"next",k)}function F(k){S(I,R,E,K,F,"throw",k)}K(void 0)})}}C.d(Ce,{Z:()=>u})}},ge=>{ge(ge.s=6996)}]);
//# sourceMappingURL=main.620df9cb86038b9e.js.map