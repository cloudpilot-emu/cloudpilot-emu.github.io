(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7304:(me,we,C)=>{"use strict";let u=null,Y=1;function R(e){const t=u;return u=e,t}function T(e){if((!xe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Y)){if(!e.producerMustRecompute(e)&&!M(e))return e.dirty=!1,void(e.lastCleanEpoch=Y);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Y}}function M(e){Re(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(T(r),n!==r.version))return!0}return!1}function se(e,t){if(function O(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Re(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)se(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Re(o),o.producerIndexOfThis[n]=t}}function xe(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Re(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Be=null;function Te(e){return"function"==typeof e}function Se(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const ge=Se(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Te(n))try{n()}catch(i){t=i instanceof ge?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{rn(i)}catch(s){t=t??[],s instanceof ge?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ge(t)}}add(t){var r;if(t&&t!==this)if(this.closed)rn(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const e=new yt;return e.closed=!0,e})();const Nt=yt.EMPTY;function dn(e){return e instanceof yt||e&&"closed"in e&&Te(e.remove)&&Te(e.add)&&Te(e.unsubscribe)}function rn(e){Te(e)?e():e.unsubscribe()}const pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jt={setTimeout(e,t,...r){const{delegate:n}=Jt;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Jt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _r(e){Jt.setTimeout(()=>{const{onUnhandledError:t}=pn;if(!t)throw e;t(e)})}function Wn(){}const Wo=Rn("C",void 0,void 0);function Rn(e,t,r){return{kind:e,value:t,error:r}}let Br=null;function Hr(e){if(pn.useDeprecatedSynchronousErrorHandling){const t=!Br;if(t&&(Br={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Br;if(Br=null,r)throw n}}else e()}class Zn extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dn(t)&&t.add(this)):this.destination=on}static create(t,r,n){return new be(t,r,n)}next(t){this.isStopped?Cn(function wo(e){return Rn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Cn(function So(e){return Rn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Cn(Wo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const go=Function.prototype.bind;function Vr(e,t){return go.call(e,t)}class pe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){cn(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){cn(n)}else cn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){cn(r)}}}class be extends Zn{constructor(t,r,n){let o;if(super(),Te(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&pn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Vr(t.next,i),error:t.error&&Vr(t.error,i),complete:t.complete&&Vr(t.complete,i)}):o=t}this.destination=new pe(o)}}function cn(e){pn.useDeprecatedSynchronousErrorHandling?function ro(e){pn.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=e)}(e):_r(e)}function Cn(e,t){const{onStoppedNotification:r}=pn;r&&Jt.setTimeout(()=>r(e,t))}const on={closed:!0,next:Wn,error:function mn(e){throw e},complete:Wn},fo="function"==typeof Symbol&&Symbol.observable||"@@observable";function tr(e){return e}function _o(e){return 0===e.length?tr:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let On=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Gi(e){return e&&e instanceof Zn||function oo(e){return e&&Te(e.next)&&Te(e.error)&&Te(e.complete)}(e)&&dn(e)}(r)?r:new be(r,n,o);return Hr(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Do(n))((o,i)=>{const s=new be({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[fo](){return this}pipe(...r){return _o(r)(this)}toPromise(r){return new(r=Do(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Do(e){var t;return null!==(t=e??pn.Promise)&&void 0!==t?t:Promise}const Oo=Se(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let In=(()=>{class e extends On{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new vr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Oo}next(r){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Nt:(this.currentObservers=null,i.push(r),new yt(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new On;return r.source=this,r}}return e.create=(t,r)=>new vr(t,r),e})();class vr extends In{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Nt}}function yr(e){return Te(e?.lift)}function xn(e){return t=>{if(yr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nn(e,t,r,n,o){return new fi(e,t,r,n,o)}class fi extends Zn{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function un(e,t){return xn((r,n)=>{let o=0;r.subscribe(Nn(n,i=>{n.next(e.call(t,i,o++))}))})}function ae(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function No(e){return this instanceof No?(this.v=e,this):new No(e)}function Tn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ei(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ut=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function m(e){return Te(e?.then)}function w(e){return Te(e[fo])}function $(e){return Symbol.asyncIterator&&Te(e?.[Symbol.asyncIterator])}function ne(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ue=function Me(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ke(e){return Te(e?.[ue])}function Ye(e){return function ni(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){n[g]&&(o[g]=function(b){return new Promise(function(V,ee){i.push([g,b,V,ee])>1||a(g,b)})})}function a(g,b){try{!function l(g){g.value instanceof No?Promise.resolve(g.value.v).then(c,f):h(i[0][2],g)}(n[g](b))}catch(V){h(i[0][3],V)}}function c(g){a("next",g)}function f(g){a("throw",g)}function h(g,b){g(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield No(r.read());if(o)return yield No(void 0);yield yield No(n)}}finally{r.releaseLock()}})}function et(e){return Te(e?.getReader)}function A(e){if(e instanceof On)return e;if(null!=e){if(w(e))return function St(e){return new On(t=>{const r=e[fo]();if(Te(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ut(e))return function At(e){return new On(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(m(e))return function kt(e){return new On(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,_r)})}(e);if($(e))return Dr(e);if(Ke(e))return function Sn(e){return new On(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(et(e))return function jr(e){return Dr(Ye(e))}(e)}throw ne(e)}function Dr(e){return new On(t=>{(function Wr(e,t){var r,n,o,i;return function Ui(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Tn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Kn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Bn(e,t,r=1/0){return Te(t)?Bn((n,o)=>un((i,s)=>t(n,i,o,s))(A(e(n,o))),r):("number"==typeof t&&(r=t),xn((n,o)=>function Yi(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,h=!1;const g=()=>{h&&!l.length&&!c&&t.complete()},b=ee=>c<n?V(ee):l.push(ee),V=ee=>{i&&t.next(ee),c++;let ye=!1;A(r(ee,f++)).subscribe(Nn(t,Ee=>{o?.(Ee),i?b(Ee):t.next(Ee)},()=>{ye=!0},void 0,()=>{if(ye)try{for(c--;l.length&&c<n;){const Ee=l.shift();s?Kn(t,s,()=>V(Ee)):V(Ee)}g()}catch(Ee){t.error(Ee)}}))};return e.subscribe(Nn(t,b,()=>{h=!0,g()})),()=>{a?.()}}(n,o,e,r)))}function Fo(e=1/0){return Bn(tr,e)}const Io=new On(e=>e.complete());function na(e){return e&&Te(e.schedule)}function Ps(e){return e[e.length-1]}function ra(e){return Te(Ps(e))?e.pop():void 0}function Xi(e){return na(Ps(e))?e.pop():void 0}function oa(e,t=0){return xn((r,n)=>{r.subscribe(Nn(n,o=>Kn(n,e,()=>n.next(o),t),()=>Kn(n,e,()=>n.complete(),t),o=>Kn(n,e,()=>n.error(o),t)))})}function ia(e,t=0){return xn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function sa(e,t){if(!e)throw new Error("Iterable cannot be null");return new On(r=>{Kn(r,t,()=>{const n=e[Symbol.asyncIterator]();Kn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function Er(e,t){return t?function $a(e,t){if(null!=e){if(w(e))return function Pa(e,t){return A(e).pipe(ia(t),oa(t))}(e,t);if(ut(e))return function Na(e,t){return new On(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(m(e))return function Oa(e,t){return A(e).pipe(ia(t),oa(t))}(e,t);if($(e))return sa(e,t);if(Ke(e))return function Fa(e,t){return new On(r=>{let n;return Kn(r,t,()=>{n=e[ue](),Kn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>Te(n?.return)&&n.return()})}(e,t);if(et(e))return function La(e,t){return sa(Ye(e),t)}(e,t)}throw ne(e)}(e,t):A(e)}function aa(...e){const t=Xi(e),r=function Ra(e,t){return"number"==typeof Ps(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?A(n[0]):Fo(r)(Er(n,t)):Io}class po extends In{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Ht(...e){return Er(e,Xi(e))}function la(e={}){const{connector:t=(()=>new In),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},b=()=>{g(),s=l=void 0,f=h=!1},V=()=>{const ee=s;b(),ee?.unsubscribe()};return xn((ee,ye)=>{c++,!h&&!f&&g();const Ee=l=l??t();ye.add(()=>{c--,0===c&&!h&&!f&&(a=Os(V,o))}),Ee.subscribe(ye),!s&&c>0&&(s=new be({next:Ie=>Ee.next(Ie),error:Ie=>{h=!0,g(),a=Os(b,r,Ie),Ee.error(Ie)},complete:()=>{f=!0,g(),a=Os(b,n),Ee.complete()}}),A(ee).subscribe(s))})(i)}}function Os(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new be({next:()=>{n.unsubscribe(),e()}});return A(t(...r)).subscribe(n)}function eo(e,t){return xn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Nn(n,l=>{o?.unsubscribe();let c=0;const f=i++;A(e(l,f)).subscribe(o=Nn(n,h=>n.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ns(e,t=tr){return e=e??Ba,xn((r,n)=>{let o,i=!0;r.subscribe(Nn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Ba(e,t){return e===t}function Vn(e){for(let t in e)if(e[t]===Vn)return t;throw Error("Could not find renamed property on target object.")}function ps(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ir(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ir).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Fs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Va=Vn({__forward_ref__:Vn});function Hn(e){return e.__forward_ref__=Hn,e.toString=function(){return Ir(this())},e}function Yt(e){return hs(e)?e():e}function hs(e){return"function"==typeof e&&e.hasOwnProperty(Va)&&e.__forward_ref__===Hn}function Ls(e){return e&&!!e.\u0275providers}const ca="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function Qi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const ms=Vn({\u0275cmp:Vn}),Ji=Vn({\u0275dir:Vn}),ua=Vn({\u0275pipe:Vn}),da=Vn({\u0275mod:Vn}),ri=Vn({\u0275fac:Vn}),br=Vn({__NG_ELEMENT_ID__:Vn}),qo=Vn({__NG_ENV_ID__:Vn});function Bt(e){return"string"==typeof e?e:null==e?"":String(e)}function gs(e,t){throw new Xe(-201,!1)}function qt(e,t){null==e&&function ot(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function $e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function sr(e){return Or(e,p)||Or(e,re)}function Or(e,t){return e.hasOwnProperty(t)?e[t]:null}function We(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(Fe))?e[x]:null}const p=Vn({\u0275prov:Vn}),x=Vn({\u0275inj:Vn}),re=Vn({ngInjectableDef:Vn}),Fe=Vn({ngInjectorDef:Vn});var Qe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qe||{});let gn;function sn(){return gn}function Kt(e){const t=gn;return gn=e,t}function lr(e,t,r){const n=sr(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Qe.Optional?null:void 0!==t?t:void gs(Ir(e))}const jn=globalThis;class pt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=$e({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zl={},pu="__NG_DI_FLAG__",Ic="ngTempTokenPath",ih=/\n/gm,Yd="__source";let yl;function pa(e){const t=yl;return yl=e,t}function lh(e,t=Qe.Default){if(void 0===yl)throw new Xe(-203,!1);return null===yl?lr(e,void 0,t):yl.get(e,t&Qe.Optional?null:void 0,t)}function ce(e,t=Qe.Default){return(sn()||lh)(Yt(e),t)}function rt(e,t=Qe.Default){return ce(e,xc(t))}function xc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function hu(e){const t=[];for(let r=0;r<e.length;r++){const n=Yt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Qe.Default;for(let s=0;s<n.length;s++){const a=n[s],l=ch(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ce(o,i))}else t.push(ce(n))}return t}function Wl(e,t){return e[pu]=t,e.prototype[pu]=t,e}function ch(e){return e[pu]}function Bs(e){return{toString:e}.toString()}var Tc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Tc||{}),es=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(es||{});const _s={},Qn=[];function Xd(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function mu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Jd(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function Qd(e){return 3===e||4===e||6===e}function Jd(e){return 64===e.charCodeAt(0)}function Zl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||ef(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function ef(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const tf="ng-template";function fh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Xd(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function nf(e){return 4===e.type&&e.value!==tf}function ph(e,t,r){return t===(4!==e.type||r?e.value:tf)}function hh(e,t,r){let n=4;const o=e.attrs||[],i=function _h(e){for(let t=0;t<e.length;t++)if(Qd(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!ph(e,l,r)||""===l&&1===t.length){if(ts(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!fh(e.attrs,c,r)){if(ts(n))return!1;s=!0}continue}const h=mh(8&n?"class":l,o,nf(e),r);if(-1===h){if(ts(n))return!1;s=!0;continue}if(""!==c){let g;g=h>i?"":o[h+1].toLowerCase();const b=8&n?g:null;if(b&&-1!==Xd(b,c,0)||2&n&&c!==g){if(ts(n))return!1;s=!0}}}}else{if(!s&&!ts(n)&&!ts(l))return!1;if(s&&ts(l))continue;s=!1,n=l|1&n}}return ts(n)||s}function ts(e){return 0==(1&e)}function mh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function vh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function rf(e,t,r=!1){for(let n=0;n<t.length;n++)if(hh(e,t[n],r))return!0;return!1}function yh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function sf(e,t){return e?":not("+t.trim()+")":t}function bh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!ts(s)&&(t+=sf(i,o),o=""),n=s,i=i||!ts(n);r++}return""!==o&&(t+=sf(i,o)),t}function Ze(e){return Bs(()=>{const t=Vs(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Tc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||es.Emulated,styles:e.styles||Qn,_:null,schemas:e.schemas||null,tView:null,id:""};Gn(r);const n=e.dependencies;return r.directiveDefs=gu(n,!1),r.pipeDefs=gu(n,!0),r.id=function M_(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function wh(e){return _n(e)||To(e)}function x_(e){return null!==e}function io(e){return Bs(()=>({type:e.type,bootstrap:e.bootstrap||Qn,declarations:e.declarations||Qn,imports:e.imports||Qn,exports:e.exports||Qn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dh(e,t){if(null==e)return _s;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Lt(e){return Bs(()=>{const t=Vs(e);return Gn(t),t})}function Yo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function _n(e){return e[ms]||null}function To(e){return e[Ji]||null}function $o(e){return e[ua]||null}function Mn(e,t){const r=e[da]||null;if(!r&&!0===t)throw new Error(`Type ${Ir(e)} does not have '\u0275mod' property.`);return r}function Vs(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||_s,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Qn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dh(e.inputs,t),outputs:Dh(e.outputs),debugInfo:null}}function Gn(e){e.features?.forEach(t=>t(e))}function gu(e,t){if(!e)return null;const r=t?$o:wh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(x_)}const so=0,gt=1,it=2,Dn=3,An=4,Ae=5,nr=6,kn=7,tn=8,ur=9,Mo=10,Wt=11,ao=12,to=13,Zt=14,Un=15,Nr=16,Tr=17,d=18,y=19,q=20,ke=21,It=22,en=23,dt=25,vn=1,Gr=7,vs=9,$n=10;var js=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(js||{});function yo(e){return Array.isArray(e)&&"object"==typeof e[vn]}function lo(e){return Array.isArray(e)&&!0===e[vn]}function _u(e){return 0!=(4&e.flags)}function ga(e){return e.componentOffset>-1}function _t(e){return 1==(1&e.flags)}function Xt(e){return!!e.template}function gi(e){return 0!=(512&e[it])}function Mc(e,t){return e.hasOwnProperty(ri)?e[ri]:null}class KR{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function vi(){return q0}function q0(e){return e.type.prototype.ngOnChanges&&(e.setInput=QR),XR}function XR(){const e=K0(this),t=e?.current;if(t){const r=e.previous;if(r===_s)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function QR(e,t,r,n){const o=this.declaredInputs[r],i=K0(e)||function JR(e,t){return e[Y0]=t}(e,{previous:_s,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new KR(l&&l.currentValue,t,a===_s),e[n]=t}vi.ngInherit=!0;const Y0="__ngSimpleChanges__";function K0(e){return e[Y0]||null}const Ua=function(e,t,r){};function qr(e){for(;Array.isArray(e);)e=e[so];return e}function lf(e,t){return qr(t[e])}function xi(e,t){return qr(t[e.index])}function cf(e,t){return e.data[t]}function yu(e,t){return e[t]}function ys(e,t){const r=t[e];return yo(r)?r:r[so]}function P_(e){return 128==(128&e[it])}function Ha(e,t){return null==t?null:e[t]}function J0(e){e[Tr]=0}function oP(e){1024&e[it]||(e[it]|=1024,P_(e)&&Eh(e))}function tS(e){return 9216&e[it]||e[en]?.dirty}function nS(e){tS(e)&&Eh(e)}function Eh(e){let t=e[Dn];for(;null!==t&&!(lo(t)&&t[it]&js.HasChildViewsToRefresh||yo(t)&&8192&t[it]);){if(lo(t))t[it]|=js.HasChildViewsToRefresh;else if(t[it]|=8192,!P_(t))break;t=t[Dn]}}function Ih(e,t){if(256==(256&e[it]))throw new Xe(911,!1);null===e[ke]&&(e[ke]=[]),e[ke].push(t)}const fn={lFrame:fS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oS(){return fn.bindingsEnabled}function bu(){return null!==fn.skipHydrationRootTNode}function He(){return fn.lFrame.lView}function Jn(){return fn.lFrame.tView}function Pt(e){return fn.lFrame.contextLView=e,e[tn]}function Ot(e){return fn.lFrame.contextLView=null,e}function Fr(){let e=iS();for(;null!==e&&64===e.type;)e=e.parent;return e}function iS(){return fn.lFrame.currentTNode}function za(e,t){const r=fn.lFrame;r.currentTNode=e,r.isParent=t}function N_(){return fn.lFrame.isParent}function F_(){fn.lFrame.isParent=!1}function bl(){return fn.lFrame.bindingIndex}function Wa(){return fn.lFrame.bindingIndex++}function Cl(e){const t=fn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function mP(e,t){const r=fn.lFrame;r.bindingIndex=r.bindingRootIndex=e,L_(t)}function L_(e){fn.lFrame.currentDirectiveIndex=e}function cS(){return fn.lFrame.currentQueryIndex}function B_(e){fn.lFrame.currentQueryIndex=e}function _P(e){const t=e[gt];return 2===t.type?t.declTNode:1===t.type?e[Ae]:null}function uS(e,t,r){if(r&Qe.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Qe.Host||(o=_P(i),null===o||(i=i[Zt],10&o.type))););if(null===o)return!1;t=o,e=i}const n=fn.lFrame=dS();return n.currentTNode=t,n.lView=e,!0}function V_(e){const t=dS(),r=e[gt];fn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function dS(){const e=fn.lFrame,t=null===e?null:e.child;return null===t?fS(e):t}function fS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pS(){const e=fn.lFrame;return fn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hS=pS;function j_(){const e=pS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yi(){return fn.lFrame.selectedIndex}function Ac(e){fn.lFrame.selectedIndex=e}function no(){const e=fn.lFrame;return cf(e.tView,e.selectedIndex)}let gS=!0;function xh(){return gS}function ql(e){gS=e}function Th(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function Mh(e,t,r){_S(e,t,3,r)}function Ah(e,t,r,n){(3&e[it])===r&&_S(e,t,r,n)}function G_(e,t){let r=e[it];(3&r)===t&&(r&=16383,r+=1,e[it]=r)}function _S(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Tr]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Tr]+=65536),(a<i||-1==i)&&(DP(e,r,t,l),e[Tr]=(4294901760&e[Tr])+l+2),l++}function vS(e,t){Ua(4,e,t);const r=R(null);try{t.call(e)}finally{R(r),Ua(5,e,t)}}function DP(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[it]>>14<e[Tr]>>16&&(3&e[it])===t&&(e[it]+=16384,vS(a,i)):vS(a,i)}const Cu=-1;class df{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function H_(e){return e!==Cu}function ff(e){return 32767&e}function pf(e,t){let r=function MP(e){return e>>16}(e),n=t;for(;r>0;)n=n[Zt],r--;return n}let z_=!0;function kh(e){const t=z_;return z_=e,t}const yS=255,bS=5;let AP=0;const Za={};function Rh(e,t){const r=CS(e,t);if(-1!==r)return r;const n=t[gt];n.firstCreatePass&&(e.injectorIndex=t.length,W_(n.data,e),W_(t,null),W_(n.blueprint,null));const o=Ph(e,t),i=e.injectorIndex;if(H_(o)){const s=ff(o),a=pf(o,t),l=a[gt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function W_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function CS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ph(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=TS(o),null===n)return Cu;if(r++,o=o[Zt],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Cu}function Z_(e,t,r){!function kP(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(br)&&(n=r[br]),null==n&&(n=r[br]=AP++);const o=n&yS;t.data[e+(o>>bS)]|=1<<o}(e,t,r)}function SS(e,t,r){if(r&Qe.Optional||void 0!==e)return e;gs()}function wS(e,t,r,n){if(r&Qe.Optional&&void 0===n&&(n=null),!(r&(Qe.Self|Qe.Host))){const o=e[ur],i=Kt(void 0);try{return o?o.get(t,n,r&Qe.Optional):lr(t,n,r&Qe.Optional)}finally{Kt(i)}}return SS(n,0,r)}function DS(e,t,r,n=Qe.Default,o){if(null!==e){if(2048&t[it]&&!(n&Qe.Self)){const s=function FP(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[it]&&!(512&s[it]);){const a=ES(i,s,r,n|Qe.Self,Za);if(a!==Za)return a;let l=i.parent;if(!l){const c=s[q];if(c){const f=c.get(r,Za,n);if(f!==Za)return f}l=TS(s),s=s[Zt]}i=l}return o}(e,t,r,n,Za);if(s!==Za)return s}const i=ES(e,t,r,n,Za);if(i!==Za)return i}return wS(t,r,n,o)}function ES(e,t,r,n,o){const i=function OP(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(br)?e[br]:void 0;return"number"==typeof t?t>=0?t&yS:NP:t}(r);if("function"==typeof i){if(!uS(t,e,n))return n&Qe.Host?SS(o,0,n):wS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Qe.Optional)return s;gs()}finally{hS()}}else if("number"==typeof i){let s=null,a=CS(e,t),l=Cu,c=n&Qe.Host?t[Un][Ae]:null;for((-1===a||n&Qe.SkipSelf)&&(l=-1===a?Ph(e,t):t[a+8],l!==Cu&&xS(n,!1)?(s=t[gt],a=ff(l),t=pf(l,t)):a=-1);-1!==a;){const f=t[gt];if(IS(i,a,f.data)){const h=PP(a,t,r,s,n,c);if(h!==Za)return h}l=t[a+8],l!==Cu&&xS(n,t[gt].data[a+8]===c)&&IS(i,a,t)?(s=f,a=ff(l),t=pf(l,t)):a=-1}}return o}function PP(e,t,r,n,o,i){const s=t[gt],a=s.data[e+8],f=Oh(a,s,r,null==n?ga(a)&&z_:n!=s&&0!=(3&a.type),o&Qe.Host&&i===a);return null!==f?kc(t,s,f,a):Za}function Oh(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,g=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<g;b++){const V=s[b];if(b<l&&r===V||b>=l&&V.type===r)return b}if(o){const b=s[l];if(b&&Xt(b)&&b.type===r)return l}return null}function kc(e,t,r,n){let o=e[r];const i=t.data;if(function EP(e){return e instanceof df}(o)){const s=o;s.resolving&&function vl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Fn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Bt(e)}(i[r]));const a=kh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Kt(s.injectImpl):null;uS(e,n,Qe.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function wP(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=q0(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&Kt(c),kh(a),s.resolving=!1,hS()}}return o}function IS(e,t,r){return!!(r[t+(e>>bS)]&1<<e)}function xS(e,t){return!(e&Qe.Self||e&Qe.Host&&t)}class Ko{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return DS(this._tNode,this._lView,t,xc(n),r)}}function NP(){return new Ko(Fr(),He())}function Yr(e){return Bs(()=>{const t=e.prototype.constructor,r=t[ri]||q_(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ri]||q_(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function q_(e){return hs(e)?()=>{const t=q_(Yt(e));return t&&t()}:Mc(e)}function TS(e){const t=e[gt],r=t.type;return 2===r?t.declTNode:1===r?e[Ae]:null}function Yl(e){return function RP(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(Qd(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Fr(),e)}const Eu="__parameters__";function xu(e,t,r){return Bs(()=>{const n=function Y_(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const h=l.hasOwnProperty(Eu)?l[Eu]:Object.defineProperty(l,Eu,{value:[]})[Eu];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Mu(e,t){e.forEach(r=>Array.isArray(r)?Mu(r,t):t(r))}function AS(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Nh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function mf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function bs(e,t,r){let n=Au(e,t);return n>=0?e[1|n]=r:(n=~n,function kS(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function X_(e,t){const r=Au(e,t);if(r>=0)return e[1|r]}function Au(e,t){return function RS(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Lh=Wl(xu("Optional"),8),$h=Wl(xu("SkipSelf"),4),Ru=new pt("ENVIRONMENT_INITIALIZER"),FS=new pt("INJECTOR",-1),ev=new pt("INJECTOR_DEF_TYPES");class Vh{get(t,r=zl){if(r===zl){const n=new Error(`NullInjectorError: No provider for ${Ir(t)}!`);throw n.name="NullInjectorError",n}return r}}function oO(...e){return{\u0275providers:LS(0,e),\u0275fromNgModule:!0}}function LS(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return Mu(t,s=>{const a=s;jh(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&$S(o,i),r}function $S(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];nv(o,i=>{t(i,n)})}}function jh(e,t,r,n){if(!(e=Yt(e)))return!1;let o=null,i=We(e);const s=!i&&_n(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=We(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)jh(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{Mu(i.imports,f=>{jh(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&$S(c,t)}if(!a){const c=Mc(o)||(()=>new o);t({provide:o,useFactory:c,deps:Qn},o),t({provide:ev,useValue:o,multi:!0},o),t({provide:Ru,useValue:()=>ce(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;nv(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function nv(e,t){for(let r of e)Ls(r)&&(r=r.\u0275providers),Array.isArray(r)?nv(r,t):t(r)}const iO=Vn({provide:String,useValue:Vn});function rv(e){return null!==e&&"object"==typeof e&&iO in e}function Rc(e){return"function"==typeof e}const ov=new pt("Set Injector scope."),Gh={},aO={};let iv;function Uh(){return void 0===iv&&(iv=new Vh),iv}class ii{}class Pu extends ii{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,av(t,s=>this.processProvider(s)),this.records.set(FS,Ou(void 0,this)),o.has("environment")&&this.records.set(ii,Ou(void 0,this));const i=this.records.get(ov);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ev,Qn,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=pa(this),n=Kt(void 0);try{return t()}finally{pa(r),Kt(n)}}get(t,r=zl,n=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(qo))return t[qo](this);n=xc(n);const i=pa(this),s=Kt(void 0);try{if(!(n&Qe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function fO(e){return"function"==typeof e||"object"==typeof e&&e instanceof pt}(t)&&sr(t);l=c&&this.injectableDefInScope(c)?Ou(sv(t),Gh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Qe.Self?Uh():this.parent).get(t,r=n&Qe.Optional&&r===zl?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Ic]=a[Ic]||[]).unshift(Ir(t)),i)throw a;return function uh(e,t,r,n){const o=e[Ic];throw t[Yd]&&o.unshift(t[Yd]),e.message=function dh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ir(t);if(Array.isArray(t))o=t.map(Ir).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Ir(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(ih,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Ic]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Kt(s),pa(i)}}resolveInjectorInitializers(){const t=pa(this),r=Kt(void 0);try{const o=this.get(Ru,Qn,Qe.Self);for(const i of o)i()}finally{pa(t),Kt(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Ir(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=Rc(t=Yt(t))?t:Yt(t&&t.provide);const n=function cO(e){return rv(e)?Ou(void 0,e.useValue):Ou(jS(e),Gh)}(t);if(Rc(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ou(void 0,Gh,!0),o.factory=()=>hu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Gh&&(r.value=aO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function dO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Yt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function sv(e){const t=sr(e),r=null!==t?t.factory:Mc(e);if(null!==r)return r;if(e instanceof pt)throw new Xe(204,!1);if(e instanceof Function)return function lO(e){const t=e.length;if(t>0)throw mf(t,"?"),new Xe(204,!1);const r=function ar(e){return e&&(e[p]||e[re])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function jS(e,t,r){let n;if(Rc(e)){const o=Yt(e);return Mc(o)||sv(o)}if(rv(e))n=()=>Yt(e.useValue);else if(function VS(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...hu(e.deps||[]));else if(function BS(e){return!(!e||!e.useExisting)}(e))n=()=>ce(Yt(e.useExisting));else{const o=Yt(e&&(e.useClass||e.provide));if(!function uO(e){return!!e.deps}(e))return Mc(o)||sv(o);n=()=>new o(...hu(e.deps))}return n}function Ou(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function av(e,t){for(const r of e)Array.isArray(r)?av(r,t):r&&Ls(r)?av(r.\u0275providers,t):t(r)}function Kl(e,t){e instanceof Pu&&e.assertNotDestroyed();const n=pa(e),o=Kt(void 0);try{return t()}finally{pa(n),Kt(o)}}function zS(e,t=null,r=null,n){const o=WS(e,t,r,n);return o.resolveInjectorInitializers(),o}function WS(e,t=null,r=null,n,o=new Set){const i=[r||Qn,oO(e)];return n=n||("object"==typeof e?void 0:Ir(e)),new Pu(i,t||Uh(),n||null,o)}let uv,Kr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return zS({name:""},o,n,"");{const i=n.name??"";return zS({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=zl,e.NULL=new Vh,e.\u0275prov=$e({token:e,providedIn:"any",factory:()=>ce(FS)}),e.__NG_ELEMENT_ID__=-1,t})();const zh=new pt("AppId",{providedIn:"root",factory:()=>CO}),CO="ng",qS=new pt("Platform Initializer"),Jl=new pt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YS=new pt("CSP nonce",{providedIn:"root",factory:()=>function Ql(){if(void 0!==uv)return uv;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Cs(e){return e instanceof Function?e():e}function Yh(e){return 128==(128&e.flags)}var nc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(nc||{});const kO=/^>|^->|<!--|-->|--!>|<!-$/g,RO=/(<|>)/g,PO="\u200b$1\u200b";const mv=new Map;let OO=0;const _v="__ngContext__";function bi(e,t){yo(t)?(e[_v]=t[y],function FO(e){mv.set(e[y],e)}(t)):e[_v]=t}let vv;function yv(e,t){return vv(e,t)}function Cf(e){const t=e[Dn];return lo(t)?t[Dn]:t}function pw(e){return mw(e[ao])}function hw(e){return mw(e[An])}function mw(e){for(;null!==e&&!lo(e);)e=e[An];return e}function Fu(e,t,r,n,o){if(null!=n){let i,s=!1;lo(n)?i=n:yo(n)&&(s=!0,n=n[so]);const a=qr(n);0===e&&null!==r?null==o?yw(t,r,a):Pc(t,r,a,o||null,!0):1===e&&null!==r?Pc(t,r,a,o||null,!0):2===e?function nm(e,t,r){const n=em(e,t);n&&function t2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function o2(e,t,r,n,o){const i=r[Gr];i!==qr(r)&&Fu(t,e,n,i,o);for(let a=$n;a<r.length;a++){const l=r[a];Df(l[gt],l,e,t,n,i)}}(t,e,i,r,o)}}function bv(e,t){return e.createComment(function iw(e){return e.replace(kO,t=>t.replace(RO,PO))}(t))}function Qh(e,t,r){return e.createElement(t,r)}function _w(e,t){const r=e[vs],n=r.indexOf(t);r.splice(n,1)}function Sf(e,t){if(e.length<=$n)return;const r=$n+t,n=e[r];if(n){const o=n[Nr];null!==o&&o!==e&&_w(o,n),t>0&&(e[r-1][An]=n[An]);const i=Nh(e,$n+t);!function ZO(e,t){Df(e,t,t[Wt],2,null,null),t[so]=null,t[Ae]=null}(n[gt],n);const s=i[d];null!==s&&s.detachView(i[gt]),n[Dn]=null,n[An]=null,n[it]&=-129}return n}function Jh(e,t){if(!(256&t[it])){const r=t[Wt];r.destroyNode&&Df(e,t,r,3,null,null),function KO(e){let t=e[ao];if(!t)return Cv(e[gt],e);for(;t;){let r=null;if(yo(t))r=t[ao];else{const n=t[$n];n&&(r=n)}if(!r){for(;t&&!t[An]&&t!==e;)yo(t)&&Cv(t[gt],t),t=t[Dn];null===t&&(t=e),yo(t)&&Cv(t[gt],t),r=t&&t[An]}t=r}}(t)}}function Cv(e,t){if(!(256&t[it])){t[it]&=-129,t[it]|=256,t[en]&&function J(e){if(Re(e),xe(e))for(let t=0;t<e.producerNode.length;t++)se(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[en]),function e2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof df)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ua(4,a,l);try{l.call(a)}finally{Ua(5,a,l)}}else{Ua(4,o,i);try{i.call(o)}finally{Ua(5,o,i)}}}}}(e,t),function JO(e,t){const r=e.cleanup,n=t[kn];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[kn]=null);const o=t[ke];if(null!==o){t[ke]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[gt].type&&t[Wt].destroy();const r=t[Nr];if(null!==r&&lo(t[Dn])){r!==t[Dn]&&_w(r,t);const n=t[d];null!==n&&n.detachView(e)}!function LO(e){mv.delete(e[y])}(t)}}function Sv(e,t,r){return function vw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[so];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===es.None||i===es.Emulated)return null}return xi(n,r)}}(e,t.parent,r)}function Pc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function yw(e,t,r){e.appendChild(t,r)}function bw(e,t,r,n,o){null!==n?Pc(e,t,r,n,o):yw(e,t,r)}function em(e,t){return e.parentNode(t)}function Cw(e,t,r){return ww(e,t,r)}let wv,rm,ww=function Sw(e,t,r){return 40&e.type?xi(e,r):null};function tm(e,t,r,n){const o=Sv(e,n,t),i=t[Wt],a=Cw(n.parent||t[Ae],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)bw(i,o,r[l],a,!1);else bw(i,o,r,a,!1);void 0!==wv&&wv(i,n,t,r,o)}function wf(e,t){if(null!==t){const r=t.type;if(3&r)return xi(t,e);if(4&r)return Dv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return wf(e,n);{const o=e[t.index];return lo(o)?Dv(-1,o):qr(o)}}if(32&r)return yv(t,e)()||qr(e[t.index]);{const n=Ew(e,t);return null!==n?Array.isArray(n)?n[0]:wf(Cf(e[Un]),n):wf(e,t.next)}}return null}function Ew(e,t){return null!==t?e[Un][Ae].projection[t.projection]:null}function Dv(e,t){const r=$n+e+1;if(r<t.length){const n=t[r],o=n[gt].firstChild;if(null!==o)return wf(n,o)}return t[Gr]}function Ev(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&bi(qr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Ev(e,t,r.child,n,o,i,!1),Fu(t,e,o,a,i);else if(32&l){const c=yv(r,n);let f;for(;f=c();)Fu(t,e,o,f,i);Fu(t,e,o,a,i)}else 16&l?xw(e,t,n,r,o,i):Fu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Df(e,t,r,n,o,i){Ev(r,n,e.firstChild,t,o,i,!1)}function xw(e,t,r,n,o,i){const s=r[Un],l=s[Ae].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Fu(t,e,o,l[c],i);else{let c=l;const f=s[Dn];Yh(n)&&(c.flags|=128),Ev(e,t,c,f,o,i,!0)}}function Tw(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Mw(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&mu(e,t,n),null!==o&&Tw(e,t,o),null!==i&&function s2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Lu(e){return function Iv(){if(void 0===rm&&(rm=null,jn.trustedTypes))try{rm=jn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return rm}()?.createHTML(e)||e}class Oc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ca})`}}class u2 extends Oc{getTypeName(){return"HTML"}}class d2 extends Oc{getTypeName(){return"Style"}}class f2 extends Oc{getTypeName(){return"Script"}}class p2 extends Oc{getTypeName(){return"URL"}}class h2 extends Oc{getTypeName(){return"ResourceURL"}}function Ss(e){return e instanceof Oc?e.changingThisBreaksApplicationSecurity:e}function qa(e,t){const r=function m2(e){return e instanceof Oc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${ca})`)}return r===t}class C2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Lu(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class S2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Lu(t),r}}const D2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function im(e){return(e=String(e)).match(D2)?e:"unsafe:"+e}function Sl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Ef(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const Ow=Sl("area,br,col,hr,img,wbr"),Nw=Sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fw=Sl("rp,rt"),Tv=Ef(Ow,Ef(Nw,Sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ef(Fw,Sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ef(Fw,Nw)),Mv=Sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lw=Ef(Mv,Sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),E2=Sl("script,style,template");class I2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Tv.hasOwnProperty(r))return this.sanitizedSomething=!0,!E2.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!Lw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Mv[a]&&(l=im(l)),this.buf.push(" ",s,'="',$w(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Tv.hasOwnProperty(r)&&!Ow.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push($w(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const x2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T2=/([^\#-~ |!])/g;function $w(e){return e.replace(/&/g,"&amp;").replace(x2,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(T2,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sm;function Bw(e,t){let r=null;try{sm=sm||function Pw(e){const t=new S2(e);return function w2(){try{return!!(new window.DOMParser).parseFromString(Lu(""),"text/html")}catch{return!1}}()?new C2(t):t}(e);let n=t?String(t):"";r=sm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=sm.getInertBodyElement(n)}while(n!==i);return Lu((new I2).sanitizeChildren(Av(r)||r))}finally{if(r){const n=Av(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Av(e){return"content"in e&&function M2(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ws=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ws||{});let Uw=(e,t,r)=>null;function $v(e,t,r=!1){return Uw(e,t,r)}class H2{}class Ww{}class W2{resolveComponentFactory(t){throw function z2(e){const t=Error(`No component factory found for ${Ir(e)}.`);return t.ngComponent=e,t}(t)}}let fm=(()=>{class t{}return t.NULL=new W2,t})();function Z2(){return Vu(Fr(),He())}function Vu(e,t){return new tt(xi(e,t))}let tt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=Z2,t})();function q2(e){return e instanceof tt?e.nativeElement:e}class qw{}let wl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function Y2(){const e=He(),r=ys(Fr().index,e);return(yo(r)?r:e)[Wt]}(),t})(),K2=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>null}),t})();class Mf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const X2=new Mf("17.0.7"),jv={};function Yw(e){const t=R(null);try{return e()}finally{R(t)}}function pm(e){return!!function Gv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class Kw{constructor(){}supports(t){return pm(t)}create(t){return new nN(t)}}const tN=(e,t)=>t;class nN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<Qw(n,o,i)?r:n,a=Qw(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let g=0;g<c;g++){const b=g<i.length?i[g]:i[g]=0,V=b+g;f<=V&&V<c&&(i[g]=b+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!pm(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function eN(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new rN(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xw),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rN{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class Xw{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new oN,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qw(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function eD(){return new hm([new Kw])}let hm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||eD()),deps:[[t,new $h,new Lh]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:eD}),t})();function kf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(qr(i)),lo(i)&&nD(i,n);const s=r.type;if(8&s)kf(e,t,r.child,n);else if(32&s){const a=yv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=Ew(t,r);if(Array.isArray(a))n.push(...a);else{const l=Cf(t[Un]);kf(l[gt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function nD(e,t){for(let r=$n;r<e.length;r++){const n=e[r],o=n[gt].firstChild;null!==o&&kf(n[gt],n,o,t)}e[Gr]!==e[so]&&t.push(e[Gr])}let rD=[];const dN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Eh(e.lView)},consumerOnSignalRead(){this.lView[en]=this}};function Uv(e){return e.ngOriginalError}class Dl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Uv(t);for(;r&&Uv(r);)r=Uv(r);return r||null}}const iD=new pt("",{providedIn:"root",factory:()=>rt(Dl).handleError.bind(void 0)}),aD=new pt("",{providedIn:"root",factory:()=>!1}),yn={};function _e(e){dD(Jn(),He(),yi()+e,!1)}function dD(e,t,r,n){if(!n)if(3==(3&t[it])){const i=e.preOrderCheckHooks;null!==i&&Mh(t,i,r)}else{const i=e.preOrderHooks;null!==i&&Ah(t,i,0,r)}Ac(r)}function _(e,t=Qe.Default){const r=He();return null===r?ce(e,t):DS(Fr(),r,Yt(e),t)}function gm(e,t,r,n,o,i,s,a,l,c,f){const h=t.blueprint.slice();return h[so]=o,h[it]=140|n,(null!==c||e&&2048&e[it])&&(h[it]|=2048),J0(h),h[Dn]=h[Zt]=e,h[tn]=r,h[Mo]=s||e&&e[Mo],h[Wt]=a||e&&e[Wt],h[ur]=l||e&&e[ur]||null,h[Ae]=i,h[y]=function NO(){return OO++}(),h[nr]=f,h[q]=c,h[Un]=2==t.type?e[Un]:h,h}function ju(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Hv(e,t,r,n,o){const i=iS(),s=N_(),l=e.data[t]=function DN(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return bu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function hP(){return fn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function uf(){const e=fn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return za(i,!0),i}function Rf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function pD(e,t,r,n,o){const i=yi(),s=2&n;try{Ac(-1),s&&t.length>dt&&dD(e,t,dt,!1),Ua(s?2:0,o),r(n,o)}finally{Ac(i),Ua(s?3:1,o)}}function zv(e,t,r){if(_u(t)){const n=R(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{R(n)}}}function Wv(e,t,r){oS()&&(function kN(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;ga(r)&&function $N(e,t,r){const n=xi(t,e),o=hD(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=_m(e,gm(e,o,null,s,n,t,null,e[Mo].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Rh(r,t),bi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=kc(t,e,a,r);bi(c,t),null!==s&&BN(0,a-o,c,l,0,s),Xt(l)&&(ys(r.index,t)[tn]=kc(t,e,a,r))}}(e,t,r,xi(r,t)),64==(64&r.flags)&&yD(e,t,r))}function Zv(e,t,r=xi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function hD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function qv(e,t,r,n,o,i,s,a,l,c,f){const h=dt+n,g=h+o,b=function vN(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:yn);return r}(h,g),V="function"==typeof c?c():c;return b[gt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:V,incompleteFirstPass:!1,ssrId:f}}let mD=e=>null;function gD(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?_D(r,t,o,i):n.hasOwnProperty(o)&&_D(r,t,n[o],i)}return r}function _D(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Ds(e,t,r,n,o,i,s,a){const l=xi(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(Jv(e,r,f,n,o),ga(t)&&function xN(e,t){const r=ys(t,e);16&r[it]||(r[it]|=64)}(r,t.index)):3&t.type&&(n=function IN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function Yv(e,t,r,n){if(oS()){const o=null===n?null:{"":-1},i=function PN(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(rf(t,s.selectors,!1))if(n||(n=[]),Xt(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Kv(e,t,a.length)}else n.unshift(s),Kv(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&vD(e,t,r,s,o,a),o&&function ON(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=Zl(r.mergedAttrs,r.attrs)}function vD(e,t,r,n,o,i){for(let c=0;c<n.length;c++)Z_(Rh(r,t),e,n[c].type);!function FN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Rf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=Zl(r.mergedAttrs,f.hostAttrs),LN(e,r,t,l,f),NN(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function EN(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],g=r?r.get(h):null,V=g?g.outputs:null;l=gD(h.inputs,f,l,g?g.inputs:null),c=gD(h.outputs,f,c,V);const ee=null===l||null===s||nf(t)?null:VN(l,f,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function yD(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function gP(){return fn.lFrame.currentDirectiveIndex}();try{Ac(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];L_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&RN(l,c)}}finally{Ac(-1),L_(s)}}function RN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Kv(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function NN(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Xt(t)&&(r[""]=e)}}function LN(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Mc(o.type)),s=new df(i,Xt(o),_);e.blueprint[n]=s,r[n]=s,function MN(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function AN(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Rf(e,r,o.hostVars,yn),o)}function Ya(e,t,r,n,o,i){const s=xi(e,t);!function Xv(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Bt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[Wt],s,i,e.value,r,n,o)}function BN(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)bD(n,r,s[a++],s[a++],s[a++])}function bD(e,t,r,n,o){const i=R(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{R(i)}}function VN(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function CD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function SD(e,t){const r=e.contentQueries;if(null!==r){const n=R(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];B_(r[o]),a.contentQueries(2,t[s],s)}}}finally{R(n)}}}function _m(e,t){return e[ao]?e[to][An]=t:e[ao]=t,e[to]=t,t}function Qv(e,t,r){B_(0);const n=R(null);try{t(e,r)}finally{R(n)}}function wD(e){return e[kn]||(e[kn]=[])}function DD(e){return e.cleanup||(e.cleanup=[])}function vm(e,t){const r=e[ur],n=r?r.get(Dl,null):null;n&&n.handleError(t)}function Jv(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];bD(e.data[s],t[s],n,a,o)}}function El(e,t,r){const n=lf(t,e);!function gw(e,t,r){e.setValue(t,r)}(e[Wt],n,r)}function UN(e,t,r,n){const o=t[it];if(256==(256&o))return;t[Mo].inlineEffectRunner?.flush(),V_(t);let s=null,a=null;(function HN(e){return 2!==e.type})(e)&&(a=function lN(e){return e[en]??function cN(e){const t=rD.pop()??Object.create(dN);return t.lView=e,t}(e)}(t),s=function ie(e){return e&&(e.nextProducerIndex=0),R(e)}(a));try{J0(t),function aS(e){return fn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&pD(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&Mh(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Ah(t,h,0,null),G_(t,0)}if(function zN(e){for(let t=pw(e);null!==t;t=hw(t)){if(!(t[it]&js.HasTransplantedViews))continue;const r=t[vs];for(let n=0;n<r.length;n++){oP(r[n])}}}(t),ID(t,0),null!==e.contentQueries&&SD(e,t),l){const h=e.contentCheckHooks;null!==h&&Mh(t,h)}else{const h=e.contentHooks;null!==h&&Ah(t,h,1),G_(t,1)}!function _N(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)Ac(~o);else{const i=o,s=r[++n],a=r[++n];mP(s,i),a(2,t[i])}}}finally{Ac(-1)}}(e,t);const c=e.components;null!==c&&TD(t,c,0);const f=e.viewQuery;if(null!==f&&Qv(2,f,n),l){const h=e.viewCheckHooks;null!==h&&Mh(t,h)}else{const h=e.viewHooks;null!==h&&Ah(t,h,2),G_(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[It]){for(const h of t[It])h();t[It]=null}t[it]&=-73}catch(l){throw Eh(t),l}finally{null!==a&&(function H(e,t){if(R(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(xe(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)se(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function uN(e){e.lView[en]!==e&&(e.lView=null,rD.push(e))}(a)),j_()}}function ID(e,t){for(let r=pw(e);null!==r;r=hw(r)){r[it]&=~js.HasChildViewsToRefresh;for(let n=$n;n<r.length;n++)xD(r[n],t)}}function WN(e,t,r){xD(ys(t,e),r)}function xD(e,t){P_(e)&&ty(e,t)}function ty(e,t){const n=e[gt],o=e[it],i=e[en];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!M(i)),i&&(i.dirty=!1),e[it]&=-9217,s)UN(n,e,n.template,e[tn]);else if(8192&o){ID(e,1);const a=n.components;null!==a&&TD(e,a,1)}}function TD(e,t,r){for(let n=0;n<t.length;n++)WN(e,t[n],r)}function Pf(e){for(;e;){e[it]|=64;const t=Cf(e);if(gi(e)&&!t)return e;e=t}return null}class Of{get rootNodes(){const t=this._lView,r=t[gt];return kf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(t){this._lView[tn]=t}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Dn];if(lo(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Sf(t,n),Nh(r,n))}this._attachedToViewContainer=!1}Jh(this._lView[gt],this._lView)}onDestroy(t){Ih(this._lView,t)}markForCheck(){Pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){nS(this._lView),this._lView[it]|=128}detectChanges(){this._lView[it]|=1024,function ey(e,t=!0){const r=e[Mo],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function GN(e){ty(e,0);let t=0;for(;tS(e);){if(100===t)throw new Xe(103,!1);t++,ty(e,1)}}(e)}catch(s){throw t&&vm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function YO(e,t){Df(e,t,t[Wt],2,null,null)}(this._lView[gt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let ft=(()=>{class t{}return t.__NG_ELEMENT_ID__=ZN,t})();function ZN(e){return function qN(e,t,r){if(ga(e)&&!r){const n=ys(e.index,t);return new Of(n,n)}return 47&e.type?new Of(t[Un],t):null}(Fr(),He(),16==(16&e))}let ym=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=QN,e.__NG_ENV_ID__=r=>r,t})();class XN extends ym{constructor(t){super(),this._lView=t}onDestroy(t){return Ih(this._lView,t),()=>function O_(e,t){if(null===e[ke])return;const r=e[ke].indexOf(t);-1!==r&&e[ke].splice(r,1)}(this._lView,t)}}function QN(){return new XN(He())}const MD=new Set;function Nc(e){MD.has(e)||(MD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ny(e){return t=>{setTimeout(e,void 0,t)}}const ln=class iF extends In{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=ny(i),o&&(o=ny(o)),s&&(s=ny(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof yt&&t.add(a),a}};function AD(...e){}class Ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ln(!1),this.onMicrotaskEmpty=new ln(!1),this.onStable=new ln(!1),this.onError=new ln(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function sF(){const e="function"==typeof jn.requestAnimationFrame;let t=jn[e?"requestAnimationFrame":"setTimeout"],r=jn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function cF(e){const t=()=>{!function lF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(jn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,oy(e),e.isCheckStableRunning=!0,ry(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),oy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function dF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return kD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),RD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return kD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),RD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,oy(e),ry(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,aF,AD,AD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const aF={};function ry(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function RD(e){e._nesting--,ry(e)}class uF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ln,this.onMicrotaskEmpty=new ln,this.onStable=new ln,this.onError=new ln}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const PD=new pt("",{providedIn:"root",factory:OD});function OD(){const e=rt(Ge);let t=!0;return aa(new On(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new On(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(la()))}var Fc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Fc||{});const ND={destroy(){}};function LD(e,t){!t&&function lv(e){if(!sn()&&!function ah(){return yl}())throw new Xe(-203,!1)}();const r=t?.injector??rt(Kr);if(!function ec(e){return"browser"===(e??rt(Kr)).get(Jl)}(r))return ND;Nc("NgAfterNextRender");const n=r.get(bm),o=n.handler??=new BD,i=t?.phase??Fc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(ym).onDestroy(s),l=new $D(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class $D{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ge),this.errorHandler=t.get(Dl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class BD{constructor(){this.executingCallbacks=!1,this.buckets={[Fc.EarlyRead]:new Set,[Fc.Write]:new Set,[Fc.MixedReadWrite]:new Set,[Fc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let bm=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e}),t})();function hF(e,t){const r=ys(t,e),n=r[gt];!function mF(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[so];null!==o&&null===r[nr]&&(r[nr]=$v(o,r[ur])),iy(n,r,r[tn])}function iy(e,t,r){V_(t);try{const n=e.viewQuery;null!==n&&Qv(1,n,r);const o=e.template;null!==o&&pD(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&SD(e,t),e.staticViewQueries&&Qv(2,e.viewQuery,r);const i=e.components;null!==i&&function gF(e,t){for(let r=0;r<t.length;r++)hF(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[it]&=-5,j_()}}function Cm(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Fs(o,a):2==i&&(n=Fs(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class VD extends fm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=_n(t);return new Nf(r,this.ngModule)}}function jD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class vF{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=xc(n);const o=this.injector.get(t,jv,n);return o!==jv||r===jv?o:this.parentInjector.get(t,r,n)}}class Nf extends Ww{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=jD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return jD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Ch(e){return e.map(bh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ii?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new vF(t,i):t,a=s.get(qw,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(K2,null),inlineEffectRunner:null,afterRenderEventManager:s.get(bm,null)},h=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=n?function yN(e,t,r,n){const i=n.get(aD,!1)||r===es.ShadowDom,s=e.selectRootElement(t,i);return function bN(e){mD(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Qh(h,g,function _F(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),ye=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ee=null;null!==b&&(Ee=$v(b,s,!0));const Ie=qv(0,null,null,1,0,null,null,null,null,null,null),Tt=gm(null,Ie,null,ye,null,null,f,h,s,null,Ee);let vt,st;V_(Tt);try{const or=this.componentDef;let fr,Qs=null;or.findHostDirectiveDefs?(fr=[],Qs=new Map,or.findHostDirectiveDefs(or,fr,Qs),fr.push(or)):fr=[or];const As=function bF(e,t){const r=e[gt],n=dt;return e[n]=t,ju(r,n,2,"#host",null)}(Tt,b),qR=function CF(e,t,r,n,o,i,s){const a=o[gt];!function SF(e,t,r,n){for(const o of e)t.mergedAttrs=Zl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Cm(t,t.mergedAttrs,!0),null!==r&&Mw(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=$v(t,o[ur]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=gm(o,hD(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Kv(a,e,n.length-1),_m(o,h),o[e.index]=h}(As,b,or,fr,Tt,f,h);st=cf(Ie,dt),b&&function DF(e,t,r,n){if(n)mu(e,r,["ng-version",X2.full]);else{const{attrs:o,classes:i}=function Sh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!ts(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&mu(e,r,o),i&&i.length>0&&Tw(e,r,i.join(" "))}}(h,or,b,n),void 0!==r&&function EF(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(st,this.ngContentSelectors,r),vt=function wF(e,t,r,n,o,i){const s=Fr(),a=o[gt],l=xi(s,o);vD(a,o,s,r,null,n);for(let f=0;f<r.length;f++)bi(kc(o,a,s.directiveStart+f,s),o);yD(a,o,s),l&&bi(l,o);const c=kc(o,a,s.directiveStart+s.componentOffset,s);if(e[tn]=o[tn]=c,null!==i)for(const f of i)f(c,t);return zv(a,s,e),c}(qR,or,fr,Qs,Tt,[IF]),iy(Ie,Tt,null)}finally{j_()}return new yF(this.componentType,vt,Vu(st,Tt),Tt,st)}}class yF extends H2{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Of(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Jv(i[gt],i,o,t,r),this.previousInputValues.set(t,r),Pf(ys(this._tNode.index,i))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function IF(){const e=Fr();Th(He()[gt],e)}function bn(e){let t=function GD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Xt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=Sm(e.inputs),s.inputTransforms=Sm(e.inputTransforms),s.declaredInputs=Sm(e.declaredInputs),s.outputs=Sm(e.outputs);const a=o.hostBindings;a&&AF(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&TF(e,l),c&&MF(e,c),ps(e.inputs,o.inputs),ps(e.declaredInputs,o.declaredInputs),ps(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ps(s.inputTransforms,o.inputTransforms)),Xt(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===bn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function xF(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=Zl(o.hostAttrs,r=Zl(r,o.hostAttrs))}}(n)}function Sm(e){return e===_s?{}:e===Qn?[]:e}function TF(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function MF(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function AF(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function Bo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Lc(e,t,r,n){const o=Bo(e,t,r);return Bo(e,t+1,n)||o}function Us(e,t,r,n){const o=He();return Bo(o,Wa(),t)&&(Jn(),Ya(no(),o,e,t,r,n)),Us}function Uu(e,t,r,n){return Bo(e,Wa(),r)?t+Bt(r)+n:yn}function zu(e,t,r,n,o,i,s,a){const c=function wm(e,t,r,n,o){const i=Lc(e,t,r,n);return Bo(e,t+2,o)||i}(e,bl(),r,o,s);return Cl(3),c?t+Bt(r)+n+Bt(o)+i+Bt(s)+a:yn}function Dm(e,t){return e<<17|t<<2}function rc(e){return e>>17&32767}function sy(e){return 2|e}function $c(e){return(131068&e)>>2}function ay(e,t){return-131069&e|t<<2}function ly(e){return 1|e}function nE(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?rc(i):$c(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];jF(e[a],t)&&(l=!0,e[a+1]=n?ly(f):sy(f)),a=n?rc(f):$c(f)}l&&(e[r+1]=n?sy(i):ly(i))}function jF(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Au(e,t)>=0}function De(e,t,r){const n=He();return Bo(n,Wa(),t)&&Ds(Jn(),no(),n,e,t,n[Wt],r,!1),De}function cy(e,t,r,n,o){const s=o?"class":"style";Jv(e,r,t.inputs[s],s,n)}function Bc(e,t,r){return va(e,t,r,!1),Bc}function _a(e,t){return va(e,t,null,!0),_a}function va(e,t,r,n){const o=He(),i=Jn(),s=Cl(2);i.firstUpdatePass&&function uE(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[yi()],s=function cE(e,t){return t>=e.expandoStartIndex}(e,r);(function hE(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function KF(e,t,r,n){const o=function $_(e){const t=fn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=Lf(r=uy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=uy(o,e,t,r,n),null===i){let l=function XF(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==$c(n))return e[rc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=uy(null,e,t,l[1],n),l=Lf(l,t.attrs,n),function QF(e,t,r,n){e[rc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function JF(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=Lf(n,e[i].hostAttrs,r);return Lf(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function BF(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=rc(s),l=$c(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||Au(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const g=rc(e[a+1]);e[n+1]=Dm(g,a),0!==g&&(e[g+1]=ay(e[g+1],n)),e[a+1]=function LF(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Dm(a,0),0!==a&&(e[a+1]=ay(e[a+1],n)),a=n;else e[n+1]=Dm(l,0),0===a?a=n:e[l+1]=ay(e[l+1],n),l=n;c&&(e[n+1]=sy(e[n+1])),nE(e,f,n,!0),nE(e,f,n,!1),function VF(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Au(i,t)>=0&&(r[n+1]=ly(r[n+1]))}(t,f,e,n,i),s=Dm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==yn&&Bo(o,s,t)&&function fE(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function $F(e){return 1==(1&e)}(c)?pE(l,t,r,o,$c(c),s):void 0;Em(f)||(Em(i)||function FF(e){return 2==(2&e)}(c)&&(i=pE(l,null,r,o,a,s)),function i2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:nc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=nc.Important),e.setStyle(r,n,o,i))}}(n,s,lf(yi(),r),o,i))}(i,i.data[yi()],o,o[Wt],e,o[s+1]=function rL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ir(Ss(e)))),e}(t,r),n,s)}function uy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=Lf(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function Lf(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),bs(e,s,!!r||t[++i]))}return void 0===e?null:e}function pE(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,h=null===f;let g=r[o+1];g===yn&&(g=h?Qn:void 0);let b=h?X_(g,n):f===n?g:void 0;if(c&&!Em(b)&&(b=X_(l,n)),Em(b)&&(a=b,s))return a;const V=e[o+1];o=s?rc(V):$c(V)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=X_(l,n))}return a}function Em(e){return void 0!==e}function Ju(e,t){return!t||null===t.firstChild||Yh(e)}function Uf(e,t,r,n=!0){const o=t[gt];if(function XO(e,t,r,n){const o=$n+n,i=r.length;n>0&&(r[o-1][An]=t),n<i-$n?(t[An]=r[o],AS(r,$n+n,t)):(r.push(t),t[An]=null),t[Dn]=r;const s=t[Nr];null!==s&&r!==s&&function QO(e,t){const r=e[vs];t[Un]!==t[Dn][Dn][Un]&&(e[it]|=js.HasTransplantedViews),null===r?e[vs]=[t]:r.push(t)}(s,t);const a=t[d];null!==a&&a.insertView(e),nS(t),t[it]|=128}(o,t,e,r),n){const s=Dv(r,e),a=t[Wt],l=em(a,e[Gr]);null!==l&&function qO(e,t,r,n,o,i){n[so]=o,n[Ae]=t,Df(e,n,r,1,o,i)}(o,e[Ae],a,t,l,s)}const i=t[nr];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let os=(()=>{class t{}return t.__NG_ELEMENT_ID__=LL,t})();function LL(){return xE(Fr(),He())}const $L=os,EE=class extends $L{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ph(this._hostTNode,this._hostLView);if(H_(t)){const r=pf(t,this._hostLView),n=ff(t);return new Ko(r[gt].data[n+8],r)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=IE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,Ju(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function hf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const V=r||{};a=V.index,n=V.injector,o=V.projectableNodes,i=V.environmentInjector||V.ngModuleRef}const l=s?t:new Nf(_n(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const ee=(s?c:this.parentInjector).get(ii,null);ee&&(i=ee)}_n(l.componentType??{});const b=l.create(c,o,null,i);return this.insertImpl(b.hostView,a,Ju(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function rP(e){return lo(e[Dn])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Dn],c=new EE(l,l[Ae],l[Dn]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Uf(s,o,i,n),t.attachToViewContainerRef(),AS(yy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=IE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Sf(this._lContainer,r);n&&(Nh(yy(this._lContainer),r),Jh(n[gt],n))}detach(t){const r=this._adjustIndex(t,-1),n=Sf(this._lContainer,r);return n&&null!=Nh(yy(this._lContainer),r)?new Of(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function IE(e){return e[8]}function yy(e){return e[8]||(e[8]=[])}function xE(e,t){let r;const n=t[e.index];return lo(n)?r=n:(r=CD(n,t,null,e),t[e.index]=r,_m(t,r)),TE(r,t,e,n),new EE(r,e,t)}let TE=function AE(e,t,r,n){if(e[Gr])return;let o;o=8&r.type?qr(n):function BL(e,t){const r=e[Wt],n=r.createComment(""),o=xi(t,e);return Pc(r,em(r,o),n,function n2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Gr]=o},by=(e,t,r)=>!1;function nn(e,t,r,n,o,i,s,a){const l=He(),c=Jn(),f=e+dt,h=c.firstCreatePass?function UL(e,t,r,n,o,i,s,a,l){const c=t.consts,f=ju(t,e,4,s||null,Ha(c,a));Yv(t,r,f,Ha(c,l)),Th(t,f);const h=f.tView=qv(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];za(h,!1);const g=kE(c,l,h,e);xh()&&tm(c,l,g,h),bi(g,l);const b=CD(g,l,g,h);return l[f]=b,_m(l,b),function ME(e,t,r){return by(e,t,r)}(b,h,l),_t(h)&&Wv(c,l,h),null!=s&&Zv(l,h,a),nn}let kE=function RE(e,t,r,n){return ql(!0),t[Wt].createComment("")};function z(e,t,r,n){const o=He(),i=Jn(),s=dt+e,a=o[Wt],l=i.firstCreatePass?function R3(e,t,r,n,o,i){const s=t.consts,l=ju(t,e,2,n,Ha(s,o));return Yv(t,r,l,Ha(s,i)),null!==l.attrs&&Cm(l,l.attrs,!1),null!==l.mergedAttrs&&Cm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=t1(i,o,l,a,t,e);o[s]=c;const f=_t(l);return za(l,!0),Mw(a,c,l),32!=(32&l.flags)&&xh()&&tm(i,o,c,l),0===function iP(){return fn.lFrame.elementDepthCount}()&&bi(c,o),function sP(){fn.lFrame.elementDepthCount++}(),f&&(Wv(i,o,l),zv(i,l,o)),null!==n&&Zv(o,l),z}function L(){let e=Fr();N_()?F_():(e=e.parent,za(e,!1));const t=e;(function lP(e){return fn.skipHydrationRootTNode===e})(t)&&function fP(){fn.skipHydrationRootTNode=null}(),function aP(){fn.lFrame.elementDepthCount--}();const r=Jn();return r.firstCreatePass&&(Th(r,e),_u(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function xP(e){return 0!=(8&e.flags)}(t)&&cy(r,t,He(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function TP(e){return 0!=(16&e.flags)}(t)&&cy(r,t,He(),t.stylesWithoutHost,!1),L}function Ve(e,t,r,n){return z(e,t,r,n),L(),Ve}let t1=(e,t,r,n,o,i)=>(ql(!0),Qh(n,o,function mS(){return fn.lFrame.currentNamespace}()));function sd(e,t,r){const n=He(),o=Jn(),i=e+dt,s=o.firstCreatePass?function N3(e,t,r,n,o){const i=t.consts,s=Ha(i,n),a=ju(t,e,8,"ng-container",s);return null!==s&&Cm(a,s,!0),Yv(t,r,a,Ha(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];za(s,!0);const a=n1(o,n,s,e);return n[i]=a,xh()&&tm(o,n,a,s),bi(a,n),_t(s)&&(Wv(o,n,s),zv(o,s,n)),null!=r&&Zv(n,s),sd}function ad(){let e=Fr();const t=Jn();return N_()?F_():(e=e.parent,za(e,!1)),t.firstCreatePass&&(Th(t,e),_u(e)&&t.queries.elementEnd(e)),ad}let n1=(e,t,r,n)=>(ql(!0),bv(t[Wt],""));function Pn(){return He()}const cd="en-US";let a1=cd;function Qf(e){return!!e&&"function"==typeof e.then}function R1(e){return!!e&&"function"==typeof e.subscribe}function Le(e,t,r,n){const o=He(),i=Jn(),s=Fr();return function O1(e,t,r,n,o,i,s){const a=_t(n),c=e.firstCreatePass&&DD(e),f=t[tn],h=wD(t);let g=!0;if(3&n.type||s){const ee=xi(n,t),ye=s?s(ee):ee,Ee=h.length,Ie=s?vt=>s(qr(vt[n.index])):n.index;let Tt=null;if(!s&&a&&(Tt=function O$(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[kn],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=i,Tt.__ngLastListenerFn__=i,g=!1;else{i=F1(n,t,f,i,!1);const vt=r.listen(ye,o,i);h.push(i,vt),c&&c.push(o,Ie,Ee,Ee+1)}}else i=F1(n,t,f,i,!1);const b=n.outputs;let V;if(g&&null!==b&&(V=b[o])){const ee=V.length;if(ee)for(let ye=0;ye<ee;ye+=2){const st=t[V[ye]][V[ye+1]].subscribe(i),or=h.length;h.push(i,st),c&&c.push(o,n.index,or,-(or+1))}}}(i,o,o[Wt],s,e,t,n),Le}function N1(e,t,r,n){try{return Ua(6,t,r),!1!==r(n)}catch(o){return vm(e,o),!1}finally{Ua(7,t,r)}}function F1(e,t,r,n,o){return function i(s){if(s===Function)return n;Pf(e.componentOffset>-1?ys(e.index,t):t);let l=N1(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=N1(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function Ct(e=1){return function vP(e){return(fn.lFrame.contextLView=function eS(e,t){for(;e>0;)t=t[Zt],e--;return t}(e,fn.lFrame.contextLView))[tn]}(e)}function N$(e,t){let r=null;const n=function gh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?rf(e,i,!0):yh(n,i))return o}else r=o}return r}function Et(e){const t=He()[Un][Ae];if(!t.projection){const n=t.projection=mf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?N$(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function Dt(e,t=0,r){const n=He(),o=Jn(),i=ju(o,dt+e,16,null,r||null);null===i.projection&&(i.projection=t),F_(),(!n[nr]||bu())&&32!=(32&i.flags)&&function r2(e,t,r){xw(t[Wt],0,t,r,Sv(e,r,t),Cw(r.parent||t[Ae],r,t))}(o,n,i)}function Vm(e,t,r,n,o){const i=He(),s=Uu(i,t,r,n);return s!==yn&&Ds(Jn(),no(),i,e,s,i[Wt],o,!1),Vm}function Es(e){return yu(function pP(){return fn.lFrame.contextLView}(),dt+e)}function Ce(e,t=""){const r=He(),n=Jn(),o=e+dt,i=n.firstCreatePass?ju(n,o,1,t,null):n.data[o],s=tI(n,r,i,t,e);r[o]=s,xh()&&tm(n,r,s,i),za(i,!1)}let tI=(e,t,r,n,o)=>(ql(!0),function Xh(e,t){return e.createText(t)}(t[Wt],n));function ss(e){return ui("",e,""),ss}function ui(e,t,r){const n=He(),o=Uu(n,e,t,r);return o!==yn&&El(n,yi(),o),ui}function Jf(e,t,r,n,o){const i=He(),s=function Hu(e,t,r,n,o,i){const a=Lc(e,bl(),r,o);return Cl(2),a?t+Bt(r)+n+Bt(o)+i:yn}(i,e,t,r,n,o);return s!==yn&&El(i,yi(),s),Jf}function Py(e,t,r,n,o,i,s){const a=He(),l=zu(a,e,t,r,n,o,i,s);return l!==yn&&El(a,yi(),l),Py}function Oy(e,t,r,n,o){if(e=Yt(e),Array.isArray(e))for(let i=0;i<e.length;i++)Oy(e[i],t,r,n,o);else{const i=Jn(),s=He(),a=Fr();let l=Rc(e)?e:Yt(e.provide);const c=jS(e),f=1048575&a.providerIndexes,h=a.directiveStart,g=a.providerIndexes>>20;if(Rc(e)||!e.multi){const b=new df(c,o,_),V=Fy(l,t,o?f:f+g,h);-1===V?(Z_(Rh(a,s),i,l),Ny(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[V]=b,s[V]=b)}else{const b=Fy(l,t,f+g,h),V=Fy(l,t,f,f+g),ye=V>=0&&r[V];if(o&&!ye||!o&&!(b>=0&&r[b])){Z_(Rh(a,s),i,l);const Ee=function X$(e,t,r,n,o){const i=new df(e,r,_);return i.multi=[],i.index=t,i.componentProviders=0,lI(i,o,n&&!r),i}(o?K$:Y$,r.length,o,n,c);!o&&ye&&(r[V].providerFactory=Ee),Ny(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(Ee),s.push(Ee)}else Ny(i,e,b>-1?b:V,lI(r[o?V:b],c,!o&&n));!o&&n&&ye&&r[V].componentProviders++}}}function Ny(e,t,r,n){const o=Rc(t),i=function sO(e){return!!e.useClass}(t);if(o||i){const l=(i?Yt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function lI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Fy(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function Y$(e,t,r,n){return Ly(this.multi,[])}function K$(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=kc(r,r[gt],this.providerFactory.index,n);i=a.slice(0,s),Ly(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Ly(o,i);return i}function Ly(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function pr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function q$(e,t,r){const n=Jn();if(n.firstCreatePass){const o=Xt(e);Oy(r,n.data,n.blueprint,o,!0),Oy(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Gc{}class cI{}class $y extends Gc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VD(this);const o=Mn(t);this._bootstrapComponents=Cs(o.bootstrap),this._r3Injector=WS(t,r,[{provide:Gc,useValue:this},{provide:fm,useValue:this.componentFactoryResolver},...n],Ir(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class By extends cI{constructor(t){super(),this.moduleType=t}create(t){return new $y(this.moduleType,t,[])}}class uI extends Gc{constructor(t){super(),this.componentFactoryResolver=new VD(this),this.instance=null;const r=new Pu([...t.providers,{provide:Gc,useValue:this},{provide:fm,useValue:this.componentFactoryResolver}],t.parent||Uh(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vy(e,t,r=null){return new uI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let eB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=LS(0,n.type),i=o.length>0?Vy([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=$e({token:e,providedIn:"environment",factory:()=>new e(ce(ii))}),t})();function jm(e){Nc("NgStandalone"),e.getStandaloneInjector=t=>t.get(eB).getOrCreateStandaloneInjector(e)}function vI(e,t,r,n,o,i){const s=t+r;return Bo(e,s,o)?function Ka(e,t,r){return e[t]=r}(e,s+1,i?n.call(i,o):n(o)):function ep(e,t){const r=e[t];return r===yn?void 0:r}(e,s+1)}function Ja(e,t){const r=Jn();let n;const o=e+dt;r.firstCreatePass?(n=function CB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Mc(n.type)),a=Kt(_);try{const l=kh(!1),c=i();return kh(l),function F$(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,He(),o,c),c}finally{Kt(a)}}function el(e,t,r){const n=e+dt,o=He(),i=yu(o,n);return function tp(e,t){return e[gt].data[t].pure}(o,n)?vI(o,function Ti(){const e=fn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,i.transform,r,i):i.transform(r)}function IB(){return this._results[Symbol.iterator]()}class Gy{get changes(){return this._changes??=new ln}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Gy.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=IB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function ns(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function jP(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=MB,t})();const xB=ba,TB=class extends xB{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function Gf(e,t,r,n){const o=t.tView,a=gm(e,o,r,4096&e[it]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[Nr]=e[t.index];const c=e[d];return null!==c&&(a[d]=c.createEmbeddedView(o)),iy(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Of(o)}};function MB(){return Hm(Fr(),He())}function Hm(e,t){return 4&e.type?new TB(t,e,Vu(e,t)):null}class Uy{constructor(t){this.queryList=t,this.matches=null}clone(){return new Uy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Hy(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==xI(t,r).matches&&this.queries[r].setDirty()}}class wI{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class zy{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new zy(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wy{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Wy(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,AB(r,i)),this.matchTNodeWithReadOption(t,r,Oh(r,t,i,!1,!1))}else n===ba?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Oh(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===tt||o===os||o===ba&&4&r.type)this.addMatch(r.index,-2);else{const i=Oh(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function AB(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function RB(e,t,r,n){return-1===r?function kB(e,t){return 11&e.type?Vu(e,t):4&e.type?Hm(e,t):null}(t,e):-2===r?function PB(e,t,r){return r===tt?Vu(t,e):r===ba?Hm(t,e):r===os?xE(t,e):void 0}(e,t,n):kc(e,e[gt],r,t)}function DI(e,t,r,n){const o=t[d].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:RB(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Zy(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=DI(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let h=$n;h<f.length;h++){const g=f[h];g[Nr]===g[Dn]&&Zy(g[gt],g,c,n)}if(null!==f[vs]){const h=f[vs];for(let g=0;g<h.length;g++){const b=h[g];Zy(b[gt],b,c,n)}}}}}return n}function zs(e){const t=He(),r=Jn(),n=cS();B_(n+1);const o=xI(r,n);if(e.dirty&&function nP(e){return 4==(4&e[it])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Zy(r,t,n,[]):DI(r,t,o,n);e.reset(i,q2),e.notifyOnChanges()}return!0}return!1}function Uc(e,t,r){const n=Jn();n.firstCreatePass&&(II(n,new wI(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),EI(n,He(),t)}function ud(e,t,r,n){const o=Jn();if(o.firstCreatePass){const i=Fr();II(o,new wI(t,r,n),i.index),function NB(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}EI(o,He(),r)}function Ws(){return function OB(e,t){return e[d].queries[t].queryList}(He(),cS())}function EI(e,t,r){const n=new Gy(4==(4&r));(function wN(e,t,r,n){const o=wD(t);o.push(r),e.firstCreatePass&&DD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[d]&&(t[d]=new Hy),t[d].queries.push(new Uy(n))}function II(e,t,r){null===e.queries&&(e.queries=new zy),e.queries.track(new Wy(t,r))}function xI(e,t){return e.queries.getByIndex(t)}let UI=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Wm=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new po(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class oV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let HI=(()=>{var e;class t{compileModuleSync(n){return new By(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Cs(Mn(n).declarations).reduce((a,l)=>{const c=_n(l);return c&&a.push(new Nf(c)),a},[]);return new oV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const YI=new pt(""),qm=new pt("");let tb,Jy=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tb||(function MV(e){tb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ge),ce(eb),ce(qm))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),eb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return tb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const op=new pt("Application Initializer");let nb=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=rt(op,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Qf(s))n.push(s);else if(R1(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const rb=new pt("appBootstrapListener");function QI(e,t){return Array.isArray(t)?t.reduce(QI,e):{...e,...t}}let Ca=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rt(iD),this.zoneIsStable=rt(PD),this.componentTypes=[],this.components=[],this.isStable=rt(Wm).hasPendingTasks.pipe(eo(n=>n?Ht(!1):this.zoneIsStable),Ns()),this._injector=rt(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof Ww;if(!this._injector.get(nb).done)throw!i&&function ha(e){const t=_n(e)||To(e)||$o(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get(fm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function kV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Gc),f=a.create(Kr.NULL,[],o||a.selector,l),h=f.location.nativeElement,g=f.injector.get(YI,null);return g?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Ym(this.components,f),g?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Ym(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(rb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ym(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Ym(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let PV=(()=>{var e;class t{constructor(){this.zone=rt(Ge),this.applicationRef=rt(Ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function OV(){const e=rt(Ge),t=rt(Dl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Il=new pt("LocaleId",{providedIn:"root",factory:()=>rt(Il,Qe.Optional|Qe.SkipSelf)||function FV(){return typeof $localize<"u"&&$localize.locale||cd}()}),ob=new pt("PlatformDestroyListeners");let nx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function fF(e="zone.js",t){return"noop"===e?new uF:"zone.js"===e?new Ge(t):e}(o?.ngZone,function tx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function J$(e,t,r){return new $y(e,t,r)}(n.moduleType,this.injector,function ex(e){return[{provide:Ge,useFactory:e},{provide:Ru,multi:!0,useFactory:()=>{const t=rt(PV,{optional:!0});return()=>t.initialize()}},{provide:iD,useFactory:OV},{provide:PD,useFactory:OD}]}(()=>i)),a=s.injector.get(Dl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Ym(this._modules,s),l.unsubscribe()})}),function XI(e,t,r){try{const n=r();return Qf(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(nb);return l.runInitializers(),l.donePromise.then(()=>(function l1(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(a1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Il,cd)||cd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=QI({},o);return function AV(e,t,r){const n=new By(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Ca);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(ob,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Kr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),ic=null;const rx=new pt("AllowMultipleToken");function ox(e,t,r=[]){const n=`Platform: ${t}`,o=new pt(n);return(i=[])=>{let s=ib();if(!s||s.injector.get(rx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function BV(e){if(ic&&!ic.get(rx,!1))throw new Xe(400,!1);(function KI(){!function Gt(e){Be=e}(()=>{throw new Xe(600,!1)})})(),ic=e;const t=e.get(nx);(function sx(e){e.get(qS,null)?.forEach(r=>r())})(e)}(function ix(e=[],t){return Kr.create({name:t,providers:[{provide:ov,useValue:"platform"},{provide:ob,useValue:new Set([()=>ic=null])},...e]})}(a,n))}return function VV(e){const t=ib();if(!t)throw new Xe(401,!1);return t}()}}function ib(){return ic?.get(nx)??null}const WV=ox(null,"core",[]);let ZV=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ca))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();function Mx(e){const t=_n(e);if(!t)return null;const r=new Nf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let hb=null;function sc(){return hb}class C4{}const si=new pt("DocumentToken");let mb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(w4),providedIn:"platform"}),t})();const S4=new pt("Location Initialized");let w4=(()=>{var e;class t extends mb{constructor(){super(),this._doc=rt(si),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sc().getBaseHref(this._doc)}onPopState(n){const o=sc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=sc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new e,providedIn:"platform"}),t})();function gb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function Ax(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function xl(e){return e&&"?"!==e[0]?"?"+e:e}let tl=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(Rx),providedIn:"root"}),t})();const kx=new pt("appBaseHref");let Rx=(()=>{var e;class t extends tl{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??rt(si).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+xl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+xl(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+xl(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(mb),ce(kx,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Px=(()=>{var e;class t extends tl{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=gb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+xl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+xl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(mb),ce(kx,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),ac=(()=>{var e;class t{constructor(n){this._subject=new ln,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function I4(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(Ax(Ox(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+xl(o))}normalize(n){return t.stripTrailingSlash(function E4(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,Ox(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xl(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xl(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=xl,e.joinWithSlash=gb,e.stripTrailingSlash=Ax,e.\u0275fac=function(n){return new(n||e)(ce(tl))},e.\u0275prov=$e({token:e,factory:()=>function D4(){return new ac(ce(tl))}(),providedIn:"root"}),t})();function Ox(e){return e.replace(/\/index.html$/,"")}function Ux(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class fj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new fj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),Wx(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Wx(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ba),_(hm))},e.\u0275dir=Lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Wx(e,t){e.context.$implicit=t.item}let ei=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new pj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Zx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Zx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ba))},e.\u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class pj{constructor(){this.$implicit=null,this.ngIf=null}}function Zx(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ir(t)}'.`)}class xb{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let hg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),qx=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new xb(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ba),_(hg,9))},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Yx=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new xb(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(os),_(ba),_(hg,9))},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class _j{createSubscription(t,r){return Yw(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){Yw(()=>t.unsubscribe())}}class vj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const yj=new vj,bj=new _j;let Xx=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Qf(n))return yj;if(R1(n))return bj;throw function wa(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ft,16))},e.\u0275pipe=Yo({name:"async",type:e,pure:!1,standalone:!0}),t})(),nl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();const Jx="browser";function gd(e){return e===Jx}function eT(e){return"server"===e}let jj=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new Gj(ce(si),window)}),t})();class Gj{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function Uj(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class tT{}class fG extends C4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pb extends fG{static makeCurrent(){!function b4(e){hb||(hb=e)}(new Pb)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function pG(){return up=up||document.querySelector("base"),up?up.getAttribute("href"):null}();return null==r?null:function hG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){up=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ux(document.cookie,t)}}let up=null,gG=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const Ob=new pt("EventManagerPlugins");let iT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ob),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class sT{constructor(t){this._doc=t}}const Nb="ng-app-id";let aT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Nb}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(Nb),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Nb,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si),ce(zh),ce(YS,8),ce(Jl))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const Fb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lb=/%COMP%/g,bG=new pt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function cT(e,t){return t.map(r=>r.replace(Lb,e))}let uT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=eT(l),this.defaultRenderer=new $b(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===es.ShadowDom&&(o={...o,encapsulation:es.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof fT?i.applyToHost(n):i instanceof Bb&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(o.encapsulation){case es.Emulated:s=new fT(c,f,o,this.appId,h,a,l,g);break;case es.ShadowDom:return new DG(c,f,n,o,a,l,this.nonce,g);default:s=new Bb(c,f,o,h,a,l,g)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(iT),ce(aT),ce(zh),ce(bG),ce(si),ce(Jl),ce(Ge),ce(YS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class $b{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Fb[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(dT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(dT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=Fb[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=Fb[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(nc.DashCase|nc.Important)?t.style.setProperty(r,n,o&nc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&nc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=sc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function dT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class DG extends $b{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cT(o.id,o.styles);for(const f of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bb extends $b{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?cT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fT extends Bb{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function CG(e){return"_ngcontent-%COMP%".replace(Lb,e)}(c),this.hostAttr=function SG(e){return"_nghost-%COMP%".replace(Lb,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let EG=(()=>{var e;class t extends sT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const pT=["alt","control","meta","shift"],IG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let TG=(()=>{var e;class t extends sT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),pT.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=IG[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pT.forEach(a=>{a!==i&&(0,xG[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const RG=ox(WV,"browser",[{provide:Jl,useValue:Jx},{provide:qS,useValue:function MG(){Pb.makeCurrent()},multi:!0},{provide:si,useFactory:function kG(){return function bO(e){uv=e}(document),document},deps:[]}]),PG=new pt(""),gT=[{provide:qm,useClass:class mG{addToWindow(t){jn.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},jn.getAllAngularTestabilities=()=>t.getAllTestabilities(),jn.getAllAngularRootElements=()=>t.getAllRootElements(),jn.frameworkStabilizers||(jn.frameworkStabilizers=[]),jn.frameworkStabilizers.push(n=>{const o=jn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?sc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:YI,useClass:Jy,deps:[Ge,eb,qm]},{provide:Jy,useClass:Jy,deps:[Ge,eb,qm]}],_T=[{provide:ov,useValue:"root"},{provide:Dl,useFactory:function AG(){return new Dl},deps:[]},{provide:Ob,useClass:EG,multi:!0,deps:[si,Ge,Jl]},{provide:Ob,useClass:TG,multi:!0,deps:[si]},uT,aT,iT,{provide:qw,useExisting:uT},{provide:tT,useClass:gG,deps:[]},[]];let OG=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:zh,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(PG,12))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[..._T,...gT],imports:[nl,ZV]}),t})(),vT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function FG(){return new vT(ce(si))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let jb=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new(n||e):ce(CT),o},providedIn:"root"}),t})(),CT=(()=>{var e;class t extends jb{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case ws.NONE:return o;case ws.HTML:return qa(o,"HTML")?Ss(o):Bw(this._doc,String(o)).toString();case ws.STYLE:return qa(o,"Style")?Ss(o):o;case ws.SCRIPT:if(qa(o,"Script"))return Ss(o);throw new Xe(5200,!1);case ws.URL:return qa(o,"URL")?Ss(o):im(String(o));case ws.RESOURCE_URL:if(qa(o,"ResourceURL"))return Ss(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function g2(e){return new u2(e)}(n)}bypassSecurityTrustStyle(n){return function _2(e){return new d2(e)}(n)}bypassSecurityTrustScript(n){return function v2(e){return new f2(e)}(n)}bypassSecurityTrustUrl(n){return function y2(e){return new p2(e)}(n)}bypassSecurityTrustResourceUrl(n){return function b2(e){return new h2(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function jG(e){return new CT(e.get(si))}(ce(Kr)),o},providedIn:"root"}),t})();var Ro=C(5861),GG=C(6299),_d=C.n(GG);let _g,vg;function wT(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function DT(){return void 0!==vg}class ET{constructor(){this.requestEvent=new Ro.j}dispatchRequest(t){if(t){try{t=new(_d())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let Gb=(()=>{var e;class t{constructor(){this.installation=new ET,this.import=new ET,_g&&this.installation.dispatchRequest(_g),vg&&this.import.dispatchRequest(vg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var U=C(3918);function vd(e,t){return Te(t)?Bn(e,t,1):Bn(e,1)}function Da(e,t){return xn((r,n)=>{let o=0;r.subscribe(Nn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function dp(e){return xn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class yg{}class bg{}class Ys{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ys?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Ys;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Ys?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class zG{encodeKey(t){return IT(t)}encodeValue(t){return IT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ZG=/%(\d[a-f0-9])/gi,qG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IT(e){return encodeURIComponent(e).replace(ZG,(t,r)=>qG[r]??t)}function Cg(e){return`${e}`}class cc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zG,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function WG(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(Cg):[Cg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new cc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(Cg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(Cg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class YG{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function xT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function TT(e){return typeof Blob<"u"&&e instanceof Blob}function MT(e){return typeof FormData<"u"&&e instanceof FormData}class fp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function KG(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Ys),this.context||(this.context=new YG),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new cc,this.urlWithParams=r}serializeBody(){return null===this.body?null:xT(this.body)||TT(this.body)||MT(this.body)||function XG(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MT(this.body)?null:TT(this.body)?this.body.type||null:xT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,g)=>h.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,g)=>h.set(g,t.setParams[g]),c)),new fp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var uc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(uc||{});class Ub{constructor(t,r=200,n="OK"){this.headers=t.headers||new Ys,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Sg extends Ub{constructor(t={}){super(t),this.type=uc.ResponseHeader}clone(t={}){return new Sg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wc extends Ub{constructor(t={}){super(t),this.type=uc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yd extends Ub{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Hb(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let zb=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof fp)s=n;else{let c,f;c=i.headers instanceof Ys?i.headers:new Ys(i.headers),i.params&&(f=i.params instanceof cc?i.params:new cc({fromObject:i.params})),s=new fp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Ht(s).pipe(vd(c=>this.handler.handle(c)));if(n instanceof fp||"events"===i.observe)return a;const l=a.pipe(Da(c=>c instanceof Wc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(un(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(un(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(un(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(un(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new cc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,Hb(i,o))}post(n,o,i={}){return this.request("POST",n,Hb(i,o))}put(n,o,i={}){return this.request("PUT",n,Hb(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(yg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function kT(e,t){return t(e)}function nU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const oU=new pt(""),pp=new pt(""),RT=new pt(""),PT=new pt("");function iU(){let e=null;return(t,r)=>{null===e&&(e=(rt(oU,{optional:!0})??[]).reduceRight(nU,kT));const n=rt(Wm),o=n.add();return e(t,r).pipe(dp(()=>n.remove(o)))}}let OT=(()=>{var e;class t extends yg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=rt(Wm);const i=rt(PT,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(pp),...this.injector.get(RT,[])]));this.chain=i.reduceRight((s,a)=>function rU(e,t,r){return(n,o)=>Kl(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),kT)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(dp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(bg),ce(ii))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const uU=/^\)\]\}',?\n/;let FT=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Er(o.\u0275loadImpl()):Ht(null)).pipe(eo(()=>new On(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((ye,Ee)=>a.setRequestHeader(ye,Ee.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ye=n.detectContentTypeHeader();null!==ye&&a.setRequestHeader("Content-Type",ye)}if(n.responseType){const ye=n.responseType.toLowerCase();a.responseType="json"!==ye?ye:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const ye=a.statusText||"OK",Ee=new Ys(a.getAllResponseHeaders()),Ie=function dU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new Sg({headers:Ee,status:a.status,statusText:ye,url:Ie}),c},h=()=>{let{headers:ye,status:Ee,statusText:Ie,url:Tt}=f(),vt=null;204!==Ee&&(vt=typeof a.response>"u"?a.responseText:a.response),0===Ee&&(Ee=vt?200:0);let st=Ee>=200&&Ee<300;if("json"===n.responseType&&"string"==typeof vt){const or=vt;vt=vt.replace(uU,"");try{vt=""!==vt?JSON.parse(vt):null}catch(fr){vt=or,st&&(st=!1,vt={error:fr,text:vt})}}st?(s.next(new Wc({body:vt,headers:ye,status:Ee,statusText:Ie,url:Tt||void 0})),s.complete()):s.error(new yd({error:vt,headers:ye,status:Ee,statusText:Ie,url:Tt||void 0}))},g=ye=>{const{url:Ee}=f(),Ie=new yd({error:ye,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ee||void 0});s.error(Ie)};let b=!1;const V=ye=>{b||(s.next(f()),b=!0);let Ee={type:uc.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(Ee.total=ye.total),"text"===n.responseType&&a.responseText&&(Ee.partialText=a.responseText),s.next(Ee)},ee=ye=>{let Ee={type:uc.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(Ee.total=ye.total),s.next(Ee)};return a.addEventListener("load",h),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),n.reportProgress&&(a.addEventListener("progress",V),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:uc.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",h),a.removeEventListener("timeout",g),n.reportProgress&&(a.removeEventListener("progress",V),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(tT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const qb=new pt("XSRF_ENABLED"),LT=new pt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$T=new pt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class BT{}let hU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ux(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si),ce(Jl),ce(LT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function mU(e,t){const r=e.url.toLowerCase();if(!rt(qb)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=rt(BT).getToken(),o=rt($T);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var dc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(dc||{});function Zc(e,t){return{\u0275kind:e,\u0275providers:t}}function gU(...e){const t=[zb,FT,OT,{provide:yg,useExisting:OT},{provide:bg,useExisting:FT},{provide:pp,useValue:mU,multi:!0},{provide:qb,useValue:!0},{provide:BT,useClass:hU}];for(const r of e)t.push(...r.\u0275providers);return function tv(e){return{\u0275providers:e}}(t)}const VT=new pt("LEGACY_INTERCEPTOR_FN");let vU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[gU(Zc(dc.LegacyInterceptors,[{provide:VT,useFactory:iU},{provide:pp,useExisting:VT,multi:!0}]))]}),t})();const{isArray:EU}=Array,{getPrototypeOf:IU,prototype:xU,keys:TU}=Object;function ZT(e){if(1===e.length){const t=e[0];if(EU(t))return{args:t,keys:null};if(function MU(e){return e&&"object"==typeof e&&IU(e)===xU}(t)){const r=TU(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:AU}=Array;function Yb(e){return un(t=>function kU(e,t){return AU(t)?e(...t):e(t)}(e,t))}function qT(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Dg(...e){const t=Xi(e),r=ra(e),{args:n,keys:o}=ZT(e);if(0===n.length)return Er([],t);const i=new On(function RU(e,t,r=tr){return n=>{YT(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)YT(t,()=>{const c=Er(e[l],t);let f=!1;c.subscribe(Nn(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>qT(o,s):tr));return r?i.pipe(Yb(r)):i}function YT(e,t,r){e?Kn(r,e,t):t()}const Eg=Se(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Kb(...e){return function PU(){return Fo(1)}()(Er(e,Xi(e)))}function KT(e){return new On(t=>{A(e()).subscribe(t)})}function Ig(e,t){const r=Te(e)?e:()=>e,n=o=>o.error(r());return new On(t?o=>t.schedule(n,0,o):n)}function Xb(){return xn((e,t)=>{let r=null;e._refCount++;const n=Nn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class XT extends On{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,yr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yt;const r=this.getSubject();t.add(this.source.subscribe(Nn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yt.EMPTY)}return t}refCount(){return Xb()(this)}}function bd(e){return e<=0?()=>Io:xn((t,r)=>{let n=0;t.subscribe(Nn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function QT(...e){const t=Xi(e);return xn((r,n)=>{(t?Kb(e,r,t):Kb(e,r)).subscribe(n)})}function xg(e){return xn((t,r)=>{let n=!1;t.subscribe(Nn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function JT(e=OU){return xn((t,r)=>{let n=!1;t.subscribe(Nn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function OU(){return new Eg}function fc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Da((o,i)=>e(o,i,n)):tr,bd(1),r?xg(t):JT(()=>new Eg))}function Ci(e,t,r){const n=Te(e)||t||r?{next:e,error:t,complete:r}:e;return n?xn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Nn(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):tr}function qc(e){return xn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Nn(r,void 0,void 0,s=>{i=A(e(s,qc(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function Qb(e){return e<=0?()=>Io:xn((t,r)=>{let n=[];t.subscribe(Nn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function eM(e){return un(()=>e)}function tM(e){return xn((t,r)=>{A(e).subscribe(Nn(r,()=>r.complete(),Wn)),!r.closed&&t.subscribe(r)})}const En="primary",hp=Symbol("RouteTitle");class $U{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Cd(e){return new $U(e)}function BU(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function rl(e,t){const r=e?Jb(e):void 0,n=t?Jb(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!nM(e[o],t[o]))return!1;return!0}function Jb(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function nM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function rM(e){return e.length>0?e[e.length-1]:null}function pc(e){return function DU(e){return!!e&&(e instanceof On||Te(e.lift)&&Te(e.subscribe))}(e)?e:Qf(e)?Er(Promise.resolve(e)):Ht(e)}const jU={exact:function sM(e,t,r){if(!Yc(e.segments,t.segments)||!Tg(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!sM(e.children[n],t.children[n],r))return!1;return!0},subset:aM},oM={exact:function GU(e,t){return rl(e,t)},subset:function UU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>nM(e[r],t[r]))},ignored:()=>!0};function iM(e,t,r){return jU[r.paths](e.root,t.root,r.matrixParams)&&oM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function aM(e,t,r){return lM(e,t,t.segments,r)}function lM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Yc(o,r)||t.hasChildren()||!Tg(o,r,n))}if(e.segments.length===r.length){if(!Yc(e.segments,r)||!Tg(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!aM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Yc(e.segments,o)&&Tg(e.segments,o,n)&&e.children[En])&&lM(e.children[En],t,i,n)}}function Tg(e,t,r){return t.every((n,o)=>oM[r](e[o].parameters,n.parameters))}class Sd{constructor(t=new Lr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cd(this.queryParams)),this._queryParamMap}toString(){return WU.serialize(this)}}class Lr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mg(this)}}class mp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Cd(this.parameters)),this._parameterMap}toString(){return dM(this)}}function Yc(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Kc=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new eC,providedIn:"root"}),t})();class eC{parse(t){const r=new rH(t);return new Sd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${gp(t.root,!0)}`,n=function YU(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${Ag(r)}=${Ag(o)}`).join("&"):`${Ag(r)}=${Ag(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function ZU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const WU=new eC;function Mg(e){return e.segments.map(t=>dM(t)).join("/")}function gp(e,t){if(!e.hasChildren())return Mg(e);if(t){const r=e.children[En]?gp(e.children[En],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==En&&n.push(`${o}:${gp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function zU(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===En&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==En&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===En?[gp(e.children[En],!1)]:[`${o}:${gp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[En]?`${Mg(e)}/${r[0]}`:`${Mg(e)}/(${r.join("//")})`}}function cM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ag(e){return cM(e).replace(/%3B/gi,";")}function tC(e){return cM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kg(e){return decodeURIComponent(e)}function uM(e){return kg(e.replace(/\+/g,"%20"))}function dM(e){return`${tC(e.path)}${function qU(e){return Object.keys(e).map(t=>`;${tC(t)}=${tC(e[t])}`).join("")}(e.parameters)}`}const KU=/^[^\/()?;#]+/;function nC(e){const t=e.match(KU);return t?t[0]:""}const XU=/^[^\/()?;=#]+/,JU=/^[^=?&#]+/,tH=/^[^&#]+/;class rH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[En]=new Lr(t,r)),n}parseSegment(){const t=nC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new mp(kg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function QU(e){const t=e.match(XU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=nC(this.remaining);o&&(n=o,this.capture(n))}t[kg(r)]=kg(n)}parseQueryParam(t){const r=function eH(e){const t=e.match(JU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function nH(e){const t=e.match(tH);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=uM(r),i=uM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=nC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=En);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[En]:new Lr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function fM(e){return e.segments.length>0?new Lr([],{[En]:e}):e}function pM(e){const t={};for(const n of Object.keys(e.children)){const i=pM(e.children[n]);if(n===En&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function oH(e){if(1===e.numberOfChildren&&e.children[En]){const t=e.children[En];return new Lr(e.segments.concat(t.segments),t.children)}return e}(new Lr(e.segments,t))}function Xc(e){return e instanceof Sd}function hM(e){let t;const o=fM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Lr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function mM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return rC(o,o,o,r,n);const i=function sH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new _M(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new _M(r,t,n)}(t);if(i.toRoot())return rC(o,o,new Lr([],{}),r,n);const s=function aH(e,t,r){if(e.isAbsolute)return new Pg(t,!0,0);if(!r)return new Pg(t,!1,NaN);if(null===r.parent)return new Pg(r,!0,0);const n=Rg(e.commands[0])?0:1;return function lH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new Pg(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?vp(s.segmentGroup,s.index,i.commands):vM(s.segmentGroup,s.index,i.commands);return rC(o,s.segmentGroup,a,r,n)}function Rg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _p(e){return"object"==typeof e&&null!=e&&e.outlets}function rC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:gM(e,t,r);const a=fM(pM(s));return new Sd(a,i,o)}function gM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:gM(i,t,r)}),new Lr(e.segments,n)}class _M{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Rg(n[0]))throw new Xe(4003,!1);const o=n.find(_p);if(o&&o!==rM(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pg{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function vM(e,t,r){if(e||(e=new Lr([],{})),0===e.segments.length&&e.hasChildren())return vp(e,t,r);const n=function uH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(_p(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!bM(l,c,s))return i;n+=2}else{if(!bM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Lr(e.segments.slice(0,n.pathIndex),{});return i.children[En]=new Lr(e.segments.slice(n.pathIndex),e.children),vp(i,0,o)}return n.match&&0===o.length?new Lr(e.segments,{}):n.match&&!e.hasChildren()?oC(e,t,r):n.match?vp(e,0,o):oC(e,t,r)}function vp(e,t,r){if(0===r.length)return new Lr(e.segments,{});{const n=function cH(e){return _p(e[0])?e[0].outlets:{[En]:e}}(r),o={};if(Object.keys(n).some(i=>i!==En)&&e.children[En]&&1===e.numberOfChildren&&0===e.children[En].segments.length){const i=vp(e.children[En],t,r);return new Lr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=vM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Lr(e.segments,o)}}function oC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(_p(i)){const l=dH(i.outlets);return new Lr(n,l)}if(0===o&&Rg(r[0])){n.push(new mp(e.segments[t].path,yM(r[0]))),o++;continue}const s=_p(i)?i.outlets[En]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Rg(a)?(n.push(new mp(s,yM(a))),o+=2):(n.push(new mp(s,{})),o++)}return new Lr(n,{})}function dH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=oC(new Lr([],{}),0,n))}),t}function yM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function bM(e,t,r){return e==r.path&&rl(t,r.parameters)}const yp="imperative";class ol{constructor(t,r){this.id=t,this.url=r}}class bp extends ol{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends ol{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wd extends ol{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dd extends ol{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class Og extends ol{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CM extends ol{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fH extends ol{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pH extends ol{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hH extends ol{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mH extends ol{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _H{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SM{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iC{}class sC{constructor(t){this.url=t}}class SH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qc,this.attachRef=null}}let Qc=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new SH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class wM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=aC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=aC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=lC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return lC(t,this._root).map(r=>r.value)}}function aC(e,t){if(e===t.value)return t;for(const r of t.children){const n=aC(e,r);if(n)return n}return null}function lC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=lC(e,r);if(n.length)return n.unshift(t),n}return[]}class Ea{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Ed(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class DM extends wM{constructor(t,r){super(t),this.snapshot=r,dC(this,t)}toString(){return this.snapshot.toString()}}function EM(e,t){const r=function wH(e,t){const s=new uC([],{},{},"",{},En,t,null,{});return new IM("",new Ea(s,[]))}(0,t),n=new po([new mp("",{})]),o=new po({}),i=new po({}),s=new po({}),a=new po(""),l=new il(n,o,s,a,i,En,t,r.root);return l.snapshot=r.root,new DM(new Ea(l,[]),r)}class il{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(un(c=>c[hp]))??Ht(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(un(t=>Cd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(un(t=>Cd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&TM(o)&&(n.resolve[hp]=o.title),n}class uC{get title(){return this.data?.[hp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IM extends wM{constructor(t,r){super(r),this.url=t,dC(this,r)}toString(){return xM(this._root)}}function dC(e,t){t.value._routerState=e,t.children.forEach(r=>dC(e,r))}function xM(e){const t=e.children.length>0?` { ${e.children.map(xM).join(", ")} } `:"";return`${e.value}${t}`}function fC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,rl(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),rl(t.params,r.params)||e.paramsSubject.next(r.params),function VU(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!rl(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),rl(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function pC(e,t){const r=rl(e.params,t.params)&&function HU(e,t){return Yc(e,t)&&e.every((r,n)=>rl(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||pC(e.parent,t.parent))}function TM(e){return"string"==typeof e.title||null===e.title}let MM=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=En,this.activateEvents=new ln,this.deactivateEvents=new ln,this.attachEvents=new ln,this.detachEvents=new ln,this.parentContexts=rt(Qc),this.location=rt(os),this.changeDetector=rt(ft),this.environmentInjector=rt(ii),this.inputBinder=rt(Ng,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new DH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vi]}),t})();class DH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===il?this.route:t===Qc?this.childContexts:this.parent.get(t,r)}}const Ng=new pt("");let AM=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Dg([o.queryParams,o.params,o.data]).pipe(eo(([s,a,l],c)=>(l={...s,...a,...l},0===c?Ht(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=Mx(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function Cp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function IH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Cp(e,n,o);return Cp(e,n)})}(e,t,r);return new Ea(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Cp(e,a)),s}}const n=function xH(e){return new il(new po(e.url),new po(e.params),new po(e.queryParams),new po(e.fragment),new po(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Cp(e,i));return new Ea(n,o)}}const hC="ngNavigationCancelingError";function kM(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=Xc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=RM(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function RM(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[hC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function PM(e){return e&&e[hC]}let OM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[jm],decls:1,vars:0,template:function(n,o){1&n&&Ve(0,"router-outlet")},dependencies:[MM],encapsulation:2}),t})();function mC(e){const t=e.children&&e.children.map(mC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==En&&(r.component=OM),r}function sl(e){return e.outlet||En}function Sp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class NH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),fC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Ed(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Ed(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Ed(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Ed(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new CH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new yH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(fC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Sp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class NM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fg{constructor(t,r){this.component=t,this.route=r}}function FH(e,t,r){const n=e._root;return wp(n,t?t._root:null,r,[n.value])}function Id(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function zn(e){return null!==sr(e)}(e)?t.get(e):e:n}function wp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ed(t);return e.children.forEach(s=>{(function $H(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function BH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Yc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yc(e.url,t.url)||!rl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pC(e,t)||!rl(e.queryParams,t.queryParams);default:return!pC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new NM(n)):(i.data=s.data,i._resolvedData=s._resolvedData),wp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Fg(a.outlet.component,s))}else s&&Dp(t,a,o),o.canActivateChecks.push(new NM(n)),wp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Dp(a,r.getContext(s),o)),o}function Dp(e,t,r){const n=Ed(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Dp(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new Fg(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Ep(e){return"function"==typeof e}function FM(e){return e instanceof Eg||"EmptyError"===e?.name}const Lg=Symbol("INITIAL_VALUE");function xd(){return eo(e=>Dg(e.map(t=>t.pipe(bd(1),QT(Lg)))).pipe(un(t=>{for(const r of t)if(!0!==r){if(r===Lg)return Lg;if(!1===r||r instanceof Sd)return r}return!0}),Da(t=>t!==Lg),bd(1)))}function LM(e){return function wr(...e){return _o(e)}(Ci(t=>{if(Xc(t))throw kM(0,t)}),un(t=>!0===t))}class gC{constructor(t){this.segmentGroup=t||null}}class _C extends Error{constructor(t){super(),this.urlTree=t}}function Td(e){return Ig(new gC(e))}class i6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Ht(n);if(o.numberOfChildren>1||!o.children[En])return Ig(new Xe(4e3,!1));o=o.children[En]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new _C(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new Sd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Lr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const vC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s6(e,t,r,n,o){const i=yC(e,t,r);return i.matched?(n=function MH(e,t){return e.providers&&!e._injector&&(e._injector=Vy(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function n6(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Ht(o.map(s=>{const a=Id(s,e);return pc(function zH(e){return e&&Ep(e.canMatch)}(a)?a.canMatch(t,r):Kl(e,()=>a(t,r)))})).pipe(xd(),LM()):Ht(!0)}(n,t,r).pipe(un(s=>!0===s?i:{...vC}))):Ht(i)}function yC(e,t,r){if("**"===t.path)return function a6(e){return{matched:!0,parameters:e.length>0?rM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...vC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||BU)(r,e,t);if(!o)return{...vC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function $M(e,t,r,n){return r.length>0&&function u6(e,t,r){return r.some(n=>$g(e,t,n)&&sl(n)!==En)}(e,r,n)?{segmentGroup:new Lr(t,c6(n,new Lr(r,e.children))),slicedSegments:[]}:0===r.length&&function d6(e,t,r){return r.some(n=>$g(e,t,n))}(e,r,n)?{segmentGroup:new Lr(e.segments,l6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Lr(e.segments,e.children),slicedSegments:r}}function l6(e,t,r,n,o){const i={};for(const s of n)if($g(e,r,s)&&!o[sl(s)]){const a=new Lr([],{});i[sl(s)]=a}return{...o,...i}}function c6(e,t){const r={};r[En]=t;for(const n of e)if(""===n.path&&sl(n)!==En){const o=new Lr([],{});r[sl(n)]=o}return r}function $g(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class h6{}class _6{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new i6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=$M(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(un(r=>{const n=new uC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,{}),o=new Ea(n,r),i=new IM("",o),s=function iH(e,t,r=null,n=null){return mM(hM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,En).pipe(qc(n=>{if(n instanceof _C)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof gC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=cC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(un(i=>i instanceof Ea?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return Er(o).pipe(vd(i=>{const s=n.children[i],a=function PH(e,t){const r=e.filter(n=>sl(n)===t);return r.push(...e.filter(n=>sl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function FU(e,t){return xn(function NU(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Nn(s,f=>{const h=c++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),xg(null),function LU(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Da((o,i)=>e(o,i,n)):tr,Qb(1),r?xg(t):JT(()=>new Eg))}(),Bn(i=>{if(null===i)return Td(n);const s=BM(i);return function v6(e){e.sort((t,r)=>t.value.outlet===En?-1:r.value.outlet===En?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Ht(s)}))}processSegment(t,r,n,o,i,s){return Er(r).pipe(vd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(qc(l=>{if(l instanceof gC)return Ht(null);throw l}))),fc(a=>!!a),qc(a=>{if(FM(a))return function p6(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Ht(new h6):Td(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function f6(e,t,r,n){return!!(sl(e)===n||n!==En&&$g(t,r,e))&&yC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Td(o):Td(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=yC(r,o,i);if(!a)return Td(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,h).pipe(Bn(g=>this.processSegment(t,n,r,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=s6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(eo(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(eo(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:g}=a,b=new uC(f,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function b6(e){return e.data||{}}(n),sl(n),n.component??n._loadedComponent??null,n,function C6(e){return e.resolve||{}}(n)),{segmentGroup:V,slicedSegments:ee}=$M(r,f,h,l);if(0===ee.length&&V.hasChildren())return this.processChildren(c,l,V).pipe(un(Ee=>null===Ee?null:new Ea(b,Ee)));if(0===l.length&&0===ee.length)return Ht(new Ea(b,[]));const ye=sl(n)===i;return this.processSegment(c,l,V,ee,ye?En:i,!0).pipe(un(Ee=>new Ea(b,Ee instanceof Ea?[Ee]:[])))})):Td(r)))}getChildConfig(t,r,n){return r.children?Ht({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Ht({routes:r._loadedRoutes,injector:r._loadedInjector}):function t6(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(s=>{const a=Id(s,e);return pc(function jH(e){return e&&Ep(e.canLoad)}(a)?a.canLoad(t,r):Kl(e,()=>a(t,r)))})).pipe(xd(),LM())}(t,r,n).pipe(Bn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ci(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function o6(e){return Ig(RM(!1,3))}())):Ht({routes:[],injector:t})}}function y6(e){const t=e.value.routeConfig;return t&&""===t.path}function BM(e){const t=[],r=new Set;for(const n of e){if(!y6(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=BM(n.children);t.push(new Ea(n.value,o))}return t.filter(n=>!r.has(n))}function VM(e){const t=e.children.map(r=>VM(r)).flat();return[e,...t]}function bC(e){return eo(t=>{const r=e(t);return r?Er(r).pipe(un(()=>t)):Ht(t)})}let jM=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===En);return o}getResolvedTitleForRoute(n){return n.data[hp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(x6),providedIn:"root"}),t})(),x6=(()=>{var e;class t extends jM{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(vT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Md=new pt("",{providedIn:"root",factory:()=>({})}),Ad=new pt("ROUTES");let CC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(HI)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ht(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=pc(n.loadComponent()).pipe(un(GM),Ci(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),dp(()=>{this.componentLoaders.delete(n)})),i=new XT(o,()=>new In).pipe(Xb());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Ht({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function T6(e,t,r,n){return pc(e.loadChildren()).pipe(un(GM),Bn(o=>o instanceof cI||Array.isArray(o)?Ht(o):Er(t.compileModuleAsync(o))),un(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(Ad,[],{optional:!0,self:!0}).flat()),{routes:s.map(mC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(dp(()=>{this.childrenLoaders.delete(o)})),a=new XT(s,()=>new In).pipe(Xb());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GM(e){return function M6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let SC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(A6),providedIn:"root"}),t})(),A6=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const UM=new pt(""),HM=new pt("");function k6(e,t,r){const n=e.get(HM),o=e.get(si);return e.get(Ge).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function R6(e){return new Promise(t=>{LD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&Kl(e,()=>l({transition:a,from:t,to:r})),s})}let Bg=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new In,this.transitionAbortSubject=new In,this.configLoader=rt(CC),this.environmentInjector=rt(ii),this.urlSerializer=rt(Kc),this.rootContexts=rt(Qc),this.location=rt(ac),this.inputBindingEnabled=null!==rt(Ng,{optional:!0}),this.titleStrategy=rt(jM),this.options=rt(Md,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=rt(SC),this.createViewTransition=rt(UM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new _H(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new po({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Da(s=>0!==s.id),un(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),eo(s=>{this.currentTransition=s;let a=!1,l=!1;return Ht(s).pipe(Ci(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),eo(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Dd(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),Io}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ht(c).pipe(eo(g=>{const b=this.transitions?.getValue();return this.events.next(new bp(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),b!==this.transitions?.getValue()?Io:Promise.resolve(g)}),function S6(e,t,r,n,o,i){return Bn(s=>function m6(e,t,r,n,o,i,s="emptyOnly"){return new _6(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(un(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ci(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const b=new CM(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:b,source:V,restoredState:ee,extras:ye}=c,Ee=new bp(g,this.urlSerializer.serialize(b),V,ee);this.events.next(Ee);const Ie=EM(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Ie,urlAfterRedirects:b,extras:{...ye,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Ht(s)}{const g="";return this.events.next(new Dd(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),Io}}),Ci(c=>{const f=new fH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),un(c=>(this.currentTransition=s={...c,guards:FH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function ZH(e,t){return Bn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Ht({...r,guardsResult:!0}):function qH(e,t,r,n){return Er(e).pipe(Bn(o=>function e6(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Ht(i.map(a=>{const l=Sp(t)??o,c=Id(a,l);return pc(function HH(e){return e&&Ep(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):Kl(l,()=>c(e,t,r,n))).pipe(fc())})).pipe(xd()):Ht(!0)}(o.component,o.route,r,t,n)),fc(o=>!0!==o,!0))}(s,n,o,e).pipe(Bn(a=>a&&function VH(e){return"boolean"==typeof e}(a)?function YH(e,t,r,n){return Er(t).pipe(vd(o=>Kb(function XH(e,t){return null!==e&&t&&t(new vH(e)),Ht(!0)}(o.route.parent,n),function KH(e,t){return null!==e&&t&&t(new bH(e)),Ht(!0)}(o.route,n),function JH(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function LH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>KT(()=>Ht(s.guards.map(l=>{const c=Sp(s.node)??r,f=Id(l,c);return pc(function UH(e){return e&&Ep(e.canActivateChild)}(f)?f.canActivateChild(n,e):Kl(c,()=>f(n,e))).pipe(fc())})).pipe(xd())));return Ht(i).pipe(xd())}(e,o.path,r),function QH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Ht(!0);const o=n.map(i=>KT(()=>{const s=Sp(t)??r,a=Id(i,s);return pc(function GH(e){return e&&Ep(e.canActivate)}(a)?a.canActivate(t,e):Kl(s,()=>a(t,e))).pipe(fc())}));return Ht(o).pipe(xd())}(e,o.route,r))),fc(o=>!0!==o,!0))}(n,i,e,t):Ht(a)),un(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ci(c=>{if(s.guardsResult=c.guardsResult,Xc(c.guardsResult))throw kM(0,c.guardsResult);const f=new pH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Da(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),bC(c=>{if(c.guards.canActivateChecks.length)return Ht(c).pipe(Ci(f=>{const h=new hH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),eo(f=>{let h=!1;return Ht(f).pipe(function w6(e,t){return Bn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Ht(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of VM(l))s.add(c);let a=0;return Er(s).pipe(vd(l=>i.has(l)?function D6(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!TM(o)&&(i[hp]=o.title),function E6(e,t,r,n){const o=Jb(e);if(0===o.length)return Ht({});const i={};return Er(o).pipe(Bn(s=>function I6(e,t,r,n){const o=Sp(t)??n,i=Id(e,o);return pc(i.resolve?i.resolve(t,r):Kl(o,()=>i(t,r)))}(e[s],t,r,n).pipe(fc(),Ci(a=>{i[s]=a}))),Qb(1),eM(i),qc(s=>FM(s)?Io:Ig(s)))}(i,e,t,n).pipe(un(s=>(e._resolvedData=s,e.data=cC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=cC(l,l.parent,e).resolve,Ht(void 0))),Ci(()=>a++),Qb(1),Bn(l=>a===s.size?Ht(r):Io))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ci({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ci(f=>{const h=new mH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),bC(c=>{const f=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ci(b=>{h.component=b}),un(()=>{})));for(const b of h.children)g.push(...f(b));return g};return Dg(f(c.targetSnapshot.root)).pipe(xg(),bd(1))}),bC(()=>this.afterPreactivation()),eo(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return h?Er(h).pipe(un(()=>s)):Ht(s)}),un(c=>{const f=function EH(e,t,r){const n=Cp(e,t._root,r?r._root:void 0);return new DM(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ci(()=>{this.events.next(new iC)}),((e,t,r,n)=>un(o=>(new NH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bd(1),Ci({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Al(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),tM(this.transitionAbortSubject.pipe(Ci(c=>{throw c}))),dp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),qc(c=>{if(l=!0,PM(c))this.events.next(new wd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function TH(e){return PM(e)&&Xc(e.url)}(c)?this.events.next(new sC(c.url)):s.resolve(!1);else{this.events.next(new Og(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Io}))}))}cancelNavigationTransition(n,o,i){const s=new wd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function P6(e){return e!==yp}let zM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(N6),providedIn:"root"}),t})();class O6{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let N6=(()=>{var e;class t extends O6{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),WM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(F6),providedIn:"root"}),t})(),F6=(()=>{var e;class t extends WM{constructor(){super(...arguments),this.location=rt(ac),this.urlSerializer=rt(Kc),this.options=rt(Md,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=rt(SC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Sd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=EM(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof bp)this.stateMemento=this.createStateMemento();else if(n instanceof Dd)this.rawUrlTree=o.initialUrl;else if(n instanceof CM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof iC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof wd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof Og?this.restoreHistory(o,!0):n instanceof Al&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ip=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ip||{});function ZM(e,t){e.events.pipe(Da(r=>r instanceof Al||r instanceof wd||r instanceof Og||r instanceof Dd),un(r=>r instanceof Al||r instanceof Dd?Ip.COMPLETE:r instanceof wd&&(0===r.code||1===r.code)?Ip.REDIRECTING:Ip.FAILED),Da(r=>r!==Ip.REDIRECTING),bd(1)).subscribe(()=>{t()})}function L6(e){throw e}const $6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Go=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=rt(UI),this.stateManager=rt(WM),this.options=rt(Md,{optional:!0})||{},this.pendingTasks=rt(Wm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=rt(Bg),this.urlSerializer=rt(Kc),this.location=rt(ac),this.urlHandlingStrategy=rt(SC),this._events=new In,this.errorHandler=this.options.errorHandler||L6,this.navigated=!1,this.routeReuseStrategy=rt(zM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=rt(Ad,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!rt(Ng,{optional:!0}),this.eventsSubscription=new yt,this.isNgZoneEnabled=rt(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof wd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof Al)this.navigated=!0;else if(o instanceof sC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||P6(i.source)};this.scheduleNavigation(a,yp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function j6(e){return!(e instanceof iC||e instanceof sC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let g,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=hM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return mM(g,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=Xc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,yp,null,o)}navigate(n,o={skipLocationChange:!1}){return function V6(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...$6}:!1===o?{...B6}:o,Xc(n))return iM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return iM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((g,b)=>{l=g,c=b});const h=this.pendingTasks.add();return ZM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class qM{}let H6=(()=>{var e;class t{preload(n,o){return o().pipe(qc(()=>Ht(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),z6=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Da(n=>n instanceof Al),vd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Vy(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Er(i).pipe(Fo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Ht(null);const s=i.pipe(Bn(a=>null===a?Ht(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?Er([s,this.loader.loadComponent(o)]).pipe(Fo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Go),ce(HI),ce(ii),ce(qM),ce(CC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const wC=new pt("");let YM=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Al?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Dd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof SM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new SM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function fD(){throw new Error("invalid")}()},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function al(e,t){return{\u0275kind:e,\u0275providers:t}}function XM(){const e=rt(Kr);return t=>{const r=e.get(Ca);if(t!==r.components[0])return;const n=e.get(Go),o=e.get(QM);1===e.get(DC)&&n.initialNavigation(),e.get(JM,null,Qe.Optional)?.setUpPreloading(),e.get(wC,null,Qe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const QM=new pt("",{factory:()=>new In}),DC=new pt("",{providedIn:"root",factory:()=>1}),JM=new pt("");function Y6(e){return al(0,[{provide:JM,useExisting:z6},{provide:qM,useExisting:e}])}function X6(e){return al(9,[{provide:UM,useValue:k6},{provide:HM,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const eA=new pt("ROUTER_FORROOT_GUARD"),Q6=[ac,{provide:Kc,useClass:eC},Go,Qc,{provide:il,useFactory:function KM(e){return e.routerState.root},deps:[Go]},CC,[]];let Vg=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Q6,[],{provide:Ad,multi:!0,useValue:n},{provide:eA,useFactory:nz,deps:[[Go,new Lh,new $h]]},{provide:Md,useValue:o||{}},o?.useHash?{provide:tl,useClass:Px}:{provide:tl,useClass:Rx},{provide:wC,useFactory:()=>{const e=rt(jj),t=rt(Ge),r=rt(Md),n=rt(Bg),o=rt(Kc);return r.scrollOffset&&e.setOffset(r.scrollOffset),new YM(o,n,e,t,r)}},o?.preloadingStrategy?Y6(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?rz(o):[],o?.bindToComponentInputs?al(8,[AM,{provide:Ng,useExisting:AM}]).\u0275providers:[],o?.enableViewTransitions?X6().\u0275providers:[],[{provide:tA,useFactory:XM},{provide:rb,multi:!0,useExisting:tA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ad,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(eA,8))},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();function nz(e){return"guarded"}function rz(e){return["disabled"===e.initialNavigation?al(3,[{provide:op,multi:!0,useFactory:()=>{const t=rt(Go);return()=>{t.setUpLocationChangeListener()}}},{provide:DC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?al(2,[{provide:DC,useValue:0},{provide:op,multi:!0,deps:[Kr],useFactory:t=>{const r=t.get(S4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(Go),i=t.get(QM);ZM(o,()=>{n(!0)}),t.get(Bg).afterPreactivation=()=>(n(!0),i.closed?Ht(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const tA=new pt("");class iz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const hc=new iz,oA=e=>sA(e),sA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=uz(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},uz=e=>{const t=hc.get("platform");return Object.keys(dA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):dA[r](e)})},EC=e=>!!(Jc(e,/iPad/i)||Jc(e,/Macintosh/i)&&jg(e)),aA=e=>Jc(e,/android|sink/i),jg=e=>bz(e,"(any-pointer:coarse)"),lA=e=>cA(e)||uA(e),cA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),uA=e=>{const t=e.Capacitor;return!!t?.isNative},Jc=(e,t)=>t.test(e.navigator.userAgent),bz=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},dA={ipad:EC,iphone:e=>Jc(e,/iPhone/i),ios:e=>Jc(e,/iPhone|iPod/i)||EC(e),android:aA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return EC(e)||(e=>aA(e)&&!Jc(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:cA,capacitor:uA,electron:e=>Jc(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:jg,mobileweb:e=>jg(e)&&!lA(e),desktop:e=>!jg(e),hybrid:lA};var Tp=C(7687),Cz=C(276);const Sz=["addListener","removeListener"],wz=["addEventListener","removeEventListener"],Dz=["on","off"];function Gg(e,t,r,n){if(Te(r)&&(n=r,r=void 0),n)return Gg(e,t,r).pipe(Yb(n));const[o,i]=function xz(e){return Te(e.addEventListener)&&Te(e.removeEventListener)}(e)?wz.map(s=>a=>e[s](t,a,r)):function Ez(e){return Te(e.addListener)&&Te(e.removeListener)}(e)?Sz.map(fA(e,t)):function Iz(e){return Te(e.on)&&Te(e.off)}(e)?Dz.map(fA(e,t)):[];if(!o&&ut(e))return Bn(s=>Gg(s,t,r))(A(e));if(!o)throw new TypeError("Invalid event target");return new On(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function fA(e,t){return r=>n=>e[r](t,n)}let pA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(wl),_(tt))},e.\u0275dir=Lt({type:e}),t})(),eu=(()=>{var e;class t extends pA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,features:[bn]}),t})();const Pi=new pt("NgValueAccessor"),Az={provide:Pi,useExisting:Hn(()=>IC),multi:!0},Rz=new pt("CompositionEventMode");let IC=(()=>{var e;class t extends pA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kz(){const e=sc()?sc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(wl),_(tt),_(Rz,8))},e.\u0275dir=Lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Le("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[pr([Az]),bn]}),t})();function mc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function mA(e){return null!=e&&"number"==typeof e.length}const ai=new pt("NgValidators"),gc=new pt("NgAsyncValidators"),Pz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mp{static min(t){return gA(t)}static max(t){return _A(t)}static required(t){return function vA(e){return mc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function yA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function bA(e){return mc(e.value)||Pz.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function CA(e){return t=>mc(t.value)||!mA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return SA(t)}static pattern(t){return function wA(e){if(!e)return Ug;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(mc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return MA(t)}static composeAsync(t){return AA(t)}}function gA(e){return t=>{if(mc(t.value)||mc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function _A(e){return t=>{if(mc(t.value)||mc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function SA(e){return t=>mA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Ug(e){return null}function DA(e){return null!=e}function EA(e){return Qf(e)?Er(e):e}function IA(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function xA(e,t){return t.map(r=>r(e))}function TA(e){return e.map(t=>function Oz(e){return!e.validate}(t)?t:r=>t.validate(r))}function MA(e){if(!e)return null;const t=e.filter(DA);return 0==t.length?null:function(r){return IA(xA(r,t))}}function xC(e){return null!=e?MA(TA(e)):null}function AA(e){if(!e)return null;const t=e.filter(DA);return 0==t.length?null:function(r){return function Tz(...e){const t=ra(e),{args:r,keys:n}=ZT(e),o=new On(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let h=!1;A(r[f]).subscribe(Nn(i,g=>{h||(h=!0,c--),a[f]=g},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(n?qT(n,a):a),i.complete())}))}});return t?o.pipe(Yb(t)):o}(xA(r,t).map(EA)).pipe(un(IA))}}function TC(e){return null!=e?AA(TA(e)):null}function kA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function RA(e){return e._rawValidators}function PA(e){return e._rawAsyncValidators}function MC(e){return e?Array.isArray(e)?e:[e]:[]}function Hg(e,t){return Array.isArray(e)?e.includes(t):e===t}function OA(e,t){const r=MC(t);return MC(e).forEach(o=>{Hg(r,o)||r.push(o)}),r}function NA(e,t){return MC(t).filter(r=>!Hg(e,r))}class FA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=TC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Oi extends FA{get formDirective(){return null}get path(){return null}}class kl extends FA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rl=(()=>{var e;class t extends LA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(kl,2))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&_a("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[bn]}),t})(),Pl=(()=>{var e;class t extends LA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Oi,10))},e.\u0275dir=Lt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&_a("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[bn]}),t})();const Ap="VALID",Wg="INVALID",Rd="PENDING",kp="DISABLED";function RC(e){return(Zg(e)?e.validators:e)||null}function PC(e,t){return(Zg(t)?t.asyncValidators:e)||null}function Zg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class jA{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ap}get invalid(){return this.status===Wg}get pending(){return this.status==Rd}get disabled(){return this.status===kp}get enabled(){return this.status!==kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(OA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(OA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(NA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(NA(t,this._rawAsyncValidators))}hasValidator(t){return Hg(this._rawValidators,t)}hasAsyncValidator(t){return Hg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=kp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Ap,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ap||this.status===Rd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kp:Ap}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rd,this._hasOwnPendingAsyncValidator=!0;const r=EA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ln,this.statusChanges=new ln}_calculateStatus(){return this._allControlsDisabled()?kp:this.errors?Wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rd)?Rd:this._anyControlsHaveStatus(Wg)?Wg:Ap}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function $z(e){return Array.isArray(e)?xC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Bz(e){return Array.isArray(e)?TC(e):e||null}(this._rawAsyncValidators)}}class _c extends jA{constructor(t,r,n){super(RC(r),PC(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function VA(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function BA(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const qg=_c,tu=new pt("CallSetDisabledState",{providedIn:"root",factory:()=>Rp}),Rp="always";function Pp(e,t,r=Rp){OC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function Gz(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&GA(e,t)})}(e,t),function Hz(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function Uz(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&GA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function jz(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function Kg(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Qg(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Xg(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function OC(e,t){const r=RA(e);null!==t.validator?e.setValidators(kA(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=PA(e);null!==t.asyncValidator?e.setAsyncValidators(kA(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Xg(t._rawValidators,o),Xg(t._rawAsyncValidators,o)}function Qg(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=RA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=PA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return Xg(t._rawValidators,n),Xg(t._rawAsyncValidators,n),r}function GA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function WA(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const as=class extends jA{constructor(t=null,r,n){super(RC(r),PC(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=WA(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){WA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Uo=as;let Ol=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),QA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({}),t})();const BC=new pt("NgModelWithFormControlWarning"),o5={provide:Oi,useExisting:Hn(()=>Ia)};let Ia=(()=>{var e;class t extends Oi{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ln,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Pp(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){Kg(n.control||null,n,!1),function qz(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function HA(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(Kg(o||null,n),(e=>e instanceof as)(i)&&(Pp(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function UA(e,t){OC(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function zz(e,t){return Qg(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){OC(this.form,this),this._oldForm&&Qg(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ai,10),_(gc,10),_(tu,8))},e.\u0275dir=Lt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Le("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pr([o5]),bn,vi]}),t})();const a5={provide:kl,useExisting:Hn(()=>ll)};let ll=(()=>{var e;class t extends kl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ln,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function LC(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===IC?r=i:function Zz(e){return Object.getPrototypeOf(e.constructor)===eu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function FC(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Yg(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(_(Oi,13),_(ai,10),_(gc,10),_(Pi,10),_(BC,8))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[pr([a5]),bn,vi]}),t})();function sk(e){return"number"==typeof e?e:parseFloat(e)}let nu=(()=>{var e;class t{constructor(){this._validator=Ug}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Ug,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,features:[vi]}),t})();const h5={provide:ai,useExisting:Hn(()=>HC),multi:!0};let HC=(()=>{var e;class t extends nu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>sk(n),this.createValidator=n=>_A(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Us("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[pr([h5]),bn]}),t})();const m5={provide:ai,useExisting:Hn(()=>zC),multi:!0};let zC=(()=>{var e;class t extends nu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>sk(n),this.createValidator=n=>gA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Us("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[pr([m5]),bn]}),t})();const b5={provide:ai,useExisting:Hn(()=>ZC),multi:!0};let ZC=(()=>{var e;class t extends nu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function ik(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>SA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Us("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[pr([b5]),bn]}),t})(),dk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[QA]}),t})(),ru=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:tu,useValue:n.callSetDisabledState??Rp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[dk]}),t})(),Jg=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:BC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:tu,useValue:n.callSetDisabledState??Rp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[dk]}),t})();const w5=["tabsInner"];let D5=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new In,this.keyboardDidShow=new In,this.keyboardDidHide=new In,this.pause=new In,this.resume=new In,this.resize=new In,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},Pd(this.pause,r,"pause",n),Pd(this.resume,r,"resume",n),Pd(this.backButton,r,"ionBackButton",n),Pd(this.resize,this.win,"resize",n),Pd(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),Pd(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),oA(e).includes(t)))(this.win,r)}platforms(){return oA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return E5(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ce(si),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const E5=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Pd=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let Od=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=fk,this.animated=pk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof bp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,U.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=I5(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=fk,this.animated=pk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ce(D5),ce(ac),ce(Kc),ce(Go,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const I5=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},fk="auto",pk=void 0;let Np=(()=>{class e{get(r,n){const o=qC();return o?o.get(r,n):null}getBoolean(r,n){const o=qC();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=qC();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hk=new pt("USERCONFIG"),qC=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class mk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Fp=(()=>{class e{constructor(){this.zone=rt(Ge),this.applicationRef=rt(Ca)}create(r,n,o){return new x5(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class x5{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(T5(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const T5=(e,t,r,n,o,i,s,a,l,c,f)=>{const g=function y4(e,t){const r=_n(e),n=t.elementInjector||Uh();return new Nf(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Kr.create({providers:A5(l),parent:r})}),b=g.instance,V=g.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),c)for(const ye of c)V.classList.add(ye);const ee=gk(e,b,V);return s.appendChild(V),n.attachView(g.hostView),o.set(V,g),i.set(V,ee),V},M5=[Tp.L,Tp.a,Tp.b,Tp.c,Tp.d],gk=(e,t,r)=>e.run(()=>{const n=M5.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),_k=new pt("NavParamsToken"),A5=e=>[{provide:_k,useValue:e},{provide:mk,useFactory:k5,deps:[_k]}],k5=e=>new mk(e),R5=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},P5=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function e_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&R5(r,o),i&&P5(r,i),r}}const vk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),KC=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},yk=(e,t)=>!t||e.stackId!==t.stackId,U5=(e,t)=>{if(!e)return;const r=bk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},bk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),Ck=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class H5{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?bk(t):void 0}createView(t,r){const n=KC(this.router,r),o=t?.location?.nativeElement,i=gk(this.zone,t.instance,o);return{id:this.nextId++,stackId:U5(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=KC(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=yk(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),g=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>z5(t,g,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Sk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ck),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?vk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):vk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,U.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const z5=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Sk(e,t,r,n,o),i()})}):Promise.resolve(),Sk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(Ck)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let wk=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new po(null),this.activated=null,this._activatedRoute=null,this.name=En,this.stackWillChange=new ln,this.stackDidChange=new ln,this.activateEvents=new ln,this.deactivateEvents=new ln,this.parentContexts=rt(Qc),this.location=rt(os),this.environmentInjector=rt(ii),this.inputBinder=rt(Dk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=rt(Np),this.navCtrl=rt(Od),this.nativeEl=i.nativeElement,this.name=r||En,this.tabsPrefix="true"===n?KC(s,l):void 0,this.stackCtrl=new H5(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,Cz.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new po(null),f=this.createActivatedRouteProxy(c,r),h=new W5(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:yk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new il;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(Da(o=>!!o),eo(o=>this.currentActivatedRoute$.pipe(Da(i=>null!==i&&i.component===o),eo(i=>i&&i.activatedRoute[n]),Ns())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Yl("name"),Yl("tabs"),_(ac),_(tt),_(Go),_(Ge),_(il),_(e,12))},e.\u0275dir=Lt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class W5{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===il?this.route:t===Qc?this.childContexts:this.parent.get(t,r)}}const Dk=new pt("");let Z5=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Dg([n.queryParams,n.params,n.data]).pipe(eo(([i,s,a],l)=>(a={...i,...s,...a},0===l?Ht(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=Mx(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();function Y5(e){return e?.componentInputBindingEnabled?new Z5:null}const K5=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let X5=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(_(wk,8),_(Od),_(Np),_(tt),_(Ge),_(ft))},e.\u0275dir=Lt({type:e,hostBindings:function(r,n){1&r&&Le("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=ae([e_({inputs:K5})],e),e})();const e8=["animated","animation","root","rootParams","swipeGesture"],t8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let n8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=Gg(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(_(tt),_(ii),_(Kr),_(Fp),_(Ge),_(ft))},e.\u0275dir=Lt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=ae([e_({inputs:e8,methods:t8})],e),e})(),r8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new ln,this.ionTabsDidChange=new ln,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(_(Od))},e.\u0275dir=Lt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&Uc(w5,7,tt),2&r){let o;zs(o=Ws())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Le("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const Ek=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Lp=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Nd(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Nd(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Nd(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(kl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Nd(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Nd(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,hostBindings:function(r,n){1&r&&Le("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Nd=e=>{Ek(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=o8(t);XC(t,n);const o=t.closest("ion-item");o&&XC(o,r?[...n,"item-has-value"]:n)})},o8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&i8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},XC=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},i8=(e,t)=>e.substring(0,t.length)===t;class s8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class $p{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var QC=C(2723),a8=(C(8044),C(5444),C(5922),C(4923),C(5194)),Ik=C(2984),Bp=(C(4656),C(7261)),l8=(C(6940),C(3426));C(4967);const u8=a8.i,xt=["*"],f8=["outlet"],p8=[[["","slot","top"]],"*"],h8=["[slot=top]","*"];let Fd=(()=>{class e extends Lp{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Nd(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Le("ionChange",function(i){return n._handleIonChange(i.target)})},features:[pr([{provide:Pi,useExisting:e,multi:!0}]),bn]}),e})(),t_=(()=>{class e extends Lp{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Le("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[pr([{provide:Pi,useExisting:e,multi:!0}]),bn]}),e})(),Nl=(()=>{class e extends Lp{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Le("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[pr([{provide:Pi,useExisting:e,multi:!0}]),bn]}),e})();const y8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},b8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},gr=(e,t,r)=>{r.forEach(n=>e[n]=Gg(t,n))};function Mt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&y8(r,o),i&&b8(r,i),r}}let xk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-app"]],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({})],e),e})(),Ni=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Fi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["collapse"]})],e),e})(),Tk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Li=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),$i=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["collapse","mode","translucent"]})],e),e})(),Ho=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Fl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Po=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),n_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),r_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["side"]})],e),e})(),o_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Bi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","mode","position"]})],e),e})(),Ks=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),JC=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),i_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),s_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["disabled","value"]})],e),e})(),Vp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","duration","name","paused"]})],e),e})(),a_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),Mk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Vi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","size"]})],e),e})(),jp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,gr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(ft),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e=ae([Mt({inputs:["color","mode"]})],e),e})(),Gp=(()=>{class e extends wk{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Yl("name"),Yl("tabs"),_(ac),_(tt),_(Go),_(Ge),_(il),_(e,12))},e.\u0275dir=Lt({type:e,selectors:[["ion-router-outlet"]],features:[bn]}),e})(),Ak=(()=>{class e extends r8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Yr(e)))(n||e)}})(),e.\u0275cmp=Ze({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(ud(o,a_,5),ud(o,a_,4)),2&r){let i;zs(i=Ws())&&(n.tabBar=i.first),zs(i=Ws())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&Uc(f8,5,Gp),2&r){let o;zs(o=Ws())&&(n.outlet=o.first)}},features:[bn],ngContentSelectors:h8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(Et(p8),Dt(0),z(1,"div",0,1)(3,"ion-router-outlet",2,3),Le("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),L()(),Dt(5,1))},dependencies:[Gp],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),kk=(()=>{class e extends X5{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(Gp,8),_(Od),_(Np),_(tt),_(Ge),_(ft))},e.\u0275cmp=Ze({type:e,selectors:[["ion-back-button"]],features:[bn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e})(),e0=(()=>{class e extends n8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(tt),_(ii),_(Kr),_(Fp),_(Ge),_(ft))},e.\u0275cmp=Ze({type:e,selectors:[["ion-nav"]],features:[bn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Et(),Dt(0))},encapsulation:2,changeDetection:0}),e})();const E7={provide:ai,useExisting:Hn(()=>Rk),multi:!0};let Rk=(()=>{class e extends HC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Yr(e)))(n||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Us("max",n._enabled?n.max:null)},features:[pr([E7]),bn]}),e})();const I7={provide:ai,useExisting:Hn(()=>Pk),multi:!0};let Pk=(()=>{class e extends zC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Yr(e)))(n||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Us("min",n._enabled?n.min:null)},features:[pr([I7]),bn]}),e})(),Up=(()=>{class e extends $p{constructor(){super(Bp.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hp=(()=>{class e extends $p{constructor(){super(Bp.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xa=(()=>{class e extends $p{constructor(){super(Bp.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ls=(()=>{class e extends $p{constructor(){super(Bp.m),this.angularDelegate=rt(Fp),this.injector=rt(Kr),this.environmentInjector=rt(ii)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class Ll extends $p{constructor(){super(Bp.c),this.angularDelegate=rt(Fp),this.injector=rt(Kr),this.environmentInjector=rt(ii)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const x7=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,Ik.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function c8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return u8(),(0,l8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ek,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let vc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:hk,useValue:r},{provide:op,useFactory:x7,multi:!0,deps:[hk,si,Ge]},{provide:Dk,useFactory:Y5,deps:[Go]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[Fp,ls,Ll],imports:[nl]}),e})();function Ok(e,t){(function T7(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function t0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function zp(e){return(zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function co(e,t,r){return(t=function A7(e){var t=function M7(e,t){if("object"!==zp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==zp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let ou={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Nk(e){ou=e}const Fk=/[&<>"']/,k7=new RegExp(Fk.source,"g"),Lk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,R7=new RegExp(Lk.source,"g"),P7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$k=e=>P7[e];function xs(e,t){if(t){if(Fk.test(e))return e.replace(k7,$k)}else if(Lk.test(e))return e.replace(R7,$k);return e}const O7=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,F7=/(^|[^\[])\^/g;function Cr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(F7,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function Bk(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const l_={exec:()=>null};function Vk(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function c_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function jk(e,t,r,n){const o=t.href,i=t.title?xs(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:xs(s)}}class u_{constructor(t){co(this,"options",void 0),co(this,"rules",void 0),co(this,"lexer",void 0),this.options=t||ou}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:c_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function $7(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=c_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=c_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,Ee=>" ".repeat(3*Ee.length)),g=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let V=!1;if(!h&&/^ *$/.test(g)&&(a+=g+"\n",t=t.substring(g.length+1),f=!0),!f){const Ee=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ie=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Tt=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),vt=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const st=t.split("\n",1)[0];if(g=st,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Tt.test(g)||vt.test(g)||Ee.test(g)||Ie.test(t))break;if(g.search(/[^ ]/)>=b||!g.trim())l+="\n"+g.slice(b);else{if(V||h.search(/[^ ]/)>=4||Tt.test(h)||vt.test(h)||Ie.test(h))break;l+="\n"+g}!V&&!g.trim()&&(V=!0),a+=st+"\n",t=t.substring(st.length+1),h=g.slice(b)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let ye,ee=null;this.options.gfm&&(ee=/^\[[ xX]\] /.exec(l),ee&&(ye="[ ] "!==ee[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!ee,checked:ye,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),g=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=g}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:Vk(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=Vk(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:xs(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=c_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function L7(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),jk(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return jk(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const g=[...o[0]][0].length,b=t.slice(0,s+o.index+g+l);if(Math.min(s,l)%2){const ee=b.slice(1,-1);return{type:"em",raw:b,text:ee,tokens:this.lexer.inlineTokens(ee)}}const V=b.slice(2,-2);return{type:"strong",raw:b,text:V,tokens:this.lexer.inlineTokens(V)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=xs(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=xs(r[1]),o="mailto:"+n):(n=xs(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=xs(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=xs(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:xs(r[0]),{type:"text",raw:r[0],text:n}}}}const Qt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:l_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Qt.def=Cr(Qt.def).replace("label",Qt._label).replace("title",Qt._title).getRegex(),Qt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Qt.listItemStart=Cr(/^( *)(bull) */).replace("bull",Qt.bullet).getRegex(),Qt.list=Cr(Qt.list).replace(/bull/g,Qt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Qt.def.source+")").getRegex(),Qt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Qt.html=Cr(Qt.html,"i").replace("comment",Qt._comment).replace("tag",Qt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Qt.lheading=Cr(Qt.lheading).replace(/bull/g,Qt.bullet).getRegex(),Qt.paragraph=Cr(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.blockquote=Cr(Qt.blockquote).replace("paragraph",Qt.paragraph).getRegex(),Qt.normal={...Qt},Qt.gfm={...Qt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Qt.gfm.table=Cr(Qt.gfm.table).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.gfm.paragraph=Cr(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qt._tag).getRegex(),Qt.pedantic={...Qt.normal,html:Cr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Qt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:l_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cr(Qt.normal._paragraph).replace("hr",Qt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Qt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Rt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:l_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:l_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Rt.punctuation=Cr(Rt.punctuation,"u").replace(/punctuation/g,Rt._punctuation).getRegex(),Rt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Rt.anyPunctuation=/\\[punct]/g,Rt._escapes=/\\([punct])/g,Rt._comment=Cr(Qt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Rt.emStrong.lDelim=Cr(Rt.emStrong.lDelim,"u").replace(/punct/g,Rt._punctuation).getRegex(),Rt.emStrong.rDelimAst=Cr(Rt.emStrong.rDelimAst,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt.emStrong.rDelimUnd=Cr(Rt.emStrong.rDelimUnd,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt.anyPunctuation=Cr(Rt.anyPunctuation,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt._escapes=Cr(Rt._escapes,"gu").replace(/punct/g,Rt._punctuation).getRegex(),Rt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Rt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Rt.autolink=Cr(Rt.autolink).replace("scheme",Rt._scheme).replace("email",Rt._email).getRegex(),Rt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Rt.tag=Cr(Rt.tag).replace("comment",Rt._comment).replace("attribute",Rt._attribute).getRegex(),Rt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Rt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Rt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Rt.link=Cr(Rt.link).replace("label",Rt._label).replace("href",Rt._href).replace("title",Rt._title).getRegex(),Rt.reflink=Cr(Rt.reflink).replace("label",Rt._label).replace("ref",Qt._label).getRegex(),Rt.nolink=Cr(Rt.nolink).replace("ref",Qt._label).getRegex(),Rt.reflinkSearch=Cr(Rt.reflinkSearch,"g").replace("reflink",Rt.reflink).replace("nolink",Rt.nolink).getRegex(),Rt.normal={...Rt},Rt.pedantic={...Rt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Cr(/^!?\[(label)\]\((.*?)\)/).replace("label",Rt._label).getRegex(),reflink:Cr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rt._label).getRegex()},Rt.gfm={...Rt.normal,escape:Cr(Rt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Rt.gfm.url=Cr(Rt.gfm.url,"i").replace("email",Rt.gfm._extended_email).getRegex(),Rt.breaks={...Rt.gfm,br:Cr(Rt.br).replace("{2,}","*").getRegex(),text:Cr(Rt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class cl{constructor(t){co(this,"tokens",void 0),co(this,"options",void 0),co(this,"state",void 0),co(this,"tokenizer",void 0),co(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ou,this.options.tokenizer=this.options.tokenizer||new u_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Qt.normal,inline:Rt.normal};this.options.pedantic?(r.block=Qt.pedantic,r.inline=Rt.pedantic):this.options.gfm&&(r.block=Qt.gfm,r.inline=this.options.breaks?Rt.breaks:Rt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Qt,inline:Rt}}static lex(t,r){return new cl(r).lex(t)}static lexInline(t,r){return new cl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},h),"number"==typeof g&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class iu{constructor(t){co(this,"options",void 0),this.options=t||ou}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+xs(o)+'">'+(n?t:xs(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:xs(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=Bk(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=Bk(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class r0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class ul{constructor(t){co(this,"options",void 0),co(this,"renderer",void 0),co(this,"textRenderer",void 0),this.options=t||ou,this.options.renderer=this.options.renderer||new iu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new r0}static parse(t,r){return new ul(r).parse(t)}static parseInline(t,r){return new ul(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(O7,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let g=0;g<h.length;g++)l+=this.renderer.tablecell(this.parseInline(h[g].tokens),{header:!1,align:s.align[g]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let h=0;h<s.items.length;h++){const g=s.items[h],b=g.checked,V=g.task;let ee="";if(g.task){const ye=this.renderer.checkbox(!!b);c?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=ye+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=ye+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:ye+" "}):ee+=ye+" "}ee+=this.parse(g.tokens,c),f+=this.renderer.listitem(ee,V,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class Wp{constructor(t){co(this,"options",void 0),this.options=t||ou}preprocess(t){return t}postprocess(t){return t}}co(Wp,"passThroughHooks",new Set(["preprocess","postprocess"]));var o0=new WeakSet,Gk=new WeakSet;function Uk(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=t0(this,Gk,V7).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function V7(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+xs(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const su=new class B7{constructor(...t){Ok(this,Gk),Ok(this,o0),co(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),co(this,"options",this.setOptions),co(this,"parse",t0(this,o0,Uk).call(this,cl.lex,ul.parse)),co(this,"parseInline",t0(this,o0,Uk).call(this,cl.lexInline,ul.parseInline)),co(this,"Parser",ul),co(this,"Renderer",iu),co(this,"TextRenderer",r0),co(this,"Lexer",cl),co(this,"Tokenizer",u_),co(this,"Hooks",Wp),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new iu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new u_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Wp;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=Wp.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(g=>c.call(i,g));const h=a.call(i,f);return c.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return cl.lex(t,r??this.defaults)}parser(t,r){return ul.parse(t,r??this.defaults)}};function dr(e,t){return su.parse(e,t)}dr.options=dr.setOptions=function(e){return su.setOptions(e),Nk(dr.defaults=su.defaults),dr},dr.getDefaults=function n0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},dr.defaults=ou,dr.use=function(...e){return su.use(...e),Nk(dr.defaults=su.defaults),dr},dr.walkTokens=function(e,t){return su.walkTokens(e,t)},dr.parseInline=su.parseInline,dr.Parser=ul,dr.parser=ul.parse,dr.Renderer=iu,dr.TextRenderer=r0,dr.Lexer=cl,dr.lexer=cl.lex,dr.Tokenizer=u_,dr.Hooks=Wp,dr.parse=dr;class j7 extends yt{constructor(t,r){super()}schedule(t,r=0){return this}}const d_={setInterval(e,t,...r){const{delegate:n}=d_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=d_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},s0={now:()=>(s0.delegate||Date).now(),delegate:void 0};class Zp{constructor(t,r=Zp.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Zp.now=s0.now;const H7=new class U7 extends Zp{constructor(t,r=Zp.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class G7 extends j7{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return d_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&d_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class Z7 extends In{constructor(t=1/0,r=1/0,n=s0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const Y7=["*"];let Hk=(()=>{var e;class t{constructor(){this._buttonClick$=new In,this.copied$=this._buttonClick$.pipe(eo(()=>aa(Ht(!0),function W7(e=0,t,r=H7){let n=-1;return null!=t&&(na(t)?r=t:n=t),new On(o=>{let i=function z7(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(eM(!1)))),Ns(),function q7(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,la({connector:()=>new Z7(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(QT(!1),un(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[jm],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(z(0,"button",0),Le("click",function(){return o.onCopyToClipboardClick()}),Ja(1,"async"),Ce(2),Ja(3,"async"),L()),2&n&&(_a("copied",el(1,3,o.copied$)),_e(2),ss(el(3,5,o.copiedText$)))},dependencies:[Xx],encapsulation:2,changeDetection:0}),t})();const Q7=new pt("CLIPBOARD_OPTIONS");var a0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(a0||{});const zk=new pt("MARKED_EXTENSIONS"),Wk=new pt("MARKED_OPTIONS"),Zk=new pt("SECURITY_CONTEXT");let l0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new iu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new In,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new iu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const g=this.trimIndentation(n),b=i?this.decodeHtml(g):g,V=a?this.parseEmoji(b):b,ee=this.parseMarked(V,f,s);return(c?ee:this.sanitizer.sanitize(this.securityContext,ee))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(un(o=>this.handleExtension(n,o)))}highlight(n){if(!gd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!gd(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&dr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(dr.use({renderer:o.renderer}),delete o.renderer),i?dr.parseInline(n,o):dr.parse(n,o)}parseEmoji(n){if(!gd(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(gd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!gd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const g=document.createElement("div");let b,V;g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.opacity="0",g.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",g),f.onmouseover=()=>g.style.opacity="1",f.onmouseout=()=>g.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(Hk).hostView,b.rootNodes.forEach(ee=>{ee.onmouseover=()=>g.style.opacity="1",g.appendChild(ee),V=new ClipboardJS(ee,{text:()=>f.innerText})}),b.onDestroy(()=>V.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!gd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Q7,8),ce(zk,8),ce(Wk,8),ce(Jl),ce(Zk),ce(zb,8),ce(jb))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),c0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new ln,this.load=new ln,this.ready=new ln,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new In}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(tM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,U.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,a0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,a0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(l0),_(os))},e.\u0275cmp=Ze({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[vi,jm],ngContentSelectors:Y7,decls:1,vars:0,template:function(n,o){1&n&&(Et(),Dt(0))},encapsulation:2}),t})();function aW(e){return[l0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:zk,useValue:e?.markedExtensions??[]},{provide:Zk,useValue:e?.sanitize??ws.HTML}]}let u0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[aW(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl]}),t})();var qk;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(qk||(qk={}));const Yk="safari"in window,d0=!navigator.userAgent.match(/(crios)|(fxios)/i),Ts=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Kk=!!navigator.userAgent.match(/android/i),lW=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Ld=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Ld||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const dW=new Error("request for lock canceled");class pW{constructor(t,r=dW){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class dl{constructor(t){this._semaphore=new pW(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const f_="cloudpilot-session-preview";function Qk(){localStorage.removeItem(f_)}function Mr(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,U.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let $l=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var $d;class uo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Ro.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,U.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,U.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(t){var r=this;return(0,U.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,U.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,U.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Ik.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}($d=uo).\u0275fac=function(t){return new(t||$d)(ce(Up),ce($l))},$d.\u0275prov=$e({token:$d,factory:$d.\u0275fac,providedIn:"root"}),ae([Mr()],uo.prototype,"updateAvailable",null),ae([Mr()],uo.prototype,"fatalError",null),ae([Mr()],uo.prototype,"errorInNativeCode",null);let au=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&Qk(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Ro.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(uo),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ar=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Ar||{});let qp=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Ar.none}claim(n,o){this.assertOwnership(n,Ar.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Ar.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(au))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const yc="session",Bd="rom",bc="memory",Bl="state",p_="kvs",Cc="memory-meta",fl="storage",Ms="storage-card",Yp="lock";class lu extends Error{constructor(t){super(t)}}function er(e){return new Promise((t,r)=>{!function bW(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new lu(e.error?.message))})}function eR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function CW(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const h_="session",p0="memory",nR="storage-meta",rR="storage-card";function h0(){return(h0=(0,U.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(h_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function m0(){return(m0=(0,U.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function g0(){return(g0=(0,U.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(nR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(h_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function _0(){return(_0=(0,U.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(nR).name=rR})).apply(this,arguments)}function v0(){return(v0=(0,U.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(rR).createIndex("storageId","storageId")})).apply(this,arguments)}function y0(){return(y0=(0,U.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const NW=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function oR(e){let t=-1;for(let r=0;r<e.length;r++)t=NW[255&(t^e[r])]^t>>>8;return~t}var FW=C(3219),LW=C.n(FW);const iR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let m_;const $W=new Uint8Array(16);function BW(){if(!m_&&(m_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m_($W)}const di=[];for(let e=0;e<256;++e)di.push((e+256).toString(16).slice(1));const b0=function VW(e,t,r){if(iR.randomUUID&&!t&&!e)return iR.randomUUID();const n=(e=e||{}).random||(e.rng||BW)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function sR(e,t=0){return di[e[t+0]]+di[e[t+1]]+di[e[t+2]]+di[e[t+3]]+"-"+di[e[t+4]]+di[e[t+5]]+"-"+di[e[t+6]]+di[e[t+7]]+"-"+di[e[t+8]]+di[e[t+9]]+"-"+di[e[t+10]]+di[e[t+11]]+di[e[t+12]]+di[e[t+13]]+di[e[t+14]]+di[e[t+15]]}(n)};var Vd;const C0=new Error("page lock lost"),aR=new Error("version mismatch"),lR=b0();function Co(){return(e,t,r)=>{const n=r.value;return r.value=(0,U.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw s instanceof lu?i.fatalIDBDead():s===aR?i.fatalVersionMismatch():s===C0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class rr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(bc),l=o.objectStore(Cc),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const g=s.length>>>10;for(let b=0;b<g;b++){f.set(s.subarray(1024*b,1024*(b+1)));const V=eR(c);if("number"==typeof V)a.put(V,[i,b]);else{const ee=new Uint32Array(256);ee.set(V),a.put(ee,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,U.Z)(function*(){const a=o.objectStore(Cc),l=yield er(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,U.Z)(function*(h,g){const b=o.objectStore(bc),V=new Uint32Array(l.totalSize>>>2),ee=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ee.onsuccess=()=>{const ye=ee.result;if(!ye)return h(new Uint8Array(V.buffer));const Ee=ye.value,[,Ie]=ye.key;"number"==typeof Ee?V.subarray(256*Ie,256*(Ie+1)).fill(Ee|Ee<<8|Ee<<16|Ee<<24):V.subarray(256*Ie,256*(Ie+1)).set(1024===Ee.length?new Uint32Array(Ee.buffer):Ee),ye.continue()},ee.onerror=()=>g(new lu(ee.error?.message))});return function(h,g){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==oR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new Ro.j,this.storageCardChangeEvent=new Ro.j,this.sessionUpdateMutex=new dl,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,U.Z)(function*(){const s=LW()(r),a=yield i.newTransaction(yc,Bd,Bl,bc,Cc),l=a.objectStore(yc),c=a.objectStore(Bd);(yield er(c.get(s)))||c.put(r,s);const{id:h,...g}=t,b=yield er(l.add({...g,rom:s})),V=yield er(l.get(b));return n&&i.saveMemory(a,V.id,n),o&&i.saveState(a,V.id,o),yield er(a),V})()}getAllSessions(){var t=this;return(0,U.Z)(function*(){const[r]=yield t.prepareObjectStore(yc);return yield er(r.getAll())})()}getSession(t){var r=this;return(0,U.Z)(function*(){const[n]=yield r.prepareObjectStore(yc);return yield er(n.get(t))})()}deleteSession(t){var r=this;return(0,U.Z)(function*(){const n=yield r.newTransaction(yc,Bd,Bl,bc,Cc),o=n.objectStore(yc),i=n.objectStore(Bd);(t=yield er(o.get(t.id)))&&(o.delete(t.id),0===(yield er(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield er(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,U.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(yc),h=yield er(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const g={...h,...l};c.put(g),yield er(f),n.sessionChangeEvent.dispatch([h.id,g])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,U.Z)(function*(){const[n,o]=yield r.prepareObjectStore(yc),i=yield er(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield er(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,U.Z)(function*(){const o=yield n.newTransaction(Bd,Bl,bc,Cc),i=o.objectStore(Bd);return[yield er(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,U.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Bl);n.delete(t.id),yield er(o)})()}addEmptyStorageCard(t){var r=this;return(0,U.Z)(function*(){const[n]=yield r.prepareObjectStore(Ms),o=yield er(n.add(t)),i=yield er(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,U.Z)(function*(){return n.ngZone.runOutsideAngular((0,U.Z)(function*(){const o=yield n.newTransaction(Ms,fl),i=o.objectStore(Ms),s=o.objectStore(fl),a=yield er(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const g=r.subarray(2048*h,2048*(h+1));h===l-1&&c.set(g);const b=CW(h===l-1?c:g);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield er(i.get(a));return yield er(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,U.Z)(function*(){const[r]=yield t.prepareObjectStore(Ms);return er(r.getAll())})()}getCard(t){var r=this;return(0,U.Z)(function*(){const[n]=yield r.prepareObjectStore(Ms);return er(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,U.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(Ms),f=yield er(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield er(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,U.Z)(function*(){const n=yield r.newTransaction(Ms,fl);r.storageCardContext.assertOwnership(t,Ar.none);const o=n.objectStore(Ms),i=n.objectStore(fl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield er(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,U.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Ms,fl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(fl);yield new Promise(function(){var a=(0,U.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let g=h.value;const[,b]=h.key;"number"==typeof g?r.subarray(2048*b,2048*(b+1)).fill(g):(2048*(b+1)>r.length&&(g=g.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(g)),h.continue()},f.onerror=()=>c(new lu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,U.Z)(function*(){const s=yield i.newTransaction(Ms,fl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Ms),l=s.objectStore(fl),c=yield er(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let g=0;g<n.length;g++)for(let b=1;b<256&&!(h>=f);b<<=1)n[g]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield er(s)}))}kvsGet(t){var r=this;return(0,U.Z)(function*(){const[n]=yield r.prepareObjectStore(p_);return er(n.get(t))})()}kvsSet(t){var r=this;return(0,U.Z)(function*(){const[n,o]=yield r.prepareObjectStore(p_);for(const i of Object.keys(t))n.put(t[i],i);yield er(o)})()}kvsLoad(){var t=this;return(0,U.Z)(function*(){const[r]=yield t.prepareObjectStore(p_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new lu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,U.Z)(function*(){const[n,o]=yield r.prepareObjectStore(p_);n.delete(t),yield er(o)})()}acquireLock(t){var r=this;return(0,U.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield er(t.objectStore(Yp).get(0)))!==lR)throw t.abort(),t.db.close(),C0})()}newTransaction(...t){var r=this;return(0,U.Z)(function*(){const n=(yield r.db).transaction([Yp,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,U.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(Bl);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(Bl).delete(r)}loadState(t,r){return er(t.objectStore(Bl).get(r))}deleteMemory(t,r){const n=t.objectStore(bc),o=t.objectStore(Cc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,U.Z)(function*(){const r=t.transaction(Yp,"readwrite");yield er(r.objectStore(Yp).put(lR,0))})()}setupDb(){var t=this;return(0,U.Z)(function*(){const r=setTimeout(()=>Ts&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw aR}const n=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new lu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new lu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,U.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function xW(e){e.createObjectStore(h_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function TW(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(p0)&&e.deleteObjectStore(p0),t.objectStore(h_).clear(),e.createObjectStore("rom"),e.createObjectStore(p0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function MW(e,t){return h0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function AW(e,t){return m0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function kW(e,t){return g0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function RW(e,t){return _0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function PW(e,t){return v0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function OW(e,t){return y0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,U.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(Vd=rr).\u0275fac=function(t){return new(t||Vd)(ce(Ge),ce(au),ce(qp))},Vd.\u0275prov=$e({token:Vd,factory:Vd.\u0275fac,providedIn:"root"}),ae([Co()],rr.prototype,"addSession",null),ae([Co()],rr.prototype,"getAllSessions",null),ae([Co()],rr.prototype,"getSession",null),ae([Co()],rr.prototype,"deleteSession",null),ae([Co()],rr.prototype,"updateSessionPartial",null),ae([Co()],rr.prototype,"updateSession",null),ae([Co()],rr.prototype,"loadSession",null),ae([Co()],rr.prototype,"deleteStateForSession",null),ae([Co()],rr.prototype,"addEmptyStorageCard",null),ae([Co()],rr.prototype,"importStorageCard",null),ae([Co()],rr.prototype,"getAllStorageCards",null),ae([Co()],rr.prototype,"getCard",null),ae([Co()],rr.prototype,"updateStorageCardPartial",null),ae([Co()],rr.prototype,"deleteStorageCard",null),ae([Co()],rr.prototype,"loadCardData",null),ae([Co()],rr.prototype,"kvsGet",null),ae([Co()],rr.prototype,"kvsSet",null),ae([Co()],rr.prototype,"kvsDelete",null),ae([Co()],rr.prototype,"newTransaction",null),ae([Co()],rr.prototype,"prepareObjectStore",null),ae([Co()],rr.prototype,"initializeLock",null),ae([Co()],rr.prototype,"setupDb",null);const cR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Si=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,U.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Ro.j,this.mutex=new dl,this.storageMutex=new dl,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,U.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,U.Z)(function*(){const o=n;try{const i={...cR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...cR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),uR=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,U.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Ts||Kk)&&this.installationMode===Ld.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Ts&&d0?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ts?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Ts&&d0?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ts?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Ld.pwa:document.referrer.startsWith("android-app://")?Ld.twa:window.matchMedia("(display-mode: standalone)").matches?Ld.pwa:Ld.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function qW(e,t){1&e&&(z(0,"div",5),Ve(1,"ion-spinner"),L())}let cu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls))},e.\u0275cmp=Ze({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.modalController.dismiss()}),Ce(6,"Close"),L()()()(),z(7,"ion-content",2),nn(8,qW,2,0,"div",3),z(9,"markdown",4),Le("load",function(){return o.loading=!1}),L()()),2&n&&(_e(3),ss(o.title),_e(5),De("ngIf",o.loading),_e(1),De("src",o.url))},dependencies:[ei,c0,Ni,Fi,Li,$i,Vp,Vi,ji],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const uu="1.9.4-71bf261 (preview)",fR=C.p+"assets/doc/CHANGELOG-f77cab1c74175371.md";var g_=C(1633);const __=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:h}}=c;if("interval"===h){const g=t.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g()}}else if("timeout"===h){const g=r.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:g,timerType:b}=h;n.delete(f),"interval"===b?t.delete(g):r.delete(g)}}}),{clearInterval:c=>{const f=(0,g_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,g_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const h=(0,g_.generateUniqueNumber)(t);return t.set(h,()=>{c(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(c,f)=>{const h=(0,g_.generateUniqueNumber)(r);return r.set(h,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var jd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(jd||{});class pR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return jd.animationFrame}}class e9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>__().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,__().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return jd.timeout}}const t9=[135,135,105],n9=[0,0,0],Sc=new Array(16).fill(0).map((e,t)=>n9.map((r,n)=>Math.floor((t*r+(15-t)*t9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),S0=Sc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),Gd=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(Gd||{});function Kp(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function w0(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function hR(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function mR(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return Gd.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return Gd.memorystick;default:return Gd.none}}class gR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class i9{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class f9{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;if(this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r)return void this.handleSuspend();const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.emulationStateChangeEvent=new Ro.j,this.powerOffChangeEvent=new Ro.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new pR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new i9(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new gR(20),this.timePerFrameAverage=new gR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Kp(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Kp(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===jd.animationFrame?new pR(t=>this.onSchedule(t)):new e9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Kp(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=w0(t)?"white":S0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=Sc[15],i=Sc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Sc[15&o],Sc[o>>>4&15],Sc[o>>>8&15],Sc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=Sc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class p9{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const g9=new Error("transaction timeout"),yR=new Error("session does not match emulation");let Xp=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,U.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ro.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,U.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,U.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===yR)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===C0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,U.Z)(function*(){const o=n.db.transaction([bc,Cc,Bl,fl,Ms,Yp],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield er(o.objectStore(Ms).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const h=performance.now();let g=0,b=0,V=0;const ee=new p9(500,()=>{f=!0;try{o.abort()}catch{}c(g9)});o.oncomplete=()=>{ee.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:V,timeBlocking:b-g,timeTotal:performance.now()-h})},o.onerror=()=>{ee.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),g=performance.now(),V=n.saveDirtyMemory(o,ee),i&&(V+=n.saveDirtyStorage(i,o,ee)),n.saveSession(o),b=performance.now()}catch(ye){throw f||(ee.cancel(),o.abort()),ye}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(bc),a=n.objectStore(Cc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const g=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(g);for(let b=0;b<g;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=oR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let g=0;g<l.length;g++)if(this.dirtyPages[g]|=l[g],l[g]=0,0!==this.dirtyPages[g])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[g]&b){const V=eR(c.subarray(256*i,256*(i+1)));"number"==typeof V?s.put(V,[this.sessionId,i]):(this.pages[i].set(V),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Ar.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const h=o.objectStore(fl),g=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let V=1;V<256&&!(l>=g);V<<=1){if(this.cardDirtyPages[b]&V){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ee=this.cardPagePool[c++];ee.set(a.subarray(2048*l,2048*(l+1))),h.put(ee,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(Bl);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw yR}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rr),ce($l),ce(au),ce(qp),ce(Si),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),D0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Ro.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var _9=C(2227),v9=C.n(_9);function E0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function bR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}const CR=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Vt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Ft{constructor(t){this.module=t,this.fatalErrorEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.proxyDisconnectEvent=new Ro.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi"))}static create(t){return(0,U.Z)(function*(){return new Ft(yield v9()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:CR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,U.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,U.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(bR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!CR.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=E0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}}ae([Vt()],Ft.prototype,"getRomInfo",null),ae([Vt()],Ft.prototype,"initializeSession",null),ae([Vt()],Ft.prototype,"cyclesPerSecond",null),ae([Vt()],Ft.prototype,"runEmulation",null),ae([Vt()],Ft.prototype,"getFrame",null),ae([Vt()],Ft.prototype,"isScreenDirty",null),ae([Vt()],Ft.prototype,"markScreenClean",null),ae([Vt()],Ft.prototype,"minRamForDevice",null),ae([Vt()],Ft.prototype,"framebufferSizeForDevice",null),ae([Vt()],Ft.prototype,"totalMemorySizeForDevice",null),ae([Vt()],Ft.prototype,"queuePenMove",null),ae([Vt()],Ft.prototype,"queuePenUp",null),ae([Vt()],Ft.prototype,"queueButtonDown",null),ae([Vt()],Ft.prototype,"queueButtonUp",null),ae([Vt()],Ft.prototype,"queueKeyboardEvent",null),ae([Vt()],Ft.prototype,"isPowerOff",null),ae([Vt()],Ft.prototype,"isUiInitialized",null),ae([Vt()],Ft.prototype,"isSetupComplete",null),ae([Vt()],Ft.prototype,"getOSVersion",null),ae([Vt()],Ft.prototype,"reset",null),ae([Vt()],Ft.prototype,"resetNoExtensions",null),ae([Vt()],Ft.prototype,"resetHard",null),ae([Vt()],Ft.prototype,"installDb",null),ae([Vt()],Ft.prototype,"getPalette2bitMapping",null),ae([Vt()],Ft.prototype,"getMemory",null),ae([Vt()],Ft.prototype,"getMemory32",null),ae([Vt()],Ft.prototype,"getDirtyPages",null),ae([Vt()],Ft.prototype,"loadMemory",null),ae([Vt()],Ft.prototype,"getRomImage",null),ae([Vt()],Ft.prototype,"getSavestate",null),ae([Vt()],Ft.prototype,"saveState",null),ae([Vt()],Ft.prototype,"loadState",null),ae([Vt()],Ft.prototype,"getHotsyncName",null),ae([Vt()],Ft.prototype,"setClockFactor",null),ae([Vt()],Ft.prototype,"setHotsyncName",null),ae([Vt()],Ft.prototype,"setClipboardIntegration",null),ae([Vt()],Ft.prototype,"getClipboardIntegration",null),ae([Vt()],Ft.prototype,"isSuspended",null),ae([Vt()],Ft.prototype,"getSuspendKind",null),ae([Vt()],Ft.prototype,"cancelSuspend",null),ae([Vt()],Ft.prototype,"getSuspendContextClipboardCopy",null),ae([Vt()],Ft.prototype,"getSuspendContextClipboardPaste",null),ae([Vt()],Ft.prototype,"setNetworkRedirection",null),ae([Vt()],Ft.prototype,"getNetworkRedirection",null),ae([Vt()],Ft.prototype,"getSuspendContextNetworkConnect",null),ae([Vt()],Ft.prototype,"getSuspendContextNetworkRpc",null),ae([Vt()],Ft.prototype,"copyBuffer",null),ae([Vt()],Ft.prototype,"freeBuffer",null),ae([Vt()],Ft.prototype,"setHotsyncNameManagement",null),ae([Vt()],Ft.prototype,"resolveBuffer",null),ae([Vt()],Ft.prototype,"serializeSessionImage",null),ae([Vt()],Ft.prototype,"deserializeSessionImage",null),ae([Vt()],Ft.prototype,"launchAppByName",null),ae([Vt()],Ft.prototype,"launchAppByDbHeader",null),ae([Vt()],Ft.prototype,"deviceSupportsCardSize",null),ae([Vt()],Ft.prototype,"clearExternalStorage",null),ae([Vt()],Ft.prototype,"allocateCard",null),ae([Vt()],Ft.prototype,"decompressCard",null),ae([Vt()],Ft.prototype,"getCardData",null),ae([Vt()],Ft.prototype,"getCardDirtyPages",null),ae([Vt()],Ft.prototype,"getMountedKey",null),ae([Vt()],Ft.prototype,"mountCard",null),ae([Vt()],Ft.prototype,"removeCard",null),ae([Vt()],Ft.prototype,"remountCards",null),ae([Vt()],Ft.prototype,"getCardSupportLevel",null),ae([Vt()],Ft.prototype,"loadSkin",null);const v_=new Error("permission denied");let SR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,U.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===v_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,U.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?v_:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,U.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,U.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,U.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,U.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===v_)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,U.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?v_:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,U.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,U.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,U.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,U.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,U.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Up),ce(uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const b9="https:"===window.location.protocol?8667:8666,C9=/^[\da-z\-\.]+$/i,S9=/^[\da-z\-\.]+:\d+$/i;function I0(e){if(!e)return;const t=window.location.protocol;if(e.match(C9))return`${t}//${e}:${b9}`;if(e.match(S9))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function w9(e){return void 0!==I0(e.value)?null:{proxyAddress:"invalid"}}let D9=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new qg({username:new Uo(n?.username??""),password:new Uo(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Si))},e.\u0275cmp=Ze({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Authenticate"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.saveAndContinue()}),Ce(6,"OK"),L()(),z(7,"ion-buttons",2)(8,"ion-button",1),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",3)(11,"form",4),Le("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),Ce(13," The server requires authentication. "),L(),z(14,"ion-item",5)(15,"ion-label",6),Ce(16,"Username"),L(),Ve(17,"ion-input",7),L(),z(18,"ion-item",5)(19,"ion-label",6),Ce(20,"Password"),L(),Ve(21,"ion-input",8),L()()()),2&n&&(_e(11),De("formGroup",o.formGroup))},dependencies:[Ni,Fi,Li,$i,Fl,Po,Bi,Vi,ji,Nl,Ol,Rl,Pl,Ia,ll],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),wR=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,U.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(_d())("string"==typeof n?n:n.url);let c,f,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const g=i.kvsService.kvs.credentials[l.origin],b=new AbortController,V=window.setTimeout(()=>b.abort(),a),ee=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&g?{Authorization:"Basic "+btoa(`${g.username}:${g.password}`)}:{}}});if(clearTimeout(V),401===ee.status){if(!h&&g){h=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return ee}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,U.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:D9,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(xa),ce(Si),ce(ls))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),x0=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,U.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=I0(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=b0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ro.j,this.mutex=new dl,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,U.Z)(function*(){const s=I0(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(Ge),ce(wR))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ER=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),IR=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const M9=C.p+"wasm/cloudpilot_web-7b94a645f1dc8161.wasm";let Ta=(()=>{var e;class t{constructor(){this.cloudpilot=Ft.create(M9)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var A9=C(3097),Ud=C.n(A9);const T0=524288;class M0{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(T0),t.destroy(n)}static create(t,r){return(0,U.Z)(function*(){return new M0(yield Ud()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,U.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=T0){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,T0);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class A0{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,U.Z)(function*(){return new A0(yield Ud()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class k0{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,U.Z)(function*(){const n=yield Ud()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new k0(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=E0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class y_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,U.Z)(function*(){const n=yield Ud()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new y_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,U.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class R0{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,U.Z)(function*(){const n=yield Ud()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new R0(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,U.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const xR=new Map;class N9{constructor(t="fstools_web.wasm"){let r=xR.get(t);r||(r=function k9(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,U.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),xR.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,U.Z)(function*(){const n=yield A0.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,U.Z)(function*(){const n=yield y_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return y_.create(this.instantiante,t)}createGzipContext(t){return R0.create(this.instantiante,t)}createFsckContext(t){return k0.create(t,this.instantiante)}createZipContext(t){return M0.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,U.Z)(function*(){const n=yield Ud()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),bR(new n.ZipfileWalker(t.length,i),n)})()}}var Sr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(Sr||{});function Hd(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function zd(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function P0(e){return`${zd(e.name)}.img`}function TR(e,t){return`backup_${zd(e.name)}${t?"_with_rom":""}.zip`}function O0(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var $r=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}($r||{});function b_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const B9=C.p+"wasm/fstools_web-b474c601800e104b.wasm";let C_=(()=>{var e;class t extends N9{constructor(){super(B9)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function V9(e,t){1&e&&(z(0,"p",10),Ce(1," ERROR: URL must be served via HTTPS. "),L())}function j9(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(_d())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let G9=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(_d())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(_d())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new qg({url:new Uo("",j9)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Enter download URL"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.continue()}),Ce(6,"OK"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),Ce(13," Please enter the URL from which to download: "),L(),z(14,"ion-item",6)(15,"ion-label",7),Ce(16,"URL"),L(),Ve(17,"ion-input",8),L(),nn(18,V9,2,0,"p",9),z(19,"p"),Ce(20," Note that the remote server needs to support the CORS protocol. "),L()()()),2&n&&(_e(5),De("disabled",o.formGroup.invalid),_e(6),De("formGroup",o.formGroup),_e(7),De("ngIf",o.isMixedContent))},dependencies:[ei,Ni,Fi,Li,$i,Fl,Po,Bi,Vi,ji,Nl,Ol,Rl,Pl,Ia,ll],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),wc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,U.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:b_(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.saveFile(P0(n),g)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,U.Z)(function*(){let s;try{s=new(_d())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,U.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:b_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,U.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,U.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:G9,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=Yk||Ts&&d0;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,U.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,U.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rr),ce(xa),ce(Hp),ce(Si),ce(ls),ce(uo),ce(wR),ce(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Dc=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new dl,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,U.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(h=>h.name));let f=1;for(;0===a.GetState();){i.message=`Importing ${f++}/${l}...`;const h=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!h){yield o.alertService.errorMessage(`${a.GetCurrentEntryName()} is not a valid session.`,"Continue"),a.Next();continue}const g=Hd(h.metadata?.name??a.GetCurrentEntryName(),b=>c.has(b));yield o.doAddSessionFromImage(h,g,h.metadata),a.Next()}}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,U.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:$r.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,U.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,U.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(P0(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const h=Hd(c.name.replace(/[\/\\]/,"_").substring(0,200),g=>a.has(g));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function F9(){return`${zd("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,U.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:b_(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.fileService.saveFile(P0(n),g)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,U.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:b_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,U.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,U.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,U.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:$r.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ta),ce(rr),ce(xa),ce(C_),ce(uo),ce(wc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var U9=C(8886),H9=C.n(U9),pl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(pl||{}),du=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(du||{});function z9(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function MR(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:z9(e.GetAttributes())}}class N0{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,U.Z)(function*(){return new N0(yield H9()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=E0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(MR(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:MR(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,U.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,U.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,U.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(pl.success);case-3:return a(pl.cardFull);case-1:return a(pl.ioError);case-2:return a(pl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,U.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return du.success;case-2:return du.cardFull;case-1:return du.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var W9=C(307),AR=C.n(W9);function kR(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const Z9=C.p+"wasm/vfs_web-3431374c51026b1f.wasm";let fu=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertController=a,this.alertService=l,this.onReleaseCard=new Ro.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=N0.create(Z9),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,U.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,U.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Ar.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Ar.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Ar.vfs),!1)})()}releaseCard(n){var o=this;return(0,U.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Ar.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,U.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||AR()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,U.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),c=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function $9(e){return`files_${zd(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:g}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),g.length>0&&(g.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.slice(0,3).join("<br>")}<br><br> and ${g.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,U.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,U.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,U.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===Sr.clean||n.status===Sr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,U.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),c){case pl.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case pl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case pl.cardFull:f="No space left on card.",h="No space left";break;case pl.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const g=a-l,b=V=>V>1?`${V} entries`:"one entry";a>0&&g===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),g>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${kR(b(l))} unpacked succesfully, but ${b(g)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,U.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case du.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case du.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,U.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${kR(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,U.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,h=!1,g=!1;e:for(let b=0;b<n.length;b++){const V=n[b],ee=s.find(Ee=>Ee.name===V.name);if(ee&&ee.isDirectory){if(!h){const{overwrite:Ie,rememberChoice:Tt}=yield i.overwriteFileDialog(V.name,"directory");g=Ie,h=Tt}let Ee=!0;if(g&&(Ee=!(yield l.deleteRecursive([i.normalizePath(`${o}/${V.name}`)])).success),Ee){a.push(V.name);continue}}if(ee&&!ee.isDirectory){if(!c){const{overwrite:Ee,rememberChoice:Ie}=yield i.overwriteFileDialog(V.name,"file");f=Ee,c=Ie}if(!f){a.push(V.name);continue}}let ye;try{ye=yield V.getContent()}catch(Ee){console.warn(Ee),a.push(V.name),yield i.alertService.errorMessage(`Unable to open ${V.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${V.name}`),ye)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(Ee=>Ee.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(V.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,U.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,U.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,U.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,U.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==pl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,U.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===du.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,U.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Ar.vfs),yield n.storageService.loadCardData(o.id,s,Ar.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Ar.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,U.Z)(function*(){let s=!1,a=!1;const l=yield i.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:i.alertService.sanitizeMessage("file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                    Do you want to overwrite the existing directory ${n}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>s=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:c=>a=!0===c.checked,cssClass:"alert-checkbox"}]});return yield l.present(),yield l.onDidDismiss(),{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,U.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,U.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:Sr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,U.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Ar.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,U.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,U.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rr),ce(qp),ce(wc),ce(xa),ce(Up),ce(uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var zo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(zo||{});function RR(){return b0().replace(/-/g,"")}let Wd=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,V){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=h,this.vfsService=g,this.storageCardContext=b,this.fstools=V,this.mountCardEvent=new Ro.j,this.deleteCardEvent=new Ro.j,this.loading=!0,this.cards=[],this.updateMutex=new dl,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,U.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function q9(e){switch(e){case zo.mb4:return 4;case zo.mb8:return 8;case zo.mb16:return 16;case zo.mb32:return 32;case zo.mb64:return 64;case zo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:RR(),name:n,size:4*l.length,status:Sr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,U.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Ar.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,U.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Ar.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Ar.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,U.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:Sr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Ar.cloudpilot)})()}checkCard(n){var o=this;return(0,U.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Ar.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,U.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Ar.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,U.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=Sr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,U.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${c}/${n.length}...`;const g=Hd(h.name,V=>a.has(V));a.add(g);const b=yield o.getCardData(h,g,l);b&&(yield s.addEntry(`${g}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function L9(){return`${zd("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,U.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,U.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=yield o.loadingController.create({message:"Importing..."});try{yield s.present();const a=yield o.cloudpilotService.cloudpilot,l=yield o.fstools.createZipfileWalker(n);if(-1===l.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const c=l.GetTotalEntries(),f=new Set((yield o.getAllCards()).map(b=>b.name)),h=yield o.fstools.createGunzipContext();let g=1;for(;0===l.GetState();){s.message=`Importing ${g++}/${c}...`;let b=l.GetCurrentEntryName();if(!i.test(b)){yield o.alertService.errorMessage(`${b} has the wrong suffix to be considered as a card image.`),l.Next();continue}let V=l.GetCurrentEntryContent();if(b.endsWith(".gz")&&V&&(h.initialize(V),V=(yield h.gunzip())?h.getDecompressedData():void 0,b=b.substring(0,b.length-3)),void 0===V){yield o.alertService.errorMessage(`Failed to extract ${b}.`),l.Next();continue}if(0===a.getCardSupportLevel(V.length)){yield o.alertService.errorMessage(`${b} is not a valid card image.`),l.Next();continue}const ee=Hd(b.replace(i,""),ye=>f.has(ye));yield o.doCreateCardFromImage(ee,V,!1,!0),l.Next()}}catch(a){yield s.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${a?.message??"unknown error"}`)}finally{s.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,U.Z)(function*(){const l={storageId:RR(),name:n,size:o.length,status:s?Sr.dirty:Sr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,h]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,U.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,U.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,U.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,U.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,U.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===Sr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Ar.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case Sr.clean:break;case Sr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Sr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case Sr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Ar.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Ar.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:Sr.clean}),o.storageCardContext.release(n,Ar.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:Sr.unformatted}),o.storageCardContext.release(n,Ar.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:Sr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:Sr.unfixable}),o.storageCardContext.release(n,Ar.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,U.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Ar.fstools),yield i.storageService.updateStorageCardPartial(n,{status:Sr.clean}),i.storageCardContext.release(n,Ar.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,U.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:Sr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:Sr.clean}]:[n,{...o,status:Sr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:Sr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:Sr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,U.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:Sr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,U.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:Sr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,U.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Dc),ce(rr),ce($l),ce(Ta),ce(xa),ce(Xp),ce(uo),ce(au),ce(wc),ce(fu),ce(qp),ce(C_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Ma=(()=>{var e;class t extends f9{constructor(n,o,i,s,a,l,c,f,h,g,b,V,ee,ye,Ee,Ie,Tt,vt){var st;super(),st=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=h,this.kvsService=g,this.proxyService=b,this.buttonService=V,this.bootstrapService=ee,this.cloudpilotService=ye,this.storageCardService=Ee,this.storageCardContext=Ie,this.sessionsService=Tt,this.app=vt,this.switchSession=(fr,Qs={})=>this.mutex.runExclusive((0,U.Z)(function*(){if(fr===st.emulationState.getCurrentSession()?.id)return!0;let As;yield st.stopUnchecked(),yield st.bootstrapService.hasRendered(),(Qs.showLoader??1)&&(As=yield st.loadingController.create({message:"Loading..."}),yield As.present());try{const H0=yield st.storageService.getSession(fr);if(!H0)throw new Error(`invalid session ${fr}`);st.emulationState.setCurrentSession(void 0);const eK=yield st.cloudpilotService.cloudpilot;if(!(yield st.restoreSession(H0,eK)))return st.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;st.emulationState.setCurrentSession(H0),function vW(e){localStorage.setItem(f_,e+"")}(fr)}finally{As&&(yield As.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,U.Z)(function*(){!st.emulationState.getCurrentSession()||st.running||st.errorService.hasFatalError()||!st.cloudpilotInstance||(yield st.kvsService.mutex.runExclusive(()=>st.updateFeatures()),st.doResume(),st.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,U.Z)(function*(){st.doPause(),!st.errorService.hasFatalError()&&st.emulationState.getCurrentSession()&&(yield st.snapshotService.waitForPendingSnapshot(),yield st.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([fr,Qs])=>this.mutex.runExclusive((0,U.Z)(function*(){const As=st.emulationState.getCurrentSession();fr===As?.id&&(void 0!==As.mountedCard&&void 0===Qs&&st.storageCardContext.release(As.mountedCard,Ar.cloudpilot),st.emulationState.setCurrentSession(Qs),st.emulationState.getCurrentSession()||(Qk(),st.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,U.Z)(function*(){const fr=st.emulationState.getCurrentSession();fr&&st.sessionsService.emergencySaveSession(fr)})),this.mutex=new dl,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(fr=>{fr.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(fr),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const or=function _W(){const e=localStorage.getItem(f_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==or&&!DT()&&(this.bootstrapCompletePromise=this.recoverStoredSession(or))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?jd.timeout:jd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,U.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,U.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,U.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Ts&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,U.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rr),ce(Ge),ce(xa),ce($l),ce(Xp),ce(au),ce(uo),ce(D0),ce(SR),ce(Si),ce(x0),ce(ER),ce(IR),ce(Ta),ce(Wd),ce(qp),ce(Dc),ce(Ca))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),F0=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Ro.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,U.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,U.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,U.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,U.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(xa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),PR=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,U.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==uu&&(yield l.kvsService.set({version:uu,previousVersion:c,latestVersion:uu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${uu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=uu})),this.mutex=new dl,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,U.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,U.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===uu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,U.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:fR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,U.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(Ma),ce(uo),ce(ls),ce(F0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),eZ=(()=>{var e;class t{constructor(n,o,i){this.kvsService=n,this.alertService=o,this.emulationService=i}start(){var n=this;return(0,U.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o)})()}showInfo(n){var o=this;return(0,U.Z)(function*(){return 2===n&&Ts&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(Ma))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,U.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(uR),_(PR),_(IR),_(eZ))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"ion-app"),Ve(1,"ion-router-outlet"),L())},dependencies:[xk,Gp]}),t})(),OR=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"div"),Ce(1,"Dummy"),L())},encapsulation:2}),t})(),NR=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Gb),ce(Go))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const L0=Q.m515,nZ=S0[2],rZ=S0[0],Zd="rgba(0,0,0,0.2)";function FR(e){const t=Kp(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function aZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class lZ{constructor(t){this.skinLoader=t,this.layout=FR(L0),this.onResize=new Ro.j}get width(){switch(this.getOrientation()){case $r.portrait:case $r.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case $r.portrait:case $r.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case $r.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case $r.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case $r.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,U.Z)(function*(){if(!t)return;r.layout=FR(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,U.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Zd),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Zd),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Zd),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Zd),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Zd),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Zd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case $r.portrait:case void 0:break;case $r.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case $r.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case $r.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,U.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,nZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return w0(this.getDeviceId())?"white":rZ}frameColor(){return w0(this.getDeviceId())?"white":"#ccc"}}function uZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class fZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,uZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function cZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,U.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(Yk||Ts)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let w_=(()=>{var e;class t extends lZ{constructor(n){super(new fZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,U.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,U.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,U.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??L0}getOrientation(){return this.session?.deviceOrientation??$r.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function pZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Kp(this.session?.device??L0).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),$0=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Go),_(w_),_($l))},e.\u0275cmp=Ze({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(z(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),Ve(4,"ion-icon",3),z(5,"ion-label"),Ce(6,"Emulator"),L()(),z(7,"ion-tab-button",4),Ve(8,"ion-icon",5),z(9,"ion-label"),Ce(10,"Sessions"),L()(),z(11,"ion-tab-button",6),Ve(12,"ion-icon",7),z(13,"ion-label"),Ce(14,"Cards"),L()(),z(15,"ion-tab-button",8),Ve(16,"ion-icon",9),z(17,"ion-label"),Ce(18,"Settings"),L()(),z(19,"ion-tab-button",10),Ve(20,"ion-icon",11),z(21,"ion-label"),Ce(22,"About"),L()()()()()),2&n&&(_e(2),_a("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Ho,Bi,a_,Mk,Ak],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Qp=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl,u0.forChild(),vc,ru,Jg]}),t})(),hZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl,ru,vc,Qp,u0.forChild()]}),t})(),mZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl,ru,vc,Qp]}),t})(),gZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl,ru,vc,Jg,Qp]}),t})(),_Z=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl,ru,vc,Qp,Jg]}),t})(),vZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[nl,vc,ru,Jg,Qp]}),t})();const yZ=C.p+"assets/doc/about-d0ca8b5cf1135905.md";function bZ(e,t){if(1&e){const r=Pn();z(0,"ion-button",1),Le("click",function(){return Pt(r),Ot(Ct().onClick())}),Ve(1,"ion-icon",2),L()}if(2&e){const r=Ct();_e(1),De("name",r.iconName)}}let D_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Ts?"logo-apple-appstore":Kk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(uR))},e.\u0275cmp=Ze({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&nn(0,bZ,2,1,"ion-button",0),2&n&&De("ngIf",o.show)},dependencies:[ei,Ni,Ho]}),t})();function CZ(e,t){1&e&&(z(0,"div",10),Ve(1,"ion-spinner"),L())}function SZ(e,t){1&e&&(z(0,"div"),Ce(1,"app cached for offline use"),L())}let wZ=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return uu}get url(){return yZ}showChangelog(){var n=this;return(0,U.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:fR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(F0))},e.\u0275cmp=Ze({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"About"),L(),z(4,"ion-buttons",0),Ve(5,"app-pwa-prompt"),L()()(),z(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ce(10,"About"),L()()(),nn(11,CZ,2,0,"div",3),z(12,"div",4)(13,"markdown",5),Le("load",function(){return o.loading=!1}),L()(),z(14,"div",6),Ce(15),Ve(16,"br"),z(17,"a",7),Le("click",function(){return o.showChangelog()}),Ce(18,"Changelog"),L(),nn(19,SZ,2,0,"div",8),L(),Ve(20,"img",9),L()),2&n&&(_e(11),De("ngIf",o.loading),_e(2),De("src",o.url),_e(2),ui(" CloudpilotEmu version ",o.version," "),_e(4),De("ngIf",o.serviceWorkerAvailable))},dependencies:[ei,Fi,Li,$i,Vp,Vi,ji,D_,c0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function DZ(e,t){if(1&e&&(z(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;De("value",r[0]),_e(1),ui("",r[1]," ")}}function EZ(e,t){if(1&e&&(z(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;De("value",r[0]),_e(1),ui("",r[1]," ")}}function IZ(e,t){if(1&e&&(z(0,"ion-item",6)(1,"ion-label",7),Ce(2,"Hotsync name"),L(),Ve(3,"ion-input",17),L()),2&e){const r=Ct();_e(3),De("placeholder",r.placeholder)}}let LR=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[$r.portrait,"Portrait"],[$r.landscape90,"Landscape 90\xb0"],[$r.landscape270,"Landscape 270\xb0"],[$r.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,hR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function r9(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new qg({name:new Uo(this.session.name,{validators:[Mp.required,this.validateNameUnique]}),manageHotsyncName:new Uo(!this.session.dontManageHotsyncName),hotsyncName:new Uo(this.session.hotsyncName||""),device:new Uo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Uo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Uo(this.session.deviceOrientation||$r.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Dc),_(uo))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Session settings"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.save()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"h1"),Ce(13,"Session"),L(),z(14,"ion-item",6)(15,"ion-label",7),Ce(16,"Session name"),L(),Ve(17,"ion-input",8),L(),z(18,"h1"),Ce(19,"Device"),L(),z(20,"ion-item",6)(21,"ion-label",7),Ce(22,"Device type"),L(),z(23,"ion-select",9),nn(24,DZ,2,2,"ion-select-option",10),L()(),z(25,"ion-item",6)(26,"ion-label",7),Ce(27,"Orientation"),L(),z(28,"ion-select",11),nn(29,EZ,2,2,"ion-select-option",10),L()(),z(30,"ion-item",6)(31,"ion-label",12),Ce(32),L(),z(33,"ion-range",13),Le("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),L()(),z(34,"h1"),Ce(35,"Hotsync"),L(),z(36,"ion-item",6)(37,"ion-label"),Ce(38,"Manage hotsync name"),L(),Ve(39,"ion-toggle",14),L(),nn(40,IZ,4,1,"ion-item",15),L()()),2&n&&(_e(5),De("disabled",o.formGroup.invalid),_e(6),De("formGroup",o.formGroup),_e(13),De("ngForOf",o.deviceList),_e(5),De("ngForOf",o.orientations),_e(3),ss(o.speedLabel),_e(8),De("ngIf",o.showHotsyncNameInput))},dependencies:[zc,ei,Ni,Fi,Li,$i,Fl,Po,Bi,JC,i_,s_,Vi,jp,ji,Fd,t_,Nl,Ol,Rl,Pl,ZC,Ia,ll],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),xZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,U.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,U.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const g=h.GetCurrentDatabase();h.Save()||a.push(g),yield new Promise(b=>setTimeout(b,0))}l=c.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${O0(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(TR(i,n),l)},"Cancel"):o.fileService.saveFile(TR(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(xa),ce(Xp),ce(wc),ce($l),ce(uo),ce(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const TZ=window.AudioContext||window.webkitAudioContext;function B0(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class MZ{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,U.Z)(function*(){if(!r.initialized){try{r.context=new TZ}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,U.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield B0(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield B0(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,U.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new dl,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Ts||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Ts||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,U.Z)(function*(){t.context&&(yield B0(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let V0=(()=>{var e;class t extends MZ{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(Si),ce(D0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),BR=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function kZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",4),Le("click",function(){return Pt(r),Ot(Ct().power())}),z(1,"ion-label"),Ce(2,"Power"),L(),Ve(3,"ion-icon",5),L()}if(2&e){const r=Ct();De("detail",!1)("disabled",!r.emulationService.isRunning())}}function RZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",4),Le("click",function(){return Pt(r),Ot(Ct().hotsync())}),z(1,"ion-label"),Ce(2,"Hotsync"),L(),Ve(3,"ion-icon",6),L()}if(2&e){const r=Ct();De("detail",!1)("disabled",!r.emulationService.isRunning())}}function PZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",4),Le("click",function(){return Pt(r),Ot(Ct().reset())}),z(1,"ion-label"),Ce(2,"Reset"),L(),Ve(3,"ion-icon",7),L()}if(2&e){const r=Ct();De("detail",!1)("disabled",!r.emulationService.isRunning())}}function OZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",8),Le("click",function(){return Pt(r),Ot(Ct().insertCard())}),z(1,"ion-label"),Ce(2),L(),Ve(3,"ion-icon",9),L()}if(2&e){const r=Ct();De("detail",!1),_e(2),ui("Insert ",r.hasMemorystick?"stick":"SD card","")}}function NZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",8),Le("click",function(){return Pt(r),Ot(Ct().ejectCard())}),z(1,"ion-label"),Ce(2),L(),Ve(3,"ion-icon",10),L()}if(2&e){const r=Ct();De("detail",!1),_e(2),ui("Eject ",r.hasMemorystick?"stick":"SD card","")}}function FZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",8),Le("click",function(){return Pt(r),Ot(Ct().mute(!1))}),z(1,"ion-label"),Ce(2,"Enable audio"),L(),Ve(3,"ion-icon",11),L()}2&e&&De("detail",!1)}function LZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",8),Le("click",function(){return Pt(r),Ot(Ct().mute(!0))}),z(1,"ion-label"),Ce(2,"Disable audio"),L(),Ve(3,"ion-icon",12),L()}2&e&&De("detail",!1)}function $Z(e,t){if(1&e){const r=Pn();z(0,"ion-item",4),Le("click",function(){return Pt(r),Ot(Ct().backup())}),z(1,"ion-label"),Ce(2,"Save backup"),L(),Ve(3,"ion-icon",13),L()}if(2&e){const r=Ct();De("detail",!1)("disabled",r.backupDisabled)}}function BZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",8),Le("click",function(){return Pt(r),Ot(Ct().rotate())}),z(1,"ion-label"),Ce(2,"Rotate"),L(),Ve(3,"ion-icon",14),L()}2&e&&De("detail",!1)}function VZ(e,t){if(1&e){const r=Pn();z(0,"ion-item",8),Le("click",function(){return Pt(r),Ot(Ct().editSettings())}),z(1,"ion-label"),Ce(2,"Settings"),L(),Ve(3,"ion-icon",15),L()}2&e&&De("detail",!1)}function jZ(e){switch(e){case $r.portrait:case void 0:return $r.landscape90;case $r.landscape90:return $r.portrait180;case $r.portrait180:return $r.landscape270;case $r.landscape270:return $r.portrait;default:throw new Error("cannot happen")}}let GZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,V,ee,ye,Ee,Ie,Tt,vt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=h,this.sessionService=g,this.performanceWatchdogService=b,this.canvasDisplayService=V,this.cloudpilotService=ee,this.storageCardService=ye,this.alertService=Ee,this.alertController=Ie,this.storageService=Tt,this.errorService=vt,this.showHelp=()=>{}}reset(){var n=this;return(0,U.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,U.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function o9(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&mR(n.device)!==Gd.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&mR(n.device)===Gd.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,U.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:LR,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,U.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,U.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:jZ(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,U.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,U.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ma),_($l),_(xZ),_(ER),_(Hp),_(Ll),_(V0),_(Si),_(ls),_(Dc),_(BR),_(w_),_(Ta),_(Wd),_(uo),_(Up),_(rr),_(au))},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list"),nn(1,kZ,4,2,"ion-item",0)(2,RZ,4,2,"ion-item",0)(3,PZ,4,2,"ion-item",0)(4,OZ,4,2,"ion-item",1)(5,NZ,4,2,"ion-item",1)(6,FZ,4,1,"ion-item",1)(7,LZ,4,1,"ion-item",1)(8,$Z,4,2,"ion-item",0)(9,BZ,4,1,"ion-item",1)(10,VZ,4,1,"ion-item",1),z(11,"ion-item",2),Le("click",function(){return o.help()}),z(12,"ion-label"),Ce(13,"Help"),L(),Ve(14,"ion-icon",3),L()()),2&n&&(_e(1),De("ngIf",o.hasActiveSession&&!o.powerDisabled),_e(1),De("ngIf",o.hasActiveSession),_e(1),De("ngIf",o.hasActiveSession),_e(1),De("ngIf",o.supportsStorageCard&&!o.hasMountedCard),_e(1),De("ngIf",o.supportsStorageCard&&o.hasMountedCard),_e(1),De("ngIf",o.isMuted&&!o.isAudioOff),_e(1),De("ngIf",!o.isMuted&&!o.isAudioOff),_e(1),De("ngIf",o.hasActiveSession),_e(1),De("ngIf",o.hasActiveSession),_e(1),De("ngIf",o.hasActiveSession),_e(1),De("detail",!1))},dependencies:[ei,Ho,Po,Bi,Ks]}),t})();const UZ=C.p+"assets/doc/emulation-4d1cd1e4fd3e19e2.md";class HZ{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let zZ=(()=>{var e;class t extends HZ{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(w_),ce(D0),ce(Ge),ce(Ca))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function VR(e){return/\.(prc|pdb|pqa)$/i.test(e)}class KZ{constructor(t,r,n,o,i,s){this.cloudpilotService=t,this.fstools=r,this.alertController=n,this.alertService=o,this.snapshotService=i,this.files=s,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,U.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else VR(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,U.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function YZ(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,U.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!VR(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function qZ(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():new Promise(n=>{this.alertController.create({header:t,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:this.alertService.sanitizeMessage(r),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),n()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let XZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.alertController=l,this.fstools=c}installFiles(n){var o=this;return(0,U.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new KZ(o.cloudpilotService,o.fstools,o.alertController,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSucces(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSucces(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${O0(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${O0(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ta),ce(Ma),ce(xa),ce(Xp),ce(uo),ce(Up),ce(C_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),j0=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Jp;const QZ=["canvas"];function JZ(e,t){1&e&&Ve(0,"div",10),2&e&&Bc("width",Ct().iosPlaceholderWidth)}function eq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(){return Pt(r),Ot(Ct().navigation.lock())}),Ve(1,"ion-icon",12),L()}}function tq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(){return Pt(r),Ot(Ct().navigation.unlock())}),Ve(1,"ion-icon",13),L()}}function nq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(o){return Pt(r),Ot(Ct().openContextMenu(o))}),Ve(1,"ion-icon",14),L()}}function rq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(){return Pt(r),Ot(Ct().showGameModeHint())}),Ve(1,"ion-icon",15),L()}}function oq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(){return Pt(r),Ot(Ct().showProxyConnectedHint())}),Ve(1,"ion-icon",16),L()}}function iq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(){return Pt(r),Ot(Ct().showSlowdowndHint())}),Ve(1,"ion-icon",17),L()}}function sq(e,t){if(1&e){const r=Pn();z(0,"ion-button",11),Le("click",function(o){return Pt(r),Ot(Ct().openContextMenu(o))}),Ve(1,"ion-icon",14),L()}}function aq(e,t){if(1&e){const r=Pn();z(0,"div",18),Ce(1," The device was reset forcefully. How do you want to boot? "),z(2,"ion-button",19),Le("click",function(){return Pt(r),Ot(Ct().bootAfterForcefulReset())}),Ce(3,"Normal boot"),L(),z(4,"ion-button",19),Le("click",function(){return Pt(r),Ot(Ct().bootAfterForcefulResetNoExtensions())}),Ce(5,"No extensions"),L(),z(6,"ion-button",19),Le("click",function(){return Pt(r),Ot(Ct().bootAfterForcefulResetHardReset())}),Ce(7,"Hard reset"),L()()}}function lq(e,t){1&e&&(z(0,"div",18)(1,"div"),Ce(2,"No session selected"),L()())}class G0{constructor(t,r,n,o,i,s,a,l,c,f,h,g,b,V,ee,ye,Ee,Ie,Tt){var vt=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=h,this.installlationService=g,this.proxyService=b,this.navigation=V,this.linkApi=ee,this.performanceWatchdogService=ye,this.cloudpilotService=Ee,this.dragDropService=Ie,this.config=Tt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,U.Z)(function*(){yield vt.emulationService.bootstrapComplete(),vt.boostrapComplete=!0;const st=vt.emulationState.getCurrentSession();st&&!st.wasResetForcefully&&(yield vt.launchEmulator()),vt.linkApi.installation.requestEvent.addHandler(vt.handleLinkApiInstallationRequest),vt.handleLinkApiInstallationRequest(),vt.dragDropService.registerClient(vt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=st=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(st,this.emulationService.getStatistics())},this.onNewFrame=st=>{this.canvasDisplayService.updateEmulationCanvas(st)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const st=this.linkApi.installation.receivePendingUrl();st&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${st} ?`,{OK:()=>this.fileService.openUrl(st,fr=>this.installlationService.installFiles([fr]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${st} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new dl}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(t,r="trigger"){var n=this;return(0,U.Z)(function*(){(yield n.popoverController.create({component:GZ,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,U.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:UZ}})).present()})()}showGameModeHint(){var t=this;return(0,U.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,U.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,U.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var t=this;return(0,U.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,U.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,U.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}clearForcefulReset(){var t=this;return(0,U.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var t=this;return(0,U.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}}(Jp=G0).\u0275fac=function(t){return new(t||Jp)(_(Ma),_($l),_(rr),_(zZ),_(w_),_(Si),_(Ll),_(ls),_(uo),_(wc),_(Xp),_(XZ),_(x0),_($0),_(Gb),_(BR),_(Ta),_(j0),_(Np))},Jp.\u0275cmp=Ze({type:Jp,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&Uc(QZ,5),2&t){let n;zs(n=Ws())&&(r.canvasRef=n.first)}},decls:22,vars:22,consts:[["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),nn(3,JZ,1,2,"div",0),Ce(4),L(),z(5,"ion-buttons",1)(6,"ion-button",2),Le("click",function(){return r.installFiles()}),Ve(7,"ion-icon",3),L(),nn(8,eq,2,0,"ion-button",4)(9,tq,2,0,"ion-button",4),L(),z(10,"ion-buttons",5),nn(11,nq,2,0,"ion-button",4)(12,rq,2,0,"ion-button",4)(13,oq,2,0,"ion-button",4)(14,iq,2,0,"ion-button",4)(15,sq,2,0,"ion-button",4),L()()(),z(16,"ion-content",6),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(17,"div",7),Le("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),Ve(18,"canvas",null,8),L(),nn(20,aq,8,0,"div",9)(21,lq,3,0,"div",9),L()),2&t){let n,o;_e(3),De("ngIf","ios"===r.config.get("mode")),_e(1),ui(" ",r.title,""),_e(2),De("disabled",r.installFileDisabled),_e(2),De("ngIf",!r.navigation.isLocked()),_e(1),De("ngIf",r.navigation.isLocked()),_e(2),De("ngIf","ios"===r.config.get("mode")),_e(1),De("ngIf",r.eventHandlingService.isGameMode()),_e(1),De("ngIf",r.proxyService.isConnected()),_e(1),De("ngIf",r.performanceWatchdogService.isSlowdownDetected()),_e(1),De("ngIf","ios"!==r.config.get("mode")),_e(1),_a("locked",r.navigation.isLocked()),_e(1),Bc("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),_e(1),Bc("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),_e(2),De("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),_e(1),De("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[ei,Ni,Fi,Li,$i,Ho,Vi,ji],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),ae([Mr()],G0.prototype,"openContextMenu",null);const jR="reduced-animations",cq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,QC.c)()),uq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,QC.c)()},dq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,QC.c)()};function GR(e){localStorage.setItem(jR,e?"1":"0")}function UR(){return"1"===(localStorage.getItem(jR)??"0")}const pq=C.p+"assets/doc/settings-589ae62c10d3967b.md";function hq(e,t){1&e&&(z(0,"ion-item",7)(1,"ion-label"),Ce(2,"Clipboard integration"),L(),Ve(3,"ion-toggle",18),L())}function mq(e,t){if(1&e){const r=Pn();z(0,"ion-item",7)(1,"ion-label",19),Ce(2,"Proxy server"),L(),z(3,"div",20),Ve(4,"ion-input",21),z(5,"ion-button",22),Le("click",function(o){Pt(r);const i=Ct();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())})("touchstart",function(o){Pt(r);const i=Ct();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())}),Ce(6," Test "),L()()()}if(2&e){const r=Ct();_e(5),De("disabled",!r.proxyServerValid)}}function gq(e,t){1&e&&(sd(0),z(1,"h1"),Ce(2,"Debug"),L(),z(3,"ion-item",7)(4,"ion-label"),Ce(5,"Snapshot validation (slow)"),L(),Ve(6,"ion-toggle",23),L(),ad())}let _q=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{GR(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,U.Z)(function*(){yield(yield n.modalController.create({component:cu,componentProps:{url:pq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,U.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),GR(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,U.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return true}createFormGroup(){this.formGroup=new qg({volume:new Uo(this.kvsService.kvs.volume),showStatistics:new Uo(this.kvsService.kvs.showStatistics),runHidden:new Uo(this.kvsService.kvs.runHidden),clipboardIntegration:new Uo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Uo(this.kvsService.kvs.networkRedirection),proxyServer:new Uo(this.kvsService.kvs.proxyServer,{validators:[w9]}),autoLockUI:new Uo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Uo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Uo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Uo(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Uo(UR())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(Si),_(SR),_(uo),_(x0))},e.\u0275cmp=Ze({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Settings"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.showHelp()}),Ve(6,"ion-icon",2),L(),Ve(7,"app-pwa-prompt"),L()()(),z(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ce(12,"Settings"),L()()(),z(13,"div",5)(14,"form",6)(15,"h1"),Ce(16,"Emulation"),L(),z(17,"ion-item",7)(18,"ion-label"),Ce(19,"Volume"),L(),Ve(20,"ion-range",8),L(),z(21,"ion-item",7)(22,"ion-label"),Ce(23,"Enable audio on start"),L(),Ve(24,"ion-toggle",9),L(),z(25,"ion-item",7)(26,"ion-label"),Ce(27,"Run when hidden"),L(),Ve(28,"ion-toggle",10),L(),z(29,"h1"),Ce(30,"Host integration"),L(),nn(31,hq,4,0,"ion-item",11),z(32,"ion-item",7)(33,"ion-label"),Ce(34,"Network redirection"),L(),Ve(35,"ion-toggle",12),L(),nn(36,mq,7,1,"ion-item",11),z(37,"h1"),Ce(38,"UI"),L(),z(39,"ion-item",7)(40,"ion-label"),Ce(41,"Auto-lock UI"),L(),Ve(42,"ion-toggle",13),L(),z(43,"ion-item",7)(44,"ion-label"),Ce(45,"Reduce animations"),L(),Ve(46,"ion-toggle",14),L(),z(47,"ion-item",7)(48,"ion-label"),Ce(49,"Show statistics"),L(),Ve(50,"ion-toggle",15),L(),z(51,"ion-item",7)(52,"ion-label"),Ce(53,"Open from remote sources"),L(),Ve(54,"ion-toggle",16),L(),nn(55,gq,7,0,"ng-container",17),L()()()),2&n&&(_e(14),De("formGroup",o.formGroup),_e(17),De("ngIf",o.clipboardService.isSupported()),_e(5),De("ngIf",o.showProxyServer),_e(19),De("ngIf",o.showDebugOptions))},dependencies:[ei,Ol,Rl,Pl,Ni,Fi,Li,$i,Ho,Fl,Po,Bi,JC,Vi,jp,ji,Fd,Nl,D_,Ia,ll],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),U0=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Yo({name:"cardSize",type:e,pure:!0}),t})();function vq(e,t){1&e&&(z(0,"div",13)(1,"b"),Ce(2,"WARNING:"),L(),Ce(3," This image cannot be used as a memory stick image."),L())}let HR=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new _c({name:new as("",{nonNullable:!0,validators:[Mp.required,this.validateNameUnique]}),size:new as({value:"dummy",disabled:!0}),checkAutomatically:new as(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Wd))},e.\u0275cmp=Ze({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.save()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),Ve(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),z(19,"ion-select",9)(20,"ion-select-option",10),Ce(21),Ja(22,"cardSize"),L()()(),z(23,"ion-item",6)(24,"ion-label"),Ce(25,"Check for errors automatically"),L(),Ve(26,"ion-toggle",11),L()(),nn(27,vq,4,0,"div",12),L()),2&n&&(_e(3),ss(o.newCard?"New memory card":"Edit memory card"),_e(2),De("disabled",o.formGroup.invalid),_e(6),De("formGroup",o.formGroup),_e(10),ui("",el(22,5,null==o.card?null:o.card.size)," "),_e(6),De("ngIf",!o.memoryStickSupported))},dependencies:[ei,Ni,Fi,Li,$i,Fl,Po,Bi,i_,s_,Vi,jp,ji,Fd,t_,Nl,Ol,Rl,Pl,Ia,ll,U0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function yq(e,t){if(1&e&&(z(0,"ion-select-option",12),Ce(1),Ja(2,"cardSize"),L()),2&e){const r=t.$implicit,n=Ct();De("value",r),_e(1),ui("",el(2,2,n.sizeBytes(r))," ")}}const bq=[zo.mb4,zo.mb8,zo.mb16,zo.mb32,zo.mb64,zo.mb128];let Cq=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new _c({name:new as("",{nonNullable:!0,validators:[Mp.required,this.validateNameUnique]}),size:new as(zo.mb32,{nonNullable:!0}),checkAutomatically:new as(!0,{nonNullable:!0})})}get sizes(){return bq}sizeBytes(n){return function Y9(e){switch(e){case zo.mb4:return 4046848;case zo.mb8:return 8110080;case zo.mb16:return 16220160;case zo.mb32:return 32473088;case zo.mb64:return 64978944;case zo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Wd))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"New memory card"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.create()}),Ce(6,"Create"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),Ve(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),z(19,"ion-select",9),nn(20,yq,3,4,"ion-select-option",10),L()(),z(21,"ion-item",6)(22,"ion-label"),Ce(23,"Check for errors automatically"),L(),Ve(24,"ion-toggle",11),L()()()),2&n&&(_e(5),De("disabled",o.formGroup.invalid),_e(6),De("formGroup",o.formGroup),_e(9),De("ngForOf",o.sizes))},dependencies:[zc,Ni,Fi,Li,$i,Fl,Po,Bi,i_,s_,Vi,jp,ji,Fd,t_,Nl,Ol,Rl,Pl,Ia,ll,U0]}),t})();function Ec(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const Sq=C.p+"assets/doc/cards-75195154c07dfe52.md";let wq=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Ce(3," Save "),L(),z(4,"ion-item",0),Le("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Ce(6," Delete "),L(),z(7,"ion-item",3),Le("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(_e(1),De("detail",!1)("disabled",0===o.cardCount),_e(3),De("detail",!1)("disabled",0===o.cardCount),_e(3),De("detail",!1))},dependencies:[Ho,Po,Ks]}),t})(),Dq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Le("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Save "),L(),z(7,"ion-item",0),Le("click",function(){return o.onCheck()}),Ve(8,"ion-icon",3),Ce(9," Check "),L(),z(10,"ion-item",4),Le("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(_e(1),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1))},dependencies:[Ho,Po,Ks]}),t})();function Eq(e,t){1&e&&Ve(0,"ion-icon",15)}function Iq(e,t){1&e&&Ve(0,"ion-icon",16)}let xq=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new ln,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new ln,this.edit=new ln,this.check=new ln,this.delete=new ln,this.save=new ln,this.checkSessions=Ec(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,U.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Dq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Sr.dirty:return"needs check";case Sr.clean:return"no errors";case Sr.unformatted:return"no filesystem";case Sr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Wd),_(Ll),_(Dc),_(ft))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Pn();z(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.edit.emit(o.card))}),Ve(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.save.emit(o.card))}),Ve(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.check.emit(o.card))}),Ve(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.delete.emit(o.card))}),Ve(11,"ion-icon",11),L()(),z(12,"ion-item",12),Le("click",function(){return o.selectCard.emit(),o.interaction.emit()}),z(13,"ion-label")(14,"h2"),Ce(15),L(),z(16,"p"),Ce(17),Ja(18,"cardSize"),L()(),nn(19,Eq,1,0,"ion-icon",13)(20,Iq,1,0,"ion-icon",14),L()()}2&n&&(_e(12),De("color",o.color),_e(1),_a("selecting",o.selecting),_e(2),ss(null==o.card?null:o.card.name),_e(2),Jf("",el(18,8,null==o.card?null:o.card.size),", ",o.status,""),_e(2),De("ngIf",o.selecting&&!o.selectedForExport),_e(1),De("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ei,Ho,Po,n_,r_,o_,Bi,U0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var eh;function Tq(e,t){if(1&e){const r=Pn();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Memory cards"),L(),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct().addCardImage())}),Ve(5,"ion-icon",8),L()(),z(6,"ion-buttons",9)(7,"ion-button",7),Le("click",function(o){return Pt(r),Ot(Ct().openActionMenu(o))}),Ve(8,"ion-icon",10),L(),Ve(9,"app-pwa-prompt"),L()()}}function Mq(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Export"),L())}function Aq(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Delete"),L())}function kq(e,t){if(1&e){const r=Pn();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function Rq(e,t){if(1&e){const r=Pn();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct(2).selection.clear())}),Ce(2,"Clear"),L()()}}function Pq(e,t){if(1&e){const r=Pn();z(0,"ion-toolbar"),nn(1,Mq,2,0,"ion-title",0)(2,Aq,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct().onSelectionDone())}),Ce(5),L()(),nn(6,kq,3,0,"ion-buttons",11)(7,Rq,3,0,"ion-buttons",11),L()}if(2&e){const r=Ct();_e(1),De("ngIf","select-for-export"===r.mode),_e(1),De("ngIf","select-for-delete"===r.mode),_e(3),ss(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),_e(1),De("ngIf",r.selection.size!==r.cards.length),_e(1),De("ngIf",r.selection.size===r.cards.length)}}function Oq(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Memory cards"),L())}function Nq(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for export"),L())}function Fq(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for delete"),L())}function Lq(e,t){1&e&&(z(0,"div",13),Ve(1,"ion-spinner"),L())}function $q(e,t){1&e&&(z(0,"div",14)(1,"div",15),Ce(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),L()())}function Bq(e,t){if(1&e){const r=Pn();z(0,"app-storage-card",17),Le("delete",function(){const i=Pt(r).$implicit;return Ot(Ct(2).deleteCard(i))})("selectCard",function(){const i=Pt(r).$implicit,s=Ct(2);return Ot("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Pt(r).$implicit;return Ot(Ct(2).editCard(i))})("check",function(){const i=Pt(r).$implicit;return Ot(Ct(2).checkCard(i))})("interaction",function(){const i=Pt(r).$implicit;return Ot(Ct(2).lastCardTouched=i.id)})("save",function(){const i=Pt(r).$implicit;return Ot(Ct(2).saveCard(i))}),L()}if(2&e){const r=t.$implicit,n=Ct(2);De("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function Vq(e,t){if(1&e&&(z(0,"ion-list"),nn(1,Bq,1,4,"app-storage-card",16),L()),2&e){const r=Ct();_e(1),De("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class hl{constructor(t,r,n,o,i,s,a,l,c,f,h,g){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=g,this.handleCardImport=function(){var V=(0,U.Z)(function*(ee){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(ee.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(ee.name.endsWith(".zip")){let vt=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>vt=!0},"Cancel"),void(vt&&(yield b.storageCardService.addAllCardsFromArchive(yield ee.getContent())))}const ye=yield b.cloudpilotService.cloudpilot;let Ee;try{Ee=yield ee.getContent()}catch(vt){return console.warn(vt),void(yield b.alertService.errorMessage(`Unable to open ${ee.name}".`))}if(/\.gz$/.test(ee.name)){const vt=yield b.loadingController.create({message:"Unpacking..."});yield vt.present();try{Ee=yield b.fstools.gunzip(Ee)}finally{yield vt.dismiss()}}const Ie=Ee?ye.getCardSupportLevel(Ee.length):0;if(void 0===Ee||0===Ie)return void b.alertService.errorMessage("This is not a supported card image.");const Tt=yield new Promise(function(){var vt=(0,U.Z)(function*(st){const or=yield b.modalController.create({component:HR,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(ee.name.replace(/\.gz$/,"")),size:Ee.length},cardSupportLevel:Ie,newCard:!0,onCancel:()=>{or.dismiss(),st(void 0)},onSave:fr=>{st(fr),or.dismiss()}}});yield or.present()});return function(st){return vt.apply(this,arguments)}}());Tt&&(yield b.storageCardService.createCardFromImage(Tt.name,Ee,!!Tt.dontFsckAutomatically))});return function(ee){return V.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=Ec(g,[],()=>this.storageCardService.getAllCards()),this.checkSessions=Ec(g,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,U.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,U.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:Sq}})).present()})()}browseCard(t){var r=this;return(0,U.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,U.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:HR,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,U.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,U.Z)(function*(){const n=`${zd(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,U.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,U.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,U.Z)(function*(){const o=yield n.popoverController.create({component:wq,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,U.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,U.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,U.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,U.Z)(function*(){const r=yield t.modalController.create({component:Cq,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,U.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return Hd(t,n=>r.some(o=>o.name===n))}}function jq(e,t){1&e&&Ve(0,"ion-icon",8)}function Gq(e,t){1&e&&Ve(0,"ion-icon",9)}function Uq(e,t){1&e&&Ve(0,"ion-icon",10)}function Hq(e,t){if(1&e){const r=Pn();z(0,"ion-item",2),Le("click",function(){const i=Pt(r).index;return Ot(Ct(2).onSelect(i))}),sd(1,3),nn(2,jq,1,0,"ion-icon",4)(3,Gq,1,0,"ion-icon",5)(4,Uq,1,0,"ion-icon",6),ad(),z(5,"div",7),Ce(6),L()()}if(2&e){const r=t.$implicit,n=t.index,o=Ct(2);De("detail",!1)("lines",n===o.entries.length-1?"none":"full"),_e(1),De("ngSwitch",o.entries.length),_e(1),De("ngSwitchCase",n+1),_e(1),De("ngSwitchCase",n+2),_e(3),ss(r)}}function zq(e,t){if(1&e&&(z(0,"ion-list"),nn(1,Hq,7,6,"ion-item",1),L()),2&e){const r=Ct();_e(1),De("ngForOf",r.entries)}}(eh=hl).\u0275fac=function(t){return new(t||eh)(_(Hp),_(Wd),_(ls),_(Ta),_(uo),_(au),_(wc),_(xa),_(C_),_(Ll),_(Dc),_(ft))},eh.\u0275cmp=Ze({type:eh,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(z(0,"ion-header"),nn(1,Tq,10,0,"ion-toolbar",0)(2,Pq,8,5,"ion-toolbar",0),L(),z(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),nn(6,Oq,2,0,"ion-title",3)(7,Nq,2,0,"ion-title",3)(8,Fq,2,0,"ion-title",3),L()(),nn(9,Lq,2,0,"div",4)(10,$q,3,0,"div",5)(11,Vq,2,2,"ion-list",0),L()),2&t&&(_e(1),De("ngIf","manage"===r.mode),_e(1),De("ngIf","manage"!==r.mode),_e(4),De("ngIf","manage"===r.mode),_e(1),De("ngIf","select-for-export"===r.mode),_e(1),De("ngIf","select-for-delete"===r.mode),_e(1),De("ngIf",r.storageCardService.isLoading()),_e(1),De("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),_e(1),De("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[zc,ei,Ni,Fi,Li,$i,Ho,Ks,Vp,Vi,ji,D_,xq],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ae([Mr()],hl.prototype,"addCardImage",null),ae([Mr()],hl.prototype,"browseCard",null),ae([Mr()],hl.prototype,"editCard",null),ae([Mr()],hl.prototype,"saveCard",null),ae([Mr()],hl.prototype,"checkCard",null),ae([Mr()],hl.prototype,"deleteCard",null),ae([Mr()],hl.prototype,"onSelectionDone",null),ae([Mr()],hl.prototype,"openActionMenu",null);let Wq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&nn(0,zq,2,1,"ion-list",0),2&n&&De("ngIf",o.entries)},dependencies:[zc,ei,hg,qx,Yx,Ho,Po,Ks],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:170px}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:130px}"]}),t})(),Zq=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fu))},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onStartSelection()}),Ve(2,"ion-icon",1),Ce(3," Start selection "),L(),z(4,"ion-item",2),Le("click",function(){return o.onAddFiles()}),Ve(5,"ion-icon",3),Ce(6," Add files "),L(),z(7,"ion-item",2),Le("click",function(){return o.onCreateDirectry()}),Ve(8,"ion-icon",4),Ce(9," Add directory "),L(),z(10,"ion-item",2),Le("click",function(){return o.onExtractZipfile()}),Ve(11,"ion-icon",5),Ce(12," Extract zip "),L(),z(13,"ion-item",0),Le("click",function(){return o.onPaste()}),Ve(14,"ion-icon",6),Ce(15," Paste "),L(),z(16,"ion-item",7),Le("click",function(){return o.onHelp()}),Ve(17,"ion-icon",8),Ce(18," Help "),L()()),2&n&&(_e(1),De("detail",!1)("disabled",o.emptyDirectory),_e(3),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),_e(3),De("detail",!1))},dependencies:[Ho,Po,Ks]}),t})();var th;class E_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new _c({name:new as("",{nonNullable:!0,validators:[Mp.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new as(!1,{nonNullable:!0}),attrHidden:new as(!1,{nonNullable:!0}),attrSystem:new as(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,U.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,U.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,U.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(th=E_).\u0275fac=function(t){return new(t||th)(_(ls),_(fu))},th.\u0275cmp=Ze({type:th,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return r.onSaveClick()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return r.onCancelClick()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return r.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14),L(),Ve(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"h2"),Ce(18,"Attributes"),L()(),z(19,"ion-item",6)(20,"ion-label"),Ve(21,"ion-icon",9),Ce(22,"Readonly"),L(),Ve(23,"ion-checkbox",10),L(),z(24,"ion-item",6)(25,"ion-label"),Ve(26,"ion-icon",11),Ce(27,"Hidden"),L(),Ve(28,"ion-checkbox",12),L(),z(29,"ion-item",6)(30,"ion-label"),Ve(31,"ion-icon",13),Ce(32,"System"),L(),Ve(33,"ion-checkbox",14),L()()()),2&t&&(_e(3),ui("Edit ",r.subjectName.toLowerCase(),""),_e(2),De("disabled",r.formGroup.invalid),_e(6),De("formGroup",r.formGroup),_e(3),ui("",r.subjectName," name"),_e(1),Vm("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Ni,Fi,Tk,Li,$i,Ho,Fl,Po,Bi,Vi,ji,Fd,Nl,Ol,Rl,Pl,Ia,ll],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),ae([Mr()],E_.prototype,"onSaveClick",null),ae([Mr()],E_.prototype,"onEnter",null);let qq=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(Ge))},e.\u0275dir=Lt({type:e,selectors:[["","appAutofocus",""]]}),t})(),Yq=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new _c({name:new as("",{nonNullable:!0,validators:[Mp.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fu),_(ls))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Create directory"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.onCreateClick()}),Ce(6,"Create"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancelClick()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Directory name"),L(),Ve(15,"ion-input",8),L()()()),2&n&&(_e(5),De("disabled",o.formGroup.invalid),_e(6),De("formGroup",o.formGroup))},dependencies:[Ni,Fi,Li,$i,Fl,Po,Bi,Vi,ji,Nl,Ol,Rl,Pl,Ia,ll,qq]}),t})();function zR(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const Kq=C.p+"assets/doc/card-browser-5a0261814255810d.md";let Xq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Le("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Save "),L(),z(7,"ion-item",0),Le("click",function(){return o.onCopy()}),Ve(8,"ion-icon",3),Ce(9," Copy "),L(),z(10,"ion-item",0),Le("click",function(){return o.onCut()}),Ve(11,"ion-icon",4),Ce(12," Cut "),L(),z(13,"ion-item",5),Le("click",function(){return o.onDelete()}),Ve(14,"ion-icon",6),Ce(15," Delete "),L()()),2&n&&(_e(1),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1))},dependencies:[Ho,Po,Ks]}),t})(),WR=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Yo({name:"fileSize",type:e,pure:!0}),t})();const Qq=["slidingItem"];function Jq(e,t){1&e&&Ve(0,"ion-icon",24)}function eY(e,t){1&e&&Ve(0,"ion-icon",25)}function tY(e,t){1&e&&Ve(0,"ion-icon",26)}function nY(e,t){1&e&&Ve(0,"ion-icon",27)}function rY(e,t){1&e&&Ve(0,"ion-icon",28)}function oY(e,t){1&e&&Ve(0,"ion-icon",29)}function iY(e,t){1&e&&Ve(0,"ion-icon",30)}function sY(e,t){1&e&&Ve(0,"ion-icon",31)}function aY(e,t){1&e&&Ve(0,"ion-icon",32)}function lY(e,t){if(1&e&&(sd(0),Ce(1),Ja(2,"fileSize"),ad()),2&e){const r=Ct();_e(1),ui(" - ",el(2,1,null==r.entry?null:r.entry.size)," ")}}let cY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new ln,this.selectEntry=new ln,this.editEntry=new ln,this.copyEntry=new ln,this.cutEntry=new ln,this.deleteEntry=new ln,this.saveEntry=new ln,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,U.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Xq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,U.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Hp),_(Ll),_(fu))},e.\u0275cmp=Ze({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Uc(Qq,5),2&n){let i;zs(i=Ws())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[vi],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Pn();z(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.editEntry.emit(o.entry))}),Ve(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.saveEntry.emit(o.entry))}),Ve(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.cutOrCopyEntry())}),Ve(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.deleteEntry.emit(o.entry))}),Ve(11,"ion-icon",11),L()(),z(12,"ion-item",12),Le("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),nn(13,Jq,1,0,"ion-icon",13)(14,eY,1,0,"ion-icon",14),z(15,"div",15),nn(16,tY,1,0,"ion-icon",16)(17,nY,1,0,"ion-icon",17)(18,rY,1,0,"ion-icon",18)(19,oY,1,0,"ion-icon",19)(20,iY,1,0,"ion-icon",20),L(),nn(21,sY,1,0,"ion-icon",21)(22,aY,1,0,"ion-icon",22),z(23,"ion-label")(24,"h2"),Ce(25),L(),z(26,"p"),Ce(27),nn(28,lY,3,3,"ng-container",23),L()()()()}2&n&&(De("disabled",o.selecting),_e(12),Bc("opacity",o.touched?1:.99999),_a("is-directory",null==o.entry?null:o.entry.isDirectory),De("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),_e(1),De("ngIf",null==o.entry?null:o.entry.isDirectory),_e(1),De("ngIf",!(null!=o.entry&&o.entry.isDirectory)),_e(2),De("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),_e(1),De("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),_e(1),De("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),_e(1),De("ngIf",o.markedForCopy),_e(1),De("ngIf",o.markedForCut),_e(1),De("ngIf",o.selecting&&!o.selected),_e(1),De("ngIf",o.selecting&&o.selected),_e(1),Bc("padding-right",o.safetyMargin),_a("selecting",o.selecting),_e(2),ss(null==o.entry?null:o.entry.name),_e(2),ui(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),_e(1),De("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[ei,Ho,Po,n_,r_,o_,Bi,WR],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var nh;function uY(e,t){if(1&e){const r=Pn();z(0,"ion-toolbar")(1,"ion-title",6),Le("click",function(o){return Pt(r),Ot(Ct().openBreadcrumbMenu(o))}),z(2,"div",7)(3,"div",8),Ce(4),L(),Ve(5,"div",9),L()(),z(6,"ion-buttons",10),Ve(7,"ion-back-button"),L(),z(8,"ion-buttons",11)(9,"ion-button",12),Le("click",function(o){return Pt(r),Ot(Ct().openContextMenu(o,"trigger"))}),Ve(10,"ion-icon",13),L()()()}if(2&e){const r=Ct();_e(1),De("id",r.breadcrumbTriggerId),_e(3),ss(r.title)}}function dY(e,t){if(1&e){const r=Pn();z(0,"ion-buttons",15)(1,"ion-button",12),Le("click",function(){return Pt(r),Ot(Ct(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function fY(e,t){if(1&e){const r=Pn();z(0,"ion-buttons",15)(1,"ion-button",12),Le("click",function(){return Pt(r),Ot(Ct(2).selection.clear())}),Ce(2,"Clear"),L()()}}function pY(e,t){if(1&e){const r=Pn();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Selection"),L(),z(3,"ion-buttons",11)(4,"ion-button",12),Le("click",function(){return Pt(r),Ot(Ct().onSelectionDone())}),Ce(5),L()(),nn(6,dY,3,0,"ion-buttons",14)(7,fY,3,0,"ion-buttons",14),L()}if(2&e){const r=Ct();_e(5),ss(0===r.selection.size?"Cancel":"Done"),_e(1),De("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),_e(1),De("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function hY(e,t){if(1&e&&(z(0,"div",16)(1,"div",17),Ce(2),L()()),2&e){const r=Ct();_e(2),ui(" empty ",r.isRoot?"card":"directory"," ")}}function mY(e,t){if(1&e){const r=Pn();z(0,"app-file-entry",18),Le("selectEntry",function(){const i=Pt(r).$implicit;return Ot(Ct().onSelect(i))})("editEntry",function(){const i=Pt(r).$implicit;return Ot(Ct().onEditEntry(i))})("saveEntry",function(){const i=Pt(r).$implicit;return Ot(Ct().onSaveEntry(i))})("copyEntry",function(){const i=Pt(r).$implicit;return Ot(Ct().onCopyEntry(i))})("cutEntry",function(){const i=Pt(r).$implicit;return Ot(Ct().onCutEntry(i))})("deleteEntry",function(){const i=Pt(r).$implicit;return Ot(Ct().onDeleteEntry(i))})("interaction",function(){const i=Pt(r).$implicit;return Ot(Ct().lastEntryTouched=i.name)}),L()}if(2&e){const r=t.$implicit,n=Ct();De("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function gY(e,t){if(1&e&&(z(0,"p"),Ce(1),Ja(2,"fileSize"),Ja(3,"fileSize"),L()),2&e){const r=Ct(2);_e(1),Jf(" ",el(2,2,r.bytesFree)," free, ",el(3,4,r.bytesTotal)," total ")}}function _Y(e,t){if(1&e&&(z(0,"p"),Ce(1),Ja(2,"fileSize"),L()),2&e){const r=Ct(2);_e(1),Py(" ",el(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function vY(e,t){if(1&e&&(z(0,"ion-item",19)(1,"ion-label"),nn(2,gY,4,6,"p",0)(3,_Y,3,5,"p",0),L()()),2&e){const r=Ct();_e(2),De("ngIf",r.isRoot),_e(1),De("ngIf",r.fileCount>0)}}function yY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}let bY=0;class Aa{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=zR(c=>c?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=zR(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+bY++,this.checkEntries=Ec(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=Ec(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(yY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,U.Z)(function*(){yield(yield r.modalController.create({component:E_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,U.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,U.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,U.Z)(function*(){yield(yield t.modalController.create({component:Yq,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,U.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,U.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:Kq}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,U.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,U.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,U.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,U.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:Wq,event:t,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:r.breadcrumbTriggerId})).present()})()}openContextMenu(t,r){var n=this;return(0,U.Z)(function*(){(yield n.popoverController.create({component:Zq,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,U.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(nh=Aa).\u0275fac=function(t){return new(t||nh)(_(fu),_(Ll),_(Np),_(uo),_(Hp),_(ls),_(wc),_(ft))},nh.\u0275cmp=Ze({type:nh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(z(0,"ion-header"),nn(1,uY,11,2,"ion-toolbar",0)(2,pY,8,3,"ion-toolbar",0),L(),z(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"div",2),nn(5,hY,3,1,"div",3),z(6,"ion-list"),nn(7,mY,1,4,"app-file-entry",4)(8,vY,4,2,"ion-item",5),L()()()),2&t&&(_e(1),De("ngIf","browse"===r.mode),_e(1),De("ngIf","select"===r.mode),_e(3),De("ngIf",0===(null==r.entries?null:r.entries.length)),_e(2),De("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),_e(1),De("ngIf",r.isRoot||r.fileCount>0))},dependencies:[zc,ei,Ni,Fi,Li,$i,Ho,Po,Bi,Ks,Vi,ji,kk,cY,WR],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),ae([Mr()],Aa.prototype,"onSaveEntry",null),ae([Mr()],Aa.prototype,"onDeleteEntry",null),ae([Mr()],Aa.prototype,"onCreateDirectory",null),ae([Mr()],Aa.prototype,"onPaste",null),ae([Mr()],Aa.prototype,"onHelp",null),ae([Mr()],Aa.prototype,"onSelectionDone",null),ae([Mr()],Aa.prototype,"onSaveZip",null),ae([Mr()],Aa.prototype,"onDeleteSelection",null);const CY=["nav"];let SY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Aa,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=hl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,U.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,U.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!lW}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Aa,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fu),_(j0))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Uc(CY,5),2&n){let i;zs(i=Ws())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&De("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[e0]}),t})();const wY=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let DY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Ce(3," Export "),L(),z(4,"ion-item",0),Le("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Ce(6," Delete "),L(),z(7,"ion-item",3),Le("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(_e(1),De("detail",!1)("disabled",0===o.sessionCount),_e(3),De("detail",!1)("disabled",0===o.sessionCount),_e(3),De("detail",!1))},dependencies:[Ho,Po,Ks]}),t})(),EY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Le("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Export "),L(),z(7,"ion-item",0),Le("click",function(){return o.onReset()}),Ve(8,"ion-icon",3),Ce(9," Reset "),L(),z(10,"ion-item",4),Le("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(_e(1),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1),_e(3),De("detail",!1))},dependencies:[Ho,Po,Ks]}),t})();const xY=["slidingItem"];function TY(e,t){if(1&e&&(z(0,"span"),Ce(1),L()),2&e){const r=Ct();_e(1),ui(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function MY(e,t){1&e&&Ve(0,"ion-icon",16)}function AY(e,t){1&e&&Ve(0,"ion-icon",17)}let kY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new ln,this.resetSession=new ln,this.edit=new ln,this.save=new ln,this.selectItem=new ln,this.interaction=new ln}get device(){return this.session?hR(this.session.device):""}onContextmenu(n){var o=this;return(0,U.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:EY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function IY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ll))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Uc(xY,5),2&n){let i;zs(i=Ws())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Pn();z(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.edit.emit(o.session))}),Ve(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.save.emit(o.session))}),Ve(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.resetSession.emit(o.session))}),Ve(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Le("click",function(){return Pt(i),Es(1).close(),Ot(o.delete.emit(o.session))}),Ve(11,"ion-icon",11),L()(),z(12,"ion-item",12),Le("click",function(){return o.selectItem.emit()}),z(13,"ion-label")(14,"h2"),Ce(15),L(),z(16,"p"),Ce(17),nn(18,TY,2,1,"span",13),L()(),nn(19,MY,1,0,"ion-icon",14)(20,AY,1,0,"ion-icon",15),L()()}2&n&&(De("disabled",o.selecting),_e(12),De("color",o.color),_e(1),_a("in-item-color",o.selected)("selecting",o.selecting),_e(2),ss(null==o.session?null:o.session.name),_e(2),Jf("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),_e(1),De("ngIf",null==o.session?null:o.session.osVersion),_e(1),De("ngIf",o.selecting&&!o.selectedForExport),_e(1),De("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ei,Ho,Po,n_,r_,o_,Bi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var rh;function RY(e,t){if(1&e){const r=Pn();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Sessions"),L(),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct().importSession())}),Ve(5,"ion-icon",8),L()(),z(6,"ion-buttons",9)(7,"ion-button",7),Le("click",function(o){return Pt(r),Ot(Ct().openActionMenu(o))}),Ve(8,"ion-icon",10),L(),Ve(9,"app-pwa-prompt"),L()()}}function PY(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Export"),L())}function OY(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Delete"),L())}function NY(e,t){if(1&e){const r=Pn();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function FY(e,t){if(1&e){const r=Pn();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct(2).selection.clear())}),Ce(2,"Clear"),L()()}}function LY(e,t){if(1&e){const r=Pn();z(0,"ion-toolbar"),nn(1,PY,2,0,"ion-title",0)(2,OY,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Pt(r),Ot(Ct().onSelectionDone())}),Ce(5),L()(),nn(6,NY,3,0,"ion-buttons",11)(7,FY,3,0,"ion-buttons",11),L()}if(2&e){const r=Ct();_e(1),De("ngIf","select-for-export"===r.mode),_e(1),De("ngIf","select-for-delete"===r.mode),_e(3),ss(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),_e(1),De("ngIf",r.selection.size!==r.sessionCount),_e(1),De("ngIf",r.selection.size===r.sessionCount)}}function $Y(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Sessions"),L())}function BY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for export"),L())}function VY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for delete"),L())}function jY(e,t){1&e&&(z(0,"div",13),Ve(1,"ion-spinner"),L())}function GY(e,t){1&e&&(z(0,"div",14)(1,"div",15),Ce(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Ve(3,"br")(4,"br"),Ce(5," You can find a collection of compatible ROMs on "),z(6,"a",16),Ce(7,"PalmDB"),L(),Ce(8,". "),L()())}function UY(e,t){if(1&e){const r=Pn();z(0,"app-session-item",18),Le("delete",function(){const i=Pt(r).$implicit;return Ot(Ct(2).deleteSession(i))})("selectItem",function(){const i=Pt(r).$implicit,s=Ct(2);return Ot("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Pt(r).$implicit;return Ot(Ct(2).editSession(i))})("save",function(){const i=Pt(r).$implicit;return Ot(Ct(2).saveSession(i))})("resetSession",function(){const i=Pt(r).$implicit;return Ot(Ct(2).resetSession(i))})("interaction",function(){const i=Pt(r).$implicit;return Ot(Ct(2).lastSessionTouched=i.id)}),L()}if(2&e){const r=t.$implicit,n=Ct(2);De("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function HY(e,t){if(1&e&&(z(0,"ion-list"),nn(1,UY,1,5,"app-session-item",17),L()),2&e){const r=Ct();_e(1),De("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class Vl{constructor(t,r,n,o,i,s,a,l,c,f,h,g,b,V){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=h,this.popoverController=g,this.loadingController=b,this.cd=V,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const ee=this.linkApi.import.receivePendingUrl();ee&&this.alertService.message("Import request",`Do you want to import<br>${ee} ?`,{OK:()=>this.fileService.openUrl(ee,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=Ec(V,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=Ec(V,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=Ec(V,!0,()=>this.sessionService.isLoading())}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,U.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,U.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!AR()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,U.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,U.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,U.Z)(function*(){yield(yield t.modalController.create({component:cu,componentProps:{url:wY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}ionViewDidLeave(){this.mode="manage"}onSelectionDone(){var t=this;return(0,U.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,U.Z)(function*(){const o=yield n.popoverController.create({component:DY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,U.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,U.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,U.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:LR,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return Hd(t,n=>r.some(o=>o.name===n))}}(rh=Vl).\u0275fac=function(t){return new(t||rh)(_(Dc),_(wc),_(uo),_(Ma),_($l),_(rr),_(ls),_(Gb),_(Go),_(Ta),_(j0),_(Ll),_(xa),_(ft))},rh.\u0275cmp=Ze({type:rh,selectors:[["app-sessions"]],decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(z(0,"ion-header"),nn(1,RY,10,0,"ion-toolbar",0)(2,LY,8,5,"ion-toolbar",0),L(),z(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),nn(6,$Y,2,0,"ion-title",3)(7,BY,2,0,"ion-title",3)(8,VY,2,0,"ion-title",3),L()(),nn(9,jY,2,0,"div",4)(10,GY,9,0,"div",5)(11,HY,2,2,"ion-list",0),L()),2&t&&(_e(1),De("ngIf","manage"===r.mode),_e(1),De("ngIf","manage"!==r.mode),_e(4),De("ngIf","manage"===r.mode),_e(1),De("ngIf","select-for-export"===r.mode),_e(1),De("ngIf","select-for-delete"===r.mode),_e(1),De("ngIf",r.sessionService.isLoading()),_e(1),De("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),_e(1),De("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[zc,ei,Ni,Fi,Li,$i,Ho,Ks,Vp,Vi,ji,D_,kY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ae([Mr()],Vl.prototype,"deleteSession",null),ae([Mr()],Vl.prototype,"editSession",null),ae([Mr()],Vl.prototype,"saveSession",null),ae([Mr()],Vl.prototype,"launchSession",null),ae([Mr()],Vl.prototype,"resetSession",null),ae([Mr()],Vl.prototype,"onSelectionDone",null),ae([Mr()],Vl.prototype,"openActionMenu",null);const zY=[{path:"tab",component:$0,children:[{path:"emulation",component:G0},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=Vl}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-wrapper"]],decls:2,vars:2,consts:[[3,"animated","root"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&De("animated",!1)("root",o.navRoot)},dependencies:[e0],encapsulation:2}),t})()},{path:"storage",component:SY},{path:"settings",component:_q},{path:"about",component:wZ},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let WY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[Vg.forChild(zY),Vg]}),t})(),ZY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({imports:[vc,nl,ru,WY,mZ,gZ,_Z,vZ,hZ]}),t})(),qY=(()=>{var e;class t extends Px{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const YY=[{path:"install",component:OR,canActivate:[NR]},{path:"import",component:OR,canActivate:[NR]},{path:"",component:$0}];let KY=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=ct({providers:[{provide:tl,useClass:qY}],imports:[Vg.forRoot(YY,{preloadingStrategy:H6,useHash:!0}),ZY,Vg]}),t})();const ZR=["touch","click","keydown"];let XY=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,U.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{ZR.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};ZR.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(V0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const QY=()=>{const e=new iu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let JY=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rr),ce(Ma),ce(V0),ce(Dc),ce(Si),ce(PR),ce(XY),ce(F0))},e.\u0275mod=io({type:e,bootstrap:[tZ]}),e.\u0275inj=ct({providers:[{provide:zM,useClass:s8},{provide:op,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Si]}],imports:[OG,vc.forRoot({...UR()?{actionSheetEnter:cq,loadingEnter:uq,alertEnter:dq}:{},innerHTMLTemplatesEnabled:!0}),KY,u0.forRoot({loader:zb,markedOptions:{provide:Wk,useFactory:QY}}),vU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function UG(){_g=wT("#/install?"),vg=wT("#/import?")}(),function gW(){return!!localStorage.getItem(f_)}()&&!DT()||function HG(){return void 0!==_g}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),RG().bootstrapModule(JY).then(e=>true).catch(e=>console.log(e))},2227:me=>{var C,we=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Z,Y,u=S;u.ready=new Promise((d,y)=>{Z=d,Y=y});var ve,j=Object.assign({},u),E="./this.program",I=(d,y)=>{throw y},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(ve=d=>{var y=new XMLHttpRequest;return y.open("GET",d,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var M,ie=u.print||console.log.bind(console),H=u.printErr||console.error.bind(console);Object.assign(u,j),j=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&ge("no native wasm support detected");var J,se,Re,O,D,X,he,le=!1;function xe(d,y){d||ge(y)}function Be(){var d=J.buffer;u.HEAP8=Re=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAPU8=O=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAP32=D=new Int32Array(d),u.HEAPU32=X=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=he=new Float64Array(d)}var ht=[],Gt=[],Ne=[],ze=[],wt=0,Ut=null,jt=null;function ge(d){u.onAbort&&u.onAbort(d),H(d="Aborted("+d+")"),le=!0,se=1,d+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(d);throw Y(y),y}var Nt,yt=d=>d.startsWith("data:application/octet-stream;base64,");function dn(d){if(d==Nt&&M)return new Uint8Array(M);if(ve)return ve(d);throw"both async and sync fetching of the wasm failed"}function pn(d,y,q){return function rn(d){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>dn(d)):fetch(d,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+d+"'";return y.arrayBuffer()}).catch(()=>dn(d))}(d).then(ke=>WebAssembly.instantiate(ke,y)).then(ke=>ke).then(q,ke=>{H(`failed to asynchronously prepare wasm: ${ke}`),ge(ke)})}yt(Nt="cloudpilot_web.wasm")||(Nt=function T(d){return u.locateFile?u.locateFile(d,P):P+d}(Nt));var Wn,Wo={1472504:d=>{ut.grow(65536);for(let y=0;y<=65535;y++)ut.set(ut.length-65535-1+y,ut.get(X[(d>>>2)+y]));return ut.length-65535-1}};function wo(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}var Rn=d=>{for(;d.length>0;)d.shift()(u)},Br=u.noExitRuntime||!0,Hr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ro=(d,y,q)=>{for(var ke=y+q,It=y;d[It]&&!(It>=ke);)++It;if(It-y>16&&d.buffer&&Hr)return Hr.decode(d.subarray(y,It));for(var en="";y<It;){var dt=d[y++];if(128&dt){var vn=63&d[y++];if(192!=(224&dt)){var cr=63&d[y++];if((dt=224==(240&dt)?(15&dt)<<12|vn<<6|cr:(7&dt)<<18|vn<<12|cr<<6|63&d[y++])<65536)en+=String.fromCharCode(dt);else{var Gr=dt-65536;en+=String.fromCharCode(55296|Gr>>10,56320|1023&Gr)}}else en+=String.fromCharCode((31&dt)<<6|vn)}else en+=String.fromCharCode(dt)}return en},Zn=(d,y)=>d?ro(O,d,y):"",pe=(d,y)=>y+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*y:NaN,Cn=d=>d%4==0&&(d%100!=0||d%400==0),on=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],tr=d=>(Cn(d.getFullYear())?on:fo)[d.getMonth()]+d.getDate()-1,Do=d=>{for(var y=0,q=0;q<d.length;++q){var ke=d.charCodeAt(q);ke<=127?y++:ke<=2047?y+=2:ke>=55296&&ke<=57343?(y+=4,++q):y+=3}return y},oo=(d,y,q,ke)=>{if(!(ke>0))return 0;for(var It=q,en=q+ke-1,dt=0;dt<d.length;++dt){var vn=d.charCodeAt(dt);if(vn>=55296&&vn<=57343&&(vn=65536+((1023&vn)<<10)|1023&d.charCodeAt(++dt)),vn<=127){if(q>=en)break;y[q++]=vn}else if(vn<=2047){if(q+1>=en)break;y[q++]=192|vn>>6,y[q++]=128|63&vn}else if(vn<=65535){if(q+2>=en)break;y[q++]=224|vn>>12,y[q++]=128|vn>>6&63,y[q++]=128|63&vn}else{if(q+3>=en)break;y[q++]=240|vn>>18,y[q++]=128|vn>>12&63,y[q++]=128|vn>>6&63,y[q++]=128|63&vn}}return y[q]=0,q-It},Oo=d=>{var y=Do(d)+1,q=At(y);return q&&((d,y,q)=>{oo(d,O,y,q)})(d,q,y),q},yr=[],hi=d=>{var q=(d-J.buffer.byteLength+65535)/65536;try{return J.grow(q),Be(),1}catch{}},Di={},Eo=()=>{if(!Eo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var q in Di)void 0===Di[q]?delete y[q]:y[q]=Di[q];var ke=[];for(var q in y)ke.push(`${q}=${y[q]}`);Eo.strings=ke}return Eo.strings},Js=[null,[],[]],Ei=(d,y)=>{var q=Js[d];0===y||10===y?((1===d?ie:H)(ro(q,0)),q.length=0):q.push(y)},zi=[31,29,31,30,31,30,31,31,30,31,30,31],zr=[31,28,31,30,31,30,31,31,30,31,30,31];function ni(d,y,q){var ke=q>0?q:Do(d)+1,It=new Array(ke),en=oo(d,It,0,It.length);return y&&(It.length=en),It}var ut,$,_n,cs=(d,y)=>{se=d,(d=>{se=d,Br||(u.onExit&&u.onExit(d),le=!0),I(d,new wo(d))})(d)},nt=(d,y)=>{d<128?y.push(d):y.push(d%128|128,d>>7)},fs=[],m=d=>{var y=fs[d];return y||(d>=fs.length&&(fs.length=d+1),fs[d]=y=ut.get(d)),y},Me=[],Ke=(d,y)=>{ut.set(d,y),fs[d]=ut.get(d)},et={b:(d,y,q,ke)=>{ge(`Assertion failed: ${Zn(d)}, at: `+[y?Zn(y):"unknown filename",q,ke?Zn(ke):"unknown function"])},i:function So(d){const y=new Error(Zn(d));throw y.isAssert=!0,y},m:function be(d,y,q){pe(y,q)},h:()=>1,j:function wr(d,y,q){var ke=pe(d,y),It=new Date(1e3*ke);D[q>>2]=It.getSeconds(),D[q+4>>2]=It.getMinutes(),D[q+8>>2]=It.getHours(),D[q+12>>2]=It.getDate(),D[q+16>>2]=It.getMonth(),D[q+20>>2]=It.getFullYear()-1900,D[q+24>>2]=It.getDay();var en=0|tr(It);D[q+28>>2]=en,D[q+36>>2]=-60*It.getTimezoneOffset();var dt=new Date(It.getFullYear(),0,1),vn=new Date(It.getFullYear(),6,1).getTimezoneOffset(),cr=dt.getTimezoneOffset(),Gr=0|(vn!=cr&&It.getTimezoneOffset()==Math.min(cr,vn));D[q+32>>2]=Gr},k:function(d){var y=(()=>{var q=new Date(D[d+20>>2]+1900,D[d+16>>2],D[d+12>>2],D[d+8>>2],D[d+4>>2],D[d>>2],0),ke=D[d+32>>2],It=q.getTimezoneOffset(),en=new Date(q.getFullYear(),0,1),dt=new Date(q.getFullYear(),6,1).getTimezoneOffset(),vn=en.getTimezoneOffset(),cr=Math.min(vn,dt);if(ke<0)D[d+32>>2]=+(dt!=vn&&cr==It);else if(ke>0!=(cr==It)){var Gr=Math.max(vn,dt),ma=ke>0?cr:Gr;q.setTime(q.getTime()+6e4*(ma-It))}D[d+24>>2]=q.getDay();var vs=0|tr(q);D[d+28>>2]=vs,D[d>>2]=q.getSeconds(),D[d+4>>2]=q.getMinutes(),D[d+8>>2]=q.getHours(),D[d+12>>2]=q.getDate(),D[d+16>>2]=q.getMonth(),D[d+20>>2]=q.getYear();var $n=q.getTime();return isNaN($n)?(D[Ze()>>2]=61,-1):$n/1e3})();return wh((Wn=y,+Math.abs(Wn)>=1?Wn>0?+Math.floor(Wn/4294967296)>>>0:~~+Math.ceil((Wn-+(~~Wn>>>0))/4294967296)>>>0:0)),y>>>0},r:(d,y,q)=>{var ke=(new Date).getFullYear(),It=new Date(ke,0,1),en=new Date(ke,6,1),dt=It.getTimezoneOffset(),vn=en.getTimezoneOffset(),cr=Math.max(dt,vn);function Gr(yo){var lo=yo.toTimeString().match(/\(([A-Za-z ]+)\)$/);return lo?lo[1]:"GMT"}X[d>>2]=60*cr,D[y>>2]=+(dt!=vn);var ma=Gr(It),vs=Gr(en),$n=Oo(ma),js=Oo(vs);vn<dt?(X[q>>2]=$n,X[q+4>>2]=js):(X[q>>2]=js,X[q+4>>2]=$n)},a:()=>{ge("")},s:(d,y,q)=>((d,y,q)=>{var ke=((d,y)=>{yr.length=0;for(var q;q=O[d++];){var ke=105!=q;y+=(ke&=112!=q)&&y%8?4:0,yr.push(112==q?X[y>>2]:105==q?D[y>>2]:he[y>>3]),y+=ke?8:4}return yr})(y,q);return Wo[d].apply(null,ke)})(d,y,q),c:()=>Date.now(),d:(d,y,q)=>O.copyWithin(d,y,y+q),q:d=>{var cr,y=O.length,q=2147483648;if((d>>>=0)>q)return!1;for(var It=1;It<=4;It*=2){var en=y*(1+.2/It);en=Math.min(en,d+100663296);var dt=Math.min(q,(cr=Math.max(d,en))+(65536-cr%65536)%65536);if(hi(dt))return!0}return!1},o:(d,y)=>{var q=0;return Eo().forEach((ke,It)=>{var en=y+q;X[d+4*It>>2]=en,((d,y)=>{for(var q=0;q<d.length;++q)Re[y++>>0]=d.charCodeAt(q);Re[y>>0]=0})(ke,en),q+=ke.length+1}),0},p:(d,y)=>{var q=Eo();X[d>>2]=q.length;var ke=0;return q.forEach(It=>ke+=It.length+1),X[y>>2]=ke,0},e:d=>52,g:(d,y,q,ke)=>52,l:function Hi(d,y,q,ke,It){return pe(y,q),70},f:(d,y,q,ke)=>{for(var It=0,en=0;en<q;en++){var dt=X[y>>2],vn=X[y+4>>2];y+=8;for(var cr=0;cr<vn;cr++)Ei(d,O[dt+cr]);It+=vn}return X[ke>>2]=It,0},n:(d,y,q,ke,It)=>((d,y,q,ke)=>{var It=X[ke+40>>2],en={tm_sec:D[ke>>2],tm_min:D[ke+4>>2],tm_hour:D[ke+8>>2],tm_mday:D[ke+12>>2],tm_mon:D[ke+16>>2],tm_year:D[ke+20>>2],tm_wday:D[ke+24>>2],tm_yday:D[ke+28>>2],tm_isdst:D[ke+32>>2],tm_gmtoff:D[ke+36>>2],tm_zone:It?Zn(It):""},dt=Zn(q),vn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var cr in vn)dt=dt.replace(new RegExp(cr,"g"),vn[cr]);var Gr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ma=["January","February","March","April","May","June","July","August","September","October","November","December"];function vs(_t,Xt,gi){for(var _i="number"==typeof _t?_t.toString():_t||"";_i.length<Xt;)_i=gi[0]+_i;return _i}function $n(_t,Xt){return vs(_t,Xt,"0")}function js(_t,Xt){function gi(vu){return vu<0?-1:vu>0?1:0}var _i;return 0===(_i=gi(_t.getFullYear()-Xt.getFullYear()))&&0===(_i=gi(_t.getMonth()-Xt.getMonth()))&&(_i=gi(_t.getDate()-Xt.getDate())),_i}function yo(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function lo(_t){var Xt=((d,y)=>{for(var q=new Date(d.getTime());y>0;){var ke=Cn(q.getFullYear()),It=q.getMonth(),en=(ke?zi:zr)[It];if(!(y>en-q.getDate()))return q.setDate(q.getDate()+y),q;y-=en-q.getDate()+1,q.setDate(1),It<11?q.setMonth(It+1):(q.setMonth(0),q.setFullYear(q.getFullYear()+1))}return q})(new Date(_t.tm_year+1900,0,1),_t.tm_yday),gi=new Date(Xt.getFullYear(),0,4),_i=new Date(Xt.getFullYear()+1,0,4),vu=yo(gi),af=yo(_i);return js(vu,Xt)<=0?js(af,Xt)<=0?Xt.getFullYear()+1:Xt.getFullYear():Xt.getFullYear()-1}var _u={"%a":_t=>Gr[_t.tm_wday].substring(0,3),"%A":_t=>Gr[_t.tm_wday],"%b":_t=>ma[_t.tm_mon].substring(0,3),"%B":_t=>ma[_t.tm_mon],"%C":_t=>$n((_t.tm_year+1900)/100|0,2),"%d":_t=>$n(_t.tm_mday,2),"%e":_t=>vs(_t.tm_mday,2," "),"%g":_t=>lo(_t).toString().substring(2),"%G":_t=>lo(_t),"%H":_t=>$n(_t.tm_hour,2),"%I":_t=>{var Xt=_t.tm_hour;return 0==Xt?Xt=12:Xt>12&&(Xt-=12),$n(Xt,2)},"%j":_t=>$n(_t.tm_mday+((d,y)=>{for(var q=0,ke=0;ke<=y;q+=d[ke++]);return q})(Cn(_t.tm_year+1900)?zi:zr,_t.tm_mon-1),3),"%m":_t=>$n(_t.tm_mon+1,2),"%M":_t=>$n(_t.tm_min,2),"%n":()=>"\n","%p":_t=>_t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM","%S":_t=>$n(_t.tm_sec,2),"%t":()=>"\t","%u":_t=>_t.tm_wday||7,"%U":_t=>$n(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2),"%V":_t=>{var Xt=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&Xt++,Xt){if(53==Xt){var _i=(_t.tm_wday+371-_t.tm_yday)%7;4!=_i&&(3!=_i||!Cn(_t.tm_year))&&(Xt=1)}}else{Xt=52;var gi=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==gi||5==gi&&Cn(_t.tm_year%400-1))&&Xt++}return $n(Xt,2)},"%w":_t=>_t.tm_wday,"%W":_t=>$n(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2),"%y":_t=>(_t.tm_year+1900).toString().substring(2),"%Y":_t=>_t.tm_year+1900,"%z":_t=>{var Xt=_t.tm_gmtoff;return(Xt>=0?"+":"-")+("0000"+(Xt=(Xt=Math.abs(Xt)/60)/60*100+Xt%60)).slice(-4)},"%Z":_t=>_t.tm_zone,"%%":()=>"%"};for(var cr in dt=dt.replace(/%%/g,"\0\0"),_u)dt.includes(cr)&&(dt=dt.replace(new RegExp(cr,"g"),_u[cr](en)));var ga=ni(dt=dt.replace(/\0\0/g,"%"),!1);return ga.length>y?0:(((d,y)=>{Re.set(d,y)})(ga,d),ga.length-1)})(d,y,q,ke)},A=function _r(){var d={a:et};function y(ke,It){return J=(A=ke.exports).t,Be(),ut=A.yc,function lt(d){Gt.unshift(d)}(A.u),function Se(d){if(wt--,u.monitorRunDependencies&&u.monitorRunDependencies(wt),0==wt&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var y=jt;jt=null,y()}}(),A}if(function Te(d){wt++,u.monitorRunDependencies&&u.monitorRunDependencies(wt)}(),u.instantiateWasm)try{return u.instantiateWasm(d,y)}catch(ke){H(`Module.instantiateWasm callback failed with error: ${ke}`),Y(ke)}return function Jt(d,y,q,ke){return d||"function"!=typeof WebAssembly.instantiateStreaming||yt(y)||"function"!=typeof fetch?pn(y,q,ke):fetch(y,{credentials:"same-origin"}).then(It=>WebAssembly.instantiateStreaming(It,q).then(ke,function(dt){return H(`wasm streaming compile failed: ${dt}`),H("falling back to ArrayBuffer instantiation"),pn(y,q,ke)}))}(M,Nt,d,function q(ke){y(ke.instance)}).catch(Y),{}}(),At=u._malloc=d=>(At=u._malloc=A.v)(d),Sn=(u._free=d=>(u._free=A.w)(d),u._main=(d,y)=>(Sn=u._main=A.x)(d,y)),Wr=(u._webidl_free=d=>(u._webidl_free=A.y)(d),u._webidl_malloc=d=>(u._webidl_malloc=A.z)(d),u._emscripten_bind_VoidPtr___destroy___0=d=>(Wr=u._emscripten_bind_VoidPtr___destroy___0=A.A)(d)),Kn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Kn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=A.B)(),Yi=u._emscripten_bind_Cloudpilot_Malloc_1=(d,y)=>(Yi=u._emscripten_bind_Cloudpilot_Malloc_1=A.C)(d,y),Bn=u._emscripten_bind_Cloudpilot_Free_1=(d,y)=>(Bn=u._emscripten_bind_Cloudpilot_Free_1=A.D)(d,y),Fo=u._emscripten_bind_Cloudpilot_Nullptr_0=d=>(Fo=u._emscripten_bind_Cloudpilot_Nullptr_0=A.E)(d),Io=u._emscripten_bind_Cloudpilot_InitializeSession_3=(d,y,q,ke)=>(Io=u._emscripten_bind_Cloudpilot_InitializeSession_3=A.F)(d,y,q,ke),Ki=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d=>(Ki=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=A.G)(d),ka=u._emscripten_bind_Cloudpilot_RunEmulation_1=(d,y)=>(ka=u._emscripten_bind_Cloudpilot_RunEmulation_1=A.H)(d,y),na=u._emscripten_bind_Cloudpilot_SetClockFactor_1=(d,y)=>(na=u._emscripten_bind_Cloudpilot_SetClockFactor_1=A.I)(d,y),Ps=u._emscripten_bind_Cloudpilot_CopyFrame_0=d=>(Ps=u._emscripten_bind_Cloudpilot_CopyFrame_0=A.J)(d),ra=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=d=>(ra=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=A.K)(d),Xi=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=d=>(Xi=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=A.L)(d),Ra=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(d,y)=>(Ra=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=A.M)(d,y),oa=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(d,y)=>(oa=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=A.N)(d,y),ia=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(d,y)=>(ia=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=A.O)(d,y),Pa=u._emscripten_bind_Cloudpilot_QueuePenMove_2=(d,y,q)=>(Pa=u._emscripten_bind_Cloudpilot_QueuePenMove_2=A.P)(d,y,q),Oa=u._emscripten_bind_Cloudpilot_QueuePenUp_0=d=>(Oa=u._emscripten_bind_Cloudpilot_QueuePenUp_0=A.Q)(d),Na=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=(d,y)=>(Na=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=A.R)(d,y),Fa=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=(d,y)=>(Fa=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=A.S)(d,y),sa=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(d,y,q)=>(sa=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=A.T)(d,y,q),La=u._emscripten_bind_Cloudpilot_IsPowerOff_0=d=>(La=u._emscripten_bind_Cloudpilot_IsPowerOff_0=A.U)(d),$a=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=d=>($a=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=A.V)(d),Er=u._emscripten_bind_Cloudpilot_GetOSVersion_0=d=>(Er=u._emscripten_bind_Cloudpilot_GetOSVersion_0=A.W)(d),aa=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=d=>(aa=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=A.X)(d),po=u._emscripten_bind_Cloudpilot_Reset_0=d=>(po=u._emscripten_bind_Cloudpilot_Reset_0=A.Y)(d),Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d=>(Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=A.Z)(d),la=u._emscripten_bind_Cloudpilot_ResetHard_0=d=>(la=u._emscripten_bind_Cloudpilot_ResetHard_0=A._)(d),Os=u._emscripten_bind_Cloudpilot_InstallDb_2=(d,y,q)=>(Os=u._emscripten_bind_Cloudpilot_InstallDb_2=A.$)(d,y,q),eo=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d=>(eo=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=A.aa)(d),Ns=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d=>(Ns=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=A.ba)(d),Ba=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d=>(Ba=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=A.ca)(d),Vn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=d=>(Vn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=A.da)(d),ps=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(d,y,q)=>(ps=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=A.ea)(d,y,q),Ir=u._emscripten_bind_Cloudpilot_GetRomPtr_0=d=>(Ir=u._emscripten_bind_Cloudpilot_GetRomPtr_0=A.fa)(d),Fs=u._emscripten_bind_Cloudpilot_GetRomSize_0=d=>(Fs=u._emscripten_bind_Cloudpilot_GetRomSize_0=A.ga)(d),ml=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d=>(ml=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=A.ha)(d),Va=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=d=>(Va=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=A.ia)(d),Hn=u._emscripten_bind_Cloudpilot_SaveState_0=d=>(Hn=u._emscripten_bind_Cloudpilot_SaveState_0=A.ja)(d),Yt=u._emscripten_bind_Cloudpilot_LoadState_2=(d,y,q)=>(Yt=u._emscripten_bind_Cloudpilot_LoadState_2=A.ka)(d,y,q),hs=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=d=>(hs=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=A.la)(d),Ls=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=(d,y)=>(Ls=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=A.ma)(d,y),gl=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(d,y)=>(gl=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=A.na)(d,y),ca=u._emscripten_bind_Cloudpilot_StartBackup_0=d=>(ca=u._emscripten_bind_Cloudpilot_StartBackup_0=A.oa)(d),Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(d,y)=>(Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=A.pa)(d,y),Qi=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d=>(Qi=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=A.qa)(d),ms=u._emscripten_bind_Cloudpilot_IsSuspended_0=d=>(ms=u._emscripten_bind_Cloudpilot_IsSuspended_0=A.ra)(d),Ji=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=d=>(Ji=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=A.sa)(d),ua=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(d,y)=>(ua=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=A.ta)(d,y),da=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d=>(da=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=A.ua)(d),ri=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(d,y)=>(ri=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=A.va)(d,y),br=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(d,y)=>(br=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=A.wa)(d,y),qo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=(d,y)=>(qo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=A.xa)(d,y),Bt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(d,y,q)=>(Bt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=A.ya)(d,y,q),Fn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(d,y)=>(Fn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=A.za)(d,y),jl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d=>(jl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=A.Aa)(d),_l=u._emscripten_bind_Cloudpilot_AllocateCard_2=(d,y,q)=>(_l=u._emscripten_bind_Cloudpilot_AllocateCard_2=A.Ba)(d,y,q),vl=u._emscripten_bind_Cloudpilot_AdoptCard_3=(d,y,q,ke)=>(vl=u._emscripten_bind_Cloudpilot_AdoptCard_3=A.Ca)(d,y,q,ke),Gl=u._emscripten_bind_Cloudpilot_MountCard_1=(d,y)=>(Gl=u._emscripten_bind_Cloudpilot_MountCard_1=A.Da)(d,y),qn=u._emscripten_bind_Cloudpilot_RemoveCard_1=(d,y)=>(qn=u._emscripten_bind_Cloudpilot_RemoveCard_1=A.Ea)(d,y),gs=u._emscripten_bind_Cloudpilot_GetCardData_1=(d,y)=>(gs=u._emscripten_bind_Cloudpilot_GetCardData_1=A.Fa)(d,y),Ln=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(d,y)=>(Ln=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=A.Ga)(d,y),ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=(d,y)=>(ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=A.Ha)(d,y),mo=u._emscripten_bind_Cloudpilot_RemountCards_0=d=>(mo=u._emscripten_bind_Cloudpilot_RemountCards_0=A.Ia)(d),Zr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=(d,y)=>(Zr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=A.Ja)(d,y),Yn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=d=>(Yn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=A.Ka)(d),Xn=u._emscripten_bind_Cloudpilot___destroy___0=d=>(Xn=u._emscripten_bind_Cloudpilot___destroy___0=A.La)(d),Rr=u._emscripten_bind_RomInfo_RomInfo_2=(d,y)=>(Rr=u._emscripten_bind_RomInfo_RomInfo_2=A.Ma)(d,y),xr=u._emscripten_bind_RomInfo_IsValid_0=d=>(xr=u._emscripten_bind_RomInfo_IsValid_0=A.Na)(d),v=u._emscripten_bind_RomInfo_CardVersion_0=d=>(v=u._emscripten_bind_RomInfo_CardVersion_0=A.Oa)(d),G=u._emscripten_bind_RomInfo_CardName_0=d=>(G=u._emscripten_bind_RomInfo_CardName_0=A.Pa)(d),oe=u._emscripten_bind_RomInfo_RomVersion_0=d=>(oe=u._emscripten_bind_RomInfo_RomVersion_0=A.Qa)(d),Oe=u._emscripten_bind_RomInfo_RomVersionString_0=d=>(Oe=u._emscripten_bind_RomInfo_RomVersionString_0=A.Ra)(d),bt=u._emscripten_bind_RomInfo_Supports_1=(d,y)=>(bt=u._emscripten_bind_RomInfo_Supports_1=A.Sa)(d,y),qt=u._emscripten_bind_RomInfo___destroy___0=d=>(qt=u._emscripten_bind_RomInfo___destroy___0=A.Ta)(d),ot=u._emscripten_bind_Frame_GetLineWidth_0=d=>(ot=u._emscripten_bind_Frame_GetLineWidth_0=A.Ua)(d),hn=u._emscripten_bind_Frame_GetBpp_0=d=>(hn=u._emscripten_bind_Frame_GetBpp_0=A.Va)(d),ir=u._emscripten_bind_Frame_GetLines_0=d=>(ir=u._emscripten_bind_Frame_GetLines_0=A.Wa)(d),zt=u._emscripten_bind_Frame_GetMargin_0=d=>(zt=u._emscripten_bind_Frame_GetMargin_0=A.Xa)(d),Pr=u._emscripten_bind_Frame_GetBytesPerLine_0=d=>(Pr=u._emscripten_bind_Frame_GetBytesPerLine_0=A.Ya)(d),$e=u._emscripten_bind_Frame_GetFirstDirtyLine_0=d=>($e=u._emscripten_bind_Frame_GetFirstDirtyLine_0=A.Za)(d),wn=u._emscripten_bind_Frame_GetLastDirtyLine_0=d=>(wn=u._emscripten_bind_Frame_GetLastDirtyLine_0=A._a)(d),ct=u._emscripten_bind_Frame_GetHasChanges_0=d=>(ct=u._emscripten_bind_Frame_GetHasChanges_0=A.$a)(d),sr=u._emscripten_bind_Frame_GetBuffer_0=d=>(sr=u._emscripten_bind_Frame_GetBuffer_0=A.ab)(d),zn=u._emscripten_bind_Frame_GetBufferSize_0=d=>(zn=u._emscripten_bind_Frame_GetBufferSize_0=A.bb)(d),Or=u._emscripten_bind_Frame_GetScaleX_0=d=>(Or=u._emscripten_bind_Frame_GetScaleX_0=A.cb)(d),ar=u._emscripten_bind_Frame_GetScaleY_0=d=>(ar=u._emscripten_bind_Frame_GetScaleY_0=A.db)(d),We=u._emscripten_bind_Frame___destroy___0=d=>(We=u._emscripten_bind_Frame___destroy___0=A.eb)(d),p=u._emscripten_bind_DbBackup_Init_1=(d,y)=>(p=u._emscripten_bind_DbBackup_Init_1=A.fb)(d,y),x=u._emscripten_bind_DbBackup_IsInProgress_0=d=>(x=u._emscripten_bind_DbBackup_IsInProgress_0=A.gb)(d),re=u._emscripten_bind_DbBackup_IsDone_0=d=>(re=u._emscripten_bind_DbBackup_IsDone_0=A.hb)(d),Fe=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=d=>(Fe=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=A.ib)(d),Qe=u._emscripten_bind_DbBackup_Save_0=d=>(Qe=u._emscripten_bind_DbBackup_Save_0=A.jb)(d),gn=u._emscripten_bind_DbBackup_Skip_0=d=>(gn=u._emscripten_bind_DbBackup_Skip_0=A.kb)(d),sn=u._emscripten_bind_DbBackup_GetArchivePtr_0=d=>(sn=u._emscripten_bind_DbBackup_GetArchivePtr_0=A.lb)(d),Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=d=>(Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=A.mb)(d),lr=u._emscripten_bind_DbBackup___destroy___0=d=>(lr=u._emscripten_bind_DbBackup___destroy___0=A.nb)(d),Lo=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d=>(Lo=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=A.ob)(d),jn=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d=>(jn=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=A.pb)(d),ja=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d=>(ja=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=A.qb)(d),xo=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d=>(xo=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=A.rb)(d),pt=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d=>(pt=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=A.sb)(d),fa=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(d,y)=>(fa=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=A.tb)(d,y),$s=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d=>($s=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=A.ub)(d),Ul=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d=>(Ul=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=A.vb)(d),Ga=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(d,y)=>(Ga=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=A.wb)(d,y),mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d=>(mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=A.xb)(d),an=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d=>(an=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=A.yb)(d),mi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d=>(mi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=A.zb)(d),oi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d=>(oi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=A.Ab)(d),Hl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(d,y,q)=>(Hl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=A.Bb)(d,y,q),qd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d=>(qd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=A.Cb)(d),I_=u._emscripten_bind_SuspendContext_GetKind_0=d=>(I_=u._emscripten_bind_SuspendContext_GetKind_0=A.Db)(d),zl=u._emscripten_bind_SuspendContext_Cancel_0=d=>(zl=u._emscripten_bind_SuspendContext_Cancel_0=A.Eb)(d),pu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d=>(pu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=A.Fb)(d),Ic=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d=>(Ic=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=A.Gb)(d),oh=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d=>(oh=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=A.Hb)(d),ih=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d=>(ih=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=A.Ib)(d),sh=u._emscripten_bind_SuspendContext___destroy___0=d=>(sh=u._emscripten_bind_SuspendContext___destroy___0=A.Jb)(d),Yd=u._emscripten_bind_SessionImage_SessionImage_0=()=>(Yd=u._emscripten_bind_SessionImage_SessionImage_0=A.Kb)(),yl=u._emscripten_bind_SessionImage_GetDeviceId_0=d=>(yl=u._emscripten_bind_SessionImage_GetDeviceId_0=A.Lb)(d),ah=u._emscripten_bind_SessionImage_SetDeviceId_1=(d,y)=>(ah=u._emscripten_bind_SessionImage_SetDeviceId_1=A.Mb)(d,y),pa=u._emscripten_bind_SessionImage_GetRomImage_0=d=>(pa=u._emscripten_bind_SessionImage_GetRomImage_0=A.Nb)(d),lh=u._emscripten_bind_SessionImage_GetRomImageSize_0=d=>(lh=u._emscripten_bind_SessionImage_GetRomImageSize_0=A.Ob)(d),ce=u._emscripten_bind_SessionImage_SetRomImage_2=(d,y,q)=>(ce=u._emscripten_bind_SessionImage_SetRomImage_2=A.Pb)(d,y,q),Kd=u._emscripten_bind_SessionImage_GetMemoryImage_0=d=>(Kd=u._emscripten_bind_SessionImage_GetMemoryImage_0=A.Qb)(d),rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=d=>(rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=A.Rb)(d),xc=u._emscripten_bind_SessionImage_SetMemoryImage_2=(d,y,q)=>(xc=u._emscripten_bind_SessionImage_SetMemoryImage_2=A.Sb)(d,y,q),hu=u._emscripten_bind_SessionImage_GetMetadata_0=d=>(hu=u._emscripten_bind_SessionImage_GetMetadata_0=A.Tb)(d),Wl=u._emscripten_bind_SessionImage_GetMetadataSize_0=d=>(Wl=u._emscripten_bind_SessionImage_GetMetadataSize_0=A.Ub)(d),ch=u._emscripten_bind_SessionImage_SetMetadata_2=(d,y,q)=>(ch=u._emscripten_bind_SessionImage_SetMetadata_2=A.Vb)(d,y,q),uh=u._emscripten_bind_SessionImage_GetSavestate_0=d=>(uh=u._emscripten_bind_SessionImage_GetSavestate_0=A.Wb)(d),dh=u._emscripten_bind_SessionImage_GetSavestateSize_0=d=>(dh=u._emscripten_bind_SessionImage_GetSavestateSize_0=A.Xb)(d),Bs=u._emscripten_bind_SessionImage_SetSavestate_2=(d,y,q)=>(Bs=u._emscripten_bind_SessionImage_SetSavestate_2=A.Yb)(d,y,q),Tc=u._emscripten_bind_SessionImage_GetVersion_0=d=>(Tc=u._emscripten_bind_SessionImage_GetVersion_0=A.Zb)(d),es=u._emscripten_bind_SessionImage_Serialize_0=d=>(es=u._emscripten_bind_SessionImage_Serialize_0=A._b)(d),_s=u._emscripten_bind_SessionImage_GetSerializedImage_0=d=>(_s=u._emscripten_bind_SessionImage_GetSerializedImage_0=A.$b)(d),Qn=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=d=>(Qn=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=A.ac)(d),Xd=u._emscripten_bind_SessionImage_Deserialize_2=(d,y,q)=>(Xd=u._emscripten_bind_SessionImage_Deserialize_2=A.bc)(d,y,q),mu=u._emscripten_bind_SessionImage___destroy___0=d=>(mu=u._emscripten_bind_SessionImage___destroy___0=A.cc)(d),Qd=u._emscripten_bind_SkinLoader_SkinLoader_1=d=>(Qd=u._emscripten_bind_SkinLoader_SkinLoader_1=A.dc)(d),Jd=u._emscripten_bind_SkinLoader_GetData_0=d=>(Jd=u._emscripten_bind_SkinLoader_GetData_0=A.ec)(d),Zl=u._emscripten_bind_SkinLoader_GetSize_0=d=>(Zl=u._emscripten_bind_SkinLoader_GetSize_0=A.fc)(d),ef=u._emscripten_bind_SkinLoader___destroy___0=d=>(ef=u._emscripten_bind_SkinLoader___destroy___0=A.gc)(d),tf=u._emscripten_bind_GunzipContext_GunzipContext_3=(d,y,q)=>(tf=u._emscripten_bind_GunzipContext_GunzipContext_3=A.hc)(d,y,q),fh=u._emscripten_bind_GunzipContext_GetState_0=d=>(fh=u._emscripten_bind_GunzipContext_GetState_0=A.ic)(d),nf=u._emscripten_bind_GunzipContext_Continue_0=d=>(nf=u._emscripten_bind_GunzipContext_Continue_0=A.jc)(d),ph=u._emscripten_bind_GunzipContext_GetUncompressedData_0=d=>(ph=u._emscripten_bind_GunzipContext_GetUncompressedData_0=A.kc)(d),hh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=d=>(hh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=A.lc)(d),ts=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=d=>(ts=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=A.mc)(d),mh=u._emscripten_bind_GunzipContext_GetError_0=d=>(mh=u._emscripten_bind_GunzipContext_GetError_0=A.nc)(d),rf=u._emscripten_bind_GunzipContext___destroy___0=d=>(rf=u._emscripten_bind_GunzipContext___destroy___0=A.oc)(d),gh=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(d,y)=>(gh=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=A.pc)(d,y),_h=u._emscripten_bind_ZipfileWalker_GetState_0=d=>(_h=u._emscripten_bind_ZipfileWalker_GetState_0=A.qc)(d),vh=u._emscripten_bind_ZipfileWalker_Next_0=d=>(vh=u._emscripten_bind_ZipfileWalker_Next_0=A.rc)(d),yh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=d=>(yh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=A.sc)(d),sf=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d=>(sf=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=A.tc)(d),bh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d=>(bh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=A.uc)(d),Ch=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d=>(Ch=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=A.vc)(d),Sh=u._emscripten_bind_ZipfileWalker___destroy___0=d=>(Sh=u._emscripten_bind_ZipfileWalker___destroy___0=A.wc)(d),Ze=()=>(Ze=A.xc)(),wh=d=>(wh=A.zc)(d);function $o(){function d(){_n||(_n=!0,u.calledRun=!0,!le&&(function at(){Rn(Gt)}(),function $t(){Rn(Ne)}(),Z(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),ha&&function To(){var d=Sn;try{var ke=d(0,0);return cs(ke),ke}catch(It){return(d=>{if(d instanceof wo||"unwind"==d)return se;I(1,d)})(It)}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),ze.unshift(d);var d;Rn(ze)}()))}wt>0||(function je(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),ht.unshift(d);var d;Rn(ht)}(),wt>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),d()},1)):d())}if(u.___original_main=()=>(u.___original_main=A.Ac)(),u.___start_em_js=1472695,u.___stop_em_js=1472794,u.addFunction=(d,y)=>{var q=(d=>($||($=new WeakMap,((d,y)=>{if($)for(var q=0;q<0+y;q++){var ke=m(q);ke&&$.set(ke,q)}})(0,ut.length)),$.get(d)||0))(d);if(q)return q;var ke=(()=>{if(Me.length)return Me.pop();try{ut.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return ut.length-1})();try{Ke(ke,d)}catch(en){if(!(en instanceof TypeError))throw en;var It=((d,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((d=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},q={parameters:[],results:"v"==d[0]?[]:[y[d[0]]]},ke=1;ke<d.length;++ke)q.parameters.push(y[d[ke]]);return q})(y),d);var q=[1];((d,y)=>{var q=d.slice(0,1),ke=d.slice(1),It={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),nt(ke.length,y);for(var en=0;en<ke.length;++en)y.push(It[ke[en]]);"v"==q?y.push(0):y.push(1,It[q])})(y,q);var ke=[0,97,115,109,1,0,0,0,1];nt(q.length,ke),ke.push.apply(ke,q),ke.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var It=new WebAssembly.Module(new Uint8Array(ke));return new WebAssembly.Instance(It,{e:{f:d}}).exports.f})(d,y);Ke(ke,It)}return $.set(d,ke),ke},u.UTF8ToString=Zn,jt=function d(){_n||$o(),_n||(jt=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var ha=!0;function Mn(){}function Vs(d){return(d||Mn).__cache__}function Gn(d,y){var q=Vs(y),ke=q[d];return ke||((ke=Object.create((y||Mn).prototype)).ptr=d,q[d]=ke)}u.noInitialRun&&(ha=!1),$o(),(Mn.prototype=Object.create(Mn.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},u.WrapperObject=Mn,u.getCache=Vs,u.wrapPointer=Gn,u.castObject=function gu(d,y){return Gn(d.ptr,y)},u.NULL=Gn(0),u.destroy=function T_(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Vs(d.__class__)[d.ptr]},u.compare=function M_(d,y){return d.ptr===y.ptr},u.getPointer=function so(d){return d.ptr},u.getClass=function gt(d){return d.__class__};var it={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(it.needed){for(var d=0;d<it.temps.length;d++)u._webidl_free(it.temps[d]);it.temps.length=0,u._webidl_free(it.buffer),it.buffer=0,it.size+=it.needed,it.needed=0}it.buffer||(it.size+=128,it.buffer=u._webidl_malloc(it.size),xe(it.buffer)),it.pos=0},alloc(d,y){xe(it.buffer);var It,ke=d.length*y.BYTES_PER_ELEMENT;return it.pos+(ke=ke+7&-8)>=it.size?(xe(ke>0),it.needed+=ke,It=u._webidl_malloc(ke),it.temps.push(It)):(It=it.buffer+it.pos,it.pos+=ke),It},copy(d,y,q){switch(q>>>=0,y.BYTES_PER_ELEMENT){case 2:q>>>=1;break;case 4:q>>>=2;break;case 8:q>>>=3}for(var It=0;It<d.length;It++)y[q+It]=d[It]}};function Dn(d){if("string"==typeof d){var y=ni(d),q=it.alloc(y,Re);return it.copy(y,Re,q),q}return d}function An(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ae(){this.ptr=Kn(),Vs(Ae)[this.ptr]=this}function nr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=Rr(d,y),Vs(nr)[this.ptr]=this}function kn(){throw"cannot construct a Frame, no constructor in IDL"}function tn(){throw"cannot construct a DbBackup, no constructor in IDL"}function ur(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Mo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Wt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function ao(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function to(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Zt(){this.ptr=Yd(),Vs(Zt)[this.ptr]=this}function Un(d){it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),this.ptr=Qd(d),Vs(Un)[this.ptr]=this}function Nr(d,y,q){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),q&&"object"==typeof q&&(q=q.ptr),this.ptr=tf(d,y,q),Vs(Nr)[this.ptr]=this}function Tr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=gh(d,y),Vs(Tr)[this.ptr]=this}return(An.prototype=Object.create(Mn.prototype)).constructor=An,An.prototype.__class__=An,An.__cache__={},u.VoidPtr=An,An.prototype.__destroy__=An.prototype.__destroy__=function(){Wr(this.ptr)},(Ae.prototype=Object.create(Mn.prototype)).constructor=Ae,Ae.prototype.__class__=Ae,Ae.__cache__={},u.Cloudpilot=Ae,Ae.prototype.Malloc=Ae.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Gn(Yi(this.ptr,d),An)},Ae.prototype.Free=Ae.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Bn(this.ptr,d)},Ae.prototype.Nullptr=Ae.prototype.Nullptr=function(){return Gn(Fo(this.ptr),An)},Ae.prototype.InitializeSession=Ae.prototype.InitializeSession=function(d,y,q){var ke=this.ptr;return it.prepare(),d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),q=q&&"object"==typeof q?q.ptr:Dn(q),!!Io(ke,d,y,q)},Ae.prototype.GetCyclesPerSecond=Ae.prototype.GetCyclesPerSecond=function(){return Ki(this.ptr)},Ae.prototype.RunEmulation=Ae.prototype.RunEmulation=function(d){return d&&"object"==typeof d&&(d=d.ptr),ka(this.ptr,d)},Ae.prototype.SetClockFactor=Ae.prototype.SetClockFactor=function(d){d&&"object"==typeof d&&(d=d.ptr),na(this.ptr,d)},Ae.prototype.CopyFrame=Ae.prototype.CopyFrame=function(){return Gn(Ps(this.ptr),kn)},Ae.prototype.IsScreenDirty=Ae.prototype.IsScreenDirty=function(){return!!ra(this.ptr)},Ae.prototype.MarkScreenClean=Ae.prototype.MarkScreenClean=function(){Xi(this.ptr)},Ae.prototype.MinMemoryForDevice=Ae.prototype.MinMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Ra(y,d)},Ae.prototype.FramebufferSizeForDevice=Ae.prototype.FramebufferSizeForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),oa(y,d)},Ae.prototype.TotalMemoryForDevice=Ae.prototype.TotalMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ia(y,d)},Ae.prototype.QueuePenMove=Ae.prototype.QueuePenMove=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Pa(this.ptr,d,y)},Ae.prototype.QueuePenUp=Ae.prototype.QueuePenUp=function(){Oa(this.ptr)},Ae.prototype.QueueButtonDown=Ae.prototype.QueueButtonDown=function(d){d&&"object"==typeof d&&(d=d.ptr),Na(this.ptr,d)},Ae.prototype.QueueButtonUp=Ae.prototype.QueueButtonUp=function(d){d&&"object"==typeof d&&(d=d.ptr),Fa(this.ptr,d)},Ae.prototype.QueueKeyboardEvent=Ae.prototype.QueueKeyboardEvent=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),sa(this.ptr,d,y)},Ae.prototype.IsPowerOff=Ae.prototype.IsPowerOff=function(){return!!La(this.ptr)},Ae.prototype.IsUIInitialized=Ae.prototype.IsUIInitialized=function(){return!!$a(this.ptr)},Ae.prototype.GetOSVersion=Ae.prototype.GetOSVersion=function(){return Er(this.ptr)},Ae.prototype.IsSetupComplete=Ae.prototype.IsSetupComplete=function(){return!!aa(this.ptr)},Ae.prototype.Reset=Ae.prototype.Reset=function(){po(this.ptr)},Ae.prototype.ResetNoExtensions=Ae.prototype.ResetNoExtensions=function(){Ht(this.ptr)},Ae.prototype.ResetHard=Ae.prototype.ResetHard=function(){la(this.ptr)},Ae.prototype.InstallDb=Ae.prototype.InstallDb=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Os(this.ptr,d,y)},Ae.prototype.GetPalette2bitMapping=Ae.prototype.GetPalette2bitMapping=function(){return eo(this.ptr)},Ae.prototype.GetMemoryPtr=Ae.prototype.GetMemoryPtr=function(){return Gn(Ns(this.ptr),An)},Ae.prototype.GetDirtyPagesPtr=Ae.prototype.GetDirtyPagesPtr=function(){return Gn(Ba(this.ptr),An)},Ae.prototype.GetMemorySize=Ae.prototype.GetMemorySize=function(){return Vn(this.ptr)},Ae.prototype.ImportMemoryImage=Ae.prototype.ImportMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!ps(this.ptr,d,y)},Ae.prototype.GetRomPtr=Ae.prototype.GetRomPtr=function(){return Gn(Ir(this.ptr),An)},Ae.prototype.GetRomSize=Ae.prototype.GetRomSize=function(){return Fs(this.ptr)},Ae.prototype.GetSavestatePtr=Ae.prototype.GetSavestatePtr=function(){return Gn(ml(this.ptr),An)},Ae.prototype.GetSavestateSize=Ae.prototype.GetSavestateSize=function(){return Va(this.ptr)},Ae.prototype.SaveState=Ae.prototype.SaveState=function(){return!!Hn(this.ptr)},Ae.prototype.LoadState=Ae.prototype.LoadState=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Yt(this.ptr,d,y)},Ae.prototype.GetHotsyncName=Ae.prototype.GetHotsyncName=function(){return Zn(hs(this.ptr))},Ae.prototype.SetHotsyncName=Ae.prototype.SetHotsyncName=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Ls(y,d)},Ae.prototype.RegisterPwmHandler=Ae.prototype.RegisterPwmHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),gl(this.ptr,d)},Ae.prototype.StartBackup=Ae.prototype.StartBackup=function(){return Gn(ca(this.ptr),tn)},Ae.prototype.SetClipboardIntegration=Ae.prototype.SetClipboardIntegration=function(d){d&&"object"==typeof d&&(d=d.ptr),Xe(this.ptr,d)},Ae.prototype.GetClipboardIntegration=Ae.prototype.GetClipboardIntegration=function(){return!!Qi(this.ptr)},Ae.prototype.IsSuspended=Ae.prototype.IsSuspended=function(){return!!ms(this.ptr)},Ae.prototype.GetSuspendContext=Ae.prototype.GetSuspendContext=function(){return Gn(Ji(this.ptr),to)},Ae.prototype.SetNetworkRedirection=Ae.prototype.SetNetworkRedirection=function(d){d&&"object"==typeof d&&(d=d.ptr),ua(this.ptr,d)},Ae.prototype.GetNetworkRedirection=Ae.prototype.GetNetworkRedirection=function(){return!!da(this.ptr)},Ae.prototype.RegisterProxyDisconnectHandler=Ae.prototype.RegisterProxyDisconnectHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),ri(this.ptr,d)},Ae.prototype.SetHotsyncNameManagement=Ae.prototype.SetHotsyncNameManagement=function(d){d&&"object"==typeof d&&(d=d.ptr),br(this.ptr,d)},Ae.prototype.LaunchAppByName=Ae.prototype.LaunchAppByName=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!qo(y,d)},Ae.prototype.LaunchAppByDbHeader=Ae.prototype.LaunchAppByDbHeader=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Bt(this.ptr,d,y)},Ae.prototype.DeviceSupportsCardSize=Ae.prototype.DeviceSupportsCardSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Fn(this.ptr,d)},Ae.prototype.ClearExternalStorage=Ae.prototype.ClearExternalStorage=function(){jl(this.ptr)},Ae.prototype.AllocateCard=Ae.prototype.AllocateCard=function(d,y){var q=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),y&&"object"==typeof y&&(y=y.ptr),!!_l(q,d,y)},Ae.prototype.AdoptCard=Ae.prototype.AdoptCard=function(d,y,q){var ke=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),y&&"object"==typeof y&&(y=y.ptr),q&&"object"==typeof q&&(q=q.ptr),!!vl(ke,d,y,q)},Ae.prototype.MountCard=Ae.prototype.MountCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Gl(y,d)},Ae.prototype.RemoveCard=Ae.prototype.RemoveCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!qn(y,d)},Ae.prototype.GetCardData=Ae.prototype.GetCardData=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Gn(gs(y,d),An)},Ae.prototype.GetCardDirtyPages=Ae.prototype.GetCardDirtyPages=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Gn(Ln(y,d),An)},Ae.prototype.GetCardSize=Ae.prototype.GetCardSize=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ho(y,d)},Ae.prototype.RemountCards=Ae.prototype.RemountCards=function(){mo(this.ptr)},Ae.prototype.GetSupportLevel=Ae.prototype.GetSupportLevel=function(d){return d&&"object"==typeof d&&(d=d.ptr),Zr(this.ptr,d)},Ae.prototype.GetMountedKey=Ae.prototype.GetMountedKey=function(){return Zn(Yn(this.ptr))},Ae.prototype.__destroy__=Ae.prototype.__destroy__=function(){Xn(this.ptr)},(nr.prototype=Object.create(Mn.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},u.RomInfo=nr,nr.prototype.IsValid=nr.prototype.IsValid=function(){return!!xr(this.ptr)},nr.prototype.CardVersion=nr.prototype.CardVersion=function(){return v(this.ptr)},nr.prototype.CardName=nr.prototype.CardName=function(){return Zn(G(this.ptr))},nr.prototype.RomVersion=nr.prototype.RomVersion=function(){return oe(this.ptr)},nr.prototype.RomVersionString=nr.prototype.RomVersionString=function(){return Zn(Oe(this.ptr))},nr.prototype.Supports=nr.prototype.Supports=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!bt(y,d)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){qt(this.ptr)},(kn.prototype=Object.create(Mn.prototype)).constructor=kn,kn.prototype.__class__=kn,kn.__cache__={},u.Frame=kn,kn.prototype.GetLineWidth=kn.prototype.GetLineWidth=function(){return ot(this.ptr)},kn.prototype.GetBpp=kn.prototype.GetBpp=function(){return hn(this.ptr)},kn.prototype.GetLines=kn.prototype.GetLines=function(){return ir(this.ptr)},kn.prototype.GetMargin=kn.prototype.GetMargin=function(){return zt(this.ptr)},kn.prototype.GetBytesPerLine=kn.prototype.GetBytesPerLine=function(){return Pr(this.ptr)},kn.prototype.GetFirstDirtyLine=kn.prototype.GetFirstDirtyLine=function(){return $e(this.ptr)},kn.prototype.GetLastDirtyLine=kn.prototype.GetLastDirtyLine=function(){return wn(this.ptr)},kn.prototype.GetHasChanges=kn.prototype.GetHasChanges=function(){return!!ct(this.ptr)},kn.prototype.GetBuffer=kn.prototype.GetBuffer=function(){return Gn(sr(this.ptr),An)},kn.prototype.GetBufferSize=kn.prototype.GetBufferSize=function(){return zn(this.ptr)},kn.prototype.GetScaleX=kn.prototype.GetScaleX=function(){return Or(this.ptr)},kn.prototype.GetScaleY=kn.prototype.GetScaleY=function(){return ar(this.ptr)},kn.prototype.__destroy__=kn.prototype.__destroy__=function(){We(this.ptr)},(tn.prototype=Object.create(Mn.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},u.DbBackup=tn,tn.prototype.Init=tn.prototype.Init=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!p(this.ptr,d)},tn.prototype.IsInProgress=tn.prototype.IsInProgress=function(){return!!x(this.ptr)},tn.prototype.IsDone=tn.prototype.IsDone=function(){return!!re(this.ptr)},tn.prototype.GetCurrentDatabase=tn.prototype.GetCurrentDatabase=function(){return Zn(Fe(this.ptr))},tn.prototype.Save=tn.prototype.Save=function(){return!!Qe(this.ptr)},tn.prototype.Skip=tn.prototype.Skip=function(){gn(this.ptr)},tn.prototype.GetArchivePtr=tn.prototype.GetArchivePtr=function(){return Gn(sn(this.ptr),An)},tn.prototype.GetArchiveSize=tn.prototype.GetArchiveSize=function(){return Kt(this.ptr)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){lr(this.ptr)},(ur.prototype=Object.create(Mn.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},u.SuspendContextClipboardCopy=ur,ur.prototype.Cancel=ur.prototype.Cancel=function(){Lo(this.ptr)},ur.prototype.Resume=ur.prototype.Resume=function(){jn(this.ptr)},ur.prototype.GetClipboardContent=ur.prototype.GetClipboardContent=function(){return Zn(ja(this.ptr))},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){xo(this.ptr)},(Mo.prototype=Object.create(Mn.prototype)).constructor=Mo,Mo.prototype.__class__=Mo,Mo.__cache__={},u.SuspendContextClipboardPaste=Mo,Mo.prototype.Cancel=Mo.prototype.Cancel=function(){pt(this.ptr)},Mo.prototype.Resume=Mo.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),fa(y,d)},Mo.prototype.__destroy__=Mo.prototype.__destroy__=function(){$s(this.ptr)},(Wt.prototype=Object.create(Mn.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},u.SuspendContextNetworkConnect=Wt,Wt.prototype.Cancel=Wt.prototype.Cancel=function(){Ul(this.ptr)},Wt.prototype.Resume=Wt.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Ga(y,d)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){mt(this.ptr)},(ao.prototype=Object.create(Mn.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},u.SuspendContextNetworkRpc=ao,ao.prototype.Cancel=ao.prototype.Cancel=function(){an(this.ptr)},ao.prototype.GetRequestSize=ao.prototype.GetRequestSize=function(){return mi(this.ptr)},ao.prototype.GetRequestData=ao.prototype.GetRequestData=function(){return Gn(oi(this.ptr),An)},ao.prototype.ReceiveResponse=ao.prototype.ReceiveResponse=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Hl(this.ptr,d,y)},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){qd(this.ptr)},(to.prototype=Object.create(Mn.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},u.SuspendContext=to,to.prototype.GetKind=to.prototype.GetKind=function(){return I_(this.ptr)},to.prototype.Cancel=to.prototype.Cancel=function(){zl(this.ptr)},to.prototype.AsContextClipboardCopy=to.prototype.AsContextClipboardCopy=function(){return Gn(pu(this.ptr),ur)},to.prototype.AsContextClipboardPaste=to.prototype.AsContextClipboardPaste=function(){return Gn(Ic(this.ptr),Mo)},to.prototype.AsContextNetworkConnect=to.prototype.AsContextNetworkConnect=function(){return Gn(oh(this.ptr),Wt)},to.prototype.AsContextNetworkRpc=to.prototype.AsContextNetworkRpc=function(){return Gn(ih(this.ptr),ao)},to.prototype.__destroy__=to.prototype.__destroy__=function(){sh(this.ptr)},(Zt.prototype=Object.create(Mn.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},u.SessionImage=Zt,Zt.prototype.GetDeviceId=Zt.prototype.GetDeviceId=function(){return Zn(yl(this.ptr))},Zt.prototype.SetDeviceId=Zt.prototype.SetDeviceId=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Gn(ah(y,d),Zt)},Zt.prototype.GetRomImage=Zt.prototype.GetRomImage=function(){return Gn(pa(this.ptr),An)},Zt.prototype.GetRomImageSize=Zt.prototype.GetRomImageSize=function(){return lh(this.ptr)},Zt.prototype.SetRomImage=Zt.prototype.SetRomImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(ce(this.ptr,d,y),Zt)},Zt.prototype.GetMemoryImage=Zt.prototype.GetMemoryImage=function(){return Gn(Kd(this.ptr),An)},Zt.prototype.GetMemoryImageSize=Zt.prototype.GetMemoryImageSize=function(){return rt(this.ptr)},Zt.prototype.SetMemoryImage=Zt.prototype.SetMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(xc(this.ptr,d,y),Zt)},Zt.prototype.GetMetadata=Zt.prototype.GetMetadata=function(){return Gn(hu(this.ptr),An)},Zt.prototype.GetMetadataSize=Zt.prototype.GetMetadataSize=function(){return Wl(this.ptr)},Zt.prototype.SetMetadata=Zt.prototype.SetMetadata=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(ch(this.ptr,d,y),Zt)},Zt.prototype.GetSavestate=Zt.prototype.GetSavestate=function(){return Gn(uh(this.ptr),An)},Zt.prototype.GetSavestateSize=Zt.prototype.GetSavestateSize=function(){return dh(this.ptr)},Zt.prototype.SetSavestate=Zt.prototype.SetSavestate=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Gn(Bs(this.ptr,d,y),Zt)},Zt.prototype.GetVersion=Zt.prototype.GetVersion=function(){return Tc(this.ptr)},Zt.prototype.Serialize=Zt.prototype.Serialize=function(){return!!es(this.ptr)},Zt.prototype.GetSerializedImage=Zt.prototype.GetSerializedImage=function(){return Gn(_s(this.ptr),An)},Zt.prototype.GetSerializedImageSize=Zt.prototype.GetSerializedImageSize=function(){return Qn(this.ptr)},Zt.prototype.Deserialize=Zt.prototype.Deserialize=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Xd(this.ptr,d,y)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){mu(this.ptr)},(Un.prototype=Object.create(Mn.prototype)).constructor=Un,Un.prototype.__class__=Un,Un.__cache__={},u.SkinLoader=Un,Un.prototype.GetData=Un.prototype.GetData=function(){return Gn(Jd(this.ptr),An)},Un.prototype.GetSize=Un.prototype.GetSize=function(){return Zl(this.ptr)},Un.prototype.__destroy__=Un.prototype.__destroy__=function(){ef(this.ptr)},(Nr.prototype=Object.create(Mn.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},u.GunzipContext=Nr,Nr.prototype.GetState=Nr.prototype.GetState=function(){return fh(this.ptr)},Nr.prototype.Continue=Nr.prototype.Continue=function(){return nf(this.ptr)},Nr.prototype.GetUncompressedData=Nr.prototype.GetUncompressedData=function(){return Gn(ph(this.ptr),An)},Nr.prototype.ReleaseUncompressedData=Nr.prototype.ReleaseUncompressedData=function(){return Gn(hh(this.ptr),An)},Nr.prototype.GetUncompressedSize=Nr.prototype.GetUncompressedSize=function(){return ts(this.ptr)},Nr.prototype.GetError=Nr.prototype.GetError=function(){return Zn(mh(this.ptr))},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){rf(this.ptr)},(Tr.prototype=Object.create(Mn.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},u.ZipfileWalker=Tr,Tr.prototype.GetState=Tr.prototype.GetState=function(){return _h(this.ptr)},Tr.prototype.Next=Tr.prototype.Next=function(){return vh(this.ptr)},Tr.prototype.GetTotalEntries=Tr.prototype.GetTotalEntries=function(){return yh(this.ptr)},Tr.prototype.GetCurrentEntrySize=Tr.prototype.GetCurrentEntrySize=function(){return sf(this.ptr)},Tr.prototype.GetCurrentEntryName=Tr.prototype.GetCurrentEntryName=function(){return Zn(bh(this.ptr))},Tr.prototype.GetCurrentEntryContent=Tr.prototype.GetCurrentEntryContent=function(){return Gn(Ch(this.ptr),An)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){Sh(this.ptr)},S.ready});me.exports=we},3097:me=>{var C,we=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Z,Y,u=S;u.ready=new Promise((v,G)=>{Z=v,Y=G});var ve,j=Object.assign({},u),E="./this.program",I=(v,G)=>{throw G},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(ve=v=>{var G=new XMLHttpRequest;return G.open("GET",v,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}));var M,ie=u.print||console.log.bind(console),H=u.printErr||console.error.bind(console);Object.assign(u,j),j=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&ge("no native wasm support detected");var J,se,Re,O,D,X,he,le=!1;function xe(v,G){v||ge(G)}function Be(){var v=J.buffer;u.HEAP8=Re=new Int8Array(v),u.HEAP16=new Int16Array(v),u.HEAPU8=O=new Uint8Array(v),u.HEAPU16=new Uint16Array(v),u.HEAP32=D=new Int32Array(v),u.HEAPU32=X=new Uint32Array(v),u.HEAPF32=new Float32Array(v),u.HEAPF64=he=new Float64Array(v)}var ht=[],Gt=[],Ne=[],ze=[],wt=0,Ut=null,jt=null;function ge(v){u.onAbort&&u.onAbort(v),H(v="Aborted("+v+")"),le=!0,se=1,v+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(v);throw Y(G),G}var Jt,yt=v=>v.startsWith("data:application/octet-stream;base64,"),Nt=0;function dn(v){return function(){if(le)throw"program has already aborted!";Nt+=1;try{return v.apply(null,arguments)}catch(G){if(le||Nt>1||G===1/0||"unwind"===G)throw G;ge("unhandled exception: "+[G,G.stack])}finally{Nt-=1}}}function _r(v){if(v==Jt&&M)return new Uint8Array(M);if(ve)return ve(v);throw"both async and sync fetching of the wasm failed"}function Wo(v,G,oe){return function Wn(v){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>_r(v)):fetch(v,{credentials:"same-origin"}).then(G=>{if(!G.ok)throw"failed to load wasm binary file at '"+v+"'";return G.arrayBuffer()}).catch(()=>_r(v))}(v).then(Oe=>WebAssembly.instantiate(Oe,G)).then(Oe=>Oe).then(oe,Oe=>{H(`failed to asynchronously prepare wasm: ${Oe}`),ge(Oe)})}yt(Jt="fstools_web.wasm")||(Jt=function T(v){return u.locateFile?u.locateFile(v,P):P+v}(Jt));var Rn,Br={1093102:()=>{throw new Error("terminated")}};function Hr(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var go,ro=v=>{for(;v.length>0;)v.shift()(u)},Zn=u.noExitRuntime||!0,Vr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pe=(v,G,oe)=>{for(var Oe=G+oe,bt=G;v[bt]&&!(bt>=Oe);)++bt;if(bt-G>16&&v.buffer&&Vr)return Vr.decode(v.subarray(G,bt));for(var qt="";G<bt;){var ot=v[G++];if(128&ot){var hn=63&v[G++];if(192!=(224&ot)){var ir=63&v[G++];if((ot=224==(240&ot)?(15&ot)<<12|hn<<6|ir:(7&ot)<<18|hn<<12|ir<<6|63&v[G++])<65536)qt+=String.fromCharCode(ot);else{var zt=ot-65536;qt+=String.fromCharCode(55296|zt>>10,56320|1023&zt)}}else qt+=String.fromCharCode((31&ot)<<6|hn)}else qt+=String.fromCharCode(ot)}return qt},be=(v,G)=>v?pe(O,v,G):"",mn={varargs:void 0,get(){var v=D[+mn.varargs>>2];return mn.varargs+=4,v},getp:()=>mn.get(),getStr:v=>be(v)},Cn=(v,G)=>G+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*G:NaN,wr=v=>v%4==0&&(v%100!=0||v%400==0),_o=[0,31,60,91,121,152,182,213,244,274,305,335],On=[0,31,59,90,120,151,181,212,243,273,304,334],Do=v=>(wr(v.getFullYear())?_o:On)[v.getMonth()]+v.getDate()-1,In=v=>{for(var G=0,oe=0;oe<v.length;++oe){var Oe=v.charCodeAt(oe);Oe<=127?G++:Oe<=2047?G+=2:Oe>=55296&&Oe<=57343?(G+=4,++oe):G+=3}return G},vr=(v,G,oe,Oe)=>{if(!(Oe>0))return 0;for(var bt=oe,qt=oe+Oe-1,ot=0;ot<v.length;++ot){var hn=v.charCodeAt(ot);if(hn>=55296&&hn<=57343&&(hn=65536+((1023&hn)<<10)|1023&v.charCodeAt(++ot)),hn<=127){if(oe>=qt)break;G[oe++]=hn}else if(hn<=2047){if(oe+1>=qt)break;G[oe++]=192|hn>>6,G[oe++]=128|63&hn}else if(hn<=65535){if(oe+2>=qt)break;G[oe++]=224|hn>>12,G[oe++]=128|hn>>6&63,G[oe++]=128|63&hn}else{if(oe+3>=qt)break;G[oe++]=240|hn>>18,G[oe++]=128|hn>>12&63,G[oe++]=128|hn>>6&63,G[oe++]=128|63&hn}}return G[oe]=0,oe-bt},xn=v=>{var G=In(v)+1,oe=ne(G);return oe&&((v,G,oe)=>{vr(v,O,G,oe)})(v,oe,G),oe},un=[],Zo=v=>{var oe=(v-J.buffer.byteLength+65535)/65536;try{return J.grow(oe),Be(),1}catch{}},li={},ci=()=>{if(!ci.strings){var G={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var oe in li)void 0===li[oe]?delete G[oe]:G[oe]=li[oe];var Oe=[];for(var oe in G)Oe.push(`${oe}=${G[oe]}`);ci.strings=Oe}return ci.strings},Ii=(v,G)=>{se=v,(v=>{se=v,Zn||(u.onExit&&u.onExit(v),le=!0),I(v,new Hr(v))})(v)},kr=[null,[],[]],Tn=(v,G)=>{var oe=kr[v];0===G||10===G?((1===v?ie:H)(pe(oe,0)),oe.length=0):oe.push(G)},Wi=[31,29,31,30,31,30,31,31,30,31,30,31],Rs=[31,28,31,30,31,30,31,31,30,31,30,31];function us(v,G,oe){var Oe=oe>0?oe:In(v)+1,bt=new Array(Oe),qt=vr(v,bt,0,bt.length);return G&&(bt.length=qt),bt}var Ji,fs={b:(v,G,oe,Oe)=>{ge(`Assertion failed: ${be(v)}, at: `+[G?be(G):"unknown filename",oe,Oe?be(Oe):"unknown function"])},n:function on(v,G,oe){Cn(G,oe)},i:function fo(v,G,oe,Oe){mn.varargs=Oe},j:function tr(v,G,oe){var Oe=Cn(v,G),bt=new Date(1e3*Oe);D[oe>>2]=bt.getUTCSeconds(),D[oe+4>>2]=bt.getUTCMinutes(),D[oe+8>>2]=bt.getUTCHours(),D[oe+12>>2]=bt.getUTCDate(),D[oe+16>>2]=bt.getUTCMonth(),D[oe+20>>2]=bt.getUTCFullYear()-1900,D[oe+24>>2]=bt.getUTCDay();var qt=Date.UTC(bt.getUTCFullYear(),0,1,0,0,0,0),ot=(bt.getTime()-qt)/864e5|0;D[oe+28>>2]=ot},k:function oo(v,G,oe){var Oe=Cn(v,G),bt=new Date(1e3*Oe);D[oe>>2]=bt.getSeconds(),D[oe+4>>2]=bt.getMinutes(),D[oe+8>>2]=bt.getHours(),D[oe+12>>2]=bt.getDate(),D[oe+16>>2]=bt.getMonth(),D[oe+20>>2]=bt.getFullYear()-1900,D[oe+24>>2]=bt.getDay();var qt=0|Do(bt);D[oe+28>>2]=qt,D[oe+36>>2]=-60*bt.getTimezoneOffset();var ot=new Date(bt.getFullYear(),0,1),hn=new Date(bt.getFullYear(),6,1).getTimezoneOffset(),ir=ot.getTimezoneOffset(),zt=0|(hn!=ir&&bt.getTimezoneOffset()==Math.min(ir,hn));D[oe+32>>2]=zt},l:function(v){var G=(()=>{var oe=new Date(D[v+20>>2]+1900,D[v+16>>2],D[v+12>>2],D[v+8>>2],D[v+4>>2],D[v>>2],0),Oe=D[v+32>>2],bt=oe.getTimezoneOffset(),qt=new Date(oe.getFullYear(),0,1),ot=new Date(oe.getFullYear(),6,1).getTimezoneOffset(),hn=qt.getTimezoneOffset(),ir=Math.min(hn,ot);if(Oe<0)D[v+32>>2]=+(ot!=hn&&ir==bt);else if(Oe>0!=(ir==bt)){var zt=Math.max(hn,ot),Pr=Oe>0?ir:zt;oe.setTime(oe.getTime()+6e4*(Pr-bt))}D[v+24>>2]=oe.getDay();var $e=0|Do(oe);D[v+28>>2]=$e,D[v>>2]=oe.getSeconds(),D[v+4>>2]=oe.getMinutes(),D[v+8>>2]=oe.getHours(),D[v+12>>2]=oe.getDate(),D[v+16>>2]=oe.getMonth(),D[v+20>>2]=oe.getYear();var wn=oe.getTime();return isNaN(wn)?(D[w()>>2]=61,-1):wn/1e3})();return ca((Rn=G,+Math.abs(Rn)>=1?Rn>0?+Math.floor(Rn/4294967296)>>>0:~~+Math.ceil((Rn-+(~~Rn>>>0))/4294967296)>>>0:0)),G>>>0},q:(v,G,oe)=>{var Oe=(new Date).getFullYear(),bt=new Date(Oe,0,1),qt=new Date(Oe,6,1),ot=bt.getTimezoneOffset(),hn=qt.getTimezoneOffset(),ir=Math.max(ot,hn);function zt(sr){var zn=sr.toTimeString().match(/\(([A-Za-z ]+)\)$/);return zn?zn[1]:"GMT"}X[v>>2]=60*ir,D[G>>2]=+(ot!=hn);var Pr=zt(bt),$e=zt(qt),wn=xn(Pr),ct=xn($e);hn<ot?(X[oe>>2]=wn,X[oe+4>>2]=ct):(X[oe>>2]=ct,X[oe+4>>2]=wn)},c:()=>{ge("")},a:(v,G,oe)=>((v,G,oe)=>{var Oe=((v,G)=>{un.length=0;for(var oe;oe=O[v++];){var Oe=105!=oe;G+=(Oe&=112!=oe)&&G%8?4:0,un.push(112==oe?X[G>>2]:105==oe?D[G>>2]:he[G>>3]),G+=Oe?8:4}return un})(G,oe);return Br[v].apply(null,Oe)})(v,G,oe),e:()=>Date.now(),g:(v,G,oe)=>O.copyWithin(v,G,G+oe),p:v=>{var ir,G=O.length,oe=2147483648;if((v>>>=0)>oe)return!1;for(var bt=1;bt<=4;bt*=2){var qt=G*(1+.2/bt);qt=Math.min(qt,v+100663296);var ot=Math.min(oe,(ir=Math.max(v,qt))+(65536-ir%65536)%65536);if(Zo(ot))return!0}return!1},r:(v,G)=>{var oe=0;return ci().forEach((Oe,bt)=>{var qt=G+oe;X[v+4*bt>>2]=qt,((v,G)=>{for(var oe=0;oe<v.length;++oe)Re[G++>>0]=v.charCodeAt(oe);Re[G>>0]=0})(Oe,qt),oe+=Oe.length+1}),0},s:(v,G)=>{var oe=ci();X[v>>2]=oe.length;var Oe=0;return oe.forEach(bt=>Oe+=bt.length+1),X[G>>2]=Oe,0},t:Ii,f:v=>52,d:(v,G,oe,Oe)=>52,m:function ni(v,G,oe,Oe,bt){return Cn(G,oe),70},h:(v,G,oe,Oe)=>{for(var bt=0,qt=0;qt<oe;qt++){var ot=X[G>>2],hn=X[G+4>>2];G+=8;for(var ir=0;ir<hn;ir++)Tn(v,O[ot+ir]);bt+=hn}return X[Oe>>2]=bt,0},o:(v,G,oe,Oe,bt)=>((v,G,oe,Oe)=>{var bt=X[Oe+40>>2],qt={tm_sec:D[Oe>>2],tm_min:D[Oe+4>>2],tm_hour:D[Oe+8>>2],tm_mday:D[Oe+12>>2],tm_mon:D[Oe+16>>2],tm_year:D[Oe+20>>2],tm_wday:D[Oe+24>>2],tm_yday:D[Oe+28>>2],tm_isdst:D[Oe+32>>2],tm_gmtoff:D[Oe+36>>2],tm_zone:bt?be(bt):""},ot=be(oe),hn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ir in hn)ot=ot.replace(new RegExp(ir,"g"),hn[ir]);var zt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pr=["January","February","March","April","May","June","July","August","September","October","November","December"];function $e(We,p,x){for(var re="number"==typeof We?We.toString():We||"";re.length<p;)re=x[0]+re;return re}function wn(We,p){return $e(We,p,"0")}function ct(We,p){function x(Fe){return Fe<0?-1:Fe>0?1:0}var re;return 0===(re=x(We.getFullYear()-p.getFullYear()))&&0===(re=x(We.getMonth()-p.getMonth()))&&(re=x(We.getDate()-p.getDate())),re}function sr(We){switch(We.getDay()){case 0:return new Date(We.getFullYear()-1,11,29);case 1:return We;case 2:return new Date(We.getFullYear(),0,3);case 3:return new Date(We.getFullYear(),0,2);case 4:return new Date(We.getFullYear(),0,1);case 5:return new Date(We.getFullYear()-1,11,31);case 6:return new Date(We.getFullYear()-1,11,30)}}function zn(We){var p=((v,G)=>{for(var oe=new Date(v.getTime());G>0;){var Oe=wr(oe.getFullYear()),bt=oe.getMonth(),qt=(Oe?Wi:Rs)[bt];if(!(G>qt-oe.getDate()))return oe.setDate(oe.getDate()+G),oe;G-=qt-oe.getDate()+1,oe.setDate(1),bt<11?oe.setMonth(bt+1):(oe.setMonth(0),oe.setFullYear(oe.getFullYear()+1))}return oe})(new Date(We.tm_year+1900,0,1),We.tm_yday),x=new Date(p.getFullYear(),0,4),re=new Date(p.getFullYear()+1,0,4),Fe=sr(x),Qe=sr(re);return ct(Fe,p)<=0?ct(Qe,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Or={"%a":We=>zt[We.tm_wday].substring(0,3),"%A":We=>zt[We.tm_wday],"%b":We=>Pr[We.tm_mon].substring(0,3),"%B":We=>Pr[We.tm_mon],"%C":We=>wn((We.tm_year+1900)/100|0,2),"%d":We=>wn(We.tm_mday,2),"%e":We=>$e(We.tm_mday,2," "),"%g":We=>zn(We).toString().substring(2),"%G":We=>zn(We),"%H":We=>wn(We.tm_hour,2),"%I":We=>{var p=We.tm_hour;return 0==p?p=12:p>12&&(p-=12),wn(p,2)},"%j":We=>wn(We.tm_mday+((v,G)=>{for(var oe=0,Oe=0;Oe<=G;oe+=v[Oe++]);return oe})(wr(We.tm_year+1900)?Wi:Rs,We.tm_mon-1),3),"%m":We=>wn(We.tm_mon+1,2),"%M":We=>wn(We.tm_min,2),"%n":()=>"\n","%p":We=>We.tm_hour>=0&&We.tm_hour<12?"AM":"PM","%S":We=>wn(We.tm_sec,2),"%t":()=>"\t","%u":We=>We.tm_wday||7,"%U":We=>wn(Math.floor((We.tm_yday+7-We.tm_wday)/7),2),"%V":We=>{var p=Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7);if((We.tm_wday+371-We.tm_yday-2)%7<=2&&p++,p){if(53==p){var re=(We.tm_wday+371-We.tm_yday)%7;4!=re&&(3!=re||!wr(We.tm_year))&&(p=1)}}else{p=52;var x=(We.tm_wday+7-We.tm_yday-1)%7;(4==x||5==x&&wr(We.tm_year%400-1))&&p++}return wn(p,2)},"%w":We=>We.tm_wday,"%W":We=>wn(Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7),2),"%y":We=>(We.tm_year+1900).toString().substring(2),"%Y":We=>We.tm_year+1900,"%z":We=>{var p=We.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":We=>We.tm_zone,"%%":()=>"%"};for(var ir in ot=ot.replace(/%%/g,"\0\0"),Or)ot.includes(ir)&&(ot=ot.replace(new RegExp(ir,"g"),Or[ir](qt)));var ar=us(ot=ot.replace(/\0\0/g,"%"),!1);return ar.length>G?0:(((v,G)=>{Re.set(v,G)})(ar,v),ar.length-1)})(v,G,oe,Oe)},ut=function wo(){var v={a:fs};function G(Oe,bt){return ut=function rn(v){var G={};for(var oe in v){var Oe=v[oe];G[oe]="function"==typeof Oe?dn(Oe):Oe}return G}(ut=Oe.exports),J=ut.u,Be(),go=ut.za,function lt(v){Gt.unshift(v)}(ut.v),function pn(){var v=go.get,G={};go.get=oe=>{var Oe=v.call(go,oe),bt=G[oe];return(!bt||bt.func!==Oe)&&(bt=G[oe]={func:Oe,wrapper:dn(Oe)}),bt.wrapper}}(),function Se(v){if(wt--,u.monitorRunDependencies&&u.monitorRunDependencies(wt),0==wt&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var G=jt;jt=null,G()}}(),ut}if(function Te(v){wt++,u.monitorRunDependencies&&u.monitorRunDependencies(wt)}(),u.instantiateWasm)try{return u.instantiateWasm(v,G)}catch(Oe){H(`Module.instantiateWasm callback failed with error: ${Oe}`),Y(Oe)}return function So(v,G,oe,Oe){return v||"function"!=typeof WebAssembly.instantiateStreaming||yt(G)||"function"!=typeof fetch?Wo(G,oe,Oe):fetch(G,{credentials:"same-origin"}).then(bt=>WebAssembly.instantiateStreaming(bt,oe).then(Oe,function(ot){return H(`wasm streaming compile failed: ${ot}`),H("falling back to ArrayBuffer instantiation"),Wo(G,oe,Oe)}))}(M,Jt,v,function oe(Oe){G(Oe.instance)}).catch(Y),{}}(),w=()=>(w=ut.w)(),ne=(u._free=v=>(u._free=ut.x)(v),u._malloc=v=>(ne=u._malloc=ut.y)(v)),Ke=(u._webidl_free=v=>(u._webidl_free=ut.z)(v),u._webidl_malloc=v=>(u._webidl_malloc=ut.A)(v),u._emscripten_bind_VoidPtr___destroy___0=v=>(Ke=u._emscripten_bind_VoidPtr___destroy___0=ut.B)(v)),Ye=u._emscripten_bind_FSTools_FSTools_0=()=>(Ye=u._emscripten_bind_FSTools_FSTools_0=ut.C)(),et=u._emscripten_bind_FSTools_Malloc_1=(v,G)=>(et=u._emscripten_bind_FSTools_Malloc_1=ut.D)(v,G),A=u._emscripten_bind_FSTools_Free_1=(v,G)=>(A=u._emscripten_bind_FSTools_Free_1=ut.E)(v,G),St=u._emscripten_bind_FSTools_Nullptr_0=v=>(St=u._emscripten_bind_FSTools_Nullptr_0=ut.F)(v),At=u._emscripten_bind_FSTools___destroy___0=v=>(At=u._emscripten_bind_FSTools___destroy___0=ut.G)(v),kt=u._emscripten_bind_MkfsContext_MkfsContext_0=()=>(kt=u._emscripten_bind_MkfsContext_MkfsContext_0=ut.H)(),Sn=u._emscripten_bind_MkfsContext_Mkfs_2=(v,G,oe)=>(Sn=u._emscripten_bind_MkfsContext_Mkfs_2=ut.I)(v,G,oe),Dr=u._emscripten_bind_MkfsContext_GetImage_0=v=>(Dr=u._emscripten_bind_MkfsContext_GetImage_0=ut.J)(v),jr=u._emscripten_bind_MkfsContext_GetImageSize_0=v=>(jr=u._emscripten_bind_MkfsContext_GetImageSize_0=ut.K)(v),Wr=u._emscripten_bind_MkfsContext___destroy___0=v=>(Wr=u._emscripten_bind_MkfsContext___destroy___0=ut.L)(v),Kn=u._emscripten_bind_FsckContext_FsckContext_1=v=>(Kn=u._emscripten_bind_FsckContext_FsckContext_1=ut.M)(v),Yi=u._emscripten_bind_FsckContext_GetImage_0=v=>(Yi=u._emscripten_bind_FsckContext_GetImage_0=ut.N)(v),Bn=u._emscripten_bind_FsckContext_GetDirtyPages_0=v=>(Bn=u._emscripten_bind_FsckContext_GetDirtyPages_0=ut.O)(v),Fo=u._emscripten_bind_FsckContext_GetImageSize_0=v=>(Fo=u._emscripten_bind_FsckContext_GetImageSize_0=ut.P)(v),Io=u._emscripten_bind_FsckContext_Fsck_0=v=>(Io=u._emscripten_bind_FsckContext_Fsck_0=ut.Q)(v),Ki=u._emscripten_bind_FsckContext_GetResult_0=v=>(Ki=u._emscripten_bind_FsckContext_GetResult_0=ut.R)(v),ka=u._emscripten_bind_FsckContext___destroy___0=v=>(ka=u._emscripten_bind_FsckContext___destroy___0=ut.S)(v),na=u._emscripten_bind_GunzipContext_GunzipContext_3=(v,G,oe)=>(na=u._emscripten_bind_GunzipContext_GunzipContext_3=ut.T)(v,G,oe),Ps=u._emscripten_bind_GunzipContext_GetState_0=v=>(Ps=u._emscripten_bind_GunzipContext_GetState_0=ut.U)(v),ra=u._emscripten_bind_GunzipContext_Continue_0=v=>(ra=u._emscripten_bind_GunzipContext_Continue_0=ut.V)(v),Xi=u._emscripten_bind_GunzipContext_GetUncompressedData_0=v=>(Xi=u._emscripten_bind_GunzipContext_GetUncompressedData_0=ut.W)(v),Ra=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=v=>(Ra=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=ut.X)(v),oa=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=v=>(oa=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=ut.Y)(v),ia=u._emscripten_bind_GunzipContext_GetError_0=v=>(ia=u._emscripten_bind_GunzipContext_GetError_0=ut.Z)(v),Pa=u._emscripten_bind_GunzipContext___destroy___0=v=>(Pa=u._emscripten_bind_GunzipContext___destroy___0=ut._)(v),Oa=u._emscripten_bind_GzipContext_GzipContext_3=(v,G,oe)=>(Oa=u._emscripten_bind_GzipContext_GzipContext_3=ut.$)(v,G,oe),Na=u._emscripten_bind_GzipContext_SetFilename_1=(v,G)=>(Na=u._emscripten_bind_GzipContext_SetFilename_1=ut.aa)(v,G),Fa=u._emscripten_bind_GzipContext_SetMtime_1=(v,G)=>(Fa=u._emscripten_bind_GzipContext_SetMtime_1=ut.ba)(v,G),sa=u._emscripten_bind_GzipContext_Continue_0=v=>(sa=u._emscripten_bind_GzipContext_Continue_0=ut.ca)(v),La=u._emscripten_bind_GzipContext_GetState_0=v=>(La=u._emscripten_bind_GzipContext_GetState_0=ut.da)(v),$a=u._emscripten_bind_GzipContext_GetGzipData_0=v=>($a=u._emscripten_bind_GzipContext_GetGzipData_0=ut.ea)(v),Er=u._emscripten_bind_GzipContext_GetGzipSize_0=v=>(Er=u._emscripten_bind_GzipContext_GetGzipSize_0=ut.fa)(v),aa=u._emscripten_bind_GzipContext_GetError_0=v=>(aa=u._emscripten_bind_GzipContext_GetError_0=ut.ga)(v),po=u._emscripten_bind_GzipContext___destroy___0=v=>(po=u._emscripten_bind_GzipContext___destroy___0=ut.ha)(v),Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=ut.ia)(),la=u._emscripten_bind_CreateZipContext_Initialize_1=(v,G)=>(la=u._emscripten_bind_CreateZipContext_Initialize_1=ut.ja)(v,G),Os=u._emscripten_bind_CreateZipContext_AddEntry_1=(v,G)=>(Os=u._emscripten_bind_CreateZipContext_AddEntry_1=ut.ka)(v,G),eo=u._emscripten_bind_CreateZipContext_WriteData_2=(v,G,oe)=>(eo=u._emscripten_bind_CreateZipContext_WriteData_2=ut.la)(v,G,oe),Ns=u._emscripten_bind_CreateZipContext_GetZipData_0=v=>(Ns=u._emscripten_bind_CreateZipContext_GetZipData_0=ut.ma)(v),Ba=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=v=>(Ba=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=ut.na)(v),Vn=u._emscripten_bind_CreateZipContext_GetLastError_0=v=>(Vn=u._emscripten_bind_CreateZipContext_GetLastError_0=ut.oa)(v),ps=u._emscripten_bind_CreateZipContext___destroy___0=v=>(ps=u._emscripten_bind_CreateZipContext___destroy___0=ut.pa)(v),Ir=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(v,G)=>(Ir=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=ut.qa)(v,G),Fs=u._emscripten_bind_ZipfileWalker_GetState_0=v=>(Fs=u._emscripten_bind_ZipfileWalker_GetState_0=ut.ra)(v),ml=u._emscripten_bind_ZipfileWalker_Next_0=v=>(ml=u._emscripten_bind_ZipfileWalker_Next_0=ut.sa)(v),Va=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=v=>(Va=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=ut.ta)(v),Hn=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=v=>(Hn=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ut.ua)(v),Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=v=>(Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ut.va)(v),hs=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=v=>(hs=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ut.wa)(v),Ls=u._emscripten_bind_ZipfileWalker___destroy___0=v=>(Ls=u._emscripten_bind_ZipfileWalker___destroy___0=ut.xa)(v),gl=u._main=(v,G)=>(gl=u._main=ut.ya)(v,G),ca=v=>(ca=ut.Aa)(v);function da(){function v(){Ji||(Ji=!0,u.calledRun=!0,!le&&(function at(){ro(Gt)}(),function $t(){ro(Ne)}(),Z(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),ri&&function ua(){var v=gl;try{Nt+=1;var Oe=v(0,0);return Ii(Oe),Oe}catch(bt){return(v=>{if(v instanceof Hr||"unwind"==v)return se;I(1,v)})(bt)}finally{Nt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)v=u.postRun.shift(),ze.unshift(v);var v;ro(ze)}()))}wt>0||(function je(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)v=u.preRun.shift(),ht.unshift(v);var v;ro(ht)}(),wt>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),v()},1)):v())}if(u.___original_main=()=>(u.___original_main=ut.Ba)(),jt=function v(){Ji||da(),Ji||(jt=v)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var ri=!0;function br(){}function qo(v){return(v||br).__cache__}function Bt(v,G){var oe=qo(G),Oe=oe[v];return Oe||((Oe=Object.create((G||br).prototype)).ptr=v,oe[v]=Oe)}u.noInitialRun&&(ri=!1),da(),(br.prototype=Object.create(br.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},u.WrapperObject=br,u.getCache=qo,u.wrapPointer=Bt,u.castObject=function Fn(v,G){return Bt(v.ptr,G)},u.NULL=Bt(0),u.destroy=function jl(v){if(!v.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";v.__destroy__(),delete qo(v.__class__)[v.ptr]},u.compare=function _l(v,G){return v.ptr===G.ptr},u.getPointer=function vl(v){return v.ptr},u.getClass=function Gl(v){return v.__class__};var qn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(qn.needed){for(var v=0;v<qn.temps.length;v++)u._webidl_free(qn.temps[v]);qn.temps.length=0,u._webidl_free(qn.buffer),qn.buffer=0,qn.size+=qn.needed,qn.needed=0}qn.buffer||(qn.size+=128,qn.buffer=u._webidl_malloc(qn.size),xe(qn.buffer)),qn.pos=0},alloc(v,G){xe(qn.buffer);var bt,Oe=v.length*G.BYTES_PER_ELEMENT;return qn.pos+(Oe=Oe+7&-8)>=qn.size?(xe(Oe>0),qn.needed+=Oe,bt=u._webidl_malloc(Oe),qn.temps.push(bt)):(bt=qn.buffer+qn.pos,qn.pos+=Oe),bt},copy(v,G,oe){switch(oe>>>=0,G.BYTES_PER_ELEMENT){case 2:oe>>>=1;break;case 4:oe>>>=2;break;case 8:oe>>>=3}for(var bt=0;bt<v.length;bt++)G[oe+bt]=v[bt]}};function gs(v){if("string"==typeof v){var G=us(v),oe=qn.alloc(G,Re);return qn.copy(G,Re,oe),oe}return v}function Ln(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ho(){this.ptr=Ye(),qo(ho)[this.ptr]=this}function mo(){this.ptr=kt(),qo(mo)[this.ptr]=this}function Zr(v){v&&"object"==typeof v&&(v=v.ptr),this.ptr=Kn(v),qo(Zr)[this.ptr]=this}function Yn(v,G,oe){v&&"object"==typeof v&&(v=v.ptr),G&&"object"==typeof G&&(G=G.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),this.ptr=na(v,G,oe),qo(Yn)[this.ptr]=this}function Xn(v,G,oe){v&&"object"==typeof v&&(v=v.ptr),G&&"object"==typeof G&&(G=G.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),this.ptr=Oa(v,G,oe),qo(Xn)[this.ptr]=this}function Rr(){this.ptr=Ht(),qo(Rr)[this.ptr]=this}function xr(v,G){v&&"object"==typeof v&&(v=v.ptr),G&&"object"==typeof G&&(G=G.ptr),this.ptr=Ir(v,G),qo(xr)[this.ptr]=this}return(Ln.prototype=Object.create(br.prototype)).constructor=Ln,Ln.prototype.__class__=Ln,Ln.__cache__={},u.VoidPtr=Ln,Ln.prototype.__destroy__=Ln.prototype.__destroy__=function(){Ke(this.ptr)},(ho.prototype=Object.create(br.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},u.FSTools=ho,ho.prototype.Malloc=ho.prototype.Malloc=function(v){return v&&"object"==typeof v&&(v=v.ptr),Bt(et(this.ptr,v),Ln)},ho.prototype.Free=ho.prototype.Free=function(v){v&&"object"==typeof v&&(v=v.ptr),A(this.ptr,v)},ho.prototype.Nullptr=ho.prototype.Nullptr=function(){return Bt(St(this.ptr),Ln)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){At(this.ptr)},(mo.prototype=Object.create(br.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},u.MkfsContext=mo,mo.prototype.Mkfs=mo.prototype.Mkfs=function(v,G){var oe=this.ptr;return qn.prepare(),v&&"object"==typeof v&&(v=v.ptr),G=G&&"object"==typeof G?G.ptr:gs(G),!!Sn(oe,v,G)},mo.prototype.GetImage=mo.prototype.GetImage=function(){return Bt(Dr(this.ptr),Ln)},mo.prototype.GetImageSize=mo.prototype.GetImageSize=function(){return jr(this.ptr)},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){Wr(this.ptr)},(Zr.prototype=Object.create(br.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},u.FsckContext=Zr,Zr.prototype.GetImage=Zr.prototype.GetImage=function(){return Bt(Yi(this.ptr),Ln)},Zr.prototype.GetDirtyPages=Zr.prototype.GetDirtyPages=function(){return Bt(Bn(this.ptr),Ln)},Zr.prototype.GetImageSize=Zr.prototype.GetImageSize=function(){return Fo(this.ptr)},Zr.prototype.Fsck=Zr.prototype.Fsck=function(){return Io(this.ptr)},Zr.prototype.GetResult=Zr.prototype.GetResult=function(){return Ki(this.ptr)},Zr.prototype.__destroy__=Zr.prototype.__destroy__=function(){ka(this.ptr)},(Yn.prototype=Object.create(br.prototype)).constructor=Yn,Yn.prototype.__class__=Yn,Yn.__cache__={},u.GunzipContext=Yn,Yn.prototype.GetState=Yn.prototype.GetState=function(){return Ps(this.ptr)},Yn.prototype.Continue=Yn.prototype.Continue=function(){return ra(this.ptr)},Yn.prototype.GetUncompressedData=Yn.prototype.GetUncompressedData=function(){return Bt(Xi(this.ptr),Ln)},Yn.prototype.ReleaseUncompressedData=Yn.prototype.ReleaseUncompressedData=function(){return Bt(Ra(this.ptr),Ln)},Yn.prototype.GetUncompressedSize=Yn.prototype.GetUncompressedSize=function(){return oa(this.ptr)},Yn.prototype.GetError=Yn.prototype.GetError=function(){return be(ia(this.ptr))},Yn.prototype.__destroy__=Yn.prototype.__destroy__=function(){Pa(this.ptr)},(Xn.prototype=Object.create(br.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},u.GzipContext=Xn,Xn.prototype.SetFilename=Xn.prototype.SetFilename=function(v){var G=this.ptr;return qn.prepare(),v=v&&"object"==typeof v?v.ptr:gs(v),Bt(Na(G,v),Xn)},Xn.prototype.SetMtime=Xn.prototype.SetMtime=function(v){return v&&"object"==typeof v&&(v=v.ptr),Bt(Fa(this.ptr,v),Xn)},Xn.prototype.Continue=Xn.prototype.Continue=function(){return sa(this.ptr)},Xn.prototype.GetState=Xn.prototype.GetState=function(){return La(this.ptr)},Xn.prototype.GetGzipData=Xn.prototype.GetGzipData=function(){return Bt($a(this.ptr),Ln)},Xn.prototype.GetGzipSize=Xn.prototype.GetGzipSize=function(){return Er(this.ptr)},Xn.prototype.GetError=Xn.prototype.GetError=function(){return be(aa(this.ptr))},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){po(this.ptr)},(Rr.prototype=Object.create(br.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},u.CreateZipContext=Rr,Rr.prototype.Initialize=Rr.prototype.Initialize=function(v){return v&&"object"==typeof v&&(v=v.ptr),!!la(this.ptr,v)},Rr.prototype.AddEntry=Rr.prototype.AddEntry=function(v){var G=this.ptr;return qn.prepare(),v=v&&"object"==typeof v?v.ptr:gs(v),!!Os(G,v)},Rr.prototype.WriteData=Rr.prototype.WriteData=function(v,G){return v&&"object"==typeof v&&(v=v.ptr),G&&"object"==typeof G&&(G=G.ptr),!!eo(this.ptr,v,G)},Rr.prototype.GetZipData=Rr.prototype.GetZipData=function(){return Bt(Ns(this.ptr),Ln)},Rr.prototype.GetZipDataSize=Rr.prototype.GetZipDataSize=function(){return Ba(this.ptr)},Rr.prototype.GetLastError=Rr.prototype.GetLastError=function(){return be(Vn(this.ptr))},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){ps(this.ptr)},(xr.prototype=Object.create(br.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},u.ZipfileWalker=xr,xr.prototype.GetState=xr.prototype.GetState=function(){return Fs(this.ptr)},xr.prototype.Next=xr.prototype.Next=function(){return ml(this.ptr)},xr.prototype.GetTotalEntries=xr.prototype.GetTotalEntries=function(){return Va(this.ptr)},xr.prototype.GetCurrentEntrySize=xr.prototype.GetCurrentEntrySize=function(){return Hn(this.ptr)},xr.prototype.GetCurrentEntryName=xr.prototype.GetCurrentEntryName=function(){return be(Yt(this.ptr))},xr.prototype.GetCurrentEntryContent=xr.prototype.GetCurrentEntryContent=function(){return Bt(hs(this.ptr),Ln)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Ls(this.ptr)},S.ready});me.exports=we},8886:me=>{var C,we=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Z,Y,u=S;u.ready=new Promise((p,x)=>{Z=p,Y=x});var ve,j=Object.assign({},u),E="./this.program",I=(p,x)=>{throw x},K="object"==typeof window,F="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||F)&&(F?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",F&&(ve=p=>{var x=new XMLHttpRequest;return x.open("GET",p,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}));var M,ie=u.print||console.log.bind(console),H=u.printErr||console.error.bind(console);Object.assign(u,j),j=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&ge("no native wasm support detected");var J,se,Re,O,D,X,le=!1;function xe(p,x){p||ge(x)}function Be(){var p=J.buffer;u.HEAP8=Re=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAPU8=O=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAP32=D=new Int32Array(p),u.HEAPU32=X=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=new Float64Array(p)}var ht=[],Gt=[],Ne=[],ze=[],wt=0,Ut=null,jt=null;function ge(p){u.onAbort&&u.onAbort(p),H(p="Aborted("+p+")"),le=!0,se=1,p+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(p);throw Y(x),x}var Jt,Rn,yt=p=>p.startsWith("data:application/octet-stream;base64,"),Nt=0;function dn(p){return function(){if(le)throw"program has already aborted!";Nt+=1;try{return p.apply(null,arguments)}catch(x){if(le||Nt>1||x===1/0||"unwind"===x)throw x;ge("unhandled exception: "+[x,x.stack])}finally{Nt-=1}}}function _r(p){if(p==Jt&&M)return new Uint8Array(M);if(ve)return ve(p);throw"both async and sync fetching of the wasm failed"}function Wo(p,x,re){return function Wn(p){return M||!K&&!F||"function"!=typeof fetch?Promise.resolve().then(()=>_r(p)):fetch(p,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+p+"'";return x.arrayBuffer()}).catch(()=>_r(p))}(p).then(Fe=>WebAssembly.instantiate(Fe,x)).then(Fe=>Fe).then(re,Fe=>{H(`failed to asynchronously prepare wasm: ${Fe}`),ge(Fe)})}function Br(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}yt(Jt="vfs_web.wasm")||(Jt=function T(p){return u.locateFile?u.locateFile(p,P):P+p}(Jt));var Zn,Hr=p=>{for(;p.length>0;)p.shift()(u)},ro=u.noExitRuntime||!0,go=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Vr=(p,x,re)=>{for(var Fe=x+re,Qe=x;p[Qe]&&!(Qe>=Fe);)++Qe;if(Qe-x>16&&p.buffer&&go)return go.decode(p.subarray(x,Qe));for(var gn="";x<Qe;){var sn=p[x++];if(128&sn){var Kt=63&p[x++];if(192!=(224&sn)){var lr=63&p[x++];if((sn=224==(240&sn)?(15&sn)<<12|Kt<<6|lr:(7&sn)<<18|Kt<<12|lr<<6|63&p[x++])<65536)gn+=String.fromCharCode(sn);else{var Lo=sn-65536;gn+=String.fromCharCode(55296|Lo>>10,56320|1023&Lo)}}else gn+=String.fromCharCode((31&sn)<<6|Kt)}else gn+=String.fromCharCode(sn)}return gn},pe=(p,x)=>p?Vr(O,p,x):"",mn=(p,x)=>x+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*x:NaN,tr=p=>p%4==0&&(p%100!=0||p%400==0),wr=[0,31,60,91,121,152,182,213,244,274,305,335],_o=[0,31,59,90,120,151,181,212,243,273,304,334],On=p=>(tr(p.getFullYear())?wr:_o)[p.getMonth()]+p.getDate()-1,Oo=p=>{for(var x=0,re=0;re<p.length;++re){var Fe=p.charCodeAt(re);Fe<=127?x++:Fe<=2047?x+=2:Fe>=55296&&Fe<=57343?(x+=4,++re):x+=3}return x},In=(p,x,re,Fe)=>{if(!(Fe>0))return 0;for(var Qe=re,gn=re+Fe-1,sn=0;sn<p.length;++sn){var Kt=p.charCodeAt(sn);if(Kt>=55296&&Kt<=57343&&(Kt=65536+((1023&Kt)<<10)|1023&p.charCodeAt(++sn)),Kt<=127){if(re>=gn)break;x[re++]=Kt}else if(Kt<=2047){if(re+1>=gn)break;x[re++]=192|Kt>>6,x[re++]=128|63&Kt}else if(Kt<=65535){if(re+2>=gn)break;x[re++]=224|Kt>>12,x[re++]=128|Kt>>6&63,x[re++]=128|63&Kt}else{if(re+3>=gn)break;x[re++]=240|Kt>>18,x[re++]=128|Kt>>12&63,x[re++]=128|Kt>>6&63,x[re++]=128|63&Kt}}return x[re]=0,re-Qe},yr=p=>{var x=Oo(p)+1,re=Zi(x);return re&&((p,x,re)=>{In(p,O,x,re)})(p,re,x),re},pi=p=>{var re=(p-J.buffer.byteLength+65535)/65536;try{return J.grow(re),Be(),1}catch{}},ae={},Zo=()=>{if(!Zo.strings){var x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var re in ae)void 0===ae[re]?delete x[re]:x[re]=ae[re];var Fe=[];for(var re in x)Fe.push(`${re}=${x[re]}`);Zo.strings=Fe}return Zo.strings},Hi=[null,[],[]],Js=(p,x)=>{var re=Hi[p];0===x||10===x?((1===p?ie:H)(Vr(re,0)),re.length=0):re.push(x)},Ii=[31,29,31,30,31,30,31,31,30,31,30,31],zi=[31,28,31,30,31,30,31,31,30,31,30,31];function No(p,x,re){var Fe=re>0?re:Oo(p)+1,Qe=new Array(Fe),gn=In(p,Qe,0,Qe.length);return x&&(Qe.length=gn),Qe}var Xn,Rs=(p,x)=>{se=p,(p=>{se=p,ro||(u.onExit&&u.onExit(p),le=!0),I(p,new Br(p))})(p)},us={a:(p,x,re,Fe)=>{ge(`Assertion failed: ${pe(p)}, at: `+[x?pe(x):"unknown filename",re,Fe?pe(Fe):"unknown function"])},n:function Cn(p,x,re){mn(x,re)},j:()=>1,k:function Do(p,x,re){var Fe=mn(p,x),Qe=new Date(1e3*Fe);D[re>>2]=Qe.getSeconds(),D[re+4>>2]=Qe.getMinutes(),D[re+8>>2]=Qe.getHours(),D[re+12>>2]=Qe.getDate(),D[re+16>>2]=Qe.getMonth(),D[re+20>>2]=Qe.getFullYear()-1900,D[re+24>>2]=Qe.getDay();var gn=0|On(Qe);D[re+28>>2]=gn,D[re+36>>2]=-60*Qe.getTimezoneOffset();var sn=new Date(Qe.getFullYear(),0,1),Kt=new Date(Qe.getFullYear(),6,1).getTimezoneOffset(),lr=sn.getTimezoneOffset(),Lo=0|(Kt!=lr&&Qe.getTimezoneOffset()==Math.min(lr,Kt));D[re+32>>2]=Lo},l:function(p){var x=(()=>{var re=new Date(D[p+20>>2]+1900,D[p+16>>2],D[p+12>>2],D[p+8>>2],D[p+4>>2],D[p>>2],0),Fe=D[p+32>>2],Qe=re.getTimezoneOffset(),gn=new Date(re.getFullYear(),0,1),sn=new Date(re.getFullYear(),6,1).getTimezoneOffset(),Kt=gn.getTimezoneOffset(),lr=Math.min(Kt,sn);if(Fe<0)D[p+32>>2]=+(sn!=Kt&&lr==Qe);else if(Fe>0!=(lr==Qe)){var Lo=Math.max(Kt,sn),jn=Fe>0?lr:Lo;re.setTime(re.getTime()+6e4*(jn-Qe))}D[p+24>>2]=re.getDay();var ja=0|On(re);D[p+28>>2]=ja,D[p>>2]=re.getSeconds(),D[p+4>>2]=re.getMinutes(),D[p+8>>2]=re.getHours(),D[p+12>>2]=re.getDate(),D[p+16>>2]=re.getMonth(),D[p+20>>2]=re.getYear();var xo=re.getTime();return isNaN(xo)?(D[Ln()>>2]=61,-1):xo/1e3})();return ho((Rn=x,+Math.abs(Rn)>=1?Rn>0?+Math.floor(Rn/4294967296)>>>0:~~+Math.ceil((Rn-+(~~Rn>>>0))/4294967296)>>>0:0)),x>>>0},e:(p,x,re)=>{var Fe=(new Date).getFullYear(),Qe=new Date(Fe,0,1),gn=new Date(Fe,6,1),sn=Qe.getTimezoneOffset(),Kt=gn.getTimezoneOffset(),lr=Math.max(sn,Kt);function Lo(fa){var $s=fa.toTimeString().match(/\(([A-Za-z ]+)\)$/);return $s?$s[1]:"GMT"}X[p>>2]=60*lr,D[x>>2]=+(sn!=Kt);var jn=Lo(Qe),ja=Lo(gn),xo=yr(jn),pt=yr(ja);Kt<sn?(X[re>>2]=xo,X[re+4>>2]=pt):(X[re>>2]=pt,X[re+4>>2]=xo)},b:()=>{ge("")},c:()=>Date.now(),f:(p,x,re)=>O.copyWithin(p,x,x+re),d:p=>{var lr,x=O.length,re=2147483648;if((p>>>=0)>re)return!1;for(var Qe=1;Qe<=4;Qe*=2){var gn=x*(1+.2/Qe);gn=Math.min(gn,p+100663296);var sn=Math.min(re,(lr=Math.max(p,gn))+(65536-lr%65536)%65536);if(pi(sn))return!0}return!1},p:(p,x)=>{var re=0;return Zo().forEach((Fe,Qe)=>{var gn=x+re;X[p+4*Qe>>2]=gn,((p,x)=>{for(var re=0;re<p.length;++re)Re[x++>>0]=p.charCodeAt(re);Re[x>>0]=0})(Fe,gn),re+=Fe.length+1}),0},q:(p,x)=>{var re=Zo();X[p>>2]=re.length;var Fe=0;return re.forEach(Qe=>Fe+=Qe.length+1),X[x>>2]=Fe,0},g:p=>52,i:(p,x,re,Fe)=>52,m:function Jr(p,x,re,Fe,Qe){return mn(x,re),70},h:(p,x,re,Fe)=>{for(var Qe=0,gn=0;gn<re;gn++){var sn=X[x>>2],Kt=X[x+4>>2];x+=8;for(var lr=0;lr<Kt;lr++)Js(p,O[sn+lr]);Qe+=Kt}return X[Fe>>2]=Qe,0},o:(p,x,re,Fe,Qe)=>((p,x,re,Fe)=>{var Qe=X[Fe+40>>2],gn={tm_sec:D[Fe>>2],tm_min:D[Fe+4>>2],tm_hour:D[Fe+8>>2],tm_mday:D[Fe+12>>2],tm_mon:D[Fe+16>>2],tm_year:D[Fe+20>>2],tm_wday:D[Fe+24>>2],tm_yday:D[Fe+28>>2],tm_isdst:D[Fe+32>>2],tm_gmtoff:D[Fe+36>>2],tm_zone:Qe?pe(Qe):""},sn=pe(re),Kt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var lr in Kt)sn=sn.replace(new RegExp(lr,"g"),Kt[lr]);var Lo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jn=["January","February","March","April","May","June","July","August","September","October","November","December"];function ja(mt,an,mi){for(var oi="number"==typeof mt?mt.toString():mt||"";oi.length<an;)oi=mi[0]+oi;return oi}function xo(mt,an){return ja(mt,an,"0")}function pt(mt,an){function mi(Hl){return Hl<0?-1:Hl>0?1:0}var oi;return 0===(oi=mi(mt.getFullYear()-an.getFullYear()))&&0===(oi=mi(mt.getMonth()-an.getMonth()))&&(oi=mi(mt.getDate()-an.getDate())),oi}function fa(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function $s(mt){var an=((p,x)=>{for(var re=new Date(p.getTime());x>0;){var Fe=tr(re.getFullYear()),Qe=re.getMonth(),gn=(Fe?Ii:zi)[Qe];if(!(x>gn-re.getDate()))return re.setDate(re.getDate()+x),re;x-=gn-re.getDate()+1,re.setDate(1),Qe<11?re.setMonth(Qe+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1))}return re})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),mi=new Date(an.getFullYear(),0,4),oi=new Date(an.getFullYear()+1,0,4),Hl=fa(mi),qd=fa(oi);return pt(Hl,an)<=0?pt(qd,an)<=0?an.getFullYear()+1:an.getFullYear():an.getFullYear()-1}var Ul={"%a":mt=>Lo[mt.tm_wday].substring(0,3),"%A":mt=>Lo[mt.tm_wday],"%b":mt=>jn[mt.tm_mon].substring(0,3),"%B":mt=>jn[mt.tm_mon],"%C":mt=>xo((mt.tm_year+1900)/100|0,2),"%d":mt=>xo(mt.tm_mday,2),"%e":mt=>ja(mt.tm_mday,2," "),"%g":mt=>$s(mt).toString().substring(2),"%G":mt=>$s(mt),"%H":mt=>xo(mt.tm_hour,2),"%I":mt=>{var an=mt.tm_hour;return 0==an?an=12:an>12&&(an-=12),xo(an,2)},"%j":mt=>xo(mt.tm_mday+((p,x)=>{for(var re=0,Fe=0;Fe<=x;re+=p[Fe++]);return re})(tr(mt.tm_year+1900)?Ii:zi,mt.tm_mon-1),3),"%m":mt=>xo(mt.tm_mon+1,2),"%M":mt=>xo(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>xo(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>xo(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var an=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&an++,an){if(53==an){var oi=(mt.tm_wday+371-mt.tm_yday)%7;4!=oi&&(3!=oi||!tr(mt.tm_year))&&(an=1)}}else{an=52;var mi=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==mi||5==mi&&tr(mt.tm_year%400-1))&&an++}return xo(an,2)},"%w":mt=>mt.tm_wday,"%W":mt=>xo(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var an=mt.tm_gmtoff;return(an>=0?"+":"-")+("0000"+(an=(an=Math.abs(an)/60)/60*100+an%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var lr in sn=sn.replace(/%%/g,"\0\0"),Ul)sn.includes(lr)&&(sn=sn.replace(new RegExp(lr,"g"),Ul[lr](gn)));var Ga=No(sn=sn.replace(/\0\0/g,"%"),!1);return Ga.length>x?0:(((p,x)=>{Re.set(p,x)})(Ga,p),Ga.length-1)})(p,x,re,Fe)},nt=function wo(){var p={a:us};function x(Fe,Qe){return nt=function rn(p){var x={};for(var re in p){var Fe=p[re];x[re]="function"==typeof Fe?dn(Fe):Fe}return x}(nt=Fe.exports),J=nt.r,Be(),Zn=nt.Ua,function lt(p){Gt.unshift(p)}(nt.s),function pn(){var p=Zn.get,x={};Zn.get=re=>{var Fe=p.call(Zn,re),Qe=x[re];return(!Qe||Qe.func!==Fe)&&(Qe=x[re]={func:Fe,wrapper:dn(Fe)}),Qe.wrapper}}(),function Se(p){if(wt--,u.monitorRunDependencies&&u.monitorRunDependencies(wt),0==wt&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var x=jt;jt=null,x()}}(),nt}if(function Te(p){wt++,u.monitorRunDependencies&&u.monitorRunDependencies(wt)}(),u.instantiateWasm)try{return u.instantiateWasm(p,x)}catch(Fe){H(`Module.instantiateWasm callback failed with error: ${Fe}`),Y(Fe)}return function So(p,x,re,Fe){return p||"function"!=typeof WebAssembly.instantiateStreaming||yt(x)||"function"!=typeof fetch?Wo(x,re,Fe):fetch(x,{credentials:"same-origin"}).then(Qe=>WebAssembly.instantiateStreaming(Qe,re).then(Fe,function(sn){return H(`wasm streaming compile failed: ${sn}`),H("falling back to ArrayBuffer instantiation"),Wo(x,re,Fe)}))}(M,Jt,p,function re(Fe){x(Fe.instance)}).catch(Y),{}}(),Zi=u._malloc=p=>(Zi=u._malloc=nt.t)(p),m=(u._free=p=>(u._free=nt.u)(p),u._webidl_free=p=>(u._webidl_free=nt.v)(p),u._webidl_malloc=p=>(u._webidl_malloc=nt.w)(p),u._emscripten_bind_VoidPtr___destroy___0=p=>(m=u._emscripten_bind_VoidPtr___destroy___0=nt.x)(p)),w=u._emscripten_bind_FileEntry_GetName_0=p=>(w=u._emscripten_bind_FileEntry_GetName_0=nt.y)(p),$=u._emscripten_bind_FileEntry_IsDirectory_0=p=>($=u._emscripten_bind_FileEntry_IsDirectory_0=nt.z)(p),ne=u._emscripten_bind_FileEntry_GetSize_0=p=>(ne=u._emscripten_bind_FileEntry_GetSize_0=nt.A)(p),Me=u._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Me=u._emscripten_bind_FileEntry_GetModifiedTS_0=nt.B)(p),ue=u._emscripten_bind_FileEntry_GetAttributes_0=p=>(ue=u._emscripten_bind_FileEntry_GetAttributes_0=nt.C)(p),Ke=u._emscripten_bind_FileEntry___destroy___0=p=>(Ke=u._emscripten_bind_FileEntry___destroy___0=nt.D)(p),Ye=u._emscripten_bind_Vfs_Vfs_0=()=>(Ye=u._emscripten_bind_Vfs_Vfs_0=nt.E)(),et=u._emscripten_bind_Vfs_Malloc_1=(p,x)=>(et=u._emscripten_bind_Vfs_Malloc_1=nt.F)(p,x),A=u._emscripten_bind_Vfs_Free_1=(p,x)=>(A=u._emscripten_bind_Vfs_Free_1=nt.G)(p,x),St=u._emscripten_bind_Vfs_Nullptr_0=p=>(St=u._emscripten_bind_Vfs_Nullptr_0=nt.H)(p),At=u._emscripten_bind_Vfs_AllocateImage_1=(p,x)=>(At=u._emscripten_bind_Vfs_AllocateImage_1=nt.I)(p,x),kt=u._emscripten_bind_Vfs_MountImage_1=(p,x)=>(kt=u._emscripten_bind_Vfs_MountImage_1=nt.J)(p,x),Sn=u._emscripten_bind_Vfs_UnmountImage_1=(p,x)=>(Sn=u._emscripten_bind_Vfs_UnmountImage_1=nt.K)(p,x),Dr=u._emscripten_bind_Vfs_SwitchSlot_1=(p,x)=>(Dr=u._emscripten_bind_Vfs_SwitchSlot_1=nt.L)(p,x),jr=u._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(jr=u._emscripten_bind_Vfs_GetPendingImageSize_0=nt.M)(p),Wr=u._emscripten_bind_Vfs_GetSize_1=(p,x)=>(Wr=u._emscripten_bind_Vfs_GetSize_1=nt.N)(p,x),Kn=u._emscripten_bind_Vfs_GetPendingImage_0=p=>(Kn=u._emscripten_bind_Vfs_GetPendingImage_0=nt.O)(p),Yi=u._emscripten_bind_Vfs_GetImage_1=(p,x)=>(Yi=u._emscripten_bind_Vfs_GetImage_1=nt.P)(p,x),Bn=u._emscripten_bind_Vfs_GetDirtyPages_1=(p,x)=>(Bn=u._emscripten_bind_Vfs_GetDirtyPages_1=nt.Q)(p,x),Fo=u._emscripten_bind_Vfs_RenameFile_2=(p,x,re)=>(Fo=u._emscripten_bind_Vfs_RenameFile_2=nt.R)(p,x,re),Io=u._emscripten_bind_Vfs_ChmodFile_3=(p,x,re,Fe)=>(Io=u._emscripten_bind_Vfs_ChmodFile_3=nt.S)(p,x,re,Fe),Ki=u._emscripten_bind_Vfs_StatFile_1=(p,x)=>(Ki=u._emscripten_bind_Vfs_StatFile_1=nt.T)(p,x),ka=u._emscripten_bind_Vfs_UnlinkFile_1=(p,x)=>(ka=u._emscripten_bind_Vfs_UnlinkFile_1=nt.U)(p,x),na=u._emscripten_bind_Vfs_Mkdir_1=(p,x)=>(na=u._emscripten_bind_Vfs_Mkdir_1=nt.V)(p,x),Ps=u._emscripten_bind_Vfs_GetEntry_0=p=>(Ps=u._emscripten_bind_Vfs_GetEntry_0=nt.W)(p),ra=u._emscripten_bind_Vfs_BytesFree_1=(p,x)=>(ra=u._emscripten_bind_Vfs_BytesFree_1=nt.X)(p,x),Xi=u._emscripten_bind_Vfs_BytesTotal_1=(p,x)=>(Xi=u._emscripten_bind_Vfs_BytesTotal_1=nt.Y)(p,x),Ra=u._emscripten_bind_Vfs_ReadFile_1=(p,x)=>(Ra=u._emscripten_bind_Vfs_ReadFile_1=nt.Z)(p,x),oa=u._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(oa=u._emscripten_bind_Vfs_GetCurrentFileSize_0=nt._)(p),ia=u._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(ia=u._emscripten_bind_Vfs_GetCurrentFileContent_0=nt.$)(p),Pa=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(Pa=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=nt.aa)(p),Oa=u._emscripten_bind_Vfs_WriteFile_3=(p,x,re,Fe)=>(Oa=u._emscripten_bind_Vfs_WriteFile_3=nt.ba)(p,x,re,Fe),Na=u._emscripten_bind_Vfs___destroy___0=p=>(Na=u._emscripten_bind_Vfs___destroy___0=nt.ca)(p),Fa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Fa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=nt.da)(p),sa=u._emscripten_bind_ReaddirContext_Next_0=p=>(sa=u._emscripten_bind_ReaddirContext_Next_0=nt.ea)(p),La=u._emscripten_bind_ReaddirContext_GetEntry_0=p=>(La=u._emscripten_bind_ReaddirContext_GetEntry_0=nt.fa)(p),$a=u._emscripten_bind_ReaddirContext_GetStatus_0=p=>($a=u._emscripten_bind_ReaddirContext_GetStatus_0=nt.ga)(p),Er=u._emscripten_bind_ReaddirContext_GetError_0=p=>(Er=u._emscripten_bind_ReaddirContext_GetError_0=nt.ha)(p),aa=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(aa=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=nt.ia)(p),po=u._emscripten_bind_ReaddirContext___destroy___0=p=>(po=u._emscripten_bind_ReaddirContext___destroy___0=nt.ja)(p),Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,x)=>(Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=nt.ka)(p,x),la=u._emscripten_bind_ExportZipContext_AddFile_1=(p,x)=>(la=u._emscripten_bind_ExportZipContext_AddFile_1=nt.la)(p,x),Os=u._emscripten_bind_ExportZipContext_AddDirectory_1=(p,x)=>(Os=u._emscripten_bind_ExportZipContext_AddDirectory_1=nt.ma)(p,x),eo=u._emscripten_bind_ExportZipContext_Continue_0=p=>(eo=u._emscripten_bind_ExportZipContext_Continue_0=nt.na)(p),Ns=u._emscripten_bind_ExportZipContext_GetState_0=p=>(Ns=u._emscripten_bind_ExportZipContext_GetState_0=nt.oa)(p),Ba=u._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(Ba=u._emscripten_bind_ExportZipContext_GetZipContent_0=nt.pa)(p),Vn=u._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Vn=u._emscripten_bind_ExportZipContext_GetZipSize_0=nt.qa)(p),ps=u._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(ps=u._emscripten_bind_ExportZipContext_GetErrorItem_0=nt.ra)(p),Ir=u._emscripten_bind_ExportZipContext___destroy___0=p=>(Ir=u._emscripten_bind_ExportZipContext___destroy___0=nt.sa)(p),Fs=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Fs=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=nt.ta)(p),ml=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,x)=>(ml=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=nt.ua)(p,x),Va=u._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(Va=u._emscripten_bind_DeleteRecursiveContext_Continue_0=nt.va)(p),Hn=u._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(Hn=u._emscripten_bind_DeleteRecursiveContext_GetState_0=nt.wa)(p),Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=nt.xa)(p),hs=u._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(hs=u._emscripten_bind_DeleteRecursiveContext___destroy___0=nt.ya)(p),Ls=u._emscripten_bind_UnzipContext_UnzipContext_4=(p,x,re,Fe)=>(Ls=u._emscripten_bind_UnzipContext_UnzipContext_4=nt.za)(p,x,re,Fe),gl=u._emscripten_bind_UnzipContext_GetState_0=p=>(gl=u._emscripten_bind_UnzipContext_GetState_0=nt.Aa)(p),ca=u._emscripten_bind_UnzipContext_Continue_0=p=>(ca=u._emscripten_bind_UnzipContext_Continue_0=nt.Ba)(p),Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=nt.Ca)(p),Qi=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(Qi=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=nt.Da)(p),ms=u._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(ms=u._emscripten_bind_UnzipContext_GetCollisionPath_0=nt.Ea)(p),Ji=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(Ji=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=nt.Fa)(p),ua=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(ua=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=nt.Ga)(p),da=u._emscripten_bind_UnzipContext___destroy___0=p=>(da=u._emscripten_bind_UnzipContext___destroy___0=nt.Ha)(p),ri=u._emscripten_bind_PasteContext_PasteContext_3=(p,x,re)=>(ri=u._emscripten_bind_PasteContext_PasteContext_3=nt.Ia)(p,x,re),br=u._emscripten_bind_PasteContext_AddFile_1=(p,x)=>(br=u._emscripten_bind_PasteContext_AddFile_1=nt.Ja)(p,x),qo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,x)=>(qo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=nt.Ka)(p,x),Bt=u._emscripten_bind_PasteContext_GetState_0=p=>(Bt=u._emscripten_bind_PasteContext_GetState_0=nt.La)(p),Fn=u._emscripten_bind_PasteContext_Continue_0=p=>(Fn=u._emscripten_bind_PasteContext_Continue_0=nt.Ma)(p),jl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(jl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=nt.Na)(p),_l=u._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(_l=u._emscripten_bind_PasteContext_GetCurrentEntry_0=nt.Oa)(p),vl=u._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(vl=u._emscripten_bind_PasteContext_GetCollisionPath_0=nt.Pa)(p),Gl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(Gl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=nt.Qa)(p),qn=u._emscripten_bind_PasteContext___destroy___0=p=>(qn=u._emscripten_bind_PasteContext___destroy___0=nt.Ra)(p),gs=u._main=(p,x)=>(gs=u._main=nt.Sa)(p,x),Ln=()=>(Ln=nt.Ta)(),ho=p=>(ho=nt.Va)(p);function xr(){function p(){Xn||(Xn=!0,u.calledRun=!0,!le&&(function at(){Hr(Gt)}(),function $t(){Hr(Ne)}(),Z(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),v&&function Rr(){var p=gs;try{Nt+=1;var Fe=p(0,0);return Rs(Fe),Fe}catch(Qe){return(p=>{if(p instanceof Br||"unwind"==p)return se;I(1,p)})(Qe)}finally{Nt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),ze.unshift(p);var p;Hr(ze)}()))}wt>0||(function je(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),ht.unshift(p);var p;Hr(ht)}(),wt>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),p()},1)):p())}if(u.___original_main=()=>(u.___original_main=nt.Wa)(),jt=function p(){Xn||xr(),Xn||(jt=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var v=!0;function G(){}function oe(p){return(p||G).__cache__}function Oe(p,x){var re=oe(x),Fe=re[p];return Fe||((Fe=Object.create((x||G).prototype)).ptr=p,re[p]=Fe)}u.noInitialRun&&(v=!1),xr(),(G.prototype=Object.create(G.prototype)).constructor=G,G.prototype.__class__=G,G.__cache__={},u.WrapperObject=G,u.getCache=oe,u.wrapPointer=Oe,u.castObject=function bt(p,x){return Oe(p.ptr,x)},u.NULL=Oe(0),u.destroy=function qt(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete oe(p.__class__)[p.ptr]},u.compare=function ot(p,x){return p.ptr===x.ptr},u.getPointer=function hn(p){return p.ptr},u.getClass=function ir(p){return p.__class__};var zt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(zt.needed){for(var p=0;p<zt.temps.length;p++)u._webidl_free(zt.temps[p]);zt.temps.length=0,u._webidl_free(zt.buffer),zt.buffer=0,zt.size+=zt.needed,zt.needed=0}zt.buffer||(zt.size+=128,zt.buffer=u._webidl_malloc(zt.size),xe(zt.buffer)),zt.pos=0},alloc(p,x){xe(zt.buffer);var Qe,Fe=p.length*x.BYTES_PER_ELEMENT;return zt.pos+(Fe=Fe+7&-8)>=zt.size?(xe(Fe>0),zt.needed+=Fe,Qe=u._webidl_malloc(Fe),zt.temps.push(Qe)):(Qe=zt.buffer+zt.pos,zt.pos+=Fe),Qe},copy(p,x,re){switch(re>>>=0,x.BYTES_PER_ELEMENT){case 2:re>>>=1;break;case 4:re>>>=2;break;case 8:re>>>=3}for(var Qe=0;Qe<p.length;Qe++)x[re+Qe]=p[Qe]}};function Pr(p){if("string"==typeof p){var x=No(p),re=zt.alloc(x,Re);return zt.copy(x,Re,re),re}return p}function $e(){throw"cannot construct a VoidPtr, no constructor in IDL"}function wn(){throw"cannot construct a FileEntry, no constructor in IDL"}function ct(){this.ptr=Ye(),oe(ct)[this.ptr]=this}function sr(p){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),this.ptr=Fa(p),oe(sr)[this.ptr]=this}function zn(p,x){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x&&"object"==typeof x&&(x=x.ptr),this.ptr=Ht(p,x),oe(zn)[this.ptr]=this}function Or(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Fs(p),oe(Or)[this.ptr]=this}function ar(p,x,re,Fe){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Pr(x),re&&"object"==typeof re&&(re=re.ptr),Fe&&"object"==typeof Fe&&(Fe=Fe.ptr),this.ptr=Ls(p,x,re,Fe),oe(ar)[this.ptr]=this}function We(p,x,re){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Pr(x),re=re&&"object"==typeof re?re.ptr:Pr(re),this.ptr=ri(p,x,re),oe(We)[this.ptr]=this}return($e.prototype=Object.create(G.prototype)).constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},u.VoidPtr=$e,$e.prototype.__destroy__=$e.prototype.__destroy__=function(){m(this.ptr)},(wn.prototype=Object.create(G.prototype)).constructor=wn,wn.prototype.__class__=wn,wn.__cache__={},u.FileEntry=wn,wn.prototype.GetName=wn.prototype.GetName=function(){return pe(w(this.ptr))},wn.prototype.IsDirectory=wn.prototype.IsDirectory=function(){return!!$(this.ptr)},wn.prototype.GetSize=wn.prototype.GetSize=function(){return ne(this.ptr)},wn.prototype.GetModifiedTS=wn.prototype.GetModifiedTS=function(){return Me(this.ptr)},wn.prototype.GetAttributes=wn.prototype.GetAttributes=function(){return ue(this.ptr)},wn.prototype.__destroy__=wn.prototype.__destroy__=function(){Ke(this.ptr)},(ct.prototype=Object.create(G.prototype)).constructor=ct,ct.prototype.__class__=ct,ct.__cache__={},u.Vfs=ct,ct.prototype.Malloc=ct.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(et(this.ptr,p),$e)},ct.prototype.Free=ct.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),A(this.ptr,p)},ct.prototype.Nullptr=ct.prototype.Nullptr=function(){return Oe(St(this.ptr),$e)},ct.prototype.AllocateImage=ct.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),At(this.ptr,p)},ct.prototype.MountImage=ct.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!kt(this.ptr,p)},ct.prototype.UnmountImage=ct.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Sn(this.ptr,p)},ct.prototype.SwitchSlot=ct.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Dr(this.ptr,p)},ct.prototype.GetPendingImageSize=ct.prototype.GetPendingImageSize=function(){return jr(this.ptr)},ct.prototype.GetSize=ct.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),Wr(this.ptr,p)},ct.prototype.GetPendingImage=ct.prototype.GetPendingImage=function(){return Oe(Kn(this.ptr),$e)},ct.prototype.GetImage=ct.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Yi(this.ptr,p),$e)},ct.prototype.GetDirtyPages=ct.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Bn(this.ptr,p),$e)},ct.prototype.RenameFile=ct.prototype.RenameFile=function(p,x){var re=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x=x&&"object"==typeof x?x.ptr:Pr(x),Fo(re,p,x)},ct.prototype.ChmodFile=ct.prototype.ChmodFile=function(p,x,re){var Fe=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x&&"object"==typeof x&&(x=x.ptr),re&&"object"==typeof re&&(re=re.ptr),Io(Fe,p,x,re)},ct.prototype.StatFile=ct.prototype.StatFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Ki(x,p)},ct.prototype.UnlinkFile=ct.prototype.UnlinkFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),ka(x,p)},ct.prototype.Mkdir=ct.prototype.Mkdir=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),na(x,p)},ct.prototype.GetEntry=ct.prototype.GetEntry=function(){return Oe(Ps(this.ptr),wn)},ct.prototype.BytesFree=ct.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),ra(this.ptr,p)},ct.prototype.BytesTotal=ct.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),Xi(this.ptr,p)},ct.prototype.ReadFile=ct.prototype.ReadFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),!!Ra(x,p)},ct.prototype.GetCurrentFileSize=ct.prototype.GetCurrentFileSize=function(){return oa(this.ptr)},ct.prototype.GetCurrentFileContent=ct.prototype.GetCurrentFileContent=function(){return Oe(ia(this.ptr),$e)},ct.prototype.ReleaseCurrentFile=ct.prototype.ReleaseCurrentFile=function(){Pa(this.ptr)},ct.prototype.WriteFile=ct.prototype.WriteFile=function(p,x,re){var Fe=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x&&"object"==typeof x&&(x=x.ptr),re&&"object"==typeof re&&(re=re.ptr),Oa(Fe,p,x,re)},ct.prototype.__destroy__=ct.prototype.__destroy__=function(){Na(this.ptr)},(sr.prototype=Object.create(G.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},u.ReaddirContext=sr,sr.prototype.Next=sr.prototype.Next=function(){return sa(this.ptr)},sr.prototype.GetEntry=sr.prototype.GetEntry=function(){return Oe(La(this.ptr),wn)},sr.prototype.GetStatus=sr.prototype.GetStatus=function(){return $a(this.ptr)},sr.prototype.GetError=sr.prototype.GetError=function(){return Er(this.ptr)},sr.prototype.GetErrorDescription=sr.prototype.GetErrorDescription=function(){return pe(aa(this.ptr))},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){po(this.ptr)},(zn.prototype=Object.create(G.prototype)).constructor=zn,zn.prototype.__class__=zn,zn.__cache__={},u.ExportZipContext=zn,zn.prototype.AddFile=zn.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(la(x,p),zn)},zn.prototype.AddDirectory=zn.prototype.AddDirectory=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(Os(x,p),zn)},zn.prototype.Continue=zn.prototype.Continue=function(){return eo(this.ptr)},zn.prototype.GetState=zn.prototype.GetState=function(){return Ns(this.ptr)},zn.prototype.GetZipContent=zn.prototype.GetZipContent=function(){return Oe(Ba(this.ptr),$e)},zn.prototype.GetZipSize=zn.prototype.GetZipSize=function(){return Vn(this.ptr)},zn.prototype.GetErrorItem=zn.prototype.GetErrorItem=function(){return pe(ps(this.ptr))},zn.prototype.__destroy__=zn.prototype.__destroy__=function(){Ir(this.ptr)},(Or.prototype=Object.create(G.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},u.DeleteRecursiveContext=Or,Or.prototype.AddFile=Or.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(ml(x,p),Or)},Or.prototype.Continue=Or.prototype.Continue=function(){return Va(this.ptr)},Or.prototype.GetState=Or.prototype.GetState=function(){return Hn(this.ptr)},Or.prototype.GetFailingPath=Or.prototype.GetFailingPath=function(){return pe(Yt(this.ptr))},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){hs(this.ptr)},(ar.prototype=Object.create(G.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},u.UnzipContext=ar,ar.prototype.GetState=ar.prototype.GetState=function(){return gl(this.ptr)},ar.prototype.Continue=ar.prototype.Continue=function(){return ca(this.ptr)},ar.prototype.ContinueWithOverwrite=ar.prototype.ContinueWithOverwrite=function(){return Xe(this.ptr)},ar.prototype.GetCurrentEntry=ar.prototype.GetCurrentEntry=function(){return pe(Qi(this.ptr))},ar.prototype.GetCollisionPath=ar.prototype.GetCollisionPath=function(){return pe(ms(this.ptr))},ar.prototype.GetEntriesTotal=ar.prototype.GetEntriesTotal=function(){return Ji(this.ptr)},ar.prototype.GetEntriesSuccess=ar.prototype.GetEntriesSuccess=function(){return ua(this.ptr)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){da(this.ptr)},(We.prototype=Object.create(G.prototype)).constructor=We,We.prototype.__class__=We,We.__cache__={},u.PasteContext=We,We.prototype.AddFile=We.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(br(x,p),We)},We.prototype.SetDeleteAfterCopy=We.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(qo(this.ptr,p),We)},We.prototype.GetState=We.prototype.GetState=function(){return Bt(this.ptr)},We.prototype.Continue=We.prototype.Continue=function(){return Fn(this.ptr)},We.prototype.ContinueWithOverwrite=We.prototype.ContinueWithOverwrite=function(){return jl(this.ptr)},We.prototype.GetCurrentEntry=We.prototype.GetCurrentEntry=function(){return pe(_l(this.ptr))},We.prototype.GetCollisionPath=We.prototype.GetCollisionPath=function(){return pe(vl(this.ptr))},We.prototype.GetEntriesSuccess=We.prototype.GetEntriesSuccess=function(){return Gl(this.ptr)},We.prototype.__destroy__=We.prototype.__destroy__=function(){qn(this.ptr)},S.ready});me.exports=we},276:(me,we,C)=>{"use strict";C.d(we,{c:()=>Z,r:()=>k});const Z=(O,N)=>{O.componentOnReady?O.componentOnReady().then(te=>N(te)):k(()=>N(O))},k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O)},7687:(me,we,C)=>{"use strict";C.d(we,{L:()=>S,a:()=>u,b:()=>Z,c:()=>Y,d:()=>j,g:()=>O});const S="ionViewWillEnter",u="ionViewDidEnter",Z="ionViewWillLeave",Y="ionViewDidLeave",j="ionViewWillUnload",O=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(me,we,C)=>{"use strict";C.d(we,{c:()=>ve});var S=C(6940),u=C(4675);let Z;const j=ie=>ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R=ie=>(void 0===Z&&(Z=void 0===ie.style.animationName&&void 0!==ie.style.webkitAnimationName?"-webkit-":""),Z),E=(ie,H,M)=>{const J=H.startsWith("animation")?R(ie):"";ie.style.setProperty(J+H,M)},I=(ie,H)=>{const M=H.startsWith("animation")?R(ie):"";ie.style.removeProperty(M+H)},k=[],de=(ie=[],H)=>{if(void 0!==H){const M=Array.isArray(H)?H:[H];return[...ie,...M]}return ie},ve=ie=>{let H,M,J,le,se,xe,D,ze,Pe,je,at,lt,qe,Re=[],O=[],N=[],te=!1,X={},W=[],he=[],Be={},ht=0,Gt=!1,Ne=!1,$t=!0,fe=!1,Ue=!0,wt=!1;const Ut=ie,jt=[],Te=[],Se=[],ge=[],Je=[],yt=[],Nt=[],dn=[],rn=[],pn=[],Jt=[],_r="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,Wn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_r,So=()=>Jt,ro=(m,w)=>{const $=w.findIndex(ne=>ne.c===m);$>-1&&w.splice($,1)},go=(m,w)=>((w?.oneTimeCallback?Te:jt).push({c:m,o:w}),qe),pe=()=>{if(Wn)Jt.forEach(m=>{m.cancel()}),Jt.length=0;else{const m=ge.slice();(0,u.r)(()=>{m.forEach(w=>{I(w,"animation-name"),I(w,"animation-duration"),I(w,"animation-timing-function"),I(w,"animation-iteration-count"),I(w,"animation-delay"),I(w,"animation-play-state"),I(w,"animation-fill-mode"),I(w,"animation-direction")})})}},be=()=>{yt.forEach(m=>{m?.parentNode&&m.parentNode.removeChild(m)}),yt.length=0},Oo=()=>void 0!==se?se:D?D.getFill():"both",In=()=>void 0!==Pe?Pe:void 0!==xe?xe:D?D.getDirection():"normal",vr=()=>Gt?"linear":void 0!==J?J:D?D.getEasing():"linear",yr=()=>Ne?0:void 0!==je?je:void 0!==M?M:D?D.getDuration():0,xn=()=>void 0!==le?le:D?D.getIterations():1,Nn=()=>void 0!==at?at:void 0!==H?H:D?D.getDelay():0,Jr=()=>{0!==ht&&(ht--,0===ht&&((()=>{Wi(),rn.forEach(Me=>Me()),pn.forEach(Me=>Me());const m=$t?1:0,w=W,$=he,ne=Be;ge.forEach(Me=>{const ue=Me.classList;w.forEach(Ke=>ue.add(Ke)),$.forEach(Ke=>ue.remove(Ke));for(const Ke in ne)ne.hasOwnProperty(Ke)&&E(Me,Ke,ne[Ke])}),je=void 0,Pe=void 0,at=void 0,jt.forEach(Me=>Me.c(m,qe)),Te.forEach(Me=>Me.c(m,qe)),Te.length=0,Ue=!0,$t&&(fe=!0),$t=!0})(),D&&D.animationFinish()))},Hi=(m=!0)=>{be();const w=(ie=>(ie.forEach(H=>{for(const M in H)if(H.hasOwnProperty(M)){const J=H[M];if("easing"===M)H["animation-timing-function"]=J,delete H[M];else{const le=j(M);le!==M&&(H[le]=J,delete H[M])}}}),ie))(Re);ge.forEach($=>{if(w.length>0){const ne=((ie=[])=>ie.map(H=>{const M=H.offset,J=[];for(const le in H)H.hasOwnProperty(le)&&"offset"!==le&&J.push(`${le}: ${H[le]};`);return`${100*M}% { ${J.join(" ")} }`}).join(" "))(w);lt=void 0!==ie?ie:(ie=>{let H=k.indexOf(ie);return H<0&&(H=k.push(ie)-1),`ion-animation-${H}`})(ne);const Me=((ie,H,M)=>{var J;const le=(ie=>{const H=void 0!==ie.getRootNode?ie.getRootNode():ie;return H.head||H})(M),se=R(M),xe=le.querySelector("#"+ie);if(xe)return xe;const Re=(null!==(J=M.ownerDocument)&&void 0!==J?J:document).createElement("style");return Re.id=ie,Re.textContent=`@${se}keyframes ${ie} { ${H} } @${se}keyframes ${ie}-alt { ${H} }`,le.appendChild(Re),Re})(lt,ne,$);yt.push(Me),E($,"animation-duration",`${yr()}ms`),E($,"animation-timing-function",vr()),E($,"animation-delay",`${Nn()}ms`),E($,"animation-fill-mode",Oo()),E($,"animation-direction",In());const ue=xn()===1/0?"infinite":xn().toString();E($,"animation-iteration-count",ue),E($,"animation-play-state","paused"),m&&E($,"animation-name",`${Me.id}-alt`),(0,u.r)(()=>{E($,"animation-name",Me.id||null)})}})},Ei=(m=!0)=>{(()=>{Nt.forEach(ne=>ne()),dn.forEach(ne=>ne());const m=O,w=N,$=X;ge.forEach(ne=>{const Me=ne.classList;m.forEach(ue=>Me.add(ue)),w.forEach(ue=>Me.remove(ue));for(const ue in $)$.hasOwnProperty(ue)&&E(ne,ue,$[ue])})})(),Re.length>0&&(Wn?(ge.forEach(m=>{const w=m.animate(Re,{id:Ut,delay:Nn(),duration:yr(),easing:vr(),iterations:xn(),fill:Oo(),direction:In()});w.pause(),Jt.push(w)}),Jt.length>0&&(Jt[0].onfinish=()=>{Jr()})):Hi(m)),te=!0},vo=m=>{if(m=Math.min(Math.max(m,0),.9999),Wn)Jt.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+yr()*m,w.pause()});else{const w=`-${yr()*m}ms`;ge.forEach($=>{Re.length>0&&(E($,"animation-delay",w),E($,"animation-play-state","paused"))})}},Ii=m=>{Jt.forEach(w=>{w.effect.updateTiming({delay:Nn(),duration:yr(),easing:vr(),iterations:xn(),fill:Oo(),direction:In()})}),void 0!==m&&vo(m)},zi=(m=!0,w)=>{(0,u.r)(()=>{ge.forEach($=>{E($,"animation-name",lt||null),E($,"animation-duration",`${yr()}ms`),E($,"animation-timing-function",vr()),E($,"animation-delay",void 0!==w?`-${w*yr()}ms`:`${Nn()}ms`),E($,"animation-fill-mode",Oo()||null),E($,"animation-direction",In()||null);const ne=xn()===1/0?"infinite":xn().toString();E($,"animation-iteration-count",ne),m&&E($,"animation-name",`${lt}-alt`),(0,u.r)(()=>{E($,"animation-name",lt||null)})})})},zr=(m=!1,w=!0,$)=>(m&&Je.forEach(ne=>{ne.update(m,w,$)}),Wn?Ii($):zi(w,$),qe),Tn=()=>{te&&(Wn?Jt.forEach(m=>{m.pause()}):ge.forEach(m=>{E(m,"animation-play-state","paused")}),wt=!0)},ta=()=>{ze=void 0,Jr()},Wi=()=>{ze&&clearTimeout(ze)},ds=m=>new Promise(w=>{m?.sync&&(Ne=!0,go(()=>Ne=!1,{oneTimeCallback:!0})),te||Ei(),fe&&(Wn?(vo(0),Ii()):zi(),fe=!1),Ue&&(ht=Je.length+1,Ue=!1);const $=()=>{ro(ne,Te),w()},ne=()=>{ro($,Se),w()};go(ne,{oneTimeCallback:!0}),((m,w)=>{Se.push({c:m,o:{oneTimeCallback:!0}})})($),Je.forEach(Me=>{Me.play()}),Wn?(Jt.forEach(m=>{m.play()}),(0===Re.length||0===ge.length)&&Jr()):(()=>{if(Wi(),(0,u.r)(()=>{ge.forEach(m=>{Re.length>0&&E(m,"animation-play-state","running")})}),0===Re.length||0===ge.length)Jr();else{const m=Nn()||0,w=yr()||0,$=xn()||1;isFinite($)&&(ze=setTimeout(ta,m+w*$+100)),((ie,H)=>{let M;const J={passive:!0},se=xe=>{ie===xe.target&&(M&&M(),Wi(),(0,u.r)(()=>{ge.forEach(m=>{I(m,"animation-duration"),I(m,"animation-delay"),I(m,"animation-play-state")}),(0,u.r)(Jr)}))};ie&&(ie.addEventListener("webkitAnimationEnd",se,J),ie.addEventListener("animationend",se,J),M=()=>{ie.removeEventListener("webkitAnimationEnd",se,J),ie.removeEventListener("animationend",se,J)})})(ge[0])}})(),wt=!1}),qi=(m,w)=>{const $=Re[0];return void 0===$||void 0!==$.offset&&0!==$.offset?Re=[{offset:0,[m]:w},...Re]:$[m]=w,qe};return qe={parentAnimation:D,elements:ge,childAnimations:Je,id:Ut,animationFinish:Jr,from:qi,to:(m,w)=>{const $=Re[Re.length-1];return void 0===$||void 0!==$.offset&&1!==$.offset?Re=[...Re,{offset:1,[m]:w}]:$[m]=w,qe},fromTo:(m,w,$)=>qi(m,w).to(m,$),parent:m=>(D=m,qe),play:ds,pause:()=>(Je.forEach(m=>{m.pause()}),Tn(),qe),stop:()=>{Je.forEach(m=>{m.stop()}),te&&(pe(),te=!1),Gt=!1,Ne=!1,Ue=!0,Pe=void 0,je=void 0,at=void 0,ht=0,fe=!1,$t=!0,wt=!1,Se.forEach(m=>m.c(0,qe)),Se.length=0},destroy:m=>(Je.forEach(w=>{w.destroy(m)}),(m=>{pe(),m&&be()})(m),ge.length=0,Je.length=0,Re.length=0,jt.length=0,Te.length=0,te=!1,Ue=!0,qe),keyframes:m=>{const w=Re!==m;return Re=m,w&&(m=>{Wn?So().forEach(w=>{const $=w.effect;if($.setKeyframes)$.setKeyframes(m);else{const ne=new KeyframeEffect($.target,m,$.getTiming());w.effect=ne}}):Hi()})(Re),qe},addAnimation:m=>{if(null!=m)if(Array.isArray(m))for(const w of m)w.parent(qe),Je.push(w);else m.parent(qe),Je.push(m);return qe},addElement:m=>{if(null!=m)if(1===m.nodeType)ge.push(m);else if(m.length>=0)for(let w=0;w<m.length;w++)ge.push(m[w]);else console.error("Invalid addElement value");return qe},update:zr,fill:m=>(se=m,zr(!0),qe),direction:m=>(xe=m,zr(!0),qe),iterations:m=>(le=m,zr(!0),qe),duration:m=>(!Wn&&0===m&&(m=1),M=m,zr(!0),qe),easing:m=>(J=m,zr(!0),qe),delay:m=>(H=m,zr(!0),qe),getWebAnimations:So,getKeyframes:()=>Re,getFill:Oo,getDirection:In,getDelay:Nn,getIterations:xn,getEasing:vr,getDuration:yr,afterAddRead:m=>(rn.push(m),qe),afterAddWrite:m=>(pn.push(m),qe),afterClearStyles:(m=[])=>{for(const w of m)Be[w]="";return qe},afterStyles:(m={})=>(Be=m,qe),afterRemoveClass:m=>(he=de(he,m),qe),afterAddClass:m=>(W=de(W,m),qe),beforeAddRead:m=>(Nt.push(m),qe),beforeAddWrite:m=>(dn.push(m),qe),beforeClearStyles:(m=[])=>{for(const w of m)X[w]="";return qe},beforeStyles:(m={})=>(X=m,qe),beforeRemoveClass:m=>(N=de(N,m),qe),beforeAddClass:m=>(O=de(O,m),qe),onFinish:go,isRunning:()=>0!==ht&&!wt,progressStart:(m=!1,w)=>(Je.forEach($=>{$.progressStart(m,w)}),Tn(),Gt=m,te||Ei(),zr(!1,!0,w),qe),progressStep:m=>(Je.forEach(w=>{w.progressStep(m)}),vo(m),qe),progressEnd:(m,w,$)=>(Gt=!1,Je.forEach(ne=>{ne.progressEnd(m,w,$)}),void 0!==$&&(je=$),fe=!1,$t=!0,0===m?(Pe="reverse"===In()?"normal":"reverse","reverse"===Pe&&($t=!1),Wn?(zr(),vo(1-w)):(at=(1-w)*yr()*-1,zr(!1,!1))):1===m&&(Wn?(zr(),vo(w)):(at=w*yr()*-1,zr(!1,!1))),void 0!==m&&!D&&ds(),qe)}}},2984:(me,we,C)=>{"use strict";C.d(we,{E:()=>F,I:()=>E,a:()=>S,s:()=>I});const S=k=>{try{if(k instanceof E)return k.value;if(!Y()||"string"!=typeof k||""===k)return k;if(k.includes("onload="))return"";const P=document.createDocumentFragment(),T=document.createElement("div");P.appendChild(T),T.innerHTML=k,R.forEach(ie=>{const H=P.querySelectorAll(ie);for(let M=H.length-1;M>=0;M--){const J=H[M];J.parentNode?J.parentNode.removeChild(J):P.removeChild(J);const le=Z(J);for(let se=0;se<le.length;se++)u(le[se])}});const B=Z(P);for(let ie=0;ie<B.length;ie++)u(B[ie]);const de=document.createElement("div");de.appendChild(P);const ve=de.querySelector("div");return null!==ve?ve.innerHTML:de.innerHTML}catch(P){return console.error(P),""}},u=k=>{if(k.nodeType&&1!==k.nodeType)return;if(typeof NamedNodeMap<"u"&&!(k.attributes instanceof NamedNodeMap))return void k.remove();for(let T=k.attributes.length-1;T>=0;T--){const B=k.attributes.item(T),de=B.name;if(!j.includes(de.toLowerCase())){k.removeAttribute(de);continue}const ve=B.value,ie=k[de];(null!=ve&&ve.toLowerCase().includes("javascript:")||null!=ie&&ie.toLowerCase().includes("javascript:"))&&k.removeAttribute(de)}const P=Z(k);for(let T=0;T<P.length;T++)u(P[T])},Z=k=>null!=k.children?k.children:k.childNodes,Y=()=>{var k;const P=window,T=null===(k=P?.Ionic)||void 0===k?void 0:k.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},j=["class","id","href","src","name","slot"],R=["script","style","iframe","meta","link","object","embed"];class E{constructor(P){this.value=P}}const I=k=>{const P=window,T=P.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return P.Ionic=P.Ionic||{},P.Ionic.config=Object.assign(Object.assign({},P.Ionic.config),k),P.Ionic.config},F=!1},8573:(me,we,C)=>{"use strict";C.d(we,{C:()=>j,a:()=>Z,d:()=>Y});var S=C(3918),u=C(4675);const Z=function(){var R=(0,S.Z)(function*(E,I,K,F,k,P){var T;if(E)return E.attachViewToDom(I,K,k,F);if(!(P||"string"==typeof K||K instanceof HTMLElement))throw new Error("framework delegate is missing");const B="string"==typeof K?null===(T=I.ownerDocument)||void 0===T?void 0:T.createElement(K):K;return F&&F.forEach(de=>B.classList.add(de)),k&&Object.assign(B,k),I.appendChild(B),yield new Promise(de=>(0,u.c)(B,de)),B});return function(I,K,F,k,P,T){return R.apply(this,arguments)}}(),Y=(R,E)=>{if(E){if(R)return R.removeViewFromDom(E.parentElement,E);E.remove()}return Promise.resolve()},j=()=>{let R,E;return{attachViewToDom:function(){var F=(0,S.Z)(function*(k,P,T={},B=[]){var de,ve;let ie;if(R=k,P){const M="string"==typeof P?null===(de=R.ownerDocument)||void 0===de?void 0:de.createElement(P):P;B.forEach(J=>M.classList.add(J)),Object.assign(M,T),R.appendChild(M),ie=M,yield new Promise(J=>(0,u.c)(M,J))}else if(R.children.length>0&&("ION-MODAL"===R.tagName||"ION-POPOVER"===R.tagName)&&!(ie=R.children[0]).classList.contains("ion-delegate-host")){const J=null===(ve=R.ownerDocument)||void 0===ve?void 0:ve.createElement("div");J.classList.add("ion-delegate-host"),B.forEach(le=>J.classList.add(le)),J.append(...R.children),R.appendChild(J),ie=J}const H=document.querySelector("ion-app")||document.body;return E=document.createComment("ionic teleport"),R.parentNode.insertBefore(E,R),H.appendChild(R),ie??R});return function(P,T){return F.apply(this,arguments)}}(),removeViewFromDom:()=>(R&&E&&(E.parentNode.insertBefore(R,E),E.remove()),Promise.resolve())}}},4967:(me,we,C)=>{"use strict";C.d(we,{G:()=>j});class u{constructor(E,I,K,F,k){this.id=I,this.name=K,this.disableScroll=k,this.priority=1e6*F+I,this.ctrl=E}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const E=this.ctrl.capture(this.name,this.id,this.priority);return E&&this.disableScroll&&this.ctrl.disableScroll(this.id),E}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Z{constructor(E,I,K,F){this.id=I,this.disable=K,this.disableScroll=F,this.ctrl=E}block(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.disableGesture(E,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.enableGesture(E,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Y="backdrop-no-scroll",j=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(E){var I;return new u(this,this.newID(),E.name,null!==(I=E.priority)&&void 0!==I?I:0,!!E.disableScroll)}createBlocker(E={}){return new Z(this,this.newID(),E.disable,!!E.disableScroll)}start(E,I,K){return this.canStart(E)?(this.requestedStart.set(I,K),!0):(this.requestedStart.delete(I),!1)}capture(E,I,K){if(!this.start(E,I,K))return!1;const F=this.requestedStart;let k=-1e4;if(F.forEach(P=>{k=Math.max(k,P)}),k===K){this.capturedId=I,F.clear();const P=new CustomEvent("ionGestureCaptured",{detail:{gestureName:E}});return document.dispatchEvent(P),!0}return F.delete(I),!1}release(E){this.requestedStart.delete(E),this.capturedId===E&&(this.capturedId=void 0)}disableGesture(E,I){let K=this.disabledGestures.get(E);void 0===K&&(K=new Set,this.disabledGestures.set(E,K)),K.add(I)}enableGesture(E,I){const K=this.disabledGestures.get(E);void 0!==K&&K.delete(I)}disableScroll(E){this.disabledScroll.add(E),1===this.disabledScroll.size&&document.body.classList.add(Y)}enableScroll(E){this.disabledScroll.delete(E),0===this.disabledScroll.size&&document.body.classList.remove(Y)}canStart(E){return!(void 0!==this.capturedId||this.isDisabled(E))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(E){const I=this.disabledGestures.get(E);return!!(I&&I.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(me,we,C)=>{"use strict";C.r(we),C.d(we,{MENU_BACK_BUTTON_PRIORITY:()=>j,OVERLAY_BACK_BUTTON_PRIORITY:()=>Y,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>Z});var S=C(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const R=document;let E=!1;R.addEventListener("backbutton",()=>{if(E)return;let I=0,K=[];const F=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(T,B){K.push({priority:T,handler:B,id:I++})}}});R.dispatchEvent(F);const k=function(){var T=(0,S.Z)(function*(B){try{if(B?.handler){const de=B.handler(P);null!=de&&(yield de)}}catch(de){console.error(de)}});return function(de){return T.apply(this,arguments)}}(),P=()=>{if(K.length>0){let T={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};K.forEach(B=>{B.priority>=T.priority&&(T=B)}),E=!0,K=K.filter(B=>B.id!==T.id),k(T).then(()=>E=!1)}};P()})},Y=100,j=99},4675:(me,we,C)=>{"use strict";C.d(we,{a:()=>I,b:()=>K,c:()=>Z,d:()=>ve,e:()=>de,f:()=>B,g:()=>F,h:()=>T,i:()=>E,j:()=>se,k:()=>j,l:()=>ie,m:()=>Y,n:()=>P,o:()=>H,p:()=>le,q:()=>xe,r:()=>k,s:()=>Re,t:()=>S,u:()=>M,v:()=>J});const S=(O,N=0)=>new Promise(te=>{u(O,N,te)}),u=(O,N=0,te)=>{let D,X;const W={passive:!0},Be=()=>{D&&D()},ht=Gt=>{(void 0===Gt||O===Gt.target)&&(Be(),te(Gt))};return O&&(O.addEventListener("webkitTransitionEnd",ht,W),O.addEventListener("transitionend",ht,W),X=setTimeout(ht,N+500),D=()=>{X&&(clearTimeout(X),X=void 0),O.removeEventListener("webkitTransitionEnd",ht,W),O.removeEventListener("transitionend",ht,W)}),Be},Z=(O,N)=>{O.componentOnReady?O.componentOnReady().then(te=>N(te)):k(()=>N(O))},Y=O=>void 0!==O.componentOnReady,j=(O,N=[])=>{const te={};return N.forEach(D=>{O.hasAttribute(D)&&(null!==O.getAttribute(D)&&(te[D]=O.getAttribute(D)),O.removeAttribute(D))}),te},R=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],E=(O,N)=>{let te=R;return N&&N.length>0&&(te=te.filter(D=>!N.includes(D))),j(O,te)},I=(O,N,te,D)=>{var X;if(typeof window<"u"){const W=window,he=null===(X=W?.Ionic)||void 0===X?void 0:X.config;if(he){const Be=he.get("_ael");if(Be)return Be(O,N,te,D);if(he._ael)return he._ael(O,N,te,D)}}return O.addEventListener(N,te,D)},K=(O,N,te,D)=>{var X;if(typeof window<"u"){const W=window,he=null===(X=W?.Ionic)||void 0===X?void 0:X.config;if(he){const Be=he.get("_rel");if(Be)return Be(O,N,te,D);if(he._rel)return he._rel(O,N,te,D)}}return O.removeEventListener(N,te,D)},F=(O,N=O)=>O.shadowRoot||N,k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O),P=O=>!!O.shadowRoot&&!!O.attachShadow,T=O=>{const N=O.closest("ion-item");return N?N.querySelector("ion-label"):null},B=O=>{if(O.focus(),O.classList.contains("ion-focusable")){const N=O.closest("ion-app");N&&N.setFocus([O])}},de=(O,N)=>{let te;const D=O.getAttribute("aria-labelledby"),X=O.id;let W=null!==D&&""!==D.trim()?D:N+"-lbl",he=null!==D&&""!==D.trim()?document.getElementById(D):T(O);return he?(null===D&&(he.id=W),te=he.textContent,he.setAttribute("aria-hidden","true")):""!==X.trim()&&(he=document.querySelector(`label[for="${X}"]`),he&&(""!==he.id?W=he.id:he.id=W=`${X}-lbl`,te=he.textContent)),{label:he,labelId:W,labelText:te}},ve=(O,N,te,D,X)=>{if(O||P(N)){let W=N.querySelector("input.aux-input");W||(W=N.ownerDocument.createElement("input"),W.type="hidden",W.classList.add("aux-input"),N.appendChild(W)),W.disabled=X,W.name=te,W.value=D||""}},ie=(O,N,te)=>Math.max(O,Math.min(N,te)),H=(O,N)=>{if(!O){const te="ASSERT: "+N;throw console.error(te),new Error(te)}},M=O=>O.timeStamp||Date.now(),J=O=>{if(O){const N=O.changedTouches;if(N&&N.length>0){const te=N[0];return{x:te.clientX,y:te.clientY}}if(void 0!==O.pageX)return{x:O.pageX,y:O.pageY}}return{x:0,y:0}},le=O=>{const N="rtl"===document.dir;switch(O){case"start":return N;case"end":return!N;default:throw new Error(`"${O}" is not a valid value for [side]. Use "start" or "end" instead.`)}},se=(O,N)=>{const te=O._original||O;return{_original:O,emit:xe(te.emit.bind(te),N)}},xe=(O,N=0)=>{let te;return(...D)=>{clearTimeout(te),te=setTimeout(O,N,...D)}},Re=(O,N)=>{if(O??(O={}),N??(N={}),O===N)return!0;const te=Object.keys(O);if(te.length!==Object.keys(N).length)return!1;for(const D of te)if(!(D in N)||O[D]!==N[D])return!1;return!0}},4656:(me,we,C)=>{"use strict";C.d(we,{m:()=>T});var S=C(3918),u=C(6940),Z=C(1940),Y=C(6240),j=C(4675),R=C(5194),E=C(2723);const I=B=>(0,E.c)().duration(B?400:300),K=B=>{let de,ve;const ie=B.width+8,H=(0,E.c)(),M=(0,E.c)();B.isEndSide?(de=ie+"px",ve="0px"):(de=-ie+"px",ve="0px"),H.addElement(B.menuInnerEl).fromTo("transform",`translateX(${de})`,`translateX(${ve})`);const le="ios"===(0,R.b)(B),se=le?.2:.25;return M.addElement(B.backdropEl).fromTo("opacity",.01,se),I(le).addAnimation([H,M])},F=B=>{let de,ve;const ie=(0,R.b)(B),H=B.width;B.isEndSide?(de=-H+"px",ve=H+"px"):(de=H+"px",ve=-H+"px");const M=(0,E.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${ve})`,"translateX(0px)"),J=(0,E.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`),le=(0,E.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return I("ios"===ie).addAnimation([M,J,le])},k=B=>{const de=(0,R.b)(B),ve=B.width*(B.isEndSide?-1:1)+"px",ie=(0,E.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`);return I("ios"===de).addAnimation(ie)},T=(()=>{const B=new Map,de=[],ve=function(){var Pe=(0,S.Z)(function*(je){const at=yield xe(je,!0);return!!at&&at.open()});return function(at){return Pe.apply(this,arguments)}}(),ie=function(){var Pe=(0,S.Z)(function*(je){const at=yield void 0!==je?xe(je,!0):Re();return void 0!==at&&at.close()});return function(at){return Pe.apply(this,arguments)}}(),H=function(){var Pe=(0,S.Z)(function*(je){const at=yield xe(je,!0);return!!at&&at.toggle()});return function(at){return Pe.apply(this,arguments)}}(),M=function(){var Pe=(0,S.Z)(function*(je,at){const $t=yield xe(at);return $t&&($t.disabled=!je),$t});return function(at,$t){return Pe.apply(this,arguments)}}(),J=function(){var Pe=(0,S.Z)(function*(je,at){const $t=yield xe(at);return $t&&($t.swipeGesture=je),$t});return function(at,$t){return Pe.apply(this,arguments)}}(),le=function(){var Pe=(0,S.Z)(function*(je){if(null!=je){const at=yield xe(je);return void 0!==at&&at.isOpen()}return void 0!==(yield Re())});return function(at){return Pe.apply(this,arguments)}}(),se=function(){var Pe=(0,S.Z)(function*(je){const at=yield xe(je);return!!at&&!at.disabled});return function(at){return Pe.apply(this,arguments)}}(),xe=function(){var Pe=(0,S.Z)(function*(je,at=!1){if(yield ze(),"start"===je||"end"===je){const fe=de.filter(lt=>lt.side===je&&!lt.disabled);if(fe.length>=1)return fe.length>1&&at&&(0,Y.p)(`menuController queried for a menu on the "${je}" side, but ${fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fe.map(lt=>lt.el)),fe[0].el;const Ue=de.filter(lt=>lt.side===je);if(Ue.length>=1)return Ue.length>1&&at&&(0,Y.p)(`menuController queried for a menu on the "${je}" side, but ${Ue.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ue.map(lt=>lt.el)),Ue[0].el}else if(null!=je)return Ne(fe=>fe.menuId===je);return Ne(fe=>!fe.disabled)||(de.length>0?de[0].el:void 0)});return function(at){return Pe.apply(this,arguments)}}(),Re=function(){var Pe=(0,S.Z)(function*(){return yield ze(),Be()});return function(){return Pe.apply(this,arguments)}}(),O=function(){var Pe=(0,S.Z)(function*(){return yield ze(),ht()});return function(){return Pe.apply(this,arguments)}}(),N=function(){var Pe=(0,S.Z)(function*(){return yield ze(),Gt()});return function(){return Pe.apply(this,arguments)}}(),te=(Pe,je)=>{B.set(Pe,je)},W=function(){var Pe=(0,S.Z)(function*(je,at,$t){if(Gt())return!1;if(at){const fe=yield Re();fe&&je.el!==fe&&(yield fe.setOpen(!1,!1))}return je._setOpen(at,$t)});return function(at,$t,fe){return Pe.apply(this,arguments)}}(),Be=()=>Ne(Pe=>Pe._isOpen),ht=()=>de.map(Pe=>Pe.el),Gt=()=>de.some(Pe=>Pe.isAnimating),Ne=Pe=>{const je=de.find(Pe);if(void 0!==je)return je.el},ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Pe=>new Promise(je=>(0,j.c)(Pe,je))));return te("reveal",k),te("push",F),te("overlay",K),null==u.d||u.d.addEventListener("ionBackButton",Pe=>{const je=Be();je&&Pe.detail.register(Z.MENU_BACK_BUTTON_PRIORITY,()=>je.close())}),{registerAnimation:te,get:xe,getMenus:O,getOpen:Re,isEnabled:se,swipeGesture:J,isAnimating:N,isOpen:le,enable:M,toggle:H,close:ie,open:ve,_getOpenSync:Be,_createAnimation:(Pe,je)=>{const at=B.get(Pe);if(!at)throw new Error("animation not registered");return at(je)},_register:Pe=>{de.indexOf(Pe)<0&&de.push(Pe)},_unregister:Pe=>{const je=de.indexOf(Pe);je>-1&&de.splice(je,1)},_setOpen:W}})()},4923:(me,we,C)=>{"use strict";C.r(we),C.d(we,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>K});var S=C(4967);const u=(T,B,de,ve)=>{const ie=Z(T)?{capture:!!ve.capture,passive:!!ve.passive}:!!ve.capture;let H,M;return T.__zone_symbol__addEventListener?(H="__zone_symbol__addEventListener",M="__zone_symbol__removeEventListener"):(H="addEventListener",M="removeEventListener"),T[H](B,de,ie),()=>{T[M](B,de,ie)}},Z=T=>{if(void 0===Y)try{const B=Object.defineProperty({},"passive",{get:()=>{Y=!0}});T.addEventListener("optsTest",()=>{},B)}catch{Y=!1}return!!Y};let Y;const E=T=>T instanceof Document?T:T.ownerDocument,K=T=>{let B=!1,de=!1,ve=!0,ie=!1;const H=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},T),M=H.canStart,J=H.onWillStart,le=H.onStart,se=H.onEnd,xe=H.notCaptured,Re=H.onMove,O=H.threshold,N=H.passive,te=H.blurOnStart,D={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((T,B,de)=>{const ve=de*(Math.PI/180),ie="x"===T,H=Math.cos(ve),M=B*B;let J=0,le=0,se=!1,xe=0;return{start(Re,O){J=Re,le=O,xe=0,se=!0},detect(Re,O){if(!se)return!1;const N=Re-J,te=O-le,D=N*N+te*te;if(D<M)return!1;const X=Math.sqrt(D),W=(ie?N:te)/X;return xe=W>H?1:W<-H?-1:0,se=!1,!0},isGesture:()=>0!==xe,getDirection:()=>xe}})(H.direction,H.threshold,H.maxAngle),W=S.G.createGesture({name:T.gestureName,priority:T.gesturePriority,disableScroll:T.disableScroll}),ht=()=>{B&&(ie=!1,Re&&Re(D))},Gt=()=>!!W.capture()&&(B=!0,ve=!1,D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime,J?J(D).then(ze):ze(),!0),ze=()=>{te&&(()=>{if(typeof document<"u"){const fe=document.activeElement;fe?.blur&&fe.blur()}})(),le&&le(D),ve=!0},Pe=()=>{B=!1,de=!1,ie=!1,ve=!0,W.release()},je=fe=>{const Ue=B,lt=ve;if(Pe(),lt){if(F(D,fe),Ue)return void(se&&se(D));xe&&xe(D)}},at=((T,B,de,ve,ie)=>{let H,M,J,le,se,xe,Re,O=0;const N=Ne=>{O=Date.now()+2e3,B(Ne)&&(!M&&de&&(M=u(T,"touchmove",de,ie)),J||(J=u(Ne.target,"touchend",D,ie)),le||(le=u(Ne.target,"touchcancel",D,ie)))},te=Ne=>{O>Date.now()||B(Ne)&&(!xe&&de&&(xe=u(E(T),"mousemove",de,ie)),Re||(Re=u(E(T),"mouseup",X,ie)))},D=Ne=>{W(),ve&&ve(Ne)},X=Ne=>{he(),ve&&ve(Ne)},W=()=>{M&&M(),J&&J(),le&&le(),M=J=le=void 0},he=()=>{xe&&xe(),Re&&Re(),xe=Re=void 0},Be=()=>{W(),he()},ht=(Ne=!0)=>{Ne?(H||(H=u(T,"touchstart",N,ie)),se||(se=u(T,"mousedown",te,ie))):(H&&H(),se&&se(),H=se=void 0,Be())};return{enable:ht,stop:Be,destroy:()=>{ht(!1),ve=de=B=void 0}}})(H.el,fe=>{const Ue=P(fe);return!(de||!ve||(k(fe,D),D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime=Ue,D.velocityX=D.velocityY=D.deltaX=D.deltaY=0,D.event=fe,M&&!1===M(D))||(W.release(),!W.start()))&&(de=!0,0===O?Gt():(X.start(D.startX,D.startY),!0))},fe=>{B?!ie&&ve&&(ie=!0,F(D,fe),requestAnimationFrame(ht)):(F(D,fe),X.detect(D.currentX,D.currentY)&&(!X.isGesture()||!Gt())&&$t())},je,{capture:!1,passive:N}),$t=()=>{Pe(),at.stop(),xe&&xe(D)};return{enable(fe=!0){fe||(B&&je(void 0),Pe()),at.enable(fe)},destroy(){W.destroy(),at.destroy()}}},F=(T,B)=>{if(!B)return;const de=T.currentX,ve=T.currentY,ie=T.currentTime;k(B,T);const H=T.currentX,M=T.currentY,le=(T.currentTime=P(B))-ie;if(le>0&&le<100){const xe=(M-ve)/le;T.velocityX=(H-de)/le*.7+.3*T.velocityX,T.velocityY=.7*xe+.3*T.velocityY}T.deltaX=H-T.startX,T.deltaY=M-T.startY,T.event=B},k=(T,B)=>{let de=0,ve=0;if(T){const ie=T.changedTouches;if(ie&&ie.length>0){const H=ie[0];de=H.clientX,ve=H.clientY}else void 0!==T.pageX&&(de=T.pageX,ve=T.pageY)}B.currentX=de,B.currentY=ve},P=T=>T.timeStamp||Date.now()},8044:(me,we,C)=>{"use strict";C.d(we,{b:()=>R,c:()=>E,d:()=>I,e:()=>O,g:()=>D,l:()=>xe,s:()=>N,t:()=>k,w:()=>Re});var S=C(3918),u=C(3426),Z=C(4675);const R="ionViewWillLeave",E="ionViewDidLeave",I="ionViewWillUnload",k=X=>new Promise((W,he)=>{(0,u.w)(()=>{P(X),T(X).then(Be=>{Be.animation&&Be.animation.destroy(),B(X),W(Be)},Be=>{B(X),he(Be)})})}),P=X=>{const W=X.enteringEl,he=X.leavingEl;te(W,he,X.direction),X.showGoBack?W.classList.add("can-go-back"):W.classList.remove("can-go-back"),N(W,!1),W.style.setProperty("pointer-events","none"),he&&(N(he,!1),he.style.setProperty("pointer-events","none"))},T=function(){var X=(0,S.Z)(function*(W){const he=yield de(W);return he&&u.B.isBrowser?ve(he,W):ie(W)});return function(he){return X.apply(this,arguments)}}(),B=X=>{const W=X.enteringEl,he=X.leavingEl;W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"),void 0!==he&&(he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events"))},de=function(){var X=(0,S.Z)(function*(W){return W.leavingEl&&W.animated&&0!==W.duration?W.animationBuilder?W.animationBuilder:"ios"===W.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(he){return X.apply(this,arguments)}}(),ve=function(){var X=(0,S.Z)(function*(W,he){yield H(he,!0);const Be=W(he.baseEl,he);le(he.enteringEl,he.leavingEl);const ht=yield J(Be,he);return he.progressCallback&&he.progressCallback(void 0),ht&&se(he.enteringEl,he.leavingEl),{hasCompleted:ht,animation:Be}});return function(he,Be){return X.apply(this,arguments)}}(),ie=function(){var X=(0,S.Z)(function*(W){const he=W.enteringEl,Be=W.leavingEl;return yield H(W,!1),le(he,Be),se(he,Be),{hasCompleted:!0}});return function(he){return X.apply(this,arguments)}}(),H=function(){var X=(0,S.Z)(function*(W,he){(void 0!==W.deepWait?W.deepWait:he)&&(yield Promise.all([O(W.enteringEl),O(W.leavingEl)])),yield M(W.viewIsReady,W.enteringEl)});return function(he,Be){return X.apply(this,arguments)}}(),M=function(){var X=(0,S.Z)(function*(W,he){W&&(yield W(he))});return function(he,Be){return X.apply(this,arguments)}}(),J=(X,W)=>{const he=W.progressCallback,Be=new Promise(ht=>{X.onFinish(Gt=>ht(1===Gt))});return he?(X.progressStart(!0),he(X)):X.play(),Be},le=(X,W)=>{xe(W,R),xe(X,"ionViewWillEnter")},se=(X,W)=>{xe(X,"ionViewDidEnter"),xe(W,E)},xe=(X,W)=>{if(X){const he=new CustomEvent(W,{bubbles:!1,cancelable:!1});X.dispatchEvent(he)}},Re=()=>new Promise(X=>(0,Z.r)(()=>(0,Z.r)(()=>X()))),O=function(){var X=(0,S.Z)(function*(W){const he=W;if(he){if(null!=he.componentOnReady){if(null!=(yield he.componentOnReady()))return}else if(null!=he.__registerHost)return void(yield new Promise(ht=>(0,Z.r)(ht)));yield Promise.all(Array.from(he.children).map(O))}});return function(he){return X.apply(this,arguments)}}(),N=(X,W)=>{W?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},te=(X,W,he)=>{void 0!==X&&(X.style.zIndex="back"===he?"99":"101"),void 0!==W&&(W.style.zIndex="100")},D=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6240:(me,we,C)=>{"use strict";C.d(we,{a:()=>u,b:()=>Z,p:()=>S});const S=(Y,...j)=>console.warn(`[Ionic Warning]: ${Y}`,...j),u=(Y,...j)=>console.error(`[Ionic Error]: ${Y}`,...j),Z=(Y,...j)=>console.error(`<${Y.tagName.toLowerCase()}> must be used inside ${j.join(" or ")}.`)},6940:(me,we,C)=>{"use strict";C.d(we,{d:()=>u,w:()=>S});const S=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3426:(me,we,C)=>{"use strict";C.d(we,{B:()=>P,H:()=>Gt,a:()=>ea,b:()=>Di,c:()=>lt,d:()=>jt,e:()=>fs,f:()=>Ut,g:()=>qe,h:()=>Be,i:()=>Oo,j:()=>T,r:()=>Hi,w:()=>ut});var S=C(3918);let Y,j,R,E=!1,I=!1,K=!1,F=!1,k=!1;const P={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},T=m=>{const w=new URL(m,Tn.$resourcesUrl$);return w.origin!==ni.location.origin?w.href:w.pathname},J="s-id",le="sty-id",Re="slot-fb{display:contents}slot-fb[hidden]{display:none}",O="http://www.w3.org/1999/xlink",N={},W=m=>"object"==(m=typeof m)||"function"===m;function he(m){var w,$,ne;return null!==(ne=null===($=null===(w=m.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===$?void 0:$.getAttribute("content"))&&void 0!==ne?ne:void 0}const Be=(m,w,...$)=>{let ne=null,Me=null,ue=null,Ke=!1,Ye=!1;const et=[],A=At=>{for(let kt=0;kt<At.length;kt++)ne=At[kt],Array.isArray(ne)?A(ne):null!=ne&&"boolean"!=typeof ne&&((Ke="function"!=typeof m&&!W(ne))&&(ne=String(ne)),Ke&&Ye?et[et.length-1].$text$+=ne:et.push(Ke?ht(null,ne):ne),Ye=Ke)};if(A($),w){w.key&&(Me=w.key),w.name&&(ue=w.name);{const At=w.className||w.class;At&&(w.class="object"!=typeof At?At:Object.keys(At).filter(kt=>At[kt]).join(" "))}}if("function"==typeof m)return m(null===w?{}:w,et,ze);const St=ht(m,null);return St.$attrs$=w,et.length>0&&(St.$children$=et),St.$key$=Me,St.$name$=ue,St},ht=(m,w)=>({$flags$:0,$tag$:m,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Gt={},ze={forEach:(m,w)=>m.map(Pe).forEach(w),map:(m,w)=>m.map(Pe).map(w).map(je)},Pe=m=>({vattrs:m.$attrs$,vchildren:m.$children$,vkey:m.$key$,vname:m.$name$,vtag:m.$tag$,vtext:m.$text$}),je=m=>{if("function"==typeof m.vtag){const $=Object.assign({},m.vattrs);return m.vkey&&($.key=m.vkey),m.vname&&($.name=m.vname),Be(m.vtag,$,...m.vchildren||[])}const w=ht(m.vtag,m.vtext);return w.$attrs$=m.vattrs,w.$children$=m.vchildren,w.$key$=m.vkey,w.$name$=m.vname,w},$t=(m,w,$,ne,Me,ue,Ke)=>{let Ye,et,A,St;if(1===ue.nodeType){for(Ye=ue.getAttribute("c-id"),Ye&&(et=Ye.split("."),(et[0]===Ke||"0"===et[0])&&(A={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(A),ue.removeAttribute("c-id"),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,m=A,ne&&"0"===A.$depth$&&(ne[A.$index$]=A.$elm$))),St=ue.childNodes.length-1;St>=0;St--)$t(m,w,$,ne,Me,ue.childNodes[St],Ke);if(ue.shadowRoot)for(St=ue.shadowRoot.childNodes.length-1;St>=0;St--)$t(m,w,$,ne,Me,ue.shadowRoot.childNodes[St],Ke)}else if(8===ue.nodeType)et=ue.nodeValue.split("."),(et[1]===Ke||"0"===et[1])&&(Ye=et[0],A={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ye?(A.$elm$=ue.nextSibling,A.$elm$&&3===A.$elm$.nodeType&&(A.$text$=A.$elm$.textContent,w.push(A),ue.remove(),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,ne&&"0"===A.$depth$&&(ne[A.$index$]=A.$elm$))):A.$hostId$===Ke&&("s"===Ye?(A.$tag$="slot",ue["s-sn"]=et[5]?A.$name$=et[5]:"",ue["s-sr"]=!0,ne&&(A.$elm$=kr.createElement(A.$tag$),A.$name$&&A.$elm$.setAttribute("name",A.$name$),ue.parentNode.insertBefore(A.$elm$,ue),ue.remove(),"0"===A.$depth$&&(ne[A.$index$]=A.$elm$)),$.push(A),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A):"r"===Ye&&(ne?ue.remove():(Me["s-cr"]=ue,ue["s-cn"]=!0))));else if(m&&"style"===m.$tag$){const At=ht(null,ue.textContent);At.$elm$=ue,At.$index$="0",m.$children$=[At]}},fe=(m,w)=>{if(1===m.nodeType){let $=0;for(;$<m.childNodes.length;$++)fe(m.childNodes[$],w);if(m.shadowRoot)for($=0;$<m.shadowRoot.childNodes.length;$++)fe(m.shadowRoot.childNodes[$],w)}else if(8===m.nodeType){const $=m.nodeValue.split(".");"o"===$[0]&&(w.set($[1]+"."+$[2],m),m.nodeValue="",m["s-en"]=$[3])}},lt=m=>No.push(m),qe=m=>Jr(m).$modeName$,Ut=m=>Jr(m).$hostElement$,jt=(m,w,$)=>{const ne=Ut(m);return{emit:Me=>Te(ne,w,{bubbles:!!(4&$),composed:!!(2&$),cancelable:!!(1&$),detail:Me})}},Te=(m,w,$)=>{const ne=Tn.ce(w,$);return m.dispatchEvent(ne),ne},Se=new WeakMap,ge=(m,w,$)=>{let ne=zr.get(m);Rs&&$?(ne=ne||new CSSStyleSheet,"string"==typeof ne?ne=w:ne.replaceSync(w)):ne=w,zr.set(m,ne)},Je=(m,w,$)=>{var ne;const Me=Nt(w,$),ue=zr.get(Me);if(m=11===m.nodeType?m:kr,ue)if("string"==typeof ue){let Ye,Ke=Se.get(m=m.head||m);if(Ke||Se.set(m,Ke=new Set),!Ke.has(Me)){if(m.host&&(Ye=m.querySelector(`[${le}="${Me}"]`)))Ye.innerHTML=ue;else{Ye=kr.createElement("style"),Ye.innerHTML=ue;const et=null!==(ne=Tn.$nonce$)&&void 0!==ne?ne:he(kr);null!=et&&Ye.setAttribute("nonce",et),m.insertBefore(Ye,m.querySelector("link"))}4&w.$flags$&&(Ye.innerHTML+=Re),Ke&&Ke.add(Me)}}else m.adoptedStyleSheets.includes(ue)||(m.adoptedStyleSheets=[...m.adoptedStyleSheets,ue]);return Me},Nt=(m,w)=>"sc-"+(w&&32&m.$flags$?m.$tagName$+"-"+w:m.$tagName$),dn=m=>m.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),rn=(m,w,$,ne,Me,ue)=>{if($!==ne){let Ke=Ei(m,w),Ye=w.toLowerCase();if("class"===w){const et=m.classList,A=Jt($),St=Jt(ne);et.remove(...A.filter(At=>At&&!St.includes(At))),et.add(...St.filter(At=>At&&!A.includes(At)))}else if("style"===w){for(const et in $)(!ne||null==ne[et])&&(et.includes("-")?m.style.removeProperty(et):m.style[et]="");for(const et in ne)(!$||ne[et]!==$[et])&&(et.includes("-")?m.style.setProperty(et,ne[et]):m.style[et]=ne[et])}else if("key"!==w)if("ref"===w)ne&&ne(m);else if(Ke||"o"!==w[0]||"n"!==w[1]){const et=W(ne);if((Ke||et&&null!==ne)&&!Me)try{if(m.tagName.includes("-"))m[w]=ne;else{const St=ne??"";"list"===w?Ke=!1:(null==$||m[w]!=St)&&(m[w]=St)}}catch{}let A=!1;Ye!==(Ye=Ye.replace(/^xlink\:?/,""))&&(w=Ye,A=!0),null==ne||!1===ne?(!1!==ne||""===m.getAttribute(w))&&(A?m.removeAttributeNS(O,w):m.removeAttribute(w)):(!Ke||4&ue||Me)&&!et&&(ne=!0===ne?"":ne,A?m.setAttributeNS(O,w,ne):m.setAttribute(w,ne))}else if(w="-"===w[2]?w.slice(3):Ei(ni,Ye)?Ye.slice(2):Ye[2]+w.slice(3),$||ne){const et=w.endsWith(_r);w=w.replace(Wn,""),$&&Tn.rel(m,w,$,et),ne&&Tn.ael(m,w,ne,et)}}},pn=/\s/,Jt=m=>m?m.split(pn):[],_r="Capture",Wn=new RegExp(_r+"$"),Wo=(m,w,$,ne)=>{const Me=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ue=m&&m.$attrs$||N,Ke=w.$attrs$||N;for(ne in ue)ne in Ke||rn(Me,ne,ue[ne],void 0,$,w.$flags$);for(ne in Ke)rn(Me,ne,ue[ne],Ke[ne],$,w.$flags$)},So=(m,w,$,ne)=>{var Me;const ue=w.$children$[$];let Ye,et,A,Ke=0;if(E||(K=!0,"slot"===ue.$tag$&&(Y&&ne.classList.add(Y+"-s"),ue.$flags$|=ue.$children$?2:1)),null!==ue.$text$)Ye=ue.$elm$=kr.createTextNode(ue.$text$);else if(1&ue.$flags$)Ye=ue.$elm$=kr.createTextNode("");else{if(F||(F="svg"===ue.$tag$),Ye=ue.$elm$=kr.createElementNS(F?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ue.$flags$?"slot-fb":ue.$tag$),F&&"foreignObject"===ue.$tag$&&(F=!1),Wo(null,ue,F),(m=>null!=m)(Y)&&Ye["s-si"]!==Y&&Ye.classList.add(Ye["s-si"]=Y),ue.$children$)for(Ke=0;Ke<ue.$children$.length;++Ke)et=So(m,ue,Ke,Ye),et&&Ye.appendChild(et);"svg"===ue.$tag$?F=!1:"foreignObject"===Ye.tagName&&(F=!0)}return Ye["s-hn"]=R,3&ue.$flags$&&(Ye["s-sr"]=!0,Ye["s-fs"]=null===(Me=ue.$attrs$)||void 0===Me?void 0:Me.slot,Ye["s-cr"]=j,Ye["s-sn"]=ue.$name$||"",A=m&&m.$children$&&m.$children$[$],A&&A.$tag$===ue.$tag$&&m.$elm$&&wo(m.$elm$,!1)),Ye},wo=(m,w)=>{var $;Tn.$flags$|=1;const ne=m.childNodes;for(let Me=ne.length-1;Me>=0;Me--){const ue=ne[Me];ue["s-hn"]!==R&&ue["s-ol"]&&(go(ue).insertBefore(ue,Zn(ue)),ue["s-ol"].remove(),ue["s-ol"]=void 0,ue["s-sh"]=void 0,1===ue.nodeType&&ue.setAttribute("slot",null!==($=ue["s-sn"])&&void 0!==$?$:""),K=!0),w&&wo(ue,w)}Tn.$flags$&=-2},Rn=(m,w,$,ne,Me,ue)=>{let Ye,Ke=m["s-cr"]&&m["s-cr"].parentNode||m;for(Ke.shadowRoot&&Ke.tagName===R&&(Ke=Ke.shadowRoot);Me<=ue;++Me)ne[Me]&&(Ye=So(null,$,Me,m),Ye&&(ne[Me].$elm$=Ye,Ke.insertBefore(Ye,Zn(w))))},Br=(m,w,$)=>{for(let ne=w;ne<=$;++ne){const Me=m[ne];if(Me){const ue=Me.$elm$;Cn(Me),ue&&(I=!0,ue["s-ol"]?ue["s-ol"].remove():wo(ue,!0),ue.remove())}}},ro=(m,w)=>m.$tag$===w.$tag$&&("slot"===m.$tag$?m.$name$===w.$name$:m.$key$===w.$key$),Zn=m=>m&&m["s-ol"]||m,go=m=>(m["s-ol"]?m["s-ol"]:m).parentNode,Vr=(m,w)=>{const $=w.$elm$=m.$elm$,ne=m.$children$,Me=w.$children$,ue=w.$tag$,Ke=w.$text$;let Ye;null===Ke?(F="svg"===ue||"foreignObject"!==ue&&F,"slot"===ue||Wo(m,w,F),null!==ne&&null!==Me?((m,w,$,ne)=>{let Dr,jr,Me=0,ue=0,Ke=0,Ye=0,et=w.length-1,A=w[0],St=w[et],At=ne.length-1,kt=ne[0],Sn=ne[At];for(;Me<=et&&ue<=At;)if(null==A)A=w[++Me];else if(null==St)St=w[--et];else if(null==kt)kt=ne[++ue];else if(null==Sn)Sn=ne[--At];else if(ro(A,kt))Vr(A,kt),A=w[++Me],kt=ne[++ue];else if(ro(St,Sn))Vr(St,Sn),St=w[--et],Sn=ne[--At];else if(ro(A,Sn))("slot"===A.$tag$||"slot"===Sn.$tag$)&&wo(A.$elm$.parentNode,!1),Vr(A,Sn),m.insertBefore(A.$elm$,St.$elm$.nextSibling),A=w[++Me],Sn=ne[--At];else if(ro(St,kt))("slot"===A.$tag$||"slot"===Sn.$tag$)&&wo(St.$elm$.parentNode,!1),Vr(St,kt),m.insertBefore(St.$elm$,A.$elm$),St=w[--et],kt=ne[++ue];else{for(Ke=-1,Ye=Me;Ye<=et;++Ye)if(w[Ye]&&null!==w[Ye].$key$&&w[Ye].$key$===kt.$key$){Ke=Ye;break}Ke>=0?(jr=w[Ke],jr.$tag$!==kt.$tag$?Dr=So(w&&w[ue],$,Ke,m):(Vr(jr,kt),w[Ke]=void 0,Dr=jr.$elm$),kt=ne[++ue]):(Dr=So(w&&w[ue],$,ue,m),kt=ne[++ue]),Dr&&go(A.$elm$).insertBefore(Dr,Zn(A.$elm$))}Me>et?Rn(m,null==ne[At+1]?null:ne[At+1].$elm$,$,ne,ue,At):ue>At&&Br(w,Me,et)})($,ne,w,Me):null!==Me?(null!==m.$text$&&($.textContent=""),Rn($,null,w,Me,0,Me.length-1)):null!==ne&&Br(ne,0,ne.length-1),F&&"svg"===ue&&(F=!1)):(Ye=$["s-cr"])?Ye.parentNode.textContent=Ke:m.$text$!==Ke&&($.data=Ke)},pe=m=>{const w=m.childNodes;for(const $ of w)if(1===$.nodeType){if($["s-sr"]){const ne=$["s-sn"];$.hidden=!1;for(const Me of w)if(Me!==$)if(Me["s-hn"]!==$["s-hn"]||""!==ne){if(1===Me.nodeType&&(ne===Me.getAttribute("slot")||ne===Me["s-sn"])){$.hidden=!0;break}}else if(1===Me.nodeType||3===Me.nodeType&&""!==Me.textContent.trim()){$.hidden=!0;break}}pe($)}},be=[],cn=m=>{let w,$,ne;for(const Me of m.childNodes){if(Me["s-sr"]&&(w=Me["s-cr"])&&w.parentNode){$=w.parentNode.childNodes;const ue=Me["s-sn"];for(ne=$.length-1;ne>=0;ne--)if(w=$[ne],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==Me["s-hn"])if(mn(w,ue)){let Ke=be.find(Ye=>Ye.$nodeToRelocate$===w);I=!0,w["s-sn"]=w["s-sn"]||ue,Ke?(Ke.$nodeToRelocate$["s-sh"]=Me["s-hn"],Ke.$slotRefNode$=Me):(w["s-sh"]=Me["s-hn"],be.push({$slotRefNode$:Me,$nodeToRelocate$:w})),w["s-sr"]&&be.map(Ye=>{mn(Ye.$nodeToRelocate$,w["s-sn"])&&(Ke=be.find(et=>et.$nodeToRelocate$===w),Ke&&!Ye.$slotRefNode$&&(Ye.$slotRefNode$=Ke.$slotRefNode$))})}else be.some(Ke=>Ke.$nodeToRelocate$===w)||be.push({$nodeToRelocate$:w})}1===Me.nodeType&&cn(Me)}},mn=(m,w)=>1===m.nodeType?null===m.getAttribute("slot")&&""===w||m.getAttribute("slot")===w:m["s-sn"]===w||""===w,Cn=m=>{m.$attrs$&&m.$attrs$.ref&&m.$attrs$.ref(null),m.$children$&&m.$children$.map(Cn)},fo=(m,w)=>{w&&!m.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise($=>m.$onRenderResolve$=$))},tr=(m,w)=>{if(m.$flags$|=16,!(4&m.$flags$))return fo(m,m.$ancestorComponent$),ut(()=>wr(m,w));m.$flags$|=512},wr=(m,w)=>{const ne=m.$lazyInstance$;let Me;return w&&(m.$flags$|=256,m.$queuedListeners$&&(m.$queuedListeners$.map(([ue,Ke])=>vr(ne,ue,Ke)),m.$queuedListeners$=void 0),Me=vr(ne,"componentWillLoad")),Me=_o(Me,()=>vr(ne,"componentWillRender")),_o(Me,()=>Do(m,ne,w))},_o=(m,w)=>On(m)?m.then(w):w(),On=m=>m instanceof Promise||m&&m.then&&"function"==typeof m.then,Do=function(){var m=(0,S.Z)(function*(w,$,ne){var Me;const ue=w.$hostElement$,Ye=ue["s-rc"];ne&&(m=>{const w=m.$cmpMeta$,$=m.$hostElement$,ne=w.$flags$,ue=Je($.shadowRoot?$.shadowRoot:$.getRootNode(),w,m.$modeName$);10&ne&&($["s-sc"]=ue,$.classList.add(ue+"-h"),2&ne&&$.classList.add(ue+"-s"))})(w);oo(w,$,ue,ne),Ye&&(Ye.map(A=>A()),ue["s-rc"]=void 0);{const A=null!==(Me=ue["s-p"])&&void 0!==Me?Me:[],St=()=>Gi(w);0===A.length?St():(Promise.all(A).then(St),w.$flags$|=4,A.length=0)}});return function($,ne,Me){return m.apply(this,arguments)}}(),oo=(m,w,$,ne)=>{try{w=w.render&&w.render(),m.$flags$&=-17,m.$flags$|=2,((m,w,$=!1)=>{var ne,Me,ue,Ke;const Ye=m.$hostElement$,et=m.$cmpMeta$,A=m.$vnode$||ht(null,null),St=(m=>m&&m.$tag$===Gt)(w)?w:Be(null,null,w);if(R=Ye.tagName,et.$attrsToReflect$&&(St.$attrs$=St.$attrs$||{},et.$attrsToReflect$.map(([At,kt])=>St.$attrs$[kt]=Ye[At])),$&&St.$attrs$)for(const At of Object.keys(St.$attrs$))Ye.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(St.$attrs$[At]=Ye[At]);if(St.$tag$=null,St.$flags$|=4,m.$vnode$=St,St.$elm$=A.$elm$=Ye.shadowRoot||Ye,Y=Ye["s-sc"],j=Ye["s-cr"],E=0!=(1&et.$flags$),I=!1,Vr(A,St),Tn.$flags$|=1,K){cn(St.$elm$);for(const At of be){const kt=At.$nodeToRelocate$;if(!kt["s-ol"]){const Sn=kr.createTextNode("");Sn["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=Sn,kt)}}for(const At of be){const kt=At.$nodeToRelocate$,Sn=At.$slotRefNode$;if(Sn){const Dr=Sn.parentNode;let jr=Sn.nextSibling;{let Wr=null===(ne=kt["s-ol"])||void 0===ne?void 0:ne.previousSibling;for(;Wr;){let Kn=null!==(Me=Wr["s-nr"])&&void 0!==Me?Me:null;if(Kn&&Kn["s-sn"]===kt["s-sn"]&&Dr===Kn.parentNode&&(Kn=Kn.nextSibling,!Kn||!Kn["s-nr"])){jr=Kn;break}Wr=Wr.previousSibling}}(!jr&&Dr!==kt.parentNode||kt.nextSibling!==jr)&&kt!==jr&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Dr.insertBefore(kt,jr),1===kt.nodeType&&(kt.hidden=null!==(ue=kt["s-ih"])&&void 0!==ue&&ue))}else 1===kt.nodeType&&($&&(kt["s-ih"]=null!==(Ke=kt.hidden)&&void 0!==Ke&&Ke),kt.hidden=!0)}}I&&pe(St.$elm$),Tn.$flags$&=-2,be.length=0})(m,w,ne)}catch(Me){vo(Me,m.$hostElement$)}return null},Gi=m=>{const $=m.$hostElement$,Me=m.$lazyInstance$,ue=m.$ancestorComponent$;vr(Me,"componentDidRender"),64&m.$flags$?vr(Me,"componentDidUpdate"):(m.$flags$|=64,yr($),vr(Me,"componentDidLoad"),m.$onReadyResolve$($),ue||In()),m.$onInstanceResolve$($),m.$onRenderResolve$&&(m.$onRenderResolve$(),m.$onRenderResolve$=void 0),512&m.$flags$&&qi(()=>tr(m,!1)),m.$flags$&=-517},Oo=m=>{{const w=Jr(m),$=w.$hostElement$.isConnected;return $&&2==(18&w.$flags$)&&tr(w,!1),$}},In=m=>{yr(kr.documentElement),qi(()=>Te(ni,"appload",{detail:{namespace:"ionic"}}))},vr=(m,w,$)=>{if(m&&m[w])try{return m[w]($)}catch(ne){vo(ne)}},yr=m=>m.classList.add("hydrated"),fi=(m,w,$)=>{var ne;const Me=m.prototype;if(w.$members$){m.watchers&&(w.$watchers$=m.watchers);const ue=Object.entries(w.$members$);if(ue.map(([Ke,[Ye]])=>{31&Ye||2&$&&32&Ye?Object.defineProperty(Me,Ke,{get(){return((m,w)=>Jr(this).$instanceValues$.get(w))(0,Ke)},set(et){((m,w,$,ne)=>{const Me=Jr(m),ue=Me.$hostElement$,Ke=Me.$instanceValues$.get(w),Ye=Me.$flags$,et=Me.$lazyInstance$;$=((m,w)=>null==m||W(m)?m:4&w?"false"!==m&&(""===m||!!m):2&w?parseFloat(m):1&w?String(m):m)($,ne.$members$[w][0]);const A=Number.isNaN(Ke)&&Number.isNaN($);if((!(8&Ye)||void 0===Ke)&&$!==Ke&&!A&&(Me.$instanceValues$.set(w,$),et)){if(ne.$watchers$&&128&Ye){const At=ne.$watchers$[w];At&&At.map(kt=>{try{et[kt]($,Ke,w)}catch(Sn){vo(Sn,ue)}})}2==(18&Ye)&&tr(Me,!1)}})(this,Ke,et,w)},configurable:!0,enumerable:!0}):1&$&&64&Ye&&Object.defineProperty(Me,Ke,{value(...et){var A;const St=Jr(this);return null===(A=St?.$onInstancePromise$)||void 0===A?void 0:A.then(()=>{var At;return null===(At=St.$lazyInstance$)||void 0===At?void 0:At[Ke](...et)})}})}),1&$){const Ke=new Map;Me.attributeChangedCallback=function(Ye,et,A){Tn.jmp(()=>{var St;const At=Ke.get(Ye);if(this.hasOwnProperty(At))A=this[At],delete this[At];else{if(Me.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==A)return;if(null==At){const kt=Jr(this),Sn=kt?.$flags$;if(Sn&&!(8&Sn)&&128&Sn&&A!==et){const Dr=kt.$lazyInstance$,jr=null===(St=w.$watchers$)||void 0===St?void 0:St[Ye];jr?.forEach(Wr=>{null!=Dr[Wr]&&Dr[Wr].call(Dr,A,et,Ye)})}return}}this[At]=(null!==A||"boolean"!=typeof this[At])&&A})},m.observedAttributes=Array.from(new Set([...Object.keys(null!==(ne=w.$watchers$)&&void 0!==ne?ne:{}),...ue.filter(([Ye,et])=>15&et[0]).map(([Ye,et])=>{var A;const St=et[1]||Ye;return Ke.set(St,Ye),512&et[0]&&(null===(A=w.$attrsToReflect$)||void 0===A||A.push([Ye,St])),St})]))}}return m},un=function(){var m=(0,S.Z)(function*(w,$,ne,Me){let ue;if(!(32&$.$flags$)){$.$flags$|=32;{if(ue=zi(ne),ue.then){const A=()=>{};ue=yield ue,A()}ue.isProxied||(ne.$watchers$=ue.watchers,fi(ue,ne,2),ue.isProxied=!0);const et=()=>{};$.$flags$|=8;try{new ue($)}catch(A){vo(A)}$.$flags$&=-9,$.$flags$|=128,et(),ti($.$lazyInstance$)}if(ue.style){let et=ue.style;"string"!=typeof et&&(et=et[$.$modeName$=(m=>No.map(w=>w(m)).find(w=>!!w))(w)]);const A=Nt(ne,$.$modeName$);if(!zr.has(A)){const St=()=>{};ge(A,et,!!(1&ne.$flags$)),St()}}}const Ke=$.$ancestorComponent$,Ye=()=>tr($,!0);Ke&&Ke["s-rc"]?Ke["s-rc"].push(Ye):Ye()});return function($,ne,Me,ue){return m.apply(this,arguments)}}(),ti=m=>{vr(m,"connectedCallback")},pi=m=>{const w=m["s-cr"]=kr.createComment("");w["s-cn"]=!0,m.insertBefore(w,m.firstChild)},hi=m=>{vr(m,"disconnectedCallback")},ae=function(){var m=(0,S.Z)(function*(w){if(!(1&Tn.$flags$)){const $=Jr(w);$.$rmListeners$&&($.$rmListeners$.map(ne=>ne()),$.$rmListeners$=void 0),$?.$lazyInstance$?hi($.$lazyInstance$):$?.$onReadyPromise$&&$.$onReadyPromise$.then(()=>hi($.$lazyInstance$))}});return function($){return m.apply(this,arguments)}}(),Di=(m,w={})=>{var $;const Me=[],ue=w.exclude||[],Ke=ni.customElements,Ye=kr.head,et=Ye.querySelector("meta[charset]"),A=kr.createElement("style"),St=[],At=kr.querySelectorAll(`[${le}]`);let kt,Sn=!0,Dr=0;for(Object.assign(Tn,w),Tn.$resourcesUrl$=new URL(w.resourcesUrl||"./",kr.baseURI).href,Tn.$flags$|=2;Dr<At.length;Dr++)ge(At[Dr].getAttribute(le),dn(At[Dr].innerHTML),!0);let jr=!1;if(m.map(Wr=>{Wr[1].map(Kn=>{var Yi;const Bn={$flags$:Kn[0],$tagName$:Kn[1],$members$:Kn[2],$listeners$:Kn[3]};4&Bn.$flags$&&(jr=!0),Bn.$members$=Kn[2],Bn.$listeners$=Kn[3],Bn.$attrsToReflect$=[],Bn.$watchers$=null!==(Yi=Kn[4])&&void 0!==Yi?Yi:{};const Fo=Bn.$tagName$,Io=class extends HTMLElement{constructor(Ki){super(Ki),Js(Ki=this,Bn),1&Bn.$flags$&&Ki.attachShadow({mode:"open",delegatesFocus:!!(16&Bn.$flags$)})}connectedCallback(){kt&&(clearTimeout(kt),kt=null),Sn?St.push(this):Tn.jmp(()=>(m=>{if(!(1&Tn.$flags$)){const w=Jr(m),$=w.$cmpMeta$,ne=()=>{};if(1&w.$flags$)Zo(m,w,$.$listeners$),w?.$lazyInstance$?ti(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>ti(w.$lazyInstance$));else{let Me;if(w.$flags$|=1,Me=m.getAttribute(J),Me){if(1&$.$flags$){const ue=Je(m.shadowRoot,$,m.getAttribute("s-mode"));m.classList.remove(ue+"-h",ue+"-s")}((m,w,$,ne)=>{const ue=m.shadowRoot,Ke=[],et=ue?[]:null,A=ne.$vnode$=ht(w,null);Tn.$orgLocNodes$||fe(kr.body,Tn.$orgLocNodes$=new Map),m[J]=$,m.removeAttribute(J),$t(A,Ke,[],et,m,m,$),Ke.map(St=>{const At=St.$hostId$+"."+St.$nodeId$,kt=Tn.$orgLocNodes$.get(At),Sn=St.$elm$;kt&&ta&&""===kt["s-en"]&&kt.parentNode.insertBefore(Sn,kt.nextSibling),ue||(Sn["s-hn"]=w,kt&&(Sn["s-ol"]=kt,Sn["s-ol"]["s-nr"]=Sn)),Tn.$orgLocNodes$.delete(At)}),ue&&et.map(St=>{St&&ue.appendChild(St)})})(m,$.$tagName$,Me,w)}Me||12&$.$flags$&&pi(m);{let ue=m;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){fo(w,w.$ancestorComponent$=ue);break}}$.$members$&&Object.entries($.$members$).map(([ue,[Ke]])=>{if(31&Ke&&m.hasOwnProperty(ue)){const Ye=m[ue];delete m[ue],m[ue]=Ye}}),un(m,w,$)}ne()}})(this))}disconnectedCallback(){Tn.jmp(()=>ae(this))}componentOnReady(){return Jr(this).$onReadyPromise$}};Bn.$lazyBundleId$=Wr[0],!ue.includes(Fo)&&!Ke.get(Fo)&&(Me.push(Fo),Ke.define(Fo,fi(Io,Bn,1)))})}),jr&&(A.innerHTML+=Re),A.innerHTML+=Me+"{visibility:hidden}.hydrated{visibility:inherit}",A.innerHTML.length){A.setAttribute("data-styles","");const Wr=null!==($=Tn.$nonce$)&&void 0!==$?$:he(kr);null!=Wr&&A.setAttribute("nonce",Wr),Ye.insertBefore(A,et?et.nextSibling:Ye.firstChild)}Sn=!1,St.length?St.map(Wr=>Wr.connectedCallback()):Tn.jmp(()=>kt=setTimeout(In,30))},Zo=(m,w,$,ne)=>{$&&$.map(([Me,ue,Ke])=>{const Ye=li(m,Me),et=Eo(w,Ke),A=ks(Me);Tn.ael(Ye,ue,et,A),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Tn.rel(Ye,ue,et,A))})},Eo=(m,w)=>$=>{try{256&m.$flags$?m.$lazyInstance$[w]($):(m.$queuedListeners$=m.$queuedListeners$||[]).push([w,$])}catch(ne){vo(ne)}},li=(m,w)=>4&w?kr:8&w?ni:16&w?kr.body:m,ks=m=>0!=(2&m),Ui=new WeakMap,Jr=m=>Ui.get(m),Hi=(m,w)=>Ui.set(w.$lazyInstance$=m,w),Js=(m,w)=>{const $={$flags$:0,$hostElement$:m,$cmpMeta$:w,$instanceValues$:new Map};return $.$onInstancePromise$=new Promise(ne=>$.$onInstanceResolve$=ne),$.$onReadyPromise$=new Promise(ne=>$.$onReadyResolve$=ne),m["s-p"]=[],m["s-rc"]=[],Zo(m,$,w.$listeners$),Ui.set(m,$)},Ei=(m,w)=>w in m,vo=(m,w)=>(0,console.error)(m,w),Ii=new Map,zi=(m,w,$)=>{const ne=m.$tagName$.replace(/-/g,"_"),Me=m.$lazyBundleId$,ue=Ii.get(Me);return ue?ue[ne]:C(863)(`./${Me}.entry.js`).then(Ke=>(Ii.set(Me,Ke),Ke[ne]),vo)},zr=new Map,No=[],ni=typeof window<"u"?window:{},kr=ni.document||{head:{}},Tn={$flags$:0,$resourcesUrl$:"",jmp:m=>m(),raf:m=>requestAnimationFrame(m),ael:(m,w,$,ne)=>m.addEventListener(w,$,ne),rel:(m,w,$,ne)=>m.removeEventListener(w,$,ne),ce:(m,w)=>new CustomEvent(m,w)},ea=m=>{Object.assign(Tn,m)},ta=!0,Rs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),cs=[],us=[],nt=(m,w)=>$=>{m.push($),k||(k=!0,w&&4&Tn.$flags$?qi(Zi):Tn.raf(Zi))},ds=m=>{for(let w=0;w<m.length;w++)try{m[w](performance.now())}catch($){vo($)}m.length=0},Zi=()=>{ds(cs),ds(us),(k=cs.length>0)&&Tn.raf(Zi)},qi=m=>Promise.resolve(void 0).then(m),fs=nt(cs,!1),ut=nt(us,!0)},5194:(me,we,C)=>{"use strict";C.d(we,{a:()=>k,b:()=>ht,c:()=>Z,i:()=>Gt});var S=C(3426);class u{constructor(){this.m=new Map}reset(ze){this.m=new Map(Object.entries(ze))}get(ze,Pe){const je=this.m.get(ze);return void 0!==je?je:Pe}getBoolean(ze,Pe=!1){const je=this.m.get(ze);return void 0===je?Pe:"string"==typeof je?"true"===je:!!je}getNumber(ze,Pe){const je=parseFloat(this.m.get(ze));return isNaN(je)?void 0!==Pe?Pe:NaN:je}set(ze,Pe){this.m.set(ze,Pe)}}const Z=new u,I="ionic:",K="ionic-persist-config",k=(Ne,ze)=>("string"==typeof Ne&&(ze=Ne,Ne=void 0),(Ne=>P(Ne))(Ne).includes(ze)),P=(Ne=window)=>{if(typeof Ne>"u")return[];Ne.Ionic=Ne.Ionic||{};let ze=Ne.Ionic.platforms;return null==ze&&(ze=Ne.Ionic.platforms=T(Ne),ze.forEach(Pe=>Ne.document.documentElement.classList.add(`plt-${Pe}`))),ze},T=Ne=>{const ze=Z.get("platform");return Object.keys(he).filter(Pe=>{const je=ze?.[Pe];return"function"==typeof je?je(Ne):he[Pe](Ne)})},de=Ne=>!!(X(Ne,/iPad/i)||X(Ne,/Macintosh/i)&&se(Ne)),H=Ne=>X(Ne,/android|sink/i),se=Ne=>W(Ne,"(any-pointer:coarse)"),Re=Ne=>O(Ne)||N(Ne),O=Ne=>!!(Ne.cordova||Ne.phonegap||Ne.PhoneGap),N=Ne=>{const ze=Ne.Capacitor;return!!ze?.isNative},X=(Ne,ze)=>ze.test(Ne.navigator.userAgent),W=(Ne,ze)=>{var Pe;return null===(Pe=Ne.matchMedia)||void 0===Pe?void 0:Pe.call(Ne,ze).matches},he={ipad:de,iphone:Ne=>X(Ne,/iPhone/i),ios:Ne=>X(Ne,/iPhone|iPod/i)||de(Ne),android:H,phablet:Ne=>{const ze=Ne.innerWidth,Pe=Ne.innerHeight,je=Math.min(ze,Pe),at=Math.max(ze,Pe);return je>390&&je<520&&at>620&&at<800},tablet:Ne=>{const ze=Ne.innerWidth,Pe=Ne.innerHeight,je=Math.min(ze,Pe),at=Math.max(ze,Pe);return de(Ne)||(Ne=>H(Ne)&&!X(Ne,/mobile/i))(Ne)||je>460&&je<820&&at>780&&at<1400},cordova:O,capacitor:N,electron:Ne=>X(Ne,/electron/i),pwa:Ne=>{var ze;return!!(null!==(ze=Ne.matchMedia)&&void 0!==ze&&ze.call(Ne,"(display-mode: standalone)").matches||Ne.navigator.standalone)},mobile:se,mobileweb:Ne=>se(Ne)&&!Re(Ne),desktop:Ne=>!se(Ne),hybrid:Re};let Be;const ht=Ne=>Ne&&(0,S.g)(Ne)||Be,Gt=(Ne={})=>{if(typeof window>"u")return;const ze=window.document,Pe=window,je=Pe.Ionic=Pe.Ionic||{},at={};Ne._ael&&(at.ael=Ne._ael),Ne._rel&&(at.rel=Ne._rel),Ne._ce&&(at.ce=Ne._ce),(0,S.a)(at);const $t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ne=>{try{const ze=Ne.sessionStorage.getItem(K);return null!==ze?JSON.parse(ze):{}}catch{return{}}})(Pe)),{persistConfig:!1}),je.config),(Ne=>{const ze={};return Ne.location.search.slice(1).split("&").map(Pe=>Pe.split("=")).map(([Pe,je])=>[decodeURIComponent(Pe),decodeURIComponent(je)]).filter(([Pe])=>((Ne,ze)=>Ne.substr(0,ze.length)===ze)(Pe,I)).map(([Pe,je])=>[Pe.slice(6),je]).forEach(([Pe,je])=>{ze[Pe]=je}),ze})(Pe)),Ne);Z.reset($t),Z.getBoolean("persistConfig")&&((Ne,ze)=>{try{Ne.sessionStorage.setItem(K,JSON.stringify(ze))}catch{return}})(Pe,$t),P(Pe),je.config=Z,je.mode=Be=Z.get("mode",ze.documentElement.getAttribute("mode")||(k(Pe,"ios")?"ios":"md")),Z.set("mode",Be),ze.documentElement.setAttribute("mode",Be),ze.documentElement.classList.add(Be),Z.getBoolean("_testing")&&Z.set("animated",!1);const fe=lt=>{var qe;return null===(qe=lt.tagName)||void 0===qe?void 0:qe.startsWith("ION-")},Ue=lt=>["ios","md"].includes(lt);(0,S.c)(lt=>{for(;lt;){const qe=lt.mode||lt.getAttribute("mode");if(qe){if(Ue(qe))return qe;fe(lt)&&console.warn('Invalid ionic mode: "'+qe+'", expected: "ios" or "md"')}lt=lt.parentElement}return Be})}},5444:(me,we,C)=>{"use strict";C.r(we),C.d(we,{iosTransitionAnimation:()=>T,shadow:()=>E});var S=C(2723),u=C(8044);C(6940),C(3426);const R=de=>document.querySelector(`${de}.ion-cloned-element`),E=de=>de.shadowRoot||de,I=de=>{const ve="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),ie="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ve){const H=ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=H?H.querySelector(ie):null}return de.querySelector(ie)},K=(de,ve)=>{const ie="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let H=[];if(null!=ie){const M=ie.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=M&&(H=M.querySelectorAll("ion-buttons"))}else H=de.querySelectorAll("ion-buttons");for(const M of H){const J=M.closest("ion-header"),le=J&&!J.classList.contains("header-collapse-condense-inactive"),se=M.querySelector("ion-back-button"),xe=M.classList.contains("buttons-collapse");if(null!==se&&("start"===M.slot||""===M.slot)&&(xe&&le&&ve||!xe))return se}return null},k=(de,ve,ie,H,M,J,le,se,xe)=>{var Re,O;const N=ve?`calc(100% - ${M.right+4}px)`:M.left-4+"px",te=ve?"right":"left",D=ve?"left":"right",X=ve?"right":"left",W=(null===(Re=J.textContent)||void 0===Re?void 0:Re.trim())===(null===(O=se.textContent)||void 0===O?void 0:O.trim()),Be=(xe.height-B)/le.height,ht=W?`scale(${xe.width/le.width}, ${Be})`:`scale(${Be})`,Gt="scale(1)",ze=E(H).querySelector("ion-icon").getBoundingClientRect(),Pe=ve?ze.width/2-(ze.right-M.right)+"px":M.left-ze.width/2+"px",je=ve?`-${window.innerWidth-M.right}px`:`${M.left}px`,at=`${xe.top}px`,$t=`${M.top}px`,lt=ie?[{offset:0,transform:`translate3d(${je}, ${$t}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${at}, 0)`}]:[{offset:0,transform:`translate3d(${Pe}, ${at}, 0)`},{offset:1,transform:`translate3d(${je}, ${$t}, 0)`}],Ut=ie?[{offset:0,opacity:1,transform:Gt},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Gt}],Se=ie?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ge=(0,S.c)(),Je=(0,S.c)(),yt=(0,S.c)(),Nt=R("ion-back-button"),dn=E(Nt).querySelector(".button-text"),rn=E(Nt).querySelector("ion-icon");Nt.text=H.text,Nt.mode=H.mode,Nt.icon=H.icon,Nt.color=H.color,Nt.disabled=H.disabled,Nt.style.setProperty("display","block"),Nt.style.setProperty("position","fixed"),Je.addElement(rn),ge.addElement(dn),yt.addElement(Nt),yt.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(lt),ge.beforeStyles({"transform-origin":`${te} top`}).beforeAddWrite(()=>{H.style.setProperty("display","none"),Nt.style.setProperty(te,N)}).afterAddWrite(()=>{H.style.setProperty("display",""),Nt.style.setProperty("display","none"),Nt.style.removeProperty(te)}).keyframes(Ut),Je.beforeStyles({"transform-origin":`${D} center`}).keyframes(Se),de.addAnimation([ge,Je,yt])},P=(de,ve,ie,H,M,J,le,se)=>{var xe,Re;const O=ve?"right":"left",N=ve?`calc(100% - ${M.right}px)`:`${M.left}px`,D=`${M.top}px`,W=ve?`-${window.innerWidth-se.right-8}px`:se.x-8+"px",Be=se.y-2+"px",ht=(null===(xe=le.textContent)||void 0===xe?void 0:xe.trim())===(null===(Re=H.textContent)||void 0===Re?void 0:Re.trim()),Ne=se.height/(J.height-B),ze="scale(1)",Pe=ht?`scale(${se.width/J.width}, ${Ne})`:`scale(${Ne})`,$t=ie?[{offset:0,opacity:0,transform:`translate3d(${W}, ${Be}, 0) ${Pe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${D}, 0) ${ze}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${D}, 0) ${ze}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${W}, ${Be}, 0) ${Pe}`}],fe=R("ion-title"),Ue=(0,S.c)();fe.innerText=H.innerText,fe.size=H.size,fe.color=H.color,Ue.addElement(fe),Ue.beforeStyles({"transform-origin":`${O} top`,height:`${M.height}px`,display:"",position:"relative",[O]:N}).beforeAddWrite(()=>{H.style.setProperty("opacity","0")}).afterAddWrite(()=>{H.style.setProperty("opacity",""),fe.style.setProperty("display","none")}).keyframes($t),de.addAnimation(Ue)},T=(de,ve)=>{var ie;try{const H="cubic-bezier(0.32,0.72,0,1)",M="opacity",J="transform",le="0%",xe="rtl"===de.ownerDocument.dir,Re=xe?"-99.5%":"99.5%",O=xe?"33%":"-33%",N=ve.enteringEl,te=ve.leavingEl,D="back"===ve.direction,X=N.querySelector(":scope > ion-content"),W=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),he=N.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,S.c)(),ht=(0,S.c)();if(Be.addElement(N).duration((null!==(ie=ve.duration)&&void 0!==ie?ie:0)||540).easing(ve.easing||H).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=de){const Pe=(0,S.c)();Pe.addElement(de),Be.addAnimation(Pe)}if(X||0!==he.length||0!==W.length?(ht.addElement(X),ht.addElement(W)):ht.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(ht),D?ht.beforeClearStyles([M]).fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.8,1):ht.beforeClearStyles([M]).fromTo("transform",`translateX(${Re})`,`translateX(${le})`),X){const Pe=E(X).querySelector(".transition-effect");if(Pe){const je=Pe.querySelector(".transition-cover"),at=Pe.querySelector(".transition-shadow"),$t=(0,S.c)(),fe=(0,S.c)(),Ue=(0,S.c)();$t.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fe.addElement(je).beforeClearStyles([M]).fromTo(M,0,.1),Ue.addElement(at).beforeClearStyles([M]).fromTo(M,.03,.7),$t.addAnimation([fe,Ue]),ht.addAnimation([$t])}}const Gt=N.querySelector("ion-header.header-collapse-condense"),{forward:Ne,backward:ze}=((de,ve,ie,H,M)=>{const J=K(H,ie),le=I(M),se=I(H),xe=K(M,ie),Re=null!==J&&null!==le&&!ie,O=null!==se&&null!==xe&&ie;if(Re){const N=le.getBoundingClientRect(),te=J.getBoundingClientRect(),D=E(J).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(le).querySelector(".toolbar-title").getBoundingClientRect();P(de,ve,ie,le,N,he,D,X),k(de,ve,ie,J,te,D,X,le,he)}else if(O){const N=se.getBoundingClientRect(),te=xe.getBoundingClientRect(),D=E(xe).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(se).querySelector(".toolbar-title").getBoundingClientRect();P(de,ve,ie,se,N,he,D,X),k(de,ve,ie,xe,te,D,X,se,he)}return{forward:Re,backward:O}})(Be,xe,D,N,te);if(he.forEach(Pe=>{const je=(0,S.c)();je.addElement(Pe),Be.addAnimation(je);const at=(0,S.c)();at.addElement(Pe.querySelector("ion-title"));const $t=(0,S.c)(),fe=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),Ue=Pe.closest("ion-header"),lt=Ue?.classList.contains("header-collapse-condense-inactive");let qe;qe=fe.filter(D?Se=>{const ge=Se.classList.contains("buttons-collapse");return ge&&!lt||!ge}:Se=>!Se.classList.contains("buttons-collapse")),$t.addElement(qe);const wt=(0,S.c)();wt.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ut=(0,S.c)();Ut.addElement(E(Pe).querySelector(".toolbar-background"));const jt=(0,S.c)(),Te=Pe.querySelector("ion-back-button");if(Te&&jt.addElement(Te),je.addAnimation([at,$t,wt,Ut,jt]),$t.fromTo(M,.01,1),wt.fromTo(M,.01,1),D)lt||at.fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.01,1),wt.fromTo("transform",`translateX(${O})`,`translateX(${le})`),jt.fromTo(M,.01,1);else if(Gt||at.fromTo("transform",`translateX(${Re})`,`translateX(${le})`).fromTo(M,.01,1),wt.fromTo("transform",`translateX(${Re})`,`translateX(${le})`),Ut.beforeClearStyles([M,"transform"]),Ue?.translucent?Ut.fromTo("transform",xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ut.fromTo(M,.01,"var(--opacity)"),Ne||jt.fromTo(M,.01,1),Te&&!Ne){const ge=(0,S.c)();ge.addElement(E(Te).querySelector(".button-text")).fromTo("transform",xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),je.addAnimation(ge)}}),te){const Pe=(0,S.c)(),je=te.querySelector(":scope > ion-content"),at=te.querySelectorAll(":scope > ion-header > ion-toolbar"),$t=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(je||0!==at.length||0!==$t.length?(Pe.addElement(je),Pe.addElement($t)):Pe.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(Pe),D){Pe.beforeClearStyles([M]).fromTo("transform",`translateX(${le})`,xe?"translateX(-100%)":"translateX(100%)");const fe=(0,u.g)(te);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&fe.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,1,.8);if(je){const fe=E(je).querySelector(".transition-effect");if(fe){const Ue=fe.querySelector(".transition-cover"),lt=fe.querySelector(".transition-shadow"),qe=(0,S.c)(),wt=(0,S.c)(),Ut=(0,S.c)();qe.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),wt.addElement(Ue).beforeClearStyles([M]).fromTo(M,.1,0),Ut.addElement(lt).beforeClearStyles([M]).fromTo(M,.7,.03),qe.addAnimation([wt,Ut]),Pe.addAnimation([qe])}}at.forEach(fe=>{const Ue=(0,S.c)();Ue.addElement(fe);const lt=(0,S.c)();lt.addElement(fe.querySelector("ion-title"));const qe=(0,S.c)(),wt=fe.querySelectorAll("ion-buttons,[menuToggle]"),Ut=fe.closest("ion-header"),jt=Ut?.classList.contains("header-collapse-condense-inactive"),Te=Array.from(wt).filter(dn=>{const rn=dn.classList.contains("buttons-collapse");return rn&&!jt||!rn});qe.addElement(Te);const Se=(0,S.c)(),ge=fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ge.length>0&&Se.addElement(ge);const Je=(0,S.c)();Je.addElement(E(fe).querySelector(".toolbar-background"));const yt=(0,S.c)(),Nt=fe.querySelector("ion-back-button");if(Nt&&yt.addElement(Nt),Ue.addAnimation([lt,qe,Se,yt,Je]),Be.addAnimation(Ue),yt.fromTo(M,.99,0),qe.fromTo(M,.99,0),Se.fromTo(M,.99,0),D){if(jt||lt.fromTo("transform",`translateX(${le})`,xe?"translateX(-100%)":"translateX(100%)").fromTo(M,.99,0),Se.fromTo("transform",`translateX(${le})`,xe?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([M,"transform"]),Ut?.translucent?Je.fromTo("transform","translateX(0px)",xe?"translateX(-100%)":"translateX(100%)"):Je.fromTo(M,"var(--opacity)",0),Nt&&!ze){const rn=(0,S.c)();rn.addElement(E(Nt).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(xe?-124:124)+"px"})`),Ue.addAnimation(rn)}}else jt||lt.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,.99,0).afterClearStyles([J,M]),Se.fromTo("transform",`translateX(${le})`,`translateX(${O})`).afterClearStyles([J,M]),yt.afterClearStyles([M]),lt.afterClearStyles([M]),qe.afterClearStyles([M])})}return Be}catch(H){throw H}},B=10},5922:(me,we,C)=>{"use strict";C.r(we),C.d(we,{mdTransitionAnimation:()=>j});var S=C(2723),u=C(8044);C(6940),C(3426);const j=(R,E)=>{var I,K,F;const k="40px",T="back"===E.direction,de=E.leavingEl,ve=(0,u.g)(E.enteringEl),ie=ve.querySelector("ion-toolbar"),H=(0,S.c)();if(H.addElement(ve).fill("both").beforeRemoveClass("ion-page-invisible"),T?H.duration((null!==(I=E.duration)&&void 0!==I?I:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):H.duration((null!==(K=E.duration)&&void 0!==K?K:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${k})`,"translateY(0px)").fromTo("opacity",.01,1),ie){const M=(0,S.c)();M.addElement(ie),H.addAnimation(M)}if(de&&T){H.duration((null!==(F=E.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const M=(0,S.c)();M.addElement((0,u.g)(de)).onFinish(J=>{1===J&&M.elements.length>0&&M.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${k})`).fromTo("opacity",1,0),H.addAnimation(M)}return H}},7261:(me,we,C)=>{"use strict";C.d(we,{B:()=>lt,G:()=>qe,O:()=>wt,a:()=>P,b:()=>T,c:()=>ie,d:()=>Ut,e:()=>jt,f:()=>ht,g:()=>Ne,h:()=>je,i:()=>$t,j:()=>M,k:()=>J,l:()=>B,m:()=>de,n:()=>F,o:()=>xe,q:()=>he,s:()=>Ue});var S=C(3918),u=C(6940),Z=C(5194),Y=C(8573),j=C(1940),R=C(4675),E=C(6240);let I=0,K=0;const F=new WeakMap,k=Te=>({create:Se=>le(Te,Se),dismiss:(Se,ge,Je)=>D(document,Se,ge,Te,Je),getTop:()=>(0,S.Z)(function*(){return he(document,Te)})()}),P=k("ion-alert"),T=k("ion-action-sheet"),B=k("ion-loading"),de=k("ion-modal"),ie=k("ion-popover"),M=Te=>{typeof document<"u"&&te(document);const Se=I++;Te.overlayIndex=Se},J=Te=>(Te.hasAttribute("id")||(Te.id="ion-overlay-"+ ++K),Te.id),le=(Te,Se)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Te).then(()=>{const ge=document.createElement(Te);return ge.classList.add("overlay-hidden"),Object.assign(ge,Object.assign(Object.assign({},Se),{hasController:!0})),ze(document).appendChild(ge),new Promise(Je=>(0,R.c)(ge,Je))}):Promise.resolve(),se='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',xe=(Te,Se)=>{let ge=Te.querySelector(se);const Je=ge?.shadowRoot;Je&&(ge=Je.querySelector(se)||ge),ge?(0,R.f)(ge):Se.focus()},O=(Te,Se)=>{const ge=Array.from(Te.querySelectorAll(se));let Je=ge.length>0?ge[ge.length-1]:null;const yt=Je?.shadowRoot;yt&&(Je=yt.querySelector(se)||Je),Je?Je.focus():Se.focus()},te=Te=>{0===I&&(I=1,Te.addEventListener("focus",Se=>{((Te,Se)=>{const ge=he(Se,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=Te.target;ge&&Je&&!ge.classList.contains("ion-disable-focus-trap")&&(ge.shadowRoot?(()=>{if(ge.contains(Je))ge.lastFocus=Je;else{const dn=ge.lastFocus;xe(ge,ge),dn===Se.activeElement&&O(ge,ge),ge.lastFocus=Se.activeElement}})():(()=>{if(ge===Je)ge.lastFocus=void 0;else{const dn=(0,R.g)(ge);if(!dn.contains(Je))return;const rn=dn.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(Je)||Je===dn.querySelector("ion-backdrop"))ge.lastFocus=Je;else{const pn=ge.lastFocus;xe(rn,ge),pn===Se.activeElement&&O(rn,ge),ge.lastFocus=Se.activeElement}}})())})(Se,Te)},!0),Te.addEventListener("ionBackButton",Se=>{const ge=he(Te);ge?.backdropDismiss&&Se.detail.register(j.OVERLAY_BACK_BUTTON_PRIORITY,()=>ge.dismiss(void 0,lt))}),Te.addEventListener("keydown",Se=>{if("Escape"===Se.key){const ge=he(Te);ge?.backdropDismiss&&ge.dismiss(void 0,lt)}}))},D=(Te,Se,ge,Je,yt)=>{const Nt=he(Te,Je,yt);return Nt?Nt.dismiss(Se,ge):Promise.reject("overlay does not exist")},W=(Te,Se)=>((Te,Se)=>(void 0===Se&&(Se="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Te.querySelectorAll(Se)).filter(ge=>ge.overlayIndex>0)))(Te,Se).filter(ge=>!(Te=>Te.classList.contains("overlay-hidden"))(ge)),he=(Te,Se,ge)=>{const Je=W(Te,Se);return void 0===ge?Je[Je.length-1]:Je.find(yt=>yt.id===ge)},Be=(Te=!1)=>{const ge=ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ge&&(Te?ge.setAttribute("aria-hidden","true"):ge.removeAttribute("aria-hidden"))},ht=function(){var Te=(0,S.Z)(function*(Se,ge,Je,yt,Nt){var dn,rn;if(Se.presented)return;Be(!0),Se.presented=!0,Se.willPresent.emit(),null===(dn=Se.willPresentShorthand)||void 0===dn||dn.emit();const pn=(0,Z.b)(Se),Jt=Se.enterAnimation?Se.enterAnimation:Z.c.get(ge,"ios"===pn?Je:yt);(yield Pe(Se,Jt,Se.el,Nt))&&(Se.didPresent.emit(),null===(rn=Se.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==Se.el.tagName&&Gt(Se.el),Se.keyboardClose&&(null===document.activeElement||!Se.el.contains(document.activeElement))&&Se.el.focus()});return function(ge,Je,yt,Nt,dn){return Te.apply(this,arguments)}}(),Gt=function(){var Te=(0,S.Z)(function*(Se){let ge=document.activeElement;if(!ge)return;const Je=ge?.shadowRoot;Je&&(ge=Je.querySelector(se)||ge),yield Se.onDidDismiss(),ge.focus()});return function(ge){return Te.apply(this,arguments)}}(),Ne=function(){var Te=(0,S.Z)(function*(Se,ge,Je,yt,Nt,dn,rn){var pn,Jt;if(!Se.presented)return!1;void 0!==u.d&&1===W(u.d).length&&Be(!1),Se.presented=!1;try{Se.el.style.setProperty("pointer-events","none"),Se.willDismiss.emit({data:ge,role:Je}),null===(pn=Se.willDismissShorthand)||void 0===pn||pn.emit({data:ge,role:Je});const _r=(0,Z.b)(Se),Wn=Se.leaveAnimation?Se.leaveAnimation:Z.c.get(yt,"ios"===_r?Nt:dn);Je!==qe&&(yield Pe(Se,Wn,Se.el,rn)),Se.didDismiss.emit({data:ge,role:Je}),null===(Jt=Se.didDismissShorthand)||void 0===Jt||Jt.emit({data:ge,role:Je}),F.delete(Se),Se.el.classList.add("overlay-hidden"),Se.el.style.removeProperty("pointer-events"),void 0!==Se.el.lastFocus&&(Se.el.lastFocus=void 0)}catch(_r){console.error(_r)}return Se.el.remove(),!0});return function(ge,Je,yt,Nt,dn,rn,pn){return Te.apply(this,arguments)}}(),ze=Te=>Te.querySelector("ion-app")||Te.body,Pe=function(){var Te=(0,S.Z)(function*(Se,ge,Je,yt){Je.classList.remove("overlay-hidden");const dn=ge(Se.el,yt);(!Se.animated||!Z.c.getBoolean("animated",!0))&&dn.duration(0),Se.keyboardClose&&dn.beforeAddWrite(()=>{const pn=Je.ownerDocument.activeElement;pn?.matches("input,ion-input, ion-textarea")&&pn.blur()});const rn=F.get(Se)||[];return F.set(Se,[...rn,dn]),yield dn.play(),!0});return function(ge,Je,yt,Nt){return Te.apply(this,arguments)}}(),je=(Te,Se)=>{let ge;const Je=new Promise(yt=>ge=yt);return at(Te,Se,yt=>{ge(yt.detail)}),Je},at=(Te,Se,ge)=>{const Je=yt=>{(0,R.b)(Te,Se,Je),ge(yt)};(0,R.a)(Te,Se,Je)},$t=Te=>"cancel"===Te||Te===lt,fe=Te=>Te(),Ue=(Te,Se)=>{if("function"==typeof Te)return Z.c.get("_zoneGate",fe)(()=>{try{return Te(Se)}catch(Je){throw Je}})},lt="backdrop",qe="gesture",wt=39,Ut=Te=>{let ge,Se=!1;const Je=(0,Y.C)(),yt=(rn=!1)=>{if(ge&&!rn)return{delegate:ge,inline:Se};const{el:pn,hasController:Jt,delegate:_r}=Te;return Se=null!==pn.parentNode&&!Jt,ge=Se?_r||Je:_r,{inline:Se,delegate:ge}};return{attachViewToDom:function(){var rn=(0,S.Z)(function*(pn){const{delegate:Jt}=yt(!0);if(Jt)return yield Jt.attachViewToDom(Te.el,pn);const{hasController:_r}=Te;if(_r&&void 0!==pn)throw new Error("framework delegate is missing");return null});return function(Jt){return rn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:rn}=yt();rn&&void 0!==Te.el&&rn.removeViewFromDom(Te.el.parentElement,Te.el)}}},jt=()=>{let Te;const Se=()=>{Te&&(Te(),Te=void 0)};return{addClickListener:(Je,yt)=>{Se();const Nt=void 0!==yt?document.getElementById(yt):null;Nt?Te=((rn,pn)=>{const Jt=()=>{pn.present()};return rn.addEventListener("click",Jt),()=>{rn.removeEventListener("click",Jt)}})(Nt,Je):(0,E.p)(`A trigger element with the ID "${yt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:Se}}},2410:(me,we,C)=>{"use strict";var u=C(1491)("ArrayBuffer.prototype.byteLength",!0),Z=C(9850);me.exports=function(j){return Z(j)?u?u(j):j.byteLength:NaN}},1491:(me,we,C)=>{"use strict";var S=C(3485),u=C(1773),Z=u(S("String.prototype.indexOf"));me.exports=function(j,R){var E=S(j,!!R);return"function"==typeof E&&Z(j,".prototype.")>-1?u(E):E}},1773:(me,we,C)=>{"use strict";var S=C(8956),u=C(3485),Z=C(3931),Y=u("%TypeError%"),j=u("%Function.prototype.apply%"),R=u("%Function.prototype.call%"),E=u("%Reflect.apply%",!0)||S.call(R,j),I=u("%Object.defineProperty%",!0),K=u("%Math.max%");if(I)try{I({},"a",{value:1})}catch{I=null}me.exports=function(P){if("function"!=typeof P)throw new Y("a function is required");var T=E(S,R,arguments);return Z(T,1+K(0,P.length-(arguments.length-1)),!0)};var F=function(){return E(S,j,arguments)};I?I(me.exports,"apply",{value:F}):me.exports.apply=F},7303:me=>{var we={utf8:{stringToBytes:function(C){return we.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(we.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],u=0;u<C.length;u++)S.push(255&C.charCodeAt(u));return S},bytesToString:function(C){for(var S=[],u=0;u<C.length;u++)S.push(String.fromCharCode(C[u]));return S.join("")}}};me.exports=we},3754:me=>{var we,C;we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me.exports=C={rotl:function(S,u){return S<<u|S>>>32-u},rotr:function(S,u){return S<<32-u|S>>>u},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var u=0;u<S.length;u++)S[u]=C.endian(S[u]);return S},randomBytes:function(S){for(var u=[];S>0;S--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(S){for(var u=[],Z=0,Y=0;Z<S.length;Z++,Y+=8)u[Y>>>5]|=S[Z]<<24-Y%32;return u},wordsToBytes:function(S){for(var u=[],Z=0;Z<32*S.length;Z+=8)u.push(S[Z>>>5]>>>24-Z%32&255);return u},bytesToHex:function(S){for(var u=[],Z=0;Z<S.length;Z++)u.push((S[Z]>>>4).toString(16)),u.push((15&S[Z]).toString(16));return u.join("")},hexToBytes:function(S){for(var u=[],Z=0;Z<S.length;Z+=2)u.push(parseInt(S.substr(Z,2),16));return u},bytesToBase64:function(S){for(var u=[],Z=0;Z<S.length;Z+=3)for(var Y=S[Z]<<16|S[Z+1]<<8|S[Z+2],j=0;j<4;j++)u.push(8*Z+6*j<=8*S.length?we.charAt(Y>>>6*(3-j)&63):"=");return u.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],Z=0,Y=0;Z<S.length;Y=++Z%4)0!=Y&&u.push((we.indexOf(S.charAt(Z-1))&Math.pow(2,-2*Y+8)-1)<<2*Y|we.indexOf(S.charAt(Z))>>>6-2*Y);return u}}},307:(me,we,C)=>{"use strict";var S=C(5747),u=C(1491),Z=C(4300),Y=C(3485),j=C(1324),R=C(4355),E=C(500),I=C(1568),K=C(9604),F=C(9850),k=C(6994),P=C(9649),T=C(5327),B=C(5692),de=C(8460),ve=C(9148),ie=C(927),H=C(2410),M=u("SharedArrayBuffer.prototype.byteLength",!0),J=u("Date.prototype.getTime"),le=Object.getPrototypeOf,se=u("Object.prototype.toString"),xe=Y("%Set%",!0),Re=u("Map.prototype.has",!0),O=u("Map.prototype.get",!0),N=u("Map.prototype.size",!0),te=u("Set.prototype.add",!0),D=u("Set.prototype.delete",!0),X=u("Set.prototype.has",!0),W=u("Set.prototype.size",!0);function he(fe,Ue,lt,qe){for(var Ut,wt=j(fe);(Ut=wt.next())&&!Ut.done;)if(ze(Ue,Ut.value,lt,qe))return D(fe,Ut.value),!0;return!1}function Be(fe){return typeof fe>"u"?null:"object"!=typeof fe?"symbol"!=typeof fe&&("string"!=typeof fe&&"number"!=typeof fe||+fe==+fe):void 0}function ht(fe,Ue,lt,qe,wt,Ut){var jt=Be(lt);if(null!=jt)return jt;var Te=O(Ue,jt),Se=S({},wt,{strict:!1});return!(typeof Te>"u"&&!Re(Ue,jt)||!ze(qe,Te,Se,Ut))&&!Re(fe,jt)&&ze(qe,Te,Se,Ut)}function Gt(fe,Ue,lt){var qe=Be(lt);return qe??(X(Ue,qe)&&!X(fe,qe))}function Ne(fe,Ue,lt,qe,wt,Ut){for(var Te,Se,jt=j(fe);(Te=jt.next())&&!Te.done;)if(ze(lt,Se=Te.value,wt,Ut)&&ze(qe,O(Ue,Se),wt,Ut))return D(fe,Se),!0;return!1}function ze(fe,Ue,lt,qe){var wt=lt||{};if(wt.strict?E(fe,Ue):fe===Ue)return!0;if(de(fe)!==de(Ue))return!1;if(!fe||!Ue||"object"!=typeof fe&&"object"!=typeof Ue)return wt.strict?E(fe,Ue):fe==Ue;var ge,Te=qe.has(fe),Se=qe.has(Ue);if(Te&&Se){if(qe.get(fe)===qe.get(Ue))return!0}else ge={};return Te||qe.set(fe,ge),Se||qe.set(Ue,ge),function $t(fe,Ue,lt,qe){var wt,Ut;if(typeof fe!=typeof Ue||null==fe||null==Ue||se(fe)!==se(Ue)||I(fe)!==I(Ue))return!1;if(K(fe)!==K(Ue))return!1;var Se=fe instanceof Error,ge=Ue instanceof Error;if(Se!==ge||(Se||ge)&&(fe.name!==Ue.name||fe.message!==Ue.message))return!1;var Je=P(fe),yt=P(Ue);if(Je!==yt||(Je||yt)&&(fe.source!==Ue.source||Z(fe)!==Z(Ue)))return!1;var Nt=k(fe),dn=k(Ue);if(Nt!==dn||(Nt||dn)&&J(fe)!==J(Ue)||lt.strict&&le&&le(fe)!==le(Ue))return!1;var rn=ie(fe),pn=ie(Ue);if(rn!==pn)return!1;if(rn||pn){if(fe.length!==Ue.length)return!1;for(wt=0;wt<fe.length;wt++)if(fe[wt]!==Ue[wt])return!1;return!0}var Jt=Pe(fe),_r=Pe(Ue);if(Jt!==_r)return!1;if(Jt||_r){if(fe.length!==Ue.length)return!1;for(wt=0;wt<fe.length;wt++)if(fe[wt]!==Ue[wt])return!1;return!0}var Wn=F(fe),Wo=F(Ue);if(Wn!==Wo)return!1;if(Wn||Wo)return H(fe)===H(Ue)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ue),lt,qe);var So=T(fe),wo=T(Ue);if(So!==wo)return!1;if(So||wo)return M(fe)===M(Ue)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ue),lt,qe);if(typeof fe!=typeof Ue)return!1;var Rn=B(fe),Br=B(Ue);if(Rn.length!==Br.length)return!1;for(Rn.sort(),Br.sort(),wt=Rn.length-1;wt>=0;wt--)if(Rn[wt]!=Br[wt])return!1;for(wt=Rn.length-1;wt>=0;wt--)if(!ze(fe[Ut=Rn[wt]],Ue[Ut],lt,qe))return!1;var Hr=ve(fe),ro=ve(Ue);return Hr===ro&&("Set"===Hr||"Set"===ro?function je(fe,Ue,lt,qe){if(W(fe)!==W(Ue))return!1;for(var jt,Te,Se,wt=j(fe),Ut=j(Ue);(jt=wt.next())&&!jt.done;)if(jt.value&&"object"==typeof jt.value)Se||(Se=new xe),te(Se,jt.value);else if(!X(Ue,jt.value)){if(lt.strict||!Gt(fe,Ue,jt.value))return!1;Se||(Se=new xe),te(Se,jt.value)}if(Se){for(;(Te=Ut.next())&&!Te.done;)if(Te.value&&"object"==typeof Te.value){if(!he(Se,Te.value,lt.strict,qe))return!1}else if(!lt.strict&&!X(fe,Te.value)&&!he(Se,Te.value,lt.strict,qe))return!1;return 0===W(Se)}return!0}(fe,Ue,lt,qe):"Map"!==Hr||function at(fe,Ue,lt,qe){if(N(fe)!==N(Ue))return!1;for(var jt,Te,Se,ge,Je,yt,wt=j(fe),Ut=j(Ue);(jt=wt.next())&&!jt.done;)if(Je=jt.value[1],(ge=jt.value[0])&&"object"==typeof ge)Se||(Se=new xe),te(Se,ge);else if(typeof(yt=O(Ue,ge))>"u"&&!Re(Ue,ge)||!ze(Je,yt,lt,qe)){if(lt.strict||!ht(fe,Ue,ge,Je,lt,qe))return!1;Se||(Se=new xe),te(Se,ge)}if(Se){for(;(Te=Ut.next())&&!Te.done;)if(yt=Te.value[1],(ge=Te.value[0])&&"object"==typeof ge){if(!Ne(Se,fe,ge,yt,lt,qe))return!1}else if(!(lt.strict||fe.has(ge)&&ze(O(fe,ge),yt,lt,qe)||Ne(Se,fe,ge,yt,S({},lt,{strict:!1}),qe)))return!1;return 0===W(Se)}return!0}(fe,Ue,lt,qe))}(fe,Ue,wt,qe)}function Pe(fe){return!(!fe||"object"!=typeof fe||"number"!=typeof fe.length||"function"!=typeof fe.copy||"function"!=typeof fe.slice||fe.length>0&&"number"!=typeof fe[0]||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))}me.exports=function(Ue,lt,qe){return ze(Ue,lt,qe,R())}},4467:(me,we,C)=>{"use strict";var S=C(7811)(),u=C(3485),Z=S&&u("%Object.defineProperty%",!0);if(Z)try{Z({},"a",{value:1})}catch{Z=!1}var Y=u("%SyntaxError%"),j=u("%TypeError%"),R=C(6078);me.exports=function(I,K,F){if(!I||"object"!=typeof I&&"function"!=typeof I)throw new j("`obj` must be an object or a function`");if("string"!=typeof K&&"symbol"!=typeof K)throw new j("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new j("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new j("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new j("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new j("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,P=arguments.length>4?arguments[4]:null,T=arguments.length>5?arguments[5]:null,B=arguments.length>6&&arguments[6],de=!!R&&R(I,K);if(Z)Z(I,K,{configurable:null===T&&de?de.configurable:!T,enumerable:null===k&&de?de.enumerable:!k,value:F,writable:null===P&&de?de.writable:!P});else{if(!B&&(k||P||T))throw new Y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");I[K]=F}}},9567:(me,we,C)=>{"use strict";var S=C(5692),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Z=Object.prototype.toString,Y=Array.prototype.concat,j=C(4467),E=C(7811)(),I=function(F,k,P,T){if(k in F)if(!0===T){if(F[k]===P)return}else if(!function(F){return"function"==typeof F&&"[object Function]"===Z.call(F)}(T)||!T())return;E?j(F,k,P,!0):j(F,k,P)},K=function(F,k){var P=arguments.length>2?arguments[2]:{},T=S(k);u&&(T=Y.call(T,Object.getOwnPropertySymbols(k)));for(var B=0;B<T.length;B+=1)I(F,T[B],k[T[B]],P[T[B]])};K.supportsDescriptors=!!E,me.exports=K},1633:function(me,we){!function(C){"use strict";var P,Z=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Y=536870912,j=2*Y,E=new WeakMap,K=function(P,T){return function(B){var de=T.get(B),ve=void 0===de?B.size:de<j?de+1:0;if(!B.has(ve))return P(B,ve);if(B.size<Y){for(;B.has(ve);)ve=Math.floor(Math.random()*j);return P(B,ve)}if(B.size>Z)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;B.has(ve);)ve=Math.floor(Math.random()*Z);return P(B,ve)}}((P=E,function(T,B){return P.set(T,B),B}),E),F=function(P){return function(T){var B=P(T);return T.add(B),B}}(K);C.addUniqueNumber=F,C.generateUniqueNumber=K}(we)},2418:(me,we,C)=>{"use strict";var S=C(5487),u=Object.prototype.toString,Z=Object.prototype.hasOwnProperty;me.exports=function(K,F,k){if(!S(F))throw new TypeError("iterator must be a function");var P;arguments.length>=3&&(P=k),"[object Array]"===u.call(K)?function(K,F,k){for(var P=0,T=K.length;P<T;P++)Z.call(K,P)&&(null==k?F(K[P],P,K):F.call(k,K[P],P,K))}(K,F,P):"string"==typeof K?function(K,F,k){for(var P=0,T=K.length;P<T;P++)null==k?F(K.charAt(P),P,K):F.call(k,K.charAt(P),P,K)}(K,F,P):function(K,F,k){for(var P in K)Z.call(K,P)&&(null==k?F(K[P],P,K):F.call(k,K[P],P,K))}(K,F,P)}},8026:me=>{"use strict";var C=Object.prototype.toString,S=Math.max,Z=function(E,I){for(var K=[],F=0;F<E.length;F+=1)K[F]=E[F];for(var k=0;k<I.length;k+=1)K[k+E.length]=I[k];return K};me.exports=function(E){var I=this;if("function"!=typeof I||"[object Function]"!==C.apply(I))throw new TypeError("Function.prototype.bind called on incompatible "+I);for(var F,K=function(E,I){for(var K=[],F=1,k=0;F<E.length;F+=1,k+=1)K[k]=E[F];return K}(arguments),P=S(0,I.length-K.length),T=[],B=0;B<P;B++)T[B]="$"+B;if(F=Function("binder","return function ("+function(R,E){for(var I="",K=0;K<R.length;K+=1)I+=R[K],K+1<R.length&&(I+=",");return I}(T)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof F){var ve=I.apply(this,Z(K,arguments));return Object(ve)===ve?ve:this}return I.apply(E,Z(K,arguments))}),I.prototype){var de=function(){};de.prototype=I.prototype,F.prototype=new de,de.prototype=null}return F}},8956:(me,we,C)=>{"use strict";var S=C(8026);me.exports=Function.prototype.bind||S},7688:me=>{"use strict";var we=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}we.functionsHaveConfigurableNames=function(){if(!we()||!C)return!1;var Z=C(function(){},"name");return!!Z&&!!Z.configurable};var S=Function.prototype.bind;we.boundFunctionsHaveNames=function(){return we()&&"function"==typeof S&&""!==function(){}.bind().name},me.exports=we},3485:(me,we,C)=>{"use strict";var S,u=SyntaxError,Z=Function,Y=TypeError,j=function(X){try{return Z('"use strict"; return ('+X+").constructor;")()}catch{}},R=Object.getOwnPropertyDescriptor;if(R)try{R({},"")}catch{R=null}var E=function(){throw new Y},I=R?function(){try{return E}catch{try{return R(arguments,"callee").get}catch{return E}}}():E,K=C(2337)(),F=C(1441)(),k=Object.getPrototypeOf||(F?function(X){return X.__proto__}:null),P={},T=typeof Uint8Array>"u"||!k?S:k(Uint8Array),B={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":K&&k?k([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Z,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&k?k(k([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!k?S:k((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!k?S:k((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&k?k(""[Symbol.iterator]()):S,"%Symbol%":K?Symbol:S,"%SyntaxError%":u,"%ThrowTypeError%":I,"%TypedArray%":T,"%TypeError%":Y,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(k)try{null.error}catch(X){var de=k(k(X));B["%Error.prototype%"]=de}var ve=function X(W){var he;if("%AsyncFunction%"===W)he=j("async function () {}");else if("%GeneratorFunction%"===W)he=j("function* () {}");else if("%AsyncGeneratorFunction%"===W)he=j("async function* () {}");else if("%AsyncGenerator%"===W){var Be=X("%AsyncGeneratorFunction%");Be&&(he=Be.prototype)}else if("%AsyncIteratorPrototype%"===W){var ht=X("%AsyncGenerator%");ht&&k&&(he=k(ht.prototype))}return B[W]=he,he},ie={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=C(8956),M=C(7528),J=H.call(Function.call,Array.prototype.concat),le=H.call(Function.apply,Array.prototype.splice),se=H.call(Function.call,String.prototype.replace),xe=H.call(Function.call,String.prototype.slice),Re=H.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,D=function(W,he){var ht,Be=W;if(M(ie,Be)&&(Be="%"+(ht=ie[Be])[0]+"%"),M(B,Be)){var Gt=B[Be];if(Gt===P&&(Gt=ve(Be)),typeof Gt>"u"&&!he)throw new Y("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:ht,name:Be,value:Gt}}throw new u("intrinsic "+W+" does not exist!")};me.exports=function(W,he){if("string"!=typeof W||0===W.length)throw new Y("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof he)throw new Y('"allowMissing" argument must be a boolean');if(null===Re(/^%?[^%]*%?$/,W))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Be=function(W){var he=xe(W,0,1),Be=xe(W,-1);if("%"===he&&"%"!==Be)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===Be&&"%"!==he)throw new u("invalid intrinsic syntax, expected opening `%`");var ht=[];return se(W,O,function(Gt,Ne,ze,Pe){ht[ht.length]=ze?se(Pe,N,"$1"):Ne||Gt}),ht}(W),ht=Be.length>0?Be[0]:"",Gt=D("%"+ht+"%",he),Ne=Gt.name,ze=Gt.value,Pe=!1,je=Gt.alias;je&&(ht=je[0],le(Be,J([0,1],je)));for(var at=1,$t=!0;at<Be.length;at+=1){var fe=Be[at],Ue=xe(fe,0,1),lt=xe(fe,-1);if(('"'===Ue||"'"===Ue||"`"===Ue||'"'===lt||"'"===lt||"`"===lt)&&Ue!==lt)throw new u("property names with quotes must have matching quotes");if(("constructor"===fe||!$t)&&(Pe=!0),M(B,Ne="%"+(ht+="."+fe)+"%"))ze=B[Ne];else if(null!=ze){if(!(fe in ze)){if(!he)throw new Y("base intrinsic for "+W+" exists, but the property is not available.");return}if(R&&at+1>=Be.length){var qe=R(ze,fe);ze=($t=!!qe)&&"get"in qe&&!("originalValue"in qe.get)?qe.get:ze[fe]}else $t=M(ze,fe),ze=ze[fe];$t&&!Pe&&(B[Ne]=ze)}}return ze}},6078:(me,we,C)=>{"use strict";var u=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}me.exports=u},5112:me=>{"use strict";var we=typeof BigInt<"u"&&BigInt;me.exports=function(){return"function"==typeof we&&"function"==typeof BigInt&&"bigint"==typeof we(42)&&"bigint"==typeof BigInt(42)}},7811:(me,we,C)=>{"use strict";var u=C(3485)("%Object.defineProperty%",!0),Z=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};Z.hasArrayLengthDefineBug=function(){if(!Z())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},me.exports=Z},1441:me=>{"use strict";var we={foo:{}},C=Object;me.exports=function(){return{__proto__:we}.foo===we.foo&&!({__proto__:null}instanceof C)}},2337:(me,we,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,u=C(2759);me.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&u()}},2759:me=>{"use strict";me.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),u=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var Y=Object.getOwnPropertySymbols(C);if(1!==Y.length||Y[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var j=Object.getOwnPropertyDescriptor(C,S);if(42!==j.value||!0!==j.enumerable)return!1}return!0}},6518:(me,we,C)=>{"use strict";var S=C(2759);me.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(me,we,C)=>{"use strict";var S=Function.prototype.call,u=Object.prototype.hasOwnProperty,Z=C(8956);me.exports=Z.call(S,u)},2605:(me,we,C)=>{"use strict";var S=C(3485),u=C(7528),Z=C(4355)(),Y=S("%TypeError%"),j={assert:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");if(Z.assert(R),!j.has(R,E))throw new Y("`"+E+"` is not present on `O`")},get:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");var I=Z.get(R);return I&&I["$"+E]},has:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");var I=Z.get(R);return!!I&&u(I,"$"+E)},set:function(R,E,I){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");var K=Z.get(R);K||Z.set(R,K={}),K["$"+E]=I}};Object.freeze&&Object.freeze(j),me.exports=j},1568:(me,we,C)=>{"use strict";var S=C(6518)(),Z=C(1491)("Object.prototype.toString"),Y=function(I){return!(S&&I&&"object"==typeof I&&Symbol.toStringTag in I)&&"[object Arguments]"===Z(I)},j=function(I){return!!Y(I)||null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Array]"!==Z(I)&&"[object Function]"===Z(I.callee)},R=function(){return Y(arguments)}();Y.isLegacyArguments=j,me.exports=R?Y:j},9850:(me,we,C)=>{"use strict";var S=C(1773),u=C(1491),Z=C(3485),Y=C(3631),j=Z("ArrayBuffer",!0),R=Z("Float32Array",!0),E=u("ArrayBuffer.prototype.byteLength",!0),I=j&&!E&&(new j).slice,K=I&&S(I);me.exports=E||K?function(k){if(!k||"object"!=typeof k)return!1;try{return E?E(k):K(k,0),!0}catch{return!1}}:R?function(k){try{return new R(k).buffer===k&&!Y(k)}catch(P){return"object"==typeof k&&"RangeError"===P.name}}:function(k){return!1}},7050:(me,we,C)=>{"use strict";if(C(5112)()){var u=BigInt.prototype.valueOf;me.exports=function(j){return!(null===j||typeof j>"u"||"boolean"==typeof j||"string"==typeof j||"number"==typeof j||"symbol"==typeof j||"function"==typeof j)&&("bigint"==typeof j||function(j){try{return u.call(j),!0}catch{}return!1}(j))}}else me.exports=function(j){return!1}},2856:(me,we,C)=>{"use strict";var S=C(1491),u=S("Boolean.prototype.toString"),Z=S("Object.prototype.toString"),R=C(6518)();me.exports=function(I){return"boolean"==typeof I||null!==I&&"object"==typeof I&&(R&&Symbol.toStringTag in I?function(I){try{return u(I),!0}catch{return!1}}(I):"[object Boolean]"===Z(I))}},7617:me=>{function we(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}me.exports=function(S){return null!=S&&(we(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&we(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:me=>{"use strict";var S,u,we=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw u}}),u={},C(function(){throw 42},null,S)}catch(ie){ie!==u&&(C=null)}else C=null;var Z=/^\s*class\b/,Y=function(H){try{var M=we.call(H);return Z.test(M)}catch{return!1}},j=function(H){try{return!Y(H)&&(we.call(H),!0)}catch{return!1}},R=Object.prototype.toString,T="function"==typeof Symbol&&!!Symbol.toStringTag,B=!(0 in[,]),de=function(){return!1};if("object"==typeof document){var ve=document.all;R.call(ve)===R.call(document.all)&&(de=function(H){if((B||!H)&&(typeof H>"u"||"object"==typeof H))try{var M=R.call(H);return("[object HTMLAllCollection]"===M||"[object HTML document.all class]"===M||"[object HTMLCollection]"===M||"[object Object]"===M)&&null==H("")}catch{}return!1})}me.exports=C?function(H){if(de(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;try{C(H,null,S)}catch(M){if(M!==u)return!1}return!Y(H)&&j(H)}:function(H){if(de(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;if(T)return j(H);if(Y(H))return!1;var M=R.call(H);return!("[object Function]"!==M&&"[object GeneratorFunction]"!==M&&!/^\[object HTML/.test(M))&&j(H)}},6994:(me,we,C)=>{"use strict";var S=Date.prototype.getDay,Z=Object.prototype.toString,j=C(6518)();me.exports=function(E){return"object"==typeof E&&null!==E&&(j?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Date]"===Z.call(E))}},6128:me=>{"use strict";var S,we="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;we||(S=function(j){return!1});var u=we?Map.prototype.has:null,Z=C?Set.prototype.has:null;!S&&!u&&(S=function(j){return!1}),me.exports=S||function(j){if(!j||"object"!=typeof j)return!1;try{if(u.call(j),Z)try{Z.call(j)}catch{return!0}return j instanceof we}catch{}return!1}},9065:(me,we,C)=>{"use strict";var S=Number.prototype.toString,Z=Object.prototype.toString,j=C(6518)();me.exports=function(E){return"number"==typeof E||"object"==typeof E&&(j?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Number]"===Z.call(E))}},9649:(me,we,C)=>{"use strict";var Z,Y,j,R,S=C(1491),u=C(6518)();if(u){Z=S("Object.prototype.hasOwnProperty"),Y=S("RegExp.prototype.exec"),j={};var E=function(){throw j};R={toString:E,valueOf:E},"symbol"==typeof Symbol.toPrimitive&&(R[Symbol.toPrimitive]=E)}var I=S("Object.prototype.toString"),K=Object.getOwnPropertyDescriptor;me.exports=u?function(P){if(!P||"object"!=typeof P)return!1;var T=K(P,"lastIndex");if(!T||!Z(T,"value"))return!1;try{Y(P,R)}catch(de){return de===j}}:function(P){return!(!P||"object"!=typeof P&&"function"!=typeof P)&&"[object RegExp]"===I(P)}},5918:me=>{"use strict";var S,we="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(j){return!1});var u=we?Map.prototype.has:null,Z=C?Set.prototype.has:null;!S&&!Z&&(S=function(j){return!1}),me.exports=S||function(j){if(!j||"object"!=typeof j)return!1;try{if(Z.call(j),u)try{u.call(j)}catch{return!0}return j instanceof C}catch{}return!1}},5327:(me,we,C)=>{"use strict";var u=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);me.exports=u?function(Y){if(!Y||"object"!=typeof Y)return!1;try{return u(Y),!0}catch{return!1}}:function(Y){return!1}},2706:(me,we,C)=>{"use strict";var S=String.prototype.valueOf,Z=Object.prototype.toString,j=C(6518)();me.exports=function(E){return"string"==typeof E||"object"==typeof E&&(j?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object String]"===Z.call(E))}},2630:(me,we,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var Z=Symbol.prototype.toString,Y=/^Symbol\(.*\)$/;me.exports=function(E){if("symbol"==typeof E)return!0;if("[object Symbol]"!==S.call(E))return!1;try{return function(E){return"symbol"==typeof E.valueOf()&&Y.test(Z.call(E))}(E)}catch{return!1}}}else me.exports=function(E){return!1}},3631:(me,we,C)=>{"use strict";var S=C(927);me.exports=function(Z){return!!S(Z)}},1545:me=>{"use strict";var S,we="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;we||(S=function(j){return!1});var u=we?we.prototype.has:null,Z=C?C.prototype.has:null;!S&&!u&&(S=function(j){return!1}),me.exports=S||function(j){if(!j||"object"!=typeof j)return!1;try{if(u.call(j,u),Z)try{Z.call(j,Z)}catch{return!0}return j instanceof we}catch{}return!1}},9043:(me,we,C)=>{"use strict";var S=C(3485),u=C(1491),Z=S("%WeakSet%",!0),Y=u("WeakSet.prototype.has",!0);if(Y){var j=u("WeakMap.prototype.has",!0);me.exports=function(E){if(!E||"object"!=typeof E)return!1;try{if(Y(E,Y),j)try{j(E,j)}catch{return!0}return E instanceof Z}catch{}return!1}}else me.exports=function(E){return!1}},9604:me=>{var we={}.toString;me.exports=Array.isArray||function(C){return"[object Array]"==we.call(C)}},3219:(me,we,C)=>{var S,u,Z,Y,j;S=C(3754),u=C(7303).utf8,Z=C(7617),Y=C(7303).bin,(j=function(R,E){R.constructor==String?R=E&&"binary"===E.encoding?Y.stringToBytes(R):u.stringToBytes(R):Z(R)?R=Array.prototype.slice.call(R,0):!Array.isArray(R)&&R.constructor!==Uint8Array&&(R=R.toString());for(var I=S.bytesToWords(R),K=8*R.length,F=1732584193,k=-271733879,P=-1732584194,T=271733878,B=0;B<I.length;B++)I[B]=16711935&(I[B]<<8|I[B]>>>24)|4278255360&(I[B]<<24|I[B]>>>8);I[K>>>5]|=128<<K%32,I[14+(K+64>>>9<<4)]=K;var de=j._ff,ve=j._gg,ie=j._hh,H=j._ii;for(B=0;B<I.length;B+=16){var M=F,J=k,le=P,se=T;F=de(F,k,P,T,I[B+0],7,-680876936),T=de(T,F,k,P,I[B+1],12,-389564586),P=de(P,T,F,k,I[B+2],17,606105819),k=de(k,P,T,F,I[B+3],22,-1044525330),F=de(F,k,P,T,I[B+4],7,-176418897),T=de(T,F,k,P,I[B+5],12,1200080426),P=de(P,T,F,k,I[B+6],17,-1473231341),k=de(k,P,T,F,I[B+7],22,-45705983),F=de(F,k,P,T,I[B+8],7,1770035416),T=de(T,F,k,P,I[B+9],12,-1958414417),P=de(P,T,F,k,I[B+10],17,-42063),k=de(k,P,T,F,I[B+11],22,-1990404162),F=de(F,k,P,T,I[B+12],7,1804603682),T=de(T,F,k,P,I[B+13],12,-40341101),P=de(P,T,F,k,I[B+14],17,-1502002290),F=ve(F,k=de(k,P,T,F,I[B+15],22,1236535329),P,T,I[B+1],5,-165796510),T=ve(T,F,k,P,I[B+6],9,-1069501632),P=ve(P,T,F,k,I[B+11],14,643717713),k=ve(k,P,T,F,I[B+0],20,-373897302),F=ve(F,k,P,T,I[B+5],5,-701558691),T=ve(T,F,k,P,I[B+10],9,38016083),P=ve(P,T,F,k,I[B+15],14,-660478335),k=ve(k,P,T,F,I[B+4],20,-405537848),F=ve(F,k,P,T,I[B+9],5,568446438),T=ve(T,F,k,P,I[B+14],9,-1019803690),P=ve(P,T,F,k,I[B+3],14,-187363961),k=ve(k,P,T,F,I[B+8],20,1163531501),F=ve(F,k,P,T,I[B+13],5,-1444681467),T=ve(T,F,k,P,I[B+2],9,-51403784),P=ve(P,T,F,k,I[B+7],14,1735328473),F=ie(F,k=ve(k,P,T,F,I[B+12],20,-1926607734),P,T,I[B+5],4,-378558),T=ie(T,F,k,P,I[B+8],11,-2022574463),P=ie(P,T,F,k,I[B+11],16,1839030562),k=ie(k,P,T,F,I[B+14],23,-35309556),F=ie(F,k,P,T,I[B+1],4,-1530992060),T=ie(T,F,k,P,I[B+4],11,1272893353),P=ie(P,T,F,k,I[B+7],16,-155497632),k=ie(k,P,T,F,I[B+10],23,-1094730640),F=ie(F,k,P,T,I[B+13],4,681279174),T=ie(T,F,k,P,I[B+0],11,-358537222),P=ie(P,T,F,k,I[B+3],16,-722521979),k=ie(k,P,T,F,I[B+6],23,76029189),F=ie(F,k,P,T,I[B+9],4,-640364487),T=ie(T,F,k,P,I[B+12],11,-421815835),P=ie(P,T,F,k,I[B+15],16,530742520),F=H(F,k=ie(k,P,T,F,I[B+2],23,-995338651),P,T,I[B+0],6,-198630844),T=H(T,F,k,P,I[B+7],10,1126891415),P=H(P,T,F,k,I[B+14],15,-1416354905),k=H(k,P,T,F,I[B+5],21,-57434055),F=H(F,k,P,T,I[B+12],6,1700485571),T=H(T,F,k,P,I[B+3],10,-1894986606),P=H(P,T,F,k,I[B+10],15,-1051523),k=H(k,P,T,F,I[B+1],21,-2054922799),F=H(F,k,P,T,I[B+8],6,1873313359),T=H(T,F,k,P,I[B+15],10,-30611744),P=H(P,T,F,k,I[B+6],15,-1560198380),k=H(k,P,T,F,I[B+13],21,1309151649),F=H(F,k,P,T,I[B+4],6,-145523070),T=H(T,F,k,P,I[B+11],10,-1120210379),P=H(P,T,F,k,I[B+2],15,718787259),k=H(k,P,T,F,I[B+9],21,-343485551),F=F+M>>>0,k=k+J>>>0,P=P+le>>>0,T=T+se>>>0}return S.endian([F,k,P,T])})._ff=function(R,E,I,K,F,k,P){var T=R+(E&I|~E&K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},j._gg=function(R,E,I,K,F,k,P){var T=R+(E&K|I&~K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},j._hh=function(R,E,I,K,F,k,P){var T=R+(E^I^K)+(F>>>0)+P;return(T<<k|T>>>32-k)+E},j._ii=function(R,E,I,K,F,k,P){var T=R+(I^(E|~K))+(F>>>0)+P;return(T<<k|T>>>32-k)+E},j._blocksize=16,j._digestsize=16,me.exports=function(R,E){if(null==R)throw new Error("Illegal argument "+R);var I=S.wordsToBytes(j(R,E));return E&&E.asBytes?I:E&&E.asString?Y.bytesToString(I):S.bytesToHex(I)}},5580:(me,we)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(Y,j){return typeof j>"u"?Y:function(E){Y(E,j)}};var Z=function(){function Y(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return Y.prototype.addHandler=function(j,R){return this.isHandlerAttached(j,R)||(this._handlers.push(j),this._contexts.push(R),this._createDispatcher(),this._updateHasHandlers()),this},Y.prototype.removeHandler=function(j,R){var E=this._getHandlerIndex(j,R);return typeof E<"u"&&(this._handlers.splice(E,1),this._contexts.splice(E,1),this._createDispatcher(),this._updateHasHandlers()),this},Y.prototype.isHandlerAttached=function(j,R){return typeof this._getHandlerIndex(j,R)<"u"},Y.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},Y.prototype._getHandlerIndex=function(j,R){var I,E=this._handlers.length;for(I=0;I<E&&(this._handlers[I]!==j||this._contexts[I]!==R);I++);return I<E?I:void 0},Y.prototype._createDispatcher=function(){this.dispatch=function S(Y){return C[Y]||(C[Y]=function u(Y){for(var j="return function dispatcher"+Y+"(payload) {\n",R=[],E=[],I=0;I<Y;I++)R.push("cb"+I),E.push("ctx"+I),j+="    cb"+I+"(payload, ctx"+I+");\n";return j+="};",new(Function.bind.apply(Function,[void 0].concat(R.concat(E),[j])))}(Y)),C[Y]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},Y}();we.default=Z},5861:(me,we,C)=>{"use strict";var u=C(5580);we.j=u.default},2720:(me,we,C)=>{var S="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Z=S&&u&&"function"==typeof u.get?u.get:null,Y=S&&Map.prototype.forEach,j="function"==typeof Set&&Set.prototype,R=Object.getOwnPropertyDescriptor&&j?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=j&&R&&"function"==typeof R.get?R.get:null,I=j&&Set.prototype.forEach,F="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,B="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,de=Boolean.prototype.valueOf,ve=Object.prototype.toString,ie=Function.prototype.toString,H=String.prototype.match,M=String.prototype.slice,J=String.prototype.replace,le=String.prototype.toUpperCase,se=String.prototype.toLowerCase,xe=RegExp.prototype.test,Re=Array.prototype.concat,O=Array.prototype.join,N=Array.prototype.slice,te=Math.floor,D="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,he="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Be="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ht=Object.prototype.propertyIsEnumerable,Gt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(pe){return pe.__proto__}:null);function Ne(pe,be){if(pe===1/0||pe===-1/0||pe!=pe||pe&&pe>-1e3&&pe<1e3||xe.call(/e/,be))return be;var cn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof pe){var mn=pe<0?-te(-pe):te(pe);if(mn!==pe){var Cn=String(mn),on=M.call(be,Cn.length+1);return J.call(Cn,cn,"$&_")+"."+J.call(J.call(on,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(be,cn,"$&_")}var ze=C(4654),Pe=ze.custom,je=Te(Pe)?Pe:null;function at(pe,be,cn){var mn="double"===(cn.quoteStyle||be)?'"':"'";return mn+pe+mn}function $t(pe){return J.call(String(pe),/"/g,"&quot;")}function fe(pe){return!("[object Array]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}function lt(pe){return!("[object RegExp]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}function Te(pe){if(he)return pe&&"object"==typeof pe&&pe instanceof Symbol;if("symbol"==typeof pe)return!0;if(!pe||"object"!=typeof pe||!W)return!1;try{return W.call(pe),!0}catch{}return!1}me.exports=function pe(be,cn,mn,Cn){var on=cn||{};if(Je(on,"quoteStyle")&&"single"!==on.quoteStyle&&"double"!==on.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(on,"maxStringLength")&&("number"==typeof on.maxStringLength?on.maxStringLength<0&&on.maxStringLength!==1/0:null!==on.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fo=!Je(on,"customInspect")||on.customInspect;if("boolean"!=typeof fo&&"symbol"!==fo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(on,"indent")&&null!==on.indent&&"\t"!==on.indent&&!(parseInt(on.indent,10)===on.indent&&on.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(on,"numericSeparator")&&"boolean"!=typeof on.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var tr=on.numericSeparator;if(typeof be>"u")return"undefined";if(null===be)return"null";if("boolean"==typeof be)return be?"true":"false";if("string"==typeof be)return So(be,on);if("number"==typeof be){if(0===be)return 1/0/be>0?"0":"-0";var wr=String(be);return tr?Ne(be,wr):wr}if("bigint"==typeof be){var _o=String(be)+"n";return tr?Ne(be,_o):_o}var On=typeof on.depth>"u"?5:on.depth;if(typeof mn>"u"&&(mn=0),mn>=On&&On>0&&"object"==typeof be)return fe(be)?"[Array]":"[Object]";var Do=function Zn(pe,be){var cn;if("\t"===pe.indent)cn="\t";else{if(!("number"==typeof pe.indent&&pe.indent>0))return null;cn=O.call(Array(pe.indent+1)," ")}return{base:cn,prev:O.call(Array(be+1),cn)}}(on,mn);if(typeof Cn>"u")Cn=[];else if(dn(Cn,be)>=0)return"[Circular]";function oo(Eo,li,ks){if(li&&(Cn=N.call(Cn)).push(li),ks){var ci={depth:on.depth};return Je(on,"quoteStyle")&&(ci.quoteStyle=on.quoteStyle),pe(Eo,ci,mn+1,Cn)}return pe(Eo,on,mn+1,Cn)}if("function"==typeof be&&!lt(be)){var Gi=function Nt(pe){if(pe.name)return pe.name;var be=H.call(ie.call(pe),/^function\s*([\w$]+)/);return be?be[1]:null}(be),Oo=Vr(be,oo);return"[Function"+(Gi?": "+Gi:" (anonymous)")+"]"+(Oo.length>0?" { "+O.call(Oo,", ")+" }":"")}if(Te(be)){var In=he?J.call(String(be),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(be);return"object"!=typeof be||he?In:Rn(In)}if(function Wo(pe){return!(!pe||"object"!=typeof pe)&&(typeof HTMLElement<"u"&&pe instanceof HTMLElement||"string"==typeof pe.nodeName&&"function"==typeof pe.getAttribute)}(be)){for(var vr="<"+se.call(String(be.nodeName)),yr=be.attributes||[],xn=0;xn<yr.length;xn++)vr+=" "+yr[xn].name+"="+at($t(yr[xn].value),"double",on);return vr+=">",be.childNodes&&be.childNodes.length&&(vr+="..."),vr+"</"+se.call(String(be.nodeName))+">"}if(fe(be)){if(0===be.length)return"[]";var Nn=Vr(be,oo);return Do&&!function ro(pe){for(var be=0;be<pe.length;be++)if(dn(pe[be],"\n")>=0)return!1;return!0}(Nn)?"["+go(Nn,Do)+"]":"[ "+O.call(Nn,", ")+" ]"}if(function qe(pe){return!("[object Error]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be)){var fi=Vr(be,oo);return"cause"in Error.prototype||!("cause"in be)||ht.call(be,"cause")?0===fi.length?"["+String(be)+"]":"{ ["+String(be)+"] "+O.call(fi,", ")+" }":"{ ["+String(be)+"] "+O.call(Re.call("[cause]: "+oo(be.cause),fi),", ")+" }"}if("object"==typeof be&&fo){if(je&&"function"==typeof be[je]&&ze)return ze(be,{depth:On-mn});if("symbol"!==fo&&"function"==typeof be.inspect)return be.inspect()}if(function rn(pe){if(!Z||!pe||"object"!=typeof pe)return!1;try{Z.call(pe);try{E.call(pe)}catch{return!0}return pe instanceof Map}catch{}return!1}(be)){var un=[];return Y&&Y.call(be,function(Eo,li){un.push(oo(li,be,!0)+" => "+oo(Eo,be))}),Hr("Map",Z.call(be),un,Do)}if(function _r(pe){if(!E||!pe||"object"!=typeof pe)return!1;try{E.call(pe);try{Z.call(pe)}catch{return!0}return pe instanceof Set}catch{}return!1}(be)){var ti=[];return I&&I.call(be,function(Eo){ti.push(oo(Eo,be))}),Hr("Set",E.call(be),ti,Do)}if(function pn(pe){if(!F||!pe||"object"!=typeof pe)return!1;try{F.call(pe,F);try{P.call(pe,P)}catch{return!0}return pe instanceof WeakMap}catch{}return!1}(be))return Br("WeakMap");if(function Wn(pe){if(!P||!pe||"object"!=typeof pe)return!1;try{P.call(pe,P);try{F.call(pe,F)}catch{return!0}return pe instanceof WeakSet}catch{}return!1}(be))return Br("WeakSet");if(function Jt(pe){if(!B||!pe||"object"!=typeof pe)return!1;try{return B.call(pe),!0}catch{}return!1}(be))return Br("WeakRef");if(function Ut(pe){return!("[object Number]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be))return Rn(oo(Number(be)));if(function Se(pe){if(!pe||"object"!=typeof pe||!D)return!1;try{return D.call(pe),!0}catch{}return!1}(be))return Rn(oo(D.call(be)));if(function jt(pe){return!("[object Boolean]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be))return Rn(de.call(be));if(function wt(pe){return!("[object String]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be))return Rn(oo(String(be)));if(typeof window<"u"&&be===window)return"{ [object Window] }";if(be===global)return"{ [object globalThis] }";if(!function Ue(pe){return!("[object Date]"!==yt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be)&&!lt(be)){var wi=Vr(be,oo),pi=Gt?Gt(be)===Object.prototype:be instanceof Object||be.constructor===Object,hi=be instanceof Object?"":"null prototype",ae=!pi&&Be&&Object(be)===be&&Be in be?M.call(yt(be),8,-1):hi?"Object":"",Zo=(pi||"function"!=typeof be.constructor?"":be.constructor.name?be.constructor.name+" ":"")+(ae||hi?"["+O.call(Re.call([],ae||[],hi||[]),": ")+"] ":"");return 0===wi.length?Zo+"{}":Do?Zo+"{"+go(wi,Do)+"}":Zo+"{ "+O.call(wi,", ")+" }"}return String(be)};var ge=Object.prototype.hasOwnProperty||function(pe){return pe in this};function Je(pe,be){return ge.call(pe,be)}function yt(pe){return ve.call(pe)}function dn(pe,be){if(pe.indexOf)return pe.indexOf(be);for(var cn=0,mn=pe.length;cn<mn;cn++)if(pe[cn]===be)return cn;return-1}function So(pe,be){if(pe.length>be.maxStringLength){var cn=pe.length-be.maxStringLength,mn="... "+cn+" more character"+(cn>1?"s":"");return So(M.call(pe,0,be.maxStringLength),be)+mn}return at(J.call(J.call(pe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wo),"single",be)}function wo(pe){var be=pe.charCodeAt(0),cn={8:"b",9:"t",10:"n",12:"f",13:"r"}[be];return cn?"\\"+cn:"\\x"+(be<16?"0":"")+le.call(be.toString(16))}function Rn(pe){return"Object("+pe+")"}function Br(pe){return pe+" { ? }"}function Hr(pe,be,cn,mn){return pe+" ("+be+") {"+(mn?go(cn,mn):O.call(cn,", "))+"}"}function go(pe,be){if(0===pe.length)return"";var cn="\n"+be.prev+be.base;return cn+O.call(pe,","+cn)+"\n"+be.prev}function Vr(pe,be){var cn=fe(pe),mn=[];if(cn){mn.length=pe.length;for(var Cn=0;Cn<pe.length;Cn++)mn[Cn]=Je(pe,Cn)?be(pe[Cn],pe):""}var fo,on="function"==typeof X?X(pe):[];if(he){fo={};for(var tr=0;tr<on.length;tr++)fo["$"+on[tr]]=on[tr]}for(var wr in pe)Je(pe,wr)&&(cn&&String(Number(wr))===wr&&wr<pe.length||he&&fo["$"+wr]instanceof Symbol||(xe.call(/[^\w$]/,wr)?mn.push(be(wr,pe)+": "+be(pe[wr],pe)):mn.push(wr+": "+be(pe[wr],pe))));if("function"==typeof X)for(var _o=0;_o<on.length;_o++)ht.call(pe,on[_o])&&mn.push("["+be(on[_o])+"]: "+be(pe[on[_o]],pe));return mn}},5376:me=>{"use strict";var we=function(C){return C!=C};me.exports=function(S,u){return 0===S&&0===u?1/S==1/u:!!(S===u||we(S)&&we(u))}},500:(me,we,C)=>{"use strict";var S=C(9567),u=C(1773),Z=C(5376),Y=C(8204),j=C(2688),R=u(Y(),Object);S(R,{getPolyfill:Y,implementation:Z,shim:j}),me.exports=R},8204:(me,we,C)=>{"use strict";var S=C(5376);me.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(me,we,C)=>{"use strict";var S=C(8204),u=C(9567);me.exports=function(){var Y=S();return u(Object,{is:Y},{is:function(){return Object.is!==Y}}),Y}},1601:(me,we,C)=>{"use strict";var S;if(!Object.keys){var u=Object.prototype.hasOwnProperty,Z=Object.prototype.toString,Y=C(6755),j=Object.prototype.propertyIsEnumerable,R=!j.call({toString:null},"toString"),E=j.call(function(){},"prototype"),I=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],K=function(T){var B=T.constructor;return B&&B.prototype===T},F={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if(typeof window>"u")return!1;for(var T in window)try{if(!F["$"+T]&&u.call(window,T)&&null!==window[T]&&"object"==typeof window[T])try{K(window[T])}catch{return!0}}catch{return!0}return!1}();S=function(B){var de=null!==B&&"object"==typeof B,ve="[object Function]"===Z.call(B),ie=Y(B),H=de&&"[object String]"===Z.call(B),M=[];if(!de&&!ve&&!ie)throw new TypeError("Object.keys called on a non-object");var J=E&&ve;if(H&&B.length>0&&!u.call(B,0))for(var le=0;le<B.length;++le)M.push(String(le));if(ie&&B.length>0)for(var se=0;se<B.length;++se)M.push(String(se));else for(var xe in B)(!J||"prototype"!==xe)&&u.call(B,xe)&&M.push(String(xe));if(R)for(var Re=function(T){if(typeof window>"u"||!k)return K(T);try{return K(T)}catch{return!1}}(B),O=0;O<I.length;++O)(!Re||"constructor"!==I[O])&&u.call(B,I[O])&&M.push(I[O]);return M}}me.exports=S},5692:(me,we,C)=>{"use strict";var S=Array.prototype.slice,u=C(6755),Z=Object.keys,Y=Z?function(E){return Z(E)}:C(1601),j=Object.keys;Y.shim=function(){if(Object.keys){var E=function(){var I=Object.keys(arguments);return I&&I.length===arguments.length}(1,2);E||(Object.keys=function(K){return u(K)?j(S.call(K)):j(K)})}else Object.keys=Y;return Object.keys||Y},me.exports=Y},6755:me=>{"use strict";var we=Object.prototype.toString;me.exports=function(S){var u=we.call(S),Z="[object Arguments]"===u;return Z||(Z="[object Array]"!==u&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===we.call(S.callee)),Z}},8032:(me,we,C)=>{"use strict";var S=C(5692),u=C(2759)(),Z=C(1491),Y=Object,j=Z("Array.prototype.push"),R=Z("Object.prototype.propertyIsEnumerable"),E=u?Object.getOwnPropertySymbols:null;me.exports=function(K,F){if(null==K)throw new TypeError("target must be an object");var k=Y(K);if(1===arguments.length)return k;for(var P=1;P<arguments.length;++P){var T=Y(arguments[P]),B=S(T),de=u&&(Object.getOwnPropertySymbols||E);if(de)for(var ve=de(T),ie=0;ie<ve.length;++ie){var H=ve[ie];R(T,H)&&j(B,H)}for(var M=0;M<B.length;++M){var J=B[M];R(T,J)&&(k[J]=T[J])}}return k}},5747:(me,we,C)=>{"use strict";var S=C(9567),u=C(1773),Z=C(8032),Y=C(9530),j=C(4096),R=u.apply(Y()),E=function(K,F){return R(Object,arguments)};S(E,{getPolyfill:Y,implementation:Z,shim:j}),me.exports=E},9530:(me,we,C)=>{"use strict";var S=C(8032);me.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var Y="abcdefghijklmnopqrst",j=Y.split(""),R={},E=0;E<j.length;++E)R[j[E]]=j[E];var I=Object.assign({},R),K="";for(var F in I)K+=F;return Y!==K}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var Y=Object.preventExtensions({1:2});try{Object.assign(Y,"xy")}catch{return"y"===Y[1]}return!1}()?S:Object.assign}},4096:(me,we,C)=>{"use strict";var S=C(9567),u=C(9530);me.exports=function(){var Y=u();return S(Object,{assign:Y},{assign:function(){return Object.assign!==Y}}),Y}},6716:(me,we)=>{"use strict";var C=Object.prototype.hasOwnProperty;function u(R){try{return decodeURIComponent(R.replace(/\+/g," "))}catch{return null}}function Z(R){try{return encodeURIComponent(R)}catch{return null}}we.stringify=function j(R,E){E=E||"";var K,F,I=[];for(F in"string"!=typeof E&&(E="?"),R)if(C.call(R,F)){if(!(K=R[F])&&(null==K||isNaN(K))&&(K=""),F=Z(F),K=Z(K),null===F||null===K)continue;I.push(F+"="+K)}return I.length?E+I.join("&"):""},we.parse=function Y(R){for(var K,E=/([^=?#&]+)=?([^&]*)/g,I={};K=E.exec(R);){var F=u(K[1]),k=u(K[2]);null===F||null===k||F in I||(I[F]=k)}return I}},7732:(me,we,C)=>{"use strict";var S=C(2562),u=Object,Z=TypeError;me.exports=S(function(){if(null!=this&&this!==u(this))throw new Z("RegExp.prototype.flags getter called on non-object");var j="";return this.hasIndices&&(j+="d"),this.global&&(j+="g"),this.ignoreCase&&(j+="i"),this.multiline&&(j+="m"),this.dotAll&&(j+="s"),this.unicode&&(j+="u"),this.unicodeSets&&(j+="v"),this.sticky&&(j+="y"),j},"get flags",!0)},4300:(me,we,C)=>{"use strict";var S=C(9567),u=C(1773),Z=C(7732),Y=C(5848),j=C(6472),R=u(Y());S(R,{getPolyfill:Y,implementation:Z,shim:j}),me.exports=R},5848:(me,we,C)=>{"use strict";var S=C(7732),u=C(9567).supportsDescriptors,Z=Object.getOwnPropertyDescriptor;me.exports=function(){if(u&&"gim"===/a/gim.flags){var j=Z(RegExp.prototype,"flags");if(j&&"function"==typeof j.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var R="",E={};if(Object.defineProperty(E,"hasIndices",{get:function(){R+="d"}}),Object.defineProperty(E,"sticky",{get:function(){R+="y"}}),"dy"===R)return j.get}}return S}},6472:(me,we,C)=>{"use strict";var S=C(9567).supportsDescriptors,u=C(5848),Z=Object.getOwnPropertyDescriptor,Y=Object.defineProperty,j=TypeError,R=Object.getPrototypeOf,E=/a/;me.exports=function(){if(!S||!R)throw new j("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var K=u(),F=R(E),k=Z(F,"flags");return(!k||k.get!==K)&&Y(F,"flags",{configurable:!0,enumerable:!1,get:K}),K}},716:me=>{"use strict";me.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(me,we,C)=>{"use strict";var S=C(3485),u=C(4467),Z=C(7811)(),Y=C(6078),j=S("%TypeError%"),R=S("%Math.floor%");me.exports=function(I,K){if("function"!=typeof I)throw new j("`fn` is not a function");if("number"!=typeof K||K<0||K>4294967295||R(K)!==K)throw new j("`length` must be a positive 32-bit integer");var F=arguments.length>2&&!!arguments[2],k=!0,P=!0;if("length"in I&&Y){var T=Y(I,"length");T&&!T.configurable&&(k=!1),T&&!T.writable&&(P=!1)}return(k||P||!F)&&(Z?u(I,"length",K,!0,!0):u(I,"length",K)),I}},2562:(me,we,C)=>{"use strict";var S=C(4467),u=C(7811)(),Z=C(7688).functionsHaveConfigurableNames(),Y=TypeError;me.exports=function(R,E){if("function"!=typeof R)throw new Y("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||Z)&&(u?S(R,"name",E,!0,!0):S(R,"name",E)),R}},4355:(me,we,C)=>{"use strict";var S=C(3485),u=C(1491),Z=C(2720),Y=S("%TypeError%"),j=S("%WeakMap%",!0),R=S("%Map%",!0),E=u("WeakMap.prototype.get",!0),I=u("WeakMap.prototype.set",!0),K=u("WeakMap.prototype.has",!0),F=u("Map.prototype.get",!0),k=u("Map.prototype.set",!0),P=u("Map.prototype.has",!0),T=function(ie,H){for(var J,M=ie;null!==(J=M.next);M=J)if(J.key===H)return M.next=J.next,J.next=ie.next,ie.next=J,J};me.exports=function(){var H,M,J,le={assert:function(se){if(!le.has(se))throw new Y("Side channel does not contain "+Z(se))},get:function(se){if(j&&se&&("object"==typeof se||"function"==typeof se)){if(H)return E(H,se)}else if(R){if(M)return F(M,se)}else if(J)return function(ie,H){var M=T(ie,H);return M&&M.value}(J,se)},has:function(se){if(j&&se&&("object"==typeof se||"function"==typeof se)){if(H)return K(H,se)}else if(R){if(M)return P(M,se)}else if(J)return function(ie,H){return!!T(ie,H)}(J,se);return!1},set:function(se,xe){j&&se&&("object"==typeof se||"function"==typeof se)?(H||(H=new j),I(H,se,xe)):R?(M||(M=new R),k(M,se,xe)):(J||(J={key:{},next:null}),function(ie,H,M){var J=T(ie,H);J?J.value=M:ie.next={key:H,next:ie.next,value:M}}(J,se,xe))}};return le}},118:(me,we,C)=>{"use strict";var S=C(2605),u=SyntaxError,Z="object"==typeof StopIteration?StopIteration:null;me.exports=function(j){if(!Z)throw new u("this environment lacks StopIteration");S.set(j,"[[Done]]",!1);var R={next:function(){var I=S.get(this,"[[Iterator]]"),K=S.get(I,"[[Done]]");try{return{done:K,value:K?void 0:I.next()}}catch(F){if(S.set(I,"[[Done]]",!0),F!==Z)throw F;return{done:!0,value:void 0}}}};return S.set(R,"[[Iterator]]",j),R}},6299:(me,we,C)=>{"use strict";var S=C(716),u=C(6716),Z=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Y=/[\n\r\t]/g,j=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,R=/:\d+$/,E=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,I=/^[a-zA-Z]:/;function K(M){return(M||"").toString().replace(Z,"")}var F=[["#","hash"],["?","query"],function(J,le){return T(le.protocol)?J.replace(/\\/g,"/"):J},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],k={hash:1,query:1};function P(M){var J;J=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Re,se={},xe=typeof(M=M||J.location||{});if("blob:"===M.protocol)se=new ve(unescape(M.pathname),{});else if("string"===xe)for(Re in se=new ve(M,{}),k)delete se[Re];else if("object"===xe){for(Re in M)Re in k||(se[Re]=M[Re]);void 0===se.slashes&&(se.slashes=j.test(M.href))}return se}function T(M){return"file:"===M||"ftp:"===M||"http:"===M||"https:"===M||"ws:"===M||"wss:"===M}function B(M,J){M=(M=K(M)).replace(Y,""),J=J||{};var N,le=E.exec(M),se=le[1]?le[1].toLowerCase():"",xe=!!le[2],Re=!!le[3],O=0;return xe?Re?(N=le[2]+le[3]+le[4],O=le[2].length+le[3].length):(N=le[2]+le[4],O=le[2].length):Re?(N=le[3]+le[4],O=le[3].length):N=le[4],"file:"===se?O>=2&&(N=N.slice(2)):T(se)?N=le[4]:se?xe&&(N=N.slice(2)):O>=2&&T(J.protocol)&&(N=le[4]),{protocol:se,slashes:xe||T(se),slashesCount:O,rest:N}}function ve(M,J,le){if(M=(M=K(M)).replace(Y,""),!(this instanceof ve))return new ve(M,J,le);var se,xe,Re,O,N,te,D=F.slice(),X=typeof J,W=this,he=0;for("object"!==X&&"string"!==X&&(le=J,J=null),le&&"function"!=typeof le&&(le=u.parse),se=!(xe=B(M||"",J=P(J))).protocol&&!xe.slashes,W.slashes=xe.slashes||se&&J.slashes,W.protocol=xe.protocol||J.protocol||"",M=xe.rest,("file:"===xe.protocol&&(2!==xe.slashesCount||I.test(M))||!xe.slashes&&(xe.protocol||xe.slashesCount<2||!T(W.protocol)))&&(D[3]=[/(.*)/,"pathname"]);he<D.length;he++)"function"!=typeof(O=D[he])?(te=O[1],(Re=O[0])!=Re?W[te]=M:"string"==typeof Re?~(N="@"===Re?M.lastIndexOf(Re):M.indexOf(Re))&&("number"==typeof O[2]?(W[te]=M.slice(0,N),M=M.slice(N+O[2])):(W[te]=M.slice(N),M=M.slice(0,N))):(N=Re.exec(M))&&(W[te]=N[1],M=M.slice(0,N.index)),W[te]=W[te]||se&&O[3]&&J[te]||"",O[4]&&(W[te]=W[te].toLowerCase())):M=O(M,W);le&&(W.query=le(W.query)),se&&J.slashes&&"/"!==W.pathname.charAt(0)&&(""!==W.pathname||""!==J.pathname)&&(W.pathname=function de(M,J){if(""===M)return J;for(var le=(J||"/").split("/").slice(0,-1).concat(M.split("/")),se=le.length,xe=le[se-1],Re=!1,O=0;se--;)"."===le[se]?le.splice(se,1):".."===le[se]?(le.splice(se,1),O++):O&&(0===se&&(Re=!0),le.splice(se,1),O--);return Re&&le.unshift(""),("."===xe||".."===xe)&&le.push(""),le.join("/")}(W.pathname,J.pathname)),"/"!==W.pathname.charAt(0)&&T(W.protocol)&&(W.pathname="/"+W.pathname),S(W.port,W.protocol)||(W.host=W.hostname,W.port=""),W.username=W.password="",W.auth&&(~(N=W.auth.indexOf(":"))?(W.username=W.auth.slice(0,N),W.username=encodeURIComponent(decodeURIComponent(W.username)),W.password=W.auth.slice(N+1),W.password=encodeURIComponent(decodeURIComponent(W.password))):W.username=encodeURIComponent(decodeURIComponent(W.auth)),W.auth=W.password?W.username+":"+W.password:W.username),W.origin="file:"!==W.protocol&&T(W.protocol)&&W.host?W.protocol+"//"+W.host:"null",W.href=W.toString()}ve.prototype={set:function ie(M,J,le){var se=this;switch(M){case"query":"string"==typeof J&&J.length&&(J=(le||u.parse)(J)),se[M]=J;break;case"port":se[M]=J,S(J,se.protocol)?J&&(se.host=se.hostname+":"+J):(se.host=se.hostname,se[M]="");break;case"hostname":se[M]=J,se.port&&(J+=":"+se.port),se.host=J;break;case"host":se[M]=J,R.test(J)?(J=J.split(":"),se.port=J.pop(),se.hostname=J.join(":")):(se.hostname=J,se.port="");break;case"protocol":se.protocol=J.toLowerCase(),se.slashes=!le;break;case"pathname":case"hash":if(J){var xe="pathname"===M?"/":"#";se[M]=J.charAt(0)!==xe?xe+J:J}else se[M]=J;break;case"username":case"password":se[M]=encodeURIComponent(J);break;case"auth":var Re=J.indexOf(":");~Re?(se.username=J.slice(0,Re),se.username=encodeURIComponent(decodeURIComponent(se.username)),se.password=J.slice(Re+1),se.password=encodeURIComponent(decodeURIComponent(se.password))):se.username=encodeURIComponent(decodeURIComponent(J))}for(var O=0;O<F.length;O++){var N=F[O];N[4]&&(se[N[1]]=se[N[1]].toLowerCase())}return se.auth=se.password?se.username+":"+se.password:se.username,se.origin="file:"!==se.protocol&&T(se.protocol)&&se.host?se.protocol+"//"+se.host:"null",se.href=se.toString(),se},toString:function H(M){(!M||"function"!=typeof M)&&(M=u.stringify);var J,le=this,se=le.host,xe=le.protocol;xe&&":"!==xe.charAt(xe.length-1)&&(xe+=":");var Re=xe+(le.protocol&&le.slashes||T(le.protocol)?"//":"");return le.username?(Re+=le.username,le.password&&(Re+=":"+le.password),Re+="@"):le.password?(Re+=":"+le.password,Re+="@"):"file:"!==le.protocol&&T(le.protocol)&&!se&&"/"!==le.pathname&&(Re+="@"),(":"===se[se.length-1]||R.test(le.hostname)&&!le.port)&&(se+=":"),Re+=se+le.pathname,(J="object"==typeof le.query?M(le.query):le.query)&&(Re+="?"!==J.charAt(0)?"?"+J:J),le.hash&&(Re+=le.hash),Re}},ve.extractProtocol=B,ve.location=P,ve.trimLeft=K,ve.qs=u,me.exports=ve},8460:(me,we,C)=>{"use strict";var S=C(2706),u=C(9065),Z=C(2856),Y=C(2630),j=C(7050);me.exports=function(E){return null==E||"object"!=typeof E&&"function"!=typeof E?null:S(E)?"String":u(E)?"Number":Z(E)?"Boolean":Y(E)?"Symbol":j(E)?"BigInt":void 0}},927:(me,we,C)=>{"use strict";var S=C(2418),u=C(1001),Z=C(1773),Y=C(1491),j=C(6078),R=Y("Object.prototype.toString"),E=C(6518)(),I=typeof globalThis>"u"?global:globalThis,K=u(),F=Y("String.prototype.slice"),k=Object.getPrototypeOf,P=Y("Array.prototype.indexOf",!0)||function(ie,H){for(var M=0;M<ie.length;M+=1)if(ie[M]===H)return M;return-1},T={__proto__:null};S(K,E&&j&&k?function(ve){var ie=new I[ve];if(Symbol.toStringTag in ie){var H=k(ie),M=j(H,Symbol.toStringTag);if(!M){var J=k(H);M=j(J,Symbol.toStringTag)}T["$"+ve]=Z(M.get)}}:function(ve){var ie=new I[ve],H=ie.slice||ie.set;H&&(T["$"+ve]=Z(H))}),me.exports=function(ie){if(!ie||"object"!=typeof ie)return!1;if(!E){var H=F(R(ie),8,-1);return P(K,H)>-1?H:"Object"===H&&function(ie){var H=!1;return S(T,function(M,J){if(!H)try{M(ie),H=F(J,1)}catch{}}),H}(ie)}return j?function(ie){var H=!1;return S(T,function(M,J){if(!H)try{"$"+M(ie)===J&&(H=F(J,1))}catch{}}),H}(ie):null}},863:(me,we,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function u(Z){if(!C.o(S,Z))return Promise.resolve().then(()=>{var R=new Error("Cannot find module '"+Z+"'");throw R.code="MODULE_NOT_FOUND",R});var Y=S[Z],j=Y[0];return Promise.all(Y.slice(1).map(C.e)).then(()=>C(j))}u.keys=()=>Object.keys(S),u.id=863,me.exports=u},4654:()=>{},1001:me=>{"use strict";var we=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;me.exports=function(){for(var u=[],Z=0;Z<we.length;Z++)"function"==typeof C[we[Z]]&&(u[u.length]=we[Z]);return u}},1324:(me,we,C)=>{"use strict";var S=C(1568),u=C(118);if(C(2337)()||C(2759)()){var Z=Symbol.iterator;me.exports=function(N){return null!=N&&typeof N[Z]<"u"?N[Z]():S(N)?Array.prototype[Z].call(N):void 0}}else{var Y=C(9604),j=C(2706),R=C(3485),E=R("%Map%",!0),I=R("%Set%",!0),K=C(1491),F=K("Array.prototype.push"),k=K("String.prototype.charCodeAt"),P=K("String.prototype.slice"),B=function(N){var te=0;return{next:function(){var W,X=te>=N.length;return X||(W=N[te],te+=1),{done:X,value:W}}}},de=function(N,te){if(Y(N)||S(N))return B(N);if(j(N)){var D=0;return{next:function(){var W=function(N,te){if(te+1>=N.length)return te+1;var X=k(N,te);if(X<55296||X>56319)return te+1;var W=k(N,te+1);return W<56320||W>57343?te+1:te+2}(N,D),he=P(N,D,W);return D=W,{done:W>N.length,value:he}}}}return te&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(E||I){var ve=C(6128),ie=C(5918),H=K("Map.prototype.forEach",!0),M=K("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var J=K("Map.prototype.iterator",!0),le=K("Set.prototype.iterator",!0);var se=K("Map.prototype.@@iterator",!0)||K("Map.prototype._es6-shim iterator_",!0),xe=K("Set.prototype.@@iterator",!0)||K("Set.prototype._es6-shim iterator_",!0);me.exports=function(N){return function(N){if(ve(N)){if(J)return u(J(N));if(se)return se(N);if(H){var te=[];return H(N,function(X,W){F(te,[W,X])}),B(te)}}if(ie(N)){if(le)return u(le(N));if(xe)return xe(N);if(M){var D=[];return M(N,function(X){F(D,X)}),B(D)}}}(N)||de(N)}}else me.exports=function(N){if(null!=N)return de(N,!0)}}},9148:(me,we,C)=>{"use strict";var S=C(6128),u=C(5918),Z=C(1545),Y=C(9043);me.exports=function(R){if(R&&"object"==typeof R){if(S(R))return"Map";if(u(R))return"Set";if(Z(R))return"WeakMap";if(Y(R))return"WeakSet"}return!1}},3918:(me,we,C)=>{"use strict";function S(Z,Y,j,R,E,I,K){try{var F=Z[I](K),k=F.value}catch(P){return void j(P)}F.done?Y(k):Promise.resolve(k).then(R,E)}function u(Z){return function(){var Y=this,j=arguments;return new Promise(function(R,E){var I=Z.apply(Y,j);function K(k){S(I,R,E,K,F,"next",k)}function F(k){S(I,R,E,K,F,"throw",k)}K(void 0)})}}C.d(we,{Z:()=>u})}},me=>{me(me.s=7304)}]);
//# sourceMappingURL=main.63e03cbe5a76a99b.js.map