(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2147:(He,We,R)=>{"use strict";function T(t){return"function"==typeof t}function u(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ae=u(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ie(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class q{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(i){n=i instanceof ae?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{j(i)}catch(s){n=n??[],s instanceof ae?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ae(n)}}add(n){var e;if(n&&n!==this)if(this.closed)j(n);else{if(n instanceof q){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ie(e,n)}remove(n){const{_finalizers:e}=this;e&&ie(e,n),n instanceof q&&n._removeParent(this)}}q.EMPTY=(()=>{const t=new q;return t.closed=!0,t})();const ce=q.EMPTY;function V(t){return t instanceof q||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function j(t){T(t)?t():t.unsubscribe()}const Ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},K={setTimeout(t,n,...e){const{delegate:r}=K;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=K;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function se(t){K.setTimeout(()=>{const{onUnhandledError:n}=Ie;if(!n)throw t;n(t)})}function B(){}const $=Ne("C",void 0,void 0);function Ne(t,n,e){return{kind:t,value:n,error:e}}let ge=null;function z(t){if(Ie.useDeprecatedSynchronousErrorHandling){const n=!ge;if(n&&(ge={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ge;if(ge=null,e)throw r}}else t()}class he extends q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,V(n)&&n.add(this)):this.destination=Fe}static create(n,e,r){return new de(n,e,r)}next(n){this.isStopped?Ue(function Oe(t){return Ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ue(function G(t){return Ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ue($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function me(t,n){return Pe.call(t,n)}class ot{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Me(r)}else Me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Me(e)}}}class de extends he{constructor(n,e,r){let o;if(super(),T(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Ie.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&me(n.next,i),error:n.error&&me(n.error,i),complete:n.complete&&me(n.complete,i)}):o=n}this.destination=new ot(o)}}function Me(t){Ie.useDeprecatedSynchronousErrorHandling?function W(t){Ie.useDeprecatedSynchronousErrorHandling&&ge&&(ge.errorThrown=!0,ge.error=t)}(t):se(t)}function Ue(t,n){const{onStoppedNotification:e}=Ie;e&&K.setTimeout(()=>e(t,n))}const Fe={closed:!0,next:B,error:function xe(t){throw t},complete:B},$e="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(t){return t}function nt(t){return 0===t.length?X:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}let St=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function O(t){return t&&t instanceof he||function Xe(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&V(t)}(e)?e:new de(e,r,o);return z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Rt(r))((o,i)=>{const s=new de({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[$e](){return this}pipe(...e){return nt(e)(this)}toPromise(e){return new(e=Rt(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function Rt(t){var n;return null!==(n=t??Ie.Promise)&&void 0!==n?n:Promise}const ve=u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qe=(()=>{class t extends St{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new J(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new ve}next(e){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?ce:(this.currentObservers=null,i.push(e),new q(()=>{this.currentObservers=null,ie(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new St;return e.source=this,e}}return t.create=(n,e)=>new J(n,e),t})();class J extends Qe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:ce}}function pe(t){return T(t?.lift)}function Ee(t){return n=>{if(pe(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(t,n,e,r,o){return new _t(t,n,e,r,o)}class _t extends he{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function je(t,n){return Ee((e,r)=>{let o=0;e.subscribe(Be(r,i=>{r.next(t.call(n,i,o++))}))})}function Q(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function nr(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function c(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}function dr(t){return this instanceof dr?(this.v=t,this):new dr(t)}function rr(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(I){r[I]&&(o[I]=function(P){return new Promise(function(Y,Re){i.push([I,P,Y,Re])>1||a(I,P)})})}function a(I,P){try{!function c(I){I.value instanceof dr?Promise.resolve(I.value.v).then(f,m):_(i[0][2],I)}(r[I](P))}catch(Y){_(i[0][3],Y)}}function f(I){a("next",I)}function m(I){a("throw",I)}function _(I,P){I(P),i.shift(),i.length&&a(i[0][0],i[0][1])}}function go(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Dn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const vn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function In(t){return T(t?.then)}function Bt(t){return T(t[$e])}function pn(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function fr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xn=function un(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pr(t){return T(t?.[Xn])}function Jt(t){return rr(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield dr(e.read());if(o)return yield dr(void 0);yield yield dr(r)}}finally{e.releaseLock()}})}function hr(t){return T(t?.getReader)}function S(t){if(t instanceof St)return t;if(null!=t){if(Bt(t))return function Vt(t){return new St(n=>{const e=t[$e]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(vn(t))return function sr(t){return new St(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(In(t))return function E(t){return new St(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,se)})}(t);if(pn(t))return yo(t);if(pr(t))return function An(t){return new St(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(hr(t))return function so(t){return yo(Jt(t))}(t)}throw fr(t)}function yo(t){return new St(n=>{(function Uo(t,n){var e,r,o,i;return nr(this,void 0,void 0,function*(){try{for(e=go(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Tr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Xt(t,n,e=1/0){return T(n)?Xt((r,o)=>je((i,s)=>n(r,i,o,s))(S(t(r,o))),e):("number"==typeof n&&(e=n),Ee((r,o)=>function Ci(t,n,e,r,o,i,s,a){const c=[];let f=0,m=0,_=!1;const I=()=>{_&&!c.length&&!f&&n.complete()},P=Re=>f<r?Y(Re):c.push(Re),Y=Re=>{i&&n.next(Re),f++;let Ke=!1;S(e(Re,m++)).subscribe(Be(n,Ye=>{o?.(Ye),i?P(Ye):n.next(Ye)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(f--;c.length&&f<r;){const Ye=c.shift();s?Tr(n,s,()=>Y(Ye)):Y(Ye)}I()}catch(Ye){n.error(Ye)}}))};return t.subscribe(Be(n,P,()=>{_=!0,I()})),()=>{a?.()}}(r,o,t,e)))}function ao(t=1/0){return Xt(X,t)}const mr=new St(t=>t.complete());function pi(t){return t&&T(t.schedule)}function an(t){return t[t.length-1]}function Mo(t){return T(an(t))?t.pop():void 0}function D(t){return pi(an(t))?t.pop():void 0}function jr(t,n=0){return Ee((e,r)=>{e.subscribe(Be(r,o=>Tr(r,t,()=>r.next(o),n),()=>Tr(r,t,()=>r.complete(),n),o=>Tr(r,t,()=>r.error(o),n)))})}function Si(t,n=0){return Ee((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function qr(t,n){if(!t)throw new Error("Iterable cannot be null");return new St(e=>{Tr(e,n,()=>{const r=t[Symbol.asyncIterator]();Tr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function or(t,n){return n?function ji(t,n){if(null!=t){if(Bt(t))return function Ei(t,n){return S(t).pipe(Si(n),jr(n))}(t,n);if(vn(t))return function Oo(t,n){return new St(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(In(t))return function _o(t,n){return S(t).pipe(Si(n),jr(n))}(t,n);if(pn(t))return qr(t,n);if(pr(t))return function Hi(t,n){return new St(e=>{let r;return Tr(e,n,()=>{r=t[Xn](),Tr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(hr(t))return function Di(t,n){return qr(Jt(t),n)}(t,n)}throw fr(t)}(t,n):S(t)}function Go(...t){const n=D(t),e=function xr(t,n){return"number"==typeof an(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?S(r[0]):ao(e)(or(r,n)):mr}function oi(t={}){const{connector:n=(()=>new Qe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,f=0,m=!1,_=!1;const I=()=>{a?.unsubscribe(),a=void 0},P=()=>{I(),s=c=void 0,m=_=!1},Y=()=>{const Re=s;P(),Re?.unsubscribe()};return Ee((Re,Ke)=>{f++,!_&&!m&&I();const Ye=c=c??n();Ke.add(()=>{f--,0===f&&!_&&!m&&(a=Ii(Y,o))}),Ye.subscribe(Ke),!s&&f>0&&(s=new de({next:gt=>Ye.next(gt),error:gt=>{_=!0,I(),a=Ii(P,e,gt),Ye.error(gt)},complete:()=>{m=!0,I(),a=Ii(P,r),Ye.complete()}}),S(Re).subscribe(s))})(i)}}function Ii(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new de({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function Mn(t){for(let n in t)if(t[n]===Mn)return n;throw Error("Could not find renamed property on target object.")}function ii(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Vn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Vn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Mi(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ms=Mn({__forward_ref__:Mn});function x(t){return t.__forward_ref__=x,t.toString=function(){return Vn(this())},t}function F(t){return ye(t)?t():t}function ye(t){return"function"==typeof t&&t.hasOwnProperty(ms)&&t.__forward_ref__===x}class ne extends Error{constructor(n,e){super(function L(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t,n){throw new ne(-201,!1)}function Xr(t,n){null==t&&function Ln(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _s(t){return la(t,Gi)||la(t,Zr)}function la(t,n){return t.hasOwnProperty(n)?t[n]:null}function Rs(t){return t&&(t.hasOwnProperty(us)||t.hasOwnProperty(zi))?t[us]:null}const Gi=Mn({\u0275prov:Mn}),us=Mn({\u0275inj:Mn}),Zr=Mn({ngInjectableDef:Mn}),zi=Mn({ngInjectorDef:Mn});var Wt=(()=>((Wt=Wt||{})[Wt.Default=0]="Default",Wt[Wt.Host=1]="Host",Wt[Wt.Self=2]="Self",Wt[Wt.SkipSelf=4]="SkipSelf",Wt[Wt.Optional=8]="Optional",Wt))();let ca;function Qr(t){const n=ca;return ca=t,n}function ua(t,n,e){const r=_s(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Wt.Optional?null:void 0!==n?n:void Ht(Vn(t))}function Rn(t){return{toString:t}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),ir=(()=>{return(t=ir||(ir={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ir;var t})();const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),w={},M=[],U=Mn({\u0275cmp:Mn}),be=Mn({\u0275dir:Mn}),Ce=Mn({\u0275pipe:Mn}),Se=Mn({\u0275mod:Mn}),ut=Mn({\u0275fac:Mn}),d=Mn({__NG_ELEMENT_ID__:Mn});let g=0;function y(t){return Rn(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||M,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ir.Emulated,id:"c"+g++,styles:t.styles||M,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=mt(t.inputs,r),o.outputs=mt(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(N).filter(ee):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Dt).filter(ee):null,o})}function N(t){return It(t)||wt(t)}function ee(t){return null!==t}function re(t){return Rn(()=>({type:t.type,bootstrap:t.bootstrap||M,declarations:t.declarations||M,imports:t.imports||M,exports:t.exports||M,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mt(t,n){if(null==t)return w;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const le=y;function ct(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[U]||null}function wt(t){return t[be]||null}function Dt(t){return t[Ce]||null}function Hn(t,n){const e=t[Se]||null;if(!e&&!0===n)throw new Error(`Type ${Vn(t)} does not have '\u0275mod' property.`);return e}function Wo(t){return Array.isArray(t)&&"object"==typeof t[1]}function xi(t){return Array.isArray(t)&&!0===t[1]}function sc(t){return 0!=(8&t.flags)}function El(t){return 2==(2&t.flags)}function Dl(t){return 1==(1&t.flags)}function Ai(t){return null!==t.template}function uf(t){return 0!=(256&t[2])}function Ns(t,n){return t.hasOwnProperty(ut)?t[ut]:null}class pf{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function bo(){return yu}function yu(t){return t.type.prototype.ngOnChanges&&(t.setInput=mf),hf}function hf(){const t=vu(this),n=t?.current;if(n){const e=t.previous;if(e===w)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function mf(t,n,e,r){const o=vu(t)||function gf(t,n){return t[_u]=n}(t,{previous:w,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new pf(c&&c.currentValue,n,s===w),t[r]=n}bo.ngInherit=!0;const _u="__ngSimpleChanges__";function vu(t){return t[_u]||null}function Kr(t){for(;Array.isArray(t);)t=t[0];return t}function Il(t,n){return Kr(n[t])}function si(t,n){return Kr(n[t.index])}function dc(t,n){return t.data[n]}function ha(t,n){return t[n]}function ai(t,n){const e=n[t];return Wo(e)?e:e[0]}function Ml(t){return 64==(64&t[2])}function vs(t,n){return null==n?null:t[n]}function bu(t){t[18]=0}function fc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const Sn={lFrame:b(null),bindingsEnabled:!0};function Cu(){return Sn.bindingsEnabled}function pt(){return Sn.lFrame.lView}function Zn(){return Sn.lFrame.tView}function nn(t){return Sn.lFrame.contextLView=t,t[8]}function qt(t){return Sn.lFrame.contextLView=null,t}function uo(){let t=Su();for(;null!==t&&64===t.type;)t=t.parent;return t}function Su(){return Sn.lFrame.currentTNode}function er(t,n){const e=Sn.lFrame;e.currentTNode=t,e.isParent=n}function bs(){return Sn.lFrame.isParent}function Wn(){Sn.lFrame.isParent=!1}function gn(){return Sn.lFrame.bindingIndex}function tr(){return Sn.lFrame.bindingIndex++}function qe(t){const n=Sn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Er(t,n){const e=Sn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Lo(n)}function Lo(t){Sn.lFrame.currentDirectiveIndex=t}function fo(){return Sn.lFrame.currentQueryIndex}function Fr(t){Sn.lFrame.currentQueryIndex=t}function Jr(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function fn(t,n,e){if(e&Wt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Wt.Host||(o=Jr(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=Sn.lFrame=h();return r.currentTNode=n,r.lView=t,!0}function l(t){const n=h(),e=t[1];Sn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function h(){const t=Sn.lFrame,n=null===t?null:t.child;return null===n?b(t):n}function b(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function A(){const t=Sn.lFrame;return Sn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const H=A;function we(){const t=A();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ct(){return Sn.lFrame.selectedIndex}function Qt(t){Sn.lFrame.selectedIndex=t}function Zt(){const t=Sn.lFrame;return dc(t.tView,t.selectedIndex)}function wo(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=m&&(t.destroyHooks||(t.destroyHooks=[])).push(e,m)}}function bt(t,n,e){Dr(t,n,3,e)}function on(t,n,e,r){(3&t[2])===e&&Dr(t,n,e,r)}function to(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Dr(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(Wi(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function Wi(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Eu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function xf(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];e0(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function Jv(t){return 3===t||4===t||6===t}function e0(t){return 64===t.charCodeAt(0)}function Af(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||t0(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function t0(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function n0(t){return-1!==t}function pc(t){return 32767&t}function hc(t,n){let e=function Pk(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let mm=!0;function Pf(t){const n=mm;return mm=t,n}let Rk=0;const Ls={};function Iu(t,n){const e=ym(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,gm(r.data,t),gm(n,null),gm(r.blueprint,null));const o=Rf(t,n),i=t.injectorIndex;if(n0(o)){const s=pc(o),a=hc(o,n),c=a[1].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|c[s+f]}return n[i+8]=o,i}function gm(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ym(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Rf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=f0(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Ff(t,n,e){!function Fk(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(d)&&(r=e[d]),null==r&&(r=e[d]=Rk++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function s0(t,n,e){if(e&Wt.Optional||void 0!==t)return t;Ht()}function a0(t,n,e,r){if(e&Wt.Optional&&void 0===r&&(r=null),0==(e&(Wt.Self|Wt.Host))){const o=t[9],i=Qr(void 0);try{return o?o.get(n,r,e&Wt.Optional):ua(n,r,e&Wt.Optional)}finally{Qr(i)}}return s0(r,0,e)}function l0(t,n,e,r=Wt.Default,o){if(null!==t){if(1024&n[2]){const s=function Bk(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=c0(i,s,e,r|Wt.Self,Ls);if(a!==Ls)return a;let c=i.parent;if(!c){const f=s[21];if(f){const m=f.get(e,Ls,r);if(m!==Ls)return m}c=f0(s),s=s[15]}i=c}return o}(t,n,e,r,Ls);if(s!==Ls)return s}const i=c0(t,n,e,r,Ls);if(i!==Ls)return i}return a0(n,e,r,o)}function c0(t,n,e,r,o){const i=function Lk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(d)?t[d]:void 0;return"number"==typeof n?n>=0?255&n:$k:n}(e);if("function"==typeof i){if(!fn(n,t,r))return r&Wt.Host?s0(o,0,r):a0(n,e,r,o);try{const s=i(r);if(null!=s||r&Wt.Optional)return s;Ht()}finally{H()}}else if("number"==typeof i){let s=null,a=ym(t,n),c=-1,f=r&Wt.Host?n[16][6]:null;for((-1===a||r&Wt.SkipSelf)&&(c=-1===a?Rf(t,n):n[a+8],-1!==c&&d0(r,!1)?(s=n[1],a=pc(c),n=hc(c,n)):a=-1);-1!==a;){const m=n[1];if(u0(i,a,m.data)){const _=Nk(a,n,e,s,r,f);if(_!==Ls)return _}c=n[a+8],-1!==c&&d0(r,n[1].data[a+8]===f)&&u0(i,a,n)?(s=m,a=pc(c),n=hc(c,n)):a=-1}}return o}function Nk(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],m=Of(a,s,e,null==r?El(a)&&mm:r!=s&&0!=(3&a.type),o&Wt.Host&&i===a);return null!==m?Mu(n,s,m,a):Ls}function Of(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,m=i>>20,I=o?a+m:t.directiveEnd;for(let P=r?a:a+m;P<I;P++){const Y=s[P];if(P<c&&e===Y||P>=c&&Y.type===e)return P}if(o){const P=s[c];if(P&&Ai(P)&&P.type===e)return c}return null}function Mu(t,n,e,r){let o=t[e];const i=n.data;if(function kk(t){return t instanceof Eu}(o)){const s=o;s.resolving&&function Je(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${e}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(i[e]));const a=Pf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Qr(s.injectImpl):null;fn(t,r,Wt.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Pi(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=yu(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&Qr(c),Pf(a),s.resolving=!1,H()}}return o}function u0(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function d0(t,n){return!(t&Wt.Self||t&Wt.Host&&n)}class mc{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return l0(this._tNode,this._lView,n,r,e)}}function $k(){return new mc(uo(),pt())}function Zo(t){return Rn(()=>{const n=t.prototype.constructor,e=n[ut]||_m(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[ut]||_m(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function _m(t){return ye(t)?()=>{const n=_m(F(t));return n&&n()}:Ns(t)}function f0(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function kl(t){return function Ok(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(Jv(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(uo(),t)}const yc="__parameters__";function vc(t,n,e){return Rn(()=>{const r=function vm(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,m){const _=c.hasOwnProperty(yc)?c[yc]:Object.defineProperty(c,yc,{value:[]})[yc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class dn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=vt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),qi(r,n)):n!==t&&n.push(r)}return n}function ma(t,n){t.forEach(e=>Array.isArray(e)?ma(e,n):n(e))}function h0(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Nf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function xu(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Zi(t,n,e){let r=bc(t,n);return r>=0?t[1|r]=e:(r=~r,function Uk(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function wm(t,n){const e=bc(t,n);if(e>=0)return t[1|e]}function bc(t,n){return function y0(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Au={},Sm="__NG_DI_FLAG__",$f="ngTempTokenPath",Xk=/\n/gm,_0="__source";let Pu;function wc(t){const n=Pu;return Pu=t,n}function Jk(t,n=Wt.Default){if(void 0===Pu)throw new ne(-203,!1);return null===Pu?ua(t,void 0,n):Pu.get(t,n&Wt.Optional?null:void 0,n)}function De(t,n=Wt.Default){return(function bl(){return ca}()||Jk)(F(t),n)}function po(t,n=Wt.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),De(t,n)}function Em(t){const n=[];for(let e=0;e<t.length;e++){const r=F(t[e]);if(Array.isArray(r)){if(0===r.length)throw new ne(900,!1);let o,i=Wt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=eT(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(De(o,i))}else n.push(De(r))}return n}function Ru(t,n){return t[Sm]=n,t.prototype[Sm]=n,t}function eT(t){return t[Sm]}const Fu=Ru(vc("Optional"),8),Ou=Ru(vc("SkipSelf"),4);var Ri=(()=>((Ri=Ri||{})[Ri.Important=1]="Important",Ri[Ri.DashCase=2]="DashCase",Ri))();const Tm=new Map;let _T=0;const Am="__ngContext__";function li(t,n){Wo(n)?(t[Am]=n[20],function bT(t){Tm.set(t[20],t)}(n)):t[Am]=n}function Rm(t,n){return undefined(t,n)}function Bu(t){const n=t[3];return xi(n)?n[3]:n}function Fm(t){return B0(t[13])}function Om(t){return B0(t[4])}function B0(t){for(;null!==t&&!xi(t);)t=t[4];return t}function Sc(t,n,e,r,o){if(null!=r){let i,s=!1;xi(r)?i=r:Wo(r)&&(s=!0,r=r[0]);const a=Kr(r);0===t&&null!==e?null==o?z0(n,e,a):Tl(n,e,a,o||null,!0):1===t&&null!==e?Tl(n,e,a,o||null,!0):2===t?function jm(t,n,e){const r=Hf(t,n);r&&function jT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function zT(t,n,e,r,o){const i=e[7];i!==Kr(e)&&Sc(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Vu(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function Lm(t,n,e){return t.createElement(n,e)}function H0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,fc(o,-1)),e.splice(r,1)}function $m(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&H0(o,r),n>0&&(t[e-1][4]=r[4]);const i=Nf(t,10+n);!function FT(t,n){Vu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function j0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Vu(t,n,e,3,null,null),function LT(t){let n=t[13];if(!n)return Bm(t[1],t);for(;n;){let e=null;if(Wo(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)Wo(n)&&Bm(n[1],n),n=n[3];null===n&&(n=t),Wo(n)&&Bm(n[1],n),e=n&&n[4]}n=e}}(n)}}function Bm(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function HT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof Eu)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function VT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):Kr(n[s]),c=r[o=e[i+2]],f=e[i+3];"boolean"==typeof f?a.removeEventListener(e[i],c,f):f>=0?r[o=f]():r[o=-f].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&xi(n[3])){e!==n[3]&&H0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function wT(t){Tm.delete(t[20])}(n)}}function U0(t,n,e){return function G0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===ir.None||o===ir.Emulated)return null}return si(r,e)}(t,n.parent,e)}function Tl(t,n,e,r,o){t.insertBefore(n,e,r,o)}function z0(t,n,e){t.appendChild(n,e)}function W0(t,n,e,r,o){null!==r?Tl(t,n,e,r,o):z0(t,n,e)}function Hf(t,n){return t.parentNode(n)}function q0(t,n,e){return K0(t,n,e)}let Gf,Wm,K0=function Z0(t,n,e){return 40&t.type?si(t,e):null};function jf(t,n,e,r){const o=U0(t,r,n),i=n[11],a=q0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)W0(i,o,e[c],a,!1);else W0(i,o,e,a,!1)}function Uf(t,n){if(null!==n){const e=n.type;if(3&e)return si(n,t);if(4&e)return Hm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Uf(t,r);{const o=t[n.index];return xi(o)?Hm(-1,o):Kr(o)}}if(32&e)return Rm(n,t)()||Kr(t[n.index]);{const r=X0(t,n);return null!==r?Array.isArray(r)?r[0]:Uf(Bu(t[16]),r):Uf(t,n.next)}}return null}function X0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Hm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return Uf(r,o)}return n[7]}function Um(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&li(Kr(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)Um(t,n,e.child,r,o,i,!1),Sc(n,t,o,a,i);else if(32&c){const f=Rm(e,r);let m;for(;m=f();)Sc(n,t,o,m,i);Sc(n,t,o,a,i)}else 16&c?Q0(t,n,r,e,o,i):Sc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Vu(t,n,e,r,o,i){Um(e,r,t.firstChild,n,o,i,!1)}function Q0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)Sc(n,t,o,c[f],i);else Um(t,n,c,s[3],o,i,!0)}function J0(t,n,e){t.setAttribute(n,"style",e)}function Gm(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function xl(t){return function zm(){if(void 0===Gf&&(Gf=null,hn.trustedTypes))try{Gf=hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gf}()?.createHTML(t)||t}class Al{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class XT extends Al{getTypeName(){return"HTML"}}class QT extends Al{getTypeName(){return"Style"}}class JT extends Al{getTypeName(){return"Script"}}class ex extends Al{getTypeName(){return"URL"}}class tx extends Al{getTypeName(){return"ResourceURL"}}function Ki(t){return t instanceof Al?t.changingThisBreaksApplicationSecurity:t}function $s(t,n){const e=function nx(t){return t instanceof Al&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class lx{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(xl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class cx{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xl(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=xl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const dx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wf(t){return(t=String(t)).match(dx)?t:"unsafe:"+t}function ga(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Hu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const ib=ga("area,br,col,hr,img,wbr"),sb=ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ab=ga("rp,rt"),Zm=Hu(ib,Hu(sb,ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hu(ab,ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hu(ab,sb)),Km=ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lb=Hu(Km,ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fx=ga("script,style,template");class px{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Zm.hasOwnProperty(e))return this.sanitizedSomething=!0,!fx.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!lb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Km[a]&&(c=Wf(c)),this.buf.push(" ",s,'="',cb(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Zm.hasOwnProperty(e)&&!ib.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(cb(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const hx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mx=/([^\#-~ |!])/g;function cb(t){return t.replace(/&/g,"&amp;").replace(hx,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(mx,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qf;function ub(t,n){let e=null;try{qf=qf||function ob(t){const n=new cx(t);return function ux(){try{return!!(new window.DOMParser).parseFromString(xl(""),"text/html")}catch{return!1}}()?new lx(n):n}(t);let r=n?String(n):"";e=qf.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=qf.getInertBodyElement(r)}while(r!==i);return xl((new px).sanitizeChildren(Ym(e)||e))}finally{if(e){const r=Ym(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ym(t){return"content"in t&&function gx(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ar=(()=>((Ar=Ar||{})[Ar.NONE=0]="NONE",Ar[Ar.HTML=1]="HTML",Ar[Ar.STYLE=2]="STYLE",Ar[Ar.SCRIPT=3]="SCRIPT",Ar[Ar.URL=4]="URL",Ar[Ar.RESOURCE_URL=5]="RESOURCE_URL",Ar))();const Qm=new dn("ENVIRONMENT_INITIALIZER"),fb=new dn("INJECTOR",-1),pb=new dn("INJECTOR_DEF_TYPES");class hb{get(n,e=Au){if(e===Au){const r=new Error(`NullInjectorError: No provider for ${Vn(n)}!`);throw r.name="NullInjectorError",r}return e}}function Ex(...t){return{\u0275providers:mb(0,t)}}function mb(t,...n){const e=[],r=new Set;let o;return ma(n,i=>{const s=i;Jm(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&gb(o,e),e}function gb(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];ma(o,i=>{n.push(i)})}}function Jm(t,n,e,r){if(!(t=F(t)))return!1;let o=null,i=Rs(t);const s=!i&&It(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=Rs(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)Jm(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ma(i.imports,m=>{Jm(m,n,e,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&gb(f,n)}if(!a){const f=Ns(o)||(()=>new o);n.push({provide:o,useFactory:f,deps:M},{provide:pb,useValue:o,multi:!0},{provide:Qm,useValue:()=>De(o),multi:!0})}const c=i.providers;null==c||a||ma(c,m=>{n.push(m)})}}return o!==t&&void 0!==t.providers}const Dx=Mn({provide:String,useValue:Mn});function eg(t){return null!==t&&"object"==typeof t&&Dx in t}function Pl(t){return"function"==typeof t}const tg=new dn("Set Injector scope."),Zf={},Mx={};let ng;function Kf(){return void 0===ng&&(ng=new hb),ng}class Ka{}class vb extends Ka{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,og(n,s=>this.processProvider(s)),this.records.set(fb,Ec(void 0,this)),o.has("environment")&&this.records.set(Ka,Ec(void 0,this));const i=this.records.get(tg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(pb.multi,M,Wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=wc(this),r=Qr(void 0);try{return n()}finally{wc(e),Qr(r)}}get(n,e=Au,r=Wt.Default){this.assertNotDestroyed();const o=wc(this),i=Qr(void 0);try{if(!(r&Wt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function Px(t){return"function"==typeof t||"object"==typeof t&&t instanceof dn}(n)&&_s(n);a=c&&this.injectableDefInScope(c)?Ec(rg(n),Zf):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Wt.Self?Kf():this.parent).get(n,e=r&Wt.Optional&&e===Au?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[$f]=s[$f]||[]).unshift(Vn(n)),o)throw s;return function tT(t,n,e,r){const o=t[$f];throw n[_0]&&o.unshift(n[_0]),t.message=function nT(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Vn(n);if(Array.isArray(n))o=n.map(Vn).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Vn(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(Xk,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[$f]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{Qr(i),wc(o)}}resolveInjectorInitializers(){const n=wc(this),e=Qr(void 0);try{const r=this.get(Qm.multi,M,Wt.Self);for(const o of r)o()}finally{wc(n),Qr(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Vn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(n){let e=Pl(n=F(n))?n:F(n&&n.provide);const r=function Tx(t){return eg(t)?Ec(void 0,t.useValue):Ec(bb(t),Zf)}(n);if(Pl(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Ec(void 0,Zf,!0),o.factory=()=>Em(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Zf&&(e.value=Mx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Ax(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=F(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function rg(t){const n=_s(t),e=null!==n?n.factory:Ns(t);if(null!==e)return e;if(t instanceof dn)throw new ne(204,!1);if(t instanceof Function)return function kx(t){const n=t.length;if(n>0)throw xu(n,"?"),new ne(204,!1);const e=function vl(t){const n=t&&(t[Gi]||t[Zr]);if(n){const e=function cs(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new ne(204,!1)}function bb(t,n,e){let r;if(Pl(t)){const o=F(t);return Ns(o)||rg(o)}if(eg(t))r=()=>F(t.useValue);else if(function _b(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Em(t.deps||[]));else if(function yb(t){return!(!t||!t.useExisting)}(t))r=()=>De(F(t.useExisting));else{const o=F(t&&(t.useClass||t.provide));if(!function xx(t){return!!t.deps}(t))return Ns(o)||rg(o);r=()=>new o(...Em(t.deps))}return r}function Ec(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Rx(t){return!!t.\u0275providers}function og(t,n){for(const e of t)Array.isArray(e)?og(e,n):Rx(e)?og(e.\u0275providers,n):n(e)}class wb{}class Nx{resolveComponentFactory(n){throw function Ox(t){const n=Error(`No component factory found for ${Vn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ya=(()=>{class t{}return t.NULL=new Nx,t})();function Lx(){return Dc(uo(),pt())}function Dc(t,n){return new yt(si(t,n))}let yt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=Lx,t})();function $x(t){return t instanceof yt?t.nativeElement:t}class Sb{}let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Bx(){const t=pt(),e=ai(uo().index,t);return(Wo(e)?e:t)[11]}(),t})(),Vx=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>null}),t})();class Uu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Hx=new Uu("14.2.12"),ig={};function ag(t){return t.ngOriginalError}class Ic{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&ag(n);for(;e&&ag(e);)e=ag(e);return e||null}}function va(t){return t instanceof Function?t():t}function Db(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const Ib="ng-template";function Qx(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==Db(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function Mb(t){return 4===t.type&&t.value!==Ib}function Jx(t,n,e){return n===(4!==t.type||e?t.value:Ib)}function eA(t,n,e){let r=4;const o=t.attrs||[],i=function rA(t){for(let n=0;n<t.length;n++)if(Jv(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Jx(t,c,e)||""===c&&1===n.length){if(ws(r))return!1;s=!0}}else{const f=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!Qx(t.attrs,f,e)){if(ws(r))return!1;s=!0}continue}const _=tA(8&r?"class":c,o,Mb(t),e);if(-1===_){if(ws(r))return!1;s=!0;continue}if(""!==f){let I;I=_>i?"":o[_+1].toLowerCase();const P=8&r?I:null;if(P&&-1!==Db(P,f,0)||2&r&&f!==I){if(ws(r))return!1;s=!0}}}}else{if(!s&&!ws(r)&&!ws(c))return!1;if(s&&ws(c))continue;s=!1,r=c|1&r}}return ws(r)||s}function ws(t){return 0==(1&t)}function tA(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function oA(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function kb(t,n,e=!1){for(let r=0;r<n.length;r++)if(eA(t,n[r],e))return!0;return!1}function iA(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Tb(t,n){return t?":not("+n.trim()+")":n}function sA(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!ws(s)&&(n+=Tb(i,o),o=""),r=s,i=i||!ws(r);e++}return""!==o&&(n+=Tb(i,o)),n}const Tn={};function rt(t){xb(Zn(),pt(),Ct()+t,!1)}function xb(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&bt(n,i,e)}else{const i=t.preOrderHooks;null!==i&&on(n,i,0,e)}Qt(e)}function Fb(t,n=null,e=null,r){const o=Ob(t,n,e,r);return o.resolveInjectorInitializers(),o}function Ob(t,n=null,e=null,r,o=new Set){const i=[e||M,Ex(t)];return r=r||("object"==typeof t?void 0:Vn(t)),new vb(i,n||Kf(),r||null,o)}let Vr=(()=>{class t{static create(e,r){if(Array.isArray(e))return Fb({name:""},r,e,"");{const o=e.name??"";return Fb({name:o},e.parent,e.providers,o)}}}return t.THROW_IF_NOT_FOUND=Au,t.NULL=new hb,t.\u0275prov=vt({token:t,providedIn:"any",factory:()=>De(fb)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,n=Wt.Default){const e=pt();return null===e?De(t,n):l0(uo(),e,F(t),n)}function fg(){throw new Error("invalid")}function Xf(t,n){return t<<17|n<<2}function Cs(t){return t>>17&32767}function pg(t){return 2|t}function ba(t){return(131068&t)>>2}function hg(t,n){return-131069&t|n<<2}function mg(t){return 1|t}function Qb(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];Fr(o),s.contentQueries(2,n[i],i)}}}function ep(t,n,e,r,o,i,s,a,c,f,m){const _=n.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||t&&1024&t[2])&&(_[2]|=1024),bu(_),_[3]=_[15]=t,_[8]=e,_[10]=s||t&&t[10],_[11]=a||t&&t[11],_[12]=c||t&&t[12]||null,_[9]=f||t&&t[9]||null,_[6]=i,_[20]=function vT(){return _T++}(),_[21]=m,_[16]=2==n.type?t[16]:_,_}function Tc(t,n,e,r,o){let i=t.data[n];if(null===i)i=function Sg(t,n,e,r,o){const i=Su(),s=bs(),c=t.data[n]=function jA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function Gr(){return Sn.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function Za(){const t=Sn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return er(i,!0),i}function xc(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Eg(t,n,e){l(n);try{const r=t.viewQuery;null!==r&&Pg(1,r,e);const o=t.template;null!==o&&Jb(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Qb(t,n),t.staticViewQueries&&Pg(2,t.viewQuery,e);const i=t.components;null!==i&&function BA(t,n){for(let e=0;e<n.length;e++)oP(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,we()}}function tp(t,n,e,r){const o=n[2];if(128!=(128&o)){l(n);try{bu(n),function xo(t){return Sn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Jb(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&bt(n,f,null)}else{const f=t.preOrderHooks;null!==f&&on(n,f,0,null),to(n,0)}if(function nP(t){for(let n=Fm(t);null!==n;n=Om(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&fc(i,1),o[2]|=512}}}(n),function tP(t){for(let n=Fm(t);null!==n;n=Om(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];Ml(r)&&tp(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&Qb(t,n),s){const f=t.contentCheckHooks;null!==f&&bt(n,f)}else{const f=t.contentHooks;null!==f&&on(n,f,1),to(n,1)}!function LA(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Qt(~o);else{const i=o,s=e[++r],a=e[++r];Er(s,i),a(2,n[i])}}}finally{Qt(-1)}}(t,n);const a=t.components;null!==a&&function $A(t,n){for(let e=0;e<n.length;e++)rP(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&Pg(2,c,r),s){const f=t.viewCheckHooks;null!==f&&bt(n,f)}else{const f=t.viewHooks;null!==f&&on(n,f,2),to(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,fc(n[3],-1))}finally{we()}}}function Jb(t,n,e,r,o){const i=Ct(),s=2&r;try{Qt(-1),s&&n.length>22&&xb(t,n,22,!1),e(r,o)}finally{Qt(i)}}function ew(t,n,e){if(sc(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function Dg(t,n,e){!Cu()||(function qA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||Iu(e,n),li(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],f=Ai(c);f&&QA(n,e,c);const m=Mu(n,t,a,e);li(m,n),null!==s&&JA(0,a-o,m,c,0,s),f&&(ai(e.index,n)[8]=m)}}(t,n,e,si(e,n)),128==(128&e.flags)&&function ZA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function No(){return Sn.lFrame.currentDirectiveIndex}();try{Qt(i);for(let a=r;a<o;a++){const c=t.data[a],f=n[a];Lo(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&aw(c,f)}}finally{Qt(-1),Lo(s)}}(t,n,e))}function Ig(t,n,e=si){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function tw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Mg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Mg(t,n,e,r,o,i,s,a,c,f){const m=22+r,_=m+o,I=function VA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Tn);return e}(m,_),P="function"==typeof f?f():f;return I[1]={type:t,blueprint:I,template:e,queries:null,viewQuery:a,declTNode:n,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:P,incompleteFirstPass:!1}}function nw(t,n,e,r){const o=fw(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&pw(t).push(r,o.length-1))}function rw(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function ow(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let f=n.directiveStart;f<r;f++){const m=o[f],_=m.inputs,I=null===i||Mb(n)?null:eP(_,i);s.push(I),a=rw(_,f,a),c=rw(m.outputs,f,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}function iw(t,n){const e=ai(n,t);16&e[2]||(e[2]|=32)}function kg(t,n,e,r){let o=!1;if(Cu()){const i=function KA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];kb(e,s.selectors,!1)&&(o||(o=[]),Ff(Iu(e,n),t,s.type),Ai(s)?(lw(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,cw(e,t.data.length,i.length);for(let m=0;m<i.length;m++){const _=i[m];_.providersResolver&&_.providersResolver(_)}let a=!1,c=!1,f=xc(t,n,i.length,null);for(let m=0;m<i.length;m++){const _=i[m];e.mergedAttrs=Af(e.mergedAttrs,_.hostAttrs),uw(t,e,n,f,_),XA(f,_,s),null!==_.contentQueries&&(e.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=128);const I=_.type.prototype;!a&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}ow(t,e)}s&&function YA(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new ne(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=Af(e.mergedAttrs,e.attrs),o}function sw(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function WA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function aw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function lw(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function XA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Ai(n)&&(e[""]=t)}}function cw(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function uw(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Ns(o.type)),s=new Eu(i,Ai(o),C);t.blueprint[r]=s,e[r]=s,sw(t,n,0,r,xc(t,e,o.hostVars,Tn),o)}function QA(t,n,e){const r=si(n,t),o=tw(e),i=t[10],s=np(t,ep(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Bs(t,n,e,r,o,i){const s=si(t,n);!function Tg(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?Z(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function JA(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const f=s[c++],m=s[c++],_=s[c++];null!==a?r.setInput(e,_,f,m):e[m]=_}}}function eP(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function dw(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function rP(t,n){const e=ai(n,t);if(Ml(e)){const r=e[1];48&e[2]?tp(r,e,r.template,e[8]):e[5]>0&&xg(e)}}function xg(t){for(let r=Fm(t);null!==r;r=Om(r))for(let o=10;o<r.length;o++){const i=r[o];if(Ml(i))if(512&i[2]){const s=i[1];tp(s,i,s.template,i[8])}else i[5]>0&&xg(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=ai(e[r],t);Ml(o)&&o[5]>0&&xg(o)}}function oP(t,n){const e=ai(n,t),r=e[1];(function iP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Eg(r,e,e[8])}function np(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Ag(t){for(;t;){t[2]|=32;const n=Bu(t);if(uf(t)&&!n)return t;t=n}return null}function rp(t,n,e,r=!0){const o=n[10];o.begin&&o.begin();try{tp(t,n,t.template,e)}catch(s){throw r&&mw(n,s),s}finally{o.end&&o.end()}}function Pg(t,n,e){Fr(0),n(t,e)}function fw(t){return t[7]||(t[7]=[])}function pw(t){return t.cleanup||(t.cleanup=[])}function mw(t,n){const e=t[9],r=e?e.get(Ic,null):null;r&&r.handleError(n)}function Rg(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],f=t.data[s];null!==f.setInput?f.setInput(c,o,r,a):c[a]=o}}function wa(t,n,e){const r=Il(n,t);!function V0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function op(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Mi(o,a):2==i&&(r=Mi(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function ip(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Kr(i)),xi(i))for(let a=10;a<i.length;a++){const c=i[a],f=c[1].firstChild;null!==f&&ip(c[1],c,f,r)}const s=e.type;if(8&s)ip(t,n,e.child,r);else if(32&s){const a=Rm(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=X0(n,e);if(Array.isArray(a))r.push(...a);else{const c=Bu(n[16]);ip(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class Gu{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return ip(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(xi(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&($m(n,r),Nf(e,r))}this._attachedToViewContainer=!1}j0(this._lView[1],this._lView)}onDestroy(n){nw(this._lView[1],this._lView,null,n)}markForCheck(){Ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NT(t,n){Vu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=n}}class sP extends Gu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;rp(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Fg extends ya{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=It(n);return new zu(e,this.ngModule)}}function gw(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class lP{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,ig,r);return o!==ig||e===ig?o:this.parentInjector.get(n,e,r)}}class zu extends wb{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function aA(t){return t.map(sA).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return gw(this.componentDef.inputs)}get outputs(){return gw(this.componentDef.outputs)}create(n,e,r,o){let i=(o=o||this.ngModule)instanceof Ka?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new lP(n,i):n,a=s.get(Sb,null);if(null===a)throw new ne(407,!1);const c=s.get(Vx,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function HA(t,n,e){return t.selectRootElement(n,e===ir.ShadowDom)}(f,r,this.componentDef.encapsulation):Lm(f,m,function aP(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(m)),I=this.componentDef.onPush?288:272,P=Mg(0,null,null,1,0,null,null,null,null,null),Y=ep(null,P,null,I,null,null,a,f,c,s,null);let Re,Ke;l(Y);try{const Ye=function dP(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=Tc(s,22,2,"#host",null),f=c.mergedAttrs=n.hostAttrs;null!==f&&(op(c,f,!0),null!==t&&(xf(o,t,f),null!==c.classes&&Gm(o,t,c.classes),null!==c.styles&&J0(o,t,c.styles)));const m=r.createRenderer(t,n),_=ep(e,tw(n),null,n.onPush?32:16,e[22],c,r,m,i||null,null,null);return s.firstCreatePass&&(Ff(Iu(c,e),s,n.type),lw(s,c),cw(c,e.length,1)),np(e,_),e[22]=_}(_,this.componentDef,Y,a,f);if(_)if(r)xf(f,_,["ng-version",Hx.full]);else{const{attrs:gt,classes:tt}=function lA(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!ws(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);gt&&xf(f,_,gt),tt&&tt.length>0&&Gm(f,_,tt.join(" "))}if(Ke=dc(P,22),void 0!==e){const gt=Ke.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const ht=e[tt];gt.push(null!=ht?Array.from(ht):null)}}Re=function fP(t,n,e,r){const o=e[1],i=function zA(t,n,e){const r=uo();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),uw(t,r,n,xc(t,n,1,null),e),ow(t,r));const o=Mu(n,t,r.directiveStart,r);li(o,n);const i=si(r,n);return i&&li(i,n),o}(o,e,n);if(t[8]=e[8]=i,null!==r)for(const a of r)a(i,n);if(n.contentQueries){const a=uo();n.contentQueries(1,i,a.directiveStart)}const s=uo();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Qt(s.index),sw(e[1],s,0,s.directiveStart,s.directiveEnd,n),aw(n,i)),i}(Ye,this.componentDef,Y,[pP]),Eg(P,Y,null)}finally{we()}return new uP(this.componentType,Re,Dc(Ke,Y),Y,Ke)}}class uP extends class Fx{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new sP(o),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[n])){const i=this._rootLView;Rg(i[1],i,o,n,e),iw(i,this._tNode.index)}}get injector(){return new mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function pP(){const t=uo();wo(pt()[1],t)}function Yn(t){let n=function yw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Ai(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ne(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=Og(t.inputs),s.declaredInputs=Og(t.declaredInputs),s.outputs=Og(t.outputs);const a=o.hostBindings;a&&yP(t,a);const c=o.viewQuery,f=o.contentQueries;if(c&&mP(t,c),f&&gP(t,f),ii(t.inputs,o.inputs),ii(t.declaredInputs,o.declaredInputs),ii(t.outputs,o.outputs),Ai(o)&&o.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Yn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function hP(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Af(o.hostAttrs,e=Af(e,o.hostAttrs))}}(r)}function Og(t){return t===w?{}:t===M?[]:t}function mP(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function gP(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function yP(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let sp=null;function Rl(){if(!sp){const t=hn.Symbol;if(t&&t.iterator)sp=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(sp=r)}}}return sp}function Wu(t){return!!function Ng(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Rl()in t)}function ci(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Fl(t,n,e,r){const o=ci(t,n,e);return ci(t,n+1,r)||o}function Hs(t,n,e,r){const o=pt();return ci(o,tr(),n)&&(Zn(),Bs(Zt(),o,t,n,e,r)),Hs}function Fc(t,n,e,r,o,i,s,a){const f=function ap(t,n,e,r,o){const i=Fl(t,n,e,r);return ci(t,n+2,o)||i}(t,gn(),e,o,s);return qe(3),f?n+Z(e)+r+Z(o)+i+Z(s)+a:Tn}function Kt(t,n,e,r,o,i,s,a){const c=pt(),f=Zn(),m=t+22,_=f.firstCreatePass?function DP(t,n,e,r,o,i,s,a,c){const f=n.consts,m=Tc(n,t,4,s||null,vs(f,a));kg(n,e,m,vs(f,c)),wo(n,m);const _=m.tViews=Mg(2,m,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,m),_.queries=n.queries.embeddedTView(m)),m}(m,f,c,n,e,r,o,i,s):f.data[m];er(_,!1);const I=c[11].createComment("");jf(f,c,I,_),li(I,c),np(c,c[m]=dw(I,c,I,_)),Dl(_)&&Dg(f,c,_),null!=s&&Ig(c,_,a)}function Xi(t){return ha(function pm(){return Sn.lFrame.contextLView}(),22+t)}function it(t,n,e){const r=pt();return ci(r,tr(),n)&&function Yi(t,n,e,r,o,i,s,a){const c=si(n,e);let m,f=n.inputs;!a&&null!=f&&(m=f[r])?(Rg(t,e,m,r,o),El(n)&&iw(e,n.index)):3&n.type&&(r=function UA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}(Zn(),Zt(),r,t,n,r[11],e,!1),it}function Lg(t,n,e,r,o){const s=o?"class":"style";Rg(t,e,n.inputs[s],s,r)}function fe(t,n,e,r){const o=pt(),i=Zn(),s=22+t,a=o[11],c=o[s]=Lm(a,n,function eo(){return Sn.lFrame.currentNamespace}()),f=i.firstCreatePass?function MP(t,n,e,r,o,i,s){const a=n.consts,f=Tc(n,t,2,o,vs(a,i));return kg(n,e,f,vs(a,s)),null!==f.attrs&&op(f,f.attrs,!1),null!==f.mergedAttrs&&op(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(s,i,o,0,n,e,r):i.data[s];er(f,!0);const m=f.mergedAttrs;null!==m&&xf(a,c,m);const _=f.classes;null!==_&&Gm(a,c,_);const I=f.styles;return null!==I&&J0(a,c,I),64!=(64&f.flags)&&jf(i,o,c,f),0===function Ef(){return Sn.lFrame.elementDepthCount}()&&li(c,o),function Df(){Sn.lFrame.elementDepthCount++}(),Dl(f)&&(Dg(i,o,f),ew(i,f,o)),null!==r&&Ig(o,f),fe}function te(){let t=uo();bs()?Wn():(t=t.parent,er(t,!1));const n=t;!function If(){Sn.lFrame.elementDepthCount--}();const e=Zn();return e.firstCreatePass&&(wo(e,t),sc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function xk(t){return 0!=(16&t.flags)}(n)&&Lg(e,n,pt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ak(t){return 0!=(32&t.flags)}(n)&&Lg(e,n,pt(),n.stylesWithoutHost,!1),te}function ft(t,n,e,r){return fe(t,n,e,r),te(),ft}function Zu(t,n,e){const r=pt(),o=Zn(),i=t+22,s=o.firstCreatePass?function kP(t,n,e,r,o){const i=n.consts,s=vs(i,r),a=Tc(n,t,8,"ng-container",s);return null!==s&&op(a,s,!0),kg(n,e,a,vs(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];er(s,!0);const a=r[i]=r[11].createComment("");return jf(o,r,a,s),li(a,r),Dl(s)&&(Dg(o,r,s),ew(o,s,r)),null!=e&&Ig(r,s),Zu}function Ku(){let t=uo();const n=Zn();return bs()?Wn():(t=t.parent,er(t,!1)),n.firstCreatePass&&(wo(n,t),sc(t)&&n.queries.elementEnd(t)),Ku}function yr(){return pt()}function Yu(t){return!!t&&"function"==typeof t.then}function Mw(t){return!!t&&"function"==typeof t.subscribe}const $g=Mw;function lt(t,n,e,r){const o=pt(),i=Zn(),s=uo();return function Tw(t,n,e,r,o,i,s,a){const c=Dl(r),m=t.firstCreatePass&&pw(t),_=n[8],I=fw(n);let P=!0;if(3&r.type||a){const Ke=si(r,n),Ye=a?a(Ke):Ke,gt=I.length,tt=a?sn=>a(Kr(sn[r.index])):r.index;let ht=null;if(!a&&c&&(ht=function TP(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=i,ht.__ngLastListenerFn__=i,P=!1;else{i=Aw(r,n,_,i,!1);const sn=e.listen(Ye,o,i);I.push(i,sn),m&&m.push(o,tt,gt,gt+1)}}else i=Aw(r,n,_,i,!1);const Y=r.outputs;let Re;if(P&&null!==Y&&(Re=Y[o])){const Ke=Re.length;if(Ke)for(let Ye=0;Ye<Ke;Ye+=2){const Cn=n[Re[Ye]][Re[Ye+1]].subscribe(i),mo=I.length;I.push(i,Cn),m&&m.push(o,r.index,mo,-(mo+1))}}}(i,o,o[11],s,t,n,0,r),lt}function xw(t,n,e,r){try{return!1!==e(r)}catch(o){return mw(t,o),!1}}function Aw(t,n,e,r,o){return function i(s){if(s===Function)return r;Ag(2&t.flags?ai(t.index,n):n);let c=xw(n,0,r,s),f=i.__ngNextListenerFn__;for(;f;)c=xw(n,0,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Lt(t=1){return function Ae(t){return(Sn.lFrame.contextLView=function Ve(t,n){for(;t>0;)n=n[15],t--;return n}(t,Sn.lFrame.contextLView))[8]}(t)}function xP(t,n){let e=null;const r=function nA(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?kb(t,i,!0):iA(r,i))return o}else e=o}return e}function At(t){const n=pt()[16][6];if(!n.projection){const r=n.projection=xu(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?xP(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function xt(t,n=0,e){const r=pt(),o=Zn(),i=Tc(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),Wn(),64!=(64&i.flags)&&function GT(t,n,e){Q0(n[11],0,n,e,U0(t,e,n),q0(e.parent||n[6],e,n))}(o,r,i)}function Hw(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?Cs(i):ba(i),c=!1;for(;0!==a&&(!1===c||s);){const m=t[a+1];RP(t[a],n)&&(c=!0,t[a+1]=r?mg(m):pg(m)),a=r?Cs(m):ba(m)}c&&(t[e+1]=r?pg(i):mg(i))}function RP(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&bc(t,n)>=0}function Xu(t,n,e){return Ss(t,n,e,!1),Xu}function Ca(t,n){return Ss(t,n,null,!0),Ca}function Ss(t,n,e,r){const o=pt(),i=Zn(),s=qe(2);i.firstUpdatePass&&function Kw(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Ct()],s=function Zw(t,n){return n>=t.expandoStartIndex}(t,e);(function Jw(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function jP(t,n,e,r){const o=function $o(t){const n=Sn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Qu(e=Vg(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=Vg(o,t,n,e,r),null===i){let c=function UP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ba(r))return t[Cs(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=Vg(null,t,n,c[1],r),c=Qu(c,n.attrs,r),function GP(t,n,e,r){t[Cs(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function zP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Qu(r,t[i].hostAttrs,e);return Qu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function AP(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=Cs(s),c=ba(s);t[r]=e;let m,f=!1;if(Array.isArray(e)){const _=e;m=_[1],(null===m||bc(_,m)>0)&&(f=!0)}else m=e;if(o)if(0!==c){const I=Cs(t[a+1]);t[r+1]=Xf(I,a),0!==I&&(t[I+1]=hg(t[I+1],r)),t[a+1]=function MA(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=Xf(a,0),0!==a&&(t[a+1]=hg(t[a+1],r)),a=r;else t[r+1]=Xf(c,0),0===a?a=r:t[c+1]=hg(t[c+1],r),c=r;f&&(t[r+1]=pg(t[r+1])),Hw(t,m,r,!0),Hw(t,m,r,!1),function PP(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&bc(i,n)>=0&&(e[r+1]=mg(e[r+1]))}(n,m,t,r,i),s=Xf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==Tn&&ci(o,s,n)&&function Xw(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,f=c[a+1];cp(function Gb(t){return 1==(1&t)}(f)?Qw(c,n,e,o,ba(f),s):void 0)||(cp(i)||function Ub(t){return 2==(2&t)}(f)&&(i=Qw(c,null,e,o,a,s)),function WT(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Ri.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ri.Important),t.setStyle(e,r,o,i))}}(r,s,Il(Ct(),e),o,i))}(i,i.data[Ct()],o,o[11],t,o[s+1]=function ZP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Vn(Ki(t)))),t}(n,e),r,s)}function Vg(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Qu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Qu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zi(t,s,!!e||n[++i]))}return void 0===t?null:t}function Qw(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],f=Array.isArray(c),m=f?c[1]:c,_=null===m;let I=e[o+1];I===Tn&&(I=_?M:void 0);let P=_?wm(I,r):m===r?I:void 0;if(f&&!cp(P)&&(P=wm(c,r)),cp(P)&&(a=P,s))return a;const Y=t[o+1];o=s?Cs(Y):ba(Y)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=wm(c,r))}return a}function cp(t){return void 0!==t}function et(t,n=""){const e=pt(),r=Zn(),o=t+22,i=r.firstCreatePass?Tc(r,o,1,n,null):r.data[o],s=e[o]=function Nm(t,n){return t.createText(n)}(e[11],n);jf(r,e,s,i),er(i,!1)}function Qi(t){return Fi("",t,""),Qi}function Fi(t,n,e){const r=pt(),o=function Pc(t,n,e,r){return ci(t,tr(),e)?n+Z(e)+r:Tn}(r,t,n,e);return o!==Tn&&wa(r,Ct(),o),Fi}function Ju(t,n,e,r,o){const i=pt(),s=function Rc(t,n,e,r,o,i){const a=Fl(t,gn(),e,o);return qe(2),a?n+Z(e)+r+Z(o)+i:Tn}(i,t,n,e,r,o);return s!==Tn&&wa(i,Ct(),s),Ju}function Hg(t,n,e,r,o,i,s){const a=pt(),c=Fc(a,t,n,e,r,o,i,s);return c!==Tn&&wa(a,Ct(),c),Hg}const jc="en-US";let vC=jc;function Gg(t,n,e,r,o){if(t=F(t),Array.isArray(t))for(let i=0;i<t.length;i++)Gg(t[i],n,e,r,o);else{const i=Zn(),s=pt();let a=Pl(t)?t:F(t.provide),c=bb(t);const f=uo(),m=1048575&f.providerIndexes,_=f.directiveStart,I=f.providerIndexes>>20;if(Pl(t)||!t.multi){const P=new Eu(c,o,C),Y=Wg(a,n,o?m:m+I,_);-1===Y?(Ff(Iu(f,s),i,a),zg(i,t,n.length),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(P),s.push(P)):(e[Y]=P,s[Y]=P)}else{const P=Wg(a,n,m+I,_),Y=Wg(a,n,m,m+I),Re=P>=0&&e[P],Ke=Y>=0&&e[Y];if(o&&!Ke||!o&&!Re){Ff(Iu(f,s),i,a);const Ye=function f2(t,n,e,r,o){const i=new Eu(t,e,C);return i.multi=[],i.index=n,i.componentProviders=0,GC(i,o,r&&!e),i}(o?d2:u2,e.length,o,r,c);!o&&Ke&&(e[Y].providerFactory=Ye),zg(i,t,n.length,0),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(Ye),s.push(Ye)}else zg(i,t,P>-1?P:Y,GC(e[o?Y:P],c,!o&&r));!o&&r&&Ke&&e[Y].componentProviders++}}}function zg(t,n,e,r){const o=Pl(n),i=function Ix(t){return!!t.useClass}(n);if(o||i){const c=(i?F(n.useClass):n).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const m=f.indexOf(e);-1===m?f.push(e,[r,c]):f[m+1].push(r,c)}else f.push(e,c)}}}function GC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Wg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function u2(t,n,e,r){return qg(this.multi,[])}function d2(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Mu(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),qg(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],qg(o,i);return i}function qg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function wr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function c2(t,n,e){const r=Zn();if(r.firstCreatePass){const o=Ai(t);Gg(e,r.data,r.blueprint,o,!0),Gg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class Nl{}class zC{}class WC extends Nl{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fg(this);const r=Hn(n);this._bootstrapComponents=va(r.bootstrap),this._r3Injector=Ob(n,e,[{provide:Nl,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],Vn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Zg extends zC{constructor(n){super(),this.moduleType=n}create(n){return new WC(this.moduleType,n)}}class h2 extends Nl{constructor(n,e,r){super(),this.componentFactoryResolver=new Fg(this),this.instance=null;const o=new vb([...n,{provide:Nl,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],e||Kf(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function hp(t,n,e=null){return new h2(t,n,e).injector}let m2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=mb(0,e.type),o=r.length>0?hp([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=vt({token:t,providedIn:"environment",factory:()=>new t(De(Ka))}),t})();function qC(t){t.getStandaloneInjector=n=>n.get(m2).getOrCreateStandaloneInjector(t)}function eS(t,n,e,r,o,i){const s=n+e;return ci(t,s,o)?function Vs(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function id(t,n){const e=t[n];return e===Tn?void 0:e}(t,s+1)}function Gs(t,n){const e=Zn();let r;const o=t+22;e.firstCreatePass?(r=function F2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Ns(r.type)),s=Qr(C);try{const a=Pf(!1),c=i();return Pf(a),function IP(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,pt(),o,c),c}finally{Qr(s)}}function zs(t,n,e){const r=t+22,o=pt(),i=ha(o,r);return function sd(t,n){return t[1].data[n].pure}(o,r)?eS(o,function qo(){const t=Sn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function Yg(t){return n=>{setTimeout(t,void 0,n)}}const bn=class B2 extends Qe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=Yg(i),o&&(o=Yg(o)),s&&(s=Yg(s)));const a=super.subscribe({next:o,error:i,complete:s});return n instanceof q&&n.add(a),a}};function V2(){return this._results[Rl()]()}class Xg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Rl(),r=Xg.prototype;r[e]||(r[e]=V2)}get changes(){return this._changes||(this._changes=new bn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=qi(n);(this._changesDetected=!function Hk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=U2,t})();const H2=Oi,j2=class extends H2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=ep(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),Eg(r,o,n),new Gu(o)}};function U2(){return mp(uo(),pt())}function mp(t,n){return 4&t.type?new j2(n,t,Dc(t,n)):null}let ui=(()=>{class t{}return t.__NG_ELEMENT_ID__=G2,t})();function G2(){return aS(uo(),pt())}const z2=ui,iS=class extends z2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new mc(this._hostTNode,this._hostLView)}get parentInjector(){const n=Rf(this._hostTNode,this._hostLView);if(n0(n)){const e=hc(n,this._hostLView),r=pc(n);return new mc(e[1].data[r+8],e)}return new mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=sS(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function Tu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const _=e||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const c=s?n:new zu(It(n)),f=r||this.parentInjector;if(!i&&null==c.ngModule){const I=(s?f:this.parentInjector).get(Ka,null);I&&(i=I)}const m=c.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(n,e){const r=n._lView,o=r[1];if(function Sf(t){return xi(t[3])}(r)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const _=r[3],I=new iS(_,_[6],_[3]);I.detach(I.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function $T(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],h0(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function BT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=Hm(i,s),c=r[11],f=Hf(c,s[7]);return null!==f&&function OT(t,n,e,r,o,i){r[0]=o,r[6]=n,Vu(t,r,e,1,o,i)}(o,s[6],c,r,f,a),n.attachToViewContainerRef(),h0(Qg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=sS(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=$m(this._lContainer,e);r&&(Nf(Qg(this._lContainer),e),j0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=$m(this._lContainer,e);return r&&null!=Nf(Qg(this._lContainer),e)?new Gu(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function sS(t){return t[8]}function Qg(t){return t[8]||(t[8]=[])}function aS(t,n){let e;const r=n[t.index];if(xi(r))e=r;else{let o;if(8&t.type)o=Kr(r);else{const i=n[11];o=i.createComment("");const s=si(t,n);Tl(i,Hf(i,s),o,function UT(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=dw(r,n,o,t),np(n,e)}return new iS(e,t,n)}class Jg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class ey{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new ey(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==fS(n,e).matches&&this.queries[e].setDirty()}}class lS{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class ty{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new ty(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ny{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new ny(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,Z2(e,i)),this.matchTNodeWithReadOption(n,e,Of(e,n,i,!1,!1))}else r===Oi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Of(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===yt||o===ui||o===Oi&&4&e.type)this.addMatch(e.index,-2);else{const i=Of(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Z2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function Y2(t,n,e,r){return-1===e?function K2(t,n){return 11&t.type?Dc(t,n):4&t.type?mp(t,n):null}(n,t):-2===e?function X2(t,n,e){return e===yt?Dc(n,t):e===Oi?mp(n,t):e===ui?aS(n,t):void 0}(t,n,r):Mu(t,t[1],e,n)}function cS(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:Y2(n,i[f],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function ry(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=cS(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const f=i[a+1],m=n[-c];for(let _=10;_<m.length;_++){const I=m[_];I[17]===I[3]&&ry(I[1],I,f,r)}if(null!==m[9]){const _=m[9];for(let I=0;I<_.length;I++){const P=_[I];ry(P[1],P,f,r)}}}}}return r}function Ni(t){const n=pt(),e=Zn(),r=fo();Fr(r+1);const o=fS(e,r);if(t.dirty&&function Cf(t){return 4==(4&t[2])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?ry(e,n,r,[]):cS(e,n,o,r);t.reset(i,$x),t.notifyOnChanges()}return!0}return!1}function Uc(t,n,e){const r=Zn();r.firstCreatePass&&(dS(r,new lS(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),uS(r,pt(),n)}function Li(){return function Q2(t,n){return t[19].queries[n].queryList}(pt(),fo())}function uS(t,n,e){const r=new Xg(4==(4&e));nw(t,n,r,r.destroy),null===n[19]&&(n[19]=new ey),n[19].queries.push(new Jg(r))}function dS(t,n,e){null===t.queries&&(t.queries=new ty),t.queries.track(new ny(n,e))}function fS(t,n){return t.queries.getByIndex(n)}function yp(...t){}const Ll=new dn("Application Initializer");let _p=(()=>{class t{constructor(e){this.appInits=e,this.resolve=yp,this.reject=yp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Yu(i))e.push(i);else if($g(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(De(Ll,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ld=new dn("AppId",{providedIn:"root",factory:function AS(){return`${ly()}${ly()}${ly()}`}});function ly(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PS=new dn("Platform Initializer"),Wc=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RS=new dn("appBootstrapListener");let bF=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ea=new dn("LocaleId",{providedIn:"root",factory:()=>po(Ea,Wt.Optional|Wt.SkipSelf)||function wF(){return typeof $localize<"u"&&$localize.locale||jc}()});class SF{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let cy=(()=>{class t{compileModuleSync(e){return new Zg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=va(Hn(e).declarations).reduce((s,a)=>{const c=It(a);return c&&s.push(new zu(c)),s},[]);return new SF(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const IF=(()=>Promise.resolve(0))();function uy(t){typeof Zone>"u"?IF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class dt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bn(!1),this.onMicrotaskEmpty=new bn(!1),this.onStable=new bn(!1),this.onError=new bn(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const o=this;if(o._nesting=0,o._outer=o._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const i=Zone.AsyncStackTaggingZoneSpec;o._inner=o._inner.fork(new i("Angular"))}Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function MF(){let t=hn.requestAnimationFrame,n=hn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function xF(t){const n=()=>{!function TF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fy(t),t.isCheckStableRunning=!0,dy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return NS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),LS(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return NS(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),LS(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,fy(t),dy(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new ne(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,kF,yp,yp);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const kF={};function dy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function NS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LS(t){t._nesting--,dy(t)}class AF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bn,this.onMicrotaskEmpty=new bn,this.onStable=new bn,this.onError=new bn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const $S=new dn(""),vp=new dn("");let my,py=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,my||(function PF(t){my=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uy(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(De(dt),De(hy),De(vp))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),hy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return my?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Qa=null;const BS=new dn("AllowMultipleToken"),gy=new dn("PlatformDestroyListeners");class VS{constructor(n,e){this.name=n,this.token=e}}function jS(t,n,e=[]){const r=`Platform: ${n}`,o=new dn(r);return(i=[])=>{let s=yy();if(!s||s.injector.get(BS,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function OF(t){if(Qa&&!Qa.get(BS,!1))throw new ne(400,!1);Qa=t;const n=t.get(GS);(function HS(t){const n=t.get(PS,null);n&&n.forEach(e=>e())})(t)}(function US(t=[],n){return Vr.create({name:n,providers:[{provide:tg,useValue:"platform"},{provide:gy,useValue:new Set([()=>Qa=null])},...t]})}(a,r))}return function LF(t){const n=yy();if(!n)throw new ne(401,!1);return n}()}}function yy(){return Qa?.get(GS)??null}let GS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function WS(t,n){let e;return e="noop"===t?new AF:("zone.js"===t?void 0:t)||new dt(n),e}(r?.ngZone,function zS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:dt,useValue:o}];return o.run(()=>{const s=Vr.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(Ic,null);if(!c)throw new ne(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{c.handleError(m)}});a.onDestroy(()=>{bp(this._modules,a),f.unsubscribe()})}),function qS(t,n,e){try{const r=e();return Yu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const f=a.injector.get(_p);return f.runInitializers(),f.donePromise.then(()=>(function bC(t){Xr(t,"Expected localeId to be defined"),"string"==typeof t&&(vC=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ea,jc)||jc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=ZS({},r);return function RF(t,n,e){const r=new Zg(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Ja);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ne(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(gy,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(De(Vr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function ZS(t,n){return Array.isArray(n)?n.reduce(ZS,t):{...t,...n}}let Ja=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new St(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new St(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),uy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=Go(i,s.pipe(oi()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof wb;if(!this._injector.get(_p).done)throw!o&&function Ut(t){const n=It(t)||wt(t)||Dt(t);return null!==n&&n.standalone}(e),new ne(405,false);let s;s=o?e:this._injector.get(ya).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function FF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Nl),f=s.create(Vr.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get($S,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),bp(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;bp(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(RS,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>bp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ne(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(De(dt),De(Ka),De(Ic))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let YS=!0,Tt=(()=>{class t{}return t.__NG_ELEMENT_ID__=VF,t})();function VF(t){return function HF(t,n,e){if(El(t)&&!e){const r=ai(t.index,n);return new Gu(r,r)}return 47&t.type?new Gu(n[16],n):null}(uo(),pt(),16==(16&t))}class tE{constructor(){}supports(n){return Wu(n)}create(n){return new qF(n)}}const WF=(t,n)=>n;class qF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||WF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<rE(r,o,i)?e:r,a=rE(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=c-o;if(f!=m){for(let I=0;I<f;I++){const P=I<i.length?i[I]:i[I]=0,Y=P+I;m<=Y&&Y<f&&(i[I]=P+1)}i[s.previousIndex]=m-f}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Wu(n))throw new ne(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function CP(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Rl()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new ZF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new nE),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ZF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class nE{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new KF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rE(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function iE(){return new cd([new tE])}let cd=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||iE()),deps:[[t,new Ou,new Fu]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new ne(901,!1)}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:iE}),t})();const eO=jS(null,"core",[]);let tO=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(De(Ja))},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({}),t})(),Sp=null;function Ws(){return Sp}const Ro=new dn("DocumentToken");let Cy=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return function iO(){return De(aE)}()},providedIn:"platform"}),t})();const sO=new dn("Location Initialized");let aE=(()=>{class t extends Cy{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ws().getBaseHref(this._doc)}onPopState(e){const r=Ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){lE()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){lE()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(De(Ro))},t.\u0275prov=vt({token:t,factory:function(){return function aO(){return new aE(De(Ro))}()},providedIn:"platform"}),t})();function lE(){return!!window.history.pushState}function Sy(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function cE(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ma(t){return t&&"?"!==t[0]?"?"+t:t}let qs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return po(dE)},providedIn:"root"}),t})();const uE=new dn("appBaseHref");let dE=(()=>{class t extends qs{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??po(Ro).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Sy(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ma(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+Ma(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+Ma(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Cy),De(uE,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fE=(()=>{class t extends qs{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Sy(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Ma(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Ma(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Cy),De(uE,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),dd=(()=>{class t{constructor(e){this._subject=new bn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=cE(pE(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ma(r))}normalize(e){return t.stripTrailingSlash(function cO(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,pE(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ma(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ma(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=Ma,t.joinWithSlash=Sy,t.stripTrailingSlash=cE,t.\u0275fac=function(e){return new(e||t)(De(qs))},t.\u0275prov=vt({token:t,factory:function(){return function lO(){return new dd(De(qs))}()},providedIn:"root"}),t})();function pE(t){return t.replace(/\/index.html$/,"")}function CE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class ZO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bl=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ZO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),DE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{DE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(ui),C(Oi),C(cd))},t.\u0275dir=le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function DE(t,n){t.context.$implicit=n.item}let Bo=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new YO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){IE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){IE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(ui),C(Oi))},t.\u0275dir=le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class YO{constructor(){this.$implicit=null,this.ngIf=null}}function IE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Vn(n)}'.`)}class Ry{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Rp=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=le({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),ME=(()=>{class t{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new Ry(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(C(ui),C(Oi),C(Rp,9))},t.\u0275dir=le({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),kE=(()=>{class t{constructor(e,r,o){o._addDefault(new Ry(e,r))}}return t.\u0275fac=function(e){return new(e||t)(C(ui),C(Oi),C(Rp,9))},t.\u0275dir=le({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class JO{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class eN{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const tN=new eN,nN=new JO;let xE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Yu(e))return tN;if(Mw(e))return nN;throw function Ms(t,n){return new ne(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(C(Tt,16))},t.\u0275pipe=ct({name:"async",type:t,pure:!1,standalone:!0}),t})(),Zs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({}),t})();const PE="browser";function Ta(t){return t===PE}let CN=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>new SN(De(Ro),window)}),t})();class SN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function EN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=RE(this.window.history)||RE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function RE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class FE{}class By extends class jN extends class oO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function rO(t){Sp||(Sp=t)}(new By)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function UN(){return md=md||document.querySelector("base"),md?md.getAttribute("href"):null}();return null==e?null:function GN(t){Op=Op||document.createElement("a"),Op.setAttribute("href",t);const n=Op.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){md=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return CE(document.cookie,n)}}let Op,md=null;const $E=new dn("TRANSITION_ID"),WN=[{provide:Ll,useFactory:function zN(t,n,e){return()=>{e.get(_p).donePromise.then(()=>{const r=Ws(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[$E,Ro,Vr],multi:!0}];let ZN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const Np=new dn("EventManagerPlugins");let Lp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(De(Np),De(dt))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class BE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=Ws().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let VE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),gd=(()=>{class t extends VE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(HE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(HE))}}return t.\u0275fac=function(e){return new(e||t)(De(Ro))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();function HE(t){Ws().remove(t)}const Vy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hy=/%COMP%/g;function $p(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?$p(t,o,e):(o=o.replace(Hy,t),e.push(o))}return e}function GE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let jy=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Uy(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case ir.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new eL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case ir.ShadowDom:return new tL(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=$p(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(De(Lp),De(gd),De(ld))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class Uy{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Vy[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(WE(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(WE(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=Vy[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Vy[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Ri.DashCase|Ri.Important)?n.style.setProperty(e,r,o&Ri.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ri.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,GE(r)):this.eventManager.addEventListener(n,e,GE(r))}}function WE(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class eL extends Uy{constructor(n,e,r,o){super(n),this.component=r;const i=$p(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function XN(t){return"_ngcontent-%COMP%".replace(Hy,t)}(o+"-"+r.id),this.hostAttr=function QN(t){return"_nghost-%COMP%".replace(Hy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class tL extends Uy{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=$p(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let nL=(()=>{class t extends BE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(De(Ro))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const qE=["alt","control","meta","shift"],rL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let iL=(()=>{class t extends BE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ws().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qE.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=rL[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),qE.forEach(s=>{s!==o&&(0,oL[s])(e)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(De(Ro))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const cL=jS(eO,"browser",[{provide:Wc,useValue:PE},{provide:PS,useValue:function sL(){By.makeCurrent()},multi:!0},{provide:Ro,useFactory:function lL(){return function YT(t){Wm=t}(document),document},deps:[]}]),YE=new dn(""),XE=[{provide:vp,useClass:class qN{addToWindow(n){hn.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},hn.getAllAngularTestabilities=()=>n.getAllTestabilities(),hn.getAllAngularRootElements=()=>n.getAllRootElements(),hn.frameworkStabilizers||(hn.frameworkStabilizers=[]),hn.frameworkStabilizers.push(r=>{const o=hn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Ws().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:$S,useClass:py,deps:[dt,hy,vp]},{provide:py,useClass:py,deps:[dt,hy,vp]}],QE=[{provide:tg,useValue:"root"},{provide:Ic,useFactory:function aL(){return new Ic},deps:[]},{provide:Np,useClass:nL,multi:!0,deps:[Ro,dt,Wc]},{provide:Np,useClass:iL,multi:!0,deps:[Ro]},{provide:jy,useClass:jy,deps:[Lp,gd,ld]},{provide:Sb,useExisting:jy},{provide:VE,useExisting:gd},{provide:gd,useClass:gd,deps:[Ro]},{provide:Lp,useClass:Lp,deps:[Np,dt]},{provide:FE,useClass:ZN,deps:[]},[]];let uL=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:ld,useValue:e.appId},{provide:$E,useExisting:ld},WN]}}}return t.\u0275fac=function(e){return new(e||t)(De(YE,12))},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({providers:[...QE,...XE],imports:[Zs,tO]}),t})(),JE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(De(Ro))},t.\u0275prov=vt({token:t,factory:function(e){let r=null;return r=e?new e:function fL(){return new JE(De(Ro))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Wy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(e){let r=null;return r=e?new(e||t):De(nD),r},providedIn:"root"}),t})(),nD=(()=>{class t extends Wy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Ar.NONE:return r;case Ar.HTML:return $s(r,"HTML")?Ki(r):ub(this._doc,String(r)).toString();case Ar.STYLE:return $s(r,"Style")?Ki(r):r;case Ar.SCRIPT:if($s(r,"Script"))return Ki(r);throw new Error("unsafe value used in a script context");case Ar.URL:return $s(r,"URL")?Ki(r):Wf(String(r));case Ar.RESOURCE_URL:if($s(r,"ResourceURL"))return Ki(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function rx(t){return new XT(t)}(e)}bypassSecurityTrustStyle(e){return function ox(t){return new QT(t)}(e)}bypassSecurityTrustScript(e){return function ix(t){return new JT(t)}(e)}bypassSecurityTrustUrl(e){return function sx(t){return new ex(t)}(e)}bypassSecurityTrustResourceUrl(e){return function ax(t){return new tx(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Ro))},t.\u0275prov=vt({token:t,factory:function(e){let r=null;return r=e?new e:function vL(t){return new nD(t.get(Ro))}(De(Vr)),r},providedIn:"root"}),t})();var Vo=R(1158),bL=R(9233),qc=R.n(bL);let Bp,Vp;function rD(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function oD(){return void 0!==Vp}class iD{constructor(){this.requestEvent=new Vo.j}dispatchRequest(n){if(n){try{n=new(qc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let qy=(()=>{class t{constructor(){this.installation=new iD,this.import=new iD,Bp&&this.installation.dispatchRequest(Bp),Vp&&this.import.dispatchRequest(Vp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cn(...t){return or(t,D(t))}function tl(t,n){return T(n)?Xt(t,n,1):Xt(t,1)}function Ko(t,n){return Ee((e,r)=>{let o=0;e.subscribe(Be(r,i=>t.call(n,i,o++)&&r.next(i)))})}class sD{}class aD{}class xa{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof xa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new xa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class SL{encodeKey(n){return lD(n)}encodeValue(n){return lD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const DL=/%(\d[a-f0-9])/gi,IL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lD(t){return encodeURIComponent(t).replace(DL,(n,e)=>IL[e]??n)}function Hp(t){return`${t}`}class nl{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new SL,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function EL(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(Hp):[Hp(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new nl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Hp(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(Hp(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class ML{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function cD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function uD(t){return typeof Blob<"u"&&t instanceof Blob}function dD(t){return typeof FormData<"u"&&t instanceof FormData}class yd{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function kL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new xa),this.context||(this.context=new ML),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new nl,this.urlWithParams=e}serializeBody(){return null===this.body?null:cD(this.body)||uD(this.body)||dD(this.body)||function TL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dD(this.body)?null:uD(this.body)?this.body.type||null:cD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,f=n.params||this.params;const m=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((_,I)=>_.set(I,n.setHeaders[I]),c)),n.setParams&&(f=Object.keys(n.setParams).reduce((_,I)=>_.set(I,n.setParams[I]),f)),new yd(e,r,i,{params:f,headers:c,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Eo=(()=>((Eo=Eo||{})[Eo.Sent=0]="Sent",Eo[Eo.UploadProgress=1]="UploadProgress",Eo[Eo.ResponseHeader=2]="ResponseHeader",Eo[Eo.DownloadProgress=3]="DownloadProgress",Eo[Eo.Response=4]="Response",Eo[Eo.User=5]="User",Eo))();class Zy{constructor(n,e=200,r="OK"){this.headers=n.headers||new xa,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ky extends Zy{constructor(n={}){super(n),this.type=Eo.ResponseHeader}clone(n={}){return new Ky({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class jp extends Zy{constructor(n={}){super(n),this.type=Eo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new jp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class fD extends Zy{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Yy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Xy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof yd)i=e;else{let c,f;c=o.headers instanceof xa?o.headers:new xa(o.headers),o.params&&(f=o.params instanceof nl?o.params:new nl({fromObject:o.params})),i=new yd(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=cn(i).pipe(tl(c=>this.handler.handle(c)));if(e instanceof yd||"events"===o.observe)return s;const a=s.pipe(Ko(c=>c instanceof jp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(je(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(je(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(je(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(je(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new nl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Yy(o,r))}post(e,r,o={}){return this.request("POST",e,Yy(o,r))}put(e,r,o={}){return this.request("PUT",e,Yy(o,r))}}return t.\u0275fac=function(e){return new(e||t)(De(sD))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class pD{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const hD=new dn("HTTP_INTERCEPTORS");let xL=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const AL=/^\)\]\}',?\n/;let mD=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new St(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((P,Y)=>o.setRequestHeader(P,Y.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&o.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();o.responseType="json"!==P?P:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const P=o.statusText||"OK",Y=new xa(o.getAllResponseHeaders()),Re=function PL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Ky({headers:Y,status:o.status,statusText:P,url:Re}),s},c=()=>{let{headers:P,status:Y,statusText:Re,url:Ke}=a(),Ye=null;204!==Y&&(Ye=typeof o.response>"u"?o.responseText:o.response),0===Y&&(Y=Ye?200:0);let gt=Y>=200&&Y<300;if("json"===e.responseType&&"string"==typeof Ye){const tt=Ye;Ye=Ye.replace(AL,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(ht){Ye=tt,gt&&(gt=!1,Ye={error:ht,text:Ye})}}gt?(r.next(new jp({body:Ye,headers:P,status:Y,statusText:Re,url:Ke||void 0})),r.complete()):r.error(new fD({error:Ye,headers:P,status:Y,statusText:Re,url:Ke||void 0}))},f=P=>{const{url:Y}=a(),Re=new fD({error:P,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Y||void 0});r.error(Re)};let m=!1;const _=P=>{m||(r.next(a()),m=!0);let Y={type:Eo.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(Y.total=P.total),"text"===e.responseType&&!!o.responseText&&(Y.partialText=o.responseText),r.next(Y)},I=P=>{let Y={type:Eo.UploadProgress,loaded:P.loaded};P.lengthComputable&&(Y.total=P.total),r.next(Y)};return o.addEventListener("load",c),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",I)),o.send(i),r.next({type:Eo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",c),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(De(FE))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const Qy=new dn("XSRF_COOKIE_NAME"),Jy=new dn("XSRF_HEADER_NAME");class gD{}let RL=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=CE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(De(Ro),De(Wc),De(Qy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),e_=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(De(gD),De(Jy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),FL=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(hD,[]);this.chain=r.reduceRight((o,i)=>new pD(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(De(aD),De(Vr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),OL=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:e_,useClass:xL}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Qy,useValue:e.cookieName}:[],e.headerName?{provide:Jy,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({providers:[e_,{provide:hD,useExisting:e_,multi:!0},{provide:gD,useClass:RL},{provide:Qy,useValue:"XSRF-TOKEN"},{provide:Jy,useValue:"X-XSRF-TOKEN"}]}),t})(),NL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({providers:[Xy,{provide:sD,useClass:FL},mD,{provide:aD,useExisting:mD}],imports:[OL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:LL}=Array,{getPrototypeOf:$L,prototype:BL,keys:VL}=Object;function yD(t){if(1===t.length){const n=t[0];if(LL(n))return{args:n,keys:null};if(function HL(t){return t&&"object"==typeof t&&$L(t)===BL}(n)){const e=VL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:jL}=Array;function t_(t){return je(n=>function UL(t,n){return jL(n)?t(...n):t(n)}(t,n))}function _D(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let vD=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(C(_a),C(yt))},t.\u0275dir=le({type:t}),t})(),Vl=(()=>{class t extends vD{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Zo(t)))(r||t)}}(),t.\u0275dir=le({type:t,features:[Yn]}),t})();const _i=new dn("NgValueAccessor"),WL={provide:_i,useExisting:x(()=>n_),multi:!0},ZL=new dn("CompositionEventMode");let n_=(()=>{class t extends vD{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qL(){const t=Ws()?Ws().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(C(_a),C(yt),C(ZL,8))},t.\u0275dir=le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&lt("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[wr([WL]),Yn]}),t})();function rl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function wD(t){return null!=t&&"number"==typeof t.length}const fi=new dn("NgValidators"),ol=new dn("NgAsyncValidators"),YL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class r_{static min(n){return function CD(t){return n=>{if(rl(n.value)||rl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function SD(t){return n=>{if(rl(n.value)||rl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function ED(t){return rl(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function DD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function ID(t){return rl(t.value)||YL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function MD(t){return n=>rl(n.value)||!wD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return kD(n)}static pattern(n){return function TD(t){if(!t)return Up;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(rl(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return OD(n)}static composeAsync(n){return ND(n)}}function kD(t){return n=>wD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Up(t){return null}function xD(t){return null!=t}function AD(t){return Yu(t)?or(t):t}function PD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function RD(t,n){return n.map(e=>e(t))}function FD(t){return t.map(n=>function XL(t){return!t.validate}(n)?n:e=>n.validate(e))}function OD(t){if(!t)return null;const n=t.filter(xD);return 0==n.length?null:function(e){return PD(RD(e,n))}}function o_(t){return null!=t?OD(FD(t)):null}function ND(t){if(!t)return null;const n=t.filter(xD);return 0==n.length?null:function(e){return function GL(...t){const n=Mo(t),{args:e,keys:r}=yD(t),o=new St(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let m=0;m<s;m++){let _=!1;S(e[m]).subscribe(Be(i,I=>{_||(_=!0,f--),a[m]=I},()=>c--,void 0,()=>{(!c||!_)&&(f||i.next(r?_D(r,a):a),i.complete())}))}});return n?o.pipe(t_(n)):o}(RD(e,n).map(AD)).pipe(je(PD))}}function i_(t){return null!=t?ND(FD(t)):null}function LD(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function $D(t){return t._rawValidators}function BD(t){return t._rawAsyncValidators}function s_(t){return t?Array.isArray(t)?t:[t]:[]}function Gp(t,n){return Array.isArray(t)?t.includes(n):t===n}function VD(t,n){const e=s_(n);return s_(t).forEach(o=>{Gp(e,o)||e.push(o)}),e}function HD(t,n){return s_(n).filter(e=>!Gp(t,e))}class jD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=o_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=i_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class vi extends jD{get formDirective(){return null}get path(){return null}}class Aa extends jD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UD{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hl=(()=>{class t extends UD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(Aa,2))},t.\u0275dir=le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ca("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Yn]}),t})(),jl=(()=>{class t extends UD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(vi,10))},t.\u0275dir=le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ca("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Yn]}),t})();const _d="VALID",Wp="INVALID",Zc="PENDING",vd="DISABLED";function u_(t){return(qp(t)?t.validators:t)||null}function zD(t){return Array.isArray(t)?o_(t):t||null}function d_(t,n){return(qp(n)?n.asyncValidators:t)||null}function WD(t){return Array.isArray(t)?i_(t):t||null}function qp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class KD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=zD(this._rawValidators),this._composedAsyncValidatorFn=WD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===_d}get invalid(){return this.status===Wp}get pending(){return this.status==Zc}get disabled(){return this.status===vd}get enabled(){return this.status!==vd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=zD(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=WD(n)}addValidators(n){this.setValidators(VD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(VD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(HD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(HD(n,this._rawAsyncValidators))}hasValidator(n){return Gp(this._rawValidators,n)}hasAsyncValidator(n){return Gp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Zc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=vd,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=_d,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_d||this.status===Zc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vd:_d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Zc,this._hasOwnPendingAsyncValidator=!0;const e=AD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new bn,this.statusChanges=new bn}_calculateStatus(){return this._allControlsDisabled()?vd:this.errors?Wp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zc)?Zc:this._anyControlsHaveStatus(Wp)?Wp:_d}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){qp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Kc extends KD{constructor(n,e,r){super(u_(e),d_(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function ZD(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new ne(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function qD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[e])throw new ne(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Zp=Kc;function bd(t,n){f_(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&n.valueAccessor.setDisabledState?.(!0),function s3(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YD(t,n)})}(t,n),function l3(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function a3(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function i3(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Yp(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Qp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function f_(t,n){const e=$D(t);null!==n.validator?t.setValidators(LD(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=BD(t);null!==n.asyncValidator?t.setAsyncValidators(LD(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Xp(n._rawValidators,o),Xp(n._rawAsyncValidators,o)}function Qp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=$D(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=BD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Xp(n._rawValidators,r),Xp(n._rawAsyncValidators,r),e}function YD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function e1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function t1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Pa=class extends KD{constructor(n=null,e,r){super(u_(e),d_(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=t1(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){e1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){e1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){t1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Ho=Pa;let Ul=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),a1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({}),t})();const g_=new dn("NgModelWithFormControlWarning"),C3={provide:vi,useExisting:x(()=>Ra)};let Ra=(()=>{class t extends vi{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new bn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return bd(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Yp(e.control||null,e,!1),function f3(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function JD(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Yp(r||null,e),(t=>t instanceof Pa)(o)&&(bd(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function XD(t,n){f_(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function c3(t,n){return Qp(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){f_(this.form,this),this._oldForm&&Qp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(C(fi,10),C(ol,10))},t.\u0275dir=le({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&lt("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wr([C3]),Yn,bo]}),t})();const D3={provide:Aa,useExisting:x(()=>il)};let il=(()=>{class t extends Aa{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new bn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function h_(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===n_?e=i:function d3(t){return Object.getPrototypeOf(t.constructor)===Vl}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function p_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Kp(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(C(vi,13),C(fi,10),C(ol,10),C(_i,10),C(g_,8))},t.\u0275dir=le({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wr([D3]),Yn,bo]}),t})();let Gl=(()=>{class t{constructor(){this._validator=Up}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Up,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=le({type:t,features:[bo]}),t})();const $3={provide:fi,useExisting:x(()=>C_),multi:!0};let C_=(()=>{class t extends Gl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function h1(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>kD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Zo(t)))(r||t)}}(),t.\u0275dir=le({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Hs("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[wr([$3]),Yn]}),t})(),C1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[a1]}),t})(),zl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[C1]}),t})(),Jp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:g_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[C1]}),t})();const H3=["addListener","removeListener"],j3=["addEventListener","removeEventListener"],U3=["on","off"];function Cd(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return Cd(t,n,e).pipe(t_(r));const[o,i]=function W3(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?j3.map(s=>a=>t[s](n,a,e)):function G3(t){return T(t.addListener)&&T(t.removeListener)}(t)?H3.map(S1(t,n)):function z3(t){return T(t.on)&&T(t.off)}(t)?U3.map(S1(t,n)):[];if(!o&&vn(t))return Xt(s=>Cd(s,n,e))(S(t));if(!o)throw new TypeError("Invalid event target");return new St(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function S1(t,n){return e=>r=>t[e](n,r)}class Ji extends Qe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const eh=u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function E1(...t){const n=D(t),e=Mo(t),{args:r,keys:o}=yD(t);if(0===r.length)return or([],n);const i=new St(function q3(t,n,e=X){return r=>{D1(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)D1(n,()=>{const f=or(t[c],n);let m=!1;f.subscribe(Be(r,_=>{i[c]=_,m||(m=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>_D(o,s):X));return e?i.pipe(t_(e)):i}function D1(t,n,e){t?Tr(e,t,n):n()}function Sd(...t){return function Z3(){return ao(1)}()(or(t,D(t)))}function th(t){return new St(n=>{S(t()).subscribe(n)})}function Yc(t,n){const e=T(t)?t:()=>t,r=o=>o.error(e());return new St(n?o=>n.schedule(r,0,o):r)}function S_(){return Ee((t,n)=>{let e=null;t._refCount++;const r=Be(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class E_ extends St{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new q;const e=this.getSubject();n.add(this.source.subscribe(Be(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=q.EMPTY)}return n}refCount(){return S_()(this)}}function Yo(t,n){return Ee((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(Be(r,c=>{o?.unsubscribe();let f=0;const m=i++;S(t(c,m)).subscribe(o=Be(r,_=>r.next(n?n(c,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function es(t){return t<=0?()=>mr:Ee((n,e)=>{let r=0;n.subscribe(Be(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function I1(...t){const n=D(t);return Ee((e,r)=>{(n?Sd(t,e,n):Sd(t,e)).subscribe(r)})}function nh(t){return Ee((n,e)=>{let r=!1;n.subscribe(Be(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function M1(t=K3){return Ee((n,e)=>{let r=!1;n.subscribe(Be(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function K3(){return new eh}function Fa(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Ko((o,i)=>t(o,i,r)):X,es(1),e?nh(n):M1(()=>new eh))}function Xo(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?Ee((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Be(i,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,c),i.error(c)},()=>{var c,f;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):X}function Oa(t){return Ee((n,e)=>{let i,r=null,o=!1;r=n.subscribe(Be(e,void 0,void 0,s=>{i=S(t(s,Oa(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function Y3(t,n,e,r,o){return(i,s)=>{let a=e,c=n,f=0;i.subscribe(Be(s,m=>{const _=f++;c=a?t(c,m,_):(a=!0,m),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function k1(t,n){return Ee(Y3(t,n,arguments.length>=2,!0))}function D_(t){return t<=0?()=>mr:Ee((n,e)=>{let r=[];n.subscribe(Be(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function T1(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Ko((o,i)=>t(o,i,r)):X,D_(1),e?nh(n):M1(()=>new eh))}function I_(t){return je(()=>t)}function M_(t){return Ee((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const On="primary",Ed=Symbol("RouteTitle");class Q3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xc(t){return new Q3(t)}function J3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Ks(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!x1(t[o],n[o]))return!1;return!0}function x1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function A1(t){return Array.prototype.concat.apply([],t)}function P1(t){return t.length>0?t[t.length-1]:null}function Qo(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function sl(t){return $g(t)?t:Yu(t)?or(Promise.resolve(t)):cn(t)}const n$={exact:function O1(t,n,e){if(!ql(t.segments,n.segments)||!rh(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!O1(t.children[r],n.children[r],e))return!1;return!0},subset:N1},R1={exact:function r$(t,n){return Ks(t,n)},subset:function o$(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>x1(t[e],n[e]))},ignored:()=>!0};function F1(t,n,e){return n$[e.paths](t.root,n.root,e.matrixParams)&&R1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function N1(t,n,e){return L1(t,n,n.segments,e)}function L1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!ql(o,e)||n.hasChildren()||!rh(o,e,r))}if(t.segments.length===e.length){if(!ql(t.segments,e)||!rh(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!N1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(ql(t.segments,o)&&rh(t.segments,o,r)&&t.children[On])&&L1(t.children[On],n,i,r)}}function rh(t,n,e){return n.every((r,o)=>R1[e](t[o].parameters,r.parameters))}class Wl{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return a$.serialize(this)}}class $n{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Qo(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oh(this)}}class Dd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap}toString(){return V1(this)}}function ql(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let T_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return new x_},providedIn:"root"}),t})();class x_{parse(n){const e=new g$(n);return new Wl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Id(n.root,!0)}`,r=function u$(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${ih(e)}=${ih(o)}`).join("&"):`${ih(e)}=${ih(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function l$(t){return encodeURI(t)}(n.fragment)}`:""}`}}const a$=new x_;function oh(t){return t.segments.map(n=>V1(n)).join("/")}function Id(t,n){if(!t.hasChildren())return oh(t);if(n){const e=t.children[On]?Id(t.children[On],!1):"",r=[];return Qo(t.children,(o,i)=>{i!==On&&r.push(`${i}:${Id(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function s$(t,n){let e=[];return Qo(t.children,(r,o)=>{o===On&&(e=e.concat(n(r,o)))}),Qo(t.children,(r,o)=>{o!==On&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===On?[Id(t.children[On],!1)]:[`${o}:${Id(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[On]?`${oh(t)}/${e[0]}`:`${oh(t)}/(${e.join("//")})`}}function $1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ih(t){return $1(t).replace(/%3B/gi,";")}function A_(t){return $1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(t){return decodeURIComponent(t)}function B1(t){return sh(t.replace(/\+/g,"%20"))}function V1(t){return`${A_(t.path)}${function c$(t){return Object.keys(t).map(n=>`;${A_(n)}=${A_(t[n])}`).join("")}(t.parameters)}`}const d$=/^[^\/()?;=#]+/;function ah(t){const n=t.match(d$);return n?n[0]:""}const f$=/^[^=?&#]+/,h$=/^[^&#]+/;class g${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $n([],{}):new $n([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[On]=new $n(n,e)),r}parseSegment(){const n=ah(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(n),new Dd(sh(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=ah(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=ah(this.remaining);o&&(r=o,this.capture(r))}n[sh(e)]=sh(r)}parseQueryParam(n){const e=function p$(t){const n=t.match(f$);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function m$(t){const n=t.match(h$);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=B1(e),i=B1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ah(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new ne(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=On);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[On]:new $n([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new ne(4011,!1)}}function P_(t){return t.segments.length>0?new $n([],{[On]:t}):t}function lh(t){const n={};for(const r of Object.keys(t.children)){const i=lh(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function y$(t){if(1===t.numberOfChildren&&t.children[On]){const n=t.children[On];return new $n(t.segments.concat(n.segments),n.children)}return t}(new $n(t.segments,n))}function Zl(t){return t instanceof Wl}function b$(t,n,e,r,o){if(0===e.length)return Qc(n.root,n.root,n.root,r,o);const i=function U1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new j1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Qo(i.outlets,(c,f)=>{a[f]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new j1(e,n,r)}(e);return i.toRoot()?Qc(n.root,n.root,new $n([],{}),r,o):function s(c){const f=function C$(t,n,e,r){if(t.isAbsolute)return new Jc(n.root,!0,0);if(-1===r)return new Jc(e,e===n.root,0);return function G1(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new ne(4005,!1);o=r.segments.length}return new Jc(r,!1,o-i)}(e,r+(Md(t.commands[0])?0:1),t.numberOfDoubleDots)}(i,n,t.snapshot?._urlSegment,c),m=f.processChildren?Td(f.segmentGroup,f.index,i.commands):F_(f.segmentGroup,f.index,i.commands);return Qc(n.root,f.segmentGroup,m,r,o)}(t.snapshot?._lastPathIndex)}function Md(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function kd(t){return"object"==typeof t&&null!=t&&t.outlets}function Qc(t,n,e,r,o){let s,i={};r&&Qo(r,(c,f)=>{i[f]=Array.isArray(c)?c.map(m=>`${m}`):`${c}`}),s=t===n?e:H1(t,n,e);const a=P_(lh(s));return new Wl(a,i,o)}function H1(t,n,e){const r={};return Qo(t.children,(o,i)=>{r[i]=o===n?e:H1(o,n,e)}),new $n(t.segments,r)}class j1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Md(r[0]))throw new ne(4003,!1);const o=r.find(kd);if(o&&o!==P1(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jc{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function F_(t,n,e){if(t||(t=new $n([],{})),0===t.segments.length&&t.hasChildren())return Td(t,n,e);const r=function E$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(kd(a))break;const c=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!W1(c,f,s))return i;r+=2}else{if(!W1(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new $n(t.segments.slice(0,r.pathIndex),{});return i.children[On]=new $n(t.segments.slice(r.pathIndex),t.children),Td(i,0,o)}return r.match&&0===o.length?new $n(t.segments,{}):r.match&&!t.hasChildren()?O_(t,n,e):r.match?Td(t,0,o):O_(t,n,e)}function Td(t,n,e){if(0===e.length)return new $n(t.segments,{});{const r=function S$(t){return kd(t[0])?t[0].outlets:{[On]:t}}(e),o={};return Qo(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=F_(t.children[s],n,i))}),Qo(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new $n(t.segments,o)}}function O_(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(kd(i)){const c=D$(i.outlets);return new $n(r,c)}if(0===o&&Md(e[0])){r.push(new Dd(t.segments[n].path,z1(e[0]))),o++;continue}const s=kd(i)?i.outlets[On]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Md(a)?(r.push(new Dd(s,z1(a))),o+=2):(r.push(new Dd(s,{})),o++)}return new $n(r,{})}function D$(t){const n={};return Qo(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=O_(new $n([],{}),0,e))}),n}function z1(t){const n={};return Qo(t,(e,r)=>n[r]=`${e}`),n}function W1(t,n,e){return t==e.path&&Ks(n,e.parameters)}class Na{constructor(n,e){this.id=n,this.url=e}}class ch extends Na{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kl extends Na{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uh extends Na{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q1 extends Na{constructor(n,e,r,o){super(n,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I$ extends Na{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M$ extends Na{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k$ extends Na{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class T$ extends Na{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x$ extends Na{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A${constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class P${constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class R${constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F${constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O${constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N${constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class K1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=N_(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=N_(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=L_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return L_(n,this._root).map(e=>e.value)}}function N_(t,n){if(t===n.value)return n;for(const e of n.children){const r=N_(t,e);if(r)return r}return null}function L_(t,n){if(t===n.value)return[n];for(const e of n.children){const r=L_(t,e);if(r.length)return r.unshift(n),r}return[]}class La{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function eu(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Y1 extends K1{constructor(n,e){super(n),this.snapshot=e,$_(this,n)}toString(){return this.snapshot.toString()}}function X1(t,n){const e=function $$(t,n){const s=new dh([],{},{},"",{},On,n,null,t.root,-1,{});return new J1("",new La(s,[]))}(t,n),r=new Ji([new Dd("",{})]),o=new Ji({}),i=new Ji({}),s=new Ji({}),a=new Ji(""),c=new Ys(r,o,s,a,i,On,n,e.root);return c.snapshot=e.root,new Y1(new La(c,[]),e)}class Ys{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(je(f=>f[Ed]))??cn(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(n=>Xc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(n=>Xc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Q1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function B$(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class dh{constructor(n,e,r,o,i,s,a,c,f,m,_,I){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.[Ed],this.routeConfig=c,this._urlSegment=f,this._lastPathIndex=m,this._correctedLastPathIndex=I??m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class J1 extends K1{constructor(n,e){super(e),this.url=n,$_(this,e)}toString(){return eI(this._root)}}function $_(t,n){n.value._routerState=t,n.children.forEach(e=>$_(t,e))}function eI(t){const n=t.children.length>0?` { ${t.children.map(eI).join(", ")} } `:"";return`${t.value}${n}`}function B_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ks(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Ks(n.params,e.params)||t.params.next(e.params),function e$(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ks(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Ks(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function V_(t,n){const e=Ks(t.params,n.params)&&function i$(t,n){return ql(t,n)&&t.every((e,r)=>Ks(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||V_(t.parent,n.parent))}function xd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function H$(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return xd(t,r,o);return xd(t,r)})}(t,n,e);return new La(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>xd(t,a)),s}}const r=function j$(t){return new Ys(new Ji(t.url),new Ji(t.params),new Ji(t.queryParams),new Ji(t.fragment),new Ji(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>xd(t,i));return new La(r,o)}}const H_="ngNavigationCancelingError";function tI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Zl(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=nI(!1,0,n);return o.url=e,o.navigationBehaviorOptions=r,o}function nI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[H_]=!0,r.cancellationCode=n,e&&(r.url=e),r}function rI(t){return oI(t)&&Zl(t.url)}function oI(t){return t&&t[H_]}class U${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yl,this.attachRef=null}}let Yl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new U$,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fh=!1;let iI=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new bn,this.deactivateEvents=new bn,this.attachEvents=new bn,this.detachEvents=new bn,this.name=o||On,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,fh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,fh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,fh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ne(4013,fh);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new G$(e,a,o.injector);if(r&&function z$(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(C(Yl),C(ui),kl("name"),C(Tt),C(Ka))},t.\u0275dir=le({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class G${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ys?this.route:n===Yl?this.childContexts:this.parent.get(n,e)}}let j_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["ng-component"]],standalone:!0,features:[qC],decls:1,vars:0,template:function(e,r){1&e&&ft(0,"router-outlet")},dependencies:[iI],encapsulation:2}),t})();function sI(t,n){return t.providers&&!t._injector&&(t._injector=hp(t.providers,n,`Route: ${t.path}`)),t._injector??n}function G_(t){const n=t.children&&t.children.map(G_),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==On&&(e.component=j_),e}function hs(t){return t.outlet||On}function aI(t,n){const e=t.filter(r=>hs(r)===n);return e.push(...t.filter(r=>hs(r)!==n)),e}function Ad(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Y${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),B_(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=eu(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Qo(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=eu(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=eu(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=eu(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new N$(i.value.snapshot))}),n.children.length&&this.forwardEvent(new F$(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(B_(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),B_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Ad(o.snapshot),c=a?.get(ya)??null;s.attachRef=null,s.route=o,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class lI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ph{constructor(n,e){this.component=n,this.route=e}}function X$(t,n,e){const r=t._root;return Pd(r,n?n._root:null,e,[r.value])}function tu(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function aa(t){return null!==_s(t)}(t)?n.get(t):t:r}function Pd(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=eu(n);return t.children.forEach(s=>{(function J$(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function eB(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!ql(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ql(t.url,n.url)||!Ks(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!V_(t,n)||!Ks(t.queryParams,n.queryParams);default:return!V_(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new lI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Pd(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ph(a.outlet.component,s))}else s&&Rd(n,a,o),o.canActivateChecks.push(new lI(r)),Pd(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Qo(i,(s,a)=>Rd(s,e.getContext(a),o)),o}function Rd(t,n,e){const r=eu(t),o=t.value;Qo(r,(i,s)=>{Rd(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new ph(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Fd(t){return"function"==typeof t}function z_(t){return t instanceof eh||"EmptyError"===t?.name}const hh=Symbol("INITIAL_VALUE");function nu(){return Yo(t=>E1(t.map(n=>n.pipe(es(1),I1(hh)))).pipe(je(n=>{for(const e of n)if(!0!==e){if(e===hh)return hh;if(!1===e||e instanceof Wl)return e}return!0}),Ko(n=>n!==hh),es(1)))}function cI(t){return function ze(...t){return nt(t)}(Xo(n=>{if(Zl(n))throw tI(0,n)}),je(n=>!0===n))}const W_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uI(t,n,e,r,o){const i=q_(t,n,e);return i.matched?function yB(t,n,e,r){const o=n.canMatch;return o&&0!==o.length?cn(o.map(s=>{const a=tu(s,t);return sl(function sB(t){return t&&Fd(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(nu(),cI()):cn(!0)}(r=sI(n,r),n,e).pipe(je(s=>!0===s?i:{...W_})):cn(i)}function q_(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...W_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||J3)(e,t,n);if(!o)return{...W_};const i={};Qo(o.posParams,(a,c)=>{i[c]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function mh(t,n,e,r,o="corrected"){if(e.length>0&&function bB(t,n,e){return e.some(r=>gh(t,n,r)&&hs(r)!==On)}(t,e,r)){const s=new $n(n,function vB(t,n,e,r){const o={};o[On]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&hs(i)!==On){const s=new $n([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[hs(i)]=s}return o}(t,n,r,new $n(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function wB(t,n,e){return e.some(r=>gh(t,n,r))}(t,e,r)){const s=new $n(t.segments,function _B(t,n,e,r,o,i){const s={};for(const a of r)if(gh(t,e,a)&&!o[hs(a)]){const c=new $n([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[hs(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new $n(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function gh(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function dI(t,n,e,r){return!!(hs(t)===r||r!==On&&gh(n,e,t))&&("**"===t.path||q_(n,t,e).matched)}function fI(t,n,e){return 0===n.length&&!t.children[e]}const yh=!1;class _h{constructor(n){this.segmentGroup=n||null}}class pI{constructor(n){this.urlTree=n}}function Od(t){return Yc(new _h(t))}function hI(t){return Yc(new pI(t))}class DB{constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=mh(this.urlTree.root,[],[],this.config).segmentGroup,e=new $n(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,On).pipe(je(i=>this.createUrlTree(lh(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oa(i=>{if(i instanceof pI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof _h?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,On).pipe(je(o=>this.createUrlTree(lh(o),n.queryParams,n.fragment))).pipe(Oa(o=>{throw o instanceof _h?this.noMatchError(o):o}))}noMatchError(n){return new ne(4002,yh)}createUrlTree(n,e,r){const o=P_(n);return new Wl(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(je(i=>new $n([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return or(o).pipe(tl(i=>{const s=r.children[i],a=aI(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(je(c=>({segment:c,outlet:i})))}),k1((i,s)=>(i[s.outlet]=s.segment,i),{}),T1())}expandSegment(n,e,r,o,i,s){return or(r).pipe(tl(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(Oa(f=>{if(f instanceof _h)return cn(null);throw f}))),Fa(a=>!!a),Oa((a,c)=>{if(z_(a))return fI(e,o,i)?cn(new $n([],{})):Od(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return dI(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):Od(e):Od(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hI(i):this.lineralizeSegments(r,i).pipe(Xt(s=>{const a=new $n(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:m}=q_(e,o,i);if(!a)return Od(e);const _=this.applyRedirectCommands(c,o.redirectTo,m);return o.redirectTo.startsWith("/")?hI(_):this.lineralizeSegments(o,_).pipe(Xt(I=>this.expandSegment(n,e,r,I.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){return"**"===r.path?(n=sI(r,n),r.loadChildren?(r._loadedRoutes?cn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(je(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new $n(o,{})))):cn(new $n(o,{}))):uI(e,r,o,n).pipe(Yo(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(n=r._injector??n,r,o).pipe(Xt(m=>{const _=m.injector??n,I=m.routes,{segmentGroup:P,slicedSegments:Y}=mh(e,a,c,I),Re=new $n(P.segments,P.children);if(0===Y.length&&Re.hasChildren())return this.expandChildren(_,I,Re).pipe(je(tt=>new $n(a,tt)));if(0===I.length&&0===Y.length)return cn(new $n(a,{}));const Ke=hs(r)===i;return this.expandSegment(_,Re,I,Y,Ke?On:i,!0).pipe(je(gt=>new $n(a.concat(gt.segments),gt.children)))})):Od(e)))}getChildConfig(n,e,r){return e.children?cn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?cn({routes:e._loadedRoutes,injector:e._loadedInjector}):function gB(t,n,e,r){const o=n.canLoad;return void 0===o||0===o.length?cn(!0):cn(o.map(s=>{const a=tu(s,t);return sl(function nB(t){return t&&Fd(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(nu(),cI())}(n,e,r).pipe(Xt(o=>o?this.configLoader.loadChildren(n,e).pipe(Xo(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function SB(t){return Yc(nI(yh,3))}())):cn({routes:[],injector:n})}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return cn(r);if(o.numberOfChildren>1||!o.children[On])return Yc(new ne(4e3,yh));o=o.children[On]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new Wl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Qo(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Qo(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new $n(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new ne(4001,yh);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}class MB{}class xB{constructor(n,e,r,o,i,s,a,c){this.injector=n,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const n=mh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,On).pipe(je(e=>{if(null===e)return null;const r=new dh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new La(r,e),i=new J1(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(n){const e=n.value,r=Q1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,o)}processChildren(n,e,r){return or(Object.keys(r.children)).pipe(tl(o=>{const i=r.children[o],s=aI(e,o);return this.processSegmentGroup(n,s,i,o)}),k1((o,i)=>o&&i?(o.push(...i),o):null),function X3(t,n=!1){return Ee((e,r)=>{let o=0;e.subscribe(Be(r,i=>{const s=t(i,o++);(s||n)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),nh(null),T1(),je(o=>{if(null===o)return null;const i=mI(o);return function AB(t){t.sort((n,e)=>n.value.outlet===On?-1:e.value.outlet===On?1:n.value.outlet.localeCompare(e.value.outlet))}(i),i}))}processSegment(n,e,r,o,i){return or(e).pipe(tl(s=>this.processSegmentAgainstRoute(s._injector??n,s,r,o,i)),Fa(s=>!!s),Oa(s=>{if(z_(s))return fI(r,o,i)?cn([]):cn(null);throw s}))}processSegmentAgainstRoute(n,e,r,o,i){if(e.redirectTo||!dI(e,r,o,i))return cn(null);let s;if("**"===e.path){const a=o.length>0?P1(o).parameters:{},c=yI(r)+o.length;s=cn({snapshot:new dh(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vI(e),hs(e),e.component??e._loadedComponent??null,e,gI(r),c,bI(e),c),consumedSegments:[],remainingSegments:[]})}else s=uI(r,e,o,n).pipe(je(({matched:a,consumedSegments:c,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=yI(r)+c.length;return{snapshot:new dh(c,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vI(e),hs(e),e.component??e._loadedComponent??null,e,gI(r),_,bI(e),_),consumedSegments:c,remainingSegments:f}}));return s.pipe(Yo(a=>{if(null===a)return cn(null);const{snapshot:c,consumedSegments:f,remainingSegments:m}=a;n=e._injector??n;const _=e._loadedInjector??n,I=function PB(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:Y}=mh(r,f,m,I.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution);if(0===Y.length&&P.hasChildren())return this.processChildren(_,I,P).pipe(je(Ke=>null===Ke?null:[new La(c,Ke)]));if(0===I.length&&0===Y.length)return cn([new La(c,[])]);const Re=hs(e)===i;return this.processSegment(_,I,P,Y,Re?On:i).pipe(je(Ke=>null===Ke?null:[new La(c,Ke)]))}))}}function RB(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function mI(t){const n=[],e=new Set;for(const r of t){if(!RB(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=mI(r.children);n.push(new La(r.value,o))}return n.filter(r=>!e.has(r))}function gI(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function yI(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function vI(t){return t.data||{}}function bI(t){return t.resolve||{}}function wI(t){return"string"==typeof t.title||null===t.title}function Z_(t){return Yo(n=>{const e=t(n);return e?or(e).pipe(je(()=>n)):cn(n)})}let CI=(()=>{class t{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===On);return r}getResolvedTitleForRoute(e){return e.data[Ed]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return po(SI)},providedIn:"root"}),t})(),SI=(()=>{class t extends CI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(De(JE))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EI{}class jB extends class HB{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const bh=new dn("",{providedIn:"root",factory:()=>({})}),K_=new dn("ROUTES");let Y_=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return cn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=sl(e.loadComponent()).pipe(Xo(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),M_(()=>{this.componentLoaders.delete(e)})),o=new E_(r,()=>new Qe).pipe(S_());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return cn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(je(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f,m=!1;Array.isArray(a)?f=a:(c=a.create(e).injector,f=A1(c.get(K_,[],Wt.Self|Wt.Optional)));return{routes:f.map(G_),injector:c}}),M_(()=>{this.childrenLoaders.delete(r)})),s=new E_(i,()=>new Qe).pipe(S_());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return sl(e()).pipe(Xt(r=>r instanceof zC||Array.isArray(r)?cn(r):or(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(De(Vr),De(cy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class GB{}class zB{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function WB(t){throw t}function qB(t,n,e){return n.parse("/")}const ZB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function II(){const t=po(T_),n=po(Yl),e=po(dd),r=po(Vr),o=po(cy),i=po(K_,{optional:!0})??[],s=po(bh,{optional:!0})??{},a=po(SI),c=po(CI,{optional:!0}),f=po(GB,{optional:!0}),m=po(EI,{optional:!0}),_=new zr(null,t,n,e,r,o,A1(i));return f&&(_.urlHandlingStrategy=f),m&&(_.routeReuseStrategy=m),_.titleStrategy=c??a,function YB(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,_),_}let zr=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe,this.errorHandler=WB,this.malformedUriErrorHandler=qB,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>cn(void 0),this.urlHandlingStrategy=new zB,this.routeReuseStrategy=new jB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Y_),this.configLoader.onLoadEndListener=I=>this.triggerEvent(new P$(I)),this.configLoader.onLoadStartListener=I=>this.triggerEvent(new A$(I)),this.ngModule=s.get(Nl),this.console=s.get(bF);const _=s.get(dt);this.isNgZoneEnabled=_ instanceof dt&&dt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function t$(){return new Wl(new $n([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=X1(this.currentUrlTree,this.rootComponentType),this.transitions=new Ji({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Ko(o=>0!==o.id),je(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Yo(o=>{let i=!1,s=!1;return cn(o).pipe(Xo(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yo(a=>{const c=this.browserUrlTree.toString(),f=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return MI(a.source)&&(this.browserUrlTree=a.extractedUrl),cn(a).pipe(Yo(_=>{const I=this.transitions.getValue();return r.next(new ch(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions.getValue()?mr:Promise.resolve(_)}),function IB(t,n,e,r){return Yo(o=>function EB(t,n,e,r,o){return new DB(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(je(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Xo(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},o.urlAfterRedirects=_.urlAfterRedirects}),function OB(t,n,e,r,o,i){return Xt(s=>function TB(t,n,e,r,o,i,s="emptyOnly",a="legacy"){return new xB(t,n,e,r,o,s,a,i).recognize().pipe(Yo(c=>null===c?function kB(t){return new St(n=>n.error(t))}(new MB):cn(c)))}(t,n,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,o,i).pipe(je(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Xo(_=>{if(o.targetSnapshot=_.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!_.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);this.setBrowserUrl(P,_)}this.browserUrlTree=_.urlAfterRedirects}const I=new I$(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);r.next(I)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:P,source:Y,restoredState:Re,extras:Ke}=a,Ye=new ch(I,this.serializeUrl(P),Y,Re);r.next(Ye);const gt=X1(P,this.rootComponentType).snapshot;return cn(o={...a,targetSnapshot:gt,urlAfterRedirects:P,extras:{...Ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),mr}),Xo(a=>{const c=new M$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),je(a=>o={...a,guards:X$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function lB(t,n){return Xt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?cn({...e,guardsResult:!0}):function cB(t,n,e,r){return or(t).pipe(Xt(o=>function mB(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?cn(i.map(a=>{const c=Ad(n)??o,f=tu(a,c);return sl(function iB(t){return t&&Fd(t.canDeactivate)}(f)?f.canDeactivate(t,n,e,r):c.runInContext(()=>f(t,n,e,r))).pipe(Fa())})).pipe(nu()):cn(!0)}(o.component,o.route,e,n,r)),Fa(o=>!0!==o,!0))}(s,r,o,t).pipe(Xt(a=>a&&function tB(t){return"boolean"==typeof t}(a)?function uB(t,n,e,r){return or(n).pipe(tl(o=>Sd(function fB(t,n){return null!==t&&n&&n(new R$(t)),cn(!0)}(o.route.parent,r),function dB(t,n){return null!==t&&n&&n(new O$(t)),cn(!0)}(o.route,r),function hB(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function Q$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>th(()=>cn(s.guards.map(c=>{const f=Ad(s.node)??e,m=tu(c,f);return sl(function oB(t){return t&&Fd(t.canActivateChild)}(m)?m.canActivateChild(r,t):f.runInContext(()=>m(r,t))).pipe(Fa())})).pipe(nu())));return cn(i).pipe(nu())}(t,o.path,e),function pB(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return cn(!0);const o=r.map(i=>th(()=>{const s=Ad(n)??e,a=tu(i,s);return sl(function rB(t){return t&&Fd(t.canActivate)}(a)?a.canActivate(n,t):s.runInContext(()=>a(n,t))).pipe(Fa())}));return cn(o).pipe(nu())}(t,o.route,e))),Fa(o=>!0!==o,!0))}(r,i,t,n):cn(a)),je(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Xo(a=>{if(o.guardsResult=a.guardsResult,Zl(a.guardsResult))throw tI(0,a.guardsResult);const c=new k$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Ko(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Z_(a=>{if(a.guards.canActivateChecks.length)return cn(a).pipe(Xo(c=>{const f=new T$(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),Yo(c=>{let f=!1;return cn(c).pipe(function NB(t,n){return Xt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return cn(e);let i=0;return or(o).pipe(tl(s=>function LB(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!wI(o)&&(i[Ed]=o.title),function $B(t,n,e,r){const o=function BB(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return cn({});const i={};return or(o).pipe(Xt(s=>function VB(t,n,e,r){const o=Ad(n)??r,i=tu(t,o);return sl(i.resolve?i.resolve(n,e):o.runInContext(()=>i(n,e)))}(t[s],n,e,r).pipe(Fa(),Xo(a=>{i[s]=a}))),D_(1),I_(i),Oa(s=>z_(s)?mr:Yc(s)))}(i,t,n,r).pipe(je(s=>(t._resolvedData=s,t.data=Q1(t,e).resolve,o&&wI(o)&&(t.data[Ed]=o.title),null)))}(s.route,r,t,n)),Xo(()=>i++),D_(1),Xt(s=>i===o.length?cn(e):mr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Xo({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Xo(c=>{const f=new x$(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}))}),Z_(a=>{const c=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Xo(_=>{f.component=_}),je(()=>{})));for(const _ of f.children)m.push(...c(_));return m};return E1(c(a.targetSnapshot.root)).pipe(nh(),es(1))}),Z_(()=>this.afterPreactivation()),je(a=>{const c=function V$(t,n,e){const r=xd(t,n._root,e?e._root:void 0);return new Y1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return o={...a,targetRouterState:c}}),Xo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>je(r=>(new Y$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Xo({next(){i=!0},complete(){i=!0}}),M_(()=>{i||s||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Oa(a=>{if(s=!0,oI(a)){rI(a)||(this.navigated=!0,this.restoreHistory(o,!0));const c=new uh(o.id,this.serializeUrl(o.extractedUrl),a.message,a.cancellationCode);if(r.next(c),rI(a)){const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),m={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||MI(o.source)};this.scheduleNavigation(f,"imperative",null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new q1(o.id,this.serializeUrl(o.extractedUrl),a,o.targetSnapshot??void 0);r.next(c);try{o.resolve(this.errorHandler(a))}catch(f){o.reject(f)}}return mr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},i=e.state?.navigationId?e.state:null;if(i){const a={...i};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,i,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(G_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=o||this.routerState.root,m=c?this.currentUrlTree.fragment:s;let _=null;switch(a){case"merge":_={...this.currentUrlTree.queryParams,...i};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=i||null}return null!==_&&(_=this.removeEmptyProps(_)),b$(f,this.currentUrlTree,e,_,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Zl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function XB(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new ne(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...ZB}:!1===r?{...KB}:r,Zl(e))return F1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return F1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Kl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((I,P)=>{a=I,c=P});const m=++this.navigationId;let _;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),_=o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_=0,this.setTransition({id:m,targetPageId:_,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(I=>Promise.reject(I))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const i=new uh(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){fg()},t.\u0275prov=vt({token:t,factory:function(){return II()},providedIn:"root"}),t})();function MI(t){return"imperative"!==t}class kI{}let e4=(()=>{class t{preload(e,r){return r().pipe(Oa(()=>cn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t4=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ko(e=>e instanceof Kl),tl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=hp(i.providers,e,`Route: ${i.path}`));const s=i._injector??e,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return or(o).pipe(ao())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):cn(null);const i=o.pipe(Xt(s=>null===s?cn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?or([i,this.loader.loadComponent(r)]).pipe(ao()):i})}}return t.\u0275fac=function(e){return new(e||t)(De(zr),De(cy),De(Ka),De(kI),De(Y_))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Q_=new dn("");let TI=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ch?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Z1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Z1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){fg()},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();function ru(t,n){return{\u0275kind:t,\u0275providers:n}}function J_(t){return[{provide:K_,multi:!0,useValue:t}]}function AI(){const t=po(Vr);return n=>{const e=t.get(Ja);if(n!==e.components[0])return;const r=t.get(zr),o=t.get(PI);1===t.get(ev)&&r.initialNavigation(),t.get(RI,null,Wt.Optional)?.setUpPreloading(),t.get(Q_,null,Wt.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const PI=new dn("",{factory:()=>new Qe}),ev=new dn("",{providedIn:"root",factory:()=>1});const RI=new dn("");function i4(t){return ru(0,[{provide:RI,useExisting:t4},{provide:kI,useExisting:t}])}const FI=new dn("ROUTER_FORROOT_GUARD"),s4=[dd,{provide:T_,useClass:x_},{provide:zr,useFactory:II},Yl,{provide:Ys,useFactory:function xI(t){return t.routerState.root},deps:[zr]},Y_];function a4(){return new VS("Router",zr)}let Eh=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[s4,[],J_(e),{provide:FI,useFactory:d4,deps:[[zr,new Fu,new Ou]]},{provide:bh,useValue:r||{}},r?.useHash?{provide:qs,useClass:fE}:{provide:qs,useClass:dE},{provide:Q_,useFactory:()=>{const t=po(zr),n=po(CN),e=po(bh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new TI(t,n,e)}},r?.preloadingStrategy?i4(r.preloadingStrategy).\u0275providers:[],{provide:VS,multi:!0,useFactory:a4},r?.initialNavigation?f4(r):[],[{provide:OI,useFactory:AI},{provide:RS,multi:!0,useExisting:OI}]]}}static forChild(e){return{ngModule:t,providers:[J_(e)]}}}return t.\u0275fac=function(e){return new(e||t)(De(FI,8))},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[j_]}),t})();function d4(t){return"guarded"}function f4(t){return["disabled"===t.initialNavigation?ru(3,[{provide:Ll,multi:!0,useFactory:()=>{const n=po(zr);return()=>{n.setUpLocationChangeListener()}}},{provide:ev,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ru(2,[{provide:ev,useValue:0},{provide:Ll,multi:!0,deps:[Vr],useFactory:n=>{const e=n.get(sO,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(i=>{const s=n.get(zr),a=n.get(PI);(function o(i){n.get(zr).events.pipe(Ko(a=>a instanceof Kl||a instanceof uh||a instanceof q1),je(a=>a instanceof Kl||a instanceof uh&&(0===a.code||1===a.code)&&null),Ko(a=>null!==a),es(1)).subscribe(()=>{i()})})(()=>{i(!0),r=!0}),s.afterPreactivation=()=>(i(!0),r||a.closed?cn(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const OI=new dn("");R(8211),R(9591),R(2797),R(9286);var tv=R(8607),ou=R(9259),Ld=R(1856),$d=(R(6277),R(5354)),NI=(R(2286),R(6379),R(1559));function $I(t,n=X){return t=t??m4,Ee((e,r)=>{let o,i=!0;e.subscribe(Be(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function m4(t,n){return t===n}const y4=tv.i,Ot=["*"],b4=["outlet"],w4=[[["","slot","top"]],"*"],C4=["[slot=top]","*"],BI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),VI=t=>!!t.resolveComponentFactory;let Bd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",iu(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),iu(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),iu(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(Aa)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>iu(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),iu(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(C(Vr),C(yt))},t.\u0275dir=le({type:t,hostBindings:function(e,r){1&e&&lt("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const iu=t=>{BI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=D4(n);nv(n,r);const o=n.closest("ion-item");o&&nv(o,e?[...r,"item-has-value"]:r)})},D4=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&I4(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},nv=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},I4=(t,n)=>t.substring(0,n.length)===n;let Vd=(()=>{class t extends Bd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,iu(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(C(Vr),C(yt))},t.\u0275dir=le({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleIonChange(i.target)})},features:[wr([{provide:_i,useExisting:t,multi:!0}]),Yn]}),t})(),Hd=(()=>{class t extends Bd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(Vr),C(yt))},t.\u0275dir=le({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[wr([{provide:_i,useExisting:t,multi:!0}]),Yn]}),t})(),Xl=(()=>{class t extends Bd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(Vr),C(yt))},t.\u0275dir=le({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[wr([{provide:_i,useExisting:t,multi:!0}]),Yn]}),t})();const T4=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},x4=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},ur=(t,n,e)=>{e.forEach(r=>t[r]=Cd(n,r))};function Pt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&T4(e,o),i&&x4(e,i),e}}let HI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-app"]],ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0})],t),t})(),jI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),ts=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),ns=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),rs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),os=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),Jo=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),Ql=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),ei=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),Dh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),Ih=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),Mh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),is=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),Xs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),UI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),rv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),kh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),Th=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),jd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),ov=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),GI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),ss=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Ud=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ur(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],t),t})(),as=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Tt),C(yt),C(dt))},t.\u0275cmp=y({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=Q([Pt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class zI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let xh=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new TV(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(De(dt),De(Ja))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class TV{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(xV(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const xV=(t,n,e,r,o,i,s,a,c,f,m)=>{let _;const I=Vr.create({providers:PV(f),parent:e});if(n&&VI(n)){const Ke=n.resolveComponentFactory(c);_=r?r.createComponent(Ke,r.length,I):Ke.create(I)}else{if(!r)return null;_=r.createComponent(c,{index:r.indexOf,injector:I,environmentInjector:n})}const P=_.instance,Y=_.location.nativeElement;if(f&&Object.assign(P,f),m)for(const Ke of m)Y.classList.add(Ke);const Re=WI(t,P,Y);return a.appendChild(Y),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Y,_),s.set(Y,Re),Y},AV=[Ld.L,Ld.a,Ld.b,Ld.c,Ld.d],WI=(t,n,e)=>t.run(()=>{const r=AV.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),qI=new dn("NavParamsToken"),PV=t=>[{provide:qI,useValue:t},{provide:zI,useFactory:RV,deps:[qI]}],RV=t=>new zI(t),ZI=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),iv=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},$V=(t,n)=>{if(!t)return;const e=KI(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},KI=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),YI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class BV{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?KI(n):void 0}createView(n,e){var r;const o=iv(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=WI(this.zone,n.instance,i);return{id:this.nextId++,stackId:$V(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=iv(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,f=((t,n)=>!n||t.stackId!==n.stackId)(n,c);f&&(i="back",s=void 0);const m=this.views.slice();let _;const I=this.router;I.getCurrentNavigation?_=I.getCurrentNavigation():!(null===(e=I.navigations)||void 0===e)&&e.value&&(_=I.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const P=this.views.includes(n),Y=this.insertView(n,i);P||n.ref.changeDetectorRef.detectChanges();const Re=n.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Re&&(a=Re),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>VV(n,Y,m,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:f})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const m=c.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&XI(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(YI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?ZI(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):ZI(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return nr(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const VV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{XI(t,n,e,r,o),i()})}):Promise.resolve(),XI=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(YI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let sv=(()=>{class t{get(e,r){const o=av();return o?o.get(e,r):null}getBoolean(e,r){const o=av();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=av();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QI=new dn("USERCONFIG"),av=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let HV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new Qe,this.keyboardDidShow=new Qe,this.keyboardDidHide=new Qe,this.pause=new Qe,this.resume=new Qe,this.resize=new Qe,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,f=>r.run(()=>a(f))))},su(this.pause,e,"pause"),su(this.resume,e,"resume"),su(this.backButton,e,"ionBackButton"),su(this.resize,this.win,"resize"),su(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),su(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,tv.a)(this.win,e)}platforms(){return(0,tv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return jV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(De(Ro),De(dt))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},su=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let Gd=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=JI,this.animated=eM,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof ch){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return nr(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=UV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=JI,this.animated=eM,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(De(HV),De(dd),De(T_),De(zr,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const UV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},JI="auto",eM=void 0;let zd=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,I,P,Y){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=c,this.parentOutlet=Y,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ji(null),this.stackEvents=new bn,this.activateEvents=new bn,this.deactivateEvents=new bn,this.nativeEl=m.nativeElement,this.name=o||On,this.tabsPrefix="true"===i?iv(_,P):void 0,this.stackCtrl=new BV(this.tabsPrefix,this.nativeEl,_,a,I,f),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,ou.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let i,s=this.stackCtrl.getExistingView(e);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,e)}else{const a=e._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const c=this.parentContexts.getOrCreateContext(this.name).children,f=new Ji(null),m=this.createActivatedRouteProxy(f,e),_=new GV(m,c,this.location.injector),I=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&VI(r)){const P=r.resolveComponentFactory(I);i=this.activated=this.location.createComponent(P,this.location.length,_)}else i=this.activated=this.location.createComponent(I,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:e})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Ys;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(Ko(o=>!!o),Yo(o=>this.currentActivatedRoute$.pipe(Ko(i=>null!==i&&i.component===o),Yo(i=>i&&i.activatedRoute[r]),$I())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(C(Yl),C(ui),kl("name"),kl("tabs"),C(sv),C(Gd),C(ya,8),C(dd),C(yt),C(zr),C(dt),C(Ys),C(t,12))},t.\u0275dir=le({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class GV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ys?this.route:n===Yl?this.childContexts:this.parent.get(n,e)}}let tM=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new bn,this.ionTabsDidChange=new bn}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(C(Gd))},t.\u0275cmp=y({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function Sa(t,n,e,r){const o=Zn();if(o.firstCreatePass){const i=uo();dS(o,new lS(n,e,r),i.index),function J2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}uS(o,pt(),e)}(o,ov,5),2&e){let i;Ni(i=Li())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&Uc(b4,5,zd),2&e){let o;Ni(o=Li())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&lt("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:C4,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(e,r){1&e&&(At(w4),xt(0),fe(1,"div",0)(2,"ion-router-outlet",1,2),lt("stackEvents",function(i){return r.onPageSelected(i)}),te()(),xt(4,1)),2&e&&(rt(2),it("environmentInjector",r.environmentInjector))},dependencies:[zd],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),nM=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(C(zd,8),C(Gd),C(sv))},t.\u0275dir=le({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&lt("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),rM=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),ur(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(yt),C(ya),C(Vr),C(xh),C(ui))},t.\u0275dir=le({type:t,selectors:[["ion-nav"]]}),t=Q([Pt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class Wd{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let qd=(()=>{class t extends Wd{constructor(){super($d.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),au=(()=>{class t extends Wd{constructor(){super($d.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jl=(()=>{class t extends Wd{constructor(){super($d.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class aM{}let ks=(()=>{class t extends Wd{constructor(e,r,o,i){super($d.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(De(xh),De(ya),De(Vr),De(aM,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),ec=(()=>{class t extends Wd{constructor(e,r,o,i){super($d.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(De(xh),De(ya),De(Vr),De(aM,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class XV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const QV=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function g4(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,NI.p)().then(()=>(y4(),(0,NI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:BI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let al=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:QI,useValue:e},{provide:Ll,useFactory:QV,multi:!0,deps:[QI,Ro,dt]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({providers:[xh,ks,ec],imports:[[Zs]]}),t})();let lu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const cM=/[&<>"']/,eH=new RegExp(cM.source,"g"),uM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,tH=new RegExp(uM.source,"g"),nH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dM=t=>nH[t];function ti(t,n){if(n){if(cM.test(t))return t.replace(eH,dM)}else if(uM.test(t))return t.replace(tH,dM);return t}const rH=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function fM(t){return t.replace(rH,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const oH=/(^|[^\[])\^/g;function Pr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(oH,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const iH=/[^\w:]/g,sH=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function pM(t,n,e){if(t){let r;try{r=decodeURIComponent(fM(e)).replace(iH,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!sH.test(e)&&(e=function uH(t,n){Ah[" "+t]||(Ah[" "+t]=aH.test(t)?t+"/":Rh(t,"/",!0));const e=-1===(t=Ah[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(lH,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(cH,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Ah={},aH=/^[^:]+:\/*[^/]*$/,lH=/^([^:]+:)[\s\S]*$/,cH=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ph={exec:function(){}};function Ts(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function hM(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Rh(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function mM(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function gM(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function yM(t,n,e,r){const o=n.href,i=n.title?ti(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:ti(s)}}class lv{constructor(n){this.options=n||lu}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Rh(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function fH(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const o=Rh(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:e[0],tokens:i,text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,f,m,_,I,P,Y,Re=e[1].trim();const Ke=Re.length>1,Ye={type:"list",raw:"",ordered:Ke,start:Ke?+Re.slice(0,-1):"",loose:!1,items:[]};Re=Ke?`\\d{1,9}\\${Re.slice(-1)}`:`\\${Re}`,this.options.pedantic&&(Re=Ke?Re:"[*+-]");const gt=new RegExp(`^( {0,3}${Re})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(Y=!1,(e=gt.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),m=e[2].split("\n",1)[0].replace(/^\t+/,ht=>" ".repeat(3*ht.length)),_=n.split("\n",1)[0],this.options.pedantic?(s=2,P=m.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,P=m.slice(s),s+=e[1].length),c=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",n=n.substring(_.length+1),Y=!0),!Y){const ht=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),sn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Cn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),mo=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(I=n.split("\n",1)[0],_=I,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Cn.test(_)||mo.test(_)||ht.test(_)||sn.test(n)));){if(_.search(/[^ ]/)>=s||!_.trim())P+="\n"+_.slice(s);else{if(c||m.search(/[^ ]/)>=4||Cn.test(m)||mo.test(m)||sn.test(m))break;P+="\n"+_}!c&&!_.trim()&&(c=!0),r+=I+"\n",n=n.substring(I.length+1),m=_.slice(s)}}Ye.loose||(f?Ye.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(P),o&&(i="[ ] "!==o[0],P=P.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:P}),Ye.raw+=r}Ye.items[Ye.items.length-1].raw=r.trimRight(),Ye.items[Ye.items.length-1].text=P.trimRight(),Ye.raw=Ye.raw.trimRight();const tt=Ye.items.length;for(a=0;a<tt;a++)if(this.lexer.state.top=!1,Ye.items[a].tokens=this.lexer.blockTokens(Ye.items[a].text,[]),!Ye.loose){const ht=Ye.items[a].tokens.filter(Cn=>"space"===Cn.type),sn=ht.length>0&&ht.some(Cn=>/\n.*\n/.test(Cn.raw));Ye.loose=sn}if(Ye.loose)for(a=0;a<tt;a++)Ye.items[a].loose=!0;return Ye}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(e[0]):ti(e[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(n){const e=this.rules.block.def.exec(n);if(e){const r=e[1].toLowerCase().replace(/\s+/g," "),o=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:o,title:i}}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:hM(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=hM(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:ti(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):ti(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Rh(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function dH(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),yM(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return yM(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=_.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){m+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+m);const I=n.slice(0,s+o.index+(o[0].length-a.length)+c);if(Math.min(s,c)%2){const Y=I.slice(1,-1);return{type:"em",raw:I,text:Y,tokens:this.lexer.inlineTokens(Y)}}const P=I.slice(2,-2);return{type:"strong",raw:I,text:P,tokens:this.lexer.inlineTokens(P)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=ti(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=ti(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=ti(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=ti(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=ti(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ti(r[0]):r[0]:ti(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const mn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ph,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};mn.def=Pr(mn.def).replace("label",mn._label).replace("title",mn._title).getRegex(),mn.bullet=/(?:[*+-]|\d{1,9}[.)])/,mn.listItemStart=Pr(/^( *)(bull) */).replace("bull",mn.bullet).getRegex(),mn.list=Pr(mn.list).replace(/bull/g,mn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+mn.def.source+")").getRegex(),mn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,mn.html=Pr(mn.html,"i").replace("comment",mn._comment).replace("tag",mn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),mn.paragraph=Pr(mn._paragraph).replace("hr",mn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mn._tag).getRegex(),mn.blockquote=Pr(mn.blockquote).replace("paragraph",mn.paragraph).getRegex(),mn.normal=Ts({},mn),mn.gfm=Ts({},mn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),mn.gfm.table=Pr(mn.gfm.table).replace("hr",mn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mn._tag).getRegex(),mn.gfm.paragraph=Pr(mn._paragraph).replace("hr",mn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",mn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mn._tag).getRegex(),mn.pedantic=Ts({},mn.normal,{html:Pr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",mn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ph,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pr(mn.normal._paragraph).replace("hr",mn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",mn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ph,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ph,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function pH(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function _M(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",zt.punctuation=Pr(zt.punctuation).replace(/punctuation/g,zt._punctuation).getRegex(),zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,zt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,zt._comment=Pr(mn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),zt.emStrong.lDelim=Pr(zt.emStrong.lDelim).replace(/punct/g,zt._punctuation).getRegex(),zt.emStrong.rDelimAst=Pr(zt.emStrong.rDelimAst,"g").replace(/punct/g,zt._punctuation).getRegex(),zt.emStrong.rDelimUnd=Pr(zt.emStrong.rDelimUnd,"g").replace(/punct/g,zt._punctuation).getRegex(),zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,zt.autolink=Pr(zt.autolink).replace("scheme",zt._scheme).replace("email",zt._email).getRegex(),zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,zt.tag=Pr(zt.tag).replace("comment",zt._comment).replace("attribute",zt._attribute).getRegex(),zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,zt.link=Pr(zt.link).replace("label",zt._label).replace("href",zt._href).replace("title",zt._title).getRegex(),zt.reflink=Pr(zt.reflink).replace("label",zt._label).replace("ref",mn._label).getRegex(),zt.nolink=Pr(zt.nolink).replace("ref",mn._label).getRegex(),zt.reflinkSearch=Pr(zt.reflinkSearch,"g").replace("reflink",zt.reflink).replace("nolink",zt.nolink).getRegex(),zt.normal=Ts({},zt),zt.pedantic=Ts({},zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pr(/^!?\[(label)\]\((.*?)\)/).replace("label",zt._label).getRegex(),reflink:Pr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zt._label).getRegex()}),zt.gfm=Ts({},zt.normal,{escape:Pr(zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),zt.gfm.url=Pr(zt.gfm.url,"i").replace("email",zt.gfm._extended_email).getRegex(),zt.breaks=Ts({},zt.gfm,{br:Pr(zt.br).replace("{2,}","*").getRegex(),text:Pr(zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class $a{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||lu,this.options.tokenizer=this.options.tokenizer||new lv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:mn.normal,inline:zt.normal};this.options.pedantic?(e.block=mn.pedantic,e.inline=zt.pedantic):this.options.gfm&&(e.block=mn.gfm,e.inline=this.options.breaks?zt.breaks:zt.gfm),this.tokenizer.rules=e}static get rules(){return{block:mn,inline:zt}}static lex(n,e){return new $a(e).lex(n)}static lexInline(n,e){return new $a(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let r,o,i,a,c,f,s=n;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+gM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+gM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,_M)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,_M))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=n.slice(1);let I;this.options.extensions.startInline.forEach(function(P){I=P.call({lexer:this},_),"number"==typeof I&&I>=0&&(m=Math.min(m,I))}),m<1/0&&m>=0&&(i=n.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,pH)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const m="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return e}}class cu{constructor(n){this.options=n||lu}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+ti(o)+'">'+(r?n:ti(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:ti(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=pM(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+n+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=pM(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class vM{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class bM{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Qs{constructor(n){this.options=n||lu,this.options.renderer=this.options.renderer||new cu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new vM,this.slugger=new bM}static parse(n,e){return new Qs(e).parse(n)}static parseInline(n,e){return new Qs(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,f,m,_,I,P,Y,Re,Ke,Ye,gt,tt,ht,sn,Cn,r="";const mo=n.length;for(o=0;o<mo;o++)if(P=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[P.type]&&(Cn=this.options.extensions.renderers[P.type].call({parser:this},P),!1!==Cn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(P.type)))r+=Cn||"";else switch(P.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(P.tokens),P.depth,fM(this.parseInline(P.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(P.text,P.lang,P.escaped);continue;case"table":for(_="",m="",a=P.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(P.header[i].tokens),{header:!0,align:P.align[i]});for(_+=this.renderer.tablerow(m),I="",a=P.rows.length,i=0;i<a;i++){for(f=P.rows[i],m="",c=f.length,s=0;s<c;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:P.align[s]});I+=this.renderer.tablerow(m)}r+=this.renderer.table(_,I);continue;case"blockquote":I=this.parse(P.tokens),r+=this.renderer.blockquote(I);continue;case"list":for(Y=P.ordered,Re=P.start,Ke=P.loose,a=P.items.length,I="",i=0;i<a;i++)gt=P.items[i],tt=gt.checked,ht=gt.task,Ye="",gt.task&&(sn=this.renderer.checkbox(tt),Ke?gt.tokens.length>0&&"paragraph"===gt.tokens[0].type?(gt.tokens[0].text=sn+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&"text"===gt.tokens[0].tokens[0].type&&(gt.tokens[0].tokens[0].text=sn+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:sn}):Ye+=sn),Ye+=this.parse(gt.tokens,Ke),I+=this.renderer.listitem(Ye,ht,tt);r+=this.renderer.list(I,Y,Re);continue;case"html":r+=this.renderer.html(P.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(P.tokens));continue;case"text":for(I=P.tokens?this.parseInline(P.tokens):P.text;o+1<mo&&"text"===n[o+1].type;)P=n[++o],I+="\n"+(P.tokens?this.parseInline(P.tokens):P.text);r+=e?this.renderer.paragraph(I):I;continue;default:{const Vi='Token with "'+P.type+'" type was not found.';if(this.options.silent)return void console.error(Vi);throw new Error(Vi)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function _n(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),mM(n=Ts({},_n.defaults,n||{})),e){const o=n.highlight;let i;try{i=$a.lex(t,n)}catch(c){return e(c)}const s=function(c){let f;if(!c)try{n.walkTokens&&_n.walkTokens(i,n.walkTokens),f=Qs.parse(i,n)}catch(m){c=m}return n.highlight=o,c?e(c):e(null,f)};if(!o||o.length<3||(delete n.highlight,!i.length))return s();let a=0;return _n.walkTokens(i,function(c){"code"===c.type&&(a++,setTimeout(()=>{o(c.text,c.lang,function(f,m){if(f)return s(f);null!=m&&m!==c.text&&(c.text=m,c.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+ti(o.message+"",!0)+"</pre>";throw o}try{const o=$a.lex(t,n);if(n.walkTokens){if(n.async)return Promise.all(_n.walkTokens(o,n.walkTokens)).then(()=>Qs.parse(o,n)).catch(r);_n.walkTokens(o,n.walkTokens)}return Qs.parse(o,n)}catch(o){r(o)}}_n.options=_n.setOptions=function(t){return Ts(_n.defaults,t),function JV(t){lu=t}(_n.defaults),_n},_n.getDefaults=function lM(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},_n.defaults=lu,_n.use=function(...t){const n=_n.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(e=>{const r=Ts({},e);if(r.async=_n.defaults.async||r.async,e.extensions&&(e.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=n.renderers[o.name];n.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&("block"===o.level?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:"inline"===o.level&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),e.renderer){const o=_n.defaults.renderer||new cu;for(const i in e.renderer){const s=o[i];o[i]=(...a)=>{let c=e.renderer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.renderer=o}if(e.tokenizer){const o=_n.defaults.tokenizer||new lv;for(const i in e.tokenizer){const s=o[i];o[i]=(...a)=>{let c=e.tokenizer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.tokenizer=o}if(e.walkTokens){const o=_n.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(e.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}_n.setOptions(r)})},_n.walkTokens=function(t,n){let e=[];for(const r of t)switch(e=e.concat(n.call(_n,r)),r.type){case"table":for(const o of r.header)e=e.concat(_n.walkTokens(o.tokens,n));for(const o of r.rows)for(const i of o)e=e.concat(_n.walkTokens(i.tokens,n));break;case"list":e=e.concat(_n.walkTokens(r.items,n));break;default:_n.defaults.extensions&&_n.defaults.extensions.childTokens&&_n.defaults.extensions.childTokens[r.type]?_n.defaults.extensions.childTokens[r.type].forEach(function(o){e=e.concat(_n.walkTokens(r[o],n))}):r.tokens&&(e=e.concat(_n.walkTokens(r.tokens,n)))}return e},_n.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");mM(n=Ts({},_n.defaults,n||{}));try{const e=$a.lexInline(t,n);return n.walkTokens&&_n.walkTokens(e,n.walkTokens),Qs.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+ti(e.message+"",!0)+"</pre>";throw e}},_n.Parser=Qs,_n.parser=Qs.parse,_n.Renderer=cu,_n.TextRenderer=vM,_n.Lexer=$a,_n.lexer=$a.lex,_n.Tokenizer=lv,_n.Slugger=bM,_n.parse=_n;class hH extends q{constructor(n,e){super()}schedule(n,e=0){return this}}const Fh={setInterval(t,n,...e){const{delegate:r}=Fh;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Fh;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},cv={now:()=>(cv.delegate||Date).now(),delegate:void 0};class Zd{constructor(n,e=Zd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}Zd.now=cv.now;const wM=new class gH extends Zd{constructor(n,e=Zd.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class mH extends hH{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return Fh.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Fh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ie(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),yH=wM;function CM(t=0,n,e=yH){let r=-1;return null!=n&&(pi(n)?e=n:r=n),new St(o=>{let i=function _H(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class vH extends Qe{constructor(n=1/0,e=1/0,r=cv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const CH=["*"];let uv=(()=>{class t{constructor(){this._buttonClick$=new Qe,this.copied$=this._buttonClick$.pipe(Yo(()=>Go(cn(!0),CM(3e3).pipe(I_(!1)))),$I(),function bH(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,oi({connector:()=>new vH(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(I1(!1),je(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(fe(0,"button",0),lt("click",function(){return r.onCopyToClipboardClick()}),Gs(1,"async"),et(2),Gs(3,"async"),te()),2&e&&(Ca("copied",zs(1,3,r.copied$)),rt(2),Qi(zs(3,5,r.copiedText$)))},dependencies:[xE],encapsulation:2,changeDetection:0}),t})();class DH{}var Kd=(()=>{return(t=Kd||(Kd={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",Kd;var t})();class SM{}const EM=new dn("SECURITY_CONTEXT");let dv=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new cu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new Qe,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new cu));const f=this.trimIndentation(e),m=o?this.decodeHtml(f):f,_=s?this.parseEmoji(m):m,I=this.parseMarked(_,c,i);return this.sanitizer.sanitize(this.securityContext,I)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(je(r=>this.handleExtension(e,r)))}highlight(e){if(!Ta(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!Ta(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),f=c>-1?a.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return Ta(this.platform)?o?_n.parseInline(e,r):_n.parse(e,r):e}parseEmoji(e){if(!Ta(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(Ta(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!Ta(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const f=a.item(c),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let I,P;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",I=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(uv).hostView,I.rootNodes.forEach(Y=>{Y.onmouseover=()=>_.style.opacity="1",_.appendChild(Y),P=new ClipboardJS(Y,{text:()=>f.innerText})}),I.onDestroy(()=>P.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ta(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(De(Wc),De(EM),De(Xy,8),De(DH,8),De(SM,8),De(Wy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),fv=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new bn,this.load=new bn,this.ready=new bn,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Qe}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function wH(t){return Ee((n,e)=>{S(t).subscribe(Be(e,()=>e.complete(),B)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Kd.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Kd.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(C(yt),C(dv),C(ui))},t.\u0275cmp=y({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[bo],ngContentSelectors:CH,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2}),t})(),pv=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[dv,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:EM,useValue:e&&null!=e.sanitize?e.sanitize:Ar.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs]}),t})();var DM;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(DM||(DM={}));var ke=R(3918);window;const IM=!navigator.userAgent.match(/(crios)|(fxios)/i),Js=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,MM=!!navigator.userAgent.match(/android/i);var ll=(()=>{return(t=ll||(ll={})).web="web",t.pwa="pwa",t.twa="twa",ll;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const OH=new Error("request for lock canceled");var kM=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function c(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())})};class NH{constructor(n,e=OH){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return kM(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return kM(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class ea{constructor(n){this._semaphore=new NH(1,n)}acquire(){return t=this,n=void 0,r=function*(){const[,n]=yield this._semaphore.acquire();return n},new((e=void 0)||(e=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function c(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}f((r=r.apply(t,n||[])).next())});var t,n,e,r}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Oh="cloudpilot-session-preview";function xM(){localStorage.removeItem(Oh)}function bi(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,ke.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),e}}let Ba=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Nr{constructor(n,e){this.alertController=n,this.emulationState=e,this.emergencySaveEvent=new Vo.j}errorMessage(n){var e=this;return(0,ke.Z)(function*(){yield(yield e.alertController.create({header:"Error",backdropDismiss:!1,message:n,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(n,e,r={},o="Close"){var i=this;return(0,ke.Z)(function*(){const s=yield i.alertController.create({header:n,message:e,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var n=this;return(0,ke.Z)(function*(){const e=yield n.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield e.present(),yield e.onDidDismiss()})()}fatalError(n,e=!0){var r=this;return(0,ke.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${n}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&e?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&e?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(n){var e=this;return(0,ke.Z)(function*(){const r=yield e.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${n}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Nr.\u0275fac=function(n){return new(n||Nr)(De(au),De(Ba))},Nr.\u0275prov=vt({token:Nr,factory:Nr.\u0275fac,providedIn:"root"}),Q([bi()],Nr.prototype,"updateAvailable",null),Q([bi()],Nr.prototype,"fatalError",null),Q([bi()],Nr.prototype,"errorInNativeCode",null);let tc=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&xM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new Vo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(De(Nr),De(dt))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Hr=(()=>{return(t=Hr||(Hr={})).cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",Hr;var t})();let Yd=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Hr.none}claim(e,r){this.assertOwnership(e,Hr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=r===Hr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${r}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)(De(tc))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ul="session",uu="rom",dl="memory",Va="state",Nh="kvs",fl="memory-meta",ta="storage",ls="storage-card",Xd="lock";class du extends Error{constructor(n){super(n)}}function Kn(t){return new Promise((n,e)=>{!function UH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new du(t.error?.message))})}function PM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function GH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const Lh="session",mv="memory",WH="memory-meta",qH="storage",FM="storage-meta",OM="storage-card",KH="storageId";function gv(){return(gv=(0,ke.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(Lh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function yv(){return(yv=(0,ke.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function _v(){return(_v=(0,ke.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(WH,{keyPath:"sessionId"});t.createObjectStore(qH),t.createObjectStore(FM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(Lh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function vv(){return(vv=(0,ke.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(FM).name=OM})).apply(this,arguments)}function bv(){return(bv=(0,ke.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(OM).createIndex(KH,"storageId")})).apply(this,arguments)}function wv(){return(wv=(0,ke.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var oj=R(5023),ij=R.n(oj);const NM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $h;const sj=new Uint8Array(16);function aj(){if(!$h&&($h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $h(sj)}const ni=[];for(let t=0;t<256;++t)ni.push((t+256).toString(16).slice(1));const Cv=function lj(t,n,e){if(NM.randomUUID&&!n&&!t)return NM.randomUUID();const r=(t=t||{}).random||(t.rng||aj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function LM(t,n=0){return(ni[t[n+0]]+ni[t[n+1]]+ni[t[n+2]]+ni[t[n+3]]+"-"+ni[t[n+4]]+ni[t[n+5]]+"-"+ni[t[n+6]]+ni[t[n+7]]+"-"+ni[t[n+8]]+ni[t[n+9]]+"-"+ni[t[n+10]]+ni[t[n+11]]+ni[t[n+12]]+ni[t[n+13]]+ni[t[n+14]]+ni[t[n+15]]).toLowerCase()}(r)},Sv=new Error("page lock lost"),$M=new Error("version mismatch"),BM=Cv();function ro(){return(t,n,e)=>{const r=e.value;return e.value=(0,ke.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof du?o.fatalIDBDead():i===$M?o.fatalVersionMismatch():i===Sv?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class Bn{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(dl),c=o.objectStore(fl),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const I=s.length>>>10;for(let P=0;P<I;P++){m.set(s.subarray(1024*P,1024*(P+1)));const Y=PM(f);if("number"==typeof Y)a.put(Y,[i,P]);else{const Re=new Uint32Array(256);Re.set(Y),a.put(Re,[i,P])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ke.Z)(function*(){const s=o.objectStore(fl),a=yield Kn(s.get(i));if(a)return new Promise(function(){var c=(0,ke.Z)(function*(f,m){const _=o.objectStore(dl),I=new Uint32Array(a.totalSize>>>2),P=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));P.onsuccess=()=>{const Y=P.result;if(!Y)return f(new Uint8Array(I.buffer));const Re=Y.value,[,Ke]=Y.key;"number"==typeof Re?I.subarray(256*Ke,256*(Ke+1)).fill(Re|Re<<8|Re<<16|Re<<24):I.subarray(256*Ke,256*(Ke+1)).set(1024===Re.length?new Uint32Array(Re.buffer):Re),Y.continue()},P.onerror=()=>m(new du(P.error?.message))});return function(f,m){return c.apply(this,arguments)}}())})),this.sessionChangeEvent=new Vo.j,this.storageCardChangeEvent=new Vo.j,this.sessionUpdateMutex=new ea,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,ke.Z)(function*(){const s=ij()(e),a=yield i.newTransaction(ul,uu,Va,dl,fl),c=a.objectStore(ul),f=a.objectStore(uu);(yield Kn(f.get(s)))||f.put(e,s);const{id:_,...I}=n,P=yield Kn(c.add({...I,rom:s})),Y=yield Kn(c.get(P));return r&&i.saveMemory(a,Y.id,r),o&&i.saveState(a,Y.id,o),yield Kn(a),Y})()}getAllSessions(){var n=this;return(0,ke.Z)(function*(){const[e]=yield n.prepareObjectStore(ul);return yield Kn(e.getAll())})()}getSession(n){var e=this;return(0,ke.Z)(function*(){const[r]=yield e.prepareObjectStore(ul);return yield Kn(r.get(n))})()}deleteSession(n){var e=this;return(0,ke.Z)(function*(){const r=yield e.newTransaction(ul,uu,Va,dl,fl),o=r.objectStore(ul),i=r.objectStore(uu);(n=yield Kn(o.get(n.id)))&&(o.delete(n.id),0===(yield Kn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield Kn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,ke.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[f,m]=yield r.prepareObjectStore(ul),_=yield Kn(f.get(n));if(!_)throw new Error(`no session with id ${n}`);const I={..._,...c};f.put(I),yield Kn(m),r.sessionChangeEvent.dispatch([_.id,I])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,ke.Z)(function*(){const[r,o]=yield e.prepareObjectStore(ul),i=yield Kn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield Kn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,ke.Z)(function*(){const r=yield e.newTransaction(uu,Va,dl,fl),o=r.objectStore(uu);return[yield Kn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,ke.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Va);r.delete(n.id),yield Kn(o)})()}addEmptyStorageCard(n){var e=this;return(0,ke.Z)(function*(){const[r]=yield e.prepareObjectStore(ls),o=yield Kn(r.add(n)),i=yield Kn(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,ke.Z)(function*(){return r.ngZone.runOutsideAngular((0,ke.Z)(function*(){const o=yield r.newTransaction(ls,ta),i=o.objectStore(ls),s=o.objectStore(ta),a=yield Kn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<c;_++){const I=e.subarray(2048*_,2048*(_+1));_===c-1&&f.set(I);const P=GH(_===c-1?f:I);0!==P&&s.put("number"==typeof P?P:P?.slice(),[a,_])}const m=yield Kn(i.get(a));return yield Kn(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var n=this;return(0,ke.Z)(function*(){const[e]=yield n.prepareObjectStore(ls);return Kn(e.getAll())})()}getCard(n){var e=this;return(0,ke.Z)(function*(){const[r]=yield e.prepareObjectStore(ls);return Kn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,ke.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,f]=yield r.prepareObjectStore(ls),m=yield Kn(c.get(n));if(!m)throw new Error(`no card with id ${n}`);const _={...m,...a};c.put(_),yield Kn(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,ke.Z)(function*(){const r=yield e.newTransaction(ls,ta);e.storageCardContext.assertOwnership(n,Hr.none);const o=r.objectStore(ls),i=r.objectStore(ta);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield Kn(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,ke.Z)(function*(){const i=yield o.newTransaction(ls,ta);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(ta);yield new Promise(function(){var a=(0,ke.Z)(function*(c,f){const m=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return c();let I=_.value;const[,P]=_.key;"number"==typeof I?e.subarray(2048*P,2048*(P+1)).fill(I):(2048*(P+1)>e.length&&(I=I.subarray(0,2048-2048*(P+1)+e.length)),e.subarray(2048*P,2048*(P+1)).set(I)),_.continue()},m.onerror=()=>f(new du(m.error?.message))});return function(c,f){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ke.Z)(function*(){const s=yield i.newTransaction(ls,ta);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(ls),c=s.objectStore(ta),f=yield Kn(a.get(n));if(!f)throw new Error(`no card with ID ${n}`);if(e.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let I=0;I<r.length;I++)for(let P=1;P<256&&!(_>=m);P<<=1)r[I]&P&&c.put(e.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield Kn(s)}))}kvsGet(n){var e=this;return(0,ke.Z)(function*(){const[r]=yield e.prepareObjectStore(Nh);return Kn(r.get(n))})()}kvsSet(n){var e=this;return(0,ke.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Nh);for(const i of Object.keys(n))r.put(n[i],i);yield Kn(o)})()}kvsLoad(){var n=this;return(0,ke.Z)(function*(){const[e]=yield n.prepareObjectStore(Nh);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new du(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,ke.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Nh);r.delete(n),yield Kn(o)})()}acquireLock(n){var e=this;return(0,ke.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Kn(n.objectStore(Xd).get(0)))!==BM)throw n.abort(),n.db.close(),Sv})()}newTransaction(...n){var e=this;return(0,ke.Z)(function*(){const r=(yield e.db).transaction([Xd,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,ke.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Va);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Va).delete(e)}loadState(n,e){return Kn(n.objectStore(Va).get(e))}deleteMemory(n,e){const r=n.objectStore(dl),o=n.objectStore(fl);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,ke.Z)(function*(){const e=n.transaction(Xd,"readwrite");yield Kn(e.objectStore(Xd).put(BM,0))})()}setupDb(){var n=this;return(0,ke.Z)(function*(){const e=setTimeout(()=>Js&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw $M}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new du("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ke.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function YH(t){t.createObjectStore(Lh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function XH(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(mv)&&t.deleteObjectStore(mv),n.objectStore(Lh).clear(),t.createObjectStore("rom"),t.createObjectStore(mv),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function QH(t,n){return gv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function JH(t,n){return yv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function ej(t,n){return _v.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function tj(t,n){return vv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function nj(t,n){return bv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function rj(t,n){return wv.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,ke.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}Bn.\u0275fac=function(n){return new(n||Bn)(De(dt),De(tc),De(Yd))},Bn.\u0275prov=vt({token:Bn,factory:Bn.\u0275fac,providedIn:"root"}),Q([ro()],Bn.prototype,"addSession",null),Q([ro()],Bn.prototype,"getAllSessions",null),Q([ro()],Bn.prototype,"getSession",null),Q([ro()],Bn.prototype,"deleteSession",null),Q([ro()],Bn.prototype,"updateSessionPartial",null),Q([ro()],Bn.prototype,"updateSession",null),Q([ro()],Bn.prototype,"loadSession",null),Q([ro()],Bn.prototype,"deleteStateForSession",null),Q([ro()],Bn.prototype,"addEmptyStorageCard",null),Q([ro()],Bn.prototype,"importStorageCard",null),Q([ro()],Bn.prototype,"getAllStorageCards",null),Q([ro()],Bn.prototype,"getCard",null),Q([ro()],Bn.prototype,"updateStorageCardPartial",null),Q([ro()],Bn.prototype,"deleteStorageCard",null),Q([ro()],Bn.prototype,"loadCardData",null),Q([ro()],Bn.prototype,"kvsGet",null),Q([ro()],Bn.prototype,"kvsSet",null),Q([ro()],Bn.prototype,"kvsDelete",null),Q([ro()],Bn.prototype,"newTransaction",null),Q([ro()],Bn.prototype,"prepareObjectStore",null),Q([ro()],Bn.prototype,"initializeLock",null),Q([ro()],Bn.prototype,"setupDb",null);const VM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Bi=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,ke.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new Vo.j,this.mutex=new ea,this.storageMutex=new ea,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ke.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ke.Z)(function*(){const r=e;try{const o={...VM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...VM}}})()}}return t.\u0275fac=function(e){return new(e||t)(De(Bn))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,ke.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Js||MM)&&this.installationMode===ll.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return Js&&IM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Js?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Js&&IM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Js?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ll.pwa:document.referrer.startsWith("android-app://")?ll.twa:window.matchMedia("(display-mode: standalone)").matches?ll.pwa:ll.web}}return t.\u0275fac=function(e){return new(e||t)(De(Bi),De(Nr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gj(t,n){1&t&&(fe(0,"div",6),ft(1,"ion-spinner"),te())}let Qd=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(C(ks))},t.\u0275cmp=y({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.modalController.dismiss()}),et(6,"Close"),te()()()(),fe(7,"ion-content",3),Kt(8,gj,2,0,"div",4),fe(9,"markdown",5),lt("load",function(){return r.loading=!1}),te()()),2&e&&(rt(3),Qi(r.title),rt(5),it("ngIf",r.loading),rt(1),it("src",r.url))},dependencies:[Bo,fv,ts,ns,rs,os,jd,ss,as],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const nc="1.7.9-6bb789d (preview)";var Bh=R(9897);const Vh=((t,n)=>{let e=null;return()=>{if(null!==e)return e;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return e=(t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const I=n.get(m);if("number"==typeof I){const P=r.get(I);if(void 0===P||P.timerId!==m||P.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I()}}else if("timeout"===_){const I=e.get(m);if("number"==typeof I){const P=r.get(I);if(void 0===P||P.timerId!==m||P.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I(),e.delete(m)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:I,timerType:P}=_;r.delete(m),"interval"===P?n.delete(I):e.delete(I)}}}),{clearInterval:f=>{const m=(0,Bh.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),n.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,Bh.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,Bh.generateUniqueNumber)(n);return n.set(_,()=>{f(),"function"==typeof n.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,Bh.generateUniqueNumber)(e);return e.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),e}})();var pl=(()=>{return(t=pl||(pl={}))[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout",pl;var t})();class UM{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return pl.animationFrame}}class Cj{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>Vh().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){var t;void 0!==this.handle&&(t=this.handle,Vh().clearTimeout(t),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return pl.timeout}}const Sj=[135,135,105],Ej=[0,0,0],hl=new Array(16).fill(0).map((t,n)=>Ej.map((e,r)=>Math.floor((n*e+(15-n)*Sj[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),Ev=hl.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var oe=(()=>{return(t=oe||(oe={})).palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m520="PalmM520",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.handera330c="HandEra330c",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70",oe;var t})(),ml=(()=>{return(t=ml||(ml={})).sdcard="sdcard",t.memorystick="memorystick",t.none="none",ml;var t})();function Jd(t){switch(t){case oe.i710:case oe.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.handera330:case oe.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case oe.pegS300:case oe.pegS320:case oe.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case oe.pegT600c:case oe.pegT400:case oe.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case oe.pegN600c:case oe.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Dv(t){switch(t){case oe.pilot:case oe.palmPilot:case oe.iii:case oe.palmV:case oe.palmVx:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.m125:case oe.m500:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:case oe.i705:case oe.handera330:case oe.pegS300:case oe.pegS320:case oe.pegT400:return!1;default:return!0}}function GM(t){switch(t){case oe.pilot:return"Pilot";case oe.palmPilot:return"Palm Pilot";case oe.iii:return"Palm III";case oe.m500:return"Palm m500";case oe.m505:return"Palm m505";case oe.m515:return"Palm m515";case oe.m520:return"Palm m520";case oe.palmVx:return"Palm Vx";case oe.iiix:return"Palm IIIx";case oe.iiixe:return"Palm IIIxe";case oe.iiie:return"Palm IIIe";case oe.palmV:return"Palm V";case oe.palmVII:return"Palm VII";case oe.palmVIIEZ:return"Palm VII EZ";case oe.palmVIIx:return"Palm VIIx";case oe.iiic:return"Palm IIIc";case oe.m100:return"Palm m100";case oe.m105:return"Palm m105";case oe.m125:return"Palm m125";case oe.m130:return"Palm m130";case oe.i705:return"Palm i705";case oe.i710:return"Tungsten W";case oe.handera330:return"Handera 330";case oe.handera330c:return"Handera 330c";case oe.pegS300:return"Sony PEG-S300";case oe.pegS320:return"Sony PEG-S320";case oe.pegT400:return"Sony PEG-T400 series";case oe.pegN600c:return"Sony PEG-N600C series";case oe.pegT600c:return"Sony PEG-T600C series";case oe.pegN700c:return"Sony PEG-N700C series";case oe.pegT650c:return"Sony PEG-T650C series";case oe.pegNR70:return"Sony PEG-NR70 series";case oe.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function zM(t){switch(t){case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:return ml.sdcard;case oe.pegS300:case oe.pegS500c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.pegT650c:case oe.pegNR70:return ml.memorystick;default:return ml.none}}class WM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class Mj{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const Lj=new Error("transaction timeout"),ZM=new Error("session does not match emulation");let ef=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.ngZone=s,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ke.Z)(function*(){try{yield a.triggerSnapshotUnguarded()}finally{a.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Vo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,ke.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ke.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===ZM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===Sv)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,ke.Z)(function*(){const r=e.db.transaction([dl,fl,Va,ta,ls,Xd],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw ZM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield Kn(r.objectStore(ls).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let f=!1;const m=performance.now();let _=0,I=0,P=0;const Y=setTimeout(()=>{f=!0;try{r.abort()}catch{}c(Lj)},6e3);r.oncomplete=()=>{clearTimeout(Y),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:P,timeBlocking:I-_,timeTotal:performance.now()-m})},r.onerror=()=>{clearTimeout(Y),c(new Error(r.error?.message))};try{_=performance.now(),P=e.saveDirtyMemory(r),o&&(P+=e.saveDirtyStorage(o,r)),e.saveSession(r),I=performance.now()}catch(Re){throw f||(clearTimeout(Y),r.abort()),Re}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(dl),i=e.objectStore(fl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let c=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const I=PM(a.subarray(256*r,256*(r+1)));"number"==typeof I?o.put(I,[this.sessionId,r]):(this.pages[r].set(I),o.put(this.pages[r],[this.sessionId,r])),c++}r++}else r+=8;return c}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Hr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,c=0;const f=r.objectStore(ta),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let I=1;I<256&&!(s>=m);I<<=1){if(this.cardDirtyPages[_]&I){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const P=this.cardPagePool[a++];P.set(i.subarray(2048*s,2048*(s+1))),f.put(P,[e.id,s]),c++}s++}else s+=8;return 8*c}saveSession(e){const r=e.objectStore(Va);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(De(Bn),De(Ba),De(tc),De(Yd),De(dt))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $j(t,n){1&t&&(fe(0,"p",11),et(1," ERROR: URL must be served via HTTPS. "),te())}function Bj(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(qc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let Vj=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(qc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(qc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Zp({url:new Ho("",Bj)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3,"Enter download URL"),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.continue()}),et(6,"OK"),te()(),fe(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),et(9,"Cancel"),te()()()(),fe(10,"ion-content",5)(11,"form",6),lt("keydown",function(i){return r.formKeyDown(i)}),fe(12,"p"),et(13," Please enter the URL from which to download: "),te(),fe(14,"ion-item",7)(15,"ion-label",8),et(16,"URL"),te(),ft(17,"ion-input",9),te(),Kt(18,$j,2,0,"p",10),fe(19,"p"),et(20," Note that the remote server needs to support the CORS protocol. "),te()()()),2&e&&(rt(5),it("disabled",r.formGroup.invalid),rt(6),it("formGroup",r.formGroup),rt(7),it("ngIf",r.isMixedContent))},dependencies:[Bo,ts,ns,rs,os,Ql,ei,is,ss,as,Xl,Ul,Hl,jl,Ra,il],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function Iv(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function KM(t){return`${Iv(t.name)}.bin`}function YM(t,n){return`backup_${Iv(t.name)}${n?"_with_rom":""}.zip`}function Mv(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function XM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let Hj=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Zp({username:new Ho(e?.username??""),password:new Ho(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(C(Bi))},t.\u0275cmp=y({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3,"Authenticate"),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.saveAndContinue()}),et(6,"OK"),te()(),fe(7,"ion-buttons",3)(8,"ion-button",2),lt("click",function(){return r.onCancel()}),et(9,"Cancel"),te()()()(),fe(10,"ion-content",4)(11,"form",5),lt("keydown",function(i){return r.formKeyDown(i)}),fe(12,"p"),et(13," The server requires authentication. "),te(),fe(14,"ion-item",6)(15,"ion-label",7),et(16,"Username"),te(),ft(17,"ion-input",8),te(),fe(18,"ion-item",6)(19,"ion-label",7),et(20,"Password"),te(),ft(21,"ion-input",9),te()()()),2&e&&(rt(11),it("formGroup",r.formGroup))},dependencies:[ts,ns,rs,os,Ql,ei,is,ss,as,Xl,Ul,Hl,jl,Ra,il],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),QM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,ke.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(qc())("string"==typeof e?e:e.url);let c,f,m=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),f=window.setTimeout(()=>c.present(),i));const _=o.kvsService.kvs.credentials[a.origin],I=new AbortController,P=window.setTimeout(()=>I.abort(),s),Y=yield fetch(e,{...o.requestInit(r),signal:I.signal,headers:{...r?.headers||{},...m&&_?{Authorization:"Basic "+btoa(`${_.username}:${_.password}`)}:{}}});if(clearTimeout(P),401===Y.status){if(!m&&_){m=!0;continue}if(c&&(c.dismiss(),clearTimeout(f),i=0,c=void 0),m=!0,yield o.authenticate(a.origin))continue}return Y}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,ke.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:Hj,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(De(Jl),De(Bi),De(ks))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Uj=R(3272),Gj=R.n(Uj);function kv(t){const n=(t>>>13)+(t%8192>0?1:0);return(n>>>3)+(n%8>0?1:0)}const JM=[oe.palmPilot,oe.pilot,oe.iii,oe.palmVx,oe.palmV,oe.palmVII,oe.palmVIIEZ,oe.palmVIIx,oe.iiixe,oe.iiix,oe.iiie,oe.m500,oe.m505,oe.m515,oe.m520,oe.iiic,oe.m100,oe.m105,oe.m125,oe.m130,oe.i705,oe.i710,oe.handera330,oe.handera330c,oe.pegS300,oe.pegS320,oe.pegS500c,oe.pegT400,oe.pegN600c,oe.pegT600c,oe.pegN700c,oe.pegT650c,oe.pegNR70];function Yt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Gt{constructor(n){this.module=n,this.fatalErrorEvent=new Vo.j,this.pwmUpdateEvent=new Vo.j,this.proxyDisconnectEvent=new Vo.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,ke.Z)(function*(){return new Gt(yield Gj()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:JM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,ke.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,ke.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const m=(new TextEncoder).encode(JSON.stringify(n.metadata));c=m.length,a=this.copyIn(m)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!JM.includes(c))return void console.warn(`unsupported device ${c}`);let f;const m=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=kv(this.cloudpilot.GetCardSize(n));return this.module.HEAPU8.subarray(e,e+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}Q([Yt()],Gt.prototype,"getRomInfo",null),Q([Yt()],Gt.prototype,"initializeSession",null),Q([Yt()],Gt.prototype,"cyclesPerSecond",null),Q([Yt()],Gt.prototype,"runEmulation",null),Q([Yt()],Gt.prototype,"getFrame",null),Q([Yt()],Gt.prototype,"isScreenDirty",null),Q([Yt()],Gt.prototype,"markScreenClean",null),Q([Yt()],Gt.prototype,"minRamForDevice",null),Q([Yt()],Gt.prototype,"framebufferSizeForDevice",null),Q([Yt()],Gt.prototype,"totalMemorySizeForDevice",null),Q([Yt()],Gt.prototype,"queuePenMove",null),Q([Yt()],Gt.prototype,"queuePenUp",null),Q([Yt()],Gt.prototype,"queueButtonDown",null),Q([Yt()],Gt.prototype,"queueButtonUp",null),Q([Yt()],Gt.prototype,"queueKeyboardEvent",null),Q([Yt()],Gt.prototype,"isPowerOff",null),Q([Yt()],Gt.prototype,"isUiInitialized",null),Q([Yt()],Gt.prototype,"isSetupComplete",null),Q([Yt()],Gt.prototype,"getOSVersion",null),Q([Yt()],Gt.prototype,"reset",null),Q([Yt()],Gt.prototype,"resetNoExtensions",null),Q([Yt()],Gt.prototype,"resetHard",null),Q([Yt()],Gt.prototype,"installDb",null),Q([Yt()],Gt.prototype,"getPalette2bitMapping",null),Q([Yt()],Gt.prototype,"getMemory",null),Q([Yt()],Gt.prototype,"getMemory32",null),Q([Yt()],Gt.prototype,"getDirtyPages",null),Q([Yt()],Gt.prototype,"loadMemory",null),Q([Yt()],Gt.prototype,"getRomImage",null),Q([Yt()],Gt.prototype,"getSavestate",null),Q([Yt()],Gt.prototype,"saveState",null),Q([Yt()],Gt.prototype,"loadState",null),Q([Yt()],Gt.prototype,"getHotsyncName",null),Q([Yt()],Gt.prototype,"setClockFactor",null),Q([Yt()],Gt.prototype,"setHotsyncName",null),Q([Yt()],Gt.prototype,"setClipboardIntegration",null),Q([Yt()],Gt.prototype,"getClipboardIntegration",null),Q([Yt()],Gt.prototype,"isSuspended",null),Q([Yt()],Gt.prototype,"getSuspendKind",null),Q([Yt()],Gt.prototype,"cancelSuspend",null),Q([Yt()],Gt.prototype,"getSuspendContextClipboardCopy",null),Q([Yt()],Gt.prototype,"getSuspendContextClipboardPaste",null),Q([Yt()],Gt.prototype,"setNetworkRedirection",null),Q([Yt()],Gt.prototype,"getNetworkRedirection",null),Q([Yt()],Gt.prototype,"getSuspendContextNetworkConnect",null),Q([Yt()],Gt.prototype,"getSuspendContextNetworkRpc",null),Q([Yt()],Gt.prototype,"copyBuffer",null),Q([Yt()],Gt.prototype,"freeBuffer",null),Q([Yt()],Gt.prototype,"setHotsyncNameManagement",null),Q([Yt()],Gt.prototype,"resolveBuffer",null),Q([Yt()],Gt.prototype,"serializeSessionImage",null),Q([Yt()],Gt.prototype,"deserializeSessionImage",null),Q([Yt()],Gt.prototype,"launchAppByName",null),Q([Yt()],Gt.prototype,"launchAppByDbHeader",null),Q([Yt()],Gt.prototype,"deviceSupportsCardSize",null),Q([Yt()],Gt.prototype,"clearExternalStorage",null),Q([Yt()],Gt.prototype,"allocateCard",null),Q([Yt()],Gt.prototype,"getCardData",null),Q([Yt()],Gt.prototype,"getCardDirtyPages",null),Q([Yt()],Gt.prototype,"getMountedKey",null),Q([Yt()],Gt.prototype,"mountCard",null),Q([Yt()],Gt.prototype,"removeCard",null),Q([Yt()],Gt.prototype,"remountCards",null),Q([Yt()],Gt.prototype,"getCardSupportLevel",null);let na=(()=>{class t{constructor(){this.cloudpilot=Gt.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fu=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,r){if("drop"!==e.type||!e.dataTransfer?.files)return;const o=Array.from(e.dataTransfer.files).map(this.readFile.bind(this));Promise.all(o).then(i=>i.filter(s=>!!s)).then(i=>i.length>0&&r(i))}saveSession(e){var r=this;return(0,ke.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:XM(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);f?r.saveFile(KM(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,ke.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const m={deviceId:e.device,metadata:XM(e),rom:s,memory:a,savestate:c},_=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(m);_&&o.saveFile(KM(e),_)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,ke.Z)(function*(){let i;try{i=new(qc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,ke.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)},{text:"Cancel"}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,ke.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:Vj,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){var o=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var i=(0,ke.Z)(function*(s){const a=s.target;if(!a?.files)return;const c=Array.from(a.files).map(o.readFile.bind(o));Promise.all(c).then(f=>f.filter(m=>!!m)).then(f=>f.length>0&&r(f))});return function(s){return i.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){return new Promise(r=>{const o=new FileReader;o.onload=()=>r({content:new Uint8Array(o.result),name:e.name}),o.onerror=()=>{console.warn(o.error),r(void 0)},o.readAsArrayBuffer(e)})}}return t.\u0275fac=function(e){return new(e||t)(De(Bn),De(Jl),De(qd),De(Bi),De(ks),De(Nr),De(QM),De(na))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tv=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Vo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(De(dt))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hh=new Error("permission denied");let ek=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,ke.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===Hh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,ke.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?Hh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,ke.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,ke.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,ke.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ke.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===Hh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ke.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?Hh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,ke.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,ke.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,ke.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,ke.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,ke.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(De(au),De(Nr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Wj="https:"===window.location.protocol?8667:8666,qj=/^[\da-z\-\.]+$/i,Zj=/^[\da-z\-\.]+:\d+$/i;function xv(t){if(!t)return;const n=window.location.protocol;if(t.match(qj))return`${n}//${t}:${Wj}`;if(t.match(Zj))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function Kj(t){return void 0!==xv(t.value)?null:{proxyAddress:"invalid"}}let Av=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,ke.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=xv(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Cv(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Vo.j,this.mutex=new ea,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,ke.Z)(function*(){const i=xv(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(De(Bi),De(Nr),De(dt),De(QM))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nk=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rk=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Jj=R(9084),ok=R.n(Jj);function Pv(){return(Pv=(0,ke.Z)(function*(t){const n=yield Rv.create();if(n.mkfs(t))return n.getImage()})).apply(this,arguments)}const ik="fstools_web.wasm",sk=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(ik)):fetch(ik).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class Rv{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,ke.Z)(function*(){return new Rv(yield ok()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,ke.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield sk,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class jh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,ke.Z)(function*(){const e=yield ok()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,ke.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield sk,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new jh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=kv(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(n,n+e)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var Mr=(()=>{return(t=Mr||(Mr={})).dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable",Mr;var t})(),_r=(()=>{return(t=_r||(_r={})).portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180",_r;var t})();let tf=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new ea,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,ke.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:_r.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,ke.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:_r.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,ke.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,ke.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ke.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ke.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(De(na),De(Bn),De(Jl))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var t6=R(7971),n6=R.n(t6);function r6(t){return{readonly:0!=(1&t),hidden:0!=(2&t),system:0!=(4&t)}}function ak(t,n){const e=t.GetName(),r=t.GetModifiedTS();return{path:n,name:e,size:t.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:t.IsDirectory(),attributes:r6(t.GetAttributes())}}class Fv{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,ke.Z)(function*(){return new Fv(yield n6()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}allocateImage(n){this.vfsNative.AllocateImage(n>>>9)}mountImage(n){return this.vfsNative.MountImage(n)}unmountImage(n){this.vfsNative.UnmountImage(n)}getPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}getImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}getDirtyPagesForSlot(n){const e=this.module.getPointer(this.vfsNative.GetDirtyPages(n));if(0===e)return;const r=kv(this.vfsNative.GetSize(n));return this.module.HEAPU8.subarray(e,e+r)}readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntry();r.push(ak(o,`${n.replace(/\/*$/,"")}/${o.GetName()}`)),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}rename(n,e){return this.vfsNative.RenameFile(n,e)}chmod(n,e){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(e.hidden,2),i(e.readonly,1),i(e.system,4),this.vfsNative.ChmodFile(n,r,o)}stat(n){const e=this.vfsNative.StatFile(n);return 0!==e?{result:e,entry:void 0}:{entry:ak(this.vfsNative.GetEntry(),n),result:e}}bytesFree(n){return this.vfsNative.BytesFree(n)}bytesTotal(n){return this.vfsNative.BytesTotal(n)}}var o6=R(5541),lk=R.n(o6),gl=(()=>{return(t=gl||(gl={}))[t.none=0]="none",t[t.read=1]="read",t[t.write=2]="write",gl;var t})();let Ov=(()=>{class t{constructor(e,r,o){this.storageService=e,this.storageCardContext=r,this.alertService=o,this.onReleaseCard=new Vo.j,this.vfs=Fv.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}mountCardUnchecked(e,r,o){var i=this;return(0,ke.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.storageCardContext.claim(e,Hr.vfs),i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&(yield i.releaseCard(i.mountedCard.id));const a=yield i.vfs;a.allocateImage(s.size);const c=a.getPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,Hr.vfs),!!a.mountImage(0)&&(i.mountedCard=s,i.bytesFree=a.bytesFree(0),i.bytesTotal=a.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,ke.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).unmountImage(0),r.mountedCard=void 0,r.storageCardContext.release(e,Hr.vfs),r.onReleaseCard.dispatch(e))})()}readdir(e){var r=this;return(0,ke.Z)(function*(){const o=r.normalizePath(e);if(!r.directoryCache.has(o)){const i=(yield r.vfs).readdir(e);0===i.error&&r.directoryCache.set(o,i.entries)}return r.directoryCache.get(o)})()}updateFileEntry(e,r){var o=this;return(0,ke.Z)(function*(){const i=yield o.vfs;e=o.normalizePath(e);const{result:s,entry:a}=i.stat(e);if(0!==s)return yield o.alertService.errorMessage(`Unable to stat ${e}.`),gl.read;if(void 0!==r.name&&r.name!==a.name){if(r.name.indexOf("/")>=0)throw new Error("bad file name");switch(i.rename(e,`${o.dirname(e)}/${r.name}`)){case 0:break;case 6:return yield o.alertService.errorMessage("Invalid file name."),gl.read;default:return gl.write}}return void 0===r.attributes||lk()(r.attributes,a.attributes)||0===i.chmod(e,r.attributes)?(o.directoryCache.delete(o.dirname(e)),gl.none):gl.write})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}}return t.\u0275fac=function(e){return new(e||t)(De(Bn),De(Yd),De(Nr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oo=(()=>{return(t=oo||(oo={}))[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128",oo;var t})();function ck(){return Cv().replace(/-/g,"")}let pu=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,I){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=f,this.fileService=m,this.vfsService=_,this.storageCardContext=I,this.loading=!0,this.cards=[],this.updateMutex=new ea,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,ke.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function e6(t){return Pv.apply(this,arguments)}(function i6(t){switch(t){case oo.mb4:return 4;case oo.mb8:return 8;case oo.mb16:return 16;case oo.mb32:return 32;case oo.mb64:return 64;case oo.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:ck(),name:e,size:4*a.length,status:Mr.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromFile(e,r,o){var i=this;return(0,ke.Z)(function*(){const s={storageId:ck(),name:e,size:r.content.length,status:Mr.clean,dontFsckAutomatically:o},a=new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[f,m]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(m,f)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Hr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,ke.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,Hr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,Hr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,ke.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:Mr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,Hr.cloudpilot)})()}checkCard(e){var r=this;return(0,ke.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,Hr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,ke.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,ke.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=Mr.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,ke.Z)(function*(){yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e)})()}saveCard(e,r){var o=this;return(0,ke.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a;try{yield s.present();const c=o.mountedInSession(e);c&&c.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),a=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId)),a||(a=new Uint32Array(i.size>>>2),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e)))}finally{s.dismiss()}o.fileService.saveFile(r,new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var r=this;return(0,ke.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ke.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ke.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,ke.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,ke.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===Mr.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,Hr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case Mr.clean:break;case Mr.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Mr.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case Mr.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,ke.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,Hr.fstools);const s=yield jh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),Hr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:Mr.clean}),r.storageCardContext.release(e,Hr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:Mr.unformatted}),r.storageCardContext.release(e,Hr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:Mr.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:Mr.unfixable}),r.storageCardContext.release(e,Hr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,ke.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),Hr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:Mr.clean}),o.storageCardContext.release(e,Hr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,ke.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield jh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:Mr.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:Mr.clean}]:[e,{...r,status:Mr.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:Mr.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:Mr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,ke.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:Mr.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,ke.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:Mr.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,ke.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(De(tf),De(Bn),De(Ba),De(na),De(Jl),De(ef),De(Nr),De(tc),De(fu),De(Ov),De(Yd))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ra=(()=>{class t extends class Fj{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new Vo.j,this.pwmUpdateEvent=new Vo.j,this.emulationStateChangeEvent=new Vo.j,this.powerOffChangeEvent=new Vo.j,this.deviceId=oe.m515,this.clockEmulator=0,this.scheduler=new UM(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new Mj(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new WM(20),this.timePerFrameAverage=new WM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=Jd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=Jd(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===pl.animationFrame?new UM(n=>this.onSchedule(n)):new Cj(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=Jd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=Dv(n)?"white":Ev[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=hl[15],i=hl[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[hl[15&o],hl[o>>>4&15],hl[o>>>8&15],hl[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=hl[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,f,m,_,I,P,Y,Re,Ke,Ye,gt,tt){var ht;super(),ht=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=f,this.modalWatcher=m,this.clipboardService=_,this.kvsService=I,this.proxyService=P,this.buttonService=Y,this.bootstrapService=Re,this.cloudpilotService=Ke,this.storageCardService=Ye,this.storageCardContext=gt,this.app=tt,this.switchSession=Cn=>this.mutex.runExclusive((0,ke.Z)(function*(){if(Cn===ht.emulationState.getCurrentSession()?.id)return!0;yield ht.stopUnchecked(),yield ht.bootstrapService.hasRendered();const mo=yield ht.loadingController.create({message:"Loading..."});yield mo.present();try{const Vi=yield ht.storageService.getSession(Cn);if(!Vi)throw new Error(`invalid session ${Cn}`);ht.emulationState.setCurrentSession(void 0);const sf=yield ht.cloudpilotService.cloudpilot;if(!(yield ht.restoreSession(Vi,sf)))return ht.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;ht.emulationState.setCurrentSession(Vi),function HH(t){localStorage.setItem(Oh,t+"")}(Cn)}finally{yield mo.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ke.Z)(function*(){!ht.emulationState.getCurrentSession()||ht.running||ht.errorService.hasFatalError()||!ht.cloudpilotInstance||(yield ht.kvsService.mutex.runExclusive(()=>ht.updateFeatures()),ht.doResume(),ht.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ke.Z)(function*(){ht.doPause(),!ht.errorService.hasFatalError()&&ht.emulationState.getCurrentSession()&&(yield ht.snapshotService.waitForPendingSnapshot(),yield ht.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Cn,mo])=>this.mutex.runExclusive((0,ke.Z)(function*(){const Vi=ht.emulationState.getCurrentSession();Cn===Vi?.id&&(void 0!==Vi.mountedCard&&void 0===mo&&ht.storageCardContext.release(Vi.mountedCard,Hr.cloudpilot),ht.emulationState.setCurrentSession(mo),ht.emulationState.getCurrentSession()||(xM(),ht.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ke.Z)(function*(){const Cn=ht.emulationState.getCurrentSession();Cn&&ht.fileService.emergencySaveSession(Cn,yield ht.cloudpilotService.cloudpilot)})),this.mutex=new ea,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Cn=>{Cn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Cn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const sn=function VH(){const t=localStorage.getItem(Oh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==sn&&!oD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(sn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?pl.timeout:pl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ke.Z)(function*(){!e.emulationState.getCurrentSession()||(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,ke.Z)(function*(){try{yield r.switchSession(e)}catch{Js&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,ke.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);return r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!!o.openSession(r,i,e.device,s,a)&&(o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot),!0)})()}}return t.\u0275fac=function(e){return new(e||t)(De(Bn),De(dt),De(Jl),De(Ba),De(ef),De(tc),De(fu),De(Nr),De(Tv),De(ek),De(Bi),De(Av),De(nk),De(rk),De(na),De(pu),De(Yd),De(Ja))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yl=new St(B),c6={connector:()=>new Qe};function uk(t,n=c6){const{connector:e}=n;return Ee((r,o)=>{const i=e();S(t(function l6(t){return new St(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function dk(t,n){return n?e=>Sd(n.pipe(es(1),function f6(){return Ee((t,n)=>{t.subscribe(Be(n,B))})}()),e.pipe(dk(t))):Xt((e,r)=>t(e,r).pipe(es(1),I_(e)))}const nf="Service workers are disabled or not supported by this browser";class Uh{constructor(n){if(this.serviceWorker=n,n){const r=Cd(n,"controllerchange").pipe(je(()=>n.controller)),i=Sd(th(()=>cn(n.controller)),r);this.worker=i.pipe(Ko(m=>!!m)),this.registration=this.worker.pipe(Yo(()=>n.getRegistration()));const f=Cd(n,"message").pipe(je(m=>m.data)).pipe(Ko(m=>m&&m.type)).pipe(function d6(t){return t?n=>uk(t)(n):n=>function u6(t,n){const e=T(t)?t:()=>t;return T(n)?uk(n,{connector:e}):r=>new E_(r,e)}(new Qe)(n)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function h6(t){return th(()=>Yc(new Error(t)))}(nf)}postMessage(n,e){return this.worker.pipe(es(1),Xo(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(Ko(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(es(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ko(e=>e.nonce===n),es(1),je(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let m6=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new Qe,!e.isEnabled)return this.messages=yl,this.notificationClicks=yl,void(this.subscription=yl);this.messages=this.sw.eventsOfType("PUSH").pipe(je(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(je(o=>o.data)),this.pushManager=this.sw.registration.pipe(je(o=>o.pushManager));const r=this.pushManager.pipe(Yo(o=>o.getSubscription()));this.subscription=Go(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(nf));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Yo(s=>s.subscribe(r)),es(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(es(1),Yo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(nf))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Uh))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),Nv=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=yl,this.available=yl,this.activated=yl,void(this.unrecoverable=yl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ko(r=>"VERSION_READY"===r.type),je(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(nf));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(nf));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(De(Uh))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class Lv{}const fk=new dn("NGSW_REGISTER_SCRIPT");function g6(t,n,e,r){return()=>{if(!Ta(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=cn(null);break;case"registerWithDelay":o=pk(+a[0]||0);break;case"registerWhenStable":o=a[0]?Go(hk(t),pk(+a[0])):hk(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(dt).runOutsideAngular(()=>o.pipe(es(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function pk(t){return cn(null).pipe(function p6(t,n=wM){const e=CM(t,n);return dk(()=>e)}(t))}function hk(t){return t.get(Ja).isStable.pipe(Ko(e=>e))}function y6(t,n){return new Uh(Ta(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let _6=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:fk,useValue:e},{provide:Lv,useValue:r},{provide:Uh,useFactory:y6,deps:[Lv,Wc]},{provide:Ll,useFactory:g6,deps:[Vr,fk,Lv,Wc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({providers:[m6,Nv]}),t})(),mk=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ke.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==nc&&(yield a.kvsService.set({version:nc,previousVersion:c,latestVersion:nc}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${nc}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=nc})),this.mutex=new ea,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ke.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ke.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===nc){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ke.Z)(function*(){yield(yield e.modalController.create({component:Qd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(De(Bi),De(ra),De(Nr),De(ks),De(Nv))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b6=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(C(HM),C(mk),C(rk))},t.\u0275cmp=y({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(fe(0,"ion-app"),ft(1,"ion-router-outlet"),te())},dependencies:[HI,zd]}),t})(),gk=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(fe(0,"div"),et(1,"Dummy"),te())},encapsulation:2}),t})(),yk=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(De(qy),De(zr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $v=oe.m515,w6=Ev[2],C6=Ev[0],hu="rgba(0,0,0,0.2)";function _k(t){const n=Jd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function I6(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const A6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function P6(t){const e=o=>function k6(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,ke.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,ke.Z)(function*(){if(!i){const s=(yield t)[o];i=function T6(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of A6)r[o]=e(o);return r}let Gh=(()=>{class t extends class M6{constructor(n){this.skin=n,this.layout=_k($v),this.onResize=new Vo.j}get width(){switch(this.getOrientation()){case _r.portrait:case _r.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case _r.portrait:case _r.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case _r.landscape90:{const _=f;f=this.layout.height.frameDevice-c,c=_;break}case _r.landscape270:{const _=f;f=c,c=this.layout.width.frameDevice-_;break}case _r.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[c,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,ke.Z)(function*(){if(!n)return;e.layout=_k(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,ke.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,hu),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,hu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case _r.portrait:case void 0:break;case _r.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case _r.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case _r.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,ke.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,w6),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case oe.pegT600c:case oe.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case oe.pegN700c:case oe.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case oe.pegS320:case oe.pegS300:return this.skin.SILKSCREEN_PEG_S300;case oe.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case oe.pegT400:return this.skin.SILKSCREEN_PEG_T415;case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:return this.skin.SILKSCREEN_PILOT;case oe.m500:return this.skin.SILKSCREEN_M500;case oe.m505:case oe.m515:case oe.m520:return this.skin.SILKSCREEN_M515;case oe.iiic:return this.skin.SILKSCREEN_IIIC;case oe.m100:case oe.m105:case oe.m125:return this.skin.SILKSCREEN_M100;case oe.m130:return this.skin.SILKSCREEN_M130;case oe.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case oe.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case oe.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case oe.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case oe.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case oe.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case oe.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case oe.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case oe.pegT400:case oe.pegT600c:case oe.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case oe.pilot:case oe.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case oe.m500:return this.skin.HARD_BUTTONS_M500;case oe.m505:case oe.m515:case oe.m520:return this.skin.HARD_BUTTONS_M515;case oe.iiic:return this.skin.HARD_BUTTONS_IIIC;case oe.m100:case oe.m105:return this.skin.HARD_BUTTONS_M100;case oe.m125:return this.skin.HARD_BUTTONS_M125;case oe.m130:return this.skin.HARD_BUTTONS_M130;case oe.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case oe.iii:case oe.iiix:case oe.iiixe:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case oe.iiie:return this.skin.HARD_BUTTONS_IIIE;case oe.i705:return this.skin.HARD_BUTTONS_I705;case oe.handera330c:case oe.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return Dv(this.getDeviceId())?"white":C6}frameColor(){return Dv(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(P6(R.e(4907).then(R.bind(R,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,ke.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ke.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,ke.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??$v}getOrientation(){return this.session?.deviceOrientation??_r.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function R6(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Jd(this.session?.device??$v).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bv=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(C(zr),C(Gh),C(Ba))},t.\u0275cmp=y({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(fe(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ft(4,"ion-icon",3),fe(5,"ion-label"),et(6,"Emulator"),te()(),fe(7,"ion-tab-button",4),ft(8,"ion-icon",5),fe(9,"ion-label"),et(10,"Sessions"),te()(),fe(11,"ion-tab-button",6),ft(12,"ion-icon",7),fe(13,"ion-label"),et(14,"Cards"),te()(),fe(15,"ion-tab-button",8),ft(16,"ion-icon",9),fe(17,"ion-label"),et(18,"Settings"),te()(),fe(19,"ion-tab-button",10),ft(20,"ion-icon",11),fe(21,"ion-label"),et(22,"About"),te()()()()()),2&e&&(rt(2),Ca("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[Jo,is,ov,GI,tM],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),rf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs,pv.forChild(),al,zl,Jp]}),t})(),F6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs,zl,al,rf,pv.forChild()]}),t})(),O6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs,zl,al,rf]}),t})(),N6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs,zl,al,Jp,rf]}),t})(),L6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs,zl,al,rf,Jp]}),t})(),$6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Zs,al,zl,Jp,rf]}),t})();function B6(t,n){if(1&t){const e=yr();fe(0,"ion-button",1),lt("click",function(){return nn(e),qt(Lt().onClick())}),ft(1,"ion-icon",2),te()}if(2&t){const e=Lt();rt(1),it("name",e.iconName)}}let zh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Js?"logo-apple-appstore":MM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(C(HM))},t.\u0275cmp=y({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&Kt(0,B6,2,1,"ion-button",0),2&e&&it("ngIf",r.show)},dependencies:[Bo,ts,Jo]}),t})();function V6(t,n){1&t&&(fe(0,"div",11),ft(1,"ion-spinner"),te())}function H6(t,n){1&t&&(fe(0,"div"),et(1,"app cached for offline use"),te())}let j6=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return nc}showChangelog(){var e=this;return(0,ke.Z)(function*(){yield(yield e.modalController.create({component:Qd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(C(ks),C(Nv))},t.\u0275cmp=y({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3,"About"),te(),fe(4,"ion-buttons",1),ft(5,"app-pwa-prompt"),te()()(),fe(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),et(10,"About"),te()()(),Kt(11,V6,2,0,"div",4),fe(12,"div",5)(13,"markdown",6),lt("load",function(){return r.loading=!1}),te()(),fe(14,"div",7),et(15),ft(16,"br"),fe(17,"a",8),lt("click",function(){return r.showChangelog()}),et(18,"Changelog"),te(),Kt(19,H6,2,0,"div",9),te(),ft(20,"img",10),te()),2&e&&(it("translucent",!0),rt(11),it("ngIf",r.loading),rt(4),Fi(" CloudpilotEmu version ",r.version," "),rt(4),it("ngIf",r.serviceWorkerAvailable))},dependencies:[Bo,ns,rs,os,jd,ss,as,zh,fv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function U6(t,n){if(1&t&&(fe(0,"ion-select-option",17),et(1),te()),2&t){const e=n.$implicit;it("value",e[0]),rt(1),Fi("",e[1]," ")}}function G6(t,n){if(1&t&&(fe(0,"ion-select-option",17),et(1),te()),2&t){const e=n.$implicit;it("value",e[0]),rt(1),Fi("",e[1]," ")}}function z6(t,n){if(1&t&&(fe(0,"ion-item",7)(1,"ion-label",8),et(2,"Hotsync name"),te(),ft(3,"ion-input",18),te()),2&t){const e=Lt();rt(3),it("placeholder",e.placeholder)}}let vk=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[_r.portrait,"Portrait"],[_r.landscape90,"Landscape 90\xb0"],[_r.landscape270,"Landscape 270\xb0"],[_r.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,GM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function Dj(t){switch(t){case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:case oe.palmVx:case oe.palmV:case oe.palmVIIEZ:case oe.palmVIIx:case oe.iiic:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.pegS300:case oe.pegS500c:return 16;case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:return 33;case oe.pegT650c:case oe.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Zp({name:new Ho(this.session.name,{validators:[r_.required,this.validateNameUnique]}),manageHotsyncName:new Ho(!this.session.dontManageHotsyncName),hotsyncName:new Ho(this.session.hotsyncName||""),device:new Ho({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Ho((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Ho(this.session.deviceOrientation||_r.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(C(tf),C(Nr))},t.\u0275cmp=y({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3,"Session settings"),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.save()}),et(6,"Save"),te()(),fe(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),et(9,"Cancel"),te()()()(),fe(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),fe(12,"h1"),et(13,"Session"),te(),fe(14,"ion-item",7)(15,"ion-label",8),et(16,"Session name"),te(),ft(17,"ion-input",9),te(),fe(18,"h1"),et(19,"Device"),te(),fe(20,"ion-item",7)(21,"ion-label",8),et(22,"Device type"),te(),fe(23,"ion-select",10),Kt(24,U6,2,2,"ion-select-option",11),te()(),fe(25,"ion-item",7)(26,"ion-label",8),et(27,"Orientation"),te(),fe(28,"ion-select",12),Kt(29,G6,2,2,"ion-select-option",11),te()(),fe(30,"ion-item",7)(31,"ion-label",13),et(32),te(),ft(33,"ion-range",14),te(),fe(34,"h1"),et(35,"Hotsync"),te(),fe(36,"ion-item",7)(37,"ion-label"),et(38,"Manage hotsync name"),te(),ft(39,"ion-toggle",15),te(),Kt(40,z6,4,1,"ion-item",16),te()()),2&e&&(rt(5),it("disabled",r.formGroup.invalid),rt(6),it("formGroup",r.formGroup),rt(13),it("ngForOf",r.deviceList),rt(5),it("ngForOf",r.orientations),rt(3),Qi(r.speedLabel),rt(8),it("ngIf",r.showHotsyncNameInput))},dependencies:[Bl,Bo,ts,ns,rs,os,Ql,ei,is,rv,kh,Th,ss,Ud,as,Vd,Hd,Xl,Ul,Hl,jl,C_,Ra,il],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),W6=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,ke.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,ke.Z)(function*(m){for(m.Init(e);m.IsInProgress();){const _=m.GetCurrentDatabase();m.Save()||s.push(_),yield new Promise(I=>setTimeout(I,0))}a=c.getArchive(m)});return function(m){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${Mv(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(YM(o,e),a)},"Cancel"):r.fileService.saveFile(YM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(De(ra),De(Jl),De(ef),De(fu),De(Ba),De(Nr),De(na))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const q6=window.AudioContext||window.webkitAudioContext;function Vv(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let Hv=(()=>{class t extends class Z6{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,ke.Z)(function*(){if(!e.initialized){try{e.context=new q6}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ke.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield Vv(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Vv(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ke.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new ea,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Js||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Js||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,ke.Z)(function*(){!n.context||(yield Vv(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(De(ra),De(Bi),De(Tv))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wk=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(De(ra),De(dt))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Y6(t,n){if(1&t){const e=yr();fe(0,"ion-item",4),lt("click",function(){return nn(e),qt(Lt().power())}),fe(1,"ion-label"),et(2,"Power"),te(),ft(3,"ion-icon",5),te()}if(2&t){const e=Lt();it("detail",!1)("disabled",!e.emulationService.isRunning())}}function X6(t,n){if(1&t){const e=yr();fe(0,"ion-item",4),lt("click",function(){return nn(e),qt(Lt().hotsync())}),fe(1,"ion-label"),et(2,"Hotsync"),te(),ft(3,"ion-icon",6),te()}if(2&t){const e=Lt();it("detail",!1)("disabled",!e.emulationService.isRunning())}}function Q6(t,n){if(1&t){const e=yr();fe(0,"ion-item",4),lt("click",function(){return nn(e),qt(Lt().reset())}),fe(1,"ion-label"),et(2,"Reset"),te(),ft(3,"ion-icon",7),te()}if(2&t){const e=Lt();it("detail",!1)("disabled",!e.emulationService.isRunning())}}function J6(t,n){if(1&t){const e=yr();fe(0,"ion-item",8),lt("click",function(){return nn(e),qt(Lt().insertCard())}),fe(1,"ion-label"),et(2),te(),ft(3,"ion-icon",9),te()}if(2&t){const e=Lt();it("detail",!1),rt(2),Fi("Insert ",e.hasMemorystick?"stick":"SD card","")}}function eU(t,n){if(1&t){const e=yr();fe(0,"ion-item",8),lt("click",function(){return nn(e),qt(Lt().ejectCard())}),fe(1,"ion-label"),et(2),te(),ft(3,"ion-icon",10),te()}if(2&t){const e=Lt();it("detail",!1),rt(2),Fi("Eject ",e.hasMemorystick?"stick":"SD card","")}}function tU(t,n){if(1&t){const e=yr();fe(0,"ion-item",8),lt("click",function(){return nn(e),qt(Lt().mute(!1))}),fe(1,"ion-label"),et(2,"Enable audio"),te(),ft(3,"ion-icon",11),te()}2&t&&it("detail",!1)}function nU(t,n){if(1&t){const e=yr();fe(0,"ion-item",8),lt("click",function(){return nn(e),qt(Lt().mute(!0))}),fe(1,"ion-label"),et(2,"Disable audio"),te(),ft(3,"ion-icon",12),te()}2&t&&it("detail",!1)}function rU(t,n){if(1&t){const e=yr();fe(0,"ion-item",4),lt("click",function(){return nn(e),qt(Lt().backup())}),fe(1,"ion-label"),et(2,"Save backup"),te(),ft(3,"ion-icon",13),te()}if(2&t){const e=Lt();it("detail",!1)("disabled",e.backupDisabled)}}function oU(t,n){if(1&t){const e=yr();fe(0,"ion-item",8),lt("click",function(){return nn(e),qt(Lt().rotate())}),fe(1,"ion-label"),et(2,"Rotate"),te(),ft(3,"ion-icon",14),te()}2&t&&it("detail",!1)}function iU(t,n){if(1&t){const e=yr();fe(0,"ion-item",8),lt("click",function(){return nn(e),qt(Lt().editSettings())}),fe(1,"ion-label"),et(2,"Settings"),te(),ft(3,"ion-icon",15),te()}2&t&&it("detail",!1)}function sU(t){switch(t){case _r.portrait:case void 0:return _r.landscape90;case _r.landscape90:return _r.portrait180;case _r.portrait180:return _r.landscape270;case _r.landscape270:return _r.portrait;default:throw new Error("cannot happen")}}let aU=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,I,P,Y,Re,Ke,Ye,gt,tt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=f,this.modalController=m,this.sessionService=_,this.performanceWatchdogService=I,this.canvasDisplayService=P,this.cloudpilotService=Y,this.storageCardService=Re,this.alertService=Ke,this.alertController=Ye,this.storageService=gt,this.errorService=tt,this.showHelp=()=>{}}reset(){var e=this;return(0,ke.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ke.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function Ij(t){return[oe.i705,oe.i710,oe.pegNR70,oe.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&zM(e.device)!==ml.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&zM(e.device)===ml.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ke.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:vk,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,ke.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,ke.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:sU(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ke.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ke.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(C(ra),C(Ba),C(W6),C(nk),C(qd),C(ec),C(Hv),C(Bi),C(ks),C(tf),C(wk),C(Gh),C(na),C(pu),C(Nr),C(au),C(Bn),C(tc))},t.\u0275cmp=y({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(fe(0,"ion-list"),Kt(1,Y6,4,2,"ion-item",0),Kt(2,X6,4,2,"ion-item",0),Kt(3,Q6,4,2,"ion-item",0),Kt(4,J6,4,2,"ion-item",1),Kt(5,eU,4,2,"ion-item",1),Kt(6,tU,4,1,"ion-item",1),Kt(7,nU,4,1,"ion-item",1),Kt(8,rU,4,2,"ion-item",0),Kt(9,oU,4,1,"ion-item",1),Kt(10,iU,4,1,"ion-item",1),fe(11,"ion-item",2),lt("click",function(){return r.help()}),fe(12,"ion-label"),et(13,"Help"),te(),ft(14,"ion-icon",3),te()()),2&e&&(rt(1),it("ngIf",r.hasActiveSession&&!r.powerDisabled),rt(1),it("ngIf",r.hasActiveSession),rt(1),it("ngIf",r.hasActiveSession),rt(1),it("ngIf",r.supportsStorageCard&&!r.hasMountedCard),rt(1),it("ngIf",r.supportsStorageCard&&r.hasMountedCard),rt(1),it("ngIf",r.isMuted&&!r.isAudioOff),rt(1),it("ngIf",!r.isMuted&&!r.isAudioOff),rt(1),it("ngIf",r.hasActiveSession),rt(1),it("ngIf",r.hasActiveSession),rt(1),it("ngIf",r.hasActiveSession),rt(1),it("detail",!1))},dependencies:[Bo,Jo,ei,is,Xs]}),t})(),cU=(()=>{class t extends class lU{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(De(ra),De(Gh),De(Tv),De(dt),De(Ja))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ck(t){return/\.(prc|pdb|pqa)$/i.test(t)}class hU{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,ke.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else Ck(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,ke.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function pU(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,ke.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,ke.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!Ck(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function fU(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let mU=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,ke.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new hU(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(m=>!!m).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${Mv(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${Mv(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(De(na),De(ra),De(Jl),De(ef),De(Nr),De(au))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jv=(()=>{class t{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gU=["canvas"];function yU(t,n){if(1&t){const e=yr();fe(0,"ion-button",5),lt("click",function(){return nn(e),qt(Lt().navigation.lock())}),ft(1,"ion-icon",10),te()}}function _U(t,n){if(1&t){const e=yr();fe(0,"ion-button",5),lt("click",function(){return nn(e),qt(Lt().navigation.unlock())}),ft(1,"ion-icon",11),te()}}function vU(t,n){if(1&t){const e=yr();fe(0,"ion-button",5),lt("click",function(){return nn(e),qt(Lt().showGameModeHint())}),ft(1,"ion-icon",12),te()}}function bU(t,n){if(1&t){const e=yr();fe(0,"ion-button",5),lt("click",function(){return nn(e),qt(Lt().showProxyConnectedHint())}),ft(1,"ion-icon",13),te()}}function wU(t,n){if(1&t){const e=yr();fe(0,"ion-button",5),lt("click",function(){return nn(e),qt(Lt().showSlowdowndHint())}),ft(1,"ion-icon",14),te()}}function CU(t,n){if(1&t){const e=yr();fe(0,"div",15),et(1," The device was reset forcefully. How do you want to boot? "),fe(2,"ion-button",16),lt("click",function(){return nn(e),qt(Lt().bootAfterForcefulReset())}),et(3,"Normal boot"),te(),fe(4,"ion-button",16),lt("click",function(){return nn(e),qt(Lt().bootAfterForcefulResetNoExtensions())}),et(5,"No extensions"),te(),fe(6,"ion-button",16),lt("click",function(){return nn(e),qt(Lt().bootAfterForcefulResetHardReset())}),et(7,"Hard reset"),te()()}}function SU(t,n){1&t&&(fe(0,"div",15)(1,"div"),et(2,"No session selected"),te()())}let EU=(()=>{class t{constructor(e,r,o,i,s,a,c,f,m,_,I,P,Y,Re,Ke,Ye,gt,tt){var ht=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=f,this.alertService=m,this.fileService=_,this.snapshotService=I,this.installlationService=P,this.proxyService=Y,this.navigation=Re,this.linkApi=Ke,this.performanceWatchdogService=Ye,this.cloudpilotService=gt,this.dragDropService=tt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ke.Z)(function*(){yield ht.emulationService.bootstrapComplete(),ht.boostrapComplete=!0;const sn=ht.emulationState.getCurrentSession();sn&&!sn.wasResetForcefully&&(yield ht.launchEmulator()),ht.linkApi.installation.requestEvent.addHandler(ht.handleLinkApiInstallationRequest),ht.handleLinkApiInstallationRequest(),ht.dragDropService.registerClient(ht)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=sn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(sn,this.emulationService.getStatistics())},this.onNewFrame=sn=>{this.canvasDisplayService.updateEmulationCanvas(sn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const sn=this.linkApi.installation.receivePendingUrl();sn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${sn} ?`,{OK:()=>this.fileService.openUrl(sn,mo=>this.installlationService.installFiles([mo]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${sn} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new ea}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,ke.Z)(function*(){(yield r.popoverController.create({component:aU,event:e,componentProps:{showHelp:()=>r.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ke.Z)(function*(){yield(yield e.modalController.create({component:Qd,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ke.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ke.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ke.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ke.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ke.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ke.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ke.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ke.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(C(ra),C(Ba),C(Bn),C(cU),C(Gh),C(Bi),C(ec),C(ks),C(Nr),C(fu),C(ef),C(mU),C(Av),C(Bv),C(qy),C(wk),C(na),C(jv))},t.\u0275cmp=y({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&Uc(gU,5),2&e){let o;Ni(o=Li())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(fe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),et(3),te(),fe(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return r.installFiles()}),ft(6,"ion-icon",2),te(),Kt(7,yU,2,0,"ion-button",3),Kt(8,_U,2,0,"ion-button",3),te(),fe(9,"ion-buttons",4)(10,"ion-button",5),lt("click",function(i){return r.openContextMenu(i)}),ft(11,"ion-icon",6),te(),Kt(12,vU,2,0,"ion-button",3),Kt(13,bU,2,0,"ion-button",3),Kt(14,wU,2,0,"ion-button",3),te()()(),fe(15,"ion-content")(16,"div",7),lt("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),ft(17,"canvas",null,8),te(),Kt(19,CU,8,0,"div",9),Kt(20,SU,3,0,"div",9),te()),2&e){let o,i;rt(3),Qi(r.title),rt(2),it("disabled",r.installFileDisabled),rt(2),it("ngIf",!r.navigation.isLocked()),rt(1),it("ngIf",r.navigation.isLocked()),rt(4),it("ngIf",r.eventHandlingService.isGameMode()),rt(1),it("ngIf",r.proxyService.isConnected()),rt(1),it("ngIf",r.performanceWatchdogService.isSlowdownDetected()),rt(1),Ca("locked",r.navigation.isLocked()),rt(1),Xu("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),rt(1),Xu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),rt(2),it("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),rt(1),it("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[Bo,ts,ns,rs,os,Jo,ss,as],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();function Sk(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let DU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(fe(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),ft(2,"ion-icon",1),et(3," Edit "),te(),fe(4,"ion-item",0),lt("click",function(){return r.onSave()}),ft(5,"ion-icon",2),et(6," Save "),te(),fe(7,"ion-item",0),lt("click",function(){return r.onReset()}),ft(8,"ion-icon",3),et(9," Reset "),te(),fe(10,"ion-item",4),lt("click",function(){return r.onDelete()}),ft(11,"ion-icon",5),et(12," Delete "),te()()),2&e&&(rt(1),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1))},dependencies:[Jo,ei,Xs]}),t})();const MU=["slidingItem"];function kU(t,n){if(1&t&&(fe(0,"span"),et(1),te()),2&t){const e=Lt();rt(1),Fi(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let TU=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new bn,this.resetSession=new bn,this.edit=new bn,this.save=new bn,this.selectItem=new bn,this.interaction=new bn}get device(){return this.session?GM(this.session.device):""}onContextmenu(e){var r=this;return(0,ke.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:DU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(),onSave:()=>r.save.emit(),onDelete:()=>r.delete.emit(),onReset:()=>r.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const r=function IU(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(C(ec))},t.\u0275cmp=y({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&Uc(MU,5),2&e){let o;Ni(o=Li())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=yr();fe(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),fe(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return nn(o),Xi(1).close(),qt(r.edit.emit(r.session))}),ft(4,"ion-icon",4),te(),fe(5,"ion-item-option",5),lt("click",function(){return nn(o),Xi(1).close(),qt(r.save.emit(r.session))}),ft(6,"ion-icon",6),te()(),fe(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return nn(o),Xi(1).close(),qt(r.resetSession.emit(r.session))}),ft(9,"ion-icon",9),te(),fe(10,"ion-item-option",10),lt("click",function(){return nn(o),Xi(1).close(),qt(r.delete.emit(r.session))}),ft(11,"ion-icon",11),te()(),fe(12,"ion-item",12),lt("click",function(){return r.selectItem.emit()}),fe(13,"ion-label")(14,"h2"),et(15),te(),fe(16,"p"),et(17),Kt(18,kU,2,1,"span",13),te()()()()}2&e&&(rt(12),it("color",r.color),rt(1),Ca("in-item-color",r.selected),rt(2),Qi(null==r.session?null:r.session.name),rt(2),Ju("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),rt(1),it("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[Bo,Jo,ei,Dh,Ih,Mh,is],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function xU(t,n){1&t&&(fe(0,"div",10),ft(1,"ion-spinner"),te())}function AU(t,n){1&t&&(fe(0,"div",11)(1,"div",12),et(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ft(3,"br")(4,"br"),et(5," You can find a collection of compatible ROMs on "),fe(6,"a",13),et(7,"PalmDB"),te(),et(8,". "),te()())}function PU(t,n){if(1&t){const e=yr();fe(0,"app-session-item",15),lt("delete",function(){const i=nn(e).$implicit;return qt(Lt(2).deleteSession(i))})("selectItem",function(){const i=nn(e).$implicit;return qt(Lt(2).launchSession(i))})("edit",function(){const i=nn(e).$implicit;return qt(Lt(2).editSession(i))})("save",function(){const i=nn(e).$implicit;return qt(Lt(2).saveSession(i))})("resetSession",function(){const i=nn(e).$implicit;return qt(Lt(2).resetSession(i))})("interaction",function(){const i=nn(e).$implicit;return qt(Lt(2).lastSessionTouched=i.id)}),te()}if(2&t){const e=n.$implicit,r=Lt(2);it("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function RU(t,n){if(1&t&&(fe(0,"ion-list"),Kt(1,PU,1,3,"app-session-item",14),te()),2&t){const e=Lt();rt(1),it("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class oa{constructor(n,e,r,o,i,s,a,c,f,m,_,I){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=I,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const P=this.linkApi.import.receivePendingUrl();!P||this.alertService.message("Import request",`Do you want to import<br>${P} ?`,{OK:()=>this.fileService.openUrl(P,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,ke.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,ke.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!lk()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,ke.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id;const r=yield e.emulationService.switchSession(n.id);e.currentSessionOverride=void 0,r&&e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,ke.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,ke.Z)(function*(){yield(yield n.modalController.create({component:Qd,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleDropFiles.bind(this))}handleDropFiles(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(n[0])}}processFile(n){var e=this;return(0,ke.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(n.content);if(r){const o={name:e.disambiguateSessionName(r.metadata?.name??n.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield e.editSettings(o)){const i=yield e.sessionService.addSessionFromImage(r,o.name,o);e.lastSessionTouched=i.id}}else{const o=(yield e.cloudpilotService.cloudpilot).getRomInfo(n.content);if(!o)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const i={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield e.editSettings(i,o.supportedDevices)){const s=yield e.sessionService.addSessionFromRom(n.content,i.name,i.device,i);e.lastSessionTouched=s.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:vk,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return Sk(n,r=>e.some(o=>o.name===r))}}function FU(t,n){1&t&&(fe(0,"ion-item",8)(1,"ion-label"),et(2,"Clipboard integration"),te(),ft(3,"ion-toggle",17),te())}function OU(t,n){if(1&t){const e=yr();fe(0,"ion-item",8)(1,"ion-label",18),et(2,"Proxy server"),te(),fe(3,"div",19),ft(4,"ion-input",20),fe(5,"ion-button",21),lt("click",function(o){nn(e);const i=Lt();return o.preventDefault(),o.stopPropagation(),qt(i.testProxyConnection())})("touchstart",function(o){nn(e);const i=Lt();return o.preventDefault(),o.stopPropagation(),qt(i.testProxyConnection())}),et(6," Test "),te()()()}if(2&t){const e=Lt();rt(5),it("disabled",!e.proxyServerValid)}}oa.\u0275fac=function(n){return new(n||oa)(C(tf),C(fu),C(au),C(Nr),C(ra),C(Ba),C(Bn),C(ks),C(qy),C(zr),C(na),C(jv))},oa.\u0275cmp=y({type:oa,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(n,e){1&n&&(fe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),et(3,"Sessions"),te(),fe(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return e.importSession()}),ft(6,"ion-icon",2),te()(),fe(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return e.showHelp()}),ft(9,"ion-icon",4),te(),ft(10,"app-pwa-prompt"),te()()(),fe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),et(15,"Sessions"),te()()(),Kt(16,xU,2,0,"div",7),Kt(17,AU,9,0,"div",8),Kt(18,RU,2,2,"ion-list",9),te()),2&n&&(rt(16),it("ngIf",e.sessionService.isLoading()),rt(1),it("ngIf",!e.sessionService.isLoading()&&0===e.sessions.length),rt(1),it("ngIf",!e.sessionService.isLoading()&&e.sessions.length>0))},dependencies:[Bl,Bo,ts,ns,rs,os,Jo,Xs,jd,ss,as,zh,TU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),Q([bi()],oa.prototype,"deleteSession",null),Q([bi()],oa.prototype,"editSession",null),Q([bi()],oa.prototype,"saveSession",null),Q([bi()],oa.prototype,"launchSession",null),Q([bi()],oa.prototype,"resetSession",null);let NU=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ke.Z)(function*(){yield(yield e.modalController.create({component:Qd,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ke.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ke.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Zp({volume:new Ho(this.kvsService.kvs.volume),showStatistics:new Ho(this.kvsService.kvs.showStatistics),runHidden:new Ho(this.kvsService.kvs.runHidden),clipboardIntegration:new Ho(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Ho(this.kvsService.kvs.networkRedirection),proxyServer:new Ho(this.kvsService.kvs.proxyServer,{validators:[Kj]}),autoLockUI:new Ho(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Ho(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Ho(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(C(ks),C(Bi),C(ek),C(Nr),C(Av))},t.\u0275cmp=y({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3,"Settings"),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.showHelp()}),ft(6,"ion-icon",3),te(),ft(7,"app-pwa-prompt"),te()()(),fe(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),et(12,"Settings"),te()()(),fe(13,"div",6)(14,"form",7)(15,"h1"),et(16,"Emulation"),te(),fe(17,"ion-item",8)(18,"ion-label"),et(19,"Volume"),te(),ft(20,"ion-range",9),te(),fe(21,"ion-item",8)(22,"ion-label"),et(23,"Enable audio on start"),te(),ft(24,"ion-toggle",10),te(),fe(25,"ion-item",8)(26,"ion-label"),et(27,"Run when hidden"),te(),ft(28,"ion-toggle",11),te(),fe(29,"h1"),et(30,"Host integration"),te(),Kt(31,FU,4,0,"ion-item",12),fe(32,"ion-item",8)(33,"ion-label"),et(34,"Network redirection"),te(),ft(35,"ion-toggle",13),te(),Kt(36,OU,7,1,"ion-item",12),fe(37,"h1"),et(38,"UI"),te(),fe(39,"ion-item",8)(40,"ion-label"),et(41,"Auto-lock UI"),te(),ft(42,"ion-toggle",14),te(),fe(43,"ion-item",8)(44,"ion-label"),et(45,"Show statistics"),te(),ft(46,"ion-toggle",15),te(),fe(47,"ion-item",8)(48,"ion-label"),et(49,"Open from remote sources"),te(),ft(50,"ion-toggle",16),te()()()()),2&e&&(it("translucent",!0),rt(14),it("formGroup",r.formGroup),rt(17),it("ngIf",r.clipboardService.isSupported()),rt(5),it("ngIf",r.showProxyServer))},dependencies:[Bo,Ul,Hl,jl,ts,ns,rs,os,Jo,Ql,ei,is,rv,ss,Ud,as,Vd,Hd,Xl,zh,Ra,il],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),Uv=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ct({name:"cardSize",type:t,pure:!0}),t})();function LU(t,n){1&t&&(fe(0,"div",14)(1,"b"),et(2,"WARNING:"),te(),et(3," This image cannot be used as a memory stick image."),te())}let Ek=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Kc({name:new Pa("",{nonNullable:!0,validators:[r_.required,this.validateNameUnique]}),size:new Pa({value:"dummy",disabled:!0}),checkAutomatically:new Pa(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){!this.card||(this.formGroup.get("name")?.setValue(this.card.name),this.formGroup.get("checkAutomatically")?.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(C(pu))},t.\u0275cmp=y({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.save()}),et(6,"Save"),te()(),fe(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),et(9,"Cancel"),te()()()(),fe(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),fe(12,"ion-item",7)(13,"ion-label",8),et(14,"Card name"),te(),ft(15,"ion-input",9),te(),fe(16,"ion-item",7)(17,"ion-label",8),et(18,"Card size"),te(),fe(19,"ion-select",10)(20,"ion-select-option",11),et(21),Gs(22,"cardSize"),te()()(),fe(23,"ion-item",7)(24,"ion-label"),et(25,"Check for errors automatically"),te(),ft(26,"ion-toggle",12),te()(),Kt(27,LU,4,0,"div",13),te()),2&e&&(rt(3),Qi(r.newCard?"New memory card":"Edit memory card"),rt(2),it("disabled",r.formGroup.invalid),rt(6),it("formGroup",r.formGroup),rt(10),Fi("",zs(22,5,null==r.card?null:r.card.size)," "),rt(6),it("ngIf",!r.memoryStickSupported))},dependencies:[Bo,ts,ns,rs,os,Ql,ei,is,kh,Th,ss,Ud,as,Vd,Hd,Xl,Ul,Hl,jl,Ra,il,Uv],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function $U(t,n){if(1&t&&(fe(0,"ion-select-option",13),et(1),Gs(2,"cardSize"),te()),2&t){const e=n.$implicit,r=Lt();it("value",e),rt(1),Fi("",zs(2,2,r.sizeBytes(e))," ")}}const BU=[oo.mb4,oo.mb8,oo.mb16,oo.mb32,oo.mb64,oo.mb128];let VU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Kc({name:new Pa("",{nonNullable:!0,validators:[r_.required,this.validateNameUnique]}),size:new Pa(oo.mb32,{nonNullable:!0}),checkAutomatically:new Pa(!0,{nonNullable:!0})})}get sizes(){return BU}sizeBytes(e){return function s6(t){switch(t){case oo.mb4:return 4046848;case oo.mb8:return 8110080;case oo.mb16:return 16220160;case oo.mb32:return 32473088;case oo.mb64:return 64978944;case oo.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(C(pu))},t.\u0275cmp=y({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(fe(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),et(3,"New memory card"),te(),fe(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.create()}),et(6,"Create"),te()(),fe(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),et(9,"Cancel"),te()()()(),fe(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),fe(12,"ion-item",7)(13,"ion-label",8),et(14,"Card name"),te(),ft(15,"ion-input",9),te(),fe(16,"ion-item",7)(17,"ion-label",8),et(18,"Card size"),te(),fe(19,"ion-select",10),Kt(20,$U,3,4,"ion-select-option",11),te()(),fe(21,"ion-item",7)(22,"ion-label"),et(23,"Check for errors automatically"),te(),ft(24,"ion-toggle",12),te()()()),2&e&&(rt(5),it("disabled",r.formGroup.invalid),rt(6),it("formGroup",r.formGroup),rt(9),it("ngForOf",r.sizes))},dependencies:[Bl,ts,ns,rs,os,Ql,ei,is,kh,Th,ss,Ud,as,Vd,Hd,Xl,Ul,Hl,jl,Ra,il,Uv]}),t})(),HU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(fe(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),ft(2,"ion-icon",1),et(3," Edit "),te(),fe(4,"ion-item",0),lt("click",function(){return r.onSave()}),ft(5,"ion-icon",2),et(6," Save "),te(),fe(7,"ion-item",0),lt("click",function(){return r.onCheck()}),ft(8,"ion-icon",3),et(9," Check "),te(),fe(10,"ion-item",4),lt("click",function(){return r.onDelete()}),ft(11,"ion-icon",5),et(12," Delete "),te()()),2&e&&(rt(1),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1))},dependencies:[Jo,ei,Xs]}),t})(),jU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new bn,this.selectCard=new bn,this.edit=new bn,this.check=new bn,this.delete=new bn,this.save=new bn}onContextmenu(e){var r=this;return(0,ke.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:HU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(r.card),onSave:()=>r.save.emit(r.card),onCheck:()=>r.check.emit(),onDelete:()=>r.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Mr.dirty:return"needs check";case Mr.clean:return"no errors";case Mr.unformatted:return"no filesystem";case Mr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(C(pu),C(ec))},t.\u0275cmp=y({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=yr();fe(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),fe(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return nn(o),Xi(1).close(),qt(r.edit.emit(r.card))}),ft(4,"ion-icon",4),te(),fe(5,"ion-item-option",5),lt("click",function(){return nn(o),Xi(1).close(),qt(r.save.emit(r.card))}),ft(6,"ion-icon",6),te()(),fe(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return nn(o),Xi(1).close(),qt(r.check.emit(r.card))}),ft(9,"ion-icon",9),te(),fe(10,"ion-item-option",10),lt("click",function(){return nn(o),Xi(1).close(),qt(r.delete.emit(r.card))}),ft(11,"ion-icon",11),te()(),fe(12,"ion-item",12),lt("click",function(){return r.selectCard.emit(),r.interaction.emit()}),fe(13,"ion-label")(14,"h2"),et(15),te(),fe(16,"p"),et(17),Gs(18,"cardSize"),te()()()()}2&e&&(rt(12),it("color",r.color),rt(3),Qi(null==r.card?null:r.card.name),rt(2),Ju("",zs(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[Jo,ei,Dh,Ih,Mh,is,Uv],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function UU(t,n){1&t&&(fe(0,"div",10),ft(1,"ion-spinner"),te())}function GU(t,n){1&t&&(fe(0,"div",11)(1,"div",12),et(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),te()())}function zU(t,n){if(1&t){const e=yr();fe(0,"app-storage-card",14),lt("delete",function(){const i=nn(e).$implicit;return qt(Lt(2).deleteCard(i))})("selectCard",function(){const i=nn(e).$implicit;return qt(Lt(2).selectCard(i))})("edit",function(){const i=nn(e).$implicit;return qt(Lt(2).editCard(i))})("check",function(){const i=nn(e).$implicit;return qt(Lt(2).checkCard(i))})("interaction",function(){const i=nn(e).$implicit;return qt(Lt(2).lastCardTouched=i.id)})("save",function(){const i=nn(e).$implicit;return qt(Lt(2).saveCard(i))}),te()}if(2&t){const e=n.$implicit,r=Lt(2);it("card",e)("touched",e.id===r.lastCardTouched)}}function WU(t,n){if(1&t&&(fe(0,"ion-list"),Kt(1,zU,1,2,"app-storage-card",13),te()),2&t){const e=Lt();rt(1),it("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class xs{constructor(n,e,r,o,i,s,a,c,f){var m=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.dragDropService=f,this.handleCardImport=function(){var _=(0,ke.Z)(function*(I){const Y=(yield m.cloudpilotService.cloudpilot).getCardSupportLevel(I.content.length);if(0===Y)return void m.alertService.errorMessage("This is not a supported card image.");const Re=yield new Promise(function(){var Ke=(0,ke.Z)(function*(Ye){const gt=yield m.modalController.create({component:Ek,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(I.name),size:I.content.length},cardSupportLevel:Y,newCard:!0,onCancel:()=>{gt.dismiss(),Ye(void 0)},onSave:tt=>{Ye(tt),gt.dismiss()}}});yield gt.present()});return function(Ye){return Ke.apply(this,arguments)}}());Re&&(yield m.storageCardService.createCardFromFile(Re.name,I,!!Re.dontFsckAutomatically))});return function(I){return _.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{}}ionViewDidEnter(){this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this)}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleFilesFromDrop.bind(this))}addCardImage(){var n=this;return(0,ke.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(n){var e=this;return(0,ke.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,ke.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:Ek,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ke.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){return this.storageCardService.saveCard(n.id,`${Iv(n.name.replace(/\.img$/,""))}.img`)}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,ke.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ke.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}handleFilesFromDrop(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(n[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,ke.Z)(function*(){const e=yield n.modalController.create({component:VU,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,ke.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return Sk(n,r=>e.some(o=>o.name===r))}}function qU(t,n){1&t&&ft(0,"ion-icon",8)}function ZU(t,n){1&t&&ft(0,"ion-icon",9)}function KU(t,n){1&t&&ft(0,"ion-icon",10)}function YU(t,n){if(1&t){const e=yr();fe(0,"ion-item",2),lt("click",function(){const i=nn(e).index;return qt(Lt(2).onSelect(i))}),Zu(1,3),Kt(2,qU,1,0,"ion-icon",4),Kt(3,ZU,1,0,"ion-icon",5),Kt(4,KU,1,0,"ion-icon",6),Ku(),fe(5,"div",7),et(6),te()()}if(2&t){const e=n.$implicit,r=n.index,o=Lt(2);it("detail",!1)("lines",r===o.entries.length-1?"none":"full"),rt(1),it("ngSwitch",o.entries.length),rt(1),it("ngSwitchCase",r+1),rt(1),it("ngSwitchCase",r+2),rt(3),Qi(e)}}function XU(t,n){if(1&t&&(fe(0,"ion-list"),Kt(1,YU,7,6,"ion-item",1),te()),2&t){const e=Lt();rt(1),it("ngForOf",e.entries)}}xs.\u0275fac=function(n){return new(n||xs)(C(qd),C(pu),C(ks),C(au),C(na),C(Nr),C(tc),C(fu),C(jv))},xs.\u0275cmp=y({type:xs,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(n,e){1&n&&(fe(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),et(3,"Memory cards"),te(),fe(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return e.addCardImage()}),ft(6,"ion-icon",2),te()(),fe(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return e.showHelp()}),ft(9,"ion-icon",4),te(),ft(10,"app-pwa-prompt"),te()()(),fe(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),et(15,"Memory cards"),te()()(),Kt(16,UU,2,0,"div",7),Kt(17,GU,3,0,"div",8),Kt(18,WU,2,2,"ion-list",9),te()),2&n&&(rt(16),it("ngIf",e.storageCardService.isLoading()),rt(1),it("ngIf",!e.storageCardService.isLoading()&&0===e.cards.length),rt(1),it("ngIf",!e.storageCardService.isLoading()&&e.cards.length>0))},dependencies:[Bl,Bo,ts,ns,rs,os,Jo,Xs,jd,ss,as,zh,jU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),Q([bi()],xs.prototype,"addCardImage",null),Q([bi()],xs.prototype,"selectCard",null),Q([bi()],xs.prototype,"editCard",null),Q([bi()],xs.prototype,"saveCard",null),Q([bi()],xs.prototype,"checkCard",null),Q([bi()],xs.prototype,"deleteCard",null);let QU=(()=>{class t{constructor(){this.onSelect=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,r){1&e&&Kt(0,XU,2,1,"ion-list",0),2&e&&it("ngIf",r.entries)},dependencies:[Bl,Bo,Rp,ME,kE,Jo,ei,Xs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})(),JU=(()=>{class t{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,r){1&e&&(fe(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onStartSelection()}),ft(2,"ion-icon",1),et(3," Start selection "),te(),fe(4,"ion-item",2),lt("click",function(){return r.onAddFiles()}),ft(5,"ion-icon",3),et(6," Add files "),te(),fe(7,"ion-item",2),lt("click",function(){return r.onCreateDirectry()}),ft(8,"ion-icon",4),et(9," Add directory "),te(),fe(10,"ion-item",2),lt("click",function(){return r.onExtractZipfile()}),ft(11,"ion-icon",5),et(12," Extract zip "),te(),fe(13,"ion-item",0),lt("click",function(){return r.onPaste()}),ft(14,"ion-icon",6),et(15," Paste "),te(),fe(16,"ion-item",7),lt("click",function(){return r.onHelp()}),ft(17,"ion-icon",8),et(18," Help "),te()()),2&e&&(rt(1),it("detail",!1)("disabled",r.emptyDirectory),rt(3),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1)("disabled",!0),rt(3),it("detail",!1))},dependencies:[Jo,ei,Xs]}),t})();function Dk(t){let n,e,r=!1;return o=>((!r||o!==n)&&(n=o,r=!0,e=t(o)),e)}let e5=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(fe(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),ft(2,"ion-icon",1),et(3," Edit "),te(),fe(4,"ion-item",0),lt("click",function(){return r.onSave()}),ft(5,"ion-icon",2),et(6," Save "),te(),fe(7,"ion-item",0),lt("click",function(){return r.onCopy()}),ft(8,"ion-icon",3),et(9," Copy "),te(),fe(10,"ion-item",0),lt("click",function(){return r.onCut()}),ft(11,"ion-icon",4),et(12," Cut "),te(),fe(13,"ion-item",5),lt("click",function(){return r.onDelete()}),ft(14,"ion-icon",6),et(15," Delete "),te()()),2&e&&(rt(1),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1),rt(3),it("detail",!1))},dependencies:[Jo,ei,Xs]}),t})(),Ik=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ct({name:"fileSize",type:t,pure:!0}),t})();const t5=["slidingItem"];function n5(t,n){1&t&&ft(0,"ion-icon",21)}function r5(t,n){1&t&&ft(0,"ion-icon",22)}function o5(t,n){1&t&&ft(0,"ion-icon",23)}function i5(t,n){1&t&&ft(0,"ion-icon",24)}function s5(t,n){1&t&&ft(0,"ion-icon",25)}function a5(t,n){1&t&&ft(0,"ion-icon",26)}function l5(t,n){1&t&&ft(0,"ion-icon",27)}function c5(t,n){if(1&t&&(Zu(0),et(1),Gs(2,"fileSize"),Ku()),2&t){const e=Lt();rt(1),Fi(" - ",zs(2,1,null==e.entry?null:e.entry.size)," ")}}let u5=(()=>{class t{constructor(e,r){this.actionSheetController=e,this.popoverController=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new bn,this.selectEntry=new bn,this.editEntry=new bn,this.copyEntry=new bn,this.cutEntry=new bn,this.deleteEntry=new bn,this.saveEntry=new bn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var r=this;return(0,ke.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:e5,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.editEntry.emit(r.entry),onSave:()=>r.saveEntry.emit(r.entry),onCopy:()=>r.copyEntry.emit(r.entry),onCut:()=>r.cutEntry.emit(r.entry),onDelete:()=>r.deleteEntry.emit(r.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,ke.Z)(function*(){const r=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${r}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${r}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}return t.\u0275fac=function(e){return new(e||t)(C(qd),C(ec))},t.\u0275cmp=y({type:t,selectors:[["app-file-entry"]],viewQuery:function(e,r){if(1&e&&Uc(t5,5),2&e){let o;Ni(o=Li())&&(r.slidingItem=o.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[bo],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,r){if(1&e){const o=yr();fe(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),fe(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return nn(o),Xi(1).close(),qt(r.editEntry.emit(r.entry))}),ft(4,"ion-icon",4),te(),fe(5,"ion-item-option",5),lt("click",function(){return nn(o),Xi(1).close(),qt(r.saveEntry.emit(r.entry))}),ft(6,"ion-icon",6),te()(),fe(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return nn(o),Xi(1).close(),qt(r.cutOrCopyEntry())}),ft(9,"ion-icon",9),te(),fe(10,"ion-item-option",10),lt("click",function(){return nn(o),Xi(1).close(),qt(r.deleteEntry.emit(r.entry))}),ft(11,"ion-icon",11),te()(),fe(12,"ion-item",12),lt("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),Kt(13,n5,1,0,"ion-icon",13),Kt(14,r5,1,0,"ion-icon",14),Kt(15,o5,1,0,"ion-icon",15),Kt(16,i5,1,0,"ion-icon",16),Kt(17,s5,1,0,"ion-icon",17),Kt(18,a5,1,0,"ion-icon",18),Kt(19,l5,1,0,"ion-icon",19),fe(20,"ion-label")(21,"h2"),et(22),te(),fe(23,"p"),et(24),Kt(25,c5,3,3,"ng-container",20),te()()()()}2&e&&(it("disabled",r.selecting),rt(12),Xu("opacity",r.touched?1:.99999),Ca("is-directory",null==r.entry?null:r.entry.isDirectory),it("color",r.color)("detail",(null==r.entry?null:r.entry.isDirectory)&&!r.selecting),rt(1),it("ngIf",null==r.entry?null:r.entry.isDirectory),rt(1),it("ngIf",!(null!=r.entry&&r.entry.isDirectory)),rt(1),it("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.readonly),rt(1),it("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.hidden),rt(1),it("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.system),rt(1),it("ngIf",r.selecting&&!r.selected),rt(1),it("ngIf",r.selecting&&r.selected),rt(3),Qi(null==r.entry?null:r.entry.name),rt(2),Fi(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),rt(1),it("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[Bo,Jo,ei,Dh,Ih,Mh,is,Ik],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:#0006;color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"]}),t})();function d5(t,n){1&t&&ft(0,"div",11)}function f5(t,n){if(1&t){const e=yr();fe(0,"ion-toolbar")(1,"ion-title",5),lt("click",function(o){return nn(e),qt(Lt().openBreadcrumbMenu(o))}),et(2),Kt(3,d5,1,0,"div",6),te(),fe(4,"ion-buttons",7),ft(5,"ion-back-button"),te(),fe(6,"ion-buttons",8)(7,"ion-button",9),lt("click",function(o){return nn(e),qt(Lt().openContextMenu(o))}),ft(8,"ion-icon",10),te()()()}if(2&t){const e=Lt();rt(1),it("id",e.breadcrumbTriggerId),rt(1),Qi(e.title),rt(1),it("ngIf",e.showBreadcrumb)}}function p5(t,n){if(1&t){const e=yr();fe(0,"ion-buttons",13)(1,"ion-button",9),lt("click",function(){return nn(e),qt(Lt(2).onSelectAll())}),et(2,"Select all"),te()()}}function h5(t,n){if(1&t){const e=yr();fe(0,"ion-buttons",13)(1,"ion-button",9),lt("click",function(){return nn(e),qt(Lt(2).selection.clear())}),et(2,"Clear"),te()()}}function m5(t,n){if(1&t){const e=yr();fe(0,"ion-toolbar")(1,"ion-title"),et(2,"Selection"),te(),fe(3,"ion-buttons",8)(4,"ion-button",9),lt("click",function(){return nn(e),qt(Lt().onSelectionDone())}),et(5),te()(),Kt(6,p5,3,0,"ion-buttons",12),Kt(7,h5,3,0,"ion-buttons",12),te()}if(2&t){const e=Lt();rt(5),Qi(0===e.selection.size?"Cancel":"Done"),rt(1),it("ngIf",e.selection.size!==(null==e.entries?null:e.entries.length)),rt(1),it("ngIf",e.selection.size===(null==e.entries?null:e.entries.length))}}function g5(t,n){if(1&t&&(fe(0,"div",14)(1,"div",15),et(2),te()()),2&t){const e=Lt();rt(2),Fi(" empty ",e.isRoot?"card":"directory"," ")}}function y5(t,n){if(1&t){const e=yr();fe(0,"app-file-entry",16),lt("selectEntry",function(){const i=nn(e).$implicit;return qt(Lt().onSelect(i))})("editEntry",function(){const i=nn(e).$implicit;return qt(Lt().onEditEntry(i))})("saveEntry",function(){const i=nn(e).$implicit;return qt(Lt().onSaveEntry(i))})("copyEntry",function(){const i=nn(e).$implicit;return qt(Lt().onCopyEntry(i))})("cutEntry",function(){const i=nn(e).$implicit;return qt(Lt().onCutEntry(i))})("deleteEntry",function(){const i=nn(e).$implicit;return qt(Lt().onDeleteEntry(i))})("interaction",function(){const i=nn(e).$implicit;return qt(Lt().lastEntryTouched=i.name)}),te()}if(2&t){const e=n.$implicit,r=Lt();it("entry",e)("selecting","select"===r.mode)("selected",r.selection.has(e.name))("touched",e.name===r.lastEntryTouched)}}function _5(t,n){if(1&t&&(fe(0,"p"),et(1),Gs(2,"fileSize"),Gs(3,"fileSize"),te()),2&t){const e=Lt(2);rt(1),Ju(" ",zs(2,2,e.bytesFree)," free, ",zs(3,4,e.bytesTotal)," total ")}}function v5(t,n){if(1&t&&(fe(0,"p"),et(1),Gs(2,"fileSize"),te()),2&t){const e=Lt(2);rt(1),Hg(" ",zs(2,3,e.bytesInFiles)," in ",e.fileCount," ",1===e.fileCount?"file":"files"," ")}}function b5(t,n){if(1&t&&(fe(0,"ion-item",17)(1,"ion-label"),Kt(2,_5,4,6,"p",0),Kt(3,v5,3,5,"p",0),te()()),2&t){const e=Lt();rt(2),it("ngIf",e.isRoot),rt(1),it("ngIf",e.fileCount>0)}}function w5(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let C5=0;class rc{constructor(n,e,r,o,i){this.vfsService=n,this.popoverController=e,this.config=r,this.alertService=o,this.actionSheetController=i,this.bytesInFilesMemoized=Dk(s=>s?.reduce((a,c)=>a+(c.isDirectory?0:c.size),0)??0),this.fileCountMemoized=Dk(s=>s?.filter(a=>!a.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+C5++}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const n=this.vfsService.splitPath(this.path);return n[n.length-1]??""}}}get showBreadcrumb(){return!!this.path&&"/"!==this.path}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}ngOnInit(){this.updateEntries()}trackEntryBy(n,e){return e.name}onSelect(n){"browse"===this.mode?n.isDirectory&&this.onNavigate(n.path):this.selection?.has(n.name)?this.selection.delete(n.name):this.selection.add(n.name)}onEditEntry(n){this.alertService.message("Not implemented",`Edit ${n.name}: not implemented.`)}onSaveEntry(n){this.alertService.message("Not implemented",`Save ${n.name}: not implemented.`)}onCopyEntry(n){this.alertService.message("Not implemented",`Copy ${n.name}: not implemented.`)}onCutEntry(n){this.alertService.message("Not implemented",`Cut ${n.name}: not implemented.`)}onDeleteEntry(n){this.alertService.message("Not implemented",`Delete ${n.name}: not implemented.`)}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select")}onSelectionDone(){var n=this;return(0,ke.Z)(function*(){if(!n.entries)return;const e=Array.from(n.selection),r=new Map(n.entries.map(a=>[a.name,a])),o=e.every(a=>!r.get(a)?.isDirectory),i=e.every(a=>r.get(a)?.isDirectory);let s=`${n.selection.size} items`;if(o&&(s=1===n.selection.size?"file":`${n.selection.size} files`),i&&(s=1===n.selection.size?"directory":`${n.selection.size} directories`),0!==n.selection.size){const a=yield n.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:n.onCopySelection.bind(n)},{text:`Cut ${s}`,handler:n.onCutSelection.bind(n)},{text:`Save ${s} as zip`,handler:n.onSaveZip.bind(n)},{text:`Delete ${s}`,handler:n.onDeleteSelection.bind(n)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}n.mode="browse"})()}onSelectAll(){this.entries?.forEach(n=>this.selection.add(n.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){this.alertService.message("Not implemented","Save zip: not implemented.")}onDeleteSelection(){this.alertService.message("Not implemented","Delete selection: not implemented.")}openBreadcrumbMenu(n){var e=this;return(0,ke.Z)(function*(){if(!e.card||!e.path||"/"===e.path)return;const r=[...e.vfsService.splitPath(e.path).reverse().slice(1),e.card.name,"Memory cards"];(yield e.popoverController.create({component:QU,event:n,componentProps:{entries:r,onSelect:i=>e.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===e.config.get("mode")?"center":"start",trigger:e.breadcrumbTriggerId})).present()})()}openContextMenu(n){var e=this;return(0,ke.Z)(function*(){(yield e.popoverController.create({component:JU,componentProps:{emptyDirectory:0===e.entries?.length,onStartSelection:e.onStartSelection.bind(e),onAddFiles:e.onAddFiles.bind(e),onCreateDirectry:e.onCreateDirectory.bind(e),onExtractZipfile:e.onExtractZipfile.bind(e),onPaste:e.onPaste.bind(e),onHelp:e.onHelp.bind(e)},event:n,dismissOnSelect:!0,arrow:!1})).present()})()}updateEntries(){void 0!==this.path?this.vfsService.readdir(this.path).then(n=>this.entries=n?[...n].sort(w5):[]):this.entries=[]}}rc.\u0275fac=function(n){return new(n||rc)(C(Ov),C(ec),C(sv),C(Nr),C(qd))},rc.\u0275cmp=y({type:rc,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"id","click"],["class","select-arrow",4,"ngIf"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"select-arrow"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(n,e){1&n&&(fe(0,"ion-header"),Kt(1,f5,9,3,"ion-toolbar",0),Kt(2,m5,8,3,"ion-toolbar",0),te(),fe(3,"ion-content")(4,"div",1),Kt(5,g5,3,1,"div",2),fe(6,"ion-list"),Kt(7,y5,1,4,"app-file-entry",3),Kt(8,b5,4,2,"ion-item",4),te()()()),2&n&&(rt(1),it("ngIf","browse"===e.mode),rt(1),it("ngIf","select"===e.mode),rt(3),it("ngIf",0===(null==e.entries?null:e.entries.length)),rt(2),it("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy),rt(1),it("ngIf",e.isRoot||e.fileCount>0))},dependencies:[Bl,Bo,jI,ts,ns,rs,os,Jo,ei,is,Xs,ss,as,nM,u5,Ik],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"]}),Q([bi()],rc.prototype,"onSelectionDone",null);const S5=["nav"],E5=[{path:"tab",component:Bv,children:[{path:"emulation",component:EU},{path:"sessions",component:oa},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(rc,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})},this.onNavigateBreadcrumb=r=>{!this.currentlyBrowsingCard||this.nav?.popTo(r)},this.navRoot=xs,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(rc,{card:e,path:"/",onNavigate:this.onNavigate})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}return t.\u0275fac=function(e){return new(e||t)(C(Ov))},t.\u0275cmp=y({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&Uc(S5,5),2&e){let o;Ni(o=Li())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&ft(0,"ion-nav",0,1),2&e&&it("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[UI,rM]}),t})()},{path:"settings",component:NU},{path:"about",component:j6},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let D5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[Eh.forChild(E5),Eh]}),t})(),I5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({imports:[al,Zs,zl,D5,O6,N6,L6,$6,F6]}),t})(),M5=(()=>{class t extends fE{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Zo(t)))(r||t)}}(),t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const k5=[{path:"install",component:gk,canActivate:[yk]},{path:"import",component:gk,canActivate:[yk]},{path:"",component:Bv}];let T5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=re({type:t}),t.\u0275inj=Qn({providers:[{provide:qs,useClass:M5}],imports:[Eh.forRoot(k5,{preloadingStrategy:e4,useHash:!0}),I5,Eh]}),t})();const Mk=["touch","click","keydown"];let x5=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,ke.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{Mk.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};Mk.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(De(Bi),De(Hv))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const A5=()=>{const t=new cu;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let P5=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(De(Bn),De(ra),De(Hv),De(tf),De(Bi),De(mk),De(x5))},t.\u0275mod=re({type:t,bootstrap:[b6]}),t.\u0275inj=Qn({providers:[{provide:EI,useClass:XV},{provide:Ll,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Bi]}],imports:[uL,al.forRoot(),T5,_6.register("ngsw-worker.js",{enabled:true}),pv.forRoot({loader:Xy,markedOptions:{provide:SM,useFactory:A5}}),NL]}),t})();window.global=window,function wL(){Bp=rD("#/install?"),Vp=rD("#/import?")}(),function BH(){return!!localStorage.getItem(Oh)}()&&!oD()||function CL(){return void 0!==Bp}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function BF(){YS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),cL().bootstrapModule(P5).catch(t=>console.log(t))},3272:He=>{var R,We=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var ae,ie,u=typeof(T=T||{})<"u"?T:{};u.ready=new Promise(function(l,h){ae=l,ie=h});var G,Oe,Ne,q=Object.assign({},u),ce=[],V="./this.program",j=(l,h)=>{throw h},Ie="object"==typeof window,K="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ie||K)&&(K?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),R&&(B=R),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},K&&(Ne=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Oe=(l,h,b)=>{var A=new XMLHttpRequest;A.open("GET",l,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?h(A.response):b()},A.onerror=b,A.send(null)});var he,z=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(ce=u.arguments),u.thisProgram&&(V=u.thisProgram),u.quit&&(j=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Pe=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&rr("no native wasm support detected");var me,de,ot=!1;function Me(l,h){l||rr(h)}var ze,nt,St,Rt,O,ve,J,xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(l,h,b){for(var A=h+b,H=h;l[H]&&!(H>=A);)++H;if(H-h>16&&l.buffer&&xe)return xe.decode(l.subarray(h,H));for(var we="";h<H;){var Ae=l[h++];if(128&Ae){var Ve=63&l[h++];if(192!=(224&Ae)){var Ct=63&l[h++];if((Ae=224==(240&Ae)?(15&Ae)<<12|Ve<<6|Ct:(7&Ae)<<18|Ve<<12|Ct<<6|63&l[h++])<65536)we+=String.fromCharCode(Ae);else{var Qt=Ae-65536;we+=String.fromCharCode(55296|Qt>>10,56320|1023&Qt)}}else we+=String.fromCharCode((31&Ae)<<6|Ve)}else we+=String.fromCharCode(Ae)}return we}function Fe(l,h){return l?Ue(St,l,h):""}function $e(l,h,b,A){if(!(A>0))return 0;for(var H=b,we=b+A-1,Ae=0;Ae<l.length;++Ae){var Ve=l.charCodeAt(Ae);if(Ve>=55296&&Ve<=57343&&(Ve=65536+((1023&Ve)<<10)|1023&l.charCodeAt(++Ae)),Ve<=127){if(b>=we)break;h[b++]=Ve}else if(Ve<=2047){if(b+1>=we)break;h[b++]=192|Ve>>6,h[b++]=128|63&Ve}else if(Ve<=65535){if(b+2>=we)break;h[b++]=224|Ve>>12,h[b++]=128|Ve>>6&63,h[b++]=128|63&Ve}else{if(b+3>=we)break;h[b++]=240|Ve>>18,h[b++]=128|Ve>>12&63,h[b++]=128|Ve>>6&63,h[b++]=128|63&Ve}}return h[b]=0,b-H}function X(l){for(var h=0,b=0;b<l.length;++b){var A=l.charCodeAt(b);A<=127?h++:A<=2047?h+=2:A>=55296&&A<=57343?(h+=4,++b):h+=3}return h}function pe(l){ze=l,u.HEAP8=nt=new Int8Array(l),u.HEAP16=Rt=new Int16Array(l),u.HEAP32=O=new Int32Array(l),u.HEAPU8=St=new Uint8Array(l),u.HEAPU16=new Uint16Array(l),u.HEAPU32=ve=new Uint32Array(l),u.HEAPF32=new Float32Array(l),u.HEAPF64=J=new Float64Array(l)}var Be,En,_t=[],je=[],Ft=[],jt=[],Dn=0,kr=null,Pn=null;function Wr(l){Dn++,u.monitorRunDependencies&&u.monitorRunDependencies(Dn)}function dr(l){if(Dn--,u.monitorRunDependencies&&u.monitorRunDependencies(Dn),0==Dn&&(null!==kr&&(clearInterval(kr),kr=null),Pn)){var h=Pn;Pn=null,h()}}function rr(l){u.onAbort&&u.onAbort(l),W(l="Aborted("+l+")"),ot=!0,de=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw ie(h),h}function go(l){return l.startsWith("data:application/octet-stream;base64,")}function io(l){try{if(l==En&&he)return new Uint8Array(he);if(Ne)return Ne(l);throw"both async and sync fetching of the wasm failed"}catch(h){rr(h)}}go(En="cloudpilot_web.wasm")||(En=function $(l){return u.locateFile?u.locateFile(l,B):B+l}(En));var at,ue,Ge={243364:l=>{Be.grow(65536);for(let h=0;h<=65535;h++)Be.set(Be.length-65535-1+h,Be.get(ve[(l>>>2)+h]));return Be.length-65535-1}};function In(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Bt(l){for(;l.length>0;)l.shift()(u)}var un={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var b=0,A=l.length-1;A>=0;A--){var H=l[A];"."===H?l.splice(A,1):".."===H?(l.splice(A,1),b++):b&&(l.splice(A,1),b--)}if(h)for(;b;b--)l.unshift("..");return l},normalize:l=>{var h=un.isAbs(l),b="/"===l.substr(-1);return!(l=un.normalizeArray(l.split("/").filter(A=>!!A),!h).join("/"))&&!h&&(l="."),l&&b&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=un.splitPath(l),b=h[0],A=h[1];return b||A?(A&&(A=A.substr(0,A.length-1)),b+A):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=un.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return un.normalize(l.join("/"))},join2:(l,h)=>un.normalize(l+"/"+h)},pr={resolve:function(){for(var l="",h=!1,b=arguments.length-1;b>=-1&&!h;b--){var A=b>=0?arguments[b]:E.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";l=A+"/"+l,h=un.isAbs(A)}return(h?"/":"")+(l=un.normalizeArray(l.split("/").filter(H=>!!H),!h).join("/"))||"."},relative:(l,h)=>{function b(Qt){for(var Zt=0;Zt<Qt.length&&""===Qt[Zt];Zt++);for(var Un=Qt.length-1;Un>=0&&""===Qt[Un];Un--);return Zt>Un?[]:Qt.slice(Zt,Un-Zt+1)}l=pr.resolve(l).substr(1),h=pr.resolve(h).substr(1);for(var A=b(l.split("/")),H=b(h.split("/")),we=Math.min(A.length,H.length),Ae=we,Ve=0;Ve<we;Ve++)if(A[Ve]!==H[Ve]){Ae=Ve;break}var Ct=[];for(Ve=Ae;Ve<A.length;Ve++)Ct.push("..");return(Ct=Ct.concat(H.slice(Ae))).join("/")}};function Jt(l,h,b){var A=b>0?b:X(l)+1,H=new Array(A),we=$e(l,H,0,H.length);return h&&(H.length=we),H}var hr={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){hr.ttys[l]={input:[],output:[],ops:h},E.registerDevice(l,hr.stream_ops)},stream_ops:{open:function(l){var h=hr.ttys[l.node.rdev];if(!h)throw new E.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,b,A,H){if(!l.tty||!l.tty.ops.get_char)throw new E.ErrnoError(60);for(var we=0,Ae=0;Ae<A;Ae++){var Ve;try{Ve=l.tty.ops.get_char(l.tty)}catch{throw new E.ErrnoError(29)}if(void 0===Ve&&0===we)throw new E.ErrnoError(6);if(null==Ve)break;we++,h[b+Ae]=Ve}return we&&(l.node.timestamp=Date.now()),we},write:function(l,h,b,A,H){if(!l.tty||!l.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var we=0;we<A;we++)l.tty.ops.put_char(l.tty,h[b+we])}catch{throw new E.ErrnoError(29)}return A&&(l.node.timestamp=Date.now()),we}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=Jt(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(z(Ue(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(z(Ue(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(W(Ue(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(W(Ue(l.output,0)),l.output=[])}}};function S(l){rr()}var Vt={ops_table:null,mount:function(l){return Vt.createNode(null,"/",16895,0)},createNode:function(l,h,b,A){if(E.isBlkdev(b)||E.isFIFO(b))throw new E.ErrnoError(63);Vt.ops_table||(Vt.ops_table={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:E.chrdev_stream_ops}});var H=E.createNode(l,h,b,A);return E.isDir(H.mode)?(H.node_ops=Vt.ops_table.dir.node,H.stream_ops=Vt.ops_table.dir.stream,H.contents={}):E.isFile(H.mode)?(H.node_ops=Vt.ops_table.file.node,H.stream_ops=Vt.ops_table.file.stream,H.usedBytes=0,H.contents=null):E.isLink(H.mode)?(H.node_ops=Vt.ops_table.link.node,H.stream_ops=Vt.ops_table.link.stream):E.isChrdev(H.mode)&&(H.node_ops=Vt.ops_table.chrdev.node,H.stream_ops=Vt.ops_table.chrdev.stream),H.timestamp=Date.now(),l&&(l.contents[h]=H,l.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var b=l.contents?l.contents.length:0;if(!(b>=h)){h=Math.max(h,b*(b<1048576?2:1.125)>>>0),0!=b&&(h=Math.max(h,256));var H=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(H.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(h),b&&l.contents.set(b.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=E.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=E.isDir(l.mode)?4096:E.isFile(l.mode)?l.usedBytes:E.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&Vt.resizeFileStorage(l,h.size)},lookup:function(l,h){throw E.genericErrors[44]},mknod:function(l,h,b,A){return Vt.createNode(l,h,b,A)},rename:function(l,h,b){if(E.isDir(l.mode)){var A;try{A=E.lookupNode(h,b)}catch{}if(A)for(var H in A.contents)throw new E.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,h.contents[b]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var b=E.lookupNode(l,h);for(var A in b.contents)throw new E.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var b in l.contents)!l.contents.hasOwnProperty(b)||h.push(b);return h},symlink:function(l,h,b){var A=Vt.createNode(l,h,41471,0);return A.link=b,A},readlink:function(l){if(!E.isLink(l.mode))throw new E.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,b,A,H){var we=l.node.contents;if(H>=l.node.usedBytes)return 0;var Ae=Math.min(l.node.usedBytes-H,A);if(Ae>8&&we.subarray)h.set(we.subarray(H,H+Ae),b);else for(var Ve=0;Ve<Ae;Ve++)h[b+Ve]=we[H+Ve];return Ae},write:function(l,h,b,A,H,we){if(h.buffer===nt.buffer&&(we=!1),!A)return 0;var Ae=l.node;if(Ae.timestamp=Date.now(),h.subarray&&(!Ae.contents||Ae.contents.subarray)){if(we)return Ae.contents=h.subarray(b,b+A),Ae.usedBytes=A,A;if(0===Ae.usedBytes&&0===H)return Ae.contents=h.slice(b,b+A),Ae.usedBytes=A,A;if(H+A<=Ae.usedBytes)return Ae.contents.set(h.subarray(b,b+A),H),A}if(Vt.expandFileStorage(Ae,H+A),Ae.contents.subarray&&h.subarray)Ae.contents.set(h.subarray(b,b+A),H);else for(var Ve=0;Ve<A;Ve++)Ae.contents[H+Ve]=h[b+Ve];return Ae.usedBytes=Math.max(Ae.usedBytes,H+A),A},llseek:function(l,h,b){var A=h;if(1===b?A+=l.position:2===b&&E.isFile(l.node.mode)&&(A+=l.node.usedBytes),A<0)throw new E.ErrnoError(28);return A},allocate:function(l,h,b){Vt.expandFileStorage(l.node,h+b),l.node.usedBytes=Math.max(l.node.usedBytes,h+b)},mmap:function(l,h,b,A,H){if(!E.isFile(l.node.mode))throw new E.ErrnoError(43);var we,Ae,Ve=l.node.contents;if(2&H||Ve.buffer!==ze){if((b>0||b+h<Ve.length)&&(Ve=Ve.subarray?Ve.subarray(b,b+h):Array.prototype.slice.call(Ve,b,b+h)),Ae=!0,!(we=S()))throw new E.ErrnoError(48);nt.set(Ve,we)}else Ae=!1,we=Ve.byteOffset;return{ptr:we,allocated:Ae}},msync:function(l,h,b,A,H){return Vt.stream_ops.write(l,h,0,A,b,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=pr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new E.ErrnoError(32);for(var A=l.split("/").filter(Un=>!!Un),H=E.root,we="/",Ae=0;Ae<A.length;Ae++){var Ve=Ae===A.length-1;if(Ve&&h.parent)break;if(H=E.lookupNode(H,A[Ae]),we=un.join2(we,A[Ae]),E.isMountpoint(H)&&(!Ve||Ve&&h.follow_mount)&&(H=H.mounted.root),!Ve||h.follow)for(var Ct=0;E.isLink(H.mode);){var Qt=E.readlink(we);if(we=pr.resolve(un.dirname(we),Qt),H=E.lookupPath(we,{recurse_count:h.recurse_count+1}).node,Ct++>40)throw new E.ErrnoError(32)}}return{path:we,node:H}},getPath:l=>{for(var h;;){if(E.isRoot(l)){var b=l.mount.mountpoint;return h?"/"!==b[b.length-1]?b+"/"+h:b+h:b}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var b=0,A=0;A<h.length;A++)b=(b<<5)-b+h.charCodeAt(A)|0;return(l+b>>>0)%E.nameTable.length},hashAddNode:l=>{var h=E.hashName(l.parent.id,l.name);l.name_next=E.nameTable[h],E.nameTable[h]=l},hashRemoveNode:l=>{var h=E.hashName(l.parent.id,l.name);if(E.nameTable[h]===l)E.nameTable[h]=l.name_next;else for(var b=E.nameTable[h];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode:(l,h)=>{var b=E.mayLookup(l);if(b)throw new E.ErrnoError(b,l);for(var A=E.hashName(l.id,h),H=E.nameTable[A];H;H=H.name_next)if(H.parent.id===l.id&&H.name===h)return H;return E.lookup(l,h)},createNode:(l,h,b,A)=>{var H=new E.FSNode(l,h,b,A);return E.hashAddNode(H),H},destroyNode:l=>{E.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=E.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>E.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>E.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return E.lookupNode(l,h),20}catch{}return E.nodePermissions(l,"wx")},mayDelete:(l,h,b)=>{var A;try{A=E.lookupNode(l,h)}catch(we){return we.errno}var H=E.nodePermissions(l,"wx");if(H)return H;if(b){if(!E.isDir(A.mode))return 54;if(E.isRoot(A)||E.getPath(A)===E.cwd())return 10}else if(E.isDir(A.mode))return 31;return 0},mayOpen:(l,h)=>l?E.isLink(l.mode)?32:E.isDir(l.mode)&&("r"!==E.flagsToPermissionString(h)||512&h)?31:E.nodePermissions(l,E.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=E.MAX_OPEN_FDS)=>{for(var b=l;b<=h;b++)if(!E.streams[b])return b;throw new E.ErrnoError(33)},getStream:l=>E.streams[l],createStream:(l,h,b)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),l=Object.assign(new E.FSStream,l);var A=E.nextfd(h,b);return l.fd=A,E.streams[A]=l,l},closeStream:l=>{E.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=E.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new E.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{E.devices[l]={stream_ops:h}},getDevice:l=>E.devices[l],getMounts:l=>{for(var h=[],b=[l];b.length;){var A=b.pop();h.push(A),b.push.apply(b,A.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),E.syncFSRequests++,E.syncFSRequests>1&&W("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=E.getMounts(E.root.mount),A=0;function H(Ae){return E.syncFSRequests--,h(Ae)}function we(Ae){if(Ae)return we.errored?void 0:(we.errored=!0,H(Ae));++A>=b.length&&H(null)}b.forEach(Ae=>{if(!Ae.type.syncfs)return we(null);Ae.type.syncfs(Ae,l,we)})},mount:(l,h,b)=>{var we,A="/"===b,H=!b;if(A&&E.root)throw new E.ErrnoError(10);if(!A&&!H){var Ae=E.lookupPath(b,{follow_mount:!1});if(b=Ae.path,E.isMountpoint(we=Ae.node))throw new E.ErrnoError(10);if(!E.isDir(we.mode))throw new E.ErrnoError(54)}var Ve={type:l,opts:h,mountpoint:b,mounts:[]},Ct=l.mount(Ve);return Ct.mount=Ve,Ve.root=Ct,A?E.root=Ct:we&&(we.mounted=Ve,we.mount&&we.mount.mounts.push(Ve)),Ct},unmount:l=>{var h=E.lookupPath(l,{follow_mount:!1});if(!E.isMountpoint(h.node))throw new E.ErrnoError(28);var b=h.node,A=b.mounted,H=E.getMounts(A);Object.keys(E.nameTable).forEach(Ae=>{for(var Ve=E.nameTable[Ae];Ve;){var Ct=Ve.name_next;H.includes(Ve.mount)&&E.destroyNode(Ve),Ve=Ct}}),b.mounted=null;var we=b.mount.mounts.indexOf(A);b.mount.mounts.splice(we,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,b)=>{var H=E.lookupPath(l,{parent:!0}).node,we=un.basename(l);if(!we||"."===we||".."===we)throw new E.ErrnoError(28);var Ae=E.mayCreate(H,we);if(Ae)throw new E.ErrnoError(Ae);if(!H.node_ops.mknod)throw new E.ErrnoError(63);return H.node_ops.mknod(H,we,h,b)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,E.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,E.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var b=l.split("/"),A="",H=0;H<b.length;++H)if(b[H]){A+="/"+b[H];try{E.mkdir(A,h)}catch(we){if(20!=we.errno)throw we}}},mkdev:(l,h,b)=>(typeof b>"u"&&(b=h,h=438),E.mknod(l,h|=8192,b)),symlink:(l,h)=>{if(!pr.resolve(l))throw new E.ErrnoError(44);var A=E.lookupPath(h,{parent:!0}).node;if(!A)throw new E.ErrnoError(44);var H=un.basename(h),we=E.mayCreate(A,H);if(we)throw new E.ErrnoError(we);if(!A.node_ops.symlink)throw new E.ErrnoError(63);return A.node_ops.symlink(A,H,l)},rename:(l,h)=>{var Ve,Ct,b=un.dirname(l),A=un.dirname(h),H=un.basename(l),we=un.basename(h);if(Ve=E.lookupPath(l,{parent:!0}).node,Ct=E.lookupPath(h,{parent:!0}).node,!Ve||!Ct)throw new E.ErrnoError(44);if(Ve.mount!==Ct.mount)throw new E.ErrnoError(75);var Un,Qt=E.lookupNode(Ve,H),Zt=pr.relative(l,A);if("."!==Zt.charAt(0))throw new E.ErrnoError(28);if("."!==(Zt=pr.relative(h,b)).charAt(0))throw new E.ErrnoError(55);try{Un=E.lookupNode(Ct,we)}catch{}if(Qt!==Un){var ln=E.isDir(Qt.mode),rn=E.mayDelete(Ve,H,ln);if(rn)throw new E.ErrnoError(rn);if(rn=Un?E.mayDelete(Ct,we,ln):E.mayCreate(Ct,we))throw new E.ErrnoError(rn);if(!Ve.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(Qt)||Un&&E.isMountpoint(Un))throw new E.ErrnoError(10);if(Ct!==Ve&&(rn=E.nodePermissions(Ve,"w")))throw new E.ErrnoError(rn);E.hashRemoveNode(Qt);try{Ve.node_ops.rename(Qt,Ct,we)}catch(Nn){throw Nn}finally{E.hashAddNode(Qt)}}},rmdir:l=>{var b=E.lookupPath(l,{parent:!0}).node,A=un.basename(l),H=E.lookupNode(b,A),we=E.mayDelete(b,A,!0);if(we)throw new E.ErrnoError(we);if(!b.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);b.node_ops.rmdir(b,A),E.destroyNode(H)},readdir:l=>{var b=E.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new E.ErrnoError(54);return b.node_ops.readdir(b)},unlink:l=>{var b=E.lookupPath(l,{parent:!0}).node;if(!b)throw new E.ErrnoError(44);var A=un.basename(l),H=E.lookupNode(b,A),we=E.mayDelete(b,A,!1);if(we)throw new E.ErrnoError(we);if(!b.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);b.node_ops.unlink(b,A),E.destroyNode(H)},readlink:l=>{var b=E.lookupPath(l).node;if(!b)throw new E.ErrnoError(44);if(!b.node_ops.readlink)throw new E.ErrnoError(28);return pr.resolve(E.getPath(b.parent),b.node_ops.readlink(b))},stat:(l,h)=>{var A=E.lookupPath(l,{follow:!h}).node;if(!A)throw new E.ErrnoError(44);if(!A.node_ops.getattr)throw new E.ErrnoError(63);return A.node_ops.getattr(A)},lstat:l=>E.stat(l,!0),chmod:(l,h,b)=>{var A;if(!(A="string"==typeof l?E.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new E.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&h|-4096&A.mode,timestamp:Date.now()})},lchmod:(l,h)=>{E.chmod(l,h,!0)},fchmod:(l,h)=>{var b=E.getStream(l);if(!b)throw new E.ErrnoError(8);E.chmod(b.node,h)},chown:(l,h,b,A)=>{var H;if(!(H="string"==typeof l?E.lookupPath(l,{follow:!A}).node:l).node_ops.setattr)throw new E.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(l,h,b)=>{E.chown(l,h,b,!0)},fchown:(l,h,b)=>{var A=E.getStream(l);if(!A)throw new E.ErrnoError(8);E.chown(A.node,h,b)},truncate:(l,h)=>{if(h<0)throw new E.ErrnoError(28);var b;if(!(b="string"==typeof l?E.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(b.mode))throw new E.ErrnoError(31);if(!E.isFile(b.mode))throw new E.ErrnoError(28);var H=E.nodePermissions(b,"w");if(H)throw new E.ErrnoError(H);b.node_ops.setattr(b,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var b=E.getStream(l);if(!b)throw new E.ErrnoError(8);if(0==(2097155&b.flags))throw new E.ErrnoError(28);E.truncate(b.node,h)},utime:(l,h,b)=>{var H=E.lookupPath(l,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(h,b)})},open:(l,h,b)=>{if(""===l)throw new E.ErrnoError(44);var A;if(b=typeof b>"u"?438:b,b=64&(h="string"==typeof h?E.modeStringToFlags(h):h)?4095&b|32768:0,"object"==typeof l)A=l;else{l=un.normalize(l);try{A=E.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var we=!1;if(64&h)if(A){if(128&h)throw new E.ErrnoError(20)}else A=E.mknod(l,b,0),we=!0;if(!A)throw new E.ErrnoError(44);if(E.isChrdev(A.mode)&&(h&=-513),65536&h&&!E.isDir(A.mode))throw new E.ErrnoError(54);if(!we){var Ae=E.mayOpen(A,h);if(Ae)throw new E.ErrnoError(Ae)}512&h&&!we&&E.truncate(A,0),h&=-131713;var Ve=E.createStream({node:A,path:E.getPath(A),flags:h,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return Ve.stream_ops.open&&Ve.stream_ops.open(Ve),u.logReadFiles&&!(1&h)&&(E.readFiles||(E.readFiles={}),l in E.readFiles||(E.readFiles[l]=1)),Ve},close:l=>{if(E.isClosed(l))throw new E.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{E.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,b)=>{if(E.isClosed(l))throw new E.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new E.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,b),l.ungotten=[],l.position},read:(l,h,b,A,H)=>{if(A<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(l))throw new E.ErrnoError(8);if(1==(2097155&l.flags))throw new E.ErrnoError(8);if(E.isDir(l.node.mode))throw new E.ErrnoError(31);if(!l.stream_ops.read)throw new E.ErrnoError(28);var we=typeof H<"u";if(we){if(!l.seekable)throw new E.ErrnoError(70)}else H=l.position;var Ae=l.stream_ops.read(l,h,b,A,H);return we||(l.position+=Ae),Ae},write:(l,h,b,A,H,we)=>{if(A<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(l))throw new E.ErrnoError(8);if(0==(2097155&l.flags))throw new E.ErrnoError(8);if(E.isDir(l.node.mode))throw new E.ErrnoError(31);if(!l.stream_ops.write)throw new E.ErrnoError(28);l.seekable&&1024&l.flags&&E.llseek(l,0,2);var Ae=typeof H<"u";if(Ae){if(!l.seekable)throw new E.ErrnoError(70)}else H=l.position;var Ve=l.stream_ops.write(l,h,b,A,H,we);return Ae||(l.position+=Ve),Ve},allocate:(l,h,b)=>{if(E.isClosed(l))throw new E.ErrnoError(8);if(h<0||b<=0)throw new E.ErrnoError(28);if(0==(2097155&l.flags))throw new E.ErrnoError(8);if(!E.isFile(l.node.mode)&&!E.isDir(l.node.mode))throw new E.ErrnoError(43);if(!l.stream_ops.allocate)throw new E.ErrnoError(138);l.stream_ops.allocate(l,h,b)},mmap:(l,h,b,A,H)=>{if(0!=(2&A)&&0==(2&H)&&2!=(2097155&l.flags))throw new E.ErrnoError(2);if(1==(2097155&l.flags))throw new E.ErrnoError(2);if(!l.stream_ops.mmap)throw new E.ErrnoError(43);return l.stream_ops.mmap(l,h,b,A,H)},msync:(l,h,b,A,H)=>l.stream_ops.msync?l.stream_ops.msync(l,h,b,A,H):0,munmap:l=>0,ioctl:(l,h,b)=>{if(!l.stream_ops.ioctl)throw new E.ErrnoError(59);return l.stream_ops.ioctl(l,h,b)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var b,A=E.open(l,h.flags),we=E.stat(l).size,Ae=new Uint8Array(we);return E.read(A,Ae,0,we,0),"utf8"===h.encoding?b=Ue(Ae,0):"binary"===h.encoding&&(b=Ae),E.close(A),b},writeFile:(l,h,b={})=>{b.flags=b.flags||577;var A=E.open(l,b.flags,b.mode);if("string"==typeof h){var H=new Uint8Array(X(h)+1),we=$e(h,H,0,H.length);E.write(A,H,0,we,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");E.write(A,h,0,h.byteLength,void 0,b.canOwn)}E.close(A)},cwd:()=>E.currentPath,chdir:l=>{var h=E.lookupPath(l,{follow:!0});if(null===h.node)throw new E.ErrnoError(44);if(!E.isDir(h.node.mode))throw new E.ErrnoError(54);var b=E.nodePermissions(h.node,"x");if(b)throw new E.ErrnoError(b);E.currentPath=h.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(h,b,A,H,we)=>H}),E.mkdev("/dev/null",E.makedev(1,3)),hr.register(E.makedev(5,0),hr.default_tty_ops),hr.register(E.makedev(6,0),hr.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var l=function Xn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>rr("randomDevice")}();E.createDevice("/dev","random",l),E.createDevice("/dev","urandom",l),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var l=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var h=E.createNode(l,"fd",16895,73);return h.node_ops={lookup:(b,A)=>{var we=E.getStream(+A);if(!we)throw new E.ErrnoError(8);var Ae={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>we.path}};return Ae.parent=Ae,Ae}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?E.createDevice("/dev","stdin",u.stdin):E.symlink("/dev/tty","/dev/stdin"),u.stdout?E.createDevice("/dev","stdout",null,u.stdout):E.symlink("/dev/tty","/dev/stdout"),u.stderr?E.createDevice("/dev","stderr",null,u.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(h,b){this.node=b,this.setErrno=function(A){this.errno=A},this.setErrno(h),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(l=>{E.genericErrors[l]=new E.ErrnoError(l),E.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(Vt,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:Vt}},init:(l,h,b)=>{E.init.initialized=!0,E.ensureErrnoError(),u.stdin=l||u.stdin,u.stdout=h||u.stdout,u.stderr=b||u.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var l=0;l<E.streams.length;l++){var h=E.streams[l];!h||E.close(h)}},getMode:(l,h)=>{var b=0;return l&&(b|=365),h&&(b|=146),b},findObject:(l,h)=>{var b=E.analyzePath(l,h);return b.exists?b.object:null},analyzePath:(l,h)=>{try{l=(b=E.lookupPath(l,{follow:!h})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=E.lookupPath(l,{parent:!0});A.parentExists=!0,A.parentPath=b.path,A.parentObject=b.node,A.name=un.basename(l),b=E.lookupPath(l,{follow:!h}),A.exists=!0,A.path=b.path,A.object=b.node,A.name=b.node.name,A.isRoot="/"===b.path}catch(H){A.error=H.errno}return A},createPath:(l,h,b,A)=>{l="string"==typeof l?l:E.getPath(l);for(var H=h.split("/").reverse();H.length;){var we=H.pop();if(we){var Ae=un.join2(l,we);try{E.mkdir(Ae)}catch{}l=Ae}}return Ae},createFile:(l,h,b,A,H)=>{var we=un.join2("string"==typeof l?l:E.getPath(l),h),Ae=E.getMode(A,H);return E.create(we,Ae)},createDataFile:(l,h,b,A,H,we)=>{var Ae=h;l&&(l="string"==typeof l?l:E.getPath(l),Ae=h?un.join2(l,h):l);var Ve=E.getMode(A,H),Ct=E.create(Ae,Ve);if(b){if("string"==typeof b){for(var Qt=new Array(b.length),Zt=0,Un=b.length;Zt<Un;++Zt)Qt[Zt]=b.charCodeAt(Zt);b=Qt}E.chmod(Ct,146|Ve);var ln=E.open(Ct,577);E.write(ln,b,0,b.length,0,we),E.close(ln),E.chmod(Ct,Ve)}return Ct},createDevice:(l,h,b,A)=>{var H=un.join2("string"==typeof l?l:E.getPath(l),h),we=E.getMode(!!b,!!A);E.createDevice.major||(E.createDevice.major=64);var Ae=E.makedev(E.createDevice.major++,0);return E.registerDevice(Ae,{open:Ve=>{Ve.seekable=!1},close:Ve=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(Ve,Ct,Qt,Zt,Un)=>{for(var ln=0,rn=0;rn<Zt;rn++){var Nn;try{Nn=b()}catch{throw new E.ErrnoError(29)}if(void 0===Nn&&0===ln)throw new E.ErrnoError(6);if(null==Nn)break;ln++,Ct[Qt+rn]=Nn}return ln&&(Ve.node.timestamp=Date.now()),ln},write:(Ve,Ct,Qt,Zt,Un)=>{for(var ln=0;ln<Zt;ln++)try{A(Ct[Qt+ln])}catch{throw new E.ErrnoError(29)}return Zt&&(Ve.node.timestamp=Date.now()),ln}}),E.mkdev(H,we,Ae)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Jt(G(l.url),!0),l.usedBytes=l.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(l,h,b,A,H)=>{function we(){this.lengthKnown=!1,this.chunks=[]}if(we.prototype.get=function(rn){if(!(rn>this.length-1||rn<0)){var Nn=rn%this.chunkSize;return this.getter(rn/this.chunkSize|0)[Nn]}},we.prototype.setDataGetter=function(rn){this.getter=rn},we.prototype.cacheLength=function(){var rn=new XMLHttpRequest;if(rn.open("HEAD",b,!1),rn.send(null),!(rn.status>=200&&rn.status<300||304===rn.status))throw new Error("Couldn't load "+b+". Status: "+rn.status);var eo,Nn=Number(rn.getResponseHeader("Content-length")),Pi=(eo=rn.getResponseHeader("Accept-Ranges"))&&"bytes"===eo,wo=(eo=rn.getResponseHeader("Content-Encoding"))&&"gzip"===eo,bt=1048576;Pi||(bt=Nn);var to=this;to.setDataGetter(Dr=>{var Wi=Dr*bt,Ir=(Dr+1)*bt-1;if(Ir=Math.min(Ir,Nn-1),typeof to.chunks[Dr]>"u"&&(to.chunks[Dr]=((Dr,Wi)=>{if(Dr>Wi)throw new Error("invalid range ("+Dr+", "+Wi+") or no bytes requested!");if(Wi>Nn-1)throw new Error("only "+Nn+" bytes available! programmer error!");var Ir=new XMLHttpRequest;if(Ir.open("GET",b,!1),Nn!==bt&&Ir.setRequestHeader("Range","bytes="+Dr+"-"+Wi),Ir.responseType="arraybuffer",Ir.overrideMimeType&&Ir.overrideMimeType("text/plain; charset=x-user-defined"),Ir.send(null),!(Ir.status>=200&&Ir.status<300||304===Ir.status))throw new Error("Couldn't load "+b+". Status: "+Ir.status);return void 0!==Ir.response?new Uint8Array(Ir.response||[]):Jt(Ir.responseText||"",!0)})(Wi,Ir)),typeof to.chunks[Dr]>"u")throw new Error("doXHR failed!");return to.chunks[Dr]}),(wo||!Nn)&&(bt=Nn=1,Nn=this.getter(0).length,bt=Nn,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Nn,this._chunkSize=bt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!K)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ae=new we;Object.defineProperties(Ae,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ve={isDevice:!1,contents:Ae}}else Ve={isDevice:!1,url:b};var Ct=E.createFile(l,h,Ve,A,H);Ve.contents?Ct.contents=Ve.contents:Ve.url&&(Ct.contents=null,Ct.url=Ve.url),Object.defineProperties(Ct,{usedBytes:{get:function(){return this.contents.length}}});var Qt={};function Un(ln,rn,Nn,eo,Pi){var wo=ln.node.contents;if(Pi>=wo.length)return 0;var bt=Math.min(wo.length-Pi,eo);if(wo.slice)for(var on=0;on<bt;on++)rn[Nn+on]=wo[Pi+on];else for(on=0;on<bt;on++)rn[Nn+on]=wo.get(Pi+on);return bt}return Object.keys(Ct.stream_ops).forEach(ln=>{var rn=Ct.stream_ops[ln];Qt[ln]=function(){return E.forceLoadFile(Ct),rn.apply(null,arguments)}}),Qt.read=(ln,rn,Nn,eo,Pi)=>(E.forceLoadFile(Ct),Un(ln,rn,Nn,eo,Pi)),Qt.mmap=(ln,rn,Nn,eo,Pi)=>{E.forceLoadFile(Ct);var wo=S();if(!wo)throw new E.ErrnoError(48);return Un(ln,nt,wo,rn,Nn),{ptr:wo,allocated:!0}},Ct.stream_ops=Qt,Ct},createPreloadedFile:(l,h,b,A,H,we,Ae,Ve,Ct,Qt)=>{var Zt=h?pr.resolve(un.join2(l,h)):l;function ln(rn){function Nn(eo){Qt&&Qt(),Ve||E.createDataFile(l,h,eo,A,H,Ct),we&&we(),dr()}Browser.handledByPreloadPlugin(rn,Zt,Nn,()=>{Ae&&Ae(),dr()})||Nn(rn)}Wr(),"string"==typeof b?function sr(l,h,b,A){var H=A?"":"al "+l;Oe(l,we=>{Me(we,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(we)),H&&dr()},we=>{if(!b)throw'Loading data file "'+l+'" failed.';b()}),H&&Wr()}(b,rn=>ln(rn),Ae):ln(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,b)=>{h=h||(()=>{}),b=b||(()=>{});var A=E.indexedDB();try{var H=A.open(E.DB_NAME(),E.DB_VERSION)}catch(we){return b(we)}H.onupgradeneeded=()=>{z("creating db"),H.result.createObjectStore(E.DB_STORE_NAME)},H.onsuccess=()=>{var Ae=H.result.transaction([E.DB_STORE_NAME],"readwrite"),Ve=Ae.objectStore(E.DB_STORE_NAME),Ct=0,Qt=0,Zt=l.length;function Un(){0==Qt?h():b()}l.forEach(ln=>{var rn=Ve.put(E.analyzePath(ln).object.contents,ln);rn.onsuccess=()=>{++Ct+Qt==Zt&&Un()},rn.onerror=()=>{Qt++,Ct+Qt==Zt&&Un()}}),Ae.onerror=b},H.onerror=b},loadFilesFromDB:(l,h,b)=>{h=h||(()=>{}),b=b||(()=>{});var A=E.indexedDB();try{var H=A.open(E.DB_NAME(),E.DB_VERSION)}catch(we){return b(we)}H.onupgradeneeded=b,H.onsuccess=()=>{var we=H.result;try{var Ae=we.transaction([E.DB_STORE_NAME],"readonly")}catch(ln){return void b(ln)}var Ve=Ae.objectStore(E.DB_STORE_NAME),Ct=0,Qt=0,Zt=l.length;function Un(){0==Qt?h():b()}l.forEach(ln=>{var rn=Ve.get(ln);rn.onsuccess=()=>{E.analyzePath(ln).exists&&E.unlink(ln),E.createDataFile(un.dirname(ln),un.basename(ln),rn.result,!0,!0,!0),++Ct+Qt==Zt&&Un()},rn.onerror=()=>{Qt++,Ct+Qt==Zt&&Un()}}),Ae.onerror=b},H.onerror=b}},An={DEFAULT_POLLMASK:5,calculateAt:function(l,h,b){if(un.isAbs(h))return h;var A;if(A=-100===l?E.cwd():An.getStreamFromFD(l).path,0==h.length){if(!b)throw new E.ErrnoError(44);return A}return un.join2(A,h)},doStat:function(l,h,b){try{var A=l(h)}catch(H){if(H&&H.node&&un.normalize(h)!==un.normalize(E.getPath(H.node)))return-54;throw H}return O[b>>2]=A.dev,O[b+8>>2]=A.ino,O[b+12>>2]=A.mode,ve[b+16>>2]=A.nlink,O[b+20>>2]=A.uid,O[b+24>>2]=A.gid,O[b+28>>2]=A.rdev,ue=[A.size>>>0,(at=A.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+40>>2]=ue[0],O[b+44>>2]=ue[1],O[b+48>>2]=4096,O[b+52>>2]=A.blocks,ue=[Math.floor(A.atime.getTime()/1e3)>>>0,(at=Math.floor(A.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+56>>2]=ue[0],O[b+60>>2]=ue[1],ve[b+64>>2]=0,ue=[Math.floor(A.mtime.getTime()/1e3)>>>0,(at=Math.floor(A.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+72>>2]=ue[0],O[b+76>>2]=ue[1],ve[b+80>>2]=0,ue=[Math.floor(A.ctime.getTime()/1e3)>>>0,(at=Math.floor(A.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+88>>2]=ue[0],O[b+92>>2]=ue[1],ve[b+96>>2]=0,ue=[A.ino>>>0,(at=A.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+104>>2]=ue[0],O[b+108>>2]=ue[1],0},doMsync:function(l,h,b,A,H){if(!E.isFile(h.node.mode))throw new E.ErrnoError(43);if(2&A)return 0;var we=St.slice(l,l+b);E.msync(h,we,H,b,A)},varargs:void 0,get:function(){return An.varargs+=4,O[An.varargs-4>>2]},getStr:function(l){return Fe(l)},getStreamFromFD:function(l){var h=E.getStream(l);if(!h)throw new E.ErrnoError(8);return h}};function so(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}function $r(l){return l%4==0&&(l%100!=0||l%400==0)}var lo=[0,31,60,91,121,152,182,213,244,274,305,335],pi=[0,31,59,90,120,151,181,212,243,273,304,334];function an(l){return($r(l.getFullYear())?lo:pi)[l.getMonth()]+l.getDate()-1}function xr(l){var h=X(l)+1,b=aa(h);return b&&$e(l,nt,b,h),b}var Ei=[];function or(l){try{return me.grow(l-ze.byteLength+65535>>>16),pe(me.buffer),1}catch{}}var oi={};function Mn(){if(!Mn.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var b in oi)void 0===oi[b]?delete h[b]:h[b]=oi[b];var A=[];for(var b in h)A.push(b+"="+h[b]);Mn.strings=A}return Mn.strings}var Z=[31,29,31,30,31,30,31,31,30,31,30,31],_e=[31,28,31,30,31,30,31,31,30,31,30,31];function co(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var zo=[];function Ha(l){var h=zo[l];return h||(l>=zo.length&&(zo.length=l+1),zo[l]=h=Be.get(l)),h}var ki=void 0,Ps=[];function Xr(l,h){Be.set(l,h),zo[l]=Be.get(l)}var sa=function(l,h,b,A){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=E.nextInode++,this.name=h,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(sa.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=sa,E.staticInit();var qt,vt={b:function pn(l,h,b,A){rr("Assertion failed: "+Fe(l)+", at: "+[h?Fe(h):"unknown filename",b,A?Fe(A):"unknown function"])},k:function vn(l){const h=new Error(Fe(l));throw h.isAssert=!0,h},e:function yo(l,h,b){An.varargs=b;try{var A=An.getStreamFromFD(l);switch(h){case 0:return(H=An.get())<0?-28:E.createStream(A,H).fd;case 1:case 2:case 6:case 7:return 0;case 3:return A.flags;case 4:var H=An.get();return A.flags|=H,0;case 5:return H=An.get(),Rt[H+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return function fr(l){O[la()>>2]=l}(28),-1}}catch(Ve){if(typeof E>"u"||!(Ve instanceof E.ErrnoError))throw Ve;return-Ve.errno}},m:function Uo(l,h,b){try{var A=so(h,b);return isNaN(A)?-61:(E.ftruncate(l,A),0)}catch(H){if(typeof E>"u"||!(H instanceof E.ErrnoError))throw H;return-H.errno}},v:function Tr(l,h,b){An.varargs=b;try{var A=An.getStreamFromFD(l);switch(h){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return A.tty?0:-59;case 21519:if(!A.tty)return-59;var H=An.get();return O[H>>2]=0,0;case 21520:return A.tty?-28:-59;case 21531:return H=An.get(),E.ioctl(A,h,H);default:return-28}}catch(we){if(typeof E>"u"||!(we instanceof E.ErrnoError))throw we;return-we.errno}},f:function Ci(l,h,b,A){An.varargs=A;try{h=An.getStr(h),h=An.calculateAt(l,h);var H=A?An.get():0;return E.open(h,b,H).fd}catch(we){if(typeof E>"u"||!(we instanceof E.ErrnoError))throw we;return-we.errno}},g:function ao(){return!0},h:function Mo(l,h){var b=new Date(1e3*function mr(l){return ve[l>>2]+4294967296*O[l+4>>2]}(l));O[h>>2]=b.getSeconds(),O[h+4>>2]=b.getMinutes(),O[h+8>>2]=b.getHours(),O[h+12>>2]=b.getDate(),O[h+16>>2]=b.getMonth(),O[h+20>>2]=b.getFullYear()-1900,O[h+24>>2]=b.getDay();var A=0|an(b);O[h+28>>2]=A,O[h+36>>2]=-60*b.getTimezoneOffset();var H=new Date(b.getFullYear(),0,1),we=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ae=H.getTimezoneOffset(),Ve=0|(we!=Ae&&b.getTimezoneOffset()==Math.min(Ae,we));O[h+32>>2]=Ve},i:function D(l){var h=new Date(O[l+20>>2]+1900,O[l+16>>2],O[l+12>>2],O[l+8>>2],O[l+4>>2],O[l>>2],0),b=O[l+32>>2],A=h.getTimezoneOffset(),H=new Date(h.getFullYear(),0,1),we=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Ae=H.getTimezoneOffset(),Ve=Math.min(Ae,we);if(b<0)O[l+32>>2]=Number(we!=Ae&&Ve==A);else if(b>0!=(Ve==A)){var Ct=Math.max(Ae,we),Qt=b>0?Ve:Ct;h.setTime(h.getTime()+6e4*(Qt-A))}O[l+24>>2]=h.getDay();var Zt=0|an(h);return O[l+28>>2]=Zt,O[l>>2]=h.getSeconds(),O[l+4>>2]=h.getMinutes(),O[l+8>>2]=h.getHours(),O[l+12>>2]=h.getDate(),O[l+16>>2]=h.getMonth(),O[l+20>>2]=h.getYear(),h.getTime()/1e3|0},j:function jr(l,h,b){var A=(new Date).getFullYear(),H=new Date(A,0,1),we=new Date(A,6,1),Ae=H.getTimezoneOffset(),Ve=we.getTimezoneOffset(),Ct=Math.max(Ae,Ve);function Qt(Nn){var eo=Nn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return eo?eo[1]:"GMT"}ve[l>>2]=60*Ct,O[h>>2]=Number(Ae!=Ve);var Zt=Qt(H),Un=Qt(we),ln=xr(Zt),rn=xr(Un);Ve<Ae?(ve[b>>2]=ln,ve[b+4>>2]=rn):(ve[b>>2]=rn,ve[b+4>>2]=ln)},a:function Si(){rr("")},n:function Oo(l,h,b){var A=function _o(l,h){var b;for(Ei.length=0,h>>=2;b=St[l++];)h+=105!=b&h,Ei.push(105==b?O[h]:J[h++>>1]),++h;return Ei}(h,b);return Ge[l].apply(null,A)},c:function Hi(){return Date.now()},s:function Di(l,h,b){St.copyWithin(l,h,h+b)},r:function Go(l){var Ct,h=St.length,b=2147483648;if((l>>>=0)>b)return!1;for(var H=1;H<=4;H*=2){var we=h*(1+.2/H);if(we=Math.min(we,l+100663296),or(Math.min(b,(Ct=Math.max(l,we))+(65536-Ct%65536)%65536)))return!0}return!1},p:function Vn(l,h){var b=0;return Mn().forEach(function(A,H){var we=h+b;ve[l+4*H>>2]=we,function ii(l,h,b){for(var A=0;A<l.length;++A)nt[h++>>0]=l.charCodeAt(A);b||(nt[h>>0]=0)}(A,we),b+=A.length+1}),0},q:function Mi(l,h){var b=Mn();ve[l>>2]=b.length;var A=0;return b.forEach(function(H){A+=H.length+1}),ve[h>>2]=A,0},d:function ms(l){try{var h=An.getStreamFromFD(l);return E.close(h),0}catch(b){if(typeof E>"u"||!(b instanceof E.ErrnoError))throw b;return b.errno}},u:function F(l,h,b,A){try{var we=function x(l,h,b,A){for(var H=0,we=0;we<b;we++){var Ae=ve[h>>2],Ve=ve[h+4>>2];h+=8;var Ct=E.read(l,nt,Ae,Ve,A);if(Ct<0)return-1;if(H+=Ct,Ct<Ve)break}return H}(An.getStreamFromFD(l),h,b);return ve[A>>2]=we,0}catch(Ae){if(typeof E>"u"||!(Ae instanceof E.ErrnoError))throw Ae;return Ae.errno}},l:function ye(l,h,b,A,H){try{var we=so(h,b);if(isNaN(we))return 61;var Ae=An.getStreamFromFD(l);return E.llseek(Ae,we,A),ue=[Ae.position>>>0,(at=Ae.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[H>>2]=ue[0],O[H+4>>2]=ue[1],Ae.getdents&&0===we&&0===A&&(Ae.getdents=null),0}catch(Ve){if(typeof E>"u"||!(Ve instanceof E.ErrnoError))throw Ve;return Ve.errno}},t:function ne(l,h,b,A){try{var we=function Te(l,h,b,A){for(var H=0,we=0;we<b;we++){var Ae=ve[h>>2],Ve=ve[h+4>>2];h+=8;var Ct=E.write(l,nt,Ae,Ve,A);if(Ct<0)return-1;H+=Ct}return H}(An.getStreamFromFD(l),h,b);return ve[A>>2]=we,0}catch(Ae){if(typeof E>"u"||!(Ae instanceof E.ErrnoError))throw Ae;return Ae.errno}},o:function Ht(l,h,b,A,H){return function Mt(l,h,b,A){var H=O[A+40>>2],we={tm_sec:O[A>>2],tm_min:O[A+4>>2],tm_hour:O[A+8>>2],tm_mday:O[A+12>>2],tm_mon:O[A+16>>2],tm_year:O[A+20>>2],tm_wday:O[A+24>>2],tm_yday:O[A+28>>2],tm_isdst:O[A+32>>2],tm_gmtoff:O[A+36>>2],tm_zone:H?Fe(H):""},Ae=Fe(b),Ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ct in Ve)Ae=Ae.replace(new RegExp(Ct,"g"),Ve[Ct]);var Qt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Zt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Un(bt,on,to){for(var Dr="number"==typeof bt?bt.toString():bt||"";Dr.length<on;)Dr=to[0]+Dr;return Dr}function ln(bt,on){return Un(bt,on,"0")}function rn(bt,on){function to(Wi){return Wi<0?-1:Wi>0?1:0}var Dr;return 0===(Dr=to(bt.getFullYear()-on.getFullYear()))&&0===(Dr=to(bt.getMonth()-on.getMonth()))&&(Dr=to(bt.getDate()-on.getDate())),Dr}function Nn(bt){switch(bt.getDay()){case 0:return new Date(bt.getFullYear()-1,11,29);case 1:return bt;case 2:return new Date(bt.getFullYear(),0,3);case 3:return new Date(bt.getFullYear(),0,2);case 4:return new Date(bt.getFullYear(),0,1);case 5:return new Date(bt.getFullYear()-1,11,31);case 6:return new Date(bt.getFullYear()-1,11,30)}}function eo(bt){var on=function Je(l,h){for(var b=new Date(l.getTime());h>0;){var A=$r(b.getFullYear()),H=b.getMonth(),we=(A?Z:_e)[H];if(!(h>we-b.getDate()))return b.setDate(b.getDate()+h),b;h-=we-b.getDate()+1,b.setDate(1),H<11?b.setMonth(H+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(bt.tm_year+1900,0,1),bt.tm_yday),to=new Date(on.getFullYear(),0,4),Dr=new Date(on.getFullYear()+1,0,4),Wi=Nn(to),Ir=Nn(Dr);return rn(Wi,on)<=0?rn(Ir,on)<=0?on.getFullYear()+1:on.getFullYear():on.getFullYear()-1}var Pi={"%a":function(bt){return Qt[bt.tm_wday].substring(0,3)},"%A":function(bt){return Qt[bt.tm_wday]},"%b":function(bt){return Zt[bt.tm_mon].substring(0,3)},"%B":function(bt){return Zt[bt.tm_mon]},"%C":function(bt){return ln((bt.tm_year+1900)/100|0,2)},"%d":function(bt){return ln(bt.tm_mday,2)},"%e":function(bt){return Un(bt.tm_mday,2," ")},"%g":function(bt){return eo(bt).toString().substring(2)},"%G":function(bt){return eo(bt)},"%H":function(bt){return ln(bt.tm_hour,2)},"%I":function(bt){var on=bt.tm_hour;return 0==on?on=12:on>12&&(on-=12),ln(on,2)},"%j":function(bt){return ln(bt.tm_mday+function L(l,h){for(var b=0,A=0;A<=h;b+=l[A++]);return b}($r(bt.tm_year+1900)?Z:_e,bt.tm_mon-1),3)},"%m":function(bt){return ln(bt.tm_mon+1,2)},"%M":function(bt){return ln(bt.tm_min,2)},"%n":function(){return"\n"},"%p":function(bt){return bt.tm_hour>=0&&bt.tm_hour<12?"AM":"PM"},"%S":function(bt){return ln(bt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(bt){return bt.tm_wday||7},"%U":function(bt){return ln(Math.floor((bt.tm_yday+7-bt.tm_wday)/7),2)},"%V":function(bt){var on=Math.floor((bt.tm_yday+7-(bt.tm_wday+6)%7)/7);if((bt.tm_wday+371-bt.tm_yday-2)%7<=2&&on++,on){if(53==on){var Dr=(bt.tm_wday+371-bt.tm_yday)%7;4!=Dr&&(3!=Dr||!$r(bt.tm_year))&&(on=1)}}else{on=52;var to=(bt.tm_wday+7-bt.tm_yday-1)%7;(4==to||5==to&&$r(bt.tm_year%400-1))&&on++}return ln(on,2)},"%w":function(bt){return bt.tm_wday},"%W":function(bt){return ln(Math.floor((bt.tm_yday+7-(bt.tm_wday+6)%7)/7),2)},"%y":function(bt){return(bt.tm_year+1900).toString().substring(2)},"%Y":function(bt){return bt.tm_year+1900},"%z":function(bt){var on=bt.tm_gmtoff,to=on>=0;return on=(on=Math.abs(on)/60)/60*100+on%60,(to?"+":"-")+String("0000"+on).slice(-4)},"%Z":function(bt){return bt.tm_zone},"%%":function(){return"%"}};for(var Ct in Ae=Ae.replace(/%%/g,"\0\0"),Pi)Ae.includes(Ct)&&(Ae=Ae.replace(new RegExp(Ct,"g"),Pi[Ct](we)));var wo=Jt(Ae=Ae.replace(/\0\0/g,"%"),!1);return wo.length>h?0:(function st(l,h){nt.set(l,h)}(wo,l),wo.length-1)}(l,h,b,A)}},aa=(function Lr(){var l={a:vt};function h(Ae,Ve){u.asm=Ae.exports,pe((me=u.asm.w).buffer),Be=u.asm.lc,function Rr(l){je.unshift(l)}(u.asm.x),dr()}function b(Ae){h(Ae.instance)}function A(Ae){return function wi(){return he||!Ie&&!K||"function"!=typeof fetch?Promise.resolve().then(function(){return io(En)}):fetch(En,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+En+"'";return l.arrayBuffer()}).catch(function(){return io(En)})}().then(function(Ve){return WebAssembly.instantiate(Ve,l)}).then(function(Ve){return Ve}).then(Ae,function(Ve){W("failed to asynchronously prepare wasm: "+Ve),rr(Ve)})}if(Wr(),u.instantiateWasm)try{return u.instantiateWasm(l,h)}catch(Ae){W("Module.instantiateWasm callback failed with error: "+Ae),ie(Ae)}(function H(){return he||"function"!=typeof WebAssembly.instantiateStreaming||go(En)||"function"!=typeof fetch?A(b):fetch(En,{credentials:"same-origin"}).then(function(Ae){return WebAssembly.instantiateStreaming(Ae,l).then(b,function(Ct){return W("wasm streaming compile failed: "+Ct),W("falling back to ArrayBuffer instantiation"),A(b)})})})().catch(ie)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.x).apply(null,arguments)},u._free=function(){return(u._free=u.asm.y).apply(null,arguments)},u._malloc=function(){return(aa=u._malloc=u.asm.z).apply(null,arguments)}),la=u.___errno_location=function(){return(la=u.___errno_location=u.asm.A).apply(null,arguments)},cs=(u._main=function(){return(u._main=u.asm.B).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(cs=u._emscripten_bind_VoidPtr___destroy___0=u.asm.C).apply(null,arguments)}),Rs=u._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Rs=u._emscripten_bind_Cloudpilot_Cloudpilot_0=u.asm.D).apply(null,arguments)},Gi=u._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Gi=u._emscripten_bind_Cloudpilot_Malloc_1=u.asm.E).apply(null,arguments)},us=u._emscripten_bind_Cloudpilot_Free_1=function(){return(us=u._emscripten_bind_Cloudpilot_Free_1=u.asm.F).apply(null,arguments)},Zr=u._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(Zr=u._emscripten_bind_Cloudpilot_Nullptr_0=u.asm.G).apply(null,arguments)},zi=u._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(zi=u._emscripten_bind_Cloudpilot_InitializeSession_3=u.asm.H).apply(null,arguments)},Wt=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(Wt=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u.asm.I).apply(null,arguments)},ca=u._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(ca=u._emscripten_bind_Cloudpilot_RunEmulation_1=u.asm.J).apply(null,arguments)},bl=u._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(bl=u._emscripten_bind_Cloudpilot_SetClockFactor_1=u.asm.K).apply(null,arguments)},Qr=u._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(Qr=u._emscripten_bind_Cloudpilot_CopyFrame_0=u.asm.L).apply(null,arguments)},ua=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(ua=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=u.asm.M).apply(null,arguments)},Ua=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ua=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=u.asm.N).apply(null,arguments)},Rn=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(Rn=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=u.asm.O).apply(null,arguments)},lr=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(lr=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=u.asm.P).apply(null,arguments)},Ur=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Ur=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=u.asm.Q).apply(null,arguments)},cr=u._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(cr=u._emscripten_bind_Cloudpilot_QueuePenMove_2=u.asm.R).apply(null,arguments)},ir=u._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(ir=u._emscripten_bind_Cloudpilot_QueuePenUp_0=u.asm.S).apply(null,arguments)},hn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(hn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=u.asm.T).apply(null,arguments)},p=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(p=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=u.asm.U).apply(null,arguments)},v=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(v=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=u.asm.V).apply(null,arguments)},w=u._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(w=u._emscripten_bind_Cloudpilot_IsPowerOff_0=u.asm.W).apply(null,arguments)},M=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(M=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=u.asm.X).apply(null,arguments)},U=u._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(U=u._emscripten_bind_Cloudpilot_GetOSVersion_0=u.asm.Y).apply(null,arguments)},be=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(be=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=u.asm.Z).apply(null,arguments)},Ce=u._emscripten_bind_Cloudpilot_Reset_0=function(){return(Ce=u._emscripten_bind_Cloudpilot_Reset_0=u.asm._).apply(null,arguments)},Se=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(Se=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u.asm.$).apply(null,arguments)},ut=u._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(ut=u._emscripten_bind_Cloudpilot_ResetHard_0=u.asm.aa).apply(null,arguments)},d=u._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(d=u._emscripten_bind_Cloudpilot_InstallDb_2=u.asm.ba).apply(null,arguments)},g=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(g=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u.asm.ca).apply(null,arguments)},y=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(y=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u.asm.da).apply(null,arguments)},k=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(k=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u.asm.ea).apply(null,arguments)},N=u._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(N=u._emscripten_bind_Cloudpilot_GetMemorySize_0=u.asm.fa).apply(null,arguments)},ee=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(ee=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=u.asm.ga).apply(null,arguments)},re=u._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(re=u._emscripten_bind_Cloudpilot_GetRomPtr_0=u.asm.ha).apply(null,arguments)},Le=u._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(Le=u._emscripten_bind_Cloudpilot_GetRomSize_0=u.asm.ia).apply(null,arguments)},mt=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(mt=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u.asm.ja).apply(null,arguments)},le=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(le=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=u.asm.ka).apply(null,arguments)},ct=u._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ct=u._emscripten_bind_Cloudpilot_SaveState_0=u.asm.la).apply(null,arguments)},It=u._emscripten_bind_Cloudpilot_LoadState_2=function(){return(It=u._emscripten_bind_Cloudpilot_LoadState_2=u.asm.ma).apply(null,arguments)},wt=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(wt=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=u.asm.na).apply(null,arguments)},Dt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Dt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=u.asm.oa).apply(null,arguments)},Ut=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(Ut=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=u.asm.pa).apply(null,arguments)},Hn=u._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Hn=u._emscripten_bind_Cloudpilot_StartBackup_0=u.asm.qa).apply(null,arguments)},Sr=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Sr=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=u.asm.ra).apply(null,arguments)},Et=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Et=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u.asm.sa).apply(null,arguments)},Ze=u._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Ze=u._emscripten_bind_Cloudpilot_IsSuspended_0=u.asm.ta).apply(null,arguments)},kt=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(kt=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=u.asm.ua).apply(null,arguments)},qn=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(qn=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=u.asm.va).apply(null,arguments)},zn=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(zn=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u.asm.wa).apply(null,arguments)},Jn=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Jn=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=u.asm.xa).apply(null,arguments)},gr=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(gr=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=u.asm.ya).apply(null,arguments)},Br=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Br=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=u.asm.za).apply(null,arguments)},Ga=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Ga=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=u.asm.Aa).apply(null,arguments)},za=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(za=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=u.asm.Ba).apply(null,arguments)},kn=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(kn=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u.asm.Ca).apply(null,arguments)},wl=u._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(wl=u._emscripten_bind_Cloudpilot_AllocateCard_2=u.asm.Da).apply(null,arguments)},da=u._emscripten_bind_Cloudpilot_MountCard_1=function(){return(da=u._emscripten_bind_Cloudpilot_MountCard_1=u.asm.Ea).apply(null,arguments)},oc=u._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(oc=u._emscripten_bind_Cloudpilot_RemoveCard_1=u.asm.Fa).apply(null,arguments)},Fs=u._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Fs=u._emscripten_bind_Cloudpilot_GetCardData_1=u.asm.Ga).apply(null,arguments)},ko=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(ko=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=u.asm.Ha).apply(null,arguments)},Wa=u._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Wa=u._emscripten_bind_Cloudpilot_GetCardSize_1=u.asm.Ia).apply(null,arguments)},fa=u._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(fa=u._emscripten_bind_Cloudpilot_RemountCards_0=u.asm.Ja).apply(null,arguments)},Ti=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(Ti=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=u.asm.Ka).apply(null,arguments)},pa=u._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(pa=u._emscripten_bind_Cloudpilot_GetMountedKey_0=u.asm.La).apply(null,arguments)},mu=u._emscripten_bind_Cloudpilot___destroy___0=function(){return(mu=u._emscripten_bind_Cloudpilot___destroy___0=u.asm.Ma).apply(null,arguments)},br=u._emscripten_bind_RomInfo_RomInfo_2=function(){return(br=u._emscripten_bind_RomInfo_RomInfo_2=u.asm.Na).apply(null,arguments)},af=u._emscripten_bind_RomInfo_IsValid_0=function(){return(af=u._emscripten_bind_RomInfo_IsValid_0=u.asm.Oa).apply(null,arguments)},lf=u._emscripten_bind_RomInfo_CardVersion_0=function(){return(lf=u._emscripten_bind_RomInfo_CardVersion_0=u.asm.Pa).apply(null,arguments)},Cl=u._emscripten_bind_RomInfo_CardName_0=function(){return(Cl=u._emscripten_bind_RomInfo_CardName_0=u.asm.Qa).apply(null,arguments)},ic=u._emscripten_bind_RomInfo_RomVersion_0=function(){return(ic=u._emscripten_bind_RomInfo_RomVersion_0=u.asm.Ra).apply(null,arguments)},qa=u._emscripten_bind_RomInfo_RomVersionString_0=function(){return(qa=u._emscripten_bind_RomInfo_RomVersionString_0=u.asm.Sa).apply(null,arguments)},Sl=u._emscripten_bind_RomInfo_Supports_1=function(){return(Sl=u._emscripten_bind_RomInfo_Supports_1=u.asm.Ta).apply(null,arguments)},Os=u._emscripten_bind_RomInfo___destroy___0=function(){return(Os=u._emscripten_bind_RomInfo___destroy___0=u.asm.Ua).apply(null,arguments)},To=u._emscripten_bind_Frame_GetLineWidth_0=function(){return(To=u._emscripten_bind_Frame_GetLineWidth_0=u.asm.Va).apply(null,arguments)},cf=u._emscripten_bind_Frame_GetBpp_0=function(){return(cf=u._emscripten_bind_Frame_GetBpp_0=u.asm.Wa).apply(null,arguments)},Wo=u._emscripten_bind_Frame_GetLines_0=function(){return(Wo=u._emscripten_bind_Frame_GetLines_0=u.asm.Xa).apply(null,arguments)},xi=u._emscripten_bind_Frame_GetMargin_0=function(){return(xi=u._emscripten_bind_Frame_GetMargin_0=u.asm.Ya).apply(null,arguments)},sc=u._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(sc=u._emscripten_bind_Frame_GetBytesPerLine_0=u.asm.Za).apply(null,arguments)},El=u._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(El=u._emscripten_bind_Frame_GetFirstDirtyLine_0=u.asm._a).apply(null,arguments)},Dl=u._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Dl=u._emscripten_bind_Frame_GetLastDirtyLine_0=u.asm.$a).apply(null,arguments)},Ai=u._emscripten_bind_Frame_GetHasChanges_0=function(){return(Ai=u._emscripten_bind_Frame_GetHasChanges_0=u.asm.ab).apply(null,arguments)},uf=u._emscripten_bind_Frame_GetBuffer_0=function(){return(uf=u._emscripten_bind_Frame_GetBuffer_0=u.asm.bb).apply(null,arguments)},Wh=u._emscripten_bind_Frame_GetBufferSize_0=function(){return(Wh=u._emscripten_bind_Frame_GetBufferSize_0=u.asm.cb).apply(null,arguments)},df=u._emscripten_bind_Frame_GetScaleX_0=function(){return(df=u._emscripten_bind_Frame_GetScaleX_0=u.asm.db).apply(null,arguments)},ff=u._emscripten_bind_Frame_GetScaleY_0=function(){return(ff=u._emscripten_bind_Frame_GetScaleY_0=u.asm.eb).apply(null,arguments)},qh=u._emscripten_bind_Frame___destroy___0=function(){return(qh=u._emscripten_bind_Frame___destroy___0=u.asm.fb).apply(null,arguments)},Zh=u._emscripten_bind_DbBackup_Init_1=function(){return(Zh=u._emscripten_bind_DbBackup_Init_1=u.asm.gb).apply(null,arguments)},Kh=u._emscripten_bind_DbBackup_IsInProgress_0=function(){return(Kh=u._emscripten_bind_DbBackup_IsInProgress_0=u.asm.hb).apply(null,arguments)},Yh=u._emscripten_bind_DbBackup_IsDone_0=function(){return(Yh=u._emscripten_bind_DbBackup_IsDone_0=u.asm.ib).apply(null,arguments)},Xh=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Xh=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=u.asm.jb).apply(null,arguments)},Qh=u._emscripten_bind_DbBackup_Save_0=function(){return(Qh=u._emscripten_bind_DbBackup_Save_0=u.asm.kb).apply(null,arguments)},Jh=u._emscripten_bind_DbBackup_Skip_0=function(){return(Jh=u._emscripten_bind_DbBackup_Skip_0=u.asm.lb).apply(null,arguments)},em=u._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(em=u._emscripten_bind_DbBackup_GetArchivePtr_0=u.asm.mb).apply(null,arguments)},tm=u._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(tm=u._emscripten_bind_DbBackup_GetArchiveSize_0=u.asm.nb).apply(null,arguments)},nm=u._emscripten_bind_DbBackup___destroy___0=function(){return(nm=u._emscripten_bind_DbBackup___destroy___0=u.asm.ob).apply(null,arguments)},rm=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(rm=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u.asm.pb).apply(null,arguments)},om=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(om=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u.asm.qb).apply(null,arguments)},im=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(im=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u.asm.rb).apply(null,arguments)},sm=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(sm=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u.asm.sb).apply(null,arguments)},gu=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(gu=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u.asm.tb).apply(null,arguments)},ac=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(ac=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=u.asm.ub).apply(null,arguments)},am=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(am=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u.asm.vb).apply(null,arguments)},lm=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(lm=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u.asm.wb).apply(null,arguments)},cm=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(cm=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=u.asm.xb).apply(null,arguments)},Ns=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Ns=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u.asm.yb).apply(null,arguments)},pf=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(pf=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u.asm.zb).apply(null,arguments)},bo=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(bo=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u.asm.Ab).apply(null,arguments)},yu=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(yu=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u.asm.Bb).apply(null,arguments)},hf=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(hf=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=u.asm.Cb).apply(null,arguments)},mf=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(mf=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u.asm.Db).apply(null,arguments)},_u=u._emscripten_bind_SuspendContext_GetKind_0=function(){return(_u=u._emscripten_bind_SuspendContext_GetKind_0=u.asm.Eb).apply(null,arguments)},vu=u._emscripten_bind_SuspendContext_Cancel_0=function(){return(vu=u._emscripten_bind_SuspendContext_Cancel_0=u.asm.Fb).apply(null,arguments)},gf=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(gf=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u.asm.Gb).apply(null,arguments)},lc=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(lc=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u.asm.Hb).apply(null,arguments)},yf=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(yf=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u.asm.Ib).apply(null,arguments)},hi=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(hi=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u.asm.Jb).apply(null,arguments)},cc=u._emscripten_bind_SuspendContext___destroy___0=function(){return(cc=u._emscripten_bind_SuspendContext___destroy___0=u.asm.Kb).apply(null,arguments)},_f=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(_f=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=u.asm.Lb).apply(null,arguments)},uc=u._emscripten_bind_ZipfileWalker_GetState_0=function(){return(uc=u._emscripten_bind_ZipfileWalker_GetState_0=u.asm.Mb).apply(null,arguments)},vf=u._emscripten_bind_ZipfileWalker_Next_0=function(){return(vf=u._emscripten_bind_ZipfileWalker_Next_0=u.asm.Nb).apply(null,arguments)},um=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(um=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u.asm.Ob).apply(null,arguments)},Kr=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(Kr=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u.asm.Pb).apply(null,arguments)},bf=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(bf=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u.asm.Qb).apply(null,arguments)},dm=u._emscripten_bind_ZipfileWalker___destroy___0=function(){return(dm=u._emscripten_bind_ZipfileWalker___destroy___0=u.asm.Rb).apply(null,arguments)},Il=u._emscripten_bind_SessionImage_SessionImage_0=function(){return(Il=u._emscripten_bind_SessionImage_SessionImage_0=u.asm.Sb).apply(null,arguments)},si=u._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(si=u._emscripten_bind_SessionImage_GetDeviceId_0=u.asm.Tb).apply(null,arguments)},wf=u._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(wf=u._emscripten_bind_SessionImage_SetDeviceId_1=u.asm.Ub).apply(null,arguments)},dc=u._emscripten_bind_SessionImage_GetRomImage_0=function(){return(dc=u._emscripten_bind_SessionImage_GetRomImage_0=u.asm.Vb).apply(null,arguments)},ha=u._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(ha=u._emscripten_bind_SessionImage_GetRomImageSize_0=u.asm.Wb).apply(null,arguments)},ai=u._emscripten_bind_SessionImage_SetRomImage_2=function(){return(ai=u._emscripten_bind_SessionImage_SetRomImage_2=u.asm.Xb).apply(null,arguments)},Cf=u._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(Cf=u._emscripten_bind_SessionImage_GetMemoryImage_0=u.asm.Yb).apply(null,arguments)},Ml=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(Ml=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=u.asm.Zb).apply(null,arguments)},Sf=u._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Sf=u._emscripten_bind_SessionImage_SetMemoryImage_2=u.asm._b).apply(null,arguments)},vs=u._emscripten_bind_SessionImage_GetMetadata_0=function(){return(vs=u._emscripten_bind_SessionImage_GetMetadata_0=u.asm.$b).apply(null,arguments)},bu=u._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(bu=u._emscripten_bind_SessionImage_GetMetadataSize_0=u.asm.ac).apply(null,arguments)},fc=u._emscripten_bind_SessionImage_SetMetadata_2=function(){return(fc=u._emscripten_bind_SessionImage_SetMetadata_2=u.asm.bc).apply(null,arguments)},Sn=u._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Sn=u._emscripten_bind_SessionImage_GetSavestate_0=u.asm.cc).apply(null,arguments)},wu=u._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(wu=u._emscripten_bind_SessionImage_GetSavestateSize_0=u.asm.dc).apply(null,arguments)},fm=u._emscripten_bind_SessionImage_SetSavestate_2=function(){return(fm=u._emscripten_bind_SessionImage_SetSavestate_2=u.asm.ec).apply(null,arguments)},Ef=u._emscripten_bind_SessionImage_GetVersion_0=function(){return(Ef=u._emscripten_bind_SessionImage_GetVersion_0=u.asm.fc).apply(null,arguments)},Df=u._emscripten_bind_SessionImage_Serialize_0=function(){return(Df=u._emscripten_bind_SessionImage_Serialize_0=u.asm.gc).apply(null,arguments)},If=u._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(If=u._emscripten_bind_SessionImage_GetSerializedImage_0=u.asm.hc).apply(null,arguments)},Cu=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Cu=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=u.asm.ic).apply(null,arguments)},Mf=u._emscripten_bind_SessionImage_Deserialize_2=function(){return(Mf=u._emscripten_bind_SessionImage_Deserialize_2=u.asm.jc).apply(null,arguments)},kf=u._emscripten_bind_SessionImage___destroy___0=function(){return(kf=u._emscripten_bind_SessionImage___destroy___0=u.asm.kc).apply(null,arguments)};function uo(l){var h=u._main;try{var H=h(0,0);return function ar(l,h){de=l,function tn(l){de=l,function en(){return Pe}()||(u.onExit&&u.onExit(l),ot=!0),j(l,new In(l))}(l)}(H),H}catch(we){return function vo(l){if(l instanceof In||"unwind"==l)return de;j(1,l)}(we)}}function Su(l){function h(){qt||(qt=!0,u.calledRun=!0,!ot&&(function xn(){!u.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,hr.init(),Bt(je)}(),function vr(){Bt(Ft)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Za&&uo(),function nr(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)l=u.postRun.shift(),jt.unshift(l);var l;Bt(jt)}()))}l=l||ce,Dn>0||(function Q(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)l=u.preRun.shift(),_t.unshift(l);var l;Bt(_t)}(),Dn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),h()},1)):h())}if(u.___original_main=function(){return(u.___original_main=u.asm.mc).apply(null,arguments)},u.___start_em_js=243555,u.___stop_em_js=243752,u.UTF8ToString=Fe,u.addFunction=function Ln(l,h){if(ki||(ki=new WeakMap,function ia(l,h){if(ki)for(var b=l;b<l+h;b++){var A=Ha(b);A&&ki.set(A,b)}}(0,Be.length)),ki.has(l))return ki.get(l);var b=function ja(){if(Ps.length)return Ps.pop();try{Be.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Be.length-1}();try{Xr(b,l)}catch(H){if(!(H instanceof TypeError))throw H;Xr(b,function As(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Cr(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},A=1;A<l.length;++A)b.parameters.push(h[l[A]]),"j"===l[A]&&b.parameters.push("i32");return b}(h),l);var b=[1];!function Ui(l,h){var b=l.slice(0,1),A=l.slice(1),H={i:127,p:127,j:126,f:125,d:124};h.push(96),co(A.length,h);for(var we=0;we<A.length;++we)h.push(H[A[we]]);"v"==b?h.push(0):h.push(1,H[b])}(h,b);var A=[0,97,115,109,1,0,0,0,1];co(b.length,A),A.push.apply(A,b),A.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var H=new WebAssembly.Module(new Uint8Array(A));return new WebAssembly.Instance(H,{e:{f:l}}).exports.f}(l,h))}return ki.set(l,b),b},Pn=function l(){qt||Su(),qt||(Pn=l)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Za=!0;function er(){}function bs(l){return(l||er).__cache__}function Wn(l,h){var b=bs(h),A=b[l];return A||((A=Object.create((h||er).prototype)).ptr=l,b[l]=A)}u.noInitialRun&&(Za=!1),Su(),(er.prototype=Object.create(er.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},u.WrapperObject=er,u.getCache=bs,u.wrapPointer=Wn,u.castObject=function Xv(l,h){return Wn(l.ptr,h)},u.NULL=Wn(0),u.destroy=function pm(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete bs(l.__class__)[l.ptr]},u.compare=function Qv(l,h){return l.ptr===h.ptr},u.getPointer=function Tf(l){return l.ptr},u.getClass=function qo(l){return l.__class__};var gn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(gn.needed){for(var l=0;l<gn.temps.length;l++)u._free(gn.temps[l]);gn.temps.length=0,u._free(gn.buffer),gn.buffer=0,gn.size+=gn.needed,gn.needed=0}gn.buffer||(gn.size+=128,gn.buffer=u._malloc(gn.size),Me(gn.buffer)),gn.pos=0},alloc:function(l,h){Me(gn.buffer);var H,A=l.length*h.BYTES_PER_ELEMENT;return gn.pos+(A=A+7&-8)>=gn.size?(Me(A>0),gn.needed+=A,H=u._malloc(A),gn.temps.push(H)):(H=gn.buffer+gn.pos,gn.pos+=A),H},copy:function(l,h,b){switch(b>>>=0,h.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var H=0;H<l.length;H++)h[b+H]=l[H]}};function xo(l){if("string"==typeof l){var h=Jt(l),b=gn.alloc(h,nt);return gn.copy(h,nt,b),b}return l}function tr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function qe(){this.ptr=Rs(),bs(qe)[this.ptr]=this}function Gr(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=br(l,h),bs(Gr)[this.ptr]=this}function jn(){throw"cannot construct a Frame, no constructor in IDL"}function Er(){throw"cannot construct a DbBackup, no constructor in IDL"}function No(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Lo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function $o(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function fo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Fr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Jr(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=_f(l,h),bs(Jr)[this.ptr]=this}function fn(){this.ptr=Il(),bs(fn)[this.ptr]=this}return(tr.prototype=Object.create(er.prototype)).constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},u.VoidPtr=tr,tr.prototype.__destroy__=tr.prototype.__destroy__=function(){cs(this.ptr)},(qe.prototype=Object.create(er.prototype)).constructor=qe,qe.prototype.__class__=qe,qe.__cache__={},u.Cloudpilot=qe,qe.prototype.Malloc=qe.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),Wn(Gi(this.ptr,l),tr)},qe.prototype.Free=qe.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),us(this.ptr,l)},qe.prototype.Nullptr=qe.prototype.Nullptr=function(){return Wn(Zr(this.ptr),tr)},qe.prototype.InitializeSession=qe.prototype.InitializeSession=function(l,h,b){var A=this.ptr;return gn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),b=b&&"object"==typeof b?b.ptr:xo(b),!!zi(A,l,h,b)},qe.prototype.GetCyclesPerSecond=qe.prototype.GetCyclesPerSecond=function(){return Wt(this.ptr)},qe.prototype.RunEmulation=qe.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),ca(this.ptr,l)},qe.prototype.SetClockFactor=qe.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),bl(this.ptr,l)},qe.prototype.CopyFrame=qe.prototype.CopyFrame=function(){return Wn(Qr(this.ptr),jn)},qe.prototype.IsScreenDirty=qe.prototype.IsScreenDirty=function(){return!!ua(this.ptr)},qe.prototype.MarkScreenClean=qe.prototype.MarkScreenClean=function(){Ua(this.ptr)},qe.prototype.MinMemoryForDevice=qe.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Rn(h,l)},qe.prototype.FramebufferSizeForDevice=qe.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),lr(h,l)},qe.prototype.TotalMemoryForDevice=qe.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Ur(h,l)},qe.prototype.QueuePenMove=qe.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(this.ptr,l,h)},qe.prototype.QueuePenUp=qe.prototype.QueuePenUp=function(){ir(this.ptr)},qe.prototype.QueueButtonDown=qe.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),hn(this.ptr,l)},qe.prototype.QueueButtonUp=qe.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),p(this.ptr,l)},qe.prototype.QueueKeyboardEvent=qe.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v(this.ptr,l,h)},qe.prototype.IsPowerOff=qe.prototype.IsPowerOff=function(){return!!w(this.ptr)},qe.prototype.IsUIInitialized=qe.prototype.IsUIInitialized=function(){return!!M(this.ptr)},qe.prototype.GetOSVersion=qe.prototype.GetOSVersion=function(){return U(this.ptr)},qe.prototype.IsSetupComplete=qe.prototype.IsSetupComplete=function(){return!!be(this.ptr)},qe.prototype.Reset=qe.prototype.Reset=function(){Ce(this.ptr)},qe.prototype.ResetNoExtensions=qe.prototype.ResetNoExtensions=function(){Se(this.ptr)},qe.prototype.ResetHard=qe.prototype.ResetHard=function(){ut(this.ptr)},qe.prototype.InstallDb=qe.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),d(this.ptr,l,h)},qe.prototype.GetPalette2bitMapping=qe.prototype.GetPalette2bitMapping=function(){return g(this.ptr)},qe.prototype.GetMemoryPtr=qe.prototype.GetMemoryPtr=function(){return Wn(y(this.ptr),tr)},qe.prototype.GetDirtyPagesPtr=qe.prototype.GetDirtyPagesPtr=function(){return Wn(k(this.ptr),tr)},qe.prototype.GetMemorySize=qe.prototype.GetMemorySize=function(){return N(this.ptr)},qe.prototype.ImportMemoryImage=qe.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!ee(this.ptr,l,h)},qe.prototype.GetRomPtr=qe.prototype.GetRomPtr=function(){return Wn(re(this.ptr),tr)},qe.prototype.GetRomSize=qe.prototype.GetRomSize=function(){return Le(this.ptr)},qe.prototype.GetSavestatePtr=qe.prototype.GetSavestatePtr=function(){return Wn(mt(this.ptr),tr)},qe.prototype.GetSavestateSize=qe.prototype.GetSavestateSize=function(){return le(this.ptr)},qe.prototype.SaveState=qe.prototype.SaveState=function(){return!!ct(this.ptr)},qe.prototype.LoadState=qe.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!It(this.ptr,l,h)},qe.prototype.GetHotsyncName=qe.prototype.GetHotsyncName=function(){return Fe(wt(this.ptr))},qe.prototype.SetHotsyncName=qe.prototype.SetHotsyncName=function(l){var h=this.ptr;gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Dt(h,l)},qe.prototype.RegisterPwmHandler=qe.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Ut(this.ptr,l)},qe.prototype.StartBackup=qe.prototype.StartBackup=function(){return Wn(Hn(this.ptr),Er)},qe.prototype.SetClipboardIntegration=qe.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),Sr(this.ptr,l)},qe.prototype.GetClipboardIntegration=qe.prototype.GetClipboardIntegration=function(){return!!Et(this.ptr)},qe.prototype.IsSuspended=qe.prototype.IsSuspended=function(){return!!Ze(this.ptr)},qe.prototype.GetSuspendContext=qe.prototype.GetSuspendContext=function(){return Wn(kt(this.ptr),Fr)},qe.prototype.SetNetworkRedirection=qe.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),qn(this.ptr,l)},qe.prototype.GetNetworkRedirection=qe.prototype.GetNetworkRedirection=function(){return!!zn(this.ptr)},qe.prototype.RegisterProxyDisconnectHandler=qe.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Jn(this.ptr,l)},qe.prototype.SetHotsyncNameManagement=qe.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),gr(this.ptr,l)},qe.prototype.LaunchAppByName=qe.prototype.LaunchAppByName=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),!!Br(h,l)},qe.prototype.LaunchAppByDbHeader=qe.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Ga(this.ptr,l,h)},qe.prototype.DeviceSupportsCardSize=qe.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!za(this.ptr,l)},qe.prototype.ClearExternalStorage=qe.prototype.ClearExternalStorage=function(){kn(this.ptr)},qe.prototype.AllocateCard=qe.prototype.AllocateCard=function(l,h){var b=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),h&&"object"==typeof h&&(h=h.ptr),!!wl(b,l,h)},qe.prototype.MountCard=qe.prototype.MountCard=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),!!da(h,l)},qe.prototype.RemoveCard=qe.prototype.RemoveCard=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),!!oc(h,l)},qe.prototype.GetCardData=qe.prototype.GetCardData=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Wn(Fs(h,l),tr)},qe.prototype.GetCardDirtyPages=qe.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Wn(ko(h,l),tr)},qe.prototype.GetCardSize=qe.prototype.GetCardSize=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Wa(h,l)},qe.prototype.RemountCards=qe.prototype.RemountCards=function(){fa(this.ptr)},qe.prototype.GetSupportLevel=qe.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),Ti(this.ptr,l)},qe.prototype.GetMountedKey=qe.prototype.GetMountedKey=function(){return Fe(pa(this.ptr))},qe.prototype.__destroy__=qe.prototype.__destroy__=function(){mu(this.ptr)},(Gr.prototype=Object.create(er.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},u.RomInfo=Gr,Gr.prototype.IsValid=Gr.prototype.IsValid=function(){return!!af(this.ptr)},Gr.prototype.CardVersion=Gr.prototype.CardVersion=function(){return lf(this.ptr)},Gr.prototype.CardName=Gr.prototype.CardName=function(){return Fe(Cl(this.ptr))},Gr.prototype.RomVersion=Gr.prototype.RomVersion=function(){return ic(this.ptr)},Gr.prototype.RomVersionString=Gr.prototype.RomVersionString=function(){return Fe(qa(this.ptr))},Gr.prototype.Supports=Gr.prototype.Supports=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),!!Sl(h,l)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){Os(this.ptr)},(jn.prototype=Object.create(er.prototype)).constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},u.Frame=jn,jn.prototype.GetLineWidth=jn.prototype.GetLineWidth=function(){return To(this.ptr)},jn.prototype.GetBpp=jn.prototype.GetBpp=function(){return cf(this.ptr)},jn.prototype.GetLines=jn.prototype.GetLines=function(){return Wo(this.ptr)},jn.prototype.GetMargin=jn.prototype.GetMargin=function(){return xi(this.ptr)},jn.prototype.GetBytesPerLine=jn.prototype.GetBytesPerLine=function(){return sc(this.ptr)},jn.prototype.GetFirstDirtyLine=jn.prototype.GetFirstDirtyLine=function(){return El(this.ptr)},jn.prototype.GetLastDirtyLine=jn.prototype.GetLastDirtyLine=function(){return Dl(this.ptr)},jn.prototype.GetHasChanges=jn.prototype.GetHasChanges=function(){return!!Ai(this.ptr)},jn.prototype.GetBuffer=jn.prototype.GetBuffer=function(){return Wn(uf(this.ptr),tr)},jn.prototype.GetBufferSize=jn.prototype.GetBufferSize=function(){return Wh(this.ptr)},jn.prototype.GetScaleX=jn.prototype.GetScaleX=function(){return df(this.ptr)},jn.prototype.GetScaleY=jn.prototype.GetScaleY=function(){return ff(this.ptr)},jn.prototype.__destroy__=jn.prototype.__destroy__=function(){qh(this.ptr)},(Er.prototype=Object.create(er.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},u.DbBackup=Er,Er.prototype.Init=Er.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Zh(this.ptr,l)},Er.prototype.IsInProgress=Er.prototype.IsInProgress=function(){return!!Kh(this.ptr)},Er.prototype.IsDone=Er.prototype.IsDone=function(){return!!Yh(this.ptr)},Er.prototype.GetCurrentDatabase=Er.prototype.GetCurrentDatabase=function(){return Fe(Xh(this.ptr))},Er.prototype.Save=Er.prototype.Save=function(){return!!Qh(this.ptr)},Er.prototype.Skip=Er.prototype.Skip=function(){Jh(this.ptr)},Er.prototype.GetArchivePtr=Er.prototype.GetArchivePtr=function(){return Wn(em(this.ptr),tr)},Er.prototype.GetArchiveSize=Er.prototype.GetArchiveSize=function(){return tm(this.ptr)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){nm(this.ptr)},(No.prototype=Object.create(er.prototype)).constructor=No,No.prototype.__class__=No,No.__cache__={},u.SuspendContextClipboardCopy=No,No.prototype.Cancel=No.prototype.Cancel=function(){rm(this.ptr)},No.prototype.Resume=No.prototype.Resume=function(){om(this.ptr)},No.prototype.GetClipboardContent=No.prototype.GetClipboardContent=function(){return Fe(im(this.ptr))},No.prototype.__destroy__=No.prototype.__destroy__=function(){sm(this.ptr)},(Lo.prototype=Object.create(er.prototype)).constructor=Lo,Lo.prototype.__class__=Lo,Lo.__cache__={},u.SuspendContextClipboardPaste=Lo,Lo.prototype.Cancel=Lo.prototype.Cancel=function(){gu(this.ptr)},Lo.prototype.Resume=Lo.prototype.Resume=function(l){var h=this.ptr;gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),ac(h,l)},Lo.prototype.__destroy__=Lo.prototype.__destroy__=function(){am(this.ptr)},($o.prototype=Object.create(er.prototype)).constructor=$o,$o.prototype.__class__=$o,$o.__cache__={},u.SuspendContextNetworkConnect=$o,$o.prototype.Cancel=$o.prototype.Cancel=function(){lm(this.ptr)},$o.prototype.Resume=$o.prototype.Resume=function(l){var h=this.ptr;gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),cm(h,l)},$o.prototype.__destroy__=$o.prototype.__destroy__=function(){Ns(this.ptr)},(fo.prototype=Object.create(er.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},u.SuspendContextNetworkRpc=fo,fo.prototype.Cancel=fo.prototype.Cancel=function(){pf(this.ptr)},fo.prototype.GetRequestSize=fo.prototype.GetRequestSize=function(){return bo(this.ptr)},fo.prototype.GetRequestData=fo.prototype.GetRequestData=function(){return Wn(yu(this.ptr),tr)},fo.prototype.ReceiveResponse=fo.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),hf(this.ptr,l,h)},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){mf(this.ptr)},(Fr.prototype=Object.create(er.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},u.SuspendContext=Fr,Fr.prototype.GetKind=Fr.prototype.GetKind=function(){return _u(this.ptr)},Fr.prototype.Cancel=Fr.prototype.Cancel=function(){vu(this.ptr)},Fr.prototype.AsContextClipboardCopy=Fr.prototype.AsContextClipboardCopy=function(){return Wn(gf(this.ptr),No)},Fr.prototype.AsContextClipboardPaste=Fr.prototype.AsContextClipboardPaste=function(){return Wn(lc(this.ptr),Lo)},Fr.prototype.AsContextNetworkConnect=Fr.prototype.AsContextNetworkConnect=function(){return Wn(yf(this.ptr),$o)},Fr.prototype.AsContextNetworkRpc=Fr.prototype.AsContextNetworkRpc=function(){return Wn(hi(this.ptr),fo)},Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){cc(this.ptr)},(Jr.prototype=Object.create(er.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},u.ZipfileWalker=Jr,Jr.prototype.GetState=Jr.prototype.GetState=function(){return uc(this.ptr)},Jr.prototype.Next=Jr.prototype.Next=function(){return vf(this.ptr)},Jr.prototype.GetCurrentEntrySize=Jr.prototype.GetCurrentEntrySize=function(){return um(this.ptr)},Jr.prototype.GetCurrentEntryName=Jr.prototype.GetCurrentEntryName=function(){return Fe(Kr(this.ptr))},Jr.prototype.GetCurrentEntryContent=Jr.prototype.GetCurrentEntryContent=function(){return Wn(bf(this.ptr),tr)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){dm(this.ptr)},(fn.prototype=Object.create(er.prototype)).constructor=fn,fn.prototype.__class__=fn,fn.__cache__={},u.SessionImage=fn,fn.prototype.GetDeviceId=fn.prototype.GetDeviceId=function(){return Fe(si(this.ptr))},fn.prototype.SetDeviceId=fn.prototype.SetDeviceId=function(l){var h=this.ptr;return gn.prepare(),l=l&&"object"==typeof l?l.ptr:xo(l),Wn(wf(h,l),fn)},fn.prototype.GetRomImage=fn.prototype.GetRomImage=function(){return Wn(dc(this.ptr),tr)},fn.prototype.GetRomImageSize=fn.prototype.GetRomImageSize=function(){return ha(this.ptr)},fn.prototype.SetRomImage=fn.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Wn(ai(this.ptr,l,h),fn)},fn.prototype.GetMemoryImage=fn.prototype.GetMemoryImage=function(){return Wn(Cf(this.ptr),tr)},fn.prototype.GetMemoryImageSize=fn.prototype.GetMemoryImageSize=function(){return Ml(this.ptr)},fn.prototype.SetMemoryImage=fn.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Wn(Sf(this.ptr,l,h),fn)},fn.prototype.GetMetadata=fn.prototype.GetMetadata=function(){return Wn(vs(this.ptr),tr)},fn.prototype.GetMetadataSize=fn.prototype.GetMetadataSize=function(){return bu(this.ptr)},fn.prototype.SetMetadata=fn.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Wn(fc(this.ptr,l,h),fn)},fn.prototype.GetSavestate=fn.prototype.GetSavestate=function(){return Wn(Sn(this.ptr),tr)},fn.prototype.GetSavestateSize=fn.prototype.GetSavestateSize=function(){return wu(this.ptr)},fn.prototype.SetSavestate=fn.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Wn(fm(this.ptr,l,h),fn)},fn.prototype.GetVersion=fn.prototype.GetVersion=function(){return Ef(this.ptr)},fn.prototype.Serialize=fn.prototype.Serialize=function(){return!!Df(this.ptr)},fn.prototype.GetSerializedImage=fn.prototype.GetSerializedImage=function(){return Wn(If(this.ptr),tr)},fn.prototype.GetSerializedImageSize=fn.prototype.GetSerializedImageSize=function(){return Cu(this.ptr)},fn.prototype.Deserialize=fn.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Mf(this.ptr,l,h)},fn.prototype.__destroy__=fn.prototype.__destroy__=function(){kf(this.ptr)},T.ready});He.exports=We},9084:He=>{var R,We=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var ae,ie,u=typeof(T=T||{})<"u"?T:{};u.ready=new Promise(function(p,v){ae=p,ie=v});var G,Oe,Ne,q=Object.assign({},u),ce=[],V="./this.program",j=(p,v)=>{throw v},Ie="object"==typeof window,K="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ie||K)&&(K?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),R&&(B=R),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=p=>{var v=new XMLHttpRequest;return v.open("GET",p,!1),v.send(null),v.responseText},K&&(Ne=p=>{var v=new XMLHttpRequest;return v.open("GET",p,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),Oe=(p,v,w)=>{var M=new XMLHttpRequest;M.open("GET",p,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?v(M.response):w()},M.onerror=w,M.send(null)});var he,z=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(ce=u.arguments),u.thisProgram&&(V=u.thisProgram),u.quit&&(j=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Pe=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&rr("no native wasm support detected");var me,de,ot=!1;function Me(p,v){p||rr(v)}var ze,nt,St,O,ve,J,xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(p,v,w){for(var M=v+w,U=v;p[U]&&!(U>=M);)++U;if(U-v>16&&p.buffer&&xe)return xe.decode(p.subarray(v,U));for(var be="";v<U;){var Ce=p[v++];if(128&Ce){var Se=63&p[v++];if(192!=(224&Ce)){var ut=63&p[v++];if((Ce=224==(240&Ce)?(15&Ce)<<12|Se<<6|ut:(7&Ce)<<18|Se<<12|ut<<6|63&p[v++])<65536)be+=String.fromCharCode(Ce);else{var d=Ce-65536;be+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else be+=String.fromCharCode((31&Ce)<<6|Se)}else be+=String.fromCharCode(Ce)}return be}function Fe(p,v){return p?Ue(St,p,v):""}function $e(p,v,w,M){if(!(M>0))return 0;for(var U=w,be=w+M-1,Ce=0;Ce<p.length;++Ce){var Se=p.charCodeAt(Ce);if(Se>=55296&&Se<=57343&&(Se=65536+((1023&Se)<<10)|1023&p.charCodeAt(++Ce)),Se<=127){if(w>=be)break;v[w++]=Se}else if(Se<=2047){if(w+1>=be)break;v[w++]=192|Se>>6,v[w++]=128|63&Se}else if(Se<=65535){if(w+2>=be)break;v[w++]=224|Se>>12,v[w++]=128|Se>>6&63,v[w++]=128|63&Se}else{if(w+3>=be)break;v[w++]=240|Se>>18,v[w++]=128|Se>>12&63,v[w++]=128|Se>>6&63,v[w++]=128|63&Se}}return v[w]=0,w-U}function X(p){for(var v=0,w=0;w<p.length;++w){var M=p.charCodeAt(w);M<=127?v++:M<=2047?v+=2:M>=55296&&M<=57343?(v+=4,++w):v+=3}return v}function pe(p){ze=p,u.HEAP8=nt=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAP32=O=new Int32Array(p),u.HEAPU8=St=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAPU32=ve=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=J=new Float64Array(p)}var En,_t=[],je=[],Ft=[],jt=[],Dn=0,kr=null,Pn=null;function Wr(p){Dn++,u.monitorRunDependencies&&u.monitorRunDependencies(Dn)}function dr(p){if(Dn--,u.monitorRunDependencies&&u.monitorRunDependencies(Dn),0==Dn&&(null!==kr&&(clearInterval(kr),kr=null),Pn)){var v=Pn;Pn=null,v()}}function rr(p){u.onAbort&&u.onAbort(p),W(p="Aborted("+p+")"),ot=!0,de=1,p+=". Build with -sASSERTIONS for more info.";var v=new WebAssembly.RuntimeError(p);throw ie(v),v}function go(p){return p.startsWith("data:application/octet-stream;base64,")}function io(p){try{if(p==En&&he)return new Uint8Array(he);if(Ne)return Ne(p);throw"both async and sync fetching of the wasm failed"}catch(v){rr(v)}}go(En="fstools_web.wasm")||(En=function $(p){return u.locateFile?u.locateFile(p,B):B+p}(En));var at,ue,Ge={40302:()=>{throw new Error("terminated")}};function vn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function In(p){for(;p.length>0;)p.shift()(u)}var Bt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,v)=>{for(var w=0,M=p.length-1;M>=0;M--){var U=p[M];"."===U?p.splice(M,1):".."===U?(p.splice(M,1),w++):w&&(p.splice(M,1),w--)}if(v)for(;w;w--)p.unshift("..");return p},normalize:p=>{var v=Bt.isAbs(p),w="/"===p.substr(-1);return!(p=Bt.normalizeArray(p.split("/").filter(M=>!!M),!v).join("/"))&&!v&&(p="."),p&&w&&(p+="/"),(v?"/":"")+p},dirname:p=>{var v=Bt.splitPath(p),w=v[0],M=v[1];return w||M?(M&&(M=M.substr(0,M.length-1)),w+M):"."},basename:p=>{if("/"===p)return"/";var v=(p=(p=Bt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===v?p:p.substr(v+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Bt.normalize(p.join("/"))},join2:(p,v)=>Bt.normalize(p+"/"+v)},fr={resolve:function(){for(var p="",v=!1,w=arguments.length-1;w>=-1&&!v;w--){var M=w>=0?arguments[w]:S.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";p=M+"/"+p,v=Bt.isAbs(M)}return(v?"/":"")+(p=Bt.normalizeArray(p.split("/").filter(U=>!!U),!v).join("/"))||"."},relative:(p,v)=>{function w(d){for(var g=0;g<d.length&&""===d[g];g++);for(var y=d.length-1;y>=0&&""===d[y];y--);return g>y?[]:d.slice(g,y-g+1)}p=fr.resolve(p).substr(1),v=fr.resolve(v).substr(1);for(var M=w(p.split("/")),U=w(v.split("/")),be=Math.min(M.length,U.length),Ce=be,Se=0;Se<be;Se++)if(M[Se]!==U[Se]){Ce=Se;break}var ut=[];for(Se=Ce;Se<M.length;Se++)ut.push("..");return(ut=ut.concat(U.slice(Ce))).join("/")}};function un(p,v,w){var M=w>0?w:X(p)+1,U=new Array(M),be=$e(p,U,0,U.length);return v&&(U.length=be),U}var Xn={ttys:[],init:function(){},shutdown:function(){},register:function(p,v){Xn.ttys[p]={input:[],output:[],ops:v},S.registerDevice(p,Xn.stream_ops)},stream_ops:{open:function(p){var v=Xn.ttys[p.node.rdev];if(!v)throw new S.ErrnoError(43);p.tty=v,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,v,w,M,U){if(!p.tty||!p.tty.ops.get_char)throw new S.ErrnoError(60);for(var be=0,Ce=0;Ce<M;Ce++){var Se;try{Se=p.tty.ops.get_char(p.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Se&&0===be)throw new S.ErrnoError(6);if(null==Se)break;be++,v[w+Ce]=Se}return be&&(p.node.timestamp=Date.now()),be},write:function(p,v,w,M,U){if(!p.tty||!p.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var be=0;be<M;be++)p.tty.ops.put_char(p.tty,v[w+be])}catch{throw new S.ErrnoError(29)}return M&&(p.node.timestamp=Date.now()),be}},default_tty_ops:{get_char:function(p){if(!p.input.length){var v=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(v=window.prompt("Input: "))&&(v+="\n"):"function"==typeof readline&&null!==(v=readline())&&(v+="\n"),!v)return null;p.input=un(v,!0)}return p.input.shift()},put_char:function(p,v){null===v||10===v?(z(Ue(p.output,0)),p.output=[]):0!=v&&p.output.push(v)},fsync:function(p){p.output&&p.output.length>0&&(z(Ue(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,v){null===v||10===v?(W(Ue(p.output,0)),p.output=[]):0!=v&&p.output.push(v)},fsync:function(p){p.output&&p.output.length>0&&(W(Ue(p.output,0)),p.output=[])}}};function pr(p){rr()}var Jt={ops_table:null,mount:function(p){return Jt.createNode(null,"/",16895,0)},createNode:function(p,v,w,M){if(S.isBlkdev(w)||S.isFIFO(w))throw new S.ErrnoError(63);Jt.ops_table||(Jt.ops_table={dir:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,lookup:Jt.node_ops.lookup,mknod:Jt.node_ops.mknod,rename:Jt.node_ops.rename,unlink:Jt.node_ops.unlink,rmdir:Jt.node_ops.rmdir,readdir:Jt.node_ops.readdir,symlink:Jt.node_ops.symlink},stream:{llseek:Jt.stream_ops.llseek}},file:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:{llseek:Jt.stream_ops.llseek,read:Jt.stream_ops.read,write:Jt.stream_ops.write,allocate:Jt.stream_ops.allocate,mmap:Jt.stream_ops.mmap,msync:Jt.stream_ops.msync}},link:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,readlink:Jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:S.chrdev_stream_ops}});var U=S.createNode(p,v,w,M);return S.isDir(U.mode)?(U.node_ops=Jt.ops_table.dir.node,U.stream_ops=Jt.ops_table.dir.stream,U.contents={}):S.isFile(U.mode)?(U.node_ops=Jt.ops_table.file.node,U.stream_ops=Jt.ops_table.file.stream,U.usedBytes=0,U.contents=null):S.isLink(U.mode)?(U.node_ops=Jt.ops_table.link.node,U.stream_ops=Jt.ops_table.link.stream):S.isChrdev(U.mode)&&(U.node_ops=Jt.ops_table.chrdev.node,U.stream_ops=Jt.ops_table.chrdev.stream),U.timestamp=Date.now(),p&&(p.contents[v]=U,p.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,v){var w=p.contents?p.contents.length:0;if(!(w>=v)){v=Math.max(v,w*(w<1048576?2:1.125)>>>0),0!=w&&(v=Math.max(v,256));var U=p.contents;p.contents=new Uint8Array(v),p.usedBytes>0&&p.contents.set(U.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,v){if(p.usedBytes!=v)if(0==v)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(v),w&&p.contents.set(w.subarray(0,Math.min(v,p.usedBytes))),p.usedBytes=v}},node_ops:{getattr:function(p){var v={};return v.dev=S.isChrdev(p.mode)?p.id:1,v.ino=p.id,v.mode=p.mode,v.nlink=1,v.uid=0,v.gid=0,v.rdev=p.rdev,v.size=S.isDir(p.mode)?4096:S.isFile(p.mode)?p.usedBytes:S.isLink(p.mode)?p.link.length:0,v.atime=new Date(p.timestamp),v.mtime=new Date(p.timestamp),v.ctime=new Date(p.timestamp),v.blksize=4096,v.blocks=Math.ceil(v.size/v.blksize),v},setattr:function(p,v){void 0!==v.mode&&(p.mode=v.mode),void 0!==v.timestamp&&(p.timestamp=v.timestamp),void 0!==v.size&&Jt.resizeFileStorage(p,v.size)},lookup:function(p,v){throw S.genericErrors[44]},mknod:function(p,v,w,M){return Jt.createNode(p,v,w,M)},rename:function(p,v,w){if(S.isDir(p.mode)){var M;try{M=S.lookupNode(v,w)}catch{}if(M)for(var U in M.contents)throw new S.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,v.contents[w]=p,v.timestamp=p.parent.timestamp,p.parent=v},unlink:function(p,v){delete p.contents[v],p.timestamp=Date.now()},rmdir:function(p,v){var w=S.lookupNode(p,v);for(var M in w.contents)throw new S.ErrnoError(55);delete p.contents[v],p.timestamp=Date.now()},readdir:function(p){var v=[".",".."];for(var w in p.contents)!p.contents.hasOwnProperty(w)||v.push(w);return v},symlink:function(p,v,w){var M=Jt.createNode(p,v,41471,0);return M.link=w,M},readlink:function(p){if(!S.isLink(p.mode))throw new S.ErrnoError(28);return p.link}},stream_ops:{read:function(p,v,w,M,U){var be=p.node.contents;if(U>=p.node.usedBytes)return 0;var Ce=Math.min(p.node.usedBytes-U,M);if(Ce>8&&be.subarray)v.set(be.subarray(U,U+Ce),w);else for(var Se=0;Se<Ce;Se++)v[w+Se]=be[U+Se];return Ce},write:function(p,v,w,M,U,be){if(v.buffer===nt.buffer&&(be=!1),!M)return 0;var Ce=p.node;if(Ce.timestamp=Date.now(),v.subarray&&(!Ce.contents||Ce.contents.subarray)){if(be)return Ce.contents=v.subarray(w,w+M),Ce.usedBytes=M,M;if(0===Ce.usedBytes&&0===U)return Ce.contents=v.slice(w,w+M),Ce.usedBytes=M,M;if(U+M<=Ce.usedBytes)return Ce.contents.set(v.subarray(w,w+M),U),M}if(Jt.expandFileStorage(Ce,U+M),Ce.contents.subarray&&v.subarray)Ce.contents.set(v.subarray(w,w+M),U);else for(var Se=0;Se<M;Se++)Ce.contents[U+Se]=v[w+Se];return Ce.usedBytes=Math.max(Ce.usedBytes,U+M),M},llseek:function(p,v,w){var M=v;if(1===w?M+=p.position:2===w&&S.isFile(p.node.mode)&&(M+=p.node.usedBytes),M<0)throw new S.ErrnoError(28);return M},allocate:function(p,v,w){Jt.expandFileStorage(p.node,v+w),p.node.usedBytes=Math.max(p.node.usedBytes,v+w)},mmap:function(p,v,w,M,U){if(!S.isFile(p.node.mode))throw new S.ErrnoError(43);var be,Ce,Se=p.node.contents;if(2&U||Se.buffer!==ze){if((w>0||w+v<Se.length)&&(Se=Se.subarray?Se.subarray(w,w+v):Array.prototype.slice.call(Se,w,w+v)),Ce=!0,!(be=pr()))throw new S.ErrnoError(48);nt.set(Se,be)}else Ce=!1,be=Se.byteOffset;return{ptr:be,allocated:Ce}},msync:function(p,v,w,M,U){return Jt.stream_ops.write(p,v,0,M,w,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,v={})=>{if(!(p=fr.resolve(p)))return{path:"",node:null};if((v=Object.assign({follow_mount:!0,recurse_count:0},v)).recurse_count>8)throw new S.ErrnoError(32);for(var M=p.split("/").filter(y=>!!y),U=S.root,be="/",Ce=0;Ce<M.length;Ce++){var Se=Ce===M.length-1;if(Se&&v.parent)break;if(U=S.lookupNode(U,M[Ce]),be=Bt.join2(be,M[Ce]),S.isMountpoint(U)&&(!Se||Se&&v.follow_mount)&&(U=U.mounted.root),!Se||v.follow)for(var ut=0;S.isLink(U.mode);){var d=S.readlink(be);if(be=fr.resolve(Bt.dirname(be),d),U=S.lookupPath(be,{recurse_count:v.recurse_count+1}).node,ut++>40)throw new S.ErrnoError(32)}}return{path:be,node:U}},getPath:p=>{for(var v;;){if(S.isRoot(p)){var w=p.mount.mountpoint;return v?"/"!==w[w.length-1]?w+"/"+v:w+v:w}v=v?p.name+"/"+v:p.name,p=p.parent}},hashName:(p,v)=>{for(var w=0,M=0;M<v.length;M++)w=(w<<5)-w+v.charCodeAt(M)|0;return(p+w>>>0)%S.nameTable.length},hashAddNode:p=>{var v=S.hashName(p.parent.id,p.name);p.name_next=S.nameTable[v],S.nameTable[v]=p},hashRemoveNode:p=>{var v=S.hashName(p.parent.id,p.name);if(S.nameTable[v]===p)S.nameTable[v]=p.name_next;else for(var w=S.nameTable[v];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,v)=>{var w=S.mayLookup(p);if(w)throw new S.ErrnoError(w,p);for(var M=S.hashName(p.id,v),U=S.nameTable[M];U;U=U.name_next)if(U.parent.id===p.id&&U.name===v)return U;return S.lookup(p,v)},createNode:(p,v,w,M)=>{var U=new S.FSNode(p,v,w,M);return S.hashAddNode(U),U},destroyNode:p=>{S.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var v=S.flagModes[p];if(typeof v>"u")throw new Error("Unknown file open mode: "+p);return v},flagsToPermissionString:p=>{var v=["r","w","rw"][3&p];return 512&p&&(v+="w"),v},nodePermissions:(p,v)=>S.ignorePermissions?0:v.includes("r")&&!(292&p.mode)||v.includes("w")&&!(146&p.mode)||v.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>S.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,v)=>{try{return S.lookupNode(p,v),20}catch{}return S.nodePermissions(p,"wx")},mayDelete:(p,v,w)=>{var M;try{M=S.lookupNode(p,v)}catch(be){return be.errno}var U=S.nodePermissions(p,"wx");if(U)return U;if(w){if(!S.isDir(M.mode))return 54;if(S.isRoot(M)||S.getPath(M)===S.cwd())return 10}else if(S.isDir(M.mode))return 31;return 0},mayOpen:(p,v)=>p?S.isLink(p.mode)?32:S.isDir(p.mode)&&("r"!==S.flagsToPermissionString(v)||512&v)?31:S.nodePermissions(p,S.flagsToPermissionString(v)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,v=S.MAX_OPEN_FDS)=>{for(var w=p;w<=v;w++)if(!S.streams[w])return w;throw new S.ErrnoError(33)},getStream:p=>S.streams[p],createStream:(p,v,w)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),p=Object.assign(new S.FSStream,p);var M=S.nextfd(v,w);return p.fd=M,S.streams[M]=p,p},closeStream:p=>{S.streams[p]=null},chrdev_stream_ops:{open:p=>{var v=S.getDevice(p.node.rdev);p.stream_ops=v.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new S.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,v)=>p<<8|v,registerDevice:(p,v)=>{S.devices[p]={stream_ops:v}},getDevice:p=>S.devices[p],getMounts:p=>{for(var v=[],w=[p];w.length;){var M=w.pop();v.push(M),w.push.apply(w,M.mounts)}return v},syncfs:(p,v)=>{"function"==typeof p&&(v=p,p=!1),S.syncFSRequests++,S.syncFSRequests>1&&W("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=S.getMounts(S.root.mount),M=0;function U(Ce){return S.syncFSRequests--,v(Ce)}function be(Ce){if(Ce)return be.errored?void 0:(be.errored=!0,U(Ce));++M>=w.length&&U(null)}w.forEach(Ce=>{if(!Ce.type.syncfs)return be(null);Ce.type.syncfs(Ce,p,be)})},mount:(p,v,w)=>{var be,M="/"===w,U=!w;if(M&&S.root)throw new S.ErrnoError(10);if(!M&&!U){var Ce=S.lookupPath(w,{follow_mount:!1});if(w=Ce.path,S.isMountpoint(be=Ce.node))throw new S.ErrnoError(10);if(!S.isDir(be.mode))throw new S.ErrnoError(54)}var Se={type:p,opts:v,mountpoint:w,mounts:[]},ut=p.mount(Se);return ut.mount=Se,Se.root=ut,M?S.root=ut:be&&(be.mounted=Se,be.mount&&be.mount.mounts.push(Se)),ut},unmount:p=>{var v=S.lookupPath(p,{follow_mount:!1});if(!S.isMountpoint(v.node))throw new S.ErrnoError(28);var w=v.node,M=w.mounted,U=S.getMounts(M);Object.keys(S.nameTable).forEach(Ce=>{for(var Se=S.nameTable[Ce];Se;){var ut=Se.name_next;U.includes(Se.mount)&&S.destroyNode(Se),Se=ut}}),w.mounted=null;var be=w.mount.mounts.indexOf(M);w.mount.mounts.splice(be,1)},lookup:(p,v)=>p.node_ops.lookup(p,v),mknod:(p,v,w)=>{var U=S.lookupPath(p,{parent:!0}).node,be=Bt.basename(p);if(!be||"."===be||".."===be)throw new S.ErrnoError(28);var Ce=S.mayCreate(U,be);if(Ce)throw new S.ErrnoError(Ce);if(!U.node_ops.mknod)throw new S.ErrnoError(63);return U.node_ops.mknod(U,be,v,w)},create:(p,v)=>(v=void 0!==v?v:438,v&=4095,S.mknod(p,v|=32768,0)),mkdir:(p,v)=>(v=void 0!==v?v:511,v&=1023,S.mknod(p,v|=16384,0)),mkdirTree:(p,v)=>{for(var w=p.split("/"),M="",U=0;U<w.length;++U)if(w[U]){M+="/"+w[U];try{S.mkdir(M,v)}catch(be){if(20!=be.errno)throw be}}},mkdev:(p,v,w)=>(typeof w>"u"&&(w=v,v=438),S.mknod(p,v|=8192,w)),symlink:(p,v)=>{if(!fr.resolve(p))throw new S.ErrnoError(44);var M=S.lookupPath(v,{parent:!0}).node;if(!M)throw new S.ErrnoError(44);var U=Bt.basename(v),be=S.mayCreate(M,U);if(be)throw new S.ErrnoError(be);if(!M.node_ops.symlink)throw new S.ErrnoError(63);return M.node_ops.symlink(M,U,p)},rename:(p,v)=>{var Se,ut,w=Bt.dirname(p),M=Bt.dirname(v),U=Bt.basename(p),be=Bt.basename(v);if(Se=S.lookupPath(p,{parent:!0}).node,ut=S.lookupPath(v,{parent:!0}).node,!Se||!ut)throw new S.ErrnoError(44);if(Se.mount!==ut.mount)throw new S.ErrnoError(75);var y,d=S.lookupNode(Se,U),g=fr.relative(p,M);if("."!==g.charAt(0))throw new S.ErrnoError(28);if("."!==(g=fr.relative(v,w)).charAt(0))throw new S.ErrnoError(55);try{y=S.lookupNode(ut,be)}catch{}if(d!==y){var k=S.isDir(d.mode),N=S.mayDelete(Se,U,k);if(N)throw new S.ErrnoError(N);if(N=y?S.mayDelete(ut,be,k):S.mayCreate(ut,be))throw new S.ErrnoError(N);if(!Se.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(d)||y&&S.isMountpoint(y))throw new S.ErrnoError(10);if(ut!==Se&&(N=S.nodePermissions(Se,"w")))throw new S.ErrnoError(N);S.hashRemoveNode(d);try{Se.node_ops.rename(d,ut,be)}catch(ee){throw ee}finally{S.hashAddNode(d)}}},rmdir:p=>{var w=S.lookupPath(p,{parent:!0}).node,M=Bt.basename(p),U=S.lookupNode(w,M),be=S.mayDelete(w,M,!0);if(be)throw new S.ErrnoError(be);if(!w.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(U))throw new S.ErrnoError(10);w.node_ops.rmdir(w,M),S.destroyNode(U)},readdir:p=>{var w=S.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new S.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=S.lookupPath(p,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var M=Bt.basename(p),U=S.lookupNode(w,M),be=S.mayDelete(w,M,!1);if(be)throw new S.ErrnoError(be);if(!w.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(U))throw new S.ErrnoError(10);w.node_ops.unlink(w,M),S.destroyNode(U)},readlink:p=>{var w=S.lookupPath(p).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.readlink)throw new S.ErrnoError(28);return fr.resolve(S.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,v)=>{var M=S.lookupPath(p,{follow:!v}).node;if(!M)throw new S.ErrnoError(44);if(!M.node_ops.getattr)throw new S.ErrnoError(63);return M.node_ops.getattr(M)},lstat:p=>S.stat(p,!0),chmod:(p,v,w)=>{var M;if(!(M="string"==typeof p?S.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new S.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&v|-4096&M.mode,timestamp:Date.now()})},lchmod:(p,v)=>{S.chmod(p,v,!0)},fchmod:(p,v)=>{var w=S.getStream(p);if(!w)throw new S.ErrnoError(8);S.chmod(w.node,v)},chown:(p,v,w,M)=>{var U;if(!(U="string"==typeof p?S.lookupPath(p,{follow:!M}).node:p).node_ops.setattr)throw new S.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(p,v,w)=>{S.chown(p,v,w,!0)},fchown:(p,v,w)=>{var M=S.getStream(p);if(!M)throw new S.ErrnoError(8);S.chown(M.node,v,w)},truncate:(p,v)=>{if(v<0)throw new S.ErrnoError(28);var w;if(!(w="string"==typeof p?S.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(w.mode))throw new S.ErrnoError(31);if(!S.isFile(w.mode))throw new S.ErrnoError(28);var U=S.nodePermissions(w,"w");if(U)throw new S.ErrnoError(U);w.node_ops.setattr(w,{size:v,timestamp:Date.now()})},ftruncate:(p,v)=>{var w=S.getStream(p);if(!w)throw new S.ErrnoError(8);if(0==(2097155&w.flags))throw new S.ErrnoError(28);S.truncate(w.node,v)},utime:(p,v,w)=>{var U=S.lookupPath(p,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(v,w)})},open:(p,v,w)=>{if(""===p)throw new S.ErrnoError(44);var M;if(w=typeof w>"u"?438:w,w=64&(v="string"==typeof v?S.modeStringToFlags(v):v)?4095&w|32768:0,"object"==typeof p)M=p;else{p=Bt.normalize(p);try{M=S.lookupPath(p,{follow:!(131072&v)}).node}catch{}}var be=!1;if(64&v)if(M){if(128&v)throw new S.ErrnoError(20)}else M=S.mknod(p,w,0),be=!0;if(!M)throw new S.ErrnoError(44);if(S.isChrdev(M.mode)&&(v&=-513),65536&v&&!S.isDir(M.mode))throw new S.ErrnoError(54);if(!be){var Ce=S.mayOpen(M,v);if(Ce)throw new S.ErrnoError(Ce)}512&v&&!be&&S.truncate(M,0),v&=-131713;var Se=S.createStream({node:M,path:S.getPath(M),flags:v,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return Se.stream_ops.open&&Se.stream_ops.open(Se),u.logReadFiles&&!(1&v)&&(S.readFiles||(S.readFiles={}),p in S.readFiles||(S.readFiles[p]=1)),Se},close:p=>{if(S.isClosed(p))throw new S.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(v){throw v}finally{S.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,v,w)=>{if(S.isClosed(p))throw new S.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new S.ErrnoError(28);return p.position=p.stream_ops.llseek(p,v,w),p.ungotten=[],p.position},read:(p,v,w,M,U)=>{if(M<0||U<0)throw new S.ErrnoError(28);if(S.isClosed(p))throw new S.ErrnoError(8);if(1==(2097155&p.flags))throw new S.ErrnoError(8);if(S.isDir(p.node.mode))throw new S.ErrnoError(31);if(!p.stream_ops.read)throw new S.ErrnoError(28);var be=typeof U<"u";if(be){if(!p.seekable)throw new S.ErrnoError(70)}else U=p.position;var Ce=p.stream_ops.read(p,v,w,M,U);return be||(p.position+=Ce),Ce},write:(p,v,w,M,U,be)=>{if(M<0||U<0)throw new S.ErrnoError(28);if(S.isClosed(p))throw new S.ErrnoError(8);if(0==(2097155&p.flags))throw new S.ErrnoError(8);if(S.isDir(p.node.mode))throw new S.ErrnoError(31);if(!p.stream_ops.write)throw new S.ErrnoError(28);p.seekable&&1024&p.flags&&S.llseek(p,0,2);var Ce=typeof U<"u";if(Ce){if(!p.seekable)throw new S.ErrnoError(70)}else U=p.position;var Se=p.stream_ops.write(p,v,w,M,U,be);return Ce||(p.position+=Se),Se},allocate:(p,v,w)=>{if(S.isClosed(p))throw new S.ErrnoError(8);if(v<0||w<=0)throw new S.ErrnoError(28);if(0==(2097155&p.flags))throw new S.ErrnoError(8);if(!S.isFile(p.node.mode)&&!S.isDir(p.node.mode))throw new S.ErrnoError(43);if(!p.stream_ops.allocate)throw new S.ErrnoError(138);p.stream_ops.allocate(p,v,w)},mmap:(p,v,w,M,U)=>{if(0!=(2&M)&&0==(2&U)&&2!=(2097155&p.flags))throw new S.ErrnoError(2);if(1==(2097155&p.flags))throw new S.ErrnoError(2);if(!p.stream_ops.mmap)throw new S.ErrnoError(43);return p.stream_ops.mmap(p,v,w,M,U)},msync:(p,v,w,M,U)=>p.stream_ops.msync?p.stream_ops.msync(p,v,w,M,U):0,munmap:p=>0,ioctl:(p,v,w)=>{if(!p.stream_ops.ioctl)throw new S.ErrnoError(59);return p.stream_ops.ioctl(p,v,w)},readFile:(p,v={})=>{if(v.flags=v.flags||0,v.encoding=v.encoding||"binary","utf8"!==v.encoding&&"binary"!==v.encoding)throw new Error('Invalid encoding type "'+v.encoding+'"');var w,M=S.open(p,v.flags),be=S.stat(p).size,Ce=new Uint8Array(be);return S.read(M,Ce,0,be,0),"utf8"===v.encoding?w=Ue(Ce,0):"binary"===v.encoding&&(w=Ce),S.close(M),w},writeFile:(p,v,w={})=>{w.flags=w.flags||577;var M=S.open(p,w.flags,w.mode);if("string"==typeof v){var U=new Uint8Array(X(v)+1),be=$e(v,U,0,U.length);S.write(M,U,0,be,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(v))throw new Error("Unsupported data type");S.write(M,v,0,v.byteLength,void 0,w.canOwn)}S.close(M)},cwd:()=>S.currentPath,chdir:p=>{var v=S.lookupPath(p,{follow:!0});if(null===v.node)throw new S.ErrnoError(44);if(!S.isDir(v.node.mode))throw new S.ErrnoError(54);var w=S.nodePermissions(v.node,"x");if(w)throw new S.ErrnoError(w);S.currentPath=v.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(v,w,M,U,be)=>U}),S.mkdev("/dev/null",S.makedev(1,3)),Xn.register(S.makedev(5,0),Xn.default_tty_ops),Xn.register(S.makedev(6,0),Xn.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var p=function pn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>rr("randomDevice")}();S.createDevice("/dev","random",p),S.createDevice("/dev","urandom",p),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var p=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var v=S.createNode(p,"fd",16895,73);return v.node_ops={lookup:(w,M)=>{var be=S.getStream(+M);if(!be)throw new S.ErrnoError(8);var Ce={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>be.path}};return Ce.parent=Ce,Ce}},v}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?S.createDevice("/dev","stdin",u.stdin):S.symlink("/dev/tty","/dev/stdin"),u.stdout?S.createDevice("/dev","stdout",null,u.stdout):S.symlink("/dev/tty","/dev/stdout"),u.stderr?S.createDevice("/dev","stderr",null,u.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(v,w){this.node=w,this.setErrno=function(M){this.errno=M},this.setErrno(v),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(p=>{S.genericErrors[p]=new S.ErrnoError(p),S.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Jt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Jt}},init:(p,v,w)=>{S.init.initialized=!0,S.ensureErrnoError(),u.stdin=p||u.stdin,u.stdout=v||u.stdout,u.stderr=w||u.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var p=0;p<S.streams.length;p++){var v=S.streams[p];!v||S.close(v)}},getMode:(p,v)=>{var w=0;return p&&(w|=365),v&&(w|=146),w},findObject:(p,v)=>{var w=S.analyzePath(p,v);return w.exists?w.object:null},analyzePath:(p,v)=>{try{p=(w=S.lookupPath(p,{follow:!v})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=S.lookupPath(p,{parent:!0});M.parentExists=!0,M.parentPath=w.path,M.parentObject=w.node,M.name=Bt.basename(p),w=S.lookupPath(p,{follow:!v}),M.exists=!0,M.path=w.path,M.object=w.node,M.name=w.node.name,M.isRoot="/"===w.path}catch(U){M.error=U.errno}return M},createPath:(p,v,w,M)=>{p="string"==typeof p?p:S.getPath(p);for(var U=v.split("/").reverse();U.length;){var be=U.pop();if(be){var Ce=Bt.join2(p,be);try{S.mkdir(Ce)}catch{}p=Ce}}return Ce},createFile:(p,v,w,M,U)=>{var be=Bt.join2("string"==typeof p?p:S.getPath(p),v),Ce=S.getMode(M,U);return S.create(be,Ce)},createDataFile:(p,v,w,M,U,be)=>{var Ce=v;p&&(p="string"==typeof p?p:S.getPath(p),Ce=v?Bt.join2(p,v):p);var Se=S.getMode(M,U),ut=S.create(Ce,Se);if(w){if("string"==typeof w){for(var d=new Array(w.length),g=0,y=w.length;g<y;++g)d[g]=w.charCodeAt(g);w=d}S.chmod(ut,146|Se);var k=S.open(ut,577);S.write(k,w,0,w.length,0,be),S.close(k),S.chmod(ut,Se)}return ut},createDevice:(p,v,w,M)=>{var U=Bt.join2("string"==typeof p?p:S.getPath(p),v),be=S.getMode(!!w,!!M);S.createDevice.major||(S.createDevice.major=64);var Ce=S.makedev(S.createDevice.major++,0);return S.registerDevice(Ce,{open:Se=>{Se.seekable=!1},close:Se=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(Se,ut,d,g,y)=>{for(var k=0,N=0;N<g;N++){var ee;try{ee=w()}catch{throw new S.ErrnoError(29)}if(void 0===ee&&0===k)throw new S.ErrnoError(6);if(null==ee)break;k++,ut[d+N]=ee}return k&&(Se.node.timestamp=Date.now()),k},write:(Se,ut,d,g,y)=>{for(var k=0;k<g;k++)try{M(ut[d+k])}catch{throw new S.ErrnoError(29)}return g&&(Se.node.timestamp=Date.now()),k}}),S.mkdev(U,be,Ce)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=un(G(p.url),!0),p.usedBytes=p.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(p,v,w,M,U)=>{function be(){this.lengthKnown=!1,this.chunks=[]}if(be.prototype.get=function(N){if(!(N>this.length-1||N<0)){var ee=N%this.chunkSize;return this.getter(N/this.chunkSize|0)[ee]}},be.prototype.setDataGetter=function(N){this.getter=N},be.prototype.cacheLength=function(){var N=new XMLHttpRequest;if(N.open("HEAD",w,!1),N.send(null),!(N.status>=200&&N.status<300||304===N.status))throw new Error("Couldn't load "+w+". Status: "+N.status);var re,ee=Number(N.getResponseHeader("Content-length")),Le=(re=N.getResponseHeader("Accept-Ranges"))&&"bytes"===re,mt=(re=N.getResponseHeader("Content-Encoding"))&&"gzip"===re,le=1048576;Le||(le=ee);var It=this;It.setDataGetter(wt=>{var Dt=wt*le,Ut=(wt+1)*le-1;if(Ut=Math.min(Ut,ee-1),typeof It.chunks[wt]>"u"&&(It.chunks[wt]=((wt,Dt)=>{if(wt>Dt)throw new Error("invalid range ("+wt+", "+Dt+") or no bytes requested!");if(Dt>ee-1)throw new Error("only "+ee+" bytes available! programmer error!");var Ut=new XMLHttpRequest;if(Ut.open("GET",w,!1),ee!==le&&Ut.setRequestHeader("Range","bytes="+wt+"-"+Dt),Ut.responseType="arraybuffer",Ut.overrideMimeType&&Ut.overrideMimeType("text/plain; charset=x-user-defined"),Ut.send(null),!(Ut.status>=200&&Ut.status<300||304===Ut.status))throw new Error("Couldn't load "+w+". Status: "+Ut.status);return void 0!==Ut.response?new Uint8Array(Ut.response||[]):un(Ut.responseText||"",!0)})(Dt,Ut)),typeof It.chunks[wt]>"u")throw new Error("doXHR failed!");return It.chunks[wt]}),(mt||!ee)&&(le=ee=1,ee=this.getter(0).length,le=ee,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ee,this._chunkSize=le,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!K)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ce=new be;Object.defineProperties(Ce,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Se={isDevice:!1,contents:Ce}}else Se={isDevice:!1,url:w};var ut=S.createFile(p,v,Se,M,U);Se.contents?ut.contents=Se.contents:Se.url&&(ut.contents=null,ut.url=Se.url),Object.defineProperties(ut,{usedBytes:{get:function(){return this.contents.length}}});var d={};function y(k,N,ee,re,Le){var mt=k.node.contents;if(Le>=mt.length)return 0;var le=Math.min(mt.length-Le,re);if(mt.slice)for(var ct=0;ct<le;ct++)N[ee+ct]=mt[Le+ct];else for(ct=0;ct<le;ct++)N[ee+ct]=mt.get(Le+ct);return le}return Object.keys(ut.stream_ops).forEach(k=>{var N=ut.stream_ops[k];d[k]=function(){return S.forceLoadFile(ut),N.apply(null,arguments)}}),d.read=(k,N,ee,re,Le)=>(S.forceLoadFile(ut),y(k,N,ee,re,Le)),d.mmap=(k,N,ee,re,Le)=>{S.forceLoadFile(ut);var mt=pr();if(!mt)throw new S.ErrnoError(48);return y(k,nt,mt,N,ee),{ptr:mt,allocated:!0}},ut.stream_ops=d,ut},createPreloadedFile:(p,v,w,M,U,be,Ce,Se,ut,d)=>{var g=v?fr.resolve(Bt.join2(p,v)):p;function k(N){function ee(re){d&&d(),Se||S.createDataFile(p,v,re,M,U,ut),be&&be(),dr()}Browser.handledByPreloadPlugin(N,g,ee,()=>{Ce&&Ce(),dr()})||ee(N)}Wr(),"string"==typeof w?function hr(p,v,w,M){var U=M?"":"al "+p;Oe(p,be=>{Me(be,'Loading data file "'+p+'" failed (no arrayBuffer).'),v(new Uint8Array(be)),U&&dr()},be=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),U&&Wr()}(w,N=>k(N),Ce):k(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,v,w)=>{v=v||(()=>{}),w=w||(()=>{});var M=S.indexedDB();try{var U=M.open(S.DB_NAME(),S.DB_VERSION)}catch(be){return w(be)}U.onupgradeneeded=()=>{z("creating db"),U.result.createObjectStore(S.DB_STORE_NAME)},U.onsuccess=()=>{var Ce=U.result.transaction([S.DB_STORE_NAME],"readwrite"),Se=Ce.objectStore(S.DB_STORE_NAME),ut=0,d=0,g=p.length;function y(){0==d?v():w()}p.forEach(k=>{var N=Se.put(S.analyzePath(k).object.contents,k);N.onsuccess=()=>{++ut+d==g&&y()},N.onerror=()=>{d++,ut+d==g&&y()}}),Ce.onerror=w},U.onerror=w},loadFilesFromDB:(p,v,w)=>{v=v||(()=>{}),w=w||(()=>{});var M=S.indexedDB();try{var U=M.open(S.DB_NAME(),S.DB_VERSION)}catch(be){return w(be)}U.onupgradeneeded=w,U.onsuccess=()=>{var be=U.result;try{var Ce=be.transaction([S.DB_STORE_NAME],"readonly")}catch(k){return void w(k)}var Se=Ce.objectStore(S.DB_STORE_NAME),ut=0,d=0,g=p.length;function y(){0==d?v():w()}p.forEach(k=>{var N=Se.get(k);N.onsuccess=()=>{S.analyzePath(k).exists&&S.unlink(k),S.createDataFile(Bt.dirname(k),Bt.basename(k),N.result,!0,!0,!0),++ut+d==g&&y()},N.onerror=()=>{d++,ut+d==g&&y()}}),Ce.onerror=w},U.onerror=w}},Vt={DEFAULT_POLLMASK:5,calculateAt:function(p,v,w){if(Bt.isAbs(v))return v;var M;if(M=-100===p?S.cwd():Vt.getStreamFromFD(p).path,0==v.length){if(!w)throw new S.ErrnoError(44);return M}return Bt.join2(M,v)},doStat:function(p,v,w){try{var M=p(v)}catch(U){if(U&&U.node&&Bt.normalize(v)!==Bt.normalize(S.getPath(U.node)))return-54;throw U}return O[w>>2]=M.dev,O[w+8>>2]=M.ino,O[w+12>>2]=M.mode,ve[w+16>>2]=M.nlink,O[w+20>>2]=M.uid,O[w+24>>2]=M.gid,O[w+28>>2]=M.rdev,ue=[M.size>>>0,(at=M.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+40>>2]=ue[0],O[w+44>>2]=ue[1],O[w+48>>2]=4096,O[w+52>>2]=M.blocks,ue=[Math.floor(M.atime.getTime()/1e3)>>>0,(at=Math.floor(M.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+56>>2]=ue[0],O[w+60>>2]=ue[1],ve[w+64>>2]=0,ue=[Math.floor(M.mtime.getTime()/1e3)>>>0,(at=Math.floor(M.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+72>>2]=ue[0],O[w+76>>2]=ue[1],ve[w+80>>2]=0,ue=[Math.floor(M.ctime.getTime()/1e3)>>>0,(at=Math.floor(M.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+88>>2]=ue[0],O[w+92>>2]=ue[1],ve[w+96>>2]=0,ue=[M.ino>>>0,(at=M.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+104>>2]=ue[0],O[w+108>>2]=ue[1],0},doMsync:function(p,v,w,M,U){if(!S.isFile(v.node.mode))throw new S.ErrnoError(43);if(2&M)return 0;var be=St.slice(p,p+w);S.msync(v,be,U,w,M)},varargs:void 0,get:function(){return Vt.varargs+=4,O[Vt.varargs-4>>2]},getStr:function(p){return Fe(p)},getStreamFromFD:function(p){var v=S.getStream(p);if(!v)throw new S.ErrnoError(8);return v}};function E(p){return ve[p>>2]+4294967296*O[p+4>>2]}function yo(p){return p%4==0&&(p%100!=0||p%400==0)}var so=[0,31,60,91,121,152,182,213,244,274,305,335],Uo=[0,31,59,90,120,151,181,212,243,273,304,334];function Xt(p){var v=X(p)+1,w=vo(v);return w&&$e(p,nt,w,v),w}var $r=[];function xr(p){try{return me.grow(p-ze.byteLength+65535>>>16),pe(me.buffer),1}catch{}}var Si={};function _o(){if(!_o.strings){var v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var w in Si)void 0===Si[w]?delete v[w]:v[w]=Si[w];var M=[];for(var w in v)M.push(w+"="+v[w]);_o.strings=M}return _o.strings}function ji(p,v){de=p,function Di(p){de=p,function en(){return Pe}()||(u.onExit&&u.onExit(p),ot=!0),j(p,new vn(p))}(p)}var or=ji,x=[31,29,31,30,31,30,31,31,30,31,30,31],F=[31,28,31,30,31,30,31,31,30,31,30,31];var _e=function(p,v,w,M){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=S.nextInode++,this.name=v,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(_e.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=_e,S.staticInit();var cs,Mt={o:function sr(p,v,w,M){Vt.varargs=M;try{v=Vt.getStr(v),v=Vt.calculateAt(p,v);var U=M?Vt.get():0;return S.open(v,w,U).fd}catch(be){if(typeof S>"u"||!(be instanceof S.ErrnoError))throw be;return-be.errno}},h:function An(p,v){var w=new Date(1e3*E(p));O[v>>2]=w.getUTCSeconds(),O[v+4>>2]=w.getUTCMinutes(),O[v+8>>2]=w.getUTCHours(),O[v+12>>2]=w.getUTCDate(),O[v+16>>2]=w.getUTCMonth(),O[v+20>>2]=w.getUTCFullYear()-1900,O[v+24>>2]=w.getUTCDay();var M=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),U=(w.getTime()-M)/864e5|0;O[v+28>>2]=U},i:function Ci(p,v){var w=new Date(1e3*E(p));O[v>>2]=w.getSeconds(),O[v+4>>2]=w.getMinutes(),O[v+8>>2]=w.getHours(),O[v+12>>2]=w.getDate(),O[v+16>>2]=w.getMonth(),O[v+20>>2]=w.getFullYear()-1900,O[v+24>>2]=w.getDay();var M=0|function Tr(p){return(yo(p.getFullYear())?so:Uo)[p.getMonth()]+p.getDate()-1}(w);O[v+28>>2]=M,O[v+36>>2]=-60*w.getTimezoneOffset();var U=new Date(w.getFullYear(),0,1),be=new Date(w.getFullYear(),6,1).getTimezoneOffset(),Ce=U.getTimezoneOffset(),Se=0|(be!=Ce&&w.getTimezoneOffset()==Math.min(Ce,be));O[v+32>>2]=Se},j:function ao(p,v,w){var M=(new Date).getFullYear(),U=new Date(M,0,1),be=new Date(M,6,1),Ce=U.getTimezoneOffset(),Se=be.getTimezoneOffset(),ut=Math.max(Ce,Se);function d(ee){var re=ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return re?re[1]:"GMT"}ve[p>>2]=60*ut,O[v>>2]=Number(Ce!=Se);var g=d(U),y=d(be),k=Xt(g),N=Xt(y);Se<Ce?(ve[w>>2]=k,ve[w+4>>2]=N):(ve[w>>2]=N,ve[w+4>>2]=k)},b:function mr(){rr("")},a:function pi(p,v,w){var M=function lo(p,v){var w;for($r.length=0,v>>=2;w=St[p++];)v+=105!=w&v,$r.push(105==w?O[v]:J[v++>>1]),++v;return $r}(v,w);return Ge[p].apply(null,M)},c:function an(){return Date.now()},g:function Mo(p,v,w){St.copyWithin(p,v,v+w)},m:function jr(p){var ut,v=St.length,w=2147483648;if((p>>>=0)>w)return!1;for(var U=1;U<=4;U*=2){var be=v*(1+.2/U);if(be=Math.min(be,p+100663296),xr(Math.min(w,(ut=Math.max(p,be))+(65536-ut%65536)%65536)))return!0}return!1},p:function Hi(p,v){var w=0;return _o().forEach(function(M,U){var be=v+w;ve[p+4*U>>2]=be,function Oo(p,v,w){for(var M=0;M<p.length;++M)nt[v++>>0]=p.charCodeAt(M);w||(nt[v>>0]=0)}(M,be),w+=M.length+1}),0},f:function qr(p,v){var w=_o();ve[p>>2]=w.length;var M=0;return w.forEach(function(U){M+=U.length+1}),ve[v>>2]=M,0},q:or,d:function Go(p){try{var v=Vt.getStreamFromFD(p);return S.close(v),0}catch(w){if(typeof S>"u"||!(w instanceof S.ErrnoError))throw w;return w.errno}},e:function Ii(p,v,w,M){try{var be=function oi(p,v,w,M){for(var U=0,be=0;be<w;be++){var Ce=ve[v>>2],Se=ve[v+4>>2];v+=8;var ut=S.read(p,nt,Ce,Se,M);if(ut<0)return-1;if(U+=ut,ut<Se)break}return U}(Vt.getStreamFromFD(p),v,w);return ve[M>>2]=be,0}catch(Ce){if(typeof S>"u"||!(Ce instanceof S.ErrnoError))throw Ce;return Ce.errno}},k:function ii(p,v,w,M,U){try{var be=function Mn(p,v){return v+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*v:NaN}(v,w);if(isNaN(be))return 61;var Ce=Vt.getStreamFromFD(p);return S.llseek(Ce,be,M),ue=[Ce.position>>>0,(at=Ce.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[U>>2]=ue[0],O[U+4>>2]=ue[1],Ce.getdents&&0===be&&0===M&&(Ce.getdents=null),0}catch(Se){if(typeof S>"u"||!(Se instanceof S.ErrnoError))throw Se;return Se.errno}},n:function Mi(p,v,w,M){try{var be=function Vn(p,v,w,M){for(var U=0,be=0;be<w;be++){var Ce=ve[v>>2],Se=ve[v+4>>2];v+=8;var ut=S.write(p,nt,Ce,Se,M);if(ut<0)return-1;U+=ut}return U}(Vt.getStreamFromFD(p),v,w);return ve[M>>2]=be,0}catch(Ce){if(typeof S>"u"||!(Ce instanceof S.ErrnoError))throw Ce;return Ce.errno}},l:function L(p,v,w,M,U){return function ne(p,v,w,M){var U=O[M+40>>2],be={tm_sec:O[M>>2],tm_min:O[M+4>>2],tm_hour:O[M+8>>2],tm_mday:O[M+12>>2],tm_mon:O[M+16>>2],tm_year:O[M+20>>2],tm_wday:O[M+24>>2],tm_yday:O[M+28>>2],tm_isdst:O[M+32>>2],tm_gmtoff:O[M+36>>2],tm_zone:U?Fe(U):""},Ce=Fe(w),Se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ut in Se)Ce=Ce.replace(new RegExp(ut,"g"),Se[ut]);var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];function y(le,ct,It){for(var wt="number"==typeof le?le.toString():le||"";wt.length<ct;)wt=It[0]+wt;return wt}function k(le,ct){return y(le,ct,"0")}function N(le,ct){function It(Dt){return Dt<0?-1:Dt>0?1:0}var wt;return 0===(wt=It(le.getFullYear()-ct.getFullYear()))&&0===(wt=It(le.getMonth()-ct.getMonth()))&&(wt=It(le.getDate()-ct.getDate())),wt}function ee(le){switch(le.getDay()){case 0:return new Date(le.getFullYear()-1,11,29);case 1:return le;case 2:return new Date(le.getFullYear(),0,3);case 3:return new Date(le.getFullYear(),0,2);case 4:return new Date(le.getFullYear(),0,1);case 5:return new Date(le.getFullYear()-1,11,31);case 6:return new Date(le.getFullYear()-1,11,30)}}function re(le){var ct=function ye(p,v){for(var w=new Date(p.getTime());v>0;){var M=yo(w.getFullYear()),U=w.getMonth(),be=(M?x:F)[U];if(!(v>be-w.getDate()))return w.setDate(w.getDate()+v),w;v-=be-w.getDate()+1,w.setDate(1),U<11?w.setMonth(U+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(le.tm_year+1900,0,1),le.tm_yday),It=new Date(ct.getFullYear(),0,4),wt=new Date(ct.getFullYear()+1,0,4),Dt=ee(It),Ut=ee(wt);return N(Dt,ct)<=0?N(Ut,ct)<=0?ct.getFullYear()+1:ct.getFullYear():ct.getFullYear()-1}var Le={"%a":function(le){return d[le.tm_wday].substring(0,3)},"%A":function(le){return d[le.tm_wday]},"%b":function(le){return g[le.tm_mon].substring(0,3)},"%B":function(le){return g[le.tm_mon]},"%C":function(le){return k((le.tm_year+1900)/100|0,2)},"%d":function(le){return k(le.tm_mday,2)},"%e":function(le){return y(le.tm_mday,2," ")},"%g":function(le){return re(le).toString().substring(2)},"%G":function(le){return re(le)},"%H":function(le){return k(le.tm_hour,2)},"%I":function(le){var ct=le.tm_hour;return 0==ct?ct=12:ct>12&&(ct-=12),k(ct,2)},"%j":function(le){return k(le.tm_mday+function ms(p,v){for(var w=0,M=0;M<=v;w+=p[M++]);return w}(yo(le.tm_year+1900)?x:F,le.tm_mon-1),3)},"%m":function(le){return k(le.tm_mon+1,2)},"%M":function(le){return k(le.tm_min,2)},"%n":function(){return"\n"},"%p":function(le){return le.tm_hour>=0&&le.tm_hour<12?"AM":"PM"},"%S":function(le){return k(le.tm_sec,2)},"%t":function(){return"\t"},"%u":function(le){return le.tm_wday||7},"%U":function(le){return k(Math.floor((le.tm_yday+7-le.tm_wday)/7),2)},"%V":function(le){var ct=Math.floor((le.tm_yday+7-(le.tm_wday+6)%7)/7);if((le.tm_wday+371-le.tm_yday-2)%7<=2&&ct++,ct){if(53==ct){var wt=(le.tm_wday+371-le.tm_yday)%7;4!=wt&&(3!=wt||!yo(le.tm_year))&&(ct=1)}}else{ct=52;var It=(le.tm_wday+7-le.tm_yday-1)%7;(4==It||5==It&&yo(le.tm_year%400-1))&&ct++}return k(ct,2)},"%w":function(le){return le.tm_wday},"%W":function(le){return k(Math.floor((le.tm_yday+7-(le.tm_wday+6)%7)/7),2)},"%y":function(le){return(le.tm_year+1900).toString().substring(2)},"%Y":function(le){return le.tm_year+1900},"%z":function(le){var ct=le.tm_gmtoff,It=ct>=0;return ct=(ct=Math.abs(ct)/60)/60*100+ct%60,(It?"+":"-")+String("0000"+ct).slice(-4)},"%Z":function(le){return le.tm_zone},"%%":function(){return"%"}};for(var ut in Ce=Ce.replace(/%%/g,"\0\0"),Le)Ce.includes(ut)&&(Ce=Ce.replace(new RegExp(ut,"g"),Le[ut](be)));var mt=un(Ce=Ce.replace(/\0\0/g,"%"),!1);return mt.length>v?0:(function Te(p,v){nt.set(p,v)}(mt,p),mt.length-1)}(p,v,w,M)}},vo=(function Lr(){var p={a:Mt};function v(Ce,Se){u.asm=Ce.exports,pe((me=u.asm.r).buffer),function Rr(p){je.unshift(p)}(u.asm.s),dr()}function w(Ce){v(Ce.instance)}function M(Ce){return function wi(){return he||!Ie&&!K||"function"!=typeof fetch?Promise.resolve().then(function(){return io(En)}):fetch(En,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+En+"'";return p.arrayBuffer()}).catch(function(){return io(En)})}().then(function(Se){return WebAssembly.instantiate(Se,p)}).then(function(Se){return Se}).then(Ce,function(Se){W("failed to asynchronously prepare wasm: "+Se),rr(Se)})}if(Wr(),u.instantiateWasm)try{return u.instantiateWasm(p,v)}catch(Ce){W("Module.instantiateWasm callback failed with error: "+Ce),ie(Ce)}(function U(){return he||"function"!=typeof WebAssembly.instantiateStreaming||go(En)||"function"!=typeof fetch?M(w):fetch(En,{credentials:"same-origin"}).then(function(Ce){return WebAssembly.instantiateStreaming(Ce,p).then(w,function(ut){return W("wasm streaming compile failed: "+ut),W("falling back to ArrayBuffer instantiation"),M(w)})})})().catch(ie)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.s).apply(null,arguments)},u._free=function(){return(u._free=u.asm.t).apply(null,arguments)},u._malloc=function(){return(vo=u._malloc=u.asm.u).apply(null,arguments)}),co=u._emscripten_bind_VoidPtr___destroy___0=function(){return(co=u._emscripten_bind_VoidPtr___destroy___0=u.asm.v).apply(null,arguments)},Cr=u._emscripten_bind_FSTools_FSTools_0=function(){return(Cr=u._emscripten_bind_FSTools_FSTools_0=u.asm.w).apply(null,arguments)},Ui=u._emscripten_bind_FSTools_Malloc_1=function(){return(Ui=u._emscripten_bind_FSTools_Malloc_1=u.asm.x).apply(null,arguments)},As=u._emscripten_bind_FSTools_Free_1=function(){return(As=u._emscripten_bind_FSTools_Free_1=u.asm.y).apply(null,arguments)},zo=u._emscripten_bind_FSTools_Nullptr_0=function(){return(zo=u._emscripten_bind_FSTools_Nullptr_0=u.asm.z).apply(null,arguments)},Ha=u._emscripten_bind_FSTools___destroy___0=function(){return(Ha=u._emscripten_bind_FSTools___destroy___0=u.asm.A).apply(null,arguments)},ia=u._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(ia=u._emscripten_bind_MkfsContext_MkfsContext_0=u.asm.B).apply(null,arguments)},ki=u._emscripten_bind_MkfsContext_Mkfs_2=function(){return(ki=u._emscripten_bind_MkfsContext_Mkfs_2=u.asm.C).apply(null,arguments)},Ps=u._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ps=u._emscripten_bind_MkfsContext_GetImage_0=u.asm.D).apply(null,arguments)},ja=u._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(ja=u._emscripten_bind_MkfsContext_GetImageSize_0=u.asm.E).apply(null,arguments)},Xr=u._emscripten_bind_MkfsContext___destroy___0=function(){return(Xr=u._emscripten_bind_MkfsContext___destroy___0=u.asm.F).apply(null,arguments)},Ln=u._emscripten_bind_FsckContext_FsckContext_1=function(){return(Ln=u._emscripten_bind_FsckContext_FsckContext_1=u.asm.G).apply(null,arguments)},sa=u._emscripten_bind_FsckContext_GetImage_0=function(){return(sa=u._emscripten_bind_FsckContext_GetImage_0=u.asm.H).apply(null,arguments)},gs=u._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(gs=u._emscripten_bind_FsckContext_GetDirtyPages_0=u.asm.I).apply(null,arguments)},ys=u._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ys=u._emscripten_bind_FsckContext_GetImageSize_0=u.asm.J).apply(null,arguments)},vt=u._emscripten_bind_FsckContext_Fsck_0=function(){return(vt=u._emscripten_bind_FsckContext_Fsck_0=u.asm.K).apply(null,arguments)},_l=u._emscripten_bind_FsckContext_GetResult_0=function(){return(_l=u._emscripten_bind_FsckContext_GetResult_0=u.asm.L).apply(null,arguments)},Qn=u._emscripten_bind_FsckContext___destroy___0=function(){return(Qn=u._emscripten_bind_FsckContext___destroy___0=u.asm.M).apply(null,arguments)};function Gi(p){function v(){cs||(cs=!0,u.calledRun=!0,!ot&&(function xn(){!u.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,Xn.init(),In(je)}(),function vr(){In(Ft)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),us&&function Rs(p){var v=u._main;try{var U=v(0,0);return ji(U),U}catch(be){return function Z(p){if(p instanceof vn||"unwind"==p)return de;j(1,p)}(be)}}(),function nr(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),jt.unshift(p);var p;In(jt)}()))}p=p||ce,Dn>0||(function Q(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),_t.unshift(p);var p;In(_t)}(),Dn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),v()},1)):v())}if(u._main=function(){return(u._main=u.asm.N).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.P).apply(null,arguments)},u.___start_em_js=40204,u.___stop_em_js=40302,Pn=function p(){cs||Gi(),cs||(Pn=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var us=!0;function Zr(){}function zi(p){return(p||Zr).__cache__}function Wt(p,v){var w=zi(v),M=w[p];return M||((M=Object.create((v||Zr).prototype)).ptr=p,w[p]=M)}u.noInitialRun&&(us=!1),Gi(),(Zr.prototype=Object.create(Zr.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},u.WrapperObject=Zr,u.getCache=zi,u.wrapPointer=Wt,u.castObject=function ca(p,v){return Wt(p.ptr,v)},u.NULL=Wt(0),u.destroy=function bl(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete zi(p.__class__)[p.ptr]},u.compare=function Qr(p,v){return p.ptr===v.ptr},u.getPointer=function ua(p){return p.ptr},u.getClass=function Ua(p){return p.__class__};var Rn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Rn.needed){for(var p=0;p<Rn.temps.length;p++)u._free(Rn.temps[p]);Rn.temps.length=0,u._free(Rn.buffer),Rn.buffer=0,Rn.size+=Rn.needed,Rn.needed=0}Rn.buffer||(Rn.size+=128,Rn.buffer=u._malloc(Rn.size),Me(Rn.buffer)),Rn.pos=0},alloc:function(p,v){Me(Rn.buffer);var U,M=p.length*v.BYTES_PER_ELEMENT;return Rn.pos+(M=M+7&-8)>=Rn.size?(Me(M>0),Rn.needed+=M,U=u._malloc(M),Rn.temps.push(U)):(U=Rn.buffer+Rn.pos,Rn.pos+=M),U},copy:function(p,v,w){switch(w>>>=0,v.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var U=0;U<p.length;U++)v[w+U]=p[U]}};function Ur(){throw"cannot construct a VoidPtr, no constructor in IDL"}function cr(){this.ptr=Cr(),zi(cr)[this.ptr]=this}function ir(){this.ptr=ia(),zi(ir)[this.ptr]=this}function hn(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Ln(p),zi(hn)[this.ptr]=this}return(Ur.prototype=Object.create(Zr.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},u.VoidPtr=Ur,Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){co(this.ptr)},(cr.prototype=Object.create(Zr.prototype)).constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},u.FSTools=cr,cr.prototype.Malloc=cr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Wt(Ui(this.ptr,p),Ur)},cr.prototype.Free=cr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),As(this.ptr,p)},cr.prototype.Nullptr=cr.prototype.Nullptr=function(){return Wt(zo(this.ptr),Ur)},cr.prototype.__destroy__=cr.prototype.__destroy__=function(){Ha(this.ptr)},(ir.prototype=Object.create(Zr.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},u.MkfsContext=ir,ir.prototype.Mkfs=ir.prototype.Mkfs=function(p,v){var w=this.ptr;return Rn.prepare(),p&&"object"==typeof p&&(p=p.ptr),v=v&&"object"==typeof v?v.ptr:function lr(p){if("string"==typeof p){var v=un(p),w=Rn.alloc(v,nt);return Rn.copy(v,nt,w),w}return p}(v),!!ki(w,p,v)},ir.prototype.GetImage=ir.prototype.GetImage=function(){return Wt(Ps(this.ptr),Ur)},ir.prototype.GetImageSize=ir.prototype.GetImageSize=function(){return ja(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){Xr(this.ptr)},(hn.prototype=Object.create(Zr.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},u.FsckContext=hn,hn.prototype.GetImage=hn.prototype.GetImage=function(){return Wt(sa(this.ptr),Ur)},hn.prototype.GetDirtyPages=hn.prototype.GetDirtyPages=function(){return Wt(gs(this.ptr),Ur)},hn.prototype.GetImageSize=hn.prototype.GetImageSize=function(){return ys(this.ptr)},hn.prototype.Fsck=hn.prototype.Fsck=function(){return vt(this.ptr)},hn.prototype.GetResult=hn.prototype.GetResult=function(){return _l(this.ptr)},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){Qn(this.ptr)},T.ready});He.exports=We},7971:He=>{var R,We=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var ae,ie,u=typeof(T=T||{})<"u"?T:{};u.ready=new Promise(function(d,g){ae=d,ie=g});var G,Oe,Ne,q=Object.assign({},u),ce=[],V="./this.program",j=(d,g)=>{throw g},Ie="object"==typeof window,K="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ie||K)&&(K?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),R&&(B=R),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},K&&(Ne=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Oe=(d,g,y)=>{var k=new XMLHttpRequest;k.open("GET",d,!0),k.responseType="arraybuffer",k.onload=()=>{200==k.status||0==k.status&&k.response?g(k.response):y()},k.onerror=y,k.send(null)});var he,z=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(ce=u.arguments),u.thisProgram&&(V=u.thisProgram),u.quit&&(j=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Pe=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&rr("no native wasm support detected");var me,de,ot=!1;function Me(d,g){d||rr(g)}var ze,nt,St,O,ve,xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(d,g,y){for(var k=g+y,N=g;d[N]&&!(N>=k);)++N;if(N-g>16&&d.buffer&&xe)return xe.decode(d.subarray(g,N));for(var ee="";g<N;){var re=d[g++];if(128&re){var Le=63&d[g++];if(192!=(224&re)){var mt=63&d[g++];if((re=224==(240&re)?(15&re)<<12|Le<<6|mt:(7&re)<<18|Le<<12|mt<<6|63&d[g++])<65536)ee+=String.fromCharCode(re);else{var le=re-65536;ee+=String.fromCharCode(55296|le>>10,56320|1023&le)}}else ee+=String.fromCharCode((31&re)<<6|Le)}else ee+=String.fromCharCode(re)}return ee}function Fe(d,g){return d?Ue(St,d,g):""}function $e(d,g,y,k){if(!(k>0))return 0;for(var N=y,ee=y+k-1,re=0;re<d.length;++re){var Le=d.charCodeAt(re);if(Le>=55296&&Le<=57343&&(Le=65536+((1023&Le)<<10)|1023&d.charCodeAt(++re)),Le<=127){if(y>=ee)break;g[y++]=Le}else if(Le<=2047){if(y+1>=ee)break;g[y++]=192|Le>>6,g[y++]=128|63&Le}else if(Le<=65535){if(y+2>=ee)break;g[y++]=224|Le>>12,g[y++]=128|Le>>6&63,g[y++]=128|63&Le}else{if(y+3>=ee)break;g[y++]=240|Le>>18,g[y++]=128|Le>>12&63,g[y++]=128|Le>>6&63,g[y++]=128|63&Le}}return g[y]=0,y-N}function X(d){for(var g=0,y=0;y<d.length;++y){var k=d.charCodeAt(y);k<=127?g++:k<=2047?g+=2:k>=55296&&k<=57343?(g+=4,++y):g+=3}return g}function pe(d){ze=d,u.HEAP8=nt=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAP32=O=new Int32Array(d),u.HEAPU8=St=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAPU32=ve=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=new Float64Array(d)}var En,at,ue,_t=[],je=[],Ft=[],jt=[],Dn=0,kr=null,Pn=null;function Wr(d){Dn++,u.monitorRunDependencies&&u.monitorRunDependencies(Dn)}function dr(d){if(Dn--,u.monitorRunDependencies&&u.monitorRunDependencies(Dn),0==Dn&&(null!==kr&&(clearInterval(kr),kr=null),Pn)){var g=Pn;Pn=null,g()}}function rr(d){u.onAbort&&u.onAbort(d),W(d="Aborted("+d+")"),ot=!0,de=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw ie(g),g}function go(d){return d.startsWith("data:application/octet-stream;base64,")}function io(d){try{if(d==En&&he)return new Uint8Array(he);if(Ne)return Ne(d);throw"both async and sync fetching of the wasm failed"}catch(g){rr(g)}}function Ge(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function vn(d){for(;d.length>0;)d.shift()(u)}function Bt(d){return d%4==0&&(d%100!=0||d%400==0)}go(En="vfs_web.wasm")||(En=function $(d){return u.locateFile?u.locateFile(d,B):B+d}(En));var pn=[0,31,60,91,121,152,182,213,244,274,305,335],fr=[0,31,59,90,120,151,181,212,243,273,304,334];function un(d){return(Bt(d.getFullYear())?pn:fr)[d.getMonth()]+d.getDate()-1}function Jt(d){var g=X(d)+1,y=_e(g);return y&&$e(d,nt,y,g),y}function An(d){try{return me.grow(d-ze.byteLength+65535>>>16),pe(me.buffer),1}catch{}}var so={};function Tr(){if(!Tr.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var y in so)void 0===so[y]?delete g[y]:g[y]=so[y];var k=[];for(var y in g)k.push(y+"="+g[y]);Tr.strings=k}return Tr.strings}var Xt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var y=0,k=d.length-1;k>=0;k--){var N=d[k];"."===N?d.splice(k,1):".."===N?(d.splice(k,1),y++):y&&(d.splice(k,1),y--)}if(g)for(;y;y--)d.unshift("..");return d},normalize:d=>{var g=Xt.isAbs(d),y="/"===d.substr(-1);return!(d=Xt.normalizeArray(d.split("/").filter(k=>!!k),!g).join("/"))&&!g&&(d="."),d&&y&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=Xt.splitPath(d),y=g[0],k=g[1];return y||k?(k&&(k=k.substr(0,k.length-1)),y+k):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=Xt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Xt.normalize(d.join("/"))},join2:(d,g)=>Xt.normalize(d+"/"+g)},mr={resolve:function(){for(var d="",g=!1,y=arguments.length-1;y>=-1&&!g;y--){var k=y>=0?arguments[y]:D.cwd();if("string"!=typeof k)throw new TypeError("Arguments to path.resolve must be strings");if(!k)return"";d=k+"/"+d,g=Xt.isAbs(k)}return(g?"/":"")+(d=Xt.normalizeArray(d.split("/").filter(N=>!!N),!g).join("/"))||"."},relative:(d,g)=>{function y(le){for(var ct=0;ct<le.length&&""===le[ct];ct++);for(var It=le.length-1;It>=0&&""===le[It];It--);return ct>It?[]:le.slice(ct,It-ct+1)}d=mr.resolve(d).substr(1),g=mr.resolve(g).substr(1);for(var k=y(d.split("/")),N=y(g.split("/")),ee=Math.min(k.length,N.length),re=ee,Le=0;Le<ee;Le++)if(k[Le]!==N[Le]){re=Le;break}var mt=[];for(Le=re;Le<k.length;Le++)mt.push("..");return(mt=mt.concat(N.slice(re))).join("/")}};function $r(d,g,y){var k=y>0?y:X(d)+1,N=new Array(k),ee=$e(d,N,0,N.length);return g&&(N.length=ee),N}var lo={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){lo.ttys[d]={input:[],output:[],ops:g},D.registerDevice(d,lo.stream_ops)},stream_ops:{open:function(d){var g=lo.ttys[d.node.rdev];if(!g)throw new D.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,y,k,N){if(!d.tty||!d.tty.ops.get_char)throw new D.ErrnoError(60);for(var ee=0,re=0;re<k;re++){var Le;try{Le=d.tty.ops.get_char(d.tty)}catch{throw new D.ErrnoError(29)}if(void 0===Le&&0===ee)throw new D.ErrnoError(6);if(null==Le)break;ee++,g[y+re]=Le}return ee&&(d.node.timestamp=Date.now()),ee},write:function(d,g,y,k,N){if(!d.tty||!d.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var ee=0;ee<k;ee++)d.tty.ops.put_char(d.tty,g[y+ee])}catch{throw new D.ErrnoError(29)}return k&&(d.node.timestamp=Date.now()),ee}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=$r(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(z(Ue(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(z(Ue(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(W(Ue(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(W(Ue(d.output,0)),d.output=[])}}};function pi(d){rr()}var an={ops_table:null,mount:function(d){return an.createNode(null,"/",16895,0)},createNode:function(d,g,y,k){if(D.isBlkdev(y)||D.isFIFO(y))throw new D.ErrnoError(63);an.ops_table||(an.ops_table={dir:{node:{getattr:an.node_ops.getattr,setattr:an.node_ops.setattr,lookup:an.node_ops.lookup,mknod:an.node_ops.mknod,rename:an.node_ops.rename,unlink:an.node_ops.unlink,rmdir:an.node_ops.rmdir,readdir:an.node_ops.readdir,symlink:an.node_ops.symlink},stream:{llseek:an.stream_ops.llseek}},file:{node:{getattr:an.node_ops.getattr,setattr:an.node_ops.setattr},stream:{llseek:an.stream_ops.llseek,read:an.stream_ops.read,write:an.stream_ops.write,allocate:an.stream_ops.allocate,mmap:an.stream_ops.mmap,msync:an.stream_ops.msync}},link:{node:{getattr:an.node_ops.getattr,setattr:an.node_ops.setattr,readlink:an.node_ops.readlink},stream:{}},chrdev:{node:{getattr:an.node_ops.getattr,setattr:an.node_ops.setattr},stream:D.chrdev_stream_ops}});var N=D.createNode(d,g,y,k);return D.isDir(N.mode)?(N.node_ops=an.ops_table.dir.node,N.stream_ops=an.ops_table.dir.stream,N.contents={}):D.isFile(N.mode)?(N.node_ops=an.ops_table.file.node,N.stream_ops=an.ops_table.file.stream,N.usedBytes=0,N.contents=null):D.isLink(N.mode)?(N.node_ops=an.ops_table.link.node,N.stream_ops=an.ops_table.link.stream):D.isChrdev(N.mode)&&(N.node_ops=an.ops_table.chrdev.node,N.stream_ops=an.ops_table.chrdev.stream),N.timestamp=Date.now(),d&&(d.contents[g]=N,d.timestamp=N.timestamp),N},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var y=d.contents?d.contents.length:0;if(!(y>=g)){g=Math.max(g,y*(y<1048576?2:1.125)>>>0),0!=y&&(g=Math.max(g,256));var N=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(N.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var y=d.contents;d.contents=new Uint8Array(g),y&&d.contents.set(y.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=D.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=D.isDir(d.mode)?4096:D.isFile(d.mode)?d.usedBytes:D.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&an.resizeFileStorage(d,g.size)},lookup:function(d,g){throw D.genericErrors[44]},mknod:function(d,g,y,k){return an.createNode(d,g,y,k)},rename:function(d,g,y){if(D.isDir(d.mode)){var k;try{k=D.lookupNode(g,y)}catch{}if(k)for(var N in k.contents)throw new D.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=y,g.contents[y]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var y=D.lookupNode(d,g);for(var k in y.contents)throw new D.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var y in d.contents)!d.contents.hasOwnProperty(y)||g.push(y);return g},symlink:function(d,g,y){var k=an.createNode(d,g,41471,0);return k.link=y,k},readlink:function(d){if(!D.isLink(d.mode))throw new D.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,y,k,N){var ee=d.node.contents;if(N>=d.node.usedBytes)return 0;var re=Math.min(d.node.usedBytes-N,k);if(re>8&&ee.subarray)g.set(ee.subarray(N,N+re),y);else for(var Le=0;Le<re;Le++)g[y+Le]=ee[N+Le];return re},write:function(d,g,y,k,N,ee){if(g.buffer===nt.buffer&&(ee=!1),!k)return 0;var re=d.node;if(re.timestamp=Date.now(),g.subarray&&(!re.contents||re.contents.subarray)){if(ee)return re.contents=g.subarray(y,y+k),re.usedBytes=k,k;if(0===re.usedBytes&&0===N)return re.contents=g.slice(y,y+k),re.usedBytes=k,k;if(N+k<=re.usedBytes)return re.contents.set(g.subarray(y,y+k),N),k}if(an.expandFileStorage(re,N+k),re.contents.subarray&&g.subarray)re.contents.set(g.subarray(y,y+k),N);else for(var Le=0;Le<k;Le++)re.contents[N+Le]=g[y+Le];return re.usedBytes=Math.max(re.usedBytes,N+k),k},llseek:function(d,g,y){var k=g;if(1===y?k+=d.position:2===y&&D.isFile(d.node.mode)&&(k+=d.node.usedBytes),k<0)throw new D.ErrnoError(28);return k},allocate:function(d,g,y){an.expandFileStorage(d.node,g+y),d.node.usedBytes=Math.max(d.node.usedBytes,g+y)},mmap:function(d,g,y,k,N){if(!D.isFile(d.node.mode))throw new D.ErrnoError(43);var ee,re,Le=d.node.contents;if(2&N||Le.buffer!==ze){if((y>0||y+g<Le.length)&&(Le=Le.subarray?Le.subarray(y,y+g):Array.prototype.slice.call(Le,y,y+g)),re=!0,!(ee=pi()))throw new D.ErrnoError(48);nt.set(Le,ee)}else re=!1,ee=Le.byteOffset;return{ptr:ee,allocated:re}},msync:function(d,g,y,k,N){return an.stream_ops.write(d,g,0,k,y,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=mr.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new D.ErrnoError(32);for(var k=d.split("/").filter(It=>!!It),N=D.root,ee="/",re=0;re<k.length;re++){var Le=re===k.length-1;if(Le&&g.parent)break;if(N=D.lookupNode(N,k[re]),ee=Xt.join2(ee,k[re]),D.isMountpoint(N)&&(!Le||Le&&g.follow_mount)&&(N=N.mounted.root),!Le||g.follow)for(var mt=0;D.isLink(N.mode);){var le=D.readlink(ee);if(ee=mr.resolve(Xt.dirname(ee),le),N=D.lookupPath(ee,{recurse_count:g.recurse_count+1}).node,mt++>40)throw new D.ErrnoError(32)}}return{path:ee,node:N}},getPath:d=>{for(var g;;){if(D.isRoot(d)){var y=d.mount.mountpoint;return g?"/"!==y[y.length-1]?y+"/"+g:y+g:y}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var y=0,k=0;k<g.length;k++)y=(y<<5)-y+g.charCodeAt(k)|0;return(d+y>>>0)%D.nameTable.length},hashAddNode:d=>{var g=D.hashName(d.parent.id,d.name);d.name_next=D.nameTable[g],D.nameTable[g]=d},hashRemoveNode:d=>{var g=D.hashName(d.parent.id,d.name);if(D.nameTable[g]===d)D.nameTable[g]=d.name_next;else for(var y=D.nameTable[g];y;){if(y.name_next===d){y.name_next=d.name_next;break}y=y.name_next}},lookupNode:(d,g)=>{var y=D.mayLookup(d);if(y)throw new D.ErrnoError(y,d);for(var k=D.hashName(d.id,g),N=D.nameTable[k];N;N=N.name_next)if(N.parent.id===d.id&&N.name===g)return N;return D.lookup(d,g)},createNode:(d,g,y,k)=>{var N=new D.FSNode(d,g,y,k);return D.hashAddNode(N),N},destroyNode:d=>{D.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=D.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>D.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>D.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return D.lookupNode(d,g),20}catch{}return D.nodePermissions(d,"wx")},mayDelete:(d,g,y)=>{var k;try{k=D.lookupNode(d,g)}catch(ee){return ee.errno}var N=D.nodePermissions(d,"wx");if(N)return N;if(y){if(!D.isDir(k.mode))return 54;if(D.isRoot(k)||D.getPath(k)===D.cwd())return 10}else if(D.isDir(k.mode))return 31;return 0},mayOpen:(d,g)=>d?D.isLink(d.mode)?32:D.isDir(d.mode)&&("r"!==D.flagsToPermissionString(g)||512&g)?31:D.nodePermissions(d,D.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=D.MAX_OPEN_FDS)=>{for(var y=d;y<=g;y++)if(!D.streams[y])return y;throw new D.ErrnoError(33)},getStream:d=>D.streams[d],createStream:(d,g,y)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(N){this.node=N}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(N){this.shared.flags=N}},position:{get:function(){return this.shared.position},set:function(N){this.shared.position=N}}})),d=Object.assign(new D.FSStream,d);var k=D.nextfd(g,y);return d.fd=k,D.streams[k]=d,d},closeStream:d=>{D.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=D.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new D.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{D.devices[d]={stream_ops:g}},getDevice:d=>D.devices[d],getMounts:d=>{for(var g=[],y=[d];y.length;){var k=y.pop();g.push(k),y.push.apply(y,k.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),D.syncFSRequests++,D.syncFSRequests>1&&W("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var y=D.getMounts(D.root.mount),k=0;function N(re){return D.syncFSRequests--,g(re)}function ee(re){if(re)return ee.errored?void 0:(ee.errored=!0,N(re));++k>=y.length&&N(null)}y.forEach(re=>{if(!re.type.syncfs)return ee(null);re.type.syncfs(re,d,ee)})},mount:(d,g,y)=>{var ee,k="/"===y,N=!y;if(k&&D.root)throw new D.ErrnoError(10);if(!k&&!N){var re=D.lookupPath(y,{follow_mount:!1});if(y=re.path,D.isMountpoint(ee=re.node))throw new D.ErrnoError(10);if(!D.isDir(ee.mode))throw new D.ErrnoError(54)}var Le={type:d,opts:g,mountpoint:y,mounts:[]},mt=d.mount(Le);return mt.mount=Le,Le.root=mt,k?D.root=mt:ee&&(ee.mounted=Le,ee.mount&&ee.mount.mounts.push(Le)),mt},unmount:d=>{var g=D.lookupPath(d,{follow_mount:!1});if(!D.isMountpoint(g.node))throw new D.ErrnoError(28);var y=g.node,k=y.mounted,N=D.getMounts(k);Object.keys(D.nameTable).forEach(re=>{for(var Le=D.nameTable[re];Le;){var mt=Le.name_next;N.includes(Le.mount)&&D.destroyNode(Le),Le=mt}}),y.mounted=null;var ee=y.mount.mounts.indexOf(k);y.mount.mounts.splice(ee,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,y)=>{var N=D.lookupPath(d,{parent:!0}).node,ee=Xt.basename(d);if(!ee||"."===ee||".."===ee)throw new D.ErrnoError(28);var re=D.mayCreate(N,ee);if(re)throw new D.ErrnoError(re);if(!N.node_ops.mknod)throw new D.ErrnoError(63);return N.node_ops.mknod(N,ee,g,y)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,D.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,D.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var y=d.split("/"),k="",N=0;N<y.length;++N)if(y[N]){k+="/"+y[N];try{D.mkdir(k,g)}catch(ee){if(20!=ee.errno)throw ee}}},mkdev:(d,g,y)=>(typeof y>"u"&&(y=g,g=438),D.mknod(d,g|=8192,y)),symlink:(d,g)=>{if(!mr.resolve(d))throw new D.ErrnoError(44);var k=D.lookupPath(g,{parent:!0}).node;if(!k)throw new D.ErrnoError(44);var N=Xt.basename(g),ee=D.mayCreate(k,N);if(ee)throw new D.ErrnoError(ee);if(!k.node_ops.symlink)throw new D.ErrnoError(63);return k.node_ops.symlink(k,N,d)},rename:(d,g)=>{var Le,mt,y=Xt.dirname(d),k=Xt.dirname(g),N=Xt.basename(d),ee=Xt.basename(g);if(Le=D.lookupPath(d,{parent:!0}).node,mt=D.lookupPath(g,{parent:!0}).node,!Le||!mt)throw new D.ErrnoError(44);if(Le.mount!==mt.mount)throw new D.ErrnoError(75);var It,le=D.lookupNode(Le,N),ct=mr.relative(d,k);if("."!==ct.charAt(0))throw new D.ErrnoError(28);if("."!==(ct=mr.relative(g,y)).charAt(0))throw new D.ErrnoError(55);try{It=D.lookupNode(mt,ee)}catch{}if(le!==It){var wt=D.isDir(le.mode),Dt=D.mayDelete(Le,N,wt);if(Dt)throw new D.ErrnoError(Dt);if(Dt=It?D.mayDelete(mt,ee,wt):D.mayCreate(mt,ee))throw new D.ErrnoError(Dt);if(!Le.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(le)||It&&D.isMountpoint(It))throw new D.ErrnoError(10);if(mt!==Le&&(Dt=D.nodePermissions(Le,"w")))throw new D.ErrnoError(Dt);D.hashRemoveNode(le);try{Le.node_ops.rename(le,mt,ee)}catch(Ut){throw Ut}finally{D.hashAddNode(le)}}},rmdir:d=>{var y=D.lookupPath(d,{parent:!0}).node,k=Xt.basename(d),N=D.lookupNode(y,k),ee=D.mayDelete(y,k,!0);if(ee)throw new D.ErrnoError(ee);if(!y.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(N))throw new D.ErrnoError(10);y.node_ops.rmdir(y,k),D.destroyNode(N)},readdir:d=>{var y=D.lookupPath(d,{follow:!0}).node;if(!y.node_ops.readdir)throw new D.ErrnoError(54);return y.node_ops.readdir(y)},unlink:d=>{var y=D.lookupPath(d,{parent:!0}).node;if(!y)throw new D.ErrnoError(44);var k=Xt.basename(d),N=D.lookupNode(y,k),ee=D.mayDelete(y,k,!1);if(ee)throw new D.ErrnoError(ee);if(!y.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(N))throw new D.ErrnoError(10);y.node_ops.unlink(y,k),D.destroyNode(N)},readlink:d=>{var y=D.lookupPath(d).node;if(!y)throw new D.ErrnoError(44);if(!y.node_ops.readlink)throw new D.ErrnoError(28);return mr.resolve(D.getPath(y.parent),y.node_ops.readlink(y))},stat:(d,g)=>{var k=D.lookupPath(d,{follow:!g}).node;if(!k)throw new D.ErrnoError(44);if(!k.node_ops.getattr)throw new D.ErrnoError(63);return k.node_ops.getattr(k)},lstat:d=>D.stat(d,!0),chmod:(d,g,y)=>{var k;if(!(k="string"==typeof d?D.lookupPath(d,{follow:!y}).node:d).node_ops.setattr)throw new D.ErrnoError(63);k.node_ops.setattr(k,{mode:4095&g|-4096&k.mode,timestamp:Date.now()})},lchmod:(d,g)=>{D.chmod(d,g,!0)},fchmod:(d,g)=>{var y=D.getStream(d);if(!y)throw new D.ErrnoError(8);D.chmod(y.node,g)},chown:(d,g,y,k)=>{var N;if(!(N="string"==typeof d?D.lookupPath(d,{follow:!k}).node:d).node_ops.setattr)throw new D.ErrnoError(63);N.node_ops.setattr(N,{timestamp:Date.now()})},lchown:(d,g,y)=>{D.chown(d,g,y,!0)},fchown:(d,g,y)=>{var k=D.getStream(d);if(!k)throw new D.ErrnoError(8);D.chown(k.node,g,y)},truncate:(d,g)=>{if(g<0)throw new D.ErrnoError(28);var y;if(!(y="string"==typeof d?D.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(y.mode))throw new D.ErrnoError(31);if(!D.isFile(y.mode))throw new D.ErrnoError(28);var N=D.nodePermissions(y,"w");if(N)throw new D.ErrnoError(N);y.node_ops.setattr(y,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var y=D.getStream(d);if(!y)throw new D.ErrnoError(8);if(0==(2097155&y.flags))throw new D.ErrnoError(28);D.truncate(y.node,g)},utime:(d,g,y)=>{var N=D.lookupPath(d,{follow:!0}).node;N.node_ops.setattr(N,{timestamp:Math.max(g,y)})},open:(d,g,y)=>{if(""===d)throw new D.ErrnoError(44);var k;if(y=typeof y>"u"?438:y,y=64&(g="string"==typeof g?D.modeStringToFlags(g):g)?4095&y|32768:0,"object"==typeof d)k=d;else{d=Xt.normalize(d);try{k=D.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var ee=!1;if(64&g)if(k){if(128&g)throw new D.ErrnoError(20)}else k=D.mknod(d,y,0),ee=!0;if(!k)throw new D.ErrnoError(44);if(D.isChrdev(k.mode)&&(g&=-513),65536&g&&!D.isDir(k.mode))throw new D.ErrnoError(54);if(!ee){var re=D.mayOpen(k,g);if(re)throw new D.ErrnoError(re)}512&g&&!ee&&D.truncate(k,0),g&=-131713;var Le=D.createStream({node:k,path:D.getPath(k),flags:g,seekable:!0,position:0,stream_ops:k.stream_ops,ungotten:[],error:!1});return Le.stream_ops.open&&Le.stream_ops.open(Le),u.logReadFiles&&!(1&g)&&(D.readFiles||(D.readFiles={}),d in D.readFiles||(D.readFiles[d]=1)),Le},close:d=>{if(D.isClosed(d))throw new D.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{D.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,y)=>{if(D.isClosed(d))throw new D.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=y&&1!=y&&2!=y)throw new D.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,y),d.ungotten=[],d.position},read:(d,g,y,k,N)=>{if(k<0||N<0)throw new D.ErrnoError(28);if(D.isClosed(d))throw new D.ErrnoError(8);if(1==(2097155&d.flags))throw new D.ErrnoError(8);if(D.isDir(d.node.mode))throw new D.ErrnoError(31);if(!d.stream_ops.read)throw new D.ErrnoError(28);var ee=typeof N<"u";if(ee){if(!d.seekable)throw new D.ErrnoError(70)}else N=d.position;var re=d.stream_ops.read(d,g,y,k,N);return ee||(d.position+=re),re},write:(d,g,y,k,N,ee)=>{if(k<0||N<0)throw new D.ErrnoError(28);if(D.isClosed(d))throw new D.ErrnoError(8);if(0==(2097155&d.flags))throw new D.ErrnoError(8);if(D.isDir(d.node.mode))throw new D.ErrnoError(31);if(!d.stream_ops.write)throw new D.ErrnoError(28);d.seekable&&1024&d.flags&&D.llseek(d,0,2);var re=typeof N<"u";if(re){if(!d.seekable)throw new D.ErrnoError(70)}else N=d.position;var Le=d.stream_ops.write(d,g,y,k,N,ee);return re||(d.position+=Le),Le},allocate:(d,g,y)=>{if(D.isClosed(d))throw new D.ErrnoError(8);if(g<0||y<=0)throw new D.ErrnoError(28);if(0==(2097155&d.flags))throw new D.ErrnoError(8);if(!D.isFile(d.node.mode)&&!D.isDir(d.node.mode))throw new D.ErrnoError(43);if(!d.stream_ops.allocate)throw new D.ErrnoError(138);d.stream_ops.allocate(d,g,y)},mmap:(d,g,y,k,N)=>{if(0!=(2&k)&&0==(2&N)&&2!=(2097155&d.flags))throw new D.ErrnoError(2);if(1==(2097155&d.flags))throw new D.ErrnoError(2);if(!d.stream_ops.mmap)throw new D.ErrnoError(43);return d.stream_ops.mmap(d,g,y,k,N)},msync:(d,g,y,k,N)=>d.stream_ops.msync?d.stream_ops.msync(d,g,y,k,N):0,munmap:d=>0,ioctl:(d,g,y)=>{if(!d.stream_ops.ioctl)throw new D.ErrnoError(59);return d.stream_ops.ioctl(d,g,y)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var y,k=D.open(d,g.flags),ee=D.stat(d).size,re=new Uint8Array(ee);return D.read(k,re,0,ee,0),"utf8"===g.encoding?y=Ue(re,0):"binary"===g.encoding&&(y=re),D.close(k),y},writeFile:(d,g,y={})=>{y.flags=y.flags||577;var k=D.open(d,y.flags,y.mode);if("string"==typeof g){var N=new Uint8Array(X(g)+1),ee=$e(g,N,0,N.length);D.write(k,N,0,ee,void 0,y.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");D.write(k,g,0,g.byteLength,void 0,y.canOwn)}D.close(k)},cwd:()=>D.currentPath,chdir:d=>{var g=D.lookupPath(d,{follow:!0});if(null===g.node)throw new D.ErrnoError(44);if(!D.isDir(g.node.mode))throw new D.ErrnoError(54);var y=D.nodePermissions(g.node,"x");if(y)throw new D.ErrnoError(y);D.currentPath=g.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(g,y,k,N,ee)=>N}),D.mkdev("/dev/null",D.makedev(1,3)),lo.register(D.makedev(5,0),lo.default_tty_ops),lo.register(D.makedev(6,0),lo.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var d=function ao(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>rr("randomDevice")}();D.createDevice("/dev","random",d),D.createDevice("/dev","urandom",d),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var d=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var g=D.createNode(d,"fd",16895,73);return g.node_ops={lookup:(y,k)=>{var ee=D.getStream(+k);if(!ee)throw new D.ErrnoError(8);var re={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ee.path}};return re.parent=re,re}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?D.createDevice("/dev","stdin",u.stdin):D.symlink("/dev/tty","/dev/stdin"),u.stdout?D.createDevice("/dev","stdout",null,u.stdout):D.symlink("/dev/tty","/dev/stdout"),u.stderr?D.createDevice("/dev","stderr",null,u.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(g,y){this.node=y,this.setErrno=function(k){this.errno=k},this.setErrno(g),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(d=>{D.genericErrors[d]=new D.ErrnoError(d),D.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(an,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:an}},init:(d,g,y)=>{D.init.initialized=!0,D.ensureErrnoError(),u.stdin=d||u.stdin,u.stdout=g||u.stdout,u.stderr=y||u.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var d=0;d<D.streams.length;d++){var g=D.streams[d];!g||D.close(g)}},getMode:(d,g)=>{var y=0;return d&&(y|=365),g&&(y|=146),y},findObject:(d,g)=>{var y=D.analyzePath(d,g);return y.exists?y.object:null},analyzePath:(d,g)=>{try{d=(y=D.lookupPath(d,{follow:!g})).path}catch{}var k={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var y=D.lookupPath(d,{parent:!0});k.parentExists=!0,k.parentPath=y.path,k.parentObject=y.node,k.name=Xt.basename(d),y=D.lookupPath(d,{follow:!g}),k.exists=!0,k.path=y.path,k.object=y.node,k.name=y.node.name,k.isRoot="/"===y.path}catch(N){k.error=N.errno}return k},createPath:(d,g,y,k)=>{d="string"==typeof d?d:D.getPath(d);for(var N=g.split("/").reverse();N.length;){var ee=N.pop();if(ee){var re=Xt.join2(d,ee);try{D.mkdir(re)}catch{}d=re}}return re},createFile:(d,g,y,k,N)=>{var ee=Xt.join2("string"==typeof d?d:D.getPath(d),g),re=D.getMode(k,N);return D.create(ee,re)},createDataFile:(d,g,y,k,N,ee)=>{var re=g;d&&(d="string"==typeof d?d:D.getPath(d),re=g?Xt.join2(d,g):d);var Le=D.getMode(k,N),mt=D.create(re,Le);if(y){if("string"==typeof y){for(var le=new Array(y.length),ct=0,It=y.length;ct<It;++ct)le[ct]=y.charCodeAt(ct);y=le}D.chmod(mt,146|Le);var wt=D.open(mt,577);D.write(wt,y,0,y.length,0,ee),D.close(wt),D.chmod(mt,Le)}return mt},createDevice:(d,g,y,k)=>{var N=Xt.join2("string"==typeof d?d:D.getPath(d),g),ee=D.getMode(!!y,!!k);D.createDevice.major||(D.createDevice.major=64);var re=D.makedev(D.createDevice.major++,0);return D.registerDevice(re,{open:Le=>{Le.seekable=!1},close:Le=>{k&&k.buffer&&k.buffer.length&&k(10)},read:(Le,mt,le,ct,It)=>{for(var wt=0,Dt=0;Dt<ct;Dt++){var Ut;try{Ut=y()}catch{throw new D.ErrnoError(29)}if(void 0===Ut&&0===wt)throw new D.ErrnoError(6);if(null==Ut)break;wt++,mt[le+Dt]=Ut}return wt&&(Le.node.timestamp=Date.now()),wt},write:(Le,mt,le,ct,It)=>{for(var wt=0;wt<ct;wt++)try{k(mt[le+wt])}catch{throw new D.ErrnoError(29)}return ct&&(Le.node.timestamp=Date.now()),wt}}),D.mkdev(N,ee,re)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=$r(G(d.url),!0),d.usedBytes=d.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(d,g,y,k,N)=>{function ee(){this.lengthKnown=!1,this.chunks=[]}if(ee.prototype.get=function(Dt){if(!(Dt>this.length-1||Dt<0)){var Ut=Dt%this.chunkSize;return this.getter(Dt/this.chunkSize|0)[Ut]}},ee.prototype.setDataGetter=function(Dt){this.getter=Dt},ee.prototype.cacheLength=function(){var Dt=new XMLHttpRequest;if(Dt.open("HEAD",y,!1),Dt.send(null),!(Dt.status>=200&&Dt.status<300||304===Dt.status))throw new Error("Couldn't load "+y+". Status: "+Dt.status);var Hn,Ut=Number(Dt.getResponseHeader("Content-length")),Sr=(Hn=Dt.getResponseHeader("Accept-Ranges"))&&"bytes"===Hn,Et=(Hn=Dt.getResponseHeader("Content-Encoding"))&&"gzip"===Hn,Ze=1048576;Sr||(Ze=Ut);var qn=this;qn.setDataGetter(zn=>{var Jn=zn*Ze,gr=(zn+1)*Ze-1;if(gr=Math.min(gr,Ut-1),typeof qn.chunks[zn]>"u"&&(qn.chunks[zn]=((zn,Jn)=>{if(zn>Jn)throw new Error("invalid range ("+zn+", "+Jn+") or no bytes requested!");if(Jn>Ut-1)throw new Error("only "+Ut+" bytes available! programmer error!");var gr=new XMLHttpRequest;if(gr.open("GET",y,!1),Ut!==Ze&&gr.setRequestHeader("Range","bytes="+zn+"-"+Jn),gr.responseType="arraybuffer",gr.overrideMimeType&&gr.overrideMimeType("text/plain; charset=x-user-defined"),gr.send(null),!(gr.status>=200&&gr.status<300||304===gr.status))throw new Error("Couldn't load "+y+". Status: "+gr.status);return void 0!==gr.response?new Uint8Array(gr.response||[]):$r(gr.responseText||"",!0)})(Jn,gr)),typeof qn.chunks[zn]>"u")throw new Error("doXHR failed!");return qn.chunks[zn]}),(Et||!Ut)&&(Ze=Ut=1,Ut=this.getter(0).length,Ze=Ut,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ut,this._chunkSize=Ze,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!K)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var re=new ee;Object.defineProperties(re,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Le={isDevice:!1,contents:re}}else Le={isDevice:!1,url:y};var mt=D.createFile(d,g,Le,k,N);Le.contents?mt.contents=Le.contents:Le.url&&(mt.contents=null,mt.url=Le.url),Object.defineProperties(mt,{usedBytes:{get:function(){return this.contents.length}}});var le={};function It(wt,Dt,Ut,Hn,Sr){var Et=wt.node.contents;if(Sr>=Et.length)return 0;var Ze=Math.min(Et.length-Sr,Hn);if(Et.slice)for(var kt=0;kt<Ze;kt++)Dt[Ut+kt]=Et[Sr+kt];else for(kt=0;kt<Ze;kt++)Dt[Ut+kt]=Et.get(Sr+kt);return Ze}return Object.keys(mt.stream_ops).forEach(wt=>{var Dt=mt.stream_ops[wt];le[wt]=function(){return D.forceLoadFile(mt),Dt.apply(null,arguments)}}),le.read=(wt,Dt,Ut,Hn,Sr)=>(D.forceLoadFile(mt),It(wt,Dt,Ut,Hn,Sr)),le.mmap=(wt,Dt,Ut,Hn,Sr)=>{D.forceLoadFile(mt);var Et=pi();if(!Et)throw new D.ErrnoError(48);return It(wt,nt,Et,Dt,Ut),{ptr:Et,allocated:!0}},mt.stream_ops=le,mt},createPreloadedFile:(d,g,y,k,N,ee,re,Le,mt,le)=>{var ct=g?mr.resolve(Xt.join2(d,g)):d;function wt(Dt){function Ut(Hn){le&&le(),Le||D.createDataFile(d,g,Hn,k,N,mt),ee&&ee(),dr()}Browser.handledByPreloadPlugin(Dt,ct,Ut,()=>{re&&re(),dr()})||Ut(Dt)}Wr(),"string"==typeof y?function Mo(d,g,y,k){var N=k?"":"al "+d;Oe(d,ee=>{Me(ee,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(ee)),N&&dr()},ee=>{if(!y)throw'Loading data file "'+d+'" failed.';y()}),N&&Wr()}(y,Dt=>wt(Dt),re):wt(y)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,y)=>{g=g||(()=>{}),y=y||(()=>{});var k=D.indexedDB();try{var N=k.open(D.DB_NAME(),D.DB_VERSION)}catch(ee){return y(ee)}N.onupgradeneeded=()=>{z("creating db"),N.result.createObjectStore(D.DB_STORE_NAME)},N.onsuccess=()=>{var re=N.result.transaction([D.DB_STORE_NAME],"readwrite"),Le=re.objectStore(D.DB_STORE_NAME),mt=0,le=0,ct=d.length;function It(){0==le?g():y()}d.forEach(wt=>{var Dt=Le.put(D.analyzePath(wt).object.contents,wt);Dt.onsuccess=()=>{++mt+le==ct&&It()},Dt.onerror=()=>{le++,mt+le==ct&&It()}}),re.onerror=y},N.onerror=y},loadFilesFromDB:(d,g,y)=>{g=g||(()=>{}),y=y||(()=>{});var k=D.indexedDB();try{var N=k.open(D.DB_NAME(),D.DB_VERSION)}catch(ee){return y(ee)}N.onupgradeneeded=y,N.onsuccess=()=>{var ee=N.result;try{var re=ee.transaction([D.DB_STORE_NAME],"readonly")}catch(wt){return void y(wt)}var Le=re.objectStore(D.DB_STORE_NAME),mt=0,le=0,ct=d.length;function It(){0==le?g():y()}d.forEach(wt=>{var Dt=Le.get(wt);Dt.onsuccess=()=>{D.analyzePath(wt).exists&&D.unlink(wt),D.createDataFile(Xt.dirname(wt),Xt.basename(wt),Dt.result,!0,!0,!0),++mt+le==ct&&It()},Dt.onerror=()=>{le++,mt+le==ct&&It()}}),re.onerror=y},N.onerror=y}},xr={DEFAULT_POLLMASK:5,calculateAt:function(d,g,y){if(Xt.isAbs(g))return g;var k;if(k=-100===d?D.cwd():xr.getStreamFromFD(d).path,0==g.length){if(!y)throw new D.ErrnoError(44);return k}return Xt.join2(k,g)},doStat:function(d,g,y){try{var k=d(g)}catch(N){if(N&&N.node&&Xt.normalize(g)!==Xt.normalize(D.getPath(N.node)))return-54;throw N}return O[y>>2]=k.dev,O[y+8>>2]=k.ino,O[y+12>>2]=k.mode,ve[y+16>>2]=k.nlink,O[y+20>>2]=k.uid,O[y+24>>2]=k.gid,O[y+28>>2]=k.rdev,ue=[k.size>>>0,(at=k.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[y+40>>2]=ue[0],O[y+44>>2]=ue[1],O[y+48>>2]=4096,O[y+52>>2]=k.blocks,ue=[Math.floor(k.atime.getTime()/1e3)>>>0,(at=Math.floor(k.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[y+56>>2]=ue[0],O[y+60>>2]=ue[1],ve[y+64>>2]=0,ue=[Math.floor(k.mtime.getTime()/1e3)>>>0,(at=Math.floor(k.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[y+72>>2]=ue[0],O[y+76>>2]=ue[1],ve[y+80>>2]=0,ue=[Math.floor(k.ctime.getTime()/1e3)>>>0,(at=Math.floor(k.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[y+88>>2]=ue[0],O[y+92>>2]=ue[1],ve[y+96>>2]=0,ue=[k.ino>>>0,(at=k.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[y+104>>2]=ue[0],O[y+108>>2]=ue[1],0},doMsync:function(d,g,y,k,N){if(!D.isFile(g.node.mode))throw new D.ErrnoError(43);if(2&k)return 0;var ee=St.slice(d,d+y);D.msync(g,ee,N,y,k)},varargs:void 0,get:function(){return xr.varargs+=4,O[xr.varargs-4>>2]},getStr:function(d){return Fe(d)},getStreamFromFD:function(d){var g=D.getStream(d);if(!g)throw new D.ErrnoError(8);return g}},Go=[31,29,31,30,31,30,31,31,30,31,30,31],oi=[31,28,31,30,31,30,31,31,30,31,30,31];var F=function(d,g,y,k){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=D.nextInode++,this.name=g,this.mode=y,this.node_ops={},this.stream_ops={},this.rdev=k};Object.defineProperties(F.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=F,D.staticInit();var Qr,ne={h:function Xn(d,g){var y=new Date(1e3*function In(d){return ve[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=y.getSeconds(),O[g+4>>2]=y.getMinutes(),O[g+8>>2]=y.getHours(),O[g+12>>2]=y.getDate(),O[g+16>>2]=y.getMonth(),O[g+20>>2]=y.getFullYear()-1900,O[g+24>>2]=y.getDay();var k=0|un(y);O[g+28>>2]=k,O[g+36>>2]=-60*y.getTimezoneOffset();var N=new Date(y.getFullYear(),0,1),ee=new Date(y.getFullYear(),6,1).getTimezoneOffset(),re=N.getTimezoneOffset(),Le=0|(ee!=re&&y.getTimezoneOffset()==Math.min(re,ee));O[g+32>>2]=Le},i:function pr(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),y=O[d+32>>2],k=g.getTimezoneOffset(),N=new Date(g.getFullYear(),0,1),ee=new Date(g.getFullYear(),6,1).getTimezoneOffset(),re=N.getTimezoneOffset(),Le=Math.min(re,ee);if(y<0)O[d+32>>2]=Number(ee!=re&&Le==k);else if(y>0!=(Le==k)){var mt=Math.max(re,ee),le=y>0?Le:mt;g.setTime(g.getTime()+6e4*(le-k))}O[d+24>>2]=g.getDay();var ct=0|un(g);return O[d+28>>2]=ct,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},n:function hr(d,g,y){var k=(new Date).getFullYear(),N=new Date(k,0,1),ee=new Date(k,6,1),re=N.getTimezoneOffset(),Le=ee.getTimezoneOffset(),mt=Math.max(re,Le);function le(Ut){var Hn=Ut.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Hn?Hn[1]:"GMT"}ve[d>>2]=60*mt,O[g>>2]=Number(re!=Le);var ct=le(N),It=le(ee),wt=Jt(ct),Dt=Jt(It);Le<re?(ve[y>>2]=wt,ve[y+4>>2]=Dt):(ve[y>>2]=Dt,ve[y+4>>2]=wt)},a:function S(){rr("")},g:function Vt(){return Date.now()},f:function sr(d,g,y){St.copyWithin(d,g,g+y)},e:function yo(d){var mt,g=St.length,y=2147483648;if((d>>>=0)>y)return!1;for(var N=1;N<=4;N*=2){var ee=g*(1+.2/N);if(ee=Math.min(ee,d+100663296),An(Math.min(y,(mt=Math.max(d,ee))+(65536-mt%65536)%65536)))return!0}return!1},l:function jr(d,g){var y=0;return Tr().forEach(function(k,N){var ee=g+y;ve[d+4*N>>2]=ee,function Ci(d,g,y){for(var k=0;k<d.length;++k)nt[g++>>0]=d.charCodeAt(k);y||(nt[g>>0]=0)}(k,ee),y+=k.length+1}),0},m:function Si(d,g){var y=Tr();ve[d>>2]=y.length;var k=0;return y.forEach(function(N){k+=N.length+1}),ve[g>>2]=k,0},b:function Ei(d){try{var g=xr.getStreamFromFD(d);return D.close(g),0}catch(y){if(typeof D>"u"||!(y instanceof D.ErrnoError))throw y;return y.errno}},d:function Oo(d,g,y,k){try{var ee=function _o(d,g,y,k){for(var N=0,ee=0;ee<y;ee++){var re=ve[g>>2],Le=ve[g+4>>2];g+=8;var mt=D.read(d,nt,re,Le,k);if(mt<0)return-1;if(N+=mt,mt<Le)break}return N}(xr.getStreamFromFD(d),g,y);return ve[k>>2]=ee,0}catch(re){if(typeof D>"u"||!(re instanceof D.ErrnoError))throw re;return re.errno}},j:function qr(d,g,y,k,N){try{var ee=function Hi(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}(g,y);if(isNaN(ee))return 61;var re=xr.getStreamFromFD(d);return D.llseek(re,ee,k),ue=[re.position>>>0,(at=re.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[N>>2]=ue[0],O[N+4>>2]=ue[1],re.getdents&&0===ee&&0===k&&(re.getdents=null),0}catch(Le){if(typeof D>"u"||!(Le instanceof D.ErrnoError))throw Le;return Le.errno}},c:function ji(d,g,y,k){try{var ee=function Di(d,g,y,k){for(var N=0,ee=0;ee<y;ee++){var re=ve[g>>2],Le=ve[g+4>>2];g+=8;var mt=D.write(d,nt,re,Le,k);if(mt<0)return-1;N+=mt}return N}(xr.getStreamFromFD(d),g,y);return ve[k>>2]=ee,0}catch(re){if(typeof D>"u"||!(re instanceof D.ErrnoError))throw re;return re.errno}},k:function Vn(d,g,y,k,N){return function ii(d,g,y,k){var N=O[k+40>>2],ee={tm_sec:O[k>>2],tm_min:O[k+4>>2],tm_hour:O[k+8>>2],tm_mday:O[k+12>>2],tm_mon:O[k+16>>2],tm_year:O[k+20>>2],tm_wday:O[k+24>>2],tm_yday:O[k+28>>2],tm_isdst:O[k+32>>2],tm_gmtoff:O[k+36>>2],tm_zone:N?Fe(N):""},re=Fe(y),Le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var mt in Le)re=re.replace(new RegExp(mt,"g"),Le[mt]);var le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];function It(Ze,kt,qn){for(var zn="number"==typeof Ze?Ze.toString():Ze||"";zn.length<kt;)zn=qn[0]+zn;return zn}function wt(Ze,kt){return It(Ze,kt,"0")}function Dt(Ze,kt){function qn(Jn){return Jn<0?-1:Jn>0?1:0}var zn;return 0===(zn=qn(Ze.getFullYear()-kt.getFullYear()))&&0===(zn=qn(Ze.getMonth()-kt.getMonth()))&&(zn=qn(Ze.getDate()-kt.getDate())),zn}function Ut(Ze){switch(Ze.getDay()){case 0:return new Date(Ze.getFullYear()-1,11,29);case 1:return Ze;case 2:return new Date(Ze.getFullYear(),0,3);case 3:return new Date(Ze.getFullYear(),0,2);case 4:return new Date(Ze.getFullYear(),0,1);case 5:return new Date(Ze.getFullYear()-1,11,31);case 6:return new Date(Ze.getFullYear()-1,11,30)}}function Hn(Ze){var kt=function Ii(d,g){for(var y=new Date(d.getTime());g>0;){var k=Bt(y.getFullYear()),N=y.getMonth(),ee=(k?Go:oi)[N];if(!(g>ee-y.getDate()))return y.setDate(y.getDate()+g),y;g-=ee-y.getDate()+1,y.setDate(1),N<11?y.setMonth(N+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1))}return y}(new Date(Ze.tm_year+1900,0,1),Ze.tm_yday),qn=new Date(kt.getFullYear(),0,4),zn=new Date(kt.getFullYear()+1,0,4),Jn=Ut(qn),gr=Ut(zn);return Dt(Jn,kt)<=0?Dt(gr,kt)<=0?kt.getFullYear()+1:kt.getFullYear():kt.getFullYear()-1}var Sr={"%a":function(Ze){return le[Ze.tm_wday].substring(0,3)},"%A":function(Ze){return le[Ze.tm_wday]},"%b":function(Ze){return ct[Ze.tm_mon].substring(0,3)},"%B":function(Ze){return ct[Ze.tm_mon]},"%C":function(Ze){return wt((Ze.tm_year+1900)/100|0,2)},"%d":function(Ze){return wt(Ze.tm_mday,2)},"%e":function(Ze){return It(Ze.tm_mday,2," ")},"%g":function(Ze){return Hn(Ze).toString().substring(2)},"%G":function(Ze){return Hn(Ze)},"%H":function(Ze){return wt(Ze.tm_hour,2)},"%I":function(Ze){var kt=Ze.tm_hour;return 0==kt?kt=12:kt>12&&(kt-=12),wt(kt,2)},"%j":function(Ze){return wt(Ze.tm_mday+function or(d,g){for(var y=0,k=0;k<=g;y+=d[k++]);return y}(Bt(Ze.tm_year+1900)?Go:oi,Ze.tm_mon-1),3)},"%m":function(Ze){return wt(Ze.tm_mon+1,2)},"%M":function(Ze){return wt(Ze.tm_min,2)},"%n":function(){return"\n"},"%p":function(Ze){return Ze.tm_hour>=0&&Ze.tm_hour<12?"AM":"PM"},"%S":function(Ze){return wt(Ze.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Ze){return Ze.tm_wday||7},"%U":function(Ze){return wt(Math.floor((Ze.tm_yday+7-Ze.tm_wday)/7),2)},"%V":function(Ze){var kt=Math.floor((Ze.tm_yday+7-(Ze.tm_wday+6)%7)/7);if((Ze.tm_wday+371-Ze.tm_yday-2)%7<=2&&kt++,kt){if(53==kt){var zn=(Ze.tm_wday+371-Ze.tm_yday)%7;4!=zn&&(3!=zn||!Bt(Ze.tm_year))&&(kt=1)}}else{kt=52;var qn=(Ze.tm_wday+7-Ze.tm_yday-1)%7;(4==qn||5==qn&&Bt(Ze.tm_year%400-1))&&kt++}return wt(kt,2)},"%w":function(Ze){return Ze.tm_wday},"%W":function(Ze){return wt(Math.floor((Ze.tm_yday+7-(Ze.tm_wday+6)%7)/7),2)},"%y":function(Ze){return(Ze.tm_year+1900).toString().substring(2)},"%Y":function(Ze){return Ze.tm_year+1900},"%z":function(Ze){var kt=Ze.tm_gmtoff,qn=kt>=0;return kt=(kt=Math.abs(kt)/60)/60*100+kt%60,(qn?"+":"-")+String("0000"+kt).slice(-4)},"%Z":function(Ze){return Ze.tm_zone},"%%":function(){return"%"}};for(var mt in re=re.replace(/%%/g,"\0\0"),Sr)re.includes(mt)&&(re=re.replace(new RegExp(mt,"g"),Sr[mt](ee)));var Et=$r(re=re.replace(/\0\0/g,"%"),!1);return Et.length>g?0:(function Mn(d,g){nt.set(d,g)}(Et,d),Et.length-1)}(d,g,y,k)}},_e=(function Lr(){var d={a:ne};function g(re,Le){u.asm=re.exports,pe((me=u.asm.o).buffer),function Rr(d){je.unshift(d)}(u.asm.p),dr()}function y(re){g(re.instance)}function k(re){return function wi(){return he||!Ie&&!K||"function"!=typeof fetch?Promise.resolve().then(function(){return io(En)}):fetch(En,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+En+"'";return d.arrayBuffer()}).catch(function(){return io(En)})}().then(function(Le){return WebAssembly.instantiate(Le,d)}).then(function(Le){return Le}).then(re,function(Le){W("failed to asynchronously prepare wasm: "+Le),rr(Le)})}if(Wr(),u.instantiateWasm)try{return u.instantiateWasm(d,g)}catch(re){W("Module.instantiateWasm callback failed with error: "+re),ie(re)}(function N(){return he||"function"!=typeof WebAssembly.instantiateStreaming||go(En)||"function"!=typeof fetch?k(y):fetch(En,{credentials:"same-origin"}).then(function(re){return WebAssembly.instantiateStreaming(re,d).then(y,function(mt){return W("wasm streaming compile failed: "+mt),W("falling back to ArrayBuffer instantiation"),k(y)})})})().catch(ie)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.p).apply(null,arguments)},u._malloc=function(){return(_e=u._malloc=u.asm.q).apply(null,arguments)}),st=(u._free=function(){return(u._free=u.asm.r).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(st=u._emscripten_bind_VoidPtr___destroy___0=u.asm.s).apply(null,arguments)}),Mt=u._emscripten_bind_FileEntry_GetName_0=function(){return(Mt=u._emscripten_bind_FileEntry_GetName_0=u.asm.t).apply(null,arguments)},Ht=u._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Ht=u._emscripten_bind_FileEntry_IsDirectory_0=u.asm.u).apply(null,arguments)},tn=u._emscripten_bind_FileEntry_GetSize_0=function(){return(tn=u._emscripten_bind_FileEntry_GetSize_0=u.asm.v).apply(null,arguments)},ar=u._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(ar=u._emscripten_bind_FileEntry_GetModifiedTS_0=u.asm.w).apply(null,arguments)},vo=u._emscripten_bind_FileEntry_GetAttributes_0=function(){return(vo=u._emscripten_bind_FileEntry_GetAttributes_0=u.asm.x).apply(null,arguments)},co=u._emscripten_bind_FileEntry___destroy___0=function(){return(co=u._emscripten_bind_FileEntry___destroy___0=u.asm.y).apply(null,arguments)},Cr=u._emscripten_bind_Vfs_Vfs_0=function(){return(Cr=u._emscripten_bind_Vfs_Vfs_0=u.asm.z).apply(null,arguments)},Ui=u._emscripten_bind_Vfs_Malloc_1=function(){return(Ui=u._emscripten_bind_Vfs_Malloc_1=u.asm.A).apply(null,arguments)},As=u._emscripten_bind_Vfs_Free_1=function(){return(As=u._emscripten_bind_Vfs_Free_1=u.asm.B).apply(null,arguments)},zo=u._emscripten_bind_Vfs_Nullptr_0=function(){return(zo=u._emscripten_bind_Vfs_Nullptr_0=u.asm.C).apply(null,arguments)},Ha=u._emscripten_bind_Vfs_AllocateImage_1=function(){return(Ha=u._emscripten_bind_Vfs_AllocateImage_1=u.asm.D).apply(null,arguments)},ia=u._emscripten_bind_Vfs_MountImage_1=function(){return(ia=u._emscripten_bind_Vfs_MountImage_1=u.asm.E).apply(null,arguments)},ki=u._emscripten_bind_Vfs_UnmountImage_1=function(){return(ki=u._emscripten_bind_Vfs_UnmountImage_1=u.asm.F).apply(null,arguments)},Ps=u._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(Ps=u._emscripten_bind_Vfs_GetPendingImageSize_0=u.asm.G).apply(null,arguments)},ja=u._emscripten_bind_Vfs_GetSize_1=function(){return(ja=u._emscripten_bind_Vfs_GetSize_1=u.asm.H).apply(null,arguments)},Xr=u._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Xr=u._emscripten_bind_Vfs_GetPendingImage_0=u.asm.I).apply(null,arguments)},Ln=u._emscripten_bind_Vfs_GetImage_1=function(){return(Ln=u._emscripten_bind_Vfs_GetImage_1=u.asm.J).apply(null,arguments)},sa=u._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(sa=u._emscripten_bind_Vfs_GetDirtyPages_1=u.asm.K).apply(null,arguments)},gs=u._emscripten_bind_Vfs_RenameFile_2=function(){return(gs=u._emscripten_bind_Vfs_RenameFile_2=u.asm.L).apply(null,arguments)},ys=u._emscripten_bind_Vfs_ChmodFile_3=function(){return(ys=u._emscripten_bind_Vfs_ChmodFile_3=u.asm.M).apply(null,arguments)},vt=u._emscripten_bind_Vfs_StatFile_1=function(){return(vt=u._emscripten_bind_Vfs_StatFile_1=u.asm.N).apply(null,arguments)},_l=u._emscripten_bind_Vfs_GetEntry_0=function(){return(_l=u._emscripten_bind_Vfs_GetEntry_0=u.asm.O).apply(null,arguments)},Qn=u._emscripten_bind_Vfs_BytesFree_1=function(){return(Qn=u._emscripten_bind_Vfs_BytesFree_1=u.asm.P).apply(null,arguments)},_s=u._emscripten_bind_Vfs_BytesTotal_1=function(){return(_s=u._emscripten_bind_Vfs_BytesTotal_1=u.asm.Q).apply(null,arguments)},aa=u._emscripten_bind_Vfs___destroy___0=function(){return(aa=u._emscripten_bind_Vfs___destroy___0=u.asm.R).apply(null,arguments)},la=u._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(la=u._emscripten_bind_ReaddirContext_ReaddirContext_1=u.asm.S).apply(null,arguments)},vl=u._emscripten_bind_ReaddirContext_Next_0=function(){return(vl=u._emscripten_bind_ReaddirContext_Next_0=u.asm.T).apply(null,arguments)},cs=u._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(cs=u._emscripten_bind_ReaddirContext_GetEntry_0=u.asm.U).apply(null,arguments)},Rs=u._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(Rs=u._emscripten_bind_ReaddirContext_GetStatus_0=u.asm.V).apply(null,arguments)},Gi=u._emscripten_bind_ReaddirContext_GetError_0=function(){return(Gi=u._emscripten_bind_ReaddirContext_GetError_0=u.asm.W).apply(null,arguments)},us=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(us=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=u.asm.X).apply(null,arguments)},Zr=u._emscripten_bind_ReaddirContext___destroy___0=function(){return(Zr=u._emscripten_bind_ReaddirContext___destroy___0=u.asm.Y).apply(null,arguments)};function ua(d){var g=u._main;try{var N=g(0,0);return function ms(d,g){de=d,function Mi(d){de=d,function en(){return Pe}()||(u.onExit&&u.onExit(d),ot=!0),j(d,new Ge(d))}(d)}(N),N}catch(ee){return function x(d){if(d instanceof Ge||"unwind"==d)return de;j(1,d)}(ee)}}function Ua(d){function g(){Qr||(Qr=!0,u.calledRun=!0,!ot&&(function xn(){!u.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,lo.init(),vn(je)}(),function vr(){vn(Ft)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Rn&&ua(),function nr(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),jt.unshift(d);var d;vn(jt)}()))}d=d||ce,Dn>0||(function Q(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),_t.unshift(d);var d;vn(_t)}(),Dn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),g()},1)):g())}if(u._main=function(){return(u._main=u.asm.Z).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.$).apply(null,arguments)},u.___start_em_js=16120,u.___stop_em_js=16218,Pn=function d(){Qr||Ua(),Qr||(Pn=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Rn=!0;function lr(){}function Ur(d){return(d||lr).__cache__}function cr(d,g){var y=Ur(g),k=y[d];return k||((k=Object.create((g||lr).prototype)).ptr=d,y[d]=k)}u.noInitialRun&&(Rn=!1),Ua(),(lr.prototype=Object.create(lr.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},u.WrapperObject=lr,u.getCache=Ur,u.wrapPointer=cr,u.castObject=function ir(d,g){return cr(d.ptr,g)},u.NULL=cr(0),u.destroy=function hn(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Ur(d.__class__)[d.ptr]},u.compare=function p(d,g){return d.ptr===g.ptr},u.getPointer=function v(d){return d.ptr},u.getClass=function w(d){return d.__class__};var M={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(M.needed){for(var d=0;d<M.temps.length;d++)u._free(M.temps[d]);M.temps.length=0,u._free(M.buffer),M.buffer=0,M.size+=M.needed,M.needed=0}M.buffer||(M.size+=128,M.buffer=u._malloc(M.size),Me(M.buffer)),M.pos=0},alloc:function(d,g){Me(M.buffer);var N,k=d.length*g.BYTES_PER_ELEMENT;return M.pos+(k=k+7&-8)>=M.size?(Me(k>0),M.needed+=k,N=u._malloc(k),M.temps.push(N)):(N=M.buffer+M.pos,M.pos+=k),N},copy:function(d,g,y){switch(y>>>=0,g.BYTES_PER_ELEMENT){case 2:y>>>=1;break;case 4:y>>>=2;break;case 8:y>>>=3}for(var N=0;N<d.length;N++)g[y+N]=d[N]}};function U(d){if("string"==typeof d){var g=$r(d),y=M.alloc(g,nt);return M.copy(g,nt,y),y}return d}function be(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ce(){throw"cannot construct a FileEntry, no constructor in IDL"}function Se(){this.ptr=Cr(),Ur(Se)[this.ptr]=this}function ut(d){M.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),this.ptr=la(d),Ur(ut)[this.ptr]=this}return(be.prototype=Object.create(lr.prototype)).constructor=be,be.prototype.__class__=be,be.__cache__={},u.VoidPtr=be,be.prototype.__destroy__=be.prototype.__destroy__=function(){st(this.ptr)},(Ce.prototype=Object.create(lr.prototype)).constructor=Ce,Ce.prototype.__class__=Ce,Ce.__cache__={},u.FileEntry=Ce,Ce.prototype.GetName=Ce.prototype.GetName=function(){return Fe(Mt(this.ptr))},Ce.prototype.IsDirectory=Ce.prototype.IsDirectory=function(){return!!Ht(this.ptr)},Ce.prototype.GetSize=Ce.prototype.GetSize=function(){return tn(this.ptr)},Ce.prototype.GetModifiedTS=Ce.prototype.GetModifiedTS=function(){return ar(this.ptr)},Ce.prototype.GetAttributes=Ce.prototype.GetAttributes=function(){return vo(this.ptr)},Ce.prototype.__destroy__=Ce.prototype.__destroy__=function(){co(this.ptr)},(Se.prototype=Object.create(lr.prototype)).constructor=Se,Se.prototype.__class__=Se,Se.__cache__={},u.Vfs=Se,Se.prototype.Malloc=Se.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),cr(Ui(this.ptr,d),be)},Se.prototype.Free=Se.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),As(this.ptr,d)},Se.prototype.Nullptr=Se.prototype.Nullptr=function(){return cr(zo(this.ptr),be)},Se.prototype.AllocateImage=Se.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Ha(this.ptr,d)},Se.prototype.MountImage=Se.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!ia(this.ptr,d)},Se.prototype.UnmountImage=Se.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),ki(this.ptr,d)},Se.prototype.GetPendingImageSize=Se.prototype.GetPendingImageSize=function(){return Ps(this.ptr)},Se.prototype.GetSize=Se.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),ja(this.ptr,d)},Se.prototype.GetPendingImage=Se.prototype.GetPendingImage=function(){return cr(Xr(this.ptr),be)},Se.prototype.GetImage=Se.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),cr(Ln(this.ptr,d),be)},Se.prototype.GetDirtyPages=Se.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),cr(sa(this.ptr,d),be)},Se.prototype.RenameFile=Se.prototype.RenameFile=function(d,g){var y=this.ptr;return M.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),g=g&&"object"==typeof g?g.ptr:U(g),gs(y,d,g)},Se.prototype.ChmodFile=Se.prototype.ChmodFile=function(d,g,y){var k=this.ptr;return M.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),g&&"object"==typeof g&&(g=g.ptr),y&&"object"==typeof y&&(y=y.ptr),ys(k,d,g,y)},Se.prototype.StatFile=Se.prototype.StatFile=function(d){var g=this.ptr;return M.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),vt(g,d)},Se.prototype.GetEntry=Se.prototype.GetEntry=function(){return cr(_l(this.ptr),Ce)},Se.prototype.BytesFree=Se.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),Qn(this.ptr,d)},Se.prototype.BytesTotal=Se.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),_s(this.ptr,d)},Se.prototype.__destroy__=Se.prototype.__destroy__=function(){aa(this.ptr)},(ut.prototype=Object.create(lr.prototype)).constructor=ut,ut.prototype.__class__=ut,ut.__cache__={},u.ReaddirContext=ut,ut.prototype.Next=ut.prototype.Next=function(){return vl(this.ptr)},ut.prototype.GetEntry=ut.prototype.GetEntry=function(){return cr(cs(this.ptr),Ce)},ut.prototype.GetStatus=ut.prototype.GetStatus=function(){return Rs(this.ptr)},ut.prototype.GetError=ut.prototype.GetError=function(){return Gi(this.ptr)},ut.prototype.GetErrorDescription=ut.prototype.GetErrorDescription=function(){return Fe(us(this.ptr))},ut.prototype.__destroy__=ut.prototype.__destroy__=function(){Zr(this.ptr)},T.ready});He.exports=We},8211:(He,We,R)=>{"use strict";R.d(We,{c:()=>Ne});var T=R(9259),u=R(2286);let ae;const q=ge=>ge.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ce=ge=>{if(void 0===ae){const W=void 0!==ge.style.webkitAnimationName;ae=void 0===ge.style.animationName&&W?"-webkit-":""}return ae},V=(ge,z,W)=>{const he=z.startsWith("animation")?ce(ge):"";ge.style.setProperty(he+z,W)},j=(ge,z)=>{const W=z.startsWith("animation")?ce(ge):"";ge.style.removeProperty(W+z)},se=[],Oe=(ge=[],z)=>{if(void 0!==z){const W=Array.isArray(z)?z:[z];return[...ge,...W]}return ge},Ne=ge=>{let z,W,he,Pe,me,ot,Fe,O,ve,Qe,J,_t,je,de=[],Me=[],xe=[],Ue=!1,$e={},X=[],ze=[],nt={},St=0,Rt=!1,Xe=!1,pe=!0,Ee=!1,Be=!0,Ft=!1;const jt=ge,Nt=[],en=[],Q=[],xn=[],vr=[],nr=[],Do=[],Rr=[],ri=[],Dn=[],kr="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,Pn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&kr,Wr=()=>Dn,En=(L,Z)=>((Z?.oneTimeCallback?en:Nt).push({c:L,o:Z}),je),wi=()=>{if(Pn)Dn.forEach(L=>{L.cancel()}),Dn.length=0;else{const L=Q.slice();(0,T.r)(()=>{L.forEach(Z=>{j(Z,"animation-name"),j(Z,"animation-duration"),j(Z,"animation-timing-function"),j(Z,"animation-iteration-count"),j(Z,"animation-delay"),j(Z,"animation-play-state"),j(Z,"animation-fill-mode"),j(Z,"animation-direction")})})}},Lr=()=>{vr.forEach(L=>{L?.parentNode&&L.parentNode.removeChild(L)}),vr.length=0},hr=()=>void 0!==me?me:Fe?Fe.getFill():"both",S=()=>void 0!==ve?ve:void 0!==ot?ot:Fe?Fe.getDirection():"normal",Vt=()=>Rt?"linear":void 0!==he?he:Fe?Fe.getEasing():"linear",sr=()=>Xe?0:void 0!==Qe?Qe:void 0!==W?W:Fe?Fe.getDuration():0,E=()=>void 0!==Pe?Pe:Fe?Fe.getIterations():1,An=()=>void 0!==J?J:void 0!==z?z:Fe?Fe.getDelay():0,xr=()=>{0!==St&&(St--,0===St&&((()=>{Mn(),Rr.forEach(st=>st()),ri.forEach(st=>st());const L=pe?1:0,Z=X,_e=ze,Je=nt;Q.forEach(st=>{const Mt=st.classList;Z.forEach(Ht=>Mt.add(Ht)),_e.forEach(Ht=>Mt.remove(Ht));for(const Ht in Je)Je.hasOwnProperty(Ht)&&V(st,Ht,Je[Ht])}),Nt.forEach(st=>st.c(L,je)),en.forEach(st=>st.c(L,je)),en.length=0,Be=!0,pe&&(Ee=!0),pe=!0})(),Fe&&Fe.animationFinish()))},jr=(L=!0)=>{Lr();const Z=(ge=>(ge.forEach(z=>{for(const W in z)if(z.hasOwnProperty(W)){const he=z[W];if("easing"===W)z["animation-timing-function"]=he,delete z[W];else{const Pe=q(W);Pe!==W&&(z[Pe]=he,delete z[W])}}}),ge))(de);Q.forEach(_e=>{if(Z.length>0){const Je=((ge=[])=>ge.map(z=>{const W=z.offset,he=[];for(const Pe in z)z.hasOwnProperty(Pe)&&"offset"!==Pe&&he.push(`${Pe}: ${z[Pe]};`);return`${100*W}% { ${he.join(" ")} }`}).join(" "))(Z);_t=void 0!==ge?ge:(ge=>{let z=se.indexOf(ge);return z<0&&(z=se.push(ge)-1),`ion-animation-${z}`})(Je);const st=((ge,z,W)=>{var he;const Pe=(ge=>{const z=void 0!==ge.getRootNode?ge.getRootNode():ge;return z.head||z})(W),me=ce(W),ot=Pe.querySelector("#"+ge);if(ot)return ot;const de=(null!==(he=W.ownerDocument)&&void 0!==he?he:document).createElement("style");return de.id=ge,de.textContent=`@${me}keyframes ${ge} { ${z} } @${me}keyframes ${ge}-alt { ${z} }`,Pe.appendChild(de),de})(_t,Je,_e);vr.push(st),V(_e,"animation-duration",`${sr()}ms`),V(_e,"animation-timing-function",Vt()),V(_e,"animation-delay",`${An()}ms`),V(_e,"animation-fill-mode",hr()),V(_e,"animation-direction",S());const Mt=E()===1/0?"infinite":E().toString();V(_e,"animation-iteration-count",Mt),V(_e,"animation-play-state","paused"),L&&V(_e,"animation-name",`${st.id}-alt`),(0,T.r)(()=>{V(_e,"animation-name",st.id||null)})}})},Ei=(L=!0)=>{(()=>{nr.forEach(Je=>Je()),Do.forEach(Je=>Je());const L=Me,Z=xe,_e=$e;Q.forEach(Je=>{const st=Je.classList;L.forEach(Mt=>st.add(Mt)),Z.forEach(Mt=>st.remove(Mt));for(const Mt in _e)_e.hasOwnProperty(Mt)&&V(Je,Mt,_e[Mt])})})(),de.length>0&&(Pn?(Q.forEach(L=>{const Z=L.animate(de,{id:jt,delay:An(),duration:sr(),easing:Vt(),iterations:E(),fill:hr(),direction:S()});Z.pause(),Dn.push(Z)}),Dn.length>0&&(Dn[0].onfinish=()=>{xr()})):jr(L)),Ue=!0},_o=L=>{if(L=Math.min(Math.max(L,0),.9999),Pn)Dn.forEach(Z=>{Z.currentTime=Z.effect.getComputedTiming().delay+sr()*L,Z.pause()});else{const Z=`-${sr()*L}ms`;Q.forEach(_e=>{de.length>0&&(V(_e,"animation-delay",Z),V(_e,"animation-play-state","paused"))})}},Oo=L=>{Dn.forEach(Z=>{Z.effect.updateTiming({delay:An(),duration:sr(),easing:Vt(),iterations:E(),fill:hr(),direction:S()})}),void 0!==L&&_o(L)},Hi=(L=!0,Z)=>{(0,T.r)(()=>{Q.forEach(_e=>{V(_e,"animation-name",_t||null),V(_e,"animation-duration",`${sr()}ms`),V(_e,"animation-timing-function",Vt()),V(_e,"animation-delay",void 0!==Z?`-${Z*sr()}ms`:`${An()}ms`),V(_e,"animation-fill-mode",hr()||null),V(_e,"animation-direction",S()||null);const Je=E()===1/0?"infinite":E().toString();V(_e,"animation-iteration-count",Je),L&&V(_e,"animation-name",`${_t}-alt`),(0,T.r)(()=>{V(_e,"animation-name",_t||null)})})})},qr=(L=!1,Z=!0,_e)=>(L&&xn.forEach(Je=>{Je.update(L,Z,_e)}),Pn?Oo(_e):Hi(Z,_e),je),Go=()=>{Ue&&(Pn?Dn.forEach(L=>{L.pause()}):Q.forEach(L=>{V(L,"animation-play-state","paused")}),Ft=!0)},Ii=()=>{O=void 0,xr()},Mn=()=>{O&&clearTimeout(O)},x=L=>new Promise(Z=>{L?.sync&&(Xe=!0,En(()=>Xe=!1,{oneTimeCallback:!0})),Ue||Ei(),Ee&&(Pn?(_o(0),Oo()):Hi(),Ee=!1),Be&&(St=xn.length+1,Be=!1),En(()=>Z(),{oneTimeCallback:!0}),xn.forEach(_e=>{_e.play()}),Pn?(Dn.forEach(L=>{L.play()}),(0===de.length||0===Q.length)&&xr()):(()=>{if(Mn(),(0,T.r)(()=>{Q.forEach(L=>{de.length>0&&V(L,"animation-play-state","running")})}),0===de.length||0===Q.length)xr();else{const L=An()||0,Z=sr()||0,_e=E()||1;isFinite(_e)&&(O=setTimeout(Ii,L+Z*_e+100)),((ge,z)=>{let W;const he={passive:!0},me=ot=>{ge===ot.target&&(W&&W(),Mn(),(0,T.r)(()=>{Q.forEach(L=>{j(L,"animation-duration"),j(L,"animation-delay"),j(L,"animation-play-state")}),(0,T.r)(xr)}))};ge&&(ge.addEventListener("webkitAnimationEnd",me,he),ge.addEventListener("animationend",me,he),W=()=>{ge.removeEventListener("webkitAnimationEnd",me,he),ge.removeEventListener("animationend",me,he)})})(Q[0])}})(),Ft=!1}),ye=(L,Z)=>{const _e=de[0];return void 0===_e||void 0!==_e.offset&&0!==_e.offset?de=[{offset:0,[L]:Z},...de]:_e[L]=Z,je};return je={parentAnimation:Fe,elements:Q,childAnimations:xn,id:jt,animationFinish:xr,from:ye,to:(L,Z)=>{const _e=de[de.length-1];return void 0===_e||void 0!==_e.offset&&1!==_e.offset?de=[...de,{offset:1,[L]:Z}]:_e[L]=Z,je},fromTo:(L,Z,_e)=>ye(L,Z).to(L,_e),parent:L=>(Fe=L,je),play:x,pause:()=>(xn.forEach(L=>{L.pause()}),Go(),je),stop:()=>{xn.forEach(L=>{L.stop()}),Ue&&(wi(),Ue=!1),Rt=!1,Xe=!1,Be=!0,ve=void 0,Qe=void 0,J=void 0,St=0,Ee=!1,pe=!0,Ft=!1},destroy:L=>(xn.forEach(Z=>{Z.destroy(L)}),(L=>{wi(),L&&Lr()})(L),Q.length=0,xn.length=0,de.length=0,Nt.length=0,en.length=0,Ue=!1,Be=!0,je),keyframes:L=>{const Z=de!==L;return de=L,Z&&(L=>{Pn?Wr().forEach(Z=>{if(Z.effect.setKeyframes)Z.effect.setKeyframes(L);else{const _e=new KeyframeEffect(Z.effect.target,L,Z.effect.getTiming());Z.effect=_e}}):jr()})(de),je},addAnimation:L=>{if(null!=L)if(Array.isArray(L))for(const Z of L)Z.parent(je),xn.push(Z);else L.parent(je),xn.push(L);return je},addElement:L=>{if(null!=L)if(1===L.nodeType)Q.push(L);else if(L.length>=0)for(let Z=0;Z<L.length;Z++)Q.push(L[Z]);else console.error("Invalid addElement value");return je},update:qr,fill:L=>(me=L,qr(!0),je),direction:L=>(ot=L,qr(!0),je),iterations:L=>(Pe=L,qr(!0),je),duration:L=>(!Pn&&0===L&&(L=1),W=L,qr(!0),je),easing:L=>(he=L,qr(!0),je),delay:L=>(z=L,qr(!0),je),getWebAnimations:Wr,getKeyframes:()=>de,getFill:hr,getDirection:S,getDelay:An,getIterations:E,getEasing:Vt,getDuration:sr,afterAddRead:L=>(Rr.push(L),je),afterAddWrite:L=>(ri.push(L),je),afterClearStyles:(L=[])=>{for(const Z of L)nt[Z]="";return je},afterStyles:(L={})=>(nt=L,je),afterRemoveClass:L=>(ze=Oe(ze,L),je),afterAddClass:L=>(X=Oe(X,L),je),beforeAddRead:L=>(nr.push(L),je),beforeAddWrite:L=>(Do.push(L),je),beforeClearStyles:(L=[])=>{for(const Z of L)$e[Z]="";return je},beforeStyles:(L={})=>($e=L,je),beforeRemoveClass:L=>(xe=Oe(xe,L),je),beforeAddClass:L=>(Me=Oe(Me,L),je),onFinish:En,isRunning:()=>0!==St&&!Ft,progressStart:(L=!1,Z)=>(xn.forEach(_e=>{_e.progressStart(L,Z)}),Go(),Rt=L,Ue||Ei(),qr(!1,!0,Z),je),progressStep:L=>(xn.forEach(Z=>{Z.progressStep(L)}),_o(L),je),progressEnd:(L,Z,_e)=>(Rt=!1,xn.forEach(Je=>{Je.progressEnd(L,Z,_e)}),void 0!==_e&&(Qe=_e),Ee=!1,pe=!0,0===L?(ve="reverse"===S()?"normal":"reverse","reverse"===ve&&(pe=!1),Pn?(qr(),_o(1-Z)):(J=(1-Z)*sr()*-1,qr(!1,!1))):1===L&&(Pn?(qr(),_o(Z)):(J=Z*sr()*-1,qr(!1,!1))),void 0!==L&&(En(()=>{Qe=void 0,ve=void 0,J=void 0},{oneTimeCallback:!0}),Fe||x()),je)}}},6379:(He,We,R)=>{"use strict";R.d(We,{G:()=>q});class u{constructor(V,j,Ie,K,se){this.id=j,this.name=Ie,this.disableScroll=se,this.priority=1e6*K+j,this.ctrl=V}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const V=this.ctrl.capture(this.name,this.id,this.priority);return V&&this.disableScroll&&this.ctrl.disableScroll(this.id),V}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ae{constructor(V,j,Ie,K){this.id=j,this.disable=Ie,this.disableScroll=K,this.ctrl=V}block(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.disableGesture(V,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.enableGesture(V,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",q=new class T{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(V){var j;return new u(this,this.newID(),V.name,null!==(j=V.priority)&&void 0!==j?j:0,!!V.disableScroll)}createBlocker(V={}){return new ae(this,this.newID(),V.disable,!!V.disableScroll)}start(V,j,Ie){return this.canStart(V)?(this.requestedStart.set(j,Ie),!0):(this.requestedStart.delete(j),!1)}capture(V,j,Ie){if(!this.start(V,j,Ie))return!1;const K=this.requestedStart;let se=-1e4;if(K.forEach(B=>{se=Math.max(se,B)}),se===Ie){this.capturedId=j,K.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:V}});return document.dispatchEvent(B),!0}return K.delete(j),!1}release(V){this.requestedStart.delete(V),this.capturedId===V&&(this.capturedId=void 0)}disableGesture(V,j){let Ie=this.disabledGestures.get(V);void 0===Ie&&(Ie=new Set,this.disabledGestures.set(V,Ie)),Ie.add(j)}enableGesture(V,j){const Ie=this.disabledGestures.get(V);void 0!==Ie&&Ie.delete(j)}disableScroll(V){this.disabledScroll.add(V),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(V){this.disabledScroll.delete(V),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(V){return!(void 0!==this.capturedId||this.isDisabled(V))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(V){const j=this.disabledGestures.get(V);return!!(j&&j.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(He,We,R)=>{"use strict";R.r(We),R.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>q,OVERLAY_BACK_BUTTON_PRIORITY:()=>ie,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>ae});var T=R(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},ae=()=>{const ce=document;let V=!1;ce.addEventListener("backbutton",()=>{if(V)return;let j=0,Ie=[];const K=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,G){Ie.push({priority:$,handler:G,id:j++})}}});ce.dispatchEvent(K);const se=function(){var $=(0,T.Z)(function*(G){try{if(G?.handler){const Oe=G.handler(B);null!=Oe&&(yield Oe)}}catch(Oe){console.error(Oe)}});return function(Oe){return $.apply(this,arguments)}}(),B=()=>{if(Ie.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ie.forEach(G=>{G.priority>=$.priority&&($=G)}),V=!0,Ie=Ie.filter(G=>G.id!==$.id),se($).then(()=>V=!1)}};B()})},ie=100,q=99},9259:(He,We,R)=>{"use strict";R.d(We,{a:()=>V,b:()=>j,c:()=>ae,d:()=>G,e:()=>Oe,f:()=>$,g:()=>Ie,h:()=>Pe,i:()=>ce,j:()=>ie,k:()=>B,l:()=>Ne,m:()=>se,n:()=>ge,o:()=>he,p:()=>W,q:()=>me,r:()=>K,s:()=>ot,t:()=>T,u:()=>z});const T=(de,Me=0)=>new Promise(xe=>{u(de,Me,xe)}),u=(de,Me=0,xe)=>{let Ue,Fe;const $e={passive:!0},ze=()=>{Ue&&Ue()},nt=St=>{(void 0===St||de===St.target)&&(ze(),xe(St))};return de&&(de.addEventListener("webkitTransitionEnd",nt,$e),de.addEventListener("transitionend",nt,$e),Fe=setTimeout(nt,Me+500),Ue=()=>{Fe&&(clearTimeout(Fe),Fe=void 0),de.removeEventListener("webkitTransitionEnd",nt,$e),de.removeEventListener("transitionend",nt,$e)}),ze},ae=(de,Me)=>{de.componentOnReady?de.componentOnReady().then(xe=>Me(xe)):K(()=>Me(de))},ie=(de,Me=[])=>{const xe={};return Me.forEach(Ue=>{de.hasAttribute(Ue)&&(null!==de.getAttribute(Ue)&&(xe[Ue]=de.getAttribute(Ue)),de.removeAttribute(Ue))}),xe},q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ce=(de,Me)=>{let xe=q;return Me&&Me.length>0&&(xe=xe.filter(Ue=>!Me.includes(Ue))),ie(de,xe)},V=(de,Me,xe,Ue)=>{var Fe;if(typeof window<"u"){const X=null===(Fe=window?.Ionic)||void 0===Fe?void 0:Fe.config;if(X){const ze=X.get("_ael");if(ze)return ze(de,Me,xe,Ue);if(X._ael)return X._ael(de,Me,xe,Ue)}}return de.addEventListener(Me,xe,Ue)},j=(de,Me,xe,Ue)=>{var Fe;if(typeof window<"u"){const X=null===(Fe=window?.Ionic)||void 0===Fe?void 0:Fe.config;if(X){const ze=X.get("_rel");if(ze)return ze(de,Me,xe,Ue);if(X._rel)return X._rel(de,Me,xe,Ue)}}return de.removeEventListener(Me,xe,Ue)},Ie=(de,Me=de)=>de.shadowRoot||Me,K=de=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(de):"function"==typeof requestAnimationFrame?requestAnimationFrame(de):setTimeout(de),se=de=>!!de.shadowRoot&&!!de.attachShadow,B=de=>{const Me=de.closest("ion-item");return Me?Me.querySelector("ion-label"):null},$=de=>{if(de.focus(),de.classList.contains("ion-focusable")){const Me=de.closest("ion-app");Me&&Me.setFocus([de])}},G=(de,Me)=>{let xe;const Ue=de.getAttribute("aria-labelledby"),Fe=de.id;let $e=null!==Ue&&""!==Ue.trim()?Ue:Me+"-lbl",X=null!==Ue&&""!==Ue.trim()?document.getElementById(Ue):B(de);return X?(null===Ue&&(X.id=$e),xe=X.textContent,X.setAttribute("aria-hidden","true")):""!==Fe.trim()&&(X=document.querySelector(`label[for="${Fe}"]`),X&&(""!==X.id?$e=X.id:X.id=$e=`${Fe}-lbl`,xe=X.textContent)),{label:X,labelId:$e,labelText:xe}},Oe=(de,Me,xe,Ue,Fe)=>{if(de||se(Me)){let $e=Me.querySelector("input.aux-input");$e||($e=Me.ownerDocument.createElement("input"),$e.type="hidden",$e.classList.add("aux-input"),Me.appendChild($e)),$e.disabled=Fe,$e.name=xe,$e.value=Ue||""}},Ne=(de,Me,xe)=>Math.max(de,Math.min(Me,xe)),ge=(de,Me)=>{if(!de){const xe="ASSERT: "+Me;throw console.error(xe),new Error(xe)}},z=de=>de.timeStamp||Date.now(),W=de=>{if(de){const Me=de.changedTouches;if(Me&&Me.length>0){const xe=Me[0];return{x:xe.clientX,y:xe.clientY}}if(void 0!==de.pageX)return{x:de.pageX,y:de.pageY}}return{x:0,y:0}},he=de=>{const Me="rtl"===document.dir;switch(de){case"start":return Me;case"end":return!Me;default:throw new Error(`"${de}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Pe=(de,Me)=>{const xe=de._original||de;return{_original:de,emit:me(xe.emit.bind(xe),Me)}},me=(de,Me=0)=>{let xe;return(...Ue)=>{clearTimeout(xe),xe=setTimeout(de,Me,...Ue)}},ot=(de,Me)=>{if(de??(de={}),Me??(Me={}),de===Me)return!0;const xe=Object.keys(de);if(xe.length!==Object.keys(Me).length)return!1;for(const Ue of xe)if(!(Ue in Me)||de[Ue]!==Me[Ue])return!1;return!0}},6277:(He,We,R)=>{"use strict";R.d(We,{m:()=>se});var T=R(3918),u=R(159),ae=R(9259),ie=R(8607),q=R(8211);const ce=B=>(0,q.c)().duration(B?400:300),V=B=>{let $,G;const Oe=B.width+8,Ne=(0,q.c)(),ge=(0,q.c)();B.isEndSide?($=Oe+"px",G="0px"):($=-Oe+"px",G="0px"),Ne.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${G})`);const W="ios"===(0,ie.b)(B),he=W?.2:.25;return ge.addElement(B.backdropEl).fromTo("opacity",.01,he),ce(W).addAnimation([Ne,ge])},j=B=>{let $,G;const Oe=(0,ie.b)(B),Ne=B.width;B.isEndSide?($=-Ne+"px",G=Ne+"px"):($=Ne+"px",G=-Ne+"px");const ge=(0,q.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${G})`,"translateX(0px)"),z=(0,q.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),W=(0,q.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return ce("ios"===Oe).addAnimation([ge,z,W])},Ie=B=>{const $=(0,ie.b)(B),G=B.width*(B.isEndSide?-1:1)+"px",Oe=(0,q.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${G})`);return ce("ios"===$).addAnimation(Oe)},se=(()=>{const B=new Map,$=[],G=function(){var O=(0,T.Z)(function*(ve){const Qe=yield Pe(ve);return!!Qe&&Qe.open()});return function(Qe){return O.apply(this,arguments)}}(),Oe=function(){var O=(0,T.Z)(function*(ve){const Qe=yield void 0!==ve?Pe(ve):me();return void 0!==Qe&&Qe.close()});return function(Qe){return O.apply(this,arguments)}}(),Ne=function(){var O=(0,T.Z)(function*(ve){const Qe=yield Pe(ve);return!!Qe&&Qe.toggle()});return function(Qe){return O.apply(this,arguments)}}(),ge=function(){var O=(0,T.Z)(function*(ve,Qe){const J=yield Pe(Qe);return J&&(J.disabled=!ve),J});return function(Qe,J){return O.apply(this,arguments)}}(),z=function(){var O=(0,T.Z)(function*(ve,Qe){const J=yield Pe(Qe);return J&&(J.swipeGesture=ve),J});return function(Qe,J){return O.apply(this,arguments)}}(),W=function(){var O=(0,T.Z)(function*(ve){if(null!=ve){const Qe=yield Pe(ve);return void 0!==Qe&&Qe.isOpen()}return void 0!==(yield me())});return function(Qe){return O.apply(this,arguments)}}(),he=function(){var O=(0,T.Z)(function*(ve){const Qe=yield Pe(ve);return!!Qe&&!Qe.disabled});return function(Qe){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,T.Z)(function*(ve){return yield Xe(),"start"===ve||"end"===ve?Rt(pe=>pe.side===ve&&!pe.disabled)||Rt(pe=>pe.side===ve):null!=ve?Rt(J=>J.menuId===ve):Rt(J=>!J.disabled)||($.length>0?$[0].el:void 0)});return function(Qe){return O.apply(this,arguments)}}(),me=function(){var O=(0,T.Z)(function*(){return yield Xe(),ze()});return function(){return O.apply(this,arguments)}}(),ot=function(){var O=(0,T.Z)(function*(){return yield Xe(),nt()});return function(){return O.apply(this,arguments)}}(),de=function(){var O=(0,T.Z)(function*(){return yield Xe(),St()});return function(){return O.apply(this,arguments)}}(),Me=(O,ve)=>{B.set(O,ve)},Fe=O=>{const ve=O.side;$.filter(Qe=>Qe.side===ve&&Qe!==O).forEach(Qe=>Qe.disabled=!0)},$e=function(){var O=(0,T.Z)(function*(ve,Qe,J){if(St())return!1;if(Qe){const pe=yield me();pe&&ve.el!==pe&&(yield pe.setOpen(!1,!1))}return ve._setOpen(Qe,J)});return function(Qe,J,pe){return O.apply(this,arguments)}}(),ze=()=>Rt(O=>O._isOpen),nt=()=>$.map(O=>O.el),St=()=>$.some(O=>O.isAnimating),Rt=O=>{const ve=$.find(O);if(void 0!==ve)return ve.el},Xe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ve=>(0,ae.c)(O,ve))));return Me("reveal",Ie),Me("push",j),Me("overlay",V),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ve=ze();ve&&O.detail.register(u.MENU_BACK_BUTTON_PRIORITY,()=>ve.close())}),{registerAnimation:Me,get:Pe,getMenus:ot,getOpen:me,isEnabled:he,swipeGesture:z,isAnimating:de,isOpen:W,enable:ge,toggle:Ne,close:Oe,open:G,_getOpenSync:ze,_createAnimation:(O,ve)=>{const Qe=B.get(O);if(!Qe)throw new Error("animation not registered");return Qe(ve)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Fe(O),$.push(O))},_unregister:O=>{const ve=$.indexOf(O);ve>-1&&$.splice(ve,1)},_setOpen:$e,_setActiveMenu:Fe}})()},2286:(He,We,R)=>{"use strict";R.d(We,{w:()=>T});const T=typeof window<"u"?window:void 0},1559:(He,We,R)=>{"use strict";R.d(We,{B:()=>ms,H:()=>Q,a:()=>pe,b:()=>Mo,c:()=>Mi,e:()=>Bt,f:()=>Vn,g:()=>Ee,h:()=>Nt,i:()=>In,j:()=>S,k:()=>D,p:()=>Ne,r:()=>Si,s:()=>G});var T=R(3918);let ae,ie,q,ce=!1,V=!1,j=!1,Ie=!1,K=!1;const se=typeof window<"u"?window:{},B=se.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:x=>x(),raf:x=>requestAnimationFrame(x),ael:(x,F,ye,Te)=>x.addEventListener(F,ye,Te),rel:(x,F,ye,Te)=>x.removeEventListener(F,ye,Te),ce:(x,F)=>new CustomEvent(x,F)},G=x=>{Object.assign($,x)},Ne=x=>Promise.resolve(x),ge=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),z=(x,F,ye,Te)=>{ye&&ye.map(([ne,L,Z])=>{const _e=he(x,ne),Je=W(F,Z),st=Pe(ne);$.ael(_e,L,Je,st),(F.$rmListeners$=F.$rmListeners$||[]).push(()=>$.rel(_e,L,Je,st))})},W=(x,F)=>ye=>{try{256&x.$flags$?x.$lazyInstance$[F](ye):(x.$queuedListeners$=x.$queuedListeners$||[]).push([F,ye])}catch(Te){Oo(Te)}},he=(x,F)=>4&F?B:8&F?se:16&F?B.body:x,Pe=x=>0!=(2&x),xe="s-id",Ue="sty-id",X="http://www.w3.org/1999/xlink",St=new WeakMap,Rt=(x,F,ye)=>{let Te=Di.get(x);ge&&ye?(Te=Te||new CSSStyleSheet,"string"==typeof Te?Te=F:Te.replaceSync(F)):Te=F,Di.set(x,Te)},Xe=(x,F,ye,Te)=>{let ne=ve(F,ye);const L=Di.get(ne);if(x=11===x.nodeType?x:B,L)if("string"==typeof L){let _e,Z=St.get(x=x.head||x);Z||St.set(x,Z=new Set),Z.has(ne)||(x.host&&(_e=x.querySelector(`[${Ue}="${ne}"]`))?_e.innerHTML=L:(_e=B.createElement("style"),_e.innerHTML=L,x.insertBefore(_e,x.querySelector("link"))),Z&&Z.add(ne))}else x.adoptedStyleSheets.includes(L)||(x.adoptedStyleSheets=[...x.adoptedStyleSheets,L]);return ne},ve=(x,F)=>"sc-"+(F&&32&x.$flags$?x.$tagName$+"-"+F:x.$tagName$),Qe=x=>x.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),pe=x=>ji.push(x),Ee=x=>jr(x).$modeName$,Be={},jt=x=>"object"==(x=typeof x)||"function"===x,Nt=(x,F,...ye)=>{let Te=null,ne=null,L=null,Z=!1,_e=!1;const Je=[],st=Ht=>{for(let tn=0;tn<Ht.length;tn++)Te=Ht[tn],Array.isArray(Te)?st(Te):null!=Te&&"boolean"!=typeof Te&&((Z="function"!=typeof x&&!jt(Te))&&(Te=String(Te)),Z&&_e?Je[Je.length-1].$text$+=Te:Je.push(Z?en(null,Te):Te),_e=Z)};if(st(ye),F){F.key&&(ne=F.key),F.name&&(L=F.name);{const Ht=F.className||F.class;Ht&&(F.class="object"!=typeof Ht?Ht:Object.keys(Ht).filter(tn=>Ht[tn]).join(" "))}}if("function"==typeof x)return x(null===F?{}:F,Je,vr);const Mt=en(x,null);return Mt.$attrs$=F,Je.length>0&&(Mt.$children$=Je),Mt.$key$=ne,Mt.$name$=L,Mt},en=(x,F)=>({$flags$:0,$tag$:x,$text$:F,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Q={},vr={forEach:(x,F)=>x.map(nr).forEach(F),map:(x,F)=>x.map(nr).map(F).map(Do)},nr=x=>({vattrs:x.$attrs$,vchildren:x.$children$,vkey:x.$key$,vname:x.$name$,vtag:x.$tag$,vtext:x.$text$}),Do=x=>{if("function"==typeof x.vtag){const ye=Object.assign({},x.vattrs);return x.vkey&&(ye.key=x.vkey),x.vname&&(ye.name=x.vname),Nt(x.vtag,ye,...x.vchildren||[])}const F=en(x.vtag,x.vtext);return F.$attrs$=x.vattrs,F.$children$=x.vchildren,F.$key$=x.vkey,F.$name$=x.vname,F},Rr=(x,F,ye,Te,ne,L)=>{if(ye!==Te){let Z=_o(x,F),_e=F.toLowerCase();if("class"===F){const Je=x.classList,st=Dn(ye),Mt=Dn(Te);Je.remove(...st.filter(Ht=>Ht&&!Mt.includes(Ht))),Je.add(...Mt.filter(Ht=>Ht&&!st.includes(Ht)))}else if("style"===F){for(const Je in ye)(!Te||null==Te[Je])&&(Je.includes("-")?x.style.removeProperty(Je):x.style[Je]="");for(const Je in Te)(!ye||Te[Je]!==ye[Je])&&(Je.includes("-")?x.style.setProperty(Je,Te[Je]):x.style[Je]=Te[Je])}else if("key"!==F)if("ref"===F)Te&&Te(x);else if(Z||"o"!==F[0]||"n"!==F[1]){const Je=jt(Te);if((Z||Je&&null!==Te)&&!ne)try{if(x.tagName.includes("-"))x[F]=Te;else{const Mt=Te??"";"list"===F?Z=!1:(null==ye||x[F]!=Mt)&&(x[F]=Mt)}}catch{}let st=!1;_e!==(_e=_e.replace(/^xlink\:?/,""))&&(F=_e,st=!0),null==Te||!1===Te?(!1!==Te||""===x.getAttribute(F))&&(st?x.removeAttributeNS(X,F):x.removeAttribute(F)):(!Z||4&L||ne)&&!Je&&(Te=!0===Te?"":Te,st?x.setAttributeNS(X,F,Te):x.setAttribute(F,Te))}else F="-"===F[2]?F.slice(3):_o(se,_e)?_e.slice(2):_e[2]+F.slice(3),ye&&$.rel(x,F,ye,!1),Te&&$.ael(x,F,Te,!1)}},ri=/\s/,Dn=x=>x?x.split(ri):[],kr=(x,F,ye,Te)=>{const ne=11===F.$elm$.nodeType&&F.$elm$.host?F.$elm$.host:F.$elm$,L=x&&x.$attrs$||Be,Z=F.$attrs$||Be;for(Te in L)Te in Z||Rr(ne,Te,L[Te],void 0,ye,F.$flags$);for(Te in Z)Rr(ne,Te,L[Te],Z[Te],ye,F.$flags$)},Pn=(x,F,ye,Te)=>{const ne=F.$children$[ye];let Z,_e,Je,L=0;if(ce||(j=!0,"slot"===ne.$tag$&&(ae&&Te.classList.add(ae+"-s"),ne.$flags$|=ne.$children$?2:1)),null!==ne.$text$)Z=ne.$elm$=B.createTextNode(ne.$text$);else if(1&ne.$flags$)Z=ne.$elm$=B.createTextNode("");else{if(Ie||(Ie="svg"===ne.$tag$),Z=ne.$elm$=B.createElementNS(Ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ne.$flags$?"slot-fb":ne.$tag$),Ie&&"foreignObject"===ne.$tag$&&(Ie=!1),kr(null,ne,Ie),(x=>null!=x)(ae)&&Z["s-si"]!==ae&&Z.classList.add(Z["s-si"]=ae),ne.$children$)for(L=0;L<ne.$children$.length;++L)_e=Pn(x,ne,L,Z),_e&&Z.appendChild(_e);"svg"===ne.$tag$?Ie=!1:"foreignObject"===Z.tagName&&(Ie=!0)}return Z["s-hn"]=q,3&ne.$flags$&&(Z["s-sr"]=!0,Z["s-cr"]=ie,Z["s-sn"]=ne.$name$||"",Je=x&&x.$children$&&x.$children$[ye],Je&&Je.$tag$===ne.$tag$&&x.$elm$&&jo(x.$elm$,!1)),Z},jo=(x,F)=>{$.$flags$|=1;const ye=x.childNodes;for(let Te=ye.length-1;Te>=0;Te--){const ne=ye[Te];ne["s-hn"]!==q&&ne["s-ol"]&&(En(ne).insertBefore(ne,go(ne)),ne["s-ol"].remove(),ne["s-ol"]=void 0,j=!0),F&&jo(ne,F)}$.$flags$&=-2},Wr=(x,F,ye,Te,ne,L)=>{let _e,Z=x["s-cr"]&&x["s-cr"].parentNode||x;for(Z.shadowRoot&&Z.tagName===q&&(Z=Z.shadowRoot);ne<=L;++ne)Te[ne]&&(_e=Pn(null,ye,ne,x),_e&&(Te[ne].$elm$=_e,Z.insertBefore(_e,go(F))))},dr=(x,F,ye,Te,ne)=>{for(;F<=ye;++F)(Te=x[F])&&(ne=Te.$elm$,Ge(Te),V=!0,ne["s-ol"]?ne["s-ol"].remove():jo(ne,!0),ne.remove())},Io=(x,F)=>x.$tag$===F.$tag$&&("slot"===x.$tag$?x.$name$===F.$name$:x.$key$===F.$key$),go=x=>x&&x["s-ol"]||x,En=x=>(x["s-ol"]?x["s-ol"]:x).parentNode,io=(x,F)=>{const ye=F.$elm$=x.$elm$,Te=x.$children$,ne=F.$children$,L=F.$tag$,Z=F.$text$;let _e;null===Z?(Ie="svg"===L||"foreignObject"!==L&&Ie,"slot"===L||kr(x,F,Ie),null!==Te&&null!==ne?((x,F,ye,Te)=>{let vo,co,ne=0,L=0,Z=0,_e=0,Je=F.length-1,st=F[0],Mt=F[Je],Ht=Te.length-1,tn=Te[0],ar=Te[Ht];for(;ne<=Je&&L<=Ht;)if(null==st)st=F[++ne];else if(null==Mt)Mt=F[--Je];else if(null==tn)tn=Te[++L];else if(null==ar)ar=Te[--Ht];else if(Io(st,tn))io(st,tn),st=F[++ne],tn=Te[++L];else if(Io(Mt,ar))io(Mt,ar),Mt=F[--Je],ar=Te[--Ht];else if(Io(st,ar))("slot"===st.$tag$||"slot"===ar.$tag$)&&jo(st.$elm$.parentNode,!1),io(st,ar),x.insertBefore(st.$elm$,Mt.$elm$.nextSibling),st=F[++ne],ar=Te[--Ht];else if(Io(Mt,tn))("slot"===st.$tag$||"slot"===ar.$tag$)&&jo(Mt.$elm$.parentNode,!1),io(Mt,tn),x.insertBefore(Mt.$elm$,st.$elm$),Mt=F[--Je],tn=Te[++L];else{for(Z=-1,_e=ne;_e<=Je;++_e)if(F[_e]&&null!==F[_e].$key$&&F[_e].$key$===tn.$key$){Z=_e;break}Z>=0?(co=F[Z],co.$tag$!==tn.$tag$?vo=Pn(F&&F[L],ye,Z,x):(io(co,tn),F[Z]=void 0,vo=co.$elm$),tn=Te[++L]):(vo=Pn(F&&F[L],ye,L,x),tn=Te[++L]),vo&&En(st.$elm$).insertBefore(vo,go(st.$elm$))}ne>Je?Wr(x,null==Te[Ht+1]?null:Te[Ht+1].$elm$,ye,Te,L,Ht):L>Ht&&dr(F,ne,Je)})(ye,Te,F,ne):null!==ne?(null!==x.$text$&&(ye.textContent=""),Wr(ye,null,F,ne,0,ne.length-1)):null!==Te&&dr(Te,0,Te.length-1),Ie&&"svg"===L&&(Ie=!1)):(_e=ye["s-cr"])?_e.parentNode.textContent=Z:x.$text$!==Z&&(ye.data=Z)},wi=x=>{const F=x.childNodes;let ye,Te,ne,L,Z,_e;for(Te=0,ne=F.length;Te<ne;Te++)if(ye=F[Te],1===ye.nodeType){if(ye["s-sr"])for(Z=ye["s-sn"],ye.hidden=!1,L=0;L<ne;L++)if(_e=F[L].nodeType,F[L]["s-hn"]!==ye["s-hn"]||""!==Z){if(1===_e&&Z===F[L].getAttribute("slot")){ye.hidden=!0;break}}else if(1===_e||3===_e&&""!==F[L].textContent.trim()){ye.hidden=!0;break}wi(ye)}},Lr=[],at=x=>{let F,ye,Te,ne,L,Z,_e=0;const Je=x.childNodes,st=Je.length;for(;_e<st;_e++){if(F=Je[_e],F["s-sr"]&&(ye=F["s-cr"])&&ye.parentNode)for(Te=ye.parentNode.childNodes,ne=F["s-sn"],Z=Te.length-1;Z>=0;Z--)ye=Te[Z],!ye["s-cn"]&&!ye["s-nr"]&&ye["s-hn"]!==F["s-hn"]&&(ue(ye,ne)?(L=Lr.find(Mt=>Mt.$nodeToRelocate$===ye),V=!0,ye["s-sn"]=ye["s-sn"]||ne,L?L.$slotRefNode$=F:Lr.push({$slotRefNode$:F,$nodeToRelocate$:ye}),ye["s-sr"]&&Lr.map(Mt=>{ue(Mt.$nodeToRelocate$,ye["s-sn"])&&(L=Lr.find(Ht=>Ht.$nodeToRelocate$===ye),L&&!Mt.$slotRefNode$&&(Mt.$slotRefNode$=L.$slotRefNode$))})):Lr.some(Mt=>Mt.$nodeToRelocate$===ye)||Lr.push({$nodeToRelocate$:ye}));1===F.nodeType&&at(F)}},ue=(x,F)=>1===x.nodeType?null===x.getAttribute("slot")&&""===F||x.getAttribute("slot")===F:x["s-sn"]===F||""===F,Ge=x=>{x.$attrs$&&x.$attrs$.ref&&x.$attrs$.ref(null),x.$children$&&x.$children$.map(Ge)},In=x=>jr(x).$hostElement$,Bt=(x,F,ye)=>{const Te=In(x);return{emit:ne=>pn(Te,F,{bubbles:!!(4&ye),composed:!!(2&ye),cancelable:!!(1&ye),detail:ne})}},pn=(x,F,ye)=>{const Te=$.ce(F,ye);return x.dispatchEvent(Te),Te},fr=(x,F)=>{F&&!x.$onRenderResolve$&&F["s-p"]&&F["s-p"].push(new Promise(ye=>x.$onRenderResolve$=ye))},un=(x,F)=>{if(x.$flags$|=16,!(4&x.$flags$))return fr(x,x.$ancestorComponent$),Mi(()=>Xn(x,F));x.$flags$|=512},Xn=(x,F)=>{const Te=x.$lazyInstance$;let ne;return F&&(x.$flags$|=256,x.$queuedListeners$&&(x.$queuedListeners$.map(([L,Z])=>sr(Te,L,Z)),x.$queuedListeners$=null),ne=sr(Te,"componentWillLoad")),ne=E(ne,()=>sr(Te,"componentWillRender")),E(ne,()=>pr(x,Te,F))},pr=function(){var x=(0,T.Z)(function*(F,ye,Te){const ne=F.$hostElement$,Z=ne["s-rc"];Te&&(x=>{const F=x.$cmpMeta$,ye=x.$hostElement$,Te=F.$flags$,L=Xe(ye.shadowRoot?ye.shadowRoot:ye.getRootNode(),F,x.$modeName$);10&Te&&(ye["s-sc"]=L,ye.classList.add(L+"-h"),2&Te&&ye.classList.add(L+"-s"))})(F);Jt(F,ye),Z&&(Z.map(Je=>Je()),ne["s-rc"]=void 0);{const Je=ne["s-p"],st=()=>hr(F);0===Je.length?st():(Promise.all(Je).then(st),F.$flags$|=4,Je.length=0)}});return function(ye,Te,ne){return x.apply(this,arguments)}}(),Jt=(x,F,ye)=>{try{F=F.render&&F.render(),x.$flags$&=-17,x.$flags$|=2,((x,F)=>{const ye=x.$hostElement$,Te=x.$cmpMeta$,ne=x.$vnode$||en(null,null),L=(x=>x&&x.$tag$===Q)(F)?F:Nt(null,null,F);if(q=ye.tagName,Te.$attrsToReflect$&&(L.$attrs$=L.$attrs$||{},Te.$attrsToReflect$.map(([Z,_e])=>L.$attrs$[_e]=ye[Z])),L.$tag$=null,L.$flags$|=4,x.$vnode$=L,L.$elm$=ne.$elm$=ye.shadowRoot||ye,ae=ye["s-sc"],ie=ye["s-cr"],ce=0!=(1&Te.$flags$),V=!1,io(ne,L),$.$flags$|=1,j){at(L.$elm$);let Z,_e,Je,st,Mt,Ht,tn=0;for(;tn<Lr.length;tn++)Z=Lr[tn],_e=Z.$nodeToRelocate$,_e["s-ol"]||(Je=B.createTextNode(""),Je["s-nr"]=_e,_e.parentNode.insertBefore(_e["s-ol"]=Je,_e));for(tn=0;tn<Lr.length;tn++)if(Z=Lr[tn],_e=Z.$nodeToRelocate$,Z.$slotRefNode$){for(st=Z.$slotRefNode$.parentNode,Mt=Z.$slotRefNode$.nextSibling,Je=_e["s-ol"];Je=Je.previousSibling;)if(Ht=Je["s-nr"],Ht&&Ht["s-sn"]===_e["s-sn"]&&st===Ht.parentNode&&(Ht=Ht.nextSibling,!Ht||!Ht["s-nr"])){Mt=Ht;break}(!Mt&&st!==_e.parentNode||_e.nextSibling!==Mt)&&_e!==Mt&&(!_e["s-hn"]&&_e["s-ol"]&&(_e["s-hn"]=_e["s-ol"].parentNode.nodeName),st.insertBefore(_e,Mt))}else 1===_e.nodeType&&(_e.hidden=!0)}V&&wi(L.$elm$),$.$flags$&=-2,Lr.length=0})(x,F)}catch(Te){Oo(Te,x.$hostElement$)}return null},hr=x=>{const ye=x.$hostElement$,ne=x.$lazyInstance$,L=x.$ancestorComponent$;sr(ne,"componentDidRender"),64&x.$flags$?sr(ne,"componentDidUpdate"):(x.$flags$|=64,An(ye),sr(ne,"componentDidLoad"),x.$onReadyResolve$(ye),L||Vt()),x.$onInstanceResolve$(ye),x.$onRenderResolve$&&(x.$onRenderResolve$(),x.$onRenderResolve$=void 0),512&x.$flags$&&ii(()=>un(x,!1)),x.$flags$&=-517},S=x=>{{const F=jr(x),ye=F.$hostElement$.isConnected;return ye&&2==(18&F.$flags$)&&un(F,!1),ye}},Vt=x=>{An(B.documentElement),ii(()=>pn(se,"appload",{detail:{namespace:"ionic"}}))},sr=(x,F,ye)=>{if(x&&x[F])try{return x[F](ye)}catch(Te){Oo(Te)}},E=(x,F)=>x&&x.then?x.then(F):F(),An=x=>x.classList.add("hydrated"),so=(x,F,ye,Te,ne,L,Z)=>{let _e,Je,st,Mt;if(1===L.nodeType){for(_e=L.getAttribute("c-id"),_e&&(Je=_e.split("."),(Je[0]===Z||"0"===Je[0])&&(st={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:L.tagName.toLowerCase(),$elm$:L,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},F.push(st),L.removeAttribute("c-id"),x.$children$||(x.$children$=[]),x.$children$[st.$index$]=st,x=st,Te&&"0"===st.$depth$&&(Te[st.$index$]=st.$elm$))),Mt=L.childNodes.length-1;Mt>=0;Mt--)so(x,F,ye,Te,ne,L.childNodes[Mt],Z);if(L.shadowRoot)for(Mt=L.shadowRoot.childNodes.length-1;Mt>=0;Mt--)so(x,F,ye,Te,ne,L.shadowRoot.childNodes[Mt],Z)}else if(8===L.nodeType)Je=L.nodeValue.split("."),(Je[1]===Z||"0"===Je[1])&&(_e=Je[0],st={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:L,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_e?(st.$elm$=L.nextSibling,st.$elm$&&3===st.$elm$.nodeType&&(st.$text$=st.$elm$.textContent,F.push(st),L.remove(),x.$children$||(x.$children$=[]),x.$children$[st.$index$]=st,Te&&"0"===st.$depth$&&(Te[st.$index$]=st.$elm$))):st.$hostId$===Z&&("s"===_e?(st.$tag$="slot",L["s-sn"]=Je[5]?st.$name$=Je[5]:"",L["s-sr"]=!0,Te&&(st.$elm$=B.createElement(st.$tag$),st.$name$&&st.$elm$.setAttribute("name",st.$name$),L.parentNode.insertBefore(st.$elm$,L),L.remove(),"0"===st.$depth$&&(Te[st.$index$]=st.$elm$)),ye.push(st),x.$children$||(x.$children$=[]),x.$children$[st.$index$]=st):"r"===_e&&(Te?L.remove():(ne["s-cr"]=L,L["s-cn"]=!0))));else if(x&&"style"===x.$tag$){const Ht=en(null,L.textContent);Ht.$elm$=L,Ht.$index$="0",x.$children$=[Ht]}},Uo=(x,F)=>{if(1===x.nodeType){let ye=0;for(;ye<x.childNodes.length;ye++)Uo(x.childNodes[ye],F);if(x.shadowRoot)for(ye=0;ye<x.shadowRoot.childNodes.length;ye++)Uo(x.shadowRoot.childNodes[ye],F)}else if(8===x.nodeType){const ye=x.nodeValue.split(".");"o"===ye[0]&&(F.set(ye[1]+"."+ye[2],x),x.nodeValue="",x["s-en"]=ye[3])}},ao=(x,F,ye)=>{if(F.$members$){x.watchers&&(F.$watchers$=x.watchers);const Te=Object.entries(F.$members$),ne=x.prototype;if(Te.map(([L,[Z]])=>{31&Z||2&ye&&32&Z?Object.defineProperty(ne,L,{get(){return((x,F)=>jr(this).$instanceValues$.get(F))(0,L)},set(_e){((x,F,ye,Te)=>{const ne=jr(x),L=ne.$hostElement$,Z=ne.$instanceValues$.get(F),_e=ne.$flags$,Je=ne.$lazyInstance$;ye=((x,F)=>null==x||jt(x)?x:4&F?"false"!==x&&(""===x||!!x):2&F?parseFloat(x):1&F?String(x):x)(ye,Te.$members$[F][0]);const st=Number.isNaN(Z)&&Number.isNaN(ye);if((!(8&_e)||void 0===Z)&&ye!==Z&&!st&&(ne.$instanceValues$.set(F,ye),Je)){if(Te.$watchers$&&128&_e){const Ht=Te.$watchers$[F];Ht&&Ht.map(tn=>{try{Je[tn](ye,Z,F)}catch(ar){Oo(ar,L)}})}2==(18&_e)&&un(ne,!1)}})(this,L,_e,F)},configurable:!0,enumerable:!0}):1&ye&&64&Z&&Object.defineProperty(ne,L,{value(..._e){const Je=jr(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[L](..._e))}})}),1&ye){const L=new Map;ne.attributeChangedCallback=function(Z,_e,Je){$.jmp(()=>{const st=L.get(Z);if(this.hasOwnProperty(st))Je=this[st],delete this[st];else if(ne.hasOwnProperty(st)&&"number"==typeof this[st]&&this[st]==Je)return;this[st]=(null!==Je||"boolean"!=typeof this[st])&&Je})},x.observedAttributes=Te.filter(([Z,_e])=>15&_e[0]).map(([Z,_e])=>{const Je=_e[1]||Z;return L.set(Je,Z),512&_e[0]&&F.$attrsToReflect$.push([Z,Je]),Je})}}return x},mr=function(){var x=(0,T.Z)(function*(F,ye,Te,ne,L){if(0==(32&ye.$flags$)){{if(ye.$flags$|=32,(L=qr(Te)).then){const st=()=>{};L=yield L,st()}L.isProxied||(Te.$watchers$=L.watchers,ao(L,Te,2),L.isProxied=!0);const Je=()=>{};ye.$flags$|=8;try{new L(ye)}catch(st){Oo(st)}ye.$flags$&=-9,ye.$flags$|=128,Je(),$r(ye.$lazyInstance$)}if(L.style){let Je=L.style;"string"!=typeof Je&&(Je=Je[ye.$modeName$=(x=>ji.map(F=>F(x)).find(F=>!!F))(F)]);const st=ve(Te,ye.$modeName$);if(!Di.has(st)){const Mt=()=>{};Rt(st,Je,!!(1&Te.$flags$)),Mt()}}}const Z=ye.$ancestorComponent$,_e=()=>un(ye,!0);Z&&Z["s-rc"]?Z["s-rc"].push(_e):_e()});return function(ye,Te,ne,L,Z){return x.apply(this,arguments)}}(),$r=x=>{sr(x,"connectedCallback")},pi=x=>{const F=x["s-cr"]=B.createComment("");F["s-cn"]=!0,x.insertBefore(F,x.firstChild)},Mo=(x,F={})=>{const Te=[],ne=F.exclude||[],L=se.customElements,Z=B.head,_e=Z.querySelector("meta[charset]"),Je=B.createElement("style"),st=[],Mt=B.querySelectorAll(`[${Ue}]`);let Ht,tn=!0,ar=0;for(Object.assign($,F),$.$resourcesUrl$=new URL(F.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;ar<Mt.length;ar++)Rt(Mt[ar].getAttribute(Ue),Qe(Mt[ar].innerHTML),!0);x.map(vo=>{vo[1].map(co=>{const Cr={$flags$:co[0],$tagName$:co[1],$members$:co[2],$listeners$:co[3]};Cr.$members$=co[2],Cr.$listeners$=co[3],Cr.$attrsToReflect$=[],Cr.$watchers$={};const Ui=Cr.$tagName$,As=class extends HTMLElement{constructor(zo){super(zo),Ei(zo=this,Cr),1&Cr.$flags$&&zo.attachShadow({mode:"open",delegatesFocus:!!(16&Cr.$flags$)})}connectedCallback(){Ht&&(clearTimeout(Ht),Ht=null),tn?st.push(this):$.jmp(()=>(x=>{if(0==(1&$.$flags$)){const F=jr(x),ye=F.$cmpMeta$,Te=()=>{};if(1&F.$flags$)z(x,F,ye.$listeners$),$r(F.$lazyInstance$);else{let ne;if(F.$flags$|=1,ne=x.getAttribute(xe),ne){if(1&ye.$flags$){const L=Xe(x.shadowRoot,ye,x.getAttribute("s-mode"));x.classList.remove(L+"-h",L+"-s")}((x,F,ye,Te)=>{const L=x.shadowRoot,Z=[],Je=L?[]:null,st=Te.$vnode$=en(F,null);$.$orgLocNodes$||Uo(B.body,$.$orgLocNodes$=new Map),x[xe]=ye,x.removeAttribute(xe),so(st,Z,[],Je,x,x,ye),Z.map(Mt=>{const Ht=Mt.$hostId$+"."+Mt.$nodeId$,tn=$.$orgLocNodes$.get(Ht),ar=Mt.$elm$;tn&&""===tn["s-en"]&&tn.parentNode.insertBefore(ar,tn.nextSibling),L||(ar["s-hn"]=F,tn&&(ar["s-ol"]=tn,ar["s-ol"]["s-nr"]=ar)),$.$orgLocNodes$.delete(Ht)}),L&&Je.map(Mt=>{Mt&&L.appendChild(Mt)})})(x,ye.$tagName$,ne,F)}ne||12&ye.$flags$&&pi(x);{let L=x;for(;L=L.parentNode||L.host;)if(1===L.nodeType&&L.hasAttribute("s-id")&&L["s-p"]||L["s-p"]){fr(F,F.$ancestorComponent$=L);break}}ye.$members$&&Object.entries(ye.$members$).map(([L,[Z]])=>{if(31&Z&&x.hasOwnProperty(L)){const _e=x[L];delete x[L],x[L]=_e}}),ii(()=>mr(x,F,ye))}Te()}})(this))}disconnectedCallback(){$.jmp(()=>(x=>{if(0==(1&$.$flags$)){const F=jr(this),ye=F.$lazyInstance$;F.$rmListeners$&&(F.$rmListeners$.map(Te=>Te()),F.$rmListeners$=void 0),sr(ye,"disconnectedCallback")}})())}componentOnReady(){return jr(this).$onReadyPromise$}};Cr.$lazyBundleId$=vo[0],!ne.includes(Ui)&&!L.get(Ui)&&(Te.push(Ui),L.define(Ui,ao(As,Cr,1)))})}),Je.innerHTML=Te+"{visibility:hidden}.hydrated{visibility:inherit}",Je.setAttribute("data-styles",""),Z.insertBefore(Je,_e?_e.nextSibling:Z.firstChild),tn=!1,st.length?st.map(vo=>vo.connectedCallback()):$.jmp(()=>Ht=setTimeout(Vt,30))},D=x=>{const F=new URL(x,$.$resourcesUrl$);return F.origin!==se.location.origin?F.href:F.pathname},xr=new WeakMap,jr=x=>xr.get(x),Si=(x,F)=>xr.set(F.$lazyInstance$=x,F),Ei=(x,F)=>{const ye={$flags$:0,$hostElement$:x,$cmpMeta$:F,$instanceValues$:new Map};return ye.$onInstancePromise$=new Promise(Te=>ye.$onInstanceResolve$=Te),ye.$onReadyPromise$=new Promise(Te=>ye.$onReadyResolve$=Te),x["s-p"]=[],x["s-rc"]=[],z(x,ye,F.$listeners$),xr.set(x,ye)},_o=(x,F)=>F in x,Oo=(x,F)=>(0,console.error)(x,F),Hi=new Map,qr=(x,F,ye)=>{const Te=x.$tagName$.replace(/-/g,"_"),ne=x.$lazyBundleId$,L=Hi.get(ne);return L?L[Te]:R(863)(`./${ne}.entry.js`).then(Z=>(Hi.set(ne,Z),Z[Te]),Oo)},Di=new Map,ji=[],or=[],Go=[],oi=(x,F)=>ye=>{x.push(ye),K||(K=!0,F&&4&$.$flags$?ii(Mn):$.raf(Mn))},Ii=x=>{for(let F=0;F<x.length;F++)try{x[F](performance.now())}catch(ye){Oo(ye)}x.length=0},Mn=()=>{Ii(or),Ii(Go),(K=or.length>0)&&$.raf(Mn)},ii=x=>Ne().then(x),Vn=oi(or,!1),Mi=oi(Go,!0),ms={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},1856:(He,We,R)=>{"use strict";R.d(We,{L:()=>ie,a:()=>q,b:()=>ce,c:()=>V,d:()=>j,e:()=>Me,g:()=>Fe,l:()=>ot,s:()=>xe,t:()=>se});var T=R(3918),u=R(1559),ae=R(9259);const ie="ionViewWillEnter",q="ionViewDidEnter",ce="ionViewWillLeave",V="ionViewDidLeave",j="ionViewWillUnload",se=$e=>new Promise((X,ze)=>{(0,u.c)(()=>{B($e),$($e).then(nt=>{nt.animation&&nt.animation.destroy(),G($e),X(nt)},nt=>{G($e),ze(nt)})})}),B=$e=>{const X=$e.enteringEl,ze=$e.leavingEl;Ue(X,ze,$e.direction),$e.showGoBack?X.classList.add("can-go-back"):X.classList.remove("can-go-back"),xe(X,!1),X.style.setProperty("pointer-events","none"),ze&&(xe(ze,!1),ze.style.setProperty("pointer-events","none"))},$=function(){var $e=(0,T.Z)(function*(X){const ze=yield Oe(X);return ze&&u.B.isBrowser?Ne(ze,X):ge(X)});return function(ze){return $e.apply(this,arguments)}}(),G=$e=>{const X=$e.enteringEl,ze=$e.leavingEl;X.classList.remove("ion-page-invisible"),X.style.removeProperty("pointer-events"),void 0!==ze&&(ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"))},Oe=function(){var $e=(0,T.Z)(function*(X){return X.leavingEl&&X.animated&&0!==X.duration?X.animationBuilder?X.animationBuilder:"ios"===X.mode?(yield Promise.resolve().then(R.bind(R,9591))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,2797))).mdTransitionAnimation:void 0});return function(ze){return $e.apply(this,arguments)}}(),Ne=function(){var $e=(0,T.Z)(function*(X,ze){yield z(ze,!0);const nt=X(ze.baseEl,ze);Pe(ze.enteringEl,ze.leavingEl);const St=yield he(nt,ze);return ze.progressCallback&&ze.progressCallback(void 0),St&&me(ze.enteringEl,ze.leavingEl),{hasCompleted:St,animation:nt}});return function(ze,nt){return $e.apply(this,arguments)}}(),ge=function(){var $e=(0,T.Z)(function*(X){const ze=X.enteringEl,nt=X.leavingEl;return yield z(X,!1),Pe(ze,nt),me(ze,nt),{hasCompleted:!0}});return function(ze){return $e.apply(this,arguments)}}(),z=function(){var $e=(0,T.Z)(function*(X,ze){const St=(void 0!==X.deepWait?X.deepWait:ze)?[Me(X.enteringEl),Me(X.leavingEl)]:[de(X.enteringEl),de(X.leavingEl)];yield Promise.all(St),yield W(X.viewIsReady,X.enteringEl)});return function(ze,nt){return $e.apply(this,arguments)}}(),W=function(){var $e=(0,T.Z)(function*(X,ze){X&&(yield X(ze))});return function(ze,nt){return $e.apply(this,arguments)}}(),he=($e,X)=>{const ze=X.progressCallback,nt=new Promise(St=>{$e.onFinish(Rt=>St(1===Rt))});return ze?($e.progressStart(!0),ze($e)):$e.play(),nt},Pe=($e,X)=>{ot(X,ce),ot($e,ie)},me=($e,X)=>{ot($e,q),ot(X,V)},ot=($e,X)=>{if($e){const ze=new CustomEvent(X,{bubbles:!1,cancelable:!1});$e.dispatchEvent(ze)}},de=$e=>$e?new Promise(X=>(0,ae.c)($e,X)):Promise.resolve(),Me=function(){var $e=(0,T.Z)(function*(X){const ze=X;if(ze){if(null!=ze.componentOnReady){if(null!=(yield ze.componentOnReady()))return}else if(null!=ze.__registerHost)return void(yield new Promise(St=>(0,ae.r)(St)));yield Promise.all(Array.from(ze.children).map(Me))}});return function(ze){return $e.apply(this,arguments)}}(),xe=($e,X)=>{X?($e.setAttribute("aria-hidden","true"),$e.classList.add("ion-page-hidden")):($e.hidden=!1,$e.removeAttribute("aria-hidden"),$e.classList.remove("ion-page-hidden"))},Ue=($e,X,ze)=>{void 0!==$e&&($e.style.zIndex="back"===ze?"99":"101"),void 0!==X&&(X.style.zIndex="100")},Fe=$e=>$e.classList.contains("ion-page")?$e:$e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||$e},9286:(He,We,R)=>{"use strict";R.r(We),R.d(We,{GESTURE_CONTROLLER:()=>T.G,createGesture:()=>Ie});var T=R(6379);const u=($,G,Oe,Ne)=>{const ge=ae($)?{capture:!!Ne.capture,passive:!!Ne.passive}:!!Ne.capture;let z,W;return $.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",W="__zone_symbol__removeEventListener"):(z="addEventListener",W="removeEventListener"),$[z](G,Oe,ge),()=>{$[W](G,Oe,ge)}},ae=$=>{if(void 0===ie)try{const G=Object.defineProperty({},"passive",{get:()=>{ie=!0}});$.addEventListener("optsTest",()=>{},G)}catch{ie=!1}return!!ie};let ie;const V=$=>$ instanceof Document?$:$.ownerDocument,Ie=$=>{let G=!1,Oe=!1,Ne=!0,ge=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),W=z.canStart,he=z.onWillStart,Pe=z.onStart,me=z.onEnd,ot=z.notCaptured,de=z.onMove,Me=z.threshold,xe=z.passive,Ue=z.blurOnStart,Fe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},$e=(($,G,Oe)=>{const Ne=Oe*(Math.PI/180),ge="x"===$,z=Math.cos(Ne),W=G*G;let he=0,Pe=0,me=!1,ot=0;return{start(de,Me){he=de,Pe=Me,ot=0,me=!0},detect(de,Me){if(!me)return!1;const xe=de-he,Ue=Me-Pe,Fe=xe*xe+Ue*Ue;if(Fe<W)return!1;const $e=Math.sqrt(Fe),X=(ge?xe:Ue)/$e;return ot=X>z?1:X<-z?-1:0,me=!1,!0},isGesture:()=>0!==ot,getDirection:()=>ot}})(z.direction,z.threshold,z.maxAngle),X=T.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),St=()=>{!G||(ge=!1,de&&de(Fe))},Rt=()=>!!X.capture()&&(G=!0,Ne=!1,Fe.startX=Fe.currentX,Fe.startY=Fe.currentY,Fe.startTime=Fe.currentTime,he?he(Fe).then(O):O(),!0),O=()=>{Ue&&(()=>{if(typeof document<"u"){const Ee=document.activeElement;Ee?.blur&&Ee.blur()}})(),Pe&&Pe(Fe),Ne=!0},ve=()=>{G=!1,Oe=!1,ge=!1,Ne=!0,X.release()},Qe=Ee=>{const Be=G,_t=Ne;if(ve(),_t){if(K(Fe,Ee),Be)return void(me&&me(Fe));ot&&ot(Fe)}},J=(($,G,Oe,Ne,ge)=>{let z,W,he,Pe,me,ot,de,Me=0;const xe=Xe=>{Me=Date.now()+2e3,G(Xe)&&(!W&&Oe&&(W=u($,"touchmove",Oe,ge)),he||(he=u(Xe.target,"touchend",Fe,ge)),Pe||(Pe=u(Xe.target,"touchcancel",Fe,ge)))},Ue=Xe=>{Me>Date.now()||!G(Xe)||(!ot&&Oe&&(ot=u(V($),"mousemove",Oe,ge)),de||(de=u(V($),"mouseup",$e,ge)))},Fe=Xe=>{X(),Ne&&Ne(Xe)},$e=Xe=>{ze(),Ne&&Ne(Xe)},X=()=>{W&&W(),he&&he(),Pe&&Pe(),W=he=Pe=void 0},ze=()=>{ot&&ot(),de&&de(),ot=de=void 0},nt=()=>{X(),ze()},St=(Xe=!0)=>{Xe?(z||(z=u($,"touchstart",xe,ge)),me||(me=u($,"mousedown",Ue,ge))):(z&&z(),me&&me(),z=me=void 0,nt())};return{enable:St,stop:nt,destroy:()=>{St(!1),Ne=Oe=G=void 0}}})(z.el,Ee=>{const Be=B(Ee);return!(Oe||!Ne||(se(Ee,Fe),Fe.startX=Fe.currentX,Fe.startY=Fe.currentY,Fe.startTime=Fe.currentTime=Be,Fe.velocityX=Fe.velocityY=Fe.deltaX=Fe.deltaY=0,Fe.event=Ee,W&&!1===W(Fe))||(X.release(),!X.start()))&&(Oe=!0,0===Me?Rt():($e.start(Fe.startX,Fe.startY),!0))},Ee=>{G?!ge&&Ne&&(ge=!0,K(Fe,Ee),requestAnimationFrame(St)):(K(Fe,Ee),$e.detect(Fe.currentX,Fe.currentY)&&(!$e.isGesture()||!Rt())&&pe())},Qe,{capture:!1,passive:xe}),pe=()=>{ve(),J.stop(),ot&&ot(Fe)};return{enable(Ee=!0){Ee||(G&&Qe(void 0),ve()),J.enable(Ee)},destroy(){X.destroy(),J.destroy()}}},K=($,G)=>{if(!G)return;const Oe=$.currentX,Ne=$.currentY,ge=$.currentTime;se(G,$);const z=$.currentX,W=$.currentY,Pe=($.currentTime=B(G))-ge;if(Pe>0&&Pe<100){const ot=(W-Ne)/Pe;$.velocityX=(z-Oe)/Pe*.7+.3*$.velocityX,$.velocityY=.7*ot+.3*$.velocityY}$.deltaX=z-$.startX,$.deltaY=W-$.startY,$.event=G},se=($,G)=>{let Oe=0,Ne=0;if($){const ge=$.changedTouches;if(ge&&ge.length>0){const z=ge[0];Oe=z.clientX,Ne=z.clientY}else void 0!==$.pageX&&(Oe=$.pageX,Ne=$.pageY)}G.currentX=Oe,G.currentY=Ne},B=$=>$.timeStamp||Date.now()},8607:(He,We,R)=>{"use strict";R.d(We,{a:()=>se,b:()=>St,c:()=>ae,g:()=>K,i:()=>Rt});var T=R(1559);class u{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ve){const Qe=this.m.get(O);return void 0!==Qe?Qe:ve}getBoolean(O,ve=!1){const Qe=this.m.get(O);return void 0===Qe?ve:"string"==typeof Qe?"true"===Qe:!!Qe}getNumber(O,ve){const Qe=parseFloat(this.m.get(O));return isNaN(Qe)?void 0!==ve?ve:NaN:Qe}set(O,ve){this.m.set(O,ve)}}const ae=new u,j="ionic:",Ie="ionic-persist-config",K=Xe=>B(Xe),se=(Xe,O)=>("string"==typeof Xe&&(O=Xe,Xe=void 0),K(Xe).includes(O)),B=(Xe=window)=>{if(typeof Xe>"u")return[];Xe.Ionic=Xe.Ionic||{};let O=Xe.Ionic.platforms;return null==O&&(O=Xe.Ionic.platforms=$(Xe),O.forEach(ve=>Xe.document.documentElement.classList.add(`plt-${ve}`))),O},$=Xe=>{const O=ae.get("platform");return Object.keys(ze).filter(ve=>{const Qe=O?.[ve];return"function"==typeof Qe?Qe(Xe):ze[ve](Xe)})},Oe=Xe=>!!($e(Xe,/iPad/i)||$e(Xe,/Macintosh/i)&&me(Xe)),z=Xe=>$e(Xe,/android|sink/i),me=Xe=>X(Xe,"(any-pointer:coarse)"),de=Xe=>Me(Xe)||xe(Xe),Me=Xe=>!!(Xe.cordova||Xe.phonegap||Xe.PhoneGap),xe=Xe=>!!Xe.Capacitor?.isNative,$e=(Xe,O)=>O.test(Xe.navigator.userAgent),X=(Xe,O)=>{var ve;return null===(ve=Xe.matchMedia)||void 0===ve?void 0:ve.call(Xe,O).matches},ze={ipad:Oe,iphone:Xe=>$e(Xe,/iPhone/i),ios:Xe=>$e(Xe,/iPhone|iPod/i)||Oe(Xe),android:z,phablet:Xe=>{const O=Xe.innerWidth,ve=Xe.innerHeight,Qe=Math.min(O,ve),J=Math.max(O,ve);return Qe>390&&Qe<520&&J>620&&J<800},tablet:Xe=>{const O=Xe.innerWidth,ve=Xe.innerHeight,Qe=Math.min(O,ve),J=Math.max(O,ve);return Oe(Xe)||(Xe=>z(Xe)&&!$e(Xe,/mobile/i))(Xe)||Qe>460&&Qe<820&&J>780&&J<1400},cordova:Me,capacitor:xe,electron:Xe=>$e(Xe,/electron/i),pwa:Xe=>{var O;return!(!(null===(O=Xe.matchMedia)||void 0===O?void 0:O.call(Xe,"(display-mode: standalone)").matches)&&!Xe.navigator.standalone)},mobile:me,mobileweb:Xe=>me(Xe)&&!de(Xe),desktop:Xe=>!me(Xe),hybrid:de};let nt;const St=Xe=>Xe&&(0,T.g)(Xe)||nt,Rt=(Xe={})=>{if(typeof window>"u")return;const O=window.document,ve=window,Qe=ve.Ionic=ve.Ionic||{},J={};Xe._ael&&(J.ael=Xe._ael),Xe._rel&&(J.rel=Xe._rel),Xe._ce&&(J.ce=Xe._ce),(0,T.s)(J);const pe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Xe=>{try{const O=Xe.sessionStorage.getItem(Ie);return null!==O?JSON.parse(O):{}}catch{return{}}})(ve)),{persistConfig:!1}),Qe.config),(Xe=>{const O={};return Xe.location.search.slice(1).split("&").map(ve=>ve.split("=")).map(([ve,Qe])=>[decodeURIComponent(ve),decodeURIComponent(Qe)]).filter(([ve])=>((Xe,O)=>Xe.substr(0,O.length)===O)(ve,j)).map(([ve,Qe])=>[ve.slice(j.length),Qe]).forEach(([ve,Qe])=>{O[ve]=Qe}),O})(ve)),Xe);ae.reset(pe),ae.getBoolean("persistConfig")&&((Xe,O)=>{try{Xe.sessionStorage.setItem(Ie,JSON.stringify(O))}catch{return}})(ve,pe),B(ve),Qe.config=ae,Qe.mode=nt=ae.get("mode",O.documentElement.getAttribute("mode")||(se(ve,"ios")?"ios":"md")),ae.set("mode",nt),O.documentElement.setAttribute("mode",nt),O.documentElement.classList.add(nt),ae.getBoolean("_testing")&&ae.set("animated",!1);const Ee=_t=>{var je;return null===(je=_t.tagName)||void 0===je?void 0:je.startsWith("ION-")},Be=_t=>["ios","md"].includes(_t);(0,T.a)(_t=>{for(;_t;){const je=_t.mode||_t.getAttribute("mode");if(je){if(Be(je))return je;Ee(_t)&&console.warn('Invalid ionic mode: "'+je+'", expected: "ios" or "md"')}_t=_t.parentElement}return nt})}},9591:(He,We,R)=>{"use strict";R.r(We),R.d(We,{iosTransitionAnimation:()=>$,shadow:()=>V});var T=R(8211),u=R(1856);R(2286),R(1559);const ce=G=>document.querySelector(`${G}.ion-cloned-element`),V=G=>G.shadowRoot||G,j=G=>{const Oe="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs"),Ne="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Oe){const ge=Oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ge?ge.querySelector(Ne):null}return G.querySelector(Ne)},Ie=(G,Oe)=>{const Ne="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs");let ge=[];if(null!=Ne){const z=Ne.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=z&&(ge=z.querySelectorAll("ion-buttons"))}else ge=G.querySelectorAll("ion-buttons");for(const z of ge){const W=z.closest("ion-header"),he=W&&!W.classList.contains("header-collapse-condense-inactive"),Pe=z.querySelector("ion-back-button"),me=z.classList.contains("buttons-collapse"),ot="start"===z.slot||""===z.slot;if(null!==Pe&&ot&&(me&&he&&Oe||!me))return Pe}return null},se=(G,Oe,Ne,ge,z,W)=>{const he=Oe?`calc(100% - ${W.right+4}px)`:W.left-4+"px",Pe=Oe?"7px":"-7px",me=Oe?"-4px":"4px",ot=Oe?"-4px":"4px",de=Oe?"right":"left",Me=Oe?"left":"right",Fe=Ne?[{offset:0,opacity:1,transform:`translate3d(${me}, ${W.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Pe}, ${z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Pe}, ${z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${me}, ${W.top-46}px, 0) scale(1)`}],ze=Ne?[{offset:0,opacity:1,transform:`translate3d(${ot}, ${W.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ot}, ${W.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ot}, ${W.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ot}, ${W.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ot}, ${W.top-46}px, 0) scale(1)`}],nt=(0,T.c)(),St=(0,T.c)(),Rt=ce("ion-back-button"),Xe=V(Rt).querySelector(".button-text"),O=V(Rt).querySelector("ion-icon");Rt.text=ge.text,Rt.mode=ge.mode,Rt.icon=ge.icon,Rt.color=ge.color,Rt.disabled=ge.disabled,Rt.style.setProperty("display","block"),Rt.style.setProperty("position","fixed"),St.addElement(O),nt.addElement(Xe),nt.beforeStyles({"transform-origin":`${de} center`}).beforeAddWrite(()=>{ge.style.setProperty("display","none"),Rt.style.setProperty(de,he)}).afterAddWrite(()=>{ge.style.setProperty("display",""),Rt.style.setProperty("display","none"),Rt.style.removeProperty(de)}).keyframes(Fe),St.beforeStyles({"transform-origin":`${Me} center`}).keyframes(ze),G.addAnimation([nt,St])},B=(G,Oe,Ne,ge,z,W)=>{const he=Oe?`calc(100% - ${z.right}px)`:`${z.left}px`,Pe=Oe?"-18px":"18px",me=Oe?"right":"left",Me=Ne?[{offset:0,opacity:0,transform:`translate3d(${Pe}, ${W.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Pe}, ${W.top-4}px, 0) scale(0.5)`}],xe=ce("ion-title"),Ue=(0,T.c)();xe.innerText=ge.innerText,xe.size=ge.size,xe.color=ge.color,Ue.addElement(xe),Ue.beforeStyles({"transform-origin":`${me} center`,height:"46px",display:"",position:"relative",[me]:he}).beforeAddWrite(()=>{ge.style.setProperty("display","none")}).afterAddWrite(()=>{ge.style.setProperty("display",""),xe.style.setProperty("display","none")}).keyframes(Me),G.addAnimation(Ue)},$=(G,Oe)=>{var Ne;try{const ge="cubic-bezier(0.32,0.72,0,1)",z="opacity",W="transform",he="0%",me="rtl"===G.ownerDocument.dir,ot=me?"-99.5%":"99.5%",de=me?"33%":"-33%",Me=Oe.enteringEl,xe=Oe.leavingEl,Ue="back"===Oe.direction,Fe=Me.querySelector(":scope > ion-content"),$e=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),X=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),ze=(0,T.c)(),nt=(0,T.c)();if(ze.addElement(Me).duration((null!==(Ne=Oe.duration)&&void 0!==Ne?Ne:0)||540).easing(Oe.easing||ge).fill("both").beforeRemoveClass("ion-page-invisible"),xe&&null!=G){const O=(0,T.c)();O.addElement(G),ze.addAnimation(O)}if(Fe||0!==X.length||0!==$e.length?(nt.addElement(Fe),nt.addElement($e)):nt.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ze.addAnimation(nt),Ue?nt.beforeClearStyles([z]).fromTo("transform",`translateX(${de})`,`translateX(${he})`).fromTo(z,.8,1):nt.beforeClearStyles([z]).fromTo("transform",`translateX(${ot})`,`translateX(${he})`),Fe){const O=V(Fe).querySelector(".transition-effect");if(O){const ve=O.querySelector(".transition-cover"),Qe=O.querySelector(".transition-shadow"),J=(0,T.c)(),pe=(0,T.c)(),Ee=(0,T.c)();J.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(ve).beforeClearStyles([z]).fromTo(z,0,.1),Ee.addElement(Qe).beforeClearStyles([z]).fromTo(z,.03,.7),J.addAnimation([pe,Ee]),nt.addAnimation([J])}}const St=Me.querySelector("ion-header.header-collapse-condense"),{forward:Rt,backward:Xe}=((G,Oe,Ne,ge,z)=>{const W=Ie(ge,Ne),he=j(z),Pe=j(ge),me=Ie(z,Ne),ot=null!==W&&null!==he&&!Ne,de=null!==Pe&&null!==me&&Ne;if(ot){const Me=he.getBoundingClientRect(),xe=W.getBoundingClientRect();B(G,Oe,Ne,he,Me,xe),se(G,Oe,Ne,W,Me,xe)}else if(de){const Me=Pe.getBoundingClientRect(),xe=me.getBoundingClientRect();B(G,Oe,Ne,Pe,Me,xe),se(G,Oe,Ne,me,Me,xe)}return{forward:ot,backward:de}})(ze,me,Ue,Me,xe);if(X.forEach(O=>{const ve=(0,T.c)();ve.addElement(O),ze.addAnimation(ve);const Qe=(0,T.c)();Qe.addElement(O.querySelector("ion-title"));const J=(0,T.c)(),pe=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),Ee=O.closest("ion-header"),Be=Ee?.classList.contains("header-collapse-condense-inactive");let _t;_t=pe.filter(Ue?en=>{const Q=en.classList.contains("buttons-collapse");return Q&&!Be||!Q}:en=>!en.classList.contains("buttons-collapse")),J.addElement(_t);const je=(0,T.c)();je.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ft=(0,T.c)();Ft.addElement(V(O).querySelector(".toolbar-background"));const jt=(0,T.c)(),Nt=O.querySelector("ion-back-button");if(Nt&&jt.addElement(Nt),ve.addAnimation([Qe,J,je,Ft,jt]),J.fromTo(z,.01,1),je.fromTo(z,.01,1),Ue)Be||Qe.fromTo("transform",`translateX(${de})`,`translateX(${he})`).fromTo(z,.01,1),je.fromTo("transform",`translateX(${de})`,`translateX(${he})`),jt.fromTo(z,.01,1);else if(St||Qe.fromTo("transform",`translateX(${ot})`,`translateX(${he})`).fromTo(z,.01,1),je.fromTo("transform",`translateX(${ot})`,`translateX(${he})`),Ft.beforeClearStyles([z,"transform"]),Ee?.translucent?Ft.fromTo("transform",me?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ft.fromTo(z,.01,"var(--opacity)"),Rt||jt.fromTo(z,.01,1),Nt&&!Rt){const Q=(0,T.c)();Q.addElement(V(Nt).querySelector(".button-text")).fromTo("transform",me?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ve.addAnimation(Q)}}),xe){const O=(0,T.c)(),ve=xe.querySelector(":scope > ion-content"),Qe=xe.querySelectorAll(":scope > ion-header > ion-toolbar"),J=xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ve||0!==Qe.length||0!==J.length?(O.addElement(ve),O.addElement(J)):O.addElement(xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ze.addAnimation(O),Ue){O.beforeClearStyles([z]).fromTo("transform",`translateX(${he})`,me?"translateX(-100%)":"translateX(100%)");const pe=(0,u.g)(xe);ze.afterAddWrite(()=>{"normal"===ze.getDirection()&&pe.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${he})`,`translateX(${de})`).fromTo(z,1,.8);if(ve){const pe=V(ve).querySelector(".transition-effect");if(pe){const Ee=pe.querySelector(".transition-cover"),Be=pe.querySelector(".transition-shadow"),_t=(0,T.c)(),je=(0,T.c)(),Ft=(0,T.c)();_t.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(Ee).beforeClearStyles([z]).fromTo(z,.1,0),Ft.addElement(Be).beforeClearStyles([z]).fromTo(z,.7,.03),_t.addAnimation([je,Ft]),O.addAnimation([_t])}}Qe.forEach(pe=>{const Ee=(0,T.c)();Ee.addElement(pe);const Be=(0,T.c)();Be.addElement(pe.querySelector("ion-title"));const _t=(0,T.c)(),je=pe.querySelectorAll("ion-buttons,[menuToggle]"),Ft=pe.closest("ion-header"),jt=Ft?.classList.contains("header-collapse-condense-inactive"),Nt=Array.from(je).filter(Do=>{const Rr=Do.classList.contains("buttons-collapse");return Rr&&!jt||!Rr});_t.addElement(Nt);const en=(0,T.c)(),Q=pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Q.length>0&&en.addElement(Q);const xn=(0,T.c)();xn.addElement(V(pe).querySelector(".toolbar-background"));const vr=(0,T.c)(),nr=pe.querySelector("ion-back-button");if(nr&&vr.addElement(nr),Ee.addAnimation([Be,_t,en,vr,xn]),ze.addAnimation(Ee),vr.fromTo(z,.99,0),_t.fromTo(z,.99,0),en.fromTo(z,.99,0),Ue){if(jt||Be.fromTo("transform",`translateX(${he})`,me?"translateX(-100%)":"translateX(100%)").fromTo(z,.99,0),en.fromTo("transform",`translateX(${he})`,me?"translateX(-100%)":"translateX(100%)"),xn.beforeClearStyles([z,"transform"]),Ft?.translucent?xn.fromTo("transform","translateX(0px)",me?"translateX(-100%)":"translateX(100%)"):xn.fromTo(z,"var(--opacity)",0),nr&&!Xe){const Rr=(0,T.c)();Rr.addElement(V(nr).querySelector(".button-text")).fromTo("transform",`translateX(${he})`,`translateX(${(me?-124:124)+"px"})`),Ee.addAnimation(Rr)}}else jt||Be.fromTo("transform",`translateX(${he})`,`translateX(${de})`).fromTo(z,.99,0).afterClearStyles([W,z]),en.fromTo("transform",`translateX(${he})`,`translateX(${de})`).afterClearStyles([W,z]),vr.afterClearStyles([z]),Be.afterClearStyles([z]),_t.afterClearStyles([z])})}return ze}catch(ge){throw ge}}},2797:(He,We,R)=>{"use strict";R.r(We),R.d(We,{mdTransitionAnimation:()=>q});var T=R(8211),u=R(1856);R(2286),R(1559);const q=(ce,V)=>{var j,Ie,K;const $="back"===V.direction,Oe=V.leavingEl,Ne=(0,u.g)(V.enteringEl),ge=Ne.querySelector("ion-toolbar"),z=(0,T.c)();if(z.addElement(Ne).fill("both").beforeRemoveClass("ion-page-invisible"),$?z.duration((null!==(j=V.duration)&&void 0!==j?j:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(Ie=V.duration)&&void 0!==Ie?Ie:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ge){const W=(0,T.c)();W.addElement(ge),z.addAnimation(W)}if(Oe&&$){z.duration((null!==(K=V.duration)&&void 0!==K?K:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const W=(0,T.c)();W.addElement((0,u.g)(Oe)).onFinish(he=>{1===he&&W.elements.length>0&&W.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),z.addAnimation(W)}return z}},5354:(He,We,R)=>{"use strict";R.d(We,{B:()=>ve,G:()=>Qe,a:()=>j,b:()=>Ie,c:()=>$,d:()=>Ue,e:()=>Oe,f:()=>$e,g:()=>nt,h:()=>ce,i:()=>Rt,j:()=>z,k:()=>Me,l:()=>K,m:()=>se,s:()=>O});var T=R(3918),u=R(8607),ae=R(159),ie=R(9259);let q=0;const ce=new WeakMap,V=J=>({create:pe=>Ne(J,pe),dismiss:(pe,Ee,Be)=>ot(document,pe,Ee,J,Be),getTop:()=>(0,T.Z)(function*(){return Me(document,J)})()}),j=V("ion-alert"),Ie=V("ion-action-sheet"),K=V("ion-loading"),se=V("ion-modal"),$=V("ion-popover"),Oe=J=>{typeof document<"u"&&me(document);const pe=q++;J.overlayIndex=pe,J.hasAttribute("id")||(J.id=`ion-overlay-${pe}`)},Ne=(J,pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(J).then(()=>{const Ee=document.createElement(J);return Ee.classList.add("overlay-hidden"),Object.assign(Ee,Object.assign(Object.assign({},pe),{hasController:!0})),X(document).appendChild(Ee),new Promise(Be=>(0,ie.c)(Ee,Be))}):Promise.resolve(),ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',z=(J,pe)=>{let Ee=J.querySelector(ge);const Be=Ee?.shadowRoot;Be&&(Ee=Be.querySelector(ge)||Ee),Ee?(0,ie.f)(Ee):pe.focus()},he=(J,pe)=>{const Ee=Array.from(J.querySelectorAll(ge));let Be=Ee.length>0?Ee[Ee.length-1]:null;const _t=Be?.shadowRoot;_t&&(Be=_t.querySelector(ge)||Be),Be?Be.focus():pe.focus()},me=J=>{0===q&&(q=1,J.addEventListener("focus",pe=>{((J,pe)=>{const Ee=Me(pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Be=J.target;Ee&&Be&&!Ee.classList.contains("ion-disable-focus-trap")&&(Ee.shadowRoot?(()=>{if(Ee.contains(Be))Ee.lastFocus=Be;else{const Ft=Ee.lastFocus;z(Ee,Ee),Ft===pe.activeElement&&he(Ee,Ee),Ee.lastFocus=pe.activeElement}})():(()=>{if(Ee===Be)Ee.lastFocus=void 0;else{const Ft=(0,ie.g)(Ee);if(!Ft.contains(Be))return;const jt=Ft.querySelector(".ion-overlay-wrapper");if(!jt)return;if(jt.contains(Be))Ee.lastFocus=Be;else{const Nt=Ee.lastFocus;z(jt,Ee),Nt===pe.activeElement&&he(jt,Ee),Ee.lastFocus=pe.activeElement}}})())})(pe,J)},!0),J.addEventListener("ionBackButton",pe=>{const Ee=Me(J);Ee?.backdropDismiss&&pe.detail.register(ae.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ee.dismiss(void 0,ve))}),J.addEventListener("keyup",pe=>{if("Escape"===pe.key){const Ee=Me(J);Ee?.backdropDismiss&&Ee.dismiss(void 0,ve)}}))},ot=(J,pe,Ee,Be,_t)=>{const je=Me(J,Be,_t);return je?je.dismiss(pe,Ee):Promise.reject("overlay does not exist")},Me=(J,pe,Ee)=>{const Be=((J,pe)=>(void 0===pe&&(pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(J.querySelectorAll(pe)).filter(Ee=>Ee.overlayIndex>0)))(J,pe).filter(_t=>!(J=>J.classList.contains("overlay-hidden"))(_t));return void 0===Ee?Be[Be.length-1]:Be.find(_t=>_t.id===Ee)},xe=(J=!1)=>{const Ee=X(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ee||(J?Ee.setAttribute("aria-hidden","true"):Ee.removeAttribute("aria-hidden"))},Ue=function(){var J=(0,T.Z)(function*(pe,Ee,Be,_t,je){var Ft,jt;if(pe.presented)return;xe(!0),pe.presented=!0,pe.willPresent.emit(),null===(Ft=pe.willPresentShorthand)||void 0===Ft||Ft.emit();const Nt=(0,u.b)(pe),en=pe.enterAnimation?pe.enterAnimation:u.c.get(Ee,"ios"===Nt?Be:_t);(yield ze(pe,en,pe.el,je))&&(pe.didPresent.emit(),null===(jt=pe.didPresentShorthand)||void 0===jt||jt.emit()),"ION-TOAST"!==pe.el.tagName&&Fe(pe.el),pe.keyboardClose&&(null===document.activeElement||!pe.el.contains(document.activeElement))&&pe.el.focus()});return function(Ee,Be,_t,je,Ft){return J.apply(this,arguments)}}(),Fe=function(){var J=(0,T.Z)(function*(pe){let Ee=document.activeElement;if(!Ee)return;const Be=Ee?.shadowRoot;Be&&(Ee=Be.querySelector(ge)||Ee),yield pe.onDidDismiss(),Ee.focus()});return function(Ee){return J.apply(this,arguments)}}(),$e=function(){var J=(0,T.Z)(function*(pe,Ee,Be,_t,je,Ft,jt){var Nt,en;if(!pe.presented)return!1;xe(!1),pe.presented=!1;try{pe.el.style.setProperty("pointer-events","none"),pe.willDismiss.emit({data:Ee,role:Be}),null===(Nt=pe.willDismissShorthand)||void 0===Nt||Nt.emit({data:Ee,role:Be});const Q=(0,u.b)(pe),xn=pe.leaveAnimation?pe.leaveAnimation:u.c.get(_t,"ios"===Q?je:Ft);Be!==Qe&&(yield ze(pe,xn,pe.el,jt)),pe.didDismiss.emit({data:Ee,role:Be}),null===(en=pe.didDismissShorthand)||void 0===en||en.emit({data:Ee,role:Be}),ce.delete(pe),pe.el.classList.add("overlay-hidden"),pe.el.style.removeProperty("pointer-events")}catch(Q){console.error(Q)}return pe.el.remove(),!0});return function(Ee,Be,_t,je,Ft,jt,Nt){return J.apply(this,arguments)}}(),X=J=>J.querySelector("ion-app")||J.body,ze=function(){var J=(0,T.Z)(function*(pe,Ee,Be,_t){Be.classList.remove("overlay-hidden");const Ft=Ee(pe.el,_t);(!pe.animated||!u.c.getBoolean("animated",!0))&&Ft.duration(0),pe.keyboardClose&&Ft.beforeAddWrite(()=>{const Nt=Be.ownerDocument.activeElement;Nt?.matches("input,ion-input, ion-textarea")&&Nt.blur()});const jt=ce.get(pe)||[];return ce.set(pe,[...jt,Ft]),yield Ft.play(),!0});return function(Ee,Be,_t,je){return J.apply(this,arguments)}}(),nt=(J,pe)=>{let Ee;const Be=new Promise(_t=>Ee=_t);return St(J,pe,_t=>{Ee(_t.detail)}),Be},St=(J,pe,Ee)=>{const Be=_t=>{(0,ie.b)(J,pe,Be),Ee(_t)};(0,ie.a)(J,pe,Be)},Rt=J=>"cancel"===J||J===ve,Xe=J=>J(),O=(J,pe)=>{if("function"==typeof J)return u.c.get("_zoneGate",Xe)(()=>{try{return J(pe)}catch(Be){throw Be}})},ve="backdrop",Qe="gesture"},4263:(He,We,R)=>{"use strict";var T=R(9903),u=R(3855),ae=u(T("String.prototype.indexOf"));He.exports=function(q,ce){var V=T(q,!!ce);return"function"==typeof V&&ae(q,".prototype.")>-1?u(V):V}},3855:(He,We,R)=>{"use strict";var T=R(224),u=R(9903),ae=u("%Function.prototype.apply%"),ie=u("%Function.prototype.call%"),q=u("%Reflect.apply%",!0)||T.call(ie,ae),ce=u("%Object.getOwnPropertyDescriptor%",!0),V=u("%Object.defineProperty%",!0),j=u("%Math.max%");if(V)try{V({},"a",{value:1})}catch{V=null}He.exports=function(se){var B=q(T,ie,arguments);if(ce&&V){var $=ce(B,"length");$.configurable&&V(B,"length",{value:1+j(0,se.length-(arguments.length-1))})}return B};var Ie=function(){return q(T,ae,arguments)};V?V(He.exports,"apply",{value:Ie}):He.exports.apply=Ie},5107:He=>{var We={utf8:{stringToBytes:function(R){return We.bin.stringToBytes(unescape(encodeURIComponent(R)))},bytesToString:function(R){return decodeURIComponent(escape(We.bin.bytesToString(R)))}},bin:{stringToBytes:function(R){for(var T=[],u=0;u<R.length;u++)T.push(255&R.charCodeAt(u));return T},bytesToString:function(R){for(var T=[],u=0;u<R.length;u++)T.push(String.fromCharCode(R[u]));return T.join("")}}};He.exports=We},7175:He=>{var We,R;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",He.exports=R={rotl:function(T,u){return T<<u|T>>>32-u},rotr:function(T,u){return T<<32-u|T>>>u},endian:function(T){if(T.constructor==Number)return 16711935&R.rotl(T,8)|4278255360&R.rotl(T,24);for(var u=0;u<T.length;u++)T[u]=R.endian(T[u]);return T},randomBytes:function(T){for(var u=[];T>0;T--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(T){for(var u=[],ae=0,ie=0;ae<T.length;ae++,ie+=8)u[ie>>>5]|=T[ae]<<24-ie%32;return u},wordsToBytes:function(T){for(var u=[],ae=0;ae<32*T.length;ae+=8)u.push(T[ae>>>5]>>>24-ae%32&255);return u},bytesToHex:function(T){for(var u=[],ae=0;ae<T.length;ae++)u.push((T[ae]>>>4).toString(16)),u.push((15&T[ae]).toString(16));return u.join("")},hexToBytes:function(T){for(var u=[],ae=0;ae<T.length;ae+=2)u.push(parseInt(T.substr(ae,2),16));return u},bytesToBase64:function(T){for(var u=[],ae=0;ae<T.length;ae+=3)for(var ie=T[ae]<<16|T[ae+1]<<8|T[ae+2],q=0;q<4;q++)u.push(8*ae+6*q<=8*T.length?We.charAt(ie>>>6*(3-q)&63):"=");return u.join("")},base64ToBytes:function(T){T=T.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],ae=0,ie=0;ae<T.length;ie=++ae%4)0!=ie&&u.push((We.indexOf(T.charAt(ae-1))&Math.pow(2,-2*ie+8)-1)<<2*ie|We.indexOf(T.charAt(ae))>>>6-2*ie);return u}}},5541:(He,We,R)=>{"use strict";var T=R(2093),u=R(9102),ae=R(5734),ie=R(6687),q=R(8704),ce=R(8266),V=R(4666),j=R(2086),Ie=R(9903),K=R(4263),se=R(2107),B=R(2069),$=R(8432),G=R(5709),Oe=R(6189),Ne=K("ArrayBuffer.prototype.byteLength",!0);function ge(J){if(!J||"object"!=typeof J||!Ne)return!1;try{return Ne(J),!0}catch{return!1}}var z=K("Date.prototype.getTime"),W=Object.getPrototypeOf,he=K("Object.prototype.toString"),Pe=Ie("%Set%",!0),me=K("Map.prototype.has",!0),ot=K("Map.prototype.get",!0),de=K("Map.prototype.size",!0),Me=K("Set.prototype.add",!0),xe=K("Set.prototype.delete",!0),Ue=K("Set.prototype.has",!0),Fe=K("Set.prototype.size",!0);function $e(J,pe,Ee,Be){for(var je,_t=B(J);(je=_t.next())&&!je.done;)if(Rt(pe,je.value,Ee,Be))return xe(J,je.value),!0;return!1}function X(J){return typeof J>"u"?null:"object"!=typeof J?"symbol"!=typeof J&&("string"!=typeof J&&"number"!=typeof J||+J==+J):void 0}function ze(J,pe,Ee,Be,_t,je){var Ft=X(Ee);if(null!=Ft)return Ft;var jt=ot(pe,Ft),Nt=Oe({},_t,{strict:!1});return!(typeof jt>"u"&&!me(pe,Ft)||!Rt(Be,jt,Nt,je))&&!me(J,Ft)&&Rt(Be,jt,Nt,je)}function nt(J,pe,Ee){var Be=X(Ee);return Be??(Ue(pe,Be)&&!Ue(J,Be))}function St(J,pe,Ee,Be,_t,je){for(var jt,Nt,Ft=B(J);(jt=Ft.next())&&!jt.done;)if(Rt(Ee,Nt=jt.value,_t,je)&&Rt(Be,ot(pe,Nt),_t,je))return xe(J,Nt),!0;return!1}function Rt(J,pe,Ee,Be){var _t=Ee||{};if(_t.strict?ae(J,pe):J===pe)return!0;if(j(J)!==j(pe))return!1;if(!J||!pe||"object"!=typeof J&&"object"!=typeof pe)return _t.strict?ae(J,pe):J==pe;var en,jt=Be.has(J),Nt=Be.has(pe);if(jt&&Nt){if(Be.get(J)===Be.get(pe))return!0}else en={};return jt||Be.set(J,en),Nt||Be.set(pe,en),function Qe(J,pe,Ee,Be){var _t,je;if(typeof J!=typeof pe||null==J||null==pe||he(J)!==he(pe)||u(J)!==u(pe))return!1;if(ce(J)!==ce(pe))return!1;var Nt=J instanceof Error,en=pe instanceof Error;if(Nt!==en||(Nt||en)&&(J.name!==pe.name||J.message!==pe.message))return!1;var Q=ie(J),xn=ie(pe);if(Q!==xn||(Q||xn)&&(J.source!==pe.source||q(J)!==q(pe)))return!1;var vr=V(J),nr=V(pe);if(vr!==nr||(vr||nr)&&z(J)!==z(pe)||Ee.strict&&W&&W(J)!==W(pe)||G(J)!==G(pe))return!1;var Do=Xe(J),Rr=Xe(pe);if(Do!==Rr)return!1;if(Do||Rr){if(J.length!==pe.length)return!1;for(_t=0;_t<J.length;_t++)if(J[_t]!==pe[_t])return!1;return!0}var ri=ge(J),Dn=ge(pe);if(ri!==Dn)return!1;if(ri||Dn)return Ne(J)===Ne(pe)&&"function"==typeof Uint8Array&&Rt(new Uint8Array(J),new Uint8Array(pe),Ee,Be);if(typeof J!=typeof pe)return!1;var kr=T(J),Pn=T(pe);if(kr.length!==Pn.length)return!1;for(kr.sort(),Pn.sort(),_t=kr.length-1;_t>=0;_t--)if(kr[_t]!=Pn[_t])return!1;for(_t=kr.length-1;_t>=0;_t--)if(!Rt(J[je=kr[_t]],pe[je],Ee,Be))return!1;var jo=se(J),Wr=se(pe);return jo===Wr&&("Set"===jo||"Set"===Wr?function O(J,pe,Ee,Be){if(Fe(J)!==Fe(pe))return!1;for(var Ft,jt,Nt,_t=B(J),je=B(pe);(Ft=_t.next())&&!Ft.done;)if(Ft.value&&"object"==typeof Ft.value)Nt||(Nt=new Pe),Me(Nt,Ft.value);else if(!Ue(pe,Ft.value)){if(Ee.strict||!nt(J,pe,Ft.value))return!1;Nt||(Nt=new Pe),Me(Nt,Ft.value)}if(Nt){for(;(jt=je.next())&&!jt.done;)if(jt.value&&"object"==typeof jt.value){if(!$e(Nt,jt.value,Ee.strict,Be))return!1}else if(!Ee.strict&&!Ue(J,jt.value)&&!$e(Nt,jt.value,Ee.strict,Be))return!1;return 0===Fe(Nt)}return!0}(J,pe,Ee,Be):"Map"!==jo||function ve(J,pe,Ee,Be){if(de(J)!==de(pe))return!1;for(var Ft,jt,Nt,en,Q,xn,_t=B(J),je=B(pe);(Ft=_t.next())&&!Ft.done;)if(Q=Ft.value[1],(en=Ft.value[0])&&"object"==typeof en)Nt||(Nt=new Pe),Me(Nt,en);else if(typeof(xn=ot(pe,en))>"u"&&!me(pe,en)||!Rt(Q,xn,Ee,Be)){if(Ee.strict||!ze(J,pe,en,Q,Ee,Be))return!1;Nt||(Nt=new Pe),Me(Nt,en)}if(Nt){for(;(jt=je.next())&&!jt.done;)if(xn=jt.value[1],(en=jt.value[0])&&"object"==typeof en){if(!St(Nt,J,en,xn,Ee,Be))return!1}else if(!(Ee.strict||J.has(en)&&Rt(ot(J,en),xn,Ee,Be)||St(Nt,J,en,xn,Oe({},Ee,{strict:!1}),Be)))return!1;return 0===Fe(Nt)}return!0}(J,pe,Ee,Be))}(J,pe,_t,Be)}function Xe(J){return!(!J||"object"!=typeof J||"number"!=typeof J.length||"function"!=typeof J.copy||"function"!=typeof J.slice||J.length>0&&"number"!=typeof J[0]||!(J.constructor&&J.constructor.isBuffer&&J.constructor.isBuffer(J)))}He.exports=function(pe,Ee,Be){return Rt(pe,Ee,Be,$())}},1790:(He,We,R)=>{"use strict";var T=R(2093),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ae=Object.prototype.toString,ie=Array.prototype.concat,q=Object.defineProperty,V=R(9006)(),j=q&&V,Ie=function(se,B,$,G){B in se&&(!function(se){return"function"==typeof se&&"[object Function]"===ae.call(se)}(G)||!G())||(j?q(se,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):se[B]=$)},K=function(se,B){var $=arguments.length>2?arguments[2]:{},G=T(B);u&&(G=ie.call(G,Object.getOwnPropertySymbols(B)));for(var Oe=0;Oe<G.length;Oe+=1)Ie(se,G[Oe],B[G[Oe]],$[G[Oe]])};K.supportsDescriptors=!!j,He.exports=K},9897:function(He,We){!function(R){"use strict";var B,ae=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ie=536870912,q=2*ie,V=new WeakMap,Ie=function(B,$){return function(G){var Oe=$.get(G),Ne=void 0===Oe?G.size:Oe<q?Oe+1:0;if(!G.has(Ne))return B(G,Ne);if(G.size<ie){for(;G.has(Ne);)Ne=Math.floor(Math.random()*q);return B(G,Ne)}if(G.size>ae)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;G.has(Ne);)Ne=Math.floor(Math.random()*ae);return B(G,Ne)}}((B=V,function($,G){return B.set($,G),G}),V),K=function(B){return function($){var G=B($);return $.add(G),G}}(Ie);R.addUniqueNumber=K,R.generateUniqueNumber=Ie,Object.defineProperty(R,"__esModule",{value:!0})}(We)},3037:(He,We,R)=>{"use strict";var T=R(8642),u=Object.prototype.toString,ae=Object.prototype.hasOwnProperty,ie=function(Ie,K,se){for(var B=0,$=Ie.length;B<$;B++)ae.call(Ie,B)&&(null==se?K(Ie[B],B,Ie):K.call(se,Ie[B],B,Ie))},q=function(Ie,K,se){for(var B=0,$=Ie.length;B<$;B++)null==se?K(Ie.charAt(B),B,Ie):K.call(se,Ie.charAt(B),B,Ie)},ce=function(Ie,K,se){for(var B in Ie)ae.call(Ie,B)&&(null==se?K(Ie[B],B,Ie):K.call(se,Ie[B],B,Ie))};He.exports=function(Ie,K,se){if(!T(K))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=se),"[object Array]"===u.call(Ie)?ie(Ie,K,B):"string"==typeof Ie?q(Ie,K,B):ce(Ie,K,B)}},2199:He=>{"use strict";var We="Function.prototype.bind called on incompatible ",R=Array.prototype.slice,T=Object.prototype.toString,u="[object Function]";He.exports=function(ie){var q=this;if("function"!=typeof q||T.call(q)!==u)throw new TypeError(We+q);for(var V,ce=R.call(arguments,1),j=function(){if(this instanceof V){var $=q.apply(this,ce.concat(R.call(arguments)));return Object($)===$?$:this}return q.apply(ie,ce.concat(R.call(arguments)))},Ie=Math.max(0,q.length-ce.length),K=[],se=0;se<Ie;se++)K.push("$"+se);if(V=Function("binder","return function ("+K.join(",")+"){ return binder.apply(this,arguments); }")(j),q.prototype){var B=function(){};B.prototype=q.prototype,V.prototype=new B,B.prototype=null}return V}},224:(He,We,R)=>{"use strict";var T=R(2199);He.exports=Function.prototype.bind||T},3677:He=>{"use strict";var We=function(){return"string"==typeof function(){}.name},R=Object.getOwnPropertyDescriptor;if(R)try{R([],"length")}catch{R=null}We.functionsHaveConfigurableNames=function(){if(!We()||!R)return!1;var ae=R(function(){},"name");return!!ae&&!!ae.configurable};var T=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof T&&""!==function(){}.bind().name},He.exports=We},9903:(He,We,R)=>{"use strict";var T,u=SyntaxError,ae=Function,ie=TypeError,q=function(Ue){try{return ae('"use strict"; return ('+Ue+").constructor;")()}catch{}},ce=Object.getOwnPropertyDescriptor;if(ce)try{ce({},"")}catch{ce=null}var V=function(){throw new ie},j=ce?function(){try{return V}catch{try{return ce(arguments,"callee").get}catch{return V}}}():V,Ie=R(524)(),K=Object.getPrototypeOf||function(Ue){return Ue.__proto__},se={},B=typeof Uint8Array>"u"?T:K(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?T:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?T:ArrayBuffer,"%ArrayIteratorPrototype%":Ie?K([][Symbol.iterator]()):T,"%AsyncFromSyncIteratorPrototype%":T,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?T:Atomics,"%BigInt%":typeof BigInt>"u"?T:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?T:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?T:Float32Array,"%Float64Array%":typeof Float64Array>"u"?T:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?T:FinalizationRegistry,"%Function%":ae,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?T:Int8Array,"%Int16Array%":typeof Int16Array>"u"?T:Int16Array,"%Int32Array%":typeof Int32Array>"u"?T:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ie?K(K([][Symbol.iterator]())):T,"%JSON%":"object"==typeof JSON?JSON:T,"%Map%":typeof Map>"u"?T:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ie?T:K((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?T:Promise,"%Proxy%":typeof Proxy>"u"?T:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?T:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?T:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ie?T:K((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?T:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ie?K(""[Symbol.iterator]()):T,"%Symbol%":Ie?Symbol:T,"%SyntaxError%":u,"%ThrowTypeError%":j,"%TypedArray%":B,"%TypeError%":ie,"%Uint8Array%":typeof Uint8Array>"u"?T:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?T:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?T:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?T:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?T:WeakMap,"%WeakRef%":typeof WeakRef>"u"?T:WeakRef,"%WeakSet%":typeof WeakSet>"u"?T:WeakSet},G=function Ue(Fe){var $e;if("%AsyncFunction%"===Fe)$e=q("async function () {}");else if("%GeneratorFunction%"===Fe)$e=q("function* () {}");else if("%AsyncGeneratorFunction%"===Fe)$e=q("async function* () {}");else if("%AsyncGenerator%"===Fe){var X=Ue("%AsyncGeneratorFunction%");X&&($e=X.prototype)}else if("%AsyncIteratorPrototype%"===Fe){var ze=Ue("%AsyncGenerator%");ze&&($e=K(ze.prototype))}return $[Fe]=$e,$e},Oe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ne=R(224),ge=R(4031),z=Ne.call(Function.call,Array.prototype.concat),W=Ne.call(Function.apply,Array.prototype.splice),he=Ne.call(Function.call,String.prototype.replace),Pe=Ne.call(Function.call,String.prototype.slice),me=Ne.call(Function.call,RegExp.prototype.exec),ot=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,de=/\\(\\)?/g,Me=function(Fe){var $e=Pe(Fe,0,1),X=Pe(Fe,-1);if("%"===$e&&"%"!==X)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===X&&"%"!==$e)throw new u("invalid intrinsic syntax, expected opening `%`");var ze=[];return he(Fe,ot,function(nt,St,Rt,Xe){ze[ze.length]=Rt?he(Xe,de,"$1"):St||nt}),ze},xe=function(Fe,$e){var ze,X=Fe;if(ge(Oe,X)&&(X="%"+(ze=Oe[X])[0]+"%"),ge($,X)){var nt=$[X];if(nt===se&&(nt=G(X)),typeof nt>"u"&&!$e)throw new ie("intrinsic "+Fe+" exists, but is not available. Please file an issue!");return{alias:ze,name:X,value:nt}}throw new u("intrinsic "+Fe+" does not exist!")};He.exports=function(Fe,$e){if("string"!=typeof Fe||0===Fe.length)throw new ie("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof $e)throw new ie('"allowMissing" argument must be a boolean');if(null===me(/^%?[^%]*%?$/,Fe))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=Me(Fe),ze=X.length>0?X[0]:"",nt=xe("%"+ze+"%",$e),St=nt.name,Rt=nt.value,Xe=!1,O=nt.alias;O&&(ze=O[0],W(X,z([0,1],O)));for(var ve=1,Qe=!0;ve<X.length;ve+=1){var J=X[ve],pe=Pe(J,0,1),Ee=Pe(J,-1);if(('"'===pe||"'"===pe||"`"===pe||'"'===Ee||"'"===Ee||"`"===Ee)&&pe!==Ee)throw new u("property names with quotes must have matching quotes");if(("constructor"===J||!Qe)&&(Xe=!0),ge($,St="%"+(ze+="."+J)+"%"))Rt=$[St];else if(null!=Rt){if(!(J in Rt)){if(!$e)throw new ie("base intrinsic for "+Fe+" exists, but the property is not available.");return}if(ce&&ve+1>=X.length){var Be=ce(Rt,J);Rt=(Qe=!!Be)&&"get"in Be&&!("originalValue"in Be.get)?Be.get:Rt[J]}else Qe=ge(Rt,J),Rt=Rt[J];Qe&&!Xe&&($[St]=Rt)}}return Rt}},253:(He,We,R)=>{"use strict";var u=R(9903)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}He.exports=u},5861:He=>{"use strict";var We=typeof BigInt<"u"&&BigInt;He.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:(He,We,R)=>{"use strict";var u=R(9903)("%Object.defineProperty%",!0),ae=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};ae.hasArrayLengthDefineBug=function(){if(!ae())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},He.exports=ae},524:(He,We,R)=>{"use strict";var T=typeof Symbol<"u"&&Symbol,u=R(6858);He.exports=function(){return"function"==typeof T&&"function"==typeof Symbol&&"symbol"==typeof T("foo")&&"symbol"==typeof Symbol("bar")&&u()}},6858:He=>{"use strict";He.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},T=Symbol("test"),u=Object(T);if("string"==typeof T||"[object Symbol]"!==Object.prototype.toString.call(T)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(T in R[T]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var ie=Object.getOwnPropertySymbols(R);if(1!==ie.length||ie[0]!==T||!Object.prototype.propertyIsEnumerable.call(R,T))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var q=Object.getOwnPropertyDescriptor(R,T);if(42!==q.value||!0!==q.enumerable)return!1}return!0}},3261:(He,We,R)=>{"use strict";var T=R(6858);He.exports=function(){return T()&&!!Symbol.toStringTag}},4031:(He,We,R)=>{"use strict";var T=R(224);He.exports=T.call(Function.call,Object.prototype.hasOwnProperty)},9102:(He,We,R)=>{"use strict";var T=R(3261)(),ae=R(4263)("Object.prototype.toString"),ie=function(j){return!(T&&j&&"object"==typeof j&&Symbol.toStringTag in j)&&"[object Arguments]"===ae(j)},q=function(j){return!!ie(j)||null!==j&&"object"==typeof j&&"number"==typeof j.length&&j.length>=0&&"[object Array]"!==ae(j)&&"[object Function]"===ae(j.callee)},ce=function(){return ie(arguments)}();ie.isLegacyArguments=q,He.exports=ce?ie:q},3:(He,We,R)=>{"use strict";if(R(5861)()){var u=BigInt.prototype.valueOf;He.exports=function(q){return!(null===q||typeof q>"u"||"boolean"==typeof q||"string"==typeof q||"number"==typeof q||"symbol"==typeof q||"function"==typeof q)&&("bigint"==typeof q||function(q){try{return u.call(q),!0}catch{}return!1}(q))}}else He.exports=function(q){return!1}},6180:(He,We,R)=>{"use strict";var T=R(4263),u=T("Boolean.prototype.toString"),ae=T("Object.prototype.toString"),ce=R(3261)();He.exports=function(j){return"boolean"==typeof j||null!==j&&"object"==typeof j&&(ce&&Symbol.toStringTag in j?function(j){try{return u(j),!0}catch{return!1}}(j):"[object Boolean]"===ae(j))}},5057:He=>{function We(T){return!!T.constructor&&"function"==typeof T.constructor.isBuffer&&T.constructor.isBuffer(T)}He.exports=function(T){return null!=T&&(We(T)||function R(T){return"function"==typeof T.readFloatLE&&"function"==typeof T.slice&&We(T.slice(0,0))}(T)||!!T._isBuffer)}},8642:He=>{"use strict";var T,u,We=Function.prototype.toString,R="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof R&&"function"==typeof Object.defineProperty)try{T=Object.defineProperty({},"length",{get:function(){throw u}}),u={},R(function(){throw 42},null,T)}catch(ge){ge!==u&&(R=null)}else R=null;var ae=/^\s*class\b/,ie=function(z){try{var W=We.call(z);return ae.test(W)}catch{return!1}},q=function(z){try{return!ie(z)&&(We.call(z),!0)}catch{return!1}},ce=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,G=!(0 in[,]),Oe=function(){return!1};if("object"==typeof document){var Ne=document.all;ce.call(Ne)===ce.call(document.all)&&(Oe=function(z){if((G||!z)&&(typeof z>"u"||"object"==typeof z))try{var W=ce.call(z);return("[object HTMLAllCollection]"===W||"[object HTML document.all class]"===W||"[object HTMLCollection]"===W||"[object Object]"===W)&&null==z("")}catch{}return!1})}He.exports=R?function(z){if(Oe(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;try{R(z,null,T)}catch(W){if(W!==u)return!1}return!ie(z)&&q(z)}:function(z){if(Oe(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;if($)return q(z);if(ie(z))return!1;var W=ce.call(z);return!("[object Function]"!==W&&"[object GeneratorFunction]"!==W&&!/^\[object HTML/.test(W))&&q(z)}},4666:(He,We,R)=>{"use strict";var T=Date.prototype.getDay,ae=Object.prototype.toString,q=R(3261)();He.exports=function(V){return"object"==typeof V&&null!==V&&(q?function(V){try{return T.call(V),!0}catch{return!1}}(V):"[object Date]"===ae.call(V))}},9898:He=>{"use strict";var T,We="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;We||(T=function(q){return!1});var u=We?Map.prototype.has:null,ae=R?Set.prototype.has:null;!T&&!u&&(T=function(q){return!1}),He.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q),ae)try{ae.call(q)}catch{return!0}return q instanceof We}catch{}return!1}},1046:(He,We,R)=>{"use strict";var T=Number.prototype.toString,ae=Object.prototype.toString,q=R(3261)();He.exports=function(V){return"number"==typeof V||"object"==typeof V&&(q?function(V){try{return T.call(V),!0}catch{return!1}}(V):"[object Number]"===ae.call(V))}},6687:(He,We,R)=>{"use strict";var ae,ie,q,ce,T=R(4263),u=R(3261)();if(u){ae=T("Object.prototype.hasOwnProperty"),ie=T("RegExp.prototype.exec"),q={};var V=function(){throw q};ce={toString:V,valueOf:V},"symbol"==typeof Symbol.toPrimitive&&(ce[Symbol.toPrimitive]=V)}var j=T("Object.prototype.toString"),Ie=Object.getOwnPropertyDescriptor;He.exports=u?function(B){if(!B||"object"!=typeof B)return!1;var $=Ie(B,"lastIndex");if(!$||!ae($,"value"))return!1;try{ie(B,ce)}catch(Oe){return Oe===q}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===j(B)}},3870:He=>{"use strict";var T,We="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;R||(T=function(q){return!1});var u=We?Map.prototype.has:null,ae=R?Set.prototype.has:null;!T&&!ae&&(T=function(q){return!1}),He.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(ae.call(q),u)try{u.call(q)}catch{return!0}return q instanceof R}catch{}return!1}},4764:(He,We,R)=>{"use strict";var T=String.prototype.valueOf,ae=Object.prototype.toString,q=R(3261)();He.exports=function(V){return"string"==typeof V||"object"==typeof V&&(q?function(V){try{return T.call(V),!0}catch{return!1}}(V):"[object String]"===ae.call(V))}},6434:(He,We,R)=>{"use strict";var T=Object.prototype.toString;if(R(524)()){var ae=Symbol.prototype.toString,ie=/^Symbol\(.*\)$/;He.exports=function(V){if("symbol"==typeof V)return!0;if("[object Symbol]"!==T.call(V))return!1;try{return function(V){return"symbol"==typeof V.valueOf()&&ie.test(ae.call(V))}(V)}catch{return!1}}}else He.exports=function(V){return!1}},7673:(He,We,R)=>{"use strict";var T=R(3037),u=R(5271),ae=R(4263),ie=ae("Object.prototype.toString"),q=R(3261)(),ce=R(253),V=typeof globalThis>"u"?global:globalThis,j=u(),Ie=ae("Array.prototype.indexOf",!0)||function(Oe,Ne){for(var ge=0;ge<Oe.length;ge+=1)if(Oe[ge]===Ne)return ge;return-1},K=ae("String.prototype.slice"),se={},B=Object.getPrototypeOf;q&&ce&&B&&T(j,function(G){var Oe=new V[G];if(Symbol.toStringTag in Oe){var Ne=B(Oe),ge=ce(Ne,Symbol.toStringTag);if(!ge){var z=B(Ne);ge=ce(z,Symbol.toStringTag)}se[G]=ge.get}}),He.exports=function(Oe){if(!Oe||"object"!=typeof Oe)return!1;if(!q||!(Symbol.toStringTag in Oe)){var Ne=K(ie(Oe),8,-1);return Ie(j,Ne)>-1}return!!ce&&function(Oe){var Ne=!1;return T(se,function(ge,z){if(!Ne)try{Ne=ge.call(Oe)===z}catch{}}),Ne}(Oe)}},5585:He=>{"use strict";var T,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,R="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(T=function(q){return!1});var u=We?We.prototype.has:null,ae=R?R.prototype.has:null;!T&&!u&&(T=function(q){return!1}),He.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q,u),ae)try{ae.call(q,ae)}catch{return!0}return q instanceof We}catch{}return!1}},1902:(He,We,R)=>{"use strict";var T=R(9903),u=R(4263),ae=T("%WeakSet%",!0),ie=u("WeakSet.prototype.has",!0);if(ie){var q=u("WeakMap.prototype.has",!0);He.exports=function(V){if(!V||"object"!=typeof V)return!1;try{if(ie(V,ie),q)try{q(V,q)}catch{return!0}return V instanceof ae}catch{}return!1}}else He.exports=function(V){return!1}},8266:He=>{var We={}.toString;He.exports=Array.isArray||function(R){return"[object Array]"==We.call(R)}},5023:(He,We,R)=>{var T,u,ae,ie,q;T=R(7175),u=R(5107).utf8,ae=R(5057),ie=R(5107).bin,(q=function(ce,V){ce.constructor==String?ce=V&&"binary"===V.encoding?ie.stringToBytes(ce):u.stringToBytes(ce):ae(ce)?ce=Array.prototype.slice.call(ce,0):!Array.isArray(ce)&&ce.constructor!==Uint8Array&&(ce=ce.toString());for(var j=T.bytesToWords(ce),Ie=8*ce.length,K=1732584193,se=-271733879,B=-1732584194,$=271733878,G=0;G<j.length;G++)j[G]=16711935&(j[G]<<8|j[G]>>>24)|4278255360&(j[G]<<24|j[G]>>>8);j[Ie>>>5]|=128<<Ie%32,j[14+(Ie+64>>>9<<4)]=Ie;var Oe=q._ff,Ne=q._gg,ge=q._hh,z=q._ii;for(G=0;G<j.length;G+=16){var W=K,he=se,Pe=B,me=$;K=Oe(K,se,B,$,j[G+0],7,-680876936),$=Oe($,K,se,B,j[G+1],12,-389564586),B=Oe(B,$,K,se,j[G+2],17,606105819),se=Oe(se,B,$,K,j[G+3],22,-1044525330),K=Oe(K,se,B,$,j[G+4],7,-176418897),$=Oe($,K,se,B,j[G+5],12,1200080426),B=Oe(B,$,K,se,j[G+6],17,-1473231341),se=Oe(se,B,$,K,j[G+7],22,-45705983),K=Oe(K,se,B,$,j[G+8],7,1770035416),$=Oe($,K,se,B,j[G+9],12,-1958414417),B=Oe(B,$,K,se,j[G+10],17,-42063),se=Oe(se,B,$,K,j[G+11],22,-1990404162),K=Oe(K,se,B,$,j[G+12],7,1804603682),$=Oe($,K,se,B,j[G+13],12,-40341101),B=Oe(B,$,K,se,j[G+14],17,-1502002290),K=Ne(K,se=Oe(se,B,$,K,j[G+15],22,1236535329),B,$,j[G+1],5,-165796510),$=Ne($,K,se,B,j[G+6],9,-1069501632),B=Ne(B,$,K,se,j[G+11],14,643717713),se=Ne(se,B,$,K,j[G+0],20,-373897302),K=Ne(K,se,B,$,j[G+5],5,-701558691),$=Ne($,K,se,B,j[G+10],9,38016083),B=Ne(B,$,K,se,j[G+15],14,-660478335),se=Ne(se,B,$,K,j[G+4],20,-405537848),K=Ne(K,se,B,$,j[G+9],5,568446438),$=Ne($,K,se,B,j[G+14],9,-1019803690),B=Ne(B,$,K,se,j[G+3],14,-187363961),se=Ne(se,B,$,K,j[G+8],20,1163531501),K=Ne(K,se,B,$,j[G+13],5,-1444681467),$=Ne($,K,se,B,j[G+2],9,-51403784),B=Ne(B,$,K,se,j[G+7],14,1735328473),K=ge(K,se=Ne(se,B,$,K,j[G+12],20,-1926607734),B,$,j[G+5],4,-378558),$=ge($,K,se,B,j[G+8],11,-2022574463),B=ge(B,$,K,se,j[G+11],16,1839030562),se=ge(se,B,$,K,j[G+14],23,-35309556),K=ge(K,se,B,$,j[G+1],4,-1530992060),$=ge($,K,se,B,j[G+4],11,1272893353),B=ge(B,$,K,se,j[G+7],16,-155497632),se=ge(se,B,$,K,j[G+10],23,-1094730640),K=ge(K,se,B,$,j[G+13],4,681279174),$=ge($,K,se,B,j[G+0],11,-358537222),B=ge(B,$,K,se,j[G+3],16,-722521979),se=ge(se,B,$,K,j[G+6],23,76029189),K=ge(K,se,B,$,j[G+9],4,-640364487),$=ge($,K,se,B,j[G+12],11,-421815835),B=ge(B,$,K,se,j[G+15],16,530742520),K=z(K,se=ge(se,B,$,K,j[G+2],23,-995338651),B,$,j[G+0],6,-198630844),$=z($,K,se,B,j[G+7],10,1126891415),B=z(B,$,K,se,j[G+14],15,-1416354905),se=z(se,B,$,K,j[G+5],21,-57434055),K=z(K,se,B,$,j[G+12],6,1700485571),$=z($,K,se,B,j[G+3],10,-1894986606),B=z(B,$,K,se,j[G+10],15,-1051523),se=z(se,B,$,K,j[G+1],21,-2054922799),K=z(K,se,B,$,j[G+8],6,1873313359),$=z($,K,se,B,j[G+15],10,-30611744),B=z(B,$,K,se,j[G+6],15,-1560198380),se=z(se,B,$,K,j[G+13],21,1309151649),K=z(K,se,B,$,j[G+4],6,-145523070),$=z($,K,se,B,j[G+11],10,-1120210379),B=z(B,$,K,se,j[G+2],15,718787259),se=z(se,B,$,K,j[G+9],21,-343485551),K=K+W>>>0,se=se+he>>>0,B=B+Pe>>>0,$=$+me>>>0}return T.endian([K,se,B,$])})._ff=function(ce,V,j,Ie,K,se,B){var $=ce+(V&j|~V&Ie)+(K>>>0)+B;return($<<se|$>>>32-se)+V},q._gg=function(ce,V,j,Ie,K,se,B){var $=ce+(V&Ie|j&~Ie)+(K>>>0)+B;return($<<se|$>>>32-se)+V},q._hh=function(ce,V,j,Ie,K,se,B){var $=ce+(V^j^Ie)+(K>>>0)+B;return($<<se|$>>>32-se)+V},q._ii=function(ce,V,j,Ie,K,se,B){var $=ce+(j^(V|~Ie))+(K>>>0)+B;return($<<se|$>>>32-se)+V},q._blocksize=16,q._digestsize=16,He.exports=function(ce,V){if(null==ce)throw new Error("Illegal argument "+ce);var j=T.wordsToBytes(q(ce,V));return V&&V.asBytes?j:V&&V.asString?ie.bytesToString(j):T.bytesToHex(j)}},9052:(He,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var R=[];R[0]=function(){return function(){}},R[1]=function(ie,q){return typeof q>"u"?ie:function(V){ie(V,q)}};var ae=function(){function ie(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ie.prototype.addHandler=function(q,ce){return this.isHandlerAttached(q,ce)||(this._handlers.push(q),this._contexts.push(ce),this._createDispatcher(),this._updateHasHandlers()),this},ie.prototype.removeHandler=function(q,ce){var V=this._getHandlerIndex(q,ce);return typeof V<"u"&&(this._handlers.splice(V,1),this._contexts.splice(V,1),this._createDispatcher(),this._updateHasHandlers()),this},ie.prototype.isHandlerAttached=function(q,ce){return typeof this._getHandlerIndex(q,ce)<"u"},ie.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ie.prototype._getHandlerIndex=function(q,ce){var j,V=this._handlers.length;for(j=0;j<V&&(this._handlers[j]!==q||this._contexts[j]!==ce);j++);return j<V?j:void 0},ie.prototype._createDispatcher=function(){this.dispatch=function T(ie){return R[ie]||(R[ie]=function u(ie){for(var q="return function dispatcher"+ie+"(payload) {\n",ce=[],V=[],j=0;j<ie;j++)ce.push("cb"+j),V.push("ctx"+j),q+="    cb"+j+"(payload, ctx"+j+");\n";return q+="};",new(Function.bind.apply(Function,[void 0].concat(ce.concat(V),[q])))}(ie)),R[ie]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ie}();We.default=ae},1158:(He,We,R)=>{"use strict";var u=R(9052);We.j=u.default},8597:(He,We,R)=>{var T="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&T?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ae=T&&u&&"function"==typeof u.get?u.get:null,ie=T&&Map.prototype.forEach,q="function"==typeof Set&&Set.prototype,ce=Object.getOwnPropertyDescriptor&&q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,V=q&&ce&&"function"==typeof ce.get?ce.get:null,j=q&&Set.prototype.forEach,K="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Oe=Boolean.prototype.valueOf,Ne=Object.prototype.toString,ge=Function.prototype.toString,z=String.prototype.match,W=String.prototype.slice,he=String.prototype.replace,Pe=String.prototype.toUpperCase,me=String.prototype.toLowerCase,ot=RegExp.prototype.test,de=Array.prototype.concat,Me=Array.prototype.join,xe=Array.prototype.slice,Ue=Math.floor,Fe="function"==typeof BigInt?BigInt.prototype.valueOf:null,$e=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ze="function"==typeof Symbol&&"object"==typeof Symbol.iterator,nt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,St=Object.prototype.propertyIsEnumerable,Rt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ue){return ue.__proto__}:null);function Xe(ue,Ge){if(ue===1/0||ue===-1/0||ue!=ue||ue&&ue>-1e3&&ue<1e3||ot.call(/e/,Ge))return Ge;var vn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof ue){var In=ue<0?-Ue(-ue):Ue(ue);if(In!==ue){var Bt=String(In),pn=W.call(Ge,Bt.length+1);return he.call(Bt,vn,"$&_")+"."+he.call(he.call(pn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return he.call(Ge,vn,"$&_")}var O=R(4654),ve=O.custom,Qe=en(ve)?ve:null;function J(ue,Ge,vn){var In="double"===(vn.quoteStyle||Ge)?'"':"'";return In+ue+In}function pe(ue){return he.call(String(ue),/"/g,"&quot;")}function Ee(ue){return!("[object Array]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}function _t(ue){return!("[object RegExp]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}function en(ue){if(ze)return ue&&"object"==typeof ue&&ue instanceof Symbol;if("symbol"==typeof ue)return!0;if(!ue||"object"!=typeof ue||!X)return!1;try{return X.call(ue),!0}catch{}return!1}He.exports=function ue(Ge,vn,In,Bt){var pn=vn||{};if(vr(pn,"quoteStyle")&&"single"!==pn.quoteStyle&&"double"!==pn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(vr(pn,"maxStringLength")&&("number"==typeof pn.maxStringLength?pn.maxStringLength<0&&pn.maxStringLength!==1/0:null!==pn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fr=!vr(pn,"customInspect")||pn.customInspect;if("boolean"!=typeof fr&&"symbol"!==fr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(vr(pn,"indent")&&null!==pn.indent&&"\t"!==pn.indent&&!(parseInt(pn.indent,10)===pn.indent&&pn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(vr(pn,"numericSeparator")&&"boolean"!=typeof pn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var un=pn.numericSeparator;if(typeof Ge>"u")return"undefined";if(null===Ge)return"null";if("boolean"==typeof Ge)return Ge?"true":"false";if("string"==typeof Ge)return dr(Ge,pn);if("number"==typeof Ge){if(0===Ge)return 1/0/Ge>0?"0":"-0";var Xn=String(Ge);return un?Xe(Ge,Xn):Xn}if("bigint"==typeof Ge){var pr=String(Ge)+"n";return un?Xe(Ge,pr):pr}var Jt=typeof pn.depth>"u"?5:pn.depth;if(typeof In>"u"&&(In=0),In>=Jt&&Jt>0&&"object"==typeof Ge)return Ee(Ge)?"[Array]":"[Object]";var hr=function wi(ue,Ge){var vn;if("\t"===ue.indent)vn="\t";else{if(!("number"==typeof ue.indent&&ue.indent>0))return null;vn=Me.call(Array(ue.indent+1)," ")}return{base:vn,prev:Me.call(Array(Ge+1),vn)}}(pn,In);if(typeof Bt>"u")Bt=[];else if(Rr(Bt,Ge)>=0)return"[Circular]";function S(Mo,D,xr){if(D&&(Bt=xe.call(Bt)).push(D),xr){var jr={depth:pn.depth};return vr(pn,"quoteStyle")&&(jr.quoteStyle=pn.quoteStyle),ue(Mo,jr,In+1,Bt)}return ue(Mo,pn,In+1,Bt)}if("function"==typeof Ge&&!_t(Ge)){var Vt=function Do(ue){if(ue.name)return ue.name;var Ge=z.call(ge.call(ue),/^function\s*([\w$]+)/);return Ge?Ge[1]:null}(Ge),sr=at(Ge,S);return"[Function"+(Vt?": "+Vt:" (anonymous)")+"]"+(sr.length>0?" { "+Me.call(sr,", ")+" }":"")}if(en(Ge)){var E=ze?he.call(String(Ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(Ge);return"object"!=typeof Ge||ze?E:Io(E)}if(function Wr(ue){return!(!ue||"object"!=typeof ue)&&(typeof HTMLElement<"u"&&ue instanceof HTMLElement||"string"==typeof ue.nodeName&&"function"==typeof ue.getAttribute)}(Ge)){for(var An="<"+me.call(String(Ge.nodeName)),yo=Ge.attributes||[],so=0;so<yo.length;so++)An+=" "+yo[so].name+"="+J(pe(yo[so].value),"double",pn);return An+=">",Ge.childNodes&&Ge.childNodes.length&&(An+="..."),An+"</"+me.call(String(Ge.nodeName))+">"}if(Ee(Ge)){if(0===Ge.length)return"[]";var Uo=at(Ge,S);return hr&&!function io(ue){for(var Ge=0;Ge<ue.length;Ge++)if(Rr(ue[Ge],"\n")>=0)return!1;return!0}(Uo)?"["+Lr(Uo,hr)+"]":"[ "+Me.call(Uo,", ")+" ]"}if(function je(ue){return!("[object Error]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}(Ge)){var Tr=at(Ge,S);return"cause"in Error.prototype||!("cause"in Ge)||St.call(Ge,"cause")?0===Tr.length?"["+String(Ge)+"]":"{ ["+String(Ge)+"] "+Me.call(Tr,", ")+" }":"{ ["+String(Ge)+"] "+Me.call(de.call("[cause]: "+S(Ge.cause),Tr),", ")+" }"}if("object"==typeof Ge&&fr){if(Qe&&"function"==typeof Ge[Qe]&&O)return O(Ge,{depth:Jt-In});if("symbol"!==fr&&"function"==typeof Ge.inspect)return Ge.inspect()}if(function ri(ue){if(!ae||!ue||"object"!=typeof ue)return!1;try{ae.call(ue);try{V.call(ue)}catch{return!0}return ue instanceof Map}catch{}return!1}(Ge)){var Ci=[];return ie.call(Ge,function(Mo,D){Ci.push(S(D,Ge,!0)+" => "+S(Mo,Ge))}),En("Map",ae.call(Ge),Ci,hr)}if(function Pn(ue){if(!V||!ue||"object"!=typeof ue)return!1;try{V.call(ue);try{ae.call(ue)}catch{return!0}return ue instanceof Set}catch{}return!1}(Ge)){var Xt=[];return j.call(Ge,function(Mo){Xt.push(S(Mo,Ge))}),En("Set",V.call(Ge),Xt,hr)}if(function Dn(ue){if(!K||!ue||"object"!=typeof ue)return!1;try{K.call(ue,K);try{B.call(ue,B)}catch{return!0}return ue instanceof WeakMap}catch{}return!1}(Ge))return go("WeakMap");if(function jo(ue){if(!B||!ue||"object"!=typeof ue)return!1;try{B.call(ue,B);try{K.call(ue,K)}catch{return!0}return ue instanceof WeakSet}catch{}return!1}(Ge))return go("WeakSet");if(function kr(ue){if(!G||!ue||"object"!=typeof ue)return!1;try{return G.call(ue),!0}catch{}return!1}(Ge))return go("WeakRef");if(function jt(ue){return!("[object Number]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}(Ge))return Io(S(Number(Ge)));if(function Q(ue){if(!ue||"object"!=typeof ue||!Fe)return!1;try{return Fe.call(ue),!0}catch{}return!1}(Ge))return Io(S(Fe.call(Ge)));if(function Nt(ue){return!("[object Boolean]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}(Ge))return Io(Oe.call(Ge));if(function Ft(ue){return!("[object String]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}(Ge))return Io(S(String(Ge)));if(!function Be(ue){return!("[object Date]"!==nr(ue)||nt&&"object"==typeof ue&&nt in ue)}(Ge)&&!_t(Ge)){var ao=at(Ge,S),mr=Rt?Rt(Ge)===Object.prototype:Ge instanceof Object||Ge.constructor===Object,$r=Ge instanceof Object?"":"null prototype",lo=!mr&&nt&&Object(Ge)===Ge&&nt in Ge?W.call(nr(Ge),8,-1):$r?"Object":"",an=(mr||"function"!=typeof Ge.constructor?"":Ge.constructor.name?Ge.constructor.name+" ":"")+(lo||$r?"["+Me.call(de.call([],lo||[],$r||[]),": ")+"] ":"");return 0===ao.length?an+"{}":hr?an+"{"+Lr(ao,hr)+"}":an+"{ "+Me.call(ao,", ")+" }"}return String(Ge)};var xn=Object.prototype.hasOwnProperty||function(ue){return ue in this};function vr(ue,Ge){return xn.call(ue,Ge)}function nr(ue){return Ne.call(ue)}function Rr(ue,Ge){if(ue.indexOf)return ue.indexOf(Ge);for(var vn=0,In=ue.length;vn<In;vn++)if(ue[vn]===Ge)return vn;return-1}function dr(ue,Ge){if(ue.length>Ge.maxStringLength){var vn=ue.length-Ge.maxStringLength,In="... "+vn+" more character"+(vn>1?"s":"");return dr(W.call(ue,0,Ge.maxStringLength),Ge)+In}return J(he.call(he.call(ue,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rr),"single",Ge)}function rr(ue){var Ge=ue.charCodeAt(0),vn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ge];return vn?"\\"+vn:"\\x"+(Ge<16?"0":"")+Pe.call(Ge.toString(16))}function Io(ue){return"Object("+ue+")"}function go(ue){return ue+" { ? }"}function En(ue,Ge,vn,In){return ue+" ("+Ge+") {"+(In?Lr(vn,In):Me.call(vn,", "))+"}"}function Lr(ue,Ge){if(0===ue.length)return"";var vn="\n"+Ge.prev+Ge.base;return vn+Me.call(ue,","+vn)+"\n"+Ge.prev}function at(ue,Ge){var vn=Ee(ue),In=[];if(vn){In.length=ue.length;for(var Bt=0;Bt<ue.length;Bt++)In[Bt]=vr(ue,Bt)?Ge(ue[Bt],ue):""}var fr,pn="function"==typeof $e?$e(ue):[];if(ze){fr={};for(var un=0;un<pn.length;un++)fr["$"+pn[un]]=pn[un]}for(var Xn in ue)!vr(ue,Xn)||vn&&String(Number(Xn))===Xn&&Xn<ue.length||ze&&fr["$"+Xn]instanceof Symbol||(ot.call(/[^\w$]/,Xn)?In.push(Ge(Xn,ue)+": "+Ge(ue[Xn],ue)):In.push(Xn+": "+Ge(ue[Xn],ue)));if("function"==typeof $e)for(var pr=0;pr<pn.length;pr++)St.call(ue,pn[pr])&&In.push("["+Ge(pn[pr])+"]: "+Ge(ue[pn[pr]],ue));return In}},6872:He=>{"use strict";var We=function(R){return R!=R};He.exports=function(T,u){return 0===T&&0===u?1/T==1/u:!!(T===u||We(T)&&We(u))}},5734:(He,We,R)=>{"use strict";var T=R(1790),u=R(3855),ae=R(6872),ie=R(3306),q=R(7715),ce=u(ie(),Object);T(ce,{getPolyfill:ie,implementation:ae,shim:q}),He.exports=ce},3306:(He,We,R)=>{"use strict";var T=R(6872);He.exports=function(){return"function"==typeof Object.is?Object.is:T}},7715:(He,We,R)=>{"use strict";var T=R(3306),u=R(1790);He.exports=function(){var ie=T();return u(Object,{is:ie},{is:function(){return Object.is!==ie}}),ie}},7010:(He,We,R)=>{"use strict";var T;if(!Object.keys){var u=Object.prototype.hasOwnProperty,ae=Object.prototype.toString,ie=R(5185),q=Object.prototype.propertyIsEnumerable,ce=!q.call({toString:null},"toString"),V=q.call(function(){},"prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ie=function($){var G=$.constructor;return G&&G.prototype===$},K={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},se=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!K["$"+$]&&u.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{Ie(window[$])}catch{return!0}}catch{return!0}return!1}();T=function(G){var Oe=null!==G&&"object"==typeof G,Ne="[object Function]"===ae.call(G),ge=ie(G),z=Oe&&"[object String]"===ae.call(G),W=[];if(!Oe&&!Ne&&!ge)throw new TypeError("Object.keys called on a non-object");var he=V&&Ne;if(z&&G.length>0&&!u.call(G,0))for(var Pe=0;Pe<G.length;++Pe)W.push(String(Pe));if(ge&&G.length>0)for(var me=0;me<G.length;++me)W.push(String(me));else for(var ot in G)(!he||"prototype"!==ot)&&u.call(G,ot)&&W.push(String(ot));if(ce)for(var de=function($){if(typeof window>"u"||!se)return Ie($);try{return Ie($)}catch{return!1}}(G),Me=0;Me<j.length;++Me)(!de||"constructor"!==j[Me])&&u.call(G,j[Me])&&W.push(j[Me]);return W}}He.exports=T},2093:(He,We,R)=>{"use strict";var T=Array.prototype.slice,u=R(5185),ae=Object.keys,ie=ae?function(V){return ae(V)}:R(7010),q=Object.keys;ie.shim=function(){if(Object.keys){var V=function(){var j=Object.keys(arguments);return j&&j.length===arguments.length}(1,2);V||(Object.keys=function(Ie){return u(Ie)?q(T.call(Ie)):q(Ie)})}else Object.keys=ie;return Object.keys||ie},He.exports=ie},5185:He=>{"use strict";var We=Object.prototype.toString;He.exports=function(T){var u=We.call(T),ae="[object Arguments]"===u;return ae||(ae="[object Array]"!==u&&null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Function]"===We.call(T.callee)),ae}},2461:(He,We,R)=>{"use strict";var T=R(2093),u=R(6858)(),ae=R(4263),ie=Object,q=ae("Array.prototype.push"),ce=ae("Object.prototype.propertyIsEnumerable"),V=u?Object.getOwnPropertySymbols:null;He.exports=function(Ie,K){if(null==Ie)throw new TypeError("target must be an object");var se=ie(Ie);if(1===arguments.length)return se;for(var B=1;B<arguments.length;++B){var $=ie(arguments[B]),G=T($),Oe=u&&(Object.getOwnPropertySymbols||V);if(Oe)for(var Ne=Oe($),ge=0;ge<Ne.length;++ge){var z=Ne[ge];ce($,z)&&q(G,z)}for(var W=0;W<G.length;++W){var he=G[W];if(ce($,he)){var Pe=$[he];se[he]=Pe}}}return se}},6189:(He,We,R)=>{"use strict";var T=R(1790),u=R(3855),ae=R(2461),ie=R(6255),q=R(152),ce=u.apply(ie()),V=function(Ie,K){return ce(Object,arguments)};T(V,{getPolyfill:ie,implementation:ae,shim:q}),He.exports=V},6255:(He,We,R)=>{"use strict";var T=R(2461);He.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ie="abcdefghijklmnopqrst",q=ie.split(""),ce={},V=0;V<q.length;++V)ce[q[V]]=q[V];var j=Object.assign({},ce),Ie="";for(var K in j)Ie+=K;return ie!==Ie}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ie=Object.preventExtensions({1:2});try{Object.assign(ie,"xy")}catch{return"y"===ie[1]}return!1}()?T:Object.assign}},152:(He,We,R)=>{"use strict";var T=R(1790),u=R(6255);He.exports=function(){var ie=u();return T(Object,{assign:ie},{assign:function(){return Object.assign!==ie}}),ie}},151:(He,We)=>{"use strict";var R=Object.prototype.hasOwnProperty;function u(ce){try{return decodeURIComponent(ce.replace(/\+/g," "))}catch{return null}}function ae(ce){try{return encodeURIComponent(ce)}catch{return null}}We.stringify=function q(ce,V){V=V||"";var Ie,K,j=[];for(K in"string"!=typeof V&&(V="?"),ce)if(R.call(ce,K)){if(!(Ie=ce[K])&&(null==Ie||isNaN(Ie))&&(Ie=""),K=ae(K),Ie=ae(Ie),null===K||null===Ie)continue;j.push(K+"="+Ie)}return j.length?V+j.join("&"):""},We.parse=function ie(ce){for(var Ie,V=/([^=?#&]+)=?([^&]*)/g,j={};Ie=V.exec(ce);){var K=u(Ie[1]),se=u(Ie[2]);null===K||null===se||K in j||(j[K]=se)}return j}},4040:(He,We,R)=>{"use strict";var T=R(3677).functionsHaveConfigurableNames(),u=Object,ae=TypeError;He.exports=function(){if(null!=this&&this!==u(this))throw new ae("RegExp.prototype.flags getter called on non-object");var q="";return this.hasIndices&&(q+="d"),this.global&&(q+="g"),this.ignoreCase&&(q+="i"),this.multiline&&(q+="m"),this.dotAll&&(q+="s"),this.unicode&&(q+="u"),this.sticky&&(q+="y"),q},T&&Object.defineProperty&&Object.defineProperty(He.exports,"name",{value:"get flags"})},8704:(He,We,R)=>{"use strict";var T=R(1790),u=R(3855),ae=R(4040),ie=R(9783),q=R(9369),ce=u(ie());T(ce,{getPolyfill:ie,implementation:ae,shim:q}),He.exports=ce},9783:(He,We,R)=>{"use strict";var T=R(4040),u=R(1790).supportsDescriptors,ae=Object.getOwnPropertyDescriptor;He.exports=function(){if(u&&"gim"===/a/gim.flags){var q=ae(RegExp.prototype,"flags");if(q&&"function"==typeof q.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var ce="",V={};if(Object.defineProperty(V,"hasIndices",{get:function(){ce+="d"}}),Object.defineProperty(V,"sticky",{get:function(){ce+="y"}}),"dy"===ce)return q.get}}return T}},9369:(He,We,R)=>{"use strict";var T=R(1790).supportsDescriptors,u=R(9783),ae=Object.getOwnPropertyDescriptor,ie=Object.defineProperty,q=TypeError,ce=Object.getPrototypeOf,V=/a/;He.exports=function(){if(!T||!ce)throw new q("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Ie=u(),K=ce(V),se=ae(K,"flags");return(!se||se.get!==Ie)&&ie(K,"flags",{configurable:!0,enumerable:!1,get:Ie}),Ie}},47:He=>{"use strict";He.exports=function(R,T){if(T=T.split(":")[0],!(R=+R))return!1;switch(T){case"http":case"ws":return 80!==R;case"https":case"wss":return 443!==R;case"ftp":return 21!==R;case"gopher":return 70!==R;case"file":return!1}return 0!==R}},8432:(He,We,R)=>{"use strict";var T=R(9903),u=R(4263),ae=R(8597),ie=T("%TypeError%"),q=T("%WeakMap%",!0),ce=T("%Map%",!0),V=u("WeakMap.prototype.get",!0),j=u("WeakMap.prototype.set",!0),Ie=u("WeakMap.prototype.has",!0),K=u("Map.prototype.get",!0),se=u("Map.prototype.set",!0),B=u("Map.prototype.has",!0),$=function(ge,z){for(var he,W=ge;null!==(he=W.next);W=he)if(he.key===z)return W.next=he.next,he.next=ge.next,ge.next=he,he};He.exports=function(){var z,W,he,Pe={assert:function(me){if(!Pe.has(me))throw new ie("Side channel does not contain "+ae(me))},get:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(z)return V(z,me)}else if(ce){if(W)return K(W,me)}else if(he)return function(ge,z){var W=$(ge,z);return W&&W.value}(he,me)},has:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(z)return Ie(z,me)}else if(ce){if(W)return B(W,me)}else if(he)return function(ge,z){return!!$(ge,z)}(he,me);return!1},set:function(me,ot){q&&me&&("object"==typeof me||"function"==typeof me)?(z||(z=new q),j(z,me,ot)):ce?(W||(W=new ce),se(W,me,ot)):(he||(he={key:{},next:null}),function(ge,z,W){var he=$(ge,z);he?he.value=W:ge.next={key:z,next:ge.next,value:W}}(he,me,ot))}};return Pe}},9233:(He,We,R)=>{"use strict";var T=R(47),u=R(151),ae=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ie=/[\n\r\t]/g,q=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ce=/:\d+$/,V=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,j=/^[a-zA-Z]:/;function Ie(W){return(W||"").toString().replace(ae,"")}var K=[["#","hash"],["?","query"],function(he,Pe){return $(Pe.protocol)?he.replace(/\\/g,"/"):he},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function B(W){var he;he=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var de,me={},ot=typeof(W=W||he.location||{});if("blob:"===W.protocol)me=new Ne(unescape(W.pathname),{});else if("string"===ot)for(de in me=new Ne(W,{}),se)delete me[de];else if("object"===ot){for(de in W)de in se||(me[de]=W[de]);void 0===me.slashes&&(me.slashes=q.test(W.href))}return me}function $(W){return"file:"===W||"ftp:"===W||"http:"===W||"https:"===W||"ws:"===W||"wss:"===W}function G(W,he){W=(W=Ie(W)).replace(ie,""),he=he||{};var xe,Pe=V.exec(W),me=Pe[1]?Pe[1].toLowerCase():"",ot=!!Pe[2],de=!!Pe[3],Me=0;return ot?de?(xe=Pe[2]+Pe[3]+Pe[4],Me=Pe[2].length+Pe[3].length):(xe=Pe[2]+Pe[4],Me=Pe[2].length):de?(xe=Pe[3]+Pe[4],Me=Pe[3].length):xe=Pe[4],"file:"===me?Me>=2&&(xe=xe.slice(2)):$(me)?xe=Pe[4]:me?ot&&(xe=xe.slice(2)):Me>=2&&$(he.protocol)&&(xe=Pe[4]),{protocol:me,slashes:ot||$(me),slashesCount:Me,rest:xe}}function Ne(W,he,Pe){if(W=(W=Ie(W)).replace(ie,""),!(this instanceof Ne))return new Ne(W,he,Pe);var me,ot,de,Me,xe,Ue,Fe=K.slice(),$e=typeof he,X=this,ze=0;for("object"!==$e&&"string"!==$e&&(Pe=he,he=null),Pe&&"function"!=typeof Pe&&(Pe=u.parse),me=!(ot=G(W||"",he=B(he))).protocol&&!ot.slashes,X.slashes=ot.slashes||me&&he.slashes,X.protocol=ot.protocol||he.protocol||"",W=ot.rest,("file:"===ot.protocol&&(2!==ot.slashesCount||j.test(W))||!ot.slashes&&(ot.protocol||ot.slashesCount<2||!$(X.protocol)))&&(Fe[3]=[/(.*)/,"pathname"]);ze<Fe.length;ze++)"function"!=typeof(Me=Fe[ze])?(Ue=Me[1],(de=Me[0])!=de?X[Ue]=W:"string"==typeof de?~(xe="@"===de?W.lastIndexOf(de):W.indexOf(de))&&("number"==typeof Me[2]?(X[Ue]=W.slice(0,xe),W=W.slice(xe+Me[2])):(X[Ue]=W.slice(xe),W=W.slice(0,xe))):(xe=de.exec(W))&&(X[Ue]=xe[1],W=W.slice(0,xe.index)),X[Ue]=X[Ue]||me&&Me[3]&&he[Ue]||"",Me[4]&&(X[Ue]=X[Ue].toLowerCase())):W=Me(W,X);Pe&&(X.query=Pe(X.query)),me&&he.slashes&&"/"!==X.pathname.charAt(0)&&(""!==X.pathname||""!==he.pathname)&&(X.pathname=function Oe(W,he){if(""===W)return he;for(var Pe=(he||"/").split("/").slice(0,-1).concat(W.split("/")),me=Pe.length,ot=Pe[me-1],de=!1,Me=0;me--;)"."===Pe[me]?Pe.splice(me,1):".."===Pe[me]?(Pe.splice(me,1),Me++):Me&&(0===me&&(de=!0),Pe.splice(me,1),Me--);return de&&Pe.unshift(""),("."===ot||".."===ot)&&Pe.push(""),Pe.join("/")}(X.pathname,he.pathname)),"/"!==X.pathname.charAt(0)&&$(X.protocol)&&(X.pathname="/"+X.pathname),T(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(~(xe=X.auth.indexOf(":"))?(X.username=X.auth.slice(0,xe),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(xe+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin="file:"!==X.protocol&&$(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}Ne.prototype={set:function ge(W,he,Pe){var me=this;switch(W){case"query":"string"==typeof he&&he.length&&(he=(Pe||u.parse)(he)),me[W]=he;break;case"port":me[W]=he,T(he,me.protocol)?he&&(me.host=me.hostname+":"+he):(me.host=me.hostname,me[W]="");break;case"hostname":me[W]=he,me.port&&(he+=":"+me.port),me.host=he;break;case"host":me[W]=he,ce.test(he)?(he=he.split(":"),me.port=he.pop(),me.hostname=he.join(":")):(me.hostname=he,me.port="");break;case"protocol":me.protocol=he.toLowerCase(),me.slashes=!Pe;break;case"pathname":case"hash":if(he){var ot="pathname"===W?"/":"#";me[W]=he.charAt(0)!==ot?ot+he:he}else me[W]=he;break;case"username":case"password":me[W]=encodeURIComponent(he);break;case"auth":var de=he.indexOf(":");~de?(me.username=he.slice(0,de),me.username=encodeURIComponent(decodeURIComponent(me.username)),me.password=he.slice(de+1),me.password=encodeURIComponent(decodeURIComponent(me.password))):me.username=encodeURIComponent(decodeURIComponent(he))}for(var Me=0;Me<K.length;Me++){var xe=K[Me];xe[4]&&(me[xe[1]]=me[xe[1]].toLowerCase())}return me.auth=me.password?me.username+":"+me.password:me.username,me.origin="file:"!==me.protocol&&$(me.protocol)&&me.host?me.protocol+"//"+me.host:"null",me.href=me.toString(),me},toString:function z(W){(!W||"function"!=typeof W)&&(W=u.stringify);var he,Pe=this,me=Pe.host,ot=Pe.protocol;ot&&":"!==ot.charAt(ot.length-1)&&(ot+=":");var de=ot+(Pe.protocol&&Pe.slashes||$(Pe.protocol)?"//":"");return Pe.username?(de+=Pe.username,Pe.password&&(de+=":"+Pe.password),de+="@"):Pe.password?(de+=":"+Pe.password,de+="@"):"file:"!==Pe.protocol&&$(Pe.protocol)&&!me&&"/"!==Pe.pathname&&(de+="@"),(":"===me[me.length-1]||ce.test(Pe.hostname)&&!Pe.port)&&(me+=":"),de+=me+Pe.pathname,(he="object"==typeof Pe.query?W(Pe.query):Pe.query)&&(de+="?"!==he.charAt(0)?"?"+he:he),Pe.hash&&(de+=Pe.hash),de}},Ne.extractProtocol=G,Ne.location=B,Ne.trimLeft=Ie,Ne.qs=u,He.exports=Ne},2086:(He,We,R)=>{"use strict";var T=R(4764),u=R(1046),ae=R(6180),ie=R(6434),q=R(3);He.exports=function(V){return null==V||"object"!=typeof V&&"function"!=typeof V?null:T(V)?"String":u(V)?"Number":ae(V)?"Boolean":ie(V)?"Symbol":q(V)?"BigInt":void 0}},5709:(He,We,R)=>{"use strict";var T=R(3037),u=R(5271),ae=R(4263),ie=R(253),q=ae("Object.prototype.toString"),ce=R(3261)(),V=typeof globalThis>"u"?global:globalThis,j=u(),Ie=ae("String.prototype.slice"),K={},se=Object.getPrototypeOf;ce&&ie&&se&&T(j,function(G){if("function"==typeof V[G]){var Oe=new V[G];if(Symbol.toStringTag in Oe){var Ne=se(Oe),ge=ie(Ne,Symbol.toStringTag);if(!ge){var z=se(Ne);ge=ie(z,Symbol.toStringTag)}K[G]=ge.get}}});var $=R(7673);He.exports=function(Oe){return!!$(Oe)&&(ce&&Symbol.toStringTag in Oe?function(Oe){var Ne=!1;return T(K,function(ge,z){if(!Ne)try{var W=ge.call(Oe);W===z&&(Ne=W)}catch{}}),Ne}(Oe):Ie(q(Oe),8,-1))}},863:(He,We,R)=>{var T={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function u(ae){if(!R.o(T,ae))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+ae+"'");throw ce.code="MODULE_NOT_FOUND",ce});var ie=T[ae],q=ie[0];return Promise.all(ie.slice(1).map(R.e)).then(()=>R(q))}u.keys=()=>Object.keys(T),u.id=863,He.exports=u},4654:()=>{},5271:He=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?global:globalThis;He.exports=function(){for(var u=[],ae=0;ae<We.length;ae++)"function"==typeof R[We[ae]]&&(u[u.length]=We[ae]);return u}},2069:(He,We,R)=>{"use strict";var T=R(9102);if(R(524)()||R(6858)()){var u=Symbol.iterator;He.exports=function(xe){return null!=xe&&typeof xe[u]<"u"?xe[u]():T(xe)?Array.prototype[u].call(xe):void 0}}else{var ae=R(8266),ie=R(4764),q=R(9903),ce=q("%Map%",!0),V=q("%Set%",!0),j=R(4263),Ie=j("Array.prototype.push"),K=j("String.prototype.charCodeAt"),se=j("String.prototype.slice"),$=function(xe){var Ue=0;return{next:function(){var X,$e=Ue>=xe.length;return $e||(X=xe[Ue],Ue+=1),{done:$e,value:X}}}},G=function(xe,Ue){if(ae(xe)||T(xe))return $(xe);if(ie(xe)){var Fe=0;return{next:function(){var X=function(xe,Ue){if(Ue+1>=xe.length)return Ue+1;var $e=K(xe,Ue);if($e<55296||$e>56319)return Ue+1;var X=K(xe,Ue+1);return X<56320||X>57343?Ue+1:Ue+2}(xe,Fe),ze=se(xe,Fe,X);return Fe=X,{done:X>xe.length,value:ze}}}}return Ue&&typeof xe["_es6-shim iterator_"]<"u"?xe["_es6-shim iterator_"]():void 0};if(ce||V){var Oe=R(9898),Ne=R(3870),ge=j("Map.prototype.forEach",!0),z=j("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var W=j("Map.prototype.iterator",!0),he=j("Set.prototype.iterator",!0),Pe=function(Me){var xe=!1;return{next:function(){try{return{done:xe,value:xe?void 0:Me.next()}}catch{return xe=!0,{done:!0,value:void 0}}}}};var me=j("Map.prototype.@@iterator",!0)||j("Map.prototype._es6-shim iterator_",!0),ot=j("Set.prototype.@@iterator",!0)||j("Set.prototype._es6-shim iterator_",!0);He.exports=function(xe){return function(xe){if(Oe(xe)){if(W)return Pe(W(xe));if(me)return me(xe);if(ge){var Ue=[];return ge(xe,function($e,X){Ie(Ue,[X,$e])}),$(Ue)}}if(Ne(xe)){if(he)return Pe(he(xe));if(ot)return ot(xe);if(z){var Fe=[];return z(xe,function($e){Ie(Fe,$e)}),$(Fe)}}}(xe)||G(xe)}}else He.exports=function(xe){if(null!=xe)return G(xe,!0)}}},2107:(He,We,R)=>{"use strict";var T=R(9898),u=R(3870),ae=R(5585),ie=R(1902);He.exports=function(ce){if(ce&&"object"==typeof ce){if(T(ce))return"Map";if(u(ce))return"Set";if(ae(ce))return"WeakMap";if(ie(ce))return"WeakSet"}return!1}},3918:(He,We,R)=>{"use strict";function T(ae,ie,q,ce,V,j,Ie){try{var K=ae[j](Ie),se=K.value}catch(B){return void q(B)}K.done?ie(se):Promise.resolve(se).then(ce,V)}function u(ae){return function(){var ie=this,q=arguments;return new Promise(function(ce,V){var j=ae.apply(ie,q);function Ie(se){T(j,ce,V,Ie,K,"next",se)}function K(se){T(j,ce,V,Ie,K,"throw",se)}Ie(void 0)})}}R.d(We,{Z:()=>u})}},He=>{He(He.s=2147)}]);
//# sourceMappingURL=main.e964f566ac4547d0.js.map