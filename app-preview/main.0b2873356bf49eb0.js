(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4701:(Fe,je,R)=>{"use strict";function k(t){return"function"==typeof t}function d(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ne=d(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ee(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class W{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(k(r))try{r()}catch(i){n=i instanceof ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{G(i)}catch(s){n=n??[],s instanceof ne?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ne(n)}}add(n){var e;if(n&&n!==this)if(this.closed)G(n);else{if(n instanceof W){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ee(e,n)}remove(n){const{_finalizers:e}=this;e&&ee(e,n),n instanceof W&&n._removeParent(this)}}W.EMPTY=(()=>{const t=new W;return t.closed=!0,t})();const Y=W.EMPTY;function j(t){return t instanceof W||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function G(t){k(t)?t():t.unsubscribe()}const ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},q={setTimeout(t,n,...e){const{delegate:r}=q;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=q;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function te(t){q.setTimeout(()=>{const{onUnhandledError:n}=ge;if(!n)throw t;n(t)})}function $(){}const O=X("C",void 0,void 0);function X(t,n,e){return{kind:t,value:n,error:e}}let ye=null;function me(t){if(ge.useDeprecatedSynchronousErrorHandling){const n=!ye;if(n&&(ye={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ye;if(ye=null,e)throw r}}else t()}class le extends W{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,j(n)&&n.add(this)):this.destination=Oe}static create(n,e,r){return new he(n,e,r)}next(n){this.isStopped?$e(function ke(t){return X("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?$e(function V(t){return X("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?$e(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function ce(t,n){return xe.call(t,n)}class ze{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){be(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){be(r)}else be(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){be(e)}}}class he extends le{constructor(n,e,r){let o;if(super(),k(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&ge.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ce(n.next,i),error:n.error&&ce(n.error,i),complete:n.complete&&ce(n.complete,i)}):o=n}this.destination=new ze(o)}}function be(t){ge.useDeprecatedSynchronousErrorHandling?function oe(t){ge.useDeprecatedSynchronousErrorHandling&&ye&&(ye.errorThrown=!0,ye.error=t)}(t):te(t)}function $e(t,n){const{onStoppedNotification:e}=ge;e&&q.setTimeout(()=>e(t,n))}const Oe={closed:!0,next:$,error:function De(t){throw t},complete:$},Ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function K(t){return t}let at=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function L(t){return t&&t instanceof le||function Be(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}(t)&&j(t)}(e)?e:new he(e,r,o);return me(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=It(r))((o,i)=>{const s=new he({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Ie](){return this}pipe(...e){return function We(t){return 0===t.length?K:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}(e)(this)}toPromise(e){return new(e=It(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function It(t){var n;return null!==(n=t??ge.Promise)&&void 0!==n?n:Promise}const B=d(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new fe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new B}next(e){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Y:(this.currentObservers=null,i.push(e),new W(()=>{this.currentObservers=null,ee(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return t.create=(n,e)=>new fe(n,e),t})();class fe extends z{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:Y}}function Me(t){return k(t?.lift)}function Re(t){return n=>{if(Me(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,n,e,r,o){return new Xe(t,n,e,r,o)}class Xe extends le{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function tt(t,n){return Re((e,r)=>{let o=0;e.subscribe(nt(r,i=>{r.next(t.call(n,i,o++))}))})}function pe(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Yn(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(_){s(_)}}function c(y){try{f(r.throw(y))}catch(_){s(_)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}function sr(t){return this instanceof sr?(this.v=t,this):new sr(t)}function Xn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(I){r[I]&&(o[I]=function(x){return new Promise(function(Q,Te){i.push([I,x,Q,Te])>1||a(I,x)})})}function a(I,x){try{!function c(I){I.value instanceof sr?Promise.resolve(I.value.v).then(f,y):_(i[0][2],I)}(r[I](x))}catch(Q){_(i[0][3],Q)}}function f(I){a("next",I)}function y(I){a("throw",I)}function _(I,x){I(x),i.shift(),i.length&&a(i[0][0],i[0][1])}}function $r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Gn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const un=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function wn(t){return k(t?.then)}function Ot(t){return k(t[Ie])}function on(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function tr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kn=function Yt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ar(t){return k(t?.[Kn])}function Vt(t){return Xn(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield sr(e.read());if(o)return yield sr(void 0);yield yield sr(r)}}finally{e.releaseLock()}})}function nr(t){return k(t?.getReader)}function S(t){if(t instanceof at)return t;if(null!=t){if(Ot(t))return function Mt(t){return new at(n=>{const e=t[Ie]();if(k(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(un(t))return function hr(t){return new at(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(wn(t))return function M(t){return new at(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,te)})}(t);if(on(t))return ao(t);if(ar(t))return function Pr(t){return new at(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(nr(t))return function lo(t){return ao(Vt(t))}(t)}throw tr(t)}function ao(t){return new at(n=>{(function Ro(t,n){var e,r,o,i;return Yn(this,void 0,void 0,function*(){try{for(e=$r(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function vr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Gt(t,n,e=1/0){return k(n)?Gt((r,o)=>tt((i,s)=>n(r,i,o,s))(S(t(r,o))),e):("number"==typeof n&&(e=n),Re((r,o)=>function Io(t,n,e,r,o,i,s,a){const c=[];let f=0,y=0,_=!1;const I=()=>{_&&!c.length&&!f&&n.complete()},x=Te=>f<r?Q(Te):c.push(Te),Q=Te=>{i&&n.next(Te),f++;let Ke=!1;S(e(Te,y++)).subscribe(nt(n,He=>{o?.(He),i?x(He):n.next(He)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(f--;c.length&&f<r;){const He=c.shift();s?vr(n,s,()=>Q(He)):Q(He)}I()}catch(He){n.error(He)}}))};return t.subscribe(nt(n,x,()=>{_=!0,I()})),()=>{a?.()}}(r,o,t,e)))}function eo(t=1/0){return Gt(K,t)}const rr=new at(t=>t.complete());function Go(t){return t&&k(t.schedule)}function qt(t){return t[t.length-1]}function yo(t){return k(qt(t))?t.pop():void 0}function D(t){return Go(qt(t))?t.pop():void 0}function Br(t,n=0){return Re((e,r)=>{e.subscribe(nt(r,o=>vr(r,t,()=>r.next(o),n),()=>vr(r,t,()=>r.complete(),n),o=>vr(r,t,()=>r.error(o),n)))})}function si(t,n=0){return Re((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Xi(t,n){if(!t)throw new Error("Iterable cannot be null");return new at(e=>{vr(e,n,()=>{const r=t[Symbol.asyncIterator]();vr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Wn(t,n){return n?function xi(t,n){if(null!=t){if(Ot(t))return function ai(t,n){return S(t).pipe(si(n),Br(n))}(t,n);if(un(t))return function Mo(t,n){return new at(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(wn(t))return function Fo(t,n){return S(t).pipe(si(n),Br(n))}(t,n);if(on(t))return Xi(t,n);if(ar(t))return function Vr(t,n){return new at(e=>{let r;return vr(e,n,()=>{r=t[Kn](),vr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}(t,n);if(nr(t))return function zo(t,n){return Xi(Vt(t),n)}(t,n)}throw tr(t)}(t,n):S(t)}function Wo(...t){const n=D(t),e=function Zr(t,n){return"number"==typeof qt(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?S(r[0]):eo(e)(Wn(r,n)):rr}function vi(t={}){const{connector:n=(()=>new z),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,f=0,y=!1,_=!1;const I=()=>{a?.unsubscribe(),a=void 0},x=()=>{I(),s=c=void 0,y=_=!1},Q=()=>{const Te=s;x(),Te?.unsubscribe()};return Re((Te,Ke)=>{f++,!_&&!y&&I();const He=c=c??n();Ke.add(()=>{f--,0===f&&!_&&!y&&(a=qo(Q,o))}),He.subscribe(Ke),!s&&f>0&&(s=new he({next:st=>He.next(st),error:st=>{_=!0,I(),a=qo(x,e,st),He.error(st)},complete:()=>{y=!0,I(),a=qo(x,r),He.complete()}}),S(Te).subscribe(s))})(i)}}function qo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new he({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function On(t){for(let n in t)if(t[n]===On)return n;throw Error("Could not find renamed property on target object.")}function Zo(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Vn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Vn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function _i(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Qi=On({__forward_ref__:On});function T(t){return t.__forward_ref__=T,t.toString=function(){return Vn(this())},t}function N(t){return se(t)?t():t}function se(t){return"function"==typeof t&&t.hasOwnProperty(Qi)&&t.__forward_ref__===T}class P extends Error{constructor(n,e){super(function Z(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function zt(t,n){throw new P(-201,!1)}function Fr(t,n){null==t&&function Nn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zs(t){return ll(t,Ri)||ll(t,Ir)}function ll(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ss(t){return t&&(t.hasOwnProperty(Hr)||t.hasOwnProperty(vo))?t[Hr]:null}const Ri=On({\u0275prov:On}),Hr=On({\u0275inj:On}),Ir=On({ngInjectableDef:On}),vo=On({ngInjectorDef:On});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let Es;function Oo(t){const n=Es;return Es=t,n}function Ys(t,n,e){const r=Zs(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Ht.Optional?null:void 0!==n?n:void zt(Vn(t))}function Rn(t){return{toString:t}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),h=(()=>{return(t=h||(h={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",h;var t})();const v=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),g={},w=[],E=On({\u0275cmp:On}),F=On({\u0275dir:On}),U=On({\u0275pipe:On}),ae=On({\u0275mod:On}),Ze=On({\u0275fac:On}),mt=On({__NG_ELEMENT_ID__:On});let ut=0;function ue(t){return Rn(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||w,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||h.Emulated,id:"c"+ut++,styles:t.styles||w,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=Je(t.inputs,r),o.outputs=Je(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(_t).filter(tn):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Ln).filter(tn):null,o})}function _t(t){return At(t)||cr(t)}function tn(t){return null!==t}const xn={};function qe(t){return Rn(()=>{const n={type:t.type,bootstrap:t.bootstrap||w,declarations:t.declarations||w,imports:t.imports||w,exports:t.exports||w,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(xn[t.id]=t.type),n})}function Je(t,n){if(null==t)return g;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const Ve=ue;function sn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[E]||null}function cr(t){return t[F]||null}function Ln(t){return t[U]||null}function Ko(t,n){const e=t[ae]||null;if(!e&&!0===n)throw new Error(`Type ${Vn(t)} does not have '\u0275mod' property.`);return e}function No(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ci(t){return Array.isArray(t)&&!0===t[1]}function Wl(t){return 0!=(8&t.flags)}function fl(t){return 2==(2&t.flags)}function pl(t){return 1==(1&t.flags)}function Si(t){return null!==t.template}function Gd(t){return 0!=(256&t[2])}function Ts(t,n){return t.hasOwnProperty(Ze)?t[Ze]:null}class qd{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function bo(){return ou}function ou(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yd),Zd}function Zd(){const t=su(this),n=t?.current;if(n){const e=t.previous;if(e===g)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Yd(t,n,e,r){const o=su(t)||function Kd(t,n){return t[iu]=n}(t,{previous:g,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new qd(c&&c.currentValue,n,s===g),t[r]=n}bo.ngInherit=!0;const iu="__ngSimpleChanges__";function su(t){return t[iu]||null}function jr(t){for(;Array.isArray(t);)t=t[0];return t}function hl(t,n){return jr(n[t])}function ui(t,n){return jr(n[t.index])}function Xl(t,n){return t.data[n]}function ea(t,n){return t[n]}function Qo(t,n){const e=n[t];return No(e)?e:e[0]}function au(t){return 4==(4&t[2])}function Ql(t){return 64==(64&t[2])}function ls(t,n){return null==n?null:t[n]}function lu(t){t[18]=0}function Jl(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const pn={lFrame:Ne(null),bindingsEnabled:!0};function Uh(){return pn.bindingsEnabled}function it(){return pn.lFrame.lView}function Hn(){return pn.lFrame.tView}function Nt(t){return pn.lFrame.contextLView=t,t[8]}function nn(t){return pn.lFrame.contextLView=null,t}function an(){let t=sf();for(;null!==t&&64===t.type;)t=t.parent;return t}function sf(){return pn.lFrame.currentTNode}function Ji(t,n){const e=pn.lFrame;e.currentTNode=t,e.isParent=n}function uu(){return pn.lFrame.isParent}function du(){pn.lFrame.isParent=!1}function Ur(){return pn.lFrame.bindingIndex++}function Or(t){const n=pn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Nr(t,n){const e=pn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Kt(n)}function Kt(t){pn.lFrame.currentDirectiveIndex=t}function m(){return pn.lFrame.currentQueryIndex}function b(t){pn.lFrame.currentQueryIndex=t}function A(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function H(t,n,e){if(e&Ht.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Ht.Host||(o=A(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=pn.lFrame=Ee();return r.currentTNode=n,r.lView=t,!0}function _e(t){const n=Ee(),e=t[1];pn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Ee(){const t=pn.lFrame,n=null===t?null:t.child;return null===n?Ne(t):n}function Ne(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function yt(){const t=pn.lFrame;return pn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xt=yt;function Dn(){const t=yt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pt(){return pn.lFrame.selectedIndex}function _n(t){pn.lFrame.selectedIndex=t}function kn(){const t=pn.lFrame;return Xl(t.tView,t.selectedIndex)}function ei(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:y}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=y&&(t.destroyHooks||(t.destroyHooks=[])).push(e,y)}}function Lr(t,n,e){k_(t,n,3,e)}function af(t,n,e,r){(3&t[2])===e&&k_(t,n,e,r)}function zh(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function k_(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(zM(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function zM(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class fu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function lf(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];A_(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function T_(t){return 3===t||4===t||6===t}function A_(t){return 64===t.charCodeAt(0)}function cf(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||x_(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function x_(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function P_(t){return-1!==t}function tc(t){return 32767&t}function nc(t,n){let e=function KM(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let qh=!0;function uf(t){const n=qh;return qh=t,n}let XM=0;const As={};function hu(t,n){const e=Yh(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Zh(r.data,t),Zh(n,null),Zh(r.blueprint,null));const o=df(t,n),i=t.injectorIndex;if(P_(o)){const s=tc(o),a=nc(o,n),c=a[1].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|c[s+f]}return n[i+8]=o,i}function Zh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Yh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function df(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=H_(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function ff(t,n,e){!function QM(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(mt)&&(r=e[mt]),null==r&&(r=e[mt]=XM++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function O_(t,n,e){if(e&Ht.Optional)return t;zt()}function N_(t,n,e,r){if(e&Ht.Optional&&void 0===r&&(r=null),0==(e&(Ht.Self|Ht.Host))){const o=t[9],i=Oo(void 0);try{return o?o.get(n,r,e&Ht.Optional):Ys(n,r,e&Ht.Optional)}finally{Oo(i)}}return O_(r,0,e)}function L_(t,n,e,r=Ht.Default,o){if(null!==t){if(1024&n[2]){const s=function rk(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=$_(i,s,e,r|Ht.Self,As);if(a!==As)return a;let c=i.parent;if(!c){const f=s[21];if(f){const y=f.get(e,As,r);if(y!==As)return y}c=H_(s),s=s[15]}i=c}return o}(t,n,e,r,As);if(s!==As)return s}const i=$_(t,n,e,r,As);if(i!==As)return i}return N_(n,e,r,o)}function $_(t,n,e,r,o){const i=function tk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mt)?t[mt]:void 0;return"number"==typeof n?n>=0?255&n:nk:n}(e);if("function"==typeof i){if(!H(n,t,r))return r&Ht.Host?O_(o,0,r):N_(n,e,r,o);try{const s=i(r);if(null!=s||r&Ht.Optional)return s;zt()}finally{Xt()}}else if("number"==typeof i){let s=null,a=Yh(t,n),c=-1,f=r&Ht.Host?n[16][6]:null;for((-1===a||r&Ht.SkipSelf)&&(c=-1===a?df(t,n):n[a+8],-1!==c&&V_(r,!1)?(s=n[1],a=tc(c),n=nc(c,n)):a=-1);-1!==a;){const y=n[1];if(B_(i,a,y.data)){const _=ek(a,n,e,s,r,f);if(_!==As)return _}c=n[a+8],-1!==c&&V_(r,n[1].data[a+8]===f)&&B_(i,a,n)?(s=y,a=tc(c),n=nc(c,n)):a=-1}}return o}function ek(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],y=pf(a,s,e,null==r?fl(a)&&qh:r!=s&&0!=(3&a.type),o&Ht.Host&&i===a);return null!==y?mu(n,s,y,a):As}function pf(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,y=i>>20,I=o?a+y:t.directiveEnd;for(let x=r?a:a+y;x<I;x++){const Q=s[x];if(x<c&&e===Q||x>=c&&Q.type===e)return x}if(o){const x=s[c];if(x&&Si(x)&&x.type===e)return c}return null}function mu(t,n,e,r){let o=t[e];const i=n.data;if(function WM(t){return t instanceof fu}(o)){const s=o;s.resolving&&function Ye(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new P(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(i[e]));const a=uf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Oo(s.injectImpl):null;H(t,r,Ht.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function br(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=ou(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&Oo(c),uf(a),s.resolving=!1,Xt()}}return o}function B_(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function V_(t,n){return!(t&Ht.Self||t&Ht.Host&&n)}class rc{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return L_(this._tNode,this._lView,n,r,e)}}function nk(){return new rc(an(),it())}function $o(t){return Rn(()=>{const n=t.prototype.constructor,e=n[Ze]||Kh(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[Ze]||Kh(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Kh(t){return se(t)?()=>{const n=Kh(N(t));return n&&n()}:Ts(t)}function H_(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function gl(t){return function JM(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(T_(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(an(),t)}const ic="__parameters__";function ac(t,n,e){return Rn(()=>{const r=function Xh(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,y){const _=c.hasOwnProperty(ic)?c[ic]:Object.defineProperty(c,ic,{value:[]})[ic];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class rn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ik=new rn("AnalyzeForEntryComponents");function Fi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Fi(r,n)):n!==t&&n.push(r)}return n}function ta(t,n){t.forEach(e=>Array.isArray(e)?ta(e,n):n(e))}function U_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function hf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vu(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Oi(t,n,e){let r=lc(t,n);return r>=0?t[1|r]=e:(r=~r,function lk(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Jh(t,n){const e=lc(t,n);if(e>=0)return t[1|e]}function lc(t,n){return function W_(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const _u={},tm="__NG_DI_FLAG__",gf="ngTempTokenPath",gk=/\n/gm,q_="__source";let wu;function yf(t){const n=wu;return wu=t,n}function vk(t,n=Ht.Default){if(void 0===wu)throw new P(-203,!1);return null===wu?Ys(t,void 0,n):wu.get(t,n&Ht.Optional?null:void 0,n)}function we(t,n=Ht.Default){return(function Aa(){return Es}()||vk)(N(t),n)}function yl(t,n=Ht.Default){return we(t,n)}function nm(t){const n=[];for(let e=0;e<t.length;e++){const r=N(t[e]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let o,i=Ht.Default;for(let s=0;s<r.length;s++){const a=r[s],c=_k(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(we(o,i))}else n.push(we(r))}return n}function bu(t,n){return t[tm]=n,t.prototype[tm]=n,t}function _k(t){return t[tm]}const Oa=bu(ac("Optional"),8),Cu=bu(ac("SkipSelf"),4);let om,wf;function uc(t){var n;return(null===(n=function im(){if(void 0===wf&&(wf=null,v.trustedTypes))try{wf=v.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wf}())||void 0===n?void 0:n.createHTML(t))||t}class vl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fk extends vl{getTypeName(){return"HTML"}}class Ok extends vl{getTypeName(){return"Style"}}class Nk extends vl{getTypeName(){return"Script"}}class Lk extends vl{getTypeName(){return"URL"}}class $k extends vl{getTypeName(){return"ResourceURL"}}function Ni(t){return t instanceof vl?t.changingThisBreaksApplicationSecurity:t}function xs(t,n){const e=function Bk(t){return t instanceof vl&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class zk{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(uc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class Wk{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=uc(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=uc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Zk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Du(t){return(t=String(t)).match(Zk)||t.match(Yk)?t:"unsafe:"+t}function l0(t){return(t=String(t)).split(",").map(n=>Du(n.trim())).join(", ")}function Ps(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Iu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const c0=Ps("area,br,col,hr,img,wbr"),u0=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),d0=Ps("rp,rt"),am=Iu(c0,Iu(u0,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iu(d0,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iu(d0,u0)),lm=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cm=Ps("srcset"),f0=Iu(lm,cm,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kk=Ps("script,style,template");class Xk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!am.hasOwnProperty(e))return this.sanitizedSomething=!0,!Kk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!f0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;lm[a]&&(c=Du(c)),cm[a]&&(c=l0(c)),this.buf.push(" ",s,'="',p0(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();am.hasOwnProperty(e)&&!c0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(p0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Qk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jk=/([^\#-~ |!])/g;function p0(t){return t.replace(/&/g,"&amp;").replace(Qk,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Jk,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cf;function h0(t,n){let e=null;try{Cf=Cf||function a0(t){const n=new Wk(t);return function qk(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch{return!1}}()?new zk(n):n}(t);let r=n?String(n):"";e=Cf.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Cf.getInertBodyElement(r)}while(r!==i);return uc((new Xk).sanitizeChildren(um(e)||e))}finally{if(e){const r=um(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function um(t){return"content"in t&&function eT(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function pm(t){return t.ngOriginalError}class dc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&pm(n);for(;e&&pm(e);)e=pm(e);return e||null}}const hm=new Map;let gT=0;const gm="__ngContext__";function ti(t,n){No(n)?(t[gm]=n[20],function vT(t){hm.set(t[20],t)}(n)):t[gm]=n}function ku(t){const n=t[gm];return"number"==typeof n?function y0(t){return hm.get(t)||null}(n):n||null}function ym(t){const n=ku(t);return n?No(n)?n:n.lView:null}const MT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(v))();function na(t){return t instanceof Function?t():t}var Di=(()=>((Di=Di||{})[Di.Important=1]="Important",Di[Di.DashCase=2]="DashCase",Di))();function _m(t,n){return undefined(t,n)}function Tu(t){const n=t[3];return Ci(n)?n[3]:n}function wm(t){return D0(t[13])}function bm(t){return D0(t[4])}function D0(t){for(;null!==t&&!Ci(t);)t=t[4];return t}function pc(t,n,e,r,o){if(null!=r){let i,s=!1;Ci(r)?i=r:No(r)&&(s=!0,r=r[0]);const a=jr(r);0===t&&null!==e?null==o?x0(n,e,a):_l(n,e,a,o||null,!0):1===t&&null!==e?_l(n,e,a,o||null,!0):2===t?function $0(t,n,e){const r=Sf(t,n);r&&function GT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function qT(t,n,e,r,o){const i=e[7];i!==jr(e)&&pc(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Au(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function Sm(t,n,e){return t.createElement(n,e)}function M0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,Jl(o,-1)),e.splice(r,1)}function Em(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&M0(o,r),n>0&&(t[e-1][4]=r[4]);const i=hf(t,10+n);!function NT(t,n){Au(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function k0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Au(t,n,e,3,null,null),function BT(t){let n=t[13];if(!n)return Dm(t[1],t);for(;n;){let e=null;if(No(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)No(n)&&Dm(n[1],n),n=n[3];null===n&&(n=t),No(n)&&Dm(n[1],n),e=n&&n[4]}n=e}}(n)}}function Dm(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function UT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof fu)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function jT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):jr(n[s]),c=r[o=e[i+2]],f=e[i+3];"boolean"==typeof f?a.removeEventListener(e[i],c,f):f>=0?r[o=f]():r[o=-f].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&Ci(n[3])){e!==n[3]&&M0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function _T(t){hm.delete(t[20])}(n)}}function T0(t,n,e){return function A0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===h.None||o===h.Emulated)return null}return ui(r,e)}(t,n.parent,e)}function _l(t,n,e,r,o){t.insertBefore(n,e,r,o)}function x0(t,n,e){t.appendChild(n,e)}function P0(t,n,e,r,o){null!==r?_l(t,n,e,r,o):x0(t,n,e)}function Sf(t,n){return t.parentNode(n)}function R0(t,n,e){return O0(t,n,e)}let O0=function F0(t,n,e){return 40&t.type?ui(t,e):null};function Ef(t,n,e,r){const o=T0(t,r,n),i=n[11],a=R0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)P0(i,o,e[c],a,!1);else P0(i,o,e,a,!1)}function Df(t,n){if(null!==n){const e=n.type;if(3&e)return ui(n,t);if(4&e)return Mm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Df(t,r);{const o=t[n.index];return Ci(o)?Mm(-1,o):jr(o)}}if(32&e)return _m(n,t)()||jr(t[n.index]);{const r=L0(t,n);return null!==r?Array.isArray(r)?r[0]:Df(Tu(t[16]),r):Df(t,n.next)}}return null}function L0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Mm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return Df(r,o)}return n[7]}function km(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&ti(jr(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)km(t,n,e.child,r,o,i,!1),pc(n,t,o,a,i);else if(32&c){const f=_m(e,r);let y;for(;y=f();)pc(n,t,o,y,i);pc(n,t,o,a,i)}else 16&c?B0(t,n,r,e,o,i):pc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Au(t,n,e,r,o,i){km(e,r,t.firstChild,n,o,i,!1)}function B0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)pc(n,t,o,c[f],i);else km(t,n,c,s[3],o,i,!0)}function V0(t,n,e){t.setAttribute(n,"style",e)}function Tm(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function H0(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const j0="ng-template";function YT(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==H0(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function U0(t){return 4===t.type&&t.value!==j0}function KT(t,n,e){return n===(4!==t.type||e?t.value:j0)}function XT(t,n,e){let r=4;const o=t.attrs||[],i=function eA(t){for(let n=0;n<t.length;n++)if(T_(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!KT(t,c,e)||""===c&&1===n.length){if(cs(r))return!1;s=!0}}else{const f=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!YT(t.attrs,f,e)){if(cs(r))return!1;s=!0}continue}const _=QT(8&r?"class":c,o,U0(t),e);if(-1===_){if(cs(r))return!1;s=!0;continue}if(""!==f){let I;I=_>i?"":o[_+1].toLowerCase();const x=8&r?I:null;if(x&&-1!==H0(x,f,0)||2&r&&f!==I){if(cs(r))return!1;s=!0}}}}else{if(!s&&!cs(r)&&!cs(c))return!1;if(s&&cs(c))continue;s=!1,r=c|1&r}}return cs(r)||s}function cs(t){return 0==(1&t)}function QT(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function tA(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function G0(t,n,e=!1){for(let r=0;r<n.length;r++)if(XT(t,n[r],e))return!0;return!1}function nA(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function z0(t,n){return t?":not("+n.trim()+")":n}function rA(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!cs(s)&&(n+=z0(i,o),o=""),r=s,i=i||!cs(r);e++}return""!==o&&(n+=z0(i,o)),n}const In={};function pt(t){W0(Hn(),it(),Pt()+t,!1)}function W0(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&Lr(n,i,e)}else{const i=t.preOrderHooks;null!==i&&af(n,i,0,e)}_n(e)}const Am=new rn("ENVIRONMENT_INITIALIZER"),K0=new rn("INJECTOR_DEF_TYPES");function dA(...t){return{\u0275providers:X0(0,t)}}function X0(t,...n){const e=[],r=new Set;let o;return ta(n,i=>{const s=i;xm(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Q0(o,e),e}function Q0(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];ta(o,i=>{n.push(i)})}}function xm(t,n,e,r){if(!(t=N(t)))return!1;let o=null,i=Ss(t);const s=!i&&At(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=Ss(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)xm(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ta(i.imports,y=>{xm(y,n,e,r)&&(f||(f=[]),f.push(y))})}finally{}void 0!==f&&Q0(f,n)}if(!a){const f=Ts(o)||(()=>new o);n.push({provide:o,useFactory:f,deps:w},{provide:K0,useValue:o,multi:!0},{provide:Am,useValue:()=>we(o),multi:!0})}const c=i.providers;null==c||a||ta(c,y=>{n.push(y)})}}return o!==t&&void 0!==t.providers}const fA=On({provide:String,useValue:On});function Pm(t){return null!==t&&"object"==typeof t&&fA in t}function wl(t){return"function"==typeof t}const Rm=new rn("INJECTOR",-1);class tw{get(n,e=_u){if(e===_u){const r=new Error(`NullInjectorError: No provider for ${Vn(n)}!`);throw r.name="NullInjectorError",r}return e}}const Fm=new rn("Set Injector scope."),If={},hA={};let Om;function Nm(){return void 0===Om&&(Om=new tw),Om}class bl{}class nw extends bl{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(n,s=>this.processProvider(s)),this.records.set(Rm,hc(void 0,this)),o.has("environment")&&this.records.set(bl,hc(void 0,this));const i=this.records.get(Fm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(K0.multi,w,Ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,e=_u,r=Ht.Default){this.assertNotDestroyed();const o=yf(this),i=Oo(void 0);try{if(!(r&Ht.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function _A(t){return"function"==typeof t||"object"==typeof t&&t instanceof rn}(n)&&Zs(n);a=c&&this.injectableDefInScope(c)?hc(Lm(n),If):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Ht.Self?Nm():this.parent).get(n,e=r&Ht.Optional&&e===_u?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[gf]=s[gf]||[]).unshift(Vn(n)),o)throw s;return function wk(t,n,e,r){const o=t[gf];throw n[q_]&&o.unshift(n[q_]),t.message=function bk(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Vn(n);if(Array.isArray(n))o=n.map(Vn).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Vn(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(gk,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[gf]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{Oo(i),yf(o)}}resolveInjectorInitializers(){const n=yf(this),e=Oo(void 0);try{const r=this.get(Am.multi,w,Ht.Self);for(const o of r)o()}finally{yf(n),Oo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Vn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(n){let e=wl(n=N(n))?n:N(n&&n.provide);const r=function gA(t){return Pm(t)?hc(void 0,t.useValue):hc(rw(t),If)}(n);if(wl(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=hc(void 0,If,!0),o.factory=()=>nm(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===If&&(e.value=hA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function vA(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=N(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Lm(t){const n=Zs(t),e=null!==n?n.factory:Ts(t);if(null!==e)return e;if(t instanceof rn)throw new P(204,!1);if(t instanceof Function)return function mA(t){const n=t.length;if(n>0)throw vu(n,"?"),new P(204,!1);const e=function Cs(t){const n=t&&(t[Ri]||t[Ir]);if(n){const e=function as(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new P(204,!1)}function rw(t,n,e){let r;if(wl(t)){const o=N(t);return Ts(o)||Lm(o)}if(Pm(t))r=()=>N(t.useValue);else if(function ew(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...nm(t.deps||[]));else if(function J0(t){return!(!t||!t.useExisting)}(t))r=()=>we(N(t.useExisting));else{const o=N(t&&(t.useClass||t.provide));if(!function yA(t){return!!t.deps}(t))return Ts(o)||Lm(o);r=()=>new o(...nm(t.deps))}return r}function hc(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function wA(t){return!!t.\u0275providers}function $m(t,n){for(const e of t)Array.isArray(e)?$m(e,n):wA(e)?$m(e.\u0275providers,n):n(e)}function ow(t,n=null,e=null,r){const o=iw(t,n,e,r);return o.resolveInjectorInitializers(),o}function iw(t,n=null,e=null,r,o=new Set){const i=[e||w,dA(t)];return r=r||("object"==typeof t?void 0:Vn(t)),new nw(i,n||Nm(),r||null,o)}let gr=(()=>{class t{static create(e,r){if(Array.isArray(e))return ow({name:""},r,e,"");{var o;const i=null!==(o=e.name)&&void 0!==o?o:"";return ow({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=_u,t.NULL=new tw,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>we(Rm)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,n=Ht.Default){const e=it();return null===e?we(t,n):L_(an(),e,N(t),n)}function Um(){throw new Error("invalid")}function kf(t,n){return t<<17|n<<2}function us(t){return t>>17&32767}function qm(t){return 2|t}function ra(t){return(131068&t)>>2}function Zm(t,n){return-131069&t|n<<2}function Ym(t){return 1|t}function Dw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];b(o),s.contentQueries(2,n[i],i)}}}function xf(t,n,e,r,o,i,s,a,c,f,y){const _=n.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==y||t&&1024&t[2])&&(_[2]|=1024),lu(_),_[3]=_[15]=t,_[8]=e,_[10]=s||t&&t[10],_[11]=a||t&&t[11],_[12]=c||t&&t[12]||null,_[9]=f||t&&t[9]||null,_[6]=i,_[20]=function yT(){return gT++}(),_[21]=y,_[16]=2==n.type?t[16]:_,_}function gc(t,n,e,r,o){let i=t.data[n];if(null===i)i=function og(t,n,e,r,o){const i=sf(),s=uu(),c=t.data[n]=function JA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function Jo(){return pn.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function ml(){const t=pn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Ji(i,!0),i}function yc(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Pf(t,n,e){_e(n);try{const r=t.viewQuery;null!==r&&pg(1,r,e);const o=t.template;null!==o&&Iw(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Dw(t,n),t.staticViewQueries&&pg(2,t.viewQuery,e);const i=t.components;null!==i&&function YA(t,n){for(let e=0;e<n.length;e++)yx(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Dn()}}function xu(t,n,e,r){const o=n[2];if(128!=(128&o)){_e(n);try{lu(n),function fr(t){return pn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Iw(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&Lr(n,f,null)}else{const f=t.preOrderHooks;null!==f&&af(n,f,0,null),zh(n,0)}if(function mx(t){for(let n=wm(t);null!==n;n=bm(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&Jl(i,1),o[2]|=512}}}(n),function hx(t){for(let n=wm(t);null!==n;n=bm(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];Ql(r)&&xu(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&Dw(t,n),s){const f=t.contentCheckHooks;null!==f&&Lr(n,f)}else{const f=t.contentHooks;null!==f&&af(n,f,1),zh(n,1)}!function qA(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)_n(~o);else{const i=o,s=e[++r],a=e[++r];Nr(s,i),a(2,n[i])}}}finally{_n(-1)}}(t,n);const a=t.components;null!==a&&function ZA(t,n){for(let e=0;e<n.length;e++)gx(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&pg(2,c,r),s){const f=t.viewCheckHooks;null!==f&&Lr(n,f)}else{const f=t.viewHooks;null!==f&&af(n,f,2),zh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Jl(n[3],-1))}finally{Dn()}}}function KA(t,n,e,r){const o=n[10],s=au(n);try{!s&&o.begin&&o.begin(),s&&Pf(t,n,r),xu(t,n,e,r)}finally{!s&&o.end&&o.end()}}function Iw(t,n,e,r,o){const i=Pt(),s=2&r;try{_n(-1),s&&n.length>22&&W0(t,n,22,!1),e(r,o)}finally{_n(i)}}function Mw(t,n,e){if(Wl(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function ig(t,n,e){!Uh()||(function sx(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||hu(e,n),ti(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],f=Si(c);f&&dx(n,e,c);const y=mu(n,t,a,e);ti(y,n),null!==s&&fx(0,a-o,y,c,0,s),f&&(Qo(e.index,n)[8]=y)}}(t,n,e,ui(e,n)),128==(128&e.flags)&&function ax(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function Yr(){return pn.lFrame.currentDirectiveIndex}();try{_n(i);for(let a=r;a<o;a++){const c=t.data[a],f=n[a];Kt(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Pw(c,f)}}finally{_n(-1),Kt(s)}}(t,n,e))}function sg(t,n,e=ui){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function kw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ag(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ag(t,n,e,r,o,i,s,a,c,f){const y=22+r,_=y+o,I=function XA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:In);return e}(y,_),x="function"==typeof f?f():f;return I[1]={type:t,blueprint:I,template:e,queries:null,viewQuery:a,declTNode:n,data:I.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1}}function Tw(t,n,e,r){const o=Bw(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&Vw(t).push(r,o.length-1))}function Aw(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function lg(t,n,e,r){let o=!1;if(Uh()){const i=function lx(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];G0(e,s.selectors,!1)&&(o||(o=[]),ff(hu(e,n),t,s.type),Si(s)?(Rw(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,Fw(e,t.data.length,i.length);for(let y=0;y<i.length;y++){const _=i[y];_.providersResolver&&_.providersResolver(_)}let a=!1,c=!1,f=yc(t,n,i.length,null);for(let y=0;y<i.length;y++){const _=i[y];e.mergedAttrs=cf(e.mergedAttrs,_.hostAttrs),Ow(t,e,n,f,_),ux(f,_,s),null!==_.contentQueries&&(e.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=128);const I=_.type.prototype;!a&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function ex(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let f=n.directiveStart;f<r;f++){const y=o[f],_=y.inputs,I=null===i||U0(n)?null:px(_,i);s.push(I),a=Aw(_,f,a),c=Aw(y.outputs,f,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}(t,e)}s&&function cx(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new P(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=cf(e.mergedAttrs,e.attrs),o}function xw(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function ix(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function Pw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Rw(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function ux(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Si(n)&&(e[""]=t)}}function Fw(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Ow(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Ts(o.type)),s=new fu(i,Si(o),C);t.blueprint[r]=s,e[r]=s,xw(t,n,0,r,yc(t,e,o.hostVars,In),o)}function dx(t,n,e){const r=ui(n,t),o=kw(e),i=t[10],s=Rf(t,xf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Rs(t,n,e,r,o,i){const s=ui(t,n);!function cg(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?J(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function fx(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const f=s[c++],y=s[c++],_=s[c++];null!==a?r.setInput(e,_,f,y):e[y]=_}}}function px(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Nw(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function gx(t,n){const e=Qo(n,t);if(Ql(e)){const r=e[1];48&e[2]?xu(r,e,r.template,e[8]):e[5]>0&&ug(e)}}function ug(t){for(let r=wm(t);null!==r;r=bm(r))for(let o=10;o<r.length;o++){const i=r[o];if(512&i[2]){const s=i[1];xu(s,i,s.template,i[8])}else i[5]>0&&ug(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=Qo(e[r],t);Ql(o)&&o[5]>0&&ug(o)}}function yx(t,n){const e=Qo(n,t),r=e[1];(function vx(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Pf(r,e,e[8])}function Rf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function dg(t){for(;t;){t[2]|=32;const n=Tu(t);if(Gd(t)&&!n)return t;t=n}return null}function $w(t){!function Lw(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=ym(e);if(null!==r){const o=r[1];KA(o,r,o.template,e)}}}(t[8])}function pg(t,n,e){b(0),n(t,e)}const wx=(()=>Promise.resolve(null))();function Bw(t){return t[7]||(t[7]=[])}function Vw(t){return t.cleanup||(t.cleanup=[])}function jw(t,n){const e=t[9],r=e?e.get(dc,null):null;r&&r.handleError(n)}function Uw(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],f=t.data[s];null!==f.setInput?f.setInput(c,o,r,a):c[a]=o}}function oa(t,n,e){const r=hl(n,t);!function I0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function Ff(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=_i(o,a):2==i&&(r=_i(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function Ex(){const t=an();ei(it()[1],t)}function Zn(t){let n=function Gw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Si(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new P(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=hg(t.inputs),s.declaredInputs=hg(t.declaredInputs),s.outputs=hg(t.outputs);const a=o.hostBindings;a&&kx(t,a);const c=o.viewQuery,f=o.contentQueries;if(c&&Ix(t,c),f&&Mx(t,f),Zo(t.inputs,o.inputs),Zo(t.declaredInputs,o.declaredInputs),Zo(t.outputs,o.outputs),Si(o)&&o.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Zn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Dx(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=cf(o.hostAttrs,e=cf(e,o.hostAttrs))}}(r)}function hg(t){return t===g?{}:t===w?[]:t}function Ix(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function Mx(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function kx(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let Of=null;function Cl(){if(!Of){const t=v.Symbol;if(t&&t.iterator)Of=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Of=r)}}}return Of}function Pu(t){return!!function mg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Cl()in t)}function ni(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Os(t,n,e,r){const o=it();return ni(o,Ur(),n)&&(Hn(),Rs(kn(),o,t,n,e,r)),Os}function wc(t,n,e,r,o,i){const a=function Sl(t,n,e,r){const o=ni(t,n,e);return ni(t,n+1,r)||o}(t,function En(){return pn.lFrame.bindingIndex}(),e,o);return Or(2),a?n+J(e)+r+J(o)+i:In}function vn(t,n,e,r,o,i,s,a){const c=it(),f=Hn(),y=t+22,_=f.firstCreatePass?function Lx(t,n,e,r,o,i,s,a,c){const f=n.consts,y=gc(n,t,4,s||null,ls(f,a));lg(n,e,y,ls(f,c)),ei(n,y);const _=y.tViews=ag(2,y,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,y),_.queries=n.queries.embeddedTView(y)),y}(y,f,c,n,e,r,o,i,s):f.data[y];Ji(_,!1);const I=c[11].createComment("");Ef(f,c,I,_),ti(I,c),Rf(c,c[y]=Nw(I,c,I,_)),pl(_)&&ig(f,c,_),null!=s&&sg(c,_,a)}function $i(t){return ea(function ko(){return pn.lFrame.contextLView}(),22+t)}function gt(t,n,e){const r=it();return ni(r,Ur(),n)&&function Li(t,n,e,r,o,i,s,a){const c=ui(n,e);let y,f=n.inputs;!a&&null!=f&&(y=f[r])?(Uw(t,e,y,r,o),fl(n)&&function nx(t,n){const e=Qo(n,t);16&e[2]||(e[2]|=32)}(e,n.index)):3&n.type&&(r=function tx(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}(Hn(),kn(),r,t,n,r[11],e,!1),gt}function gg(t,n,e,r,o){const s=o?"class":"style";Uw(t,e,n.inputs[s],s,r)}function ve(t,n,e,r){const o=it(),i=Hn(),s=22+t,a=o[11],c=o[s]=Sm(a,n,function uo(){return pn.lFrame.currentNamespace}()),f=i.firstCreatePass?function Bx(t,n,e,r,o,i,s){const a=n.consts,f=gc(n,t,2,o,ls(a,i));return lg(n,e,f,ls(a,s)),null!==f.attrs&&Ff(f,f.attrs,!1),null!==f.mergedAttrs&&Ff(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(s,i,o,0,n,e,r):i.data[s];Ji(f,!0);const y=f.mergedAttrs;null!==y&&lf(a,c,y);const _=f.classes;null!==_&&Tm(a,c,_);const I=f.styles;return null!==I&&V0(a,c,I),64!=(64&f.flags)&&Ef(i,o,c,f),0===function rf(){return pn.lFrame.elementDepthCount}()&&ti(c,o),function jh(){pn.lFrame.elementDepthCount++}(),pl(f)&&(ig(i,o,f),Mw(i,f,o)),null!==r&&sg(o,f),ve}function de(){let t=an();uu()?du():(t=t.parent,Ji(t,!1));const n=t;!function M_(){pn.lFrame.elementDepthCount--}();const e=Hn();return e.firstCreatePass&&(ei(e,t),Wl(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ZM(t){return 0!=(16&t.flags)}(n)&&gg(e,n,it(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function YM(t){return 0!=(32&t.flags)}(n)&&gg(e,n,it(),n.stylesWithoutHost,!1),de}function wt(t,n,e,r){return ve(t,n,e,r),de(),wt}function Lf(t,n,e){const r=it(),o=Hn(),i=t+22,s=o.firstCreatePass?function Vx(t,n,e,r,o){const i=n.consts,s=ls(i,r),a=gc(n,t,8,"ng-container",s);return null!==s&&Ff(a,s,!0),lg(n,e,a,ls(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];Ji(s,!0);const a=r[i]=r[11].createComment("");return Ef(o,r,a,s),ti(a,r),pl(s)&&(ig(o,r,s),Mw(o,s,r)),null!=e&&sg(r,s),Lf}function $f(){let t=an();const n=Hn();return uu()?du():(t=t.parent,Ji(t,!1)),n.firstCreatePass&&(ei(n,t),Wl(t)&&n.queries.elementEnd(t)),$f}function Ar(){return it()}function Fu(t){return!!t&&"function"==typeof t.then}function eb(t){return!!t&&"function"==typeof t.subscribe}const yg=eb;function lt(t,n,e,r){const o=it(),i=Hn(),s=an();return function nb(t,n,e,r,o,i,s,a){const c=pl(r),y=t.firstCreatePass&&Vw(t),_=n[8],I=Bw(n);let x=!0;if(3&r.type||a){const Ke=ui(r,n),He=a?a(Ke):Ke,st=I.length,Ae=a?Lt=>a(jr(Lt[r.index])):r.index;let vt=null;if(!a&&c&&(vt=function Hx(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=i,vt.__ngLastListenerFn__=i,x=!1;else{i=ob(r,n,_,i,!1);const Lt=e.listen(He,o,i);I.push(i,Lt),y&&y.push(o,Ae,st,st+1)}}else i=ob(r,n,_,i,!1);const Q=r.outputs;let Te;if(x&&null!==Q&&(Te=Q[o])){const Ke=Te.length;if(Ke)for(let He=0;He<Ke;He+=2){const Cn=n[Te[He]][Te[He+1]].subscribe(i),Po=I.length;I.push(i,Cn),y&&y.push(o,r.index,Po,-(Po+1))}}}(i,o,o[11],s,t,n,0,r),lt}function rb(t,n,e,r){try{return!1!==e(r)}catch(o){return jw(t,o),!1}}function ob(t,n,e,r,o){return function i(s){if(s===Function)return r;dg(2&t.flags?Qo(t.index,n):n);let c=rb(n,0,r,s),f=i.__ngNextListenerFn__;for(;f;)c=rb(n,0,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Jt(t=1){return function jn(t){return(pn.lFrame.contextLView=function Zt(t,n){for(;t>0;)n=n[15],t--;return n}(t,pn.lFrame.contextLView))[8]}(t)}function jx(t,n){let e=null;const r=function JT(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?G0(t,i,!0):nA(r,i))return o}else e=o}return e}function Et(t){const n=it()[16][6];if(!n.projection){const r=n.projection=vu(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?jx(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function St(t,n=0,e){const r=it(),o=Hn(),i=gc(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),du(),64!=(64&i.flags)&&function WT(t,n,e){B0(n[11],0,n,e,T0(t,e,n),R0(e.parent||n[6],e,n))}(o,r,i)}function hb(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?us(i):ra(i),c=!1;for(;0!==a&&(!1===c||s);){const y=t[a+1];zx(t[a],n)&&(c=!0,t[a+1]=r?Ym(y):qm(y)),a=r?us(y):ra(y)}c&&(t[e+1]=r?qm(i):Ym(i))}function zx(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&lc(t,n)>=0}function Ou(t,n,e){return ds(t,n,e,!1),Ou}function $a(t,n){return ds(t,n,null,!0),$a}function ds(t,n,e,r){const o=it(),i=Hn(),s=Or(2);i.firstUpdatePass&&function Cb(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Pt()],s=function bb(t,n){return n>=t.expandoStartIndex}(t,e);(function Ib(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function eP(t,n,e,r){const o=function l(t){const n=pn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Nu(e=_g(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=_g(o,t,n,e,r),null===i){let c=function tP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ra(r))return t[us(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=_g(null,t,n,c[1],r),c=Nu(c,n.attrs,r),function nP(t,n,e,r){t[us(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function rP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Nu(r,t[i].hostAttrs,e);return Nu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function Ux(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=us(s),c=ra(s);t[r]=e;let y,f=!1;if(Array.isArray(e)){const _=e;y=_[1],(null===y||lc(_,y)>0)&&(f=!0)}else y=e;if(o)if(0!==c){const I=us(t[a+1]);t[r+1]=kf(I,a),0!==I&&(t[I+1]=Zm(t[I+1],r)),t[a+1]=function LA(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=kf(a,0),0!==a&&(t[a+1]=Zm(t[a+1],r)),a=r;else t[r+1]=kf(c,0),0===a?a=r:t[c+1]=Zm(t[c+1],r),c=r;f&&(t[r+1]=qm(t[r+1])),hb(t,y,r,!0),hb(t,y,r,!1),function Gx(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&lc(i,n)>=0&&(e[r+1]=Ym(e[r+1]))}(n,y,t,r,i),s=kf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==In&&ni(o,s,n)&&function Eb(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,f=c[a+1];Vf(function yw(t){return 1==(1&t)}(f)?Db(c,n,e,o,ra(f),s):void 0)||(Vf(i)||function gw(t){return 2==(2&t)}(f)&&(i=Db(c,null,e,o,a,s)),function ZT(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Di.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Di.Important),t.setStyle(e,r,o,i))}}(r,s,hl(Pt(),e),o,i))}(i,i.data[Pt()],o,o[11],t,o[s+1]=function sP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Vn(Ni(t)))),t}(n,e),r,s)}function _g(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Nu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Nu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oi(t,s,!!e||n[++i]))}return void 0===t?null:t}function Db(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],f=Array.isArray(c),y=f?c[1]:c,_=null===y;let I=e[o+1];I===In&&(I=_?w:void 0);let x=_?Jh(I,r):y===r?I:void 0;if(f&&!Vf(x)&&(x=Jh(c,r)),Vf(x)&&(a=x,s))return a;const Q=t[o+1];o=s?us(Q):ra(Q)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=Jh(c,r))}return a}function Vf(t){return void 0!==t}function rt(t,n=""){const e=it(),r=Hn(),o=t+22,i=r.firstCreatePass?gc(r,o,1,n,null):r.data[o],s=e[o]=function Cm(t,n){return t.createText(n)}(e[11],n);Ef(r,e,s,i),Ji(i,!1)}function ps(t){return Ii("",t,""),ps}function Ii(t,n,e){const r=it(),o=function _c(t,n,e,r){return ni(t,Ur(),e)?n+J(e)+r:In}(r,t,n,e);return o!==In&&oa(r,Pt(),o),Ii}function Hf(t,n,e,r,o){const i=it(),s=wc(i,t,n,e,r,o);return s!==In&&oa(i,Pt(),s),Hf}const Tc="en-US";let qb=Tc;function Cg(t,n,e,r,o){if(t=N(t),Array.isArray(t))for(let i=0;i<t.length;i++)Cg(t[i],n,e,r,o);else{const i=Hn(),s=it();let a=wl(t)?t:N(t.provide),c=rw(t);const f=an(),y=1048575&f.providerIndexes,_=f.directiveStart,I=f.providerIndexes>>20;if(wl(t)||!t.multi){const x=new fu(c,o,C),Q=Eg(a,n,o?y:y+I,_);-1===Q?(ff(hu(f,s),i,a),Sg(i,t,n.length),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(x),s.push(x)):(e[Q]=x,s[Q]=x)}else{const x=Eg(a,n,y+I,_),Q=Eg(a,n,y,y+I),Te=x>=0&&e[x],Ke=Q>=0&&e[Q];if(o&&!Ke||!o&&!Te){ff(hu(f,s),i,a);const He=function ER(t,n,e,r,o){const i=new fu(t,e,C);return i.multi=[],i.index=n,i.componentProviders=0,vC(i,o,r&&!e),i}(o?SR:CR,e.length,o,r,c);!o&&Ke&&(e[Q].providerFactory=He),Sg(i,t,n.length,0),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(He),s.push(He)}else Sg(i,t,x>-1?x:Q,vC(e[o?Q:x],c,!o&&r));!o&&r&&Ke&&e[Q].componentProviders++}}}function Sg(t,n,e,r){const o=wl(n),i=function pA(t){return!!t.useClass}(n);if(o||i){const c=(i?N(n.useClass):n).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const y=f.indexOf(e);-1===y?f.push(e,[r,c]):f[y+1].push(r,c)}else f.push(e,c)}}}function vC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Eg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function CR(t,n,e,r){return Dg(this.multi,[])}function SR(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=mu(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),Dg(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Dg(o,i);return i}function Dg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function pr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function bR(t,n,e){const r=Hn();if(r.firstCreatePass){const o=Si(t);Cg(e,r.data,r.blueprint,o,!0),Cg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class IR{resolveComponentFactory(n){throw function DR(t){const n=Error(`No component factory found for ${Vn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ia=(()=>{class t{}return t.NULL=new IR,t})();class Ba{}class wC{}class bC{}function kR(){return xc(an(),it())}function xc(t,n){return new ct(ui(t,n))}let ct=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=kR,t})();function TR(t){return t instanceof ct?t.nativeElement:t}class CC{}let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function AR(){const t=it(),e=Qo(an().index,t);return(No(e)?e:t)[11]}(),t})(),xR=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class Hu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const PR=new Hu("14.0.6"),Ig={};function Wf(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(jr(i)),Ci(i))for(let a=10;a<i.length;a++){const c=i[a],f=c[1].firstChild;null!==f&&Wf(c[1],c,f,r)}const s=e.type;if(8&s)Wf(t,n,e.child,r);else if(32&s){const a=_m(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=L0(n,e);if(Array.isArray(a))r.push(...a);else{const c=Tu(n[16]);Wf(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class ju{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Wf(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ci(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Em(n,r),hf(e,r))}this._attachedToViewContainer=!1}k0(this._lView[1],this._lView)}onDestroy(n){Tw(this._lView[1],this._lView,null,n)}markForCheck(){dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function fg(t,n,e){const r=n[10];r.begin&&r.begin();try{xu(t,n,t.template,e)}catch(o){throw jw(n,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $T(t,n){Au(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n}}class RR extends ju{constructor(n){super(n),this._view=n}detectChanges(){$w(this._view)}checkNoChanges(){}get context(){return null}}class Mg extends ia{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=At(n);return new kg(e,this.ngModule)}}function SC(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class OR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,Ig,r);return o!==Ig||e===Ig?o:this.parentInjector.get(n,e,r)}}class kg extends bC{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function oA(t){return t.map(rA).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return SC(this.componentDef.inputs)}get outputs(){return SC(this.componentDef.outputs)}create(n,e,r,o){var i;let s=(o=o||this.ngModule)instanceof bl?o:null===(i=o)||void 0===i?void 0:i.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new OR(n,s):n,c=a.get(CC,null);if(null===c)throw new P(407,!1);const f=a.get(xR,null),y=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",I=r?function QA(t,n,e){return t.selectRootElement(n,e===h.ShadowDom)}(y,r,this.componentDef.encapsulation):Sm(c.createRenderer(null,this.componentDef),_,function FR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),x=this.componentDef.onPush?288:272,Q=function Sx(t,n){return{components:[],scheduler:t||MT,clean:wx,playerHandler:n||null,flags:0}}(),Te=ag(0,null,null,1,0,null,null,null,null,null),Ke=xf(null,Te,Q,x,null,null,c,y,f,a,null);let He,st;_e(Ke);try{const Ae=function bx(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=gc(s,22,2,"#host",null),f=c.mergedAttrs=n.hostAttrs;null!==f&&(Ff(c,f,!0),null!==t&&(lf(o,t,f),null!==c.classes&&Tm(o,t,c.classes),null!==c.styles&&V0(o,t,c.styles)));const y=r.createRenderer(t,n),_=xf(e,kw(n),null,n.onPush?32:16,e[22],c,r,y,i||null,null,null);return s.firstCreatePass&&(ff(hu(c,e),s,n.type),Rw(s,c),Fw(c,e.length,1)),Rf(e,_),e[22]=_}(I,this.componentDef,Ke,c,y);if(I)if(r)lf(y,I,["ng-version",PR.full]);else{const{attrs:vt,classes:Lt}=function iA(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!cs(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);vt&&lf(y,I,vt),Lt&&Lt.length>0&&Tm(y,I,Lt.join(" "))}if(st=Xl(Te,22),void 0!==e){const vt=st.projection=[];for(let Lt=0;Lt<this.ngContentSelectors.length;Lt++){const Cn=e[Lt];vt.push(null!=Cn?Array.from(Cn):null)}}He=function Cx(t,n,e,r,o){const i=e[1],s=function ox(t,n,e){const r=an();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ow(t,r,n,yc(t,n,1,null),e));const o=mu(n,t,r.directiveStart,r);ti(o,n);const i=ui(r,n);return i&&ti(i,n),o}(i,e,n);if(r.components.push(s),t[8]=s,null!==o)for(const c of o)c(s,n);if(n.contentQueries){const c=an();n.contentQueries(1,s,c.directiveStart)}const a=an();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(_n(a.index),xw(e[1],a,0,a.directiveStart,a.directiveEnd,n),Pw(n,s)),s}(Ae,this.componentDef,Ke,Q,[Ex]),Pf(Te,Ke,null)}finally{Dn()}return new LR(this.componentType,He,xc(st,Ke),Ke,st)}}class LR extends class MR{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new RR(o),this.componentType=n}get injector(){return new rc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class EC extends Ba{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mg(this);const r=Ko(n);this._bootstrapComponents=na(r.bootstrap),this._r3Injector=iw(n,e,[{provide:Ba,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],Vn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,e=gr.THROW_IF_NOT_FOUND,r=Ht.Default){return n===gr||n===Ba||n===Rm?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Tg extends wC{constructor(n){super(),this.moduleType=n}create(n){return new EC(this.moduleType,n)}}class BR extends Ba{constructor(n,e,r){super(),this.componentFactoryResolver=new Mg(this),this.instance=null;const o=new nw([...n,{provide:Ba,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],e||Nm(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qf(t,n=null,e=null){return new BR(t,n,e).injector}function xC(t,n,e,r,o,i){const s=n+e;return ni(t,s,o)?function Fs(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function Uu(t,n){const e=t[n];return e===In?void 0:e}(t,s+1)}function Dl(t,n){const e=Hn();let r;const o=t+22;e.firstCreatePass?(r=function s2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Ts(r.type)),s=Oo(C);try{const a=uf(!1),c=i();return uf(a),function $x(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,it(),o,c),c}finally{Oo(s)}}function Il(t,n,e){const r=t+22,o=it(),i=ea(o,r);return function Gu(t,n){return t[1].data[n].pure}(o,r)?xC(o,function $n(){const t=pn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function xg(t){return n=>{setTimeout(t,void 0,n)}}const hn=class d2 extends z{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){var a,c,f;const _=n;o=null===(a=_.next)||void 0===a?void 0:a.bind(_),i=null===(c=_.error)||void 0===c?void 0:c.bind(_),s=null===(f=_.complete)||void 0===f?void 0:f.bind(_)}this.__isAsync&&(i=xg(i),o&&(o=xg(o)),s&&(s=xg(s)));const y=super.subscribe({next:o,error:i,complete:s});return n instanceof W&&n.add(y),y}};function f2(){return this._results[Cl()]()}class Pg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Cl(),r=Pg.prototype;r[e]||(r[e]=f2)}get changes(){return this._changes||(this._changes=new hn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Fi(n);(this._changesDetected=!function sk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mi=(()=>{class t{}return t.__NG_ELEMENT_ID__=m2,t})();const p2=Mi,h2=class extends p2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=xf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),Pf(r,o,n),new ju(o)}};function m2(){return Zf(an(),it())}function Zf(t,n){return 4&t.type?new h2(n,t,xc(t,n)):null}let ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=g2,t})();function g2(){return $C(an(),it())}const y2=ri,NC=class extends y2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return xc(this._hostTNode,this._hostLView)}get injector(){return new rc(this._hostTNode,this._hostLView)}get parentInjector(){const n=df(this._hostTNode,this._hostLView);if(P_(n)){const e=nc(n,this._hostLView),r=tc(n);return new rc(e[1].data[r+8],e)}return new rc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=LC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function yu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const _=e||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const c=s?n:new kg(At(n)),f=r||this.parentInjector;if(!i&&null==c.ngModule){const I=(s?f:this.parentInjector).get(bl,null);I&&(i=I)}const y=c.create(f,o,void 0,i);return this.insert(y.hostView,a),y}insert(n,e){const r=n._lView,o=r[1];if(function nf(t){return Ci(t[3])}(r)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const _=r[3],I=new NC(_,_[6],_[3]);I.detach(I.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function VT(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],U_(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function HT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=Mm(i,s),c=r[11],f=Sf(c,s[7]);return null!==f&&function LT(t,n,e,r,o,i){r[0]=o,r[6]=n,Au(t,r,e,1,o,i)}(o,s[6],c,r,f,a),n.attachToViewContainerRef(),U_(Rg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=LC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Em(this._lContainer,e);r&&(hf(Rg(this._lContainer),e),k0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=Em(this._lContainer,e);return r&&null!=hf(Rg(this._lContainer),e)?new ju(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function LC(t){return t[8]}function Rg(t){return t[8]||(t[8]=[])}function $C(t,n){let e;const r=n[t.index];if(Ci(r))e=r;else{let o;if(8&t.type)o=jr(r);else{const i=n[11];o=i.createComment("");const s=ui(t,n);_l(i,Sf(i,s),o,function zT(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=Nw(r,n,o,t),Rf(n,e)}return new NC(e,t,n)}class Fg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Fg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Og{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Og(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==UC(n,e).matches&&this.queries[e].setDirty()}}class BC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Ng{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Ng(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Lg{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Lg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,w2(e,i)),this.matchTNodeWithReadOption(n,e,pf(e,n,i,!1,!1))}else r===Mi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,pf(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===ct||o===ri||o===Mi&&4&e.type)this.addMatch(e.index,-2);else{const i=pf(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function w2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function C2(t,n,e,r){return-1===e?function b2(t,n){return 11&t.type?xc(t,n):4&t.type?Zf(t,n):null}(n,t):-2===e?function S2(t,n,e){return e===ct?xc(n,t):e===Mi?Zf(n,t):e===ri?$C(n,t):void 0}(t,n,r):mu(t,t[1],e,n)}function VC(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:C2(n,i[f],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function $g(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=VC(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const f=i[a+1],y=n[-c];for(let _=10;_<y.length;_++){const I=y[_];I[17]===I[3]&&$g(I[1],I,f,r)}if(null!==y[9]){const _=y[9];for(let I=0;I<_.length;I++){const x=_[I];$g(x[1],x,f,r)}}}}}return r}function Bi(t){const n=it(),e=Hn(),r=m();b(r+1);const o=UC(e,r);if(t.dirty&&au(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?$g(e,n,r,[]):VC(e,n,o,r);t.reset(i,TR),t.notifyOnChanges()}return!0}return!1}function zu(t,n,e){const r=Hn();r.firstCreatePass&&(jC(r,new BC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),HC(r,it(),n)}function Vi(){return function E2(t,n){return t[19].queries[n].queryList}(it(),m())}function HC(t,n,e){const r=new Pg(4==(4&e));Tw(t,n,r,r.destroy),null===n[19]&&(n[19]=new Og),n[19].queries.push(new Fg(r))}function jC(t,n,e){null===t.queries&&(t.queries=new Ng),t.queries.track(new Lg(n,e))}function UC(t,n){return t.queries.getByIndex(n)}function Kf(...t){}const Ml=new rn("Application Initializer");let Xf=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Kf,this.reject=Kf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Fu(i))e.push(i);else if(yg(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(we(Ml,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qu=new rn("AppId",{providedIn:"root",factory:function lS(){return`${Ug()}${Ug()}${Ug()}`}});function Ug(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cS=new rn("Platform Initializer"),Oc=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uS=new rn("appBootstrapListener");let W2=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const la=new rn("LocaleId",{providedIn:"root",factory:()=>yl(la,Ht.Optional|Ht.SkipSelf)||function q2(){return typeof $localize<"u"&&$localize.locale||Tc}()});class Y2{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Gg=(()=>{class t{compileModuleSync(e){return new Tg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=na(Ko(e).declarations).reduce((s,a)=>{const c=At(a);return c&&s.push(new kg(c)),s},[]);return new Y2(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Q2=(()=>Promise.resolve(0))();function zg(t){typeof Zone>"u"?Q2.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ot{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hn(!1),this.onMicrotaskEmpty=new hn(!1),this.onStable=new hn(!1),this.onError=new hn(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function J2(){let t=v.requestAnimationFrame,n=v.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function nF(t){const n=()=>{!function tF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(v,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qg(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return pS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),hS(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return pS(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),hS(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,qg(t),Wg(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ot.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new P(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,eF,Kf,Kf);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const eF={};function Wg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hS(t){t._nesting--,Wg(t)}class rF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hn,this.onMicrotaskEmpty=new hn,this.onStable=new hn,this.onError=new hn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const mS=new rn(""),Qf=new rn("");let Kg,Zg=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kg||(function oF(t){Kg=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(we(ot),we(Yg),we(Qf))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Yg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){var o,i;return null!==(o=null===(i=Kg)||void 0===i?void 0:i.findTestabilityInTree(this,e,r))&&void 0!==o?o:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Va=null;const gS=new rn("AllowMultipleToken"),Xg=new rn("PlatformDestroyListeners");class yS{constructor(n,e){this.name=n,this.token=e}}function _S(t,n,e=[]){const r=`Platform: ${n}`,o=new rn(r);return(i=[])=>{let s=Qg();if(!s||s.injector.get(gS,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function aF(t){if(Va&&!Va.get(gS,!1))throw new P(400,!1);Va=t;const n=t.get(bS);(function vS(t){const n=t.get(cS,null);n&&n.forEach(e=>e())})(t)}(function wS(t=[],n){return gr.create({name:n,providers:[{provide:Fm,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Va=null])},...t]})}(a,r))}return function cF(t){const n=Qg();if(!n)throw new P(401,!1);return n}()}}function Qg(){var t,n;return null!==(t=null===(n=Va)||void 0===n?void 0:n.get(bS))&&void 0!==t?t:null}let bS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function uF(t,n){let e;return e="noop"===t?new rF:("zone.js"===t?void 0:t)||new ot(n),e}(r?.ngZone,function CS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ot,useValue:o}];return o.run(()=>{const s=gr.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(dc,null);if(!c)throw new P(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:y=>{c.handleError(y)}});a.onDestroy(()=>{Jf(this._modules,a),f.unsubscribe()})}),function SS(t,n,e){try{const r=e();return Fu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const f=a.injector.get(Xf);return f.runInitializers(),f.donePromise.then(()=>(function Zb(t){Fr(t,"Expected localeId to be defined"),"string"==typeof t&&(qb=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(la,Tc)||Tc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=ES({},r);return function iF(t,n,e){const r=new Tg(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Ha);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new P(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Xg,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(we(gr))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function ES(t,n){return Array.isArray(n)?n.reduce(ES,t):{...t,...n}}let Ha=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new at(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new at(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=Wo(i,s.pipe(vi()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof bC;if(!this._injector.get(Xf).done)throw!o&&function Rc(t){const n=At(t)||cr(t)||Ln(t);return null!==n&&n.standalone}(e),new P(405,false);let s;s=o?e:this._injector.get(ia).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function sF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ba),f=s.create(gr.NULL,[],r||s.selector,a),y=f.location.nativeElement,_=f.injector.get(mS,null);return _?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),Jf(this.components,f),_?.unregisterApplication(y)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Jf(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uS,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Jf(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(we(ot),we(gr),we(dc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Jf(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let IS=!0,bt=(()=>{class t{}return t.__NG_ELEMENT_ID__=pF,t})();function pF(t){return function hF(t,n,e){if(fl(t)&&!e){const r=Qo(t.index,n);return new ju(r,r)}return 47&t.type?new ju(n[16],n):null}(an(),it(),16==(16&t))}class xS{constructor(){}supports(n){return Pu(n)}create(n){return new wF(n)}}const _F=(t,n)=>n;class wF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||_F}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<RS(r,o,i)?e:r,a=RS(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,y=c-o;if(f!=y){for(let I=0;I<f;I++){const x=I<i.length?i[I]:i[I]=0,Q=x+I;y<=Q&&Q<f&&(i[I]=x+1)}i[s.previousIndex]=y-f}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Pu(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function Rx(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Cl()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new bF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new PS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class bF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class PS{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new CF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RS(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function OS(){return new Zu([new xS])}let Zu=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||OS()),deps:[[t,new Cu,new Oa]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new P(901,!1)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:OS}),t})();const MF=_S(null,"core",[]);let kF=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(we(Ha))},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({}),t})(),np=null;function $s(){return np}const Eo=new rn("DocumentToken");let rp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:function(){return function PF(){return we(LS)}()},providedIn:"platform"}),t})();const RF=new rn("Location Initialized");let LS=(()=>{class t extends rp{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $s().getBaseHref(this._doc)}onPopState(e){const r=$s().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=$s().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){$S()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){$S()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(we(Eo))},t.\u0275prov=ht({token:t,factory:function(){return function FF(){return new LS(we(Eo))}()},providedIn:"platform"}),t})();function $S(){return!!window.history.pushState}function ry(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function BS(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function da(t){return t&&"?"!==t[0]?"?"+t:t}let Bs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:function(){return function OF(){const t=we(Eo).location;return new HS(we(rp),t&&t.origin||"")}()},providedIn:"root"}),t})();const VS=new rn("appBaseHref");let HS=(()=>{class t extends Bs{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ry(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+da(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+da(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+da(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(we(rp),we(VS,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),jS=(()=>{class t extends Bs{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ry(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+da(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+da(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(we(rp),we(VS,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t{constructor(e){this._subject=new hn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=BS(US(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+da(r))}normalize(e){return t.stripTrailingSlash(function LF(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,US(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+da(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+da(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(r=(o=this._locationStrategy).historyGo)||void 0===r||r.call(o,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);var o;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=da,t.joinWithSlash=ry,t.stripTrailingSlash=BS,t.\u0275fac=function(e){return new(e||t)(we(Bs))},t.\u0275prov=ht({token:t,factory:function(){return function NF(){return new Ku(we(Bs))}()},providedIn:"root"}),t})();function US(t){return t.replace(/\/index.html$/,"")}function QS(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class CO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nc=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new CO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),tE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{tE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(ri),C(Mi),C(Zu))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function tE(t,n){t.context.$implicit=n.item}let Bo=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new EO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){nE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){nE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(ri),C(Mi))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class EO{constructor(){this.$implicit=null,this.ngIf=null}}function nE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Vn(n)}'.`)}class TO{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class AO{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const xO=new AO,PO=new TO;let oE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Fu(e))return xO;if(eb(e))return PO;throw function gs(t,n){return new P(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(C(bt,16))},t.\u0275pipe=sn({name:"async",type:t,pure:!1}),t})(),Vs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({}),t})();const sE="browser";function pa(t){return t===sE}let QO=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new JO(we(Eo),window)}),t})();class JO{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function eN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=aE(this.window.history)||aE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function aE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class lE{}class vy extends class tN extends class xF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function AF(t){np||(np=t)}(new vy)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function nN(){return Ju=Ju||document.querySelector("base"),Ju?Ju.getAttribute("href"):null}();return null==e?null:function rN(t){pp=pp||document.createElement("a"),pp.setAttribute("href",t);const n=pp.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return QS(document.cookie,n)}}let pp,Ju=null;const cE=new rn("TRANSITION_ID"),iN=[{provide:Ml,useFactory:function oN(t,n,e){return()=>{e.get(Xf).donePromise.then(()=>{const r=$s(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[cE,Eo,gr],multi:!0}];let aN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const hp=new rn("EventManagerPlugins");let mp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(we(hp),we(ot))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class uE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=$s().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let dE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),ed=(()=>{class t extends dE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(fE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(fE))}}return t.\u0275fac=function(e){return new(e||t)(we(Eo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function fE(t){$s().remove(t)}const _y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wy=/%COMP%/g;function gp(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?gp(t,o,e):(o=o.replace(wy,t),e.push(o))}return e}function mE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let by=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Cy(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case h.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new pN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case h.ShadowDom:return new hN(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=gp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(we(mp),we(ed),we(qu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Cy{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(_y[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(yE(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(yE(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=_y[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=_y[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Di.DashCase|Di.Important)?n.style.setProperty(e,r,o&Di.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Di.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,mE(r)):this.eventManager.addEventListener(n,e,mE(r))}}function yE(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pN extends Cy{constructor(n,e,r,o){super(n),this.component=r;const i=gp(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function uN(t){return"_ngcontent-%COMP%".replace(wy,t)}(o+"-"+r.id),this.hostAttr=function dN(t){return"_nghost-%COMP%".replace(wy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class hN extends Cy{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=gp(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let mN=(()=>{class t extends uE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(we(Eo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const vE=["alt","control","meta","shift"],yN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_E={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _N=(()=>{class t extends uE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$s().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(vE.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let r="",o=function wN(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&_E.hasOwnProperty(n)&&(n=_E[n]))}return yN[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),vE.forEach(i=>{i!=o&&vN[i](e)&&(r+=i+".")}),r+=o,r}static eventCallback(e,r,o){return i=>{t.getEventFullKey(i)===e&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(we(Eo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const wE=[{provide:Oc,useValue:sE},{provide:cS,useValue:function bN(){vy.makeCurrent()},multi:!0},{provide:Eo,useFactory:function SN(){return function xk(t){om=t}(document),document},deps:[]}],EN=_S(MF,"browser",wE),bE=new rn(""),CE=[{provide:Qf,useClass:class sN{addToWindow(n){v.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},v.getAllAngularTestabilities=()=>n.getAllTestabilities(),v.getAllAngularRootElements=()=>n.getAllRootElements(),v.frameworkStabilizers||(v.frameworkStabilizers=[]),v.frameworkStabilizers.push(r=>{const o=v.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?$s().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:mS,useClass:Zg,deps:[ot,Yg,Qf]},{provide:Zg,useClass:Zg,deps:[ot,Yg,Qf]}],SE=[{provide:Fm,useValue:"root"},{provide:dc,useFactory:function CN(){return new dc},deps:[]},{provide:hp,useClass:mN,multi:!0,deps:[Eo,ot,Oc]},{provide:hp,useClass:_N,multi:!0,deps:[Eo]},{provide:by,useClass:by,deps:[mp,ed,qu]},{provide:CC,useExisting:by},{provide:dE,useExisting:ed},{provide:ed,useClass:ed,deps:[Eo]},{provide:mp,useClass:mp,deps:[hp,ot]},{provide:lE,useClass:aN,deps:[]},[]];let DN=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:qu,useValue:e.appId},{provide:cE,useExisting:qu},iN]}}}return t.\u0275fac=function(e){return new(e||t)(we(bE,12))},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({providers:[...SE,...CE],imports:[Vs,kF]}),t})(),EE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(we(Eo))},t.\u0275prov=ht({token:t,factory:function(e){let r=null;return r=e?new e:function MN(){return new EE(we(Eo))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Dy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:function(e){let r=null;return r=e?new(e||t):we(ME),r},providedIn:"root"}),t})(),ME=(()=>{class t extends Dy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Cr.NONE:return r;case Cr.HTML:return xs(r,"HTML")?Ni(r):h0(this._doc,String(r)).toString();case Cr.STYLE:return xs(r,"Style")?Ni(r):r;case Cr.SCRIPT:if(xs(r,"Script"))return Ni(r);throw new Error("unsafe value used in a script context");case Cr.URL:return xs(r,"URL")?Ni(r):Du(String(r));case Cr.RESOURCE_URL:if(xs(r,"ResourceURL"))return Ni(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Vk(t){return new Fk(t)}(e)}bypassSecurityTrustStyle(e){return function Hk(t){return new Ok(t)}(e)}bypassSecurityTrustScript(e){return function jk(t){return new Nk(t)}(e)}bypassSecurityTrustUrl(e){return function Uk(t){return new Lk(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Gk(t){return new $k(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(we(Eo))},t.\u0275prov=ht({token:t,factory:function(e){let r=null;return r=e?new e:function ON(t){return new ME(t.get(Eo))}(we(gr)),r},providedIn:"root"}),t})();var To=R(1158),NN=R(9233),Lc=R.n(NN);let yp,vp;function kE(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function TE(){return void 0!==vp}class AE{constructor(){this.requestEvent=new To.j}dispatchRequest(n){if(n){try{n=new(Lc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let Iy=(()=>{class t{constructor(){this.installation=new AE,this.import=new AE,yp&&this.installation.dispatchRequest(yp),vp&&this.import.dispatchRequest(vp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mn(...t){return Wn(t,D(t))}function $c(t,n){return k(n)?Gt(t,n,1):Gt(t,1)}function Vo(t,n){return Re((e,r)=>{let o=0;e.subscribe(nt(r,i=>t.call(n,i,o++)&&r.next(i)))})}class xE{}class PE{}class ha{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof ha?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new ha;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ha?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class BN{encodeKey(n){return RE(n)}encodeValue(n){return RE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const HN=/%(\d[a-f0-9])/gi,jN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RE(t){return encodeURIComponent(t).replace(HN,(n,e)=>{var r;return null!==(r=jN[e])&&void 0!==r?r:n})}function _p(t){return`${t}`}class Ua{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new BN,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VN(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(_p):[_p(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ua({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(_p(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(_p(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class UN{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function FE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OE(t){return typeof Blob<"u"&&t instanceof Blob}function NE(t){return typeof FormData<"u"&&t instanceof FormData}class td{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function GN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ha),this.context||(this.context=new UN),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Ua,this.urlWithParams=e}serializeBody(){return null===this.body?null:FE(this.body)||OE(this.body)||NE(this.body)||function zN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ua?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NE(this.body)?null:OE(this.body)?this.body.type||null:FE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ua?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,y=n.params||this.params;const _=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((I,x)=>I.set(x,n.setHeaders[x]),f)),n.setParams&&(y=Object.keys(n.setParams).reduce((I,x)=>I.set(x,n.setParams[x]),y)),new td(r,o,s,{params:y,headers:f,context:_,reportProgress:c,responseType:i,withCredentials:a})}}var ho=(()=>((ho=ho||{})[ho.Sent=0]="Sent",ho[ho.UploadProgress=1]="UploadProgress",ho[ho.ResponseHeader=2]="ResponseHeader",ho[ho.DownloadProgress=3]="DownloadProgress",ho[ho.Response=4]="Response",ho[ho.User=5]="User",ho))();class My{constructor(n,e=200,r="OK"){this.headers=n.headers||new ha,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class ky extends My{constructor(n={}){super(n),this.type=ho.ResponseHeader}clone(n={}){return new ky({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class wp extends My{constructor(n={}){super(n),this.type=ho.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new wp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class LE extends My{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ty(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ay=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof td)i=e;else{let c,f;c=o.headers instanceof ha?o.headers:new ha(o.headers),o.params&&(f=o.params instanceof Ua?o.params:new Ua({fromObject:o.params})),i=new td(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=mn(i).pipe($c(c=>this.handler.handle(c)));if(e instanceof td||"events"===o.observe)return s;const a=s.pipe(Vo(c=>c instanceof wp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(tt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(tt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(tt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(tt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ua).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Ty(o,r))}post(e,r,o={}){return this.request("POST",e,Ty(o,r))}put(e,r,o={}){return this.request("PUT",e,Ty(o,r))}}return t.\u0275fac=function(e){return new(e||t)(we(xE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class $E{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const BE=new rn("HTTP_INTERCEPTORS");let WN=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const qN=/^\)\]\}',?\n/;let VE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new at(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,Q)=>o.setRequestHeader(x,Q.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const x=e.detectContentTypeHeader();null!==x&&o.setRequestHeader("Content-Type",x)}if(e.responseType){const x=e.responseType.toLowerCase();o.responseType="json"!==x?x:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const x=o.statusText||"OK",Q=new ha(o.getAllResponseHeaders()),Te=function ZN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new ky({headers:Q,status:o.status,statusText:x,url:Te}),s},c=()=>{let{headers:x,status:Q,statusText:Te,url:Ke}=a(),He=null;204!==Q&&(He=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=He?200:0);let st=Q>=200&&Q<300;if("json"===e.responseType&&"string"==typeof He){const Ae=He;He=He.replace(qN,"");try{He=""!==He?JSON.parse(He):null}catch(vt){He=Ae,st&&(st=!1,He={error:vt,text:He})}}st?(r.next(new wp({body:He,headers:x,status:Q,statusText:Te,url:Ke||void 0})),r.complete()):r.error(new LE({error:He,headers:x,status:Q,statusText:Te,url:Ke||void 0}))},f=x=>{const{url:Q}=a(),Te=new LE({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});r.error(Te)};let y=!1;const _=x=>{y||(r.next(a()),y=!0);let Q={type:ho.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(Q.total=x.total),"text"===e.responseType&&!!o.responseText&&(Q.partialText=o.responseText),r.next(Q)},I=x=>{let Q={type:ho.UploadProgress,loaded:x.loaded};x.lengthComputable&&(Q.total=x.total),r.next(Q)};return o.addEventListener("load",c),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",I)),o.send(i),r.next({type:ho.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",c),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(we(lE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const xy=new rn("XSRF_COOKIE_NAME"),Py=new rn("XSRF_HEADER_NAME");class HE{}let YN=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=QS(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(we(Eo),we(Oc),we(xy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ry=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(we(HE),we(Py))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),KN=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(BE,[]);this.chain=r.reduceRight((o,i)=>new $E(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(we(PE),we(gr))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),XN=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ry,useClass:WN}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:xy,useValue:e.cookieName}:[],e.headerName?{provide:Py,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({providers:[Ry,{provide:BE,useExisting:Ry,multi:!0},{provide:HE,useClass:YN},{provide:xy,useValue:"XSRF-TOKEN"},{provide:Py,useValue:"X-XSRF-TOKEN"}]}),t})(),QN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({providers:[Ay,{provide:xE,useClass:KN},VE,{provide:PE,useExisting:VE}],imports:[XN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:JN}=Array,{getPrototypeOf:eL,prototype:tL,keys:nL}=Object;function jE(t){if(1===t.length){const n=t[0];if(JN(n))return{args:n,keys:null};if(function rL(t){return t&&"object"==typeof t&&eL(t)===tL}(n)){const e=nL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:oL}=Array;function Fy(t){return tt(n=>function iL(t,n){return oL(n)?t(...n):t(n)}(t,n))}function UE(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let GE=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(C(sa),C(ct))},t.\u0275dir=Ve({type:t}),t})(),Tl=(()=>{class t extends GE{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=$o(t)))(r||t)}}(),t.\u0275dir=Ve({type:t,features:[Zn]}),t})();const hi=new rn("NgValueAccessor"),lL={provide:hi,useExisting:T(()=>Oy),multi:!0},uL=new rn("CompositionEventMode");let Oy=(()=>{class t extends GE{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cL(){const t=$s()?$s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(C(sa),C(ct),C(uL,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&lt("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[pr([lL]),Zn]}),t})();function Ga(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function WE(t){return null!=t&&"number"==typeof t.length}const oi=new rn("NgValidators"),za=new rn("NgAsyncValidators"),fL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ny{static min(n){return function qE(t){return n=>{if(Ga(n.value)||Ga(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function ZE(t){return n=>{if(Ga(n.value)||Ga(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function YE(t){return Ga(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function KE(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function XE(t){return Ga(t.value)||fL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function QE(t){return n=>Ga(n.value)||!WE(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return JE(n)}static pattern(n){return function eD(t){if(!t)return bp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Ga(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return sD(n)}static composeAsync(n){return aD(n)}}function JE(t){return n=>WE(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function bp(t){return null}function tD(t){return null!=t}function nD(t){return Fu(t)?Wn(t):t}function rD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function oD(t,n){return n.map(e=>e(t))}function iD(t){return t.map(n=>function pL(t){return!t.validate}(n)?n:e=>n.validate(e))}function sD(t){if(!t)return null;const n=t.filter(tD);return 0==n.length?null:function(e){return rD(oD(e,n))}}function Ly(t){return null!=t?sD(iD(t)):null}function aD(t){if(!t)return null;const n=t.filter(tD);return 0==n.length?null:function(e){return function sL(...t){const n=yo(t),{args:e,keys:r}=jE(t),o=new at(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let y=0;y<s;y++){let _=!1;S(e[y]).subscribe(nt(i,I=>{_||(_=!0,f--),a[y]=I},()=>c--,void 0,()=>{(!c||!_)&&(f||i.next(r?UE(r,a):a),i.complete())}))}});return n?o.pipe(Fy(n)):o}(oD(e,n).map(nD)).pipe(tt(rD))}}function $y(t){return null!=t?aD(iD(t)):null}function lD(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function cD(t){return t._rawValidators}function uD(t){return t._rawAsyncValidators}function By(t){return t?Array.isArray(t)?t:[t]:[]}function Cp(t,n){return Array.isArray(t)?t.includes(n):t===n}function dD(t,n){const e=By(n);return By(t).forEach(o=>{Cp(e,o)||e.push(o)}),e}function fD(t,n){return By(n).filter(e=>!Cp(t,e))}class pD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=$y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class mi extends pD{get formDirective(){return null}get path(){return null}}class ma extends pD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hD{constructor(n){this._cd=n}get isTouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.touched)}get isUntouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.untouched)}get isPristine(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pristine)}get isDirty(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.dirty)}get isValid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.valid)}get isInvalid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.invalid)}get isPending(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let Al=(()=>{class t extends hD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ma,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&$a("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Zn]}),t})(),xl=(()=>{class t extends hD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(mi,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&$a("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Zn]}),t})();const nd="VALID",Ep="INVALID",Bc="PENDING",rd="DISABLED";function Uy(t){return(Dp(t)?t.validators:t)||null}function gD(t){return Array.isArray(t)?Ly(t):t||null}function Gy(t,n){return(Dp(n)?n.asyncValidators:t)||null}function yD(t){return Array.isArray(t)?$y(t):t||null}function Dp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=gD(this._rawValidators),this._composedAsyncValidatorFn=yD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===nd}get invalid(){return this.status===Ep}get pending(){return this.status==Bc}get disabled(){return this.status===rd}get enabled(){return this.status!==rd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=gD(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=yD(n)}addValidators(n){this.setValidators(dD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(dD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(fD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(fD(n,this._rawAsyncValidators))}hasValidator(n){return Cp(this._rawValidators,n)}hasAsyncValidator(n){return Cp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Bc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=rd,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=nd,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nd||this.status===Bc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rd:nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Bc,this._hasOwnPendingAsyncValidator=!0;const e=nD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new hn,this.statusChanges=new hn}_calculateStatus(){return this._allControlsDisabled()?rd:this.errors?Ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bc)?Bc:this._anyControlsHaveStatus(Ep)?Ep:nd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Dp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Vc extends wD{constructor(n,e,r){super(Uy(e),Gy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function _D(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new P(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function vD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new P(1e3,"");if(!r[e])throw new P(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Ip=Vc;function od(t,n){var e,r;zy(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&(null===(e=(r=n.valueAccessor).setDisabledState)||void 0===e||e.call(r,!0)),function CL(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bD(t,n)})}(t,n),function EL(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function SL(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function bL(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function kp(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Ap(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Tp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function zy(t,n){const e=cD(t);null!==n.validator?t.setValidators(lD(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=uD(t);null!==n.asyncValidator?t.setAsyncValidators(lD(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Tp(n._rawValidators,o),Tp(n._rawAsyncValidators,o)}function Ap(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=cD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=uD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Tp(n._rawValidators,r),Tp(n._rawAsyncValidators,r),e}function bD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DD(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function ID(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ga=class extends wD{constructor(n=null,e,r){super(Uy(e),Gy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ID(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){DD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){DD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ID(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Ao=ga;let Pl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),PD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({}),t})();const Yy=new rn("NgModelWithFormControlWarning"),$L={provide:mi,useExisting:T(()=>ya)};let ya=(()=>{class t extends mi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new hn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ap(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return od(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){kp(e.control||null,e,!1),function kL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function ED(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(kp(r||null,e),(t=>t instanceof ga)(o)&&(od(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function CD(t,n){zy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function DL(t,n){return Ap(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zy(this.form,this),this._oldForm&&Ap(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(C(oi,10),C(za,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&lt("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pr([$L]),Zn,bo]}),t})();const HL={provide:ma,useExisting:T(()=>Wa)};let Wa=(()=>{class t extends ma{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new hn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function qy(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Oy?e=i:function ML(t){return Object.getPrototypeOf(t.constructor)===Tl}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Wy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Mp(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(C(mi,13),C(oi,10),C(za,10),C(hi,10),C(Yy,8))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[pr([HL]),Zn,bo]}),t})();let Rl=(()=>{class t{constructor(){this._validator=bp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,features:[bo]}),t})();const e3={provide:oi,useExisting:T(()=>tv),multi:!0};let tv=(()=>{class t extends Rl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function BD(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>JE(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=$o(t)))(r||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Os("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[pr([e3]),Zn]}),t})(),qD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[PD]}),t})(),Fl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[qD]}),t})(),xp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Yy,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[qD]}),t})();const r3=["addListener","removeListener"],o3=["addEventListener","removeEventListener"],i3=["on","off"];function sd(t,n,e,r){if(k(e)&&(r=e,e=void 0),r)return sd(t,n,e).pipe(Fy(r));const[o,i]=function l3(t){return k(t.addEventListener)&&k(t.removeEventListener)}(t)?o3.map(s=>a=>t[s](n,a,e)):function s3(t){return k(t.addListener)&&k(t.removeListener)}(t)?r3.map(ZD(t,n)):function a3(t){return k(t.on)&&k(t.off)}(t)?i3.map(ZD(t,n)):[];if(!o&&un(t))return Gt(s=>sd(s,n,e))(S(t));if(!o)throw new TypeError("Invalid event target");return new at(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function ZD(t,n){return e=>r=>t[e](n,r)}class Hi extends z{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function YD(...t){const n=D(t),e=yo(t),{args:r,keys:o}=jE(t);if(0===r.length)return Wn([],n);const i=new at(function c3(t,n,e=K){return r=>{KD(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)KD(n,()=>{const f=Wn(t[c],n);let y=!1;f.subscribe(nt(r,_=>{i[c]=_,y||(y=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>UE(o,s):K));return e?i.pipe(Fy(e)):i}function KD(t,n,e){t?vr(e,t,n):n()}function Hc(t,n){const e=k(t)?t:()=>t,r=o=>o.error(e());return new at(n?o=>n.schedule(r,0,o):r)}const ad=d(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ld(...t){return function u3(){return eo(1)}()(Wn(t,D(t)))}function Pp(t){return new at(n=>{S(t()).subscribe(n)})}function nv(){return Re((t,n)=>{let e=null;t._refCount++;const r=nt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class rv extends at{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Me(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new W;const e=this.getSubject();n.add(this.source.subscribe(nt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=W.EMPTY)}return n}refCount(){return nv()(this)}}function Ti(t,n){return Re((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(nt(r,c=>{o?.unsubscribe();let f=0;const y=i++;S(t(c,y)).subscribe(o=nt(r,_=>r.next(n?n(c,_,y,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ji(t){return t<=0?()=>rr:Re((n,e)=>{let r=0;n.subscribe(nt(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function XD(...t){const n=D(t);return Re((e,r)=>{(n?ld(t,e,n):ld(t,e)).subscribe(r)})}function d3(t,n,e,r,o){return(i,s)=>{let a=e,c=n,f=0;i.subscribe(nt(s,y=>{const _=f++;c=a?t(c,y,_):(a=!0,y),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function QD(t,n){return Re(d3(t,n,arguments.length>=2,!0))}function qa(t){return Re((n,e)=>{let i,r=null,o=!1;r=n.subscribe(nt(e,void 0,void 0,s=>{i=S(t(s,qa(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function ov(t){return t<=0?()=>rr:Re((n,e)=>{let r=[];n.subscribe(nt(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function JD(t=f3){return Re((n,e)=>{let r=!1;n.subscribe(nt(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function f3(){return new ad}function iv(t){return Re((n,e)=>{let r=!1;n.subscribe(nt(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function Za(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Vo((o,i)=>t(o,i,r)):K,ji(1),e?iv(n):JD(()=>new ad))}function Ho(t,n,e){const r=k(t)||n||e?{next:t,error:n,complete:e}:t;return r?Re((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(nt(i,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,c),i.error(c)},()=>{var c,f;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):K}function sv(t){return tt(()=>t)}function av(t){return Re((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class va{constructor(n,e){this.id=n,this.url=e}}class Rp extends va{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ol extends va{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fp extends va{constructor(n,e,r){super(n,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class e1 extends va{constructor(n,e,r){super(n,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h3 extends va{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m3 extends va{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g3 extends va{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class y3 extends va{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v3 extends va{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fn="primary";class I3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function jc(t){return new I3(t)}const lv="Redirecting to ",n1="ngNavigationCancelingError";function cv(t){const n=Error("NavigationCancelingError: "+(t||""));return n[n1]=!0,n}function k3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Hs(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!r1(t[o],n[o]))return!1;return!0}function r1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function o1(t){return Array.prototype.concat.apply([],t)}function i1(t){return t.length>0?t[t.length-1]:null}function jo(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Ya(t){return yg(t)?t:Fu(t)?Wn(Promise.resolve(t)):mn(t)}const x3={exact:function l1(t,n,e){if(!Ll(t.segments,n.segments)||!Op(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!l1(t.children[r],n.children[r],e))return!1;return!0},subset:c1},s1={exact:function P3(t,n){return Hs(t,n)},subset:function R3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>r1(t[e],n[e]))},ignored:()=>!0};function a1(t,n,e){return x3[e.paths](t.root,n.root,e.matrixParams)&&s1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function c1(t,n,e){return u1(t,n,n.segments,e)}function u1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Ll(o,e)||n.hasChildren()||!Op(o,e,r))}if(t.segments.length===e.length){if(!Ll(t.segments,e)||!Op(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!c1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Ll(t.segments,o)&&Op(t.segments,o,r)&&t.children[Fn])&&u1(t.children[Fn],n,i,r)}}function Op(t,n,e){return n.every((r,o)=>s1[e](t[o].parameters,r.parameters))}class Nl{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jc(this.queryParams)),this._queryParamMap}toString(){return N3.serialize(this)}}class zn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,jo(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Np(this)}}class cd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=jc(this.parameters)),this._parameterMap}toString(){return h1(this)}}function Ll(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class dv{}class d1{parse(n){const e=new z3(n);return new Nl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${ud(n.root,!0)}`,r=function B3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${Lp(e)}=${Lp(o)}`).join("&"):`${Lp(e)}=${Lp(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function L3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const N3=new d1;function Np(t){return t.segments.map(n=>h1(n)).join("/")}function ud(t,n){if(!t.hasChildren())return Np(t);if(n){const e=t.children[Fn]?ud(t.children[Fn],!1):"",r=[];return jo(t.children,(o,i)=>{i!==Fn&&r.push(`${i}:${ud(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function O3(t,n){let e=[];return jo(t.children,(r,o)=>{o===Fn&&(e=e.concat(n(r,o)))}),jo(t.children,(r,o)=>{o!==Fn&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===Fn?[ud(t.children[Fn],!1)]:[`${o}:${ud(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Fn]?`${Np(t)}/${e[0]}`:`${Np(t)}/(${e.join("//")})`}}function f1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lp(t){return f1(t).replace(/%3B/gi,";")}function fv(t){return f1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $p(t){return decodeURIComponent(t)}function p1(t){return $p(t.replace(/\+/g,"%20"))}function h1(t){return`${fv(t.path)}${function $3(t){return Object.keys(t).map(n=>`;${fv(n)}=${fv(t[n])}`).join("")}(t.parameters)}`}const V3=/^[^\/()?;=#]+/;function Bp(t){const n=t.match(V3);return n?n[0]:""}const H3=/^[^=?&#]+/,U3=/^[^&#]+/;class z3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Fn]=new zn(n,e)),r}parseSegment(){const n=Bp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(n),new cd($p(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Bp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Bp(this.remaining);o&&(r=o,this.capture(r))}n[$p(e)]=$p(r)}parseQueryParam(n){const e=function j3(t){const n=t.match(H3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function G3(t){const n=t.match(U3);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=p1(e),i=p1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new P(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Fn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Fn]:new zn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new P(4011,!1)}}class m1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=pv(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=pv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=hv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return hv(n,this._root).map(e=>e.value)}}function pv(t,n){if(t===n.value)return n;for(const e of n.children){const r=pv(t,e);if(r)return r}return null}function hv(t,n){if(t===n.value)return[n];for(const e of n.children){const r=hv(t,e);if(r.length)return r.unshift(n),r}return[]}class _a{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Uc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class g1 extends m1{constructor(n,e){super(n),this.snapshot=e,mv(this,n)}toString(){return this.snapshot.toString()}}function y1(t,n){const e=function W3(t,n){const s=new Vp([],{},{},"",{},Fn,n,null,t.root,-1,{});return new _1("",new _a(s,[]))}(t,n),r=new Hi([new cd("",{})]),o=new Hi({}),i=new Hi({}),s=new Hi({}),a=new Hi(""),c=new wa(r,o,s,a,i,Fn,n,e.root);return c.snapshot=e.root,new g1(new _a(c,[]),e)}class wa{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(tt(n=>jc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(tt(n=>jc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function v1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function q3(t){return t.reduce((n,e)=>{var r;return{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...null===(r=e.routeConfig)||void 0===r?void 0:r.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(r))}class Vp{constructor(n,e,r,o,i,s,a,c,f,y,_,I){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=f,this._lastPathIndex=y,this._correctedLastPathIndex=I??y,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _1 extends m1{constructor(n,e){super(e),this.url=n,mv(this,e)}toString(){return w1(this._root)}}function mv(t,n){n.value._routerState=t,n.children.forEach(e=>mv(t,e))}function w1(t){const n=t.children.length>0?` { ${t.children.map(w1).join(", ")} } `:"";return`${t.value}${n}`}function gv(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Hs(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Hs(n.params,e.params)||t.params.next(e.params),function T3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Hs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Hs(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function yv(t,n){const e=Hs(t.params,n.params)&&function F3(t,n){return Ll(t,n)&&t.every((e,r)=>Hs(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||yv(t.parent,n.parent))}function dd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function Y3(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return dd(t,r,o);return dd(t,r)})}(t,n,e);return new _a(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>dd(t,a)),s}}const r=function K3(t){return new wa(new Hi(t.url),new Hi(t.params),new Hi(t.queryParams),new Hi(t.fragment),new Hi(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>dd(t,i));return new _a(r,o)}}function Hp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fd(t){return"object"==typeof t&&null!=t&&t.outlets}function _v(t,n,e,r,o){let i={};if(r&&jo(r,(a,c)=>{i[c]=Array.isArray(a)?a.map(f=>`${f}`):`${a}`}),t===n)return new Nl(e,i,o);const s=b1(t,n,e);return new Nl(s,i,o)}function b1(t,n,e){const r={};return jo(t.children,(o,i)=>{r[i]=o===n?e:b1(o,n,e)}),new zn(t.segments,r)}class C1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Hp(r[0]))throw new P(4003,false);const o=r.find(fd);if(o&&o!==i1(r))throw new P(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wv{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function S1(t,n,e){if(t||(t=new zn([],{})),0===t.segments.length&&t.hasChildren())return jp(t,n,e);const r=function n$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(fd(a))break;const c=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!D1(c,f,s))return i;r+=2}else{if(!D1(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new zn(t.segments.slice(0,r.pathIndex),{});return i.children[Fn]=new zn(t.segments.slice(r.pathIndex),t.children),jp(i,0,o)}return r.match&&0===o.length?new zn(t.segments,{}):r.match&&!t.hasChildren()?bv(t,n,e):r.match?jp(t,0,o):bv(t,n,e)}function jp(t,n,e){if(0===e.length)return new zn(t.segments,{});{const r=function t$(t){return fd(t[0])?t[0].outlets:{[Fn]:t}}(e),o={};return jo(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=S1(t.children[s],n,i))}),jo(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new zn(t.segments,o)}}function bv(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(fd(i)){const c=r$(i.outlets);return new zn(r,c)}if(0===o&&Hp(e[0])){r.push(new cd(t.segments[n].path,E1(e[0]))),o++;continue}const s=fd(i)?i.outlets[Fn]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Hp(a)?(r.push(new cd(s,E1(a))),o+=2):(r.push(new cd(s,{})),o++)}return new zn(r,{})}function r$(t){const n={};return jo(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=bv(new zn([],{}),0,e))}),n}function E1(t){const n={};return jo(t,(e,r)=>n[r]=`${e}`),n}function D1(t,n,e){return t==e.path&&Hs(n,e.parameters)}class o${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $l,this.attachRef=null}}class $l{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new o$,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}const Up=!1;let I1=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new hn,this.deactivateEvents=new hn,this.attachEvents=new hn,this.detachEvents=new hn,this.name=o||Fn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,Up);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,Up);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,Up);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new P(4013,Up);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new i$(e,a,o.injector);if(r&&function s$(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(C($l),C(ri),gl("name"),C(bt),C(bl))},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class i${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===wa?this.route:n===$l?this.childContexts:this.parent.get(n,e)}}let M1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&wt(0,"router-outlet")},dependencies:[I1],encapsulation:2}),t})();function k1(t,n){var e;return t.providers&&!t._injector&&(t._injector=qf(t.providers,n,`Route: ${t.path}`)),null!==(e=t._injector)&&void 0!==e?e:n}function Sv(t){const n=t.children&&t.children.map(Sv),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Fn&&(e.component=M1),e}function rs(t){return t.outlet||Fn}function T1(t,n){const e=t.filter(r=>rs(r)===n);return e.push(...t.filter(r=>rs(r)!==n)),e}function A1(t){var n;if(!t)return null;if(null!==(n=t.routeConfig)&&void 0!==n&&n._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class d${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),gv(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=Uc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),jo(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Uc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Uc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=Uc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new E3(i.value.snapshot))}),n.children.length&&this.forwardEvent(new C3(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(gv(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),gv(c.route.value),this.activateChildRoutes(n,null,a.children)}else{var s;const c=A1(o.snapshot),f=null!==(s=c?.get(ia))&&void 0!==s?s:null;a.attachRef=null,a.route=o,a.resolver=f,a.injector=c,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}function Gp(t){return"function"==typeof t}function Bl(t){return t instanceof Nl}const pd=Symbol("INITIAL_VALUE");function hd(){return Ti(t=>YD(t.map(n=>n.pipe(ji(1),XD(pd)))).pipe(QD((n,e)=>{let r=!1;return e.reduce((o,i,s)=>o!==pd?o:(i===pd&&(r=!0),r||!1!==i&&s!==e.length-1&&!Bl(i)?o:i),n)},pd),Vo(n=>n!==pd),tt(n=>Bl(n)?n:!0===n),ji(1)))}const x1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zp(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...x1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||k3)(e,t,n);if(!i)return{...x1};const s={};jo(i.posParams,(c,f)=>{s[f]=c.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Wp(t,n,e,r,o="corrected"){if(e.length>0&&function _$(t,n,e){return e.some(r=>qp(t,n,r)&&rs(r)!==Fn)}(t,e,r)){const s=new zn(n,function v$(t,n,e,r){const o={};o[Fn]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&rs(i)!==Fn){const s=new zn([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[rs(i)]=s}return o}(t,n,r,new zn(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function w$(t,n,e){return e.some(r=>qp(t,n,r))}(t,e,r)){const s=new zn(t.segments,function y$(t,n,e,r,o,i){const s={};for(const a of r)if(qp(t,e,a)&&!o[rs(a)]){const c=new zn([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[rs(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new zn(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function qp(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function P1(t,n,e,r){return!!(rs(t)===r||r!==Fn&&qp(n,e,t))&&("**"===t.path||zp(n,t,e).matched)}function R1(t,n,e){return 0===n.length&&!t.children[e]}const Zp=!1;class Yp{constructor(n){this.segmentGroup=n||null}}class F1{constructor(n){this.urlTree=n}}function md(t){return Hc(new Yp(t))}function O1(t){return Hc(new F1(t))}class E${constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=Wp(this.urlTree.root,[],[],this.config).segmentGroup,e=new zn(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Fn).pipe(tt(i=>this.createUrlTree(Ev(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qa(i=>{if(i instanceof F1)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Yp?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Fn).pipe(tt(o=>this.createUrlTree(Ev(o),n.queryParams,n.fragment))).pipe(qa(o=>{throw o instanceof Yp?this.noMatchError(o):o}))}noMatchError(n){return new P(4002,Zp)}createUrlTree(n,e,r){const o=n.segments.length>0?new zn([],{[Fn]:n}):n;return new Nl(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(tt(i=>new zn([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Wn(o).pipe($c(i=>{const s=r.children[i],a=T1(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(tt(c=>({segment:c,outlet:i})))}),QD((i,s)=>(i[s.outlet]=s.segment,i),{}),function p3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Vo((o,i)=>t(o,i,r)):K,ov(1),e?iv(n):JD(()=>new ad))}())}expandSegment(n,e,r,o,i,s){return Wn(r).pipe($c(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(qa(f=>{if(f instanceof Yp)return mn(null);throw f}))),Za(a=>!!a),qa((a,c)=>{if(a instanceof ad||"EmptyError"===a.name)return R1(e,o,i)?mn(new zn([],{})):md(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return P1(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):md(e):md(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?O1(i):this.lineralizeSegments(r,i).pipe(Gt(s=>{const a=new zn(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:y}=zp(e,o,i);if(!a)return md(e);const _=this.applyRedirectCommands(c,o.redirectTo,y);return o.redirectTo.startsWith("/")?O1(_):this.lineralizeSegments(o,_).pipe(Gt(I=>this.expandSegment(n,e,r,I.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){if("**"===r.path)return n=k1(r,n),r.loadChildren?(r._loadedRoutes?mn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(tt(_=>(r._loadedRoutes=_.routes,r._loadedInjector=_.injector,new zn(o,{})))):mn(new zn(o,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=zp(e,r,o);return s?(n=k1(r,n),this.getChildConfig(n,r,o).pipe(Gt(y=>{var _;const I=null!==(_=y.injector)&&void 0!==_?_:n,x=y.routes,{segmentGroup:Q,slicedSegments:Te}=Wp(e,a,c,x),Ke=new zn(Q.segments,Q.children);if(0===Te.length&&Ke.hasChildren())return this.expandChildren(I,x,Ke).pipe(tt(vt=>new zn(a,vt)));if(0===x.length&&0===Te.length)return mn(new zn(a,{}));const He=rs(r)===i;return this.expandSegment(I,Ke,x,Te,He?Fn:i,!0).pipe(tt(Ae=>new zn(a.concat(Ae.segments),Ae.children)))}))):md(e)}getChildConfig(n,e,r){return e.children?mn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?mn({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(n,e,r).pipe(Gt(o=>o?this.configLoader.loadChildren(n,e).pipe(Ho(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function C$(t){return Hc(cv(Zp))}())):mn({routes:[],injector:n})}runCanLoadGuards(n,e,r){const o=e.canLoad;return o&&0!==o.length?mn(o.map(s=>{const a=n.get(s);return Ya(function p$(t){return t&&Gp(t.canLoad)}(a)?a.canLoad(e,r):a(e,r))})).pipe(hd(),Ho(s=>{if(!Bl(s))return;const a=cv(lv+this.urlSerializer.serialize(s));throw a.url=s,a}),tt(s=>!0===s)):mn(!0)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return mn(r);if(o.numberOfChildren>1||!o.children[Fn])return Hc(new P(4e3,Zp));o=o.children[Fn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new Nl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return jo(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return jo(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new zn(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new P(4001,Zp);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}function Ev(t){const n={};for(const r of Object.keys(t.children)){const i=Ev(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function D$(t){if(1===t.numberOfChildren&&t.children[Fn]){const n=t.children[Fn];return new zn(t.segments.concat(n.segments),n.children)}return t}(new zn(t.segments,n))}class N1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Kp{constructor(n,e){this.component=n,this.route=e}}function M$(t,n,e){const r=t._root;return gd(r,n?n._root:null,e,[r.value])}function Xp(t,n,e){return(A1(n)??e).get(t)}function gd(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Uc(n);return t.children.forEach(s=>{(function T$(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function A$(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Ll(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ll(t.url,n.url)||!Hs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yv(t,n)||!Hs(t.queryParams,n.queryParams);default:return!yv(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new N1(r)):(i.data=s.data,i._resolvedData=s._resolvedData),gd(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Kp(a.outlet.component,s))}else s&&yd(n,a,o),o.canActivateChecks.push(new N1(r)),gd(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),jo(i,(s,a)=>yd(s,e.getContext(a),o)),o}function yd(t,n,e){const r=Uc(t),o=t.value;jo(r,(i,s)=>{yd(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new Kp(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class B${}function L1(t){return new at(n=>n.error(t))}class H${constructor(n,e,r,o,i,s){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const n=Wp(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Fn);if(null===e)return null;const r=new Vp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new _a(r,e),i=new _1(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(n){const e=n.value,r=v1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],a=T1(n,i),c=this.processSegmentGroup(a,s,i);if(null===c)return null;r.push(...c)}const o=$1(r);return function j$(t){t.sort((n,e)=>n.value.outlet===Fn?-1:e.value.outlet===Fn?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,r,o){for(const i of n){const s=this.processSegmentAgainstRoute(i,e,r,o);if(null!==s)return s}return R1(e,r,o)?[]:null}processSegmentAgainstRoute(n,e,r,o){if(n.redirectTo||!P1(n,e,r,o))return null;let i,s=[],a=[];if("**"===n.path){var c,f;const He=r.length>0?i1(r).parameters:{},st=V1(e)+r.length;i=new Vp(r,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j1(n),rs(n),null!==(c=null!==(f=n.component)&&void 0!==f?f:n._loadedComponent)&&void 0!==c?c:null,n,B1(e),st,U1(n),st)}else{var y,_;const He=zp(e,n,r);if(!He.matched)return null;s=He.consumedSegments,a=He.remainingSegments;const st=V1(e)+s.length;i=new Vp(s,He.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j1(n),rs(n),null!==(y=null!==(_=n.component)&&void 0!==_?_:n._loadedComponent)&&void 0!==y?y:null,n,B1(e),st,U1(n),st)}const I=function U$(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:x,slicedSegments:Q}=Wp(e,s,a,I.filter(He=>void 0===He.redirectTo),this.relativeLinkResolution);if(0===Q.length&&x.hasChildren()){const He=this.processChildren(I,x);return null===He?null:[new _a(i,He)]}if(0===I.length&&0===Q.length)return[new _a(i,[])];const Te=rs(n)===o,Ke=this.processSegment(I,x,Q,Te?Fn:o);return null===Ke?null:[new _a(i,Ke)]}}function G$(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function $1(t){const n=[],e=new Set;for(const r of t){if(!G$(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=$1(r.children);n.push(new _a(r.value,o))}return n.filter(r=>!e.has(r))}function B1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function V1(t){var n;let e=t,r=null!==(n=e._segmentIndexShift)&&void 0!==n?n:0;for(;e._sourceSegment;){var o;e=e._sourceSegment,r+=null!==(o=e._segmentIndexShift)&&void 0!==o?o:0}return r-1}function j1(t){return t.data||{}}function U1(t){return t.resolve||{}}const Iv=Symbol("RouteTitle");function G1(t){return"string"==typeof t.title||null===t.title}function Mv(t){return Ti(n=>{const e=t(n);return e?Wn(e).pipe(tt(()=>n)):mn(n)})}class z1{}class Q$ extends class X${shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const kv=new rn("ROUTES");let Tv=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return mn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ya(e.loadComponent()).pipe(Ho(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),av(()=>{this.componentLoaders.delete(e)})),o=new rv(r,()=>new z).pipe(nv());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(tt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f,y=!1;Array.isArray(a)?f=a:(c=a.create(e).injector,f=o1(c.get(kv,[],Ht.Self|Ht.Optional)));return{routes:f.map(Sv),injector:c}}),av(()=>{this.childrenLoaders.delete(r)})),s=new rv(i,()=>new z).pipe(nv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Ya(e()).pipe(Gt(r=>r instanceof wC||Array.isArray(r)?mn(r):Wn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(we(gr),we(Gg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class e4{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function t4(t){throw t}function n4(t,n,e){return n.parse("/")}const r4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new z,this.errorHandler=t4,this.malformedUriErrorHandler=n4,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>mn(void 0),this.urlHandlingStrategy=new e4,this.routeReuseStrategy=new Q$,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Tv),this.configLoader.onLoadEndListener=I=>this.triggerEvent(new w3(I)),this.configLoader.onLoadStartListener=I=>this.triggerEvent(new _3(I)),this.ngModule=s.get(Ba),this.console=s.get(W2);const _=s.get(ot);this.isNgZoneEnabled=_ instanceof ot&&ot.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function A3(){return new Nl(new zn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=y1(this.currentUrlTree,this.rootComponentType),this.transitions=new Hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Vo(o=>0!==o.id),tt(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ti(o=>{let i=!1,s=!1;return mn(o).pipe(Ho(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ti(a=>{const c=this.browserUrlTree.toString(),f=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Z1(a.source)&&(this.browserUrlTree=a.extractedUrl),mn(a).pipe(Ti(_=>{const I=this.transitions.getValue();return r.next(new Rp(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions.getValue()?rr:Promise.resolve(_)}),function I$(t,n,e,r){return Ti(o=>function S$(t,n,e,r,o){return new E$(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(tt(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ho(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects}}),function z$(t,n,e,r,o){return Gt(i=>function V$(t,n,e,r,o="emptyOnly",i="legacy"){try{const s=new H$(t,n,e,r,o,i).recognize();return null===s?L1(new B$):mn(s)}catch(s){return L1(s)}}(t,n,i.urlAfterRedirects,e(i.urlAfterRedirects),r,o).pipe(tt(s=>({...i,targetSnapshot:s}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ho(_=>{if("eager"===this.urlUpdateStrategy){if(!_.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);this.setBrowserUrl(x,_)}this.browserUrlTree=_.urlAfterRedirects}const I=new h3(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);r.next(I)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:x,source:Q,restoredState:Te,extras:Ke}=a,He=new Rp(I,this.serializeUrl(x),Q,Te);r.next(He);const st=y1(x,this.rootComponentType).snapshot;return mn({...a,targetSnapshot:st,urlAfterRedirects:x,extras:{...Ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),rr}),Ho(a=>{const c=new m3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),tt(a=>({...a,guards:M$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function x$(t,n){return Gt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?mn({...e,guardsResult:!0}):function P$(t,n,e,r){return Wn(t).pipe(Gt(o=>function $$(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?mn(i.map(a=>{const c=Xp(a,n,o);return Ya(function g$(t){return t&&Gp(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,r):c(t,n,e,r)).pipe(Za())})).pipe(hd()):mn(!0)}(o.component,o.route,e,n,r)),Za(o=>!0!==o,!0))}(s,r,o,t).pipe(Gt(a=>a&&function f$(t){return"boolean"==typeof t}(a)?function R$(t,n,e,r){return Wn(n).pipe($c(o=>ld(function O$(t,n){return null!==t&&n&&n(new b3(t)),mn(!0)}(o.route.parent,r),function F$(t,n){return null!==t&&n&&n(new S3(t)),mn(!0)}(o.route,r),function L$(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function k$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Pp(()=>mn(s.guards.map(c=>{const f=Xp(c,s.node,e);return Ya(function m$(t){return t&&Gp(t.canActivateChild)}(f)?f.canActivateChild(r,t):f(r,t)).pipe(Za())})).pipe(hd())));return mn(i).pipe(hd())}(t,o.path,e),function N$(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return mn(!0);const o=r.map(i=>Pp(()=>{const s=Xp(i,n,e);return Ya(function h$(t){return t&&Gp(t.canActivate)}(s)?s.canActivate(n,t):s(n,t)).pipe(Za())}));return mn(o).pipe(hd())}(t,o.route,e))),Za(o=>!0!==o,!0))}(r,i,t,n):mn(a)),tt(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ho(a=>{if(Bl(a.guardsResult)){const f=cv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw f.url=a.guardsResult,f}const c=new g3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Vo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Mv(a=>{if(a.guards.canActivateChecks.length)return mn(a).pipe(Ho(c=>{const f=new y3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),Ti(c=>{let f=!1;return mn(c).pipe(function W$(t,n){return Gt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return mn(e);let i=0;return Wn(o).pipe($c(s=>function q$(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!G1(o)&&(i[Iv]=o.title),function Z$(t,n,e,r){const o=function Y$(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return mn({});const i={};return Wn(o).pipe(Gt(s=>function K$(t,n,e,r){const o=Xp(t,n,r);return Ya(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,r).pipe(Za(),Ho(a=>{i[s]=a}))),ov(1),sv(i),qa(s=>s instanceof ad?rr:Hc(s)))}(i,t,n,r).pipe(tt(s=>(t._resolvedData=s,t.data=v1(t,e).resolve,o&&G1(o)&&(t.data[Iv]=o.title),null)))}(s.route,r,t,n)),Ho(()=>i++),ov(1),Gt(s=>i===o.length?mn(e):rr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ho({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Ho(c=>{const f=new v3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}))}),Mv(a=>{const c=f=>{var y;const _=[];null!==(y=f.routeConfig)&&void 0!==y&&y.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ho(I=>{f.component=I}),tt(()=>{})));for(const I of f.children)_.push(...c(I));return _};return YD(c(a.targetSnapshot.root)).pipe(iv(),ji(1))}),Mv(()=>this.afterPreactivation()),tt(a=>{const c=function Z3(t,n,e){const r=dd(t,n._root,e?e._root:void 0);return new g1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:c}}),Ho(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>tt(r=>(new d$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ho({next(){i=!0},complete(){i=!0}}),av(()=>{var a;i||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),qa(a=>{if(s=!0,function M3(t){return t&&t[n1]}(a)){const c=Bl(a.url);c||(this.navigated=!0,this.restoreHistory(o,!0));const f=new Fp(o.id,this.serializeUrl(o.extractedUrl),a.message);if(r.next(f),c){const y=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),_={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Z1(o.source)};this.scheduleNavigation(y,"imperative",null,_,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new e1(o.id,this.serializeUrl(o.extractedUrl),a);r.next(c);try{o.resolve(this.errorHandler(a))}catch(f){o.reject(f)}}return rr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const i={replaceUrl:!0},s=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Sv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=o||this.routerState.root,y=c?this.currentUrlTree.fragment:s;let _=null;switch(a){case"merge":_={...this.currentUrlTree.queryParams,...i};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=i||null}return null!==_&&(_=this.removeEmptyProps(_)),function X3(t,n,e,r,o){var i;if(0===e.length)return _v(n.root,n.root,n.root,r,o);const s=function Q3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new C1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return jo(i.outlets,(c,f)=>{a[f]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new C1(e,n,r)}(e);if(s.toRoot())return _v(n.root,n.root,new zn([],{}),r,o);const c=function a(y){var _;const I=function J3(t,n,e,r){return t.isAbsolute?new wv(n.root,!0,0):-1===r?new wv(e,e===n.root,0):function e$(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new P(4005,!1);o=r.segments.length}return new wv(r,!1,o-i)}(e,r+(Hp(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,null===(_=t.snapshot)||void 0===_?void 0:_._urlSegment,y),x=I.processChildren?jp(I.segmentGroup,I.index,s.commands):S1(I.segmentGroup,I.index,s.commands);return _v(n.root,I.segmentGroup,x,r,o)}(null===(i=t.snapshot)||void 0===i?void 0:i._lastPathIndex);return c}(f,this.currentUrlTree,e,_,y??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Bl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function i4(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new P(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...r4}:!1===r?{...o4}:r,Bl(e))return a1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return a1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ol(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((Q,Te)=>{a=Q,c=Te});const y=++this.navigationId;let _;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(o=this.location.getState()),o&&o.\u0275routerPageId)_=o.\u0275routerPageId;else if(i.replaceUrl||i.skipLocationChange){var I;_=null!==(I=this.browserPageId)&&void 0!==I?I:0}else{var x;_=(null!==(x=this.browserPageId)&&void 0!==x?x:0)+1}else _=0;return this.setTransition({id:y,targetPageId:_,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(Q=>Promise.reject(Q))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){var o,i;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new Fp(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){Um()},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Z1(t){return"imperative"!==t}class Y1{buildTitle(n){let e,r=n.root;for(;void 0!==r;){var o;e=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:e,r=r.children.find(i=>i.outlet===Fn)}return e}getResolvedTitleForRoute(n){return n.data[Iv]}}let l4=(()=>{class t extends Y1{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(we(EE))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class K1{}let c4=(()=>{class t{preload(e,r){return r().pipe(qa(()=>mn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X1=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vo(e=>e instanceof Ol),$c(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){var i,s;c.providers&&!c._injector&&(c._injector=qf(c.providers,e,`Route: ${c.path}`));const f=null!==(i=c._injector)&&void 0!==i?i:e,y=null!==(s=c._loadedInjector)&&void 0!==s?s:f;if(c.loadChildren&&!c._loadedRoutes||c.loadComponent&&!c._loadedComponent)o.push(this.preloadConfig(f,c));else if(c.children||c._loadedRoutes){var a;o.push(this.processRoutes(y,null!==(a=c.children)&&void 0!==a?a:c._loadedRoutes))}}return Wn(o).pipe(eo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):mn(null);const i=o.pipe(Gt(s=>{var a;return null===s?mn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return r.loadComponent&&!r._loadedComponent?Wn([i,this.loader.loadComponent(r)]).pipe(eo()):i})}}return t.\u0275fac=function(e){return new(e||t)(we(zr),we(Gg),we(bl),we(K1),we(Tv))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Q1=new rn("");let u4=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Rp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ol&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof t1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new t1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Um()},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const xv=new rn("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),J1=new rn("ROUTER_FORROOT_GUARD"),eI=new rn(""),d4=[Ku,{provide:dv,useClass:d1},{provide:zr,useFactory:function y4(t,n,e,r,o,i,s={},a,c,f,y){const _=new zr(null,t,n,e,r,o,o1(i));return f&&(_.urlHandlingStrategy=f),y&&(_.routeReuseStrategy=y),_.titleStrategy=c??a,function v4(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,_),_},deps:[dv,$l,Ku,gr,Gg,kv,xv,l4,[Y1,new Oa],[class J${},new Oa],[z1,new Oa]]},$l,{provide:wa,useFactory:function _4(t){return t.routerState.root},deps:[zr]},Tv];function f4(){return new yS("Router",zr)}let Qp=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[d4,[],tI(e),{provide:J1,useFactory:g4,deps:[[zr,new Oa,new Cu]]},{provide:xv,useValue:r||{}},null!=r&&r.useHash?{provide:Bs,useClass:jS}:{provide:Bs,useClass:HS},{provide:Q1,useFactory:()=>{const t=yl(zr),n=yl(QO),e=yl(xv);return e.scrollOffset&&n.setOffset(e.scrollOffset),new u4(t,n,e)}},null!=r&&r.preloadingStrategy?I4(r.preloadingStrategy):[],{provide:yS,multi:!0,useFactory:f4},null!=r&&r.initialNavigation?b4(r):[],[{provide:nI,useFactory:w4},{provide:uS,multi:!0,useExisting:nI}]]}}static forChild(e){return{ngModule:t,providers:[tI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(we(J1,8),we(zr,8))},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({}),t})();function g4(t){return"guarded"}function tI(t){return[{provide:ik,multi:!0,useValue:t},{provide:kv,multi:!0,useValue:t}]}function w4(){const t=yl(gr);return n=>{var e,r;const o=t.get(Ha);if(n!==o.components[0])return;const i=t.get(zr),s=t.get(rI);null===t.get(Pv,null,Ht.Optional)&&i.initialNavigation(),null===(e=t.get(eI,null,Ht.Optional))||void 0===e||e.setUpPreloading(),null===(r=t.get(Q1,null,Ht.Optional))||void 0===r||r.init(),i.resetRootComponentType(o.componentTypes[0]),s.next(),s.complete()}}const nI=new rn("");function b4(t){return["disabled"===t.initialNavigation?[{provide:Ml,multi:!0,useFactory:()=>{const t=yl(zr);return()=>{t.setUpLocationChangeListener()}}},{provide:Pv,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:Pv,useValue:"enabledBlocking"},{provide:Ml,multi:!0,deps:[gr],useFactory:t=>{const n=t.get(RF,Promise.resolve(null));let e=!1;return()=>n.then(()=>new Promise(o=>{const i=t.get(zr),s=t.get(rI);(function r(o){const i=t.get(zr);i.events.pipe(Vo(s=>s instanceof Ol||s instanceof Fp||s instanceof e1),tt(s=>{if(s instanceof Ol)return!0;const a=i.navigationId!==s.id,c=s instanceof Fp&&-1!==s.reason.indexOf(lv);return!(!a&&!c)&&null}),Vo(s=>null!==s),ji(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),i.afterPreactivation=()=>(o(!0),e||s.closed?mn(void 0):s),i.initialNavigation()}))}}]:[]]}const rI=new rn("",{factory:()=>new z}),Pv=new rn("");function I4(t){return[X1,{provide:eI,useExisting:X1},{provide:K1,useExisting:t}]}R(5794),R(932),R(2172);var Rv=R(537),Gc=R(9158),_d=R(4736),wd=(R(9506),R(9703)),oI=(R(607),R(9479));function sI(t,n=K){return t=t??k4,Re((e,r)=>{let o,i=!0;e.subscribe(nt(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function k4(t,n){return t===n}const A4=Rv.i,Tt=["*"],R4=["outlet"],F4=[[["","slot","top"]],"*"],O4=["[slot=top]","*"],aI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),lI=t=>!!t.resolveComponentFactory;let bd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",zc(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),zc(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),zc(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(ma)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>zc(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),zc(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ct))},t.\u0275dir=Ve({type:t,hostBindings:function(e,r){1&e&&lt("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const zc=t=>{aI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=$4(n);Fv(n,r);const o=n.closest("ion-item");o&&Fv(o,e?[...r,"item-has-value"]:r)})},$4=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&B4(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},Fv=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},B4=(t,n)=>t.substring(0,n.length)===n;let Cd=(()=>{class t extends bd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,zc(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ct))},t.\u0275dir=Ve({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleIonChange(i.target)})},features:[pr([{provide:hi,useExisting:t,multi:!0}]),Zn]}),t})(),Sd=(()=>{class t extends bd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ct))},t.\u0275dir=Ve({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[pr([{provide:hi,useExisting:t,multi:!0}]),Zn]}),t})(),Vl=(()=>{class t extends bd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ct))},t.\u0275dir=Ve({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[pr([{provide:hi,useExisting:t,multi:!0}]),Zn]}),t})();const j4=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},U4=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},or=(t,n,e)=>{e.forEach(r=>t[r]=sd(n,r))};function Dt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&j4(e,o),i&&U4(e,i),e}}let cI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-app"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0})],t),t})(),uI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),Ui=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),Gi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Wi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),os=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),Hl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),qi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),Jp=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),eh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),th=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),is=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),jl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),dI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),Ov=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),nh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),rh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),Ed=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),Nv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),fI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),Zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Dd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),Yi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ct),C(ot))},t.\u0275cmp=ue({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=pe([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class pI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let oh=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new HB(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(we(ot),we(Ha))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class HB{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(jB(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const jB=(t,n,e,r,o,i,s,a,c,f,y)=>{let _;const I=gr.create({providers:GB(f),parent:e});if(n&&lI(n)){const Ke=n.resolveComponentFactory(c);_=r?r.createComponent(Ke,r.length,I):Ke.create(I)}else{if(!r)return null;_=r.createComponent(c,{index:r.indexOf,injector:I,environmentInjector:n})}const x=_.instance,Q=_.location.nativeElement;if(f&&Object.assign(x,f),y)for(const Ke of y)Q.classList.add(Ke);const Te=hI(t,x,Q);return a.appendChild(Q),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Q,_),s.set(Q,Te),Q},UB=[_d.L,_d.a,_d.b,_d.c,_d.d],hI=(t,n,e)=>t.run(()=>{const r=UB.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),mI=new rn("NavParamsToken"),GB=t=>[{provide:mI,useValue:t},{provide:pI,useFactory:zB,deps:[mI]}],zB=t=>new pI(t),gI=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),Lv=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},KB=(t,n)=>{if(!t)return;const e=yI(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},yI=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),vI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class XB{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?yI(n):void 0}createView(n,e){var r;const o=Lv(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=hI(this.zone,n.instance,i);return{id:this.nextId++,stackId:KB(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=Lv(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,f=((t,n)=>!n||t.stackId!==n.stackId)(n,c);f&&(i="back",s=void 0);const y=this.views.slice();let _;const I=this.router;I.getCurrentNavigation?_=I.getCurrentNavigation():!(null===(e=I.navigations)||void 0===e)&&e.value&&(_=I.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const x=this.views.includes(n),Q=this.insertView(n,i);x||n.ref.changeDetectorRef.detectChanges();const Te=n.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Te&&(a=Te),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>QB(n,Q,y,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:f})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const y=c.get("primary");null!==(o=null===(r=y?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=y.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&_I(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(vI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?gI(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):gI(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return Yn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const QB=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{_I(t,n,e,r,o),i()})}):Promise.resolve(),_I=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(vI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let wI=(()=>{class t{get(e,r){const o=$v();return o?o.get(e,r):null}getBoolean(e,r){const o=$v();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=$v();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bI=new rn("USERCONFIG"),$v=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let JB=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new z,this.keyboardDidShow=new z,this.keyboardDidHide=new z,this.pause=new z,this.resume=new z,this.resize=new z,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,f=>r.run(()=>a(f))))},Wc(this.pause,e,"pause"),Wc(this.resume,e,"resume"),Wc(this.backButton,e,"ionBackButton"),Wc(this.resize,this.win,"resize"),Wc(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Wc(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,Rv.a)(this.win,e)}platforms(){return(0,Rv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return eV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(we(Eo),we(ot))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Wc=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let Id=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=CI,this.animated=SI,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Rp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return Yn(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=tV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=CI,this.animated=SI,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(we(JB),we(Ku),we(dv),we(zr,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},CI="auto",SI=void 0;class Bv{}let Md=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,_,I,x,Q,Te){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.environmentInjector=c,this.componentFactoryResolver=f,this.parentOutlet=Te,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Hi(null),this.stackEvents=new hn,this.activateEvents=new hn,this.deactivateEvents=new hn,this.nativeEl=_.nativeElement,this.name=o||Fn,this.tabsPrefix="true"===i?Lv(I,Q):void 0,this.stackCtrl=new XB(this.tabsPrefix,this.nativeEl,I,a,x,y),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,Gc.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const s=i.savedData;s&&(this.getContext().children.contexts=s),this.updateActivatedRouteProxy(o.instance,e)}else{const s=e._futureSnapshot,a=s.routeConfig.component;if(null==a&&s.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const c=this.parentContexts.getOrCreateContext(this.name).children,f=new Hi(null),y=this.createActivatedRouteProxy(f,e),_=new nV(y,c,this.location.injector);if((r=r||this.componentFactoryResolver)&&lI(r)){const I=r.resolveComponentFactory(a);o=this.activated=this.location.createComponent(I,this.location.length,_)}else o=this.activated=this.location.createComponent(a,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,y),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(s=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(o.instance),this.stackEvents.emit(s)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new wa;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(Vo(o=>!!o),Ti(o=>this.currentActivatedRoute$.pipe(Vo(i=>null!==i&&i.component===o),Ti(i=>i&&i.activatedRoute[r]),sI())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(C($l),C(ri),gl("name"),gl("tabs"),C(wI),C(Id),C(Bv,8),C(ia,8),C(Ku),C(ct),C(zr),C(ot),C(wa),C(t,12))},t.\u0275dir=Ve({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class nV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===wa?this.route:n===$l?this.childContexts:this.parent.get(n,e)}}let EI=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new hn,this.ionTabsDidChange=new hn}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(C(Id))},t.\u0275cmp=ue({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function aa(t,n,e,r){const o=Hn();if(o.firstCreatePass){const i=an();jC(o,new BC(n,e,r),i.index),function D2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}HC(o,it(),e)}(o,Nv,5),2&e){let i;Bi(i=Vi())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&zu(R4,5,Md),2&e){let o;Bi(o=Vi())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&lt("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:O4,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,r){1&e&&(Et(F4),St(0),ve(1,"div",0)(2,"ion-router-outlet",1,2),lt("stackEvents",function(i){return r.onPageSelected(i)}),de()(),St(4,1))},dependencies:[Md],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),DI=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(C(Md,8),C(Id),C(wI))},t.\u0275dir=Ve({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&lt("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),II=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),or(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(ct),C(ia),C(gr),C(oh),C(ri))},t.\u0275dir=Ve({type:t,selectors:[["ion-nav"]]}),t=pe([Dt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class kd{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Vv=(()=>{class t extends kd{constructor(){super(wd.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qc=(()=>{class t extends kd{constructor(){super(wd.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ka=(()=>{class t extends kd{constructor(){super(wd.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ys=(()=>{class t extends kd{constructor(e,r,o,i){super(wd.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(we(oh),we(ia),we(gr),we(Bv,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Td=(()=>{class t extends kd{constructor(e,r,o,i){super(wd.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(we(oh),we(ia),we(gr),we(Bv,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class cV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const uV=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function T4(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,oI.p)().then(()=>(A4(),(0,oI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:aI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let Xa=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:bI,useValue:e},{provide:Ml,useFactory:uV,multi:!0,deps:[bI,Eo,ot]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({providers:[oh,ys,Td],imports:[[Vs]]}),t})();class dV extends W{constructor(n,e){super()}schedule(n,e=0){return this}}const ih={setInterval(t,n,...e){const{delegate:r}=ih;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=ih;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},Hv={now:()=>(Hv.delegate||Date).now(),delegate:void 0};class Ad{constructor(n,e=Ad.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}Ad.now=Hv.now;const AI=new class pV extends Ad{constructor(n,e=Ad.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class fV extends dV{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return ih.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;ih.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ee(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),hV=AI;function xI(t=0,n,e=hV){let r=-1;return null!=n&&(Go(n)?e=n:r=n),new at(o=>{let i=function mV(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class gV extends z{constructor(n=1/0,e=1/0,r=Hv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}let Zc={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const wV=/[&<>"']/,bV=/[&<>"']/g,CV=/[<>"']|&(?!#?\w+;)/,SV=/[<>"']|&(?!#?\w+;)/g,EV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},RI=t=>EV[t];function xo(t,n){if(n){if(wV.test(t))return t.replace(bV,RI)}else if(CV.test(t))return t.replace(SV,RI);return t}const DV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function FI(t){return t.replace(DV,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const IV=/(^|[^\[])\^/g;function Sr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(IV,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const MV=/[^\w:]/g,kV=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function OI(t,n,e){if(t){let r;try{r=decodeURIComponent(FI(e)).replace(MV,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!kV.test(e)&&(e=function PV(t,n){sh[" "+t]||(sh[" "+t]=TV.test(t)?t+"/":lh(t,"/",!0));const e=-1===(t=sh[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(AV,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(xV,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const sh={},TV=/^[^:]+:\/*[^/]*$/,AV=/^([^:]+:)[\s\S]*$/,xV=/^([^:]+:\/*[^/]*)[\s\S]*$/,ah={exec:function(){}};function vs(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function NI(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function lh(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function LI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function $I(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function BI(t,n,e,r){const o=n.href,i=n.title?xo(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:xo(s)}}class jv{constructor(n){this.options=n||Zc}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:lh(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function FV(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=lh(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,f,y,_,I,x,Q,Te=e[1].trim();const Ke=Te.length>1,He={type:"list",raw:"",ordered:Ke,start:Ke?+Te.slice(0,-1):"",loose:!1,items:[]};Te=Ke?`\\d{1,9}\\${Te.slice(-1)}`:`\\${Te}`,this.options.pedantic&&(Te=Ke?Te:"[*+-]");const st=new RegExp(`^( {0,3}${Te})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(Q=!1,(e=st.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),y=e[2].split("\n",1)[0],_=n.split("\n",1)[0],this.options.pedantic?(s=2,x=y.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,x=y.slice(s),s+=e[1].length),c=!1,!y&&/^ *$/.test(_)&&(r+=_+"\n",n=n.substring(_.length+1),Q=!0),!Q){const vt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),Lt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Cn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Po=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(I=n.split("\n",1)[0],y=I,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Cn.test(y)||Po.test(y)||vt.test(y)||Lt.test(n)));){if(y.search(/[^ ]/)>=s||!y.trim())x+="\n"+y.slice(s);else{if(c)break;x+="\n"+y}!c&&!y.trim()&&(c=!0),r+=I+"\n",n=n.substring(I.length+1)}}He.loose||(f?He.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(x),o&&(i="[ ] "!==o[0],x=x.replace(/^\[[ xX]\] +/,""))),He.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:x}),He.raw+=r}He.items[He.items.length-1].raw=r.trimRight(),He.items[He.items.length-1].text=x.trimRight(),He.raw=He.raw.trimRight();const Ae=He.items.length;for(a=0;a<Ae;a++){this.lexer.state.top=!1,He.items[a].tokens=this.lexer.blockTokens(He.items[a].text,[]);const vt=He.items[a].tokens.filter(Cn=>"space"===Cn.type),Lt=vt.every(Cn=>{const Po=Cn.raw.split("");let _s=0;for(const Vd of Po)if("\n"===Vd&&(_s+=1),_s>1)return!0;return!1});!He.loose&&vt.length&&Lt&&(He.loose=!0,He.items[a].loose=!0)}return He}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):xo(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:NI(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=NI(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=[],this.lexer.inline(r.header[s].text,r.header[s].tokens);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=[],this.lexer.inline(c[a].text,c[a].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:xo(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):xo(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=lh(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function RV(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),BI(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return BI(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,f=s,y=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=_.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){y+=c;continue}if(f-=c,f>0)continue;if(c=Math.min(c,c+f+y),Math.min(s,c)%2){const x=n.slice(1,s+o.index+c);return{type:"em",raw:n.slice(0,s+o.index+c+1),text:x,tokens:this.lexer.inlineTokens(x,[])}}const I=n.slice(2,s+o.index+c-1);return{type:"strong",raw:n.slice(0,s+o.index+c+1),text:I,tokens:this.lexer.inlineTokens(I,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=xo(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=xo(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=xo(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=xo(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=xo(r[0]),i="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):xo(r[0]):r[0]:xo(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const ln={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ah,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ln.def=Sr(ln.def).replace("label",ln._label).replace("title",ln._title).getRegex(),ln.bullet=/(?:[*+-]|\d{1,9}[.)])/,ln.listItemStart=Sr(/^( *)(bull) */).replace("bull",ln.bullet).getRegex(),ln.list=Sr(ln.list).replace(/bull/g,ln.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ln.def.source+")").getRegex(),ln._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ln._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ln.html=Sr(ln.html,"i").replace("comment",ln._comment).replace("tag",ln._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ln.paragraph=Sr(ln._paragraph).replace("hr",ln.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ln._tag).getRegex(),ln.blockquote=Sr(ln.blockquote).replace("paragraph",ln.paragraph).getRegex(),ln.normal=vs({},ln),ln.gfm=vs({},ln.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ln.gfm.table=Sr(ln.gfm.table).replace("hr",ln.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ln._tag).getRegex(),ln.gfm.paragraph=Sr(ln._paragraph).replace("hr",ln.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ln.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ln._tag).getRegex(),ln.pedantic=vs({},ln.normal,{html:Sr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ln._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ah,paragraph:Sr(ln.normal._paragraph).replace("hr",ln.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ln.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const jt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ah,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ah,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function OV(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function VI(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}jt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",jt.punctuation=Sr(jt.punctuation).replace(/punctuation/g,jt._punctuation).getRegex(),jt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,jt.escapedEmSt=/\\\*|\\_/g,jt._comment=Sr(ln._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),jt.emStrong.lDelim=Sr(jt.emStrong.lDelim).replace(/punct/g,jt._punctuation).getRegex(),jt.emStrong.rDelimAst=Sr(jt.emStrong.rDelimAst,"g").replace(/punct/g,jt._punctuation).getRegex(),jt.emStrong.rDelimUnd=Sr(jt.emStrong.rDelimUnd,"g").replace(/punct/g,jt._punctuation).getRegex(),jt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,jt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,jt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,jt.autolink=Sr(jt.autolink).replace("scheme",jt._scheme).replace("email",jt._email).getRegex(),jt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,jt.tag=Sr(jt.tag).replace("comment",jt._comment).replace("attribute",jt._attribute).getRegex(),jt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,jt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,jt.link=Sr(jt.link).replace("label",jt._label).replace("href",jt._href).replace("title",jt._title).getRegex(),jt.reflink=Sr(jt.reflink).replace("label",jt._label).replace("ref",ln._label).getRegex(),jt.nolink=Sr(jt.nolink).replace("ref",ln._label).getRegex(),jt.reflinkSearch=Sr(jt.reflinkSearch,"g").replace("reflink",jt.reflink).replace("nolink",jt.nolink).getRegex(),jt.normal=vs({},jt),jt.pedantic=vs({},jt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",jt._label).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jt._label).getRegex()}),jt.gfm=vs({},jt.normal,{escape:Sr(jt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),jt.gfm.url=Sr(jt.gfm.url,"i").replace("email",jt.gfm._extended_email).getRegex(),jt.breaks=vs({},jt.gfm,{br:Sr(jt.br).replace("{2,}","*").getRegex(),text:Sr(jt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ca{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Zc,this.options.tokenizer=this.options.tokenizer||new jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:ln.normal,inline:jt.normal};this.options.pedantic?(e.block=ln.pedantic,e.inline=jt.pedantic):this.options.gfm&&(e.block=ln.gfm,e.inline=this.options.breaks?jt.breaks:jt.gfm),this.tokenizer.rules=e}static get rules(){return{block:ln,inline:jt}}static lex(n,e){return new Ca(e).lex(n)}static lexInline(n,e){return new Ca(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(y){f=y.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,i,a,c,f,s=n;if(this.tokens.links){const y=Object.keys(this.tokens.links);if(y.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)y.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+$I("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+$I("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(y=>!!(r=y.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,VI)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,VI))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let y=1/0;const _=n.slice(1);let I;this.options.extensions.startInline.forEach(function(x){I=x.call({lexer:this},_),"number"==typeof I&&I>=0&&(y=Math.min(y,I))}),y<1/0&&y>=0&&(i=n.substring(0,y+1))}if(r=this.tokenizer.inlineText(i,OV)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const y="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(y);break}throw new Error(y)}}return e}}class Yc{constructor(n){this.options=n||Zc}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+xo(o,!0)+'">'+(r?n:xo(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:xo(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=OI(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+xo(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=OI(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class HI{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class jI{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Sa{constructor(n){this.options=n||Zc,this.options.renderer=this.options.renderer||new Yc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new HI,this.slugger=new jI}static parse(n,e){return new Sa(e).parse(n)}static parseInline(n,e){return new Sa(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,f,y,_,I,x,Q,Te,Ke,He,st,Ae,vt,Lt,Cn,r="";const Po=n.length;for(o=0;o<Po;o++)if(x=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(Cn=this.options.extensions.renderers[x.type].call({parser:this},x),!1!==Cn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)))r+=Cn||"";else switch(x.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(x.tokens),x.depth,FI(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(x.text,x.lang,x.escaped);continue;case"table":for(_="",y="",a=x.header.length,i=0;i<a;i++)y+=this.renderer.tablecell(this.parseInline(x.header[i].tokens),{header:!0,align:x.align[i]});for(_+=this.renderer.tablerow(y),I="",a=x.rows.length,i=0;i<a;i++){for(f=x.rows[i],y="",c=f.length,s=0;s<c;s++)y+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:x.align[s]});I+=this.renderer.tablerow(y)}r+=this.renderer.table(_,I);continue;case"blockquote":I=this.parse(x.tokens),r+=this.renderer.blockquote(I);continue;case"list":for(Q=x.ordered,Te=x.start,Ke=x.loose,a=x.items.length,I="",i=0;i<a;i++)st=x.items[i],Ae=st.checked,vt=st.task,He="",st.task&&(Lt=this.renderer.checkbox(Ae),Ke?st.tokens.length>0&&"paragraph"===st.tokens[0].type?(st.tokens[0].text=Lt+" "+st.tokens[0].text,st.tokens[0].tokens&&st.tokens[0].tokens.length>0&&"text"===st.tokens[0].tokens[0].type&&(st.tokens[0].tokens[0].text=Lt+" "+st.tokens[0].tokens[0].text)):st.tokens.unshift({type:"text",text:Lt}):He+=Lt),He+=this.parse(st.tokens,Ke),I+=this.renderer.listitem(He,vt,Ae);r+=this.renderer.list(I,Q,Te);continue;case"html":r+=this.renderer.html(x.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(x.tokens));continue;case"text":for(I=x.tokens?this.parseInline(x.tokens):x.text;o+1<Po&&"text"===n[o+1].type;)x=n[++o],I+="\n"+(x.tokens?this.parseInline(x.tokens):x.text);r+=e?this.renderer.paragraph(I):I;continue;default:{const _s='Token with "'+x.type+'" type was not found.';if(this.options.silent)return void console.error(_s);throw new Error(_s)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function gn(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),LI(n=vs({},gn.defaults,n||{})),e){const r=n.highlight;let o;try{o=Ca.lex(t,n)}catch(a){return e(a)}const i=function(a){let c;if(!a)try{n.walkTokens&&gn.walkTokens(o,n.walkTokens),c=Sa.parse(o,n)}catch(f){a=f}return n.highlight=r,a?e(a):e(null,c)};if(!r||r.length<3||(delete n.highlight,!o.length))return i();let s=0;return gn.walkTokens(o,function(a){"code"===a.type&&(s++,setTimeout(()=>{r(a.text,a.lang,function(c,f){if(c)return i(c);null!=f&&f!==a.text&&(a.text=f,a.escaped=!0),s--,0===s&&i()})},0))}),void(0===s&&i())}try{const r=Ca.lex(t,n);return n.walkTokens&&gn.walkTokens(r,n.walkTokens),Sa.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+xo(r.message+"",!0)+"</pre>";throw r}}gn.options=gn.setOptions=function(t){return vs(gn.defaults,t),function _V(t){Zc=t}(gn.defaults),gn},gn.getDefaults=function PI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},gn.defaults=Zc,gn.use=function(...t){const n=vs({},...t),e=gn.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers?e.renderers[i.name]:null;e.renderers[i.name]=s?function(...a){let c=i.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)})),o.renderer){const i=gn.defaults.renderer||new Yc;for(const s in o.renderer){const a=i[s];i[s]=(...c)=>{let f=o.renderer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.renderer=i}if(o.tokenizer){const i=gn.defaults.tokenizer||new jv;for(const s in o.tokenizer){const a=i[s];i[s]=(...c)=>{let f=o.tokenizer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.tokenizer=i}if(o.walkTokens){const i=gn.defaults.walkTokens;n.walkTokens=function(s){o.walkTokens.call(this,s),i&&i.call(this,s)}}r&&(n.extensions=e),gn.setOptions(n)})},gn.walkTokens=function(t,n){for(const e of t)switch(n.call(gn,e),e.type){case"table":for(const r of e.header)gn.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)gn.walkTokens(o.tokens,n);break;case"list":gn.walkTokens(e.items,n);break;default:gn.defaults.extensions&&gn.defaults.extensions.childTokens&&gn.defaults.extensions.childTokens[e.type]?gn.defaults.extensions.childTokens[e.type].forEach(function(r){gn.walkTokens(e[r],n)}):e.tokens&&gn.walkTokens(e.tokens,n)}},gn.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");LI(n=vs({},gn.defaults,n||{}));try{const e=Ca.lexInline(t,n);return n.walkTokens&&gn.walkTokens(e,n.walkTokens),Sa.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+xo(e.message+"",!0)+"</pre>";throw e}},gn.Parser=Sa,gn.parser=Sa.parse,gn.Renderer=Yc,gn.TextRenderer=HI,gn.Lexer=Ca,gn.lexer=Ca.lex,gn.Tokenizer=jv,gn.Slugger=jI,gn.parse=gn;const NV=["*"];let Uv=(()=>{class t{constructor(){this._buttonClick$=new z,this.copied$=this._buttonClick$.pipe(Ti(()=>Wo(mn(!0),xI(3e3).pipe(sv(!1)))),sI(),function yV(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,vi({connector:()=>new gV(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(XD(!1),tt(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(ve(0,"button",0),lt("click",function(){return r.onCopyToClipboardClick()}),Dl(1,"async"),rt(2),Dl(3,"async"),de()),2&e&&($a("copied",Il(1,3,r.copied$)),pt(2),ps(Il(3,5,r.copiedText$)))},dependencies:[oE],encapsulation:2,changeDetection:0}),t})();class BV{}var xd=(()=>{return(t=xd||(xd={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",xd;var t})();class UI{}const GI=new rn("SECURITY_CONTEXT");let Gv=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new Yc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new z,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new Yc));const f=this.trimIndentation(e),y=o?this.decodeHtml(f):f,_=s?this.parseEmoji(y):y,I=this.parseMarked(_,c,i);return this.sanitizer.sanitize(this.securityContext,I)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:f,mermaidOptions:y}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...y}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(tt(r=>this.handleExtension(e,r)))}highlight(e){if(!pa(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!pa(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),f=c>-1?a.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return pa(this.platform)?o?gn.parseInline(e,r):gn.parse(e,r):e}parseEmoji(e){if(!pa(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(pa(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!pa(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const f=a.item(c),y=document.createElement("div");y.style.position="relative",f.parentNode.insertBefore(y,f),y.appendChild(f);const _=document.createElement("div");let I,x;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",y.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",I=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Uv).hostView,I.rootNodes.forEach(Q=>{Q.onmouseover=()=>_.style.opacity="1",_.appendChild(Q),x=new ClipboardJS(Q,{text:()=>f.innerText})}),I.onDestroy(()=>x.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!pa(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(we(Oc),we(GI),we(Ay,8),we(BV,8),we(UI,8),we(Dy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),zv=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new hn,this.load=new hn,this.ready=new hn,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new z}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function vV(t){return Re((n,e)=>{S(t).subscribe(nt(e,()=>e.complete(),$)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,xd.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,xd.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(C(ct),C(Gv),C(ri))},t.\u0275cmp=ue({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[bo],ngContentSelectors:NV,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2}),t})(),Wv=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Gv,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:GI,useValue:e&&null!=e.sanitize?e.sanitize:Cr.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs]}),t})();var zI;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(zI||(zI={}));var Se=R(3918);window;const WI=!navigator.userAgent.match(/(crios)|(fxios)/i),js=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,qI=!!navigator.userAgent.match(/android/i);var Qa=(()=>{return(t=Qa||(Qa={})).web="web",t.pwa="pwa",t.twa="twa",Qa;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const YV=new Error("request for lock canceled");var ZI=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(_){s(_)}}function c(y){try{f(r.throw(y))}catch(_){s(_)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,c)}f((r=r.apply(t,n||[])).next())})};class KV{constructor(n,e=YV){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return ZI(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return ZI(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class Us{constructor(n){this._semaphore=new KV(1,n)}acquire(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(_){s(_)}}function c(y){try{f(r.throw(y))}catch(_){s(_)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[,n]=yield this._semaphore.acquire();return n})}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Ja="session",Kc="rom",el="memory",Ea="state",ch="kvs",tl="memory-meta",Gs="storage",Ki="storage-card",Pd="lock";class Xc extends Error{constructor(n){super(n)}}function qn(t){return new Promise((n,e)=>{!function eH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new Xc(t.error?.message))})}function XI(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function tH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const uh="session",Zv="memory",rH="memory-meta",oH="storage",JI="storage-meta",eM="storage-card",sH="storageId";function Yv(){return(Yv=(0,Se.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(uh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Kv(){return(Kv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function Xv(){return(Xv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(rH,{keyPath:"sessionId"});t.createObjectStore(oH),t.createObjectStore(JI,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(uh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Qv(){return(Qv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(JI).name=eM})).apply(this,arguments)}function Jv(){return(Jv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(eM).createIndex(sH,"storageId")})).apply(this,arguments)}function e_(){return(e_=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var mH=R(5023),gH=R.n(mH);const tM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let dh;const yH=new Uint8Array(16);function vH(){if(!dh&&(dh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dh(yH)}const Uo=[];for(let t=0;t<256;++t)Uo.push((t+256).toString(16).slice(1));const t_=function _H(t,n,e){if(tM.randomUUID&&!n&&!t)return tM.randomUUID();const r=(t=t||{}).random||(t.rng||vH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function nM(t,n=0){return(Uo[t[n+0]]+Uo[t[n+1]]+Uo[t[n+2]]+Uo[t[n+3]]+"-"+Uo[t[n+4]]+Uo[t[n+5]]+"-"+Uo[t[n+6]]+Uo[t[n+7]]+"-"+Uo[t[n+8]]+Uo[t[n+9]]+"-"+Uo[t[n+10]]+Uo[t[n+11]]+Uo[t[n+12]]+Uo[t[n+13]]+Uo[t[n+14]]+Uo[t[n+15]]).toLowerCase()}(r)},fh="cloudpilot-session-preview";function rM(){localStorage.removeItem(fh)}let Da=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ii=(()=>{class t{constructor(e,r){this.alertController=e,this.emulationState=r,this.emergencySaveEvent=new To.j}errorMessage(e){var r=this;return(0,Se.Z)(function*(){yield(yield r.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,r,o={},i="Close"){var s=this;return(0,Se.Z)(function*(){const a=yield s.alertController.create({header:e,message:r,backdropDismiss:!1,buttons:[...Object.keys(o).map(c=>({text:c,handler:()=>{o[c](),a.dismiss()}})),{text:i,role:"cancel"}]});yield a.present(),yield a.onDidDismiss()})()}updateAvailable(){var e=this;return(0,Se.Z)(function*(){yield(yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]})).present()})()}fatalError(e,r=!0){var o=this;return(0,Se.Z)(function*(){const i=!!o.emulationState.getCurrentSession();yield(yield o.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&r?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...i&&r?[{text:"Save image",handler:()=>(o.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"})).present()})()}errorInNativeCode(e){var r=this;return(0,Se.Z)(function*(){yield(yield r.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]})).present()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}return t.\u0275fac=function(e){return new(e||t)(we(qc),we(Da))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qc=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&rM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new To.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(we(ii),we(ot))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const n_=new Error("page lock lost"),oM=new Error("version mismatch"),iM=t_();function Xr(){return(t,n,e)=>{const r=e.value;return e.value=(0,Se.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof Xc?o.fatalIDBDead():i===oM?o.fatalVersionMismatch():i===n_?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class Bn{constructor(n,e){this.ngZone=n,this.errorService=e,this.saveMemory=(r,o,i)=>this.ngZone.runOutsideAngular(()=>{const s=r.objectStore(el),a=r.objectStore(tl),c=new Uint32Array(256),f=new Uint8Array(c.buffer);s.delete(IDBKeyRange.bound([o,0],[o+1,0],!1,!0)),a.put({sessionId:o,totalSize:i.length});const _=i.length>>>10;for(let I=0;I<_;I++){f.set(i.subarray(1024*I,1024*(I+1)));const x=XI(c);if("number"==typeof x)s.put(x,[o,I]);else{const Q=new Uint32Array(256);Q.set(x),s.put(Q,[o,I])}}}),this.loadMemory=(r,o)=>this.ngZone.runOutsideAngular((0,Se.Z)(function*(){const i=r.objectStore(tl),s=yield qn(i.get(o));if(s)return new Promise(function(){var a=(0,Se.Z)(function*(c,f){const y=r.objectStore(el),_=new Uint32Array(s.totalSize>>>2),I=y.openCursor(IDBKeyRange.bound([o,0],[o+1,0],!1,!0));I.onsuccess=()=>{const x=I.result;if(!x)return c(new Uint8Array(_.buffer));const Q=x.value,[,Te]=x.key;"number"==typeof Q?_.subarray(256*Te,256*(Te+1)).fill(Q|Q<<8|Q<<16|Q<<24):_.subarray(256*Te,256*(Te+1)).set(1024===Q.length?new Uint32Array(Q.buffer):Q),x.continue()},I.onerror=()=>f(new Xc(I.error?.message))});return function(c,f){return a.apply(this,arguments)}}())})),this.sessionChangeEvent=new To.j,this.storageCardChangeEvent=new To.j,this.sessionUpdateMutex=new Us,this.requestPersistentStorage(),this.db=n.runOutsideAngular(()=>this.setupDb())}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,Se.Z)(function*(){const s=gH()(e),a=yield i.newTransaction(Ja,Kc,Ea,el,tl),c=a.objectStore(Ja),f=a.objectStore(Kc);(yield qn(f.get(s)))||f.put(e,s);const{id:_,...I}=n,x=yield qn(c.add({...I,rom:s})),Q=yield qn(c.get(x));return r&&i.saveMemory(a,Q.id,r),o&&i.saveState(a,Q.id,o),yield qn(a),Q})()}getAllSessions(){var n=this;return(0,Se.Z)(function*(){const[e]=yield n.prepareObjectStore(Ja);return yield qn(e.getAll())})()}getSession(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(Ja);return yield qn(r.get(n))})()}deleteSession(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(Ja,Kc,Ea,el,tl),o=r.objectStore(Ja),i=r.objectStore(Kc);(n=yield qn(o.get(n.id)))&&(o.delete(n.id),0===(yield qn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield qn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,Se.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[f,y]=yield r.prepareObjectStore(Ja),_=yield qn(f.get(n));if(!_)throw new Error(`no session with id ${n}`);const I={..._,...c};f.put(I),yield qn(y),r.sessionChangeEvent.dispatch([_.id,I])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Ja),i=yield qn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield qn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(Kc,Ea,el,tl),o=r.objectStore(Kc);return[yield qn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Ea);r.delete(n.id),yield qn(o)})()}addEmptyStorageCard(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(Ki),o=yield qn(r.add(n));return qn(r.get(o))})()}importStorageCard(n,e){var r=this;return(0,Se.Z)(function*(){return r.ngZone.runOutsideAngular((0,Se.Z)(function*(){const o=yield r.newTransaction(Ki,Gs),i=o.objectStore(Ki),s=o.objectStore(Gs),a=yield qn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<c;_++){const I=e.subarray(2048*_,2048*(_+1));_===c-1&&f.set(I);const x=tH(_===c-1?f:I);0!==x&&s.put("number"==typeof x?x:x?.slice(),[a,_])}const y=yield qn(i.get(a));return yield qn(o),y}))})()}getAllStorageCards(){var n=this;return(0,Se.Z)(function*(){const[e]=yield n.prepareObjectStore(Ki);return qn(e.getAll())})()}getCard(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(Ki);return qn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,Se.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,f]=yield r.prepareObjectStore(Ki),y=yield qn(c.get(n));if(!y)throw new Error(`no card with id ${n}`);const _={...y,...a};c.put(_),yield qn(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(Ki,Gs),o=r.objectStore(Ki),i=r.objectStore(Gs);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield qn(r)})()}loadCardData(n,e){var r=this;return this.ngZone.runOutsideAngular((0,Se.Z)(function*(){const i=(yield r.newTransaction(Ki,Gs)).objectStore(Gs);yield new Promise(function(){var s=(0,Se.Z)(function*(a,c){const f=i.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));f.onsuccess=()=>{const y=f.result;if(!y)return a();let _=y.value;const[,I]=y.key;"number"==typeof _?e.subarray(2048*I,2048*(I+1)).fill(_):(2048*(I+1)>e.length&&(_=_.subarray(0,2048-2048*(I+1)+e.length)),e.subarray(2048*I,2048*(I+1)).set(_)),y.continue()},f.onerror=()=>c(new Xc(f.error?.message))});return function(a,c){return s.apply(this,arguments)}}())}))}updateCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,Se.Z)(function*(){const i=yield o.newTransaction(Ki,Gs),s=i.objectStore(Ki),a=i.objectStore(Gs),c=yield qn(s.get(n));if(!c)throw new Error(`no card with ID ${n}`);if(e.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let y=0;for(let _=0;_<r.length;_++)for(let I=1;I<256&&!(y>=f);I<<=1)r[_]&I&&a.put(e.subarray(2048*y,2048*(y+1)).slice(),[c.id,y]),y++;yield qn(i)}))}kvsGet(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(ch);return qn(r.get(n))})()}kvsSet(n){var e=this;return(0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(ch);for(const i of Object.keys(n))r.put(n[i],i);yield qn(o)})()}kvsLoad(){var n=this;return(0,Se.Z)(function*(){const[e]=yield n.prepareObjectStore(ch);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Xc(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(ch);r.delete(n),yield qn(o)})()}acquireLock(n){return(0,Se.Z)(function*(){if((yield qn(n.objectStore(Pd).get(0)))!==iM)throw n.abort(),n.db.close(),n_})()}newTransaction(...n){var e=this;return(0,Se.Z)(function*(){const r=(yield e.db).transaction([Pd,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Ea);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Ea).delete(e)}loadState(n,e){return qn(n.objectStore(Ea).get(e))}deleteMemory(n,e){const r=n.objectStore(el),o=n.objectStore(tl);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,Se.Z)(function*(){const e=n.transaction(Pd,"readwrite");yield qn(e.objectStore(Pd).put(iM,0))})()}setupDb(){var n=this;return(0,Se.Z)(function*(){const e=setTimeout(()=>js&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw oM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Xc("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,Se.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function aH(t){t.createObjectStore(uh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function lH(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(Zv)&&t.deleteObjectStore(Zv),n.objectStore(uh).clear(),t.createObjectStore("rom"),t.createObjectStore(Zv),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function cH(t,n){return Yv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function uH(t,n){return Kv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function dH(t,n){return Xv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function fH(t,n){return Qv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function pH(t,n){return Jv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function hH(t,n){return e_.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,Se.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}Bn.\u0275fac=function(n){return new(n||Bn)(we(ot),we(Qc))},Bn.\u0275prov=ht({token:Bn,factory:Bn.\u0275fac,providedIn:"root"}),pe([Xr()],Bn.prototype,"addSession",null),pe([Xr()],Bn.prototype,"getAllSessions",null),pe([Xr()],Bn.prototype,"getSession",null),pe([Xr()],Bn.prototype,"deleteSession",null),pe([Xr()],Bn.prototype,"updateSessionPartial",null),pe([Xr()],Bn.prototype,"updateSession",null),pe([Xr()],Bn.prototype,"loadSession",null),pe([Xr()],Bn.prototype,"deleteStateForSession",null),pe([Xr()],Bn.prototype,"addEmptyStorageCard",null),pe([Xr()],Bn.prototype,"importStorageCard",null),pe([Xr()],Bn.prototype,"getAllStorageCards",null),pe([Xr()],Bn.prototype,"getCard",null),pe([Xr()],Bn.prototype,"updateStorageCardPartial",null),pe([Xr()],Bn.prototype,"deleteStorageCard",null),pe([Xr()],Bn.prototype,"loadCardData",null),pe([Xr()],Bn.prototype,"kvsGet",null),pe([Xr()],Bn.prototype,"kvsSet",null),pe([Xr()],Bn.prototype,"kvsDelete",null),pe([Xr()],Bn.prototype,"newTransaction",null),pe([Xr()],Bn.prototype,"prepareObjectStore",null),pe([Xr()],Bn.prototype,"initializeLock",null),pe([Xr()],Bn.prototype,"setupDb",null);const sM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Ai=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,Se.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new To.j,this.mutex=new Us,this.storageMutex=new Us,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,Se.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,Se.Z)(function*(){const r=e;try{const o={...sM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...sM}}})()}}return t.\u0275fac=function(e){return new(e||t)(we(Bn))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,Se.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(js||qI)&&this.installationMode===Qa.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return js&&WI?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':js?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return js&&WI?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':js?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Qa.pwa:document.referrer.startsWith("android-app://")?Qa.twa:window.matchMedia("(display-mode: standalone)").matches?Qa.pwa:Qa.web}}return t.\u0275fac=function(e){return new(e||t)(we(Ai),we(ii))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function AH(t,n){1&t&&(ve(0,"div",6),wt(1,"ion-spinner"),de())}let Rd=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(C(ys))},t.\u0275cmp=ue({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.modalController.dismiss()}),rt(6,"Close"),de()()()(),ve(7,"ion-content",3),vn(8,AH,2,0,"div",4),ve(9,"markdown",5),lt("load",function(){return r.loading=!1}),de()()),2&e&&(pt(3),ps(r.title),pt(5),gt("ngIf",r.loading),pt(1),gt("src",r.url))},dependencies:[Bo,zv,Ui,Gi,zi,Wi,Ed,Yi,Zi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Ul="1.7.9-2e8acfd (preview)";var ph=R(9897);let Fd=null;const hh=(t=t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:y,timerType:_}}=f;if("interval"===_){const I=n.get(y);if("number"==typeof I){const x=r.get(I);if(void 0===x||x.timerId!==y||x.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I()}}else if("timeout"===_){const I=e.get(y);if("number"==typeof I){const x=r.get(I);if(void 0===x||x.timerId!==y||x.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I(),e.delete(y)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:y}}=f;throw new Error(y)}{const{id:y}=f,_=r.get(y);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:I,timerType:x}=_;r.delete(y),"interval"===x?n.delete(I):e.delete(I)}}}),{clearInterval:f=>{const y=(0,ph.generateUniqueNumber)(r);r.set(y,{timerId:f,timerType:"interval"}),n.set(f,y),o.postMessage({id:y,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const y=(0,ph.generateUniqueNumber)(r);r.set(y,{timerId:f,timerType:"timeout"}),e.set(f,y),o.postMessage({id:y,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,y)=>{const _=(0,ph.generateUniqueNumber)(n);return n.set(_,()=>{f(),"function"==typeof n.get(_)&&o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,y)=>{const _=(0,ph.generateUniqueNumber)(e);return e.set(_,f),o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}},()=>{if(null!==Fd)return Fd;const e=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(e);return Fd=t(r),Fd.setTimeout(()=>URL.revokeObjectURL(r),0),Fd});var t,rl=(()=>(function(t){t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout"}(rl||(rl={})),rl))();class cM{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return rl.animationFrame}}class LH{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>hh().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){void 0!==this.handle&&((t=>{hh().clearTimeout(t)})(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return rl.timeout}}const $H=[135,135,105],BH=[0,0,0],ol=new Array(16).fill(0).map((t,n)=>BH.map((e,r)=>Math.floor((n*e+(15-n)*$H[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),r_=ol.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>(function(t){t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70"}(ie||(ie={})),ie))(),il=(()=>(function(t){t.sdcard="sdcard",t.memorystick="memorystick",t.none="none"}(il||(il={})),il))();function Od(t){switch(t){case ie.i710:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function o_(t){switch(t){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:return!1;default:return!0}}function uM(t){switch(t){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function dM(t){switch(t){case ie.m500:case ie.m505:case ie.m515:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:return il.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:return il.memorystick;default:return il.none}}class fM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class jH{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const QH=new Error("transaction timeout"),hM=new Error("session does not match emulation");let Nd=(()=>{class t{constructor(e,r,o,i){var s=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Se.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new To.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,Se.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,Se.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===hM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===n_)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,Se.Z)(function*(){const r=e.db.transaction([el,tl,Ea,Gs,Ki,Pd],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw hM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield qn(r.objectStore(Ki).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let f=!1;const y=performance.now();let _=0,I=0,x=0;const Q=setTimeout(()=>{f=!0;try{r.abort()}catch{}c(QH)},6e3);r.oncomplete=()=>{clearTimeout(Q),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:x,timeBlocking:I-_,timeTotal:performance.now()-y})},r.onerror=()=>{clearTimeout(Q),c(new Error(r.error?.message))};try{_=performance.now(),x=e.saveDirtyMemory(r),o&&(x+=e.saveDirtyStorage(o,r)),e.saveSession(r),I=performance.now()}catch(Te){throw f||(clearTimeout(Q),r.abort()),Te}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(el),i=e.objectStore(tl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let c=0;if(!this.dirtyPages||!this.pages){const y=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(y);for(let _=0;_<y;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let y=0;y<s.length;y++)if(this.dirtyPages[y]|=s[y],s[y]=0,0!==this.dirtyPages[y])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[y]&_){const I=XI(a.subarray(256*r,256*(r+1)));"number"==typeof I?o.put(I,[this.sessionId,r]):(this.pages[r].set(I),o.put(this.pages[r],[this.sessionId,r])),c++}r++}else r+=8;return c}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,c=0;const f=r.objectStore(Gs),y=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let I=1;I<256&&!(s>=y);I<<=1){if(this.cardDirtyPages[_]&I){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const x=this.cardPagePool[a++];x.set(i.subarray(2048*s,2048*(s+1))),f.put(x,[e.id,s]),c++}s++}else s+=8;return 8*c}saveSession(e){const r=e.objectStore(Ea);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(we(Bn),we(Da),we(Qc),we(ot))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function JH(t,n){1&t&&(ve(0,"p",11),rt(1," ERROR: URL must be served via HTTPS. "),de())}function ej(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(Lc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let tj=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Lc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(Lc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Ip({url:new Ao("",ej)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3,"Enter download URL"),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.continue()}),rt(6,"OK"),de()(),ve(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),rt(9,"Cancel"),de()()()(),ve(10,"ion-content",5)(11,"form",6),lt("keydown",function(i){return r.formKeyDown(i)}),ve(12,"p"),rt(13," Please enter the URL from which to download: "),de(),ve(14,"ion-item",7)(15,"ion-label",8),rt(16,"URL"),de(),wt(17,"ion-input",9),de(),vn(18,JH,2,0,"p",10),ve(19,"p"),rt(20," Note that the remote server needs to support the CORS protocol. "),de()()()),2&e&&(pt(5),gt("disabled",r.formGroup.invalid),pt(6),gt("formGroup",r.formGroup),pt(7),gt("ngIf",r.isMixedContent))},dependencies:[Bo,Ui,Gi,zi,Wi,Hl,qi,is,Yi,Zi,Vl,Pl,Al,xl,ya,Wa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function i_(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function mM(t){return`${i_(t.name)}.bin`}function gM(t,n){return`backup_${i_(t.name)}${n?"_with_rom":""}.zip`}function s_(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function yM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let nj=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Ip({username:new Ao(e?.username??""),password:new Ao(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(C(Ai))},t.\u0275cmp=ue({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3,"Authenticate"),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.saveAndContinue()}),rt(6,"OK"),de()(),ve(7,"ion-buttons",3)(8,"ion-button",2),lt("click",function(){return r.onCancel()}),rt(9,"Cancel"),de()()()(),ve(10,"ion-content",4)(11,"form",5),lt("keydown",function(i){return r.formKeyDown(i)}),ve(12,"p"),rt(13," The server requires authentication. "),de(),ve(14,"ion-item",6)(15,"ion-label",7),rt(16,"Username"),de(),wt(17,"ion-input",8),de(),ve(18,"ion-item",6)(19,"ion-label",7),rt(20,"Password"),de(),wt(21,"ion-input",9),de()()()),2&e&&(pt(11),gt("formGroup",r.formGroup))},dependencies:[Ui,Gi,zi,Wi,Hl,qi,is,Yi,Zi,Vl,Pl,Al,xl,ya,Wa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),vM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,Se.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(Lc())("string"==typeof e?e:e.url);let c,f,y=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),f=window.setTimeout(()=>c.present(),i));const _=o.kvsService.kvs.credentials[a.origin],I=new AbortController,x=window.setTimeout(()=>I.abort(),s),Q=yield fetch(e,{...o.requestInit(r),signal:I.signal,headers:{...r?.headers||{},...y&&_?{Authorization:"Basic "+btoa(`${_.username}:${_.password}`)}:{}}});if(clearTimeout(x),401===Q.status){if(!y&&_){y=!0;continue}if(c&&(c.dismiss(),clearTimeout(f),i=0,c=void 0),y=!0,yield o.authenticate(a.origin))continue}return Q}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,Se.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:nj,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(we(Ka),we(Ai),we(ys))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oj=R(3272),ij=R.n(oj);const _M=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70];function Ut(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Bt{constructor(n){this.module=n,this.fatalErrorEvent=new To.j,this.pwmUpdateEvent=new To.j,this.proxyDisconnectEvent=new To.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,Se.Z)(function*(){return new Bt(yield ij()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:_M.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,Se.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,Se.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const y=(new TextEncoder).encode(JSON.stringify(n.metadata));c=y.length,a=this.copyIn(y)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(y=>this.cloudpilot.Free(y)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!_M.includes(c))return void console.warn(`unsupported device ${c}`);let f;const y=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(y)try{f=JSON.parse((new TextDecoder).decode(y))}catch(_){console.warn("invalid metadata",_)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=this.cloudpilot.GetCardSize(n),o=(r>>>13)+(r%8192>0?1:0);return this.module.HEAPU8.subarray(e,e+((o>>>3)+(o%8>0?1:0)))}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}pe([Ut()],Bt.prototype,"getRomInfo",null),pe([Ut()],Bt.prototype,"initializeSession",null),pe([Ut()],Bt.prototype,"cyclesPerSecond",null),pe([Ut()],Bt.prototype,"runEmulation",null),pe([Ut()],Bt.prototype,"getFrame",null),pe([Ut()],Bt.prototype,"isScreenDirty",null),pe([Ut()],Bt.prototype,"markScreenClean",null),pe([Ut()],Bt.prototype,"minRamForDevice",null),pe([Ut()],Bt.prototype,"framebufferSizeForDevice",null),pe([Ut()],Bt.prototype,"totalMemorySizeForDevice",null),pe([Ut()],Bt.prototype,"queuePenMove",null),pe([Ut()],Bt.prototype,"queuePenUp",null),pe([Ut()],Bt.prototype,"queueButtonDown",null),pe([Ut()],Bt.prototype,"queueButtonUp",null),pe([Ut()],Bt.prototype,"queueKeyboardEvent",null),pe([Ut()],Bt.prototype,"isPowerOff",null),pe([Ut()],Bt.prototype,"isUiInitialized",null),pe([Ut()],Bt.prototype,"isSetupComplete",null),pe([Ut()],Bt.prototype,"getOSVersion",null),pe([Ut()],Bt.prototype,"reset",null),pe([Ut()],Bt.prototype,"resetNoExtensions",null),pe([Ut()],Bt.prototype,"resetHard",null),pe([Ut()],Bt.prototype,"installDb",null),pe([Ut()],Bt.prototype,"getPalette2bitMapping",null),pe([Ut()],Bt.prototype,"getMemory",null),pe([Ut()],Bt.prototype,"getMemory32",null),pe([Ut()],Bt.prototype,"getDirtyPages",null),pe([Ut()],Bt.prototype,"loadMemory",null),pe([Ut()],Bt.prototype,"getRomImage",null),pe([Ut()],Bt.prototype,"getSavestate",null),pe([Ut()],Bt.prototype,"saveState",null),pe([Ut()],Bt.prototype,"loadState",null),pe([Ut()],Bt.prototype,"getHotsyncName",null),pe([Ut()],Bt.prototype,"setClockFactor",null),pe([Ut()],Bt.prototype,"setHotsyncName",null),pe([Ut()],Bt.prototype,"setClipboardIntegration",null),pe([Ut()],Bt.prototype,"getClipboardIntegration",null),pe([Ut()],Bt.prototype,"isSuspended",null),pe([Ut()],Bt.prototype,"getSuspendKind",null),pe([Ut()],Bt.prototype,"cancelSuspend",null),pe([Ut()],Bt.prototype,"getSuspendContextClipboardCopy",null),pe([Ut()],Bt.prototype,"getSuspendContextClipboardPaste",null),pe([Ut()],Bt.prototype,"setNetworkRedirection",null),pe([Ut()],Bt.prototype,"getNetworkRedirection",null),pe([Ut()],Bt.prototype,"getSuspendContextNetworkConnect",null),pe([Ut()],Bt.prototype,"getSuspendContextNetworkRpc",null),pe([Ut()],Bt.prototype,"copyBuffer",null),pe([Ut()],Bt.prototype,"freeBuffer",null),pe([Ut()],Bt.prototype,"setHotsyncNameManagement",null),pe([Ut()],Bt.prototype,"resolveBuffer",null),pe([Ut()],Bt.prototype,"serializeSessionImage",null),pe([Ut()],Bt.prototype,"deserializeSessionImage",null),pe([Ut()],Bt.prototype,"launchAppByName",null),pe([Ut()],Bt.prototype,"launchAppByDbHeader",null),pe([Ut()],Bt.prototype,"deviceSupportsCardSize",null),pe([Ut()],Bt.prototype,"clearExternalStorage",null),pe([Ut()],Bt.prototype,"allocateCard",null),pe([Ut()],Bt.prototype,"getCardData",null),pe([Ut()],Bt.prototype,"getCardDirtyPages",null),pe([Ut()],Bt.prototype,"getMountedKey",null),pe([Ut()],Bt.prototype,"mountCard",null),pe([Ut()],Bt.prototype,"removeCard",null),pe([Ut()],Bt.prototype,"remountCards",null),pe([Ut()],Bt.prototype,"getCardSupportLevel",null);let zs=(()=>{class t{constructor(){this.cloudpilot=Bt.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jc=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}saveSession(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:yM(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);f?r.saveFile(mM(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const y={deviceId:e.device,metadata:yM(e),rom:s,memory:a,savestate:c},_=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(y);_&&o.saveFile(mM(e),_)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,Se.Z)(function*(){let i;try{i=new(Lc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,Se.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,Se.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:tj,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,Se.Z)(function*(i){const s=i.target;if(!s?.files?.length)return[];const a=[];for(let c=0;c<s.files?.length;c++){const f=s.files.item(c);if(!f)continue;const y=new Promise((_,I)=>{const x=new FileReader;x.onload=()=>_({content:new Uint8Array(x.result),name:f.name}),x.onerror=()=>I(x.error),x.readAsArrayBuffer(f)});a.push(y)}r(yield Promise.all(a))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}}return t.\u0275fac=function(e){return new(e||t)(we(Bn),we(Ka),we(Vv),we(Ai),we(ys),we(ii),we(vM),we(zs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a_=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new To.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(we(ot))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mh=new Error("permission denied");let wM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,Se.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===mh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,Se.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?mh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,Se.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,Se.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,Se.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===mh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,Se.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?mh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,Se.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,Se.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,Se.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,Se.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(we(qc),we(ii))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const aj="https:"===window.location.protocol?8667:8666,lj=/^[\da-z\-\.]+$/i,cj=/^[\da-z\-\.]+:\d+$/i;function l_(t){if(!t)return;const n=window.location.protocol;if(t.match(lj))return`${n}//${t}:${aj}`;if(t.match(cj))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function uj(t){return void 0!==l_(t.value)?null:{proxyAddress:"invalid"}}let c_=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,Se.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=l_(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=t_(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new To.j,this.mutex=new Us,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,Se.Z)(function*(){const i=l_(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(we(Ai),we(ii),we(ot),we(vM))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var hj=R(9084),EM=R.n(hj);function u_(){return u_=(0,Se.Z)(function*(t){const n=yield d_.create();if(n.mkfs(t))return n.getImage()}),u_.apply(this,arguments)}const DM="fstools_web.wasm",IM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(DM)):fetch(DM).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class d_{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,Se.Z)(function*(){return new d_(yield EM()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,Se.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield IM,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class gh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,Se.Z)(function*(){const e=yield EM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,Se.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield IM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new gh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=this.nativeContext.GetImageSize(),r=(e>>>13)+(e%8192>0?1:0);return this.module.HEAPU8.subarray(n,n+((r>>>3)+(r%8>0?1:0)))}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var Er=(()=>(function(t){t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable"}(Er||(Er={})),Er))(),ur=(()=>(function(t){t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180"}(ur||(ur={})),ur))();let Ld=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Us,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,Se.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:ur.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,Se.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:ur.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,Se.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,Se.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,Se.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,Se.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(we(zs),we(Bn),we(Ka))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gj=R(7971),yj=R.n(gj);class f_{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,Se.Z)(function*(){return new f_(yield yj()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}AllocateImage(n){this.vfsNative.AllocateImage(n>>>9)}MountImage(n){return this.vfsNative.MountImage(n)}UnmountImage(n){this.vfsNative.UnmountImage(n)}GetPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}GetImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}Readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntryName(),i=e.GetEntryModifiedTS();r.push({path:`${n.replace(/\/*$/,"")}/${o}`,name:o,size:e.GetEntrySize(),lastModifiedTS:i,lastModifiedLocalDate:new Date(1e3*i).toLocaleDateString(),isDirectory:e.IsEntryDirectory()}),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}}let yh=(()=>{class t{constructor(e){this.storageService=e,this.onReleaseCard=new To.j,this.vfs=f_.create(),this.directoryCache=new Map}normalizePath(e){return e.replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).split("/")}mountCardUnchecked(e,r,o){var i=this;return(0,Se.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&i.releaseCard(i.mountedCard.id);const a=yield i.vfs;a.AllocateImage(s.size);const c=a.GetPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c),!!a.MountImage(0)&&(i.mountedCard=s,!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,Se.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).UnmountImage(0),r.mountedCard=void 0,r.onReleaseCard.dispatch(e))})()}readdir(e){var r=this;return(0,Se.Z)(function*(){const o=r.normalizePath(e);if(!r.directoryCache.has(o)){const i=(yield r.vfs).Readdir(e);0===i.error&&r.directoryCache.set(o,i.entries)}return r.directoryCache.get(o)})()}currentCard(){return this.mountedCard}}return t.\u0275fac=function(e){return new(e||t)(we(Bn))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Qr=(()=>(function(t){t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128"}(Qr||(Qr={})),Qr))();function MM(){return t_().replace(/-/g,"")}let eu=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,_){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=f,this.fileService=y,this.vfsService=_,this.loading=!0,this.cards=[],this.updateMutex=new Us,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,Se.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function mj(t){return u_.apply(this,arguments)}(function vj(t){switch(t){case Qr.mb4:return 4;case Qr.mb8:return 8;case Qr.mb16:return 16;case Qr.mb32:return 32;case Qr.mb64:return 64;case Qr.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:MM(),name:e,size:4*a.length,status:Er.clean,dontFsckAutomatically:o},f=yield i.storageService.importStorageCard(c,a);return i.updateCardsFromDB(),f}finally{s.dismiss()}})()}createCardFromFile(e,r,o){var i=this;return(0,Se.Z)(function*(){const s={storageId:MM(),name:e,size:r.content.length,status:Er.clean,dontFsckAutomatically:o},a=new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[f,y]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(y,f)}}finally{c.dismiss()}i.updateCardsFromDB()})()}insertCard(e){return this.claimCard(e,"insert")}attachCardToVfs(e){return this.claimCard(e,"vfs")}loadCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return r?a.set(r):yield o.storageService.loadCardData(i.id,a),i})()}ejectCurrentCard(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:Er.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard()})()}fsckCard(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield gh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData()),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:Er.clean});break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:Er.unformatted});break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:Er.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:Er.unfixable});break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,Se.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.vfsService.releaseCard(e),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages()),yield o.storageService.updateStorageCardPartial(e,{status:Er.clean})}finally{i.dismiss()}})()}updateCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=Er.dirty),o.storageService.updateStorageCardPartial(e,r)})()}forceEjectCard(e){var r=this;return(0,Se.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);o&&i&&(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),o.id===r.emulationStateService.getCurrentSession()?.id&&((yield r.cloudpilotService.cloudpilot).removeCard(i.storageId),r.snapshotService.resetCard()))})()}deleteCard(e){var r=this;return(0,Se.Z)(function*(){yield r.vfsService.releaseCard(e),yield r.forceEjectCard(e),yield r.storageService.deleteStorageCard(e),r.updateCardsFromDB()})()}saveCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a;try{yield s.present();const c=o.mountedInSession(e);c&&c.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),a=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId)),a||(a=new Uint32Array(i.size>>>2),yield o.storageService.loadCardData(i.id,a))}finally{s.dismiss()}o.fileService.saveFile(r,new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var r=this;return(0,Se.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}claimCard(e,r){var o=this;return(0,Se.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===Er.dirty){if(s=yield o.fsckCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case Er.clean:break;case Er.unformatted:if("vfs"===r)return o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Er.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case Er.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?yield o.mountCardInEmulator(e,s?.getImageData()):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||o.alertService.message("Failed to mount card","The card could not be mounted for browsing.")}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}updateCardsFromDB(){var e=this;return(0,Se.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,Se.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,Se.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}fsckNewCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield gh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:Er.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:Er.clean}]:[e,{...r,status:Er.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:Er.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:Er.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}mountCardInEmulator(e,r){var o=this;return(0,Se.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCard(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:Er.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,Se.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(we(Ld),we(Bn),we(Da),we(zs),we(Ka),we(Nd),we(ii),we(Qc),we(Jc),we(yh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ws=(()=>{class t extends class YH{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),y=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||y!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=y,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}y&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new To.j,this.pwmUpdateEvent=new To.j,this.emulationStateChangeEvent=new To.j,this.powerOffChangeEvent=new To.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new cM(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new jH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new fM(20),this.timePerFrameAverage=new fM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=Od(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=Od(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===rl.animationFrame?new cM(n=>this.onSchedule(n)):new LH(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=Od(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=o_(n)?"white":r_[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=ol[15],i=ol[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ol[15&o],ol[o>>>4&15],ol[o>>>8&15],ol[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=ol[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,f,y,_,I,x,Q,Te,Ke,He,st){var Ae;super(),Ae=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=f,this.modalWatcher=y,this.clipboardService=_,this.kvsService=I,this.proxyService=x,this.buttonService=Q,this.bootstrapService=Te,this.cloudpilotService=Ke,this.storageCardService=He,this.app=st,this.switchSession=Lt=>this.mutex.runExclusive((0,Se.Z)(function*(){if(Lt===Ae.emulationState.getCurrentSession()?.id)return;yield Ae.bootstrapService.hasRendered();const Cn=yield Ae.loadingController.create({message:"Loading..."});yield Cn.present();try{const Po=yield Ae.storageService.getSession(Lt);if(Ae.emulationState.setCurrentSession(Po),!Po)throw new Error(`invalid session ${Lt}`);const _s=yield Ae.cloudpilotService.cloudpilot;yield Ae.restoreSession(Po,_s),function CH(t){localStorage.setItem(fh,t+"")}(Lt)}finally{yield Cn.dismiss()}})),this.resume=()=>this.mutex.runExclusive((0,Se.Z)(function*(){!Ae.emulationState.getCurrentSession()||Ae.running||Ae.errorService.hasFatalError()||!Ae.cloudpilotInstance||(yield Ae.kvsService.mutex.runExclusive(()=>Ae.updateFeatures()),Ae.doResume(),Ae.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Se.Z)(function*(){Ae.doPause(),!Ae.errorService.hasFatalError()&&Ae.emulationState.getCurrentSession()&&(yield Ae.snapshotService.waitForPendingSnapshot(),yield Ae.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive((0,Se.Z)(function*(){Ae.doStop(),Ae.emulationState.setCurrentSession(void 0)})),this.onSessionChange=([Lt,Cn])=>this.mutex.runExclusive((0,Se.Z)(function*(){Lt===Ae.emulationState.getCurrentSession()?.id&&(Ae.emulationState.setCurrentSession(Cn),Ae.emulationState.getCurrentSession()||(rM(),Ae.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Se.Z)(function*(){const Lt=Ae.emulationState.getCurrentSession();Lt&&Ae.fileService.emergencySaveSession(Lt,yield Ae.cloudpilotService.cloudpilot)})),this.mutex=new Us,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Lt=>{Lt.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Lt),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const vt=function bH(){const t=localStorage.getItem(fh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==vt&&!TE()&&(this.bootstrapCompletePromise=this.recoverStoredSession(vt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?rl.timeout:rl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,Se.Z)(function*(){try{yield r.switchSession(e)}catch{js&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,Se.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);if(r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCard(e.mountedCard)),!o.openSession(r,i,e.device,s,a))throw new Error("failed to open session");o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot)})()}}return t.\u0275fac=function(e){return new(e||t)(we(Bn),we(ot),we(Ka),we(Da),we(Nd),we(Qc),we(Jc),we(ii),we(a_),we(wM),we(Ai),we(c_),we(CM),we(SM),we(zs),we(eu),we(Ha))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sl=new at($),Cj={connector:()=>new z};function kM(t,n=Cj){const{connector:e}=n;return Re((r,o)=>{const i=e();S(t(function bj(t){return new at(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function TM(t,n){return n?e=>ld(n.pipe(ji(1),function Dj(){return Re((t,n)=>{t.subscribe(nt(n,$))})}()),e.pipe(TM(t))):Gt((e,r)=>t(e,r).pipe(ji(1),sv(e)))}const $d="Service workers are disabled or not supported by this browser";class vh{constructor(n){if(this.serviceWorker=n,n){const r=sd(n,"controllerchange").pipe(tt(()=>n.controller)),i=ld(Pp(()=>mn(n.controller)),r);this.worker=i.pipe(Vo(y=>!!y)),this.registration=this.worker.pipe(Ti(()=>n.getRegistration()));const f=sd(n,"message").pipe(tt(y=>y.data)).pipe(Vo(y=>y&&y.type)).pipe(function Ej(t){return t?n=>kM(t)(n):n=>function Sj(t,n){const e=k(t)?t:()=>t;return k(n)?kM(n,{connector:e}):r=>new rv(r,e)}(new z)(n)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function Mj(t){return Pp(()=>Hc(new Error(t)))}($d)}postMessage(n,e){return this.worker.pipe(ji(1),Ho(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(Vo(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(ji(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(Vo(e=>e.nonce===n),ji(1),tt(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let kj=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new z,!e.isEnabled)return this.messages=sl,this.notificationClicks=sl,void(this.subscription=sl);this.messages=this.sw.eventsOfType("PUSH").pipe(tt(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(tt(o=>o.data)),this.pushManager=this.sw.registration.pipe(tt(o=>o.pushManager));const r=this.pushManager.pipe(Ti(o=>o.getSubscription()));this.subscription=Wo(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error($d));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Ti(s=>s.subscribe(r)),ji(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ji(1),Ti(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error($d))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(we(vh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),p_=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=sl,this.available=sl,this.activated=sl,void(this.unrecoverable=sl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Vo(r=>"VERSION_READY"===r.type),tt(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error($d));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error($d));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(we(vh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class h_{}const AM=new rn("NGSW_REGISTER_SCRIPT");function Tj(t,n,e,r){return()=>{if(!pa(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[a,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=mn(null);break;case"registerWithDelay":i=xM(+c[0]||0);break;case"registerWhenStable":i=c[0]?Wo(PM(t),xM(+c[0])):PM(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(ot).runOutsideAngular(()=>i.pipe(ji(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function xM(t){return mn(null).pipe(function Ij(t,n=AI){const e=xI(t,n);return TM(()=>e)}(t))}function PM(t){return t.get(Ha).isStable.pipe(Vo(e=>e))}function Aj(t,n){return new vh(pa(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let xj=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:AM,useValue:e},{provide:h_,useValue:r},{provide:vh,useFactory:Aj,deps:[h_,Oc]},{provide:Ml,useFactory:Tj,deps:[gr,AM,h_,Oc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({providers:[kj,p_]}),t})(),RM=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Se.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==Ul&&(yield a.kvsService.set({version:Ul,previousVersion:c,latestVersion:Ul}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Ul}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=Ul})),this.mutex=new Us,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,Se.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,Se.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Ul){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Rd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(we(Ai),we(Ws),we(ii),we(ys),we(p_))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Rj=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(C(aM),C(RM),C(SM))},t.\u0275cmp=ue({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(ve(0,"ion-app"),wt(1,"ion-router-outlet"),de())},dependencies:[cI,Md]}),t})(),FM=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(ve(0,"div"),rt(1,"Dummy"),de())},encapsulation:2}),t})(),OM=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(we(Iy),we(zr))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m_=ie.m515,Fj=r_[2],Oj=r_[0],tu="rgba(0,0,0,0.2)";function NM(t){const n=Od(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function Bj(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const Gj=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function zj(t){const e=o=>function Hj(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,Se.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,Se.Z)(function*(){if(!i){const s=(yield t)[o];i=function jj(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of Gj)r[o]=e(o);return r}let _h=(()=>{class t extends class Vj{constructor(n){this.skin=n,this.layout=NM(m_),this.onResize=new To.j}get width(){switch(this.getOrientation()){case ur.portrait:case ur.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case ur.portrait:case ur.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case ur.landscape90:{const _=f;f=this.layout.height.frameDevice-c,c=_;break}case ur.landscape270:{const _=f;f=c,c=this.layout.width.frameDevice-_;break}case ur.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const y=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=y&&(f=y-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=y)return;return[c,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,Se.Z)(function*(){if(!n)return;e.layout=NM(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,Se.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,tu),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,tu),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,tu),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,tu),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,tu),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,tu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case ur.portrait:case void 0:break;case ur.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case ur.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case ur.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,Se.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,Fj),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ie.pegN700c:case ie.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ie.pegS320:case ie.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ie.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ie.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return this.skin.SILKSCREEN_PILOT;case ie.m500:return this.skin.SILKSCREEN_M500;case ie.m505:case ie.m515:return this.skin.SILKSCREEN_M515;case ie.iiic:return this.skin.SILKSCREEN_IIIC;case ie.m100:case ie.m105:case ie.m125:return this.skin.SILKSCREEN_M100;case ie.m130:return this.skin.SILKSCREEN_M130;case ie.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ie.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ie.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ie.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ie.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ie.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ie.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ie.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ie.pilot:case ie.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ie.m500:return this.skin.HARD_BUTTONS_M500;case ie.m505:case ie.m515:return this.skin.HARD_BUTTONS_M515;case ie.iiic:return this.skin.HARD_BUTTONS_IIIC;case ie.m100:case ie.m105:return this.skin.HARD_BUTTONS_M100;case ie.m125:return this.skin.HARD_BUTTONS_M125;case ie.m130:return this.skin.HARD_BUTTONS_M130;case ie.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ie.iiie:return this.skin.HARD_BUTTONS_IIIE;case ie.i705:return this.skin.HARD_BUTTONS_I705;case ie.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return o_(this.getDeviceId())?"white":Oj}frameColor(){return o_(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(zj(R.e(4907).then(R.bind(R,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,Se.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,Se.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,Se.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??m_}getOrientation(){return this.session?.deviceOrientation??ur.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function Wj(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Od(this.session?.device??m_).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g_=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(C(zr),C(_h),C(Da))},t.\u0275cmp=ue({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(ve(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),wt(4,"ion-icon",3),ve(5,"ion-label"),rt(6,"Emulator"),de()(),ve(7,"ion-tab-button",4),wt(8,"ion-icon",5),ve(9,"ion-label"),rt(10,"Sessions"),de()(),ve(11,"ion-tab-button",6),wt(12,"ion-icon",7),ve(13,"ion-label"),rt(14,"Cards"),de()(),ve(15,"ion-tab-button",8),wt(16,"ion-icon",9),ve(17,"ion-label"),rt(18,"Settings"),de()(),ve(19,"ion-tab-button",10),wt(20,"ion-icon",11),ve(21,"ion-label"),rt(22,"About"),de()()()()()),2&e&&(pt(2),$a("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[os,is,Nv,fI,EI],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Bd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs,Wv.forChild(),Xa,Fl,xp]}),t})(),qj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs,Fl,Xa,Bd,Wv.forChild()]}),t})(),Zj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs,Fl,Xa,Bd]}),t})(),Yj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs,Fl,Xa,xp,Bd]}),t})(),Kj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs,Fl,Xa,Bd,xp]}),t})(),Xj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Vs,Xa,Fl,xp,Bd]}),t})();function Qj(t,n){if(1&t){const e=Ar();ve(0,"ion-button",1),lt("click",function(){return Nt(e),nn(Jt().onClick())}),wt(1,"ion-icon",2),de()}if(2&t){const e=Jt();pt(1),gt("name",e.iconName)}}let wh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return js?"logo-apple-appstore":qI?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(C(aM))},t.\u0275cmp=ue({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&vn(0,Qj,2,1,"ion-button",0),2&e&&gt("ngIf",r.show)},dependencies:[Bo,Ui,os]}),t})();function Jj(t,n){1&t&&(ve(0,"div",11),wt(1,"ion-spinner"),de())}function e6(t,n){1&t&&(ve(0,"div"),rt(1,"app cached for offline use"),de())}let t6=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return Ul}showChangelog(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Rd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(C(ys),C(p_))},t.\u0275cmp=ue({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3,"About"),de(),ve(4,"ion-buttons",1),wt(5,"app-pwa-prompt"),de()()(),ve(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),rt(10,"About"),de()()(),vn(11,Jj,2,0,"div",4),ve(12,"div",5)(13,"markdown",6),lt("load",function(){return r.loading=!1}),de()(),ve(14,"div",7),rt(15),wt(16,"br"),ve(17,"a",8),lt("click",function(){return r.showChangelog()}),rt(18,"Changelog"),de(),vn(19,e6,2,0,"div",9),de(),wt(20,"img",10),de()),2&e&&(gt("translucent",!0),pt(11),gt("ngIf",r.loading),pt(4),Ii(" CloudpilotEmu version ",r.version," "),pt(4),gt("ngIf",r.serviceWorkerAvailable))},dependencies:[Bo,Gi,zi,Wi,Ed,Yi,Zi,wh,zv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function n6(t,n){if(1&t&&(ve(0,"ion-select-option",17),rt(1),de()),2&t){const e=n.$implicit;gt("value",e[0]),pt(1),Ii("",e[1]," ")}}function r6(t,n){if(1&t&&(ve(0,"ion-select-option",17),rt(1),de()),2&t){const e=n.$implicit;gt("value",e[0]),pt(1),Ii("",e[1]," ")}}function o6(t,n){if(1&t&&(ve(0,"ion-item",7)(1,"ion-label",8),rt(2,"Hotsync name"),de(),wt(3,"ion-input",18),de()),2&t){const e=Jt();pt(3),gt("placeholder",e.placeholder)}}let LM=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[ur.portrait,"Portrait"],[ur.landscape90,"Landscape 90\xb0"],[ur.landscape270,"Landscape 270\xb0"],[ur.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,uM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function VH(t){switch(t){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Ip({name:new Ao(this.session.name,{validators:[Ny.required,this.validateNameUnique]}),manageHotsyncName:new Ao(!this.session.dontManageHotsyncName),hotsyncName:new Ao(this.session.hotsyncName||""),device:new Ao({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Ao((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Ao(this.session.deviceOrientation||ur.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(C(Ld),C(ii))},t.\u0275cmp=ue({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3,"Session settings"),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.save()}),rt(6,"Save"),de()(),ve(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),rt(9,"Cancel"),de()()()(),ve(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),ve(12,"h1"),rt(13,"Session"),de(),ve(14,"ion-item",7)(15,"ion-label",8),rt(16,"Session name"),de(),wt(17,"ion-input",9),de(),ve(18,"h1"),rt(19,"Device"),de(),ve(20,"ion-item",7)(21,"ion-label",8),rt(22,"Device type"),de(),ve(23,"ion-select",10),vn(24,n6,2,2,"ion-select-option",11),de()(),ve(25,"ion-item",7)(26,"ion-label",8),rt(27,"Orientation"),de(),ve(28,"ion-select",12),vn(29,r6,2,2,"ion-select-option",11),de()(),ve(30,"ion-item",7)(31,"ion-label",13),rt(32),de(),wt(33,"ion-range",14),de(),ve(34,"h1"),rt(35,"Hotsync"),de(),ve(36,"ion-item",7)(37,"ion-label"),rt(38,"Manage hotsync name"),de(),wt(39,"ion-toggle",15),de(),vn(40,o6,4,1,"ion-item",16),de()()),2&e&&(pt(5),gt("disabled",r.formGroup.invalid),pt(6),gt("formGroup",r.formGroup),pt(13),gt("ngForOf",r.deviceList),pt(5),gt("ngForOf",r.orientations),pt(3),ps(r.speedLabel),pt(8),gt("ngIf",r.showHotsyncNameInput))},dependencies:[Nc,Bo,Ui,Gi,zi,Wi,Hl,qi,is,Ov,nh,rh,Dd,Yi,Zi,Cd,Sd,Vl,Pl,Al,xl,tv,ya,Wa],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),i6=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,Se.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,Se.Z)(function*(y){for(y.Init(e);y.IsInProgress();){const _=y.GetCurrentDatabase();y.Save()||s.push(_),yield new Promise(I=>setTimeout(I,0))}a=c.getArchive(y)});return function(y){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${s_(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(gM(o,e),a)},"Cancel"):r.fileService.saveFile(gM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(we(Ws),we(Ka),we(Nd),we(Jc),we(Da),we(ii),we(zs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s6=window.AudioContext||window.webkitAudioContext;function y_(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let v_=(()=>{class t extends class a6{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,Se.Z)(function*(){if(!e.initialized){try{e.context=new s6}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,Se.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield y_(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield y_(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,Se.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Us,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),js||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||js||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,Se.Z)(function*(){!n.context||(yield y_(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(we(Ws),we(Ai),we(a_))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),BM=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(we(Ws),we(ot))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function c6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",4),lt("click",function(){return Nt(e),nn(Jt().power())}),ve(1,"ion-label"),rt(2,"Power"),de(),wt(3,"ion-icon",5),de()}if(2&t){const e=Jt();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function u6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",4),lt("click",function(){return Nt(e),nn(Jt().hotsync())}),ve(1,"ion-label"),rt(2,"Hotsync"),de(),wt(3,"ion-icon",6),de()}if(2&t){const e=Jt();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function d6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",4),lt("click",function(){return Nt(e),nn(Jt().reset())}),ve(1,"ion-label"),rt(2,"Reset"),de(),wt(3,"ion-icon",7),de()}if(2&t){const e=Jt();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function f6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",2),lt("click",function(){return Nt(e),nn(Jt().insertCard())}),ve(1,"ion-label"),rt(2),de(),wt(3,"ion-icon",8),de()}if(2&t){const e=Jt();gt("detail",!1),pt(2),Ii("Insert ",e.hasMemorystick?"stick":"SD card","")}}function p6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",2),lt("click",function(){return Nt(e),nn(Jt().ejectCard())}),ve(1,"ion-label"),rt(2),de(),wt(3,"ion-icon",9),de()}if(2&t){const e=Jt();gt("detail",!1),pt(2),Ii("Eject ",e.hasMemorystick?"stick":"SD card","")}}function h6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",2),lt("click",function(){return Nt(e),nn(Jt().mute(!1))}),ve(1,"ion-label"),rt(2,"Enable audio"),de(),wt(3,"ion-icon",10),de()}2&t&&gt("detail",!1)}function m6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",2),lt("click",function(){return Nt(e),nn(Jt().mute(!0))}),ve(1,"ion-label"),rt(2,"Disable audio"),de(),wt(3,"ion-icon",11),de()}2&t&&gt("detail",!1)}function g6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",4),lt("click",function(){return Nt(e),nn(Jt().backup())}),ve(1,"ion-label"),rt(2,"Save backup"),de(),wt(3,"ion-icon",12),de()}if(2&t){const e=Jt();gt("detail",!1)("disabled",e.backupDisabled)}}function y6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",2),lt("click",function(){return Nt(e),nn(Jt().rotate())}),ve(1,"ion-label"),rt(2,"Rotate"),de(),wt(3,"ion-icon",13),de()}2&t&&gt("detail",!1)}function v6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",2),lt("click",function(){return Nt(e),nn(Jt().editSettings())}),ve(1,"ion-label"),rt(2,"Settings"),de(),wt(3,"ion-icon",14),de()}2&t&&gt("detail",!1)}function _6(t){switch(t){case ur.portrait:case void 0:return ur.landscape90;case ur.landscape90:return ur.portrait180;case ur.portrait180:return ur.landscape270;case ur.landscape270:return ur.portrait;default:throw new Error("cannot happen")}}let w6=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,_,I,x,Q,Te,Ke,He,st,Ae,vt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=f,this.modalController=y,this.sessionService=_,this.performanceWatchdogService=I,this.canvasDisplayService=x,this.cloudpilotService=Q,this.storageCardService=Te,this.alertService=Ke,this.alertController=He,this.storageService=st,this.loadingController=Ae,this.errorService=vt,this.showHelp=()=>{}}reset(){var e=this;return(0,Se.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,Se.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function HH(t){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&dM(e.device)!==il.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&dM(e.device)===il.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:LM,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,Se.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:_6(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,Se.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,Se.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(C(Ws),C(Da),C(i6),C(CM),C(Vv),C(Td),C(v_),C(Ai),C(ys),C(Ld),C(BM),C(_h),C(zs),C(eu),C(ii),C(qc),C(Bn),C(Ka),C(Qc))},t.\u0275cmp=ue({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["button","",3,"detail","disabled","click",4,"ngIf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"detail","click"],["name","help-outline","slot","end"],["button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline"],["name","volume-mute-outline"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(ve(0,"ion-list"),vn(1,c6,4,2,"ion-item",0),vn(2,u6,4,2,"ion-item",0),vn(3,d6,4,2,"ion-item",0),vn(4,f6,4,2,"ion-item",1),vn(5,p6,4,2,"ion-item",1),vn(6,h6,4,1,"ion-item",1),vn(7,m6,4,1,"ion-item",1),vn(8,g6,4,2,"ion-item",0),vn(9,y6,4,1,"ion-item",1),vn(10,v6,4,1,"ion-item",1),ve(11,"ion-item",2),lt("click",function(){return r.help()}),ve(12,"ion-label"),rt(13,"Help"),de(),wt(14,"ion-icon",3),de()()),2&e&&(pt(1),gt("ngIf",r.hasActiveSession&&!r.powerDisabled),pt(1),gt("ngIf",r.hasActiveSession),pt(1),gt("ngIf",r.hasActiveSession),pt(1),gt("ngIf",r.supportsStorageCard&&!r.hasMountedCard),pt(1),gt("ngIf",r.supportsStorageCard&&r.hasMountedCard),pt(1),gt("ngIf",r.isMuted&&!r.isAudioOff),pt(1),gt("ngIf",!r.isMuted&&!r.isAudioOff),pt(1),gt("ngIf",r.hasActiveSession),pt(1),gt("ngIf",r.hasActiveSession),pt(1),gt("ngIf",r.hasActiveSession),pt(1),gt("detail",!1))},dependencies:[Bo,os,qi,is,jl]}),t})(),C6=(()=>{class t extends class b6{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const y=this.canvasDisplayService.determineButton(f);y===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):y!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=y,this.handleButtonDown(y));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(we(Ws),we(_h),we(a_),we(ot),we(Ha))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function VM(t){return/\.(prc|pdb|pqa)$/i.test(t)}class M6{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,Se.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else VM(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,Se.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function I6(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,Se.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,Se.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!VM(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function D6(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let k6=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new M6(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(y=>!!y).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${s_(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${s_(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(we(zs),we(Ws),we(Ka),we(Nd),we(ii),we(qc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T6=["canvas"];function A6(t,n){if(1&t){const e=Ar();ve(0,"ion-button",5),lt("click",function(){return Nt(e),nn(Jt().navigation.lock())}),wt(1,"ion-icon",10),de()}}function x6(t,n){if(1&t){const e=Ar();ve(0,"ion-button",5),lt("click",function(){return Nt(e),nn(Jt().navigation.unlock())}),wt(1,"ion-icon",11),de()}}function P6(t,n){if(1&t){const e=Ar();ve(0,"ion-button",5),lt("click",function(){return Nt(e),nn(Jt().showGameModeHint())}),wt(1,"ion-icon",12),de()}}function R6(t,n){if(1&t){const e=Ar();ve(0,"ion-button",5),lt("click",function(){return Nt(e),nn(Jt().showProxyConnectedHint())}),wt(1,"ion-icon",13),de()}}function F6(t,n){if(1&t){const e=Ar();ve(0,"ion-button",5),lt("click",function(){return Nt(e),nn(Jt().showSlowdowndHint())}),wt(1,"ion-icon",14),de()}}function O6(t,n){if(1&t){const e=Ar();ve(0,"div",15),rt(1," The device was reset forcefully. How do you want to boot? "),ve(2,"ion-button",16),lt("click",function(){return Nt(e),nn(Jt().bootAfterForcefulReset())}),rt(3,"Normal boot"),de(),ve(4,"ion-button",16),lt("click",function(){return Nt(e),nn(Jt().bootAfterForcefulResetNoExtensions())}),rt(5,"No extensions"),de(),ve(6,"ion-button",16),lt("click",function(){return Nt(e),nn(Jt().bootAfterForcefulResetHardReset())}),rt(7,"Hard reset"),de()()}}function N6(t,n){1&t&&(ve(0,"div",15)(1,"div"),rt(2,"No session selected"),de()())}let L6=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,_,I,x,Q,Te,Ke,He,st){var Ae=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=f,this.alertService=y,this.fileService=_,this.snapshotService=I,this.installlationService=x,this.proxyService=Q,this.navigation=Te,this.linkApi=Ke,this.performanceWatchdogService=He,this.cloudpilotService=st,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Se.Z)(function*(){yield Ae.emulationService.bootstrapComplete(),Ae.boostrapComplete=!0;const vt=Ae.emulationState.getCurrentSession();vt&&!vt.wasResetForcefully&&(yield Ae.launchEmulator()),Ae.linkApi.installation.requestEvent.addHandler(Ae.handleLinkApiInstallationRequest),Ae.handleLinkApiInstallationRequest()})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=(0,Se.Z)(function*(){Ae.kvsService.kvs.showStatistics?Ae.canvasDisplayService.updateStatistics():Ae.canvasDisplayService.clearStatistics()}),this.onSnapshot=vt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(vt,this.emulationService.getStatistics())},this.onNewFrame=vt=>{this.canvasDisplayService.updateEmulationCanvas(vt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const vt=this.linkApi.installation.receivePendingUrl();vt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${vt} ?`,{OK:()=>this.fileService.openUrl(vt,Cn=>this.installlationService.installFiles([Cn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${vt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Us}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,Se.Z)(function*(){(yield r.popoverController.create({component:w6,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{showHelp:()=>r.showHelp()}})).present()})()}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Rd,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,Se.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,Se.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,Se.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,Se.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,Se.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,Se.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(C(Ws),C(Da),C(Bn),C(C6),C(_h),C(Ai),C(Td),C(ys),C(ii),C(Jc),C(Nd),C(k6),C(c_),C(g_),C(Iy),C(BM),C(zs))},t.\u0275cmp=ue({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&zu(T6,5),2&e){let o;Bi(o=Vi())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(ve(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),rt(3),de(),ve(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return r.installFiles()}),wt(6,"ion-icon",2),de(),vn(7,A6,2,0,"ion-button",3),vn(8,x6,2,0,"ion-button",3),de(),ve(9,"ion-buttons",4)(10,"ion-button",5),lt("click",function(i){return r.openContextMenu(i)}),wt(11,"ion-icon",6),de(),vn(12,P6,2,0,"ion-button",3),vn(13,R6,2,0,"ion-button",3),vn(14,F6,2,0,"ion-button",3),de()()(),ve(15,"ion-content")(16,"div",7),lt("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),wt(17,"canvas",null,8),de(),vn(19,O6,8,0,"div",9),vn(20,N6,3,0,"div",9),de()),2&e){let o,i;pt(3),ps(r.title),pt(2),gt("disabled",r.installFileDisabled),pt(2),gt("ngIf",!r.navigation.isLocked()),pt(1),gt("ngIf",r.navigation.isLocked()),pt(4),gt("ngIf",r.eventHandlingService.isGameMode()),pt(1),gt("ngIf",r.proxyService.isConnected()),pt(1),gt("ngIf",r.performanceWatchdogService.isSlowdownDetected()),pt(1),$a("locked",r.navigation.isLocked()),pt(1),Ou("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),pt(1),Ou("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),pt(2),gt("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),pt(1),gt("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[Bo,Ui,Gi,zi,Wi,os,Yi,Zi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();var $6=R(5541),B6=R.n($6);function HM(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let V6=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(ve(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),rt(2," Edit "),de(),ve(3,"ion-item",0),lt("click",function(){return r.onSave()}),rt(4," Save "),de(),ve(5,"ion-item",0),lt("click",function(){return r.onReset()}),rt(6," Reset "),de(),ve(7,"ion-item",0),lt("click",function(){return r.onDelete()}),rt(8," Delete "),de()()),2&e&&(pt(1),gt("detail",!1),pt(2),gt("detail",!1),pt(2),gt("detail",!1),pt(2),gt("detail",!1))},dependencies:[qi,jl]}),t})();const j6=["slidingItem"];function U6(t,n){if(1&t&&(ve(0,"span"),rt(1),de()),2&t){const e=Jt();pt(1),Ii(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let G6=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new hn,this.resetSession=new hn,this.edit=new hn,this.save=new hn,this.selectItem=new hn,this.interaction=new hn}get device(){return this.session?uM(this.session.device):""}onContextmenu(e){var r=this;return(0,Se.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:V6,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit()},onSave:()=>{o.dismiss(),r.save.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()},onReset:()=>{o.dismiss(),r.resetSession.emit()}}});o.present()})()}decodeVersion(e){if(void 0===e)return"";const r=function H6(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(C(Td))},t.\u0275cmp=ue({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&zu(j6,5),2&e){let o;Bi(o=Vi())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=Ar();ve(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),ve(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Nt(o),$i(1).close(),nn(r.edit.emit(r.session))}),wt(4,"ion-icon",4),de(),ve(5,"ion-item-option",5),lt("click",function(){return Nt(o),$i(1).close(),nn(r.save.emit(r.session))}),wt(6,"ion-icon",6),de()(),ve(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Nt(o),$i(1).close(),nn(r.resetSession.emit(r.session))}),wt(9,"ion-icon",9),de(),ve(10,"ion-item-option",10),lt("click",function(){return Nt(o),$i(1).close(),nn(r.delete.emit(r.session))}),wt(11,"ion-icon",11),de()(),ve(12,"ion-item",12),lt("click",function(){return r.selectItem.emit()}),ve(13,"ion-label")(14,"h2"),rt(15),de(),ve(16,"p"),rt(17),vn(18,U6,2,1,"span",13),de()()()()}2&e&&(pt(12),gt("color",r.color),pt(1),$a("in-item-color",r.selected),pt(2),ps(null==r.session?null:r.session.name),pt(2),Hf("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),pt(1),gt("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[Bo,os,qi,Jp,eh,th,is]}),t})();function z6(t,n){1&t&&(ve(0,"div",10),wt(1,"ion-spinner"),de())}function W6(t,n){1&t&&(ve(0,"div",11)(1,"div",12),rt(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),wt(3,"br")(4,"br"),rt(5," You can find a collection of compatible ROMs on "),ve(6,"a",13),rt(7,"PalmDB"),de(),rt(8,". "),de()())}function q6(t,n){if(1&t){const e=Ar();ve(0,"app-session-item",15),lt("delete",function(){const i=Nt(e).$implicit;return nn(Jt(2).deleteSession(i))})("selectItem",function(){const i=Nt(e).$implicit;return nn(Jt(2).launchSession(i))})("edit",function(){const i=Nt(e).$implicit;return nn(Jt(2).editSession(i))})("save",function(){const i=Nt(e).$implicit;return nn(Jt(2).saveSession(i))})("resetSession",function(){const i=Nt(e).$implicit;return nn(Jt(2).resetSession(i))})("interaction",function(){const i=Nt(e).$implicit;return nn(Jt(2).lastSessionTouched=i.id)}),de()}if(2&t){const e=n.$implicit,r=Jt(2);gt("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function Z6(t,n){if(1&t&&(ve(0,"ion-list"),vn(1,q6,1,3,"app-session-item",14),de()),2&t){const e=Jt();pt(1),gt("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}let Y6=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,_,I){this.sessionService=e,this.fileService=r,this.alertController=o,this.alertService=i,this.emulationService=s,this.emulationState=a,this.storageService=c,this.modalController=f,this.linkApi=y,this.router=_,this.cloudpilotService=I,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const x=this.linkApi.import.receivePendingUrl();!x||this.alertService.message("Import request",`Do you want to import<br>${x} ?`,{OK:()=>this.fileService.openUrl(x,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest()}ionViewWillLeave(){this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,r)=>e.name.localeCompare(r.name))}deleteSession(e){var r=this;return(0,Se.Z)(function*(){yield(yield r.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var r=this;return(0,Se.Z)(function*(){const o={...e};(yield r.editSettings(e))&&!B6()(e,o)&&r.sessionService.updateSession(e)})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){this.fileService.saveSession(e)}trackSessionBy(e,r){return r.id}launchSession(e){var r=this;return(0,Se.Z)(function*(){r.lastSessionTouched=e.id,r.currentSessionOverride=e.id,yield r.emulationService.switchSession(e.id),r.currentSessionOverride=void 0,r.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var r=this;return(0,Se.Z)(function*(){const o=e.id===r.emulationState.getCurrentSession()?.id;o&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(e),yield r.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),o&&(yield r.emulationService.switchSession(e.id)),yield(yield r.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Rd,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}processFile(e){var r=this;return(0,Se.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(e.content,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(e,r=[e.device]){return new Promise(o=>{let i;this.modalController.create({component:LM,backdropDismiss:!1,componentProps:{session:e,availableDevices:r,onSave:()=>{i.dismiss(),o(!0)},onCancel:()=>{i.dismiss(),o(!1)}}}).then(s=>{i=s,i.present()})})}disambiguateSessionName(e){const r=this.sessionService.getSessions();return HM(e,o=>r.some(i=>i.name===o))}}return t.\u0275fac=function(e){return new(e||t)(C(Ld),C(Jc),C(qc),C(ii),C(Ws),C(Da),C(Bn),C(ys),C(Iy),C(zr),C(zs))},t.\u0275cmp=ue({type:t,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,r){1&e&&(ve(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),rt(3,"Sessions"),de(),ve(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return r.importSession()}),wt(6,"ion-icon",2),de()(),ve(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return r.showHelp()}),wt(9,"ion-icon",4),de(),wt(10,"app-pwa-prompt"),de()()(),ve(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),rt(15,"Sessions"),de()()(),vn(16,z6,2,0,"div",7),vn(17,W6,9,0,"div",8),vn(18,Z6,2,2,"ion-list",9),de()),2&e&&(pt(16),gt("ngIf",r.sessionService.isLoading()),pt(1),gt("ngIf",!r.sessionService.isLoading()&&0===r.sessions.length),pt(1),gt("ngIf",!r.sessionService.isLoading()&&r.sessions.length>0))},dependencies:[Nc,Bo,Ui,Gi,zi,Wi,os,jl,Ed,Yi,Zi,wh,G6],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})();function K6(t,n){1&t&&(ve(0,"ion-item",8)(1,"ion-label"),rt(2,"Clipboard integration"),de(),wt(3,"ion-toggle",17),de())}function X6(t,n){if(1&t){const e=Ar();ve(0,"ion-item",8)(1,"ion-label",18),rt(2,"Proxy server"),de(),ve(3,"div",19),wt(4,"ion-input",20),ve(5,"ion-button",21),lt("click",function(o){Nt(e);const i=Jt();return o.preventDefault(),o.stopPropagation(),nn(i.testProxyConnection())})("touchstart",function(o){Nt(e);const i=Jt();return o.preventDefault(),o.stopPropagation(),nn(i.testProxyConnection())}),rt(6," Test "),de()()()}if(2&t){const e=Jt();pt(5),gt("disabled",!e.proxyServerValid)}}let Q6=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Rd,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,Se.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,Se.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Ip({volume:new Ao(this.kvsService.kvs.volume),showStatistics:new Ao(this.kvsService.kvs.showStatistics),runHidden:new Ao(this.kvsService.kvs.runHidden),clipboardIntegration:new Ao(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Ao(this.kvsService.kvs.networkRedirection),proxyServer:new Ao(this.kvsService.kvs.proxyServer,{validators:[uj]}),autoLockUI:new Ao(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Ao(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Ao(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(C(ys),C(Ai),C(wM),C(ii),C(c_))},t.\u0275cmp=ue({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3,"Settings"),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.showHelp()}),wt(6,"ion-icon",3),de(),wt(7,"app-pwa-prompt"),de()()(),ve(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),rt(12,"Settings"),de()()(),ve(13,"div",6)(14,"form",7)(15,"h1"),rt(16,"Emulation"),de(),ve(17,"ion-item",8)(18,"ion-label"),rt(19,"Volume"),de(),wt(20,"ion-range",9),de(),ve(21,"ion-item",8)(22,"ion-label"),rt(23,"Enable audio on start"),de(),wt(24,"ion-toggle",10),de(),ve(25,"ion-item",8)(26,"ion-label"),rt(27,"Run when hidden"),de(),wt(28,"ion-toggle",11),de(),ve(29,"h1"),rt(30,"Host integration"),de(),vn(31,K6,4,0,"ion-item",12),ve(32,"ion-item",8)(33,"ion-label"),rt(34,"Network redirection"),de(),wt(35,"ion-toggle",13),de(),vn(36,X6,7,1,"ion-item",12),ve(37,"h1"),rt(38,"UI"),de(),ve(39,"ion-item",8)(40,"ion-label"),rt(41,"Auto-lock UI"),de(),wt(42,"ion-toggle",14),de(),ve(43,"ion-item",8)(44,"ion-label"),rt(45,"Show statistics"),de(),wt(46,"ion-toggle",15),de(),ve(47,"ion-item",8)(48,"ion-label"),rt(49,"Open from remote sources"),de(),wt(50,"ion-toggle",16),de()()()()),2&e&&(gt("translucent",!0),pt(14),gt("formGroup",r.formGroup),pt(17),gt("ngIf",r.clipboardService.isSupported()),pt(5),gt("ngIf",r.showProxyServer))},dependencies:[Bo,Pl,Al,xl,Ui,Gi,zi,Wi,os,Hl,qi,is,Ov,Dd,Yi,Zi,Cd,Sd,Vl,wh,ya,Wa],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),__=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=sn({name:"cardSize",type:t,pure:!0}),t})();function J6(t,n){1&t&&(ve(0,"div",14)(1,"b"),rt(2,"WARNING:"),de(),rt(3," This image cannot be used as a memory stick image."),de())}let jM=(()=>{class t{constructor(e){this.storageCardService=e,this.onCancel=()=>{},this.onSave=()=>{},this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Vc({name:new ga("",{nonNullable:!0,validators:[Ny.required,this.validateNameUnique]}),size:new ga({value:"dummy",disabled:!0}),checkAutomatically:new ga(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2}ngOnInit(){!this.card||(this.formGroup.get("name")?.setValue(this.card.name),this.formGroup.get("checkAutomatically")?.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(C(eu))},t.\u0275cmp=ue({type:t,selectors:[["app-edit-card-dialog"]],inputs:{onCancel:"onCancel",onSave:"onSave",card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.save()}),rt(6,"Save"),de()(),ve(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),rt(9,"Cancel"),de()()()(),ve(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),ve(12,"ion-item",7)(13,"ion-label",8),rt(14,"Card name"),de(),wt(15,"ion-input",9),de(),ve(16,"ion-item",7)(17,"ion-label",8),rt(18,"Card size"),de(),ve(19,"ion-select",10)(20,"ion-select-option",11),rt(21),Dl(22,"cardSize"),de()()(),ve(23,"ion-item",7)(24,"ion-label"),rt(25,"Check for errors automatically"),de(),wt(26,"ion-toggle",12),de()(),vn(27,J6,4,0,"div",13),de()),2&e&&(pt(3),ps(r.newCard?"New memory card":"Edit memory card"),pt(2),gt("disabled",r.formGroup.invalid),pt(6),gt("formGroup",r.formGroup),pt(10),Ii("",Il(22,5,null==r.card?null:r.card.size)," "),pt(6),gt("ngIf",!r.memoryStickSupported))},dependencies:[Bo,Ui,Gi,zi,Wi,Hl,qi,is,nh,rh,Dd,Yi,Zi,Cd,Sd,Vl,Pl,Al,xl,ya,Wa,__],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function eU(t,n){if(1&t&&(ve(0,"ion-select-option",13),rt(1),Dl(2,"cardSize"),de()),2&t){const e=n.$implicit,r=Jt();gt("value",e),pt(1),Ii("",Il(2,2,r.sizeBytes(e))," ")}}const tU=[Qr.mb4,Qr.mb8,Qr.mb16,Qr.mb32,Qr.mb64,Qr.mb128];let nU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Vc({name:new ga("",{nonNullable:!0,validators:[Ny.required,this.validateNameUnique]}),size:new ga(Qr.mb32,{nonNullable:!0}),checkAutomatically:new ga(!0,{nonNullable:!0})})}get sizes(){return tU}sizeBytes(e){return function _j(t){switch(t){case Qr.mb4:return 4046848;case Qr.mb8:return 8110080;case Qr.mb16:return 16220160;case Qr.mb32:return 32473088;case Qr.mb64:return 64978944;case Qr.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(C(eu))},t.\u0275cmp=ue({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(ve(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),rt(3,"New memory card"),de(),ve(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.create()}),rt(6,"Create"),de()(),ve(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),rt(9,"Cancel"),de()()()(),ve(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),ve(12,"ion-item",7)(13,"ion-label",8),rt(14,"Card name"),de(),wt(15,"ion-input",9),de(),ve(16,"ion-item",7)(17,"ion-label",8),rt(18,"Card size"),de(),ve(19,"ion-select",10),vn(20,eU,3,4,"ion-select-option",11),de()(),ve(21,"ion-item",7)(22,"ion-label"),rt(23,"Check for errors automatically"),de(),wt(24,"ion-toggle",12),de()()()),2&e&&(pt(5),gt("disabled",r.formGroup.invalid),pt(6),gt("formGroup",r.formGroup),pt(9),gt("ngForOf",r.sizes))},dependencies:[Nc,Ui,Gi,zi,Wi,Hl,qi,is,nh,rh,Dd,Yi,Zi,Cd,Sd,Vl,Pl,Al,xl,ya,Wa,__]}),t})(),rU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(ve(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),rt(2," Edit "),de(),ve(3,"ion-item",0),lt("click",function(){return r.onSave()}),rt(4," Save "),de(),ve(5,"ion-item",0),lt("click",function(){return r.onCheck()}),rt(6," Check "),de(),ve(7,"ion-item",0),lt("click",function(){return r.onDelete()}),rt(8," Delete "),de()()),2&e&&(pt(1),gt("detail",!1),pt(2),gt("detail",!1),pt(2),gt("detail",!1),pt(2),gt("detail",!1))},dependencies:[qi,jl]}),t})(),oU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new hn,this.selectCard=new hn,this.edit=new hn,this.check=new hn,this.delete=new hn,this.save=new hn}onContextmenu(e){var r=this;return(0,Se.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:rU,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit(r.card)},onSave:()=>{o.dismiss(),r.save.emit(r.card)},onCheck:()=>{o.dismiss(),r.check.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()}}});o.present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Er.dirty:return"needs check";case Er.clean:return"no errors";case Er.unformatted:return"no filesystem";case Er.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(C(eu),C(Td))},t.\u0275cmp=ue({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=Ar();ve(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),ve(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Nt(o),$i(1).close(),nn(r.edit.emit(r.card))}),wt(4,"ion-icon",4),de(),ve(5,"ion-item-option",5),lt("click",function(){return Nt(o),$i(1).close(),nn(r.save.emit(r.card))}),wt(6,"ion-icon",6),de()(),ve(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Nt(o),$i(1).close(),nn(r.check.emit(r.card))}),wt(9,"ion-icon",9),de(),ve(10,"ion-item-option",10),lt("click",function(){return Nt(o),$i(1).close(),nn(r.delete.emit(r.card))}),wt(11,"ion-icon",11),de()(),ve(12,"ion-item",12),lt("click",function(){return r.selectCard.emit(),r.interaction.emit()}),ve(13,"ion-label")(14,"h2"),rt(15),de(),ve(16,"p"),rt(17),Dl(18,"cardSize"),de()()()()}2&e&&(pt(12),gt("color",r.color),pt(3),ps(null==r.card?null:r.card.name),pt(2),Hf("",Il(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[os,qi,Jp,eh,th,is,__]}),t})();function iU(t,n){1&t&&(ve(0,"div",10),wt(1,"ion-spinner"),de())}function sU(t,n){1&t&&(ve(0,"div",11)(1,"div",12),rt(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),de()())}function aU(t,n){if(1&t){const e=Ar();ve(0,"app-storage-card",14),lt("delete",function(){const i=Nt(e).$implicit;return nn(Jt(2).deleteCard(i))})("selectCard",function(){const i=Nt(e).$implicit;return nn(Jt(2).selectCard(i))})("edit",function(){const i=Nt(e).$implicit;return nn(Jt(2).editCard(i))})("check",function(){const i=Nt(e).$implicit;return nn(Jt(2).checkCard(i))})("interaction",function(){const i=Nt(e).$implicit;return nn(Jt(2).lastCardTouched=i.id)})("save",function(){const i=Nt(e).$implicit;return nn(Jt(2).saveCard(i))}),de()}if(2&t){const e=n.$implicit,r=Jt(2);gt("card",e)("touched",e.id===r.lastCardTouched)}}function lU(t,n){if(1&t&&(ve(0,"ion-list"),vn(1,aU,1,2,"app-storage-card",13),de()),2&t){const e=Jt();pt(1),gt("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}let cU=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y){var _=this;this.actionSheetController=e,this.storageCardService=r,this.modalController=o,this.alertController=i,this.cloudpilotService=s,this.alertService=a,this.errorService=c,this.vfsService=f,this.fileService=y,this.handleCardImport=function(){var I=(0,Se.Z)(function*(x){const Te=(yield _.cloudpilotService.cloudpilot).getCardSupportLevel(x.content.length);if(0===Te)return void _.alertService.errorMessage("This is not a supported card image.");const Ke=yield new Promise(function(){var He=(0,Se.Z)(function*(st){const Ae=yield _.modalController.create({component:jM,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(x.name),size:x.content.length},cardSupportLevel:Te,newCard:!0,onCancel:()=>{Ae.dismiss(),st(void 0)},onSave:vt=>{st(vt),Ae.dismiss()}}});yield Ae.present()});return function(st){return He.apply(this,arguments)}}());Ke&&(yield _.storageCardService.createCardFromFile(Ke.name,x,!!Ke.dontFsckAutomatically))});return function(x){return I.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{}}get cards(){return this.storageCardService.getAllCards()}addCardImage(){var e=this;return(0,Se.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()}]})).present()})()}showHelp(){}selectCard(e){var r=this;return(0,Se.Z)(function*(){const o=r.storageCardService.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield r.storageCardService.forceEjectCard(e.id)}(yield r.storageCardService.attachCardToVfs(e.id))&&r.onMountForBrowse(e)})()}editCard(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.cloudpilotService.cloudpilot,i=yield r.modalController.create({component:jM,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:o.getCardSupportLevel(e.size),onCancel:()=>i.dismiss(),onSave:s=>{r.storageCardService.updateCard(e.id,s),i.dismiss()}}});yield i.present()})()}saveCard(e){this.storageCardService.saveCard(e.id,`${i_(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){var r=this;return(0,Se.Z)(function*(){const o=r.storageCardService.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.storageCardService.forceEjectCard(e.id)}const i=yield r.storageCardService.fsckCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:return void r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>r.applyFsckResult(e.id,i)},"Cancel")}})()}deleteCard(e){var r=this;return(0,Se.Z)(function*(){var i;yield(yield r.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(i=(0,Se.Z)(function*(){try{yield r.storageCardService.deleteCard(e.id)}catch(s){r.errorService.fatalBug(s instanceof Error?s.message:"delete failed")}}),function(){return i.apply(this,arguments)})}]})).present()})()}trackCardBy(e,r){return r.id}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,Se.Z)(function*(){const r=yield e.modalController.create({component:nU,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(o,i,s)=>{e.storageCardService.createEmptyCard(o,i,s),r.dismiss()}}});yield r.present()})()}disambiguateName(e){const r=this.storageCardService.getAllCards();return HM(e,o=>r.some(i=>i.name===o))}applyFsckResult(e,r){var o=this;return(0,Se.Z)(function*(){yield o.storageCardService.applyFsckResult(e,r),o.alertService.message("Card fixed","All filesystem errors have been fixed.")})()}}return t.\u0275fac=function(e){return new(e||t)(C(Vv),C(eu),C(ys),C(qc),C(zs),C(ii),C(Qc),C(yh),C(Jc))},t.\u0275cmp=ue({type:t,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,r){1&e&&(ve(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),rt(3,"Memory cards"),de(),ve(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return r.addCardImage()}),wt(6,"ion-icon",2),de()(),ve(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return r.showHelp()}),wt(9,"ion-icon",4),de(),wt(10,"app-pwa-prompt"),de()()(),ve(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),rt(15,"Memory cards"),de()()(),vn(16,iU,2,0,"div",7),vn(17,sU,3,0,"div",8),vn(18,lU,2,2,"ion-list",9),de()),2&e&&(pt(16),gt("ngIf",r.storageCardService.isLoading()),pt(1),gt("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),pt(1),gt("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Nc,Bo,Ui,Gi,zi,Wi,os,jl,Ed,Yi,Zi,wh,oU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})(),uU=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=sn({name:"fileSize",type:t,pure:!0}),t})();function dU(t,n){1&t&&wt(0,"ion-icon",16)}function fU(t,n){1&t&&wt(0,"ion-icon",17)}function pU(t,n){if(1&t&&(Lf(0),rt(1),Dl(2,"fileSize"),$f()),2&t){const e=Jt();pt(1),Ii(" - ",Il(2,1,null==e.entry?null:e.entry.size)," ")}}let hU=(()=>{class t{constructor(){this.touched=!1,this.interaction=new hn,this.selectEntry=new hn,this.edit=new hn,this.copyEntry=new hn,this.delete=new hn,this.save=new hn}onContextmenu(e){var r=this;return(0,Se.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit()})()}get color(){if(this.touched)return"light"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-file-entry"]],inputs:{entry:"entry",touched:"touched"},outputs:{interaction:"interaction",selectEntry:"selectEntry",edit:"edit",copyEntry:"copyEntry",delete:"delete",save:"save"},decls:21,vars:9,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"]],template:function(e,r){if(1&e){const o=Ar();ve(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),ve(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Nt(o),$i(1).close(),nn(r.edit.emit(r.entry))}),wt(4,"ion-icon",4),de(),ve(5,"ion-item-option",5),lt("click",function(){return Nt(o),$i(1).close(),nn(r.save.emit(r.entry))}),wt(6,"ion-icon",6),de()(),ve(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Nt(o),$i(1).close(),nn(r.copyEntry.emit(r.entry))}),wt(9,"ion-icon",9),de(),ve(10,"ion-item-option",10),lt("click",function(){return Nt(o),$i(1).close(),nn(r.delete.emit(r.entry))}),wt(11,"ion-icon",11),de()(),ve(12,"ion-item",12),lt("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),vn(13,dU,1,0,"ion-icon",13),vn(14,fU,1,0,"ion-icon",14),ve(15,"ion-label")(16,"h2"),rt(17),de(),ve(18,"p"),rt(19),vn(20,pU,3,3,"ng-container",15),de()()()()}2&e&&(pt(12),Ou("opacity",r.touched?1:.99999),gt("color",r.color)("detail",null==r.entry?null:r.entry.isDirectory),pt(1),gt("ngIf",null==r.entry?null:r.entry.isDirectory),pt(1),gt("ngIf",!(null!=r.entry&&r.entry.isDirectory)),pt(3),ps(null==r.entry?null:r.entry.name),pt(2),Ii(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),pt(1),gt("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[Bo,os,qi,Jp,eh,th,is,uU]}),t})();function mU(t,n){if(1&t&&(ve(0,"div",6)(1,"div",7),rt(2),de()()),2&t){const e=Jt();pt(2),Ii(" empty ","/"===e.path?"card":"directory"," ")}}function gU(t,n){if(1&t){const e=Ar();ve(0,"app-file-entry",9),lt("selectEntry",function(){const i=Nt(e).$implicit;return nn(Jt(2).onSelect(i))})("interaction",function(){const i=Nt(e).$implicit;return nn(Jt(2).lastEntryTouched=i.name)}),de()}if(2&t){const e=n.$implicit,r=Jt(2);gt("entry",e)("touched",e.name===r.lastEntryTouched)}}function yU(t,n){if(1&t&&(ve(0,"ion-list"),vn(1,gU,1,2,"app-file-entry",8),de()),2&t){const e=Jt();pt(1),gt("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy)}}function vU(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let UM=(()=>{class t{constructor(e){this.vfsService=e,this.onNavigate=()=>{},this.lastEntryTouched=void 0}showHelp(){}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:return this.vfsService.splitPath(this.path)[1]??""}}ngOnInit(){this.updateEntries()}trackEntryBy(e,r){return r.name}onSelect(e){e.isDirectory&&this.onNavigate(e.path)}updateEntries(){void 0!==this.path?this.vfsService.readdir(this.path).then(e=>this.entries=e?[...e].sort(vU):[]):this.entries=[]}}return t.\u0275fac=function(e){return new(e||t)(C(yh))},t.\u0275cmp=ue({type:t,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate"},decls:12,vars:3,consts:[["slot","start"],["slot","primary"],[3,"click"],["name","help-outline"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"placeholder-container"],[1,"placeholder"],[3,"entry","touched","selectEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","touched","selectEntry","interaction"]],template:function(e,r){1&e&&(ve(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),rt(3),de(),ve(4,"ion-buttons",0),wt(5,"ion-back-button"),de(),ve(6,"ion-buttons",1)(7,"ion-button",2),lt("click",function(){return r.showHelp()}),wt(8,"ion-icon",3),de()()()(),ve(9,"ion-content"),vn(10,mU,3,1,"div",4),vn(11,yU,2,2,"ion-list",5),de()),2&e&&(pt(3),ps(r.title),pt(7),gt("ngIf",void 0!==r.entries&&0===r.entries.length),pt(1),gt("ngIf",void 0!==r.entries))},dependencies:[Nc,Bo,uI,Ui,Gi,zi,Wi,os,jl,Yi,Zi,DI,hU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})();const _U=["nav"],wU=[{path:"tab",component:g_,children:[{path:"emulation",component:L6},{path:"sessions",component:Y6},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(UM,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate})},this.navRoot=cU}ngOnInit(){this.vfsService.onReleaseCard.addHandler(e=>e===this.currentlyBrowsingCard?.id&&this.nav?.popToRoot())}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(UM,{card:e,path:"/",onNavigate:this.onNavigate})}}return t.\u0275fac=function(e){return new(e||t)(C(yh))},t.\u0275cmp=ue({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&zu(_U,5),2&e){let o;Bi(o=Vi())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&wt(0,"ion-nav",0,1),2&e&&gt("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[dI,II]}),t})()},{path:"settings",component:Q6},{path:"about",component:t6},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let bU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Qp.forChild(wU),Qp]}),t})(),CU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({imports:[Xa,Vs,Fl,bU,Zj,Yj,Kj,Xj,qj]}),t})(),SU=(()=>{class t extends jS{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=$o(t)))(r||t)}}(),t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const EU=[{path:"install",component:FM,canActivate:[OM]},{path:"import",component:FM,canActivate:[OM]},{path:"",component:g_}];let DU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qe({type:t}),t.\u0275inj=Jn({providers:[{provide:Bs,useClass:SU}],imports:[Qp.forRoot(EU,{preloadingStrategy:c4,useHash:!0}),CU,Qp]}),t})();const GM=["touch","click","keydown"];let IU=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,Se.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{GM.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};GM.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(we(Ai),we(v_))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const MU=()=>{const t=new Yc;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let kU=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(we(Bn),we(Ws),we(v_),we(Ld),we(Ai),we(RM),we(IU))},t.\u0275mod=qe({type:t,bootstrap:[Rj]}),t.\u0275inj=Jn({providers:[{provide:z1,useClass:cV},{provide:Ml,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Ai]}],imports:[DN,Xa.forRoot(),DU,xj.register("ngsw-worker.js",{enabled:true}),Wv.forRoot({loader:Ay,markedOptions:{provide:UI,useFactory:MU}}),QN]}),t})();window.global=window,function LN(){yp=kE("#/install?"),vp=kE("#/import?")}(),function wH(){return!!localStorage.getItem(fh)}()&&!TE()||function $N(){return void 0!==yp}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function fF(){IS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),EN().bootstrapModule(kU).catch(t=>console.log(t))},3272:Fe=>{var R,je=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ne,ee,d=typeof(k=k||{})<"u"?k:{};d.ready=new Promise(function(l,m){ne=l,ee=m});var V,ke,X,W=Object.assign({},d),Y=[],j="./this.program",G=(l,m)=>{throw m},ge="object"==typeof window,q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ge||q)&&(q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=l=>{var m=new XMLHttpRequest;return m.open("GET",l,!1),m.send(null),m.responseText},q&&(X=l=>{var m=new XMLHttpRequest;return m.open("GET",l,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),ke=(l,m,b)=>{var A=new XMLHttpRequest;A.open("GET",l,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?m(A.response):b()},A.onerror=b,A.send(null)});var le,me=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,W),W=null,d.arguments&&(Y=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(G=d.quit),d.wasmBinary&&(le=d.wasmBinary);var xe=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Xn("no native wasm support detected");var ce,he,ze=!1;function be(l,m){l||Xn(m)}var Ue,We,at,L,B,fe,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function $e(l,m,b){for(var A=m+b,H=m;l[H]&&!(H>=A);)++H;if(H-m>16&&l.buffer&&De)return De.decode(l.subarray(m,H));for(var _e="";m<H;){var Ee=l[m++];if(128&Ee){var Ne=63&l[m++];if(192!=(224&Ee)){var yt=63&l[m++];if((Ee=224==(240&Ee)?(15&Ee)<<12|Ne<<6|yt:(7&Ee)<<18|Ne<<12|yt<<6|63&l[m++])<65536)_e+=String.fromCharCode(Ee);else{var Xt=Ee-65536;_e+=String.fromCharCode(55296|Xt>>10,56320|1023&Xt)}}else _e+=String.fromCharCode((31&Ee)<<6|Ne)}else _e+=String.fromCharCode(Ee)}return _e}function Oe(l,m){return l?$e(at,l,m):""}function Ie(l,m,b,A){if(!(A>0))return 0;for(var H=b,_e=b+A-1,Ee=0;Ee<l.length;++Ee){var Ne=l.charCodeAt(Ee);if(Ne>=55296&&Ne<=57343&&(Ne=65536+((1023&Ne)<<10)|1023&l.charCodeAt(++Ee)),Ne<=127){if(b>=_e)break;m[b++]=Ne}else if(Ne<=2047){if(b+1>=_e)break;m[b++]=192|Ne>>6,m[b++]=128|63&Ne}else if(Ne<=65535){if(b+2>=_e)break;m[b++]=224|Ne>>12,m[b++]=128|Ne>>6&63,m[b++]=128|63&Ne}else{if(b+3>=_e)break;m[b++]=240|Ne>>18,m[b++]=128|Ne>>12&63,m[b++]=128|Ne>>6&63,m[b++]=128|63&Ne}}return m[b]=0,b-H}function K(l){for(var m=0,b=0;b<l.length;++b){var A=l.charCodeAt(b);A<=127?m++:A<=2047?m+=2:A>=55296&&A<=57343?(m+=4,++b):m+=3}return m}function Me(l){Ue=l,d.HEAP8=We=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAP32=L=new Int32Array(l),d.HEAPU8=at=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAPU32=B=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=fe=new Float64Array(l)}var nt,Sn,Xe=[],tt=[],Rt=[],$t=[],Gn=0,ir=null,yr=null;function mo(l){Gn++,d.monitorRunDependencies&&d.monitorRunDependencies(Gn)}function sr(l){if(Gn--,d.monitorRunDependencies&&d.monitorRunDependencies(Gn),0==Gn&&(null!==ir&&(clearInterval(ir),ir=null),yr)){var m=yr;yr=null,m()}}function Xn(l){d.onAbort&&d.onAbort(l),oe(l="Aborted("+l+")"),ze=!0,he=1,l+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(l);throw ee(m),m}function $r(l){return l.startsWith("data:application/octet-stream;base64,")}function qr(l){try{if(l==Sn&&le)return new Uint8Array(le);if(X)return X(l);throw"both async and sync fetching of the wasm failed"}catch(m){Xn(m)}}$r(Sn="cloudpilot_web.wasm")||(Sn=function O(l){return d.locateFile?d.locateFile(l,$):$+l}(Sn));var et,re,Le={242196:l=>{nt.grow(65536);for(let m=0;m<=65535;m++)nt.set(nt.length-65535-1+m,nt.get(B[(l>>>2)+m]));return nt.length-65535-1}};function wn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Ot(l){for(;l.length>0;)l.shift()(d)}function tr(l,m){return m+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*m:NaN}var Yt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,m)=>{for(var b=0,A=l.length-1;A>=0;A--){var H=l[A];"."===H?l.splice(A,1):".."===H?(l.splice(A,1),b++):b&&(l.splice(A,1),b--)}if(m)for(;b;b--)l.unshift("..");return l},normalize:l=>{var m=Yt.isAbs(l),b="/"===l.substr(-1);return!(l=Yt.normalizeArray(l.split("/").filter(A=>!!A),!m).join("/"))&&!m&&(l="."),l&&b&&(l+="/"),(m?"/":"")+l},dirname:l=>{var m=Yt.splitPath(l),b=m[0],A=m[1];return b||A?(A&&(A=A.substr(0,A.length-1)),b+A):"."},basename:l=>{if("/"===l)return"/";var m=(l=(l=Yt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?l:l.substr(m+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Yt.normalize(l.join("/"))},join2:(l,m)=>Yt.normalize(l+"/"+m)},ar={resolve:function(){for(var l="",m=!1,b=arguments.length-1;b>=-1&&!m;b--){var A=b>=0?arguments[b]:M.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";l=A+"/"+l,m=Yt.isAbs(A)}return(m?"/":"")+(l=Yt.normalizeArray(l.split("/").filter(H=>!!H),!m).join("/"))||"."},relative:(l,m)=>{function b(Xt){for(var Dn=0;Dn<Xt.length&&""===Xt[Dn];Dn++);for(var jn=Xt.length-1;jn>=0&&""===Xt[jn];jn--);return Dn>jn?[]:Xt.slice(Dn,jn-Dn+1)}l=ar.resolve(l).substr(1),m=ar.resolve(m).substr(1);for(var A=b(l.split("/")),H=b(m.split("/")),_e=Math.min(A.length,H.length),Ee=_e,Ne=0;Ne<_e;Ne++)if(A[Ne]!==H[Ne]){Ee=Ne;break}var yt=[];for(Ne=Ee;Ne<A.length;Ne++)yt.push("..");return(yt=yt.concat(H.slice(Ee))).join("/")}};function Vt(l,m,b){var A=b>0?b:K(l)+1,H=new Array(A),_e=Ie(l,H,0,H.length);return m&&(H.length=_e),H}var nr={ttys:[],init:function(){},shutdown:function(){},register:function(l,m){nr.ttys[l]={input:[],output:[],ops:m},M.registerDevice(l,nr.stream_ops)},stream_ops:{open:function(l){var m=nr.ttys[l.node.rdev];if(!m)throw new M.ErrnoError(43);l.tty=m,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,m,b,A,H){if(!l.tty||!l.tty.ops.get_char)throw new M.ErrnoError(60);for(var _e=0,Ee=0;Ee<A;Ee++){var Ne;try{Ne=l.tty.ops.get_char(l.tty)}catch{throw new M.ErrnoError(29)}if(void 0===Ne&&0===_e)throw new M.ErrnoError(6);if(null==Ne)break;_e++,m[b+Ee]=Ne}return _e&&(l.node.timestamp=Date.now()),_e},write:function(l,m,b,A,H){if(!l.tty||!l.tty.ops.put_char)throw new M.ErrnoError(60);try{for(var _e=0;_e<A;_e++)l.tty.ops.put_char(l.tty,m[b+_e])}catch{throw new M.ErrnoError(29)}return A&&(l.node.timestamp=Date.now()),_e}},default_tty_ops:{get_char:function(l){if(!l.input.length){var m=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(m=window.prompt("Input: "))&&(m+="\n"):"function"==typeof readline&&null!==(m=readline())&&(m+="\n"),!m)return null;l.input=Vt(m,!0)}return l.input.shift()},put_char:function(l,m){null===m||10===m?(me($e(l.output,0)),l.output=[]):0!=m&&l.output.push(m)},fsync:function(l){l.output&&l.output.length>0&&(me($e(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,m){null===m||10===m?(oe($e(l.output,0)),l.output=[]):0!=m&&l.output.push(m)},fsync:function(l){l.output&&l.output.length>0&&(oe($e(l.output,0)),l.output=[])}}};function S(l){Xn()}var Mt={ops_table:null,mount:function(l){return Mt.createNode(null,"/",16895,0)},createNode:function(l,m,b,A){if(M.isBlkdev(b)||M.isFIFO(b))throw new M.ErrnoError(63);Mt.ops_table||(Mt.ops_table={dir:{node:{getattr:Mt.node_ops.getattr,setattr:Mt.node_ops.setattr,lookup:Mt.node_ops.lookup,mknod:Mt.node_ops.mknod,rename:Mt.node_ops.rename,unlink:Mt.node_ops.unlink,rmdir:Mt.node_ops.rmdir,readdir:Mt.node_ops.readdir,symlink:Mt.node_ops.symlink},stream:{llseek:Mt.stream_ops.llseek}},file:{node:{getattr:Mt.node_ops.getattr,setattr:Mt.node_ops.setattr},stream:{llseek:Mt.stream_ops.llseek,read:Mt.stream_ops.read,write:Mt.stream_ops.write,allocate:Mt.stream_ops.allocate,mmap:Mt.stream_ops.mmap,msync:Mt.stream_ops.msync}},link:{node:{getattr:Mt.node_ops.getattr,setattr:Mt.node_ops.setattr,readlink:Mt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Mt.node_ops.getattr,setattr:Mt.node_ops.setattr},stream:M.chrdev_stream_ops}});var H=M.createNode(l,m,b,A);return M.isDir(H.mode)?(H.node_ops=Mt.ops_table.dir.node,H.stream_ops=Mt.ops_table.dir.stream,H.contents={}):M.isFile(H.mode)?(H.node_ops=Mt.ops_table.file.node,H.stream_ops=Mt.ops_table.file.stream,H.usedBytes=0,H.contents=null):M.isLink(H.mode)?(H.node_ops=Mt.ops_table.link.node,H.stream_ops=Mt.ops_table.link.stream):M.isChrdev(H.mode)&&(H.node_ops=Mt.ops_table.chrdev.node,H.stream_ops=Mt.ops_table.chrdev.stream),H.timestamp=Date.now(),l&&(l.contents[m]=H,l.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,m){var b=l.contents?l.contents.length:0;if(!(b>=m)){m=Math.max(m,b*(b<1048576?2:1.125)>>>0),0!=b&&(m=Math.max(m,256));var H=l.contents;l.contents=new Uint8Array(m),l.usedBytes>0&&l.contents.set(H.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,m){if(l.usedBytes!=m)if(0==m)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(m),b&&l.contents.set(b.subarray(0,Math.min(m,l.usedBytes))),l.usedBytes=m}},node_ops:{getattr:function(l){var m={};return m.dev=M.isChrdev(l.mode)?l.id:1,m.ino=l.id,m.mode=l.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=l.rdev,m.size=M.isDir(l.mode)?4096:M.isFile(l.mode)?l.usedBytes:M.isLink(l.mode)?l.link.length:0,m.atime=new Date(l.timestamp),m.mtime=new Date(l.timestamp),m.ctime=new Date(l.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:function(l,m){void 0!==m.mode&&(l.mode=m.mode),void 0!==m.timestamp&&(l.timestamp=m.timestamp),void 0!==m.size&&Mt.resizeFileStorage(l,m.size)},lookup:function(l,m){throw M.genericErrors[44]},mknod:function(l,m,b,A){return Mt.createNode(l,m,b,A)},rename:function(l,m,b){if(M.isDir(l.mode)){var A;try{A=M.lookupNode(m,b)}catch{}if(A)for(var H in A.contents)throw new M.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,m.contents[b]=l,m.timestamp=l.parent.timestamp,l.parent=m},unlink:function(l,m){delete l.contents[m],l.timestamp=Date.now()},rmdir:function(l,m){var b=M.lookupNode(l,m);for(var A in b.contents)throw new M.ErrnoError(55);delete l.contents[m],l.timestamp=Date.now()},readdir:function(l){var m=[".",".."];for(var b in l.contents)!l.contents.hasOwnProperty(b)||m.push(b);return m},symlink:function(l,m,b){var A=Mt.createNode(l,m,41471,0);return A.link=b,A},readlink:function(l){if(!M.isLink(l.mode))throw new M.ErrnoError(28);return l.link}},stream_ops:{read:function(l,m,b,A,H){var _e=l.node.contents;if(H>=l.node.usedBytes)return 0;var Ee=Math.min(l.node.usedBytes-H,A);if(Ee>8&&_e.subarray)m.set(_e.subarray(H,H+Ee),b);else for(var Ne=0;Ne<Ee;Ne++)m[b+Ne]=_e[H+Ne];return Ee},write:function(l,m,b,A,H,_e){if(m.buffer===We.buffer&&(_e=!1),!A)return 0;var Ee=l.node;if(Ee.timestamp=Date.now(),m.subarray&&(!Ee.contents||Ee.contents.subarray)){if(_e)return Ee.contents=m.subarray(b,b+A),Ee.usedBytes=A,A;if(0===Ee.usedBytes&&0===H)return Ee.contents=m.slice(b,b+A),Ee.usedBytes=A,A;if(H+A<=Ee.usedBytes)return Ee.contents.set(m.subarray(b,b+A),H),A}if(Mt.expandFileStorage(Ee,H+A),Ee.contents.subarray&&m.subarray)Ee.contents.set(m.subarray(b,b+A),H);else for(var Ne=0;Ne<A;Ne++)Ee.contents[H+Ne]=m[b+Ne];return Ee.usedBytes=Math.max(Ee.usedBytes,H+A),A},llseek:function(l,m,b){var A=m;if(1===b?A+=l.position:2===b&&M.isFile(l.node.mode)&&(A+=l.node.usedBytes),A<0)throw new M.ErrnoError(28);return A},allocate:function(l,m,b){Mt.expandFileStorage(l.node,m+b),l.node.usedBytes=Math.max(l.node.usedBytes,m+b)},mmap:function(l,m,b,A,H){if(!M.isFile(l.node.mode))throw new M.ErrnoError(43);var _e,Ee,Ne=l.node.contents;if(2&H||Ne.buffer!==Ue){if((b>0||b+m<Ne.length)&&(Ne=Ne.subarray?Ne.subarray(b,b+m):Array.prototype.slice.call(Ne,b,b+m)),Ee=!0,!(_e=S()))throw new M.ErrnoError(48);We.set(Ne,_e)}else Ee=!1,_e=Ne.byteOffset;return{ptr:_e,allocated:Ee}},msync:function(l,m,b,A,H){return Mt.stream_ops.write(l,m,0,A,b,!1),0}}},M={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,m={})=>{if(!(l=ar.resolve(l)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new M.ErrnoError(32);for(var A=l.split("/").filter(jn=>!!jn),H=M.root,_e="/",Ee=0;Ee<A.length;Ee++){var Ne=Ee===A.length-1;if(Ne&&m.parent)break;if(H=M.lookupNode(H,A[Ee]),_e=Yt.join2(_e,A[Ee]),M.isMountpoint(H)&&(!Ne||Ne&&m.follow_mount)&&(H=H.mounted.root),!Ne||m.follow)for(var yt=0;M.isLink(H.mode);){var Xt=M.readlink(_e);if(_e=ar.resolve(Yt.dirname(_e),Xt),H=M.lookupPath(_e,{recurse_count:m.recurse_count+1}).node,yt++>40)throw new M.ErrnoError(32)}}return{path:_e,node:H}},getPath:l=>{for(var m;;){if(M.isRoot(l)){var b=l.mount.mountpoint;return m?"/"!==b[b.length-1]?b+"/"+m:b+m:b}m=m?l.name+"/"+m:l.name,l=l.parent}},hashName:(l,m)=>{for(var b=0,A=0;A<m.length;A++)b=(b<<5)-b+m.charCodeAt(A)|0;return(l+b>>>0)%M.nameTable.length},hashAddNode:l=>{var m=M.hashName(l.parent.id,l.name);l.name_next=M.nameTable[m],M.nameTable[m]=l},hashRemoveNode:l=>{var m=M.hashName(l.parent.id,l.name);if(M.nameTable[m]===l)M.nameTable[m]=l.name_next;else for(var b=M.nameTable[m];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode:(l,m)=>{var b=M.mayLookup(l);if(b)throw new M.ErrnoError(b,l);for(var A=M.hashName(l.id,m),H=M.nameTable[A];H;H=H.name_next)if(H.parent.id===l.id&&H.name===m)return H;return M.lookup(l,m)},createNode:(l,m,b,A)=>{var H=new M.FSNode(l,m,b,A);return M.hashAddNode(H),H},destroyNode:l=>{M.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var m=M.flagModes[l];if(typeof m>"u")throw new Error("Unknown file open mode: "+l);return m},flagsToPermissionString:l=>{var m=["r","w","rw"][3&l];return 512&l&&(m+="w"),m},nodePermissions:(l,m)=>M.ignorePermissions?0:m.includes("r")&&!(292&l.mode)||m.includes("w")&&!(146&l.mode)||m.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>M.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,m)=>{try{return M.lookupNode(l,m),20}catch{}return M.nodePermissions(l,"wx")},mayDelete:(l,m,b)=>{var A;try{A=M.lookupNode(l,m)}catch(_e){return _e.errno}var H=M.nodePermissions(l,"wx");if(H)return H;if(b){if(!M.isDir(A.mode))return 54;if(M.isRoot(A)||M.getPath(A)===M.cwd())return 10}else if(M.isDir(A.mode))return 31;return 0},mayOpen:(l,m)=>l?M.isLink(l.mode)?32:M.isDir(l.mode)&&("r"!==M.flagsToPermissionString(m)||512&m)?31:M.nodePermissions(l,M.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,m=M.MAX_OPEN_FDS)=>{for(var b=l;b<=m;b++)if(!M.streams[b])return b;throw new M.ErrnoError(33)},getStream:l=>M.streams[l],createStream:(l,m,b)=>{M.FSStream||(M.FSStream=function(){this.shared={}},M.FSStream.prototype={},Object.defineProperties(M.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),l=Object.assign(new M.FSStream,l);var A=M.nextfd(m,b);return l.fd=A,M.streams[A]=l,l},closeStream:l=>{M.streams[l]=null},chrdev_stream_ops:{open:l=>{var m=M.getDevice(l.node.rdev);l.stream_ops=m.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new M.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,m)=>l<<8|m,registerDevice:(l,m)=>{M.devices[l]={stream_ops:m}},getDevice:l=>M.devices[l],getMounts:l=>{for(var m=[],b=[l];b.length;){var A=b.pop();m.push(A),b.push.apply(b,A.mounts)}return m},syncfs:(l,m)=>{"function"==typeof l&&(m=l,l=!1),M.syncFSRequests++,M.syncFSRequests>1&&oe("warning: "+M.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=M.getMounts(M.root.mount),A=0;function H(Ee){return M.syncFSRequests--,m(Ee)}function _e(Ee){if(Ee)return _e.errored?void 0:(_e.errored=!0,H(Ee));++A>=b.length&&H(null)}b.forEach(Ee=>{if(!Ee.type.syncfs)return _e(null);Ee.type.syncfs(Ee,l,_e)})},mount:(l,m,b)=>{var _e,A="/"===b,H=!b;if(A&&M.root)throw new M.ErrnoError(10);if(!A&&!H){var Ee=M.lookupPath(b,{follow_mount:!1});if(b=Ee.path,M.isMountpoint(_e=Ee.node))throw new M.ErrnoError(10);if(!M.isDir(_e.mode))throw new M.ErrnoError(54)}var Ne={type:l,opts:m,mountpoint:b,mounts:[]},yt=l.mount(Ne);return yt.mount=Ne,Ne.root=yt,A?M.root=yt:_e&&(_e.mounted=Ne,_e.mount&&_e.mount.mounts.push(Ne)),yt},unmount:l=>{var m=M.lookupPath(l,{follow_mount:!1});if(!M.isMountpoint(m.node))throw new M.ErrnoError(28);var b=m.node,A=b.mounted,H=M.getMounts(A);Object.keys(M.nameTable).forEach(Ee=>{for(var Ne=M.nameTable[Ee];Ne;){var yt=Ne.name_next;H.includes(Ne.mount)&&M.destroyNode(Ne),Ne=yt}}),b.mounted=null;var _e=b.mount.mounts.indexOf(A);b.mount.mounts.splice(_e,1)},lookup:(l,m)=>l.node_ops.lookup(l,m),mknod:(l,m,b)=>{var H=M.lookupPath(l,{parent:!0}).node,_e=Yt.basename(l);if(!_e||"."===_e||".."===_e)throw new M.ErrnoError(28);var Ee=M.mayCreate(H,_e);if(Ee)throw new M.ErrnoError(Ee);if(!H.node_ops.mknod)throw new M.ErrnoError(63);return H.node_ops.mknod(H,_e,m,b)},create:(l,m)=>(m=void 0!==m?m:438,m&=4095,M.mknod(l,m|=32768,0)),mkdir:(l,m)=>(m=void 0!==m?m:511,m&=1023,M.mknod(l,m|=16384,0)),mkdirTree:(l,m)=>{for(var b=l.split("/"),A="",H=0;H<b.length;++H)if(b[H]){A+="/"+b[H];try{M.mkdir(A,m)}catch(_e){if(20!=_e.errno)throw _e}}},mkdev:(l,m,b)=>(typeof b>"u"&&(b=m,m=438),M.mknod(l,m|=8192,b)),symlink:(l,m)=>{if(!ar.resolve(l))throw new M.ErrnoError(44);var A=M.lookupPath(m,{parent:!0}).node;if(!A)throw new M.ErrnoError(44);var H=Yt.basename(m),_e=M.mayCreate(A,H);if(_e)throw new M.ErrnoError(_e);if(!A.node_ops.symlink)throw new M.ErrnoError(63);return A.node_ops.symlink(A,H,l)},rename:(l,m)=>{var Ne,yt,b=Yt.dirname(l),A=Yt.dirname(m),H=Yt.basename(l),_e=Yt.basename(m);if(Ne=M.lookupPath(l,{parent:!0}).node,yt=M.lookupPath(m,{parent:!0}).node,!Ne||!yt)throw new M.ErrnoError(44);if(Ne.mount!==yt.mount)throw new M.ErrnoError(75);var jn,Xt=M.lookupNode(Ne,H),Dn=ar.relative(l,A);if("."!==Dn.charAt(0))throw new M.ErrnoError(28);if("."!==(Dn=ar.relative(m,b)).charAt(0))throw new M.ErrnoError(55);try{jn=M.lookupNode(yt,_e)}catch{}if(Xt!==jn){var Zt=M.isDir(Xt.mode),Pt=M.mayDelete(Ne,H,Zt);if(Pt)throw new M.ErrnoError(Pt);if(Pt=jn?M.mayDelete(yt,_e,Zt):M.mayCreate(yt,_e))throw new M.ErrnoError(Pt);if(!Ne.node_ops.rename)throw new M.ErrnoError(63);if(M.isMountpoint(Xt)||jn&&M.isMountpoint(jn))throw new M.ErrnoError(10);if(yt!==Ne&&(Pt=M.nodePermissions(Ne,"w")))throw new M.ErrnoError(Pt);M.hashRemoveNode(Xt);try{Ne.node_ops.rename(Xt,yt,_e)}catch(_n){throw _n}finally{M.hashAddNode(Xt)}}},rmdir:l=>{var b=M.lookupPath(l,{parent:!0}).node,A=Yt.basename(l),H=M.lookupNode(b,A),_e=M.mayDelete(b,A,!0);if(_e)throw new M.ErrnoError(_e);if(!b.node_ops.rmdir)throw new M.ErrnoError(63);if(M.isMountpoint(H))throw new M.ErrnoError(10);b.node_ops.rmdir(b,A),M.destroyNode(H)},readdir:l=>{var b=M.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new M.ErrnoError(54);return b.node_ops.readdir(b)},unlink:l=>{var b=M.lookupPath(l,{parent:!0}).node;if(!b)throw new M.ErrnoError(44);var A=Yt.basename(l),H=M.lookupNode(b,A),_e=M.mayDelete(b,A,!1);if(_e)throw new M.ErrnoError(_e);if(!b.node_ops.unlink)throw new M.ErrnoError(63);if(M.isMountpoint(H))throw new M.ErrnoError(10);b.node_ops.unlink(b,A),M.destroyNode(H)},readlink:l=>{var b=M.lookupPath(l).node;if(!b)throw new M.ErrnoError(44);if(!b.node_ops.readlink)throw new M.ErrnoError(28);return ar.resolve(M.getPath(b.parent),b.node_ops.readlink(b))},stat:(l,m)=>{var A=M.lookupPath(l,{follow:!m}).node;if(!A)throw new M.ErrnoError(44);if(!A.node_ops.getattr)throw new M.ErrnoError(63);return A.node_ops.getattr(A)},lstat:l=>M.stat(l,!0),chmod:(l,m,b)=>{var A;if(!(A="string"==typeof l?M.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new M.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&m|-4096&A.mode,timestamp:Date.now()})},lchmod:(l,m)=>{M.chmod(l,m,!0)},fchmod:(l,m)=>{var b=M.getStream(l);if(!b)throw new M.ErrnoError(8);M.chmod(b.node,m)},chown:(l,m,b,A)=>{var H;if(!(H="string"==typeof l?M.lookupPath(l,{follow:!A}).node:l).node_ops.setattr)throw new M.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(l,m,b)=>{M.chown(l,m,b,!0)},fchown:(l,m,b)=>{var A=M.getStream(l);if(!A)throw new M.ErrnoError(8);M.chown(A.node,m,b)},truncate:(l,m)=>{if(m<0)throw new M.ErrnoError(28);var b;if(!(b="string"==typeof l?M.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new M.ErrnoError(63);if(M.isDir(b.mode))throw new M.ErrnoError(31);if(!M.isFile(b.mode))throw new M.ErrnoError(28);var H=M.nodePermissions(b,"w");if(H)throw new M.ErrnoError(H);b.node_ops.setattr(b,{size:m,timestamp:Date.now()})},ftruncate:(l,m)=>{var b=M.getStream(l);if(!b)throw new M.ErrnoError(8);if(0==(2097155&b.flags))throw new M.ErrnoError(28);M.truncate(b.node,m)},utime:(l,m,b)=>{var H=M.lookupPath(l,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(m,b)})},open:(l,m,b)=>{if(""===l)throw new M.ErrnoError(44);var A;if(b=typeof b>"u"?438:b,b=64&(m="string"==typeof m?M.modeStringToFlags(m):m)?4095&b|32768:0,"object"==typeof l)A=l;else{l=Yt.normalize(l);try{A=M.lookupPath(l,{follow:!(131072&m)}).node}catch{}}var _e=!1;if(64&m)if(A){if(128&m)throw new M.ErrnoError(20)}else A=M.mknod(l,b,0),_e=!0;if(!A)throw new M.ErrnoError(44);if(M.isChrdev(A.mode)&&(m&=-513),65536&m&&!M.isDir(A.mode))throw new M.ErrnoError(54);if(!_e){var Ee=M.mayOpen(A,m);if(Ee)throw new M.ErrnoError(Ee)}512&m&&!_e&&M.truncate(A,0),m&=-131713;var Ne=M.createStream({node:A,path:M.getPath(A),flags:m,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return Ne.stream_ops.open&&Ne.stream_ops.open(Ne),d.logReadFiles&&!(1&m)&&(M.readFiles||(M.readFiles={}),l in M.readFiles||(M.readFiles[l]=1)),Ne},close:l=>{if(M.isClosed(l))throw new M.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(m){throw m}finally{M.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,m,b)=>{if(M.isClosed(l))throw new M.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new M.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new M.ErrnoError(28);return l.position=l.stream_ops.llseek(l,m,b),l.ungotten=[],l.position},read:(l,m,b,A,H)=>{if(A<0||H<0)throw new M.ErrnoError(28);if(M.isClosed(l))throw new M.ErrnoError(8);if(1==(2097155&l.flags))throw new M.ErrnoError(8);if(M.isDir(l.node.mode))throw new M.ErrnoError(31);if(!l.stream_ops.read)throw new M.ErrnoError(28);var _e=typeof H<"u";if(_e){if(!l.seekable)throw new M.ErrnoError(70)}else H=l.position;var Ee=l.stream_ops.read(l,m,b,A,H);return _e||(l.position+=Ee),Ee},write:(l,m,b,A,H,_e)=>{if(A<0||H<0)throw new M.ErrnoError(28);if(M.isClosed(l))throw new M.ErrnoError(8);if(0==(2097155&l.flags))throw new M.ErrnoError(8);if(M.isDir(l.node.mode))throw new M.ErrnoError(31);if(!l.stream_ops.write)throw new M.ErrnoError(28);l.seekable&&1024&l.flags&&M.llseek(l,0,2);var Ee=typeof H<"u";if(Ee){if(!l.seekable)throw new M.ErrnoError(70)}else H=l.position;var Ne=l.stream_ops.write(l,m,b,A,H,_e);return Ee||(l.position+=Ne),Ne},allocate:(l,m,b)=>{if(M.isClosed(l))throw new M.ErrnoError(8);if(m<0||b<=0)throw new M.ErrnoError(28);if(0==(2097155&l.flags))throw new M.ErrnoError(8);if(!M.isFile(l.node.mode)&&!M.isDir(l.node.mode))throw new M.ErrnoError(43);if(!l.stream_ops.allocate)throw new M.ErrnoError(138);l.stream_ops.allocate(l,m,b)},mmap:(l,m,b,A,H)=>{if(0!=(2&A)&&0==(2&H)&&2!=(2097155&l.flags))throw new M.ErrnoError(2);if(1==(2097155&l.flags))throw new M.ErrnoError(2);if(!l.stream_ops.mmap)throw new M.ErrnoError(43);return l.stream_ops.mmap(l,m,b,A,H)},msync:(l,m,b,A,H)=>l.stream_ops.msync?l.stream_ops.msync(l,m,b,A,H):0,munmap:l=>0,ioctl:(l,m,b)=>{if(!l.stream_ops.ioctl)throw new M.ErrnoError(59);return l.stream_ops.ioctl(l,m,b)},readFile:(l,m={})=>{if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error('Invalid encoding type "'+m.encoding+'"');var b,A=M.open(l,m.flags),_e=M.stat(l).size,Ee=new Uint8Array(_e);return M.read(A,Ee,0,_e,0),"utf8"===m.encoding?b=$e(Ee,0):"binary"===m.encoding&&(b=Ee),M.close(A),b},writeFile:(l,m,b={})=>{b.flags=b.flags||577;var A=M.open(l,b.flags,b.mode);if("string"==typeof m){var H=new Uint8Array(K(m)+1),_e=Ie(m,H,0,H.length);M.write(A,H,0,_e,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");M.write(A,m,0,m.byteLength,void 0,b.canOwn)}M.close(A)},cwd:()=>M.currentPath,chdir:l=>{var m=M.lookupPath(l,{follow:!0});if(null===m.node)throw new M.ErrnoError(44);if(!M.isDir(m.node.mode))throw new M.ErrnoError(54);var b=M.nodePermissions(m.node,"x");if(b)throw new M.ErrnoError(b);M.currentPath=m.path},createDefaultDirectories:()=>{M.mkdir("/tmp"),M.mkdir("/home"),M.mkdir("/home/web_user")},createDefaultDevices:()=>{M.mkdir("/dev"),M.registerDevice(M.makedev(1,3),{read:()=>0,write:(m,b,A,H,_e)=>H}),M.mkdev("/dev/null",M.makedev(1,3)),nr.register(M.makedev(5,0),nr.default_tty_ops),nr.register(M.makedev(6,0),nr.default_tty1_ops),M.mkdev("/dev/tty",M.makedev(5,0)),M.mkdev("/dev/tty1",M.makedev(6,0));var l=function Kn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>Xn("randomDevice")}();M.createDevice("/dev","random",l),M.createDevice("/dev","urandom",l),M.mkdir("/dev/shm"),M.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{M.mkdir("/proc");var l=M.mkdir("/proc/self");M.mkdir("/proc/self/fd"),M.mount({mount:()=>{var m=M.createNode(l,"fd",16895,73);return m.node_ops={lookup:(b,A)=>{var _e=M.getStream(+A);if(!_e)throw new M.ErrnoError(8);var Ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>_e.path}};return Ee.parent=Ee,Ee}},m}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?M.createDevice("/dev","stdin",d.stdin):M.symlink("/dev/tty","/dev/stdin"),d.stdout?M.createDevice("/dev","stdout",null,d.stdout):M.symlink("/dev/tty","/dev/stdout"),d.stderr?M.createDevice("/dev","stderr",null,d.stderr):M.symlink("/dev/tty1","/dev/stderr"),M.open("/dev/stdin",0),M.open("/dev/stdout",1),M.open("/dev/stderr",1)},ensureErrnoError:()=>{M.ErrnoError||(M.ErrnoError=function(m,b){this.node=b,this.setErrno=function(A){this.errno=A},this.setErrno(m),this.message="FS error"},M.ErrnoError.prototype=new Error,M.ErrnoError.prototype.constructor=M.ErrnoError,[44].forEach(l=>{M.genericErrors[l]=new M.ErrnoError(l),M.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{M.ensureErrnoError(),M.nameTable=new Array(4096),M.mount(Mt,{},"/"),M.createDefaultDirectories(),M.createDefaultDevices(),M.createSpecialDirectories(),M.filesystems={MEMFS:Mt}},init:(l,m,b)=>{M.init.initialized=!0,M.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=m||d.stdout,d.stderr=b||d.stderr,M.createStandardStreams()},quit:()=>{M.init.initialized=!1;for(var l=0;l<M.streams.length;l++){var m=M.streams[l];!m||M.close(m)}},getMode:(l,m)=>{var b=0;return l&&(b|=365),m&&(b|=146),b},findObject:(l,m)=>{var b=M.analyzePath(l,m);return b.exists?b.object:null},analyzePath:(l,m)=>{try{l=(b=M.lookupPath(l,{follow:!m})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=M.lookupPath(l,{parent:!0});A.parentExists=!0,A.parentPath=b.path,A.parentObject=b.node,A.name=Yt.basename(l),b=M.lookupPath(l,{follow:!m}),A.exists=!0,A.path=b.path,A.object=b.node,A.name=b.node.name,A.isRoot="/"===b.path}catch(H){A.error=H.errno}return A},createPath:(l,m,b,A)=>{l="string"==typeof l?l:M.getPath(l);for(var H=m.split("/").reverse();H.length;){var _e=H.pop();if(_e){var Ee=Yt.join2(l,_e);try{M.mkdir(Ee)}catch{}l=Ee}}return Ee},createFile:(l,m,b,A,H)=>{var _e=Yt.join2("string"==typeof l?l:M.getPath(l),m),Ee=M.getMode(A,H);return M.create(_e,Ee)},createDataFile:(l,m,b,A,H,_e)=>{var Ee=m;l&&(l="string"==typeof l?l:M.getPath(l),Ee=m?Yt.join2(l,m):l);var Ne=M.getMode(A,H),yt=M.create(Ee,Ne);if(b){if("string"==typeof b){for(var Xt=new Array(b.length),Dn=0,jn=b.length;Dn<jn;++Dn)Xt[Dn]=b.charCodeAt(Dn);b=Xt}M.chmod(yt,146|Ne);var Zt=M.open(yt,577);M.write(Zt,b,0,b.length,0,_e),M.close(Zt),M.chmod(yt,Ne)}return yt},createDevice:(l,m,b,A)=>{var H=Yt.join2("string"==typeof l?l:M.getPath(l),m),_e=M.getMode(!!b,!!A);M.createDevice.major||(M.createDevice.major=64);var Ee=M.makedev(M.createDevice.major++,0);return M.registerDevice(Ee,{open:Ne=>{Ne.seekable=!1},close:Ne=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(Ne,yt,Xt,Dn,jn)=>{for(var Zt=0,Pt=0;Pt<Dn;Pt++){var _n;try{_n=b()}catch{throw new M.ErrnoError(29)}if(void 0===_n&&0===Zt)throw new M.ErrnoError(6);if(null==_n)break;Zt++,yt[Xt+Pt]=_n}return Zt&&(Ne.node.timestamp=Date.now()),Zt},write:(Ne,yt,Xt,Dn,jn)=>{for(var Zt=0;Zt<Dn;Zt++)try{A(yt[Xt+Zt])}catch{throw new M.ErrnoError(29)}return Dn&&(Ne.node.timestamp=Date.now()),Zt}}),M.mkdev(H,_e,Ee)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Vt(V(l.url),!0),l.usedBytes=l.contents.length}catch{throw new M.ErrnoError(29)}},createLazyFile:(l,m,b,A,H)=>{function _e(){this.lengthKnown=!1,this.chunks=[]}if(_e.prototype.get=function(Pt){if(!(Pt>this.length-1||Pt<0)){var _n=Pt%this.chunkSize;return this.getter(Pt/this.chunkSize|0)[_n]}},_e.prototype.setDataGetter=function(Pt){this.getter=Pt},_e.prototype.cacheLength=function(){var Pt=new XMLHttpRequest;if(Pt.open("HEAD",b,!1),Pt.send(null),!(Pt.status>=200&&Pt.status<300||304===Pt.status))throw new Error("Couldn't load "+b+". Status: "+Pt.status);var kn,_n=Number(Pt.getResponseHeader("Content-length")),Ei=(kn=Pt.getResponseHeader("Accept-Ranges"))&&"bytes"===kn,Lo=(kn=Pt.getResponseHeader("Content-Encoding"))&&"gzip"===kn,ft=1048576;Ei||(ft=_n);var uo=this;uo.setDataGetter(br=>{var ei=br*ft,Lr=(br+1)*ft-1;if(Lr=Math.min(Lr,_n-1),typeof uo.chunks[br]>"u"&&(uo.chunks[br]=((br,ei)=>{if(br>ei)throw new Error("invalid range ("+br+", "+ei+") or no bytes requested!");if(ei>_n-1)throw new Error("only "+_n+" bytes available! programmer error!");var Lr=new XMLHttpRequest;if(Lr.open("GET",b,!1),_n!==ft&&Lr.setRequestHeader("Range","bytes="+br+"-"+ei),Lr.responseType="arraybuffer",Lr.overrideMimeType&&Lr.overrideMimeType("text/plain; charset=x-user-defined"),Lr.send(null),!(Lr.status>=200&&Lr.status<300||304===Lr.status))throw new Error("Couldn't load "+b+". Status: "+Lr.status);return void 0!==Lr.response?new Uint8Array(Lr.response||[]):Vt(Lr.responseText||"",!0)})(ei,Lr)),typeof uo.chunks[br]>"u")throw new Error("doXHR failed!");return uo.chunks[br]}),(Lo||!_n)&&(ft=_n=1,_n=this.getter(0).length,ft=_n,me("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=_n,this._chunkSize=ft,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ee=new _e;Object.defineProperties(Ee,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ne={isDevice:!1,contents:Ee}}else Ne={isDevice:!1,url:b};var yt=M.createFile(l,m,Ne,A,H);Ne.contents?yt.contents=Ne.contents:Ne.url&&(yt.contents=null,yt.url=Ne.url),Object.defineProperties(yt,{usedBytes:{get:function(){return this.contents.length}}});var Xt={};function jn(Zt,Pt,_n,kn,Ei){var Lo=Zt.node.contents;if(Ei>=Lo.length)return 0;var ft=Math.min(Lo.length-Ei,kn);if(Lo.slice)for(var Qt=0;Qt<ft;Qt++)Pt[_n+Qt]=Lo[Ei+Qt];else for(Qt=0;Qt<ft;Qt++)Pt[_n+Qt]=Lo.get(Ei+Qt);return ft}return Object.keys(yt.stream_ops).forEach(Zt=>{var Pt=yt.stream_ops[Zt];Xt[Zt]=function(){return M.forceLoadFile(yt),Pt.apply(null,arguments)}}),Xt.read=(Zt,Pt,_n,kn,Ei)=>(M.forceLoadFile(yt),jn(Zt,Pt,_n,kn,Ei)),Xt.mmap=(Zt,Pt,_n,kn,Ei)=>{M.forceLoadFile(yt);var Lo=S();if(!Lo)throw new M.ErrnoError(48);return jn(Zt,We,Lo,Pt,_n),{ptr:Lo,allocated:!0}},yt.stream_ops=Xt,yt},createPreloadedFile:(l,m,b,A,H,_e,Ee,Ne,yt,Xt)=>{var Dn=m?ar.resolve(Yt.join2(l,m)):l;function Zt(Pt){function _n(kn){Xt&&Xt(),Ne||M.createDataFile(l,m,kn,A,H,yt),_e&&_e(),sr()}Browser.handledByPreloadPlugin(Pt,Dn,_n,()=>{Ee&&Ee(),sr()})||_n(Pt)}mo(),"string"==typeof b?function hr(l,m,b,A){var H=A?"":"al "+l;ke(l,_e=>{be(_e,'Loading data file "'+l+'" failed (no arrayBuffer).'),m(new Uint8Array(_e)),H&&sr()},_e=>{if(!b)throw'Loading data file "'+l+'" failed.';b()}),H&&mo()}(b,Pt=>Zt(Pt),Ee):Zt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,m,b)=>{m=m||(()=>{}),b=b||(()=>{});var A=M.indexedDB();try{var H=A.open(M.DB_NAME(),M.DB_VERSION)}catch(_e){return b(_e)}H.onupgradeneeded=()=>{me("creating db"),H.result.createObjectStore(M.DB_STORE_NAME)},H.onsuccess=()=>{var Ee=H.result.transaction([M.DB_STORE_NAME],"readwrite"),Ne=Ee.objectStore(M.DB_STORE_NAME),yt=0,Xt=0,Dn=l.length;function jn(){0==Xt?m():b()}l.forEach(Zt=>{var Pt=Ne.put(M.analyzePath(Zt).object.contents,Zt);Pt.onsuccess=()=>{++yt+Xt==Dn&&jn()},Pt.onerror=()=>{Xt++,yt+Xt==Dn&&jn()}}),Ee.onerror=b},H.onerror=b},loadFilesFromDB:(l,m,b)=>{m=m||(()=>{}),b=b||(()=>{});var A=M.indexedDB();try{var H=A.open(M.DB_NAME(),M.DB_VERSION)}catch(_e){return b(_e)}H.onupgradeneeded=b,H.onsuccess=()=>{var _e=H.result;try{var Ee=_e.transaction([M.DB_STORE_NAME],"readonly")}catch(Zt){return void b(Zt)}var Ne=Ee.objectStore(M.DB_STORE_NAME),yt=0,Xt=0,Dn=l.length;function jn(){0==Xt?m():b()}l.forEach(Zt=>{var Pt=Ne.get(Zt);Pt.onsuccess=()=>{M.analyzePath(Zt).exists&&M.unlink(Zt),M.createDataFile(Yt.dirname(Zt),Yt.basename(Zt),Pt.result,!0,!0,!0),++yt+Xt==Dn&&jn()},Pt.onerror=()=>{Xt++,yt+Xt==Dn&&jn()}}),Ee.onerror=b},H.onerror=b}},Pr={DEFAULT_POLLMASK:5,calculateAt:function(l,m,b){if(Yt.isAbs(m))return m;var A;if(A=-100===l?M.cwd():Pr.getStreamFromFD(l).path,0==m.length){if(!b)throw new M.ErrnoError(44);return A}return Yt.join2(A,m)},doStat:function(l,m,b){try{var A=l(m)}catch(H){if(H&&H.node&&Yt.normalize(m)!==Yt.normalize(M.getPath(H.node)))return-54;throw H}return L[b>>2]=A.dev,L[b+8>>2]=A.ino,L[b+12>>2]=A.mode,B[b+16>>2]=A.nlink,L[b+20>>2]=A.uid,L[b+24>>2]=A.gid,L[b+28>>2]=A.rdev,re=[A.size>>>0,(et=A.size,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[b+40>>2]=re[0],L[b+44>>2]=re[1],L[b+48>>2]=4096,L[b+52>>2]=A.blocks,re=[Math.floor(A.atime.getTime()/1e3)>>>0,(et=Math.floor(A.atime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[b+56>>2]=re[0],L[b+60>>2]=re[1],B[b+64>>2]=0,re=[Math.floor(A.mtime.getTime()/1e3)>>>0,(et=Math.floor(A.mtime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[b+72>>2]=re[0],L[b+76>>2]=re[1],B[b+80>>2]=0,re=[Math.floor(A.ctime.getTime()/1e3)>>>0,(et=Math.floor(A.ctime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[b+88>>2]=re[0],L[b+92>>2]=re[1],B[b+96>>2]=0,re=[A.ino>>>0,(et=A.ino,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[b+104>>2]=re[0],L[b+108>>2]=re[1],0},doMsync:function(l,m,b,A,H){if(!M.isFile(m.node.mode))throw new M.ErrnoError(43);if(2&A)return 0;var _e=at.slice(l,l+b);M.msync(m,_e,H,b,A)},varargs:void 0,get:function(){return Pr.varargs+=4,L[Pr.varargs-4>>2]},getStr:function(l){return Oe(l)},getStreamFromFD:function(l){var m=M.getStream(l);if(!m)throw new M.ErrnoError(8);return m}};function Io(l){return l%4==0&&(l%100!=0||l%400==0)}var Gt=[0,31,60,91,121,152,182,213,244,274,305,335],eo=[0,31,59,90,120,151,181,212,243,273,304,334];function rr(l){return(Io(l.getFullYear())?Gt:eo)[l.getMonth()]+l.getDate()-1}function Go(l){var m=K(l)+1,b=qs(m);return b&&Ie(l,We,b,m),b}var D=[];function Vr(l){try{return ce.grow(l-Ue.byteLength+65535>>>16),Me(ce.buffer),1}catch{}}var zo={};function Wn(){if(!Wn.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var b in zo)void 0===zo[b]?delete m[b]:m[b]=zo[b];var A=[];for(var b in m)A.push(b+"="+m[b]);Wn.strings=A}return Wn.strings}var se=[31,29,31,30,31,30,31,31,30,31,30,31],Ce=[31,28,31,30,31,30,31,31,30,31,30,31];function zt(l,m){l<128?m.push(l):m.push(l%128|128,l>>7)}var Rr=[];function mr(l){var m=Rr[l];return m||(l>=Rr.length&&(Rr.length=l+1),Rr[l]=m=nt.get(l)),m}var Yo=void 0,wi=[];function ws(l,m){nt.set(l,m),Rr[l]=nt.get(l)}var bs=function(l,m,b,A){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=M.nextInode++,this.name=m,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(bs.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return M.isDir(this.mode)}},isDevice:{get:function(){return M.isChrdev(this.mode)}}}),M.FSNode=bs,M.staticInit();var ec,Nn={b:function on(l,m,b,A){Xn("Assertion failed: "+Oe(l)+", at: "+[m?Oe(m):"unknown filename",b,A?Oe(A):"unknown function"])},i:function un(l){const m=new Error(Oe(l));throw m.isAssert=!0,m},l:function ao(l,m,b){try{var A=tr(m,b);return isNaN(A)?-61:(M.ftruncate(l,A),0)}catch(H){if(typeof M>"u"||!(H instanceof M.ErrnoError))throw H;return-H.errno}},e:function Ro(){return!0},f:function to(l,m){var b=new Date(1e3*function vr(l){return B[l>>2]+4294967296*L[l+4>>2]}(l));L[m>>2]=b.getSeconds(),L[m+4>>2]=b.getMinutes(),L[m+8>>2]=b.getHours(),L[m+12>>2]=b.getDate(),L[m+16>>2]=b.getMonth(),L[m+20>>2]=b.getFullYear()-1900,L[m+24>>2]=b.getDay();var A=0|rr(b);L[m+28>>2]=A,L[m+36>>2]=-60*b.getTimezoneOffset();var H=new Date(b.getFullYear(),0,1),_e=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ee=H.getTimezoneOffset(),Ne=0|(_e!=Ee&&b.getTimezoneOffset()==Math.min(Ee,_e));L[m+32>>2]=Ne},g:function no(l){var m=new Date(L[l+20>>2]+1900,L[l+16>>2],L[l+12>>2],L[l+8>>2],L[l+4>>2],L[l>>2],0),b=L[l+32>>2],A=m.getTimezoneOffset(),H=new Date(m.getFullYear(),0,1),_e=new Date(m.getFullYear(),6,1).getTimezoneOffset(),Ee=H.getTimezoneOffset(),Ne=Math.min(Ee,_e);if(b<0)L[l+32>>2]=Number(_e!=Ee&&Ne==A);else if(b>0!=(Ne==A)){var yt=Math.max(Ee,_e),Xt=b>0?Ne:yt;m.setTime(m.getTime()+6e4*(Xt-A))}L[l+24>>2]=m.getDay();var Dn=0|rr(m);return L[l+28>>2]=Dn,L[l>>2]=m.getSeconds(),L[l+4>>2]=m.getMinutes(),L[l+8>>2]=m.getHours(),L[l+12>>2]=m.getDate(),L[l+16>>2]=m.getMonth(),L[l+20>>2]=m.getYear(),m.getTime()/1e3|0},h:function qt(l,m,b){var A=(new Date).getFullYear(),H=new Date(A,0,1),_e=new Date(A,6,1),Ee=H.getTimezoneOffset(),Ne=_e.getTimezoneOffset(),yt=Math.max(Ee,Ne);function Xt(_n){var kn=_n.toTimeString().match(/\(([A-Za-z ]+)\)$/);return kn?kn[1]:"GMT"}B[l>>2]=60*yt,L[m>>2]=Number(Ee!=Ne);var Dn=Xt(H),jn=Xt(_e),Zt=Go(Dn),Pt=Go(jn);Ne<Ee?(B[b>>2]=Zt,B[b+4>>2]=Pt):(B[b>>2]=Pt,B[b+4>>2]=Zt)},a:function yo(){Xn("")},j:function Br(l,m,b){var A=function Zr(l,m){var b;for(D.length=0,m>>=2;b=at[l++];)m+=105!=b&m,D.push(105==b?L[m]:fe[m++>>1]),++m;return D}(m,b);return Le[l].apply(null,A)},c:function si(){return Date.now()},q:function Fo(l,m,b){at.copyWithin(l,m,m+b)},p:function Xi(l){var yt,m=at.length,b=2147483648;if((l>>>=0)>b)return!1;for(var H=1;H<=4;H*=2){var _e=m*(1+.2/H);if(_e=Math.min(_e,l+100663296),Vr(Math.min(b,(yt=Math.max(l,_e))+(65536-yt%65536)%65536)))return!0}return!1},n:function vi(l,m){var b=0;return Wn().forEach(function(A,H){var _e=m+b;B[l+4*H>>2]=_e,function Wo(l,m,b){for(var A=0;A<l.length;++A)We[m++>>0]=l.charCodeAt(A);b||(We[m>>0]=0)}(A,_e),b+=A.length+1}),0},o:function qo(l,m){var b=Wn();B[l>>2]=b.length;var A=0;return b.forEach(function(H){A+=H.length+1}),B[m>>2]=A,0},r:function On(l){try{var m=Pr.getStreamFromFD(l);return M.close(m),0}catch(b){if(typeof M>"u"||!(b instanceof M.ErrnoError))throw b;return b.errno}},d:function Vn(l,m,b,A){try{var _e=function Zo(l,m,b,A){for(var H=0,_e=0;_e<b;_e++){var Ee=B[m>>2],Ne=B[m+4>>2];m+=8;var yt=M.read(l,We,Ee,Ne,A);if(yt<0)return-1;if(H+=yt,yt<Ne)break}return H}(Pr.getStreamFromFD(l),m,b);return B[A>>2]=_e,0}catch(Ee){if(typeof M>"u"||!(Ee instanceof M.ErrnoError))throw Ee;return Ee.errno}},k:function _i(l,m,b,A,H){try{var _e=tr(m,b);if(isNaN(_e))return 61;var Ee=Pr.getStreamFromFD(l);return M.llseek(Ee,_e,A),re=[Ee.position>>>0,(et=Ee.position,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[H>>2]=re[0],L[H+4>>2]=re[1],Ee.getdents&&0===_e&&0===A&&(Ee.getdents=null),0}catch(Ne){if(typeof M>"u"||!(Ne instanceof M.ErrnoError))throw Ne;return Ne.errno}},s:function T(l,m,b,A){try{var _e=function Qi(l,m,b,A){for(var H=0,_e=0;_e<b;_e++){var Ee=B[m>>2],Ne=B[m+4>>2];m+=8;var yt=M.write(l,We,Ee,Ne,A);if(yt<0)return-1;H+=yt}return H}(Pr.getStreamFromFD(l),m,b);return B[A>>2]=_e,0}catch(Ee){if(typeof M>"u"||!(Ee instanceof M.ErrnoError))throw Ee;return Ee.errno}},m:function Pe(l,m,b,A,H){return function J(l,m,b,A){var H=L[A+40>>2],_e={tm_sec:L[A>>2],tm_min:L[A+4>>2],tm_hour:L[A+8>>2],tm_mday:L[A+12>>2],tm_mon:L[A+16>>2],tm_year:L[A+20>>2],tm_wday:L[A+24>>2],tm_yday:L[A+28>>2],tm_isdst:L[A+32>>2],tm_gmtoff:L[A+36>>2],tm_zone:H?Oe(H):""},Ee=Oe(b),Ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var yt in Ne)Ee=Ee.replace(new RegExp(yt,"g"),Ne[yt]);var Xt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Dn=["January","February","March","April","May","June","July","August","September","October","November","December"];function jn(ft,Qt,uo){for(var br="number"==typeof ft?ft.toString():ft||"";br.length<Qt;)br=uo[0]+br;return br}function Zt(ft,Qt){return jn(ft,Qt,"0")}function Pt(ft,Qt){function uo(ei){return ei<0?-1:ei>0?1:0}var br;return 0===(br=uo(ft.getFullYear()-Qt.getFullYear()))&&0===(br=uo(ft.getMonth()-Qt.getMonth()))&&(br=uo(ft.getDate()-Qt.getDate())),br}function _n(ft){switch(ft.getDay()){case 0:return new Date(ft.getFullYear()-1,11,29);case 1:return ft;case 2:return new Date(ft.getFullYear(),0,3);case 3:return new Date(ft.getFullYear(),0,2);case 4:return new Date(ft.getFullYear(),0,1);case 5:return new Date(ft.getFullYear()-1,11,31);case 6:return new Date(ft.getFullYear()-1,11,30)}}function kn(ft){var Qt=function P(l,m){for(var b=new Date(l.getTime());m>0;){var A=Io(b.getFullYear()),H=b.getMonth(),_e=(A?se:Ce)[H];if(!(m>_e-b.getDate()))return b.setDate(b.getDate()+m),b;m-=_e-b.getDate()+1,b.setDate(1),H<11?b.setMonth(H+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ft.tm_year+1900,0,1),ft.tm_yday),uo=new Date(Qt.getFullYear(),0,4),br=new Date(Qt.getFullYear()+1,0,4),ei=_n(uo),Lr=_n(br);return Pt(ei,Qt)<=0?Pt(Lr,Qt)<=0?Qt.getFullYear()+1:Qt.getFullYear():Qt.getFullYear()-1}var Ei={"%a":function(ft){return Xt[ft.tm_wday].substring(0,3)},"%A":function(ft){return Xt[ft.tm_wday]},"%b":function(ft){return Dn[ft.tm_mon].substring(0,3)},"%B":function(ft){return Dn[ft.tm_mon]},"%C":function(ft){return Zt((ft.tm_year+1900)/100|0,2)},"%d":function(ft){return Zt(ft.tm_mday,2)},"%e":function(ft){return jn(ft.tm_mday,2," ")},"%g":function(ft){return kn(ft).toString().substring(2)},"%G":function(ft){return kn(ft)},"%H":function(ft){return Zt(ft.tm_hour,2)},"%I":function(ft){var Qt=ft.tm_hour;return 0==Qt?Qt=12:Qt>12&&(Qt-=12),Zt(Qt,2)},"%j":function(ft){return Zt(ft.tm_mday+function N(l,m){for(var b=0,A=0;A<=m;b+=l[A++]);return b}(Io(ft.tm_year+1900)?se:Ce,ft.tm_mon-1),3)},"%m":function(ft){return Zt(ft.tm_mon+1,2)},"%M":function(ft){return Zt(ft.tm_min,2)},"%n":function(){return"\n"},"%p":function(ft){return ft.tm_hour>=0&&ft.tm_hour<12?"AM":"PM"},"%S":function(ft){return Zt(ft.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ft){return ft.tm_wday||7},"%U":function(ft){return Zt(Math.floor((ft.tm_yday+7-ft.tm_wday)/7),2)},"%V":function(ft){var Qt=Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7);if((ft.tm_wday+371-ft.tm_yday-2)%7<=2&&Qt++,Qt){if(53==Qt){var br=(ft.tm_wday+371-ft.tm_yday)%7;4!=br&&(3!=br||!Io(ft.tm_year))&&(Qt=1)}}else{Qt=52;var uo=(ft.tm_wday+7-ft.tm_yday-1)%7;(4==uo||5==uo&&Io(ft.tm_year%400-1))&&Qt++}return Zt(Qt,2)},"%w":function(ft){return ft.tm_wday},"%W":function(ft){return Zt(Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7),2)},"%y":function(ft){return(ft.tm_year+1900).toString().substring(2)},"%Y":function(ft){return ft.tm_year+1900},"%z":function(ft){var Qt=ft.tm_gmtoff,uo=Qt>=0;return Qt=(Qt=Math.abs(Qt)/60)/60*100+Qt%60,(uo?"+":"-")+String("0000"+Qt).slice(-4)},"%Z":function(ft){return ft.tm_zone},"%%":function(){return"%"}};for(var yt in Ee=Ee.replace(/%%/g,"\0\0"),Ei)Ee.includes(yt)&&(Ee=Ee.replace(new RegExp(yt,"g"),Ei[yt](_e)));var Lo=Vt(Ee=Ee.replace(/\0\0/g,"%"),!1);return Lo.length>m?0:(function Z(l,m){We.set(l,m)}(Lo,l),Lo.length-1)}(l,m,b,A)}},qs=(function xr(){var l={a:Nn};function m(Ee,Ne){d.asm=Ee.exports,Me((ce=d.asm.t).buffer),nt=d.asm.gc,function Jr(l){tt.unshift(l)}(d.asm.u),sr()}function b(Ee){m(Ee.instance)}function A(Ee){return function yi(){return le||!ge&&!q||"function"!=typeof fetch?Promise.resolve().then(function(){return qr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+Sn+"'";return l.arrayBuffer()}).catch(function(){return qr(Sn)})}().then(function(Ne){return WebAssembly.instantiate(Ne,l)}).then(function(Ne){return Ne}).then(Ee,function(Ne){oe("failed to asynchronously prepare wasm: "+Ne),Xn(Ne)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(l,m)}catch(Ee){oe("Module.instantiateWasm callback failed with error: "+Ee),ee(Ee)}(function H(){return le||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?A(b):fetch(Sn,{credentials:"same-origin"}).then(function(Ee){return WebAssembly.instantiateStreaming(Ee,l).then(b,function(yt){return oe("wasm streaming compile failed: "+yt),oe("falling back to ArrayBuffer instantiation"),A(b)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.u).apply(null,arguments)},d._malloc=function(){return(qs=d._malloc=d.asm.v).apply(null,arguments)}),Ta=(d._main=function(){return(d._main=d.asm.w).apply(null,arguments)},d._emscripten_bind_VoidPtr___destroy___0=function(){return(Ta=d._emscripten_bind_VoidPtr___destroy___0=d.asm.x).apply(null,arguments)}),Jn=d._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Jn=d._emscripten_bind_Cloudpilot_Cloudpilot_0=d.asm.y).apply(null,arguments)},Zs=d._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Zs=d._emscripten_bind_Cloudpilot_Malloc_1=d.asm.z).apply(null,arguments)},ll=d._emscripten_bind_Cloudpilot_Free_1=function(){return(ll=d._emscripten_bind_Cloudpilot_Free_1=d.asm.A).apply(null,arguments)},Cs=d._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(Cs=d._emscripten_bind_Cloudpilot_Nullptr_0=d.asm.B).apply(null,arguments)},as=d._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(as=d._emscripten_bind_Cloudpilot_InitializeSession_3=d.asm.C).apply(null,arguments)},Ss=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(Ss=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d.asm.D).apply(null,arguments)},Ri=d._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Ri=d._emscripten_bind_Cloudpilot_RunEmulation_1=d.asm.E).apply(null,arguments)},Hr=d._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(Hr=d._emscripten_bind_Cloudpilot_SetClockFactor_1=d.asm.F).apply(null,arguments)},Ir=d._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(Ir=d._emscripten_bind_Cloudpilot_CopyFrame_0=d.asm.G).apply(null,arguments)},vo=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(vo=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=d.asm.H).apply(null,arguments)},Ht=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ht=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=d.asm.I).apply(null,arguments)},Es=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(Es=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=d.asm.J).apply(null,arguments)},Aa=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Aa=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=d.asm.K).apply(null,arguments)},Oo=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Oo=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=d.asm.L).apply(null,arguments)},Ys=d._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(Ys=d._emscripten_bind_Cloudpilot_QueuePenMove_2=d.asm.M).apply(null,arguments)},er=d._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(er=d._emscripten_bind_Cloudpilot_QueuePenUp_0=d.asm.N).apply(null,arguments)},Rn=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Rn=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=d.asm.O).apply(null,arguments)},lr=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(lr=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=d.asm.P).apply(null,arguments)},dn=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(dn=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=d.asm.Q).apply(null,arguments)},yn=d._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(yn=d._emscripten_bind_Cloudpilot_IsPowerOff_0=d.asm.R).apply(null,arguments)},h=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(h=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=d.asm.S).apply(null,arguments)},v=d._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(v=d._emscripten_bind_Cloudpilot_GetOSVersion_0=d.asm.T).apply(null,arguments)},u=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(u=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=d.asm.U).apply(null,arguments)},p=d._emscripten_bind_Cloudpilot_Reset_0=function(){return(p=d._emscripten_bind_Cloudpilot_Reset_0=d.asm.V).apply(null,arguments)},g=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(g=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d.asm.W).apply(null,arguments)},w=d._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(w=d._emscripten_bind_Cloudpilot_ResetHard_0=d.asm.X).apply(null,arguments)},E=d._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(E=d._emscripten_bind_Cloudpilot_InstallDb_2=d.asm.Y).apply(null,arguments)},F=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(F=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d.asm.Z).apply(null,arguments)},U=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(U=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d.asm._).apply(null,arguments)},ae=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(ae=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d.asm.$).apply(null,arguments)},Ze=d._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Ze=d._emscripten_bind_Cloudpilot_GetMemorySize_0=d.asm.aa).apply(null,arguments)},mt=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(mt=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=d.asm.ba).apply(null,arguments)},ut=d._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(ut=d._emscripten_bind_Cloudpilot_GetRomPtr_0=d.asm.ca).apply(null,arguments)},ue=d._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(ue=d._emscripten_bind_Cloudpilot_GetRomSize_0=d.asm.da).apply(null,arguments)},dt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(dt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d.asm.ea).apply(null,arguments)},_t=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(_t=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=d.asm.fa).apply(null,arguments)},tn=d._emscripten_bind_Cloudpilot_SaveState_0=function(){return(tn=d._emscripten_bind_Cloudpilot_SaveState_0=d.asm.ga).apply(null,arguments)},xn=d._emscripten_bind_Cloudpilot_LoadState_2=function(){return(xn=d._emscripten_bind_Cloudpilot_LoadState_2=d.asm.ha).apply(null,arguments)},qe=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(qe=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=d.asm.ia).apply(null,arguments)},kt=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(kt=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=d.asm.ja).apply(null,arguments)},Je=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(Je=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=d.asm.ka).apply(null,arguments)},Ve=d._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Ve=d._emscripten_bind_Cloudpilot_StartBackup_0=d.asm.la).apply(null,arguments)},sn=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(sn=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=d.asm.ma).apply(null,arguments)},At=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(At=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d.asm.na).apply(null,arguments)},cr=d._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(cr=d._emscripten_bind_Cloudpilot_IsSuspended_0=d.asm.oa).apply(null,arguments)},Ln=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(Ln=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=d.asm.pa).apply(null,arguments)},Ko=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(Ko=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=d.asm.qa).apply(null,arguments)},li=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(li=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d.asm.ra).apply(null,arguments)},xt=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(xt=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=d.asm.sa).apply(null,arguments)},bn=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(bn=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=d.asm.ta).apply(null,arguments)},_r=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(_r=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=d.asm.ua).apply(null,arguments)},Xo=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Xo=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=d.asm.va).apply(null,arguments)},Ds=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Ds=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=d.asm.wa).apply(null,arguments)},ro=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(ro=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d.asm.xa).apply(null,arguments)},Is=d._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Is=d._emscripten_bind_Cloudpilot_AllocateCard_2=d.asm.ya).apply(null,arguments)},Tr=d._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Tr=d._emscripten_bind_Cloudpilot_MountCard_1=d.asm.za).apply(null,arguments)},xa=d._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(xa=d._emscripten_bind_Cloudpilot_RemoveCard_1=d.asm.Aa).apply(null,arguments)},Ks=d._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Ks=d._emscripten_bind_Cloudpilot_GetCardData_1=d.asm.Ba).apply(null,arguments)},Mn=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Mn=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=d.asm.Ca).apply(null,arguments)},cl=d._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(cl=d._emscripten_bind_Cloudpilot_GetCardSize_1=d.asm.Da).apply(null,arguments)},Xs=d._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Xs=d._emscripten_bind_Cloudpilot_RemountCards_0=d.asm.Ea).apply(null,arguments)},Gl=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(Gl=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=d.asm.Fa).apply(null,arguments)},Ms=d._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Ms=d._emscripten_bind_Cloudpilot_GetMountedKey_0=d.asm.Ga).apply(null,arguments)},_o=d._emscripten_bind_Cloudpilot___destroy___0=function(){return(_o=d._emscripten_bind_Cloudpilot___destroy___0=d.asm.Ha).apply(null,arguments)},Pa=d._emscripten_bind_RomInfo_RomInfo_2=function(){return(Pa=d._emscripten_bind_RomInfo_RomInfo_2=d.asm.Ia).apply(null,arguments)},Qs=d._emscripten_bind_RomInfo_IsValid_0=function(){return(Qs=d._emscripten_bind_RomInfo_IsValid_0=d.asm.Ja).apply(null,arguments)},bi=d._emscripten_bind_RomInfo_CardVersion_0=function(){return(bi=d._emscripten_bind_RomInfo_CardVersion_0=d.asm.Ka).apply(null,arguments)},Js=d._emscripten_bind_RomInfo_CardName_0=function(){return(Js=d._emscripten_bind_RomInfo_CardName_0=d.asm.La).apply(null,arguments)},nu=d._emscripten_bind_RomInfo_RomVersion_0=function(){return(nu=d._emscripten_bind_RomInfo_RomVersion_0=d.asm.Ma).apply(null,arguments)},dr=d._emscripten_bind_RomInfo_RomVersionString_0=function(){return(dr=d._emscripten_bind_RomInfo_RomVersionString_0=d.asm.Na).apply(null,arguments)},Hd=d._emscripten_bind_RomInfo_Supports_1=function(){return(Hd=d._emscripten_bind_RomInfo_Supports_1=d.asm.Oa).apply(null,arguments)},jd=d._emscripten_bind_RomInfo___destroy___0=function(){return(jd=d._emscripten_bind_RomInfo___destroy___0=d.asm.Pa).apply(null,arguments)},ul=d._emscripten_bind_Frame_GetLineWidth_0=function(){return(ul=d._emscripten_bind_Frame_GetLineWidth_0=d.asm.Qa).apply(null,arguments)},zl=d._emscripten_bind_Frame_GetBpp_0=function(){return(zl=d._emscripten_bind_Frame_GetBpp_0=d.asm.Ra).apply(null,arguments)},Ra=d._emscripten_bind_Frame_GetLines_0=function(){return(Ra=d._emscripten_bind_Frame_GetLines_0=d.asm.Sa).apply(null,arguments)},dl=d._emscripten_bind_Frame_GetMargin_0=function(){return(dl=d._emscripten_bind_Frame_GetMargin_0=d.asm.Ta).apply(null,arguments)},ks=d._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(ks=d._emscripten_bind_Frame_GetBytesPerLine_0=d.asm.Ua).apply(null,arguments)},wo=d._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(wo=d._emscripten_bind_Frame_GetFirstDirtyLine_0=d.asm.Va).apply(null,arguments)},Ud=d._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Ud=d._emscripten_bind_Frame_GetLastDirtyLine_0=d.asm.Wa).apply(null,arguments)},No=d._emscripten_bind_Frame_GetHasChanges_0=function(){return(No=d._emscripten_bind_Frame_GetHasChanges_0=d.asm.Xa).apply(null,arguments)},Ci=d._emscripten_bind_Frame_GetBuffer_0=function(){return(Ci=d._emscripten_bind_Frame_GetBuffer_0=d.asm.Ya).apply(null,arguments)},Wl=d._emscripten_bind_Frame_GetBufferSize_0=function(){return(Wl=d._emscripten_bind_Frame_GetBufferSize_0=d.asm.Za).apply(null,arguments)},fl=d._emscripten_bind_Frame_GetScaleX_0=function(){return(fl=d._emscripten_bind_Frame_GetScaleX_0=d.asm._a).apply(null,arguments)},pl=d._emscripten_bind_Frame_GetScaleY_0=function(){return(pl=d._emscripten_bind_Frame_GetScaleY_0=d.asm.$a).apply(null,arguments)},Si=d._emscripten_bind_Frame___destroy___0=function(){return(Si=d._emscripten_bind_Frame___destroy___0=d.asm.ab).apply(null,arguments)},Gd=d._emscripten_bind_DbBackup_Init_1=function(){return(Gd=d._emscripten_bind_DbBackup_Init_1=d.asm.bb).apply(null,arguments)},bh=d._emscripten_bind_DbBackup_IsInProgress_0=function(){return(bh=d._emscripten_bind_DbBackup_IsInProgress_0=d.asm.cb).apply(null,arguments)},zd=d._emscripten_bind_DbBackup_IsDone_0=function(){return(zd=d._emscripten_bind_DbBackup_IsDone_0=d.asm.db).apply(null,arguments)},Wd=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Wd=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=d.asm.eb).apply(null,arguments)},Ch=d._emscripten_bind_DbBackup_Save_0=function(){return(Ch=d._emscripten_bind_DbBackup_Save_0=d.asm.fb).apply(null,arguments)},Sh=d._emscripten_bind_DbBackup_Skip_0=function(){return(Sh=d._emscripten_bind_DbBackup_Skip_0=d.asm.gb).apply(null,arguments)},Eh=d._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Eh=d._emscripten_bind_DbBackup_GetArchivePtr_0=d.asm.hb).apply(null,arguments)},Dh=d._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Dh=d._emscripten_bind_DbBackup_GetArchiveSize_0=d.asm.ib).apply(null,arguments)},Ih=d._emscripten_bind_DbBackup___destroy___0=function(){return(Ih=d._emscripten_bind_DbBackup___destroy___0=d.asm.jb).apply(null,arguments)},Mh=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Mh=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d.asm.kb).apply(null,arguments)},kh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(kh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d.asm.lb).apply(null,arguments)},Th=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Th=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d.asm.mb).apply(null,arguments)},Ah=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Ah=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d.asm.nb).apply(null,arguments)},xh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(xh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d.asm.ob).apply(null,arguments)},Ph=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Ph=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=d.asm.pb).apply(null,arguments)},Rh=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(Rh=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d.asm.qb).apply(null,arguments)},Fh=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Fh=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d.asm.rb).apply(null,arguments)},Oh=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Oh=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=d.asm.sb).apply(null,arguments)},ru=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(ru=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d.asm.tb).apply(null,arguments)},ql=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(ql=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d.asm.ub).apply(null,arguments)},Nh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(Nh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d.asm.vb).apply(null,arguments)},Lh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Lh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d.asm.wb).apply(null,arguments)},$h=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return($h=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=d.asm.xb).apply(null,arguments)},Ts=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(Ts=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d.asm.yb).apply(null,arguments)},qd=d._emscripten_bind_SuspendContext_GetKind_0=function(){return(qd=d._emscripten_bind_SuspendContext_GetKind_0=d.asm.zb).apply(null,arguments)},bo=d._emscripten_bind_SuspendContext_Cancel_0=function(){return(bo=d._emscripten_bind_SuspendContext_Cancel_0=d.asm.Ab).apply(null,arguments)},ou=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(ou=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d.asm.Bb).apply(null,arguments)},Zd=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(Zd=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d.asm.Cb).apply(null,arguments)},Yd=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(Yd=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d.asm.Db).apply(null,arguments)},iu=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(iu=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d.asm.Eb).apply(null,arguments)},su=d._emscripten_bind_SuspendContext___destroy___0=function(){return(su=d._emscripten_bind_SuspendContext___destroy___0=d.asm.Fb).apply(null,arguments)},Kd=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Kd=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=d.asm.Gb).apply(null,arguments)},Zl=d._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Zl=d._emscripten_bind_ZipfileWalker_GetState_0=d.asm.Hb).apply(null,arguments)},Xd=d._emscripten_bind_ZipfileWalker_Next_0=function(){return(Xd=d._emscripten_bind_ZipfileWalker_Next_0=d.asm.Ib).apply(null,arguments)},ci=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(ci=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d.asm.Jb).apply(null,arguments)},Yl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(Yl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d.asm.Kb).apply(null,arguments)},Qd=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(Qd=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d.asm.Lb).apply(null,arguments)},Kl=d._emscripten_bind_ZipfileWalker___destroy___0=function(){return(Kl=d._emscripten_bind_ZipfileWalker___destroy___0=d.asm.Mb).apply(null,arguments)},Jd=d._emscripten_bind_SessionImage_SessionImage_0=function(){return(Jd=d._emscripten_bind_SessionImage_SessionImage_0=d.asm.Nb).apply(null,arguments)},Bh=d._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Bh=d._emscripten_bind_SessionImage_GetDeviceId_0=d.asm.Ob).apply(null,arguments)},jr=d._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(jr=d._emscripten_bind_SessionImage_SetDeviceId_1=d.asm.Pb).apply(null,arguments)},ef=d._emscripten_bind_SessionImage_GetRomImage_0=function(){return(ef=d._emscripten_bind_SessionImage_GetRomImage_0=d.asm.Qb).apply(null,arguments)},Vh=d._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(Vh=d._emscripten_bind_SessionImage_GetRomImageSize_0=d.asm.Rb).apply(null,arguments)},hl=d._emscripten_bind_SessionImage_SetRomImage_2=function(){return(hl=d._emscripten_bind_SessionImage_SetRomImage_2=d.asm.Sb).apply(null,arguments)},ui=d._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(ui=d._emscripten_bind_SessionImage_GetMemoryImage_0=d.asm.Tb).apply(null,arguments)},tf=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(tf=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=d.asm.Ub).apply(null,arguments)},Xl=d._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Xl=d._emscripten_bind_SessionImage_SetMemoryImage_2=d.asm.Vb).apply(null,arguments)},ea=d._emscripten_bind_SessionImage_GetMetadata_0=function(){return(ea=d._emscripten_bind_SessionImage_GetMetadata_0=d.asm.Wb).apply(null,arguments)},Qo=d._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Qo=d._emscripten_bind_SessionImage_GetMetadataSize_0=d.asm.Xb).apply(null,arguments)},au=d._emscripten_bind_SessionImage_SetMetadata_2=function(){return(au=d._emscripten_bind_SessionImage_SetMetadata_2=d.asm.Yb).apply(null,arguments)},Ql=d._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Ql=d._emscripten_bind_SessionImage_GetSavestate_0=d.asm.Zb).apply(null,arguments)},nf=d._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(nf=d._emscripten_bind_SessionImage_GetSavestateSize_0=d.asm._b).apply(null,arguments)},ls=d._emscripten_bind_SessionImage_SetSavestate_2=function(){return(ls=d._emscripten_bind_SessionImage_SetSavestate_2=d.asm.$b).apply(null,arguments)},lu=d._emscripten_bind_SessionImage_GetVersion_0=function(){return(lu=d._emscripten_bind_SessionImage_GetVersion_0=d.asm.ac).apply(null,arguments)},Jl=d._emscripten_bind_SessionImage_Serialize_0=function(){return(Jl=d._emscripten_bind_SessionImage_Serialize_0=d.asm.bc).apply(null,arguments)},pn=d._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(pn=d._emscripten_bind_SessionImage_GetSerializedImage_0=d.asm.cc).apply(null,arguments)},cu=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(cu=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=d.asm.dc).apply(null,arguments)},Hh=d._emscripten_bind_SessionImage_Deserialize_2=function(){return(Hh=d._emscripten_bind_SessionImage_Deserialize_2=d.asm.ec).apply(null,arguments)},rf=d._emscripten_bind_SessionImage___destroy___0=function(){return(rf=d._emscripten_bind_SessionImage___destroy___0=d.asm.fc).apply(null,arguments)};function Gh(l){var m=d._main;try{var H=m(0,0);return function Qe(l,m){he=l,function Ye(l){he=l,function en(){return xe}()||(d.onExit&&d.onExit(l),ze=!0),G(l,new wn(l))}(l)}(H),H}catch(_e){return function Ct(l){if(l instanceof wn||"unwind"==l)return he;G(1,l)}(_e)}}function it(l){function m(){ec||(ec=!0,d.calledRun=!0,!ze&&(function Wr(){!d.noFSInit&&!M.init.initialized&&M.init(),M.ignorePermissions=!1,nr.init(),Ot(tt)}(),function Dr(){Ot(Rt)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Hn&&Gh(),function Yn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),$t.unshift(l);var l;Ot($t)}()))}l=l||Y,Gn>0||(function pe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),Xe.unshift(l);var l;Ot(Xe)}(),Gn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),m()},1)):m())}if(d.___original_main=function(){return(d.___original_main=d.asm.hc).apply(null,arguments)},d.___start_em_js=242387,d.___stop_em_js=242584,d.UTF8ToString=Oe,d.addFunction=function Ma(l,m){if(Yo||(Yo=new WeakMap,function Pi(l,m){if(Yo)for(var b=l;b<l+m;b++){var A=mr(b);A&&Yo.set(A,b)}}(0,nt.length)),Yo.has(l))return Yo.get(l);var b=function Ia(){if(wi.length)return wi.pop();try{nt.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return nt.length-1}();try{ws(b,l)}catch(H){if(!(H instanceof TypeError))throw H;ws(b,function co(l,m){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Wt(l){for(var m={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[m[l[0]]]},A=1;A<l.length;++A)b.parameters.push(m[l[A]]),"j"===l[A]&&b.parameters.push("i32");return b}(m),l);var b=[1];!function Qn(l,m){var b=l.slice(0,1),A=l.slice(1),H={i:127,p:127,j:126,f:125,d:124};m.push(96),zt(A.length,m);for(var _e=0;_e<A.length;++_e)m.push(H[A[_e]]);"v"==b?m.push(0):m.push(1,H[b])}(m,b);var A=[0,97,115,109,1,0,0,0,1];zt(b.length,A),A.push.apply(A,b),A.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var H=new WebAssembly.Module(new Uint8Array(A));return new WebAssembly.Instance(H,{e:{f:l}}).exports.f}(l,m))}return Yo.set(l,b),b},yr=function l(){ec||it(),ec||(yr=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Hn=!0;function Nt(){}function nn(l){return(l||Nt).__cache__}function an(l,m){var b=nn(m),A=b[l];return A||((A=Object.create((m||Nt).prototype)).ptr=l,b[l]=A)}d.noInitialRun&&(Hn=!1),it(),(Nt.prototype=Object.create(Nt.prototype)).constructor=Nt,Nt.prototype.__class__=Nt,Nt.__cache__={},d.WrapperObject=Nt,d.getCache=nn,d.wrapPointer=an,d.castObject=function sf(l,m){return an(l.ptr,m)},d.NULL=an(0),d.destroy=function ml(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete nn(l.__class__)[l.ptr]},d.compare=function Ji(l,m){return l.ptr===m.ptr},d.getPointer=function uu(l){return l.ptr},d.getClass=function du(l){return l.__class__};var Tn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Tn.needed){for(var l=0;l<Tn.temps.length;l++)d._free(Tn.temps[l]);Tn.temps.length=0,d._free(Tn.buffer),Tn.buffer=0,Tn.size+=Tn.needed,Tn.needed=0}Tn.buffer||(Tn.size+=128,Tn.buffer=d._malloc(Tn.size),be(Tn.buffer)),Tn.pos=0},alloc:function(l,m){be(Tn.buffer);var H,A=l.length*m.BYTES_PER_ELEMENT;return Tn.pos+(A=A+7&-8)>=Tn.size?(be(A>0),Tn.needed+=A,H=d._malloc(A),Tn.temps.push(H)):(H=Tn.buffer+Tn.pos,Tn.pos+=A),H},copy:function(l,m,b){switch(b>>>=0,m.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var H=0;H<l.length;H++)m[b+H]=l[H]}};function ko(l){if("string"==typeof l){var m=Vt(l),b=Tn.alloc(m,We);return Tn.copy(m,We,b),b}return l}function wr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ge(){this.ptr=Jn(),nn(Ge)[this.ptr]=this}function $n(l,m){l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=Pa(l,m),nn($n)[this.ptr]=this}function En(){throw"cannot construct a Frame, no constructor in IDL"}function fr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Ur(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Or(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Jo(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function oo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Nr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Yr(l,m){l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=Kd(l,m),nn(Yr)[this.ptr]=this}function Kt(){this.ptr=Jd(),nn(Kt)[this.ptr]=this}return(wr.prototype=Object.create(Nt.prototype)).constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},d.VoidPtr=wr,wr.prototype.__destroy__=wr.prototype.__destroy__=function(){Ta(this.ptr)},(Ge.prototype=Object.create(Nt.prototype)).constructor=Ge,Ge.prototype.__class__=Ge,Ge.__cache__={},d.Cloudpilot=Ge,Ge.prototype.Malloc=Ge.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),an(Zs(this.ptr,l),wr)},Ge.prototype.Free=Ge.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),ll(this.ptr,l)},Ge.prototype.Nullptr=Ge.prototype.Nullptr=function(){return an(Cs(this.ptr),wr)},Ge.prototype.InitializeSession=Ge.prototype.InitializeSession=function(l,m,b){var A=this.ptr;return Tn.prepare(),l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),b=b&&"object"==typeof b?b.ptr:ko(b),!!as(A,l,m,b)},Ge.prototype.GetCyclesPerSecond=Ge.prototype.GetCyclesPerSecond=function(){return Ss(this.ptr)},Ge.prototype.RunEmulation=Ge.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),Ri(this.ptr,l)},Ge.prototype.SetClockFactor=Ge.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Hr(this.ptr,l)},Ge.prototype.CopyFrame=Ge.prototype.CopyFrame=function(){return an(Ir(this.ptr),En)},Ge.prototype.IsScreenDirty=Ge.prototype.IsScreenDirty=function(){return!!vo(this.ptr)},Ge.prototype.MarkScreenClean=Ge.prototype.MarkScreenClean=function(){Ht(this.ptr)},Ge.prototype.MinMemoryForDevice=Ge.prototype.MinMemoryForDevice=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),Es(m,l)},Ge.prototype.FramebufferSizeForDevice=Ge.prototype.FramebufferSizeForDevice=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),Aa(m,l)},Ge.prototype.TotalMemoryForDevice=Ge.prototype.TotalMemoryForDevice=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),Oo(m,l)},Ge.prototype.QueuePenMove=Ge.prototype.QueuePenMove=function(l,m){l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),Ys(this.ptr,l,m)},Ge.prototype.QueuePenUp=Ge.prototype.QueuePenUp=function(){er(this.ptr)},Ge.prototype.QueueButtonDown=Ge.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Rn(this.ptr,l)},Ge.prototype.QueueButtonUp=Ge.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),lr(this.ptr,l)},Ge.prototype.QueueKeyboardEvent=Ge.prototype.QueueKeyboardEvent=function(l,m){l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),dn(this.ptr,l,m)},Ge.prototype.IsPowerOff=Ge.prototype.IsPowerOff=function(){return!!yn(this.ptr)},Ge.prototype.IsUIInitialized=Ge.prototype.IsUIInitialized=function(){return!!h(this.ptr)},Ge.prototype.GetOSVersion=Ge.prototype.GetOSVersion=function(){return v(this.ptr)},Ge.prototype.IsSetupComplete=Ge.prototype.IsSetupComplete=function(){return!!u(this.ptr)},Ge.prototype.Reset=Ge.prototype.Reset=function(){p(this.ptr)},Ge.prototype.ResetNoExtensions=Ge.prototype.ResetNoExtensions=function(){g(this.ptr)},Ge.prototype.ResetHard=Ge.prototype.ResetHard=function(){w(this.ptr)},Ge.prototype.InstallDb=Ge.prototype.InstallDb=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),E(this.ptr,l,m)},Ge.prototype.GetPalette2bitMapping=Ge.prototype.GetPalette2bitMapping=function(){return F(this.ptr)},Ge.prototype.GetMemoryPtr=Ge.prototype.GetMemoryPtr=function(){return an(U(this.ptr),wr)},Ge.prototype.GetDirtyPagesPtr=Ge.prototype.GetDirtyPagesPtr=function(){return an(ae(this.ptr),wr)},Ge.prototype.GetMemorySize=Ge.prototype.GetMemorySize=function(){return Ze(this.ptr)},Ge.prototype.ImportMemoryImage=Ge.prototype.ImportMemoryImage=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),!!mt(this.ptr,l,m)},Ge.prototype.GetRomPtr=Ge.prototype.GetRomPtr=function(){return an(ut(this.ptr),wr)},Ge.prototype.GetRomSize=Ge.prototype.GetRomSize=function(){return ue(this.ptr)},Ge.prototype.GetSavestatePtr=Ge.prototype.GetSavestatePtr=function(){return an(dt(this.ptr),wr)},Ge.prototype.GetSavestateSize=Ge.prototype.GetSavestateSize=function(){return _t(this.ptr)},Ge.prototype.SaveState=Ge.prototype.SaveState=function(){return!!tn(this.ptr)},Ge.prototype.LoadState=Ge.prototype.LoadState=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),!!xn(this.ptr,l,m)},Ge.prototype.GetHotsyncName=Ge.prototype.GetHotsyncName=function(){return Oe(qe(this.ptr))},Ge.prototype.SetHotsyncName=Ge.prototype.SetHotsyncName=function(l){var m=this.ptr;Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),kt(m,l)},Ge.prototype.RegisterPwmHandler=Ge.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Je(this.ptr,l)},Ge.prototype.StartBackup=Ge.prototype.StartBackup=function(){return an(Ve(this.ptr),fr)},Ge.prototype.SetClipboardIntegration=Ge.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),sn(this.ptr,l)},Ge.prototype.GetClipboardIntegration=Ge.prototype.GetClipboardIntegration=function(){return!!At(this.ptr)},Ge.prototype.IsSuspended=Ge.prototype.IsSuspended=function(){return!!cr(this.ptr)},Ge.prototype.GetSuspendContext=Ge.prototype.GetSuspendContext=function(){return an(Ln(this.ptr),Nr)},Ge.prototype.SetNetworkRedirection=Ge.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),Ko(this.ptr,l)},Ge.prototype.GetNetworkRedirection=Ge.prototype.GetNetworkRedirection=function(){return!!li(this.ptr)},Ge.prototype.RegisterProxyDisconnectHandler=Ge.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),xt(this.ptr,l)},Ge.prototype.SetHotsyncNameManagement=Ge.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),bn(this.ptr,l)},Ge.prototype.LaunchAppByName=Ge.prototype.LaunchAppByName=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),!!_r(m,l)},Ge.prototype.LaunchAppByDbHeader=Ge.prototype.LaunchAppByDbHeader=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Xo(this.ptr,l,m)},Ge.prototype.DeviceSupportsCardSize=Ge.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Ds(this.ptr,l)},Ge.prototype.ClearExternalStorage=Ge.prototype.ClearExternalStorage=function(){ro(this.ptr)},Ge.prototype.AllocateCard=Ge.prototype.AllocateCard=function(l,m){var b=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),m&&"object"==typeof m&&(m=m.ptr),!!Is(b,l,m)},Ge.prototype.MountCard=Ge.prototype.MountCard=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),!!Tr(m,l)},Ge.prototype.RemoveCard=Ge.prototype.RemoveCard=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),!!xa(m,l)},Ge.prototype.GetCardData=Ge.prototype.GetCardData=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),an(Ks(m,l),wr)},Ge.prototype.GetCardDirtyPages=Ge.prototype.GetCardDirtyPages=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),an(Mn(m,l),wr)},Ge.prototype.GetCardSize=Ge.prototype.GetCardSize=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),cl(m,l)},Ge.prototype.RemountCards=Ge.prototype.RemountCards=function(){Xs(this.ptr)},Ge.prototype.GetSupportLevel=Ge.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),Gl(this.ptr,l)},Ge.prototype.GetMountedKey=Ge.prototype.GetMountedKey=function(){return Oe(Ms(this.ptr))},Ge.prototype.__destroy__=Ge.prototype.__destroy__=function(){_o(this.ptr)},($n.prototype=Object.create(Nt.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},d.RomInfo=$n,$n.prototype.IsValid=$n.prototype.IsValid=function(){return!!Qs(this.ptr)},$n.prototype.CardVersion=$n.prototype.CardVersion=function(){return bi(this.ptr)},$n.prototype.CardName=$n.prototype.CardName=function(){return Oe(Js(this.ptr))},$n.prototype.RomVersion=$n.prototype.RomVersion=function(){return nu(this.ptr)},$n.prototype.RomVersionString=$n.prototype.RomVersionString=function(){return Oe(dr(this.ptr))},$n.prototype.Supports=$n.prototype.Supports=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),!!Hd(m,l)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){jd(this.ptr)},(En.prototype=Object.create(Nt.prototype)).constructor=En,En.prototype.__class__=En,En.__cache__={},d.Frame=En,En.prototype.GetLineWidth=En.prototype.GetLineWidth=function(){return ul(this.ptr)},En.prototype.GetBpp=En.prototype.GetBpp=function(){return zl(this.ptr)},En.prototype.GetLines=En.prototype.GetLines=function(){return Ra(this.ptr)},En.prototype.GetMargin=En.prototype.GetMargin=function(){return dl(this.ptr)},En.prototype.GetBytesPerLine=En.prototype.GetBytesPerLine=function(){return ks(this.ptr)},En.prototype.GetFirstDirtyLine=En.prototype.GetFirstDirtyLine=function(){return wo(this.ptr)},En.prototype.GetLastDirtyLine=En.prototype.GetLastDirtyLine=function(){return Ud(this.ptr)},En.prototype.GetHasChanges=En.prototype.GetHasChanges=function(){return!!No(this.ptr)},En.prototype.GetBuffer=En.prototype.GetBuffer=function(){return an(Ci(this.ptr),wr)},En.prototype.GetBufferSize=En.prototype.GetBufferSize=function(){return Wl(this.ptr)},En.prototype.GetScaleX=En.prototype.GetScaleX=function(){return fl(this.ptr)},En.prototype.GetScaleY=En.prototype.GetScaleY=function(){return pl(this.ptr)},En.prototype.__destroy__=En.prototype.__destroy__=function(){Si(this.ptr)},(fr.prototype=Object.create(Nt.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},d.DbBackup=fr,fr.prototype.Init=fr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Gd(this.ptr,l)},fr.prototype.IsInProgress=fr.prototype.IsInProgress=function(){return!!bh(this.ptr)},fr.prototype.IsDone=fr.prototype.IsDone=function(){return!!zd(this.ptr)},fr.prototype.GetCurrentDatabase=fr.prototype.GetCurrentDatabase=function(){return Oe(Wd(this.ptr))},fr.prototype.Save=fr.prototype.Save=function(){return!!Ch(this.ptr)},fr.prototype.Skip=fr.prototype.Skip=function(){Sh(this.ptr)},fr.prototype.GetArchivePtr=fr.prototype.GetArchivePtr=function(){return an(Eh(this.ptr),wr)},fr.prototype.GetArchiveSize=fr.prototype.GetArchiveSize=function(){return Dh(this.ptr)},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){Ih(this.ptr)},(Ur.prototype=Object.create(Nt.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},d.SuspendContextClipboardCopy=Ur,Ur.prototype.Cancel=Ur.prototype.Cancel=function(){Mh(this.ptr)},Ur.prototype.Resume=Ur.prototype.Resume=function(){kh(this.ptr)},Ur.prototype.GetClipboardContent=Ur.prototype.GetClipboardContent=function(){return Oe(Th(this.ptr))},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){Ah(this.ptr)},(Or.prototype=Object.create(Nt.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},d.SuspendContextClipboardPaste=Or,Or.prototype.Cancel=Or.prototype.Cancel=function(){xh(this.ptr)},Or.prototype.Resume=Or.prototype.Resume=function(l){var m=this.ptr;Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),Ph(m,l)},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){Rh(this.ptr)},(Jo.prototype=Object.create(Nt.prototype)).constructor=Jo,Jo.prototype.__class__=Jo,Jo.__cache__={},d.SuspendContextNetworkConnect=Jo,Jo.prototype.Cancel=Jo.prototype.Cancel=function(){Fh(this.ptr)},Jo.prototype.Resume=Jo.prototype.Resume=function(l){var m=this.ptr;Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),Oh(m,l)},Jo.prototype.__destroy__=Jo.prototype.__destroy__=function(){ru(this.ptr)},(oo.prototype=Object.create(Nt.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},d.SuspendContextNetworkRpc=oo,oo.prototype.Cancel=oo.prototype.Cancel=function(){ql(this.ptr)},oo.prototype.GetRequestSize=oo.prototype.GetRequestSize=function(){return Nh(this.ptr)},oo.prototype.GetRequestData=oo.prototype.GetRequestData=function(){return an(Lh(this.ptr),wr)},oo.prototype.ReceiveResponse=oo.prototype.ReceiveResponse=function(l,m){l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),$h(this.ptr,l,m)},oo.prototype.__destroy__=oo.prototype.__destroy__=function(){Ts(this.ptr)},(Nr.prototype=Object.create(Nt.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},d.SuspendContext=Nr,Nr.prototype.GetKind=Nr.prototype.GetKind=function(){return qd(this.ptr)},Nr.prototype.Cancel=Nr.prototype.Cancel=function(){bo(this.ptr)},Nr.prototype.AsContextClipboardCopy=Nr.prototype.AsContextClipboardCopy=function(){return an(ou(this.ptr),Ur)},Nr.prototype.AsContextClipboardPaste=Nr.prototype.AsContextClipboardPaste=function(){return an(Zd(this.ptr),Or)},Nr.prototype.AsContextNetworkConnect=Nr.prototype.AsContextNetworkConnect=function(){return an(Yd(this.ptr),Jo)},Nr.prototype.AsContextNetworkRpc=Nr.prototype.AsContextNetworkRpc=function(){return an(iu(this.ptr),oo)},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){su(this.ptr)},(Yr.prototype=Object.create(Nt.prototype)).constructor=Yr,Yr.prototype.__class__=Yr,Yr.__cache__={},d.ZipfileWalker=Yr,Yr.prototype.GetState=Yr.prototype.GetState=function(){return Zl(this.ptr)},Yr.prototype.Next=Yr.prototype.Next=function(){return Xd(this.ptr)},Yr.prototype.GetCurrentEntrySize=Yr.prototype.GetCurrentEntrySize=function(){return ci(this.ptr)},Yr.prototype.GetCurrentEntryName=Yr.prototype.GetCurrentEntryName=function(){return Oe(Yl(this.ptr))},Yr.prototype.GetCurrentEntryContent=Yr.prototype.GetCurrentEntryContent=function(){return an(Qd(this.ptr),wr)},Yr.prototype.__destroy__=Yr.prototype.__destroy__=function(){Kl(this.ptr)},(Kt.prototype=Object.create(Nt.prototype)).constructor=Kt,Kt.prototype.__class__=Kt,Kt.__cache__={},d.SessionImage=Kt,Kt.prototype.GetDeviceId=Kt.prototype.GetDeviceId=function(){return Oe(Bh(this.ptr))},Kt.prototype.SetDeviceId=Kt.prototype.SetDeviceId=function(l){var m=this.ptr;return Tn.prepare(),l=l&&"object"==typeof l?l.ptr:ko(l),an(jr(m,l),Kt)},Kt.prototype.GetRomImage=Kt.prototype.GetRomImage=function(){return an(ef(this.ptr),wr)},Kt.prototype.GetRomImageSize=Kt.prototype.GetRomImageSize=function(){return Vh(this.ptr)},Kt.prototype.SetRomImage=Kt.prototype.SetRomImage=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),an(hl(this.ptr,l,m),Kt)},Kt.prototype.GetMemoryImage=Kt.prototype.GetMemoryImage=function(){return an(ui(this.ptr),wr)},Kt.prototype.GetMemoryImageSize=Kt.prototype.GetMemoryImageSize=function(){return tf(this.ptr)},Kt.prototype.SetMemoryImage=Kt.prototype.SetMemoryImage=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),an(Xl(this.ptr,l,m),Kt)},Kt.prototype.GetMetadata=Kt.prototype.GetMetadata=function(){return an(ea(this.ptr),wr)},Kt.prototype.GetMetadataSize=Kt.prototype.GetMetadataSize=function(){return Qo(this.ptr)},Kt.prototype.SetMetadata=Kt.prototype.SetMetadata=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),an(au(this.ptr,l,m),Kt)},Kt.prototype.GetSavestate=Kt.prototype.GetSavestate=function(){return an(Ql(this.ptr),wr)},Kt.prototype.GetSavestateSize=Kt.prototype.GetSavestateSize=function(){return nf(this.ptr)},Kt.prototype.SetSavestate=Kt.prototype.SetSavestate=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),an(ls(this.ptr,l,m),Kt)},Kt.prototype.GetVersion=Kt.prototype.GetVersion=function(){return lu(this.ptr)},Kt.prototype.Serialize=Kt.prototype.Serialize=function(){return!!Jl(this.ptr)},Kt.prototype.GetSerializedImage=Kt.prototype.GetSerializedImage=function(){return an(pn(this.ptr),wr)},Kt.prototype.GetSerializedImageSize=Kt.prototype.GetSerializedImageSize=function(){return cu(this.ptr)},Kt.prototype.Deserialize=Kt.prototype.Deserialize=function(l,m){return l&&"object"==typeof l&&(l=l.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Hh(this.ptr,l,m)},Kt.prototype.__destroy__=Kt.prototype.__destroy__=function(){rf(this.ptr)},k.ready});Fe.exports=je},9084:Fe=>{var R,je=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ne,ee,d=typeof(k=k||{})<"u"?k:{};d.ready=new Promise(function(u,p){ne=u,ee=p});var V,ke,X,W=Object.assign({},d),Y=[],j="./this.program",G=(u,p)=>{throw p},ge="object"==typeof window,q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ge||q)&&(q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.send(null),p.responseText},q&&(X=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),ke=(u,p,g)=>{var w=new XMLHttpRequest;w.open("GET",u,!0),w.responseType="arraybuffer",w.onload=()=>{200==w.status||0==w.status&&w.response?p(w.response):g()},w.onerror=g,w.send(null)});var le,me=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,W),W=null,d.arguments&&(Y=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(G=d.quit),d.wasmBinary&&(le=d.wasmBinary);var xe=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Xn("no native wasm support detected");var ce,he,ze=!1;function be(u,p){u||Xn(p)}var Ue,We,at,L,B,fe,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function $e(u,p,g){for(var w=p+g,E=p;u[E]&&!(E>=w);)++E;if(E-p>16&&u.buffer&&De)return De.decode(u.subarray(p,E));for(var F="";p<E;){var U=u[p++];if(128&U){var ae=63&u[p++];if(192!=(224&U)){var Ze=63&u[p++];if((U=224==(240&U)?(15&U)<<12|ae<<6|Ze:(7&U)<<18|ae<<12|Ze<<6|63&u[p++])<65536)F+=String.fromCharCode(U);else{var mt=U-65536;F+=String.fromCharCode(55296|mt>>10,56320|1023&mt)}}else F+=String.fromCharCode((31&U)<<6|ae)}else F+=String.fromCharCode(U)}return F}function Oe(u,p){return u?$e(at,u,p):""}function Ie(u,p,g,w){if(!(w>0))return 0;for(var E=g,F=g+w-1,U=0;U<u.length;++U){var ae=u.charCodeAt(U);if(ae>=55296&&ae<=57343&&(ae=65536+((1023&ae)<<10)|1023&u.charCodeAt(++U)),ae<=127){if(g>=F)break;p[g++]=ae}else if(ae<=2047){if(g+1>=F)break;p[g++]=192|ae>>6,p[g++]=128|63&ae}else if(ae<=65535){if(g+2>=F)break;p[g++]=224|ae>>12,p[g++]=128|ae>>6&63,p[g++]=128|63&ae}else{if(g+3>=F)break;p[g++]=240|ae>>18,p[g++]=128|ae>>12&63,p[g++]=128|ae>>6&63,p[g++]=128|63&ae}}return p[g]=0,g-E}function K(u){for(var p=0,g=0;g<u.length;++g){var w=u.charCodeAt(g);w<=127?p++:w<=2047?p+=2:w>=55296&&w<=57343?(p+=4,++g):p+=3}return p}function Me(u){Ue=u,d.HEAP8=We=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAP32=L=new Int32Array(u),d.HEAPU8=at=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAPU32=B=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=fe=new Float64Array(u)}var Sn,Xe=[],tt=[],Rt=[],$t=[],Gn=0,ir=null,yr=null;function mo(u){Gn++,d.monitorRunDependencies&&d.monitorRunDependencies(Gn)}function sr(u){if(Gn--,d.monitorRunDependencies&&d.monitorRunDependencies(Gn),0==Gn&&(null!==ir&&(clearInterval(ir),ir=null),yr)){var p=yr;yr=null,p()}}function Xn(u){d.onAbort&&d.onAbort(u),oe(u="Aborted("+u+")"),ze=!0,he=1,u+=". Build with -sASSERTIONS for more info.";var p=new WebAssembly.RuntimeError(u);throw ee(p),p}function $r(u){return u.startsWith("data:application/octet-stream;base64,")}function qr(u){try{if(u==Sn&&le)return new Uint8Array(le);if(X)return X(u);throw"both async and sync fetching of the wasm failed"}catch(p){Xn(p)}}$r(Sn="fstools_web.wasm")||(Sn=function O(u){return d.locateFile?d.locateFile(u,$):$+u}(Sn));var et,re,Le={40302:()=>{throw new Error("terminated")}};function un(u){this.name="ExitStatus",this.message="Program terminated with exit("+u+")",this.status=u}function wn(u){for(;u.length>0;)u.shift()(d)}var Ot={isAbs:u=>"/"===u.charAt(0),splitPath:u=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1),normalizeArray:(u,p)=>{for(var g=0,w=u.length-1;w>=0;w--){var E=u[w];"."===E?u.splice(w,1):".."===E?(u.splice(w,1),g++):g&&(u.splice(w,1),g--)}if(p)for(;g;g--)u.unshift("..");return u},normalize:u=>{var p=Ot.isAbs(u),g="/"===u.substr(-1);return!(u=Ot.normalizeArray(u.split("/").filter(w=>!!w),!p).join("/"))&&!p&&(u="."),u&&g&&(u+="/"),(p?"/":"")+u},dirname:u=>{var p=Ot.splitPath(u),g=p[0],w=p[1];return g||w?(w&&(w=w.substr(0,w.length-1)),g+w):"."},basename:u=>{if("/"===u)return"/";var p=(u=(u=Ot.normalize(u)).replace(/\/$/,"")).lastIndexOf("/");return-1===p?u:u.substr(p+1)},join:function(){var u=Array.prototype.slice.call(arguments);return Ot.normalize(u.join("/"))},join2:(u,p)=>Ot.normalize(u+"/"+p)},tr={resolve:function(){for(var u="",p=!1,g=arguments.length-1;g>=-1&&!p;g--){var w=g>=0?arguments[g]:S.cwd();if("string"!=typeof w)throw new TypeError("Arguments to path.resolve must be strings");if(!w)return"";u=w+"/"+u,p=Ot.isAbs(w)}return(p?"/":"")+(u=Ot.normalizeArray(u.split("/").filter(E=>!!E),!p).join("/"))||"."},relative:(u,p)=>{function g(mt){for(var ut=0;ut<mt.length&&""===mt[ut];ut++);for(var ue=mt.length-1;ue>=0&&""===mt[ue];ue--);return ut>ue?[]:mt.slice(ut,ue-ut+1)}u=tr.resolve(u).substr(1),p=tr.resolve(p).substr(1);for(var w=g(u.split("/")),E=g(p.split("/")),F=Math.min(w.length,E.length),U=F,ae=0;ae<F;ae++)if(w[ae]!==E[ae]){U=ae;break}var Ze=[];for(ae=U;ae<w.length;ae++)Ze.push("..");return(Ze=Ze.concat(E.slice(U))).join("/")}};function Yt(u,p,g){var w=g>0?g:K(u)+1,E=new Array(w),F=Ie(u,E,0,E.length);return p&&(E.length=F),E}var Kn={ttys:[],init:function(){},shutdown:function(){},register:function(u,p){Kn.ttys[u]={input:[],output:[],ops:p},S.registerDevice(u,Kn.stream_ops)},stream_ops:{open:function(u){var p=Kn.ttys[u.node.rdev];if(!p)throw new S.ErrnoError(43);u.tty=p,u.seekable=!1},close:function(u){u.tty.ops.fsync(u.tty)},fsync:function(u){u.tty.ops.fsync(u.tty)},read:function(u,p,g,w,E){if(!u.tty||!u.tty.ops.get_char)throw new S.ErrnoError(60);for(var F=0,U=0;U<w;U++){var ae;try{ae=u.tty.ops.get_char(u.tty)}catch{throw new S.ErrnoError(29)}if(void 0===ae&&0===F)throw new S.ErrnoError(6);if(null==ae)break;F++,p[g+U]=ae}return F&&(u.node.timestamp=Date.now()),F},write:function(u,p,g,w,E){if(!u.tty||!u.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var F=0;F<w;F++)u.tty.ops.put_char(u.tty,p[g+F])}catch{throw new S.ErrnoError(29)}return w&&(u.node.timestamp=Date.now()),F}},default_tty_ops:{get_char:function(u){if(!u.input.length){var p=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(p=window.prompt("Input: "))&&(p+="\n"):"function"==typeof readline&&null!==(p=readline())&&(p+="\n"),!p)return null;u.input=Yt(p,!0)}return u.input.shift()},put_char:function(u,p){null===p||10===p?(me($e(u.output,0)),u.output=[]):0!=p&&u.output.push(p)},fsync:function(u){u.output&&u.output.length>0&&(me($e(u.output,0)),u.output=[])}},default_tty1_ops:{put_char:function(u,p){null===p||10===p?(oe($e(u.output,0)),u.output=[]):0!=p&&u.output.push(p)},fsync:function(u){u.output&&u.output.length>0&&(oe($e(u.output,0)),u.output=[])}}};function ar(u){Xn()}var Vt={ops_table:null,mount:function(u){return Vt.createNode(null,"/",16895,0)},createNode:function(u,p,g,w){if(S.isBlkdev(g)||S.isFIFO(g))throw new S.ErrnoError(63);Vt.ops_table||(Vt.ops_table={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:S.chrdev_stream_ops}});var E=S.createNode(u,p,g,w);return S.isDir(E.mode)?(E.node_ops=Vt.ops_table.dir.node,E.stream_ops=Vt.ops_table.dir.stream,E.contents={}):S.isFile(E.mode)?(E.node_ops=Vt.ops_table.file.node,E.stream_ops=Vt.ops_table.file.stream,E.usedBytes=0,E.contents=null):S.isLink(E.mode)?(E.node_ops=Vt.ops_table.link.node,E.stream_ops=Vt.ops_table.link.stream):S.isChrdev(E.mode)&&(E.node_ops=Vt.ops_table.chrdev.node,E.stream_ops=Vt.ops_table.chrdev.stream),E.timestamp=Date.now(),u&&(u.contents[p]=E,u.timestamp=E.timestamp),E},getFileDataAsTypedArray:function(u){return u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0)},expandFileStorage:function(u,p){var g=u.contents?u.contents.length:0;if(!(g>=p)){p=Math.max(p,g*(g<1048576?2:1.125)>>>0),0!=g&&(p=Math.max(p,256));var E=u.contents;u.contents=new Uint8Array(p),u.usedBytes>0&&u.contents.set(E.subarray(0,u.usedBytes),0)}},resizeFileStorage:function(u,p){if(u.usedBytes!=p)if(0==p)u.contents=null,u.usedBytes=0;else{var g=u.contents;u.contents=new Uint8Array(p),g&&u.contents.set(g.subarray(0,Math.min(p,u.usedBytes))),u.usedBytes=p}},node_ops:{getattr:function(u){var p={};return p.dev=S.isChrdev(u.mode)?u.id:1,p.ino=u.id,p.mode=u.mode,p.nlink=1,p.uid=0,p.gid=0,p.rdev=u.rdev,p.size=S.isDir(u.mode)?4096:S.isFile(u.mode)?u.usedBytes:S.isLink(u.mode)?u.link.length:0,p.atime=new Date(u.timestamp),p.mtime=new Date(u.timestamp),p.ctime=new Date(u.timestamp),p.blksize=4096,p.blocks=Math.ceil(p.size/p.blksize),p},setattr:function(u,p){void 0!==p.mode&&(u.mode=p.mode),void 0!==p.timestamp&&(u.timestamp=p.timestamp),void 0!==p.size&&Vt.resizeFileStorage(u,p.size)},lookup:function(u,p){throw S.genericErrors[44]},mknod:function(u,p,g,w){return Vt.createNode(u,p,g,w)},rename:function(u,p,g){if(S.isDir(u.mode)){var w;try{w=S.lookupNode(p,g)}catch{}if(w)for(var E in w.contents)throw new S.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=g,p.contents[g]=u,p.timestamp=u.parent.timestamp,u.parent=p},unlink:function(u,p){delete u.contents[p],u.timestamp=Date.now()},rmdir:function(u,p){var g=S.lookupNode(u,p);for(var w in g.contents)throw new S.ErrnoError(55);delete u.contents[p],u.timestamp=Date.now()},readdir:function(u){var p=[".",".."];for(var g in u.contents)!u.contents.hasOwnProperty(g)||p.push(g);return p},symlink:function(u,p,g){var w=Vt.createNode(u,p,41471,0);return w.link=g,w},readlink:function(u){if(!S.isLink(u.mode))throw new S.ErrnoError(28);return u.link}},stream_ops:{read:function(u,p,g,w,E){var F=u.node.contents;if(E>=u.node.usedBytes)return 0;var U=Math.min(u.node.usedBytes-E,w);if(U>8&&F.subarray)p.set(F.subarray(E,E+U),g);else for(var ae=0;ae<U;ae++)p[g+ae]=F[E+ae];return U},write:function(u,p,g,w,E,F){if(p.buffer===We.buffer&&(F=!1),!w)return 0;var U=u.node;if(U.timestamp=Date.now(),p.subarray&&(!U.contents||U.contents.subarray)){if(F)return U.contents=p.subarray(g,g+w),U.usedBytes=w,w;if(0===U.usedBytes&&0===E)return U.contents=p.slice(g,g+w),U.usedBytes=w,w;if(E+w<=U.usedBytes)return U.contents.set(p.subarray(g,g+w),E),w}if(Vt.expandFileStorage(U,E+w),U.contents.subarray&&p.subarray)U.contents.set(p.subarray(g,g+w),E);else for(var ae=0;ae<w;ae++)U.contents[E+ae]=p[g+ae];return U.usedBytes=Math.max(U.usedBytes,E+w),w},llseek:function(u,p,g){var w=p;if(1===g?w+=u.position:2===g&&S.isFile(u.node.mode)&&(w+=u.node.usedBytes),w<0)throw new S.ErrnoError(28);return w},allocate:function(u,p,g){Vt.expandFileStorage(u.node,p+g),u.node.usedBytes=Math.max(u.node.usedBytes,p+g)},mmap:function(u,p,g,w,E){if(!S.isFile(u.node.mode))throw new S.ErrnoError(43);var F,U,ae=u.node.contents;if(2&E||ae.buffer!==Ue){if((g>0||g+p<ae.length)&&(ae=ae.subarray?ae.subarray(g,g+p):Array.prototype.slice.call(ae,g,g+p)),U=!0,!(F=ar()))throw new S.ErrnoError(48);We.set(ae,F)}else U=!1,F=ae.byteOffset;return{ptr:F,allocated:U}},msync:function(u,p,g,w,E){return Vt.stream_ops.write(u,p,0,w,g,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(u,p={})=>{if(!(u=tr.resolve(u)))return{path:"",node:null};if((p=Object.assign({follow_mount:!0,recurse_count:0},p)).recurse_count>8)throw new S.ErrnoError(32);for(var w=u.split("/").filter(ue=>!!ue),E=S.root,F="/",U=0;U<w.length;U++){var ae=U===w.length-1;if(ae&&p.parent)break;if(E=S.lookupNode(E,w[U]),F=Ot.join2(F,w[U]),S.isMountpoint(E)&&(!ae||ae&&p.follow_mount)&&(E=E.mounted.root),!ae||p.follow)for(var Ze=0;S.isLink(E.mode);){var mt=S.readlink(F);if(F=tr.resolve(Ot.dirname(F),mt),E=S.lookupPath(F,{recurse_count:p.recurse_count+1}).node,Ze++>40)throw new S.ErrnoError(32)}}return{path:F,node:E}},getPath:u=>{for(var p;;){if(S.isRoot(u)){var g=u.mount.mountpoint;return p?"/"!==g[g.length-1]?g+"/"+p:g+p:g}p=p?u.name+"/"+p:u.name,u=u.parent}},hashName:(u,p)=>{for(var g=0,w=0;w<p.length;w++)g=(g<<5)-g+p.charCodeAt(w)|0;return(u+g>>>0)%S.nameTable.length},hashAddNode:u=>{var p=S.hashName(u.parent.id,u.name);u.name_next=S.nameTable[p],S.nameTable[p]=u},hashRemoveNode:u=>{var p=S.hashName(u.parent.id,u.name);if(S.nameTable[p]===u)S.nameTable[p]=u.name_next;else for(var g=S.nameTable[p];g;){if(g.name_next===u){g.name_next=u.name_next;break}g=g.name_next}},lookupNode:(u,p)=>{var g=S.mayLookup(u);if(g)throw new S.ErrnoError(g,u);for(var w=S.hashName(u.id,p),E=S.nameTable[w];E;E=E.name_next)if(E.parent.id===u.id&&E.name===p)return E;return S.lookup(u,p)},createNode:(u,p,g,w)=>{var E=new S.FSNode(u,p,g,w);return S.hashAddNode(E),E},destroyNode:u=>{S.hashRemoveNode(u)},isRoot:u=>u===u.parent,isMountpoint:u=>!!u.mounted,isFile:u=>32768==(61440&u),isDir:u=>16384==(61440&u),isLink:u=>40960==(61440&u),isChrdev:u=>8192==(61440&u),isBlkdev:u=>24576==(61440&u),isFIFO:u=>4096==(61440&u),isSocket:u=>49152==(49152&u),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:u=>{var p=S.flagModes[u];if(typeof p>"u")throw new Error("Unknown file open mode: "+u);return p},flagsToPermissionString:u=>{var p=["r","w","rw"][3&u];return 512&u&&(p+="w"),p},nodePermissions:(u,p)=>S.ignorePermissions?0:p.includes("r")&&!(292&u.mode)||p.includes("w")&&!(146&u.mode)||p.includes("x")&&!(73&u.mode)?2:0,mayLookup:u=>S.nodePermissions(u,"x")||(u.node_ops.lookup?0:2),mayCreate:(u,p)=>{try{return S.lookupNode(u,p),20}catch{}return S.nodePermissions(u,"wx")},mayDelete:(u,p,g)=>{var w;try{w=S.lookupNode(u,p)}catch(F){return F.errno}var E=S.nodePermissions(u,"wx");if(E)return E;if(g){if(!S.isDir(w.mode))return 54;if(S.isRoot(w)||S.getPath(w)===S.cwd())return 10}else if(S.isDir(w.mode))return 31;return 0},mayOpen:(u,p)=>u?S.isLink(u.mode)?32:S.isDir(u.mode)&&("r"!==S.flagsToPermissionString(p)||512&p)?31:S.nodePermissions(u,S.flagsToPermissionString(p)):44,MAX_OPEN_FDS:4096,nextfd:(u=0,p=S.MAX_OPEN_FDS)=>{for(var g=u;g<=p;g++)if(!S.streams[g])return g;throw new S.ErrnoError(33)},getStream:u=>S.streams[u],createStream:(u,p,g)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(E){this.node=E}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(E){this.shared.flags=E}},position:{get:function(){return this.shared.position},set:function(E){this.shared.position=E}}})),u=Object.assign(new S.FSStream,u);var w=S.nextfd(p,g);return u.fd=w,S.streams[w]=u,u},closeStream:u=>{S.streams[u]=null},chrdev_stream_ops:{open:u=>{var p=S.getDevice(u.node.rdev);u.stream_ops=p.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek:()=>{throw new S.ErrnoError(70)}},major:u=>u>>8,minor:u=>255&u,makedev:(u,p)=>u<<8|p,registerDevice:(u,p)=>{S.devices[u]={stream_ops:p}},getDevice:u=>S.devices[u],getMounts:u=>{for(var p=[],g=[u];g.length;){var w=g.pop();p.push(w),g.push.apply(g,w.mounts)}return p},syncfs:(u,p)=>{"function"==typeof u&&(p=u,u=!1),S.syncFSRequests++,S.syncFSRequests>1&&oe("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var g=S.getMounts(S.root.mount),w=0;function E(U){return S.syncFSRequests--,p(U)}function F(U){if(U)return F.errored?void 0:(F.errored=!0,E(U));++w>=g.length&&E(null)}g.forEach(U=>{if(!U.type.syncfs)return F(null);U.type.syncfs(U,u,F)})},mount:(u,p,g)=>{var F,w="/"===g,E=!g;if(w&&S.root)throw new S.ErrnoError(10);if(!w&&!E){var U=S.lookupPath(g,{follow_mount:!1});if(g=U.path,S.isMountpoint(F=U.node))throw new S.ErrnoError(10);if(!S.isDir(F.mode))throw new S.ErrnoError(54)}var ae={type:u,opts:p,mountpoint:g,mounts:[]},Ze=u.mount(ae);return Ze.mount=ae,ae.root=Ze,w?S.root=Ze:F&&(F.mounted=ae,F.mount&&F.mount.mounts.push(ae)),Ze},unmount:u=>{var p=S.lookupPath(u,{follow_mount:!1});if(!S.isMountpoint(p.node))throw new S.ErrnoError(28);var g=p.node,w=g.mounted,E=S.getMounts(w);Object.keys(S.nameTable).forEach(U=>{for(var ae=S.nameTable[U];ae;){var Ze=ae.name_next;E.includes(ae.mount)&&S.destroyNode(ae),ae=Ze}}),g.mounted=null;var F=g.mount.mounts.indexOf(w);g.mount.mounts.splice(F,1)},lookup:(u,p)=>u.node_ops.lookup(u,p),mknod:(u,p,g)=>{var E=S.lookupPath(u,{parent:!0}).node,F=Ot.basename(u);if(!F||"."===F||".."===F)throw new S.ErrnoError(28);var U=S.mayCreate(E,F);if(U)throw new S.ErrnoError(U);if(!E.node_ops.mknod)throw new S.ErrnoError(63);return E.node_ops.mknod(E,F,p,g)},create:(u,p)=>(p=void 0!==p?p:438,p&=4095,S.mknod(u,p|=32768,0)),mkdir:(u,p)=>(p=void 0!==p?p:511,p&=1023,S.mknod(u,p|=16384,0)),mkdirTree:(u,p)=>{for(var g=u.split("/"),w="",E=0;E<g.length;++E)if(g[E]){w+="/"+g[E];try{S.mkdir(w,p)}catch(F){if(20!=F.errno)throw F}}},mkdev:(u,p,g)=>(typeof g>"u"&&(g=p,p=438),S.mknod(u,p|=8192,g)),symlink:(u,p)=>{if(!tr.resolve(u))throw new S.ErrnoError(44);var w=S.lookupPath(p,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var E=Ot.basename(p),F=S.mayCreate(w,E);if(F)throw new S.ErrnoError(F);if(!w.node_ops.symlink)throw new S.ErrnoError(63);return w.node_ops.symlink(w,E,u)},rename:(u,p)=>{var ae,Ze,g=Ot.dirname(u),w=Ot.dirname(p),E=Ot.basename(u),F=Ot.basename(p);if(ae=S.lookupPath(u,{parent:!0}).node,Ze=S.lookupPath(p,{parent:!0}).node,!ae||!Ze)throw new S.ErrnoError(44);if(ae.mount!==Ze.mount)throw new S.ErrnoError(75);var ue,mt=S.lookupNode(ae,E),ut=tr.relative(u,w);if("."!==ut.charAt(0))throw new S.ErrnoError(28);if("."!==(ut=tr.relative(p,g)).charAt(0))throw new S.ErrnoError(55);try{ue=S.lookupNode(Ze,F)}catch{}if(mt!==ue){var dt=S.isDir(mt.mode),_t=S.mayDelete(ae,E,dt);if(_t)throw new S.ErrnoError(_t);if(_t=ue?S.mayDelete(Ze,F,dt):S.mayCreate(Ze,F))throw new S.ErrnoError(_t);if(!ae.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(mt)||ue&&S.isMountpoint(ue))throw new S.ErrnoError(10);if(Ze!==ae&&(_t=S.nodePermissions(ae,"w")))throw new S.ErrnoError(_t);S.hashRemoveNode(mt);try{ae.node_ops.rename(mt,Ze,F)}catch(tn){throw tn}finally{S.hashAddNode(mt)}}},rmdir:u=>{var g=S.lookupPath(u,{parent:!0}).node,w=Ot.basename(u),E=S.lookupNode(g,w),F=S.mayDelete(g,w,!0);if(F)throw new S.ErrnoError(F);if(!g.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(E))throw new S.ErrnoError(10);g.node_ops.rmdir(g,w),S.destroyNode(E)},readdir:u=>{var g=S.lookupPath(u,{follow:!0}).node;if(!g.node_ops.readdir)throw new S.ErrnoError(54);return g.node_ops.readdir(g)},unlink:u=>{var g=S.lookupPath(u,{parent:!0}).node;if(!g)throw new S.ErrnoError(44);var w=Ot.basename(u),E=S.lookupNode(g,w),F=S.mayDelete(g,w,!1);if(F)throw new S.ErrnoError(F);if(!g.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(E))throw new S.ErrnoError(10);g.node_ops.unlink(g,w),S.destroyNode(E)},readlink:u=>{var g=S.lookupPath(u).node;if(!g)throw new S.ErrnoError(44);if(!g.node_ops.readlink)throw new S.ErrnoError(28);return tr.resolve(S.getPath(g.parent),g.node_ops.readlink(g))},stat:(u,p)=>{var w=S.lookupPath(u,{follow:!p}).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.getattr)throw new S.ErrnoError(63);return w.node_ops.getattr(w)},lstat:u=>S.stat(u,!0),chmod:(u,p,g)=>{var w;if(!(w="string"==typeof u?S.lookupPath(u,{follow:!g}).node:u).node_ops.setattr)throw new S.ErrnoError(63);w.node_ops.setattr(w,{mode:4095&p|-4096&w.mode,timestamp:Date.now()})},lchmod:(u,p)=>{S.chmod(u,p,!0)},fchmod:(u,p)=>{var g=S.getStream(u);if(!g)throw new S.ErrnoError(8);S.chmod(g.node,p)},chown:(u,p,g,w)=>{var E;if(!(E="string"==typeof u?S.lookupPath(u,{follow:!w}).node:u).node_ops.setattr)throw new S.ErrnoError(63);E.node_ops.setattr(E,{timestamp:Date.now()})},lchown:(u,p,g)=>{S.chown(u,p,g,!0)},fchown:(u,p,g)=>{var w=S.getStream(u);if(!w)throw new S.ErrnoError(8);S.chown(w.node,p,g)},truncate:(u,p)=>{if(p<0)throw new S.ErrnoError(28);var g;if(!(g="string"==typeof u?S.lookupPath(u,{follow:!0}).node:u).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(g.mode))throw new S.ErrnoError(31);if(!S.isFile(g.mode))throw new S.ErrnoError(28);var E=S.nodePermissions(g,"w");if(E)throw new S.ErrnoError(E);g.node_ops.setattr(g,{size:p,timestamp:Date.now()})},ftruncate:(u,p)=>{var g=S.getStream(u);if(!g)throw new S.ErrnoError(8);if(0==(2097155&g.flags))throw new S.ErrnoError(28);S.truncate(g.node,p)},utime:(u,p,g)=>{var E=S.lookupPath(u,{follow:!0}).node;E.node_ops.setattr(E,{timestamp:Math.max(p,g)})},open:(u,p,g)=>{if(""===u)throw new S.ErrnoError(44);var w;if(g=typeof g>"u"?438:g,g=64&(p="string"==typeof p?S.modeStringToFlags(p):p)?4095&g|32768:0,"object"==typeof u)w=u;else{u=Ot.normalize(u);try{w=S.lookupPath(u,{follow:!(131072&p)}).node}catch{}}var F=!1;if(64&p)if(w){if(128&p)throw new S.ErrnoError(20)}else w=S.mknod(u,g,0),F=!0;if(!w)throw new S.ErrnoError(44);if(S.isChrdev(w.mode)&&(p&=-513),65536&p&&!S.isDir(w.mode))throw new S.ErrnoError(54);if(!F){var U=S.mayOpen(w,p);if(U)throw new S.ErrnoError(U)}512&p&&!F&&S.truncate(w,0),p&=-131713;var ae=S.createStream({node:w,path:S.getPath(w),flags:p,seekable:!0,position:0,stream_ops:w.stream_ops,ungotten:[],error:!1});return ae.stream_ops.open&&ae.stream_ops.open(ae),d.logReadFiles&&!(1&p)&&(S.readFiles||(S.readFiles={}),u in S.readFiles||(S.readFiles[u]=1)),ae},close:u=>{if(S.isClosed(u))throw new S.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(p){throw p}finally{S.closeStream(u.fd)}u.fd=null},isClosed:u=>null===u.fd,llseek:(u,p,g)=>{if(S.isClosed(u))throw new S.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=g&&1!=g&&2!=g)throw new S.ErrnoError(28);return u.position=u.stream_ops.llseek(u,p,g),u.ungotten=[],u.position},read:(u,p,g,w,E)=>{if(w<0||E<0)throw new S.ErrnoError(28);if(S.isClosed(u))throw new S.ErrnoError(8);if(1==(2097155&u.flags))throw new S.ErrnoError(8);if(S.isDir(u.node.mode))throw new S.ErrnoError(31);if(!u.stream_ops.read)throw new S.ErrnoError(28);var F=typeof E<"u";if(F){if(!u.seekable)throw new S.ErrnoError(70)}else E=u.position;var U=u.stream_ops.read(u,p,g,w,E);return F||(u.position+=U),U},write:(u,p,g,w,E,F)=>{if(w<0||E<0)throw new S.ErrnoError(28);if(S.isClosed(u))throw new S.ErrnoError(8);if(0==(2097155&u.flags))throw new S.ErrnoError(8);if(S.isDir(u.node.mode))throw new S.ErrnoError(31);if(!u.stream_ops.write)throw new S.ErrnoError(28);u.seekable&&1024&u.flags&&S.llseek(u,0,2);var U=typeof E<"u";if(U){if(!u.seekable)throw new S.ErrnoError(70)}else E=u.position;var ae=u.stream_ops.write(u,p,g,w,E,F);return U||(u.position+=ae),ae},allocate:(u,p,g)=>{if(S.isClosed(u))throw new S.ErrnoError(8);if(p<0||g<=0)throw new S.ErrnoError(28);if(0==(2097155&u.flags))throw new S.ErrnoError(8);if(!S.isFile(u.node.mode)&&!S.isDir(u.node.mode))throw new S.ErrnoError(43);if(!u.stream_ops.allocate)throw new S.ErrnoError(138);u.stream_ops.allocate(u,p,g)},mmap:(u,p,g,w,E)=>{if(0!=(2&w)&&0==(2&E)&&2!=(2097155&u.flags))throw new S.ErrnoError(2);if(1==(2097155&u.flags))throw new S.ErrnoError(2);if(!u.stream_ops.mmap)throw new S.ErrnoError(43);return u.stream_ops.mmap(u,p,g,w,E)},msync:(u,p,g,w,E)=>u.stream_ops.msync?u.stream_ops.msync(u,p,g,w,E):0,munmap:u=>0,ioctl:(u,p,g)=>{if(!u.stream_ops.ioctl)throw new S.ErrnoError(59);return u.stream_ops.ioctl(u,p,g)},readFile:(u,p={})=>{if(p.flags=p.flags||0,p.encoding=p.encoding||"binary","utf8"!==p.encoding&&"binary"!==p.encoding)throw new Error('Invalid encoding type "'+p.encoding+'"');var g,w=S.open(u,p.flags),F=S.stat(u).size,U=new Uint8Array(F);return S.read(w,U,0,F,0),"utf8"===p.encoding?g=$e(U,0):"binary"===p.encoding&&(g=U),S.close(w),g},writeFile:(u,p,g={})=>{g.flags=g.flags||577;var w=S.open(u,g.flags,g.mode);if("string"==typeof p){var E=new Uint8Array(K(p)+1),F=Ie(p,E,0,E.length);S.write(w,E,0,F,void 0,g.canOwn)}else{if(!ArrayBuffer.isView(p))throw new Error("Unsupported data type");S.write(w,p,0,p.byteLength,void 0,g.canOwn)}S.close(w)},cwd:()=>S.currentPath,chdir:u=>{var p=S.lookupPath(u,{follow:!0});if(null===p.node)throw new S.ErrnoError(44);if(!S.isDir(p.node.mode))throw new S.ErrnoError(54);var g=S.nodePermissions(p.node,"x");if(g)throw new S.ErrnoError(g);S.currentPath=p.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(p,g,w,E,F)=>E}),S.mkdev("/dev/null",S.makedev(1,3)),Kn.register(S.makedev(5,0),Kn.default_tty_ops),Kn.register(S.makedev(6,0),Kn.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var u=function on(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var u=new Uint8Array(1);return()=>(crypto.getRandomValues(u),u[0])}return()=>Xn("randomDevice")}();S.createDevice("/dev","random",u),S.createDevice("/dev","urandom",u),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var u=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var p=S.createNode(u,"fd",16895,73);return p.node_ops={lookup:(g,w)=>{var F=S.getStream(+w);if(!F)throw new S.ErrnoError(8);var U={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>F.path}};return U.parent=U,U}},p}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?S.createDevice("/dev","stdin",d.stdin):S.symlink("/dev/tty","/dev/stdin"),d.stdout?S.createDevice("/dev","stdout",null,d.stdout):S.symlink("/dev/tty","/dev/stdout"),d.stderr?S.createDevice("/dev","stderr",null,d.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(p,g){this.node=g,this.setErrno=function(w){this.errno=w},this.setErrno(p),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(u=>{S.genericErrors[u]=new S.ErrnoError(u),S.genericErrors[u].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Vt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Vt}},init:(u,p,g)=>{S.init.initialized=!0,S.ensureErrnoError(),d.stdin=u||d.stdin,d.stdout=p||d.stdout,d.stderr=g||d.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var u=0;u<S.streams.length;u++){var p=S.streams[u];!p||S.close(p)}},getMode:(u,p)=>{var g=0;return u&&(g|=365),p&&(g|=146),g},findObject:(u,p)=>{var g=S.analyzePath(u,p);return g.exists?g.object:null},analyzePath:(u,p)=>{try{u=(g=S.lookupPath(u,{follow:!p})).path}catch{}var w={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var g=S.lookupPath(u,{parent:!0});w.parentExists=!0,w.parentPath=g.path,w.parentObject=g.node,w.name=Ot.basename(u),g=S.lookupPath(u,{follow:!p}),w.exists=!0,w.path=g.path,w.object=g.node,w.name=g.node.name,w.isRoot="/"===g.path}catch(E){w.error=E.errno}return w},createPath:(u,p,g,w)=>{u="string"==typeof u?u:S.getPath(u);for(var E=p.split("/").reverse();E.length;){var F=E.pop();if(F){var U=Ot.join2(u,F);try{S.mkdir(U)}catch{}u=U}}return U},createFile:(u,p,g,w,E)=>{var F=Ot.join2("string"==typeof u?u:S.getPath(u),p),U=S.getMode(w,E);return S.create(F,U)},createDataFile:(u,p,g,w,E,F)=>{var U=p;u&&(u="string"==typeof u?u:S.getPath(u),U=p?Ot.join2(u,p):u);var ae=S.getMode(w,E),Ze=S.create(U,ae);if(g){if("string"==typeof g){for(var mt=new Array(g.length),ut=0,ue=g.length;ut<ue;++ut)mt[ut]=g.charCodeAt(ut);g=mt}S.chmod(Ze,146|ae);var dt=S.open(Ze,577);S.write(dt,g,0,g.length,0,F),S.close(dt),S.chmod(Ze,ae)}return Ze},createDevice:(u,p,g,w)=>{var E=Ot.join2("string"==typeof u?u:S.getPath(u),p),F=S.getMode(!!g,!!w);S.createDevice.major||(S.createDevice.major=64);var U=S.makedev(S.createDevice.major++,0);return S.registerDevice(U,{open:ae=>{ae.seekable=!1},close:ae=>{w&&w.buffer&&w.buffer.length&&w(10)},read:(ae,Ze,mt,ut,ue)=>{for(var dt=0,_t=0;_t<ut;_t++){var tn;try{tn=g()}catch{throw new S.ErrnoError(29)}if(void 0===tn&&0===dt)throw new S.ErrnoError(6);if(null==tn)break;dt++,Ze[mt+_t]=tn}return dt&&(ae.node.timestamp=Date.now()),dt},write:(ae,Ze,mt,ut,ue)=>{for(var dt=0;dt<ut;dt++)try{w(Ze[mt+dt])}catch{throw new S.ErrnoError(29)}return ut&&(ae.node.timestamp=Date.now()),dt}}),S.mkdev(E,F,U)},forceLoadFile:u=>{if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{u.contents=Yt(V(u.url),!0),u.usedBytes=u.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(u,p,g,w,E)=>{function F(){this.lengthKnown=!1,this.chunks=[]}if(F.prototype.get=function(_t){if(!(_t>this.length-1||_t<0)){var tn=_t%this.chunkSize;return this.getter(_t/this.chunkSize|0)[tn]}},F.prototype.setDataGetter=function(_t){this.getter=_t},F.prototype.cacheLength=function(){var _t=new XMLHttpRequest;if(_t.open("HEAD",g,!1),_t.send(null),!(_t.status>=200&&_t.status<300||304===_t.status))throw new Error("Couldn't load "+g+". Status: "+_t.status);var xn,tn=Number(_t.getResponseHeader("Content-length")),qe=(xn=_t.getResponseHeader("Accept-Ranges"))&&"bytes"===xn,kt=(xn=_t.getResponseHeader("Content-Encoding"))&&"gzip"===xn,Je=1048576;qe||(Je=tn);var sn=this;sn.setDataGetter(At=>{var cr=At*Je,Ln=(At+1)*Je-1;if(Ln=Math.min(Ln,tn-1),typeof sn.chunks[At]>"u"&&(sn.chunks[At]=((At,cr)=>{if(At>cr)throw new Error("invalid range ("+At+", "+cr+") or no bytes requested!");if(cr>tn-1)throw new Error("only "+tn+" bytes available! programmer error!");var Ln=new XMLHttpRequest;if(Ln.open("GET",g,!1),tn!==Je&&Ln.setRequestHeader("Range","bytes="+At+"-"+cr),Ln.responseType="arraybuffer",Ln.overrideMimeType&&Ln.overrideMimeType("text/plain; charset=x-user-defined"),Ln.send(null),!(Ln.status>=200&&Ln.status<300||304===Ln.status))throw new Error("Couldn't load "+g+". Status: "+Ln.status);return void 0!==Ln.response?new Uint8Array(Ln.response||[]):Yt(Ln.responseText||"",!0)})(cr,Ln)),typeof sn.chunks[At]>"u")throw new Error("doXHR failed!");return sn.chunks[At]}),(kt||!tn)&&(Je=tn=1,tn=this.getter(0).length,Je=tn,me("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=tn,this._chunkSize=Je,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var U=new F;Object.defineProperties(U,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ae={isDevice:!1,contents:U}}else ae={isDevice:!1,url:g};var Ze=S.createFile(u,p,ae,w,E);ae.contents?Ze.contents=ae.contents:ae.url&&(Ze.contents=null,Ze.url=ae.url),Object.defineProperties(Ze,{usedBytes:{get:function(){return this.contents.length}}});var mt={};function ue(dt,_t,tn,xn,qe){var kt=dt.node.contents;if(qe>=kt.length)return 0;var Je=Math.min(kt.length-qe,xn);if(kt.slice)for(var Ve=0;Ve<Je;Ve++)_t[tn+Ve]=kt[qe+Ve];else for(Ve=0;Ve<Je;Ve++)_t[tn+Ve]=kt.get(qe+Ve);return Je}return Object.keys(Ze.stream_ops).forEach(dt=>{var _t=Ze.stream_ops[dt];mt[dt]=function(){return S.forceLoadFile(Ze),_t.apply(null,arguments)}}),mt.read=(dt,_t,tn,xn,qe)=>(S.forceLoadFile(Ze),ue(dt,_t,tn,xn,qe)),mt.mmap=(dt,_t,tn,xn,qe)=>{S.forceLoadFile(Ze);var kt=ar();if(!kt)throw new S.ErrnoError(48);return ue(dt,We,kt,_t,tn),{ptr:kt,allocated:!0}},Ze.stream_ops=mt,Ze},createPreloadedFile:(u,p,g,w,E,F,U,ae,Ze,mt)=>{var ut=p?tr.resolve(Ot.join2(u,p)):u;function dt(_t){function tn(xn){mt&&mt(),ae||S.createDataFile(u,p,xn,w,E,Ze),F&&F(),sr()}Browser.handledByPreloadPlugin(_t,ut,tn,()=>{U&&U(),sr()})||tn(_t)}mo(),"string"==typeof g?function nr(u,p,g,w){var E=w?"":"al "+u;ke(u,F=>{be(F,'Loading data file "'+u+'" failed (no arrayBuffer).'),p(new Uint8Array(F)),E&&sr()},F=>{if(!g)throw'Loading data file "'+u+'" failed.';g()}),E&&mo()}(g,_t=>dt(_t),U):dt(g)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(u,p,g)=>{p=p||(()=>{}),g=g||(()=>{});var w=S.indexedDB();try{var E=w.open(S.DB_NAME(),S.DB_VERSION)}catch(F){return g(F)}E.onupgradeneeded=()=>{me("creating db"),E.result.createObjectStore(S.DB_STORE_NAME)},E.onsuccess=()=>{var U=E.result.transaction([S.DB_STORE_NAME],"readwrite"),ae=U.objectStore(S.DB_STORE_NAME),Ze=0,mt=0,ut=u.length;function ue(){0==mt?p():g()}u.forEach(dt=>{var _t=ae.put(S.analyzePath(dt).object.contents,dt);_t.onsuccess=()=>{++Ze+mt==ut&&ue()},_t.onerror=()=>{mt++,Ze+mt==ut&&ue()}}),U.onerror=g},E.onerror=g},loadFilesFromDB:(u,p,g)=>{p=p||(()=>{}),g=g||(()=>{});var w=S.indexedDB();try{var E=w.open(S.DB_NAME(),S.DB_VERSION)}catch(F){return g(F)}E.onupgradeneeded=g,E.onsuccess=()=>{var F=E.result;try{var U=F.transaction([S.DB_STORE_NAME],"readonly")}catch(dt){return void g(dt)}var ae=U.objectStore(S.DB_STORE_NAME),Ze=0,mt=0,ut=u.length;function ue(){0==mt?p():g()}u.forEach(dt=>{var _t=ae.get(dt);_t.onsuccess=()=>{S.analyzePath(dt).exists&&S.unlink(dt),S.createDataFile(Ot.dirname(dt),Ot.basename(dt),_t.result,!0,!0,!0),++Ze+mt==ut&&ue()},_t.onerror=()=>{mt++,Ze+mt==ut&&ue()}}),U.onerror=g},E.onerror=g}},Mt={DEFAULT_POLLMASK:5,calculateAt:function(u,p,g){if(Ot.isAbs(p))return p;var w;if(w=-100===u?S.cwd():Mt.getStreamFromFD(u).path,0==p.length){if(!g)throw new S.ErrnoError(44);return w}return Ot.join2(w,p)},doStat:function(u,p,g){try{var w=u(p)}catch(E){if(E&&E.node&&Ot.normalize(p)!==Ot.normalize(S.getPath(E.node)))return-54;throw E}return L[g>>2]=w.dev,L[g+8>>2]=w.ino,L[g+12>>2]=w.mode,B[g+16>>2]=w.nlink,L[g+20>>2]=w.uid,L[g+24>>2]=w.gid,L[g+28>>2]=w.rdev,re=[w.size>>>0,(et=w.size,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[g+40>>2]=re[0],L[g+44>>2]=re[1],L[g+48>>2]=4096,L[g+52>>2]=w.blocks,re=[Math.floor(w.atime.getTime()/1e3)>>>0,(et=Math.floor(w.atime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[g+56>>2]=re[0],L[g+60>>2]=re[1],B[g+64>>2]=0,re=[Math.floor(w.mtime.getTime()/1e3)>>>0,(et=Math.floor(w.mtime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[g+72>>2]=re[0],L[g+76>>2]=re[1],B[g+80>>2]=0,re=[Math.floor(w.ctime.getTime()/1e3)>>>0,(et=Math.floor(w.ctime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[g+88>>2]=re[0],L[g+92>>2]=re[1],B[g+96>>2]=0,re=[w.ino>>>0,(et=w.ino,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[g+104>>2]=re[0],L[g+108>>2]=re[1],0},doMsync:function(u,p,g,w,E){if(!S.isFile(p.node.mode))throw new S.ErrnoError(43);if(2&w)return 0;var F=at.slice(u,u+g);S.msync(p,F,E,g,w)},varargs:void 0,get:function(){return Mt.varargs+=4,L[Mt.varargs-4>>2]},getStr:function(u){return Oe(u)},getStreamFromFD:function(u){var p=S.getStream(u);if(!p)throw new S.ErrnoError(8);return p}};function M(u){return B[u>>2]+4294967296*L[u+4>>2]}function ao(u){return u%4==0&&(u%100!=0||u%400==0)}var lo=[0,31,60,91,121,152,182,213,244,274,305,335],Ro=[0,31,59,90,120,151,181,212,243,273,304,334];function Gt(u){var p=K(u)+1,g=Qn(p);return g&&Ie(u,We,g,p),g}var to=[];function Zr(u){try{return ce.grow(u-Ue.byteLength+65535>>>16),Me(ce.buffer),1}catch{}}var si={};function Fo(){if(!Fo.strings){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var g in si)void 0===si[g]?delete p[g]:p[g]=si[g];var w=[];for(var g in p)w.push(g+"="+p[g]);Fo.strings=w}return Fo.strings}function xi(u,p){he=u,function zo(u){he=u,function en(){return xe}()||(d.onExit&&d.onExit(u),ze=!0),G(u,new un(u))}(u)}var Wn=xi,T=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Pe=function(u,p,g,w){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=S.nextInode++,this.name=p,this.mode=g,this.node_ops={},this.stream_ops={},this.rdev=w};Object.defineProperties(Pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(u){u?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(u){u?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=Pe,S.staticInit();var as,Ct={o:function hr(u,p,g,w){Mt.varargs=w;try{p=Mt.getStr(p),p=Mt.calculateAt(u,p);var E=w?Mt.get():0;return S.open(p,g,E).fd}catch(F){if(typeof S>"u"||!(F instanceof S.ErrnoError))throw F;return-F.errno}},h:function Pr(u,p){var g=new Date(1e3*M(u));L[p>>2]=g.getUTCSeconds(),L[p+4>>2]=g.getUTCMinutes(),L[p+8>>2]=g.getUTCHours(),L[p+12>>2]=g.getUTCDate(),L[p+16>>2]=g.getUTCMonth(),L[p+20>>2]=g.getUTCFullYear()-1900,L[p+24>>2]=g.getUTCDay();var w=Date.UTC(g.getUTCFullYear(),0,1,0,0,0,0),E=(g.getTime()-w)/864e5|0;L[p+28>>2]=E},i:function Io(u,p){var g=new Date(1e3*M(u));L[p>>2]=g.getSeconds(),L[p+4>>2]=g.getMinutes(),L[p+8>>2]=g.getHours(),L[p+12>>2]=g.getDate(),L[p+16>>2]=g.getMonth(),L[p+20>>2]=g.getFullYear()-1900,L[p+24>>2]=g.getDay();var w=0|function vr(u){return(ao(u.getFullYear())?lo:Ro)[u.getMonth()]+u.getDate()-1}(g);L[p+28>>2]=w,L[p+36>>2]=-60*g.getTimezoneOffset();var E=new Date(g.getFullYear(),0,1),F=new Date(g.getFullYear(),6,1).getTimezoneOffset(),U=E.getTimezoneOffset(),ae=0|(F!=U&&g.getTimezoneOffset()==Math.min(U,F));L[p+32>>2]=ae},j:function eo(u,p,g){var w=(new Date).getFullYear(),E=new Date(w,0,1),F=new Date(w,6,1),U=E.getTimezoneOffset(),ae=F.getTimezoneOffset(),Ze=Math.max(U,ae);function mt(tn){var xn=tn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return xn?xn[1]:"GMT"}B[u>>2]=60*Ze,L[p>>2]=Number(U!=ae);var ut=mt(E),ue=mt(F),dt=Gt(ut),_t=Gt(ue);ae<U?(B[g>>2]=dt,B[g+4>>2]=_t):(B[g>>2]=_t,B[g+4>>2]=dt)},b:function rr(){Xn("")},a:function Go(u,p,g){var w=function no(u,p){var g;for(to.length=0,p>>=2;g=at[u++];)p+=105!=g&p,to.push(105==g?L[p]:fe[p++>>1]),++p;return to}(p,g);return Le[u].apply(null,w)},c:function qt(){return Date.now()},g:function yo(u,p,g){at.copyWithin(u,p,p+g)},m:function Br(u){var Ze,p=at.length,g=2147483648;if((u>>>=0)>g)return!1;for(var E=1;E<=4;E*=2){var F=p*(1+.2/E);if(F=Math.min(F,u+100663296),Zr(Math.min(g,(Ze=Math.max(u,F))+(65536-Ze%65536)%65536)))return!0}return!1},p:function Vr(u,p){var g=0;return Fo().forEach(function(w,E){var F=p+g;B[u+4*E>>2]=F,function Mo(u,p,g){for(var w=0;w<u.length;++w)We[p++>>0]=u.charCodeAt(w);g||(We[p>>0]=0)}(w,F),g+=w.length+1}),0},f:function Xi(u,p){var g=Fo();B[u>>2]=g.length;var w=0;return g.forEach(function(E){w+=E.length+1}),B[p>>2]=w,0},q:Wn,d:function Wo(u){try{var p=Mt.getStreamFromFD(u);return S.close(p),0}catch(g){if(typeof S>"u"||!(g instanceof S.ErrnoError))throw g;return g.errno}},e:function qo(u,p,g,w){try{var F=function vi(u,p,g,w){for(var E=0,F=0;F<g;F++){var U=B[p>>2],ae=B[p+4>>2];p+=8;var Ze=S.read(u,We,U,ae,w);if(Ze<0)return-1;if(E+=Ze,Ze<ae)break}return E}(Mt.getStreamFromFD(u),p,g);return B[w>>2]=F,0}catch(U){if(typeof S>"u"||!(U instanceof S.ErrnoError))throw U;return U.errno}},k:function Zo(u,p,g,w,E){try{var F=function On(u,p){return p+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*p:NaN}(p,g);if(isNaN(F))return 61;var U=Mt.getStreamFromFD(u);return S.llseek(U,F,w),re=[U.position>>>0,(et=U.position,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[E>>2]=re[0],L[E+4>>2]=re[1],U.getdents&&0===F&&0===w&&(U.getdents=null),0}catch(ae){if(typeof S>"u"||!(ae instanceof S.ErrnoError))throw ae;return ae.errno}},n:function _i(u,p,g,w){try{var F=function Vn(u,p,g,w){for(var E=0,F=0;F<g;F++){var U=B[p>>2],ae=B[p+4>>2];p+=8;var Ze=S.write(u,We,U,ae,w);if(Ze<0)return-1;E+=Ze}return E}(Mt.getStreamFromFD(u),p,g);return B[w>>2]=F,0}catch(U){if(typeof S>"u"||!(U instanceof S.ErrnoError))throw U;return U.errno}},l:function Z(u,p,g,w,E){return function P(u,p,g,w){var E=L[w+40>>2],F={tm_sec:L[w>>2],tm_min:L[w+4>>2],tm_hour:L[w+8>>2],tm_mday:L[w+12>>2],tm_mon:L[w+16>>2],tm_year:L[w+20>>2],tm_wday:L[w+24>>2],tm_yday:L[w+28>>2],tm_isdst:L[w+32>>2],tm_gmtoff:L[w+36>>2],tm_zone:E?Oe(E):""},U=Oe(g),ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ze in ae)U=U.replace(new RegExp(Ze,"g"),ae[Ze]);var mt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ut=["January","February","March","April","May","June","July","August","September","October","November","December"];function ue(Je,Ve,sn){for(var At="number"==typeof Je?Je.toString():Je||"";At.length<Ve;)At=sn[0]+At;return At}function dt(Je,Ve){return ue(Je,Ve,"0")}function _t(Je,Ve){function sn(cr){return cr<0?-1:cr>0?1:0}var At;return 0===(At=sn(Je.getFullYear()-Ve.getFullYear()))&&0===(At=sn(Je.getMonth()-Ve.getMonth()))&&(At=sn(Je.getDate()-Ve.getDate())),At}function tn(Je){switch(Je.getDay()){case 0:return new Date(Je.getFullYear()-1,11,29);case 1:return Je;case 2:return new Date(Je.getFullYear(),0,3);case 3:return new Date(Je.getFullYear(),0,2);case 4:return new Date(Je.getFullYear(),0,1);case 5:return new Date(Je.getFullYear()-1,11,31);case 6:return new Date(Je.getFullYear()-1,11,30)}}function xn(Je){var Ve=function se(u,p){for(var g=new Date(u.getTime());p>0;){var w=ao(g.getFullYear()),E=g.getMonth(),F=(w?T:N)[E];if(!(p>F-g.getDate()))return g.setDate(g.getDate()+p),g;p-=F-g.getDate()+1,g.setDate(1),E<11?g.setMonth(E+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1))}return g}(new Date(Je.tm_year+1900,0,1),Je.tm_yday),sn=new Date(Ve.getFullYear(),0,4),At=new Date(Ve.getFullYear()+1,0,4),cr=tn(sn),Ln=tn(At);return _t(cr,Ve)<=0?_t(Ln,Ve)<=0?Ve.getFullYear()+1:Ve.getFullYear():Ve.getFullYear()-1}var qe={"%a":function(Je){return mt[Je.tm_wday].substring(0,3)},"%A":function(Je){return mt[Je.tm_wday]},"%b":function(Je){return ut[Je.tm_mon].substring(0,3)},"%B":function(Je){return ut[Je.tm_mon]},"%C":function(Je){return dt((Je.tm_year+1900)/100|0,2)},"%d":function(Je){return dt(Je.tm_mday,2)},"%e":function(Je){return ue(Je.tm_mday,2," ")},"%g":function(Je){return xn(Je).toString().substring(2)},"%G":function(Je){return xn(Je)},"%H":function(Je){return dt(Je.tm_hour,2)},"%I":function(Je){var Ve=Je.tm_hour;return 0==Ve?Ve=12:Ve>12&&(Ve-=12),dt(Ve,2)},"%j":function(Je){return dt(Je.tm_mday+function Qi(u,p){for(var g=0,w=0;w<=p;g+=u[w++]);return g}(ao(Je.tm_year+1900)?T:N,Je.tm_mon-1),3)},"%m":function(Je){return dt(Je.tm_mon+1,2)},"%M":function(Je){return dt(Je.tm_min,2)},"%n":function(){return"\n"},"%p":function(Je){return Je.tm_hour>=0&&Je.tm_hour<12?"AM":"PM"},"%S":function(Je){return dt(Je.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Je){return Je.tm_wday||7},"%U":function(Je){return dt(Math.floor((Je.tm_yday+7-Je.tm_wday)/7),2)},"%V":function(Je){var Ve=Math.floor((Je.tm_yday+7-(Je.tm_wday+6)%7)/7);if((Je.tm_wday+371-Je.tm_yday-2)%7<=2&&Ve++,Ve){if(53==Ve){var At=(Je.tm_wday+371-Je.tm_yday)%7;4!=At&&(3!=At||!ao(Je.tm_year))&&(Ve=1)}}else{Ve=52;var sn=(Je.tm_wday+7-Je.tm_yday-1)%7;(4==sn||5==sn&&ao(Je.tm_year%400-1))&&Ve++}return dt(Ve,2)},"%w":function(Je){return Je.tm_wday},"%W":function(Je){return dt(Math.floor((Je.tm_yday+7-(Je.tm_wday+6)%7)/7),2)},"%y":function(Je){return(Je.tm_year+1900).toString().substring(2)},"%Y":function(Je){return Je.tm_year+1900},"%z":function(Je){var Ve=Je.tm_gmtoff,sn=Ve>=0;return Ve=(Ve=Math.abs(Ve)/60)/60*100+Ve%60,(sn?"+":"-")+String("0000"+Ve).slice(-4)},"%Z":function(Je){return Je.tm_zone},"%%":function(){return"%"}};for(var Ze in U=U.replace(/%%/g,"\0\0"),qe)U.includes(Ze)&&(U=U.replace(new RegExp(Ze,"g"),qe[Ze](F)));var kt=Yt(U=U.replace(/\0\0/g,"%"),!1);return kt.length>p?0:(function Ce(u,p){We.set(u,p)}(kt,u),kt.length-1)}(u,p,g,w)}},Qn=(function xr(){var u={a:Ct};function p(U,ae){d.asm=U.exports,Me((ce=d.asm.r).buffer),function Jr(u){tt.unshift(u)}(d.asm.s),sr()}function g(U){p(U.instance)}function w(U){return function yi(){return le||!ge&&!q||"function"!=typeof fetch?Promise.resolve().then(function(){return qr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(u){if(!u.ok)throw"failed to load wasm binary file at '"+Sn+"'";return u.arrayBuffer()}).catch(function(){return qr(Sn)})}().then(function(ae){return WebAssembly.instantiate(ae,u)}).then(function(ae){return ae}).then(U,function(ae){oe("failed to asynchronously prepare wasm: "+ae),Xn(ae)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(u,p)}catch(U){oe("Module.instantiateWasm callback failed with error: "+U),ee(U)}(function E(){return le||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?w(g):fetch(Sn,{credentials:"same-origin"}).then(function(U){return WebAssembly.instantiateStreaming(U,u).then(g,function(Ze){return oe("wasm streaming compile failed: "+Ze),oe("falling back to ArrayBuffer instantiation"),w(g)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.s).apply(null,arguments)},d._malloc=function(){return(Qn=d._malloc=d.asm.t).apply(null,arguments)}),co=d._emscripten_bind_VoidPtr___destroy___0=function(){return(co=d._emscripten_bind_VoidPtr___destroy___0=d.asm.u).apply(null,arguments)},Rr=d._emscripten_bind_FSTools_FSTools_0=function(){return(Rr=d._emscripten_bind_FSTools_FSTools_0=d.asm.v).apply(null,arguments)},mr=d._emscripten_bind_FSTools_Malloc_1=function(){return(mr=d._emscripten_bind_FSTools_Malloc_1=d.asm.w).apply(null,arguments)},Pi=d._emscripten_bind_FSTools_Free_1=function(){return(Pi=d._emscripten_bind_FSTools_Free_1=d.asm.x).apply(null,arguments)},Yo=d._emscripten_bind_FSTools_Nullptr_0=function(){return(Yo=d._emscripten_bind_FSTools_Nullptr_0=d.asm.y).apply(null,arguments)},wi=d._emscripten_bind_FSTools___destroy___0=function(){return(wi=d._emscripten_bind_FSTools___destroy___0=d.asm.z).apply(null,arguments)},Ia=d._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Ia=d._emscripten_bind_MkfsContext_MkfsContext_0=d.asm.A).apply(null,arguments)},ws=d._emscripten_bind_MkfsContext_Mkfs_2=function(){return(ws=d._emscripten_bind_MkfsContext_Mkfs_2=d.asm.B).apply(null,arguments)},Ma=d._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ma=d._emscripten_bind_MkfsContext_GetImage_0=d.asm.C).apply(null,arguments)},bs=d._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(bs=d._emscripten_bind_MkfsContext_GetImageSize_0=d.asm.D).apply(null,arguments)},ss=d._emscripten_bind_MkfsContext___destroy___0=function(){return(ss=d._emscripten_bind_MkfsContext___destroy___0=d.asm.E).apply(null,arguments)},Fr=d._emscripten_bind_FsckContext_FsckContext_1=function(){return(Fr=d._emscripten_bind_FsckContext_FsckContext_1=d.asm.F).apply(null,arguments)},Nn=d._emscripten_bind_FsckContext_GetImage_0=function(){return(Nn=d._emscripten_bind_FsckContext_GetImage_0=d.asm.G).apply(null,arguments)},al=d._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(al=d._emscripten_bind_FsckContext_GetDirtyPages_0=d.asm.H).apply(null,arguments)},ka=d._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ka=d._emscripten_bind_FsckContext_GetImageSize_0=d.asm.I).apply(null,arguments)},qs=d._emscripten_bind_FsckContext_Fsck_0=function(){return(qs=d._emscripten_bind_FsckContext_Fsck_0=d.asm.J).apply(null,arguments)},ht=d._emscripten_bind_FsckContext_GetResult_0=function(){return(ht=d._emscripten_bind_FsckContext_GetResult_0=d.asm.K).apply(null,arguments)},Ta=d._emscripten_bind_FsckContext___destroy___0=function(){return(Ta=d._emscripten_bind_FsckContext___destroy___0=d.asm.L).apply(null,arguments)};function Ri(u){function p(){as||(as=!0,d.calledRun=!0,!ze&&(function Wr(){!d.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,Kn.init(),wn(tt)}(),function Dr(){wn(Rt)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Hr&&function Ss(u){var p=d._main;try{var E=p(0,0);return xi(E),E}catch(F){return function J(u){if(u instanceof un||"unwind"==u)return he;G(1,u)}(F)}}(),function Yn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),$t.unshift(u);var u;wn($t)}()))}u=u||Y,Gn>0||(function pe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Xe.unshift(u);var u;wn(Xe)}(),Gn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p())}if(d._main=function(){return(d._main=d.asm.M).apply(null,arguments)},d.___original_main=function(){return(d.___original_main=d.asm.O).apply(null,arguments)},d.___start_em_js=40204,d.___stop_em_js=40302,yr=function u(){as||Ri(),as||(yr=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Hr=!0;function Ir(){}function vo(u){return(u||Ir).__cache__}function Ht(u,p){var g=vo(p),w=g[u];return w||((w=Object.create((p||Ir).prototype)).ptr=u,g[u]=w)}d.noInitialRun&&(Hr=!1),Ri(),(Ir.prototype=Object.create(Ir.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.WrapperObject=Ir,d.getCache=vo,d.wrapPointer=Ht,d.castObject=function Es(u,p){return Ht(u.ptr,p)},d.NULL=Ht(0),d.destroy=function Aa(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete vo(u.__class__)[u.ptr]},d.compare=function Oo(u,p){return u.ptr===p.ptr},d.getPointer=function Ys(u){return u.ptr},d.getClass=function er(u){return u.__class__};var Rn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Rn.needed){for(var u=0;u<Rn.temps.length;u++)d._free(Rn.temps[u]);Rn.temps.length=0,d._free(Rn.buffer),Rn.buffer=0,Rn.size+=Rn.needed,Rn.needed=0}Rn.buffer||(Rn.size+=128,Rn.buffer=d._malloc(Rn.size),be(Rn.buffer)),Rn.pos=0},alloc:function(u,p){be(Rn.buffer);var E,w=u.length*p.BYTES_PER_ELEMENT;return Rn.pos+(w=w+7&-8)>=Rn.size?(be(w>0),Rn.needed+=w,E=d._malloc(w),Rn.temps.push(E)):(E=Rn.buffer+Rn.pos,Rn.pos+=w),E},copy:function(u,p,g){switch(g>>>=0,p.BYTES_PER_ELEMENT){case 2:g>>>=1;break;case 4:g>>>=2;break;case 8:g>>>=3}for(var E=0;E<u.length;E++)p[g+E]=u[E]}};function dn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function yn(){this.ptr=Rr(),vo(yn)[this.ptr]=this}function h(){this.ptr=Ia(),vo(h)[this.ptr]=this}function v(u){u&&"object"==typeof u&&(u=u.ptr),this.ptr=Fr(u),vo(v)[this.ptr]=this}return(dn.prototype=Object.create(Ir.prototype)).constructor=dn,dn.prototype.__class__=dn,dn.__cache__={},d.VoidPtr=dn,dn.prototype.__destroy__=dn.prototype.__destroy__=function(){co(this.ptr)},(yn.prototype=Object.create(Ir.prototype)).constructor=yn,yn.prototype.__class__=yn,yn.__cache__={},d.FSTools=yn,yn.prototype.Malloc=yn.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ht(mr(this.ptr,u),dn)},yn.prototype.Free=yn.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),Pi(this.ptr,u)},yn.prototype.Nullptr=yn.prototype.Nullptr=function(){return Ht(Yo(this.ptr),dn)},yn.prototype.__destroy__=yn.prototype.__destroy__=function(){wi(this.ptr)},(h.prototype=Object.create(Ir.prototype)).constructor=h,h.prototype.__class__=h,h.__cache__={},d.MkfsContext=h,h.prototype.Mkfs=h.prototype.Mkfs=function(u,p){var g=this.ptr;return Rn.prepare(),u&&"object"==typeof u&&(u=u.ptr),p=p&&"object"==typeof p?p.ptr:function lr(u){if("string"==typeof u){var p=Yt(u),g=Rn.alloc(p,We);return Rn.copy(p,We,g),g}return u}(p),!!ws(g,u,p)},h.prototype.GetImage=h.prototype.GetImage=function(){return Ht(Ma(this.ptr),dn)},h.prototype.GetImageSize=h.prototype.GetImageSize=function(){return bs(this.ptr)},h.prototype.__destroy__=h.prototype.__destroy__=function(){ss(this.ptr)},(v.prototype=Object.create(Ir.prototype)).constructor=v,v.prototype.__class__=v,v.__cache__={},d.FsckContext=v,v.prototype.GetImage=v.prototype.GetImage=function(){return Ht(Nn(this.ptr),dn)},v.prototype.GetDirtyPages=v.prototype.GetDirtyPages=function(){return Ht(al(this.ptr),dn)},v.prototype.GetImageSize=v.prototype.GetImageSize=function(){return ka(this.ptr)},v.prototype.Fsck=v.prototype.Fsck=function(){return qs(this.ptr)},v.prototype.GetResult=v.prototype.GetResult=function(){return ht(this.ptr)},v.prototype.__destroy__=v.prototype.__destroy__=function(){Ta(this.ptr)},k.ready});Fe.exports=je},7971:Fe=>{var R,je=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ne,ee,d=typeof(k=k||{})<"u"?k:{};d.ready=new Promise(function(h,v){ne=h,ee=v});var V,ke,X,W=Object.assign({},d),Y=[],j="./this.program",G=(h,v)=>{throw v},ge="object"==typeof window,q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ge||q)&&(q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=h=>{var v=new XMLHttpRequest;return v.open("GET",h,!1),v.send(null),v.responseText},q&&(X=h=>{var v=new XMLHttpRequest;return v.open("GET",h,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),ke=(h,v,u)=>{var p=new XMLHttpRequest;p.open("GET",h,!0),p.responseType="arraybuffer",p.onload=()=>{200==p.status||0==p.status&&p.response?v(p.response):u()},p.onerror=u,p.send(null)});var le,me=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,W),W=null,d.arguments&&(Y=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(G=d.quit),d.wasmBinary&&(le=d.wasmBinary);var xe=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Xn("no native wasm support detected");var ce,he,ze=!1;function be(h,v){h||Xn(v)}var Ue,We,at,L,B,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function $e(h,v,u){for(var p=v+u,g=v;h[g]&&!(g>=p);)++g;if(g-v>16&&h.buffer&&De)return De.decode(h.subarray(v,g));for(var w="";v<g;){var E=h[v++];if(128&E){var F=63&h[v++];if(192!=(224&E)){var U=63&h[v++];if((E=224==(240&E)?(15&E)<<12|F<<6|U:(7&E)<<18|F<<12|U<<6|63&h[v++])<65536)w+=String.fromCharCode(E);else{var ae=E-65536;w+=String.fromCharCode(55296|ae>>10,56320|1023&ae)}}else w+=String.fromCharCode((31&E)<<6|F)}else w+=String.fromCharCode(E)}return w}function Oe(h,v){return h?$e(at,h,v):""}function Ie(h,v,u,p){if(!(p>0))return 0;for(var g=u,w=u+p-1,E=0;E<h.length;++E){var F=h.charCodeAt(E);if(F>=55296&&F<=57343&&(F=65536+((1023&F)<<10)|1023&h.charCodeAt(++E)),F<=127){if(u>=w)break;v[u++]=F}else if(F<=2047){if(u+1>=w)break;v[u++]=192|F>>6,v[u++]=128|63&F}else if(F<=65535){if(u+2>=w)break;v[u++]=224|F>>12,v[u++]=128|F>>6&63,v[u++]=128|63&F}else{if(u+3>=w)break;v[u++]=240|F>>18,v[u++]=128|F>>12&63,v[u++]=128|F>>6&63,v[u++]=128|63&F}}return v[u]=0,u-g}function K(h){for(var v=0,u=0;u<h.length;++u){var p=h.charCodeAt(u);p<=127?v++:p<=2047?v+=2:p>=55296&&p<=57343?(v+=4,++u):v+=3}return v}function Me(h){Ue=h,d.HEAP8=We=new Int8Array(h),d.HEAP16=new Int16Array(h),d.HEAP32=L=new Int32Array(h),d.HEAPU8=at=new Uint8Array(h),d.HEAPU16=new Uint16Array(h),d.HEAPU32=B=new Uint32Array(h),d.HEAPF32=new Float32Array(h),d.HEAPF64=new Float64Array(h)}var Sn,et,re,Xe=[],tt=[],Rt=[],$t=[],Gn=0,ir=null,yr=null;function mo(h){Gn++,d.monitorRunDependencies&&d.monitorRunDependencies(Gn)}function sr(h){if(Gn--,d.monitorRunDependencies&&d.monitorRunDependencies(Gn),0==Gn&&(null!==ir&&(clearInterval(ir),ir=null),yr)){var v=yr;yr=null,v()}}function Xn(h){d.onAbort&&d.onAbort(h),oe(h="Aborted("+h+")"),ze=!0,he=1,h+=". Build with -sASSERTIONS for more info.";var v=new WebAssembly.RuntimeError(h);throw ee(v),v}function $r(h){return h.startsWith("data:application/octet-stream;base64,")}function qr(h){try{if(h==Sn&&le)return new Uint8Array(le);if(X)return X(h);throw"both async and sync fetching of the wasm failed"}catch(v){Xn(v)}}function Le(h){this.name="ExitStatus",this.message="Program terminated with exit("+h+")",this.status=h}function un(h){for(;h.length>0;)h.shift()(d)}function Ot(h){return h%4==0&&(h%100!=0||h%400==0)}$r(Sn="vfs_web.wasm")||(Sn=function O(h){return d.locateFile?d.locateFile(h,$):$+h}(Sn));var on=[0,31,60,91,121,152,182,213,244,274,305,335],tr=[0,31,59,90,120,151,181,212,243,273,304,334];function Yt(h){return(Ot(h.getFullYear())?on:tr)[h.getMonth()]+h.getDate()-1}function Vt(h){var v=K(h)+1,u=Pe(v);return u&&Ie(h,We,u,v),u}function Pr(h){try{return ce.grow(h-Ue.byteLength+65535>>>16),Me(ce.buffer),1}catch{}}var lo={};function vr(){if(!vr.strings){var v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var u in lo)void 0===lo[u]?delete v[u]:v[u]=lo[u];var p=[];for(var u in v)p.push(u+"="+v[u]);vr.strings=p}return vr.strings}var Gt={isAbs:h=>"/"===h.charAt(0),splitPath:h=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1),normalizeArray:(h,v)=>{for(var u=0,p=h.length-1;p>=0;p--){var g=h[p];"."===g?h.splice(p,1):".."===g?(h.splice(p,1),u++):u&&(h.splice(p,1),u--)}if(v)for(;u;u--)h.unshift("..");return h},normalize:h=>{var v=Gt.isAbs(h),u="/"===h.substr(-1);return!(h=Gt.normalizeArray(h.split("/").filter(p=>!!p),!v).join("/"))&&!v&&(h="."),h&&u&&(h+="/"),(v?"/":"")+h},dirname:h=>{var v=Gt.splitPath(h),u=v[0],p=v[1];return u||p?(p&&(p=p.substr(0,p.length-1)),u+p):"."},basename:h=>{if("/"===h)return"/";var v=(h=(h=Gt.normalize(h)).replace(/\/$/,"")).lastIndexOf("/");return-1===v?h:h.substr(v+1)},join:function(){var h=Array.prototype.slice.call(arguments);return Gt.normalize(h.join("/"))},join2:(h,v)=>Gt.normalize(h+"/"+v)},rr={resolve:function(){for(var h="",v=!1,u=arguments.length-1;u>=-1&&!v;u--){var p=u>=0?arguments[u]:D.cwd();if("string"!=typeof p)throw new TypeError("Arguments to path.resolve must be strings");if(!p)return"";h=p+"/"+h,v=Gt.isAbs(p)}return(v?"/":"")+(h=Gt.normalizeArray(h.split("/").filter(g=>!!g),!v).join("/"))||"."},relative:(h,v)=>{function u(ae){for(var Ze=0;Ze<ae.length&&""===ae[Ze];Ze++);for(var mt=ae.length-1;mt>=0&&""===ae[mt];mt--);return Ze>mt?[]:ae.slice(Ze,mt-Ze+1)}h=rr.resolve(h).substr(1),v=rr.resolve(v).substr(1);for(var p=u(h.split("/")),g=u(v.split("/")),w=Math.min(p.length,g.length),E=w,F=0;F<w;F++)if(p[F]!==g[F]){E=F;break}var U=[];for(F=E;F<p.length;F++)U.push("..");return(U=U.concat(g.slice(E))).join("/")}};function to(h,v,u){var p=u>0?u:K(h)+1,g=new Array(p),w=Ie(h,g,0,g.length);return v&&(g.length=w),g}var no={ttys:[],init:function(){},shutdown:function(){},register:function(h,v){no.ttys[h]={input:[],output:[],ops:v},D.registerDevice(h,no.stream_ops)},stream_ops:{open:function(h){var v=no.ttys[h.node.rdev];if(!v)throw new D.ErrnoError(43);h.tty=v,h.seekable=!1},close:function(h){h.tty.ops.fsync(h.tty)},fsync:function(h){h.tty.ops.fsync(h.tty)},read:function(h,v,u,p,g){if(!h.tty||!h.tty.ops.get_char)throw new D.ErrnoError(60);for(var w=0,E=0;E<p;E++){var F;try{F=h.tty.ops.get_char(h.tty)}catch{throw new D.ErrnoError(29)}if(void 0===F&&0===w)throw new D.ErrnoError(6);if(null==F)break;w++,v[u+E]=F}return w&&(h.node.timestamp=Date.now()),w},write:function(h,v,u,p,g){if(!h.tty||!h.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var w=0;w<p;w++)h.tty.ops.put_char(h.tty,v[u+w])}catch{throw new D.ErrnoError(29)}return p&&(h.node.timestamp=Date.now()),w}},default_tty_ops:{get_char:function(h){if(!h.input.length){var v=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(v=window.prompt("Input: "))&&(v+="\n"):"function"==typeof readline&&null!==(v=readline())&&(v+="\n"),!v)return null;h.input=to(v,!0)}return h.input.shift()},put_char:function(h,v){null===v||10===v?(me($e(h.output,0)),h.output=[]):0!=v&&h.output.push(v)},fsync:function(h){h.output&&h.output.length>0&&(me($e(h.output,0)),h.output=[])}},default_tty1_ops:{put_char:function(h,v){null===v||10===v?(oe($e(h.output,0)),h.output=[]):0!=v&&h.output.push(v)},fsync:function(h){h.output&&h.output.length>0&&(oe($e(h.output,0)),h.output=[])}}};function Go(h){Xn()}var qt={ops_table:null,mount:function(h){return qt.createNode(null,"/",16895,0)},createNode:function(h,v,u,p){if(D.isBlkdev(u)||D.isFIFO(u))throw new D.ErrnoError(63);qt.ops_table||(qt.ops_table={dir:{node:{getattr:qt.node_ops.getattr,setattr:qt.node_ops.setattr,lookup:qt.node_ops.lookup,mknod:qt.node_ops.mknod,rename:qt.node_ops.rename,unlink:qt.node_ops.unlink,rmdir:qt.node_ops.rmdir,readdir:qt.node_ops.readdir,symlink:qt.node_ops.symlink},stream:{llseek:qt.stream_ops.llseek}},file:{node:{getattr:qt.node_ops.getattr,setattr:qt.node_ops.setattr},stream:{llseek:qt.stream_ops.llseek,read:qt.stream_ops.read,write:qt.stream_ops.write,allocate:qt.stream_ops.allocate,mmap:qt.stream_ops.mmap,msync:qt.stream_ops.msync}},link:{node:{getattr:qt.node_ops.getattr,setattr:qt.node_ops.setattr,readlink:qt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:qt.node_ops.getattr,setattr:qt.node_ops.setattr},stream:D.chrdev_stream_ops}});var g=D.createNode(h,v,u,p);return D.isDir(g.mode)?(g.node_ops=qt.ops_table.dir.node,g.stream_ops=qt.ops_table.dir.stream,g.contents={}):D.isFile(g.mode)?(g.node_ops=qt.ops_table.file.node,g.stream_ops=qt.ops_table.file.stream,g.usedBytes=0,g.contents=null):D.isLink(g.mode)?(g.node_ops=qt.ops_table.link.node,g.stream_ops=qt.ops_table.link.stream):D.isChrdev(g.mode)&&(g.node_ops=qt.ops_table.chrdev.node,g.stream_ops=qt.ops_table.chrdev.stream),g.timestamp=Date.now(),h&&(h.contents[v]=g,h.timestamp=g.timestamp),g},getFileDataAsTypedArray:function(h){return h.contents?h.contents.subarray?h.contents.subarray(0,h.usedBytes):new Uint8Array(h.contents):new Uint8Array(0)},expandFileStorage:function(h,v){var u=h.contents?h.contents.length:0;if(!(u>=v)){v=Math.max(v,u*(u<1048576?2:1.125)>>>0),0!=u&&(v=Math.max(v,256));var g=h.contents;h.contents=new Uint8Array(v),h.usedBytes>0&&h.contents.set(g.subarray(0,h.usedBytes),0)}},resizeFileStorage:function(h,v){if(h.usedBytes!=v)if(0==v)h.contents=null,h.usedBytes=0;else{var u=h.contents;h.contents=new Uint8Array(v),u&&h.contents.set(u.subarray(0,Math.min(v,h.usedBytes))),h.usedBytes=v}},node_ops:{getattr:function(h){var v={};return v.dev=D.isChrdev(h.mode)?h.id:1,v.ino=h.id,v.mode=h.mode,v.nlink=1,v.uid=0,v.gid=0,v.rdev=h.rdev,v.size=D.isDir(h.mode)?4096:D.isFile(h.mode)?h.usedBytes:D.isLink(h.mode)?h.link.length:0,v.atime=new Date(h.timestamp),v.mtime=new Date(h.timestamp),v.ctime=new Date(h.timestamp),v.blksize=4096,v.blocks=Math.ceil(v.size/v.blksize),v},setattr:function(h,v){void 0!==v.mode&&(h.mode=v.mode),void 0!==v.timestamp&&(h.timestamp=v.timestamp),void 0!==v.size&&qt.resizeFileStorage(h,v.size)},lookup:function(h,v){throw D.genericErrors[44]},mknod:function(h,v,u,p){return qt.createNode(h,v,u,p)},rename:function(h,v,u){if(D.isDir(h.mode)){var p;try{p=D.lookupNode(v,u)}catch{}if(p)for(var g in p.contents)throw new D.ErrnoError(55)}delete h.parent.contents[h.name],h.parent.timestamp=Date.now(),h.name=u,v.contents[u]=h,v.timestamp=h.parent.timestamp,h.parent=v},unlink:function(h,v){delete h.contents[v],h.timestamp=Date.now()},rmdir:function(h,v){var u=D.lookupNode(h,v);for(var p in u.contents)throw new D.ErrnoError(55);delete h.contents[v],h.timestamp=Date.now()},readdir:function(h){var v=[".",".."];for(var u in h.contents)!h.contents.hasOwnProperty(u)||v.push(u);return v},symlink:function(h,v,u){var p=qt.createNode(h,v,41471,0);return p.link=u,p},readlink:function(h){if(!D.isLink(h.mode))throw new D.ErrnoError(28);return h.link}},stream_ops:{read:function(h,v,u,p,g){var w=h.node.contents;if(g>=h.node.usedBytes)return 0;var E=Math.min(h.node.usedBytes-g,p);if(E>8&&w.subarray)v.set(w.subarray(g,g+E),u);else for(var F=0;F<E;F++)v[u+F]=w[g+F];return E},write:function(h,v,u,p,g,w){if(v.buffer===We.buffer&&(w=!1),!p)return 0;var E=h.node;if(E.timestamp=Date.now(),v.subarray&&(!E.contents||E.contents.subarray)){if(w)return E.contents=v.subarray(u,u+p),E.usedBytes=p,p;if(0===E.usedBytes&&0===g)return E.contents=v.slice(u,u+p),E.usedBytes=p,p;if(g+p<=E.usedBytes)return E.contents.set(v.subarray(u,u+p),g),p}if(qt.expandFileStorage(E,g+p),E.contents.subarray&&v.subarray)E.contents.set(v.subarray(u,u+p),g);else for(var F=0;F<p;F++)E.contents[g+F]=v[u+F];return E.usedBytes=Math.max(E.usedBytes,g+p),p},llseek:function(h,v,u){var p=v;if(1===u?p+=h.position:2===u&&D.isFile(h.node.mode)&&(p+=h.node.usedBytes),p<0)throw new D.ErrnoError(28);return p},allocate:function(h,v,u){qt.expandFileStorage(h.node,v+u),h.node.usedBytes=Math.max(h.node.usedBytes,v+u)},mmap:function(h,v,u,p,g){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);var w,E,F=h.node.contents;if(2&g||F.buffer!==Ue){if((u>0||u+v<F.length)&&(F=F.subarray?F.subarray(u,u+v):Array.prototype.slice.call(F,u,u+v)),E=!0,!(w=Go()))throw new D.ErrnoError(48);We.set(F,w)}else E=!1,w=F.byteOffset;return{ptr:w,allocated:E}},msync:function(h,v,u,p,g){return qt.stream_ops.write(h,v,0,p,u,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(h,v={})=>{if(!(h=rr.resolve(h)))return{path:"",node:null};if((v=Object.assign({follow_mount:!0,recurse_count:0},v)).recurse_count>8)throw new D.ErrnoError(32);for(var p=h.split("/").filter(mt=>!!mt),g=D.root,w="/",E=0;E<p.length;E++){var F=E===p.length-1;if(F&&v.parent)break;if(g=D.lookupNode(g,p[E]),w=Gt.join2(w,p[E]),D.isMountpoint(g)&&(!F||F&&v.follow_mount)&&(g=g.mounted.root),!F||v.follow)for(var U=0;D.isLink(g.mode);){var ae=D.readlink(w);if(w=rr.resolve(Gt.dirname(w),ae),g=D.lookupPath(w,{recurse_count:v.recurse_count+1}).node,U++>40)throw new D.ErrnoError(32)}}return{path:w,node:g}},getPath:h=>{for(var v;;){if(D.isRoot(h)){var u=h.mount.mountpoint;return v?"/"!==u[u.length-1]?u+"/"+v:u+v:u}v=v?h.name+"/"+v:h.name,h=h.parent}},hashName:(h,v)=>{for(var u=0,p=0;p<v.length;p++)u=(u<<5)-u+v.charCodeAt(p)|0;return(h+u>>>0)%D.nameTable.length},hashAddNode:h=>{var v=D.hashName(h.parent.id,h.name);h.name_next=D.nameTable[v],D.nameTable[v]=h},hashRemoveNode:h=>{var v=D.hashName(h.parent.id,h.name);if(D.nameTable[v]===h)D.nameTable[v]=h.name_next;else for(var u=D.nameTable[v];u;){if(u.name_next===h){u.name_next=h.name_next;break}u=u.name_next}},lookupNode:(h,v)=>{var u=D.mayLookup(h);if(u)throw new D.ErrnoError(u,h);for(var p=D.hashName(h.id,v),g=D.nameTable[p];g;g=g.name_next)if(g.parent.id===h.id&&g.name===v)return g;return D.lookup(h,v)},createNode:(h,v,u,p)=>{var g=new D.FSNode(h,v,u,p);return D.hashAddNode(g),g},destroyNode:h=>{D.hashRemoveNode(h)},isRoot:h=>h===h.parent,isMountpoint:h=>!!h.mounted,isFile:h=>32768==(61440&h),isDir:h=>16384==(61440&h),isLink:h=>40960==(61440&h),isChrdev:h=>8192==(61440&h),isBlkdev:h=>24576==(61440&h),isFIFO:h=>4096==(61440&h),isSocket:h=>49152==(49152&h),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:h=>{var v=D.flagModes[h];if(typeof v>"u")throw new Error("Unknown file open mode: "+h);return v},flagsToPermissionString:h=>{var v=["r","w","rw"][3&h];return 512&h&&(v+="w"),v},nodePermissions:(h,v)=>D.ignorePermissions?0:v.includes("r")&&!(292&h.mode)||v.includes("w")&&!(146&h.mode)||v.includes("x")&&!(73&h.mode)?2:0,mayLookup:h=>D.nodePermissions(h,"x")||(h.node_ops.lookup?0:2),mayCreate:(h,v)=>{try{return D.lookupNode(h,v),20}catch{}return D.nodePermissions(h,"wx")},mayDelete:(h,v,u)=>{var p;try{p=D.lookupNode(h,v)}catch(w){return w.errno}var g=D.nodePermissions(h,"wx");if(g)return g;if(u){if(!D.isDir(p.mode))return 54;if(D.isRoot(p)||D.getPath(p)===D.cwd())return 10}else if(D.isDir(p.mode))return 31;return 0},mayOpen:(h,v)=>h?D.isLink(h.mode)?32:D.isDir(h.mode)&&("r"!==D.flagsToPermissionString(v)||512&v)?31:D.nodePermissions(h,D.flagsToPermissionString(v)):44,MAX_OPEN_FDS:4096,nextfd:(h=0,v=D.MAX_OPEN_FDS)=>{for(var u=h;u<=v;u++)if(!D.streams[u])return u;throw new D.ErrnoError(33)},getStream:h=>D.streams[h],createStream:(h,v,u)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(g){this.node=g}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(g){this.shared.flags=g}},position:{get:function(){return this.shared.position},set:function(g){this.shared.position=g}}})),h=Object.assign(new D.FSStream,h);var p=D.nextfd(v,u);return h.fd=p,D.streams[p]=h,h},closeStream:h=>{D.streams[h]=null},chrdev_stream_ops:{open:h=>{var v=D.getDevice(h.node.rdev);h.stream_ops=v.stream_ops,h.stream_ops.open&&h.stream_ops.open(h)},llseek:()=>{throw new D.ErrnoError(70)}},major:h=>h>>8,minor:h=>255&h,makedev:(h,v)=>h<<8|v,registerDevice:(h,v)=>{D.devices[h]={stream_ops:v}},getDevice:h=>D.devices[h],getMounts:h=>{for(var v=[],u=[h];u.length;){var p=u.pop();v.push(p),u.push.apply(u,p.mounts)}return v},syncfs:(h,v)=>{"function"==typeof h&&(v=h,h=!1),D.syncFSRequests++,D.syncFSRequests>1&&oe("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=D.getMounts(D.root.mount),p=0;function g(E){return D.syncFSRequests--,v(E)}function w(E){if(E)return w.errored?void 0:(w.errored=!0,g(E));++p>=u.length&&g(null)}u.forEach(E=>{if(!E.type.syncfs)return w(null);E.type.syncfs(E,h,w)})},mount:(h,v,u)=>{var w,p="/"===u,g=!u;if(p&&D.root)throw new D.ErrnoError(10);if(!p&&!g){var E=D.lookupPath(u,{follow_mount:!1});if(u=E.path,D.isMountpoint(w=E.node))throw new D.ErrnoError(10);if(!D.isDir(w.mode))throw new D.ErrnoError(54)}var F={type:h,opts:v,mountpoint:u,mounts:[]},U=h.mount(F);return U.mount=F,F.root=U,p?D.root=U:w&&(w.mounted=F,w.mount&&w.mount.mounts.push(F)),U},unmount:h=>{var v=D.lookupPath(h,{follow_mount:!1});if(!D.isMountpoint(v.node))throw new D.ErrnoError(28);var u=v.node,p=u.mounted,g=D.getMounts(p);Object.keys(D.nameTable).forEach(E=>{for(var F=D.nameTable[E];F;){var U=F.name_next;g.includes(F.mount)&&D.destroyNode(F),F=U}}),u.mounted=null;var w=u.mount.mounts.indexOf(p);u.mount.mounts.splice(w,1)},lookup:(h,v)=>h.node_ops.lookup(h,v),mknod:(h,v,u)=>{var g=D.lookupPath(h,{parent:!0}).node,w=Gt.basename(h);if(!w||"."===w||".."===w)throw new D.ErrnoError(28);var E=D.mayCreate(g,w);if(E)throw new D.ErrnoError(E);if(!g.node_ops.mknod)throw new D.ErrnoError(63);return g.node_ops.mknod(g,w,v,u)},create:(h,v)=>(v=void 0!==v?v:438,v&=4095,D.mknod(h,v|=32768,0)),mkdir:(h,v)=>(v=void 0!==v?v:511,v&=1023,D.mknod(h,v|=16384,0)),mkdirTree:(h,v)=>{for(var u=h.split("/"),p="",g=0;g<u.length;++g)if(u[g]){p+="/"+u[g];try{D.mkdir(p,v)}catch(w){if(20!=w.errno)throw w}}},mkdev:(h,v,u)=>(typeof u>"u"&&(u=v,v=438),D.mknod(h,v|=8192,u)),symlink:(h,v)=>{if(!rr.resolve(h))throw new D.ErrnoError(44);var p=D.lookupPath(v,{parent:!0}).node;if(!p)throw new D.ErrnoError(44);var g=Gt.basename(v),w=D.mayCreate(p,g);if(w)throw new D.ErrnoError(w);if(!p.node_ops.symlink)throw new D.ErrnoError(63);return p.node_ops.symlink(p,g,h)},rename:(h,v)=>{var F,U,u=Gt.dirname(h),p=Gt.dirname(v),g=Gt.basename(h),w=Gt.basename(v);if(F=D.lookupPath(h,{parent:!0}).node,U=D.lookupPath(v,{parent:!0}).node,!F||!U)throw new D.ErrnoError(44);if(F.mount!==U.mount)throw new D.ErrnoError(75);var mt,ae=D.lookupNode(F,g),Ze=rr.relative(h,p);if("."!==Ze.charAt(0))throw new D.ErrnoError(28);if("."!==(Ze=rr.relative(v,u)).charAt(0))throw new D.ErrnoError(55);try{mt=D.lookupNode(U,w)}catch{}if(ae!==mt){var ut=D.isDir(ae.mode),ue=D.mayDelete(F,g,ut);if(ue)throw new D.ErrnoError(ue);if(ue=mt?D.mayDelete(U,w,ut):D.mayCreate(U,w))throw new D.ErrnoError(ue);if(!F.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(ae)||mt&&D.isMountpoint(mt))throw new D.ErrnoError(10);if(U!==F&&(ue=D.nodePermissions(F,"w")))throw new D.ErrnoError(ue);D.hashRemoveNode(ae);try{F.node_ops.rename(ae,U,w)}catch(dt){throw dt}finally{D.hashAddNode(ae)}}},rmdir:h=>{var u=D.lookupPath(h,{parent:!0}).node,p=Gt.basename(h),g=D.lookupNode(u,p),w=D.mayDelete(u,p,!0);if(w)throw new D.ErrnoError(w);if(!u.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(g))throw new D.ErrnoError(10);u.node_ops.rmdir(u,p),D.destroyNode(g)},readdir:h=>{var u=D.lookupPath(h,{follow:!0}).node;if(!u.node_ops.readdir)throw new D.ErrnoError(54);return u.node_ops.readdir(u)},unlink:h=>{var u=D.lookupPath(h,{parent:!0}).node;if(!u)throw new D.ErrnoError(44);var p=Gt.basename(h),g=D.lookupNode(u,p),w=D.mayDelete(u,p,!1);if(w)throw new D.ErrnoError(w);if(!u.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(g))throw new D.ErrnoError(10);u.node_ops.unlink(u,p),D.destroyNode(g)},readlink:h=>{var u=D.lookupPath(h).node;if(!u)throw new D.ErrnoError(44);if(!u.node_ops.readlink)throw new D.ErrnoError(28);return rr.resolve(D.getPath(u.parent),u.node_ops.readlink(u))},stat:(h,v)=>{var p=D.lookupPath(h,{follow:!v}).node;if(!p)throw new D.ErrnoError(44);if(!p.node_ops.getattr)throw new D.ErrnoError(63);return p.node_ops.getattr(p)},lstat:h=>D.stat(h,!0),chmod:(h,v,u)=>{var p;if(!(p="string"==typeof h?D.lookupPath(h,{follow:!u}).node:h).node_ops.setattr)throw new D.ErrnoError(63);p.node_ops.setattr(p,{mode:4095&v|-4096&p.mode,timestamp:Date.now()})},lchmod:(h,v)=>{D.chmod(h,v,!0)},fchmod:(h,v)=>{var u=D.getStream(h);if(!u)throw new D.ErrnoError(8);D.chmod(u.node,v)},chown:(h,v,u,p)=>{var g;if(!(g="string"==typeof h?D.lookupPath(h,{follow:!p}).node:h).node_ops.setattr)throw new D.ErrnoError(63);g.node_ops.setattr(g,{timestamp:Date.now()})},lchown:(h,v,u)=>{D.chown(h,v,u,!0)},fchown:(h,v,u)=>{var p=D.getStream(h);if(!p)throw new D.ErrnoError(8);D.chown(p.node,v,u)},truncate:(h,v)=>{if(v<0)throw new D.ErrnoError(28);var u;if(!(u="string"==typeof h?D.lookupPath(h,{follow:!0}).node:h).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(u.mode))throw new D.ErrnoError(31);if(!D.isFile(u.mode))throw new D.ErrnoError(28);var g=D.nodePermissions(u,"w");if(g)throw new D.ErrnoError(g);u.node_ops.setattr(u,{size:v,timestamp:Date.now()})},ftruncate:(h,v)=>{var u=D.getStream(h);if(!u)throw new D.ErrnoError(8);if(0==(2097155&u.flags))throw new D.ErrnoError(28);D.truncate(u.node,v)},utime:(h,v,u)=>{var g=D.lookupPath(h,{follow:!0}).node;g.node_ops.setattr(g,{timestamp:Math.max(v,u)})},open:(h,v,u)=>{if(""===h)throw new D.ErrnoError(44);var p;if(u=typeof u>"u"?438:u,u=64&(v="string"==typeof v?D.modeStringToFlags(v):v)?4095&u|32768:0,"object"==typeof h)p=h;else{h=Gt.normalize(h);try{p=D.lookupPath(h,{follow:!(131072&v)}).node}catch{}}var w=!1;if(64&v)if(p){if(128&v)throw new D.ErrnoError(20)}else p=D.mknod(h,u,0),w=!0;if(!p)throw new D.ErrnoError(44);if(D.isChrdev(p.mode)&&(v&=-513),65536&v&&!D.isDir(p.mode))throw new D.ErrnoError(54);if(!w){var E=D.mayOpen(p,v);if(E)throw new D.ErrnoError(E)}512&v&&!w&&D.truncate(p,0),v&=-131713;var F=D.createStream({node:p,path:D.getPath(p),flags:v,seekable:!0,position:0,stream_ops:p.stream_ops,ungotten:[],error:!1});return F.stream_ops.open&&F.stream_ops.open(F),d.logReadFiles&&!(1&v)&&(D.readFiles||(D.readFiles={}),h in D.readFiles||(D.readFiles[h]=1)),F},close:h=>{if(D.isClosed(h))throw new D.ErrnoError(8);h.getdents&&(h.getdents=null);try{h.stream_ops.close&&h.stream_ops.close(h)}catch(v){throw v}finally{D.closeStream(h.fd)}h.fd=null},isClosed:h=>null===h.fd,llseek:(h,v,u)=>{if(D.isClosed(h))throw new D.ErrnoError(8);if(!h.seekable||!h.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=u&&1!=u&&2!=u)throw new D.ErrnoError(28);return h.position=h.stream_ops.llseek(h,v,u),h.ungotten=[],h.position},read:(h,v,u,p,g)=>{if(p<0||g<0)throw new D.ErrnoError(28);if(D.isClosed(h))throw new D.ErrnoError(8);if(1==(2097155&h.flags))throw new D.ErrnoError(8);if(D.isDir(h.node.mode))throw new D.ErrnoError(31);if(!h.stream_ops.read)throw new D.ErrnoError(28);var w=typeof g<"u";if(w){if(!h.seekable)throw new D.ErrnoError(70)}else g=h.position;var E=h.stream_ops.read(h,v,u,p,g);return w||(h.position+=E),E},write:(h,v,u,p,g,w)=>{if(p<0||g<0)throw new D.ErrnoError(28);if(D.isClosed(h))throw new D.ErrnoError(8);if(0==(2097155&h.flags))throw new D.ErrnoError(8);if(D.isDir(h.node.mode))throw new D.ErrnoError(31);if(!h.stream_ops.write)throw new D.ErrnoError(28);h.seekable&&1024&h.flags&&D.llseek(h,0,2);var E=typeof g<"u";if(E){if(!h.seekable)throw new D.ErrnoError(70)}else g=h.position;var F=h.stream_ops.write(h,v,u,p,g,w);return E||(h.position+=F),F},allocate:(h,v,u)=>{if(D.isClosed(h))throw new D.ErrnoError(8);if(v<0||u<=0)throw new D.ErrnoError(28);if(0==(2097155&h.flags))throw new D.ErrnoError(8);if(!D.isFile(h.node.mode)&&!D.isDir(h.node.mode))throw new D.ErrnoError(43);if(!h.stream_ops.allocate)throw new D.ErrnoError(138);h.stream_ops.allocate(h,v,u)},mmap:(h,v,u,p,g)=>{if(0!=(2&p)&&0==(2&g)&&2!=(2097155&h.flags))throw new D.ErrnoError(2);if(1==(2097155&h.flags))throw new D.ErrnoError(2);if(!h.stream_ops.mmap)throw new D.ErrnoError(43);return h.stream_ops.mmap(h,v,u,p,g)},msync:(h,v,u,p,g)=>h.stream_ops.msync?h.stream_ops.msync(h,v,u,p,g):0,munmap:h=>0,ioctl:(h,v,u)=>{if(!h.stream_ops.ioctl)throw new D.ErrnoError(59);return h.stream_ops.ioctl(h,v,u)},readFile:(h,v={})=>{if(v.flags=v.flags||0,v.encoding=v.encoding||"binary","utf8"!==v.encoding&&"binary"!==v.encoding)throw new Error('Invalid encoding type "'+v.encoding+'"');var u,p=D.open(h,v.flags),w=D.stat(h).size,E=new Uint8Array(w);return D.read(p,E,0,w,0),"utf8"===v.encoding?u=$e(E,0):"binary"===v.encoding&&(u=E),D.close(p),u},writeFile:(h,v,u={})=>{u.flags=u.flags||577;var p=D.open(h,u.flags,u.mode);if("string"==typeof v){var g=new Uint8Array(K(v)+1),w=Ie(v,g,0,g.length);D.write(p,g,0,w,void 0,u.canOwn)}else{if(!ArrayBuffer.isView(v))throw new Error("Unsupported data type");D.write(p,v,0,v.byteLength,void 0,u.canOwn)}D.close(p)},cwd:()=>D.currentPath,chdir:h=>{var v=D.lookupPath(h,{follow:!0});if(null===v.node)throw new D.ErrnoError(44);if(!D.isDir(v.node.mode))throw new D.ErrnoError(54);var u=D.nodePermissions(v.node,"x");if(u)throw new D.ErrnoError(u);D.currentPath=v.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(v,u,p,g,w)=>g}),D.mkdev("/dev/null",D.makedev(1,3)),no.register(D.makedev(5,0),no.default_tty_ops),no.register(D.makedev(6,0),no.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var h=function eo(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var h=new Uint8Array(1);return()=>(crypto.getRandomValues(h),h[0])}return()=>Xn("randomDevice")}();D.createDevice("/dev","random",h),D.createDevice("/dev","urandom",h),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var h=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var v=D.createNode(h,"fd",16895,73);return v.node_ops={lookup:(u,p)=>{var w=D.getStream(+p);if(!w)throw new D.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>w.path}};return E.parent=E,E}},v}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?D.createDevice("/dev","stdin",d.stdin):D.symlink("/dev/tty","/dev/stdin"),d.stdout?D.createDevice("/dev","stdout",null,d.stdout):D.symlink("/dev/tty","/dev/stdout"),d.stderr?D.createDevice("/dev","stderr",null,d.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(v,u){this.node=u,this.setErrno=function(p){this.errno=p},this.setErrno(v),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(h=>{D.genericErrors[h]=new D.ErrnoError(h),D.genericErrors[h].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(qt,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:qt}},init:(h,v,u)=>{D.init.initialized=!0,D.ensureErrnoError(),d.stdin=h||d.stdin,d.stdout=v||d.stdout,d.stderr=u||d.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var h=0;h<D.streams.length;h++){var v=D.streams[h];!v||D.close(v)}},getMode:(h,v)=>{var u=0;return h&&(u|=365),v&&(u|=146),u},findObject:(h,v)=>{var u=D.analyzePath(h,v);return u.exists?u.object:null},analyzePath:(h,v)=>{try{h=(u=D.lookupPath(h,{follow:!v})).path}catch{}var p={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=D.lookupPath(h,{parent:!0});p.parentExists=!0,p.parentPath=u.path,p.parentObject=u.node,p.name=Gt.basename(h),u=D.lookupPath(h,{follow:!v}),p.exists=!0,p.path=u.path,p.object=u.node,p.name=u.node.name,p.isRoot="/"===u.path}catch(g){p.error=g.errno}return p},createPath:(h,v,u,p)=>{h="string"==typeof h?h:D.getPath(h);for(var g=v.split("/").reverse();g.length;){var w=g.pop();if(w){var E=Gt.join2(h,w);try{D.mkdir(E)}catch{}h=E}}return E},createFile:(h,v,u,p,g)=>{var w=Gt.join2("string"==typeof h?h:D.getPath(h),v),E=D.getMode(p,g);return D.create(w,E)},createDataFile:(h,v,u,p,g,w)=>{var E=v;h&&(h="string"==typeof h?h:D.getPath(h),E=v?Gt.join2(h,v):h);var F=D.getMode(p,g),U=D.create(E,F);if(u){if("string"==typeof u){for(var ae=new Array(u.length),Ze=0,mt=u.length;Ze<mt;++Ze)ae[Ze]=u.charCodeAt(Ze);u=ae}D.chmod(U,146|F);var ut=D.open(U,577);D.write(ut,u,0,u.length,0,w),D.close(ut),D.chmod(U,F)}return U},createDevice:(h,v,u,p)=>{var g=Gt.join2("string"==typeof h?h:D.getPath(h),v),w=D.getMode(!!u,!!p);D.createDevice.major||(D.createDevice.major=64);var E=D.makedev(D.createDevice.major++,0);return D.registerDevice(E,{open:F=>{F.seekable=!1},close:F=>{p&&p.buffer&&p.buffer.length&&p(10)},read:(F,U,ae,Ze,mt)=>{for(var ut=0,ue=0;ue<Ze;ue++){var dt;try{dt=u()}catch{throw new D.ErrnoError(29)}if(void 0===dt&&0===ut)throw new D.ErrnoError(6);if(null==dt)break;ut++,U[ae+ue]=dt}return ut&&(F.node.timestamp=Date.now()),ut},write:(F,U,ae,Ze,mt)=>{for(var ut=0;ut<Ze;ut++)try{p(U[ae+ut])}catch{throw new D.ErrnoError(29)}return Ze&&(F.node.timestamp=Date.now()),ut}}),D.mkdev(g,w,E)},forceLoadFile:h=>{if(h.isDevice||h.isFolder||h.link||h.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{h.contents=to(V(h.url),!0),h.usedBytes=h.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(h,v,u,p,g)=>{function w(){this.lengthKnown=!1,this.chunks=[]}if(w.prototype.get=function(ue){if(!(ue>this.length-1||ue<0)){var dt=ue%this.chunkSize;return this.getter(ue/this.chunkSize|0)[dt]}},w.prototype.setDataGetter=function(ue){this.getter=ue},w.prototype.cacheLength=function(){var ue=new XMLHttpRequest;if(ue.open("HEAD",u,!1),ue.send(null),!(ue.status>=200&&ue.status<300||304===ue.status))throw new Error("Couldn't load "+u+". Status: "+ue.status);var _t,dt=Number(ue.getResponseHeader("Content-length")),tn=(_t=ue.getResponseHeader("Accept-Ranges"))&&"bytes"===_t,xn=(_t=ue.getResponseHeader("Content-Encoding"))&&"gzip"===_t,qe=1048576;tn||(qe=dt);var Je=this;Je.setDataGetter(Ve=>{var sn=Ve*qe,At=(Ve+1)*qe-1;if(At=Math.min(At,dt-1),typeof Je.chunks[Ve]>"u"&&(Je.chunks[Ve]=((Ve,sn)=>{if(Ve>sn)throw new Error("invalid range ("+Ve+", "+sn+") or no bytes requested!");if(sn>dt-1)throw new Error("only "+dt+" bytes available! programmer error!");var At=new XMLHttpRequest;if(At.open("GET",u,!1),dt!==qe&&At.setRequestHeader("Range","bytes="+Ve+"-"+sn),At.responseType="arraybuffer",At.overrideMimeType&&At.overrideMimeType("text/plain; charset=x-user-defined"),At.send(null),!(At.status>=200&&At.status<300||304===At.status))throw new Error("Couldn't load "+u+". Status: "+At.status);return void 0!==At.response?new Uint8Array(At.response||[]):to(At.responseText||"",!0)})(sn,At)),typeof Je.chunks[Ve]>"u")throw new Error("doXHR failed!");return Je.chunks[Ve]}),(xn||!dt)&&(qe=dt=1,dt=this.getter(0).length,qe=dt,me("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=dt,this._chunkSize=qe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new w;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var F={isDevice:!1,contents:E}}else F={isDevice:!1,url:u};var U=D.createFile(h,v,F,p,g);F.contents?U.contents=F.contents:F.url&&(U.contents=null,U.url=F.url),Object.defineProperties(U,{usedBytes:{get:function(){return this.contents.length}}});var ae={};function mt(ut,ue,dt,_t,tn){var xn=ut.node.contents;if(tn>=xn.length)return 0;var qe=Math.min(xn.length-tn,_t);if(xn.slice)for(var kt=0;kt<qe;kt++)ue[dt+kt]=xn[tn+kt];else for(kt=0;kt<qe;kt++)ue[dt+kt]=xn.get(tn+kt);return qe}return Object.keys(U.stream_ops).forEach(ut=>{var ue=U.stream_ops[ut];ae[ut]=function(){return D.forceLoadFile(U),ue.apply(null,arguments)}}),ae.read=(ut,ue,dt,_t,tn)=>(D.forceLoadFile(U),mt(ut,ue,dt,_t,tn)),ae.mmap=(ut,ue,dt,_t,tn)=>{D.forceLoadFile(U);var xn=Go();if(!xn)throw new D.ErrnoError(48);return mt(ut,We,xn,ue,dt),{ptr:xn,allocated:!0}},U.stream_ops=ae,U},createPreloadedFile:(h,v,u,p,g,w,E,F,U,ae)=>{var Ze=v?rr.resolve(Gt.join2(h,v)):h;function ut(ue){function dt(_t){ae&&ae(),F||D.createDataFile(h,v,_t,p,g,U),w&&w(),sr()}Browser.handledByPreloadPlugin(ue,Ze,dt,()=>{E&&E(),sr()})||dt(ue)}mo(),"string"==typeof u?function yo(h,v,u,p){var g=p?"":"al "+h;ke(h,w=>{be(w,'Loading data file "'+h+'" failed (no arrayBuffer).'),v(new Uint8Array(w)),g&&sr()},w=>{if(!u)throw'Loading data file "'+h+'" failed.';u()}),g&&mo()}(u,ue=>ut(ue),E):ut(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(h,v,u)=>{v=v||(()=>{}),u=u||(()=>{});var p=D.indexedDB();try{var g=p.open(D.DB_NAME(),D.DB_VERSION)}catch(w){return u(w)}g.onupgradeneeded=()=>{me("creating db"),g.result.createObjectStore(D.DB_STORE_NAME)},g.onsuccess=()=>{var E=g.result.transaction([D.DB_STORE_NAME],"readwrite"),F=E.objectStore(D.DB_STORE_NAME),U=0,ae=0,Ze=h.length;function mt(){0==ae?v():u()}h.forEach(ut=>{var ue=F.put(D.analyzePath(ut).object.contents,ut);ue.onsuccess=()=>{++U+ae==Ze&&mt()},ue.onerror=()=>{ae++,U+ae==Ze&&mt()}}),E.onerror=u},g.onerror=u},loadFilesFromDB:(h,v,u)=>{v=v||(()=>{}),u=u||(()=>{});var p=D.indexedDB();try{var g=p.open(D.DB_NAME(),D.DB_VERSION)}catch(w){return u(w)}g.onupgradeneeded=u,g.onsuccess=()=>{var w=g.result;try{var E=w.transaction([D.DB_STORE_NAME],"readonly")}catch(ut){return void u(ut)}var F=E.objectStore(D.DB_STORE_NAME),U=0,ae=0,Ze=h.length;function mt(){0==ae?v():u()}h.forEach(ut=>{var ue=F.get(ut);ue.onsuccess=()=>{D.analyzePath(ut).exists&&D.unlink(ut),D.createDataFile(Gt.dirname(ut),Gt.basename(ut),ue.result,!0,!0,!0),++U+ae==Ze&&mt()},ue.onerror=()=>{ae++,U+ae==Ze&&mt()}}),E.onerror=u},g.onerror=u}},Zr={DEFAULT_POLLMASK:5,calculateAt:function(h,v,u){if(Gt.isAbs(v))return v;var p;if(p=-100===h?D.cwd():Zr.getStreamFromFD(h).path,0==v.length){if(!u)throw new D.ErrnoError(44);return p}return Gt.join2(p,v)},doStat:function(h,v,u){try{var p=h(v)}catch(g){if(g&&g.node&&Gt.normalize(v)!==Gt.normalize(D.getPath(g.node)))return-54;throw g}return L[u>>2]=p.dev,L[u+8>>2]=p.ino,L[u+12>>2]=p.mode,B[u+16>>2]=p.nlink,L[u+20>>2]=p.uid,L[u+24>>2]=p.gid,L[u+28>>2]=p.rdev,re=[p.size>>>0,(et=p.size,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[u+40>>2]=re[0],L[u+44>>2]=re[1],L[u+48>>2]=4096,L[u+52>>2]=p.blocks,re=[Math.floor(p.atime.getTime()/1e3)>>>0,(et=Math.floor(p.atime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[u+56>>2]=re[0],L[u+60>>2]=re[1],B[u+64>>2]=0,re=[Math.floor(p.mtime.getTime()/1e3)>>>0,(et=Math.floor(p.mtime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[u+72>>2]=re[0],L[u+76>>2]=re[1],B[u+80>>2]=0,re=[Math.floor(p.ctime.getTime()/1e3)>>>0,(et=Math.floor(p.ctime.getTime()/1e3),+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[u+88>>2]=re[0],L[u+92>>2]=re[1],B[u+96>>2]=0,re=[p.ino>>>0,(et=p.ino,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[u+104>>2]=re[0],L[u+108>>2]=re[1],0},doMsync:function(h,v,u,p,g){if(!D.isFile(v.node.mode))throw new D.ErrnoError(43);if(2&p)return 0;var w=at.slice(h,h+u);D.msync(v,w,g,u,p)},varargs:void 0,get:function(){return Zr.varargs+=4,L[Zr.varargs-4>>2]},getStr:function(h){return Oe(h)},getStreamFromFD:function(h){var v=D.getStream(h);if(!v)throw new D.ErrnoError(8);return v}},Wo=[31,29,31,30,31,30,31,31,30,31,30,31],vi=[31,28,31,30,31,30,31,31,30,31,30,31];var N=function(h,v,u,p){h||(h=this),this.parent=h,this.mount=h.mount,this.mounted=null,this.id=D.nextInode++,this.name=v,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=p};Object.defineProperties(N.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(h){h?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=N,D.staticInit();var Cs,P={h:function Kn(h,v){var u=new Date(1e3*function wn(h){return B[h>>2]+4294967296*L[h+4>>2]}(h));L[v>>2]=u.getSeconds(),L[v+4>>2]=u.getMinutes(),L[v+8>>2]=u.getHours(),L[v+12>>2]=u.getDate(),L[v+16>>2]=u.getMonth(),L[v+20>>2]=u.getFullYear()-1900,L[v+24>>2]=u.getDay();var p=0|Yt(u);L[v+28>>2]=p,L[v+36>>2]=-60*u.getTimezoneOffset();var g=new Date(u.getFullYear(),0,1),w=new Date(u.getFullYear(),6,1).getTimezoneOffset(),E=g.getTimezoneOffset(),F=0|(w!=E&&u.getTimezoneOffset()==Math.min(E,w));L[v+32>>2]=F},i:function ar(h){var v=new Date(L[h+20>>2]+1900,L[h+16>>2],L[h+12>>2],L[h+8>>2],L[h+4>>2],L[h>>2],0),u=L[h+32>>2],p=v.getTimezoneOffset(),g=new Date(v.getFullYear(),0,1),w=new Date(v.getFullYear(),6,1).getTimezoneOffset(),E=g.getTimezoneOffset(),F=Math.min(E,w);if(u<0)L[h+32>>2]=Number(w!=E&&F==p);else if(u>0!=(F==p)){var U=Math.max(E,w),ae=u>0?F:U;v.setTime(v.getTime()+6e4*(ae-p))}L[h+24>>2]=v.getDay();var Ze=0|Yt(v);return L[h+28>>2]=Ze,L[h>>2]=v.getSeconds(),L[h+4>>2]=v.getMinutes(),L[h+8>>2]=v.getHours(),L[h+12>>2]=v.getDate(),L[h+16>>2]=v.getMonth(),L[h+20>>2]=v.getYear(),v.getTime()/1e3|0},n:function nr(h,v,u){var p=(new Date).getFullYear(),g=new Date(p,0,1),w=new Date(p,6,1),E=g.getTimezoneOffset(),F=w.getTimezoneOffset(),U=Math.max(E,F);function ae(dt){var _t=dt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return _t?_t[1]:"GMT"}B[h>>2]=60*U,L[v>>2]=Number(E!=F);var Ze=ae(g),mt=ae(w),ut=Vt(Ze),ue=Vt(mt);F<E?(B[u>>2]=ut,B[u+4>>2]=ue):(B[u>>2]=ue,B[u+4>>2]=ut)},a:function S(){Xn("")},g:function Mt(){return Date.now()},f:function hr(h,v,u){at.copyWithin(h,v,v+u)},e:function ao(h){var U,v=at.length,u=2147483648;if((h>>>=0)>u)return!1;for(var g=1;g<=4;g*=2){var w=v*(1+.2/g);if(w=Math.min(w,h+100663296),Pr(Math.min(u,(U=Math.max(h,w))+(65536-U%65536)%65536)))return!0}return!1},l:function Br(h,v){var u=0;return vr().forEach(function(p,g){var w=v+u;B[h+4*g>>2]=w,function Io(h,v,u){for(var p=0;p<h.length;++p)We[v++>>0]=h.charCodeAt(p);u||(We[v>>0]=0)}(p,w),u+=p.length+1}),0},m:function si(h,v){var u=vr();B[h>>2]=u.length;var p=0;return u.forEach(function(g){p+=g.length+1}),B[v>>2]=p,0},b:function ai(h){try{var v=Zr.getStreamFromFD(h);return D.close(v),0}catch(u){if(typeof D>"u"||!(u instanceof D.ErrnoError))throw u;return u.errno}},d:function Mo(h,v,u,p){try{var w=function Fo(h,v,u,p){for(var g=0,w=0;w<u;w++){var E=B[v>>2],F=B[v+4>>2];v+=8;var U=D.read(h,We,E,F,p);if(U<0)return-1;if(g+=U,U<F)break}return g}(Zr.getStreamFromFD(h),v,u);return B[p>>2]=w,0}catch(E){if(typeof D>"u"||!(E instanceof D.ErrnoError))throw E;return E.errno}},j:function Xi(h,v,u,p,g){try{var w=function Vr(h,v){return v+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*v:NaN}(v,u);if(isNaN(w))return 61;var E=Zr.getStreamFromFD(h);return D.llseek(E,w,p),re=[E.position>>>0,(et=E.position,+Math.abs(et)>=1?et>0?(0|Math.min(+Math.floor(et/4294967296),4294967295))>>>0:~~+Math.ceil((et-+(~~et>>>0))/4294967296)>>>0:0)],L[g>>2]=re[0],L[g+4>>2]=re[1],E.getdents&&0===w&&0===p&&(E.getdents=null),0}catch(F){if(typeof D>"u"||!(F instanceof D.ErrnoError))throw F;return F.errno}},c:function xi(h,v,u,p){try{var w=function zo(h,v,u,p){for(var g=0,w=0;w<u;w++){var E=B[v>>2],F=B[v+4>>2];v+=8;var U=D.write(h,We,E,F,p);if(U<0)return-1;g+=U}return g}(Zr.getStreamFromFD(h),v,u);return B[p>>2]=w,0}catch(E){if(typeof D>"u"||!(E instanceof D.ErrnoError))throw E;return E.errno}},k:function Vn(h,v,u,p,g){return function Zo(h,v,u,p){var g=L[p+40>>2],w={tm_sec:L[p>>2],tm_min:L[p+4>>2],tm_hour:L[p+8>>2],tm_mday:L[p+12>>2],tm_mon:L[p+16>>2],tm_year:L[p+20>>2],tm_wday:L[p+24>>2],tm_yday:L[p+28>>2],tm_isdst:L[p+32>>2],tm_gmtoff:L[p+36>>2],tm_zone:g?Oe(g):""},E=Oe(u),F={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var U in F)E=E.replace(new RegExp(U,"g"),F[U]);var ae=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ze=["January","February","March","April","May","June","July","August","September","October","November","December"];function mt(qe,kt,Je){for(var Ve="number"==typeof qe?qe.toString():qe||"";Ve.length<kt;)Ve=Je[0]+Ve;return Ve}function ut(qe,kt){return mt(qe,kt,"0")}function ue(qe,kt){function Je(sn){return sn<0?-1:sn>0?1:0}var Ve;return 0===(Ve=Je(qe.getFullYear()-kt.getFullYear()))&&0===(Ve=Je(qe.getMonth()-kt.getMonth()))&&(Ve=Je(qe.getDate()-kt.getDate())),Ve}function dt(qe){switch(qe.getDay()){case 0:return new Date(qe.getFullYear()-1,11,29);case 1:return qe;case 2:return new Date(qe.getFullYear(),0,3);case 3:return new Date(qe.getFullYear(),0,2);case 4:return new Date(qe.getFullYear(),0,1);case 5:return new Date(qe.getFullYear()-1,11,31);case 6:return new Date(qe.getFullYear()-1,11,30)}}function _t(qe){var kt=function qo(h,v){for(var u=new Date(h.getTime());v>0;){var p=Ot(u.getFullYear()),g=u.getMonth(),w=(p?Wo:vi)[g];if(!(v>w-u.getDate()))return u.setDate(u.getDate()+v),u;v-=w-u.getDate()+1,u.setDate(1),g<11?u.setMonth(g+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1))}return u}(new Date(qe.tm_year+1900,0,1),qe.tm_yday),Je=new Date(kt.getFullYear(),0,4),Ve=new Date(kt.getFullYear()+1,0,4),sn=dt(Je),At=dt(Ve);return ue(sn,kt)<=0?ue(At,kt)<=0?kt.getFullYear()+1:kt.getFullYear():kt.getFullYear()-1}var tn={"%a":function(qe){return ae[qe.tm_wday].substring(0,3)},"%A":function(qe){return ae[qe.tm_wday]},"%b":function(qe){return Ze[qe.tm_mon].substring(0,3)},"%B":function(qe){return Ze[qe.tm_mon]},"%C":function(qe){return ut((qe.tm_year+1900)/100|0,2)},"%d":function(qe){return ut(qe.tm_mday,2)},"%e":function(qe){return mt(qe.tm_mday,2," ")},"%g":function(qe){return _t(qe).toString().substring(2)},"%G":function(qe){return _t(qe)},"%H":function(qe){return ut(qe.tm_hour,2)},"%I":function(qe){var kt=qe.tm_hour;return 0==kt?kt=12:kt>12&&(kt-=12),ut(kt,2)},"%j":function(qe){return ut(qe.tm_mday+function Wn(h,v){for(var u=0,p=0;p<=v;u+=h[p++]);return u}(Ot(qe.tm_year+1900)?Wo:vi,qe.tm_mon-1),3)},"%m":function(qe){return ut(qe.tm_mon+1,2)},"%M":function(qe){return ut(qe.tm_min,2)},"%n":function(){return"\n"},"%p":function(qe){return qe.tm_hour>=0&&qe.tm_hour<12?"AM":"PM"},"%S":function(qe){return ut(qe.tm_sec,2)},"%t":function(){return"\t"},"%u":function(qe){return qe.tm_wday||7},"%U":function(qe){return ut(Math.floor((qe.tm_yday+7-qe.tm_wday)/7),2)},"%V":function(qe){var kt=Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7);if((qe.tm_wday+371-qe.tm_yday-2)%7<=2&&kt++,kt){if(53==kt){var Ve=(qe.tm_wday+371-qe.tm_yday)%7;4!=Ve&&(3!=Ve||!Ot(qe.tm_year))&&(kt=1)}}else{kt=52;var Je=(qe.tm_wday+7-qe.tm_yday-1)%7;(4==Je||5==Je&&Ot(qe.tm_year%400-1))&&kt++}return ut(kt,2)},"%w":function(qe){return qe.tm_wday},"%W":function(qe){return ut(Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7),2)},"%y":function(qe){return(qe.tm_year+1900).toString().substring(2)},"%Y":function(qe){return qe.tm_year+1900},"%z":function(qe){var kt=qe.tm_gmtoff,Je=kt>=0;return kt=(kt=Math.abs(kt)/60)/60*100+kt%60,(Je?"+":"-")+String("0000"+kt).slice(-4)},"%Z":function(qe){return qe.tm_zone},"%%":function(){return"%"}};for(var U in E=E.replace(/%%/g,"\0\0"),tn)E.includes(U)&&(E=E.replace(new RegExp(U,"g"),tn[U](w)));var xn=to(E=E.replace(/\0\0/g,"%"),!1);return xn.length>v?0:(function On(h,v){We.set(h,v)}(xn,h),xn.length-1)}(h,v,u,p)}},Pe=(function xr(){var h={a:P};function v(E,F){d.asm=E.exports,Me((ce=d.asm.o).buffer),function Jr(h){tt.unshift(h)}(d.asm.p),sr()}function u(E){v(E.instance)}function p(E){return function yi(){return le||!ge&&!q||"function"!=typeof fetch?Promise.resolve().then(function(){return qr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(h){if(!h.ok)throw"failed to load wasm binary file at '"+Sn+"'";return h.arrayBuffer()}).catch(function(){return qr(Sn)})}().then(function(F){return WebAssembly.instantiate(F,h)}).then(function(F){return F}).then(E,function(F){oe("failed to asynchronously prepare wasm: "+F),Xn(F)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(h,v)}catch(E){oe("Module.instantiateWasm callback failed with error: "+E),ee(E)}(function g(){return le||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?p(u):fetch(Sn,{credentials:"same-origin"}).then(function(E){return WebAssembly.instantiateStreaming(E,h).then(u,function(U){return oe("wasm streaming compile failed: "+U),oe("falling back to ArrayBuffer instantiation"),p(u)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.p).apply(null,arguments)},d._malloc=function(){return(Pe=d._malloc=d.asm.q).apply(null,arguments)}),Ye=d._emscripten_bind_VoidPtr___destroy___0=function(){return(Ye=d._emscripten_bind_VoidPtr___destroy___0=d.asm.r).apply(null,arguments)},Qe=d._emscripten_bind_Vfs_Vfs_0=function(){return(Qe=d._emscripten_bind_Vfs_Vfs_0=d.asm.s).apply(null,arguments)},Ct=d._emscripten_bind_Vfs_Malloc_1=function(){return(Ct=d._emscripten_bind_Vfs_Malloc_1=d.asm.t).apply(null,arguments)},zt=d._emscripten_bind_Vfs_Free_1=function(){return(zt=d._emscripten_bind_Vfs_Free_1=d.asm.u).apply(null,arguments)},Wt=d._emscripten_bind_Vfs_Nullptr_0=function(){return(Wt=d._emscripten_bind_Vfs_Nullptr_0=d.asm.v).apply(null,arguments)},Qn=d._emscripten_bind_Vfs_AllocateImage_1=function(){return(Qn=d._emscripten_bind_Vfs_AllocateImage_1=d.asm.w).apply(null,arguments)},co=d._emscripten_bind_Vfs_MountImage_1=function(){return(co=d._emscripten_bind_Vfs_MountImage_1=d.asm.x).apply(null,arguments)},Rr=d._emscripten_bind_Vfs_UnmountImage_1=function(){return(Rr=d._emscripten_bind_Vfs_UnmountImage_1=d.asm.y).apply(null,arguments)},mr=d._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(mr=d._emscripten_bind_Vfs_GetPendingImageSize_0=d.asm.z).apply(null,arguments)},Pi=d._emscripten_bind_Vfs_GetSize_1=function(){return(Pi=d._emscripten_bind_Vfs_GetSize_1=d.asm.A).apply(null,arguments)},Yo=d._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Yo=d._emscripten_bind_Vfs_GetPendingImage_0=d.asm.B).apply(null,arguments)},wi=d._emscripten_bind_Vfs_GetImage_1=function(){return(wi=d._emscripten_bind_Vfs_GetImage_1=d.asm.C).apply(null,arguments)},Ia=d._emscripten_bind_Vfs___destroy___0=function(){return(Ia=d._emscripten_bind_Vfs___destroy___0=d.asm.D).apply(null,arguments)},ws=d._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(ws=d._emscripten_bind_ReaddirContext_ReaddirContext_1=d.asm.E).apply(null,arguments)},Ma=d._emscripten_bind_ReaddirContext_Next_0=function(){return(Ma=d._emscripten_bind_ReaddirContext_Next_0=d.asm.F).apply(null,arguments)},bs=d._emscripten_bind_ReaddirContext_GetEntryName_0=function(){return(bs=d._emscripten_bind_ReaddirContext_GetEntryName_0=d.asm.G).apply(null,arguments)},ss=d._emscripten_bind_ReaddirContext_IsEntryDirectory_0=function(){return(ss=d._emscripten_bind_ReaddirContext_IsEntryDirectory_0=d.asm.H).apply(null,arguments)},Fr=d._emscripten_bind_ReaddirContext_GetEntrySize_0=function(){return(Fr=d._emscripten_bind_ReaddirContext_GetEntrySize_0=d.asm.I).apply(null,arguments)},Nn=d._emscripten_bind_ReaddirContext_GetEntryModifiedTS_0=function(){return(Nn=d._emscripten_bind_ReaddirContext_GetEntryModifiedTS_0=d.asm.J).apply(null,arguments)},al=d._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(al=d._emscripten_bind_ReaddirContext_GetStatus_0=d.asm.K).apply(null,arguments)},ka=d._emscripten_bind_ReaddirContext_GetError_0=function(){return(ka=d._emscripten_bind_ReaddirContext_GetError_0=d.asm.L).apply(null,arguments)},qs=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(qs=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=d.asm.M).apply(null,arguments)},ht=d._emscripten_bind_ReaddirContext___destroy___0=function(){return(ht=d._emscripten_bind_ReaddirContext___destroy___0=d.asm.N).apply(null,arguments)};function as(h){var v=d._main;try{var g=v(0,0);return function Qi(h,v){he=h,function _i(h){he=h,function en(){return xe}()||(d.onExit&&d.onExit(h),ze=!0),G(h,new Le(h))}(h)}(g),g}catch(w){return function T(h){if(h instanceof Le||"unwind"==h)return he;G(1,h)}(w)}}function Ss(h){function v(){Cs||(Cs=!0,d.calledRun=!0,!ze&&(function Wr(){!d.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,no.init(),un(tt)}(),function Dr(){un(Rt)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Ri&&as(),function Yn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)h=d.postRun.shift(),$t.unshift(h);var h;un($t)}()))}h=h||Y,Gn>0||(function pe(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)h=d.preRun.shift(),Xe.unshift(h);var h;un(Xe)}(),Gn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),v()},1)):v())}if(d._main=function(){return(d._main=d.asm.O).apply(null,arguments)},d.___original_main=function(){return(d.___original_main=d.asm.Q).apply(null,arguments)},d.___start_em_js=16104,d.___stop_em_js=16202,yr=function h(){Cs||Ss(),Cs||(yr=h)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Ri=!0;function Hr(){}function Ir(h){return(h||Hr).__cache__}function vo(h,v){var u=Ir(v),p=u[h];return p||((p=Object.create((v||Hr).prototype)).ptr=h,u[h]=p)}d.noInitialRun&&(Ri=!1),Ss(),(Hr.prototype=Object.create(Hr.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},d.WrapperObject=Hr,d.getCache=Ir,d.wrapPointer=vo,d.castObject=function Ht(h,v){return vo(h.ptr,v)},d.NULL=vo(0),d.destroy=function Es(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete Ir(h.__class__)[h.ptr]},d.compare=function Aa(h,v){return h.ptr===v.ptr},d.getPointer=function Oo(h){return h.ptr},d.getClass=function Ys(h){return h.__class__};var er={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(er.needed){for(var h=0;h<er.temps.length;h++)d._free(er.temps[h]);er.temps.length=0,d._free(er.buffer),er.buffer=0,er.size+=er.needed,er.needed=0}er.buffer||(er.size+=128,er.buffer=d._malloc(er.size),be(er.buffer)),er.pos=0},alloc:function(h,v){be(er.buffer);var g,p=h.length*v.BYTES_PER_ELEMENT;return er.pos+(p=p+7&-8)>=er.size?(be(p>0),er.needed+=p,g=d._malloc(p),er.temps.push(g)):(g=er.buffer+er.pos,er.pos+=p),g},copy:function(h,v,u){switch(u>>>=0,v.BYTES_PER_ELEMENT){case 2:u>>>=1;break;case 4:u>>>=2;break;case 8:u>>>=3}for(var g=0;g<h.length;g++)v[u+g]=h[g]}};function lr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function dn(){this.ptr=Qe(),Ir(dn)[this.ptr]=this}function yn(h){er.prepare(),h=h&&"object"==typeof h?h.ptr:function Rn(h){if("string"==typeof h){var v=to(h),u=er.alloc(v,We);return er.copy(v,We,u),u}return h}(h),this.ptr=ws(h),Ir(yn)[this.ptr]=this}return(lr.prototype=Object.create(Hr.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},d.VoidPtr=lr,lr.prototype.__destroy__=lr.prototype.__destroy__=function(){Ye(this.ptr)},(dn.prototype=Object.create(Hr.prototype)).constructor=dn,dn.prototype.__class__=dn,dn.__cache__={},d.Vfs=dn,dn.prototype.Malloc=dn.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),vo(Ct(this.ptr,h),lr)},dn.prototype.Free=dn.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),zt(this.ptr,h)},dn.prototype.Nullptr=dn.prototype.Nullptr=function(){return vo(Wt(this.ptr),lr)},dn.prototype.AllocateImage=dn.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),Qn(this.ptr,h)},dn.prototype.MountImage=dn.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!co(this.ptr,h)},dn.prototype.UnmountImage=dn.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),Rr(this.ptr,h)},dn.prototype.GetPendingImageSize=dn.prototype.GetPendingImageSize=function(){return mr(this.ptr)},dn.prototype.GetSize=dn.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),Pi(this.ptr,h)},dn.prototype.GetPendingImage=dn.prototype.GetPendingImage=function(){return vo(Yo(this.ptr),lr)},dn.prototype.GetImage=dn.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),vo(wi(this.ptr,h),lr)},dn.prototype.__destroy__=dn.prototype.__destroy__=function(){Ia(this.ptr)},(yn.prototype=Object.create(Hr.prototype)).constructor=yn,yn.prototype.__class__=yn,yn.__cache__={},d.ReaddirContext=yn,yn.prototype.Next=yn.prototype.Next=function(){return Ma(this.ptr)},yn.prototype.GetEntryName=yn.prototype.GetEntryName=function(){return Oe(bs(this.ptr))},yn.prototype.IsEntryDirectory=yn.prototype.IsEntryDirectory=function(){return!!ss(this.ptr)},yn.prototype.GetEntrySize=yn.prototype.GetEntrySize=function(){return Fr(this.ptr)},yn.prototype.GetEntryModifiedTS=yn.prototype.GetEntryModifiedTS=function(){return Nn(this.ptr)},yn.prototype.GetStatus=yn.prototype.GetStatus=function(){return al(this.ptr)},yn.prototype.GetError=yn.prototype.GetError=function(){return ka(this.ptr)},yn.prototype.GetErrorDescription=yn.prototype.GetErrorDescription=function(){return Oe(qs(this.ptr))},yn.prototype.__destroy__=yn.prototype.__destroy__=function(){ht(this.ptr)},k.ready});Fe.exports=je},2597:(Fe,je,R)=>{"use strict";R.d(je,{c:()=>ke});var k=R(9158);let d;const ee=X=>X.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=X=>{if(void 0===d){const me=void 0!==X.style.webkitAnimationName;d=void 0===X.style.animationName&&me?"-webkit-":""}return d},Y=(X,ye,me)=>{const oe=ye.startsWith("animation")?W(X):"";X.style.setProperty(oe+ye,me)},j=(X,ye)=>{const me=ye.startsWith("animation")?W(X):"";X.style.removeProperty(me+ye)},q=[],V=(X=[],ye)=>{if(void 0!==ye){const me=Array.isArray(ye)?ye:[ye];return[...X,...me]}return X},ke=X=>{let ye,me,oe,le,xe,ce,$e,Be,L,B,z,nt,Xe,ze=[],he=[],be=[],De=!1,Oe={},Ie=[],K=[],Ue={},We=0,at=!1,It=!1,fe=!0,Me=!1,Re=!0,tt=!1;const Rt=X,$t=[],An=[],en=[],pe=[],Wr=[],Dr=[],Yn=[],so=[],Jr=[],kr=[],Gn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,ir="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Gn,gi=()=>kr,$r=(P,Z)=>((Z?.oneTimeCallback?An:$t).push({c:P,o:Z}),Xe),qr=()=>{if(ir)kr.forEach(P=>{P.cancel()}),kr.length=0;else{const P=en.slice();(0,k.r)(()=>{P.forEach(Z=>{j(Z,"animation-name"),j(Z,"animation-duration"),j(Z,"animation-timing-function"),j(Z,"animation-iteration-count"),j(Z,"animation-delay"),j(Z,"animation-play-state"),j(Z,"animation-fill-mode"),j(Z,"animation-direction")})})}},yi=()=>{Wr.forEach(P=>{P?.parentNode&&P.parentNode.removeChild(P)}),Wr.length=0},Vt=()=>void 0!==xe?xe:$e?$e.getFill():"both",nr=()=>void 0!==L?L:void 0!==ce?ce:$e?$e.getDirection():"normal",S=()=>at?"linear":void 0!==oe?oe:$e?$e.getEasing():"linear",Mt=()=>It?0:void 0!==B?B:void 0!==me?me:$e?$e.getDuration():0,hr=()=>void 0!==le?le:$e?$e.getIterations():1,M=()=>void 0!==z?z:void 0!==ye?ye:$e?$e.getDelay():0,D=()=>{0!==We&&(We--,0===We&&((()=>{qo(),so.forEach(Ye=>Ye()),Jr.forEach(Ye=>Ye());const P=fe?1:0,Z=Ie,J=K,Pe=Ue;en.forEach(Ye=>{const Qe=Ye.classList;Z.forEach(Ct=>Qe.add(Ct)),J.forEach(Ct=>Qe.remove(Ct));for(const Ct in Pe)Pe.hasOwnProperty(Ct)&&Y(Ye,Ct,Pe[Ct])}),$t.forEach(Ye=>Ye.c(P,Xe)),An.forEach(Ye=>Ye.c(P,Xe)),An.length=0,Re=!0,fe&&(Me=!0),fe=!0})(),$e&&$e.animationFinish()))},Zr=(P=!0)=>{yi();const Z=(X=>(X.forEach(ye=>{for(const me in ye)if(ye.hasOwnProperty(me)){const oe=ye[me];if("easing"===me)ye["animation-timing-function"]=oe,delete ye[me];else{const le=ee(me);le!==me&&(ye[le]=oe,delete ye[me])}}}),X))(ze);en.forEach(J=>{if(Z.length>0){const Pe=((X=[])=>X.map(ye=>{const me=ye.offset,oe=[];for(const le in ye)ye.hasOwnProperty(le)&&"offset"!==le&&oe.push(`${le}: ${ye[le]};`);return`${100*me}% { ${oe.join(" ")} }`}).join(" "))(Z);nt=void 0!==X?X:(X=>{let ye=q.indexOf(X);return ye<0&&(ye=q.push(X)-1),`ion-animation-${ye}`})(Pe);const Ye=((X,ye,me)=>{const oe=(X=>{const ye=X.getRootNode();return ye.head||ye})(me),le=W(me),xe=oe.querySelector("#"+X);if(xe)return xe;const ce=(me.ownerDocument||document).createElement("style");return ce.id=X,ce.textContent=`@${le}keyframes ${X} { ${ye} } @${le}keyframes ${X}-alt { ${ye} }`,oe.appendChild(ce),ce})(nt,Pe,J);Wr.push(Ye),Y(J,"animation-duration",`${Mt()}ms`),Y(J,"animation-timing-function",S()),Y(J,"animation-delay",`${M()}ms`),Y(J,"animation-fill-mode",Vt()),Y(J,"animation-direction",nr());const Qe=hr()===1/0?"infinite":hr().toString();Y(J,"animation-iteration-count",Qe),Y(J,"animation-play-state","paused"),P&&Y(J,"animation-name",`${Ye.id}-alt`),(0,k.r)(()=>{Y(J,"animation-name",Ye.id||null)})}})},si=(P=!0)=>{(()=>{Dr.forEach(Pe=>Pe()),Yn.forEach(Pe=>Pe());const P=he,Z=be,J=Oe;en.forEach(Pe=>{const Ye=Pe.classList;P.forEach(Qe=>Ye.add(Qe)),Z.forEach(Qe=>Ye.remove(Qe));for(const Qe in J)J.hasOwnProperty(Qe)&&Y(Pe,Qe,J[Qe])})})(),ze.length>0&&(ir?(en.forEach(P=>{const Z=P.animate(ze,{id:Rt,delay:M(),duration:Mt(),easing:S(),iterations:hr(),fill:Vt(),direction:nr()});Z.pause(),kr.push(Z)}),kr.length>0&&(kr[0].onfinish=()=>{D()})):Zr(P)),De=!0},ai=P=>{if(P=Math.min(Math.max(P,0),.9999),ir)kr.forEach(Z=>{Z.currentTime=Z.effect.getComputedTiming().delay+Mt()*P,Z.pause()});else{const Z=`-${Mt()*P}ms`;en.forEach(J=>{ze.length>0&&(Y(J,"animation-delay",Z),Y(J,"animation-play-state","paused"))})}},Fo=P=>{kr.forEach(Z=>{Z.effect.updateTiming({delay:M(),duration:Mt(),easing:S(),iterations:hr(),fill:Vt(),direction:nr()})}),void 0!==P&&ai(P)},Mo=(P=!0,Z)=>{(0,k.r)(()=>{en.forEach(J=>{Y(J,"animation-name",nt||null),Y(J,"animation-duration",`${Mt()}ms`),Y(J,"animation-timing-function",S()),Y(J,"animation-delay",void 0!==Z?`-${Z*Mt()}ms`:`${M()}ms`),Y(J,"animation-fill-mode",Vt()||null),Y(J,"animation-direction",nr()||null);const Pe=hr()===1/0?"infinite":hr().toString();Y(J,"animation-iteration-count",Pe),P&&Y(J,"animation-name",`${nt}-alt`),(0,k.r)(()=>{Y(J,"animation-name",nt||null)})})})},Vr=(P=!1,Z=!0,J)=>(P&&pe.forEach(Pe=>{Pe.update(P,Z,J)}),ir?Fo(J):Mo(Z,J),Xe),Wn=()=>{De&&(ir?kr.forEach(P=>{P.pause()}):en.forEach(P=>{Y(P,"animation-play-state","paused")}),tt=!0)},vi=()=>{Be=void 0,D()},qo=()=>{Be&&clearTimeout(Be)},Qi=P=>new Promise(Z=>{P?.sync&&(It=!0,$r(()=>It=!1,{oneTimeCallback:!0})),De||si(),Me&&(ir?(ai(0),Fo()):Mo(),Me=!1),Re&&(We=pe.length+1,Re=!1),$r(()=>Z(),{oneTimeCallback:!0}),pe.forEach(J=>{J.play()}),ir?(kr.forEach(P=>{P.play()}),(0===ze.length||0===en.length)&&D()):(()=>{if(qo(),(0,k.r)(()=>{en.forEach(P=>{ze.length>0&&Y(P,"animation-play-state","running")})}),0===ze.length||0===en.length)D();else{const P=M()||0,Z=Mt()||0,J=hr()||1;isFinite(J)&&(Be=setTimeout(vi,P+Z*J+100)),((X,ye)=>{let me;const oe={passive:!0},xe=ce=>{X===ce.target&&(me&&me(),qo(),(0,k.r)(()=>{en.forEach(P=>{j(P,"animation-duration"),j(P,"animation-delay"),j(P,"animation-play-state")}),(0,k.r)(D)}))};X&&(X.addEventListener("webkitAnimationEnd",xe,oe),X.addEventListener("animationend",xe,oe),me=()=>{X.removeEventListener("webkitAnimationEnd",xe,oe),X.removeEventListener("animationend",xe,oe)})})(en[0])}})(),tt=!1}),N=(P,Z)=>{const J=ze[0];return void 0===J||void 0!==J.offset&&0!==J.offset?ze=[{offset:0,[P]:Z},...ze]:J[P]=Z,Xe};return Xe={parentAnimation:$e,elements:en,childAnimations:pe,id:Rt,animationFinish:D,from:N,to:(P,Z)=>{const J=ze[ze.length-1];return void 0===J||void 0!==J.offset&&1!==J.offset?ze=[...ze,{offset:1,[P]:Z}]:J[P]=Z,Xe},fromTo:(P,Z,J)=>N(P,Z).to(P,J),parent:P=>($e=P,Xe),play:Qi,pause:()=>(pe.forEach(P=>{P.pause()}),Wn(),Xe),stop:()=>{pe.forEach(P=>{P.stop()}),De&&(qr(),De=!1),at=!1,It=!1,Re=!0,L=void 0,B=void 0,z=void 0,We=0,Me=!1,fe=!0,tt=!1},destroy:P=>(pe.forEach(Z=>{Z.destroy(P)}),(P=>{qr(),P&&yi()})(P),en.length=0,pe.length=0,ze.length=0,$t.length=0,An.length=0,De=!1,Re=!0,Xe),keyframes:P=>{const Z=ze!==P;return ze=P,Z&&(P=>{ir?gi().forEach(Z=>{if(Z.effect.setKeyframes)Z.effect.setKeyframes(P);else{const J=new KeyframeEffect(Z.effect.target,P,Z.effect.getTiming());Z.effect=J}}):Zr()})(ze),Xe},addAnimation:P=>{if(null!=P)if(Array.isArray(P))for(const Z of P)Z.parent(Xe),pe.push(Z);else P.parent(Xe),pe.push(P);return Xe},addElement:P=>{if(null!=P)if(1===P.nodeType)en.push(P);else if(P.length>=0)for(let Z=0;Z<P.length;Z++)en.push(P[Z]);else console.error("Invalid addElement value");return Xe},update:Vr,fill:P=>(xe=P,Vr(!0),Xe),direction:P=>(ce=P,Vr(!0),Xe),iterations:P=>(le=P,Vr(!0),Xe),duration:P=>(!ir&&0===P&&(P=1),me=P,Vr(!0),Xe),easing:P=>(oe=P,Vr(!0),Xe),delay:P=>(ye=P,Vr(!0),Xe),getWebAnimations:gi,getKeyframes:()=>ze,getFill:Vt,getDirection:nr,getDelay:M,getIterations:hr,getEasing:S,getDuration:Mt,afterAddRead:P=>(so.push(P),Xe),afterAddWrite:P=>(Jr.push(P),Xe),afterClearStyles:(P=[])=>{for(const Z of P)Ue[Z]="";return Xe},afterStyles:(P={})=>(Ue=P,Xe),afterRemoveClass:P=>(K=V(K,P),Xe),afterAddClass:P=>(Ie=V(Ie,P),Xe),beforeAddRead:P=>(Dr.push(P),Xe),beforeAddWrite:P=>(Yn.push(P),Xe),beforeClearStyles:(P=[])=>{for(const Z of P)Oe[Z]="";return Xe},beforeStyles:(P={})=>(Oe=P,Xe),beforeRemoveClass:P=>(be=V(be,P),Xe),beforeAddClass:P=>(he=V(he,P),Xe),onFinish:$r,isRunning:()=>0!==We&&!tt,progressStart:(P=!1,Z)=>(pe.forEach(J=>{J.progressStart(P,Z)}),Wn(),at=P,De||si(),Vr(!1,!0,Z),Xe),progressStep:P=>(pe.forEach(Z=>{Z.progressStep(P)}),ai(P),Xe),progressEnd:(P,Z,J)=>(at=!1,pe.forEach(Pe=>{Pe.progressEnd(P,Z,J)}),void 0!==J&&(B=J),Me=!1,fe=!0,0===P?(L="reverse"===nr()?"normal":"reverse","reverse"===L&&(fe=!1),ir?(Vr(),ai(1-Z)):(z=(1-Z)*Mt()*-1,Vr(!1,!1))):1===P&&(ir?(Vr(),ai(Z)):(z=Z*Mt()*-1,Vr(!1,!1))),void 0!==P&&($r(()=>{B=void 0,L=void 0,z=void 0},{oneTimeCallback:!0}),$e||Qi()),Xe)}}},607:(Fe,je,R)=>{"use strict";R.d(je,{G:()=>W});class d{constructor(j,G,ge,q,te){this.id=G,this.name=ge,this.disableScroll=te,this.priority=1e6*q+G,this.ctrl=j}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const j=this.ctrl.capture(this.name,this.id,this.priority);return j&&this.disableScroll&&this.ctrl.disableScroll(this.id),j}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ne{constructor(j,G,ge,q){this.id=G,this.disable=ge,this.disableScroll=q,this.ctrl=j}block(){if(this.ctrl){if(this.disable)for(const j of this.disable)this.ctrl.disableGesture(j,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const j of this.disable)this.ctrl.enableGesture(j,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ee="backdrop-no-scroll",W=new class k{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(j){return new d(this,this.newID(),j.name,j.priority||0,!!j.disableScroll)}createBlocker(j={}){return new ne(this,this.newID(),j.disable,!!j.disableScroll)}start(j,G,ge){return this.canStart(j)?(this.requestedStart.set(G,ge),!0):(this.requestedStart.delete(G),!1)}capture(j,G,ge){if(!this.start(j,G,ge))return!1;const q=this.requestedStart;let te=-1e4;if(q.forEach($=>{te=Math.max(te,$)}),te===ge){this.capturedId=G,q.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:j}});return document.dispatchEvent($),!0}return q.delete(G),!1}release(j){this.requestedStart.delete(j),this.capturedId===j&&(this.capturedId=void 0)}disableGesture(j,G){let ge=this.disabledGestures.get(j);void 0===ge&&(ge=new Set,this.disabledGestures.set(j,ge)),ge.add(G)}enableGesture(j,G){const ge=this.disabledGestures.get(j);void 0!==ge&&ge.delete(G)}disableScroll(j){this.disabledScroll.add(j),1===this.disabledScroll.size&&document.body.classList.add(ee)}enableScroll(j){this.disabledScroll.delete(j),0===this.disabledScroll.size&&document.body.classList.remove(ee)}canStart(j){return!(void 0!==this.capturedId||this.isDisabled(j))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(j){const G=this.disabledGestures.get(j);return!!(G&&G.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{MENU_BACK_BUTTON_PRIORITY:()=>W,OVERLAY_BACK_BUTTON_PRIORITY:()=>ee,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>ne});var k=R(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},ne=()=>{const Y=document;let j=!1;Y.addEventListener("backbutton",()=>{if(j)return;let G=0,ge=[];const q=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(O,V){ge.push({priority:O,handler:V,id:G++})}}});Y.dispatchEvent(q);const te=function(){var O=(0,k.Z)(function*(V){try{if(V?.handler){const ke=V.handler($);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return O.apply(this,arguments)}}(),$=()=>{if(ge.length>0){let O={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ge.forEach(V=>{V.priority>=O.priority&&(O=V)}),j=!0,ge=ge.filter(V=>V.id!==O.id),te(O).then(()=>j=!1)}};$()})},ee=100,W=99},9158:(Fe,je,R)=>{"use strict";R.d(je,{a:()=>j,b:()=>G,c:()=>ne,d:()=>V,e:()=>ke,f:()=>O,g:()=>ge,h:()=>xe,i:()=>Y,j:()=>ee,k:()=>$,l:()=>X,m:()=>te,n:()=>ye,o:()=>le,p:()=>oe,q:()=>ce,r:()=>q,s:()=>ze,t:()=>k,u:()=>me});const k=(he,be=0)=>new Promise(De=>{d(he,be,De)}),d=(he,be=0,De)=>{let $e,Oe;const Ie={passive:!0},Ue=()=>{$e&&$e()},We=at=>{(void 0===at||he===at.target)&&(Ue(),De(at))};return he&&(he.addEventListener("webkitTransitionEnd",We,Ie),he.addEventListener("transitionend",We,Ie),Oe=setTimeout(We,be+500),$e=()=>{Oe&&(clearTimeout(Oe),Oe=void 0),he.removeEventListener("webkitTransitionEnd",We,Ie),he.removeEventListener("transitionend",We,Ie)}),Ue},ne=(he,be)=>{he.componentOnReady?he.componentOnReady().then(De=>be(De)):q(()=>be(he))},ee=(he,be=[])=>{const De={};return be.forEach($e=>{he.hasAttribute($e)&&(null!==he.getAttribute($e)&&(De[$e]=he.getAttribute($e)),he.removeAttribute($e))}),De},W=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Y=he=>ee(he,W),j=(he,be,De,$e)=>{var Oe;if(typeof window<"u"){const K=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(K){const Ue=K.get("_ael");if(Ue)return Ue(he,be,De,$e);if(K._ael)return K._ael(he,be,De,$e)}}return he.addEventListener(be,De,$e)},G=(he,be,De,$e)=>{var Oe;if(typeof window<"u"){const K=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(K){const Ue=K.get("_rel");if(Ue)return Ue(he,be,De,$e);if(K._rel)return K._rel(he,be,De,$e)}}return he.removeEventListener(be,De,$e)},ge=(he,be=he)=>he.shadowRoot||be,q=he=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he),te=he=>!!he.shadowRoot&&!!he.attachShadow,$=he=>{const be=he.closest("ion-item");return be?be.querySelector("ion-label"):null},O=he=>{if(he.focus(),he.classList.contains("ion-focusable")){const be=he.closest("ion-app");be&&be.setFocus([he])}},V=(he,be)=>{let De;const $e=he.getAttribute("aria-labelledby"),Oe=he.id;let Ie=null!==$e&&""!==$e.trim()?$e:be+"-lbl",K=null!==$e&&""!==$e.trim()?document.getElementById($e):$(he);return K?(null===$e&&(K.id=Ie),De=K.textContent,K.setAttribute("aria-hidden","true")):""!==Oe.trim()&&(K=document.querySelector(`label[for="${Oe}"]`),K&&(""!==K.id?Ie=K.id:K.id=Ie=`${Oe}-lbl`,De=K.textContent)),{label:K,labelId:Ie,labelText:De}},ke=(he,be,De,$e,Oe)=>{if(he||te(be)){let Ie=be.querySelector("input.aux-input");Ie||(Ie=be.ownerDocument.createElement("input"),Ie.type="hidden",Ie.classList.add("aux-input"),be.appendChild(Ie)),Ie.disabled=Oe,Ie.name=De,Ie.value=$e||""}},X=(he,be,De)=>Math.max(he,Math.min(be,De)),ye=(he,be)=>{if(!he){const De="ASSERT: "+be;throw console.error(De),new Error(De)}},me=he=>he.timeStamp||Date.now(),oe=he=>{if(he){const be=he.changedTouches;if(be&&be.length>0){const De=be[0];return{x:De.clientX,y:De.clientY}}if(void 0!==he.pageX)return{x:he.pageX,y:he.pageY}}return{x:0,y:0}},le=he=>{const be="rtl"===document.dir;switch(he){case"start":return be;case"end":return!be;default:throw new Error(`"${he}" is not a valid value for [side]. Use "start" or "end" instead.`)}},xe=(he,be)=>{const De=he._original||he;return{_original:he,emit:ce(De.emit.bind(De),be)}},ce=(he,be=0)=>{let De;return(...$e)=>{clearTimeout(De),De=setTimeout(he,be,...$e)}},ze=(he,be)=>{if(he??(he={}),be??(be={}),he===be)return!0;const De=Object.keys(he);if(De.length!==Object.keys(be).length)return!1;for(const $e of De)if(!($e in be)||he[$e]!==be[$e])return!1;return!0}},2172:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{GESTURE_CONTROLLER:()=>k.G,createGesture:()=>ge});var k=R(607);const d=(O,V,ke,X)=>{const ye=ne(O)?{capture:!!X.capture,passive:!!X.passive}:!!X.capture;let me,oe;return O.__zone_symbol__addEventListener?(me="__zone_symbol__addEventListener",oe="__zone_symbol__removeEventListener"):(me="addEventListener",oe="removeEventListener"),O[me](V,ke,ye),()=>{O[oe](V,ke,ye)}},ne=O=>{if(void 0===ee)try{const V=Object.defineProperty({},"passive",{get:()=>{ee=!0}});O.addEventListener("optsTest",()=>{},V)}catch{ee=!1}return!!ee};let ee;const j=O=>O instanceof Document?O:O.ownerDocument,ge=O=>{let V=!1,ke=!1,X=!0,ye=!1;const me=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},O),oe=me.canStart,le=me.onWillStart,xe=me.onStart,ce=me.onEnd,ze=me.notCaptured,he=me.onMove,be=me.threshold,De=me.passive,$e=me.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ie=((O,V,ke)=>{const X=ke*(Math.PI/180),ye="x"===O,me=Math.cos(X),oe=V*V;let le=0,xe=0,ce=!1,ze=0;return{start(he,be){le=he,xe=be,ze=0,ce=!0},detect(he,be){if(!ce)return!1;const De=he-le,$e=be-xe,Oe=De*De+$e*$e;if(Oe<oe)return!1;const Ie=Math.sqrt(Oe),K=(ye?De:$e)/Ie;return ze=K>me?1:K<-me?-1:0,ce=!1,!0},isGesture:()=>0!==ze,getDirection:()=>ze}})(me.direction,me.threshold,me.maxAngle),K=k.G.createGesture({name:O.gestureName,priority:O.gesturePriority,disableScroll:O.disableScroll}),at=()=>{!V||(ye=!1,he&&he(Oe))},It=()=>!(K&&!K.capture()||(V=!0,X=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,le?le(Oe).then(L):L(),0)),L=()=>{$e&&(()=>{if(typeof document<"u"){const Re=document.activeElement;Re?.blur&&Re.blur()}})(),xe&&xe(Oe),X=!0},B=()=>{V=!1,ke=!1,ye=!1,X=!0,K.release()},z=Re=>{const nt=V,Xe=X;if(B(),Xe){if(q(Oe,Re),nt)return void(ce&&ce(Oe));ze&&ze(Oe)}},fe=((O,V,ke,X,ye)=>{let me,oe,le,xe,ce,ze,he,be=0;const De=Be=>{be=Date.now()+2e3,V(Be)&&(!oe&&ke&&(oe=d(O,"touchmove",ke,ye)),le||(le=d(Be.target,"touchend",Oe,ye)),xe||(xe=d(Be.target,"touchcancel",Oe,ye)))},$e=Be=>{be>Date.now()||!V(Be)||(!ze&&ke&&(ze=d(j(O),"mousemove",ke,ye)),he||(he=d(j(O),"mouseup",Ie,ye)))},Oe=Be=>{K(),X&&X(Be)},Ie=Be=>{Ue(),X&&X(Be)},K=()=>{oe&&oe(),le&&le(),xe&&xe(),oe=le=xe=void 0},Ue=()=>{ze&&ze(),he&&he(),ze=he=void 0},We=()=>{K(),Ue()},at=(Be=!0)=>{Be?(me||(me=d(O,"touchstart",De,ye)),ce||(ce=d(O,"mousedown",$e,ye))):(me&&me(),ce&&ce(),me=ce=void 0,We())};return{enable:at,stop:We,destroy:()=>{at(!1),X=ke=V=void 0}}})(me.el,Re=>{const nt=$(Re);return!(ke||!X||(te(Re,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=nt,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=Re,oe&&!1===oe(Oe))||(K.release(),!K.start()))&&(ke=!0,0===be?It():(Ie.start(Oe.startX,Oe.startY),!0))},Re=>{V?!ye&&X&&(ye=!0,q(Oe,Re),requestAnimationFrame(at)):(q(Oe,Re),Ie.detect(Oe.currentX,Oe.currentY)&&(!Ie.isGesture()||!It())&&Me())},z,{capture:!1,passive:De}),Me=()=>{B(),fe.stop(),ze&&ze(Oe)};return{enable(Re=!0){Re||(V&&z(void 0),B()),fe.enable(Re)},destroy(){K.destroy(),fe.destroy()}}},q=(O,V)=>{if(!V)return;const ke=O.currentX,X=O.currentY,ye=O.currentTime;te(V,O);const me=O.currentX,oe=O.currentY,xe=(O.currentTime=$(V))-ye;if(xe>0&&xe<100){const ze=(oe-X)/xe;O.velocityX=(me-ke)/xe*.7+.3*O.velocityX,O.velocityY=.7*ze+.3*O.velocityY}O.deltaX=me-O.startX,O.deltaY=oe-O.startY,O.event=V},te=(O,V)=>{let ke=0,X=0;if(O){const ye=O.changedTouches;if(ye&&ye.length>0){const me=ye[0];ke=me.clientX,X=me.clientY}else void 0!==O.pageX&&(ke=O.pageX,X=O.pageY)}V.currentX=ke,V.currentY=X},$=O=>O.timeStamp||Date.now()},4736:(Fe,je,R)=>{"use strict";R.d(je,{L:()=>ee,a:()=>W,b:()=>Y,c:()=>j,d:()=>G,e:()=>be,g:()=>Oe,l:()=>ze,s:()=>De,t:()=>te});var k=R(3918),d=R(9479),ne=R(9158);const ee="ionViewWillEnter",W="ionViewDidEnter",Y="ionViewWillLeave",j="ionViewDidLeave",G="ionViewWillUnload",te=Ie=>new Promise((K,Ue)=>{(0,d.c)(()=>{$(Ie),O(Ie).then(We=>{We.animation&&We.animation.destroy(),V(Ie),K(We)},We=>{V(Ie),Ue(We)})})}),$=Ie=>{const K=Ie.enteringEl,Ue=Ie.leavingEl;$e(K,Ue,Ie.direction),Ie.showGoBack?K.classList.add("can-go-back"):K.classList.remove("can-go-back"),De(K,!1),K.style.setProperty("pointer-events","none"),Ue&&(De(Ue,!1),Ue.style.setProperty("pointer-events","none"))},O=function(){var Ie=(0,k.Z)(function*(K){const Ue=yield ke(K);return Ue&&d.B.isBrowser?X(Ue,K):ye(K)});return function(Ue){return Ie.apply(this,arguments)}}(),V=Ie=>{const K=Ie.enteringEl,Ue=Ie.leavingEl;K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},ke=function(){var Ie=(0,k.Z)(function*(K){return K.leavingEl&&K.animated&&0!==K.duration?K.animationBuilder?K.animationBuilder:"ios"===K.mode?(yield Promise.resolve().then(R.bind(R,5794))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,932))).mdTransitionAnimation:void 0});return function(Ue){return Ie.apply(this,arguments)}}(),X=function(){var Ie=(0,k.Z)(function*(K,Ue){yield me(Ue,!0);const We=K(Ue.baseEl,Ue);xe(Ue.enteringEl,Ue.leavingEl);const at=yield le(We,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),at&&ce(Ue.enteringEl,Ue.leavingEl),{hasCompleted:at,animation:We}});return function(Ue,We){return Ie.apply(this,arguments)}}(),ye=function(){var Ie=(0,k.Z)(function*(K){const Ue=K.enteringEl,We=K.leavingEl;return yield me(K,!1),xe(Ue,We),ce(Ue,We),{hasCompleted:!0}});return function(Ue){return Ie.apply(this,arguments)}}(),me=function(){var Ie=(0,k.Z)(function*(K,Ue){const at=(void 0!==K.deepWait?K.deepWait:Ue)?[be(K.enteringEl),be(K.leavingEl)]:[he(K.enteringEl),he(K.leavingEl)];yield Promise.all(at),yield oe(K.viewIsReady,K.enteringEl)});return function(Ue,We){return Ie.apply(this,arguments)}}(),oe=function(){var Ie=(0,k.Z)(function*(K,Ue){K&&(yield K(Ue))});return function(Ue,We){return Ie.apply(this,arguments)}}(),le=(Ie,K)=>{const Ue=K.progressCallback,We=new Promise(at=>{Ie.onFinish(It=>at(1===It))});return Ue?(Ie.progressStart(!0),Ue(Ie)):Ie.play(),We},xe=(Ie,K)=>{ze(K,Y),ze(Ie,ee)},ce=(Ie,K)=>{ze(Ie,W),ze(K,j)},ze=(Ie,K)=>{if(Ie){const Ue=new CustomEvent(K,{bubbles:!1,cancelable:!1});Ie.dispatchEvent(Ue)}},he=Ie=>Ie?new Promise(K=>(0,ne.c)(Ie,K)):Promise.resolve(),be=function(){var Ie=(0,k.Z)(function*(K){const Ue=K;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(at=>(0,ne.r)(at)));yield Promise.all(Array.from(Ue.children).map(be))}});return function(Ue){return Ie.apply(this,arguments)}}(),De=(Ie,K)=>{K?(Ie.setAttribute("aria-hidden","true"),Ie.classList.add("ion-page-hidden")):(Ie.hidden=!1,Ie.removeAttribute("aria-hidden"),Ie.classList.remove("ion-page-hidden"))},$e=(Ie,K,Ue)=>{void 0!==Ie&&(Ie.style.zIndex="back"===Ue?"99":"101"),void 0!==K&&(K.style.zIndex="100")},Oe=Ie=>Ie.classList.contains("ion-page")?Ie:Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ie},9479:(Fe,je,R)=>{"use strict";R.d(je,{B:()=>Qi,H:()=>pe,a:()=>Me,b:()=>yo,c:()=>_i,e:()=>Ot,f:()=>Vn,g:()=>Re,h:()=>An,i:()=>wn,j:()=>S,k:()=>D,p:()=>X,r:()=>si,s:()=>V});var k=R(3918);let ne,ee,W,Y=!1,j=!1,G=!1,ge=!1,q=!1;const te=typeof window<"u"?window:{},$=te.document||{head:{}},O={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,N,se,Ce)=>T.addEventListener(N,se,Ce),rel:(T,N,se,Ce)=>T.removeEventListener(N,se,Ce),ce:(T,N)=>new CustomEvent(T,N)},V=T=>{Object.assign(O,T)},X=T=>Promise.resolve(T),ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),me=(T,N,se,Ce)=>{se&&se.map(([P,Z,J])=>{const Pe=le(T,P),Ye=oe(N,J),Qe=xe(P);O.ael(Pe,Z,Ye,Qe),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>O.rel(Pe,Z,Ye,Qe))})},oe=(T,N)=>se=>{try{256&T.$flags$?T.$lazyInstance$[N](se):(T.$queuedListeners$=T.$queuedListeners$||[]).push([N,se])}catch(Ce){Mo(Ce)}},le=(T,N)=>4&N?$:8&N?te:16&N?$.body:T,xe=T=>0!=(2&T),De="s-id",$e="sty-id",K="http://www.w3.org/1999/xlink",at=new WeakMap,It=(T,N,se)=>{let Ce=zo.get(T);ye&&se?(Ce=Ce||new CSSStyleSheet,Ce.replace(N)):Ce=N,zo.set(T,Ce)},Be=(T,N,se,Ce)=>{let P=B(N,se);const Z=zo.get(P);if(T=11===T.nodeType?T:$,Z)if("string"==typeof Z){let Pe,J=at.get(T=T.head||T);J||at.set(T,J=new Set),J.has(P)||(T.host&&(Pe=T.querySelector(`[${$e}="${P}"]`))?Pe.innerHTML=Z:(Pe=$.createElement("style"),Pe.innerHTML=Z,T.insertBefore(Pe,T.querySelector("link"))),J&&J.add(P))}else T.adoptedStyleSheets.includes(Z)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,Z]);return P},B=(T,N)=>"sc-"+(N&&32&T.$flags$?T.$tagName$+"-"+N:T.$tagName$),z=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Me=T=>xi.push(T),Re=T=>Br(T).$modeName$,nt={},$t=T=>"object"==(T=typeof T)||"function"===T,An=(T,N,...se)=>{let Ce=null,P=null,Z=null,J=!1,Pe=!1;const Ye=[],Qe=zt=>{for(let Wt=0;Wt<zt.length;Wt++)Ce=zt[Wt],Array.isArray(Ce)?Qe(Ce):null!=Ce&&"boolean"!=typeof Ce&&((J="function"!=typeof T&&!$t(Ce))&&(Ce=String(Ce)),J&&Pe?Ye[Ye.length-1].$text$+=Ce:Ye.push(J?en(null,Ce):Ce),Pe=J)};if(Qe(se),N){N.key&&(P=N.key),N.name&&(Z=N.name);{const zt=N.className||N.class;zt&&(N.class="object"!=typeof zt?zt:Object.keys(zt).filter(Wt=>zt[Wt]).join(" "))}}if("function"==typeof T)return T(null===N?{}:N,Ye,Dr);const Ct=en(T,null);return Ct.$attrs$=N,Ye.length>0&&(Ct.$children$=Ye),Ct.$key$=P,Ct.$name$=Z,Ct},en=(T,N)=>({$flags$:0,$tag$:T,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),pe={},Dr={forEach:(T,N)=>T.map(Yn).forEach(N),map:(T,N)=>T.map(Yn).map(N).map(so)},Yn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),so=T=>{if("function"==typeof T.vtag){const se=Object.assign({},T.vattrs);return T.vkey&&(se.key=T.vkey),T.vname&&(se.name=T.vname),An(T.vtag,se,...T.vchildren||[])}const N=en(T.vtag,T.vtext);return N.$attrs$=T.vattrs,N.$children$=T.vchildren,N.$key$=T.vkey,N.$name$=T.vname,N},Jr=(T,N,se,Ce,P,Z)=>{if(se!==Ce){let J=Fo(T,N),Pe=N.toLowerCase();if("class"===N){const Ye=T.classList,Qe=Gn(se),Ct=Gn(Ce);Ye.remove(...Qe.filter(zt=>zt&&!Ct.includes(zt))),Ye.add(...Ct.filter(zt=>zt&&!Qe.includes(zt)))}else if("style"===N){for(const Ye in se)(!Ce||null==Ce[Ye])&&(Ye.includes("-")?T.style.removeProperty(Ye):T.style[Ye]="");for(const Ye in Ce)(!se||Ce[Ye]!==se[Ye])&&(Ye.includes("-")?T.style.setProperty(Ye,Ce[Ye]):T.style[Ye]=Ce[Ye])}else if("key"!==N)if("ref"===N)Ce&&Ce(T);else if(J||"o"!==N[0]||"n"!==N[1]){const Ye=$t(Ce);if((J||Ye&&null!==Ce)&&!P)try{if(T.tagName.includes("-"))T[N]=Ce;else{const Ct=Ce??"";"list"===N?J=!1:(null==se||T[N]!=Ct)&&(T[N]=Ct)}}catch{}let Qe=!1;Pe!==(Pe=Pe.replace(/^xlink\:?/,""))&&(N=Pe,Qe=!0),null==Ce||!1===Ce?(!1!==Ce||""===T.getAttribute(N))&&(Qe?T.removeAttributeNS(K,N):T.removeAttribute(N)):(!J||4&Z||P)&&!Ye&&(Ce=!0===Ce?"":Ce,Qe?T.setAttributeNS(K,N,Ce):T.setAttribute(N,Ce))}else N="-"===N[2]?N.slice(3):Fo(te,Pe)?Pe.slice(2):Pe[2]+N.slice(3),se&&O.rel(T,N,se,!1),Ce&&O.ael(T,N,Ce,!1)}},kr=/\s/,Gn=T=>T?T.split(kr):[],ir=(T,N,se,Ce)=>{const P=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,Z=T&&T.$attrs$||nt,J=N.$attrs$||nt;for(Ce in Z)Ce in J||Jr(P,Ce,Z[Ce],void 0,se,N.$flags$);for(Ce in J)Jr(P,Ce,Z[Ce],J[Ce],se,N.$flags$)},yr=(T,N,se,Ce)=>{const P=N.$children$[se];let J,Pe,Ye,Z=0;if(Y||(G=!0,"slot"===P.$tag$&&(ne&&Ce.classList.add(ne+"-s"),P.$flags$|=P.$children$?2:1)),null!==P.$text$)J=P.$elm$=$.createTextNode(P.$text$);else if(1&P.$flags$)J=P.$elm$=$.createTextNode("");else{if(ge||(ge="svg"===P.$tag$),J=P.$elm$=$.createElementNS(ge?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&P.$flags$?"slot-fb":P.$tag$),ge&&"foreignObject"===P.$tag$&&(ge=!1),ir(null,P,ge),(T=>null!=T)(ne)&&J["s-si"]!==ne&&J.classList.add(J["s-si"]=ne),P.$children$)for(Z=0;Z<P.$children$.length;++Z)Pe=yr(T,P,Z,J),Pe&&J.appendChild(Pe);"svg"===P.$tag$?ge=!1:"foreignObject"===J.tagName&&(ge=!0)}return J["s-hn"]=W,3&P.$flags$&&(J["s-sr"]=!0,J["s-cr"]=ee,J["s-sn"]=P.$name$||"",Ye=T&&T.$children$&&T.$children$[se],Ye&&Ye.$tag$===P.$tag$&&T.$elm$&&gi(T.$elm$,!1)),J},gi=(T,N)=>{O.$flags$|=1;const se=T.childNodes;for(let Ce=se.length-1;Ce>=0;Ce--){const P=se[Ce];P["s-hn"]!==W&&P["s-ol"]&&(Sn(P).insertBefore(P,$r(P)),P["s-ol"].remove(),P["s-ol"]=void 0,G=!0),N&&gi(P,N)}O.$flags$&=-2},mo=(T,N,se,Ce,P,Z)=>{let Pe,J=T["s-cr"]&&T["s-cr"].parentNode||T;for(J.shadowRoot&&J.tagName===W&&(J=J.shadowRoot);P<=Z;++P)Ce[P]&&(Pe=yr(null,se,P,T),Pe&&(Ce[P].$elm$=Pe,J.insertBefore(Pe,$r(N))))},sr=(T,N,se,Ce,P)=>{for(;N<=se;++N)(Ce=T[N])&&(P=Ce.$elm$,Le(Ce),j=!0,P["s-ol"]?P["s-ol"].remove():gi(P,!0),P.remove())},go=(T,N)=>T.$tag$===N.$tag$&&("slot"===T.$tag$?T.$name$===N.$name$:T.$key$===N.$key$),$r=T=>T&&T["s-ol"]||T,Sn=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,qr=(T,N)=>{const se=N.$elm$=T.$elm$,Ce=T.$children$,P=N.$children$,Z=N.$tag$,J=N.$text$;let Pe;null===J?(ge="svg"===Z||"foreignObject"!==Z&&ge,"slot"===Z||ir(T,N,ge),null!==Ce&&null!==P?((T,N,se,Ce)=>{let co,Rr,P=0,Z=0,J=0,Pe=0,Ye=N.length-1,Qe=N[0],Ct=N[Ye],zt=Ce.length-1,Wt=Ce[0],Qn=Ce[zt];for(;P<=Ye&&Z<=zt;)if(null==Qe)Qe=N[++P];else if(null==Ct)Ct=N[--Ye];else if(null==Wt)Wt=Ce[++Z];else if(null==Qn)Qn=Ce[--zt];else if(go(Qe,Wt))qr(Qe,Wt),Qe=N[++P],Wt=Ce[++Z];else if(go(Ct,Qn))qr(Ct,Qn),Ct=N[--Ye],Qn=Ce[--zt];else if(go(Qe,Qn))("slot"===Qe.$tag$||"slot"===Qn.$tag$)&&gi(Qe.$elm$.parentNode,!1),qr(Qe,Qn),T.insertBefore(Qe.$elm$,Ct.$elm$.nextSibling),Qe=N[++P],Qn=Ce[--zt];else if(go(Ct,Wt))("slot"===Qe.$tag$||"slot"===Qn.$tag$)&&gi(Ct.$elm$.parentNode,!1),qr(Ct,Wt),T.insertBefore(Ct.$elm$,Qe.$elm$),Ct=N[--Ye],Wt=Ce[++Z];else{for(J=-1,Pe=P;Pe<=Ye;++Pe)if(N[Pe]&&null!==N[Pe].$key$&&N[Pe].$key$===Wt.$key$){J=Pe;break}J>=0?(Rr=N[J],Rr.$tag$!==Wt.$tag$?co=yr(N&&N[Z],se,J,T):(qr(Rr,Wt),N[J]=void 0,co=Rr.$elm$),Wt=Ce[++Z]):(co=yr(N&&N[Z],se,Z,T),Wt=Ce[++Z]),co&&Sn(Qe.$elm$).insertBefore(co,$r(Qe.$elm$))}P>Ye?mo(T,null==Ce[zt+1]?null:Ce[zt+1].$elm$,se,Ce,Z,zt):Z>zt&&sr(N,P,Ye)})(se,Ce,N,P):null!==P?(null!==T.$text$&&(se.textContent=""),mo(se,null,N,P,0,P.length-1)):null!==Ce&&sr(Ce,0,Ce.length-1),ge&&"svg"===Z&&(ge=!1)):(Pe=se["s-cr"])?Pe.parentNode.textContent=J:T.$text$!==J&&(se.data=J)},yi=T=>{const N=T.childNodes;let se,Ce,P,Z,J,Pe;for(Ce=0,P=N.length;Ce<P;Ce++)if(se=N[Ce],1===se.nodeType){if(se["s-sr"])for(J=se["s-sn"],se.hidden=!1,Z=0;Z<P;Z++)if(Pe=N[Z].nodeType,N[Z]["s-hn"]!==se["s-hn"]||""!==J){if(1===Pe&&J===N[Z].getAttribute("slot")){se.hidden=!0;break}}else if(1===Pe||3===Pe&&""!==N[Z].textContent.trim()){se.hidden=!0;break}yi(se)}},xr=[],et=T=>{let N,se,Ce,P,Z,J,Pe=0;const Ye=T.childNodes,Qe=Ye.length;for(;Pe<Qe;Pe++){if(N=Ye[Pe],N["s-sr"]&&(se=N["s-cr"])&&se.parentNode)for(Ce=se.parentNode.childNodes,P=N["s-sn"],J=Ce.length-1;J>=0;J--)se=Ce[J],!se["s-cn"]&&!se["s-nr"]&&se["s-hn"]!==N["s-hn"]&&(re(se,P)?(Z=xr.find(Ct=>Ct.$nodeToRelocate$===se),j=!0,se["s-sn"]=se["s-sn"]||P,Z?Z.$slotRefNode$=N:xr.push({$slotRefNode$:N,$nodeToRelocate$:se}),se["s-sr"]&&xr.map(Ct=>{re(Ct.$nodeToRelocate$,se["s-sn"])&&(Z=xr.find(zt=>zt.$nodeToRelocate$===se),Z&&!Ct.$slotRefNode$&&(Ct.$slotRefNode$=Z.$slotRefNode$))})):xr.some(Ct=>Ct.$nodeToRelocate$===se)||xr.push({$nodeToRelocate$:se}));1===N.nodeType&&et(N)}},re=(T,N)=>1===T.nodeType?null===T.getAttribute("slot")&&""===N||T.getAttribute("slot")===N:T["s-sn"]===N||""===N,Le=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(Le)},wn=T=>Br(T).$hostElement$,Ot=(T,N,se)=>{const Ce=wn(T);return{emit:P=>on(Ce,N,{bubbles:!!(4&se),composed:!!(2&se),cancelable:!!(1&se),detail:P})}},on=(T,N,se)=>{const Ce=O.ce(N,se);return T.dispatchEvent(Ce),Ce},tr=(T,N)=>{N&&!T.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(se=>T.$onRenderResolve$=se))},Yt=(T,N)=>{if(T.$flags$|=16,!(4&T.$flags$))return tr(T,T.$ancestorComponent$),_i(()=>Kn(T,N));T.$flags$|=512},Kn=(T,N)=>{const Ce=T.$lazyInstance$;let P;return N&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([Z,J])=>hr(Ce,Z,J)),T.$queuedListeners$=null),P=hr(Ce,"componentWillLoad")),P=M(P,()=>hr(Ce,"componentWillRender")),M(P,()=>ar(T,Ce,N))},ar=function(){var T=(0,k.Z)(function*(N,se,Ce){const P=N.$hostElement$,J=P["s-rc"];Ce&&(T=>{const N=T.$cmpMeta$,se=T.$hostElement$,Ce=N.$flags$,Z=Be(se.shadowRoot?se.shadowRoot:se.getRootNode(),N,T.$modeName$);10&Ce&&(se["s-sc"]=Z,se.classList.add(Z+"-h"),2&Ce&&se.classList.add(Z+"-s"))})(N);Vt(N,se),J&&(J.map(Ye=>Ye()),P["s-rc"]=void 0);{const Ye=P["s-p"],Qe=()=>nr(N);0===Ye.length?Qe():(Promise.all(Ye).then(Qe),N.$flags$|=4,Ye.length=0)}});return function(se,Ce,P){return T.apply(this,arguments)}}(),Vt=(T,N,se)=>{try{N=N.render&&N.render(),T.$flags$&=-17,T.$flags$|=2,((T,N)=>{const se=T.$hostElement$,Ce=T.$cmpMeta$,P=T.$vnode$||en(null,null),Z=(T=>T&&T.$tag$===pe)(N)?N:An(null,null,N);if(W=se.tagName,Ce.$attrsToReflect$&&(Z.$attrs$=Z.$attrs$||{},Ce.$attrsToReflect$.map(([J,Pe])=>Z.$attrs$[Pe]=se[J])),Z.$tag$=null,Z.$flags$|=4,T.$vnode$=Z,Z.$elm$=P.$elm$=se.shadowRoot||se,ne=se["s-sc"],ee=se["s-cr"],Y=0!=(1&Ce.$flags$),j=!1,qr(P,Z),O.$flags$|=1,G){et(Z.$elm$);let J,Pe,Ye,Qe,Ct,zt,Wt=0;for(;Wt<xr.length;Wt++)J=xr[Wt],Pe=J.$nodeToRelocate$,Pe["s-ol"]||(Ye=$.createTextNode(""),Ye["s-nr"]=Pe,Pe.parentNode.insertBefore(Pe["s-ol"]=Ye,Pe));for(Wt=0;Wt<xr.length;Wt++)if(J=xr[Wt],Pe=J.$nodeToRelocate$,J.$slotRefNode$){for(Qe=J.$slotRefNode$.parentNode,Ct=J.$slotRefNode$.nextSibling,Ye=Pe["s-ol"];Ye=Ye.previousSibling;)if(zt=Ye["s-nr"],zt&&zt["s-sn"]===Pe["s-sn"]&&Qe===zt.parentNode&&(zt=zt.nextSibling,!zt||!zt["s-nr"])){Ct=zt;break}(!Ct&&Qe!==Pe.parentNode||Pe.nextSibling!==Ct)&&Pe!==Ct&&(!Pe["s-hn"]&&Pe["s-ol"]&&(Pe["s-hn"]=Pe["s-ol"].parentNode.nodeName),Qe.insertBefore(Pe,Ct))}else 1===Pe.nodeType&&(Pe.hidden=!0)}j&&yi(Z.$elm$),O.$flags$&=-2,xr.length=0})(T,N)}catch(Ce){Mo(Ce,T.$hostElement$)}return null},nr=T=>{const se=T.$hostElement$,P=T.$lazyInstance$,Z=T.$ancestorComponent$;hr(P,"componentDidRender"),64&T.$flags$?hr(P,"componentDidUpdate"):(T.$flags$|=64,Pr(se),hr(P,"componentDidLoad"),T.$onReadyResolve$(se),Z||Mt()),T.$onInstanceResolve$(se),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&Zo(()=>Yt(T,!1)),T.$flags$&=-517},S=T=>{{const N=Br(T),se=N.$hostElement$.isConnected;return se&&2==(18&N.$flags$)&&Yt(N,!1),se}},Mt=T=>{Pr($.documentElement),Zo(()=>on(te,"appload",{detail:{namespace:"ionic"}}))},hr=(T,N,se)=>{if(T&&T[N])try{return T[N](se)}catch(Ce){Mo(Ce)}},M=(T,N)=>T&&T.then?T.then(N):N(),Pr=T=>T.classList.add("hydrated"),lo=(T,N,se,Ce,P,Z,J)=>{let Pe,Ye,Qe,Ct;if(1===Z.nodeType){for(Pe=Z.getAttribute("c-id"),Pe&&(Ye=Pe.split("."),(Ye[0]===J||"0"===Ye[0])&&(Qe={$flags$:0,$hostId$:Ye[0],$nodeId$:Ye[1],$depth$:Ye[2],$index$:Ye[3],$tag$:Z.tagName.toLowerCase(),$elm$:Z,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(Qe),Z.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[Qe.$index$]=Qe,T=Qe,Ce&&"0"===Qe.$depth$&&(Ce[Qe.$index$]=Qe.$elm$))),Ct=Z.childNodes.length-1;Ct>=0;Ct--)lo(T,N,se,Ce,P,Z.childNodes[Ct],J);if(Z.shadowRoot)for(Ct=Z.shadowRoot.childNodes.length-1;Ct>=0;Ct--)lo(T,N,se,Ce,P,Z.shadowRoot.childNodes[Ct],J)}else if(8===Z.nodeType)Ye=Z.nodeValue.split("."),(Ye[1]===J||"0"===Ye[1])&&(Pe=Ye[0],Qe={$flags$:0,$hostId$:Ye[1],$nodeId$:Ye[2],$depth$:Ye[3],$index$:Ye[4],$elm$:Z,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Pe?(Qe.$elm$=Z.nextSibling,Qe.$elm$&&3===Qe.$elm$.nodeType&&(Qe.$text$=Qe.$elm$.textContent,N.push(Qe),Z.remove(),T.$children$||(T.$children$=[]),T.$children$[Qe.$index$]=Qe,Ce&&"0"===Qe.$depth$&&(Ce[Qe.$index$]=Qe.$elm$))):Qe.$hostId$===J&&("s"===Pe?(Qe.$tag$="slot",Z["s-sn"]=Ye[5]?Qe.$name$=Ye[5]:"",Z["s-sr"]=!0,Ce&&(Qe.$elm$=$.createElement(Qe.$tag$),Qe.$name$&&Qe.$elm$.setAttribute("name",Qe.$name$),Z.parentNode.insertBefore(Qe.$elm$,Z),Z.remove(),"0"===Qe.$depth$&&(Ce[Qe.$index$]=Qe.$elm$)),se.push(Qe),T.$children$||(T.$children$=[]),T.$children$[Qe.$index$]=Qe):"r"===Pe&&(Ce?Z.remove():(P["s-cr"]=Z,Z["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const zt=en(null,Z.textContent);zt.$elm$=Z,zt.$index$="0",T.$children$=[zt]}},Ro=(T,N)=>{if(1===T.nodeType){let se=0;for(;se<T.childNodes.length;se++)Ro(T.childNodes[se],N);if(T.shadowRoot)for(se=0;se<T.shadowRoot.childNodes.length;se++)Ro(T.shadowRoot.childNodes[se],N)}else if(8===T.nodeType){const se=T.nodeValue.split(".");"o"===se[0]&&(N.set(se[1]+"."+se[2],T),T.nodeValue="",T["s-en"]=se[3])}},eo=(T,N,se)=>{if(N.$members$){T.watchers&&(N.$watchers$=T.watchers);const Ce=Object.entries(N.$members$),P=T.prototype;if(Ce.map(([Z,[J]])=>{31&J||2&se&&32&J?Object.defineProperty(P,Z,{get(){return((T,N)=>Br(this).$instanceValues$.get(N))(0,Z)},set(Pe){((T,N,se,Ce)=>{const P=Br(T),Z=P.$hostElement$,J=P.$instanceValues$.get(N),Pe=P.$flags$,Ye=P.$lazyInstance$;se=((T,N)=>null==T||$t(T)?T:4&N?"false"!==T&&(""===T||!!T):2&N?parseFloat(T):1&N?String(T):T)(se,Ce.$members$[N][0]);const Qe=Number.isNaN(J)&&Number.isNaN(se);if((!(8&Pe)||void 0===J)&&se!==J&&!Qe&&(P.$instanceValues$.set(N,se),Ye)){if(Ce.$watchers$&&128&Pe){const zt=Ce.$watchers$[N];zt&&zt.map(Wt=>{try{Ye[Wt](se,J,N)}catch(Qn){Mo(Qn,Z)}})}2==(18&Pe)&&Yt(P,!1)}})(this,Z,Pe,N)},configurable:!0,enumerable:!0}):1&se&&64&J&&Object.defineProperty(P,Z,{value(...Pe){const Ye=Br(this);return Ye.$onInstancePromise$.then(()=>Ye.$lazyInstance$[Z](...Pe))}})}),1&se){const Z=new Map;P.attributeChangedCallback=function(J,Pe,Ye){O.jmp(()=>{const Qe=Z.get(J);if(this.hasOwnProperty(Qe))Ye=this[Qe],delete this[Qe];else if(P.hasOwnProperty(Qe)&&"number"==typeof this[Qe]&&this[Qe]==Ye)return;this[Qe]=(null!==Ye||"boolean"!=typeof this[Qe])&&Ye})},T.observedAttributes=Ce.filter(([J,Pe])=>15&Pe[0]).map(([J,Pe])=>{const Ye=Pe[1]||J;return Z.set(Ye,J),512&Pe[0]&&N.$attrsToReflect$.push([J,Ye]),Ye})}}return T},rr=function(){var T=(0,k.Z)(function*(N,se,Ce,P,Z){if(0==(32&se.$flags$)){{if(se.$flags$|=32,(Z=Xi(Ce)).then){const Qe=()=>{};Z=yield Z,Qe()}Z.isProxied||(Ce.$watchers$=Z.watchers,eo(Z,Ce,2),Z.isProxied=!0);const Ye=()=>{};se.$flags$|=8;try{new Z(se)}catch(Qe){Mo(Qe)}se.$flags$&=-9,se.$flags$|=128,Ye(),to(se.$lazyInstance$)}if(Z.style){let Ye=Z.style;"string"!=typeof Ye&&(Ye=Ye[se.$modeName$=(T=>xi.map(N=>N(T)).find(N=>!!N))(N)]);const Qe=B(Ce,se.$modeName$);if(!zo.has(Qe)){const Ct=()=>{};It(Qe,Ye,!!(1&Ce.$flags$)),Ct()}}}const J=se.$ancestorComponent$,Pe=()=>Yt(se,!0);J&&J["s-rc"]?J["s-rc"].push(Pe):Pe()});return function(se,Ce,P,Z,J){return T.apply(this,arguments)}}(),to=T=>{hr(T,"connectedCallback")},Go=T=>{const N=T["s-cr"]=$.createComment("");N["s-cn"]=!0,T.insertBefore(N,T.firstChild)},yo=(T,N={})=>{const Ce=[],P=N.exclude||[],Z=te.customElements,J=$.head,Pe=J.querySelector("meta[charset]"),Ye=$.createElement("style"),Qe=[],Ct=$.querySelectorAll(`[${$e}]`);let zt,Wt=!0,Qn=0;for(Object.assign(O,N),O.$resourcesUrl$=new URL(N.resourcesUrl||"./",$.baseURI).href,O.$flags$|=2;Qn<Ct.length;Qn++)It(Ct[Qn].getAttribute($e),z(Ct[Qn].innerHTML),!0);T.map(co=>{co[1].map(Rr=>{const mr={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};mr.$members$=Rr[2],mr.$listeners$=Rr[3],mr.$attrsToReflect$=[],mr.$watchers$={};const Pi=mr.$tagName$,Yo=class extends HTMLElement{constructor(wi){super(wi),ai(wi=this,mr),1&mr.$flags$&&wi.attachShadow({mode:"open",delegatesFocus:!!(16&mr.$flags$)})}connectedCallback(){zt&&(clearTimeout(zt),zt=null),Wt?Qe.push(this):O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=Br(T),se=N.$cmpMeta$,Ce=()=>{};if(1&N.$flags$)me(T,N,se.$listeners$),to(N.$lazyInstance$);else{let P;if(N.$flags$|=1,P=T.getAttribute(De),P){if(1&se.$flags$){const Z=Be(T.shadowRoot,se,T.getAttribute("s-mode"));T.classList.remove(Z+"-h",Z+"-s")}((T,N,se,Ce)=>{const Z=T.shadowRoot,J=[],Ye=Z?[]:null,Qe=Ce.$vnode$=en(N,null);O.$orgLocNodes$||Ro($.body,O.$orgLocNodes$=new Map),T[De]=se,T.removeAttribute(De),lo(Qe,J,[],Ye,T,T,se),J.map(Ct=>{const zt=Ct.$hostId$+"."+Ct.$nodeId$,Wt=O.$orgLocNodes$.get(zt),Qn=Ct.$elm$;Wt&&""===Wt["s-en"]&&Wt.parentNode.insertBefore(Qn,Wt.nextSibling),Z||(Qn["s-hn"]=N,Wt&&(Qn["s-ol"]=Wt,Qn["s-ol"]["s-nr"]=Qn)),O.$orgLocNodes$.delete(zt)}),Z&&Ye.map(Ct=>{Ct&&Z.appendChild(Ct)})})(T,se.$tagName$,P,N)}P||12&se.$flags$&&Go(T);{let Z=T;for(;Z=Z.parentNode||Z.host;)if(1===Z.nodeType&&Z.hasAttribute("s-id")&&Z["s-p"]||Z["s-p"]){tr(N,N.$ancestorComponent$=Z);break}}se.$members$&&Object.entries(se.$members$).map(([Z,[J]])=>{if(31&J&&T.hasOwnProperty(Z)){const Pe=T[Z];delete T[Z],T[Z]=Pe}}),Zo(()=>rr(T,N,se))}Ce()}})(this))}disconnectedCallback(){O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=Br(this),se=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Ce=>Ce()),N.$rmListeners$=void 0),hr(se,"disconnectedCallback")}})())}componentOnReady(){return Br(this).$onReadyPromise$}};mr.$lazyBundleId$=co[0],!P.includes(Pi)&&!Z.get(Pi)&&(Ce.push(Pi),Z.define(Pi,eo(Yo,mr,1)))})}),Ye.innerHTML=Ce+"{visibility:hidden}.hydrated{visibility:inherit}",Ye.setAttribute("data-styles",""),J.insertBefore(Ye,Pe?Pe.nextSibling:J.firstChild),Wt=!1,Qe.length?Qe.map(co=>co.connectedCallback()):O.jmp(()=>zt=setTimeout(Mt,30))},D=T=>{const N=new URL(T,O.$resourcesUrl$);return N.origin!==te.location.origin?N.href:N.pathname},Zr=new WeakMap,Br=T=>Zr.get(T),si=(T,N)=>Zr.set(N.$lazyInstance$=T,N),ai=(T,N)=>{const se={$flags$:0,$hostElement$:T,$cmpMeta$:N,$instanceValues$:new Map};return se.$onInstancePromise$=new Promise(Ce=>se.$onInstanceResolve$=Ce),se.$onReadyPromise$=new Promise(Ce=>se.$onReadyResolve$=Ce),T["s-p"]=[],T["s-rc"]=[],me(T,se,N.$listeners$),Zr.set(T,se)},Fo=(T,N)=>N in T,Mo=(T,N)=>(0,console.error)(T,N),Vr=new Map,Xi=(T,N,se)=>{const Ce=T.$tagName$.replace(/-/g,"_"),P=T.$lazyBundleId$,Z=Vr.get(P);return Z?Z[Ce]:R(863)(`./${P}.entry.js`).then(J=>(Vr.set(P,J),J[Ce]),Mo)},zo=new Map,xi=[],Wn=[],Wo=[],vi=(T,N)=>se=>{T.push(se),q||(q=!0,N&&4&O.$flags$?Zo(On):O.raf(On))},qo=T=>{for(let N=0;N<T.length;N++)try{T[N](performance.now())}catch(se){Mo(se)}T.length=0},On=()=>{qo(Wn),qo(Wo),(q=Wn.length>0)&&O.raf(On)},Zo=T=>X().then(T),Vn=vi(Wn,!1),_i=vi(Wo,!0),Qi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9506:(Fe,je,R)=>{"use strict";R.d(je,{m:()=>te});var k=R(3918),d=R(159),ne=R(9158),ee=R(537),W=R(2597);const Y=$=>(0,W.c)().duration($?400:300),j=$=>{let O,V;const ke=$.width+8,X=(0,W.c)(),ye=(0,W.c)();$.isEndSide?(O=ke+"px",V="0px"):(O=-ke+"px",V="0px"),X.addElement($.menuInnerEl).fromTo("transform",`translateX(${O})`,`translateX(${V})`);const oe="ios"===(0,ee.b)($),le=oe?.2:.25;return ye.addElement($.backdropEl).fromTo("opacity",.01,le),Y(oe).addAnimation([X,ye])},G=$=>{let O,V;const ke=(0,ee.b)($),X=$.width;$.isEndSide?(O=-X+"px",V=X+"px"):(O=X+"px",V=-X+"px");const ye=(0,W.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${V})`,"translateX(0px)"),me=(0,W.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${O})`),oe=(0,W.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return Y("ios"===ke).addAnimation([ye,me,oe])},ge=$=>{const O=(0,ee.b)($),V=$.width*($.isEndSide?-1:1)+"px",ke=(0,W.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${V})`);return Y("ios"===O).addAnimation(ke)},te=(()=>{const $=new Map,O=[],V=function(){var L=(0,k.Z)(function*(B){const z=yield xe(B);return!!z&&z.open()});return function(z){return L.apply(this,arguments)}}(),ke=function(){var L=(0,k.Z)(function*(B){const z=yield void 0!==B?xe(B):ce();return void 0!==z&&z.close()});return function(z){return L.apply(this,arguments)}}(),X=function(){var L=(0,k.Z)(function*(B){const z=yield xe(B);return!!z&&z.toggle()});return function(z){return L.apply(this,arguments)}}(),ye=function(){var L=(0,k.Z)(function*(B,z){const fe=yield xe(z);return fe&&(fe.disabled=!B),fe});return function(z,fe){return L.apply(this,arguments)}}(),me=function(){var L=(0,k.Z)(function*(B,z){const fe=yield xe(z);return fe&&(fe.swipeGesture=B),fe});return function(z,fe){return L.apply(this,arguments)}}(),oe=function(){var L=(0,k.Z)(function*(B){if(null!=B){const z=yield xe(B);return void 0!==z&&z.isOpen()}return void 0!==(yield ce())});return function(z){return L.apply(this,arguments)}}(),le=function(){var L=(0,k.Z)(function*(B){const z=yield xe(B);return!!z&&!z.disabled});return function(z){return L.apply(this,arguments)}}(),xe=function(){var L=(0,k.Z)(function*(B){return yield Be(),"start"===B||"end"===B?It(Me=>Me.side===B&&!Me.disabled)||It(Me=>Me.side===B):null!=B?It(fe=>fe.menuId===B):It(fe=>!fe.disabled)||(O.length>0?O[0].el:void 0)});return function(z){return L.apply(this,arguments)}}(),ce=function(){var L=(0,k.Z)(function*(){return yield Be(),Ue()});return function(){return L.apply(this,arguments)}}(),ze=function(){var L=(0,k.Z)(function*(){return yield Be(),We()});return function(){return L.apply(this,arguments)}}(),he=function(){var L=(0,k.Z)(function*(){return yield Be(),at()});return function(){return L.apply(this,arguments)}}(),be=(L,B)=>{$.set(L,B)},Oe=L=>{const B=L.side;O.filter(z=>z.side===B&&z!==L).forEach(z=>z.disabled=!0)},Ie=function(){var L=(0,k.Z)(function*(B,z,fe){if(at())return!1;if(z){const Me=yield ce();Me&&B.el!==Me&&(yield Me.setOpen(!1,!1))}return B._setOpen(z,fe)});return function(z,fe,Me){return L.apply(this,arguments)}}(),Ue=()=>It(L=>L._isOpen),We=()=>O.map(L=>L.el),at=()=>O.some(L=>L.isAnimating),It=L=>{const B=O.find(L);if(void 0!==B)return B.el},Be=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(B=>(0,ne.c)(L,B))));return be("reveal",ge),be("push",G),be("overlay",j),typeof document<"u"&&document.addEventListener("ionBackButton",L=>{const B=Ue();B&&L.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>B.close())}),{registerAnimation:be,get:xe,getMenus:ze,getOpen:ce,isEnabled:le,swipeGesture:me,isAnimating:he,isOpen:oe,enable:ye,toggle:X,close:ke,open:V,_getOpenSync:Ue,_createAnimation:(L,B)=>{const z=$.get(L);if(!z)throw new Error("animation not registered");return z(B)},_register:L=>{O.indexOf(L)<0&&(L.disabled||Oe(L),O.push(L))},_unregister:L=>{const B=O.indexOf(L);B>-1&&O.splice(B,1)},_setOpen:Ie,_setActiveMenu:Oe}})()},537:(Fe,je,R)=>{"use strict";R.d(je,{a:()=>te,b:()=>at,c:()=>ne,g:()=>q,i:()=>It});var k=R(9479);class d{constructor(){this.m=new Map}reset(L){this.m=new Map(Object.entries(L))}get(L,B){const z=this.m.get(L);return void 0!==z?z:B}getBoolean(L,B=!1){const z=this.m.get(L);return void 0===z?B:"string"==typeof z?"true"===z:!!z}getNumber(L,B){const z=parseFloat(this.m.get(L));return isNaN(z)?void 0!==B?B:NaN:z}set(L,B){this.m.set(L,B)}}const ne=new d,G="ionic:",ge="ionic-persist-config",q=Be=>$(Be),te=(Be,L)=>("string"==typeof Be&&(L=Be,Be=void 0),q(Be).includes(L)),$=(Be=window)=>{if(typeof Be>"u")return[];Be.Ionic=Be.Ionic||{};let L=Be.Ionic.platforms;return null==L&&(L=Be.Ionic.platforms=O(Be),L.forEach(B=>Be.document.documentElement.classList.add(`plt-${B}`))),L},O=Be=>{const L=ne.get("platform");return Object.keys(Ue).filter(B=>{const z=L?.[B];return"function"==typeof z?z(Be):Ue[B](Be)})},ke=Be=>!!(Ie(Be,/iPad/i)||Ie(Be,/Macintosh/i)&&ce(Be)),me=Be=>Ie(Be,/android|sink/i),ce=Be=>K(Be,"(any-pointer:coarse)"),he=Be=>be(Be)||De(Be),be=Be=>!!(Be.cordova||Be.phonegap||Be.PhoneGap),De=Be=>!!Be.Capacitor?.isNative,Ie=(Be,L)=>L.test(Be.navigator.userAgent),K=(Be,L)=>{var B;return null===(B=Be.matchMedia)||void 0===B?void 0:B.call(Be,L).matches},Ue={ipad:ke,iphone:Be=>Ie(Be,/iPhone/i),ios:Be=>Ie(Be,/iPhone|iPod/i)||ke(Be),android:me,phablet:Be=>{const L=Be.innerWidth,B=Be.innerHeight,z=Math.min(L,B),fe=Math.max(L,B);return z>390&&z<520&&fe>620&&fe<800},tablet:Be=>{const L=Be.innerWidth,B=Be.innerHeight,z=Math.min(L,B),fe=Math.max(L,B);return ke(Be)||(Be=>me(Be)&&!Ie(Be,/mobile/i))(Be)||z>460&&z<820&&fe>780&&fe<1400},cordova:be,capacitor:De,electron:Be=>Ie(Be,/electron/i),pwa:Be=>{var L;return!(!(null===(L=Be.matchMedia)||void 0===L?void 0:L.call(Be,"(display-mode: standalone)").matches)&&!Be.navigator.standalone)},mobile:ce,mobileweb:Be=>ce(Be)&&!he(Be),desktop:Be=>!ce(Be),hybrid:he};let We;const at=Be=>Be&&(0,k.g)(Be)||We,It=(Be={})=>{if(typeof window>"u")return;const L=window.document,B=window,z=B.Ionic=B.Ionic||{},fe={};Be._ael&&(fe.ael=Be._ael),Be._rel&&(fe.rel=Be._rel),Be._ce&&(fe.ce=Be._ce),(0,k.s)(fe);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Be=>{try{const L=Be.sessionStorage.getItem(ge);return null!==L?JSON.parse(L):{}}catch{return{}}})(B)),{persistConfig:!1}),z.config),(Be=>{const L={};return Be.location.search.slice(1).split("&").map(B=>B.split("=")).map(([B,z])=>[decodeURIComponent(B),decodeURIComponent(z)]).filter(([B])=>((Be,L)=>Be.substr(0,L.length)===L)(B,G)).map(([B,z])=>[B.slice(G.length),z]).forEach(([B,z])=>{L[B]=z}),L})(B)),Be);ne.reset(Me),ne.getBoolean("persistConfig")&&((Be,L)=>{try{Be.sessionStorage.setItem(ge,JSON.stringify(L))}catch{return}})(B,Me),$(B),z.config=ne,z.mode=We=ne.get("mode",L.documentElement.getAttribute("mode")||(te(B,"ios")?"ios":"md")),ne.set("mode",We),L.documentElement.setAttribute("mode",We),L.documentElement.classList.add(We),ne.getBoolean("_testing")&&ne.set("animated",!1);const Re=Xe=>{var tt;return null===(tt=Xe.tagName)||void 0===tt?void 0:tt.startsWith("ION-")},nt=Xe=>["ios","md"].includes(Xe);(0,k.a)(Xe=>{for(;Xe;){const tt=Xe.mode||Xe.getAttribute("mode");if(tt){if(nt(tt))return tt;Re(Xe)&&console.warn('Invalid ionic mode: "'+tt+'", expected: "ios" or "md"')}Xe=Xe.parentElement}return We})}},5794:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{iosTransitionAnimation:()=>$,shadow:()=>Y});var k=R(2597),d=R(4736);R(9479);const W=O=>document.querySelector(`${O}.ion-cloned-element`),Y=O=>O.shadowRoot||O,j=O=>{const V="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs"),ke="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=V){const X=V.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=X?X.querySelector(ke):null}return O.querySelector(ke)},G=(O,V)=>{const ke="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs");let X=[];if(null!=ke){const ye=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ye&&(X=ye.querySelectorAll("ion-buttons"))}else X=O.querySelectorAll("ion-buttons");for(const ye of X){const me=ye.closest("ion-header"),oe=me&&!me.classList.contains("header-collapse-condense-inactive"),le=ye.querySelector("ion-back-button"),xe=ye.classList.contains("buttons-collapse"),ce="start"===ye.slot||""===ye.slot;if(null!==le&&ce&&(xe&&oe&&V||!xe))return le}return null},q=(O,V,ke,X,ye,me)=>{const oe=V?`calc(100% - ${me.right+4}px)`:me.left-4+"px",le=V?"7px":"-7px",xe=V?"-4px":"4px",ce=V?"-4px":"4px",ze=V?"right":"left",he=V?"left":"right",$e=ke?[{offset:0,opacity:1,transform:`translate3d(${xe}, ${me.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${le}, ${ye.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${le}, ${ye.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${xe}, ${me.top-46}px, 0) scale(1)`}],K=ke?[{offset:0,opacity:1,transform:`translate3d(${ce}, ${me.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ce}, ${me.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ce}, ${me.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ce}, ${me.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ce}, ${me.top-46}px, 0) scale(1)`}],Ue=(0,k.c)(),We=(0,k.c)(),at=W("ion-back-button"),It=Y(at).querySelector(".button-text"),Be=Y(at).querySelector("ion-icon");at.text=X.text,at.mode=X.mode,at.icon=X.icon,at.color=X.color,at.disabled=X.disabled,at.style.setProperty("display","block"),at.style.setProperty("position","fixed"),We.addElement(Be),Ue.addElement(It),Ue.beforeStyles({"transform-origin":`${ze} center`}).beforeAddWrite(()=>{X.style.setProperty("display","none"),at.style.setProperty(ze,oe)}).afterAddWrite(()=>{X.style.setProperty("display",""),at.style.setProperty("display","none"),at.style.removeProperty(ze)}).keyframes($e),We.beforeStyles({"transform-origin":`${he} center`}).keyframes(K),O.addAnimation([Ue,We])},te=(O,V,ke,X,ye,me)=>{const oe=V?`calc(100% - ${ye.right}px)`:`${ye.left}px`,le=V?"-18px":"18px",xe=V?"right":"left",he=ke?[{offset:0,opacity:0,transform:`translate3d(${le}, ${me.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${le}, ${me.top-4}px, 0) scale(0.5)`}],be=W("ion-title"),De=(0,k.c)();be.innerText=X.innerText,be.size=X.size,be.color=X.color,De.addElement(be),De.beforeStyles({"transform-origin":`${xe} center`,height:"46px",display:"",position:"relative",[xe]:oe}).beforeAddWrite(()=>{X.style.setProperty("display","none")}).afterAddWrite(()=>{X.style.setProperty("display",""),be.style.setProperty("display","none")}).keyframes(he),O.addAnimation(De)},$=(O,V)=>{try{const ke="cubic-bezier(0.32,0.72,0,1)",X="opacity",ye="transform",me="0%",le="rtl"===O.ownerDocument.dir,xe=le?"-99.5%":"99.5%",ce=le?"33%":"-33%",ze=V.enteringEl,he=V.leavingEl,be="back"===V.direction,De=ze.querySelector(":scope > ion-content"),$e=ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Oe=ze.querySelectorAll(":scope > ion-header > ion-toolbar"),Ie=(0,k.c)(),K=(0,k.c)();if(Ie.addElement(ze).duration(V.duration||540).easing(V.easing||ke).fill("both").beforeRemoveClass("ion-page-invisible"),he&&O){const It=(0,k.c)();It.addElement(O),Ie.addAnimation(It)}if(De||0!==Oe.length||0!==$e.length?(K.addElement(De),K.addElement($e)):K.addElement(ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ie.addAnimation(K),be?K.beforeClearStyles([X]).fromTo("transform",`translateX(${ce})`,`translateX(${me})`).fromTo(X,.8,1):K.beforeClearStyles([X]).fromTo("transform",`translateX(${xe})`,`translateX(${me})`),De){const It=Y(De).querySelector(".transition-effect");if(It){const Be=It.querySelector(".transition-cover"),L=It.querySelector(".transition-shadow"),B=(0,k.c)(),z=(0,k.c)(),fe=(0,k.c)();B.addElement(It).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),z.addElement(Be).beforeClearStyles([X]).fromTo(X,0,.1),fe.addElement(L).beforeClearStyles([X]).fromTo(X,.03,.7),B.addAnimation([z,fe]),K.addAnimation([B])}}const Ue=ze.querySelector("ion-header.header-collapse-condense"),{forward:We,backward:at}=((O,V,ke,X,ye)=>{const me=G(X,ke),oe=j(ye),le=j(X),xe=G(ye,ke),ce=null!==me&&null!==oe&&!ke,ze=null!==le&&null!==xe&&ke;if(ce){const he=oe.getBoundingClientRect(),be=me.getBoundingClientRect();te(O,V,ke,oe,he,be),q(O,V,ke,me,he,be)}else if(ze){const he=le.getBoundingClientRect(),be=xe.getBoundingClientRect();te(O,V,ke,le,he,be),q(O,V,ke,xe,he,be)}return{forward:ce,backward:ze}})(Ie,le,be,ze,he);if(Oe.forEach(It=>{const Be=(0,k.c)();Be.addElement(It),Ie.addAnimation(Be);const L=(0,k.c)();L.addElement(It.querySelector("ion-title"));const B=(0,k.c)(),z=Array.from(It.querySelectorAll("ion-buttons,[menuToggle]")),fe=It.closest("ion-header"),Me=fe?.classList.contains("header-collapse-condense-inactive");let Re;Re=z.filter(be?$t=>{const An=$t.classList.contains("buttons-collapse");return An&&!Me||!An}:$t=>!$t.classList.contains("buttons-collapse")),B.addElement(Re);const nt=(0,k.c)();nt.addElement(It.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xe=(0,k.c)();Xe.addElement(Y(It).querySelector(".toolbar-background"));const tt=(0,k.c)(),Rt=It.querySelector("ion-back-button");if(Rt&&tt.addElement(Rt),Be.addAnimation([L,B,nt,Xe,tt]),B.fromTo(X,.01,1),nt.fromTo(X,.01,1),be)Me||L.fromTo("transform",`translateX(${ce})`,`translateX(${me})`).fromTo(X,.01,1),nt.fromTo("transform",`translateX(${ce})`,`translateX(${me})`),tt.fromTo(X,.01,1);else if(Ue||L.fromTo("transform",`translateX(${xe})`,`translateX(${me})`).fromTo(X,.01,1),nt.fromTo("transform",`translateX(${xe})`,`translateX(${me})`),Xe.beforeClearStyles([X,"transform"]),fe?.translucent?Xe.fromTo("transform",le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xe.fromTo(X,.01,"var(--opacity)"),We||tt.fromTo(X,.01,1),Rt&&!We){const An=(0,k.c)();An.addElement(Y(Rt).querySelector(".button-text")).fromTo("transform",le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Be.addAnimation(An)}}),he){const It=(0,k.c)(),Be=he.querySelector(":scope > ion-content"),L=he.querySelectorAll(":scope > ion-header > ion-toolbar"),B=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Be||0!==L.length||0!==B.length?(It.addElement(Be),It.addElement(B)):It.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ie.addAnimation(It),be){It.beforeClearStyles([X]).fromTo("transform",`translateX(${me})`,le?"translateX(-100%)":"translateX(100%)");const z=(0,d.g)(he);Ie.afterAddWrite(()=>{"normal"===Ie.getDirection()&&z.style.setProperty("display","none")})}else It.fromTo("transform",`translateX(${me})`,`translateX(${ce})`).fromTo(X,1,.8);if(Be){const z=Y(Be).querySelector(".transition-effect");if(z){const fe=z.querySelector(".transition-cover"),Me=z.querySelector(".transition-shadow"),Re=(0,k.c)(),nt=(0,k.c)(),Xe=(0,k.c)();Re.addElement(z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),nt.addElement(fe).beforeClearStyles([X]).fromTo(X,.1,0),Xe.addElement(Me).beforeClearStyles([X]).fromTo(X,.7,.03),Re.addAnimation([nt,Xe]),It.addAnimation([Re])}}L.forEach(z=>{const fe=(0,k.c)();fe.addElement(z);const Me=(0,k.c)();Me.addElement(z.querySelector("ion-title"));const Re=(0,k.c)(),nt=z.querySelectorAll("ion-buttons,[menuToggle]"),Xe=z.closest("ion-header"),tt=Xe?.classList.contains("header-collapse-condense-inactive"),Rt=Array.from(nt).filter(Dr=>{const Yn=Dr.classList.contains("buttons-collapse");return Yn&&!tt||!Yn});Re.addElement(Rt);const $t=(0,k.c)(),An=z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");An.length>0&&$t.addElement(An);const en=(0,k.c)();en.addElement(Y(z).querySelector(".toolbar-background"));const pe=(0,k.c)(),Wr=z.querySelector("ion-back-button");if(Wr&&pe.addElement(Wr),fe.addAnimation([Me,Re,$t,pe,en]),Ie.addAnimation(fe),pe.fromTo(X,.99,0),Re.fromTo(X,.99,0),$t.fromTo(X,.99,0),be){if(tt||Me.fromTo("transform",`translateX(${me})`,le?"translateX(-100%)":"translateX(100%)").fromTo(X,.99,0),$t.fromTo("transform",`translateX(${me})`,le?"translateX(-100%)":"translateX(100%)"),en.beforeClearStyles([X,"transform"]),Xe?.translucent?en.fromTo("transform","translateX(0px)",le?"translateX(-100%)":"translateX(100%)"):en.fromTo(X,"var(--opacity)",0),Wr&&!at){const Yn=(0,k.c)();Yn.addElement(Y(Wr).querySelector(".button-text")).fromTo("transform",`translateX(${me})`,`translateX(${(le?-124:124)+"px"})`),fe.addAnimation(Yn)}}else tt||Me.fromTo("transform",`translateX(${me})`,`translateX(${ce})`).fromTo(X,.99,0).afterClearStyles([ye,X]),$t.fromTo("transform",`translateX(${me})`,`translateX(${ce})`).afterClearStyles([ye,X]),pe.afterClearStyles([X]),Me.afterClearStyles([X]),Re.afterClearStyles([X])})}return Ie}catch(ke){throw ke}}},932:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{mdTransitionAnimation:()=>ee});var k=R(2597),d=R(4736);R(9479);const ee=(W,Y)=>{const ge="back"===Y.direction,te=Y.leavingEl,$=(0,d.g)(Y.enteringEl),O=$.querySelector("ion-toolbar"),V=(0,k.c)();if(V.addElement($).fill("both").beforeRemoveClass("ion-page-invisible"),ge?V.duration(Y.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):V.duration(Y.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),O){const ke=(0,k.c)();ke.addElement(O),V.addAnimation(ke)}if(te&&ge){V.duration(Y.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ke=(0,k.c)();ke.addElement((0,d.g)(te)).onFinish(X=>{1===X&&ke.elements.length>0&&ke.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),V.addAnimation(ke)}return V}},9703:(Fe,je,R)=>{"use strict";R.d(je,{B:()=>B,a:()=>G,b:()=>ge,c:()=>O,d:()=>$e,e:()=>ke,f:()=>Ie,g:()=>We,h:()=>Y,i:()=>It,j:()=>me,k:()=>be,l:()=>q,m:()=>te,s:()=>L});var k=R(3918),d=R(537),ne=R(159),ee=R(9158);let W=0;const Y=new WeakMap,j=z=>({create:fe=>X(z,fe),dismiss:(fe,Me,Re)=>ze(document,fe,Me,z,Re),getTop:()=>(0,k.Z)(function*(){return be(document,z)})()}),G=j("ion-alert"),ge=j("ion-action-sheet"),q=j("ion-loading"),te=j("ion-modal"),O=j("ion-popover"),ke=z=>{typeof document<"u"&&ce(document);const fe=W++;z.overlayIndex=fe,z.hasAttribute("id")||(z.id=`ion-overlay-${fe}`)},X=(z,fe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(z).then(()=>{const Me=document.createElement(z);return Me.classList.add("overlay-hidden"),Object.assign(Me,Object.assign(Object.assign({},fe),{hasController:!0})),K(document).appendChild(Me),new Promise(Re=>(0,ee.c)(Me,Re))}):Promise.resolve(),ye='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',me=(z,fe)=>{let Me=z.querySelector(ye);const Re=Me?.shadowRoot;Re&&(Me=Re.querySelector(ye)||Me),Me?(0,ee.f)(Me):fe.focus()},le=(z,fe)=>{const Me=Array.from(z.querySelectorAll(ye));let Re=Me.length>0?Me[Me.length-1]:null;const nt=Re?.shadowRoot;nt&&(Re=nt.querySelector(ye)||Re),Re?Re.focus():fe.focus()},ce=z=>{0===W&&(W=1,z.addEventListener("focus",fe=>{((z,fe)=>{const Me=be(fe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Re=z.target;Me&&Re&&!Me.classList.contains("ion-disable-focus-trap")&&(Me.shadowRoot?(()=>{if(Me.contains(Re))Me.lastFocus=Re;else{const tt=Me.lastFocus;me(Me,Me),tt===fe.activeElement&&le(Me,Me),Me.lastFocus=fe.activeElement}})():(()=>{if(Me===Re)Me.lastFocus=void 0;else{const tt=(0,ee.g)(Me);if(!tt.contains(Re))return;const Rt=tt.querySelector(".ion-overlay-wrapper");if(!Rt)return;if(Rt.contains(Re))Me.lastFocus=Re;else{const $t=Me.lastFocus;me(Rt,Me),$t===fe.activeElement&&le(Rt,Me),Me.lastFocus=fe.activeElement}}})())})(fe,z)},!0),z.addEventListener("ionBackButton",fe=>{const Me=be(z);Me?.backdropDismiss&&fe.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>Me.dismiss(void 0,B))}),z.addEventListener("keyup",fe=>{if("Escape"===fe.key){const Me=be(z);Me?.backdropDismiss&&Me.dismiss(void 0,B)}}))},ze=(z,fe,Me,Re,nt)=>{const Xe=be(z,Re,nt);return Xe?Xe.dismiss(fe,Me):Promise.reject("overlay does not exist")},be=(z,fe,Me)=>{const Re=((z,fe)=>(void 0===fe&&(fe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(z.querySelectorAll(fe)).filter(Me=>Me.overlayIndex>0)))(z,fe).filter(nt=>!(z=>z.classList.contains("overlay-hidden"))(nt));return void 0===Me?Re[Re.length-1]:Re.find(nt=>nt.id===Me)},De=(z=!1)=>{const Me=K(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Me||(z?Me.setAttribute("aria-hidden","true"):Me.removeAttribute("aria-hidden"))},$e=function(){var z=(0,k.Z)(function*(fe,Me,Re,nt,Xe){var tt,Rt;if(fe.presented)return;De(!0),fe.presented=!0,fe.willPresent.emit(),null===(tt=fe.willPresentShorthand)||void 0===tt||tt.emit();const $t=(0,d.b)(fe),An=fe.enterAnimation?fe.enterAnimation:d.c.get(Me,"ios"===$t?Re:nt);(yield Ue(fe,An,fe.el,Xe))&&(fe.didPresent.emit(),null===(Rt=fe.didPresentShorthand)||void 0===Rt||Rt.emit()),"ION-TOAST"!==fe.el.tagName&&Oe(fe.el),fe.keyboardClose&&(null===document.activeElement||!fe.el.contains(document.activeElement))&&fe.el.focus()});return function(Me,Re,nt,Xe,tt){return z.apply(this,arguments)}}(),Oe=function(){var z=(0,k.Z)(function*(fe){let Me=document.activeElement;if(!Me)return;const Re=Me?.shadowRoot;Re&&(Me=Re.querySelector(ye)||Me),yield fe.onDidDismiss(),Me.focus()});return function(Me){return z.apply(this,arguments)}}(),Ie=function(){var z=(0,k.Z)(function*(fe,Me,Re,nt,Xe,tt,Rt){var $t,An;if(!fe.presented)return!1;De(!1),fe.presented=!1;try{fe.el.style.setProperty("pointer-events","none"),fe.willDismiss.emit({data:Me,role:Re}),null===($t=fe.willDismissShorthand)||void 0===$t||$t.emit({data:Me,role:Re});const en=(0,d.b)(fe),pe=fe.leaveAnimation?fe.leaveAnimation:d.c.get(nt,"ios"===en?Xe:tt);"gesture"!==Re&&(yield Ue(fe,pe,fe.el,Rt)),fe.didDismiss.emit({data:Me,role:Re}),null===(An=fe.didDismissShorthand)||void 0===An||An.emit({data:Me,role:Re}),Y.delete(fe),fe.el.classList.add("overlay-hidden"),fe.el.style.removeProperty("pointer-events")}catch(en){console.error(en)}return fe.el.remove(),!0});return function(Me,Re,nt,Xe,tt,Rt,$t){return z.apply(this,arguments)}}(),K=z=>z.querySelector("ion-app")||z.body,Ue=function(){var z=(0,k.Z)(function*(fe,Me,Re,nt){Re.classList.remove("overlay-hidden");const tt=Me(fe.el,nt);(!fe.animated||!d.c.getBoolean("animated",!0))&&tt.duration(0),fe.keyboardClose&&tt.beforeAddWrite(()=>{const $t=Re.ownerDocument.activeElement;$t?.matches("input,ion-input, ion-textarea")&&$t.blur()});const Rt=Y.get(fe)||[];return Y.set(fe,[...Rt,tt]),yield tt.play(),!0});return function(Me,Re,nt,Xe){return z.apply(this,arguments)}}(),We=(z,fe)=>{let Me;const Re=new Promise(nt=>Me=nt);return at(z,fe,nt=>{Me(nt.detail)}),Re},at=(z,fe,Me)=>{const Re=nt=>{(0,ee.b)(z,fe,Re),Me(nt)};(0,ee.a)(z,fe,Re)},It=z=>"cancel"===z||z===B,Be=z=>z(),L=(z,fe)=>{if("function"==typeof z)return d.c.get("_zoneGate",Be)(()=>{try{return z(fe)}catch(Re){throw Re}})},B="backdrop"},4263:(Fe,je,R)=>{"use strict";var k=R(9903),d=R(3855),ne=d(k("String.prototype.indexOf"));Fe.exports=function(W,Y){var j=k(W,!!Y);return"function"==typeof j&&ne(W,".prototype.")>-1?d(j):j}},3855:(Fe,je,R)=>{"use strict";var k=R(224),d=R(9903),ne=d("%Function.prototype.apply%"),ee=d("%Function.prototype.call%"),W=d("%Reflect.apply%",!0)||k.call(ee,ne),Y=d("%Object.getOwnPropertyDescriptor%",!0),j=d("%Object.defineProperty%",!0),G=d("%Math.max%");if(j)try{j({},"a",{value:1})}catch{j=null}Fe.exports=function(te){var $=W(k,ee,arguments);if(Y&&j){var O=Y($,"length");O.configurable&&j($,"length",{value:1+G(0,te.length-(arguments.length-1))})}return $};var ge=function(){return W(k,ne,arguments)};j?j(Fe.exports,"apply",{value:ge}):Fe.exports.apply=ge},5107:Fe=>{var je={utf8:{stringToBytes:function(R){return je.bin.stringToBytes(unescape(encodeURIComponent(R)))},bytesToString:function(R){return decodeURIComponent(escape(je.bin.bytesToString(R)))}},bin:{stringToBytes:function(R){for(var k=[],d=0;d<R.length;d++)k.push(255&R.charCodeAt(d));return k},bytesToString:function(R){for(var k=[],d=0;d<R.length;d++)k.push(String.fromCharCode(R[d]));return k.join("")}}};Fe.exports=je},7175:Fe=>{var je,R;je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fe.exports=R={rotl:function(k,d){return k<<d|k>>>32-d},rotr:function(k,d){return k<<32-d|k>>>d},endian:function(k){if(k.constructor==Number)return 16711935&R.rotl(k,8)|4278255360&R.rotl(k,24);for(var d=0;d<k.length;d++)k[d]=R.endian(k[d]);return k},randomBytes:function(k){for(var d=[];k>0;k--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(k){for(var d=[],ne=0,ee=0;ne<k.length;ne++,ee+=8)d[ee>>>5]|=k[ne]<<24-ee%32;return d},wordsToBytes:function(k){for(var d=[],ne=0;ne<32*k.length;ne+=8)d.push(k[ne>>>5]>>>24-ne%32&255);return d},bytesToHex:function(k){for(var d=[],ne=0;ne<k.length;ne++)d.push((k[ne]>>>4).toString(16)),d.push((15&k[ne]).toString(16));return d.join("")},hexToBytes:function(k){for(var d=[],ne=0;ne<k.length;ne+=2)d.push(parseInt(k.substr(ne,2),16));return d},bytesToBase64:function(k){for(var d=[],ne=0;ne<k.length;ne+=3)for(var ee=k[ne]<<16|k[ne+1]<<8|k[ne+2],W=0;W<4;W++)d.push(8*ne+6*W<=8*k.length?je.charAt(ee>>>6*(3-W)&63):"=");return d.join("")},base64ToBytes:function(k){k=k.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],ne=0,ee=0;ne<k.length;ee=++ne%4)0!=ee&&d.push((je.indexOf(k.charAt(ne-1))&Math.pow(2,-2*ee+8)-1)<<2*ee|je.indexOf(k.charAt(ne))>>>6-2*ee);return d}}},5541:(Fe,je,R)=>{"use strict";var k=R(2093),d=R(9102),ne=R(5734),ee=R(6687),W=R(8704),Y=R(8266),j=R(4666),G=R(2086),ge=R(9903),q=R(4263),te=R(2107),$=R(2069),O=R(8432),V=R(5709),ke=R(6189),X=q("Date.prototype.getTime"),ye=Object.getPrototypeOf,me=q("Object.prototype.toString"),oe=ge("%Set%",!0),le=q("Map.prototype.has",!0),xe=q("Map.prototype.get",!0),ce=q("Map.prototype.size",!0),ze=q("Set.prototype.add",!0),he=q("Set.prototype.delete",!0),be=q("Set.prototype.has",!0),De=q("Set.prototype.size",!0);function $e(B,z,fe,Me){for(var nt,Re=$(B);(nt=Re.next())&&!nt.done;)if(We(z,nt.value,fe,Me))return he(B,nt.value),!0;return!1}function Oe(B){return typeof B>"u"?null:"object"!=typeof B?"symbol"!=typeof B&&("string"!=typeof B&&"number"!=typeof B||+B==+B):void 0}function Ie(B,z,fe,Me,Re,nt){var Xe=Oe(fe);if(null!=Xe)return Xe;var tt=xe(z,Xe),Rt=ke({},Re,{strict:!1});return!(typeof tt>"u"&&!le(z,Xe)||!We(Me,tt,Rt,nt))&&!le(B,Xe)&&We(Me,tt,Rt,nt)}function K(B,z,fe){var Me=Oe(fe);return Me??(be(z,Me)&&!be(B,Me))}function Ue(B,z,fe,Me,Re,nt){for(var tt,Rt,Xe=$(B);(tt=Xe.next())&&!tt.done;)if(We(fe,Rt=tt.value,Re,nt)&&We(Me,xe(z,Rt),Re,nt))return he(B,Rt),!0;return!1}function We(B,z,fe,Me){var Re=fe||{};if(Re.strict?ne(B,z):B===z)return!0;if(G(B)!==G(z))return!1;if(!B||!z||"object"!=typeof B&&"object"!=typeof z)return Re.strict?ne(B,z):B==z;var $t,tt=Me.has(B),Rt=Me.has(z);if(tt&&Rt){if(Me.get(B)===Me.get(z))return!0}else $t={};return tt||Me.set(B,$t),Rt||Me.set(z,$t),function L(B,z,fe,Me){var Re,nt;if(typeof B!=typeof z||null==B||null==z||me(B)!==me(z)||d(B)!==d(z))return!1;if(Y(B)!==Y(z))return!1;var Rt=B instanceof Error,$t=z instanceof Error;if(Rt!==$t||(Rt||$t)&&(B.name!==z.name||B.message!==z.message))return!1;var An=ee(B),en=ee(z);if(An!==en||(An||en)&&(B.source!==z.source||W(B)!==W(z)))return!1;var pe=j(B),Wr=j(z);if(pe!==Wr||(pe||Wr)&&X(B)!==X(z)||fe.strict&&ye&&ye(B)!==ye(z)||V(B)!==V(z))return!1;var Dr=at(B),Yn=at(z);if(Dr!==Yn)return!1;if(Dr||Yn){if(B.length!==z.length)return!1;for(Re=0;Re<B.length;Re++)if(B[Re]!==z[Re])return!1;return!0}if(typeof B!=typeof z)return!1;var so=k(B),Jr=k(z);if(so.length!==Jr.length)return!1;for(so.sort(),Jr.sort(),Re=so.length-1;Re>=0;Re--)if(so[Re]!=Jr[Re])return!1;for(Re=so.length-1;Re>=0;Re--)if(!We(B[nt=so[Re]],z[nt],fe,Me))return!1;var kr=te(B),Gn=te(z);return kr===Gn&&("Set"===kr||"Set"===Gn?function It(B,z,fe,Me){if(De(B)!==De(z))return!1;for(var Xe,tt,Rt,Re=$(B),nt=$(z);(Xe=Re.next())&&!Xe.done;)if(Xe.value&&"object"==typeof Xe.value)Rt||(Rt=new oe),ze(Rt,Xe.value);else if(!be(z,Xe.value)){if(fe.strict||!K(B,z,Xe.value))return!1;Rt||(Rt=new oe),ze(Rt,Xe.value)}if(Rt){for(;(tt=nt.next())&&!tt.done;)if(tt.value&&"object"==typeof tt.value){if(!$e(Rt,tt.value,fe.strict,Me))return!1}else if(!fe.strict&&!be(B,tt.value)&&!$e(Rt,tt.value,fe.strict,Me))return!1;return 0===De(Rt)}return!0}(B,z,fe,Me):"Map"!==kr||function Be(B,z,fe,Me){if(ce(B)!==ce(z))return!1;for(var Xe,tt,Rt,$t,An,en,Re=$(B),nt=$(z);(Xe=Re.next())&&!Xe.done;)if(An=Xe.value[1],($t=Xe.value[0])&&"object"==typeof $t)Rt||(Rt=new oe),ze(Rt,$t);else if(typeof(en=xe(z,$t))>"u"&&!le(z,$t)||!We(An,en,fe,Me)){if(fe.strict||!Ie(B,z,$t,An,fe,Me))return!1;Rt||(Rt=new oe),ze(Rt,$t)}if(Rt){for(;(tt=nt.next())&&!tt.done;)if(en=tt.value[1],($t=tt.value[0])&&"object"==typeof $t){if(!Ue(Rt,B,$t,en,fe,Me))return!1}else if(!(fe.strict||B.has($t)&&We(xe(B,$t),en,fe,Me)||Ue(Rt,B,$t,en,ke({},fe,{strict:!1}),Me)))return!1;return 0===De(Rt)}return!0}(B,z,fe,Me))}(B,z,Re,Me)}function at(B){return!(!B||"object"!=typeof B||"number"!=typeof B.length||"function"!=typeof B.copy||"function"!=typeof B.slice||B.length>0&&"number"!=typeof B[0]||!(B.constructor&&B.constructor.isBuffer&&B.constructor.isBuffer(B)))}Fe.exports=function(z,fe,Me){return We(z,fe,Me,O())}},1790:(Fe,je,R)=>{"use strict";var k=R(2093),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ne=Object.prototype.toString,ee=Array.prototype.concat,W=Object.defineProperty,j=R(9006)(),G=W&&j,ge=function(te,$,O,V){$ in te&&(!function(te){return"function"==typeof te&&"[object Function]"===ne.call(te)}(V)||!V())||(G?W(te,$,{configurable:!0,enumerable:!1,value:O,writable:!0}):te[$]=O)},q=function(te,$){var O=arguments.length>2?arguments[2]:{},V=k($);d&&(V=ee.call(V,Object.getOwnPropertySymbols($)));for(var ke=0;ke<V.length;ke+=1)ge(te,V[ke],$[V[ke]],O[V[ke]])};q.supportsDescriptors=!!G,Fe.exports=q},9897:function(Fe,je){!function(R){"use strict";var $,ne=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ee=536870912,W=2*ee,j=new WeakMap,ge=function($,O){return function(V){var ke=O.get(V),X=void 0===ke?V.size:ke<W?ke+1:0;if(!V.has(X))return $(V,X);if(V.size<ee){for(;V.has(X);)X=Math.floor(Math.random()*W);return $(V,X)}if(V.size>ne)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(X);)X=Math.floor(Math.random()*ne);return $(V,X)}}(($=j,function(O,V){return $.set(O,V),V}),j),q=function($){return function(O){var V=$(O);return O.add(V),V}}(ge);R.addUniqueNumber=q,R.generateUniqueNumber=ge,Object.defineProperty(R,"__esModule",{value:!0})}(je)},3037:(Fe,je,R)=>{"use strict";var k=R(8642),d=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,ee=function(ge,q,te){for(var $=0,O=ge.length;$<O;$++)ne.call(ge,$)&&(null==te?q(ge[$],$,ge):q.call(te,ge[$],$,ge))},W=function(ge,q,te){for(var $=0,O=ge.length;$<O;$++)null==te?q(ge.charAt($),$,ge):q.call(te,ge.charAt($),$,ge)},Y=function(ge,q,te){for(var $ in ge)ne.call(ge,$)&&(null==te?q(ge[$],$,ge):q.call(te,ge[$],$,ge))};Fe.exports=function(ge,q,te){if(!k(q))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=te),"[object Array]"===d.call(ge)?ee(ge,q,$):"string"==typeof ge?W(ge,q,$):Y(ge,q,$)}},2199:Fe=>{"use strict";var je="Function.prototype.bind called on incompatible ",R=Array.prototype.slice,k=Object.prototype.toString,d="[object Function]";Fe.exports=function(ee){var W=this;if("function"!=typeof W||k.call(W)!==d)throw new TypeError(je+W);for(var j,Y=R.call(arguments,1),G=function(){if(this instanceof j){var O=W.apply(this,Y.concat(R.call(arguments)));return Object(O)===O?O:this}return W.apply(ee,Y.concat(R.call(arguments)))},ge=Math.max(0,W.length-Y.length),q=[],te=0;te<ge;te++)q.push("$"+te);if(j=Function("binder","return function ("+q.join(",")+"){ return binder.apply(this,arguments); }")(G),W.prototype){var $=function(){};$.prototype=W.prototype,j.prototype=new $,$.prototype=null}return j}},224:(Fe,je,R)=>{"use strict";var k=R(2199);Fe.exports=Function.prototype.bind||k},3677:Fe=>{"use strict";var je=function(){return"string"==typeof function(){}.name},R=Object.getOwnPropertyDescriptor;if(R)try{R([],"length")}catch{R=null}je.functionsHaveConfigurableNames=function(){if(!je()||!R)return!1;var ne=R(function(){},"name");return!!ne&&!!ne.configurable};var k=Function.prototype.bind;je.boundFunctionsHaveNames=function(){return je()&&"function"==typeof k&&""!==function(){}.bind().name},Fe.exports=je},9903:(Fe,je,R)=>{"use strict";var k,d=SyntaxError,ne=Function,ee=TypeError,W=function($e){try{return ne('"use strict"; return ('+$e+").constructor;")()}catch{}},Y=Object.getOwnPropertyDescriptor;if(Y)try{Y({},"")}catch{Y=null}var j=function(){throw new ee},G=Y?function(){try{return j}catch{try{return Y(arguments,"callee").get}catch{return j}}}():j,ge=R(524)(),q=Object.getPrototypeOf||function($e){return $e.__proto__},te={},$=typeof Uint8Array>"u"?k:q(Uint8Array),O={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":ge?q([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":te,"%AsyncGenerator%":te,"%AsyncGeneratorFunction%":te,"%AsyncIteratorPrototype%":te,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":ne,"%GeneratorFunction%":te,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ge?q(q([][Symbol.iterator]())):k,"%JSON%":"object"==typeof JSON?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ge?k:q((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ge?k:q((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ge?q(""[Symbol.iterator]()):k,"%Symbol%":ge?Symbol:k,"%SyntaxError%":d,"%ThrowTypeError%":G,"%TypedArray%":$,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet},V=function $e(Oe){var Ie;if("%AsyncFunction%"===Oe)Ie=W("async function () {}");else if("%GeneratorFunction%"===Oe)Ie=W("function* () {}");else if("%AsyncGeneratorFunction%"===Oe)Ie=W("async function* () {}");else if("%AsyncGenerator%"===Oe){var K=$e("%AsyncGeneratorFunction%");K&&(Ie=K.prototype)}else if("%AsyncIteratorPrototype%"===Oe){var Ue=$e("%AsyncGenerator%");Ue&&(Ie=q(Ue.prototype))}return O[Oe]=Ie,Ie},ke={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},X=R(224),ye=R(4031),me=X.call(Function.call,Array.prototype.concat),oe=X.call(Function.apply,Array.prototype.splice),le=X.call(Function.call,String.prototype.replace),xe=X.call(Function.call,String.prototype.slice),ce=X.call(Function.call,RegExp.prototype.exec),ze=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,he=/\\(\\)?/g,be=function(Oe){var Ie=xe(Oe,0,1),K=xe(Oe,-1);if("%"===Ie&&"%"!==K)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===K&&"%"!==Ie)throw new d("invalid intrinsic syntax, expected opening `%`");var Ue=[];return le(Oe,ze,function(We,at,It,Be){Ue[Ue.length]=It?le(Be,he,"$1"):at||We}),Ue},De=function(Oe,Ie){var Ue,K=Oe;if(ye(ke,K)&&(K="%"+(Ue=ke[K])[0]+"%"),ye(O,K)){var We=O[K];if(We===te&&(We=V(K)),typeof We>"u"&&!Ie)throw new ee("intrinsic "+Oe+" exists, but is not available. Please file an issue!");return{alias:Ue,name:K,value:We}}throw new d("intrinsic "+Oe+" does not exist!")};Fe.exports=function(Oe,Ie){if("string"!=typeof Oe||0===Oe.length)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ie)throw new ee('"allowMissing" argument must be a boolean');if(null===ce(/^%?[^%]*%?$/g,Oe))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var K=be(Oe),Ue=K.length>0?K[0]:"",We=De("%"+Ue+"%",Ie),at=We.name,It=We.value,Be=!1,L=We.alias;L&&(Ue=L[0],oe(K,me([0,1],L)));for(var B=1,z=!0;B<K.length;B+=1){var fe=K[B],Me=xe(fe,0,1),Re=xe(fe,-1);if(('"'===Me||"'"===Me||"`"===Me||'"'===Re||"'"===Re||"`"===Re)&&Me!==Re)throw new d("property names with quotes must have matching quotes");if(("constructor"===fe||!z)&&(Be=!0),ye(O,at="%"+(Ue+="."+fe)+"%"))It=O[at];else if(null!=It){if(!(fe in It)){if(!Ie)throw new ee("base intrinsic for "+Oe+" exists, but the property is not available.");return}if(Y&&B+1>=K.length){var nt=Y(It,fe);It=(z=!!nt)&&"get"in nt&&!("originalValue"in nt.get)?nt.get:It[fe]}else z=ye(It,fe),It=It[fe];z&&!Be&&(O[at]=It)}}return It}},5861:Fe=>{"use strict";var je=typeof BigInt<"u"&&BigInt;Fe.exports=function(){return"function"==typeof je&&"function"==typeof BigInt&&"bigint"==typeof je(42)&&"bigint"==typeof BigInt(42)}},9006:(Fe,je,R)=>{"use strict";var d=R(9903)("%Object.defineProperty%",!0),ne=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};ne.hasArrayLengthDefineBug=function(){if(!ne())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},Fe.exports=ne},524:(Fe,je,R)=>{"use strict";var k=typeof Symbol<"u"&&Symbol,d=R(6858);Fe.exports=function(){return"function"==typeof k&&"function"==typeof Symbol&&"symbol"==typeof k("foo")&&"symbol"==typeof Symbol("bar")&&d()}},6858:Fe=>{"use strict";Fe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},k=Symbol("test"),d=Object(k);if("string"==typeof k||"[object Symbol]"!==Object.prototype.toString.call(k)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(k in R[k]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var ee=Object.getOwnPropertySymbols(R);if(1!==ee.length||ee[0]!==k||!Object.prototype.propertyIsEnumerable.call(R,k))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var W=Object.getOwnPropertyDescriptor(R,k);if(42!==W.value||!0!==W.enumerable)return!1}return!0}},3261:(Fe,je,R)=>{"use strict";var k=R(6858);Fe.exports=function(){return k()&&!!Symbol.toStringTag}},4031:(Fe,je,R)=>{"use strict";var k=R(224);Fe.exports=k.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Fe,je,R)=>{"use strict";var k=R(3261)(),ne=R(4263)("Object.prototype.toString"),ee=function(G){return!(k&&G&&"object"==typeof G&&Symbol.toStringTag in G)&&"[object Arguments]"===ne(G)},W=function(G){return!!ee(G)||null!==G&&"object"==typeof G&&"number"==typeof G.length&&G.length>=0&&"[object Array]"!==ne(G)&&"[object Function]"===ne(G.callee)},Y=function(){return ee(arguments)}();ee.isLegacyArguments=W,Fe.exports=Y?ee:W},3:(Fe,je,R)=>{"use strict";if(R(5861)()){var d=BigInt.prototype.valueOf;Fe.exports=function(W){return!(null===W||typeof W>"u"||"boolean"==typeof W||"string"==typeof W||"number"==typeof W||"symbol"==typeof W||"function"==typeof W)&&("bigint"==typeof W||function(W){try{return d.call(W),!0}catch{}return!1}(W))}}else Fe.exports=function(W){return!1}},6180:(Fe,je,R)=>{"use strict";var k=R(4263),d=k("Boolean.prototype.toString"),ne=k("Object.prototype.toString"),Y=R(3261)();Fe.exports=function(G){return"boolean"==typeof G||null!==G&&"object"==typeof G&&(Y&&Symbol.toStringTag in G?function(G){try{return d(G),!0}catch{return!1}}(G):"[object Boolean]"===ne(G))}},5057:Fe=>{function je(k){return!!k.constructor&&"function"==typeof k.constructor.isBuffer&&k.constructor.isBuffer(k)}Fe.exports=function(k){return null!=k&&(je(k)||function R(k){return"function"==typeof k.readFloatLE&&"function"==typeof k.slice&&je(k.slice(0,0))}(k)||!!k._isBuffer)}},8642:Fe=>{"use strict";var k,d,je=Function.prototype.toString,R="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof R&&"function"==typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d}}),d={},R(function(){throw 42},null,k)}catch(te){te!==d&&(R=null)}else R=null;var ne=/^\s*class\b/,ee=function($){try{var O=je.call($);return ne.test(O)}catch{return!1}},Y=Object.prototype.toString,ge="function"==typeof Symbol&&!!Symbol.toStringTag,q="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};Fe.exports=R?function($){if($===q)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;try{R($,null,k)}catch(O){if(O!==d)return!1}return!ee($)}:function($){if($===q)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;if(ge)return function($){try{return!ee($)&&(je.call($),!0)}catch{return!1}}($);if(ee($))return!1;var O=Y.call($);return"[object Function]"===O||"[object GeneratorFunction]"===O}},4666:(Fe,je,R)=>{"use strict";var k=Date.prototype.getDay,ne=Object.prototype.toString,W=R(3261)();Fe.exports=function(j){return"object"==typeof j&&null!==j&&(W?function(j){try{return k.call(j),!0}catch{return!1}}(j):"[object Date]"===ne.call(j))}},9898:Fe=>{"use strict";var k,je="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;je||(k=function(W){return!1});var d=je?Map.prototype.has:null,ne=R?Set.prototype.has:null;!k&&!d&&(k=function(W){return!1}),Fe.exports=k||function(W){if(!W||"object"!=typeof W)return!1;try{if(d.call(W),ne)try{ne.call(W)}catch{return!0}return W instanceof je}catch{}return!1}},1046:(Fe,je,R)=>{"use strict";var k=Number.prototype.toString,ne=Object.prototype.toString,W=R(3261)();Fe.exports=function(j){return"number"==typeof j||"object"==typeof j&&(W?function(j){try{return k.call(j),!0}catch{return!1}}(j):"[object Number]"===ne.call(j))}},6687:(Fe,je,R)=>{"use strict";var ne,ee,W,Y,k=R(4263),d=R(3261)();if(d){ne=k("Object.prototype.hasOwnProperty"),ee=k("RegExp.prototype.exec"),W={};var j=function(){throw W};Y={toString:j,valueOf:j},"symbol"==typeof Symbol.toPrimitive&&(Y[Symbol.toPrimitive]=j)}var G=k("Object.prototype.toString"),ge=Object.getOwnPropertyDescriptor;Fe.exports=d?function($){if(!$||"object"!=typeof $)return!1;var O=ge($,"lastIndex");if(!O||!ne(O,"value"))return!1;try{ee($,Y)}catch(ke){return ke===W}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===G($)}},3870:Fe=>{"use strict";var k,je="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;R||(k=function(W){return!1});var d=je?Map.prototype.has:null,ne=R?Set.prototype.has:null;!k&&!ne&&(k=function(W){return!1}),Fe.exports=k||function(W){if(!W||"object"!=typeof W)return!1;try{if(ne.call(W),d)try{d.call(W)}catch{return!0}return W instanceof R}catch{}return!1}},4764:(Fe,je,R)=>{"use strict";var k=String.prototype.valueOf,ne=Object.prototype.toString,W=R(3261)();Fe.exports=function(j){return"string"==typeof j||"object"==typeof j&&(W?function(j){try{return k.call(j),!0}catch{return!1}}(j):"[object String]"===ne.call(j))}},6434:(Fe,je,R)=>{"use strict";var k=Object.prototype.toString;if(R(524)()){var ne=Symbol.prototype.toString,ee=/^Symbol\(.*\)$/;Fe.exports=function(j){if("symbol"==typeof j)return!0;if("[object Symbol]"!==k.call(j))return!1;try{return function(j){return"symbol"==typeof j.valueOf()&&ee.test(ne.call(j))}(j)}catch{return!1}}}else Fe.exports=function(j){return!1}},7673:(Fe,je,R)=>{"use strict";var k=R(3037),d=R(5271),ne=R(4263),ee=ne("Object.prototype.toString"),W=R(3261)(),Y=typeof globalThis>"u"?global:globalThis,j=d(),G=ne("Array.prototype.indexOf",!0)||function(ke,X){for(var ye=0;ye<ke.length;ye+=1)if(ke[ye]===X)return ye;return-1},ge=ne("String.prototype.slice"),q={},te=R(2292),$=Object.getPrototypeOf;W&&te&&$&&k(j,function(V){var ke=new Y[V];if(Symbol.toStringTag in ke){var X=$(ke),ye=te(X,Symbol.toStringTag);if(!ye){var me=$(X);ye=te(me,Symbol.toStringTag)}q[V]=ye.get}}),Fe.exports=function(ke){if(!ke||"object"!=typeof ke)return!1;if(!W||!(Symbol.toStringTag in ke)){var X=ge(ee(ke),8,-1);return G(j,X)>-1}return!!te&&function(ke){var X=!1;return k(q,function(ye,me){if(!X)try{X=ye.call(ke)===me}catch{}}),X}(ke)}},5585:Fe=>{"use strict";var k,je="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,R="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;je||(k=function(W){return!1});var d=je?je.prototype.has:null,ne=R?R.prototype.has:null;!k&&!d&&(k=function(W){return!1}),Fe.exports=k||function(W){if(!W||"object"!=typeof W)return!1;try{if(d.call(W,d),ne)try{ne.call(W,ne)}catch{return!0}return W instanceof je}catch{}return!1}},1902:(Fe,je,R)=>{"use strict";var k=R(9903),d=R(4263),ne=k("%WeakSet%",!0),ee=d("WeakSet.prototype.has",!0);if(ee){var W=d("WeakMap.prototype.has",!0);Fe.exports=function(j){if(!j||"object"!=typeof j)return!1;try{if(ee(j,ee),W)try{W(j,W)}catch{return!0}return j instanceof ne}catch{}return!1}}else Fe.exports=function(j){return!1}},8266:Fe=>{var je={}.toString;Fe.exports=Array.isArray||function(R){return"[object Array]"==je.call(R)}},5023:(Fe,je,R)=>{var k,d,ne,ee,W;k=R(7175),d=R(5107).utf8,ne=R(5057),ee=R(5107).bin,(W=function(Y,j){Y.constructor==String?Y=j&&"binary"===j.encoding?ee.stringToBytes(Y):d.stringToBytes(Y):ne(Y)?Y=Array.prototype.slice.call(Y,0):!Array.isArray(Y)&&Y.constructor!==Uint8Array&&(Y=Y.toString());for(var G=k.bytesToWords(Y),ge=8*Y.length,q=1732584193,te=-271733879,$=-1732584194,O=271733878,V=0;V<G.length;V++)G[V]=16711935&(G[V]<<8|G[V]>>>24)|4278255360&(G[V]<<24|G[V]>>>8);G[ge>>>5]|=128<<ge%32,G[14+(ge+64>>>9<<4)]=ge;var ke=W._ff,X=W._gg,ye=W._hh,me=W._ii;for(V=0;V<G.length;V+=16){var oe=q,le=te,xe=$,ce=O;q=ke(q,te,$,O,G[V+0],7,-680876936),O=ke(O,q,te,$,G[V+1],12,-389564586),$=ke($,O,q,te,G[V+2],17,606105819),te=ke(te,$,O,q,G[V+3],22,-1044525330),q=ke(q,te,$,O,G[V+4],7,-176418897),O=ke(O,q,te,$,G[V+5],12,1200080426),$=ke($,O,q,te,G[V+6],17,-1473231341),te=ke(te,$,O,q,G[V+7],22,-45705983),q=ke(q,te,$,O,G[V+8],7,1770035416),O=ke(O,q,te,$,G[V+9],12,-1958414417),$=ke($,O,q,te,G[V+10],17,-42063),te=ke(te,$,O,q,G[V+11],22,-1990404162),q=ke(q,te,$,O,G[V+12],7,1804603682),O=ke(O,q,te,$,G[V+13],12,-40341101),$=ke($,O,q,te,G[V+14],17,-1502002290),q=X(q,te=ke(te,$,O,q,G[V+15],22,1236535329),$,O,G[V+1],5,-165796510),O=X(O,q,te,$,G[V+6],9,-1069501632),$=X($,O,q,te,G[V+11],14,643717713),te=X(te,$,O,q,G[V+0],20,-373897302),q=X(q,te,$,O,G[V+5],5,-701558691),O=X(O,q,te,$,G[V+10],9,38016083),$=X($,O,q,te,G[V+15],14,-660478335),te=X(te,$,O,q,G[V+4],20,-405537848),q=X(q,te,$,O,G[V+9],5,568446438),O=X(O,q,te,$,G[V+14],9,-1019803690),$=X($,O,q,te,G[V+3],14,-187363961),te=X(te,$,O,q,G[V+8],20,1163531501),q=X(q,te,$,O,G[V+13],5,-1444681467),O=X(O,q,te,$,G[V+2],9,-51403784),$=X($,O,q,te,G[V+7],14,1735328473),q=ye(q,te=X(te,$,O,q,G[V+12],20,-1926607734),$,O,G[V+5],4,-378558),O=ye(O,q,te,$,G[V+8],11,-2022574463),$=ye($,O,q,te,G[V+11],16,1839030562),te=ye(te,$,O,q,G[V+14],23,-35309556),q=ye(q,te,$,O,G[V+1],4,-1530992060),O=ye(O,q,te,$,G[V+4],11,1272893353),$=ye($,O,q,te,G[V+7],16,-155497632),te=ye(te,$,O,q,G[V+10],23,-1094730640),q=ye(q,te,$,O,G[V+13],4,681279174),O=ye(O,q,te,$,G[V+0],11,-358537222),$=ye($,O,q,te,G[V+3],16,-722521979),te=ye(te,$,O,q,G[V+6],23,76029189),q=ye(q,te,$,O,G[V+9],4,-640364487),O=ye(O,q,te,$,G[V+12],11,-421815835),$=ye($,O,q,te,G[V+15],16,530742520),q=me(q,te=ye(te,$,O,q,G[V+2],23,-995338651),$,O,G[V+0],6,-198630844),O=me(O,q,te,$,G[V+7],10,1126891415),$=me($,O,q,te,G[V+14],15,-1416354905),te=me(te,$,O,q,G[V+5],21,-57434055),q=me(q,te,$,O,G[V+12],6,1700485571),O=me(O,q,te,$,G[V+3],10,-1894986606),$=me($,O,q,te,G[V+10],15,-1051523),te=me(te,$,O,q,G[V+1],21,-2054922799),q=me(q,te,$,O,G[V+8],6,1873313359),O=me(O,q,te,$,G[V+15],10,-30611744),$=me($,O,q,te,G[V+6],15,-1560198380),te=me(te,$,O,q,G[V+13],21,1309151649),q=me(q,te,$,O,G[V+4],6,-145523070),O=me(O,q,te,$,G[V+11],10,-1120210379),$=me($,O,q,te,G[V+2],15,718787259),te=me(te,$,O,q,G[V+9],21,-343485551),q=q+oe>>>0,te=te+le>>>0,$=$+xe>>>0,O=O+ce>>>0}return k.endian([q,te,$,O])})._ff=function(Y,j,G,ge,q,te,$){var O=Y+(j&G|~j&ge)+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._gg=function(Y,j,G,ge,q,te,$){var O=Y+(j&ge|G&~ge)+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._hh=function(Y,j,G,ge,q,te,$){var O=Y+(j^G^ge)+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._ii=function(Y,j,G,ge,q,te,$){var O=Y+(G^(j|~ge))+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._blocksize=16,W._digestsize=16,Fe.exports=function(Y,j){if(null==Y)throw new Error("Illegal argument "+Y);var G=k.wordsToBytes(W(Y,j));return j&&j.asBytes?G:j&&j.asString?ee.bytesToString(G):k.bytesToHex(G)}},9052:(Fe,je)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var R=[];R[0]=function(){return function(){}},R[1]=function(ee,W){return typeof W>"u"?ee:function(j){ee(j,W)}};var ne=function(){function ee(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ee.prototype.addHandler=function(W,Y){return this.isHandlerAttached(W,Y)||(this._handlers.push(W),this._contexts.push(Y),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.removeHandler=function(W,Y){var j=this._getHandlerIndex(W,Y);return typeof j<"u"&&(this._handlers.splice(j,1),this._contexts.splice(j,1),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.isHandlerAttached=function(W,Y){return typeof this._getHandlerIndex(W,Y)<"u"},ee.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ee.prototype._getHandlerIndex=function(W,Y){var G,j=this._handlers.length;for(G=0;G<j&&(this._handlers[G]!==W||this._contexts[G]!==Y);G++);return G<j?G:void 0},ee.prototype._createDispatcher=function(){this.dispatch=function k(ee){return R[ee]||(R[ee]=function d(ee){for(var W="return function dispatcher"+ee+"(payload) {\n",Y=[],j=[],G=0;G<ee;G++)Y.push("cb"+G),j.push("ctx"+G),W+="    cb"+G+"(payload, ctx"+G+");\n";return W+="};",new(Function.bind.apply(Function,[void 0].concat(Y.concat(j),[W])))}(ee)),R[ee]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ee}();je.default=ne},1158:(Fe,je,R)=>{"use strict";var d=R(9052);je.j=d.default},8597:(Fe,je,R)=>{var k="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ne=k&&d&&"function"==typeof d.get?d.get:null,ee=k&&Map.prototype.forEach,W="function"==typeof Set&&Set.prototype,Y=Object.getOwnPropertyDescriptor&&W?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,j=W&&Y&&"function"==typeof Y.get?Y.get:null,G=W&&Set.prototype.forEach,q="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,V="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ke=Boolean.prototype.valueOf,X=Object.prototype.toString,ye=Function.prototype.toString,me=String.prototype.match,oe=String.prototype.slice,le=String.prototype.replace,xe=String.prototype.toUpperCase,ce=String.prototype.toLowerCase,ze=RegExp.prototype.test,he=Array.prototype.concat,be=Array.prototype.join,De=Array.prototype.slice,$e=Math.floor,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,Ie=Object.getOwnPropertySymbols,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,We="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,at=Object.prototype.propertyIsEnumerable,It=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function Be(re,Le){if(re===1/0||re===-1/0||re!=re||re&&re>-1e3&&re<1e3||ze.call(/e/,Le))return Le;var un=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof re){var wn=re<0?-$e(-re):$e(re);if(wn!==re){var Ot=String(wn),on=oe.call(Le,Ot.length+1);return le.call(Ot,un,"$&_")+"."+le.call(le.call(on,/([0-9]{3})/g,"$&_"),/_$/,"")}}return le.call(Le,un,"$&_")}var L=R(4654),B=L.custom,z=en(B)?B:null;function fe(re,Le,un){var wn="double"===(un.quoteStyle||Le)?'"':"'";return wn+re+wn}function Me(re){return le.call(String(re),/"/g,"&quot;")}function Re(re){return!("[object Array]"!==Yn(re)||We&&"object"==typeof re&&We in re)}function Xe(re){return!("[object RegExp]"!==Yn(re)||We&&"object"==typeof re&&We in re)}function en(re){if(Ue)return re&&"object"==typeof re&&re instanceof Symbol;if("symbol"==typeof re)return!0;if(!re||"object"!=typeof re||!K)return!1;try{return K.call(re),!0}catch{}return!1}Fe.exports=function re(Le,un,wn,Ot){var on=un||{};if(Dr(on,"quoteStyle")&&"single"!==on.quoteStyle&&"double"!==on.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dr(on,"maxStringLength")&&("number"==typeof on.maxStringLength?on.maxStringLength<0&&on.maxStringLength!==1/0:null!==on.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var tr=!Dr(on,"customInspect")||on.customInspect;if("boolean"!=typeof tr&&"symbol"!==tr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dr(on,"indent")&&null!==on.indent&&"\t"!==on.indent&&!(parseInt(on.indent,10)===on.indent&&on.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dr(on,"numericSeparator")&&"boolean"!=typeof on.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Yt=on.numericSeparator;if(typeof Le>"u")return"undefined";if(null===Le)return"null";if("boolean"==typeof Le)return Le?"true":"false";if("string"==typeof Le)return sr(Le,on);if("number"==typeof Le){if(0===Le)return 1/0/Le>0?"0":"-0";var Kn=String(Le);return Yt?Be(Le,Kn):Kn}if("bigint"==typeof Le){var ar=String(Le)+"n";return Yt?Be(Le,ar):ar}var Vt=typeof on.depth>"u"?5:on.depth;if(typeof wn>"u"&&(wn=0),wn>=Vt&&Vt>0&&"object"==typeof Le)return Re(Le)?"[Array]":"[Object]";var nr=function yi(re,Le){var un;if("\t"===re.indent)un="\t";else{if(!("number"==typeof re.indent&&re.indent>0))return null;un=be.call(Array(re.indent+1)," ")}return{base:un,prev:be.call(Array(Le+1),un)}}(on,wn);if(typeof Ot>"u")Ot=[];else if(Jr(Ot,Le)>=0)return"[Circular]";function S(yo,D,Zr){if(D&&(Ot=De.call(Ot)).push(D),Zr){var Br={depth:on.depth};return Dr(on,"quoteStyle")&&(Br.quoteStyle=on.quoteStyle),re(yo,Br,wn+1,Ot)}return re(yo,on,wn+1,Ot)}if("function"==typeof Le&&!Xe(Le)){var Mt=function so(re){if(re.name)return re.name;var Le=me.call(ye.call(re),/^function\s*([\w$]+)/);return Le?Le[1]:null}(Le),hr=et(Le,S);return"[Function"+(Mt?": "+Mt:" (anonymous)")+"]"+(hr.length>0?" { "+be.call(hr,", ")+" }":"")}if(en(Le)){var M=Ue?le.call(String(Le),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Le);return"object"!=typeof Le||Ue?M:go(M)}if(function mo(re){return!(!re||"object"!=typeof re)&&(typeof HTMLElement<"u"&&re instanceof HTMLElement||"string"==typeof re.nodeName&&"function"==typeof re.getAttribute)}(Le)){for(var Pr="<"+ce.call(String(Le.nodeName)),ao=Le.attributes||[],lo=0;lo<ao.length;lo++)Pr+=" "+ao[lo].name+"="+fe(Me(ao[lo].value),"double",on);return Pr+=">",Le.childNodes&&Le.childNodes.length&&(Pr+="..."),Pr+"</"+ce.call(String(Le.nodeName))+">"}if(Re(Le)){if(0===Le.length)return"[]";var Ro=et(Le,S);return nr&&!function qr(re){for(var Le=0;Le<re.length;Le++)if(Jr(re[Le],"\n")>=0)return!1;return!0}(Ro)?"["+xr(Ro,nr)+"]":"[ "+be.call(Ro,", ")+" ]"}if(function tt(re){return!("[object Error]"!==Yn(re)||We&&"object"==typeof re&&We in re)}(Le)){var vr=et(Le,S);return"cause"in Error.prototype||!("cause"in Le)||at.call(Le,"cause")?0===vr.length?"["+String(Le)+"]":"{ ["+String(Le)+"] "+be.call(vr,", ")+" }":"{ ["+String(Le)+"] "+be.call(he.call("[cause]: "+S(Le.cause),vr),", ")+" }"}if("object"==typeof Le&&tr){if(z&&"function"==typeof Le[z]&&L)return L(Le,{depth:Vt-wn});if("symbol"!==tr&&"function"==typeof Le.inspect)return Le.inspect()}if(function kr(re){if(!ne||!re||"object"!=typeof re)return!1;try{ne.call(re);try{j.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}(Le)){var Io=[];return ee.call(Le,function(yo,D){Io.push(S(D,Le,!0)+" => "+S(yo,Le))}),Sn("Map",ne.call(Le),Io,nr)}if(function yr(re){if(!j||!re||"object"!=typeof re)return!1;try{j.call(re);try{ne.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}(Le)){var Gt=[];return G.call(Le,function(yo){Gt.push(S(yo,Le))}),Sn("Set",j.call(Le),Gt,nr)}if(function Gn(re){if(!q||!re||"object"!=typeof re)return!1;try{q.call(re,q);try{$.call(re,$)}catch{return!0}return re instanceof WeakMap}catch{}return!1}(Le))return $r("WeakMap");if(function gi(re){if(!$||!re||"object"!=typeof re)return!1;try{$.call(re,$);try{q.call(re,q)}catch{return!0}return re instanceof WeakSet}catch{}return!1}(Le))return $r("WeakSet");if(function ir(re){if(!V||!re||"object"!=typeof re)return!1;try{return V.call(re),!0}catch{}return!1}(Le))return $r("WeakRef");if(function $t(re){return!("[object Number]"!==Yn(re)||We&&"object"==typeof re&&We in re)}(Le))return go(S(Number(Le)));if(function pe(re){if(!re||"object"!=typeof re||!Oe)return!1;try{return Oe.call(re),!0}catch{}return!1}(Le))return go(S(Oe.call(Le)));if(function An(re){return!("[object Boolean]"!==Yn(re)||We&&"object"==typeof re&&We in re)}(Le))return go(ke.call(Le));if(function Rt(re){return!("[object String]"!==Yn(re)||We&&"object"==typeof re&&We in re)}(Le))return go(S(String(Le)));if(!function nt(re){return!("[object Date]"!==Yn(re)||We&&"object"==typeof re&&We in re)}(Le)&&!Xe(Le)){var eo=et(Le,S),rr=It?It(Le)===Object.prototype:Le instanceof Object||Le.constructor===Object,to=Le instanceof Object?"":"null prototype",no=!rr&&We&&Object(Le)===Le&&We in Le?oe.call(Yn(Le),8,-1):to?"Object":"",qt=(rr||"function"!=typeof Le.constructor?"":Le.constructor.name?Le.constructor.name+" ":"")+(no||to?"["+be.call(he.call([],no||[],to||[]),": ")+"] ":"");return 0===eo.length?qt+"{}":nr?qt+"{"+xr(eo,nr)+"}":qt+"{ "+be.call(eo,", ")+" }"}return String(Le)};var Wr=Object.prototype.hasOwnProperty||function(re){return re in this};function Dr(re,Le){return Wr.call(re,Le)}function Yn(re){return X.call(re)}function Jr(re,Le){if(re.indexOf)return re.indexOf(Le);for(var un=0,wn=re.length;un<wn;un++)if(re[un]===Le)return un;return-1}function sr(re,Le){if(re.length>Le.maxStringLength){var un=re.length-Le.maxStringLength,wn="... "+un+" more character"+(un>1?"s":"");return sr(oe.call(re,0,Le.maxStringLength),Le)+wn}return fe(le.call(le.call(re,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Xn),"single",Le)}function Xn(re){var Le=re.charCodeAt(0),un={8:"b",9:"t",10:"n",12:"f",13:"r"}[Le];return un?"\\"+un:"\\x"+(Le<16?"0":"")+xe.call(Le.toString(16))}function go(re){return"Object("+re+")"}function $r(re){return re+" { ? }"}function Sn(re,Le,un,wn){return re+" ("+Le+") {"+(wn?xr(un,wn):be.call(un,", "))+"}"}function xr(re,Le){if(0===re.length)return"";var un="\n"+Le.prev+Le.base;return un+be.call(re,","+un)+"\n"+Le.prev}function et(re,Le){var un=Re(re),wn=[];if(un){wn.length=re.length;for(var Ot=0;Ot<re.length;Ot++)wn[Ot]=Dr(re,Ot)?Le(re[Ot],re):""}var tr,on="function"==typeof Ie?Ie(re):[];if(Ue){tr={};for(var Yt=0;Yt<on.length;Yt++)tr["$"+on[Yt]]=on[Yt]}for(var Kn in re)!Dr(re,Kn)||un&&String(Number(Kn))===Kn&&Kn<re.length||Ue&&tr["$"+Kn]instanceof Symbol||(ze.call(/[^\w$]/,Kn)?wn.push(Le(Kn,re)+": "+Le(re[Kn],re)):wn.push(Kn+": "+Le(re[Kn],re)));if("function"==typeof Ie)for(var ar=0;ar<on.length;ar++)at.call(re,on[ar])&&wn.push("["+Le(on[ar])+"]: "+Le(re[on[ar]],re));return wn}},6872:Fe=>{"use strict";var je=function(R){return R!=R};Fe.exports=function(k,d){return 0===k&&0===d?1/k==1/d:!!(k===d||je(k)&&je(d))}},5734:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(3855),ne=R(6872),ee=R(3306),W=R(7715),Y=d(ee(),Object);k(Y,{getPolyfill:ee,implementation:ne,shim:W}),Fe.exports=Y},3306:(Fe,je,R)=>{"use strict";var k=R(6872);Fe.exports=function(){return"function"==typeof Object.is?Object.is:k}},7715:(Fe,je,R)=>{"use strict";var k=R(3306),d=R(1790);Fe.exports=function(){var ee=k();return d(Object,{is:ee},{is:function(){return Object.is!==ee}}),ee}},7010:(Fe,je,R)=>{"use strict";var k;if(!Object.keys){var d=Object.prototype.hasOwnProperty,ne=Object.prototype.toString,ee=R(5185),W=Object.prototype.propertyIsEnumerable,Y=!W.call({toString:null},"toString"),j=W.call(function(){},"prototype"),G=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ge=function(O){var V=O.constructor;return V&&V.prototype===O},q={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},te=function(){if(typeof window>"u")return!1;for(var O in window)try{if(!q["$"+O]&&d.call(window,O)&&null!==window[O]&&"object"==typeof window[O])try{ge(window[O])}catch{return!0}}catch{return!0}return!1}();k=function(V){var ke=null!==V&&"object"==typeof V,X="[object Function]"===ne.call(V),ye=ee(V),me=ke&&"[object String]"===ne.call(V),oe=[];if(!ke&&!X&&!ye)throw new TypeError("Object.keys called on a non-object");var le=j&&X;if(me&&V.length>0&&!d.call(V,0))for(var xe=0;xe<V.length;++xe)oe.push(String(xe));if(ye&&V.length>0)for(var ce=0;ce<V.length;++ce)oe.push(String(ce));else for(var ze in V)(!le||"prototype"!==ze)&&d.call(V,ze)&&oe.push(String(ze));if(Y)for(var he=function(O){if(typeof window>"u"||!te)return ge(O);try{return ge(O)}catch{return!1}}(V),be=0;be<G.length;++be)(!he||"constructor"!==G[be])&&d.call(V,G[be])&&oe.push(G[be]);return oe}}Fe.exports=k},2093:(Fe,je,R)=>{"use strict";var k=Array.prototype.slice,d=R(5185),ne=Object.keys,ee=ne?function(j){return ne(j)}:R(7010),W=Object.keys;ee.shim=function(){if(Object.keys){var j=function(){var G=Object.keys(arguments);return G&&G.length===arguments.length}(1,2);j||(Object.keys=function(ge){return d(ge)?W(k.call(ge)):W(ge)})}else Object.keys=ee;return Object.keys||ee},Fe.exports=ee},5185:Fe=>{"use strict";var je=Object.prototype.toString;Fe.exports=function(k){var d=je.call(k),ne="[object Arguments]"===d;return ne||(ne="[object Array]"!==d&&null!==k&&"object"==typeof k&&"number"==typeof k.length&&k.length>=0&&"[object Function]"===je.call(k.callee)),ne}},2461:(Fe,je,R)=>{"use strict";var k=R(2093),d=function(ge){return typeof ge<"u"&&null!==ge},ne=R(6858)(),ee=R(4263),W=Object,Y=ee("Array.prototype.push"),j=ee("Object.prototype.propertyIsEnumerable"),G=ne?Object.getOwnPropertySymbols:null;Fe.exports=function(q,te){if(!d(q))throw new TypeError("target must be an object");var O,V,ke,X,ye,me,oe,$=W(q);for(O=1;O<arguments.length;++O){V=W(arguments[O]),X=k(V);var le=ne&&(Object.getOwnPropertySymbols||G);if(le)for(ye=le(V),ke=0;ke<ye.length;++ke)j(V,oe=ye[ke])&&Y(X,oe);for(ke=0;ke<X.length;++ke)me=V[oe=X[ke]],j(V,oe)&&($[oe]=me)}return $}},6189:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(3855),ne=R(2461),ee=R(6255),W=R(152),Y=d.apply(ee()),j=function(ge,q){return Y(Object,arguments)};k(j,{getPolyfill:ee,implementation:ne,shim:W}),Fe.exports=j},6255:(Fe,je,R)=>{"use strict";var k=R(2461);Fe.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ee="abcdefghijklmnopqrst",W=ee.split(""),Y={},j=0;j<W.length;++j)Y[W[j]]=W[j];var G=Object.assign({},Y),ge="";for(var q in G)ge+=q;return ee!==ge}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ee=Object.preventExtensions({1:2});try{Object.assign(ee,"xy")}catch{return"y"===ee[1]}return!1}()?k:Object.assign}},152:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(6255);Fe.exports=function(){var ee=d();return k(Object,{assign:ee},{assign:function(){return Object.assign!==ee}}),ee}},151:(Fe,je)=>{"use strict";var R=Object.prototype.hasOwnProperty;function d(Y){try{return decodeURIComponent(Y.replace(/\+/g," "))}catch{return null}}function ne(Y){try{return encodeURIComponent(Y)}catch{return null}}je.stringify=function W(Y,j){j=j||"";var ge,q,G=[];for(q in"string"!=typeof j&&(j="?"),Y)if(R.call(Y,q)){if(!(ge=Y[q])&&(null==ge||isNaN(ge))&&(ge=""),q=ne(q),ge=ne(ge),null===q||null===ge)continue;G.push(q+"="+ge)}return G.length?j+G.join("&"):""},je.parse=function ee(Y){for(var ge,j=/([^=?#&]+)=?([^&]*)/g,G={};ge=j.exec(Y);){var q=d(ge[1]),te=d(ge[2]);null===q||null===te||q in G||(G[q]=te)}return G}},4040:(Fe,je,R)=>{"use strict";var k=R(3677).functionsHaveConfigurableNames(),d=Object,ne=TypeError;Fe.exports=function(){if(null!=this&&this!==d(this))throw new ne("RegExp.prototype.flags getter called on non-object");var W="";return this.hasIndices&&(W+="d"),this.global&&(W+="g"),this.ignoreCase&&(W+="i"),this.multiline&&(W+="m"),this.dotAll&&(W+="s"),this.unicode&&(W+="u"),this.sticky&&(W+="y"),W},k&&Object.defineProperty&&Object.defineProperty(Fe.exports,"name",{value:"get flags"})},8704:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(3855),ne=R(4040),ee=R(9783),W=R(9369),Y=d(ee());k(Y,{getPolyfill:ee,implementation:ne,shim:W}),Fe.exports=Y},9783:(Fe,je,R)=>{"use strict";var k=R(4040),d=R(1790).supportsDescriptors,ne=Object.getOwnPropertyDescriptor;Fe.exports=function(){if(d&&"gim"===/a/gim.flags){var W=ne(RegExp.prototype,"flags");if(W&&"function"==typeof W.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Y="",j={};if(Object.defineProperty(j,"hasIndices",{get:function(){Y+="d"}}),Object.defineProperty(j,"sticky",{get:function(){Y+="y"}}),"dy"===Y)return W.get}}return k}},9369:(Fe,je,R)=>{"use strict";var k=R(1790).supportsDescriptors,d=R(9783),ne=Object.getOwnPropertyDescriptor,ee=Object.defineProperty,W=TypeError,Y=Object.getPrototypeOf,j=/a/;Fe.exports=function(){if(!k||!Y)throw new W("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ge=d(),q=Y(j),te=ne(q,"flags");return(!te||te.get!==ge)&&ee(q,"flags",{configurable:!0,enumerable:!1,get:ge}),ge}},47:Fe=>{"use strict";Fe.exports=function(R,k){if(k=k.split(":")[0],!(R=+R))return!1;switch(k){case"http":case"ws":return 80!==R;case"https":case"wss":return 443!==R;case"ftp":return 21!==R;case"gopher":return 70!==R;case"file":return!1}return 0!==R}},8432:(Fe,je,R)=>{"use strict";var k=R(9903),d=R(4263),ne=R(8597),ee=k("%TypeError%"),W=k("%WeakMap%",!0),Y=k("%Map%",!0),j=d("WeakMap.prototype.get",!0),G=d("WeakMap.prototype.set",!0),ge=d("WeakMap.prototype.has",!0),q=d("Map.prototype.get",!0),te=d("Map.prototype.set",!0),$=d("Map.prototype.has",!0),O=function(ye,me){for(var le,oe=ye;null!==(le=oe.next);oe=le)if(le.key===me)return oe.next=le.next,le.next=ye.next,ye.next=le,le};Fe.exports=function(){var me,oe,le,xe={assert:function(ce){if(!xe.has(ce))throw new ee("Side channel does not contain "+ne(ce))},get:function(ce){if(W&&ce&&("object"==typeof ce||"function"==typeof ce)){if(me)return j(me,ce)}else if(Y){if(oe)return q(oe,ce)}else if(le)return function(ye,me){var oe=O(ye,me);return oe&&oe.value}(le,ce)},has:function(ce){if(W&&ce&&("object"==typeof ce||"function"==typeof ce)){if(me)return ge(me,ce)}else if(Y){if(oe)return $(oe,ce)}else if(le)return function(ye,me){return!!O(ye,me)}(le,ce);return!1},set:function(ce,ze){W&&ce&&("object"==typeof ce||"function"==typeof ce)?(me||(me=new W),G(me,ce,ze)):Y?(oe||(oe=new Y),te(oe,ce,ze)):(le||(le={key:{},next:null}),function(ye,me,oe){var le=O(ye,me);le?le.value=oe:ye.next={key:me,next:ye.next,value:oe}}(le,ce,ze))}};return xe}},9233:(Fe,je,R)=>{"use strict";var k=R(47),d=R(151),ne=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ee=/[\n\r\t]/g,W=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Y=/:\d+$/,j=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,G=/^[a-zA-Z]:/;function ge(oe){return(oe||"").toString().replace(ne,"")}var q=[["#","hash"],["?","query"],function(le,xe){return O(xe.protocol)?le.replace(/\\/g,"/"):le},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],te={hash:1,query:1};function $(oe){var le;le=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var he,ce={},ze=typeof(oe=oe||le.location||{});if("blob:"===oe.protocol)ce=new X(unescape(oe.pathname),{});else if("string"===ze)for(he in ce=new X(oe,{}),te)delete ce[he];else if("object"===ze){for(he in oe)he in te||(ce[he]=oe[he]);void 0===ce.slashes&&(ce.slashes=W.test(oe.href))}return ce}function O(oe){return"file:"===oe||"ftp:"===oe||"http:"===oe||"https:"===oe||"ws:"===oe||"wss:"===oe}function V(oe,le){oe=(oe=ge(oe)).replace(ee,""),le=le||{};var De,xe=j.exec(oe),ce=xe[1]?xe[1].toLowerCase():"",ze=!!xe[2],he=!!xe[3],be=0;return ze?he?(De=xe[2]+xe[3]+xe[4],be=xe[2].length+xe[3].length):(De=xe[2]+xe[4],be=xe[2].length):he?(De=xe[3]+xe[4],be=xe[3].length):De=xe[4],"file:"===ce?be>=2&&(De=De.slice(2)):O(ce)?De=xe[4]:ce?ze&&(De=De.slice(2)):be>=2&&O(le.protocol)&&(De=xe[4]),{protocol:ce,slashes:ze||O(ce),slashesCount:be,rest:De}}function X(oe,le,xe){if(oe=(oe=ge(oe)).replace(ee,""),!(this instanceof X))return new X(oe,le,xe);var ce,ze,he,be,De,$e,Oe=q.slice(),Ie=typeof le,K=this,Ue=0;for("object"!==Ie&&"string"!==Ie&&(xe=le,le=null),xe&&"function"!=typeof xe&&(xe=d.parse),ce=!(ze=V(oe||"",le=$(le))).protocol&&!ze.slashes,K.slashes=ze.slashes||ce&&le.slashes,K.protocol=ze.protocol||le.protocol||"",oe=ze.rest,("file:"===ze.protocol&&(2!==ze.slashesCount||G.test(oe))||!ze.slashes&&(ze.protocol||ze.slashesCount<2||!O(K.protocol)))&&(Oe[3]=[/(.*)/,"pathname"]);Ue<Oe.length;Ue++)"function"!=typeof(be=Oe[Ue])?($e=be[1],(he=be[0])!=he?K[$e]=oe:"string"==typeof he?~(De="@"===he?oe.lastIndexOf(he):oe.indexOf(he))&&("number"==typeof be[2]?(K[$e]=oe.slice(0,De),oe=oe.slice(De+be[2])):(K[$e]=oe.slice(De),oe=oe.slice(0,De))):(De=he.exec(oe))&&(K[$e]=De[1],oe=oe.slice(0,De.index)),K[$e]=K[$e]||ce&&be[3]&&le[$e]||"",be[4]&&(K[$e]=K[$e].toLowerCase())):oe=be(oe,K);xe&&(K.query=xe(K.query)),ce&&le.slashes&&"/"!==K.pathname.charAt(0)&&(""!==K.pathname||""!==le.pathname)&&(K.pathname=function ke(oe,le){if(""===oe)return le;for(var xe=(le||"/").split("/").slice(0,-1).concat(oe.split("/")),ce=xe.length,ze=xe[ce-1],he=!1,be=0;ce--;)"."===xe[ce]?xe.splice(ce,1):".."===xe[ce]?(xe.splice(ce,1),be++):be&&(0===ce&&(he=!0),xe.splice(ce,1),be--);return he&&xe.unshift(""),("."===ze||".."===ze)&&xe.push(""),xe.join("/")}(K.pathname,le.pathname)),"/"!==K.pathname.charAt(0)&&O(K.protocol)&&(K.pathname="/"+K.pathname),k(K.port,K.protocol)||(K.host=K.hostname,K.port=""),K.username=K.password="",K.auth&&(~(De=K.auth.indexOf(":"))?(K.username=K.auth.slice(0,De),K.username=encodeURIComponent(decodeURIComponent(K.username)),K.password=K.auth.slice(De+1),K.password=encodeURIComponent(decodeURIComponent(K.password))):K.username=encodeURIComponent(decodeURIComponent(K.auth)),K.auth=K.password?K.username+":"+K.password:K.username),K.origin="file:"!==K.protocol&&O(K.protocol)&&K.host?K.protocol+"//"+K.host:"null",K.href=K.toString()}X.prototype={set:function ye(oe,le,xe){var ce=this;switch(oe){case"query":"string"==typeof le&&le.length&&(le=(xe||d.parse)(le)),ce[oe]=le;break;case"port":ce[oe]=le,k(le,ce.protocol)?le&&(ce.host=ce.hostname+":"+le):(ce.host=ce.hostname,ce[oe]="");break;case"hostname":ce[oe]=le,ce.port&&(le+=":"+ce.port),ce.host=le;break;case"host":ce[oe]=le,Y.test(le)?(le=le.split(":"),ce.port=le.pop(),ce.hostname=le.join(":")):(ce.hostname=le,ce.port="");break;case"protocol":ce.protocol=le.toLowerCase(),ce.slashes=!xe;break;case"pathname":case"hash":if(le){var ze="pathname"===oe?"/":"#";ce[oe]=le.charAt(0)!==ze?ze+le:le}else ce[oe]=le;break;case"username":case"password":ce[oe]=encodeURIComponent(le);break;case"auth":var he=le.indexOf(":");~he?(ce.username=le.slice(0,he),ce.username=encodeURIComponent(decodeURIComponent(ce.username)),ce.password=le.slice(he+1),ce.password=encodeURIComponent(decodeURIComponent(ce.password))):ce.username=encodeURIComponent(decodeURIComponent(le))}for(var be=0;be<q.length;be++){var De=q[be];De[4]&&(ce[De[1]]=ce[De[1]].toLowerCase())}return ce.auth=ce.password?ce.username+":"+ce.password:ce.username,ce.origin="file:"!==ce.protocol&&O(ce.protocol)&&ce.host?ce.protocol+"//"+ce.host:"null",ce.href=ce.toString(),ce},toString:function me(oe){(!oe||"function"!=typeof oe)&&(oe=d.stringify);var le,xe=this,ce=xe.host,ze=xe.protocol;ze&&":"!==ze.charAt(ze.length-1)&&(ze+=":");var he=ze+(xe.protocol&&xe.slashes||O(xe.protocol)?"//":"");return xe.username?(he+=xe.username,xe.password&&(he+=":"+xe.password),he+="@"):xe.password?(he+=":"+xe.password,he+="@"):"file:"!==xe.protocol&&O(xe.protocol)&&!ce&&"/"!==xe.pathname&&(he+="@"),(":"===ce[ce.length-1]||Y.test(xe.hostname)&&!xe.port)&&(ce+=":"),he+=ce+xe.pathname,(le="object"==typeof xe.query?oe(xe.query):xe.query)&&(he+="?"!==le.charAt(0)?"?"+le:le),xe.hash&&(he+=xe.hash),he}},X.extractProtocol=V,X.location=$,X.trimLeft=ge,X.qs=d,Fe.exports=X},2086:(Fe,je,R)=>{"use strict";var k=R(4764),d=R(1046),ne=R(6180),ee=R(6434),W=R(3);Fe.exports=function(j){return null==j||"object"!=typeof j&&"function"!=typeof j?null:k(j)?"String":d(j)?"Number":ne(j)?"Boolean":ee(j)?"Symbol":W(j)?"BigInt":void 0}},5709:(Fe,je,R)=>{"use strict";var k=R(3037),d=R(5271),ne=R(4263),ee=ne("Object.prototype.toString"),W=R(3261)(),Y=typeof globalThis>"u"?global:globalThis,j=d(),G=ne("String.prototype.slice"),ge={},q=R(2292),te=Object.getPrototypeOf;W&&q&&te&&k(j,function(V){if("function"==typeof Y[V]){var ke=new Y[V];if(Symbol.toStringTag in ke){var X=te(ke),ye=q(X,Symbol.toStringTag);if(!ye){var me=te(X);ye=q(me,Symbol.toStringTag)}ge[V]=ye.get}}});var O=R(7673);Fe.exports=function(ke){return!!O(ke)&&(W&&Symbol.toStringTag in ke?function(ke){var X=!1;return k(ge,function(ye,me){if(!X)try{var oe=ye.call(ke);oe===me&&(X=oe)}catch{}}),X}(ke):G(ee(ke),8,-1))}},863:(Fe,je,R)=>{var k={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4812],"./ion-avatar_3.entry.js":[6655,8592,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8592,8308],"./ion-card_5.entry.js":[4690,8592,4690],"./ion-checkbox.entry.js":[4090,8592,4090],"./ion-chip.entry.js":[6214,8592,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime_3.entry.js":[9689,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9667],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,5473],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8592,8994],"./ion-radio_2.entry.js":[3592,8592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,290],"./ion-reorder_2.entry.js":[2666,8592,2666],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,8592,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8592,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8592,8395],"./ion-textarea.entry.js":[6357,8592,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function d(ne){if(!R.o(k,ne))return Promise.resolve().then(()=>{var Y=new Error("Cannot find module '"+ne+"'");throw Y.code="MODULE_NOT_FOUND",Y});var ee=k[ne],W=ee[0];return Promise.all(ee.slice(1).map(R.e)).then(()=>R(W))}d.keys=()=>Object.keys(k),d.id=863,Fe.exports=d},4654:()=>{},5271:Fe=>{"use strict";var je=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?global:globalThis;Fe.exports=function(){for(var d=[],ne=0;ne<je.length;ne++)"function"==typeof R[je[ne]]&&(d[d.length]=je[ne]);return d}},2292:(Fe,je,R)=>{"use strict";var d=R(9903)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}Fe.exports=d},2069:(Fe,je,R)=>{"use strict";var k=R(9102);if(R(524)()||R(6858)()){var d=Symbol.iterator;Fe.exports=function(De){return null!=De&&typeof De[d]<"u"?De[d]():k(De)?Array.prototype[d].call(De):void 0}}else{var ne=R(8266),ee=R(4764),W=R(9903),Y=W("%Map%",!0),j=W("%Set%",!0),G=R(4263),ge=G("Array.prototype.push"),q=G("String.prototype.charCodeAt"),te=G("String.prototype.slice"),O=function(De){var $e=0;return{next:function(){var K,Ie=$e>=De.length;return Ie||(K=De[$e],$e+=1),{done:Ie,value:K}}}},V=function(De,$e){if(ne(De)||k(De))return O(De);if(ee(De)){var Oe=0;return{next:function(){var K=function(De,$e){if($e+1>=De.length)return $e+1;var Ie=q(De,$e);if(Ie<55296||Ie>56319)return $e+1;var K=q(De,$e+1);return K<56320||K>57343?$e+1:$e+2}(De,Oe),Ue=te(De,Oe,K);return Oe=K,{done:K>De.length,value:Ue}}}}return $e&&typeof De["_es6-shim iterator_"]<"u"?De["_es6-shim iterator_"]():void 0};if(Y||j){var ke=R(9898),X=R(3870),ye=G("Map.prototype.forEach",!0),me=G("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var oe=G("Map.prototype.iterator",!0),le=G("Set.prototype.iterator",!0),xe=function(be){var De=!1;return{next:function(){try{return{done:De,value:De?void 0:be.next()}}catch{return De=!0,{done:!0,value:void 0}}}}};var ce=G("Map.prototype.@@iterator",!0)||G("Map.prototype._es6-shim iterator_",!0),ze=G("Set.prototype.@@iterator",!0)||G("Set.prototype._es6-shim iterator_",!0);Fe.exports=function(De){return function(De){if(ke(De)){if(oe)return xe(oe(De));if(ce)return ce(De);if(ye){var $e=[];return ye(De,function(Ie,K){ge($e,[K,Ie])}),O($e)}}if(X(De)){if(le)return xe(le(De));if(ze)return ze(De);if(me){var Oe=[];return me(De,function(Ie){ge(Oe,Ie)}),O(Oe)}}}(De)||V(De)}}else Fe.exports=function(De){if(null!=De)return V(De,!0)}}},2107:(Fe,je,R)=>{"use strict";var k=R(9898),d=R(3870),ne=R(5585),ee=R(1902);Fe.exports=function(Y){if(Y&&"object"==typeof Y){if(k(Y))return"Map";if(d(Y))return"Set";if(ne(Y))return"WeakMap";if(ee(Y))return"WeakSet"}return!1}},3918:(Fe,je,R)=>{"use strict";function k(ne,ee,W,Y,j,G,ge){try{var q=ne[G](ge),te=q.value}catch($){return void W($)}q.done?ee(te):Promise.resolve(te).then(Y,j)}function d(ne){return function(){var ee=this,W=arguments;return new Promise(function(Y,j){var G=ne.apply(ee,W);function ge(te){k(G,Y,j,ge,q,"next",te)}function q(te){k(G,Y,j,ge,q,"throw",te)}ge(void 0)})}}R.d(je,{Z:()=>d})}},Fe=>{Fe(Fe.s=4701)}]);
//# sourceMappingURL=main.0b2873356bf49eb0.js.map