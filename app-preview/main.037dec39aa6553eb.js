(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1159:($e,We,x)=>{"use strict";function I(n){return"function"==typeof n}function c(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=c(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ee(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class z{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{V(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof z){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ee(t,e)}remove(e){const{_finalizers:t}=this;t&&ee(t,e),e instanceof z&&e._removeParent(this)}}z.EMPTY=(()=>{const n=new z;return n.closed=!0,n})();const X=z.EMPTY;function L(n){return n instanceof z||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function V(n){I(n)?n():n.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oe(n){Y.setTimeout(()=>{const{onUnhandledError:e}=ce;if(!e)throw n;e(n)})}function B(){}const $=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let pe=null;function G(n){if(ce.useDeprecatedSynchronousErrorHandling){const e=!pe;if(e&&(pe={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=pe;if(pe=null,t)throw r}}else n()}class de extends z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=Be}static create(e,t,r){return new le(e,t,r)}next(e){this.isStopped?Xe(function Pe(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Xe(function j(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xe($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ue(n,e){return Fe.call(n,e)}class at{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){be(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){be(r)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class le extends de{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ce.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ue(e.next,i),error:e.error&&ue(e.error,i),complete:e.complete&&ue(e.complete,i)}):o=e}this.destination=new at(o)}}function be(n){ce.useDeprecatedSynchronousErrorHandling?function K(n){ce.useDeprecatedSynchronousErrorHandling&&pe&&(pe.errorThrown=!0,pe.error=n)}(n):oe(n)}function Xe(n,e){const{onStoppedNotification:t}=ce;t&&Y.setTimeout(()=>t(n,e))}const Be={closed:!0,next:B,error:function De(n){throw n},complete:B},Te="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Qe(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof de||function Ze(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new le(t,r,o);return G(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=dn(r))((o,i)=>{const s=new le({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Te](){return this}pipe(...t){return Qe(t)(this)}toPromise(t){return new(t=dn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function dn(n){var e;return null!==(e=n??ce.Promise)&&void 0!==e?e:Promise}const me=c(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new rt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new me}next(t){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?X:(this.currentObservers=null,i.push(t),new z(()=>{this.currentObservers=null,ee(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new rt(e,t),n})();class rt extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:X}}function Ue(n){return I(n?.lift)}function q(n){return e=>{if(Ue(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,o){return new pt(n,e,t,r,o)}class pt extends de{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(n,e){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>{r.next(n.call(e,i,o++))}))})}function Z(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function kn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function hn(n){return this instanceof hn?(this.v=n,this):new hn(n)}function Yr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(M){r[M]&&(o[M]=function(k){return new Promise(function(Q,ke){i.push([M,k,Q,ke])>1||a(M,k)})})}function a(M,k){try{!function u(M){M.value instanceof hn?Promise.resolve(M.value.v).then(f,m):_(i[0][2],M)}(r[M](k))}catch(Q){_(i[0][3],Q)}}function f(M){a("next",M)}function m(M){a("throw",M)}function _(M,k){M(k),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Lr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Hr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const gr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jt(n){return I(n?.then)}function er(n){return I(n[Te])}function tr(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function ln(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function zt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function Yn(n){return Yr(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield hn(t.read());if(o)return yield hn(void 0);yield yield hn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function Rn(n){if(n instanceof yt)return n;if(null!=n){if(er(n))return function Oo(n){return new yt(e=>{const t=n[Te]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(gr(n))return function qo(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Jt(n))return function vo(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oe)})}(n);if(tr(n))return No(n);if(S(n))return function xi(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function vi(n){return No(Yn(n))}(n)}throw ln(n)}function No(n){return new yt(e=>{(function bi(n,e){var t,r,o,i;return kn(this,void 0,void 0,function*(){try{for(t=Lr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ro(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function yr(n,e,t=1/0){return I(e)?yr((r,o)=>xe((i,s)=>e(r,i,o,s))(Rn(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function Lo(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,_=!1;const M=()=>{_&&!u.length&&!f&&e.complete()},k=ke=>f<r?Q(ke):u.push(ke),Q=ke=>{i&&e.next(ke),f++;let qe=!1;Rn(t(ke,m++)).subscribe(ye(e,Ye=>{o?.(Ye),i?k(Ye):e.next(Ye)},()=>{qe=!0},void 0,()=>{if(qe)try{for(f--;u.length&&f<r;){const Ye=u.shift();s?ro(e,s,()=>Q(Ye)):Q(Ye)}M()}catch(Ye){e.error(Ye)}}))};return n.subscribe(ye(e,k,()=>{_=!0,M()})),()=>{a?.()}}(r,o,n,t)))}function $o(n=1/0){return yr(ne,n)}const Xr=new yt(n=>n.complete());function bo(n){return n&&I(n.schedule)}function zr(n){return n[n.length-1]}function Hi(n){return I(zr(n))?n.pop():void 0}function Yo(n){return bo(zr(n))?n.pop():void 0}function oo(n,e=0){return q((t,r)=>{t.subscribe(ye(r,o=>ro(r,n,()=>r.next(o),e),()=>ro(r,n,()=>r.complete(),e),o=>ro(r,n,()=>r.error(o),e)))})}function zi(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Gi(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{ro(t,e,()=>{const r=n[Symbol.asyncIterator]();ro(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function fr(n,e){return e?function ks(n,e){if(null!=n){if(er(n))return function fo(n,e){return Rn(n).pipe(zi(e),oo(e))}(n,e);if(gr(n))return function fs(n,e){return new yt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Jt(n))return function wi(n,e){return Rn(n).pipe(zi(e),oo(e))}(n,e);if(tr(n))return Gi(n,e);if(S(n))return function ai(n,e){return new yt(t=>{let r;return ro(t,e,()=>{r=n[E](),ro(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function Ts(n,e){return Gi(Yn(n),e)}(n,e)}throw ln(n)}(n,e):Rn(n)}function li(...n){const e=Yo(n),t=function Eo(n,e){return"number"==typeof zr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Rn(r[0]):$o(t)(fr(r,e)):Xr}function ps(n={}){const{connector:e=(()=>new nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,_=!1;const M=()=>{a?.unsubscribe(),a=void 0},k=()=>{M(),s=u=void 0,m=_=!1},Q=()=>{const ke=s;k(),ke?.unsubscribe()};return q((ke,qe)=>{f++,!_&&!m&&M();const Ye=u=u??e();qe.add(()=>{f--,0===f&&!_&&!m&&(a=Pi(Q,o))}),Ye.subscribe(qe),!s&&f>0&&(s=new le({next:bt=>Ye.next(bt),error:bt=>{_=!0,M(),a=Pi(k,t,bt),Ye.error(bt)},complete:()=>{m=!0,M(),a=Pi(k,r),Ye.complete()}}),Rn(ke).subscribe(s))})(i)}}function Pi(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),n()}});return Rn(e(...t)).subscribe(r)}function nr(n){for(let e in n)if(n[e]===nr)return e;throw Error("Could not find renamed property on target object.")}function A(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function he(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Se=nr({__forward_ref__:nr});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return N(this())},n}function R(n){return fe(n)?n():n}function fe(n){return"function"==typeof n&&n.hasOwnProperty(Se)&&n.__forward_ref__===Oe}function Ie(n){return n&&!!n.\u0275providers}const it="https://g.co/ng/security#xss";class Ae extends Error{constructor(e,t){super(function Gt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function wt(n){return"string"==typeof n?n:null==n?"":String(n)}function ci(n,e){throw new Ae(-201,!1)}function Mo(n,e){null==n&&function Kn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _r(n){return{providers:n.providers||[],imports:n.imports||[]}}function hs(n){return io(n,As)||io(n,na)}function io(n,e){return n.hasOwnProperty(e)?n[e]:null}function ta(n){return n&&(n.hasOwnProperty(Us)||n.hasOwnProperty(Fa))?n[Us]:null}const As=nr({\u0275prov:nr}),Us=nr({\u0275inj:nr}),na=nr({ngInjectableDef:nr}),Fa=nr({ngInjectorDef:nr});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let js;function cr(n){const e=js;return js=n,e}function Gr(n,e,t){const r=hs(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Mt.Optional?null:void 0!==e?e:void ci(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),H={},_e="__NG_DI_FLAG__",Ee="ngTempTokenPath",St=/\n/gm,xn="__source";let Tn;function Wt(n){const e=Tn;return Tn=n,e}function Ot(n,e=Mt.Default){if(void 0===Tn)throw new Ae(-203,!1);return null===Tn?Gr(n,void 0,e):Tn.get(n,e&Mt.Optional?null:void 0,e)}function J(n,e=Mt.Default){return(function po(){return js}()||Ot)(R(n),e)}function yn(n,e=Mt.Default){return J(n,Wr(e))}function Wr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mt(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,!1);let o,i=Mt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Zr(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(J(o,i))}else e.push(J(r))}return e}function Kt(n,e){return n[_e]=e,n.prototype[_e]=e,n}function Zr(n){return n[_e]}function Mn(n){return{toString:n}.toString()}var sr=(()=>((sr=sr||{})[sr.OnPush=0]="OnPush",sr[sr.Default=1]="Default",sr))(),Wn=(()=>{return(n=Wn||(Wn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Wn;var n})();const d={},g=[],w=nr({\u0275cmp:nr}),P=nr({\u0275dir:nr}),W=nr({\u0275pipe:nr}),we=nr({\u0275mod:nr}),Ce=nr({\u0275fac:nr}),Ve=nr({__NG_ELEMENT_ID__:nr});let Ct=0;function Re(n){return Mn(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===sr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||g,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Wn.Emulated,id:"c"+Ct++,styles:n.styles||g,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=Br(n.inputs,r),o.outputs=Br(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(zn).filter(un):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(or).filter(un):null,o})}function zn(n){return ot(n)||Bt(n)}function un(n){return null!==n}function Dt(n){return Mn(()=>({type:n.type,bootstrap:n.bootstrap||g,declarations:n.declarations||g,imports:n.imports||g,exports:n.exports||g,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Br(n,e){if(null==n)return d;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const Lt=Re;function rr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ot(n){return n[w]||null}function Bt(n){return n[P]||null}function or(n){return n[W]||null}function Tr(n,e){const t=n[we]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}function Ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ki(n){return Array.isArray(n)&&!0===n[1]}function zc(n){return 0!=(4&n.flags)}function yl(n){return n.componentOffset>-1}function nc(n){return 1==(1&n.flags)}function Yi(n){return null!==n.template}function gp(n){return 0!=(256&n[2])}function oa(n,e){return n.hasOwnProperty(Ce)?n[Ce]:null}class vp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function To(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=wp),bp}function bp(){const n=Cd(this),e=n?.current;if(e){const t=n.previous;if(t===d)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wp(n,e,t,r){const o=this.declaredInputs[t],i=Cd(n)||function Cp(n,e){return n[wd]=e}(n,{previous:d,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new vp(u&&u.currentValue,e,a===d),n[r]=e}To.ngInherit=!0;const wd="__ngSimpleChanges__";function Cd(n){return n[wd]||null}function Qo(n){for(;Array.isArray(n);)n=n[0];return n}function Ba(n,e){return Qo(e[n])}function Fi(n,e){return Qo(e[n.index])}function Ed(n,e){return n.data[e]}function Er(n,e){return n[e]}function wo(n,e){const t=e[n];return Ei(t)?t:t[0]}function Wc(n){return 64==(64&n[2])}function ia(n,e){return null==e?null:n[e]}function Ip(n){n[18]=0}function Dd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Et={lFrame:D0(null),bindingsEnabled:!0};function Dr(){return Et.bindingsEnabled}function lt(){return Et.lFrame.lView}function bn(){return Et.lFrame.tView}function kt(n){return Et.lFrame.contextLView=n,n[8]}function Pt(n){return Et.lFrame.contextLView=null,n}function Ht(){let n=l();for(;null!==n&&64===n.type;)n=n.parent;return n}function l(){return Et.lFrame.currentTNode}function v(n,e){const t=Et.lFrame;t.currentTNode=n,t.isParent=e}function T(){return Et.lFrame.isParent}function U(){Et.lFrame.isParent=!1}function nn(){return Et.lFrame.bindingIndex}function jn(){return Et.lFrame.bindingIndex++}function Yt(n){const e=Et.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ho(n,e){const t=Et.lFrame;t.bindingIndex=t.bindingRootIndex=n,jo(e)}function jo(n){Et.lFrame.currentDirectiveIndex=n}function mn(){return Et.lFrame.currentQueryIndex}function mo(n){Et.lFrame.currentQueryIndex=n}function Rr(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Qi(n,e,t){if(t&Mt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&Mt.Host||(o=Rr(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Et.lFrame=E0();return r.currentTNode=e,r.lView=n,!0}function so(n){const e=E0(),t=n[1];Et.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function E0(){const n=Et.lFrame,e=null===n?null:n.child;return null===e?D0(n):e}function D0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function I0(){const n=Et.lFrame;return Et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const M0=I0;function cg(){const n=I0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Oi(){return Et.lFrame.selectedIndex}function rc(n){Et.lFrame.selectedIndex=n}function ao(){const n=Et.lFrame;return Ed(n.tView,n.selectedIndex)}function Mp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Tp(n,e,t){T0(n,e,3,t)}function kp(n,e,t,r){(3&n[2])===t&&T0(n,e,t,r)}function ug(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function T0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(qT(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function qT(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Id{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function fg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];A0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function k0(n){return 3===n||4===n||6===n}function A0(n){return 64===n.charCodeAt(0)}function Md(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||x0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function x0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function P0(n){return-1!==n}function Ap(n){return 32767&n}function xp(n,e){let t=function QT(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let pg=!0;function Pp(n){const e=pg;return pg=n,e}let JT=0;const sa={};function Rp(n,e){const t=O0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,hg(r.data,n),hg(e,null),hg(r.blueprint,null));const o=mg(n,e),i=n.injectorIndex;if(P0(o)){const s=Ap(o),a=xp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function hg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function O0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function mg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=j0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function gg(n,e,t){!function ek(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ve)&&(r=t[Ve]),null==r&&(r=t[Ve]=JT++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function N0(n,e,t){if(t&Mt.Optional||void 0!==n)return n;ci()}function L0(n,e,t,r){if(t&Mt.Optional&&void 0===r&&(r=null),!(t&(Mt.Self|Mt.Host))){const o=n[9],i=cr(void 0);try{return o?o.get(e,r,t&Mt.Optional):Gr(e,r,t&Mt.Optional)}finally{cr(i)}}return N0(r,0,t)}function $0(n,e,t,r=Mt.Default,o){if(null!==n){if(1024&e[2]){const s=function ik(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=B0(i,s,t,r|Mt.Self,sa);if(a!==sa)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,sa,r);if(m!==sa)return m}u=j0(s),s=s[15]}i=u}return o}(n,e,t,r,sa);if(s!==sa)return s}const i=B0(n,e,t,r,sa);if(i!==sa)return i}return L0(e,t,r,o)}function B0(n,e,t,r,o){const i=function rk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ve)?n[Ve]:void 0;return"number"==typeof e?e>=0?255&e:ok:e}(t);if("function"==typeof i){if(!Qi(e,n,r))return r&Mt.Host?N0(o,0,r):L0(e,t,r,o);try{const s=i(r);if(null!=s||r&Mt.Optional)return s;ci()}finally{M0()}}else if("number"==typeof i){let s=null,a=O0(n,e),u=-1,f=r&Mt.Host?e[16][6]:null;for((-1===a||r&Mt.SkipSelf)&&(u=-1===a?mg(n,e):e[a+8],-1!==u&&U0(r,!1)?(s=e[1],a=Ap(u),e=xp(u,e)):a=-1);-1!==a;){const m=e[1];if(V0(i,a,m.data)){const _=nk(a,e,t,s,r,f);if(_!==sa)return _}u=e[a+8],-1!==u&&U0(r,e[1].data[a+8]===f)&&V0(i,a,e)?(s=m,a=Ap(u),e=xp(u,e)):a=-1}}return o}function nk(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Fp(a,s,t,null==r?yl(a)&&pg:r!=s&&0!=(3&a.type),o&Mt.Host&&i===a);return null!==m?oc(e,s,m,a):sa}function Fp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,M=o?a+m:n.directiveEnd;for(let k=r?a:a+m;k<M;k++){const Q=s[k];if(k<u&&t===Q||k>=u&&Q.type===t)return k}if(o){const k=s[u];if(k&&Yi(k)&&k.type===t)return u}return null}function oc(n,e,t,r){let o=n[t];const i=e.data;if(function KT(n){return n instanceof Id}(o)){const s=o;s.resolving&&function Do(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${t}`)}(function fn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():wt(n)}(i[t]));const a=Pp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?cr(s.injectImpl):null;Qi(n,r,Mt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function ZT(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=bd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&cr(u),Pp(a),s.resolving=!1,M0()}}return o}function V0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function U0(n,e){return!(n&Mt.Self||n&Mt.Host&&e)}class qc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $0(this._tNode,this._lView,e,Wr(r),t)}}function ok(){return new qc(Ht(),lt())}function ei(n){return Mn(()=>{const e=n.prototype.constructor,t=e[Ce]||yg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[Ce]||yg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function yg(n){return fe(n)?()=>{const e=yg(R(n));return e&&e()}:oa(n)}function j0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Kc(n){return function tk(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(k0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Ht(),n)}const Xc="__parameters__";function Jc(n,e,t){return Mn(()=>{const r=function _g(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const _=u.hasOwnProperty(Xc)?u[Xc]:Object.defineProperty(u,Xc,{value:[]})[Xc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ht({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ic(n,e){n.forEach(t=>Array.isArray(t)?ic(t,e):e(t))}function z0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Op(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ad(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function gs(n,e,t){let r=eu(n,e);return r>=0?n[1|r]=t:(r=~r,function ck(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function bg(n,e){const t=eu(n,e);if(t>=0)return n[1|t]}function eu(n,e){return function G0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const xd=Kt(Jc("Optional"),8),Pd=Kt(Jc("SkipSelf"),4);var Ji=(()=>((Ji=Ji||{})[Ji.Important=1]="Important",Ji[Ji.DashCase=2]="DashCase",Ji))();const Ig=new Map;let xk=0;const Tg="__ngContext__";function Ii(n,e){Ei(e)?(n[Tg]=e[20],function Rk(n){Ig.set(n[20],n)}(e)):n[Tg]=e}function Ag(n,e){return undefined(n,e)}function Nd(n){const e=n[3];return Ki(e)?e[3]:e}function xg(n){return db(n[13])}function Pg(n){return db(n[4])}function db(n){for(;null!==n&&!Ki(n);)n=n[4];return n}function nu(n,e,t,r,o){if(null!=r){let i,s=!1;Ki(r)?i=r:Ei(r)&&(s=!0,r=r[0]);const a=Qo(r);0===n&&null!==t?null==o?yb(e,t,a):sc(e,t,a,o||null,!0):1===n&&null!==t?sc(e,t,a,o||null,!0):2===n?function Bg(n,e,t){const r=Bp(n,e);r&&function Jk(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function nA(n,e,t,r,o){const i=t[7];i!==Qo(t)&&nu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Ld(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Fg(n,e,t){return n.createElement(e,t)}function pb(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Dd(o,-1)),t.splice(r,1)}function Og(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&pb(o,r),e>0&&(n[t-1][4]=r[4]);const i=Op(n,10+e);!function Gk(n,e){Ld(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function hb(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ld(n,e,t,3,null,null),function qk(n){let e=n[13];if(!e)return Ng(n[1],n);for(;e;){let t=null;if(Ei(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ei(e)&&Ng(e[1],e),e=e[3];null===e&&(e=n),Ei(e)&&Ng(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ng(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Qk(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Id)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function Xk(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ki(e[3])){t!==e[3]&&pb(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Fk(n){Ig.delete(n[20])}(e)}}function mb(n,e,t){return function gb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Wn.None||i===Wn.Emulated)return null}return Fi(r,t)}}(n,e.parent,t)}function sc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function yb(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,o){null!==r?sc(n,e,t,r,o):yb(n,e,t)}function Bp(n,e){return n.parentNode(e)}function vb(n,e,t){return wb(n,e,t)}let jp,jg,wb=function bb(n,e,t){return 40&n.type?Fi(n,t):null};function Vp(n,e,t,r){const o=mb(n,r,e),i=e[11],a=vb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)_b(i,o,t[u],a,!1);else _b(i,o,t,a,!1)}function Up(n,e){if(null!==e){const t=e.type;if(3&t)return Fi(e,n);if(4&t)return $g(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Up(n,r);{const o=n[e.index];return Ki(o)?$g(-1,o):Qo(o)}}if(32&t)return Ag(e,n)()||Qo(n[e.index]);{const r=Sb(n,e);return null!==r?Array.isArray(r)?r[0]:Up(Nd(n[16]),r):Up(n,e.next)}}return null}function Sb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function $g(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Up(r,o)}return e[7]}function Vg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Ii(Qo(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Vg(n,e,t.child,r,o,i,!1),nu(e,n,o,a,i);else if(32&u){const f=Ag(t,r);let m;for(;m=f();)nu(e,n,o,m,i);nu(e,n,o,a,i)}else 16&u?Eb(n,e,r,t,o,i):nu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Ld(n,e,t,r,o,i){Vg(t,r,n.firstChild,e,o,i,!1)}function Eb(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)nu(e,n,o,u[f],i);else Vg(n,e,u,s[3],o,i,!0)}function Db(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ib(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&fg(n,e,r),null!==o&&Db(n,e,o),null!==i&&function oA(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function ac(n){return function Ug(){if(void 0===jp&&(jp=null,p.trustedTypes))try{jp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jp}()?.createHTML(n)||n}class lc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class cA extends lc{getTypeName(){return"HTML"}}class uA extends lc{getTypeName(){return"Style"}}class dA extends lc{getTypeName(){return"Script"}}class fA extends lc{getTypeName(){return"URL"}}class pA extends lc{getTypeName(){return"ResourceURL"}}function ys(n){return n instanceof lc?n.changingThisBreaksApplicationSecurity:n}function aa(n,e){const t=function hA(n){return n instanceof lc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${it})`)}return t===e}class bA{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ac(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class wA{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ac(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ac(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const SA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zp(n){return(n=String(n)).match(SA)?n:"unsafe:"+n}function Va(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $d(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Pb=Va("area,br,col,hr,img,wbr"),Rb=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fb=Va("rp,rt"),zg=$d(Pb,$d(Rb,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d(Fb,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d(Fb,Rb)),Gg=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ob=$d(Gg,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),EA=Va("script,style,template");class DA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zg.hasOwnProperty(t))return this.sanitizedSomething=!0,!EA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Ob.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Gg[a]&&(u=zp(u)),this.buf.push(" ",s,'="',Nb(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zg.hasOwnProperty(t)&&!Pb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Nb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const IA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MA=/([^\#-~ |!])/g;function Nb(n){return n.replace(/&/g,"&amp;").replace(IA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(MA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gp;function Lb(n,e){let t=null;try{Gp=Gp||function xb(n){const e=new wA(n);return function CA(){try{return!!(new window.DOMParser).parseFromString(ac(""),"text/html")}catch{return!1}}()?new bA(e):e}(n);let r=e?String(e):"";t=Gp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Gp.getInertBodyElement(r)}while(r!==i);return ac((new DA).sanitizeChildren(Wg(t)||t))}finally{if(t){const r=Wg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Wg(n){return"content"in n&&function TA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();const Wp=new rn("ENVIRONMENT_INITIALIZER"),Ub=new rn("INJECTOR",-1),jb=new rn("INJECTOR_DEF_TYPES");class Hb{get(e,t=H){if(t===H){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function NA(...n){return{\u0275providers:zb(0,n),\u0275fromNgModule:!0}}function zb(n,...e){const t=[],r=new Set;let o;return ic(e,i=>{const s=i;Zg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Gb(o,t),t}function Gb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];qg(o,i=>{e.push(i)})}}function Zg(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=ta(n);const s=!i&&ot(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=ta(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)Zg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ic(i.imports,m=>{Zg(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&Gb(f,e)}if(!a){const f=oa(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:g},{provide:jb,useValue:o,multi:!0},{provide:Wp,useValue:()=>J(o),multi:!0})}const u=i.providers;null==u||a||qg(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function qg(n,e){for(let t of n)Ie(t)&&(t=t.\u0275providers),Array.isArray(t)?qg(t,e):e(t)}const LA=nr({provide:String,useValue:nr});function Kg(n){return null!==n&&"object"==typeof n&&LA in n}function cc(n){return"function"==typeof n}const Yg=new rn("Set Injector scope."),Zp={},BA={};let Xg;function qp(){return void 0===Xg&&(Xg=new Hb),Xg}class la{}class qb extends la{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jg(e,s=>this.processProvider(s)),this.records.set(Ub,ru(void 0,this)),o.has("environment")&&this.records.set(la,ru(void 0,this));const i=this.records.get(Yg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(jb.multi,g,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Wt(this),r=cr(void 0);try{return e()}finally{Wt(t),cr(r)}}get(e,t=H,r=Mt.Default){this.assertNotDestroyed(),r=Wr(r);const o=Wt(this),i=cr(void 0);try{if(!(r&Mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function zA(n){return"function"==typeof n||"object"==typeof n&&n instanceof rn}(e)&&hs(e);a=u&&this.injectableDefInScope(u)?ru(Qg(e),Zp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Mt.Self?qp():this.parent).get(e,t=r&Mt.Optional&&t===H?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ee]=s[Ee]||[]).unshift(N(e)),o)throw s;return function tn(n,e,t,r){const o=n[Ee];throw e[xn]&&o.unshift(e[xn]),n.message=function $r(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(St,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[Ee]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{cr(i),Wt(o)}}resolveInjectorInitializers(){const e=Wt(this),t=cr(void 0);try{const r=this.get(Wp.multi,g,Mt.Self);for(const o of r)o()}finally{Wt(e),cr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(e){let t=cc(e=R(e))?e:R(e&&e.provide);const r=function UA(n){return Kg(n)?ru(void 0,n.useValue):ru(Kb(n),Zp)}(e);if(cc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=ru(void 0,Zp,!0),o.factory=()=>mt(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Zp&&(t.value=BA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function HA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Qg(n){const e=hs(n),t=null!==e?e.factory:oa(n);if(null!==t)return t;if(n instanceof rn)throw new Ae(204,!1);if(n instanceof Function)return function VA(n){const e=n.length;if(e>0)throw Ad(e,"?"),new Ae(204,!1);const t=function Zi(n){const e=n&&(n[As]||n[na]);if(e){const t=function Si(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ae(204,!1)}function Kb(n,e,t){let r;if(cc(n)){const o=R(n);return oa(o)||Qg(o)}if(Kg(n))r=()=>R(n.useValue);else if(function Zb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...mt(n.deps||[]));else if(function Wb(n){return!(!n||!n.useExisting)}(n))r=()=>J(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function jA(n){return!!n.deps}(n))return oa(o)||Qg(o);r=()=>new o(...mt(n.deps))}return r}function ru(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Jg(n,e){for(const t of n)Array.isArray(t)?Jg(t,e):t&&Ie(t)?Jg(t.\u0275providers,e):e(t)}class GA{}class Yb{}class ZA{resolveComponentFactory(e){throw function WA(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ua=(()=>{class n{}return n.NULL=new ZA,n})();function qA(){return ou(Ht(),lt())}function ou(n,e){return new gt(Fi(n,e))}let gt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=qA,n})();function KA(n){return n instanceof gt?n.nativeElement:n}class Qb{}let ja=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function YA(){const n=lt(),t=wo(Ht().index,n);return(Ei(t)?t:n)[11]}(),n})(),XA=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>null}),n})();class Vd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QA=new Vd("15.1.3"),ey={};function ny(n){return n.ngOriginalError}class iu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ny(e);for(;t&&ny(t);)t=ny(t);return t||null}}function Ha(n){return n instanceof Function?n():n}function ew(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const tw="ng-template";function cx(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==ew(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function nw(n){return 4===n.type&&n.value!==tw}function ux(n,e,t){return e===(4!==n.type||t?n.value:tw)}function dx(n,e,t){let r=4;const o=n.attrs||[],i=function hx(n){for(let e=0;e<n.length;e++)if(k0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ux(n,u,t)||""===u&&1===e.length){if(Hs(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!cx(n.attrs,f,t)){if(Hs(r))return!1;s=!0}continue}const _=fx(8&r?"class":u,o,nw(n),t);if(-1===_){if(Hs(r))return!1;s=!0;continue}if(""!==f){let M;M=_>i?"":o[_+1].toLowerCase();const k=8&r?M:null;if(k&&-1!==ew(k,f,0)||2&r&&f!==M){if(Hs(r))return!1;s=!0}}}}else{if(!s&&!Hs(r)&&!Hs(u))return!1;if(s&&Hs(u))continue;s=!1,r=u|1&r}}return Hs(r)||s}function Hs(n){return 0==(1&n)}function fx(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function mx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rw(n,e,t=!1){for(let r=0;r<e.length;r++)if(dx(n,e[r],t))return!0;return!1}function gx(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function ow(n,e){return n?":not("+e.trim()+")":e}function yx(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Hs(s)&&(e+=ow(i,o),o=""),r=s,i=i||!Hs(r);t++}return""!==o&&(e+=ow(i,o)),e}const On={};function tt(n){iw(bn(),lt(),Oi()+n,!1)}function iw(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Tp(e,i,t)}else{const i=n.preOrderHooks;null!==i&&kp(e,i,0,t)}rc(t)}function cw(n,e=null,t=null,r){const o=uw(n,e,t,r);return o.resolveInjectorInitializers(),o}function uw(n,e=null,t=null,r,o=new Set){const i=[t||g,NA(n)];return r=r||("object"==typeof n?void 0:N(n)),new qb(i,e||qp(),r||null,o)}let lo=(()=>{class n{static create(t,r){if(Array.isArray(t))return cw({name:""},r,t,"");{const o=t.name??"";return cw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=H,n.NULL=new Hb,n.\u0275prov=ht({token:n,providedIn:"any",factory:()=>J(Ub)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=Mt.Default){const t=lt();return null===t?J(n,e):$0(Ht(),t,R(n),e)}function _w(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];mo(t[r]),s.contentQueries(2,e[i],i)}}}function Yp(n,e,t,r,o,i,s,a,u,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||n&&1024&n[2])&&(_[2]|=1024),Ip(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[11]=a||n&&n[11],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function Pk(){return xk++}(),_[21]=m,_[16]=2==e.type?n[16]:_,_}function lu(n,e,t,r,o){let i=n.data[e];if(null===i)i=function ay(n,e,t,r,o){const i=l(),s=T(),u=n.data[e]=function Hx(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function pn(){return Et.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function h(){const n=Et.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return v(i,!0),i}function Ud(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function ly(n,e,t){so(e);try{const r=n.viewQuery;null!==r&&_y(1,r,t);const o=n.template;null!==o&&vw(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&_w(n,e),n.staticViewQueries&&_y(2,n.viewQuery,t);const i=n.components;null!==i&&function Vx(n,e){for(let t=0;t<e.length;t++)lP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,cg()}}function Xp(n,e,t,r){const o=e[2];if(128!=(128&o)){so(e);try{Ip(e),function Bn(n){return Et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&vw(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Tp(e,f,null)}else{const f=n.preOrderHooks;null!==f&&kp(e,f,0,null),ug(e,0)}if(function sP(n){for(let e=xg(n);null!==e;e=Pg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Dd(o[3],1),o[2]|=512}}}(e),function iP(n){for(let e=xg(n);null!==e;e=Pg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];Wc(r)&&Xp(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&_w(n,e),s){const f=n.contentCheckHooks;null!==f&&Tp(e,f)}else{const f=n.contentHooks;null!==f&&kp(e,f,1),ug(e,1)}!function $x(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)rc(~o);else{const i=o,s=t[++r],a=t[++r];ho(s,i),a(2,e[i])}}}finally{rc(-1)}}(n,e);const a=n.components;null!==a&&function Bx(n,e){for(let t=0;t<e.length;t++)aP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&_y(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Tp(e,f)}else{const f=n.viewHooks;null!==f&&kp(e,f,2),ug(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dd(e[3],-1))}finally{cg()}}}function vw(n,e,t,r,o){const i=Oi(),s=2&r;try{rc(-1),s&&e.length>22&&iw(n,e,22,!1),t(r,o)}finally{rc(i)}}function cy(n,e,t){if(zc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function uy(n,e,t){Dr()&&(function Kx(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;yl(t)&&function nP(n,e,t){const r=Fi(e,n),o=bw(t),i=n[10],s=Qp(n,Yp(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Rp(t,e),Ii(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=oc(e,n,a,t);Ii(f,e),null!==s&&rP(0,a-o,f,u,0,s),Yi(u)&&(wo(t.index,e)[8]=oc(e,n,a,t))}}(n,e,t,Fi(t,e)),64==(64&t.flags)&&Iw(n,e,t))}function dy(n,e,t=Fi){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function bw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=fy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function fy(n,e,t,r,o,i,s,a,u,f){const m=22+r,_=m+o,M=function Ux(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:On);return t}(m,_),k="function"==typeof f?f():f;return M[1]={type:n,blueprint:M,template:t,queries:null,viewQuery:a,declTNode:e,data:M.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:k,incompleteFirstPass:!1}}function ww(n,e,t,r){const o=Tw(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&kw(n).push(r,o.length-1))}function Cw(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?Sw(t,e,o,i):r.hasOwnProperty(o)&&Sw(t,e,r[o],i)}return t}function Sw(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function _s(n,e,t,r,o,i,s,a){const u=Fi(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(vy(n,t,m,r,o),yl(e)&&Ew(t,e.index)):3&e.type&&(r=function Gx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function Ew(n,e){const t=wo(e,n);16&t[2]||(t[2]|=32)}function py(n,e,t,r){let o=!1;if(Dr()){const i=null===r?null:{"":-1},s=function Xx(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(rw(e,s.selectors,!1))if(r||(r=[]),Yi(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),hy(n,e,a.length)}else r.unshift(s),hy(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Dw(n,e,t,a,i,u)),i&&function Qx(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new Ae(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=Md(t.mergedAttrs,t.attrs),o}function Dw(n,e,t,r,o,i){for(let f=0;f<r.length;f++)gg(Rp(t,e),n,r[f].type);!function eP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=Ud(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=Md(t.mergedAttrs,m.hostAttrs),tP(n,t,e,u,m),Jx(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function zx(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const _=i[m],M=t?t.get(_):null,Q=M?M.outputs:null;u=Cw(_.inputs,m,u,M?M.inputs:null),f=Cw(_.outputs,m,f,Q);const ke=null===u||null===s||nw(e)?null:oP(u,m,s);a.push(ke)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function Iw(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function Xi(){return Et.lFrame.currentDirectiveIndex}();try{rc(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];jo(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Yx(u,f)}}finally{rc(-1),jo(s)}}function Yx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function hy(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function Jx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Yi(e)&&(t[""]=n)}}function tP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=oa(o.type)),s=new Id(i,Yi(o),C);n.blueprint[r]=s,t[r]=s,function Zx(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function qx(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Ud(n,t,o.hostVars,On),o)}function ca(n,e,t,r,o,i){const s=Fi(n,e);!function my(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?wt(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function rP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,m):t[m]=_}}}function oP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Mw(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function aP(n,e){const t=wo(e,n);if(Wc(t)){const r=t[1];48&t[2]?Xp(r,t,r.template,t[8]):t[5]>0&&gy(t)}}function gy(n){for(let r=xg(n);null!==r;r=Pg(r))for(let o=10;o<r.length;o++){const i=r[o];if(Wc(i))if(512&i[2]){const s=i[1];Xp(s,i,s.template,i[8])}else i[5]>0&&gy(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=wo(t[r],n);Wc(o)&&o[5]>0&&gy(o)}}function lP(n,e){const t=wo(e,n),r=t[1];(function cP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ly(r,t,t[8])}function Qp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function yy(n){for(;n;){n[2]|=32;const e=Nd(n);if(gp(n)&&!e)return n;n=e}return null}function Jp(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{Xp(n,e,n.template,t)}catch(s){throw r&&xw(e,s),s}finally{o.end&&o.end()}}function _y(n,e,t){mo(0),e(n,t)}function Tw(n){return n[7]||(n[7]=[])}function kw(n){return n.cleanup||(n.cleanup=[])}function xw(n,e){const t=n[9],r=t?t.get(iu,null):null;r&&r.handleError(e)}function vy(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function za(n,e,t){const r=Ba(e,n);!function fb(n,e,t){n.setValue(e,t)}(n[11],r,t)}function eh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=he(o,a):2==i&&(r=he(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function th(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(Qo(i)),Ki(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&th(u[1],u,f,r)}const s=t.type;if(8&s)th(n,e,t.child,r);else if(32&s){const a=Ag(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Sb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Nd(e[16]);th(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class jd{get rootNodes(){const e=this._lView,t=e[1];return th(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ki(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Og(e,r),Op(t,r))}this._attachedToViewContainer=!1}hb(this._lView[1],this._lView)}onDestroy(e){ww(this._lView[1],this._lView,null,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zk(n,e){Ld(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=e}}class uP extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Jp(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Pw extends Ua{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ot(e);return new Hd(t,this.ngModule)}}function Rw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class fP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Wr(r);const o=this.injector.get(e,ey,r);return o!==ey||t===ey?o:this.parentInjector.get(e,t,r)}}class Hd extends Yb{get inputs(){return Rw(this.componentDef.inputs)}get outputs(){return Rw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _x(n){return n.map(yx).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof la?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new fP(e,i):e,a=s.get(Qb,null);if(null===a)throw new Ae(407,!1);const u=s.get(XA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function jx(n,e,t){return n.selectRootElement(e,t===Wn.ShadowDom)}(f,r,this.componentDef.encapsulation):Fg(f,m,function dP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),M=this.componentDef.onPush?288:272,k=fy(0,null,null,1,0,null,null,null,null,null),Q=Yp(null,k,null,M,null,null,a,f,u,s,null);let ke,qe;so(Q);try{const Ye=this.componentDef;let bt,Ne=null;Ye.findHostDirectiveDefs?(bt=[],Ne=new Map,Ye.findHostDirectiveDefs(Ye,bt,Ne),bt.push(Ye)):bt=[Ye];const Nt=function hP(n,e){const t=n[1];return n[22]=e,lu(t,22,2,"#host",null)}(Q,_),Cn=function mP(n,e,t,r,o,i,s,a){const u=o[1];!function gP(n,e,t,r){for(const o of n)e.mergedAttrs=Md(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(eh(e,e.mergedAttrs,!0),null!==t&&Ib(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=Yp(o,bw(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&hy(u,n,r.length-1),Qp(o,m),o[n.index]=m}(Nt,_,Ye,bt,Q,a,f);qe=Ed(k,22),_&&function _P(n,e,t,r){if(r)fg(n,t,["ng-version",QA.full]);else{const{attrs:o,classes:i}=function vx(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!Hs(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&fg(n,t,o),i&&i.length>0&&Db(n,t,i.join(" "))}}(f,Ye,_,r),void 0!==t&&function vP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(qe,this.ngContentSelectors,t),ke=function yP(n,e,t,r,o,i){const s=Ht(),a=o[1],u=Fi(s,o);Dw(a,o,s,t,null,r);for(let m=0;m<t.length;m++)Ii(oc(o,a,s.directiveStart+m,s),o);Iw(a,o,s),u&&Ii(u,o);const f=oc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return cy(a,s,n),f}(Cn,Ye,bt,Ne,Q,[bP]),ly(k,Q,null)}finally{cg()}return new pP(this.componentType,ke,ou(qe,Q),Q,qe)}}class pP extends GA{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new uP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;vy(i[1],i,o,e,t),Ew(i,this._tNode.index)}}get injector(){return new qc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bP(){const n=Ht();Mp(lt()[1],n)}function hr(n){let e=function Fw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(Yi(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=by(n.inputs),s.declaredInputs=by(n.declaredInputs),s.outputs=by(n.outputs);const a=o.hostBindings;a&&EP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&CP(n,u),f&&SP(n,f),A(n.inputs,o.inputs),A(n.declaredInputs,o.declaredInputs),A(n.outputs,o.outputs),Yi(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===hr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Md(o.hostAttrs,t=Md(t,o.hostAttrs))}}(r)}function by(n){return n===d?{}:n===g?[]:n}function CP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function SP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function EP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let nh=null;function uc(){if(!nh){const n=p.Symbol;if(n&&n.iterator)nh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(nh=r)}}}return nh}function rh(n){return!!function wy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&uc()in n)}function Mi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function dc(n,e,t,r){const o=Mi(n,e,t);return Mi(n,e+1,r)||o}function da(n,e,t,r){const o=lt();return Mi(o,jn(),e)&&(bn(),ca(ao(),o,n,e,t,r)),da}function uu(n,e,t,r){return Mi(n,jn(),t)?e+wt(t)+r:On}function fu(n,e,t,r,o,i,s,a){const f=function oh(n,e,t,r,o){const i=dc(n,e,t,r);return Mi(n,e+2,o)||i}(n,nn(),t,o,s);return Yt(3),f?e+wt(t)+r+wt(o)+i+wt(s)+a:On}function sn(n,e,t,r,o,i,s,a){const u=lt(),f=bn(),m=n+22,_=f.firstCreatePass?function FP(n,e,t,r,o,i,s,a,u){const f=e.consts,m=lu(e,n,4,s||null,ia(f,a));py(e,t,m,ia(f,u)),Mp(e,m);const _=m.tViews=fy(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];v(_,!1);const M=u[11].createComment("");Vp(f,u,M,_),Ii(M,u),Qp(u,u[m]=Mw(M,u,M,_)),nc(_)&&uy(f,u,_),null!=s&&dy(u,_,a)}function vs(n){return Er(function ve(){return Et.lFrame.contextLView}(),22+n)}function st(n,e,t){const r=lt();return Mi(r,jn(),e)&&_s(bn(),ao(),r,n,e,r[11],t,!1),st}function Cy(n,e,t,r,o){const s=o?"class":"style";vy(n,t,e.inputs[s],s,r)}function se(n,e,t,r){const o=lt(),i=bn(),s=22+n,a=o[11],u=o[s]=Fg(a,e,function WT(){return Et.lFrame.currentNamespace}()),f=i.firstCreatePass?function NP(n,e,t,r,o,i,s){const a=e.consts,f=lu(e,n,2,o,ia(a,i));return py(e,t,f,ia(a,s)),null!==f.attrs&&eh(f,f.attrs,!1),null!==f.mergedAttrs&&eh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return v(f,!0),Ib(a,u,f),32!=(32&f.flags)&&Vp(i,o,u,f),0===function et(){return Et.lFrame.elementDepthCount}()&&Ii(u,o),function to(){Et.lFrame.elementDepthCount++}(),nc(f)&&(uy(i,o,f),cy(i,f,o)),null!==r&&dy(o,f),se}function te(){let n=Ht();T()?U():(n=n.parent,v(n,!1));const e=n;!function ar(){Et.lFrame.elementDepthCount--}();const t=bn();return t.firstCreatePass&&(Mp(t,n),zc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function YT(n){return 0!=(8&n.flags)}(e)&&Cy(t,e,lt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XT(n){return 0!=(16&n.flags)}(e)&&Cy(t,e,lt(),e.stylesWithoutHost,!1),te}function dt(n,e,t,r){return se(n,e,t,r),te(),dt}function Gd(n,e,t){const r=lt(),o=bn(),i=n+22,s=o.firstCreatePass?function LP(n,e,t,r,o){const i=e.consts,s=ia(i,r),a=lu(e,n,8,"ng-container",s);return null!==s&&eh(a,s,!0),py(e,t,a,ia(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];v(s,!0);const a=r[i]=r[11].createComment("");return Vp(o,r,a,s),Ii(a,r),nc(s)&&(uy(o,r,s),cy(o,s,r)),null!=t&&dy(r,s),Gd}function Wd(){let n=Ht();const e=bn();return T()?U():(n=n.parent,v(n,!1)),e.firstCreatePass&&(Mp(e,n),zc(n)&&e.queries.elementEnd(n)),Wd}function wr(){return lt()}function Zd(n){return!!n&&"function"==typeof n.then}function Zw(n){return!!n&&"function"==typeof n.subscribe}const Sy=Zw;function ut(n,e,t,r){const o=lt(),i=bn(),s=Ht();return function Kw(n,e,t,r,o,i,s){const a=nc(r),f=n.firstCreatePass&&kw(n),m=e[8],_=Tw(e);let M=!0;if(3&r.type||s){const ke=Fi(r,e),qe=s?s(ke):ke,Ye=_.length,bt=s?Nt=>s(Qo(Nt[r.index])):r.index;let Ne=null;if(!s&&a&&(Ne=function $P(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=i,Ne.__ngLastListenerFn__=i,M=!1;else{i=Xw(r,e,m,i,!1);const Nt=t.listen(qe,o,i);_.push(i,Nt),f&&f.push(o,bt,Ye,Ye+1)}}else i=Xw(r,e,m,i,!1);const k=r.outputs;let Q;if(M&&null!==k&&(Q=k[o])){const ke=Q.length;if(ke)for(let qe=0;qe<ke;qe+=2){const Cn=e[Q[qe]][Q[qe+1]].subscribe(i),qn=_.length;_.push(i,Cn),f&&f.push(o,r.index,qn,-(qn+1))}}}(i,o,o[11],s,n,e,r),ut}function Yw(n,e,t,r){try{return!1!==t(r)}catch(o){return xw(n,o),!1}}function Xw(n,e,t,r,o){return function i(s){if(s===Function)return r;yy(n.componentOffset>-1?wo(n.index,e):e);let u=Yw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=Yw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Vt(n=1){return function VT(n){return(Et.lFrame.contextLView=function UT(n,e){for(;n>0;)e=e[15],n--;return e}(n,Et.lFrame.contextLView))[8]}(n)}function BP(n,e){let t=null;const r=function px(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?rw(n,i,!0):gx(r,i))return o}else t=o}return t}function Rt(n){const e=lt()[16][6];if(!e.projection){const r=e.projection=Ad(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?BP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=lt(),o=bn(),i=lu(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),U(),32!=(32&i.flags)&&function tA(n,e,t){Eb(e[11],0,e,t,mb(n,t,e),vb(t.parent||e[6],t,e))}(o,r,i)}function sh(n,e,t,r,o){const i=lt(),s=uu(i,e,t,r);return s!==On&&_s(bn(),ao(),i,n,s,i[11],o,!1),sh}function ah(n,e){return n<<17|e<<2}function _l(n){return n>>17&32767}function Ey(n){return 2|n}function fc(n){return(131068&n)>>2}function Dy(n,e){return-131069&n|e<<2}function Iy(n){return 1|n}function aC(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?_l(i):fc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];GP(n[a],e)&&(u=!0,n[a+1]=r?Iy(m):Ey(m)),a=r?_l(m):fc(m)}u&&(n[t+1]=r?Ey(i):Iy(i))}function GP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&eu(n,e)>=0}function qd(n,e,t){return zs(n,e,t,!1),qd}function Ga(n,e){return zs(n,e,null,!0),Ga}function zs(n,e,t,r){const o=lt(),i=bn(),s=Yt(2);i.firstUpdatePass&&function mC(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Oi()],s=function hC(n,e){return e>=n.expandoStartIndex}(n,t);(function vC(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function eR(n,e,t,r){const o=function vt(n){const e=Et.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Kd(t=My(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=My(o,n,e,t,r),null===i){let u=function tR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==fc(r))return n[_l(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=My(null,n,e,u[1],r),u=Kd(u,e.attrs,r),function nR(n,e,t,r){n[_l(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function rR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Kd(r,n[i].hostAttrs,t);return Kd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function HP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=_l(s),u=fc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||eu(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const M=_l(n[a+1]);n[r+1]=ah(M,a),0!==M&&(n[M+1]=Dy(n[M+1],r)),n[a+1]=function UP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ah(a,0),0!==a&&(n[a+1]=Dy(n[a+1],r)),a=r;else n[r+1]=ah(u,0),0===a?a=r:n[u+1]=Dy(n[u+1],r),u=r;f&&(n[r+1]=Ey(n[r+1])),aC(n,m,r,!0),aC(n,m,r,!1),function zP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&eu(i,e)>=0&&(t[r+1]=Iy(t[r+1]))}(e,m,n,r,i),s=ah(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==On&&Mi(o,s,e)&&function yC(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function jP(n){return 1==(1&n)}(f)?_C(u,e,t,o,fc(f),s):void 0;lh(m)||(lh(i)||function VP(n){return 2==(2&n)}(f)&&(i=_C(u,null,t,o,a,s)),function rA(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:Ji.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ji.Important),n.setStyle(t,r,o,i))}}(r,s,Ba(Oi(),t),o,i))}(i,i.data[Oi()],o,o[11],n,o[s+1]=function sR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(ys(n)))),n}(e,t),r,s)}function My(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Kd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gs(n,s,!!t||e[++i]))}return void 0===n?null:n}function _C(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,_=null===m;let M=t[o+1];M===On&&(M=_?g:void 0);let k=_?bg(M,r):m===r?M:void 0;if(f&&!lh(k)&&(k=bg(u,r)),lh(k)&&(a=k,s))return a;const Q=n[o+1];o=s?_l(Q):fc(Q)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=bg(u,r))}return a}function lh(n){return void 0!==n}function Ke(n,e=""){const t=lt(),r=bn(),o=n+22,i=r.firstCreatePass?lu(r,o,1,e,null):r.data[o],s=t[o]=function Rg(n,e){return n.createText(e)}(t[11],e);Vp(r,t,s,i),v(i,!1)}function bs(n){return Ti("",n,""),bs}function Ti(n,e,t){const r=lt(),o=uu(r,n,e,t);return o!==On&&za(r,Oi(),o),Ti}function Yd(n,e,t,r,o){const i=lt(),s=function du(n,e,t,r,o,i){const a=dc(n,nn(),t,o);return Yt(2),a?e+wt(t)+r+wt(o)+i:On}(i,n,e,t,r,o);return s!==On&&za(i,Oi(),s),Yd}function Ty(n,e,t,r,o,i,s){const a=lt(),u=fu(a,n,e,t,r,o,i,s);return u!==On&&za(a,Oi(),u),Ty}const bu="en-US";let BC=bu;function xy(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)xy(n[i],e,t,r,o);else{const i=bn(),s=lt();let a=cc(n)?n:R(n.provide),u=Kb(n);const f=Ht(),m=1048575&f.providerIndexes,_=f.directiveStart,M=f.providerIndexes>>20;if(cc(n)||!n.multi){const k=new Id(u,o,C),Q=Ry(a,e,o?m:m+M,_);-1===Q?(gg(Rp(f,s),i,a),Py(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(k),s.push(k)):(t[Q]=k,s[Q]=k)}else{const k=Ry(a,e,m+M,_),Q=Ry(a,e,m,m+M),qe=Q>=0&&t[Q];if(o&&!qe||!o&&!(k>=0&&t[k])){gg(Rp(f,s),i,a);const Ye=function EF(n,e,t,r,o){const i=new Id(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,uS(i,o,r&&!t),i}(o?SF:CF,t.length,o,r,u);!o&&qe&&(t[Q].providerFactory=Ye),Py(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ye),s.push(Ye)}else Py(i,n,k>-1?k:Q,uS(t[o?Q:k],u,!o&&r));!o&&r&&qe&&t[Q].componentProviders++}}}function Py(n,e,t,r){const o=cc(e),i=function $A(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function uS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ry(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function CF(n,e,t,r){return Fy(this.multi,[])}function SF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=oc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Fy(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Fy(o,i);return i}function Fy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ir(n,e=[]){return t=>{t.providersResolver=(r,o)=>function wF(n,e,t){const r=bn();if(r.firstCreatePass){const o=Yi(n);xy(t,r.data,r.blueprint,o,!0),xy(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class wu{}class dS{}class fS extends wu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pw(this);const r=Tr(e);this._bootstrapComponents=Ha(r.bootstrap),this._r3Injector=uw(e,t,[{provide:wu,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Oy extends dS{constructor(e){super(),this.moduleType=e}create(e){return new fS(this.moduleType,e)}}class IF extends wu{constructor(e,t,r){super(),this.componentFactoryResolver=new Pw(this),this.instance=null;const o=new qb([...e,{provide:wu,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],t||qp(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ph(n,e,t=null){return new IF(n,e,t).injector}let MF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=zb(0,t.type),o=r.length>0?ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ht({token:n,providedIn:"environment",factory:()=>new n(J(la))}),n})();function pS(n){n.getStandaloneInjector=e=>e.get(MF).getOrCreateStandaloneInjector(n)}function bS(n,e,t,r,o,i){const s=e+t;return Mi(n,s,o)?function ua(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function nf(n,e){const t=n[e];return t===On?void 0:t}(n,s+1)}function ha(n,e){const t=bn();let r;const o=n+22;t.firstCreatePass?(r=function WF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=oa(r.type)),s=cr(C);try{const a=Pp(!1),u=i();return Pp(a),function OP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,lt(),o,u),u}finally{cr(s)}}function ma(n,e,t){const r=n+22,o=lt(),i=Er(o,r);return function rf(n,e){return n[1].data[e].pure}(o,r)?bS(o,function _t(){const n=Et.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function Ly(n){return e=>{setTimeout(n,void 0,e)}}const Dn=class XF extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=Ly(i),o&&(o=Ly(o)),s&&(s=Ly(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof z&&e.add(a),a}};function QF(){return this._results[uc()]()}class $y{get changes(){return this._changes||(this._changes=new Dn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=uc(),r=$y.prototype;r[t]||(r[t]=QF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function xs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ak(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ts=(()=>{class n{}return n.__NG_ELEMENT_ID__=t2,n})();const JF=ts,e2=class extends JF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=Yp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),ly(r,o,e),new jd(o)}};function t2(){return hh(Ht(),lt())}function hh(n,e){return 4&n.type?new e2(e,n,ou(n,e)):null}let ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=n2,n})();function n2(){return MS(Ht(),lt())}const r2=ki,DS=class extends r2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new qc(this._hostTNode,this._hostLView)}get parentInjector(){const e=mg(this._hostTNode,this._hostLView);if(P0(e)){const t=xp(e,this._hostLView),r=Ap(e);return new qc(t[1].data[r+8],t)}return new qc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function kd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Hd(ot(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const M=(s?f:this.parentInjector).get(la,null);M&&(i=M)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function lg(n){return Ki(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const _=r[3],M=new DS(_,_[6],_[3]);M.detach(M.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function Kk(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],z0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function Yk(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=$g(i,s),u=r[11],f=Bp(u,s[7]);return null!==f&&function Wk(n,e,t,r,o,i){r[0]=o,r[6]=e,Ld(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),z0(By(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Og(this._lContainer,t);r&&(Op(By(this._lContainer),t),hb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Og(this._lContainer,t);return r&&null!=Op(By(this._lContainer),t)?new jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function IS(n){return n[8]}function By(n){return n[8]||(n[8]=[])}function MS(n,e){let t;const r=e[n.index];if(Ki(r))t=r;else{let o;if(8&n.type)o=Qo(r);else{const i=e[11];o=i.createComment("");const s=Fi(n,e);sc(i,Bp(i,s),o,function eA(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=Mw(r,e,o,n),Qp(e,t)}return new DS(t,n,e)}class Vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Uy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==PS(e,t).matches&&this.queries[t].setDirty()}}class TS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class jy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new jy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Hy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Hy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,o2(t,i)),this.matchTNodeWithReadOption(e,t,Fp(t,e,i,!1,!1))}else r===ts?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===gt||o===ki||o===ts&&4&t.type)this.addMatch(t.index,-2);else{const i=Fp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function o2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function s2(n,e,t,r){return-1===t?function i2(n,e){return 11&n.type?ou(n,e):4&n.type?hh(n,e):null}(e,n):-2===t?function a2(n,e,t){return t===gt?ou(e,n):t===ts?hh(e,n):t===ki?MS(e,n):void 0}(n,e,r):oc(n,n[1],t,e)}function kS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:s2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function zy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=kS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let _=10;_<m.length;_++){const M=m[_];M[17]===M[3]&&zy(M[1],M,f,r)}if(null!==m[9]){const _=m[9];for(let M=0;M<_.length;M++){const k=_[M];zy(k[1],k,f,r)}}}}}return r}function ws(n){const e=lt(),t=bn(),r=mn();mo(r+1);const o=PS(t,r);if(n.dirty&&function pr(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?zy(t,e,r,[]):kS(t,e,o,r);n.reset(i,KA),n.notifyOnChanges()}return!0}return!1}function Cu(n,e,t){const r=bn();r.firstCreatePass&&(xS(r,new TS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),AS(r,lt(),e)}function Cs(){return function l2(n,e){return n[19].queries[e].queryList}(lt(),mn())}function AS(n,e,t){const r=new $y(4==(4&t));ww(n,e,r,r.destroy),null===e[19]&&(e[19]=new Uy),e[19].queries.push(new Vy(r))}function xS(n,e,t){null===n.queries&&(n.queries=new jy),n.queries.track(new Hy(e,t))}function PS(n,e){return n.queries.getByIndex(e)}function gh(...n){}const hc=new rn("Application Initializer");let yh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=gh,this.reject=gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Zd(i))t.push(i);else if(Sy(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(J(hc,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new rn("AppId",{providedIn:"root",factory:function XS(){return`${Ky()}${Ky()}${Ky()}`}});function Ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QS=new rn("Platform Initializer"),Du=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JS=new rn("appBootstrapListener");let A2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wa=new rn("LocaleId",{providedIn:"root",factory:()=>yn(Wa,Mt.Optional|Mt.SkipSelf)||function x2(){return typeof $localize<"u"&&$localize.locale||bu}()});class R2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let eE=(()=>{class n{compileModuleSync(t){return new Oy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Ha(Tr(t).declarations).reduce((s,a)=>{const u=ot(a);return u&&s.push(new Hd(u)),s},[]);return new R2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N2=(()=>Promise.resolve(0))();function Yy(n){typeof Zone>"u"?N2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ft{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dn(!1),this.onMicrotaskEmpty=new Dn(!1),this.onStable=new Dn(!1),this.onError=new Dn(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function L2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function V2(n){const e=()=>{!function B2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Qy(n),n.isCheckStableRunning=!0,Xy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Qy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return rE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),oE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return rE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),oE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Qy(n),Xy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new Ae(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,$2,gh,gh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const $2={};function Xy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,Xy(n)}class U2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dn,this.onMicrotaskEmpty=new Dn,this.onStable=new Dn,this.onError=new Dn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const iE=new rn(""),_h=new rn("");let t_,Jy=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t_||(function j2(n){t_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),Yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(J(ft),J(e_),J(_h))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),e_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return t_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),bl=null;const sE=new rn("AllowMultipleToken"),n_=new rn("PlatformDestroyListeners");class aE{constructor(e,t){this.name=e,this.token=t}}function cE(n,e,t=[]){const r=`Platform: ${e}`,o=new rn(r);return(i=[])=>{let s=r_();if(!s||s.injector.get(sE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function G2(n){if(bl&&!bl.get(sE,!1))throw new Ae(400,!1);bl=n;const e=n.get(dE);(function lE(n){const e=n.get(QS,null);e&&e.forEach(t=>t())})(n)}(function uE(n=[],e){return lo.create({name:e,providers:[{provide:Yg,useValue:"platform"},{provide:n_,useValue:new Set([()=>bl=null])},...n]})}(a,r))}return function Z2(n){const e=r_();if(!e)throw new Ae(401,!1);return e}()}}function r_(){return bl?.get(dE)??null}let dE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function pE(n,e){let t;return t="noop"===n?new U2:("zone.js"===n?void 0:n)||new ft(e),t}(r?.ngZone,function fE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ft,useValue:o}];return o.run(()=>{const s=lo.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(iu,null);if(!u)throw new Ae(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{vh(this._modules,a),f.unsubscribe()})}),function hE(n,e,t){try{const r=t();return Zd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(yh);return f.runInitializers(),f.donePromise.then(()=>(function VC(n){Mo(n,"Expected localeId to be defined"),"string"==typeof n&&(BC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Wa,bu)||bu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=mE({},r);return function H2(n,e,t){const r=new Oy(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(wl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Ae(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(n_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(J(lo))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function mE(n,e){return Array.isArray(e)?e.reduce(mE,n):{...n,...e}}let wl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new yt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new yt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),Yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=li(i,s.pipe(ps()))}bootstrap(t,r){const o=t instanceof Yb;if(!this._injector.get(yh).done)throw!o&&function ur(n){const e=ot(n)||Bt(n)||or(n);return null!==e&&e.standalone}(t),new Ae(405,false);let s;s=o?t:this._injector.get(Ua).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function z2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(wu),f=s.create(lo.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(iE,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),vh(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;vh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(JS,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ae(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(J(ft),J(la),J(iu))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let It=(()=>{class n{}return n.__NG_ELEMENT_ID__=K2,n})();function K2(n){return function Y2(n,e,t){if(yl(n)&&!t){const r=wo(n.index,e);return new jd(r,r)}return 47&n.type?new jd(e[16],e):null}(Ht(),lt(),16==(16&n))}class bE{constructor(){}supports(e){return rh(e)}create(e){return new nO(e)}}const tO=(n,e)=>e;class nO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<CE(r,o,i)?t:r,a=CE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let M=0;M<f;M++){const k=M<i.length?i[M]:i[M]=0,Q=k+M;m<=Q&&Q<f&&(i[M]=k+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!rh(e))throw new Ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function xP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[uc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new rO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new wE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new oO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function EE(){return new lf([new bE])}let lf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||EE()),deps:[[n,new Pd,new xd]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new Ae(901,!1)}}return n.\u0275prov=ht({token:n,providedIn:"root",factory:EE}),n})();const cO=cE(null,"core",[]);let uO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(J(wl))},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({}),n})(),l_=null;function ga(){return l_}class pO{}const Go=new rn("DocumentToken");let c_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return function hO(){return J(IE)}()},providedIn:"platform"}),n})();const mO=new rn("Location Initialized");let IE=(()=>{class n extends c_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ga().getBaseHref(this._doc)}onPopState(t){const r=ga().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ga().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){ME()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){ME()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(J(Go))},n.\u0275prov=ht({token:n,factory:function(){return function gO(){return new IE(J(Go))}()},providedIn:"platform"}),n})();function ME(){return!!window.history.pushState}function u_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function TE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qa(n){return n&&"?"!==n[0]?"?"+n:n}let ya=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return yn(AE)},providedIn:"root"}),n})();const kE=new rn("appBaseHref");let AE=(()=>{class n extends ya{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??yn(Go).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return u_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qa(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+qa(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+qa(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(J(c_),J(kE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xE=(()=>{class n extends ya{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=u_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+qa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+qa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(J(c_),J(kE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n{constructor(t){this._subject=new Dn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function vO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(TE(PE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qa(r))}normalize(t){return n.stripTrailingSlash(function _O(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,PE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qa(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=qa,n.joinWithSlash=u_,n.stripTrailingSlash=TE,n.\u0275fac=function(t){return new(t||n)(J(ya))},n.\u0275prov=ht({token:n,factory:function(){return function yO(){return new uf(J(ya))}()},providedIn:"root"}),n})();function PE(n){return n.replace(/\/index.html$/,"")}function UE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class oN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new oN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),GE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{GE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ki),C(ts),C(lf))},n.\u0275dir=Lt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function GE(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new sN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ki),C(ts))},n.\u0275dir=Lt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class sN{constructor(){this.$implicit=null,this.ngIf=null}}function WE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class w_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Lt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ZE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new w_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C(ki),C(ts),C(xh,9))},n.\u0275dir=Lt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),qE=(()=>{class n{constructor(t,r,o){o._addDefault(new w_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C(ki),C(ts),C(xh,9))},n.\u0275dir=Lt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class cN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class uN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const dN=new uN,fN=new cN;let YE=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Zd(t))return dN;if(Zw(t))return fN;throw function qs(n,e){return new Ae(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(It,16))},n.\u0275pipe=rr({name:"async",type:n,pure:!1,standalone:!0}),n})(),_a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({}),n})();const QE="browser";function Cl(n){return n===QE}let RN=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>new FN(J(Go),window)}),n})();class FN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ON(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=JE(this.window.history)||JE(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function JE(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eD{}class lL extends pO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T_ extends lL{static makeCurrent(){!function fO(n){l_||(l_=n)}(new T_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cL(){return hf=hf||document.querySelector("base"),hf?hf.getAttribute("href"):null}();return null==t?null:function uL(n){Rh=Rh||document.createElement("a"),Rh.setAttribute("href",n);const e=Rh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UE(document.cookie,e)}}let Rh,hf=null;const iD=new rn("TRANSITION_ID"),fL=[{provide:hc,useFactory:function dL(n,e,t){return()=>{t.get(yh).donePromise.then(()=>{const r=ga(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[iD,Go,lo],multi:!0}];let hL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const Fh=new rn("EventManagerPlugins");let Oh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(J(Fh),J(ft))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class sD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=ga().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let aD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n extends aD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(lD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lD))}}return n.\u0275fac=function(t){return new(t||n)(J(Go))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function lD(n){ga().remove(n)}const k_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A_=/%COMP%/g;function x_(n,e){return e.flat(100).map(t=>t.replace(A_,n))}function dD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let P_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new R_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Wn.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new bL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Wn.ShadowDom:return new wL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=x_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(J(Oh),J(mf),J(af))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class R_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(k_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=k_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=k_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Ji.DashCase|Ji.Important)?e.style.setProperty(t,r,o&Ji.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ji.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dD(r)):this.eventManager.addEventListener(e,t,dD(r))}}function pD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bL extends R_{constructor(e,t,r,o){super(e),this.component=r;const i=x_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function yL(n){return"_ngcontent-%COMP%".replace(A_,n)}(o+"-"+r.id),this.hostAttr=function _L(n){return"_nghost-%COMP%".replace(A_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wL extends R_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=x_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let CL=(()=>{class n extends sD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(J(Go))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const hD=["alt","control","meta","shift"],SL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let DL=(()=>{class n extends sD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ga().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hD.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=SL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hD.forEach(s=>{s!==o&&(0,EL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(J(Go))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const kL=cE(cO,"browser",[{provide:Du,useValue:QE},{provide:QS,useValue:function IL(){T_.makeCurrent()},multi:!0},{provide:Go,useFactory:function TL(){return function lA(n){jg=n}(document),document},deps:[]}]),yD=new rn(""),_D=[{provide:_h,useClass:class pL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ga().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:iE,useClass:Jy,deps:[ft,e_,_h]},{provide:Jy,useClass:Jy,deps:[ft,e_,_h]}],vD=[{provide:Yg,useValue:"root"},{provide:iu,useFactory:function ML(){return new iu},deps:[]},{provide:Fh,useClass:CL,multi:!0,deps:[Go,ft,Du]},{provide:Fh,useClass:DL,multi:!0,deps:[Go]},{provide:P_,useClass:P_,deps:[Oh,mf,af]},{provide:Qb,useExisting:P_},{provide:aD,useExisting:mf},{provide:mf,useClass:mf,deps:[Go]},{provide:Oh,useClass:Oh,deps:[Fh,ft]},{provide:eD,useClass:hL,deps:[]},[]];let AL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:af,useValue:t.appId},{provide:iD,useExisting:af},fL]}}}return n.\u0275fac=function(t){return new(t||n)(J(yD,12))},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({providers:[...vD,..._D],imports:[_a,uO]}),n})(),bD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(J(Go))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function PL(){return new bD(J(Go))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let N_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new(t||n):J(SD),r},providedIn:"root"}),n})(),SD=(()=>{class n extends N_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Fr.NONE:return r;case Fr.HTML:return aa(r,"HTML")?ys(r):Lb(this._doc,String(r)).toString();case Fr.STYLE:return aa(r,"Style")?ys(r):r;case Fr.SCRIPT:if(aa(r,"Script"))return ys(r);throw new Error("unsafe value used in a script context");case Fr.URL:return aa(r,"URL")?ys(r):zp(String(r));case Fr.RESOURCE_URL:if(aa(r,"ResourceURL"))return ys(r);throw new Error(`unsafe value used in a resource URL context (see ${it})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${it})`)}}bypassSecurityTrustHtml(t){return function mA(n){return new cA(n)}(t)}bypassSecurityTrustStyle(t){return function gA(n){return new uA(n)}(t)}bypassSecurityTrustScript(t){return function yA(n){return new dA(n)}(t)}bypassSecurityTrustUrl(t){return function _A(n){return new fA(n)}(t)}bypassSecurityTrustResourceUrl(t){return function vA(n){return new pA(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(J(Go))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function BL(n){return new SD(n.get(Go))}(J(lo)),r},providedIn:"root"}),n})();var ni=x(1158),VL=x(9233),Mu=x.n(VL);let Nh,Lh;function ED(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function DD(){return void 0!==Lh}class ID{constructor(){this.requestEvent=new ni.j}dispatchRequest(e){if(e){try{e=new(Mu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class El{constructor(){this.installation=new ID,this.import=new ID,Nh&&this.installation.dispatchRequest(Nh),Lh&&this.import.dispatchRequest(Lh)}}function gn(...n){return fr(n,Yo(n))}function Dl(n,e){return I(e)?yr(n,e,1):yr(n,1)}function ui(n,e){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>n.call(e,i,o++)&&r.next(i)))})}El.\u0275fac=function(e){return new(e||El)},El.\u0275prov=ht({token:El,factory:El.\u0275fac,providedIn:"root"});class $h{}class L_{}class Ya{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ya;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ya?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class HL{encodeKey(e){return MD(e)}encodeValue(e){return MD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GL=/%(\d[a-f0-9])/gi,WL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(GL,(e,t)=>WL[t]??e)}function Bh(n){return`${n}`}class Il{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Bh):[Bh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Il({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Bh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ZL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kD(n){return typeof Blob<"u"&&n instanceof Blob}function AD(n){return typeof FormData<"u"&&n instanceof FormData}class gf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ya),this.context||(this.context=new ZL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Il,this.urlWithParams=t}serializeBody(){return null===this.body?null:TD(this.body)||kD(this.body)||AD(this.body)||function KL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AD(this.body)?null:kD(this.body)?this.body.type||null:TD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,M)=>_.set(M,e.setHeaders[M]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,M)=>_.set(M,e.setParams[M]),f)),new gf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Po=(()=>((Po=Po||{})[Po.Sent=0]="Sent",Po[Po.UploadProgress=1]="UploadProgress",Po[Po.ResponseHeader=2]="ResponseHeader",Po[Po.DownloadProgress=3]="DownloadProgress",Po[Po.Response=4]="Response",Po[Po.User=5]="User",Po))();class $_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ya,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class B_ extends $_{constructor(e={}){super(e),this.type=Po.ResponseHeader}clone(e={}){return new B_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vh extends $_{constructor(e={}){super(e),this.type=Po.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xD extends $_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function V_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let U_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof gf)i=t;else{let u,f;u=o.headers instanceof Ya?o.headers:new Ya(o.headers),o.params&&(f=o.params instanceof Il?o.params:new Il({fromObject:o.params})),i=new gf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=gn(i).pipe(Dl(u=>this.handler.handle(u)));if(t instanceof gf||"events"===o.observe)return s;const a=s.pipe(ui(u=>u instanceof Vh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(xe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(xe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(xe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(xe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Il).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,V_(o,r))}post(t,r,o={}){return this.request("POST",t,V_(o,r))}put(t,r,o={}){return this.request("PUT",t,V_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(J($h))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function PD(n,e){return e(n)}function YL(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const QL=new rn("HTTP_INTERCEPTORS"),yf=new rn("HTTP_INTERCEPTOR_FNS");function JL(){let n=null;return(e,t)=>(null===n&&(n=(yn(QL,{optional:!0})??[]).reduceRight(YL,PD)),n(e,t))}let RD=(()=>{class n extends $h{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(yf)));this.chain=r.reduceRight((o,i)=>function XL(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),PD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(J(L_),J(la))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const r3=/^\)\]\}',?\n/;let OD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((k,Q)=>o.setRequestHeader(k,Q.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&o.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();o.responseType="json"!==k?k:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const k=o.statusText||"OK",Q=new Ya(o.getAllResponseHeaders()),ke=function o3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new B_({headers:Q,status:o.status,statusText:k,url:ke}),s},u=()=>{let{headers:k,status:Q,statusText:ke,url:qe}=a(),Ye=null;204!==Q&&(Ye=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=Ye?200:0);let bt=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof Ye){const Ne=Ye;Ye=Ye.replace(r3,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(Nt){Ye=Ne,bt&&(bt=!1,Ye={error:Nt,text:Ye})}}bt?(r.next(new Vh({body:Ye,headers:k,status:Q,statusText:ke,url:qe||void 0})),r.complete()):r.error(new xD({error:Ye,headers:k,status:Q,statusText:ke,url:qe||void 0}))},f=k=>{const{url:Q}=a(),ke=new xD({error:k,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});r.error(ke)};let m=!1;const _=k=>{m||(r.next(a()),m=!0);let Q={type:Po.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(Q.total=k.total),"text"===t.responseType&&o.responseText&&(Q.partialText=o.responseText),r.next(Q)},M=k=>{let Q={type:Po.UploadProgress,loaded:k.loaded};k.lengthComputable&&(Q.total=k.total),r.next(Q)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",M)),o.send(i),r.next({type:Po.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",M)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(J(eD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const j_=new rn("XSRF_ENABLED"),ND="XSRF-TOKEN",LD=new rn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ND}),$D="X-XSRF-TOKEN",BD=new rn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$D});class VD{}let i3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=UE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(J(Go),J(Du),J(LD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function s3(n,e){const t=n.url.toLowerCase();if(!yn(j_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=yn(VD).getToken(),o=yn(BD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var So=(()=>((So=So||{})[So.Interceptors=0]="Interceptors",So[So.LegacyInterceptors=1]="LegacyInterceptors",So[So.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",So[So.NoXsrfProtection=3]="NoXsrfProtection",So[So.JsonpSupport=4]="JsonpSupport",So[So.RequestsMadeViaParent=5]="RequestsMadeViaParent",So))();function Tu(n,e){return{\u0275kind:n,\u0275providers:e}}function a3(...n){const e=[U_,OD,RD,{provide:$h,useExisting:RD},{provide:L_,useExisting:OD},{provide:yf,useValue:s3,multi:!0},{provide:j_,useValue:!0},{provide:VD,useClass:i3}];for(const t of n)e.push(...t.\u0275providers);return function OA(n){return{\u0275providers:n}}(e)}const UD=new rn("LEGACY_INTERCEPTOR_FN");function c3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:LD,useValue:n}),void 0!==e&&t.push({provide:BD,useValue:e}),Tu(So.CustomXsrfConfiguration,t)}let u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({providers:[a3(Tu(So.LegacyInterceptors,[{provide:UD,useFactory:JL},{provide:yf,useExisting:UD,multi:!0}]),c3({cookieName:ND,headerName:$D}))]}),n})();const{isArray:d3}=Array,{getPrototypeOf:f3,prototype:p3,keys:h3}=Object;function jD(n){if(1===n.length){const e=n[0];if(d3(e))return{args:e,keys:null};if(function m3(n){return n&&"object"==typeof n&&f3(n)===p3}(e)){const t=h3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:g3}=Array;function H_(n){return xe(e=>function y3(n,e){return g3(e)?n(...e):n(e)}(n,e))}function HD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let zD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(ja),C(gt))},n.\u0275dir=Lt({type:n}),n})(),yc=(()=>{class n extends zD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ei(n)))(r||n)}}(),n.\u0275dir=Lt({type:n,features:[hr]}),n})();const $i=new rn("NgValueAccessor"),b3={provide:$i,useExisting:Oe(()=>z_),multi:!0},C3=new rn("CompositionEventMode");let z_=(()=>{class n extends zD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w3(){const n=ga()?ga().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ja),C(gt),C(C3,8))},n.\u0275dir=Lt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ut("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Ir([b3]),hr]}),n})();function Ml(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function WD(n){return null!=n&&"number"==typeof n.length}const Ai=new rn("NgValidators"),Tl=new rn("NgAsyncValidators"),E3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Uh{static min(e){return function ZD(n){return e=>{if(Ml(e.value)||Ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function qD(n){return e=>{if(Ml(e.value)||Ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function KD(n){return Ml(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function YD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function XD(n){return Ml(n.value)||E3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function QD(n){return e=>Ml(e.value)||!WD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return JD(e)}static pattern(e){return function e1(n){if(!n)return jh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ml(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return s1(e)}static composeAsync(e){return a1(e)}}function JD(n){return e=>WD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function jh(n){return null}function t1(n){return null!=n}function n1(n){return Zd(n)?fr(n):n}function r1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function o1(n,e){return e.map(t=>t(n))}function i1(n){return n.map(e=>function D3(n){return!n.validate}(e)?e:t=>e.validate(t))}function s1(n){if(!n)return null;const e=n.filter(t1);return 0==e.length?null:function(t){return r1(o1(t,e))}}function G_(n){return null!=n?s1(i1(n)):null}function a1(n){if(!n)return null;const e=n.filter(t1);return 0==e.length?null:function(t){return function _3(...n){const e=Hi(n),{args:t,keys:r}=jD(n),o=new yt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let _=!1;Rn(t[m]).subscribe(ye(i,M=>{_||(_=!0,f--),a[m]=M},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?HD(r,a):a),i.complete())}))}});return e?o.pipe(H_(e)):o}(o1(t,e).map(n1)).pipe(xe(r1))}}function W_(n){return null!=n?a1(i1(n)):null}function l1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function c1(n){return n._rawValidators}function u1(n){return n._rawAsyncValidators}function Z_(n){return n?Array.isArray(n)?n:[n]:[]}function Hh(n,e){return Array.isArray(n)?n.includes(e):n===e}function d1(n,e){const t=Z_(e);return Z_(n).forEach(o=>{Hh(t,o)||t.push(o)}),t}function f1(n,e){return Z_(e).filter(t=>!Hh(n,t))}class p1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=G_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=W_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bi extends p1{get formDirective(){return null}get path(){return null}}class Xa extends p1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kl=(()=>{class n extends h1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Xa,2))},n.\u0275dir=Lt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ga("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[hr]}),n})(),Al=(()=>{class n extends h1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Bi,10))},n.\u0275dir=Lt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ga("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[hr]}),n})();const _f="VALID",Gh="INVALID",ku="PENDING",vf="DISABLED";function X_(n){return(Wh(n)?n.validators:n)||null}function Q_(n,e){return(Wh(e)?e.asyncValidators:n)||null}function Wh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_f}get invalid(){return this.status===Gh}get pending(){return this.status==ku}get disabled(){return this.status===vf}get enabled(){return this.status!==vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(d1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(d1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}hasValidator(e){return Hh(this._rawValidators,e)}hasAsyncValidator(e){return Hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_f,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_f||this.status===ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vf:_f}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ku,this._hasOwnPendingAsyncValidator=!0;const t=n1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Dn,this.statusChanges=new Dn}_calculateStatus(){return this._allControlsDisabled()?vf:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ku)?ku:this._anyControlsHaveStatus(Gh)?Gh:_f}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function P3(n){return Array.isArray(n)?G_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function R3(n){return Array.isArray(n)?W_(n):n||null}(this._rawAsyncValidators)}}class _c extends _1{constructor(e,t,r){super(X_(t),Q_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function y1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new Ae(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function g1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zh=_c,Au=new rn("CallSetDisabledState",{providedIn:"root",factory:()=>qh}),qh="always";function bf(n,e,t=qh){J_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function N3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&v1(n,e)})}(n,e),function $3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function L3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&v1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function O3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function J_(n,e){const t=c1(n);null!==e.validator?n.setValidators(l1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=u1(n);null!==e.asyncValidator?n.setAsyncValidators(l1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Xh(e._rawValidators,o),Xh(e._rawAsyncValidators,o)}function Qh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=c1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=u1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return Xh(e._rawValidators,r),Xh(e._rawAsyncValidators,r),t}function v1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function S1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ss=class extends _1{constructor(e=null,t,r){super(X_(t),Q_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=S1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){C1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){C1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){S1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ri=Ss;let xl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Lt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),k1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({}),n})();const ov=new rn("NgModelWithFormControlWarning"),Q3={provide:Bi,useExisting:Oe(()=>va)};let va=(()=>{class n extends Bi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Dn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yh(t.control||null,t,!1),function j3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function w1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Yh(r||null,t),(n=>n instanceof Ss)(o)&&(bf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function b1(n,e){J_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function B3(n,e){return Qh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J_(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(Ai,10),C(Tl,10),C(Au,8))},n.\u0275dir=Lt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ut("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ir([Q3]),hr,To]}),n})();const t$={provide:Xa,useExisting:Oe(()=>Qa)};let Qa=(()=>{class n extends Xa{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Dn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function nv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===z_?t=i:function U3(n){return Object.getPrototypeOf(n.constructor)===yc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function tv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Kh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(Bi,13),C(Ai,10),C(Tl,10),C($i,10),C(ov,8))},n.\u0275dir=Lt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ir([t$]),hr,To]}),n})();let vc=(()=>{class n{constructor(){this._validator=jh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Lt({type:n,features:[To]}),n})();const h$={provide:Ai,useExisting:Oe(()=>uv),multi:!0};let uv=(()=>{class n extends vc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function N1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>JD(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ei(n)))(r||n)}}(),n.\u0275dir=Lt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&da("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ir([h$]),hr]}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({imports:[k1]}),n})(),bc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Au,useValue:t.callSetDisabledState??qh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({imports:[z1]}),n})(),Jh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ov,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Au,useValue:t.callSetDisabledState??qh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({imports:[z1]}),n})();const y$=["addListener","removeListener"],_$=["addEventListener","removeEventListener"],v$=["on","off"];function Cf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Cf(n,e,t).pipe(H_(r));const[o,i]=function C$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?_$.map(s=>a=>n[s](e,a,t)):function b$(n){return I(n.addListener)&&I(n.removeListener)}(n)?y$.map(G1(n,e)):function w$(n){return I(n.on)&&I(n.off)}(n)?v$.map(G1(n,e)):[];if(!o&&gr(n))return yr(s=>Cf(s,e,t))(Rn(n));if(!o)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function G1(n,e){return t=>r=>n[t](e,r)}class Es extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const em=c(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function W1(...n){const e=Yo(n),t=Hi(n),{args:r,keys:o}=jD(n);if(0===r.length)return fr([],e);const i=new yt(function S$(n,e,t=ne){return r=>{Z1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)Z1(e,()=>{const f=fr(n[u],e);let m=!1;f.subscribe(ye(r,_=>{i[u]=_,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>HD(o,s):ne));return t?i.pipe(H_(t)):i}function Z1(n,e,t){n?ro(t,n,e):e()}function Sf(...n){return function E$(){return $o(1)}()(fr(n,Yo(n)))}function tm(n){return new yt(e=>{Rn(n()).subscribe(e)})}function xu(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new yt(e?o=>e.schedule(r,0,o):r)}function dv(){return q((n,e)=>{let t=null;n._refCount++;const r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class fv extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ue(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new z;const t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=z.EMPTY)}return e}refCount(){return dv()(this)}}function di(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(ye(r,u=>{o?.unsubscribe();let f=0;const m=i++;Rn(n(u,m)).subscribe(o=ye(r,_=>r.next(e?e(u,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ds(n){return n<=0?()=>Xr:q((e,t)=>{let r=0;e.subscribe(ye(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function q1(...n){const e=Yo(n);return q((t,r)=>{(e?Sf(n,t,e):Sf(n,t)).subscribe(r)})}function nm(n){return q((e,t)=>{let r=!1;e.subscribe(ye(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function K1(n=D$){return q((e,t)=>{let r=!1;e.subscribe(ye(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function D$(){return new em}function Ja(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ui((o,i)=>n(o,i,r)):ne,Ds(1),t?nm(e):K1(()=>new em))}function fi(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ye(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function el(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(ye(t,void 0,void 0,s=>{i=Rn(n(s,el(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function I$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(ye(s,m=>{const _=f++;u=a?n(u,m,_):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function Y1(n,e){return q(I$(n,e,arguments.length>=2,!0))}function pv(n){return n<=0?()=>Xr:q((e,t)=>{let r=[];e.subscribe(ye(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function X1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ui((o,i)=>n(o,i,r)):ne,pv(1),t?nm(e):K1(()=>new em))}function hv(n){return xe(()=>n)}function mv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Nn="primary",Ef=Symbol("RouteTitle");class T${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pu(n){return new T$(n)}function k$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ba(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Q1(n[o],e[o]))return!1;return!0}function Q1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function J1(n){return Array.prototype.concat.apply([],n)}function eI(n){return n.length>0?n[n.length-1]:null}function pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Pl(n){return Sy(n)?n:Zd(n)?fr(Promise.resolve(n)):gn(n)}const rm=!1,x$={exact:function rI(n,e,t){if(!Cc(n.segments,e.segments)||!om(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rI(n.children[r],e.children[r],t))return!1;return!0},subset:oI},tI={exact:function P$(n,e){return ba(n,e)},subset:function R$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Q1(n[t],e[t]))},ignored:()=>!0};function nI(n,e,t){return x$[t.paths](n.root,e.root,t.matrixParams)&&tI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oI(n,e,t){return iI(n,e,e.segments,t)}function iI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Cc(o,t)||e.hasChildren()||!om(o,t,r))}if(n.segments.length===t.length){if(!Cc(n.segments,t)||!om(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!oI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Cc(n.segments,o)&&om(n.segments,o,r)&&n.children[Nn])&&iI(n.children[Nn],e,i,r)}}function om(n,e,t){return e.every((r,o)=>tI[t](n[o].parameters,r.parameters))}class wc{constructor(e=new Xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pu(this.queryParams)),this._queryParamMap}toString(){return N$.serialize(this)}}class Xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return im(this)}}class Df{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pu(this.parameters)),this._parameterMap}toString(){return lI(this)}}function Cc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ru=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return new gv},providedIn:"root"}),n})();class gv{parse(e){const t=new G$(e);return new wc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${If(e.root,!0)}`,r=function B$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${sm(t)}=${sm(o)}`).join("&"):`${sm(t)}=${sm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function L$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const N$=new gv;function im(n){return n.segments.map(e=>lI(e)).join("/")}function If(n,e){if(!n.hasChildren())return im(n);if(e){const t=n.children[Nn]?If(n.children[Nn],!1):"",r=[];return pi(n.children,(o,i)=>{i!==Nn&&r.push(`${i}:${If(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function O$(n,e){let t=[];return pi(n.children,(r,o)=>{o===Nn&&(t=t.concat(e(r,o)))}),pi(n.children,(r,o)=>{o!==Nn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Nn?[If(n.children[Nn],!1)]:[`${o}:${If(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nn]?`${im(n)}/${t[0]}`:`${im(n)}/(${t.join("//")})`}}function sI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sm(n){return sI(n).replace(/%3B/gi,";")}function yv(n){return sI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function am(n){return decodeURIComponent(n)}function aI(n){return am(n.replace(/\+/g,"%20"))}function lI(n){return`${yv(n.path)}${function $$(n){return Object.keys(n).map(e=>`;${yv(e)}=${yv(n[e])}`).join("")}(n.parameters)}`}const V$=/^[^\/()?;=#]+/;function lm(n){const e=n.match(V$);return e?e[0]:""}const U$=/^[^=?&#]+/,H$=/^[^&#]+/;class G${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nn]=new Xn(e,t)),r}parseSegment(){const e=lm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ae(4009,rm);return this.capture(e),new Df(am(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=lm(this.remaining);o&&(r=o,this.capture(r))}e[am(t)]=am(r)}parseQueryParam(e){const t=function j$(n){const e=n.match(U$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function z$(n){const e=n.match(H$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=aI(t),i=aI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ae(4010,rm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Nn);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Nn]:new Xn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ae(4011,rm)}}function _v(n){return n.segments.length>0?new Xn([],{[Nn]:n}):n}function cm(n){const e={};for(const r of Object.keys(n.children)){const i=cm(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function W$(n){if(1===n.numberOfChildren&&n.children[Nn]){const e=n.children[Nn];return new Xn(n.segments.concat(e.segments),e.children)}return n}(new Xn(n.segments,e))}function Sc(n){return n instanceof wc}function K$(n,e,t,r,o){if(0===t.length)return Fu(e.root,e.root,e.root,r,o);const i=function dI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return pi(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new uI(t,e,r)}(t);return i.toRoot()?Fu(e.root,e.root,new Xn([],{}),r,o):function s(u){const f=function X$(n,e,t,r){if(n.isAbsolute)return new Ou(e.root,!0,0);if(-1===r)return new Ou(t,t===e.root,0);return function fI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Ae(4005,!1);o=r.segments.length}return new Ou(r,!1,o-i)}(t,r+(Mf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?Nu(f.segmentGroup,f.index,i.commands):bv(f.segmentGroup,f.index,i.commands);return Fu(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function Mf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function Fu(n,e,t,r,o){let s,i={};r&&pi(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:cI(n,e,t);const a=_v(cm(s));return new wc(a,i,o)}function cI(n,e,t){const r={};return pi(n.children,(o,i)=>{r[i]=o===e?t:cI(o,e,t)}),new Xn(n.segments,r)}class uI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mf(r[0]))throw new Ae(4003,!1);const o=r.find(Tf);if(o&&o!==eI(r))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ou{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function bv(n,e,t){if(n||(n=new Xn([],{})),0===n.segments.length&&n.hasChildren())return Nu(n,e,t);const r=function J$(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Tf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!hI(u,f,s))return i;r+=2}else{if(!hI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Xn(n.segments.slice(0,r.pathIndex),{});return i.children[Nn]=new Xn(n.segments.slice(r.pathIndex),n.children),Nu(i,0,o)}return r.match&&0===o.length?new Xn(n.segments,{}):r.match&&!n.hasChildren()?wv(n,e,t):r.match?Nu(n,0,o):wv(n,e,t)}function Nu(n,e,t){if(0===t.length)return new Xn(n.segments,{});{const r=function Q$(n){return Tf(n[0])?n[0].outlets:{[Nn]:n}}(t),o={};return!r[Nn]&&n.children[Nn]&&1===n.numberOfChildren&&0===n.children[Nn].segments.length?Nu(n.children[Nn],e,t):(pi(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=bv(n.children[s],e,i))}),pi(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Xn(n.segments,o))}}function wv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Tf(i)){const u=e4(i.outlets);return new Xn(r,u)}if(0===o&&Mf(t[0])){r.push(new Df(n.segments[e].path,pI(t[0]))),o++;continue}const s=Tf(i)?i.outlets[Nn]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Mf(a)?(r.push(new Df(s,pI(a))),o+=2):(r.push(new Df(s,{})),o++)}return new Xn(r,{})}function e4(n){const e={};return pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wv(new Xn([],{}),0,t))}),e}function pI(n){const e={};return pi(n,(t,r)=>e[r]=`${t}`),e}function hI(n,e,t){return n==t.path&&ba(e,t.parameters)}const kf="imperative";class wa{constructor(e,t){this.id=e,this.url=t}}class um extends wa{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ec extends wa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dm extends wa{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mI extends wa{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class gI extends wa{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t4 extends wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n4 extends wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends wa{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o4 extends wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i4 extends wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let p4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return K$(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(e){return p4.\u0275fac(e)},providedIn:"root"}),n})();class _I{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Cv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Cv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Sv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Sv(e,this._root).map(t=>t.value)}}function Cv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Cv(n,t);if(r)return r}return null}function Sv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Sv(n,t);if(r.length)return r.unshift(e),r}return[]}class tl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vI extends _I{constructor(e,t){super(e),this.snapshot=t,Ev(this,e)}toString(){return this.snapshot.toString()}}function bI(n,e){const t=function m4(n,e){const s=new fm([],{},{},"",{},Nn,e,null,n.root,-1,{});return new CI("",new tl(s,[]))}(n,e),r=new Es([new Df("",{})]),o=new Es({}),i=new Es({}),s=new Es({}),a=new Es(""),u=new nl(r,o,s,a,i,Nn,e,t.root);return u.snapshot=t.root,new vI(new tl(u,[]),t)}class nl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(xe(f=>f[Ef]))??gn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Pu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Pu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function g4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class fm{get title(){return this.data?.[Ef]}constructor(e,t,r,o,i,s,a,u,f,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CI extends _I{constructor(e,t){super(t),this.url=e,Ev(this,t)}toString(){return SI(this._root)}}function Ev(n,e){e.value._routerState=n,e.children.forEach(t=>Ev(n,t))}function SI(n){const e=n.children.length>0?` { ${n.children.map(SI).join(", ")} } `:"";return`${n.value}${e}`}function Dv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ba(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ba(e.params,t.params)||n.params.next(t.params),function A$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ba(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ba(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Iv(n,e){const t=ba(n.params,e.params)&&function F$(n,e){return Cc(n,e)&&n.every((t,r)=>ba(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Iv(n.parent,e.parent))}function Af(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function _4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Af(n,r,o);return Af(n,r)})}(n,e,t);return new tl(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Af(n,a)),s}}const r=function v4(n){return new nl(new Es(n.url),new Es(n.params),new Es(n.queryParams),new Es(n.fragment),new Es(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Af(n,i));return new tl(r,o)}}const Mv="ngNavigationCancelingError";function EI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=DI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function DI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Mv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function II(n){return MI(n)&&Sc(n.url)}function MI(n){return n&&n[Mv]}class b4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dc,this.attachRef=null}}let Dc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new b4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pm=!1;let TI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nn,this.activateEvents=new Dn,this.deactivateEvents=new Dn,this.attachEvents=new Dn,this.detachEvents=new Dn,this.parentContexts=yn(Dc),this.location=yn(ki),this.changeDetector=yn(It),this.environmentInjector=yn(la)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,pm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,pm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,pm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ae(4013,pm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new w4(t,a,o.injector);if(r&&function C4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Lt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[To]}),n})();class w4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===nl?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Re({type:n,selectors:[["ng-component"]],standalone:!0,features:[pS],decls:1,vars:0,template:function(t,r){1&t&&dt(0,"router-outlet")},dependencies:[TI],encapsulation:2}),n})();function kI(n,e){return n.providers&&!n._injector&&(n._injector=ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Av(n){const e=n.children&&n.children.map(Av),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nn&&(t.component=Tv),t}function Os(n){return n.outlet||Nn}function AI(n,e){const t=n.filter(r=>Os(r)===e);return t.push(...n.filter(r=>Os(r)!==e)),t}function xf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class M4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Lu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),pi(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Lu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Lu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Lu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new d4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new c4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Dv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=xf(o.snapshot),u=a?.get(Ua)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class xI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hm{constructor(e,t){this.component=e,this.route=t}}function T4(n,e,t){const r=n._root;return Pf(r,e?e._root:null,t,[r.value])}function $u(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function ea(n){return null!==hs(n)}(n)?e.get(n):n:r}function Pf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Lu(e);return n.children.forEach(s=>{(function A4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function x4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Cc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Cc(n.url,e.url)||!ba(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iv(n,e)||!ba(n.queryParams,e.queryParams);default:return!Iv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new xI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Pf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new hm(a.outlet.component,s))}else s&&Rf(e,a,o),o.canActivateChecks.push(new xI(r)),Pf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),pi(i,(s,a)=>Rf(s,t.getContext(a),o)),o}function Rf(n,e,t){const r=Lu(n),o=n.value;pi(r,(i,s)=>{Rf(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new hm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Ff(n){return"function"==typeof n}function xv(n){return n instanceof em||"EmptyError"===n?.name}const mm=Symbol("INITIAL_VALUE");function Bu(){return di(n=>W1(n.map(e=>e.pipe(Ds(1),q1(mm)))).pipe(xe(e=>{for(const t of e)if(!0!==t){if(t===mm)return mm;if(!1===t||t instanceof wc)return t}return!0}),ui(e=>e!==mm),Ds(1)))}function PI(n){return function je(...n){return Qe(n)}(fi(e=>{if(Sc(e))throw EI(0,e)}),xe(e=>!0===e))}const Pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RI(n,e,t,r,o){const i=Rv(n,e,t);return i.matched?function q4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?gn(o.map(s=>{const a=$u(s,n);return Pl(function L4(n){return n&&Ff(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Bu(),PI()):gn(!0)}(r=kI(e,r),e,t).pipe(xe(s=>!0===s?i:{...Pv})):gn(i)}function Rv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Pv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||k$)(t,n,e);if(!o)return{...Pv};const i={};pi(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function gm(n,e,t,r){if(t.length>0&&function X4(n,e,t){return t.some(r=>ym(n,e,r)&&Os(r)!==Nn)}(n,t,r)){const i=new Xn(e,function Y4(n,e,t,r){const o={};o[Nn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Os(i)!==Nn){const s=new Xn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Os(i)]=s}return o}(n,e,r,new Xn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function Q4(n,e,t){return t.some(r=>ym(n,e,r))}(n,t,r)){const i=new Xn(n.segments,function K4(n,e,t,r,o){const i={};for(const s of r)if(ym(n,t,s)&&!o[Os(s)]){const a=new Xn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Os(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Xn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function ym(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FI(n,e,t,r){return!!(Os(n)===r||r!==Nn&&ym(e,t,n))&&("**"===n.path||Rv(e,n,t).matched)}function OI(n,e,t){return 0===e.length&&!n.children[t]}const _m=!1;class vm{constructor(e){this.segmentGroup=e||null}}class NI{constructor(e){this.urlTree=e}}function Of(n){return xu(new vm(n))}function LI(n){return xu(new NI(n))}class nB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=gm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Nn).pipe(xe(i=>this.createUrlTree(cm(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(i=>{if(i instanceof NI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof vm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Nn).pipe(xe(o=>this.createUrlTree(cm(o),e.queryParams,e.fragment))).pipe(el(o=>{throw o instanceof vm?this.noMatchError(o):o}))}noMatchError(e){return new Ae(4002,_m)}createUrlTree(e,t,r){const o=_v(e);return new wc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(xe(i=>new Xn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return fr(o).pipe(Dl(i=>{const s=r.children[i],a=AI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(xe(u=>({segment:u,outlet:i})))}),Y1((i,s)=>(i[s.outlet]=s.segment,i),{}),X1())}expandSegment(e,t,r,o,i,s){return fr(r).pipe(Dl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(el(f=>{if(f instanceof vm)return gn(null);throw f}))),Ja(a=>!!a),el((a,u)=>{if(xv(a))return OI(t,o,i)?gn(new Xn([],{})):Of(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return FI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Of(t):Of(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LI(i):this.lineralizeSegments(r,i).pipe(yr(s=>{const a=new Xn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Rv(t,o,i);if(!a)return Of(t);const _=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?LI(_):this.lineralizeSegments(o,_).pipe(yr(M=>this.expandSegment(e,t,r,M.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=kI(r,e),r.loadChildren?(r._loadedRoutes?gn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(xe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Xn(o,{})))):gn(new Xn(o,{}))):RI(t,r,o,e).pipe(di(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(yr(m=>{const _=m.injector??e,M=m.routes,{segmentGroup:k,slicedSegments:Q}=gm(t,a,u,M),ke=new Xn(k.segments,k.children);if(0===Q.length&&ke.hasChildren())return this.expandChildren(_,M,ke).pipe(xe(Ne=>new Xn(a,Ne)));if(0===M.length&&0===Q.length)return gn(new Xn(a,{}));const qe=Os(r)===i;return this.expandSegment(_,ke,M,Q,qe?Nn:i,!0).pipe(xe(bt=>new Xn(a.concat(bt.segments),bt.children)))})):Of(t)))}getChildConfig(e,t,r){return t.children?gn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gn({routes:t._loadedRoutes,injector:t._loadedInjector}):function Z4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?gn(!0):gn(o.map(s=>{const a=$u(s,n);return Pl(function R4(n){return n&&Ff(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Bu(),PI())}(e,t,r).pipe(yr(o=>o?this.configLoader.loadChildren(e,t).pipe(fi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function eB(n){return xu(DI(_m,3))}())):gn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return gn(r);if(o.numberOfChildren>1||!o.children[Nn])return xu(new Ae(4e3,_m));o=o.children[Nn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new wc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pi(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return pi(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Xn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Ae(4001,_m);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class oB{}class aB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=gm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Nn).pipe(xe(t=>{if(null===t)return null;const r=new fm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new tl(r,t),i=new CI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=wI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return fr(Object.keys(r.children)).pipe(Dl(o=>{const i=r.children[o],s=AI(t,o);return this.processSegmentGroup(e,s,i,o)}),Y1((o,i)=>o&&i?(o.push(...i),o):null),function M$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),nm(null),X1(),xe(o=>{if(null===o)return null;const i=BI(o);return function lB(n){n.sort((e,t)=>e.value.outlet===Nn?-1:t.value.outlet===Nn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return fr(t).pipe(Dl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),Ja(s=>!!s),el(s=>{if(xv(s))return OI(r,o,i)?gn([]):gn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!FI(t,r,o,i))return gn(null);let s;if("**"===t.path){const a=o.length>0?eI(o).parameters:{},u=UI(r)+o.length;s=gn({snapshot:new fm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jI(t),Os(t),t.component??t._loadedComponent??null,t,VI(r),u,HI(t)),consumedSegments:[],remainingSegments:[]})}else s=RI(r,t,o,e).pipe(xe(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=UI(r)+u.length;return{snapshot:new fm(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jI(t),Os(t),t.component??t._loadedComponent??null,t,VI(r),_,HI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(di(a=>{if(null===a)return gn(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const _=t._loadedInjector??e,M=function cB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:Q}=gm(r,f,m,M.filter(qe=>void 0===qe.redirectTo));if(0===Q.length&&k.hasChildren())return this.processChildren(_,M,k).pipe(xe(qe=>null===qe?null:[new tl(u,qe)]));if(0===M.length&&0===Q.length)return gn([new tl(u,[])]);const ke=Os(t)===i;return this.processSegment(_,M,k,Q,ke?Nn:i).pipe(xe(qe=>null===qe?null:[new tl(u,qe)]))}))}}function uB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BI(n){const e=[],t=new Set;for(const r of n){if(!uB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=BI(r.children);e.push(new tl(r.value,o))}return e.filter(r=>!t.has(r))}function VI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function UI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jI(n){return n.data||{}}function HI(n){return n.resolve||{}}function zI(n){return"string"==typeof n.title||null===n.title}function Fv(n){return di(e=>{const t=n(e);return t?fr(t).pipe(xe(()=>e)):gn(e)})}const Vu=new rn("ROUTES");let Ov=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Pl(t.loadComponent()).pipe(xe(WI),fi(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),mv(()=>{this.componentLoaders.delete(t)})),o=new fv(r,()=>new nt).pipe(dv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(xe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=J1(u.get(Vu,[],Mt.Self|Mt.Optional)));return{routes:f.map(Av),injector:u}}),mv(()=>{this.childrenLoaders.delete(r)})),s=new fv(i,()=>new nt).pipe(dv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Pl(t()).pipe(xe(WI),yr(o=>o instanceof dS||Array.isArray(o)?gn(o):fr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(J(lo),J(eE))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WI(n){return function vB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let wm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.configLoader=yn(Ov),this.environmentInjector=yn(la),this.urlSerializer=yn(Ru),this.rootContexts=yn(Dc),this.navigationId=0,this.afterPreactivation=()=>gn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new a4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new s4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Es({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(r=>0!==r.id),xe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),di(r=>{let o=!1,i=!1;return gn(r).pipe(fi(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new mI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Xr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ZI(s.source)&&(t.browserUrlTree=s.extractedUrl),gn(s).pipe(di(m=>{const _=this.transitions?.getValue();return this.events.next(new um(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Xr:Promise.resolve(m)}),function rB(n,e,t,r){return di(o=>function tB(n,e,t,r,o){return new nB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(xe(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),fi(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function fB(n,e,t,r,o){return yr(i=>function sB(n,e,t,r,o,i,s="emptyOnly"){return new aB(n,e,t,r,o,s,i).recognize().pipe(di(a=>null===a?function iB(n){return new yt(e=>e.error(n))}(new oB):gn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(xe(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),fi(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const M=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(M,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new t4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:M,restoredState:k,extras:Q}=s,ke=new um(m,this.urlSerializer.serialize(_),M,k);this.events.next(ke);const qe=bI(_,this.rootComponentType).snapshot;return gn(r={...s,targetSnapshot:qe,urlAfterRedirects:_,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new mI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Xr}}),fi(s=>{const a=new n4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),xe(s=>r={...s,guards:T4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function B4(n,e){return yr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?gn({...t,guardsResult:!0}):function V4(n,e,t,r){return fr(n).pipe(yr(o=>function W4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?gn(i.map(a=>{const u=xf(e)??o,f=$u(a,u);return Pl(function N4(n){return n&&Ff(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(Ja())})).pipe(Bu()):gn(!0)}(o.component,o.route,t,e,r)),Ja(o=>!0!==o,!0))}(s,r,o,n).pipe(yr(a=>a&&function P4(n){return"boolean"==typeof n}(a)?function U4(n,e,t,r){return fr(e).pipe(Dl(o=>Sf(function H4(n,e){return null!==n&&e&&e(new l4(n)),gn(!0)}(o.route.parent,r),function j4(n,e){return null!==n&&e&&e(new u4(n)),gn(!0)}(o.route,r),function G4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function k4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>tm(()=>gn(s.guards.map(u=>{const f=xf(s.node)??t,m=$u(u,f);return Pl(function O4(n){return n&&Ff(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(Ja())})).pipe(Bu())));return gn(i).pipe(Bu())}(n,o.path,t),function z4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gn(!0);const o=r.map(i=>tm(()=>{const s=xf(e)??t,a=$u(i,s);return Pl(function F4(n){return n&&Ff(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ja())}));return gn(o).pipe(Bu())}(n,o.route,t))),Ja(o=>!0!==o,!0))}(r,i,n,e):gn(a)),xe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),fi(s=>{if(r.guardsResult=s.guardsResult,Sc(s.guardsResult))throw EI(0,s.guardsResult);const a=new r4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ui(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Fv(s=>{if(s.guards.canActivateChecks.length)return gn(s).pipe(fi(a=>{const u=new o4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),di(a=>{let u=!1;return gn(a).pipe(function pB(n,e){return yr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return gn(t);let i=0;return fr(o).pipe(Dl(s=>function hB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!zI(o)&&(i[Ef]=o.title),function mB(n,e,t,r){const o=function gB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return gn({});const i={};return fr(o).pipe(yr(s=>function yB(n,e,t,r){const o=xf(e)??r,i=$u(n,o);return Pl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(Ja(),fi(a=>{i[s]=a}))),pv(1),hv(i),el(s=>xv(s)?Xr:xu(s)))}(i,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=wI(n,t).resolve,o&&zI(o)&&(n.data[Ef]=o.title),null)))}(s.route,r,n,e)),fi(()=>i++),pv(1),yr(s=>i===o.length?gn(t):Xr))})}(t.paramsInheritanceStrategy,this.environmentInjector),fi({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),fi(a=>{const u=new i4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Fv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(fi(m=>{u.component=m}),xe(()=>{})));for(const m of u.children)f.push(...a(m));return f};return W1(a(s.targetSnapshot.root)).pipe(nm(),Ds(1))}),Fv(()=>this.afterPreactivation()),xe(s=>{const a=function y4(n,e,t){const r=Af(n,e._root,t?t._root:void 0);return new vI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),fi(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>xe(r=>(new M4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),fi({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ec(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),mv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),el(s=>{if(i=!0,MI(s)){II(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new dm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),II(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ZI(r.source)};t.scheduleNavigation(u,kf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new gI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Xr}))}))}cancelNavigationTransition(t,r,o){const i=new dm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZI(n){return n!==kf}let qI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Nn);return r}getResolvedTitleForRoute(t){return t.data[Ef]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return yn(bB)},providedIn:"root"}),n})(),bB=(()=>{class n extends qI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(J(bD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return yn(CB)},providedIn:"root"}),n})();class wB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let CB=(()=>{class n extends wB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ei(n)))(r||n)}}(),n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cm=new rn("",{providedIn:"root",factory:()=>({})});let EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return yn(DB)},providedIn:"root"}),n})(),DB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IB(n){throw n}function MB(n,e,t){return e.parse("/")}const TB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ro=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=yn(A2),this.isNgZoneEnabled=!1,this.options=yn(Cm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||IB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=yn(EB),this.routeReuseStrategy=yn(KI),this.urlCreationStrategy=yn(h4),this.titleStrategy=yn(qI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=J1(yn(Vu,{optional:!0})??[]),this.navigationTransitions=yn(wm),this.urlSerializer=yn(Ru),this.location=yn(uf),this.isNgZoneEnabled=yn(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Av),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Sc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,kf,null,r)}navigate(t,r={skipLocationChange:!1}){return function AB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Ae(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...TB}:!1===r?{...kB}:r,Sc(t))return nI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return nI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,M)=>{a=_,u=M}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XI{}let RB=(()=>{class n{preload(t,r){return r().pipe(el(()=>gn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ui(t=>t instanceof Ec),Dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=ph(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return fr(o).pipe($o())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):gn(null);const i=o.pipe(yr(s=>null===s?gn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?fr([i,this.loader.loadComponent(r)]).pipe($o()):i})}}return n.\u0275fac=function(t){return new(t||n)(J(Ro),J(eE),J(la),J(XI),J(Ov))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nv=new rn("");let QI=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ec&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function yw(){throw new Error("invalid")}()},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}function eM(){const n=yn(lo);return e=>{const t=n.get(wl);if(e!==t.components[0])return;const r=n.get(Ro),o=n.get(tM);1===n.get($v)&&r.initialNavigation(),n.get(nM,null,Mt.Optional)?.setUpPreloading(),n.get(Nv,null,Mt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const tM=new rn("",{factory:()=>new nt}),$v=new rn("",{providedIn:"root",factory:()=>1});const nM=new rn("");function BB(n){return Ic(0,[{provide:nM,useExisting:FB},{provide:XI,useExisting:n}])}const rM=new rn("ROUTER_FORROOT_GUARD"),VB=[uf,{provide:Ru,useClass:gv},Ro,Dc,{provide:nl,useFactory:function JI(n){return n.routerState.root},deps:[Ro]},Ov,[]];function UB(){return new aE("Router",Ro)}let Sm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[VB,[],{provide:Vu,multi:!0,useValue:t},{provide:rM,useFactory:GB,deps:[[Ro,new xd,new Pd]]},{provide:Cm,useValue:r||{}},r?.useHash?{provide:ya,useClass:xE}:{provide:ya,useClass:AE},{provide:Nv,useFactory:()=>{const n=yn(RN),e=yn(ft),t=yn(Cm),r=yn(wm),o=yn(Ru);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QI(o,r,n,e,t)}},r?.preloadingStrategy?BB(r.preloadingStrategy).\u0275providers:[],{provide:aE,multi:!0,useFactory:UB},r?.initialNavigation?WB(r):[],[{provide:oM,useFactory:eM},{provide:JS,multi:!0,useExisting:oM}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(J(rM,8))},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({imports:[Tv]}),n})();function GB(n){return"guarded"}function WB(n){return["disabled"===n.initialNavigation?Ic(3,[{provide:hc,multi:!0,useFactory:()=>{const e=yn(Ro);return()=>{e.setUpLocationChangeListener()}}},{provide:$v,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ic(2,[{provide:$v,useValue:0},{provide:hc,multi:!0,deps:[lo],useFactory:e=>{const t=e.get(mO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Ro),s=e.get(tM);(function r(o){e.get(Ro).events.pipe(ui(s=>s instanceof Ec||s instanceof dm||s instanceof gI),xe(s=>s instanceof Ec||s instanceof dm&&(0===s.code||1===s.code)&&null),ui(s=>null!==s),Ds(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(wm).afterPreactivation=()=>(o(!0),s.closed?gn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const oM=new rn("");x(5933),x(9078),x(4199),x(8759);var Bv=x(5823),ju=x(9259),$f=x(919),Bf=(x(7351),x(7580)),iM=(x(2286),x(6379),x(1559));function aM(n,e=ne){return n=n??KB,q((t,r)=>{let o,i=!0;t.subscribe(ye(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function KB(n,e){return n===e}const XB=Bv.i,$t=["*"],eV=["outlet"],tV=[[["","slot","top"]],"*"],nV=["[slot=top]","*"],lM=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),cM=n=>!!n.resolveComponentFactory;let Vf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Hu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Hu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Hu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(Xa)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Hu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Hu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(gt))},n.\u0275dir=Lt({type:n,hostBindings:function(t,r){1&t&&ut("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Hu=n=>{lM(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=iV(e);Vv(e,r);const o=e.closest("ion-item");o&&Vv(o,t?[...r,"item-has-value"]:r)})},iV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&sV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},Vv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},sV=(n,e)=>n.substring(0,e.length)===e;let zu=(()=>{class n extends Vf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Hu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(gt))},n.\u0275dir=Lt({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&ut("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Ir([{provide:$i,useExisting:n,multi:!0}]),hr]}),n})(),Uf=(()=>{class n extends Vf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(gt))},n.\u0275dir=Lt({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&ut("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Ir([{provide:$i,useExisting:n,multi:!0}]),hr]}),n})(),Rl=(()=>{class n extends Vf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(gt))},n.\u0275dir=Lt({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&ut("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Ir([{provide:$i,useExisting:n,multi:!0}]),hr]}),n})();const cV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},uV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},br=(n,e,t)=>{t.forEach(r=>n[r]=Cf(e,r))};function Ft(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&cV(t,o),i&&uV(t,i),t}}let uM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-app"]],ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0})],n),n})(),dM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),rs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),os=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),fM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),is=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),ss=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),oi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Fl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),ii=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Em=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Dm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Im=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),as=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Ca=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),pM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Uv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Mm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Tm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),jf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),jv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),hM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),ls=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),Hf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,br(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),cs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ft))},n.\u0275cmp=Re({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class mM{constructor(e={}){this.data=e}get(e){return this.data[e]}}let km=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new lU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(J(ft),J(wl))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class lU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(cU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const cU=(n,e,t,r,o,i,s,a,u,f,m)=>{let _;const M=lo.create({providers:dU(f),parent:t});if(e&&cM(e)){const qe=e.resolveComponentFactory(u);_=r?r.createComponent(qe,r.length,M):qe.create(M)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:M,environmentInjector:e})}const k=_.instance,Q=_.location.nativeElement;if(f&&Object.assign(k,f),m)for(const qe of m)Q.classList.add(qe);const ke=gM(n,k,Q);return a.appendChild(Q),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Q,_),s.set(Q,ke),Q},uU=[$f.L,$f.a,$f.b,$f.c,$f.d],gM=(n,e,t)=>n.run(()=>{const r=uU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),yM=new rn("NavParamsToken"),dU=n=>[{provide:yM,useValue:n},{provide:mM,useFactory:fU,deps:[yM]}],fU=n=>new mM(n),_M=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),Hv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},yU=(n,e)=>{if(!n)return;const t=vM(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},vM=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),bM=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class _U{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?vM(e):void 0}createView(e,t){var r;const o=Hv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=gM(this.zone,e.instance,i);return{id:this.nextId++,stackId:yU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=Hv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let _;const M=this.router;M.getCurrentNavigation?_=M.getCurrentNavigation():!(null===(t=M.navigations)||void 0===t)&&t.value&&(_=M.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const k=this.views.includes(e),Q=this.insertView(e,i);k||e.ref.changeDetectorRef.detectChanges();const ke=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==ke&&(a=ke),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>vU(e,Q,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&wM(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(bM),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?_M(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):_M(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return kn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const vU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{wM(n,e,t,r,o),i()})}):Promise.resolve(),wM=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(bM)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let zv=(()=>{class n{get(t,r){const o=Gv();return o?o.get(t,r):null}getBoolean(t,r){const o=Gv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Gv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CM=new rn("USERCONFIG"),Gv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let bU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new nt,this.keyboardDidShow=new nt,this.keyboardDidHide=new nt,this.pause=new nt,this.resume=new nt,this.resize=new nt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Gu(this.pause,t,"pause"),Gu(this.resume,t,"resume"),Gu(this.backButton,t,"ionBackButton"),Gu(this.resize,this.win,"resize"),Gu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Gu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,Bv.a)(this.win,t)}platforms(){return(0,Bv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return wU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(J(Go),J(ft))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Gu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let zf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=SM,this.animated=EM,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof um){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return kn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=CU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=SM,this.animated=EM,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(J(bU),J(uf),J(Ru),J(Ro,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},SM="auto",EM=void 0;let Gf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,_,M,k,Q){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=Q,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Es(null),this.stackEvents=new Dn,this.activateEvents=new Dn,this.deactivateEvents=new Dn,this.nativeEl=m.nativeElement,this.name=o||Nn,this.tabsPrefix="true"===i?Hv(_,k):void 0,this.stackCtrl=new _U(this.tabsPrefix,this.nativeEl,_,a,M,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,ju.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Es(null),m=this.createActivatedRouteProxy(f,t),_=new SU(m,u,this.location.injector),M=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&cM(r)){const k=r.resolveComponentFactory(M);i=this.activated=this.location.createComponent(k,this.location.length,_)}else i=this.activated=this.location.createComponent(M,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new nl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(ui(o=>!!o),di(o=>this.currentActivatedRoute$.pipe(ui(i=>null!==i&&i.component===o),di(i=>i&&i.activatedRoute[r]),aM())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Dc),C(ki),Kc("name"),Kc("tabs"),C(zv),C(zf),C(Ua,8),C(uf),C(gt),C(Ro),C(ft),C(nl),C(n,12))},n.\u0275dir=Lt({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class SU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===nl?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let DM=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new Dn,this.ionTabsDidChange=new Dn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(zf))},n.\u0275cmp=Re({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function vl(n,e,t,r){const o=bn();if(o.firstCreatePass){const i=Ht();xS(o,new TS(e,t,r),i.index),function c2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}AS(o,lt(),t)}(o,jv,5),2&t){let i;ws(i=Cs())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&Cu(eV,5,Gf),2&t){let o;ws(o=Cs())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&ut("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:nV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Rt(tV),At(0),se(1,"div",0)(2,"ion-router-outlet",1,2),ut("stackEvents",function(i){return r.onPageSelected(i)}),te()(),At(4,1)),2&t&&(tt(2),st("environmentInjector",r.environmentInjector))},dependencies:[Gf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),IM=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(Gf,8),C(zf),C(zv))},n.\u0275dir=Lt({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&ut("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),MM=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),br(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(gt),C(Ua),C(lo),C(km),C(ki))},n.\u0275dir=Lt({type:n,selectors:[["ion-nav"]]}),n=Z([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class Wf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let Zf=(()=>{class n extends Wf{constructor(){super(Bf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wu=(()=>{class n extends Wf{constructor(){super(Bf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ol=(()=>{class n extends Wf{constructor(){super(Bf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xM{}let Is=(()=>{class n extends Wf{constructor(t,r,o,i){super(Bf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(J(km),J(Ua),J(lo),J(xM,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Mc=(()=>{class n extends Wf{constructor(t,r,o,i){super(Bf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(J(km),J(Ua),J(lo),J(xM,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const xU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function YB(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(x.e(6748).then(x.t.bind(x,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(x.e(2214).then(x.t.bind(x,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,iM.p)().then(()=>(XB(),(0,iM.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:lM,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Nl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:CM,useValue:t},{provide:hc,useFactory:xU,multi:!0,deps:[CM,Go,ft]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({providers:[km,Is,Mc],imports:[[_a]]}),n})();let Zu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const RM=/[&<>"']/,RU=new RegExp(RM.source,"g"),FM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,FU=new RegExp(FM.source,"g"),OU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OM=n=>OU[n];function hi(n,e){if(e){if(RM.test(n))return n.replace(RU,OM)}else if(FM.test(n))return n.replace(FU,OM);return n}const NU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function NM(n){return n.replace(NU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const LU=/(^|[^\[])\^/g;function Or(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(LU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const $U=/[^\w:]/g,BU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function LM(n,e,t){if(n){let r;try{r=decodeURIComponent(NM(t)).replace($U,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!BU.test(t)&&(t=function HU(n,e){Am[" "+n]||(Am[" "+n]=VU.test(n)?n+"/":Pm(n,"/",!0));const t=-1===(n=Am[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(UU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(jU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Am={},VU=/^[^:]+:\/*[^/]*$/,UU=/^([^:]+:)[\s\S]*$/,jU=/^([^:]+:\/*[^/]*)[\s\S]*$/,xm={exec:function(){}};function Ks(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function $M(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Pm(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function BM(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function VM(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function UM(n,e,t,r){const o=e.href,i=e.title?hi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:hi(s)}}class Wv{constructor(e){this.options=e||Zu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Pm(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function GU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Pm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,_,M,k,Q,ke=t[1].trim();const qe=ke.length>1,Ye={type:"list",raw:"",ordered:qe,start:qe?+ke.slice(0,-1):"",loose:!1,items:[]};ke=qe?`\\d{1,9}\\${ke.slice(-1)}`:`\\${ke}`,this.options.pedantic&&(ke=qe?ke:"[*+-]");const bt=new RegExp(`^( {0,3}${ke})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(Q=!1,(t=bt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,Nt=>" ".repeat(3*Nt.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,k=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,k=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),Q=!0),!Q){const Nt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Cn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),qn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),ds=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(M=e.split("\n",1)[0],_=M,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(qn.test(_)||ds.test(_)||Nt.test(_)||Cn.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())k+="\n"+_.slice(s);else{if(u||m.search(/[^ ]/)>=4||qn.test(m)||ds.test(m)||Cn.test(m))break;k+="\n"+_}!u&&!_.trim()&&(u=!0),r+=M+"\n",e=e.substring(M.length+1),m=_.slice(s)}}Ye.loose||(f?Ye.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(k),o&&(i="[ ] "!==o[0],k=k.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:k}),Ye.raw+=r}Ye.items[Ye.items.length-1].raw=r.trimRight(),Ye.items[Ye.items.length-1].text=k.trimRight(),Ye.raw=Ye.raw.trimRight();const Ne=Ye.items.length;for(a=0;a<Ne;a++)if(this.lexer.state.top=!1,Ye.items[a].tokens=this.lexer.blockTokens(Ye.items[a].text,[]),!Ye.loose){const Nt=Ye.items[a].tokens.filter(qn=>"space"===qn.type),Cn=Nt.length>0&&Nt.some(qn=>/\n.*\n/.test(qn.raw));Ye.loose=Cn}if(Ye.loose)for(a=0;a<Ne;a++)Ye.items[a].loose=!0;return Ye}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):hi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:$M(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=$M(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:hi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):hi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Pm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function zU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),UM(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return UM(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const M=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const Q=M.slice(1,-1);return{type:"em",raw:M,text:Q,tokens:this.lexer.inlineTokens(Q)}}const k=M.slice(2,-2);return{type:"strong",raw:M,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=hi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=hi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=hi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=hi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=hi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):hi(r[0]):r[0]:hi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const wn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};wn.def=Or(wn.def).replace("label",wn._label).replace("title",wn._title).getRegex(),wn.bullet=/(?:[*+-]|\d{1,9}[.)])/,wn.listItemStart=Or(/^( *)(bull) */).replace("bull",wn.bullet).getRegex(),wn.list=Or(wn.list).replace(/bull/g,wn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wn.def.source+")").getRegex(),wn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,wn.html=Or(wn.html,"i").replace("comment",wn._comment).replace("tag",wn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wn.paragraph=Or(wn._paragraph).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.blockquote=Or(wn.blockquote).replace("paragraph",wn.paragraph).getRegex(),wn.normal=Ks({},wn),wn.gfm=Ks({},wn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),wn.gfm.table=Or(wn.gfm.table).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.gfm.paragraph=Or(wn._paragraph).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",wn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.pedantic=Ks({},wn.normal,{html:Or("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",wn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Or(wn.normal._paragraph).replace("hr",wn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",wn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Xt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function WU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function jM(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Xt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Xt.punctuation=Or(Xt.punctuation).replace(/punctuation/g,Xt._punctuation).getRegex(),Xt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Xt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Xt._comment=Or(wn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Xt.emStrong.lDelim=Or(Xt.emStrong.lDelim).replace(/punct/g,Xt._punctuation).getRegex(),Xt.emStrong.rDelimAst=Or(Xt.emStrong.rDelimAst,"g").replace(/punct/g,Xt._punctuation).getRegex(),Xt.emStrong.rDelimUnd=Or(Xt.emStrong.rDelimUnd,"g").replace(/punct/g,Xt._punctuation).getRegex(),Xt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Xt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Xt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Xt.autolink=Or(Xt.autolink).replace("scheme",Xt._scheme).replace("email",Xt._email).getRegex(),Xt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Xt.tag=Or(Xt.tag).replace("comment",Xt._comment).replace("attribute",Xt._attribute).getRegex(),Xt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Xt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Xt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Xt.link=Or(Xt.link).replace("label",Xt._label).replace("href",Xt._href).replace("title",Xt._title).getRegex(),Xt.reflink=Or(Xt.reflink).replace("label",Xt._label).replace("ref",wn._label).getRegex(),Xt.nolink=Or(Xt.nolink).replace("ref",wn._label).getRegex(),Xt.reflinkSearch=Or(Xt.reflinkSearch,"g").replace("reflink",Xt.reflink).replace("nolink",Xt.nolink).getRegex(),Xt.normal=Ks({},Xt),Xt.pedantic=Ks({},Xt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Or(/^!?\[(label)\]\((.*?)\)/).replace("label",Xt._label).getRegex(),reflink:Or(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Xt._label).getRegex()}),Xt.gfm=Ks({},Xt.normal,{escape:Or(Xt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Xt.gfm.url=Or(Xt.gfm.url,"i").replace("email",Xt.gfm._extended_email).getRegex(),Xt.breaks=Ks({},Xt.gfm,{br:Or(Xt.br).replace("{2,}","*").getRegex(),text:Or(Xt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class rl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Zu,this.options.tokenizer=this.options.tokenizer||new Wv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:wn.normal,inline:Xt.normal};this.options.pedantic?(t.block=wn.pedantic,t.inline=Xt.pedantic):this.options.gfm&&(t.block=wn.gfm,t.inline=this.options.breaks?Xt.breaks:Xt.gfm),this.tokenizer.rules=t}static get rules(){return{block:wn,inline:Xt}}static lex(e,t){return new rl(t).lex(e)}static lexInline(e,t){return new rl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+VM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+VM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,jM)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,jM))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=e.slice(1);let M;this.options.extensions.startInline.forEach(function(k){M=k.call({lexer:this},_),"number"==typeof M&&M>=0&&(m=Math.min(m,M))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,WU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class qu{constructor(e){this.options=e||Zu}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+hi(o)+'">'+(r?e:hi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:hi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=LM(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=LM(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class HM{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class zM{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Sa{constructor(e){this.options=e||Zu,this.options.renderer=this.options.renderer||new qu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new HM,this.slugger=new zM}static parse(e,t){return new Sa(t).parse(e)}static parseInline(e,t){return new Sa(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,_,M,k,Q,ke,qe,Ye,bt,Ne,Nt,Cn,qn,r="";const ds=e.length;for(o=0;o<ds;o++)if(k=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[k.type]&&(qn=this.options.extensions.renderers[k.type].call({parser:this},k),!1!==qn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(k.type)))r+=qn||"";else switch(k.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(k.tokens),k.depth,NM(this.parseInline(k.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(k.text,k.lang,k.escaped);continue;case"table":for(_="",m="",a=k.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(k.header[i].tokens),{header:!0,align:k.align[i]});for(_+=this.renderer.tablerow(m),M="",a=k.rows.length,i=0;i<a;i++){for(f=k.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:k.align[s]});M+=this.renderer.tablerow(m)}r+=this.renderer.table(_,M);continue;case"blockquote":M=this.parse(k.tokens),r+=this.renderer.blockquote(M);continue;case"list":for(Q=k.ordered,ke=k.start,qe=k.loose,a=k.items.length,M="",i=0;i<a;i++)bt=k.items[i],Ne=bt.checked,Nt=bt.task,Ye="",bt.task&&(Cn=this.renderer.checkbox(Ne),qe?bt.tokens.length>0&&"paragraph"===bt.tokens[0].type?(bt.tokens[0].text=Cn+" "+bt.tokens[0].text,bt.tokens[0].tokens&&bt.tokens[0].tokens.length>0&&"text"===bt.tokens[0].tokens[0].type&&(bt.tokens[0].tokens[0].text=Cn+" "+bt.tokens[0].tokens[0].text)):bt.tokens.unshift({type:"text",text:Cn}):Ye+=Cn),Ye+=this.parse(bt.tokens,qe),M+=this.renderer.listitem(Ye,Nt,Ne);r+=this.renderer.list(M,Q,ke);continue;case"html":r+=this.renderer.html(k.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(k.tokens));continue;case"text":for(M=k.tokens?this.parseInline(k.tokens):k.text;o+1<ds&&"text"===e[o+1].type;)k=e[++o],M+="\n"+(k.tokens?this.parseInline(k.tokens):k.text);r+=t?this.renderer.paragraph(M):M;continue;default:{const Hm='Token with "'+k.type+'" type was not found.';if(this.options.silent)return void console.error(Hm);throw new Error(Hm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function En(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),BM(e=Ks({},En.defaults,e||{})),t){const o=e.highlight;let i;try{i=rl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&En.walkTokens(i,e.walkTokens),f=Sa.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return En.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+hi(o.message+"",!0)+"</pre>";throw o}try{const o=rl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(En.walkTokens(o,e.walkTokens)).then(()=>Sa.parse(o,e)).catch(r);En.walkTokens(o,e.walkTokens)}return Sa.parse(o,e)}catch(o){r(o)}}En.options=En.setOptions=function(n){return Ks(En.defaults,n),function PU(n){Zu=n}(En.defaults),En},En.getDefaults=function PM(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},En.defaults=Zu,En.use=function(...n){const e=En.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=Ks({},t);if(r.async=En.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=En.defaults.renderer||new qu;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=En.defaults.tokenizer||new Wv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=En.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}En.setOptions(r)})},En.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(En,r)),r.type){case"table":for(const o of r.header)t=t.concat(En.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(En.walkTokens(i.tokens,e));break;case"list":t=t.concat(En.walkTokens(r.items,e));break;default:En.defaults.extensions&&En.defaults.extensions.childTokens&&En.defaults.extensions.childTokens[r.type]?En.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(En.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(En.walkTokens(r.tokens,e)))}return t},En.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");BM(e=Ks({},En.defaults,e||{}));try{const t=rl.lexInline(n,e);return e.walkTokens&&En.walkTokens(t,e.walkTokens),Sa.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+hi(t.message+"",!0)+"</pre>";throw t}},En.Parser=Sa,En.parser=Sa.parse,En.Renderer=qu,En.TextRenderer=HM,En.Lexer=rl,En.lexer=rl.lex,En.Tokenizer=Wv,En.Slugger=zM,En.parse=En;class ZU extends z{constructor(e,t){super()}schedule(e,t=0){return this}}const Rm={setInterval(n,e,...t){const{delegate:r}=Rm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Rm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},Zv={now:()=>(Zv.delegate||Date).now(),delegate:void 0};class qf{constructor(e,t=qf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}qf.now=Zv.now;const GM=new class KU extends qf{constructor(e,t=qf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class qU extends ZU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Rm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Rm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ee(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),YU=GM;function WM(n=0,e,t=YU){let r=-1;return null!=e&&(bo(e)?t=e:r=e),new yt(o=>{let i=function XU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class QU extends nt{constructor(e=1/0,t=1/0,r=Zv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const tj=["*"];let qv=(()=>{class n{constructor(){this._buttonClick$=new nt,this.copied$=this._buttonClick$.pipe(di(()=>li(gn(!0),WM(3e3).pipe(hv(!1)))),aM(),function JU(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,ps({connector:()=>new QU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(q1(!1),xe(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Re({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(se(0,"button",0),ut("click",function(){return r.onCopyToClipboardClick()}),ha(1,"async"),Ke(2),ha(3,"async"),te()),2&t&&(Ga("copied",ma(1,3,r.copied$)),tt(2),bs(ma(3,5,r.copiedText$)))},dependencies:[YE],encapsulation:2,changeDetection:0}),n})();class oj{}var Kf=(()=>{return(n=Kf||(Kf={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",Kf;var n})();class ZM{}const qM=new rn("SECURITY_CONTEXT");let Kv=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new qu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new nt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new qu));const m=this.trimIndentation(t),_=o?this.decodeHtml(m):m,M=s?this.parseEmoji(_):_,k=this.parseMarked(M,f,i);return(u?k:this.sanitizer.sanitize(this.securityContext,k))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(xe(r=>this.handleExtension(t,r)))}highlight(t){if(!Cl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Cl(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?En.parseInline(t,r):En.parse(t,r)}parseEmoji(t){if(!Cl(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Cl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Cl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let M,k;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",M=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(qv).hostView,M.rootNodes.forEach(Q=>{Q.onmouseover=()=>_.style.opacity="1",_.appendChild(Q),k=new ClipboardJS(Q,{text:()=>f.innerText})}),M.onDestroy(()=>k.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Cl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(J(Du),J(qM),J(U_,8),J(oj,8),J(ZM,8),J(N_))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Yv=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new Dn,this.load=new Dn,this.ready=new Dn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new nt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function ej(n){return q((e,t)=>{Rn(n).subscribe(ye(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Kf.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Kf.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(gt),C(Kv),C(ki))},n.\u0275cmp=Re({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[To],ngContentSelectors:tj,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2}),n})(),Xv=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Kv,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:qM,useValue:t&&null!=t.sanitize?t.sanitize:Fr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({imports:[_a]}),n})();var KM;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(KM||(KM={}));var ge=x(3918);const fj="safari"in window,YM=!navigator.userAgent.match(/(crios)|(fxios)/i),Ys=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,XM=!!navigator.userAgent.match(/android/i);var Ll=(()=>{return(n=Ll||(Ll={})).web="web",n.pwa="pwa",n.twa="twa",Ll;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const mj=new Error("request for lock canceled");class yj{constructor(e,t=mj){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class Ea{constructor(e){this._semaphore=new yj(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Fm="cloudpilot-session-preview";function JM(){localStorage.removeItem(Fm)}function mi(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,ge.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class us{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}us.\u0275fac=function(e){return new(e||us)},us.\u0275prov=ht({token:us,factory:us.\u0275fac,providedIn:"root"});class Ur{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new ni.j}errorMessage(e){var t=this;return(0,ge.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,ge.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,ge.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,ge.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Ur.\u0275fac=function(e){return new(e||Ur)(J(Wu),J(us))},Ur.\u0275prov=ht({token:Ur,factory:Ur.\u0275fac,providedIn:"root"}),Z([mi()],Ur.prototype,"updateAvailable",null),Z([mi()],Ur.prototype,"fatalError",null),Z([mi()],Ur.prototype,"errorInNativeCode",null);class Ns{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&JM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new ni.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}Ns.\u0275fac=function(e){return new(e||Ns)(J(Ur),J(ft))},Ns.\u0275prov=ht({token:Ns,factory:Ns.\u0275fac,providedIn:"root"});var jr=(()=>{return(n=jr||(jr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",jr;var n})();class Da{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??jr.none}claim(e,t){this.assertOwnership(e,jr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===jr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Da.\u0275fac=function(e){return new(e||Da)(J(Ns))},Da.\u0275prov=ht({token:Da,factory:Da.\u0275fac,providedIn:"root"});const Bl="session",Ku="rom",Vl="memory",ol="state",Om="kvs",Ul="memory-meta",Ia="storage",Ms="storage-card",Yf="lock";class Yu extends Error{constructor(e){super(e)}}function dr(n){return new Promise((e,t)=>{!function Ej(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new Yu(n.error?.message))})}function tT(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function Dj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Nm="session",Jv="memory",Mj="memory-meta",Tj="storage",rT="storage-meta",oT="storage-card",Aj="storageId";function e0(){return(e0=(0,ge.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Nm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function t0(){return(t0=(0,ge.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function n0(){return(n0=(0,ge.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Mj,{keyPath:"sessionId"});n.createObjectStore(Tj),n.createObjectStore(rT,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Nm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function r0(){return(r0=(0,ge.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(rT).name=oT})).apply(this,arguments)}function o0(){return(o0=(0,ge.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(oT).createIndex(Aj,"storageId")})).apply(this,arguments)}function s0(){return(s0=(0,ge.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var Bj=x(5023),Vj=x.n(Bj);const iT={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Lm;const Uj=new Uint8Array(16);function jj(){if(!Lm&&(Lm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lm(Uj)}const gi=[];for(let n=0;n<256;++n)gi.push((n+256).toString(16).slice(1));const a0=function Hj(n,e,t){if(iT.randomUUID&&!e&&!n)return iT.randomUUID();const r=(n=n||{}).random||(n.rng||jj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function sT(n,e=0){return(gi[n[e+0]]+gi[n[e+1]]+gi[n[e+2]]+gi[n[e+3]]+"-"+gi[n[e+4]]+gi[n[e+5]]+"-"+gi[n[e+6]]+gi[n[e+7]]+"-"+gi[n[e+8]]+gi[n[e+9]]+"-"+gi[n[e+10]]+gi[n[e+11]]+gi[n[e+12]]+gi[n[e+13]]+gi[n[e+14]]+gi[n[e+15]]).toLowerCase()}(r)},l0=new Error("page lock lost"),aT=new Error("version mismatch"),lT=a0();function yo(){return(n,e,t)=>{const r=t.value;return t.value=(0,ge.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof Yu?o.fatalIDBDead():i===aT?o.fatalVersionMismatch():i===l0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Qn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Vl),u=o.objectStore(Ul),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const M=s.length>>>10;for(let k=0;k<M;k++){m.set(s.subarray(1024*k,1024*(k+1)));const Q=tT(f);if("number"==typeof Q)a.put(Q,[i,k]);else{const ke=new Uint32Array(256);ke.set(Q),a.put(ke,[i,k])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ge.Z)(function*(){const s=o.objectStore(Ul),a=yield dr(s.get(i));if(a)return new Promise(function(){var u=(0,ge.Z)(function*(f,m){const _=o.objectStore(Vl),M=new Uint32Array(a.totalSize>>>2),k=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));k.onsuccess=()=>{const Q=k.result;if(!Q)return f(new Uint8Array(M.buffer));const ke=Q.value,[,qe]=Q.key;"number"==typeof ke?M.subarray(256*qe,256*(qe+1)).fill(ke|ke<<8|ke<<16|ke<<24):M.subarray(256*qe,256*(qe+1)).set(1024===ke.length?new Uint32Array(ke.buffer):ke),Q.continue()},k.onerror=()=>m(new Yu(k.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new ni.j,this.storageCardChangeEvent=new ni.j,this.sessionUpdateMutex=new Ea,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,ge.Z)(function*(){const s=Vj()(t),a=yield i.newTransaction(Bl,Ku,ol,Vl,Ul),u=a.objectStore(Bl),f=a.objectStore(Ku);(yield dr(f.get(s)))||f.put(t,s);const{id:_,...M}=e,k=yield dr(u.add({...M,rom:s})),Q=yield dr(u.get(k));return r&&i.saveMemory(a,Q.id,r),o&&i.saveState(a,Q.id,o),yield dr(a),Q})()}getAllSessions(){var e=this;return(0,ge.Z)(function*(){const[t]=yield e.prepareObjectStore(Bl);return yield dr(t.getAll())})()}getSession(e){var t=this;return(0,ge.Z)(function*(){const[r]=yield t.prepareObjectStore(Bl);return yield dr(r.get(e))})()}deleteSession(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.newTransaction(Bl,Ku,ol,Vl,Ul),o=r.objectStore(Bl),i=r.objectStore(Ku);(e=yield dr(o.get(e.id)))&&(o.delete(e.id),0===(yield dr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield dr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ge.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(Bl),_=yield dr(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const M={..._,...u};f.put(M),yield dr(m),r.sessionChangeEvent.dispatch([_.id,M])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,ge.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Bl),i=yield dr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield dr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.newTransaction(Ku,ol,Vl,Ul),o=r.objectStore(Ku);return[yield dr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,ge.Z)(function*(){const[r,o]=yield t.prepareObjectStore(ol);r.delete(e.id),yield dr(o)})()}addEmptyStorageCard(e){var t=this;return(0,ge.Z)(function*(){const[r]=yield t.prepareObjectStore(Ms),o=yield dr(r.add(e)),i=yield dr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,ge.Z)(function*(){return r.ngZone.runOutsideAngular((0,ge.Z)(function*(){const o=yield r.newTransaction(Ms,Ia),i=o.objectStore(Ms),s=o.objectStore(Ia),a=yield dr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const M=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(M);const k=Dj(_===u-1?f:M);0!==k&&s.put("number"==typeof k?k:k?.slice(),[a,_])}const m=yield dr(i.get(a));return yield dr(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,ge.Z)(function*(){const[t]=yield e.prepareObjectStore(Ms);return dr(t.getAll())})()}getCard(e){var t=this;return(0,ge.Z)(function*(){const[r]=yield t.prepareObjectStore(Ms);return dr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,ge.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Ms),m=yield dr(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const _={...m,...a};u.put(_),yield dr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.newTransaction(Ms,Ia);t.storageCardContext.assertOwnership(e,jr.none);const o=r.objectStore(Ms),i=r.objectStore(Ia);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield dr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,ge.Z)(function*(){const i=yield o.newTransaction(Ms,Ia);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Ia);yield new Promise(function(){var a=(0,ge.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return u();let M=_.value;const[,k]=_.key;"number"==typeof M?t.subarray(2048*k,2048*(k+1)).fill(M):(2048*(k+1)>t.length&&(M=M.subarray(0,2048-2048*(k+1)+t.length)),t.subarray(2048*k,2048*(k+1)).set(M)),_.continue()},m.onerror=()=>f(new Yu(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ge.Z)(function*(){const s=yield i.newTransaction(Ms,Ia);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Ms),u=s.objectStore(Ia),f=yield dr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let M=0;M<r.length;M++)for(let k=1;k<256&&!(_>=m);k<<=1)r[M]&k&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield dr(s)}))}kvsGet(e){var t=this;return(0,ge.Z)(function*(){const[r]=yield t.prepareObjectStore(Om);return dr(r.get(e))})()}kvsSet(e){var t=this;return(0,ge.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Om);for(const i of Object.keys(e))r.put(e[i],i);yield dr(o)})()}kvsLoad(){var e=this;return(0,ge.Z)(function*(){const[t]=yield e.prepareObjectStore(Om);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Yu(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,ge.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Om);r.delete(e),yield dr(o)})()}acquireLock(e){var t=this;return(0,ge.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield dr(e.objectStore(Yf).get(0)))!==lT)throw e.abort(),e.db.close(),l0})()}newTransaction(...e){var t=this;return(0,ge.Z)(function*(){const r=(yield t.db).transaction([Yf,...e],"readwrite");return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(ol);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(ol).delete(t)}loadState(e,t){return dr(e.objectStore(ol).get(t))}deleteMemory(e,t){const r=e.objectStore(Vl),o=e.objectStore(Ul);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,ge.Z)(function*(){const t=e.transaction(Yf,"readwrite");yield dr(t.objectStore(Yf).put(lT,0))})()}setupDb(){var e=this;return(0,ge.Z)(function*(){const t=setTimeout(()=>Ys&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw aT}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Yu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ge.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function xj(n){n.createObjectStore(Nm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Pj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(Jv)&&n.deleteObjectStore(Jv),e.objectStore(Nm).clear(),n.createObjectStore("rom"),n.createObjectStore(Jv),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function Rj(n,e){return e0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Fj(n,e){return t0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Oj(n,e){return n0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function Nj(n,e){return r0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Lj(n,e){return o0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function $j(n,e){return s0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,ge.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Qn.\u0275fac=function(e){return new(e||Qn)(J(ft),J(Ns),J(Da))},Qn.\u0275prov=ht({token:Qn,factory:Qn.\u0275fac,providedIn:"root"}),Z([yo()],Qn.prototype,"addSession",null),Z([yo()],Qn.prototype,"getAllSessions",null),Z([yo()],Qn.prototype,"getSession",null),Z([yo()],Qn.prototype,"deleteSession",null),Z([yo()],Qn.prototype,"updateSessionPartial",null),Z([yo()],Qn.prototype,"updateSession",null),Z([yo()],Qn.prototype,"loadSession",null),Z([yo()],Qn.prototype,"deleteStateForSession",null),Z([yo()],Qn.prototype,"addEmptyStorageCard",null),Z([yo()],Qn.prototype,"importStorageCard",null),Z([yo()],Qn.prototype,"getAllStorageCards",null),Z([yo()],Qn.prototype,"getCard",null),Z([yo()],Qn.prototype,"updateStorageCardPartial",null),Z([yo()],Qn.prototype,"deleteStorageCard",null),Z([yo()],Qn.prototype,"loadCardData",null),Z([yo()],Qn.prototype,"kvsGet",null),Z([yo()],Qn.prototype,"kvsSet",null),Z([yo()],Qn.prototype,"kvsDelete",null),Z([yo()],Qn.prototype,"newTransaction",null),Z([yo()],Qn.prototype,"prepareObjectStore",null),Z([yo()],Qn.prototype,"initializeLock",null),Z([yo()],Qn.prototype,"setupDb",null);const cT={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class Zo{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,ge.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new ni.j,this.mutex=new Ea,this.storageMutex=new Ea,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ge.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ge.Z)(function*(){const t=e;try{const r={...cT,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...cT}}})()}}Zo.\u0275fac=function(e){return new(e||Zo)(J(Qn))},Zo.\u0275prov=ht({token:Zo,factory:Zo.\u0275fac,providedIn:"root"});class Tc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,ge.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Ys||XM)&&this.installationMode===Ll.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Ys&&YM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ys?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Ys&&YM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ys?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Ll.pwa:document.referrer.startsWith("android-app://")?Ll.twa:window.matchMedia("(display-mode: standalone)").matches?Ll.pwa:Ll.web}}function Xj(n,e){1&n&&(se(0,"div",6),dt(1,"ion-spinner"),te())}Tc.\u0275fac=function(e){return new(e||Tc)(J(Zo),J(Ur))},Tc.\u0275prov=ht({token:Tc,factory:Tc.\u0275fac,providedIn:"root"});class il{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}il.\u0275fac=function(e){return new(e||il)(C(Is))},il.\u0275cmp=Re({type:il,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.modalController.dismiss()}),Ke(6,"Close"),te()()()(),se(7,"ion-content",3),sn(8,Xj,2,0,"div",4),se(9,"markdown",5),ut("load",function(){return t.loading=!1}),te()()),2&e&&(tt(3),bs(t.title),tt(5),st("ngIf",t.loading),tt(1),st("src",t.url))},dependencies:[ti,Yv,rs,os,is,ss,jf,ls,cs],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const kc="1.7.11-3350332 (preview)";var $m=x(9897);const Bm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const M=e.get(m);if("number"==typeof M){const k=r.get(M);if(void 0===k||k.timerId!==m||k.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof M<"u"))throw new Error("The timer is in an undefined state.");M()}}else if("timeout"===_){const M=t.get(m);if("number"==typeof M){const k=r.get(M);if(void 0===k||k.timerId!==m||k.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof M<"u"))throw new Error("The timer is in an undefined state.");M(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:M,timerType:k}=_;r.delete(m),"interval"===k?e.delete(M):t.delete(M)}}}),{clearInterval:f=>{const m=(0,$m.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,$m.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,$m.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,$m.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var jl=(()=>{return(n=jl||(jl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",jl;var n})();class dT{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return jl.animationFrame}}class rH{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>Bm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,Bm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return jl.timeout}}const oH=[135,135,105],iH=[0,0,0],Hl=new Array(16).fill(0).map((n,e)=>iH.map((t,r)=>Math.floor((e*t+(15-e)*oH[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),c0=Hl.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>{return(n=ie||(ie={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ie;var n})(),zl=(()=>{return(n=zl||(zl={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",zl;var n})();function Xf(n){switch(n){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function u0(n){switch(n){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function fT(n){switch(n){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function pT(n){switch(n){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return zl.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return zl.memorystick;default:return zl.none}}class hT{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class lH{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class mH{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new ni.j,this.pwmUpdateEvent=new ni.j,this.emulationStateChangeEvent=new ni.j,this.powerOffChangeEvent=new ni.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new dT(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new lH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new hT(20),this.timePerFrameAverage=new hT(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Xf(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=Xf(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===jl.animationFrame?new dT(e=>this.onSchedule(e)):new rH(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=Xf(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=u0(e)?"white":c0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=Hl[15],i=Hl[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Hl[15&o],Hl[o>>>4&15],Hl[o>>>8&15],Hl[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=Hl[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class gH{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const vH=new Error("transaction timeout"),yT=new Error("session does not match emulation");class Ma{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ge.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new ni.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ge.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===yT)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===l0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,ge.Z)(function*(){const t=e.db.transaction([Vl,Ul,ol,Ia,Ms,Yf],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw yT;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield dr(t.objectStore(Ms).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,_=0,M=0,k=new gH(500,()=>{u=!0;try{t.abort()}catch{}a(vH)});t.oncomplete=(0,ge.Z)(function*(){k.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:M,timeBlocking:_-m,timeTotal:performance.now()-f})}),t.onerror=()=>{k.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),M=e.saveDirtyMemory(t,k),r&&(M+=e.saveDirtyStorage(r,t,k)),e.saveSession(t),_=performance.now()}catch(Q){throw u||(k.cancel(),t.abort()),Q}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Vl),i=e.objectStore(Ul),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const M=tT(a.subarray(256*r,256*(r+1)));"number"==typeof M?o.put(M,[this.sessionId,r]):(this.pages[r].set(M),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,jr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Ia),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let M=1;M<256&&!(s>=m);M<<=1){if(this.cardDirtyPages[_]&M){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const k=this.cardPagePool[a++];k.set(i.subarray(2048*s,2048*(s+1))),f.put(k,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(ol);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function bH(n,e){1&n&&(se(0,"p",11),Ke(1," ERROR: URL must be served via HTTPS. "),te())}function wH(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Mu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Ma.\u0275fac=function(e){return new(e||Ma)(J(Qn),J(us),J(Ns),J(Da),J(ft))},Ma.\u0275prov=ht({token:Ma,factory:Ma.\u0275fac,providedIn:"root"});class Qf{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Mu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Mu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Zh({url:new ri("",wH)})}}function d0(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function _T(n){return`${d0(n.name)}.bin`}function vT(n,e){return`backup_${d0(n.name)}${e?"_with_rom":""}.zip`}function f0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function bT(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}Qf.\u0275fac=function(e){return new(e||Qf)},Qf.\u0275cmp=Re({type:Qf,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3,"Enter download URL"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.continue()}),Ke(6,"OK"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),ut("click",function(){return t.onCancel()}),Ke(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),ut("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),Ke(13," Please enter the URL from which to download: "),te(),se(14,"ion-item",7)(15,"ion-label",8),Ke(16,"URL"),te(),dt(17,"ion-input",9),te(),sn(18,bH,2,0,"p",10),se(19,"p"),Ke(20," Note that the remote server needs to support the CORS protocol. "),te()()()),2&e&&(tt(5),st("disabled",t.formGroup.invalid),tt(6),st("formGroup",t.formGroup),tt(7),st("ngIf",t.isMixedContent))},dependencies:[ti,rs,os,is,ss,Fl,ii,as,ls,cs,Rl,xl,kl,Al,va,Qa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class Jf{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Zh({username:new ri(e?.username??""),password:new ri(e?.password??"")})}}Jf.\u0275fac=function(e){return new(e||Jf)(C(Zo))},Jf.\u0275cmp=Re({type:Jf,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3,"Authenticate"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.saveAndContinue()}),Ke(6,"OK"),te()(),se(7,"ion-buttons",3)(8,"ion-button",2),ut("click",function(){return t.onCancel()}),Ke(9,"Cancel"),te()()()(),se(10,"ion-content",4)(11,"form",5),ut("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),Ke(13," The server requires authentication. "),te(),se(14,"ion-item",6)(15,"ion-label",7),Ke(16,"Username"),te(),dt(17,"ion-input",8),te(),se(18,"ion-item",6)(19,"ion-label",7),Ke(20,"Password"),te(),dt(21,"ion-input",9),te()()()),2&e&&(tt(11),st("formGroup",t.formGroup))},dependencies:[rs,os,is,ss,Fl,ii,as,ls,cs,Rl,xl,kl,Al,va,Qa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Ac{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,ge.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Mu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],_=new AbortController,M=window.setTimeout(()=>_.abort(),i),k=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(M),401===k.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return k}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,ge.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:Jf,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Ac.\u0275fac=function(e){return new(e||Ac)(J(Ol),J(Zo),J(Is))},Ac.\u0275prov=ht({token:Ac,factory:Ac.\u0275fac,providedIn:"root"});var SH=x(3272),EH=x.n(SH);function p0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const wT=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11];function on(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Zt{constructor(e){this.module=e,this.fatalErrorEvent=new ni.j,this.pwmUpdateEvent=new ni.j,this.proxyDisconnectEvent=new ni.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,ge.Z)(function*(){return new Zt(yield EH()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:wT.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,ge.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,ge.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!wT.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=p0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAP8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}Z([on()],Zt.prototype,"getRomInfo",null),Z([on()],Zt.prototype,"initializeSession",null),Z([on()],Zt.prototype,"cyclesPerSecond",null),Z([on()],Zt.prototype,"runEmulation",null),Z([on()],Zt.prototype,"getFrame",null),Z([on()],Zt.prototype,"isScreenDirty",null),Z([on()],Zt.prototype,"markScreenClean",null),Z([on()],Zt.prototype,"minRamForDevice",null),Z([on()],Zt.prototype,"framebufferSizeForDevice",null),Z([on()],Zt.prototype,"totalMemorySizeForDevice",null),Z([on()],Zt.prototype,"queuePenMove",null),Z([on()],Zt.prototype,"queuePenUp",null),Z([on()],Zt.prototype,"queueButtonDown",null),Z([on()],Zt.prototype,"queueButtonUp",null),Z([on()],Zt.prototype,"queueKeyboardEvent",null),Z([on()],Zt.prototype,"isPowerOff",null),Z([on()],Zt.prototype,"isUiInitialized",null),Z([on()],Zt.prototype,"isSetupComplete",null),Z([on()],Zt.prototype,"getOSVersion",null),Z([on()],Zt.prototype,"reset",null),Z([on()],Zt.prototype,"resetNoExtensions",null),Z([on()],Zt.prototype,"resetHard",null),Z([on()],Zt.prototype,"installDb",null),Z([on()],Zt.prototype,"getPalette2bitMapping",null),Z([on()],Zt.prototype,"getMemory",null),Z([on()],Zt.prototype,"getMemory32",null),Z([on()],Zt.prototype,"getDirtyPages",null),Z([on()],Zt.prototype,"loadMemory",null),Z([on()],Zt.prototype,"getRomImage",null),Z([on()],Zt.prototype,"getSavestate",null),Z([on()],Zt.prototype,"saveState",null),Z([on()],Zt.prototype,"loadState",null),Z([on()],Zt.prototype,"getHotsyncName",null),Z([on()],Zt.prototype,"setClockFactor",null),Z([on()],Zt.prototype,"setHotsyncName",null),Z([on()],Zt.prototype,"setClipboardIntegration",null),Z([on()],Zt.prototype,"getClipboardIntegration",null),Z([on()],Zt.prototype,"isSuspended",null),Z([on()],Zt.prototype,"getSuspendKind",null),Z([on()],Zt.prototype,"cancelSuspend",null),Z([on()],Zt.prototype,"getSuspendContextClipboardCopy",null),Z([on()],Zt.prototype,"getSuspendContextClipboardPaste",null),Z([on()],Zt.prototype,"setNetworkRedirection",null),Z([on()],Zt.prototype,"getNetworkRedirection",null),Z([on()],Zt.prototype,"getSuspendContextNetworkConnect",null),Z([on()],Zt.prototype,"getSuspendContextNetworkRpc",null),Z([on()],Zt.prototype,"copyBuffer",null),Z([on()],Zt.prototype,"freeBuffer",null),Z([on()],Zt.prototype,"setHotsyncNameManagement",null),Z([on()],Zt.prototype,"resolveBuffer",null),Z([on()],Zt.prototype,"serializeSessionImage",null),Z([on()],Zt.prototype,"deserializeSessionImage",null),Z([on()],Zt.prototype,"launchAppByName",null),Z([on()],Zt.prototype,"launchAppByDbHeader",null),Z([on()],Zt.prototype,"deviceSupportsCardSize",null),Z([on()],Zt.prototype,"clearExternalStorage",null),Z([on()],Zt.prototype,"allocateCard",null),Z([on()],Zt.prototype,"getCardData",null),Z([on()],Zt.prototype,"getCardDirtyPages",null),Z([on()],Zt.prototype,"getMountedKey",null),Z([on()],Zt.prototype,"mountCard",null),Z([on()],Zt.prototype,"removeCard",null),Z([on()],Zt.prototype,"remountCards",null),Z([on()],Zt.prototype,"getCardSupportLevel",null);class Vi{constructor(){this.cloudpilot=Zt.create()}}Vi.\u0275fac=function(e){return new(e||Vi)},Vi.\u0275prov=ht({token:Vi,factory:Vi.\u0275fac,providedIn:"root"});class Ls{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){if("drop"!==e.type||!e.dataTransfer?.files)return;const r=Array.from(e.dataTransfer.files).map(this.readFile.bind(this));Promise.all(r).then(o=>o.filter(i=>!!i)).then(o=>o.length>0&&t(o))}saveSession(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:bT(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(_T(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,ge.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:bT(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(_T(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,ge.Z)(function*(){let o;try{o=new(Mu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");return void t({name:o.pathname.replace(/.*\//,""),content:new Uint8Array(yield i.arrayBuffer())})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,ge.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,ge.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:Qf,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ge.Z)(function*(i){const s=i.target;if(!s?.files)return;const a=Array.from(s.files).map(r.readFile.bind(r));Promise.all(a).then(u=>u.filter(f=>!!f)).then(u=>u.length>0&&t(u))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){return new Promise(t=>{const r=new FileReader;r.onload=()=>t({content:new Uint8Array(r.result),name:e.name}),r.onerror=()=>{console.warn(r.error),t(void 0)},r.readAsArrayBuffer(e)})}}Ls.\u0275fac=function(e){return new(e||Ls)(J(Qn),J(Ol),J(Zf),J(Zo),J(Is),J(Ur),J(Ac),J(Vi))},Ls.\u0275prov=ht({token:Ls,factory:Ls.\u0275fac,providedIn:"root"});class Gl{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new ni.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}Gl.\u0275fac=function(e){return new(e||Gl)(J(ft))},Gl.\u0275prov=ht({token:Gl,factory:Gl.\u0275fac,providedIn:"root"});const Vm=new Error("permission denied");class xc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,ge.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===Vm)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,ge.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?Vm:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,ge.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,ge.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ge.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===Vm)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ge.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?Vm:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,ge.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ge.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,ge.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,ge.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}xc.\u0275fac=function(e){return new(e||xc)(J(Wu),J(Ur))},xc.\u0275prov=ht({token:xc,factory:xc.\u0275fac,providedIn:"root"});const IH="https:"===window.location.protocol?8667:8666,MH=/^[\da-z\-\.]+$/i,TH=/^[\da-z\-\.]+:\d+$/i;function h0(n){if(!n)return;const e=window.location.protocol;if(n.match(MH))return`${e}//${n}:${IH}`;if(n.match(TH))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function kH(n){return void 0!==h0(n.value)?null:{proxyAddress:"invalid"}}class Wl{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,ge.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=h0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=a0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new ni.j,this.mutex=new Ea,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,ge.Z)(function*(){const o=h0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}Wl.\u0275fac=function(e){return new(e||Wl)(J(Zo),J(Ur),J(ft),J(Ac))},Wl.\u0275prov=ht({token:Wl,factory:Wl.\u0275fac,providedIn:"root"});class Pc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Pc.\u0275fac=function(e){return new(e||Pc)},Pc.\u0275prov=ht({token:Pc,factory:Pc.\u0275fac,providedIn:"root"});class Rc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Rc.\u0275fac=function(e){return new(e||Rc)},Rc.\u0275prov=ht({token:Rc,factory:Rc.\u0275fac,providedIn:"root"});var RH=x(9084),ST=x.n(RH);function m0(){return(m0=(0,ge.Z)(function*(n){const e=yield g0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const ET="fstools_web.wasm",DT=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(ET)):fetch(ET).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class g0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,ge.Z)(function*(){return new g0(yield ST()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,ge.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield DT,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class Um{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,ge.Z)(function*(){const t=yield ST()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,ge.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield DT,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Um(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=p0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var Mr=(()=>{return(n=Mr||(Mr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Mr;var n})(),Cr=(()=>{return(n=Cr||(Cr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Cr;var n})();class Ta{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new Ea,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,ge.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Cr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,ge.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Cr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,ge.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,ge.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ge.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ge.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}Ta.\u0275fac=function(e){return new(e||Ta)(J(Vi),J(Qn),J(Ol))},Ta.\u0275prov=ht({token:Ta,factory:Ta.\u0275fac,providedIn:"root"});var OH=x(7971),NH=x.n(OH);function LH(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function IT(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:LH(n.GetAttributes())}}class y0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,ge.Z)(function*(){return new y0(yield NH()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=p0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(IT(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:IT(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,ge.Z)(function*(){const i=new o.module.CreateZipContext(r),s=[];try{for(e&&e.forEach(m=>i.AddFile(m)),t&&t.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}}var $H=x(5541),MT=x.n($H);class sl{constructor(e,t,r,o,i){this.storageService=e,this.storageCardContext=t,this.alertService=r,this.fileService=o,this.loadingController=i,this.onReleaseCard=new ni.j,this.vfs=y0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(s=>this.vfsInstance=s)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,t,r){var o=this;return(0,ge.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.storageCardContext.claim(e,jr.vfs),o.directoryCache.clear(),o.mountedCard?.id===e)return!0;o.mountedCard&&(yield o.releaseCard(o.mountedCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,jr.vfs),!!s.mountImage(0)&&(o.mountedCard=i,o.bytesFree=s.bytesFree(0),o.bytesTotal=s.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var t=this;return(0,ge.Z)(function*(){void 0===e||e!==t.mountedCard?.id||((yield t.vfs).unmountImage(0),t.mountedCard=void 0,t.storageCardContext.release(e,jr.vfs),t.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,ge.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||MT()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}saveDirectory(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const o=yield t.vfs,{archive:i,failedItems:s}=yield o.createZipArchive({directories:[e.path],prefix:e.path});yield r.dismiss(),s.length>0&&(s.length<=3?yield t.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${s.join("<br>")}`):yield t.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${s.slice(0,3).join("<br>")}<br><br> and ${s.length-3} other file`)),i&&t.fileService.saveFile(e.name+".zip",i)}finally{yield r.dismiss()}})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}error(e){var t=this;return(0,ge.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,ge.Z)(function*(){t.mountedCard&&(yield t.storageService.updateStorageCardPartial(t.mountedCard.id,{status:Mr.dirty}),yield t.releaseCard(),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,ge.Z)(function*(){if(!e.mountedCard)return;const t=yield e.vfs,r=t.getImageInSlot(0),o=t.getDirtyPagesForSlot(0);!r||!o||(yield e.storageService.updateCardData(e.mountedCard.id,r,o,jr.vfs))})()}}sl.\u0275fac=function(e){return new(e||sl)(J(Qn),J(Da),J(Ur),J(Ls),J(Ol))},sl.\u0275prov=ht({token:sl,factory:sl.\u0275fac,providedIn:"root"});var _o=(()=>{return(n=_o||(_o={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",_o;var n})();function TT(){return a0().replace(/-/g,"")}class Xs{constructor(e,t,r,o,i,s,a,u,f,m,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=_,this.loading=!0,this.cards=[],this.updateMutex=new Ea,this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,ge.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function FH(n){return m0.apply(this,arguments)}(function BH(n){switch(n){case _o.mb4:return 4;case _o.mb8:return 8;case _o.mb16:return 16;case _o.mb32:return 32;case _o.mb64:return 64;case _o.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:TT(),name:e,size:4*s.length,status:Mr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromFile(e,t,r){var o=this;return(0,ge.Z)(function*(){const i={storageId:TT(),name:e,size:t.content.length,status:Mr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.content.buffer,t.content.byteOffset,t.content.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,jr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,ge.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,jr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,jr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,ge.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Mr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,jr.cloudpilot)})()}checkCard(e){var t=this;return(0,ge.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,jr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,ge.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,ge.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Mr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,ge.Z)(function*(){yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e)})()}saveCard(e,t){var r=this;return(0,ge.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,ge.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ge.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ge.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,ge.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,ge.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Mr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,jr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Mr.clean:break;case Mr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Mr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Mr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===t?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,jr.fstools);const i=yield Um.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),jr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Mr.clean}),t.storageCardContext.release(e,jr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Mr.unformatted}),t.storageCardContext.release(e,jr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Mr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Mr.unfixable}),t.storageCardContext.release(e,jr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,ge.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),jr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Mr.clean}),r.storageCardContext.release(e,jr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,ge.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield Um.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Mr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Mr.clean}]:[e,{...t,status:Mr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Mr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Mr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,ge.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Mr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,ge.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Mr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,ge.Z)(function*(){if(o.vfsService.currentCard()?.id===e)return!0;const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}Xs.\u0275fac=function(e){return new(e||Xs)(J(Ta),J(Qn),J(us),J(Vi),J(Ol),J(Ma),J(Ur),J(Ns),J(Ls),J(sl),J(Da))},Xs.\u0275prov=ht({token:Xs,factory:Xs.\u0275fac,providedIn:"root"});class Ui extends mH{constructor(e,t,r,o,i,s,a,u,f,m,_,M,k,Q,ke,qe,Ye,bt){var Ne;super(),Ne=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=_,this.proxyService=M,this.buttonService=k,this.bootstrapService=Q,this.cloudpilotService=ke,this.storageCardService=qe,this.storageCardContext=Ye,this.app=bt,this.switchSession=Cn=>this.mutex.runExclusive((0,ge.Z)(function*(){if(Cn===Ne.emulationState.getCurrentSession()?.id)return!0;yield Ne.stopUnchecked(),yield Ne.bootstrapService.hasRendered();const qn=yield Ne.loadingController.create({message:"Loading..."});yield qn.present();try{const ds=yield Ne.storageService.getSession(Cn);if(!ds)throw new Error(`invalid session ${Cn}`);Ne.emulationState.setCurrentSession(void 0);const Hm=yield Ne.cloudpilotService.cloudpilot;if(!(yield Ne.restoreSession(ds,Hm)))return Ne.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ne.emulationState.setCurrentSession(ds),function Cj(n){localStorage.setItem(Fm,n+"")}(Cn)}finally{yield qn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ge.Z)(function*(){!Ne.emulationState.getCurrentSession()||Ne.running||Ne.errorService.hasFatalError()||!Ne.cloudpilotInstance||(yield Ne.kvsService.mutex.runExclusive(()=>Ne.updateFeatures()),Ne.doResume(),Ne.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ge.Z)(function*(){Ne.doPause(),!Ne.errorService.hasFatalError()&&Ne.emulationState.getCurrentSession()&&(yield Ne.snapshotService.waitForPendingSnapshot(),yield Ne.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Cn,qn])=>this.mutex.runExclusive((0,ge.Z)(function*(){const ds=Ne.emulationState.getCurrentSession();Cn===ds?.id&&(void 0!==ds.mountedCard&&void 0===qn&&Ne.storageCardContext.release(ds.mountedCard,jr.cloudpilot),Ne.emulationState.setCurrentSession(qn),Ne.emulationState.getCurrentSession()||(JM(),Ne.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ge.Z)(function*(){const Cn=Ne.emulationState.getCurrentSession();Cn&&Ne.fileService.emergencySaveSession(Cn,yield Ne.cloudpilotService.cloudpilot)})),this.mutex=new Ea,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Cn=>{Cn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Cn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Nt=function wj(){const n=localStorage.getItem(Fm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Nt&&!DD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Nt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?jl.timeout:jl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ge.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,ge.Z)(function*(){try{yield t.switchSession(e)}catch{Ys&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,ge.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}Ui.\u0275fac=function(e){return new(e||Ui)(J(Qn),J(ft),J(Ol),J(us),J(Ma),J(Ns),J(Ls),J(Ur),J(Gl),J(xc),J(Zo),J(Wl),J(Pc),J(Rc),J(Vi),J(Xs),J(Da),J(wl))},Ui.\u0275prov=ht({token:Ui,factory:Ui.\u0275fac,providedIn:"root"});const Zl=new yt(B),HH={connector:()=>new nt};function kT(n,e=HH){const{connector:t}=e;return q((r,o)=>{const i=t();Rn(n(function jH(n){return new yt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function AT(n,e){return e?t=>Sf(e.pipe(Ds(1),function WH(){return q((n,e)=>{n.subscribe(ye(e,B))})}()),t.pipe(AT(n))):yr((t,r)=>Rn(n(t,r)).pipe(Ds(1),hv(t)))}const ep="Service workers are disabled or not supported by this browser";class jm{constructor(e){if(this.serviceWorker=e,e){const r=Cf(e,"controllerchange").pipe(xe(()=>e.controller)),i=Sf(tm(()=>gn(e.controller)),r);this.worker=i.pipe(ui(m=>!!m)),this.registration=this.worker.pipe(di(()=>e.getRegistration()));const f=Cf(e,"message").pipe(xe(m=>m.data)).pipe(ui(m=>m&&m.type)).pipe(function GH(n){return n?e=>kT(n)(e):e=>function zH(n,e){const t=I(n)?n:()=>n;return I(e)?kT(e,{connector:t}):r=>new fv(r,t)}(new nt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function qH(n){return tm(()=>xu(new Error(n)))}(ep)}postMessage(e,t){return this.worker.pipe(Ds(1),fi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(ui(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ds(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ui(t=>t.nonce===e),Ds(1),xe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let KH=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new nt,!t.isEnabled)return this.messages=Zl,this.notificationClicks=Zl,void(this.subscription=Zl);this.messages=this.sw.eventsOfType("PUSH").pipe(xe(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(xe(o=>o.data)),this.pushManager=this.sw.registration.pipe(xe(o=>o.pushManager));const r=this.pushManager.pipe(di(o=>o.getSubscription()));this.subscription=li(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ep));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(di(s=>s.subscribe(r)),Ds(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ds(1),di(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ep))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(J(jm))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),_0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Zl,this.available=Zl,this.activated=Zl,void(this.unrecoverable=Zl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(ui(r=>"VERSION_READY"===r.type),xe(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ep));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ep));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(J(jm))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class v0{}const xT=new rn("NGSW_REGISTER_SCRIPT");function YH(n,e,t,r){return()=>{if(!Cl(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=gn(null);break;case"registerWithDelay":o=PT(+a[0]||0);break;case"registerWhenStable":o=a[0]?li(RT(n),PT(+a[0])):RT(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ft).runOutsideAngular(()=>o.pipe(Ds(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function PT(n){return gn(null).pipe(function ZH(n,e=GM){const t=WM(n,e);return AT(()=>t)}(n))}function RT(n){return n.get(wl).isStable.pipe(ui(t=>t))}function XH(n,e){return new jm(Cl(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let QH=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:xT,useValue:t},{provide:v0,useValue:r},{provide:jm,useFactory:XH,deps:[v0,Du]},{provide:hc,useFactory:YH,deps:[lo,xT,v0,Du],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dt({type:n}),n.\u0275inj=_r({providers:[KH,_0]}),n})();class Fc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ge.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==kc&&(yield s.kvsService.set({version:kc,previousVersion:a,latestVersion:kc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${kc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=kc})),this.mutex=new Ea,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ge.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ge.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===kc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ge.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Fc.\u0275fac=function(e){return new(e||Fc)(J(Zo),J(Ui),J(Ur),J(Is),J(_0))},Fc.\u0275prov=ht({token:Fc,factory:Fc.\u0275fac,providedIn:"root"});class tp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}tp.\u0275fac=function(e){return new(e||tp)(C(Tc),C(Fc),C(Rc))},tp.\u0275cmp=Re({type:tp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"ion-app"),dt(1,"ion-router-outlet"),te())},dependencies:[uM,Gf]});class Xu{constructor(){}}Xu.\u0275fac=function(e){return new(e||Xu)},Xu.\u0275cmp=Re({type:Xu,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"div"),Ke(1,"Dummy"),te())},encapsulation:2});class Oc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Oc.\u0275fac=function(e){return new(e||Oc)(J(El),J(Ro))},Oc.\u0275prov=ht({token:Oc,factory:Oc.\u0275fac,providedIn:"root"});const b0=ie.m515,e6=c0[2],t6=c0[0],Qu="rgba(0,0,0,0.2)";function FT(n){const e=Xf(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function i6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class s6{constructor(e){this.skin=e,this.layout=FT(b0),this.onResize=new ni.j}get width(){switch(this.getOrientation()){case Cr.portrait:case Cr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Cr.portrait:case Cr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Cr.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case Cr.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case Cr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,ge.Z)(function*(){if(!e)return;t.layout=FT(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,ge.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Qu),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Qu),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Qu),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Qu),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Qu),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Qu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Cr.portrait:case void 0:break;case Cr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Cr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Cr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,ge.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,e6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ie.pegN700c:case ie.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ie.pegS320:case ie.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ie.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ie.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return this.skin.SILKSCREEN_PILOT;case ie.m500:return this.skin.SILKSCREEN_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.SILKSCREEN_M515;case ie.iiic:return this.skin.SILKSCREEN_IIIC;case ie.m100:case ie.m105:case ie.m125:return this.skin.SILKSCREEN_M100;case ie.m130:return this.skin.SILKSCREEN_M130;case ie.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ie.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ie.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case ie.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ie.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ie.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ie.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ie.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ie.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ie.pilot:case ie.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ie.m500:return this.skin.HARD_BUTTONS_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.HARD_BUTTONS_M515;case ie.iiic:return this.skin.HARD_BUTTONS_IIIC;case ie.m100:case ie.m105:return this.skin.HARD_BUTTONS_M100;case ie.m125:return this.skin.HARD_BUTTONS_M125;case ie.m130:return this.skin.HARD_BUTTONS_M130;case ie.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ie.iiie:return this.skin.HARD_BUTTONS_IIIE;case ie.i705:return this.skin.HARD_BUTTONS_I705;case ie.handera330c:case ie.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return u0(this.getDeviceId())?"white":t6}frameColor(){return u0(this.getDeviceId())?"white":"#ccc"}}const u6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function d6(n){const t=o=>function a6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,ge.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(fj||Ys)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,ge.Z)(function*(){if(!i){const s=(yield n)[o];i=function l6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of u6)r[o]=t(o);return r}class al extends s6{constructor(){super(d6(x.e(4363).then(x.bind(x,4363)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,ge.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ge.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,ge.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??b0}getOrientation(){return this.session?.deviceOrientation??Cr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function f6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Xf(this.session?.device??b0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}al.\u0275fac=function(e){return new(e||al)},al.\u0275prov=ht({token:al,factory:al.\u0275fac,providedIn:"root"});class Nc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}Nc.\u0275fac=function(e){return new(e||Nc)(C(Ro),C(al),C(us))},Nc.\u0275cmp=Re({type:Nc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(se(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),dt(4,"ion-icon",3),se(5,"ion-label"),Ke(6,"Emulator"),te()(),se(7,"ion-tab-button",4),dt(8,"ion-icon",5),se(9,"ion-label"),Ke(10,"Sessions"),te()(),se(11,"ion-tab-button",6),dt(12,"ion-icon",7),se(13,"ion-label"),Ke(14,"Cards"),te()(),se(15,"ion-tab-button",8),dt(16,"ion-icon",9),se(17,"ion-label"),Ke(18,"Settings"),te()(),se(19,"ion-tab-button",10),dt(20,"ion-icon",11),se(21,"ion-label"),Ke(22,"About"),te()()()()()),2&e&&(tt(2),Ga("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[oi,as,jv,hM,DM],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class ka{}ka.\u0275fac=function(e){return new(e||ka)},ka.\u0275mod=Dt({type:ka}),ka.\u0275inj=_r({imports:[_a,Xv.forChild(),Nl,bc,Jh]});class Ju{}Ju.\u0275fac=function(e){return new(e||Ju)},Ju.\u0275mod=Dt({type:Ju}),Ju.\u0275inj=_r({imports:[_a,bc,Nl,ka,Xv.forChild()]});class ed{}ed.\u0275fac=function(e){return new(e||ed)},ed.\u0275mod=Dt({type:ed}),ed.\u0275inj=_r({imports:[_a,bc,Nl,ka]});class td{}td.\u0275fac=function(e){return new(e||td)},td.\u0275mod=Dt({type:td}),td.\u0275inj=_r({imports:[_a,bc,Nl,Jh,ka]});class nd{}nd.\u0275fac=function(e){return new(e||nd)},nd.\u0275mod=Dt({type:nd}),nd.\u0275inj=_r({imports:[_a,bc,Nl,ka,Jh]});class rd{}function p6(n,e){if(1&n){const t=wr();se(0,"ion-button",1),ut("click",function(){return kt(t),Pt(Vt().onClick())}),dt(1,"ion-icon",2),te()}if(2&n){const t=Vt();tt(1),st("name",t.iconName)}}rd.\u0275fac=function(e){return new(e||rd)},rd.\u0275mod=Dt({type:rd}),rd.\u0275inj=_r({imports:[_a,Nl,bc,Jh,ka]});class ql{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Ys?"logo-apple-appstore":XM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function h6(n,e){1&n&&(se(0,"div",11),dt(1,"ion-spinner"),te())}function m6(n,e){1&n&&(se(0,"div"),Ke(1,"app cached for offline use"),te())}ql.\u0275fac=function(e){return new(e||ql)(C(Tc))},ql.\u0275cmp=Re({type:ql,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&sn(0,p6,2,1,"ion-button",0),2&e&&st("ngIf",t.show)},dependencies:[ti,rs,oi]});class np{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return kc}showChangelog(){var e=this;return(0,ge.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function g6(n,e){if(1&n&&(se(0,"ion-select-option",17),Ke(1),te()),2&n){const t=e.$implicit;st("value",t[0]),tt(1),Ti("",t[1]," ")}}function y6(n,e){if(1&n&&(se(0,"ion-select-option",17),Ke(1),te()),2&n){const t=e.$implicit;st("value",t[0]),tt(1),Ti("",t[1]," ")}}function _6(n,e){if(1&n&&(se(0,"ion-item",7)(1,"ion-label",8),Ke(2,"Hotsync name"),te(),dt(3,"ion-input",18),te()),2&n){const t=Vt();tt(3),st("placeholder",t.placeholder)}}np.\u0275fac=function(e){return new(e||np)(C(Is),C(_0))},np.\u0275cmp=Re({type:np,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3,"About"),te(),se(4,"ion-buttons",1),dt(5,"app-pwa-prompt"),te()()(),se(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Ke(10,"About"),te()()(),sn(11,h6,2,0,"div",4),se(12,"div",5)(13,"markdown",6),ut("load",function(){return t.loading=!1}),te()(),se(14,"div",7),Ke(15),dt(16,"br"),se(17,"a",8),ut("click",function(){return t.showChangelog()}),Ke(18,"Changelog"),te(),sn(19,m6,2,0,"div",9),te(),dt(20,"img",10),te()),2&e&&(st("translucent",!0),tt(11),st("ngIf",t.loading),tt(4),Ti(" CloudpilotEmu version ",t.version," "),tt(4),st("ngIf",t.serviceWorkerAvailable))},dependencies:[ti,os,is,ss,jf,ls,cs,ql,Yv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class od{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Cr.portrait,"Portrait"],[Cr.landscape90,"Landscape 90\xb0"],[Cr.landscape270,"Landscape 270\xb0"],[Cr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,fT(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function sH(n){switch(n){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Zh({name:new ri(this.session.name,{validators:[Uh.required,this.validateNameUnique]}),manageHotsyncName:new ri(!this.session.dontManageHotsyncName),hotsyncName:new ri(this.session.hotsyncName||""),device:new ri({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new ri((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new ri(this.session.deviceOrientation||Cr.portrait)})}}od.\u0275fac=function(e){return new(e||od)(C(Ta),C(Ur))},od.\u0275cmp=Re({type:od,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3,"Session settings"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.save()}),Ke(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),ut("click",function(){return t.onCancel()}),Ke(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),ut("keydown.enter",function(){return t.onEnter()}),se(12,"h1"),Ke(13,"Session"),te(),se(14,"ion-item",7)(15,"ion-label",8),Ke(16,"Session name"),te(),dt(17,"ion-input",9),te(),se(18,"h1"),Ke(19,"Device"),te(),se(20,"ion-item",7)(21,"ion-label",8),Ke(22,"Device type"),te(),se(23,"ion-select",10),sn(24,g6,2,2,"ion-select-option",11),te()(),se(25,"ion-item",7)(26,"ion-label",8),Ke(27,"Orientation"),te(),se(28,"ion-select",12),sn(29,y6,2,2,"ion-select-option",11),te()(),se(30,"ion-item",7)(31,"ion-label",13),Ke(32),te(),dt(33,"ion-range",14),te(),se(34,"h1"),Ke(35,"Hotsync"),te(),se(36,"ion-item",7)(37,"ion-label"),Ke(38,"Manage hotsync name"),te(),dt(39,"ion-toggle",15),te(),sn(40,_6,4,1,"ion-item",16),te()()),2&e&&(tt(5),st("disabled",t.formGroup.invalid),tt(6),st("formGroup",t.formGroup),tt(13),st("ngForOf",t.deviceList),tt(5),st("ngForOf",t.orientations),tt(3),bs(t.speedLabel),tt(8),st("ngIf",t.showHotsyncNameInput))},dependencies:[gc,ti,rs,os,is,ss,Fl,ii,as,Uv,Mm,Tm,ls,Hf,cs,zu,Uf,Rl,xl,kl,Al,uv,va,Qa],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class id{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,ge.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,ge.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${f0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(vT(r,e),s)},"Cancel"):t.fileService.saveFile(vT(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}id.\u0275fac=function(e){return new(e||id)(J(Ui),J(Ol),J(Ma),J(Ls),J(us),J(Ur),J(Vi))},id.\u0275prov=ht({token:id,factory:id.\u0275fac,providedIn:"root"});const v6=window.AudioContext||window.webkitAudioContext;function w0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class b6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,ge.Z)(function*(){if(!t.initialized){try{t.context=new v6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ge.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield w0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield w0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ge.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ea,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Ys||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Ys||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,ge.Z)(function*(){e.context&&(yield w0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class Kl extends b6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}Kl.\u0275fac=function(e){return new(e||Kl)(J(Ui),J(Zo),J(Gl))},Kl.\u0275prov=ht({token:Kl,factory:Kl.\u0275fac,providedIn:"root"});class Lc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function C6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),ut("click",function(){return kt(t),Pt(Vt().power())}),se(1,"ion-label"),Ke(2,"Power"),te(),dt(3,"ion-icon",5),te()}if(2&n){const t=Vt();st("detail",!1)("disabled",!t.emulationService.isRunning())}}function S6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),ut("click",function(){return kt(t),Pt(Vt().hotsync())}),se(1,"ion-label"),Ke(2,"Hotsync"),te(),dt(3,"ion-icon",6),te()}if(2&n){const t=Vt();st("detail",!1)("disabled",!t.emulationService.isRunning())}}function E6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),ut("click",function(){return kt(t),Pt(Vt().reset())}),se(1,"ion-label"),Ke(2,"Reset"),te(),dt(3,"ion-icon",7),te()}if(2&n){const t=Vt();st("detail",!1)("disabled",!t.emulationService.isRunning())}}function D6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),ut("click",function(){return kt(t),Pt(Vt().insertCard())}),se(1,"ion-label"),Ke(2),te(),dt(3,"ion-icon",9),te()}if(2&n){const t=Vt();st("detail",!1),tt(2),Ti("Insert ",t.hasMemorystick?"stick":"SD card","")}}function I6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),ut("click",function(){return kt(t),Pt(Vt().ejectCard())}),se(1,"ion-label"),Ke(2),te(),dt(3,"ion-icon",10),te()}if(2&n){const t=Vt();st("detail",!1),tt(2),Ti("Eject ",t.hasMemorystick?"stick":"SD card","")}}function M6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),ut("click",function(){return kt(t),Pt(Vt().mute(!1))}),se(1,"ion-label"),Ke(2,"Enable audio"),te(),dt(3,"ion-icon",11),te()}2&n&&st("detail",!1)}function T6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),ut("click",function(){return kt(t),Pt(Vt().mute(!0))}),se(1,"ion-label"),Ke(2,"Disable audio"),te(),dt(3,"ion-icon",12),te()}2&n&&st("detail",!1)}function k6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),ut("click",function(){return kt(t),Pt(Vt().backup())}),se(1,"ion-label"),Ke(2,"Save backup"),te(),dt(3,"ion-icon",13),te()}if(2&n){const t=Vt();st("detail",!1)("disabled",t.backupDisabled)}}function A6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),ut("click",function(){return kt(t),Pt(Vt().rotate())}),se(1,"ion-label"),Ke(2,"Rotate"),te(),dt(3,"ion-icon",14),te()}2&n&&st("detail",!1)}function x6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),ut("click",function(){return kt(t),Pt(Vt().editSettings())}),se(1,"ion-label"),Ke(2,"Settings"),te(),dt(3,"ion-icon",15),te()}2&n&&st("detail",!1)}function P6(n){switch(n){case Cr.portrait:case void 0:return Cr.landscape90;case Cr.landscape90:return Cr.portrait180;case Cr.portrait180:return Cr.landscape270;case Cr.landscape270:return Cr.portrait;default:throw new Error("cannot happen")}}Lc.\u0275fac=function(e){return new(e||Lc)(J(Ui),J(ft))},Lc.\u0275prov=ht({token:Lc,factory:Lc.\u0275fac,providedIn:"root"});class rp{constructor(e,t,r,o,i,s,a,u,f,m,_,M,k,Q,ke,qe,Ye,bt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=M,this.cloudpilotService=k,this.storageCardService=Q,this.alertService=ke,this.alertController=qe,this.storageService=Ye,this.errorService=bt,this.showHelp=()=>{}}reset(){var e=this;return(0,ge.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ge.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function aH(n){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&pT(e.device)!==zl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&pT(e.device)===zl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ge.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:od,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,ge.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,ge.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:P6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ge.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ge.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}rp.\u0275fac=function(e){return new(e||rp)(C(Ui),C(us),C(id),C(Pc),C(Zf),C(Mc),C(Kl),C(Zo),C(Is),C(Ta),C(Lc),C(al),C(Vi),C(Xs),C(Ur),C(Wu),C(Qn),C(Ns))},rp.\u0275cmp=Re({type:rp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list"),sn(1,C6,4,2,"ion-item",0),sn(2,S6,4,2,"ion-item",0),sn(3,E6,4,2,"ion-item",0),sn(4,D6,4,2,"ion-item",1),sn(5,I6,4,2,"ion-item",1),sn(6,M6,4,1,"ion-item",1),sn(7,T6,4,1,"ion-item",1),sn(8,k6,4,2,"ion-item",0),sn(9,A6,4,1,"ion-item",1),sn(10,x6,4,1,"ion-item",1),se(11,"ion-item",2),ut("click",function(){return t.help()}),se(12,"ion-label"),Ke(13,"Help"),te(),dt(14,"ion-icon",3),te()()),2&e&&(tt(1),st("ngIf",t.hasActiveSession&&!t.powerDisabled),tt(1),st("ngIf",t.hasActiveSession),tt(1),st("ngIf",t.hasActiveSession),tt(1),st("ngIf",t.supportsStorageCard&&!t.hasMountedCard),tt(1),st("ngIf",t.supportsStorageCard&&t.hasMountedCard),tt(1),st("ngIf",t.isMuted&&!t.isAudioOff),tt(1),st("ngIf",!t.isMuted&&!t.isAudioOff),tt(1),st("ngIf",t.hasActiveSession),tt(1),st("ngIf",t.hasActiveSession),tt(1),st("ngIf",t.hasActiveSession),tt(1),st("detail",!1))},dependencies:[ti,oi,ii,as,Ca]});class R6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class sd extends R6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function NT(n){return/\.(prc|pdb|pqa)$/i.test(n)}sd.\u0275fac=function(e){return new(e||sd)(J(Ui),J(al),J(Gl),J(ft),J(wl))},sd.\u0275prov=ht({token:sd,factory:sd.\u0275fac,providedIn:"root"});class $6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var e=this;return(0,ge.Z)(function*(){for(const t of e.files)if(/\.zip/i.test(t.name)&&t.content.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else NT(t.name)?yield e.installOne(t.name,t.content):e.filesFail.push(t.name);return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,ge.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function L6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,ge.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(e.content,function(){var o=(0,ge.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!NT(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function N6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}class ad{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new $6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${f0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${f0(e)} require a device reset.`:void 0}}ad.\u0275fac=function(e){return new(e||ad)(J(Vi),J(Ui),J(Ol),J(Ma),J(Ur),J(Wu))},ad.\u0275prov=ht({token:ad,factory:ad.\u0275fac,providedIn:"root"});class Yl{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}Yl.\u0275fac=function(e){return new(e||Yl)},Yl.\u0275prov=ht({token:Yl,factory:Yl.\u0275fac,providedIn:"root"});const B6=["canvas"];function V6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),ut("click",function(){return kt(t),Pt(Vt().navigation.lock())}),dt(1,"ion-icon",10),te()}}function U6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),ut("click",function(){return kt(t),Pt(Vt().navigation.unlock())}),dt(1,"ion-icon",11),te()}}function j6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),ut("click",function(){return kt(t),Pt(Vt().showGameModeHint())}),dt(1,"ion-icon",12),te()}}function H6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),ut("click",function(){return kt(t),Pt(Vt().showProxyConnectedHint())}),dt(1,"ion-icon",13),te()}}function z6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),ut("click",function(){return kt(t),Pt(Vt().showSlowdowndHint())}),dt(1,"ion-icon",14),te()}}function G6(n,e){if(1&n){const t=wr();se(0,"div",15),Ke(1," The device was reset forcefully. How do you want to boot? "),se(2,"ion-button",16),ut("click",function(){return kt(t),Pt(Vt().bootAfterForcefulReset())}),Ke(3,"Normal boot"),te(),se(4,"ion-button",16),ut("click",function(){return kt(t),Pt(Vt().bootAfterForcefulResetNoExtensions())}),Ke(5,"No extensions"),te(),se(6,"ion-button",16),ut("click",function(){return kt(t),Pt(Vt().bootAfterForcefulResetHardReset())}),Ke(7,"Hard reset"),te()()}}function W6(n,e){1&n&&(se(0,"div",15)(1,"div"),Ke(2,"No session selected"),te()())}class op{constructor(e,t,r,o,i,s,a,u,f,m,_,M,k,Q,ke,qe,Ye,bt){var Ne=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=_,this.installlationService=M,this.proxyService=k,this.navigation=Q,this.linkApi=ke,this.performanceWatchdogService=qe,this.cloudpilotService=Ye,this.dragDropService=bt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ge.Z)(function*(){yield Ne.emulationService.bootstrapComplete(),Ne.boostrapComplete=!0;const Nt=Ne.emulationState.getCurrentSession();Nt&&!Nt.wasResetForcefully&&(yield Ne.launchEmulator()),Ne.linkApi.installation.requestEvent.addHandler(Ne.handleLinkApiInstallationRequest),Ne.handleLinkApiInstallationRequest(),Ne.dragDropService.registerClient(Ne)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Nt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Nt,this.emulationService.getStatistics())},this.onNewFrame=Nt=>{this.canvasDisplayService.updateEmulationCanvas(Nt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Nt=this.linkApi.installation.receivePendingUrl();Nt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Nt} ?`,{OK:()=>this.fileService.openUrl(Nt,qn=>this.installlationService.installFiles([qn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Nt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ea}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,ge.Z)(function*(){(yield t.popoverController.create({component:rp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ge.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ge.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ge.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ge.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ge.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ge.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ge.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ge.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ge.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function C0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function LT(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}op.\u0275fac=function(e){return new(e||op)(C(Ui),C(us),C(Qn),C(sd),C(al),C(Zo),C(Mc),C(Is),C(Ur),C(Ls),C(Ma),C(ad),C(Wl),C(Nc),C(El),C(Lc),C(Vi),C(Yl))},op.\u0275cmp=Re({type:op,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&Cu(B6,5),2&e){let r;ws(r=Cs())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ke(3),te(),se(4,"ion-buttons",0)(5,"ion-button",1),ut("click",function(){return t.installFiles()}),dt(6,"ion-icon",2),te(),sn(7,V6,2,0,"ion-button",3),sn(8,U6,2,0,"ion-button",3),te(),se(9,"ion-buttons",4)(10,"ion-button",5),ut("click",function(o){return t.openContextMenu(o)}),dt(11,"ion-icon",6),te(),sn(12,j6,2,0,"ion-button",3),sn(13,H6,2,0,"ion-button",3),sn(14,z6,2,0,"ion-button",3),te()()(),se(15,"ion-content")(16,"div",7),ut("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),dt(17,"canvas",null,8),te(),sn(19,G6,8,0,"div",9),sn(20,W6,3,0,"div",9),te()),2&e){let r,o;tt(3),bs(t.title),tt(2),st("disabled",t.installFileDisabled),tt(2),st("ngIf",!t.navigation.isLocked()),tt(1),st("ngIf",t.navigation.isLocked()),tt(4),st("ngIf",t.eventHandlingService.isGameMode()),tt(1),st("ngIf",t.proxyService.isConnected()),tt(1),st("ngIf",t.performanceWatchdogService.isSlowdownDetected()),tt(1),Ga("locked",t.navigation.isLocked()),tt(1),qd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),tt(1),qd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),tt(2),st("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),tt(1),st("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[ti,rs,os,is,ss,oi,ls,cs],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class ip{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}ip.\u0275fac=function(e){return new(e||ip)},ip.\u0275cmp=Re({type:ip,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),ut("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),Ke(3," Edit "),te(),se(4,"ion-item",0),ut("click",function(){return t.onSave()}),dt(5,"ion-icon",2),Ke(6," Save "),te(),se(7,"ion-item",0),ut("click",function(){return t.onReset()}),dt(8,"ion-icon",3),Ke(9," Reset "),te(),se(10,"ion-item",4),ut("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),Ke(12," Delete "),te()()),2&e&&(tt(1),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1))},dependencies:[oi,ii,Ca]});const q6=["slidingItem"];function K6(n,e){if(1&n&&(se(0,"span"),Ke(1),te()),2&n){const t=Vt();tt(1),Ti(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class sp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Dn,this.resetSession=new Dn,this.edit=new Dn,this.save=new Dn,this.selectItem=new Dn,this.interaction=new Dn}get device(){return this.session?fT(this.session.device):""}onContextmenu(e){var t=this;return(0,ge.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:ip,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function Z6(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function Y6(n,e){1&n&&(se(0,"div",10),dt(1,"ion-spinner"),te())}function X6(n,e){1&n&&(se(0,"div",11)(1,"div",12),Ke(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),dt(3,"br")(4,"br"),Ke(5," You can find a collection of compatible ROMs on "),se(6,"a",13),Ke(7,"PalmDB"),te(),Ke(8,". "),te()())}function Q6(n,e){if(1&n){const t=wr();se(0,"app-session-item",15),ut("delete",function(){const i=kt(t).$implicit;return Pt(Vt(2).deleteSession(i))})("selectItem",function(){const i=kt(t).$implicit;return Pt(Vt(2).launchSession(i))})("edit",function(){const i=kt(t).$implicit;return Pt(Vt(2).editSession(i))})("save",function(){const i=kt(t).$implicit;return Pt(Vt(2).saveSession(i))})("resetSession",function(){const i=kt(t).$implicit;return Pt(Vt(2).resetSession(i))})("interaction",function(){const i=kt(t).$implicit;return Pt(Vt(2).lastSessionTouched=i.id)}),te()}if(2&n){const t=e.$implicit,r=Vt(2);st("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function J6(n,e){if(1&n&&(se(0,"ion-list"),sn(1,Q6,1,3,"app-session-item",14),te()),2&n){const t=Vt();tt(1),st("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}sp.\u0275fac=function(e){return new(e||sp)(C(Mc))},sp.\u0275cmp=Re({type:sp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&Cu(q6,5),2&e){let r;ws(r=Cs())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=wr();se(0,"ion-item-sliding",0,1),ut("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),se(2,"ion-item-options",2)(3,"ion-item-option",3),ut("click",function(){return kt(r),vs(1).close(),Pt(t.edit.emit(t.session))}),dt(4,"ion-icon",4),te(),se(5,"ion-item-option",5),ut("click",function(){return kt(r),vs(1).close(),Pt(t.save.emit(t.session))}),dt(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),ut("click",function(){return kt(r),vs(1).close(),Pt(t.resetSession.emit(t.session))}),dt(9,"ion-icon",9),te(),se(10,"ion-item-option",10),ut("click",function(){return kt(r),vs(1).close(),Pt(t.delete.emit(t.session))}),dt(11,"ion-icon",11),te()(),se(12,"ion-item",12),ut("click",function(){return t.selectItem.emit()}),se(13,"ion-label")(14,"h2"),Ke(15),te(),se(16,"p"),Ke(17),sn(18,K6,2,1,"span",13),te()()()()}2&e&&(tt(12),st("color",t.color),tt(1),Ga("in-item-color",t.selected),tt(2),bs(null==t.session?null:t.session.name),tt(2),Yd("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),tt(1),st("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[ti,oi,ii,Em,Dm,Im,as],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Aa{constructor(e,t,r,o,i,s,a,u,f,m,_,M,k){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=M,this.cd=k,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Q=this.linkApi.import.receivePendingUrl();Q&&this.alertService.message("Import request",`Do you want to import<br>${Q} ?`,{OK:()=>this.fileService.openUrl(Q,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=C0(k,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,ge.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,ge.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!MT()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,ge.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,ge.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ge.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,ge.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(r){const o={name:t.disambiguateSessionName(r.metadata?.name??e.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield t.editSettings(o)){const i=yield t.sessionService.addSessionFromImage(r,o.name,o);t.lastSessionTouched=i.id}}else{const o=(yield t.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!o)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const i={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield t.editSettings(i,o.supportedDevices)){const s=yield t.sessionService.addSessionFromRom(e.content,i.name,i.device,i);t.lastSessionTouched=s.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:od,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return LT(e,r=>t.some(o=>o.name===r))}}function e5(n,e){1&n&&(se(0,"ion-item",8)(1,"ion-label"),Ke(2,"Clipboard integration"),te(),dt(3,"ion-toggle",17),te())}function t5(n,e){if(1&n){const t=wr();se(0,"ion-item",8)(1,"ion-label",18),Ke(2,"Proxy server"),te(),se(3,"div",19),dt(4,"ion-input",20),se(5,"ion-button",21),ut("click",function(o){kt(t);const i=Vt();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())})("touchstart",function(o){kt(t);const i=Vt();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())}),Ke(6," Test "),te()()()}if(2&n){const t=Vt();tt(5),st("disabled",!t.proxyServerValid)}}Aa.\u0275fac=function(e){return new(e||Aa)(C(Ta),C(Ls),C(Wu),C(Ur),C(Ui),C(us),C(Qn),C(Is),C(El),C(Ro),C(Vi),C(Yl),C(It))},Aa.\u0275cmp=Re({type:Aa,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ke(3,"Sessions"),te(),se(4,"ion-buttons",0)(5,"ion-button",1),ut("click",function(){return t.importSession()}),dt(6,"ion-icon",2),te()(),se(7,"ion-buttons",3)(8,"ion-button",1),ut("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),te(),dt(10,"app-pwa-prompt"),te()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ke(15,"Sessions"),te()()(),sn(16,Y6,2,0,"div",7),sn(17,X6,9,0,"div",8),sn(18,J6,2,2,"ion-list",9),te()),2&e&&(tt(16),st("ngIf",t.sessionService.isLoading()),tt(1),st("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),tt(1),st("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[gc,ti,rs,os,is,ss,oi,Ca,jf,ls,cs,ql,sp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),Z([mi()],Aa.prototype,"deleteSession",null),Z([mi()],Aa.prototype,"editSession",null),Z([mi()],Aa.prototype,"saveSession",null),Z([mi()],Aa.prototype,"launchSession",null),Z([mi()],Aa.prototype,"resetSession",null);class ap{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ge.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ge.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ge.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Zh({volume:new ri(this.kvsService.kvs.volume),showStatistics:new ri(this.kvsService.kvs.showStatistics),runHidden:new ri(this.kvsService.kvs.runHidden),clipboardIntegration:new ri(this.kvsService.kvs.clipboardIntegration),networkRedirection:new ri(this.kvsService.kvs.networkRedirection),proxyServer:new ri(this.kvsService.kvs.proxyServer,{validators:[kH]}),autoLockUI:new ri(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new ri(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new ri(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}ap.\u0275fac=function(e){return new(e||ap)(C(Is),C(Zo),C(xc),C(Ur),C(Wl))},ap.\u0275cmp=Re({type:ap,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3,"Settings"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.showHelp()}),dt(6,"ion-icon",3),te(),dt(7,"app-pwa-prompt"),te()()(),se(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Ke(12,"Settings"),te()()(),se(13,"div",6)(14,"form",7)(15,"h1"),Ke(16,"Emulation"),te(),se(17,"ion-item",8)(18,"ion-label"),Ke(19,"Volume"),te(),dt(20,"ion-range",9),te(),se(21,"ion-item",8)(22,"ion-label"),Ke(23,"Enable audio on start"),te(),dt(24,"ion-toggle",10),te(),se(25,"ion-item",8)(26,"ion-label"),Ke(27,"Run when hidden"),te(),dt(28,"ion-toggle",11),te(),se(29,"h1"),Ke(30,"Host integration"),te(),sn(31,e5,4,0,"ion-item",12),se(32,"ion-item",8)(33,"ion-label"),Ke(34,"Network redirection"),te(),dt(35,"ion-toggle",13),te(),sn(36,t5,7,1,"ion-item",12),se(37,"h1"),Ke(38,"UI"),te(),se(39,"ion-item",8)(40,"ion-label"),Ke(41,"Auto-lock UI"),te(),dt(42,"ion-toggle",14),te(),se(43,"ion-item",8)(44,"ion-label"),Ke(45,"Show statistics"),te(),dt(46,"ion-toggle",15),te(),se(47,"ion-item",8)(48,"ion-label"),Ke(49,"Open from remote sources"),te(),dt(50,"ion-toggle",16),te()()()()),2&e&&(st("translucent",!0),tt(14),st("formGroup",t.formGroup),tt(17),st("ngIf",t.clipboardService.isSupported()),tt(5),st("ngIf",t.showProxyServer))},dependencies:[ti,xl,kl,Al,rs,os,is,ss,oi,Fl,ii,as,Uv,ls,Hf,cs,zu,Uf,Rl,ql,va,Qa],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class $c{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function n5(n,e){1&n&&(se(0,"div",14)(1,"b"),Ke(2,"WARNING:"),te(),Ke(3," This image cannot be used as a memory stick image."),te())}$c.\u0275fac=function(e){return new(e||$c)},$c.\u0275pipe=rr({name:"cardSize",type:$c,pure:!0});class ld{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new _c({name:new Ss("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique]}),size:new Ss({value:"dummy",disabled:!0}),checkAutomatically:new Ss(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function r5(n,e){if(1&n&&(se(0,"ion-select-option",13),Ke(1),ha(2,"cardSize"),te()),2&n){const t=e.$implicit,r=Vt();st("value",t),tt(1),Ti("",ma(2,2,r.sizeBytes(t))," ")}}ld.\u0275fac=function(e){return new(e||ld)(C(Xs))},ld.\u0275cmp=Re({type:ld,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.save()}),Ke(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),ut("click",function(){return t.onCancel()}),Ke(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),ut("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),Ke(14,"Card name"),te(),dt(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"ion-label",8),Ke(18,"Card size"),te(),se(19,"ion-select",10)(20,"ion-select-option",11),Ke(21),ha(22,"cardSize"),te()()(),se(23,"ion-item",7)(24,"ion-label"),Ke(25,"Check for errors automatically"),te(),dt(26,"ion-toggle",12),te()(),sn(27,n5,4,0,"div",13),te()),2&e&&(tt(3),bs(t.newCard?"New memory card":"Edit memory card"),tt(2),st("disabled",t.formGroup.invalid),tt(6),st("formGroup",t.formGroup),tt(10),Ti("",ma(22,5,null==t.card?null:t.card.size)," "),tt(6),st("ngIf",!t.memoryStickSupported))},dependencies:[ti,rs,os,is,ss,Fl,ii,as,Mm,Tm,ls,Hf,cs,zu,Uf,Rl,xl,kl,Al,va,Qa,$c],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const o5=[_o.mb4,_o.mb8,_o.mb16,_o.mb32,_o.mb64,_o.mb128];class lp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new _c({name:new Ss("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique]}),size:new Ss(_o.mb32,{nonNullable:!0}),checkAutomatically:new Ss(!0,{nonNullable:!0})})}get sizes(){return o5}sizeBytes(e){return function VH(n){switch(n){case _o.mb4:return 4046848;case _o.mb8:return 8110080;case _o.mb16:return 16220160;case _o.mb32:return 32473088;case _o.mb64:return 64978944;case _o.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}lp.\u0275fac=function(e){return new(e||lp)(C(Xs))},lp.\u0275cmp=Re({type:lp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3,"New memory card"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.create()}),Ke(6,"Create"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),ut("click",function(){return t.onCancel()}),Ke(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),ut("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),Ke(14,"Card name"),te(),dt(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"ion-label",8),Ke(18,"Card size"),te(),se(19,"ion-select",10),sn(20,r5,3,4,"ion-select-option",11),te()(),se(21,"ion-item",7)(22,"ion-label"),Ke(23,"Check for errors automatically"),te(),dt(24,"ion-toggle",12),te()()()),2&e&&(tt(5),st("disabled",t.formGroup.invalid),tt(6),st("formGroup",t.formGroup),tt(9),st("ngForOf",t.sizes))},dependencies:[gc,rs,os,is,ss,Fl,ii,as,Mm,Tm,ls,Hf,cs,zu,Uf,Rl,xl,kl,Al,va,Qa,$c]});class cp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}cp.\u0275fac=function(e){return new(e||cp)},cp.\u0275cmp=Re({type:cp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),ut("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),Ke(3," Edit "),te(),se(4,"ion-item",0),ut("click",function(){return t.onSave()}),dt(5,"ion-icon",2),Ke(6," Save "),te(),se(7,"ion-item",0),ut("click",function(){return t.onCheck()}),dt(8,"ion-icon",3),Ke(9," Check "),te(),se(10,"ion-item",4),ut("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),Ke(12," Delete "),te()()),2&e&&(tt(1),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1))},dependencies:[oi,ii,Ca]});class up{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new Dn,this.selectCard=new Dn,this.edit=new Dn,this.check=new Dn,this.delete=new Dn,this.save=new Dn}onContextmenu(e){var t=this;return(0,ge.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:cp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Mr.dirty:return"needs check";case Mr.clean:return"no errors";case Mr.unformatted:return"no filesystem";case Mr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function i5(n,e){1&n&&(se(0,"div",10),dt(1,"ion-spinner"),te())}function s5(n,e){1&n&&(se(0,"div",11)(1,"div",12),Ke(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),te()())}function a5(n,e){if(1&n){const t=wr();se(0,"app-storage-card",14),ut("delete",function(){const i=kt(t).$implicit;return Pt(Vt(2).deleteCard(i))})("selectCard",function(){const i=kt(t).$implicit;return Pt(Vt(2).selectCard(i))})("edit",function(){const i=kt(t).$implicit;return Pt(Vt(2).editCard(i))})("check",function(){const i=kt(t).$implicit;return Pt(Vt(2).checkCard(i))})("interaction",function(){const i=kt(t).$implicit;return Pt(Vt(2).lastCardTouched=i.id)})("save",function(){const i=kt(t).$implicit;return Pt(Vt(2).saveCard(i))}),te()}if(2&n){const t=e.$implicit,r=Vt(2);st("card",t)("touched",t.id===r.lastCardTouched)}}function l5(n,e){if(1&n&&(se(0,"ion-list"),sn(1,a5,1,2,"app-storage-card",13),te()),2&n){const t=Vt();tt(1),st("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}up.\u0275fac=function(e){return new(e||up)(C(Xs),C(Mc))},up.\u0275cmp=Re({type:up,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=wr();se(0,"ion-item-sliding",0,1),ut("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),ut("click",function(){return kt(r),vs(1).close(),Pt(t.edit.emit(t.card))}),dt(4,"ion-icon",4),te(),se(5,"ion-item-option",5),ut("click",function(){return kt(r),vs(1).close(),Pt(t.save.emit(t.card))}),dt(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),ut("click",function(){return kt(r),vs(1).close(),Pt(t.check.emit(t.card))}),dt(9,"ion-icon",9),te(),se(10,"ion-item-option",10),ut("click",function(){return kt(r),vs(1).close(),Pt(t.delete.emit(t.card))}),dt(11,"ion-icon",11),te()(),se(12,"ion-item",12),ut("click",function(){return t.selectCard.emit(),t.interaction.emit()}),se(13,"ion-label")(14,"h2"),Ke(15),te(),se(16,"p"),Ke(17),ha(18,"cardSize"),te()()()()}2&e&&(tt(12),st("color",t.color),tt(3),bs(null==t.card?null:t.card.name),tt(2),Yd("",ma(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[oi,ii,Em,Dm,Im,as,$c],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Qs{constructor(e,t,r,o,i,s,a,u,f,m){var _=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.dragDropService=f,this.handleCardImport=function(){var M=(0,ge.Z)(function*(k){const ke=(yield _.cloudpilotService.cloudpilot).getCardSupportLevel(k.content.length);if(0===ke)return void _.alertService.errorMessage("This is not a supported card image.");const qe=yield new Promise(function(){var Ye=(0,ge.Z)(function*(bt){const Ne=yield _.modalController.create({component:ld,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(k.name),size:k.content.length},cardSupportLevel:ke,newCard:!0,onCancel:()=>{Ne.dismiss(),bt(void 0)},onSave:Nt=>{bt(Nt),Ne.dismiss()}}});yield Ne.present()});return function(bt){return Ye.apply(this,arguments)}}());qe&&(yield _.storageCardService.createCardFromFile(qe.name,k,!!qe.dontFsckAutomatically))});return function(k){return M.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=C0(m,[],()=>this.storageCardService.getAllCards())}ngDoCheck(){this.checkCards()}ionViewDidEnter(){this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this)}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,ge.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,ge.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,ge.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:ld,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ge.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${d0(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,ge.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ge.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ge.Z)(function*(){const t=yield e.modalController.create({component:lp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,ge.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return LT(e,r=>t.some(o=>o.name===r))}}function c5(n,e){1&n&&dt(0,"ion-icon",8)}function u5(n,e){1&n&&dt(0,"ion-icon",9)}function d5(n,e){1&n&&dt(0,"ion-icon",10)}function f5(n,e){if(1&n){const t=wr();se(0,"ion-item",2),ut("click",function(){const i=kt(t).index;return Pt(Vt(2).onSelect(i))}),Gd(1,3),sn(2,c5,1,0,"ion-icon",4),sn(3,u5,1,0,"ion-icon",5),sn(4,d5,1,0,"ion-icon",6),Wd(),se(5,"div",7),Ke(6),te()()}if(2&n){const t=e.$implicit,r=e.index,o=Vt(2);st("detail",!1)("lines",r===o.entries.length-1?"none":"full"),tt(1),st("ngSwitch",o.entries.length),tt(1),st("ngSwitchCase",r+1),tt(1),st("ngSwitchCase",r+2),tt(3),bs(t)}}function p5(n,e){if(1&n&&(se(0,"ion-list"),sn(1,f5,7,6,"ion-item",1),te()),2&n){const t=Vt();tt(1),st("ngForOf",t.entries)}}Qs.\u0275fac=function(e){return new(e||Qs)(C(Zf),C(Xs),C(Is),C(Wu),C(Vi),C(Ur),C(Ns),C(Ls),C(Yl),C(It))},Qs.\u0275cmp=Re({type:Qs,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ke(3,"Memory cards"),te(),se(4,"ion-buttons",0)(5,"ion-button",1),ut("click",function(){return t.addCardImage()}),dt(6,"ion-icon",2),te()(),se(7,"ion-buttons",3)(8,"ion-button",1),ut("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),te(),dt(10,"app-pwa-prompt"),te()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ke(15,"Memory cards"),te()()(),sn(16,i5,2,0,"div",7),sn(17,s5,3,0,"div",8),sn(18,l5,2,2,"ion-list",9),te()),2&e&&(tt(16),st("ngIf",t.storageCardService.isLoading()),tt(1),st("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),tt(1),st("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[gc,ti,rs,os,is,ss,oi,Ca,jf,ls,cs,ql,up],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),Z([mi()],Qs.prototype,"addCardImage",null),Z([mi()],Qs.prototype,"selectCard",null),Z([mi()],Qs.prototype,"editCard",null),Z([mi()],Qs.prototype,"saveCard",null),Z([mi()],Qs.prototype,"checkCard",null),Z([mi()],Qs.prototype,"deleteCard",null);class dp{constructor(){this.onSelect=()=>{}}}dp.\u0275fac=function(e){return new(e||dp)},dp.\u0275cmp=Re({type:dp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&sn(0,p5,2,1,"ion-list",0),2&e&&st("ngIf",t.entries)},dependencies:[gc,ti,xh,ZE,qE,oi,ii,Ca],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class fp{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=Re({type:fp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),ut("click",function(){return t.onStartSelection()}),dt(2,"ion-icon",1),Ke(3," Start selection "),te(),se(4,"ion-item",2),ut("click",function(){return t.onAddFiles()}),dt(5,"ion-icon",3),Ke(6," Add files "),te(),se(7,"ion-item",2),ut("click",function(){return t.onCreateDirectry()}),dt(8,"ion-icon",4),Ke(9," Add directory "),te(),se(10,"ion-item",2),ut("click",function(){return t.onExtractZipfile()}),dt(11,"ion-icon",5),Ke(12," Extract zip "),te(),se(13,"ion-item",0),ut("click",function(){return t.onPaste()}),dt(14,"ion-icon",6),Ke(15," Paste "),te(),se(16,"ion-item",7),ut("click",function(){return t.onHelp()}),dt(17,"ion-icon",8),Ke(18," Help "),te()()),2&e&&(tt(1),st("detail",!1)("disabled",t.emptyDirectory),tt(3),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1)("disabled",!0),tt(3),st("detail",!1))},dependencies:[oi,ii,Ca]});class Bc{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new _c({name:new Ss("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Ss(!1,{nonNullable:!0}),attrHidden:new Ss(!1,{nonNullable:!0}),attrSystem:new Ss(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,ge.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,ge.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,ge.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}function $T(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}Bc.\u0275fac=function(e){return new(e||Bc)(C(Is),C(sl))},Bc.\u0275cmp=Re({type:Bc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ke(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),ut("click",function(){return t.onSaveClick()}),Ke(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),ut("click",function(){return t.onCancelClick()}),Ke(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),ut("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),Ke(14),te(),dt(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"h2"),Ke(18,"Attributes"),te()(),se(19,"ion-item",7)(20,"ion-label"),dt(21,"ion-icon",10),Ke(22,"Readonly"),te(),dt(23,"ion-checkbox",11),te(),se(24,"ion-item",7)(25,"ion-label"),dt(26,"ion-icon",12),Ke(27,"Hidden"),te(),dt(28,"ion-checkbox",13),te(),se(29,"ion-item",7)(30,"ion-label"),dt(31,"ion-icon",14),Ke(32,"System"),te(),dt(33,"ion-checkbox",15),te()()()),2&e&&(tt(3),Ti("Edit ",t.subjectName.toLowerCase(),""),tt(2),st("disabled",t.formGroup.invalid),tt(6),st("formGroup",t.formGroup),tt(3),Ti("",t.subjectName," name"),tt(1),sh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[rs,os,fM,is,ss,oi,Fl,ii,as,ls,cs,zu,Rl,xl,kl,Al,va,Qa],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),Z([mi()],Bc.prototype,"onSaveClick",null),Z([mi()],Bc.prototype,"onEnter",null);class pp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=Re({type:pp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),ut("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),Ke(3," Edit "),te(),se(4,"ion-item",0),ut("click",function(){return t.onSave()}),dt(5,"ion-icon",2),Ke(6," Save "),te(),se(7,"ion-item",0),ut("click",function(){return t.onCopy()}),dt(8,"ion-icon",3),Ke(9," Copy "),te(),se(10,"ion-item",0),ut("click",function(){return t.onCut()}),dt(11,"ion-icon",4),Ke(12," Cut "),te(),se(13,"ion-item",5),ut("click",function(){return t.onDelete()}),dt(14,"ion-icon",6),Ke(15," Delete "),te()()),2&e&&(tt(1),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1),tt(3),st("detail",!1))},dependencies:[oi,ii,Ca]});class cd{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}cd.\u0275fac=function(e){return new(e||cd)},cd.\u0275pipe=rr({name:"fileSize",type:cd,pure:!0});const h5=["slidingItem"];function m5(n,e){1&n&&dt(0,"ion-icon",21)}function g5(n,e){1&n&&dt(0,"ion-icon",22)}function y5(n,e){1&n&&dt(0,"ion-icon",23)}function _5(n,e){1&n&&dt(0,"ion-icon",24)}function v5(n,e){1&n&&dt(0,"ion-icon",25)}function b5(n,e){1&n&&dt(0,"ion-icon",26)}function w5(n,e){1&n&&dt(0,"ion-icon",27)}function C5(n,e){if(1&n&&(Gd(0),Ke(1),ha(2,"fileSize"),Wd()),2&n){const t=Vt();tt(1),Ti(" - ",ma(2,1,null==t.entry?null:t.entry.size)," ")}}class hp{constructor(e,t){this.actionSheetController=e,this.popoverController=t,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Dn,this.selectEntry=new Dn,this.editEntry=new Dn,this.copyEntry=new Dn,this.cutEntry=new Dn,this.deleteEntry=new Dn,this.saveEntry=new Dn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,ge.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:pp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,ge.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function S5(n,e){if(1&n){const t=wr();se(0,"ion-toolbar")(1,"ion-title",5),ut("click",function(o){return kt(t),Pt(Vt().openBreadcrumbMenu(o))}),se(2,"div",6)(3,"div",7),Ke(4),te(),dt(5,"div",8),te()(),se(6,"ion-buttons",9),dt(7,"ion-back-button"),te(),se(8,"ion-buttons",10)(9,"ion-button",11),ut("click",function(o){return kt(t),Pt(Vt().openContextMenu(o))}),dt(10,"ion-icon",12),te()()()}if(2&n){const t=Vt();tt(1),st("id",t.breadcrumbTriggerId),tt(3),bs(t.title)}}function E5(n,e){if(1&n){const t=wr();se(0,"ion-buttons",14)(1,"ion-button",11),ut("click",function(){return kt(t),Pt(Vt(2).onSelectAll())}),Ke(2,"Select all"),te()()}}function D5(n,e){if(1&n){const t=wr();se(0,"ion-buttons",14)(1,"ion-button",11),ut("click",function(){return kt(t),Pt(Vt(2).selection.clear())}),Ke(2,"Clear"),te()()}}function I5(n,e){if(1&n){const t=wr();se(0,"ion-toolbar")(1,"ion-title"),Ke(2,"Selection"),te(),se(3,"ion-buttons",10)(4,"ion-button",11),ut("click",function(){return kt(t),Pt(Vt().onSelectionDone())}),Ke(5),te()(),sn(6,E5,3,0,"ion-buttons",13),sn(7,D5,3,0,"ion-buttons",13),te()}if(2&n){const t=Vt();tt(5),bs(0===t.selection.size?"Cancel":"Done"),tt(1),st("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),tt(1),st("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function M5(n,e){if(1&n&&(se(0,"div",15)(1,"div",16),Ke(2),te()()),2&n){const t=Vt();tt(2),Ti(" empty ",t.isRoot?"card":"directory"," ")}}function T5(n,e){if(1&n){const t=wr();se(0,"app-file-entry",17),ut("selectEntry",function(){const i=kt(t).$implicit;return Pt(Vt().onSelect(i))})("editEntry",function(){const i=kt(t).$implicit;return Pt(Vt().onEditEntry(i))})("saveEntry",function(){const i=kt(t).$implicit;return Pt(Vt().onSaveEntry(i))})("copyEntry",function(){const i=kt(t).$implicit;return Pt(Vt().onCopyEntry(i))})("cutEntry",function(){const i=kt(t).$implicit;return Pt(Vt().onCutEntry(i))})("deleteEntry",function(){const i=kt(t).$implicit;return Pt(Vt().onDeleteEntry(i))})("interaction",function(){const i=kt(t).$implicit;return Pt(Vt().lastEntryTouched=i.name)}),te()}if(2&n){const t=e.$implicit,r=Vt();st("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function k5(n,e){if(1&n&&(se(0,"p"),Ke(1),ha(2,"fileSize"),ha(3,"fileSize"),te()),2&n){const t=Vt(2);tt(1),Yd(" ",ma(2,2,t.bytesFree)," free, ",ma(3,4,t.bytesTotal)," total ")}}function A5(n,e){if(1&n&&(se(0,"p"),Ke(1),ha(2,"fileSize"),te()),2&n){const t=Vt(2);tt(1),Ty(" ",ma(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function x5(n,e){if(1&n&&(se(0,"ion-item",18)(1,"ion-label"),sn(2,k5,4,6,"p",0),sn(3,A5,3,5,"p",0),te()()),2&n){const t=Vt();tt(2),st("ngIf",t.isRoot),tt(1),st("ngIf",t.fileCount>0)}}function P5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}hp.\u0275fac=function(e){return new(e||hp)(C(Zf),C(Mc))},hp.\u0275cmp=Re({type:hp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&Cu(h5,5),2&e){let r;ws(r=Cs())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[To],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=wr();se(0,"ion-item-sliding",0,1),ut("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),ut("click",function(){return kt(r),vs(1).close(),Pt(t.editEntry.emit(t.entry))}),dt(4,"ion-icon",4),te(),se(5,"ion-item-option",5),ut("click",function(){return kt(r),vs(1).close(),Pt(t.saveEntry.emit(t.entry))}),dt(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),ut("click",function(){return kt(r),vs(1).close(),Pt(t.cutOrCopyEntry())}),dt(9,"ion-icon",9),te(),se(10,"ion-item-option",10),ut("click",function(){return kt(r),vs(1).close(),Pt(t.deleteEntry.emit(t.entry))}),dt(11,"ion-icon",11),te()(),se(12,"ion-item",12),ut("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),sn(13,m5,1,0,"ion-icon",13),sn(14,g5,1,0,"ion-icon",14),sn(15,y5,1,0,"ion-icon",15),sn(16,_5,1,0,"ion-icon",16),sn(17,v5,1,0,"ion-icon",17),sn(18,b5,1,0,"ion-icon",18),sn(19,w5,1,0,"ion-icon",19),se(20,"ion-label")(21,"h2"),Ke(22),te(),se(23,"p"),Ke(24),sn(25,C5,3,3,"ng-container",20),te()()()()}2&e&&(st("disabled",t.selecting),tt(12),qd("opacity",t.touched?1:.99999),Ga("is-directory",null==t.entry?null:t.entry.isDirectory),st("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),tt(1),st("ngIf",null==t.entry?null:t.entry.isDirectory),tt(1),st("ngIf",!(null!=t.entry&&t.entry.isDirectory)),tt(1),st("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),tt(1),st("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),tt(1),st("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),tt(1),st("ngIf",t.selecting&&!t.selected),tt(1),st("ngIf",t.selecting&&t.selected),tt(3),bs(null==t.entry?null:t.entry.name),tt(2),Ti(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),tt(1),st("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[ti,oi,ii,Em,Dm,Im,as,cd],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let R5=0;class Vc{constructor(e,t,r,o,i,s,a){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.cd=a,this.bytesInFilesMemoized=$T(u=>u?.reduce((f,m)=>f+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=$T(u=>u?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+R5++,this.checkEntries=C0(a,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngDoCheck(){this.checkEntries()}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(P5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,ge.Z)(function*(){yield(yield t.modalController.create({component:Bc,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){e.isDirectory?this.vfsService.saveDirectory(e):this.vfsService.saveFile(e)}onCopyEntry(e){this.alertService.message("Not implemented",`Copy ${e.name}: not implemented.`)}onCutEntry(e){this.alertService.message("Not implemented",`Cut ${e.name}: not implemented.`)}onDeleteEntry(e){this.alertService.message("Not implemented",`Delete ${e.name}: not implemented.`)}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,ge.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){this.alertService.message("Not implemented","Save zip: not implemented.")}onDeleteSelection(){this.alertService.message("Not implemented","Delete selection: not implemented.")}openBreadcrumbMenu(e){var t=this;return(0,ge.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:dp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,ge.Z)(function*(){(yield t.popoverController.create({component:fp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}}Vc.\u0275fac=function(e){return new(e||Vc)(C(sl),C(Mc),C(zv),C(Ur),C(Zf),C(Is),C(It))},Vc.\u0275cmp=Re({type:Vc,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(se(0,"ion-header"),sn(1,S5,11,2,"ion-toolbar",0),sn(2,I5,8,3,"ion-toolbar",0),te(),se(3,"ion-content")(4,"div",1),sn(5,M5,3,1,"div",2),se(6,"ion-list"),sn(7,T5,1,4,"app-file-entry",3),sn(8,x5,4,2,"ion-item",4),te()()()),2&e&&(tt(1),st("ngIf","browse"===t.mode),tt(1),st("ngIf","select"===t.mode),tt(3),st("ngIf",0===(null==t.entries?null:t.entries.length)),tt(2),st("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),tt(1),st("ngIf",t.isRoot||t.fileCount>0))},dependencies:[gc,ti,dM,rs,os,is,ss,oi,ii,as,Ca,ls,cs,IM,hp,cd],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),Z([mi()],Vc.prototype,"onSelectionDone",null);const F5=["nav"];class mp{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:t=>this.browseCard(t)},this.onNavigate=t=>{this.currentlyBrowsingCard&&this.nav?.push(Vc,{card:this.currentlyBrowsingCard,path:t,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})},this.onNavigateBreadcrumb=t=>{this.currentlyBrowsingCard&&this.nav?.popTo(t)},this.navRoot=Qs,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Vc,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}mp.\u0275fac=function(e){return new(e||mp)(C(sl))},mp.\u0275cmp=Re({type:mp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&Cu(F5,5),2&e){let r;ws(r=Cs())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&dt(0,"ion-nav",0,1),2&e&&st("animated",!0)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[pM,MM]});const O5=[{path:"tab",component:Nc,children:[{path:"emulation",component:op},{path:"sessions",component:Aa},{path:"storage",component:mp},{path:"settings",component:ap},{path:"about",component:np},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class ud{}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275mod=Dt({type:ud}),ud.\u0275inj=_r({imports:[Sm.forChild(O5),Sm]});class dd{}dd.\u0275fac=function(e){return new(e||dd)},dd.\u0275mod=Dt({type:dd}),dd.\u0275inj=_r({imports:[Nl,_a,bc,ud,ed,td,nd,rd,Ju]});class Uc extends xE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}Uc.\u0275fac=function(){let n;return function(t){return(n||(n=ei(Uc)))(t||Uc)}}(),Uc.\u0275prov=ht({token:Uc,factory:Uc.\u0275fac});const N5=[{path:"install",component:Xu,canActivate:[Oc]},{path:"import",component:Xu,canActivate:[Oc]},{path:"",component:Nc}];class fd{}fd.\u0275fac=function(e){return new(e||fd)},fd.\u0275mod=Dt({type:fd}),fd.\u0275inj=_r({providers:[{provide:ya,useClass:Uc}],imports:[Sm.forRoot(N5,{preloadingStrategy:RB,useHash:!0}),dd,Sm]});const BT=["touch","click","keydown"];class pd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,ge.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{BT.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};BT.forEach(r=>window.addEventListener(r,t,!0))})()}}pd.\u0275fac=function(e){return new(e||pd)(J(Zo),J(Kl))},pd.\u0275prov=ht({token:pd,factory:pd.\u0275fac,providedIn:"root"});class hd{constructor(e,t,r,o,i,s,a){}}hd.\u0275fac=function(e){return new(e||hd)(J(Qn),J(Ui),J(Kl),J(Ta),J(Zo),J(Fc),J(pd))},hd.\u0275mod=Dt({type:hd,bootstrap:[tp]}),hd.\u0275inj=_r({providers:[{provide:KI,useClass:class AU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:hc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Zo]}],imports:[AL,Nl.forRoot(),fd,QH.register("ngsw-worker.js",{enabled:!0}),Xv.forRoot({loader:U_,markedOptions:{provide:ZM,useFactory:()=>{const n=new qu;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),u3]}),window.global=window,function UL(){Nh=ED("#/install?"),Lh=ED("#/import?")}(),function bj(){return!!localStorage.getItem(Fm)}()&&!DD()||function jL(){return void 0!==Nh}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),kL().bootstrapModule(hd).catch(n=>console.log(n))},3272:$e=>{var x,We=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,ee,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(l,h){re=l,ee=h});var j,Pe,Le,z=Object.assign({},c),X=[],L="./this.program",V=(l,h)=>{throw h},ce="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Y&&(Le=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Pe=(l,h,v)=>{var T=new XMLHttpRequest;T.open("GET",l,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?h(T.response):v()},T.onerror=v,T.send(null)});var de,G=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,z),z=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(de=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var ue,le,at=!1;function be(l,h){l||lr(h)}var je,Qe,yt,O,me,rt,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(l,h,v){for(var T=h+v,U=h;l[U]&&!(U>=T);)++U;if(U-h>16&&l.buffer&&De)return De.decode(l.subarray(h,U));for(var ve="";h<U;){var Me=l[h++];if(128&Me){var He=63&l[h++];if(192!=(224&Me)){var _t=63&l[h++];if((Me=224==(240&Me)?(15&Me)<<12|He<<6|_t:(7&Me)<<18|He<<12|_t<<6|63&l[h++])<65536)ve+=String.fromCharCode(Me);else{var nn=Me-65536;ve+=String.fromCharCode(55296|nn>>10,56320|1023&nn)}}else ve+=String.fromCharCode((31&Me)<<6|He)}else ve+=String.fromCharCode(Me)}return ve}function Be(l,h){return l?Xe(yt,l,h):""}function Te(l,h,v,T){if(!(T>0))return 0;for(var U=v,ve=v+T-1,Me=0;Me<l.length;++Me){var He=l.charCodeAt(Me);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&l.charCodeAt(++Me)),He<=127){if(v>=ve)break;h[v++]=He}else if(He<=2047){if(v+1>=ve)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=ve)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=ve)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-U}function ne(l){for(var h=0,v=0;v<l.length;++v){var T=l.charCodeAt(v);T<=127?h++:T<=2047?h+=2:T>=55296&&T<=57343?(h+=4,++v):h+=3}return h}function Ue(l){je=l,c.HEAP8=Qe=new Int8Array(l),c.HEAP16=new Int16Array(l),c.HEAP32=O=new Int32Array(l),c.HEAPU8=yt=new Uint8Array(l),c.HEAPU16=new Uint16Array(l),c.HEAPU32=me=new Uint32Array(l),c.HEAPF32=new Float32Array(l),c.HEAPF64=rt=new Float64Array(l)}var ye,hn,pt=[],xe=[],Tt=[],an=[],kn=0,uo=null,Vn=null;function Hr(l){kn++,c.monitorRunDependencies&&c.monitorRunDependencies(kn)}function Ar(l){if(kn--,c.monitorRunDependencies&&c.monitorRunDependencies(kn),0==kn&&(null!==uo&&(clearInterval(uo),uo=null),Vn)){var h=Vn;Vn=null,h()}}function lr(l){c.onAbort&&c.onAbort(l),K(l="Aborted("+l+")"),at=!0,le=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw ee(h),h}function no(l){return l.startsWith("data:application/octet-stream;base64,")}function Yr(l){try{if(l==hn&&de)return new Uint8Array(de);if(Le)return Le(l);throw"both async and sync fetching of the wasm failed"}catch(h){lr(h)}}no(hn="cloudpilot_web.wasm")||(hn=function $(l){return c.locateFile?c.locateFile(l,B):B+l}(hn));var ct,ae,Ge={243812:l=>{ye.grow(65536);for(let h=0;h<=65535;h++)ye.set(ye.length-65535-1+h,ye.get(me[(l>>>2)+h]));return ye.length-65535-1}};function Ln(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function qt(l){for(;l.length>0;)l.shift()(c)}function gr(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var Jt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,T=l.length-1;T>=0;T--){var U=l[T];"."===U?l.splice(T,1):".."===U?(l.splice(T,1),v++):v&&(l.splice(T,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=Jt.isAbs(l),v="/"===l.substr(-1);return!(l=Jt.normalizeArray(l.split("/").filter(T=>!!T),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=Jt.splitPath(l),v=h[0],T=h[1];return v||T?(T&&(T=T.substr(0,T.length-1)),v+T):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=Jt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Jt.normalize(l.join("/"))},join2:(l,h)=>Jt.normalize(l+"/"+h)},tr={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var T=v>=0?arguments[v]:D.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";l=T+"/"+l,h=Jt.isAbs(T)}return(h?"/":"")+(l=Jt.normalizeArray(l.split("/").filter(U=>!!U),!h).join("/"))||"."},relative:(l,h)=>{function v(nn){for(var Bn=0;Bn<nn.length&&""===nn[Bn];Bn++);for(var jn=nn.length-1;jn>=0&&""===nn[jn];jn--);return Bn>jn?[]:nn.slice(Bn,jn-Bn+1)}l=tr.resolve(l).substr(1),h=tr.resolve(h).substr(1);for(var T=v(l.split("/")),U=v(h.split("/")),ve=Math.min(T.length,U.length),Me=ve,He=0;He<ve;He++)if(T[He]!==U[He]){Me=He;break}var _t=[];for(He=Me;He<T.length;He++)_t.push("..");return(_t=_t.concat(U.slice(Me))).join("/")}};function ln(l,h,v){var T=v>0?v:ne(l)+1,U=new Array(T),ve=Te(l,U,0,U.length);return h&&(U.length=ve),U}var zt={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){zt.ttys[l]={input:[],output:[],ops:h},D.registerDevice(l,zt.stream_ops)},stream_ops:{open:function(l){var h=zt.ttys[l.node.rdev];if(!h)throw new D.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,T,U){if(!l.tty||!l.tty.ops.get_char)throw new D.ErrnoError(60);for(var ve=0,Me=0;Me<T;Me++){var He;try{He=l.tty.ops.get_char(l.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===ve)throw new D.ErrnoError(6);if(null==He)break;ve++,h[v+Me]=He}return ve&&(l.node.timestamp=Date.now()),ve},write:function(l,h,v,T,U){if(!l.tty||!l.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var ve=0;ve<T;ve++)l.tty.ops.put_char(l.tty,h[v+ve])}catch{throw new D.ErrnoError(29)}return T&&(l.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=ln(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(G(Xe(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(G(Xe(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(K(Xe(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(K(Xe(l.output,0)),l.output=[])}}};function E(l){lr()}var S={ops_table:null,mount:function(l){return S.createNode(null,"/",16895,0)},createNode:function(l,h,v,T){if(D.isBlkdev(v)||D.isFIFO(v))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var U=D.createNode(l,h,v,T);return D.isDir(U.mode)?(U.node_ops=S.ops_table.dir.node,U.stream_ops=S.ops_table.dir.stream,U.contents={}):D.isFile(U.mode)?(U.node_ops=S.ops_table.file.node,U.stream_ops=S.ops_table.file.stream,U.usedBytes=0,U.contents=null):D.isLink(U.mode)?(U.node_ops=S.ops_table.link.node,U.stream_ops=S.ops_table.link.stream):D.isChrdev(U.mode)&&(U.node_ops=S.ops_table.chrdev.node,U.stream_ops=S.ops_table.chrdev.stream),U.timestamp=Date.now(),l&&(l.contents[h]=U,l.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var U=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(U.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=D.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=D.isDir(l.mode)?4096:D.isFile(l.mode)?l.usedBytes:D.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&S.resizeFileStorage(l,h.size)},lookup:function(l,h){throw D.genericErrors[44]},mknod:function(l,h,v,T){return S.createNode(l,h,v,T)},rename:function(l,h,v){if(D.isDir(l.mode)){var T;try{T=D.lookupNode(h,v)}catch{}if(T)for(var U in T.contents)throw new D.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=D.lookupNode(l,h);for(var T in v.contents)throw new D.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)l.contents.hasOwnProperty(v)&&h.push(v);return h},symlink:function(l,h,v){var T=S.createNode(l,h,41471,0);return T.link=v,T},readlink:function(l){if(!D.isLink(l.mode))throw new D.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,T,U){var ve=l.node.contents;if(U>=l.node.usedBytes)return 0;var Me=Math.min(l.node.usedBytes-U,T);if(Me>8&&ve.subarray)h.set(ve.subarray(U,U+Me),v);else for(var He=0;He<Me;He++)h[v+He]=ve[U+He];return Me},write:function(l,h,v,T,U,ve){if(h.buffer===Qe.buffer&&(ve=!1),!T)return 0;var Me=l.node;if(Me.timestamp=Date.now(),h.subarray&&(!Me.contents||Me.contents.subarray)){if(ve)return Me.contents=h.subarray(v,v+T),Me.usedBytes=T,T;if(0===Me.usedBytes&&0===U)return Me.contents=h.slice(v,v+T),Me.usedBytes=T,T;if(U+T<=Me.usedBytes)return Me.contents.set(h.subarray(v,v+T),U),T}if(S.expandFileStorage(Me,U+T),Me.contents.subarray&&h.subarray)Me.contents.set(h.subarray(v,v+T),U);else for(var He=0;He<T;He++)Me.contents[U+He]=h[v+He];return Me.usedBytes=Math.max(Me.usedBytes,U+T),T},llseek:function(l,h,v){var T=h;if(1===v?T+=l.position:2===v&&D.isFile(l.node.mode)&&(T+=l.node.usedBytes),T<0)throw new D.ErrnoError(28);return T},allocate:function(l,h,v){S.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,T,U){if(!D.isFile(l.node.mode))throw new D.ErrnoError(43);var ve,Me,He=l.node.contents;if(2&U||He.buffer!==je){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),Me=!0,!(ve=E()))throw new D.ErrnoError(48);Qe.set(He,ve)}else Me=!1,ve=He.byteOffset;return{ptr:ve,allocated:Me}},msync:function(l,h,v,T,U){return S.stream_ops.write(l,h,0,T,v,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=tr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new D.ErrnoError(32);for(var T=l.split("/").filter(jn=>!!jn),U=D.root,ve="/",Me=0;Me<T.length;Me++){var He=Me===T.length-1;if(He&&h.parent)break;if(U=D.lookupNode(U,T[Me]),ve=Jt.join2(ve,T[Me]),D.isMountpoint(U)&&(!He||He&&h.follow_mount)&&(U=U.mounted.root),!He||h.follow)for(var _t=0;D.isLink(U.mode);){var nn=D.readlink(ve);if(ve=tr.resolve(Jt.dirname(ve),nn),U=D.lookupPath(ve,{recurse_count:h.recurse_count+1}).node,_t++>40)throw new D.ErrnoError(32)}}return{path:ve,node:U}},getPath:l=>{for(var h;;){if(D.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,T=0;T<h.length;T++)v=(v<<5)-v+h.charCodeAt(T)|0;return(l+v>>>0)%D.nameTable.length},hashAddNode:l=>{var h=D.hashName(l.parent.id,l.name);l.name_next=D.nameTable[h],D.nameTable[h]=l},hashRemoveNode:l=>{var h=D.hashName(l.parent.id,l.name);if(D.nameTable[h]===l)D.nameTable[h]=l.name_next;else for(var v=D.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=D.mayLookup(l);if(v)throw new D.ErrnoError(v,l);for(var T=D.hashName(l.id,h),U=D.nameTable[T];U;U=U.name_next)if(U.parent.id===l.id&&U.name===h)return U;return D.lookup(l,h)},createNode:(l,h,v,T)=>{var U=new D.FSNode(l,h,v,T);return D.hashAddNode(U),U},destroyNode:l=>{D.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=D.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>D.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>D.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return D.lookupNode(l,h),20}catch{}return D.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var T;try{T=D.lookupNode(l,h)}catch(ve){return ve.errno}var U=D.nodePermissions(l,"wx");if(U)return U;if(v){if(!D.isDir(T.mode))return 54;if(D.isRoot(T)||D.getPath(T)===D.cwd())return 10}else if(D.isDir(T.mode))return 31;return 0},mayOpen:(l,h)=>l?D.isLink(l.mode)?32:D.isDir(l.mode)&&("r"!==D.flagsToPermissionString(h)||512&h)?31:D.nodePermissions(l,D.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=D.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!D.streams[v])return v;throw new D.ErrnoError(33)},getStream:l=>D.streams[l],createStream:(l,h,v)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),l=Object.assign(new D.FSStream,l);var T=D.nextfd(h,v);return l.fd=T,D.streams[T]=l,l},closeStream:l=>{D.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=D.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new D.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{D.devices[l]={stream_ops:h}},getDevice:l=>D.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var T=v.pop();h.push(T),v.push.apply(v,T.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),D.syncFSRequests++,D.syncFSRequests>1&&K("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=D.getMounts(D.root.mount),T=0;function U(Me){return D.syncFSRequests--,h(Me)}function ve(Me){if(Me)return ve.errored?void 0:(ve.errored=!0,U(Me));++T>=v.length&&U(null)}v.forEach(Me=>{if(!Me.type.syncfs)return ve(null);Me.type.syncfs(Me,l,ve)})},mount:(l,h,v)=>{var ve,T="/"===v,U=!v;if(T&&D.root)throw new D.ErrnoError(10);if(!T&&!U){var Me=D.lookupPath(v,{follow_mount:!1});if(v=Me.path,D.isMountpoint(ve=Me.node))throw new D.ErrnoError(10);if(!D.isDir(ve.mode))throw new D.ErrnoError(54)}var He={type:l,opts:h,mountpoint:v,mounts:[]},_t=l.mount(He);return _t.mount=He,He.root=_t,T?D.root=_t:ve&&(ve.mounted=He,ve.mount&&ve.mount.mounts.push(He)),_t},unmount:l=>{var h=D.lookupPath(l,{follow_mount:!1});if(!D.isMountpoint(h.node))throw new D.ErrnoError(28);var v=h.node,T=v.mounted,U=D.getMounts(T);Object.keys(D.nameTable).forEach(Me=>{for(var He=D.nameTable[Me];He;){var _t=He.name_next;U.includes(He.mount)&&D.destroyNode(He),He=_t}}),v.mounted=null;var ve=v.mount.mounts.indexOf(T);v.mount.mounts.splice(ve,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var U=D.lookupPath(l,{parent:!0}).node,ve=Jt.basename(l);if(!ve||"."===ve||".."===ve)throw new D.ErrnoError(28);var Me=D.mayCreate(U,ve);if(Me)throw new D.ErrnoError(Me);if(!U.node_ops.mknod)throw new D.ErrnoError(63);return U.node_ops.mknod(U,ve,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,D.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,D.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),T="",U=0;U<v.length;++U)if(v[U]){T+="/"+v[U];try{D.mkdir(T,h)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),D.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!tr.resolve(l))throw new D.ErrnoError(44);var T=D.lookupPath(h,{parent:!0}).node;if(!T)throw new D.ErrnoError(44);var U=Jt.basename(h),ve=D.mayCreate(T,U);if(ve)throw new D.ErrnoError(ve);if(!T.node_ops.symlink)throw new D.ErrnoError(63);return T.node_ops.symlink(T,U,l)},rename:(l,h)=>{var He,_t,v=Jt.dirname(l),T=Jt.dirname(h),U=Jt.basename(l),ve=Jt.basename(h);if(He=D.lookupPath(l,{parent:!0}).node,_t=D.lookupPath(h,{parent:!0}).node,!He||!_t)throw new D.ErrnoError(44);if(He.mount!==_t.mount)throw new D.ErrnoError(75);var jn,nn=D.lookupNode(He,U),Bn=tr.relative(l,T);if("."!==Bn.charAt(0))throw new D.ErrnoError(28);if("."!==(Bn=tr.relative(h,v)).charAt(0))throw new D.ErrnoError(55);try{jn=D.lookupNode(_t,ve)}catch{}if(nn!==jn){var Yt=D.isDir(nn.mode),pn=D.mayDelete(He,U,Yt);if(pn)throw new D.ErrnoError(pn);if(pn=jn?D.mayDelete(_t,ve,Yt):D.mayCreate(_t,ve))throw new D.ErrnoError(pn);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(nn)||jn&&D.isMountpoint(jn))throw new D.ErrnoError(10);if(_t!==He&&(pn=D.nodePermissions(He,"w")))throw new D.ErrnoError(pn);D.hashRemoveNode(nn);try{He.node_ops.rename(nn,_t,ve)}catch(Zn){throw Zn}finally{D.hashAddNode(nn)}}},rmdir:l=>{var v=D.lookupPath(l,{parent:!0}).node,T=Jt.basename(l),U=D.lookupNode(v,T),ve=D.mayDelete(v,T,!0);if(ve)throw new D.ErrnoError(ve);if(!v.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);v.node_ops.rmdir(v,T),D.destroyNode(U)},readdir:l=>{var v=D.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new D.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=D.lookupPath(l,{parent:!0}).node;if(!v)throw new D.ErrnoError(44);var T=Jt.basename(l),U=D.lookupNode(v,T),ve=D.mayDelete(v,T,!1);if(ve)throw new D.ErrnoError(ve);if(!v.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);v.node_ops.unlink(v,T),D.destroyNode(U)},readlink:l=>{var v=D.lookupPath(l).node;if(!v)throw new D.ErrnoError(44);if(!v.node_ops.readlink)throw new D.ErrnoError(28);return tr.resolve(D.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var T=D.lookupPath(l,{follow:!h}).node;if(!T)throw new D.ErrnoError(44);if(!T.node_ops.getattr)throw new D.ErrnoError(63);return T.node_ops.getattr(T)},lstat:l=>D.stat(l,!0),chmod:(l,h,v)=>{var T;if(!(T="string"==typeof l?D.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new D.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&h|-4096&T.mode,timestamp:Date.now()})},lchmod:(l,h)=>{D.chmod(l,h,!0)},fchmod:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);D.chmod(v.node,h)},chown:(l,h,v,T)=>{var U;if(!(U="string"==typeof l?D.lookupPath(l,{follow:!T}).node:l).node_ops.setattr)throw new D.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(l,h,v)=>{D.chown(l,h,v,!0)},fchown:(l,h,v)=>{var T=D.getStream(l);if(!T)throw new D.ErrnoError(8);D.chown(T.node,h,v)},truncate:(l,h)=>{if(h<0)throw new D.ErrnoError(28);var v;if(!(v="string"==typeof l?D.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(v.mode))throw new D.ErrnoError(31);if(!D.isFile(v.mode))throw new D.ErrnoError(28);var U=D.nodePermissions(v,"w");if(U)throw new D.ErrnoError(U);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);if(!(2097155&v.flags))throw new D.ErrnoError(28);D.truncate(v.node,h)},utime:(l,h,v)=>{var U=D.lookupPath(l,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new D.ErrnoError(44);var T;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?D.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)T=l;else{l=Jt.normalize(l);try{T=D.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var ve=!1;if(64&h)if(T){if(128&h)throw new D.ErrnoError(20)}else T=D.mknod(l,v,0),ve=!0;if(!T)throw new D.ErrnoError(44);if(D.isChrdev(T.mode)&&(h&=-513),65536&h&&!D.isDir(T.mode))throw new D.ErrnoError(54);if(!ve){var Me=D.mayOpen(T,h);if(Me)throw new D.ErrnoError(Me)}512&h&&!ve&&D.truncate(T,0),h&=-131713;var He=D.createStream({node:T,path:D.getPath(T),flags:h,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),c.logReadFiles&&!(1&h)&&(D.readFiles||(D.readFiles={}),l in D.readFiles||(D.readFiles[l]=1)),He},close:l=>{if(D.isClosed(l))throw new D.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{D.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new D.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,T,U)=>{if(T<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(1==(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.read)throw new D.ErrnoError(28);var ve=typeof U<"u";if(ve){if(!l.seekable)throw new D.ErrnoError(70)}else U=l.position;var Me=l.stream_ops.read(l,h,v,T,U);return ve||(l.position+=Me),Me},write:(l,h,v,T,U,ve)=>{if(T<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.write)throw new D.ErrnoError(28);l.seekable&&1024&l.flags&&D.llseek(l,0,2);var Me=typeof U<"u";if(Me){if(!l.seekable)throw new D.ErrnoError(70)}else U=l.position;var He=l.stream_ops.write(l,h,v,T,U,ve);return Me||(l.position+=He),He},allocate:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(h<0||v<=0)throw new D.ErrnoError(28);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(!D.isFile(l.node.mode)&&!D.isDir(l.node.mode))throw new D.ErrnoError(43);if(!l.stream_ops.allocate)throw new D.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,T,U)=>{if(2&T&&!(2&U)&&2!=(2097155&l.flags))throw new D.ErrnoError(2);if(1==(2097155&l.flags))throw new D.ErrnoError(2);if(!l.stream_ops.mmap)throw new D.ErrnoError(43);return l.stream_ops.mmap(l,h,v,T,U)},msync:(l,h,v,T,U)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,T,U):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new D.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,T=D.open(l,h.flags),ve=D.stat(l).size,Me=new Uint8Array(ve);return D.read(T,Me,0,ve,0),"utf8"===h.encoding?v=Xe(Me,0):"binary"===h.encoding&&(v=Me),D.close(T),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var T=D.open(l,v.flags,v.mode);if("string"==typeof h){var U=new Uint8Array(ne(h)+1),ve=Te(h,U,0,U.length);D.write(T,U,0,ve,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");D.write(T,h,0,h.byteLength,void 0,v.canOwn)}D.close(T)},cwd:()=>D.currentPath,chdir:l=>{var h=D.lookupPath(l,{follow:!0});if(null===h.node)throw new D.ErrnoError(44);if(!D.isDir(h.node.mode))throw new D.ErrnoError(54);var v=D.nodePermissions(h.node,"x");if(v)throw new D.ErrnoError(v);D.currentPath=h.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(h,v,T,U,ve)=>U}),D.mkdev("/dev/null",D.makedev(1,3)),zt.register(D.makedev(5,0),zt.default_tty_ops),zt.register(D.makedev(6,0),zt.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var l=function er(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>lr("randomDevice")}();D.createDevice("/dev","random",l),D.createDevice("/dev","urandom",l),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var l=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var h=D.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,T)=>{var ve=D.getStream(+T);if(!ve)throw new D.ErrnoError(8);var Me={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return Me.parent=Me,Me}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?D.createDevice("/dev","stdin",c.stdin):D.symlink("/dev/tty","/dev/stdin"),c.stdout?D.createDevice("/dev","stdout",null,c.stdout):D.symlink("/dev/tty","/dev/stdout"),c.stderr?D.createDevice("/dev","stderr",null,c.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(h,v){this.node=v,this.setErrno=function(T){this.errno=T},this.setErrno(h),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(l=>{D.genericErrors[l]=new D.ErrnoError(l),D.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(l,h,v)=>{D.init.initialized=!0,D.ensureErrnoError(),c.stdin=l||c.stdin,c.stdout=h||c.stdout,c.stderr=v||c.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var l=0;l<D.streams.length;l++){var h=D.streams[l];h&&D.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=D.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=D.lookupPath(l,{follow:!h})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=D.lookupPath(l,{parent:!0});T.parentExists=!0,T.parentPath=v.path,T.parentObject=v.node,T.name=Jt.basename(l),v=D.lookupPath(l,{follow:!h}),T.exists=!0,T.path=v.path,T.object=v.node,T.name=v.node.name,T.isRoot="/"===v.path}catch(U){T.error=U.errno}return T},createPath:(l,h,v,T)=>{l="string"==typeof l?l:D.getPath(l);for(var U=h.split("/").reverse();U.length;){var ve=U.pop();if(ve){var Me=Jt.join2(l,ve);try{D.mkdir(Me)}catch{}l=Me}}return Me},createFile:(l,h,v,T,U)=>{var ve=Jt.join2("string"==typeof l?l:D.getPath(l),h),Me=D.getMode(T,U);return D.create(ve,Me)},createDataFile:(l,h,v,T,U,ve)=>{var Me=h;l&&(l="string"==typeof l?l:D.getPath(l),Me=h?Jt.join2(l,h):l);var He=D.getMode(T,U),_t=D.create(Me,He);if(v){if("string"==typeof v){for(var nn=new Array(v.length),Bn=0,jn=v.length;Bn<jn;++Bn)nn[Bn]=v.charCodeAt(Bn);v=nn}D.chmod(_t,146|He);var Yt=D.open(_t,577);D.write(Yt,v,0,v.length,0,ve),D.close(Yt),D.chmod(_t,He)}return _t},createDevice:(l,h,v,T)=>{var U=Jt.join2("string"==typeof l?l:D.getPath(l),h),ve=D.getMode(!!v,!!T);D.createDevice.major||(D.createDevice.major=64);var Me=D.makedev(D.createDevice.major++,0);return D.registerDevice(Me,{open:He=>{He.seekable=!1},close:He=>{T&&T.buffer&&T.buffer.length&&T(10)},read:(He,_t,nn,Bn,jn)=>{for(var Yt=0,pn=0;pn<Bn;pn++){var Zn;try{Zn=v()}catch{throw new D.ErrnoError(29)}if(void 0===Zn&&0===Yt)throw new D.ErrnoError(6);if(null==Zn)break;Yt++,_t[nn+pn]=Zn}return Yt&&(He.node.timestamp=Date.now()),Yt},write:(He,_t,nn,Bn,jn)=>{for(var Yt=0;Yt<Bn;Yt++)try{T(_t[nn+Yt])}catch{throw new D.ErrnoError(29)}return Bn&&(He.node.timestamp=Date.now()),Yt}}),D.mkdev(U,ve,Me)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=ln(j(l.url),!0),l.usedBytes=l.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(l,h,v,T,U)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(pn){if(!(pn>this.length-1||pn<0)){var Zn=pn%this.chunkSize;return this.getter(pn/this.chunkSize|0)[Zn]}},ve.prototype.setDataGetter=function(pn){this.getter=pn},ve.prototype.cacheLength=function(){var pn=new XMLHttpRequest;if(pn.open("HEAD",v,!1),pn.send(null),!(pn.status>=200&&pn.status<300||304===pn.status))throw new Error("Couldn't load "+v+". Status: "+pn.status);var ho,Zn=Number(pn.getResponseHeader("Content-length")),Xi=(ho=pn.getResponseHeader("Accept-Ranges"))&&"bytes"===ho,jo=(ho=pn.getResponseHeader("Content-Encoding"))&&"gzip"===ho,vt=1048576;Xi||(vt=Zn);var mo=this;mo.setDataGetter(Rr=>{var Qi=Rr*vt,so=(Rr+1)*vt-1;if(so=Math.min(so,Zn-1),typeof mo.chunks[Rr]>"u"&&(mo.chunks[Rr]=((Rr,Qi)=>{if(Rr>Qi)throw new Error("invalid range ("+Rr+", "+Qi+") or no bytes requested!");if(Qi>Zn-1)throw new Error("only "+Zn+" bytes available! programmer error!");var so=new XMLHttpRequest;if(so.open("GET",v,!1),Zn!==vt&&so.setRequestHeader("Range","bytes="+Rr+"-"+Qi),so.responseType="arraybuffer",so.overrideMimeType&&so.overrideMimeType("text/plain; charset=x-user-defined"),so.send(null),!(so.status>=200&&so.status<300||304===so.status))throw new Error("Couldn't load "+v+". Status: "+so.status);return void 0!==so.response?new Uint8Array(so.response||[]):ln(so.responseText||"",!0)})(Qi,so)),typeof mo.chunks[Rr]>"u")throw new Error("doXHR failed!");return mo.chunks[Rr]}),(jo||!Zn)&&(vt=Zn=1,Zn=this.getter(0).length,vt=Zn,G("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Zn,this._chunkSize=vt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Me=new ve;Object.defineProperties(Me,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Me}}else He={isDevice:!1,url:v};var _t=D.createFile(l,h,He,T,U);He.contents?_t.contents=He.contents:He.url&&(_t.contents=null,_t.url=He.url),Object.defineProperties(_t,{usedBytes:{get:function(){return this.contents.length}}});var nn={};function jn(Yt,pn,Zn,ho,Xi){var jo=Yt.node.contents;if(Xi>=jo.length)return 0;var vt=Math.min(jo.length-Xi,ho);if(jo.slice)for(var mn=0;mn<vt;mn++)pn[Zn+mn]=jo[Xi+mn];else for(mn=0;mn<vt;mn++)pn[Zn+mn]=jo.get(Xi+mn);return vt}return Object.keys(_t.stream_ops).forEach(Yt=>{var pn=_t.stream_ops[Yt];nn[Yt]=function(){return D.forceLoadFile(_t),pn.apply(null,arguments)}}),nn.read=(Yt,pn,Zn,ho,Xi)=>(D.forceLoadFile(_t),jn(Yt,pn,Zn,ho,Xi)),nn.mmap=(Yt,pn,Zn,ho,Xi)=>{D.forceLoadFile(_t);var jo=E();if(!jo)throw new D.ErrnoError(48);return jn(Yt,Qe,jo,pn,Zn),{ptr:jo,allocated:!0}},_t.stream_ops=nn,_t},createPreloadedFile:(l,h,v,T,U,ve,Me,He,_t,nn)=>{var Bn=h?tr.resolve(Jt.join2(l,h)):l;function Yt(pn){function Zn(ho){nn&&nn(),He||D.createDataFile(l,h,ho,T,U,_t),ve&&ve(),Ar()}Browser.handledByPreloadPlugin(pn,Bn,Zn,()=>{Me&&Me(),Ar()})||Zn(pn)}Hr(),"string"==typeof v?function Yn(l,h,v,T){var U=T?"":"al "+l;Pe(l,ve=>{be(ve,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(ve)),U&&Ar()},ve=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),U&&Hr()}(v,pn=>Yt(pn),Me):Yt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var T=D.indexedDB();try{var U=T.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return v(ve)}U.onupgradeneeded=()=>{G("creating db"),U.result.createObjectStore(D.DB_STORE_NAME)},U.onsuccess=()=>{var Me=U.result.transaction([D.DB_STORE_NAME],"readwrite"),He=Me.objectStore(D.DB_STORE_NAME),_t=0,nn=0,Bn=l.length;function jn(){0==nn?h():v()}l.forEach(Yt=>{var pn=He.put(D.analyzePath(Yt).object.contents,Yt);pn.onsuccess=()=>{++_t+nn==Bn&&jn()},pn.onerror=()=>{nn++,_t+nn==Bn&&jn()}}),Me.onerror=v},U.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var T=D.indexedDB();try{var U=T.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return v(ve)}U.onupgradeneeded=v,U.onsuccess=()=>{var ve=U.result;try{var Me=ve.transaction([D.DB_STORE_NAME],"readonly")}catch(Yt){return void v(Yt)}var He=Me.objectStore(D.DB_STORE_NAME),_t=0,nn=0,Bn=l.length;function jn(){0==nn?h():v()}l.forEach(Yt=>{var pn=He.get(Yt);pn.onsuccess=()=>{D.analyzePath(Yt).exists&&D.unlink(Yt),D.createDataFile(Jt.dirname(Yt),Jt.basename(Yt),pn.result,!0,!0,!0),++_t+nn==Bn&&jn()},pn.onerror=()=>{nn++,_t+nn==Bn&&jn()}}),Me.onerror=v},U.onerror=v}},Rn={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(Jt.isAbs(h))return h;var T;if(T=-100===l?D.cwd():Rn.getStreamFromFD(l).path,0==h.length){if(!v)throw new D.ErrnoError(44);return T}return Jt.join2(T,h)},doStat:function(l,h,v){try{var T=l(h)}catch(U){if(U&&U.node&&Jt.normalize(h)!==Jt.normalize(D.getPath(U.node)))return-54;throw U}return O[v>>2]=T.dev,O[v+8>>2]=T.ino,O[v+12>>2]=T.mode,me[v+16>>2]=T.nlink,O[v+20>>2]=T.uid,O[v+24>>2]=T.gid,O[v+28>>2]=T.rdev,ae=[T.size>>>0,(ct=T.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+40>>2]=ae[0],O[v+44>>2]=ae[1],O[v+48>>2]=4096,O[v+52>>2]=T.blocks,ae=[Math.floor(T.atime.getTime()/1e3)>>>0,(ct=Math.floor(T.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+56>>2]=ae[0],O[v+60>>2]=ae[1],me[v+64>>2]=0,ae=[Math.floor(T.mtime.getTime()/1e3)>>>0,(ct=Math.floor(T.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+72>>2]=ae[0],O[v+76>>2]=ae[1],me[v+80>>2]=0,ae=[Math.floor(T.ctime.getTime()/1e3)>>>0,(ct=Math.floor(T.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+88>>2]=ae[0],O[v+92>>2]=ae[1],me[v+96>>2]=0,ae=[T.ino>>>0,(ct=T.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+104>>2]=ae[0],O[v+108>>2]=ae[1],0},doMsync:function(l,h,v,T,U){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);if(2&T)return 0;var ve=yt.slice(l,l+v);D.msync(h,ve,U,v,T)},varargs:void 0,get:function(){return Rn.varargs+=4,O[Rn.varargs-4>>2]},getStr:function(l){return Be(l)},getStreamFromFD:function(l){var h=D.getStream(l);if(!h)throw new D.ErrnoError(8);return h}};function No(l){return l%4==0&&(l%100!=0||l%400==0)}var vi=[0,31,60,91,121,152,182,213,244,274,305,335],bi=[0,31,59,90,120,151,181,212,243,273,304,334];function ro(l){return(No(l.getFullYear())?vi:bi)[l.getMonth()]+l.getDate()-1}function $o(l){var h=ne(l)+1,v=Js(h);return v&&Te(l,Qe,v,h),v}var Ko=[];function zi(l){try{return ue.grow(l-je.byteLength+65535>>>16),Ue(ue.buffer),1}catch{}}var wi={};function ai(){if(!ai.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in wi)void 0===wi[v]?delete h[v]:h[v]=wi[v];var T=[];for(var v in h)T.push(v+"="+h[v]);ai.strings=T}return ai.strings}var he=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Gt(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Qr=[];function Io(l){var h=Qr[l];return h||(l>=Qr.length&&(Qr.length=l+1),Qr[l]=h=ye.get(l)),h}var Sr=void 0,Wi=[];function Pa(l,h){ye.set(l,h),Qr[l]=ye.get(l)}var Ra=function(l,h,v,T){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=D.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties(Ra.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=Ra,D.staticInit();var Ba,ll={b:function xt(l,h,v,T){lr("Assertion failed: "+Be(l)+", at: "+[h?Be(h):"unknown filename",v,T?Be(T):"unknown function"])},i:function An(l){const h=new Error(Be(l));throw h.isAssert=!0,h},k:function Oo(l,h,v){try{var T=gr(h,v);return isNaN(T)?-61:(D.ftruncate(l,T),0)}catch(U){if(typeof D>"u"||!(U instanceof D.ErrnoError))throw U;return-U.errno}},e:function vo(){return!0},f:function Lo(l,h){var v=new Date(1e3*function xi(l){return me[l>>2]+4294967296*O[l+4>>2]}(l));O[h>>2]=v.getSeconds(),O[h+4>>2]=v.getMinutes(),O[h+8>>2]=v.getHours(),O[h+12>>2]=v.getDate(),O[h+16>>2]=v.getMonth(),O[h+20>>2]=v.getFullYear()-1900,O[h+24>>2]=v.getDay();var T=0|ro(v);O[h+28>>2]=T,O[h+36>>2]=-60*v.getTimezoneOffset();var U=new Date(v.getFullYear(),0,1),ve=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Me=U.getTimezoneOffset(),He=0|(ve!=Me&&v.getTimezoneOffset()==Math.min(Me,ve));O[h+32>>2]=He},g:function yr(l){var h=new Date(O[l+20>>2]+1900,O[l+16>>2],O[l+12>>2],O[l+8>>2],O[l+4>>2],O[l>>2],0),v=O[l+32>>2],T=h.getTimezoneOffset(),U=new Date(h.getFullYear(),0,1),ve=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Me=U.getTimezoneOffset(),He=Math.min(Me,ve);if(v<0)O[l+32>>2]=Number(ve!=Me&&He==T);else if(v>0!=(He==T)){var _t=Math.max(Me,ve),nn=v>0?He:_t;h.setTime(h.getTime()+6e4*(nn-T))}O[l+24>>2]=h.getDay();var Bn=0|ro(h);return O[l+28>>2]=Bn,O[l>>2]=h.getSeconds(),O[l+4>>2]=h.getMinutes(),O[l+8>>2]=h.getHours(),O[l+12>>2]=h.getDate(),O[l+16>>2]=h.getMonth(),O[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function Xr(l,h,v){var T=(new Date).getFullYear(),U=new Date(T,0,1),ve=new Date(T,6,1),Me=U.getTimezoneOffset(),He=ve.getTimezoneOffset(),_t=Math.max(Me,He);function nn(Zn){var ho=Zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ho?ho[1]:"GMT"}me[l>>2]=60*_t,O[h>>2]=Number(Me!=He);var Bn=nn(U),jn=nn(ve),Yt=$o(Bn),pn=$o(jn);He<Me?(me[v>>2]=Yt,me[v+4>>2]=pn):(me[v>>2]=pn,me[v+4>>2]=Yt)},a:function si(){lr("")},s:function zr(l,h,v){var T=function bo(l,h){var v;for(Ko.length=0,h>>=2;v=yt[l++];)h+=105!=v&h,Ko.push(105==v?O[h]:rt[h++>>1]),++h;return Ko}(h,v);return Ge[l].apply(null,T)},c:function Hi(){return Date.now()},p:function Eo(l,h,v){yt.copyWithin(l,h,h+v)},o:function fo(l){var _t,h=yt.length,v=2147483648;if((l>>>=0)>v)return!1;for(var U=1;U<=4;U*=2){var ve=h*(1+.2/U);if(ve=Math.min(ve,l+100663296),zi(Math.min(v,(_t=Math.max(l,ve))+(65536-_t%65536)%65536)))return!0}return!1},m:function Ts(l,h){var v=0;return ai().forEach(function(T,U){var ve=h+v;me[l+4*U>>2]=ve,function Gi(l,h,v){for(var T=0;T<l.length;++T)Qe[h++>>0]=l.charCodeAt(T);v||(Qe[h>>0]=0)}(T,ve),v+=T.length+1}),0},n:function ks(l,h){var v=ai();me[l>>2]=v.length;var T=0;return v.forEach(function(U){T+=U.length+1}),me[h>>2]=T,0},q:function fr(l){try{var h=Rn.getStreamFromFD(l);return D.close(h),0}catch(v){if(typeof D>"u"||!(v instanceof D.ErrnoError))throw v;return v.errno}},d:function ps(l,h,v,T){try{var ve=function li(l,h,v,T){for(var U=0,ve=0;ve<v;ve++){var Me=me[h>>2],He=me[h+4>>2];h+=8;var _t=D.read(l,Qe,Me,He,T);if(_t<0)return-1;if(U+=_t,_t<He)break}return U}(Rn.getStreamFromFD(l),h,v);return me[T>>2]=ve,0}catch(Me){if(typeof D>"u"||!(Me instanceof D.ErrnoError))throw Me;return Me.errno}},j:function Pi(l,h,v,T,U){try{var ve=gr(h,v);if(isNaN(ve))return 61;var Me=Rn.getStreamFromFD(l);return D.llseek(Me,ve,T),ae=[Me.position>>>0,(ct=Me.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[U>>2]=ae[0],O[U+4>>2]=ae[1],Me.getdents&&0===ve&&0===T&&(Me.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function A(l,h,v,T){try{var ve=function nr(l,h,v,T){for(var U=0,ve=0;ve<v;ve++){var Me=me[h>>2],He=me[h+4>>2];h+=8;var _t=D.write(l,Qe,Me,He,T);if(_t<0)return-1;U+=_t}return U}(Rn.getStreamFromFD(l),h,v);return me[T>>2]=ve,0}catch(Me){if(typeof D>"u"||!(Me instanceof D.ErrnoError))throw Me;return Me.errno}},l:function Ie(l,h,v,T,U){return function fe(l,h,v,T){var U=O[T+40>>2],ve={tm_sec:O[T>>2],tm_min:O[T+4>>2],tm_hour:O[T+8>>2],tm_mday:O[T+12>>2],tm_mon:O[T+16>>2],tm_year:O[T+20>>2],tm_wday:O[T+24>>2],tm_yday:O[T+28>>2],tm_isdst:O[T+32>>2],tm_gmtoff:O[T+36>>2],tm_zone:U?Be(U):""},Me=Be(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _t in He)Me=Me.replace(new RegExp(_t,"g"),He[_t]);var nn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function jn(vt,mn,mo){for(var Rr="number"==typeof vt?vt.toString():vt||"";Rr.length<mn;)Rr=mo[0]+Rr;return Rr}function Yt(vt,mn){return jn(vt,mn,"0")}function pn(vt,mn){function mo(Qi){return Qi<0?-1:Qi>0?1:0}var Rr;return 0===(Rr=mo(vt.getFullYear()-mn.getFullYear()))&&0===(Rr=mo(vt.getMonth()-mn.getMonth()))&&(Rr=mo(vt.getDate()-mn.getDate())),Rr}function Zn(vt){switch(vt.getDay()){case 0:return new Date(vt.getFullYear()-1,11,29);case 1:return vt;case 2:return new Date(vt.getFullYear(),0,3);case 3:return new Date(vt.getFullYear(),0,2);case 4:return new Date(vt.getFullYear(),0,1);case 5:return new Date(vt.getFullYear()-1,11,31);case 6:return new Date(vt.getFullYear()-1,11,30)}}function ho(vt){var mn=function Oe(l,h){for(var v=new Date(l.getTime());h>0;){var T=No(v.getFullYear()),U=v.getMonth(),ve=(T?he:Se)[U];if(!(h>ve-v.getDate()))return v.setDate(v.getDate()+h),v;h-=ve-v.getDate()+1,v.setDate(1),U<11?v.setMonth(U+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(vt.tm_year+1900,0,1),vt.tm_yday),mo=new Date(mn.getFullYear(),0,4),Rr=new Date(mn.getFullYear()+1,0,4),Qi=Zn(mo),so=Zn(Rr);return pn(Qi,mn)<=0?pn(so,mn)<=0?mn.getFullYear()+1:mn.getFullYear():mn.getFullYear()-1}var Xi={"%a":function(vt){return nn[vt.tm_wday].substring(0,3)},"%A":function(vt){return nn[vt.tm_wday]},"%b":function(vt){return Bn[vt.tm_mon].substring(0,3)},"%B":function(vt){return Bn[vt.tm_mon]},"%C":function(vt){return Yt((vt.tm_year+1900)/100|0,2)},"%d":function(vt){return Yt(vt.tm_mday,2)},"%e":function(vt){return jn(vt.tm_mday,2," ")},"%g":function(vt){return ho(vt).toString().substring(2)},"%G":function(vt){return ho(vt)},"%H":function(vt){return Yt(vt.tm_hour,2)},"%I":function(vt){var mn=vt.tm_hour;return 0==mn?mn=12:mn>12&&(mn-=12),Yt(mn,2)},"%j":function(vt){return Yt(vt.tm_mday+function N(l,h){for(var v=0,T=0;T<=h;v+=l[T++]);return v}(No(vt.tm_year+1900)?he:Se,vt.tm_mon-1),3)},"%m":function(vt){return Yt(vt.tm_mon+1,2)},"%M":function(vt){return Yt(vt.tm_min,2)},"%n":function(){return"\n"},"%p":function(vt){return vt.tm_hour>=0&&vt.tm_hour<12?"AM":"PM"},"%S":function(vt){return Yt(vt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(vt){return vt.tm_wday||7},"%U":function(vt){return Yt(Math.floor((vt.tm_yday+7-vt.tm_wday)/7),2)},"%V":function(vt){var mn=Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7);if((vt.tm_wday+371-vt.tm_yday-2)%7<=2&&mn++,mn){if(53==mn){var Rr=(vt.tm_wday+371-vt.tm_yday)%7;4!=Rr&&(3!=Rr||!No(vt.tm_year))&&(mn=1)}}else{mn=52;var mo=(vt.tm_wday+7-vt.tm_yday-1)%7;(4==mo||5==mo&&No(vt.tm_year%400-1))&&mn++}return Yt(mn,2)},"%w":function(vt){return vt.tm_wday},"%W":function(vt){return Yt(Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7),2)},"%y":function(vt){return(vt.tm_year+1900).toString().substring(2)},"%Y":function(vt){return vt.tm_year+1900},"%z":function(vt){var mn=vt.tm_gmtoff,mo=mn>=0;return mn=(mn=Math.abs(mn)/60)/60*100+mn%60,(mo?"+":"-")+String("0000"+mn).slice(-4)},"%Z":function(vt){return vt.tm_zone},"%%":function(){return"%"}};for(var _t in Me=Me.replace(/%%/g,"\0\0"),Xi)Me.includes(_t)&&(Me=Me.replace(new RegExp(_t,"g"),Xi[_t](ve)));var jo=ln(Me=Me.replace(/\0\0/g,"%"),!1);return jo.length>h?0:(function R(l,h){Qe.set(l,h)}(jo,l),jo.length-1)}(l,h,v,T)}},Js=(function Lr(){var l={a:ll};function h(Me,He){c.asm=Me.exports,Ue((ue=c.asm.t).buffer),ye=c.asm.hc,function Kr(l){xe.unshift(l)}(c.asm.u),Ar()}function v(Me){h(Me.instance)}function T(Me){return function ji(){return de||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(hn)}):fetch(hn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+hn+"'";return l.arrayBuffer()}).catch(function(){return Yr(hn)})}().then(function(He){return WebAssembly.instantiate(He,l)}).then(function(He){return He}).then(Me,function(He){K("failed to asynchronously prepare wasm: "+He),lr(He)})}if(Hr(),c.instantiateWasm)try{return c.instantiateWasm(l,h)}catch(Me){K("Module.instantiateWasm callback failed with error: "+Me),ee(Me)}(function U(){return de||"function"!=typeof WebAssembly.instantiateStreaming||no(hn)||"function"!=typeof fetch?T(v):fetch(hn,{credentials:"same-origin"}).then(function(Me){return WebAssembly.instantiateStreaming(Me,l).then(v,function(_t){return K("wasm streaming compile failed: "+_t),K("falling back to ArrayBuffer instantiation"),T(v)})})})().catch(ee)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.u).apply(null,arguments)},c._malloc=function(){return(Js=c._malloc=c.asm.v).apply(null,arguments)}),Kn=(c._free=function(){return(c._free=c.asm.w).apply(null,arguments)},c._main=function(){return(c._main=c.asm.x).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Kn=c._emscripten_bind_VoidPtr___destroy___0=c.asm.y).apply(null,arguments)}),fl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(fl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=c.asm.z).apply(null,arguments)},pl=c._emscripten_bind_Cloudpilot_Malloc_1=function(){return(pl=c._emscripten_bind_Cloudpilot_Malloc_1=c.asm.A).apply(null,arguments)},Xl=c._emscripten_bind_Cloudpilot_Free_1=function(){return(Xl=c._emscripten_bind_Cloudpilot_Free_1=c.asm.B).apply(null,arguments)},ht=c._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(ht=c._emscripten_bind_Cloudpilot_Nullptr_0=c.asm.C).apply(null,arguments)},Vs=c._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Vs=c._emscripten_bind_Cloudpilot_InitializeSession_3=c.asm.D).apply(null,arguments)},_r=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(_r=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c.asm.E).apply(null,arguments)},hs=c._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(hs=c._emscripten_bind_Cloudpilot_RunEmulation_1=c.asm.F).apply(null,arguments)},ea=c._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(ea=c._emscripten_bind_Cloudpilot_SetClockFactor_1=c.asm.G).apply(null,arguments)},io=c._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(io=c._emscripten_bind_Cloudpilot_CopyFrame_0=c.asm.H).apply(null,arguments)},Zi=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(Zi=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=c.asm.I).apply(null,arguments)},Si=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Si=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=c.asm.J).apply(null,arguments)},ta=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(ta=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=c.asm.K).apply(null,arguments)},As=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(As=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=c.asm.L).apply(null,arguments)},Us=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Us=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=c.asm.M).apply(null,arguments)},na=c._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(na=c._emscripten_bind_Cloudpilot_QueuePenMove_2=c.asm.N).apply(null,arguments)},Fa=c._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(Fa=c._emscripten_bind_Cloudpilot_QueuePenUp_0=c.asm.O).apply(null,arguments)},Mt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Mt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=c.asm.P).apply(null,arguments)},js=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(js=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=c.asm.Q).apply(null,arguments)},po=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(po=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=c.asm.R).apply(null,arguments)},cr=c._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(cr=c._emscripten_bind_Cloudpilot_IsPowerOff_0=c.asm.S).apply(null,arguments)},Gr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Gr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=c.asm.T).apply(null,arguments)},xr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(xr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=c.asm.U).apply(null,arguments)},p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=c.asm.V).apply(null,arguments)},y=c._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=c._emscripten_bind_Cloudpilot_Reset_0=c.asm.W).apply(null,arguments)},b=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(b=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c.asm.X).apply(null,arguments)},F=c._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=c._emscripten_bind_Cloudpilot_ResetHard_0=c.asm.Y).apply(null,arguments)},H=c._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(H=c._emscripten_bind_Cloudpilot_InstallDb_2=c.asm.Z).apply(null,arguments)},_e=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(_e=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c.asm._).apply(null,arguments)},Ee=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(Ee=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c.asm.$).apply(null,arguments)},ze=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(ze=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c.asm.aa).apply(null,arguments)},St=c._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(St=c._emscripten_bind_Cloudpilot_GetMemorySize_0=c.asm.ba).apply(null,arguments)},cn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(cn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=c.asm.ca).apply(null,arguments)},xn=c._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(xn=c._emscripten_bind_Cloudpilot_GetRomPtr_0=c.asm.da).apply(null,arguments)},Tn=c._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(Tn=c._emscripten_bind_Cloudpilot_GetRomSize_0=c.asm.ea).apply(null,arguments)},Wt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(Wt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c.asm.fa).apply(null,arguments)},Ot=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Ot=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=c.asm.ga).apply(null,arguments)},J=c._emscripten_bind_Cloudpilot_SaveState_0=function(){return(J=c._emscripten_bind_Cloudpilot_SaveState_0=c.asm.ha).apply(null,arguments)},Hn=c._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Hn=c._emscripten_bind_Cloudpilot_LoadState_2=c.asm.ia).apply(null,arguments)},yn=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(yn=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=c.asm.ja).apply(null,arguments)},Wr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Wr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=c.asm.ka).apply(null,arguments)},mt=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(mt=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=c.asm.la).apply(null,arguments)},Kt=c._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Kt=c._emscripten_bind_Cloudpilot_StartBackup_0=c.asm.ma).apply(null,arguments)},Zr=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Zr=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=c.asm.na).apply(null,arguments)},tn=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(tn=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c.asm.oa).apply(null,arguments)},$r=c._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return($r=c._emscripten_bind_Cloudpilot_IsSuspended_0=c.asm.pa).apply(null,arguments)},Mn=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(Mn=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=c.asm.qa).apply(null,arguments)},sr=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(sr=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=c.asm.ra).apply(null,arguments)},_n=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(_n=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c.asm.sa).apply(null,arguments)},Jr=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Jr=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=c.asm.ta).apply(null,arguments)},Wn=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Wn=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=c.asm.ua).apply(null,arguments)},d=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(d=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=c.asm.va).apply(null,arguments)},g=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(g=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=c.asm.wa).apply(null,arguments)},w=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(w=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=c.asm.xa).apply(null,arguments)},P=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(P=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c.asm.ya).apply(null,arguments)},W=c._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(W=c._emscripten_bind_Cloudpilot_AllocateCard_2=c.asm.za).apply(null,arguments)},we=c._emscripten_bind_Cloudpilot_MountCard_1=function(){return(we=c._emscripten_bind_Cloudpilot_MountCard_1=c.asm.Aa).apply(null,arguments)},Ce=c._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Ce=c._emscripten_bind_Cloudpilot_RemoveCard_1=c.asm.Ba).apply(null,arguments)},Ve=c._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Ve=c._emscripten_bind_Cloudpilot_GetCardData_1=c.asm.Ca).apply(null,arguments)},Ct=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Ct=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=c.asm.Da).apply(null,arguments)},Re=c._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Re=c._emscripten_bind_Cloudpilot_GetCardSize_1=c.asm.Ea).apply(null,arguments)},Pn=c._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Pn=c._emscripten_bind_Cloudpilot_RemountCards_0=c.asm.Fa).apply(null,arguments)},zn=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(zn=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=c.asm.Ga).apply(null,arguments)},un=c._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(un=c._emscripten_bind_Cloudpilot_GetMountedKey_0=c.asm.Ha).apply(null,arguments)},Dt=c._emscripten_bind_Cloudpilot___destroy___0=function(){return(Dt=c._emscripten_bind_Cloudpilot___destroy___0=c.asm.Ia).apply(null,arguments)},Un=c._emscripten_bind_RomInfo_RomInfo_2=function(){return(Un=c._emscripten_bind_RomInfo_RomInfo_2=c.asm.Ja).apply(null,arguments)},Br=c._emscripten_bind_RomInfo_IsValid_0=function(){return(Br=c._emscripten_bind_RomInfo_IsValid_0=c.asm.Ka).apply(null,arguments)},Lt=c._emscripten_bind_RomInfo_CardVersion_0=function(){return(Lt=c._emscripten_bind_RomInfo_CardVersion_0=c.asm.La).apply(null,arguments)},rr=c._emscripten_bind_RomInfo_CardName_0=function(){return(rr=c._emscripten_bind_RomInfo_CardName_0=c.asm.Ma).apply(null,arguments)},ot=c._emscripten_bind_RomInfo_RomVersion_0=function(){return(ot=c._emscripten_bind_RomInfo_RomVersion_0=c.asm.Na).apply(null,arguments)},Bt=c._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Bt=c._emscripten_bind_RomInfo_RomVersionString_0=c.asm.Oa).apply(null,arguments)},or=c._emscripten_bind_RomInfo_Supports_1=function(){return(or=c._emscripten_bind_RomInfo_Supports_1=c.asm.Pa).apply(null,arguments)},ur=c._emscripten_bind_RomInfo___destroy___0=function(){return(ur=c._emscripten_bind_RomInfo___destroy___0=c.asm.Qa).apply(null,arguments)},Tr=c._emscripten_bind_Frame_GetLineWidth_0=function(){return(Tr=c._emscripten_bind_Frame_GetLineWidth_0=c.asm.Ra).apply(null,arguments)},vr=c._emscripten_bind_Frame_GetBpp_0=function(){return(vr=c._emscripten_bind_Frame_GetBpp_0=c.asm.Sa).apply(null,arguments)},jt=c._emscripten_bind_Frame_GetLines_0=function(){return(jt=c._emscripten_bind_Frame_GetLines_0=c.asm.Ta).apply(null,arguments)},Fn=c._emscripten_bind_Frame_GetMargin_0=function(){return(Fn=c._emscripten_bind_Frame_GetMargin_0=c.asm.Ua).apply(null,arguments)},qr=c._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(qr=c._emscripten_bind_Frame_GetBytesPerLine_0=c.asm.Va).apply(null,arguments)},qi=c._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(qi=c._emscripten_bind_Frame_GetFirstDirtyLine_0=c.asm.Wa).apply(null,arguments)},ra=c._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(ra=c._emscripten_bind_Frame_GetLastDirtyLine_0=c.asm.Xa).apply(null,arguments)},Bo=c._emscripten_bind_Frame_GetHasChanges_0=function(){return(Bo=c._emscripten_bind_Frame_GetHasChanges_0=c.asm.Ya).apply(null,arguments)},Oa=c._emscripten_bind_Frame_GetBuffer_0=function(){return(Oa=c._emscripten_bind_Frame_GetBuffer_0=c.asm.Za).apply(null,arguments)},eo=c._emscripten_bind_Frame_GetBufferSize_0=function(){return(eo=c._emscripten_bind_Frame_GetBufferSize_0=c.asm._a).apply(null,arguments)},Ql=c._emscripten_bind_Frame_GetScaleX_0=function(){return(Ql=c._emscripten_bind_Frame_GetScaleX_0=c.asm.$a).apply(null,arguments)},Jl=c._emscripten_bind_Frame_GetScaleY_0=function(){return(Jl=c._emscripten_bind_Frame_GetScaleY_0=c.asm.ab).apply(null,arguments)},$n=c._emscripten_bind_Frame___destroy___0=function(){return($n=c._emscripten_bind_Frame___destroy___0=c.asm.bb).apply(null,arguments)},jc=c._emscripten_bind_DbBackup_Init_1=function(){return(jc=c._emscripten_bind_DbBackup_Init_1=c.asm.cb).apply(null,arguments)},hl=c._emscripten_bind_DbBackup_IsInProgress_0=function(){return(hl=c._emscripten_bind_DbBackup_IsInProgress_0=c.asm.db).apply(null,arguments)},md=c._emscripten_bind_DbBackup_IsDone_0=function(){return(md=c._emscripten_bind_DbBackup_IsDone_0=c.asm.eb).apply(null,arguments)},Na=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Na=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=c.asm.fb).apply(null,arguments)},Vo=c._emscripten_bind_DbBackup_Save_0=function(){return(Vo=c._emscripten_bind_DbBackup_Save_0=c.asm.gb).apply(null,arguments)},ml=c._emscripten_bind_DbBackup_Skip_0=function(){return(ml=c._emscripten_bind_DbBackup_Skip_0=c.asm.hb).apply(null,arguments)},La=c._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(La=c._emscripten_bind_DbBackup_GetArchivePtr_0=c.asm.ib).apply(null,arguments)},ms=c._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(ms=c._emscripten_bind_DbBackup_GetArchiveSize_0=c.asm.jb).apply(null,arguments)},gl=c._emscripten_bind_DbBackup___destroy___0=function(){return(gl=c._emscripten_bind_DbBackup___destroy___0=c.asm.kb).apply(null,arguments)},gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c.asm.lb).apply(null,arguments)},kr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(kr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c.asm.mb).apply(null,arguments)},zm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(zm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c.asm.nb).apply(null,arguments)},Hc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Hc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c.asm.ob).apply(null,arguments)},yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c.asm.pb).apply(null,arguments)},ec=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(ec=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=c.asm.qb).apply(null,arguments)},tc=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(tc=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c.asm.rb).apply(null,arguments)},$a=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return($a=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c.asm.sb).apply(null,arguments)},Xo=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Xo=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=c.asm.tb).apply(null,arguments)},Gm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Gm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c.asm.ub).apply(null,arguments)},Ei=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Ei=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c.asm.vb).apply(null,arguments)},Ki=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(Ki=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c.asm.wb).apply(null,arguments)},zc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(zc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c.asm.xb).apply(null,arguments)},yl=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(yl=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=c.asm.yb).apply(null,arguments)},nc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(nc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c.asm.zb).apply(null,arguments)},Yi=c._emscripten_bind_SuspendContext_GetKind_0=function(){return(Yi=c._emscripten_bind_SuspendContext_GetKind_0=c.asm.Ab).apply(null,arguments)},gp=c._emscripten_bind_SuspendContext_Cancel_0=function(){return(gp=c._emscripten_bind_SuspendContext_Cancel_0=c.asm.Bb).apply(null,arguments)},Wm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Wm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c.asm.Cb).apply(null,arguments)},yp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(yp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c.asm.Db).apply(null,arguments)},_p=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(_p=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c.asm.Eb).apply(null,arguments)},Zm=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(Zm=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c.asm.Fb).apply(null,arguments)},qm=c._emscripten_bind_SuspendContext___destroy___0=function(){return(qm=c._emscripten_bind_SuspendContext___destroy___0=c.asm.Gb).apply(null,arguments)},Km=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Km=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=c.asm.Hb).apply(null,arguments)},Ym=c._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Ym=c._emscripten_bind_ZipfileWalker_GetState_0=c.asm.Ib).apply(null,arguments)},Xm=c._emscripten_bind_ZipfileWalker_Next_0=function(){return(Xm=c._emscripten_bind_ZipfileWalker_Next_0=c.asm.Jb).apply(null,arguments)},Qm=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(Qm=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c.asm.Kb).apply(null,arguments)},Jm=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(Jm=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c.asm.Lb).apply(null,arguments)},eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c.asm.Mb).apply(null,arguments)},tg=c._emscripten_bind_ZipfileWalker___destroy___0=function(){return(tg=c._emscripten_bind_ZipfileWalker___destroy___0=c.asm.Nb).apply(null,arguments)},ng=c._emscripten_bind_SessionImage_SessionImage_0=function(){return(ng=c._emscripten_bind_SessionImage_SessionImage_0=c.asm.Ob).apply(null,arguments)},rg=c._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(rg=c._emscripten_bind_SessionImage_GetDeviceId_0=c.asm.Pb).apply(null,arguments)},og=c._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(og=c._emscripten_bind_SessionImage_SetDeviceId_1=c.asm.Qb).apply(null,arguments)},_d=c._emscripten_bind_SessionImage_GetRomImage_0=function(){return(_d=c._emscripten_bind_SessionImage_GetRomImage_0=c.asm.Rb).apply(null,arguments)},vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=c.asm.Sb).apply(null,arguments)},ig=c._emscripten_bind_SessionImage_SetRomImage_2=function(){return(ig=c._emscripten_bind_SessionImage_SetRomImage_2=c.asm.Tb).apply(null,arguments)},sg=c._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(sg=c._emscripten_bind_SessionImage_GetMemoryImage_0=c.asm.Ub).apply(null,arguments)},ag=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(ag=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=c.asm.Vb).apply(null,arguments)},oa=c._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(oa=c._emscripten_bind_SessionImage_SetMemoryImage_2=c.asm.Wb).apply(null,arguments)},vp=c._emscripten_bind_SessionImage_GetMetadata_0=function(){return(vp=c._emscripten_bind_SessionImage_GetMetadata_0=c.asm.Xb).apply(null,arguments)},To=c._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(To=c._emscripten_bind_SessionImage_GetMetadataSize_0=c.asm.Yb).apply(null,arguments)},bd=c._emscripten_bind_SessionImage_SetMetadata_2=function(){return(bd=c._emscripten_bind_SessionImage_SetMetadata_2=c.asm.Zb).apply(null,arguments)},bp=c._emscripten_bind_SessionImage_GetSavestate_0=function(){return(bp=c._emscripten_bind_SessionImage_GetSavestate_0=c.asm._b).apply(null,arguments)},wp=c._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(wp=c._emscripten_bind_SessionImage_GetSavestateSize_0=c.asm.$b).apply(null,arguments)},wd=c._emscripten_bind_SessionImage_SetSavestate_2=function(){return(wd=c._emscripten_bind_SessionImage_SetSavestate_2=c.asm.ac).apply(null,arguments)},Cd=c._emscripten_bind_SessionImage_GetVersion_0=function(){return(Cd=c._emscripten_bind_SessionImage_GetVersion_0=c.asm.bc).apply(null,arguments)},Cp=c._emscripten_bind_SessionImage_Serialize_0=function(){return(Cp=c._emscripten_bind_SessionImage_Serialize_0=c.asm.cc).apply(null,arguments)},Gc=c._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Gc=c._emscripten_bind_SessionImage_GetSerializedImage_0=c.asm.dc).apply(null,arguments)},Sp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Sp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=c.asm.ec).apply(null,arguments)},Ri=c._emscripten_bind_SessionImage_Deserialize_2=function(){return(Ri=c._emscripten_bind_SessionImage_Deserialize_2=c.asm.fc).apply(null,arguments)},Sd=c._emscripten_bind_SessionImage___destroy___0=function(){return(Sd=c._emscripten_bind_SessionImage___destroy___0=c.asm.gc).apply(null,arguments)};function Fi(l){var h=c._main;try{var U=h(0,0);return function it(l,h){le=l,function Je(l){le=l,function en(){return Fe}()||(c.onExit&&c.onExit(l),at=!0),V(l,new Ln(l))}(l)}(U),U}catch(ve){return function Ae(l){if(l instanceof Ln||"unwind"==l)return le;V(1,l)}(ve)}}function Dp(l){function h(){Ba||(Ba=!0,c.calledRun=!0,!at&&(function vn(){!c.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,zt.init(),qt(xe)}(),function mr(){qt(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Ed&&Fi(),function Jn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)l=c.postRun.shift(),an.unshift(l);var l;qt(an)}()))}l=l||X,kn>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)l=c.preRun.shift(),pt.unshift(l);var l;qt(pt)}(),kn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),h()},1)):h())}if(c.___original_main=function(){return(c.___original_main=c.asm.ic).apply(null,arguments)},c.___start_em_js=244003,c.___stop_em_js=244200,c.UTF8ToString=Be,c.addFunction=function Ci(l,h){if(Sr||(Sr=new WeakMap,function ci(l,h){if(Sr)for(var v=l;v<l+h;v++){var T=Io(v);T&&Sr.set(T,v)}}(0,ye.length)),Sr.has(l))return Sr.get(l);var v=function xa(){if(Wi.length)return Wi.pop();try{ye.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return ye.length-1}();try{Pa(v,l)}catch(U){if(!(U instanceof TypeError))throw U;Pa(v,function Do(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function wt(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},T=1;T<l.length;++T)v.parameters.push(h[l[T]]),"j"===l[T]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function fn(l,h){var v=l.slice(0,1),T=l.slice(1),U={i:127,p:127,j:126,f:125,d:124};h.push(96),Gt(T.length,h);for(var ve=0;ve<T.length;++ve)h.push(U[T[ve]]);"v"==v?h.push(0):h.push(1,U[v])}(h,v);var T=[0,97,115,109,1,0,0,0,1];Gt(v.length,T),T.push.apply(T,v),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var U=new WebAssembly.Module(new Uint8Array(T));return new WebAssembly.Instance(U,{e:{f:l}}).exports.f}(l,h))}return Sr.set(l,v),v},Vn=function l(){Ba||Dp(),Ba||(Vn=l)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Ed=!0;function Er(){}function wo(l){return(l||Er).__cache__}function pr(l,h){var v=wo(h),T=v[l];return T||((T=Object.create((h||Er).prototype)).ptr=l,v[l]=T)}c.noInitialRun&&(Ed=!1),Dp(),(Er.prototype=Object.create(Er.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},c.WrapperObject=Er,c.getCache=wo,c.wrapPointer=pr,c.castObject=function Wc(l,h){return pr(l.ptr,h)},c.NULL=pr(0),c.destroy=function lg(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete wo(l.__class__)[l.ptr]},c.compare=function ia(l,h){return l.ptr===h.ptr},c.getPointer=function Ip(l){return l.ptr},c.getClass=function Dd(l){return l.__class__};var Et={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Et.needed){for(var l=0;l<Et.temps.length;l++)c._free(Et.temps[l]);Et.temps.length=0,c._free(Et.buffer),Et.buffer=0,Et.size+=Et.needed,Et.needed=0}Et.buffer||(Et.size+=128,Et.buffer=c._malloc(Et.size),be(Et.buffer)),Et.pos=0},alloc:function(l,h){be(Et.buffer);var U,T=l.length*h.BYTES_PER_ELEMENT;return Et.pos+(T=T+7&-8)>=Et.size?(be(T>0),Et.needed+=T,U=c._malloc(T),Et.temps.push(U)):(U=Et.buffer+Et.pos,Et.pos+=T),U},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var U=0;U<l.length;U++)h[v+U]=l[U]}};function Uo(l){if("string"==typeof l){var h=ln(l),v=Et.alloc(h,Qe);return Et.copy(h,Qe,v),v}return l}function Pr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function et(){this.ptr=fl(),wo(et)[this.ptr]=this}function to(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Un(l,h),wo(to)[this.ptr]=this}function ar(){throw"cannot construct a Frame, no constructor in IDL"}function Dr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Jo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Di(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function lt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function bn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function kt(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Pt(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Km(l,h),wo(Pt)[this.ptr]=this}function Ht(){this.ptr=ng(),wo(Ht)[this.ptr]=this}return(Pr.prototype=Object.create(Er.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},c.VoidPtr=Pr,Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){Kn(this.ptr)},(et.prototype=Object.create(Er.prototype)).constructor=et,et.prototype.__class__=et,et.__cache__={},c.Cloudpilot=et,et.prototype.Malloc=et.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),pr(pl(this.ptr,l),Pr)},et.prototype.Free=et.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Xl(this.ptr,l)},et.prototype.Nullptr=et.prototype.Nullptr=function(){return pr(ht(this.ptr),Pr)},et.prototype.InitializeSession=et.prototype.InitializeSession=function(l,h,v){var T=this.ptr;return Et.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Uo(v),!!Vs(T,l,h,v)},et.prototype.GetCyclesPerSecond=et.prototype.GetCyclesPerSecond=function(){return _r(this.ptr)},et.prototype.RunEmulation=et.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),hs(this.ptr,l)},et.prototype.SetClockFactor=et.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),ea(this.ptr,l)},et.prototype.CopyFrame=et.prototype.CopyFrame=function(){return pr(io(this.ptr),ar)},et.prototype.IsScreenDirty=et.prototype.IsScreenDirty=function(){return!!Zi(this.ptr)},et.prototype.MarkScreenClean=et.prototype.MarkScreenClean=function(){Si(this.ptr)},et.prototype.MinMemoryForDevice=et.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),ta(h,l)},et.prototype.FramebufferSizeForDevice=et.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),As(h,l)},et.prototype.TotalMemoryForDevice=et.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),Us(h,l)},et.prototype.QueuePenMove=et.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),na(this.ptr,l,h)},et.prototype.QueuePenUp=et.prototype.QueuePenUp=function(){Fa(this.ptr)},et.prototype.QueueButtonDown=et.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Mt(this.ptr,l)},et.prototype.QueueButtonUp=et.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),js(this.ptr,l)},et.prototype.QueueKeyboardEvent=et.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),po(this.ptr,l,h)},et.prototype.IsPowerOff=et.prototype.IsPowerOff=function(){return!!cr(this.ptr)},et.prototype.IsUIInitialized=et.prototype.IsUIInitialized=function(){return!!Gr(this.ptr)},et.prototype.GetOSVersion=et.prototype.GetOSVersion=function(){return xr(this.ptr)},et.prototype.IsSetupComplete=et.prototype.IsSetupComplete=function(){return!!p(this.ptr)},et.prototype.Reset=et.prototype.Reset=function(){y(this.ptr)},et.prototype.ResetNoExtensions=et.prototype.ResetNoExtensions=function(){b(this.ptr)},et.prototype.ResetHard=et.prototype.ResetHard=function(){F(this.ptr)},et.prototype.InstallDb=et.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),H(this.ptr,l,h)},et.prototype.GetPalette2bitMapping=et.prototype.GetPalette2bitMapping=function(){return _e(this.ptr)},et.prototype.GetMemoryPtr=et.prototype.GetMemoryPtr=function(){return pr(Ee(this.ptr),Pr)},et.prototype.GetDirtyPagesPtr=et.prototype.GetDirtyPagesPtr=function(){return pr(ze(this.ptr),Pr)},et.prototype.GetMemorySize=et.prototype.GetMemorySize=function(){return St(this.ptr)},et.prototype.ImportMemoryImage=et.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!cn(this.ptr,l,h)},et.prototype.GetRomPtr=et.prototype.GetRomPtr=function(){return pr(xn(this.ptr),Pr)},et.prototype.GetRomSize=et.prototype.GetRomSize=function(){return Tn(this.ptr)},et.prototype.GetSavestatePtr=et.prototype.GetSavestatePtr=function(){return pr(Wt(this.ptr),Pr)},et.prototype.GetSavestateSize=et.prototype.GetSavestateSize=function(){return Ot(this.ptr)},et.prototype.SaveState=et.prototype.SaveState=function(){return!!J(this.ptr)},et.prototype.LoadState=et.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Hn(this.ptr,l,h)},et.prototype.GetHotsyncName=et.prototype.GetHotsyncName=function(){return Be(yn(this.ptr))},et.prototype.SetHotsyncName=et.prototype.SetHotsyncName=function(l){var h=this.ptr;Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),Wr(h,l)},et.prototype.RegisterPwmHandler=et.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),mt(this.ptr,l)},et.prototype.StartBackup=et.prototype.StartBackup=function(){return pr(Kt(this.ptr),Dr)},et.prototype.SetClipboardIntegration=et.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),Zr(this.ptr,l)},et.prototype.GetClipboardIntegration=et.prototype.GetClipboardIntegration=function(){return!!tn(this.ptr)},et.prototype.IsSuspended=et.prototype.IsSuspended=function(){return!!$r(this.ptr)},et.prototype.GetSuspendContext=et.prototype.GetSuspendContext=function(){return pr(Mn(this.ptr),kt)},et.prototype.SetNetworkRedirection=et.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),sr(this.ptr,l)},et.prototype.GetNetworkRedirection=et.prototype.GetNetworkRedirection=function(){return!!_n(this.ptr)},et.prototype.RegisterProxyDisconnectHandler=et.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Jr(this.ptr,l)},et.prototype.SetHotsyncNameManagement=et.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),Wn(this.ptr,l)},et.prototype.LaunchAppByName=et.prototype.LaunchAppByName=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!d(h,l)},et.prototype.LaunchAppByDbHeader=et.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!g(this.ptr,l,h)},et.prototype.DeviceSupportsCardSize=et.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!w(this.ptr,l)},et.prototype.ClearExternalStorage=et.prototype.ClearExternalStorage=function(){P(this.ptr)},et.prototype.AllocateCard=et.prototype.AllocateCard=function(l,h){var v=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),h&&"object"==typeof h&&(h=h.ptr),!!W(v,l,h)},et.prototype.MountCard=et.prototype.MountCard=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!we(h,l)},et.prototype.RemoveCard=et.prototype.RemoveCard=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!Ce(h,l)},et.prototype.GetCardData=et.prototype.GetCardData=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),pr(Ve(h,l),Pr)},et.prototype.GetCardDirtyPages=et.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),pr(Ct(h,l),Pr)},et.prototype.GetCardSize=et.prototype.GetCardSize=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),Re(h,l)},et.prototype.RemountCards=et.prototype.RemountCards=function(){Pn(this.ptr)},et.prototype.GetSupportLevel=et.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),zn(this.ptr,l)},et.prototype.GetMountedKey=et.prototype.GetMountedKey=function(){return Be(un(this.ptr))},et.prototype.__destroy__=et.prototype.__destroy__=function(){Dt(this.ptr)},(to.prototype=Object.create(Er.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},c.RomInfo=to,to.prototype.IsValid=to.prototype.IsValid=function(){return!!Br(this.ptr)},to.prototype.CardVersion=to.prototype.CardVersion=function(){return Lt(this.ptr)},to.prototype.CardName=to.prototype.CardName=function(){return Be(rr(this.ptr))},to.prototype.RomVersion=to.prototype.RomVersion=function(){return ot(this.ptr)},to.prototype.RomVersionString=to.prototype.RomVersionString=function(){return Be(Bt(this.ptr))},to.prototype.Supports=to.prototype.Supports=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!or(h,l)},to.prototype.__destroy__=to.prototype.__destroy__=function(){ur(this.ptr)},(ar.prototype=Object.create(Er.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},c.Frame=ar,ar.prototype.GetLineWidth=ar.prototype.GetLineWidth=function(){return Tr(this.ptr)},ar.prototype.GetBpp=ar.prototype.GetBpp=function(){return vr(this.ptr)},ar.prototype.GetLines=ar.prototype.GetLines=function(){return jt(this.ptr)},ar.prototype.GetMargin=ar.prototype.GetMargin=function(){return Fn(this.ptr)},ar.prototype.GetBytesPerLine=ar.prototype.GetBytesPerLine=function(){return qr(this.ptr)},ar.prototype.GetFirstDirtyLine=ar.prototype.GetFirstDirtyLine=function(){return qi(this.ptr)},ar.prototype.GetLastDirtyLine=ar.prototype.GetLastDirtyLine=function(){return ra(this.ptr)},ar.prototype.GetHasChanges=ar.prototype.GetHasChanges=function(){return!!Bo(this.ptr)},ar.prototype.GetBuffer=ar.prototype.GetBuffer=function(){return pr(Oa(this.ptr),Pr)},ar.prototype.GetBufferSize=ar.prototype.GetBufferSize=function(){return eo(this.ptr)},ar.prototype.GetScaleX=ar.prototype.GetScaleX=function(){return Ql(this.ptr)},ar.prototype.GetScaleY=ar.prototype.GetScaleY=function(){return Jl(this.ptr)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){$n(this.ptr)},(Dr.prototype=Object.create(Er.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},c.DbBackup=Dr,Dr.prototype.Init=Dr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!jc(this.ptr,l)},Dr.prototype.IsInProgress=Dr.prototype.IsInProgress=function(){return!!hl(this.ptr)},Dr.prototype.IsDone=Dr.prototype.IsDone=function(){return!!md(this.ptr)},Dr.prototype.GetCurrentDatabase=Dr.prototype.GetCurrentDatabase=function(){return Be(Na(this.ptr))},Dr.prototype.Save=Dr.prototype.Save=function(){return!!Vo(this.ptr)},Dr.prototype.Skip=Dr.prototype.Skip=function(){ml(this.ptr)},Dr.prototype.GetArchivePtr=Dr.prototype.GetArchivePtr=function(){return pr(La(this.ptr),Pr)},Dr.prototype.GetArchiveSize=Dr.prototype.GetArchiveSize=function(){return ms(this.ptr)},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){gl(this.ptr)},(Jo.prototype=Object.create(Er.prototype)).constructor=Jo,Jo.prototype.__class__=Jo,Jo.__cache__={},c.SuspendContextClipboardCopy=Jo,Jo.prototype.Cancel=Jo.prototype.Cancel=function(){gd(this.ptr)},Jo.prototype.Resume=Jo.prototype.Resume=function(){kr(this.ptr)},Jo.prototype.GetClipboardContent=Jo.prototype.GetClipboardContent=function(){return Be(zm(this.ptr))},Jo.prototype.__destroy__=Jo.prototype.__destroy__=function(){Hc(this.ptr)},(Di.prototype=Object.create(Er.prototype)).constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},c.SuspendContextClipboardPaste=Di,Di.prototype.Cancel=Di.prototype.Cancel=function(){yd(this.ptr)},Di.prototype.Resume=Di.prototype.Resume=function(l){var h=this.ptr;Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),ec(h,l)},Di.prototype.__destroy__=Di.prototype.__destroy__=function(){tc(this.ptr)},(lt.prototype=Object.create(Er.prototype)).constructor=lt,lt.prototype.__class__=lt,lt.__cache__={},c.SuspendContextNetworkConnect=lt,lt.prototype.Cancel=lt.prototype.Cancel=function(){$a(this.ptr)},lt.prototype.Resume=lt.prototype.Resume=function(l){var h=this.ptr;Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),Xo(h,l)},lt.prototype.__destroy__=lt.prototype.__destroy__=function(){Gm(this.ptr)},(bn.prototype=Object.create(Er.prototype)).constructor=bn,bn.prototype.__class__=bn,bn.__cache__={},c.SuspendContextNetworkRpc=bn,bn.prototype.Cancel=bn.prototype.Cancel=function(){Ei(this.ptr)},bn.prototype.GetRequestSize=bn.prototype.GetRequestSize=function(){return Ki(this.ptr)},bn.prototype.GetRequestData=bn.prototype.GetRequestData=function(){return pr(zc(this.ptr),Pr)},bn.prototype.ReceiveResponse=bn.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),yl(this.ptr,l,h)},bn.prototype.__destroy__=bn.prototype.__destroy__=function(){nc(this.ptr)},(kt.prototype=Object.create(Er.prototype)).constructor=kt,kt.prototype.__class__=kt,kt.__cache__={},c.SuspendContext=kt,kt.prototype.GetKind=kt.prototype.GetKind=function(){return Yi(this.ptr)},kt.prototype.Cancel=kt.prototype.Cancel=function(){gp(this.ptr)},kt.prototype.AsContextClipboardCopy=kt.prototype.AsContextClipboardCopy=function(){return pr(Wm(this.ptr),Jo)},kt.prototype.AsContextClipboardPaste=kt.prototype.AsContextClipboardPaste=function(){return pr(yp(this.ptr),Di)},kt.prototype.AsContextNetworkConnect=kt.prototype.AsContextNetworkConnect=function(){return pr(_p(this.ptr),lt)},kt.prototype.AsContextNetworkRpc=kt.prototype.AsContextNetworkRpc=function(){return pr(Zm(this.ptr),bn)},kt.prototype.__destroy__=kt.prototype.__destroy__=function(){qm(this.ptr)},(Pt.prototype=Object.create(Er.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},c.ZipfileWalker=Pt,Pt.prototype.GetState=Pt.prototype.GetState=function(){return Ym(this.ptr)},Pt.prototype.Next=Pt.prototype.Next=function(){return Xm(this.ptr)},Pt.prototype.GetCurrentEntrySize=Pt.prototype.GetCurrentEntrySize=function(){return Qm(this.ptr)},Pt.prototype.GetCurrentEntryName=Pt.prototype.GetCurrentEntryName=function(){return Be(Jm(this.ptr))},Pt.prototype.GetCurrentEntryContent=Pt.prototype.GetCurrentEntryContent=function(){return pr(eg(this.ptr),Pr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){tg(this.ptr)},(Ht.prototype=Object.create(Er.prototype)).constructor=Ht,Ht.prototype.__class__=Ht,Ht.__cache__={},c.SessionImage=Ht,Ht.prototype.GetDeviceId=Ht.prototype.GetDeviceId=function(){return Be(rg(this.ptr))},Ht.prototype.SetDeviceId=Ht.prototype.SetDeviceId=function(l){var h=this.ptr;return Et.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),pr(og(h,l),Ht)},Ht.prototype.GetRomImage=Ht.prototype.GetRomImage=function(){return pr(_d(this.ptr),Pr)},Ht.prototype.GetRomImageSize=Ht.prototype.GetRomImageSize=function(){return vd(this.ptr)},Ht.prototype.SetRomImage=Ht.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),pr(ig(this.ptr,l,h),Ht)},Ht.prototype.GetMemoryImage=Ht.prototype.GetMemoryImage=function(){return pr(sg(this.ptr),Pr)},Ht.prototype.GetMemoryImageSize=Ht.prototype.GetMemoryImageSize=function(){return ag(this.ptr)},Ht.prototype.SetMemoryImage=Ht.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),pr(oa(this.ptr,l,h),Ht)},Ht.prototype.GetMetadata=Ht.prototype.GetMetadata=function(){return pr(vp(this.ptr),Pr)},Ht.prototype.GetMetadataSize=Ht.prototype.GetMetadataSize=function(){return To(this.ptr)},Ht.prototype.SetMetadata=Ht.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),pr(bd(this.ptr,l,h),Ht)},Ht.prototype.GetSavestate=Ht.prototype.GetSavestate=function(){return pr(bp(this.ptr),Pr)},Ht.prototype.GetSavestateSize=Ht.prototype.GetSavestateSize=function(){return wp(this.ptr)},Ht.prototype.SetSavestate=Ht.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),pr(wd(this.ptr,l,h),Ht)},Ht.prototype.GetVersion=Ht.prototype.GetVersion=function(){return Cd(this.ptr)},Ht.prototype.Serialize=Ht.prototype.Serialize=function(){return!!Cp(this.ptr)},Ht.prototype.GetSerializedImage=Ht.prototype.GetSerializedImage=function(){return pr(Gc(this.ptr),Pr)},Ht.prototype.GetSerializedImageSize=Ht.prototype.GetSerializedImageSize=function(){return Sp(this.ptr)},Ht.prototype.Deserialize=Ht.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Ri(this.ptr,l,h)},Ht.prototype.__destroy__=Ht.prototype.__destroy__=function(){Sd(this.ptr)},I.ready});$e.exports=We},9084:$e=>{var x,We=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,ee,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(p,y){re=p,ee=y});var j,Pe,Le,z=Object.assign({},c),X=[],L="./this.program",V=(p,y)=>{throw y},ce="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},Y&&(Le=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Pe=(p,y,b)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?y(F.response):b()},F.onerror=b,F.send(null)});var de,G=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,z),z=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(de=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var ue,le,at=!1;function be(p,y){p||lr(y)}var je,Qe,yt,O,me,rt,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(p,y,b){for(var F=y+b,H=y;p[H]&&!(H>=F);)++H;if(H-y>16&&p.buffer&&De)return De.decode(p.subarray(y,H));for(var _e="";y<H;){var Ee=p[y++];if(128&Ee){var ze=63&p[y++];if(192!=(224&Ee)){var St=63&p[y++];if((Ee=224==(240&Ee)?(15&Ee)<<12|ze<<6|St:(7&Ee)<<18|ze<<12|St<<6|63&p[y++])<65536)_e+=String.fromCharCode(Ee);else{var cn=Ee-65536;_e+=String.fromCharCode(55296|cn>>10,56320|1023&cn)}}else _e+=String.fromCharCode((31&Ee)<<6|ze)}else _e+=String.fromCharCode(Ee)}return _e}function Be(p,y){return p?Xe(yt,p,y):""}function Te(p,y,b,F){if(!(F>0))return 0;for(var H=b,_e=b+F-1,Ee=0;Ee<p.length;++Ee){var ze=p.charCodeAt(Ee);if(ze>=55296&&ze<=57343&&(ze=65536+((1023&ze)<<10)|1023&p.charCodeAt(++Ee)),ze<=127){if(b>=_e)break;y[b++]=ze}else if(ze<=2047){if(b+1>=_e)break;y[b++]=192|ze>>6,y[b++]=128|63&ze}else if(ze<=65535){if(b+2>=_e)break;y[b++]=224|ze>>12,y[b++]=128|ze>>6&63,y[b++]=128|63&ze}else{if(b+3>=_e)break;y[b++]=240|ze>>18,y[b++]=128|ze>>12&63,y[b++]=128|ze>>6&63,y[b++]=128|63&ze}}return y[b]=0,b-H}function ne(p){for(var y=0,b=0;b<p.length;++b){var F=p.charCodeAt(b);F<=127?y++:F<=2047?y+=2:F>=55296&&F<=57343?(y+=4,++b):y+=3}return y}function Ue(p){je=p,c.HEAP8=Qe=new Int8Array(p),c.HEAP16=new Int16Array(p),c.HEAP32=O=new Int32Array(p),c.HEAPU8=yt=new Uint8Array(p),c.HEAPU16=new Uint16Array(p),c.HEAPU32=me=new Uint32Array(p),c.HEAPF32=new Float32Array(p),c.HEAPF64=rt=new Float64Array(p)}var hn,pt=[],xe=[],Tt=[],an=[],kn=0,uo=null,Vn=null;function Hr(p){kn++,c.monitorRunDependencies&&c.monitorRunDependencies(kn)}function Ar(p){if(kn--,c.monitorRunDependencies&&c.monitorRunDependencies(kn),0==kn&&(null!==uo&&(clearInterval(uo),uo=null),Vn)){var y=Vn;Vn=null,y()}}function lr(p){c.onAbort&&c.onAbort(p),K(p="Aborted("+p+")"),at=!0,le=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw ee(y),y}function no(p){return p.startsWith("data:application/octet-stream;base64,")}function Yr(p){try{if(p==hn&&de)return new Uint8Array(de);if(Le)return Le(p);throw"both async and sync fetching of the wasm failed"}catch(y){lr(y)}}no(hn="fstools_web.wasm")||(hn=function $(p){return c.locateFile?c.locateFile(p,B):B+p}(hn));var ct,ae,Ge={40318:()=>{throw new Error("terminated")}};function An(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Ln(p){for(;p.length>0;)p.shift()(c)}var qt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var b=0,F=p.length-1;F>=0;F--){var H=p[F];"."===H?p.splice(F,1):".."===H?(p.splice(F,1),b++):b&&(p.splice(F,1),b--)}if(y)for(;b;b--)p.unshift("..");return p},normalize:p=>{var y=qt.isAbs(p),b="/"===p.substr(-1);return!(p=qt.normalizeArray(p.split("/").filter(F=>!!F),!y).join("/"))&&!y&&(p="."),p&&b&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=qt.splitPath(p),b=y[0],F=y[1];return b||F?(F&&(F=F.substr(0,F.length-1)),b+F):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=qt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return qt.normalize(p.join("/"))},join2:(p,y)=>qt.normalize(p+"/"+y)},gr={resolve:function(){for(var p="",y=!1,b=arguments.length-1;b>=-1&&!y;b--){var F=b>=0?arguments[b]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,y=qt.isAbs(F)}return(y?"/":"")+(p=qt.normalizeArray(p.split("/").filter(H=>!!H),!y).join("/"))||"."},relative:(p,y)=>{function b(cn){for(var xn=0;xn<cn.length&&""===cn[xn];xn++);for(var Tn=cn.length-1;Tn>=0&&""===cn[Tn];Tn--);return xn>Tn?[]:cn.slice(xn,Tn-xn+1)}p=gr.resolve(p).substr(1),y=gr.resolve(y).substr(1);for(var F=b(p.split("/")),H=b(y.split("/")),_e=Math.min(F.length,H.length),Ee=_e,ze=0;ze<_e;ze++)if(F[ze]!==H[ze]){Ee=ze;break}var St=[];for(ze=Ee;ze<F.length;ze++)St.push("..");return(St=St.concat(H.slice(Ee))).join("/")}};function Jt(p,y,b){var F=b>0?b:ne(p)+1,H=new Array(F),_e=Te(p,H,0,H.length);return y&&(H.length=_e),H}var er={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){er.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,er.stream_ops)},stream_ops:{open:function(p){var y=er.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,b,F,H){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var _e=0,Ee=0;Ee<F;Ee++){var ze;try{ze=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===ze&&0===_e)throw new E.ErrnoError(6);if(null==ze)break;_e++,y[b+Ee]=ze}return _e&&(p.node.timestamp=Date.now()),_e},write:function(p,y,b,F,H){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var _e=0;_e<F;_e++)p.tty.ops.put_char(p.tty,y[b+_e])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),_e}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=Jt(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(G(Xe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(G(Xe(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(K(Xe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(K(Xe(p.output,0)),p.output=[])}}};function tr(p){lr()}var ln={ops_table:null,mount:function(p){return ln.createNode(null,"/",16895,0)},createNode:function(p,y,b,F){if(E.isBlkdev(b)||E.isFIFO(b))throw new E.ErrnoError(63);ln.ops_table||(ln.ops_table={dir:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr,lookup:ln.node_ops.lookup,mknod:ln.node_ops.mknod,rename:ln.node_ops.rename,unlink:ln.node_ops.unlink,rmdir:ln.node_ops.rmdir,readdir:ln.node_ops.readdir,symlink:ln.node_ops.symlink},stream:{llseek:ln.stream_ops.llseek}},file:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr},stream:{llseek:ln.stream_ops.llseek,read:ln.stream_ops.read,write:ln.stream_ops.write,allocate:ln.stream_ops.allocate,mmap:ln.stream_ops.mmap,msync:ln.stream_ops.msync}},link:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr,readlink:ln.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr},stream:E.chrdev_stream_ops}});var H=E.createNode(p,y,b,F);return E.isDir(H.mode)?(H.node_ops=ln.ops_table.dir.node,H.stream_ops=ln.ops_table.dir.stream,H.contents={}):E.isFile(H.mode)?(H.node_ops=ln.ops_table.file.node,H.stream_ops=ln.ops_table.file.stream,H.usedBytes=0,H.contents=null):E.isLink(H.mode)?(H.node_ops=ln.ops_table.link.node,H.stream_ops=ln.ops_table.link.stream):E.isChrdev(H.mode)&&(H.node_ops=ln.ops_table.chrdev.node,H.stream_ops=ln.ops_table.chrdev.stream),H.timestamp=Date.now(),p&&(p.contents[y]=H,p.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var b=p.contents?p.contents.length:0;if(!(b>=y)){y=Math.max(y,b*(b<1048576?2:1.125)>>>0),0!=b&&(y=Math.max(y,256));var H=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(H.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var b=p.contents;p.contents=new Uint8Array(y),b&&p.contents.set(b.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&ln.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,b,F){return ln.createNode(p,y,b,F)},rename:function(p,y,b){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(y,b)}catch{}if(F)for(var H in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=b,y.contents[b]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var b=E.lookupNode(p,y);for(var F in b.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var b in p.contents)p.contents.hasOwnProperty(b)&&y.push(b);return y},symlink:function(p,y,b){var F=ln.createNode(p,y,41471,0);return F.link=b,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,b,F,H){var _e=p.node.contents;if(H>=p.node.usedBytes)return 0;var Ee=Math.min(p.node.usedBytes-H,F);if(Ee>8&&_e.subarray)y.set(_e.subarray(H,H+Ee),b);else for(var ze=0;ze<Ee;ze++)y[b+ze]=_e[H+ze];return Ee},write:function(p,y,b,F,H,_e){if(y.buffer===Qe.buffer&&(_e=!1),!F)return 0;var Ee=p.node;if(Ee.timestamp=Date.now(),y.subarray&&(!Ee.contents||Ee.contents.subarray)){if(_e)return Ee.contents=y.subarray(b,b+F),Ee.usedBytes=F,F;if(0===Ee.usedBytes&&0===H)return Ee.contents=y.slice(b,b+F),Ee.usedBytes=F,F;if(H+F<=Ee.usedBytes)return Ee.contents.set(y.subarray(b,b+F),H),F}if(ln.expandFileStorage(Ee,H+F),Ee.contents.subarray&&y.subarray)Ee.contents.set(y.subarray(b,b+F),H);else for(var ze=0;ze<F;ze++)Ee.contents[H+ze]=y[b+ze];return Ee.usedBytes=Math.max(Ee.usedBytes,H+F),F},llseek:function(p,y,b){var F=y;if(1===b?F+=p.position:2===b&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,y,b){ln.expandFileStorage(p.node,y+b),p.node.usedBytes=Math.max(p.node.usedBytes,y+b)},mmap:function(p,y,b,F,H){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var _e,Ee,ze=p.node.contents;if(2&H||ze.buffer!==je){if((b>0||b+y<ze.length)&&(ze=ze.subarray?ze.subarray(b,b+y):Array.prototype.slice.call(ze,b,b+y)),Ee=!0,!(_e=tr()))throw new E.ErrnoError(48);Qe.set(ze,_e)}else Ee=!1,_e=ze.byteOffset;return{ptr:_e,allocated:Ee}},msync:function(p,y,b,F,H){return ln.stream_ops.write(p,y,0,F,b,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=gr.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(Tn=>!!Tn),H=E.root,_e="/",Ee=0;Ee<F.length;Ee++){var ze=Ee===F.length-1;if(ze&&y.parent)break;if(H=E.lookupNode(H,F[Ee]),_e=qt.join2(_e,F[Ee]),E.isMountpoint(H)&&(!ze||ze&&y.follow_mount)&&(H=H.mounted.root),!ze||y.follow)for(var St=0;E.isLink(H.mode);){var cn=E.readlink(_e);if(_e=gr.resolve(qt.dirname(_e),cn),H=E.lookupPath(_e,{recurse_count:y.recurse_count+1}).node,St++>40)throw new E.ErrnoError(32)}}return{path:_e,node:H}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var b=p.mount.mountpoint;return y?"/"!==b[b.length-1]?b+"/"+y:b+y:b}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var b=0,F=0;F<y.length;F++)b=(b<<5)-b+y.charCodeAt(F)|0;return(p+b>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var b=E.nameTable[y];b;){if(b.name_next===p){b.name_next=p.name_next;break}b=b.name_next}},lookupNode:(p,y)=>{var b=E.mayLookup(p);if(b)throw new E.ErrnoError(b,p);for(var F=E.hashName(p.id,y),H=E.nameTable[F];H;H=H.name_next)if(H.parent.id===p.id&&H.name===y)return H;return E.lookup(p,y)},createNode:(p,y,b,F)=>{var H=new E.FSNode(p,y,b,F);return E.hashAddNode(H),H},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,b)=>{var F;try{F=E.lookupNode(p,y)}catch(_e){return _e.errno}var H=E.nodePermissions(p,"wx");if(H)return H;if(b){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var b=p;b<=y;b++)if(!E.streams[b])return b;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,b)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(y,b);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],b=[p];b.length;){var F=b.pop();y.push(F),b.push.apply(b,F.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&K("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=E.getMounts(E.root.mount),F=0;function H(Ee){return E.syncFSRequests--,y(Ee)}function _e(Ee){if(Ee)return _e.errored?void 0:(_e.errored=!0,H(Ee));++F>=b.length&&H(null)}b.forEach(Ee=>{if(!Ee.type.syncfs)return _e(null);Ee.type.syncfs(Ee,p,_e)})},mount:(p,y,b)=>{var _e,F="/"===b,H=!b;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!H){var Ee=E.lookupPath(b,{follow_mount:!1});if(b=Ee.path,E.isMountpoint(_e=Ee.node))throw new E.ErrnoError(10);if(!E.isDir(_e.mode))throw new E.ErrnoError(54)}var ze={type:p,opts:y,mountpoint:b,mounts:[]},St=p.mount(ze);return St.mount=ze,ze.root=St,F?E.root=St:_e&&(_e.mounted=ze,_e.mount&&_e.mount.mounts.push(ze)),St},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var b=y.node,F=b.mounted,H=E.getMounts(F);Object.keys(E.nameTable).forEach(Ee=>{for(var ze=E.nameTable[Ee];ze;){var St=ze.name_next;H.includes(ze.mount)&&E.destroyNode(ze),ze=St}}),b.mounted=null;var _e=b.mount.mounts.indexOf(F);b.mount.mounts.splice(_e,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,b)=>{var H=E.lookupPath(p,{parent:!0}).node,_e=qt.basename(p);if(!_e||"."===_e||".."===_e)throw new E.ErrnoError(28);var Ee=E.mayCreate(H,_e);if(Ee)throw new E.ErrnoError(Ee);if(!H.node_ops.mknod)throw new E.ErrnoError(63);return H.node_ops.mknod(H,_e,y,b)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var b=p.split("/"),F="",H=0;H<b.length;++H)if(b[H]){F+="/"+b[H];try{E.mkdir(F,y)}catch(_e){if(20!=_e.errno)throw _e}}},mkdev:(p,y,b)=>(typeof b>"u"&&(b=y,y=438),E.mknod(p,y|=8192,b)),symlink:(p,y)=>{if(!gr.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(y,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var H=qt.basename(y),_e=E.mayCreate(F,H);if(_e)throw new E.ErrnoError(_e);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,H,p)},rename:(p,y)=>{var ze,St,b=qt.dirname(p),F=qt.dirname(y),H=qt.basename(p),_e=qt.basename(y);if(ze=E.lookupPath(p,{parent:!0}).node,St=E.lookupPath(y,{parent:!0}).node,!ze||!St)throw new E.ErrnoError(44);if(ze.mount!==St.mount)throw new E.ErrnoError(75);var Tn,cn=E.lookupNode(ze,H),xn=gr.relative(p,F);if("."!==xn.charAt(0))throw new E.ErrnoError(28);if("."!==(xn=gr.relative(y,b)).charAt(0))throw new E.ErrnoError(55);try{Tn=E.lookupNode(St,_e)}catch{}if(cn!==Tn){var Wt=E.isDir(cn.mode),Ot=E.mayDelete(ze,H,Wt);if(Ot)throw new E.ErrnoError(Ot);if(Ot=Tn?E.mayDelete(St,_e,Wt):E.mayCreate(St,_e))throw new E.ErrnoError(Ot);if(!ze.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(cn)||Tn&&E.isMountpoint(Tn))throw new E.ErrnoError(10);if(St!==ze&&(Ot=E.nodePermissions(ze,"w")))throw new E.ErrnoError(Ot);E.hashRemoveNode(cn);try{ze.node_ops.rename(cn,St,_e)}catch(J){throw J}finally{E.hashAddNode(cn)}}},rmdir:p=>{var b=E.lookupPath(p,{parent:!0}).node,F=qt.basename(p),H=E.lookupNode(b,F),_e=E.mayDelete(b,F,!0);if(_e)throw new E.ErrnoError(_e);if(!b.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);b.node_ops.rmdir(b,F),E.destroyNode(H)},readdir:p=>{var b=E.lookupPath(p,{follow:!0}).node;if(!b.node_ops.readdir)throw new E.ErrnoError(54);return b.node_ops.readdir(b)},unlink:p=>{var b=E.lookupPath(p,{parent:!0}).node;if(!b)throw new E.ErrnoError(44);var F=qt.basename(p),H=E.lookupNode(b,F),_e=E.mayDelete(b,F,!1);if(_e)throw new E.ErrnoError(_e);if(!b.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);b.node_ops.unlink(b,F),E.destroyNode(H)},readlink:p=>{var b=E.lookupPath(p).node;if(!b)throw new E.ErrnoError(44);if(!b.node_ops.readlink)throw new E.ErrnoError(28);return gr.resolve(E.getPath(b.parent),b.node_ops.readlink(b))},stat:(p,y)=>{var F=E.lookupPath(p,{follow:!y}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,y,b)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!b}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&y|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var b=E.getStream(p);if(!b)throw new E.ErrnoError(8);E.chmod(b.node,y)},chown:(p,y,b,F)=>{var H;if(!(H="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(p,y,b)=>{E.chown(p,y,b,!0)},fchown:(p,y,b)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,y,b)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var b;if(!(b="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(b.mode))throw new E.ErrnoError(31);if(!E.isFile(b.mode))throw new E.ErrnoError(28);var H=E.nodePermissions(b,"w");if(H)throw new E.ErrnoError(H);b.node_ops.setattr(b,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var b=E.getStream(p);if(!b)throw new E.ErrnoError(8);if(!(2097155&b.flags))throw new E.ErrnoError(28);E.truncate(b.node,y)},utime:(p,y,b)=>{var H=E.lookupPath(p,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(y,b)})},open:(p,y,b)=>{if(""===p)throw new E.ErrnoError(44);var F;if(b=typeof b>"u"?438:b,b=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&b|32768:0,"object"==typeof p)F=p;else{p=qt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var _e=!1;if(64&y)if(F){if(128&y)throw new E.ErrnoError(20)}else F=E.mknod(p,b,0),_e=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(y&=-513),65536&y&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!_e){var Ee=E.mayOpen(F,y);if(Ee)throw new E.ErrnoError(Ee)}512&y&&!_e&&E.truncate(F,0),y&=-131713;var ze=E.createStream({node:F,path:E.getPath(F),flags:y,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return ze.stream_ops.open&&ze.stream_ops.open(ze),c.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),ze},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,b)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,b),p.ungotten=[],p.position},read:(p,y,b,F,H)=>{if(F<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var _e=typeof H<"u";if(_e){if(!p.seekable)throw new E.ErrnoError(70)}else H=p.position;var Ee=p.stream_ops.read(p,y,b,F,H);return _e||(p.position+=Ee),Ee},write:(p,y,b,F,H,_e)=>{if(F<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var Ee=typeof H<"u";if(Ee){if(!p.seekable)throw new E.ErrnoError(70)}else H=p.position;var ze=p.stream_ops.write(p,y,b,F,H,_e);return Ee||(p.position+=ze),ze},allocate:(p,y,b)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||b<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,b)},mmap:(p,y,b,F,H)=>{if(2&F&&!(2&H)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,b,F,H)},msync:(p,y,b,F,H)=>p.stream_ops.msync?p.stream_ops.msync(p,y,b,F,H):0,munmap:p=>0,ioctl:(p,y,b)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,b)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var b,F=E.open(p,y.flags),_e=E.stat(p).size,Ee=new Uint8Array(_e);return E.read(F,Ee,0,_e,0),"utf8"===y.encoding?b=Xe(Ee,0):"binary"===y.encoding&&(b=Ee),E.close(F),b},writeFile:(p,y,b={})=>{b.flags=b.flags||577;var F=E.open(p,b.flags,b.mode);if("string"==typeof y){var H=new Uint8Array(ne(y)+1),_e=Te(y,H,0,H.length);E.write(F,H,0,_e,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(F,y,0,y.byteLength,void 0,b.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var b=E.nodePermissions(y.node,"x");if(b)throw new E.ErrnoError(b);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,b,F,H,_e)=>H}),E.mkdev("/dev/null",E.makedev(1,3)),er.register(E.makedev(5,0),er.default_tty_ops),er.register(E.makedev(6,0),er.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function xt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>lr("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(b,F)=>{var _e=E.getStream(+F);if(!_e)throw new E.ErrnoError(8);var Ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>_e.path}};return Ee.parent=Ee,Ee}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?E.createDevice("/dev","stdin",c.stdin):E.symlink("/dev/tty","/dev/stdin"),c.stdout?E.createDevice("/dev","stdout",null,c.stdout):E.symlink("/dev/tty","/dev/stdout"),c.stderr?E.createDevice("/dev","stderr",null,c.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,b){this.node=b,this.setErrno=function(F){this.errno=F},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(ln,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:ln}},init:(p,y,b)=>{E.init.initialized=!0,E.ensureErrnoError(),c.stdin=p||c.stdin,c.stdout=y||c.stdout,c.stderr=b||c.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];y&&E.close(y)}},getMode:(p,y)=>{var b=0;return p&&(b|=365),y&&(b|=146),b},findObject:(p,y)=>{var b=E.analyzePath(p,y);return b.exists?b.object:null},analyzePath:(p,y)=>{try{p=(b=E.lookupPath(p,{follow:!y})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=b.path,F.parentObject=b.node,F.name=qt.basename(p),b=E.lookupPath(p,{follow:!y}),F.exists=!0,F.path=b.path,F.object=b.node,F.name=b.node.name,F.isRoot="/"===b.path}catch(H){F.error=H.errno}return F},createPath:(p,y,b,F)=>{p="string"==typeof p?p:E.getPath(p);for(var H=y.split("/").reverse();H.length;){var _e=H.pop();if(_e){var Ee=qt.join2(p,_e);try{E.mkdir(Ee)}catch{}p=Ee}}return Ee},createFile:(p,y,b,F,H)=>{var _e=qt.join2("string"==typeof p?p:E.getPath(p),y),Ee=E.getMode(F,H);return E.create(_e,Ee)},createDataFile:(p,y,b,F,H,_e)=>{var Ee=y;p&&(p="string"==typeof p?p:E.getPath(p),Ee=y?qt.join2(p,y):p);var ze=E.getMode(F,H),St=E.create(Ee,ze);if(b){if("string"==typeof b){for(var cn=new Array(b.length),xn=0,Tn=b.length;xn<Tn;++xn)cn[xn]=b.charCodeAt(xn);b=cn}E.chmod(St,146|ze);var Wt=E.open(St,577);E.write(Wt,b,0,b.length,0,_e),E.close(Wt),E.chmod(St,ze)}return St},createDevice:(p,y,b,F)=>{var H=qt.join2("string"==typeof p?p:E.getPath(p),y),_e=E.getMode(!!b,!!F);E.createDevice.major||(E.createDevice.major=64);var Ee=E.makedev(E.createDevice.major++,0);return E.registerDevice(Ee,{open:ze=>{ze.seekable=!1},close:ze=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(ze,St,cn,xn,Tn)=>{for(var Wt=0,Ot=0;Ot<xn;Ot++){var J;try{J=b()}catch{throw new E.ErrnoError(29)}if(void 0===J&&0===Wt)throw new E.ErrnoError(6);if(null==J)break;Wt++,St[cn+Ot]=J}return Wt&&(ze.node.timestamp=Date.now()),Wt},write:(ze,St,cn,xn,Tn)=>{for(var Wt=0;Wt<xn;Wt++)try{F(St[cn+Wt])}catch{throw new E.ErrnoError(29)}return xn&&(ze.node.timestamp=Date.now()),Wt}}),E.mkdev(H,_e,Ee)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=Jt(j(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,b,F,H)=>{function _e(){this.lengthKnown=!1,this.chunks=[]}if(_e.prototype.get=function(Ot){if(!(Ot>this.length-1||Ot<0)){var J=Ot%this.chunkSize;return this.getter(Ot/this.chunkSize|0)[J]}},_e.prototype.setDataGetter=function(Ot){this.getter=Ot},_e.prototype.cacheLength=function(){var Ot=new XMLHttpRequest;if(Ot.open("HEAD",b,!1),Ot.send(null),!(Ot.status>=200&&Ot.status<300||304===Ot.status))throw new Error("Couldn't load "+b+". Status: "+Ot.status);var Hn,J=Number(Ot.getResponseHeader("Content-length")),yn=(Hn=Ot.getResponseHeader("Accept-Ranges"))&&"bytes"===Hn,Wr=(Hn=Ot.getResponseHeader("Content-Encoding"))&&"gzip"===Hn,mt=1048576;yn||(mt=J);var Zr=this;Zr.setDataGetter(tn=>{var $r=tn*mt,Mn=(tn+1)*mt-1;if(Mn=Math.min(Mn,J-1),typeof Zr.chunks[tn]>"u"&&(Zr.chunks[tn]=((tn,$r)=>{if(tn>$r)throw new Error("invalid range ("+tn+", "+$r+") or no bytes requested!");if($r>J-1)throw new Error("only "+J+" bytes available! programmer error!");var Mn=new XMLHttpRequest;if(Mn.open("GET",b,!1),J!==mt&&Mn.setRequestHeader("Range","bytes="+tn+"-"+$r),Mn.responseType="arraybuffer",Mn.overrideMimeType&&Mn.overrideMimeType("text/plain; charset=x-user-defined"),Mn.send(null),!(Mn.status>=200&&Mn.status<300||304===Mn.status))throw new Error("Couldn't load "+b+". Status: "+Mn.status);return void 0!==Mn.response?new Uint8Array(Mn.response||[]):Jt(Mn.responseText||"",!0)})($r,Mn)),typeof Zr.chunks[tn]>"u")throw new Error("doXHR failed!");return Zr.chunks[tn]}),(Wr||!J)&&(mt=J=1,J=this.getter(0).length,mt=J,G("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=J,this._chunkSize=mt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ee=new _e;Object.defineProperties(Ee,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ze={isDevice:!1,contents:Ee}}else ze={isDevice:!1,url:b};var St=E.createFile(p,y,ze,F,H);ze.contents?St.contents=ze.contents:ze.url&&(St.contents=null,St.url=ze.url),Object.defineProperties(St,{usedBytes:{get:function(){return this.contents.length}}});var cn={};function Tn(Wt,Ot,J,Hn,yn){var Wr=Wt.node.contents;if(yn>=Wr.length)return 0;var mt=Math.min(Wr.length-yn,Hn);if(Wr.slice)for(var Kt=0;Kt<mt;Kt++)Ot[J+Kt]=Wr[yn+Kt];else for(Kt=0;Kt<mt;Kt++)Ot[J+Kt]=Wr.get(yn+Kt);return mt}return Object.keys(St.stream_ops).forEach(Wt=>{var Ot=St.stream_ops[Wt];cn[Wt]=function(){return E.forceLoadFile(St),Ot.apply(null,arguments)}}),cn.read=(Wt,Ot,J,Hn,yn)=>(E.forceLoadFile(St),Tn(Wt,Ot,J,Hn,yn)),cn.mmap=(Wt,Ot,J,Hn,yn)=>{E.forceLoadFile(St);var Wr=tr();if(!Wr)throw new E.ErrnoError(48);return Tn(Wt,Qe,Wr,Ot,J),{ptr:Wr,allocated:!0}},St.stream_ops=cn,St},createPreloadedFile:(p,y,b,F,H,_e,Ee,ze,St,cn)=>{var xn=y?gr.resolve(qt.join2(p,y)):p;function Wt(Ot){function J(Hn){cn&&cn(),ze||E.createDataFile(p,y,Hn,F,H,St),_e&&_e(),Ar()}Browser.handledByPreloadPlugin(Ot,xn,J,()=>{Ee&&Ee(),Ar()})||J(Ot)}Hr(),"string"==typeof b?function zt(p,y,b,F){var H=F?"":"al "+p;Pe(p,_e=>{be(_e,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(_e)),H&&Ar()},_e=>{if(!b)throw'Loading data file "'+p+'" failed.';b()}),H&&Hr()}(b,Ot=>Wt(Ot),Ee):Wt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,b)=>{y=y||(()=>{}),b=b||(()=>{});var F=E.indexedDB();try{var H=F.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return b(_e)}H.onupgradeneeded=()=>{G("creating db"),H.result.createObjectStore(E.DB_STORE_NAME)},H.onsuccess=()=>{var Ee=H.result.transaction([E.DB_STORE_NAME],"readwrite"),ze=Ee.objectStore(E.DB_STORE_NAME),St=0,cn=0,xn=p.length;function Tn(){0==cn?y():b()}p.forEach(Wt=>{var Ot=ze.put(E.analyzePath(Wt).object.contents,Wt);Ot.onsuccess=()=>{++St+cn==xn&&Tn()},Ot.onerror=()=>{cn++,St+cn==xn&&Tn()}}),Ee.onerror=b},H.onerror=b},loadFilesFromDB:(p,y,b)=>{y=y||(()=>{}),b=b||(()=>{});var F=E.indexedDB();try{var H=F.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return b(_e)}H.onupgradeneeded=b,H.onsuccess=()=>{var _e=H.result;try{var Ee=_e.transaction([E.DB_STORE_NAME],"readonly")}catch(Wt){return void b(Wt)}var ze=Ee.objectStore(E.DB_STORE_NAME),St=0,cn=0,xn=p.length;function Tn(){0==cn?y():b()}p.forEach(Wt=>{var Ot=ze.get(Wt);Ot.onsuccess=()=>{E.analyzePath(Wt).exists&&E.unlink(Wt),E.createDataFile(qt.dirname(Wt),qt.basename(Wt),Ot.result,!0,!0,!0),++St+cn==xn&&Tn()},Ot.onerror=()=>{cn++,St+cn==xn&&Tn()}}),Ee.onerror=b},H.onerror=b}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,y,b){if(qt.isAbs(y))return y;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==y.length){if(!b)throw new E.ErrnoError(44);return F}return qt.join2(F,y)},doStat:function(p,y,b){try{var F=p(y)}catch(H){if(H&&H.node&&qt.normalize(y)!==qt.normalize(E.getPath(H.node)))return-54;throw H}return O[b>>2]=F.dev,O[b+8>>2]=F.ino,O[b+12>>2]=F.mode,me[b+16>>2]=F.nlink,O[b+20>>2]=F.uid,O[b+24>>2]=F.gid,O[b+28>>2]=F.rdev,ae=[F.size>>>0,(ct=F.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+40>>2]=ae[0],O[b+44>>2]=ae[1],O[b+48>>2]=4096,O[b+52>>2]=F.blocks,ae=[Math.floor(F.atime.getTime()/1e3)>>>0,(ct=Math.floor(F.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+56>>2]=ae[0],O[b+60>>2]=ae[1],me[b+64>>2]=0,ae=[Math.floor(F.mtime.getTime()/1e3)>>>0,(ct=Math.floor(F.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+72>>2]=ae[0],O[b+76>>2]=ae[1],me[b+80>>2]=0,ae=[Math.floor(F.ctime.getTime()/1e3)>>>0,(ct=Math.floor(F.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+88>>2]=ae[0],O[b+92>>2]=ae[1],me[b+96>>2]=0,ae=[F.ino>>>0,(ct=F.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+104>>2]=ae[0],O[b+108>>2]=ae[1],0},doMsync:function(p,y,b,F,H){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var _e=yt.slice(p,p+b);E.msync(y,_e,H,b,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return Be(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function D(p){return me[p>>2]+4294967296*O[p+4>>2]}function Oo(p){return p%4==0&&(p%100!=0||p%400==0)}var qo=[0,31,60,91,121,152,182,213,244,274,305,335],vo=[0,31,59,90,120,151,181,212,243,273,304,334];function vi(p){var y=ne(p)+1,b=Do(y);return b&&Te(p,Qe,b,y),b}var Lo=[];function bo(p){try{return ue.grow(p-je.byteLength+65535>>>16),Ue(ue.buffer),1}catch{}}var Hi={};function Eo(){if(!Eo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in Hi)void 0===Hi[b]?delete y[b]:y[b]=Hi[b];var F=[];for(var b in y)F.push(b+"="+y[b]);Eo.strings=F}return Eo.strings}function fs(p,y){le=p,function wi(p){le=p,function en(){return Fe}()||(c.onExit&&c.onExit(p),at=!0),V(p,new An(p))}(p)}var ai=fs,A=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Ie=function(p,y,b,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(Ie.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=Ie,E.staticInit();var Vs,Ae={o:function Yn(p,y,b,F){S.varargs=F;try{y=S.getStr(y),y=S.calculateAt(p,y);var H=F?S.get():0;return E.open(y,b,H).fd}catch(_e){if(typeof E>"u"||!(_e instanceof E.ErrnoError))throw _e;return-_e.errno}},h:function Rn(p,y){var b=new Date(1e3*D(p));O[y>>2]=b.getUTCSeconds(),O[y+4>>2]=b.getUTCMinutes(),O[y+8>>2]=b.getUTCHours(),O[y+12>>2]=b.getUTCDate(),O[y+16>>2]=b.getUTCMonth(),O[y+20>>2]=b.getUTCFullYear()-1900,O[y+24>>2]=b.getUTCDay();var F=Date.UTC(b.getUTCFullYear(),0,1,0,0,0,0),H=(b.getTime()-F)/864e5|0;O[y+28>>2]=H},i:function No(p,y){var b=new Date(1e3*D(p));O[y>>2]=b.getSeconds(),O[y+4>>2]=b.getMinutes(),O[y+8>>2]=b.getHours(),O[y+12>>2]=b.getDate(),O[y+16>>2]=b.getMonth(),O[y+20>>2]=b.getFullYear()-1900,O[y+24>>2]=b.getDay();var F=0|function xi(p){return(Oo(p.getFullYear())?qo:vo)[p.getMonth()]+p.getDate()-1}(b);O[y+28>>2]=F,O[y+36>>2]=-60*b.getTimezoneOffset();var H=new Date(b.getFullYear(),0,1),_e=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ee=H.getTimezoneOffset(),ze=0|(_e!=Ee&&b.getTimezoneOffset()==Math.min(Ee,_e));O[y+32>>2]=ze},j:function bi(p,y,b){var F=(new Date).getFullYear(),H=new Date(F,0,1),_e=new Date(F,6,1),Ee=H.getTimezoneOffset(),ze=_e.getTimezoneOffset(),St=Math.max(Ee,ze);function cn(J){var Hn=J.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Hn?Hn[1]:"GMT"}me[p>>2]=60*St,O[y>>2]=Number(Ee!=ze);var xn=cn(H),Tn=cn(_e),Wt=vi(xn),Ot=vi(Tn);ze<Ee?(me[b>>2]=Wt,me[b+4>>2]=Ot):(me[b>>2]=Ot,me[b+4>>2]=Wt)},b:function ro(){lr("")},a:function $o(p,y,b){var F=function yr(p,y){var b;for(Lo.length=0,y>>=2;b=yt[p++];)y+=105!=b&y,Lo.push(105==b?O[y]:rt[y++>>1]),++y;return Lo}(y,b);return Ge[p].apply(null,F)},c:function Xr(){return Date.now()},g:function si(p,y,b){yt.copyWithin(p,y,y+b)},m:function zr(p){var St,y=yt.length,b=2147483648;if((p>>>=0)>b)return!1;for(var H=1;H<=4;H*=2){var _e=y*(1+.2/H);if(_e=Math.min(_e,p+100663296),bo(Math.min(b,(St=Math.max(p,_e))+(65536-St%65536)%65536)))return!0}return!1},p:function zi(p,y){var b=0;return Eo().forEach(function(F,H){var _e=y+b;me[p+4*H>>2]=_e,function oo(p,y,b){for(var F=0;F<p.length;++F)Qe[y++>>0]=p.charCodeAt(F);b||(Qe[y>>0]=0)}(F,_e),b+=F.length+1}),0},f:function fo(p,y){var b=Eo();me[p>>2]=b.length;var F=0;return b.forEach(function(H){F+=H.length+1}),me[y>>2]=F,0},q:ai,d:function Gi(p){try{var y=S.getStreamFromFD(p);return E.close(y),0}catch(b){if(typeof E>"u"||!(b instanceof E.ErrnoError))throw b;return b.errno}},e:function ks(p,y,b,F){try{var _e=function Ts(p,y,b,F){for(var H=0,_e=0;_e<b;_e++){var Ee=me[y>>2],ze=me[y+4>>2];y+=8;var St=E.read(p,Qe,Ee,ze,F);if(St<0)return-1;if(H+=St,St<ze)break}return H}(S.getStreamFromFD(p),y,b);return me[F>>2]=_e,0}catch(Ee){if(typeof E>"u"||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},k:function li(p,y,b,F,H){try{var _e=function fr(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,b);if(isNaN(_e))return 61;var Ee=S.getStreamFromFD(p);return E.llseek(Ee,_e,F),ae=[Ee.position>>>0,(ct=Ee.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[H>>2]=ae[0],O[H+4>>2]=ae[1],Ee.getdents&&0===_e&&0===F&&(Ee.getdents=null),0}catch(ze){if(typeof E>"u"||!(ze instanceof E.ErrnoError))throw ze;return ze.errno}},n:function Pi(p,y,b,F){try{var _e=function ps(p,y,b,F){for(var H=0,_e=0;_e<b;_e++){var Ee=me[y>>2],ze=me[y+4>>2];y+=8;var St=E.write(p,Qe,Ee,ze,F);if(St<0)return-1;H+=St}return H}(S.getStreamFromFD(p),y,b);return me[F>>2]=_e,0}catch(Ee){if(typeof E>"u"||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},l:function R(p,y,b,F,H){return function Oe(p,y,b,F){var H=O[F+40>>2],_e={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:H?Be(H):""},Ee=Be(b),ze={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var St in ze)Ee=Ee.replace(new RegExp(St,"g"),ze[St]);var cn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Tn(mt,Kt,Zr){for(var tn="number"==typeof mt?mt.toString():mt||"";tn.length<Kt;)tn=Zr[0]+tn;return tn}function Wt(mt,Kt){return Tn(mt,Kt,"0")}function Ot(mt,Kt){function Zr($r){return $r<0?-1:$r>0?1:0}var tn;return 0===(tn=Zr(mt.getFullYear()-Kt.getFullYear()))&&0===(tn=Zr(mt.getMonth()-Kt.getMonth()))&&(tn=Zr(mt.getDate()-Kt.getDate())),tn}function J(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Hn(mt){var Kt=function he(p,y){for(var b=new Date(p.getTime());y>0;){var F=Oo(b.getFullYear()),H=b.getMonth(),_e=(F?A:N)[H];if(!(y>_e-b.getDate()))return b.setDate(b.getDate()+y),b;y-=_e-b.getDate()+1,b.setDate(1),H<11?b.setMonth(H+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(mt.tm_year+1900,0,1),mt.tm_yday),Zr=new Date(Kt.getFullYear(),0,4),tn=new Date(Kt.getFullYear()+1,0,4),$r=J(Zr),Mn=J(tn);return Ot($r,Kt)<=0?Ot(Mn,Kt)<=0?Kt.getFullYear()+1:Kt.getFullYear():Kt.getFullYear()-1}var yn={"%a":function(mt){return cn[mt.tm_wday].substring(0,3)},"%A":function(mt){return cn[mt.tm_wday]},"%b":function(mt){return xn[mt.tm_mon].substring(0,3)},"%B":function(mt){return xn[mt.tm_mon]},"%C":function(mt){return Wt((mt.tm_year+1900)/100|0,2)},"%d":function(mt){return Wt(mt.tm_mday,2)},"%e":function(mt){return Tn(mt.tm_mday,2," ")},"%g":function(mt){return Hn(mt).toString().substring(2)},"%G":function(mt){return Hn(mt)},"%H":function(mt){return Wt(mt.tm_hour,2)},"%I":function(mt){var Kt=mt.tm_hour;return 0==Kt?Kt=12:Kt>12&&(Kt-=12),Wt(Kt,2)},"%j":function(mt){return Wt(mt.tm_mday+function nr(p,y){for(var b=0,F=0;F<=y;b+=p[F++]);return b}(Oo(mt.tm_year+1900)?A:N,mt.tm_mon-1),3)},"%m":function(mt){return Wt(mt.tm_mon+1,2)},"%M":function(mt){return Wt(mt.tm_min,2)},"%n":function(){return"\n"},"%p":function(mt){return mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM"},"%S":function(mt){return Wt(mt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(mt){return mt.tm_wday||7},"%U":function(mt){return Wt(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2)},"%V":function(mt){var Kt=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&Kt++,Kt){if(53==Kt){var tn=(mt.tm_wday+371-mt.tm_yday)%7;4!=tn&&(3!=tn||!Oo(mt.tm_year))&&(Kt=1)}}else{Kt=52;var Zr=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==Zr||5==Zr&&Oo(mt.tm_year%400-1))&&Kt++}return Wt(Kt,2)},"%w":function(mt){return mt.tm_wday},"%W":function(mt){return Wt(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2)},"%y":function(mt){return(mt.tm_year+1900).toString().substring(2)},"%Y":function(mt){return mt.tm_year+1900},"%z":function(mt){var Kt=mt.tm_gmtoff,Zr=Kt>=0;return Kt=(Kt=Math.abs(Kt)/60)/60*100+Kt%60,(Zr?"+":"-")+String("0000"+Kt).slice(-4)},"%Z":function(mt){return mt.tm_zone},"%%":function(){return"%"}};for(var St in Ee=Ee.replace(/%%/g,"\0\0"),yn)Ee.includes(St)&&(Ee=Ee.replace(new RegExp(St,"g"),yn[St](_e)));var Wr=Jt(Ee=Ee.replace(/\0\0/g,"%"),!1);return Wr.length>y?0:(function Se(p,y){Qe.set(p,y)}(Wr,p),Wr.length-1)}(p,y,b,F)}},Do=(function Lr(){var p={a:Ae};function y(Ee,ze){c.asm=Ee.exports,Ue((ue=c.asm.r).buffer),function Kr(p){xe.unshift(p)}(c.asm.s),Ar()}function b(Ee){y(Ee.instance)}function F(Ee){return function ji(){return de||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(hn)}):fetch(hn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+hn+"'";return p.arrayBuffer()}).catch(function(){return Yr(hn)})}().then(function(ze){return WebAssembly.instantiate(ze,p)}).then(function(ze){return ze}).then(Ee,function(ze){K("failed to asynchronously prepare wasm: "+ze),lr(ze)})}if(Hr(),c.instantiateWasm)try{return c.instantiateWasm(p,y)}catch(Ee){K("Module.instantiateWasm callback failed with error: "+Ee),ee(Ee)}(function H(){return de||"function"!=typeof WebAssembly.instantiateStreaming||no(hn)||"function"!=typeof fetch?F(b):fetch(hn,{credentials:"same-origin"}).then(function(Ee){return WebAssembly.instantiateStreaming(Ee,p).then(b,function(St){return K("wasm streaming compile failed: "+St),K("falling back to ArrayBuffer instantiation"),F(b)})})})().catch(ee)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._free=function(){return(c._free=c.asm.t).apply(null,arguments)},c._malloc=function(){return(Do=c._malloc=c.asm.u).apply(null,arguments)}),Qr=c._emscripten_bind_VoidPtr___destroy___0=function(){return(Qr=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)},Io=c._emscripten_bind_FSTools_FSTools_0=function(){return(Io=c._emscripten_bind_FSTools_FSTools_0=c.asm.w).apply(null,arguments)},ci=c._emscripten_bind_FSTools_Malloc_1=function(){return(ci=c._emscripten_bind_FSTools_Malloc_1=c.asm.x).apply(null,arguments)},Sr=c._emscripten_bind_FSTools_Free_1=function(){return(Sr=c._emscripten_bind_FSTools_Free_1=c.asm.y).apply(null,arguments)},Wi=c._emscripten_bind_FSTools_Nullptr_0=function(){return(Wi=c._emscripten_bind_FSTools_Nullptr_0=c.asm.z).apply(null,arguments)},xa=c._emscripten_bind_FSTools___destroy___0=function(){return(xa=c._emscripten_bind_FSTools___destroy___0=c.asm.A).apply(null,arguments)},Pa=c._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Pa=c._emscripten_bind_MkfsContext_MkfsContext_0=c.asm.B).apply(null,arguments)},Ci=c._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Ci=c._emscripten_bind_MkfsContext_Mkfs_2=c.asm.C).apply(null,arguments)},Ra=c._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ra=c._emscripten_bind_MkfsContext_GetImage_0=c.asm.D).apply(null,arguments)},$s=c._emscripten_bind_MkfsContext_GetImageSize_0=function(){return($s=c._emscripten_bind_MkfsContext_GetImageSize_0=c.asm.E).apply(null,arguments)},Bs=c._emscripten_bind_MkfsContext___destroy___0=function(){return(Bs=c._emscripten_bind_MkfsContext___destroy___0=c.asm.F).apply(null,arguments)},ll=c._emscripten_bind_FsckContext_FsckContext_1=function(){return(ll=c._emscripten_bind_FsckContext_FsckContext_1=c.asm.G).apply(null,arguments)},cl=c._emscripten_bind_FsckContext_GetImage_0=function(){return(cl=c._emscripten_bind_FsckContext_GetImage_0=c.asm.H).apply(null,arguments)},ul=c._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(ul=c._emscripten_bind_FsckContext_GetDirtyPages_0=c.asm.I).apply(null,arguments)},Js=c._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Js=c._emscripten_bind_FsckContext_GetImageSize_0=c.asm.J).apply(null,arguments)},dl=c._emscripten_bind_FsckContext_Fsck_0=function(){return(dl=c._emscripten_bind_FsckContext_Fsck_0=c.asm.K).apply(null,arguments)},Mo=c._emscripten_bind_FsckContext_GetResult_0=function(){return(Mo=c._emscripten_bind_FsckContext_GetResult_0=c.asm.L).apply(null,arguments)},Kn=c._emscripten_bind_FsckContext___destroy___0=function(){return(Kn=c._emscripten_bind_FsckContext___destroy___0=c.asm.M).apply(null,arguments)};function hs(p){function y(){Vs||(Vs=!0,c.calledRun=!0,!at&&(function vn(){!c.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,er.init(),Ln(xe)}(),function mr(){Ln(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),ea&&function _r(p){var y=c._main;try{var H=y(0,0);return fs(H),H}catch(_e){return function fe(p){if(p instanceof An||"unwind"==p)return le;V(1,p)}(_e)}}(),function Jn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)p=c.postRun.shift(),an.unshift(p);var p;Ln(an)}()))}p=p||X,kn>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)p=c.preRun.shift(),pt.unshift(p);var p;Ln(pt)}(),kn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),y()},1)):y())}if(c._main=function(){return(c._main=c.asm.N).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.P).apply(null,arguments)},c.___start_em_js=40220,c.___stop_em_js=40318,Vn=function p(){Vs||hs(),Vs||(Vn=p)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var ea=!0;function io(){}function Zi(p){return(p||io).__cache__}function Si(p,y){var b=Zi(y),F=b[p];return F||((F=Object.create((y||io).prototype)).ptr=p,b[p]=F)}c.noInitialRun&&(ea=!1),hs(),(io.prototype=Object.create(io.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},c.WrapperObject=io,c.getCache=Zi,c.wrapPointer=Si,c.castObject=function ta(p,y){return Si(p.ptr,y)},c.NULL=Si(0),c.destroy=function As(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete Zi(p.__class__)[p.ptr]},c.compare=function Us(p,y){return p.ptr===y.ptr},c.getPointer=function na(p){return p.ptr},c.getClass=function Fa(p){return p.__class__};var Mt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mt.needed){for(var p=0;p<Mt.temps.length;p++)c._free(Mt.temps[p]);Mt.temps.length=0,c._free(Mt.buffer),Mt.buffer=0,Mt.size+=Mt.needed,Mt.needed=0}Mt.buffer||(Mt.size+=128,Mt.buffer=c._malloc(Mt.size),be(Mt.buffer)),Mt.pos=0},alloc:function(p,y){be(Mt.buffer);var H,F=p.length*y.BYTES_PER_ELEMENT;return Mt.pos+(F=F+7&-8)>=Mt.size?(be(F>0),Mt.needed+=F,H=c._malloc(F),Mt.temps.push(H)):(H=Mt.buffer+Mt.pos,Mt.pos+=F),H},copy:function(p,y,b){switch(b>>>=0,y.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var H=0;H<p.length;H++)y[b+H]=p[H]}};function po(){throw"cannot construct a VoidPtr, no constructor in IDL"}function cr(){this.ptr=Io(),Zi(cr)[this.ptr]=this}function Gr(){this.ptr=Pa(),Zi(Gr)[this.ptr]=this}function xr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=ll(p),Zi(xr)[this.ptr]=this}return(po.prototype=Object.create(io.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},c.VoidPtr=po,po.prototype.__destroy__=po.prototype.__destroy__=function(){Qr(this.ptr)},(cr.prototype=Object.create(io.prototype)).constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},c.FSTools=cr,cr.prototype.Malloc=cr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Si(ci(this.ptr,p),po)},cr.prototype.Free=cr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Sr(this.ptr,p)},cr.prototype.Nullptr=cr.prototype.Nullptr=function(){return Si(Wi(this.ptr),po)},cr.prototype.__destroy__=cr.prototype.__destroy__=function(){xa(this.ptr)},(Gr.prototype=Object.create(io.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},c.MkfsContext=Gr,Gr.prototype.Mkfs=Gr.prototype.Mkfs=function(p,y){var b=this.ptr;return Mt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function js(p){if("string"==typeof p){var y=Jt(p),b=Mt.alloc(y,Qe);return Mt.copy(y,Qe,b),b}return p}(y),!!Ci(b,p,y)},Gr.prototype.GetImage=Gr.prototype.GetImage=function(){return Si(Ra(this.ptr),po)},Gr.prototype.GetImageSize=Gr.prototype.GetImageSize=function(){return $s(this.ptr)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){Bs(this.ptr)},(xr.prototype=Object.create(io.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},c.FsckContext=xr,xr.prototype.GetImage=xr.prototype.GetImage=function(){return Si(cl(this.ptr),po)},xr.prototype.GetDirtyPages=xr.prototype.GetDirtyPages=function(){return Si(ul(this.ptr),po)},xr.prototype.GetImageSize=xr.prototype.GetImageSize=function(){return Js(this.ptr)},xr.prototype.Fsck=xr.prototype.Fsck=function(){return dl(this.ptr)},xr.prototype.GetResult=xr.prototype.GetResult=function(){return Mo(this.ptr)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Kn(this.ptr)},I.ready});$e.exports=We},7971:$e=>{var x,We=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,ee,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(d,g){re=d,ee=g});var j,Pe,Le,z=Object.assign({},c),X=[],L="./this.program",V=(d,g)=>{throw g},ce="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},Y&&(Le=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,w)=>{var P=new XMLHttpRequest;P.open("GET",d,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?g(P.response):w()},P.onerror=w,P.send(null)});var de,G=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,z),z=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(de=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var ue,le,at=!1;function be(d,g){d||lr(g)}var je,Qe,yt,O,me,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(d,g,w){for(var P=g+w,W=g;d[W]&&!(W>=P);)++W;if(W-g>16&&d.buffer&&De)return De.decode(d.subarray(g,W));for(var we="";g<W;){var Ce=d[g++];if(128&Ce){var Ve=63&d[g++];if(192!=(224&Ce)){var Ct=63&d[g++];if((Ce=224==(240&Ce)?(15&Ce)<<12|Ve<<6|Ct:(7&Ce)<<18|Ve<<12|Ct<<6|63&d[g++])<65536)we+=String.fromCharCode(Ce);else{var Re=Ce-65536;we+=String.fromCharCode(55296|Re>>10,56320|1023&Re)}}else we+=String.fromCharCode((31&Ce)<<6|Ve)}else we+=String.fromCharCode(Ce)}return we}function Be(d,g){return d?Xe(yt,d,g):""}function Te(d,g,w,P){if(!(P>0))return 0;for(var W=w,we=w+P-1,Ce=0;Ce<d.length;++Ce){var Ve=d.charCodeAt(Ce);if(Ve>=55296&&Ve<=57343&&(Ve=65536+((1023&Ve)<<10)|1023&d.charCodeAt(++Ce)),Ve<=127){if(w>=we)break;g[w++]=Ve}else if(Ve<=2047){if(w+1>=we)break;g[w++]=192|Ve>>6,g[w++]=128|63&Ve}else if(Ve<=65535){if(w+2>=we)break;g[w++]=224|Ve>>12,g[w++]=128|Ve>>6&63,g[w++]=128|63&Ve}else{if(w+3>=we)break;g[w++]=240|Ve>>18,g[w++]=128|Ve>>12&63,g[w++]=128|Ve>>6&63,g[w++]=128|63&Ve}}return g[w]=0,w-W}function ne(d){for(var g=0,w=0;w<d.length;++w){var P=d.charCodeAt(w);P<=127?g++:P<=2047?g+=2:P>=55296&&P<=57343?(g+=4,++w):g+=3}return g}function Ue(d){je=d,c.HEAP8=Qe=new Int8Array(d),c.HEAP16=new Int16Array(d),c.HEAP32=O=new Int32Array(d),c.HEAPU8=yt=new Uint8Array(d),c.HEAPU16=new Uint16Array(d),c.HEAPU32=me=new Uint32Array(d),c.HEAPF32=new Float32Array(d),c.HEAPF64=new Float64Array(d)}var hn,ct,ae,pt=[],xe=[],Tt=[],an=[],kn=0,uo=null,Vn=null;function Hr(d){kn++,c.monitorRunDependencies&&c.monitorRunDependencies(kn)}function Ar(d){if(kn--,c.monitorRunDependencies&&c.monitorRunDependencies(kn),0==kn&&(null!==uo&&(clearInterval(uo),uo=null),Vn)){var g=Vn;Vn=null,g()}}function lr(d){c.onAbort&&c.onAbort(d),K(d="Aborted("+d+")"),at=!0,le=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw ee(g),g}function no(d){return d.startsWith("data:application/octet-stream;base64,")}function Yr(d){try{if(d==hn&&de)return new Uint8Array(de);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(g){lr(g)}}function Ge(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function An(d){for(;d.length>0;)d.shift()(c)}function qt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}no(hn="vfs_web.wasm")||(hn=function $(d){return c.locateFile?c.locateFile(d,B):B+d}(hn));var xt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var w=0,P=d.length-1;P>=0;P--){var W=d[P];"."===W?d.splice(P,1):".."===W?(d.splice(P,1),w++):w&&(d.splice(P,1),w--)}if(g)for(;w;w--)d.unshift("..");return d},normalize:d=>{var g=xt.isAbs(d),w="/"===d.substr(-1);return!(d=xt.normalizeArray(d.split("/").filter(P=>!!P),!g).join("/"))&&!g&&(d="."),d&&w&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=xt.splitPath(d),w=g[0],P=g[1];return w||P?(P&&(P=P.substr(0,P.length-1)),w+P):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=xt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return xt.normalize(d.join("/"))},join2:(d,g)=>xt.normalize(d+"/"+g)},Jt={resolve:function(){for(var d="",g=!1,w=arguments.length-1;w>=-1&&!g;w--){var P=w>=0?arguments[w]:S.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";d=P+"/"+d,g=xt.isAbs(P)}return(g?"/":"")+(d=xt.normalizeArray(d.split("/").filter(W=>!!W),!g).join("/"))||"."},relative:(d,g)=>{function w(Re){for(var Pn=0;Pn<Re.length&&""===Re[Pn];Pn++);for(var zn=Re.length-1;zn>=0&&""===Re[zn];zn--);return Pn>zn?[]:Re.slice(Pn,zn-Pn+1)}d=Jt.resolve(d).substr(1),g=Jt.resolve(g).substr(1);for(var P=w(d.split("/")),W=w(g.split("/")),we=Math.min(P.length,W.length),Ce=we,Ve=0;Ve<we;Ve++)if(P[Ve]!==W[Ve]){Ce=Ve;break}var Ct=[];for(Ve=Ce;Ve<P.length;Ve++)Ct.push("..");return(Ct=Ct.concat(W.slice(Ce))).join("/")}};function er(d,g,w){var P=w>0?w:ne(d)+1,W=new Array(P),we=Te(d,W,0,W.length);return g&&(W.length=we),W}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){tr.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,tr.stream_ops)},stream_ops:{open:function(d){var g=tr.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,w,P,W){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var we=0,Ce=0;Ce<P;Ce++){var Ve;try{Ve=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Ve&&0===we)throw new S.ErrnoError(6);if(null==Ve)break;we++,g[w+Ce]=Ve}return we&&(d.node.timestamp=Date.now()),we},write:function(d,g,w,P,W){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var we=0;we<P;we++)d.tty.ops.put_char(d.tty,g[w+we])}catch{throw new S.ErrnoError(29)}return P&&(d.node.timestamp=Date.now()),we}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=er(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(G(Xe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(G(Xe(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(K(Xe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(K(Xe(d.output,0)),d.output=[])}}};function ln(d){lr()}var zt={ops_table:null,mount:function(d){return zt.createNode(null,"/",16895,0)},createNode:function(d,g,w,P){if(S.isBlkdev(w)||S.isFIFO(w))throw new S.ErrnoError(63);zt.ops_table||(zt.ops_table={dir:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,lookup:zt.node_ops.lookup,mknod:zt.node_ops.mknod,rename:zt.node_ops.rename,unlink:zt.node_ops.unlink,rmdir:zt.node_ops.rmdir,readdir:zt.node_ops.readdir,symlink:zt.node_ops.symlink},stream:{llseek:zt.stream_ops.llseek}},file:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:{llseek:zt.stream_ops.llseek,read:zt.stream_ops.read,write:zt.stream_ops.write,allocate:zt.stream_ops.allocate,mmap:zt.stream_ops.mmap,msync:zt.stream_ops.msync}},link:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,readlink:zt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:S.chrdev_stream_ops}});var W=S.createNode(d,g,w,P);return S.isDir(W.mode)?(W.node_ops=zt.ops_table.dir.node,W.stream_ops=zt.ops_table.dir.stream,W.contents={}):S.isFile(W.mode)?(W.node_ops=zt.ops_table.file.node,W.stream_ops=zt.ops_table.file.stream,W.usedBytes=0,W.contents=null):S.isLink(W.mode)?(W.node_ops=zt.ops_table.link.node,W.stream_ops=zt.ops_table.link.stream):S.isChrdev(W.mode)&&(W.node_ops=zt.ops_table.chrdev.node,W.stream_ops=zt.ops_table.chrdev.stream),W.timestamp=Date.now(),d&&(d.contents[g]=W,d.timestamp=W.timestamp),W},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var w=d.contents?d.contents.length:0;if(!(w>=g)){g=Math.max(g,w*(w<1048576?2:1.125)>>>0),0!=w&&(g=Math.max(g,256));var W=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(W.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var w=d.contents;d.contents=new Uint8Array(g),w&&d.contents.set(w.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&zt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,w,P){return zt.createNode(d,g,w,P)},rename:function(d,g,w){if(S.isDir(d.mode)){var P;try{P=S.lookupNode(g,w)}catch{}if(P)for(var W in P.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=w,g.contents[w]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var w=S.lookupNode(d,g);for(var P in w.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var w in d.contents)d.contents.hasOwnProperty(w)&&g.push(w);return g},symlink:function(d,g,w){var P=zt.createNode(d,g,41471,0);return P.link=w,P},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,w,P,W){var we=d.node.contents;if(W>=d.node.usedBytes)return 0;var Ce=Math.min(d.node.usedBytes-W,P);if(Ce>8&&we.subarray)g.set(we.subarray(W,W+Ce),w);else for(var Ve=0;Ve<Ce;Ve++)g[w+Ve]=we[W+Ve];return Ce},write:function(d,g,w,P,W,we){if(g.buffer===Qe.buffer&&(we=!1),!P)return 0;var Ce=d.node;if(Ce.timestamp=Date.now(),g.subarray&&(!Ce.contents||Ce.contents.subarray)){if(we)return Ce.contents=g.subarray(w,w+P),Ce.usedBytes=P,P;if(0===Ce.usedBytes&&0===W)return Ce.contents=g.slice(w,w+P),Ce.usedBytes=P,P;if(W+P<=Ce.usedBytes)return Ce.contents.set(g.subarray(w,w+P),W),P}if(zt.expandFileStorage(Ce,W+P),Ce.contents.subarray&&g.subarray)Ce.contents.set(g.subarray(w,w+P),W);else for(var Ve=0;Ve<P;Ve++)Ce.contents[W+Ve]=g[w+Ve];return Ce.usedBytes=Math.max(Ce.usedBytes,W+P),P},llseek:function(d,g,w){var P=g;if(1===w?P+=d.position:2===w&&S.isFile(d.node.mode)&&(P+=d.node.usedBytes),P<0)throw new S.ErrnoError(28);return P},allocate:function(d,g,w){zt.expandFileStorage(d.node,g+w),d.node.usedBytes=Math.max(d.node.usedBytes,g+w)},mmap:function(d,g,w,P,W){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var we,Ce,Ve=d.node.contents;if(2&W||Ve.buffer!==je){if((w>0||w+g<Ve.length)&&(Ve=Ve.subarray?Ve.subarray(w,w+g):Array.prototype.slice.call(Ve,w,w+g)),Ce=!0,!(we=ln()))throw new S.ErrnoError(48);Qe.set(Ve,we)}else Ce=!1,we=Ve.byteOffset;return{ptr:we,allocated:Ce}},msync:function(d,g,w,P,W){return zt.stream_ops.write(d,g,0,P,w,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=Jt.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var P=d.split("/").filter(zn=>!!zn),W=S.root,we="/",Ce=0;Ce<P.length;Ce++){var Ve=Ce===P.length-1;if(Ve&&g.parent)break;if(W=S.lookupNode(W,P[Ce]),we=xt.join2(we,P[Ce]),S.isMountpoint(W)&&(!Ve||Ve&&g.follow_mount)&&(W=W.mounted.root),!Ve||g.follow)for(var Ct=0;S.isLink(W.mode);){var Re=S.readlink(we);if(we=Jt.resolve(xt.dirname(we),Re),W=S.lookupPath(we,{recurse_count:g.recurse_count+1}).node,Ct++>40)throw new S.ErrnoError(32)}}return{path:we,node:W}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var w=d.mount.mountpoint;return g?"/"!==w[w.length-1]?w+"/"+g:w+g:w}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var w=0,P=0;P<g.length;P++)w=(w<<5)-w+g.charCodeAt(P)|0;return(d+w>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var w=S.nameTable[g];w;){if(w.name_next===d){w.name_next=d.name_next;break}w=w.name_next}},lookupNode:(d,g)=>{var w=S.mayLookup(d);if(w)throw new S.ErrnoError(w,d);for(var P=S.hashName(d.id,g),W=S.nameTable[P];W;W=W.name_next)if(W.parent.id===d.id&&W.name===g)return W;return S.lookup(d,g)},createNode:(d,g,w,P)=>{var W=new S.FSNode(d,g,w,P);return S.hashAddNode(W),W},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,w)=>{var P;try{P=S.lookupNode(d,g)}catch(we){return we.errno}var W=S.nodePermissions(d,"wx");if(W)return W;if(w){if(!S.isDir(P.mode))return 54;if(S.isRoot(P)||S.getPath(P)===S.cwd())return 10}else if(S.isDir(P.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var w=d;w<=g;w++)if(!S.streams[w])return w;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,w)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(W){this.shared.flags=W}},position:{get:function(){return this.shared.position},set:function(W){this.shared.position=W}}})),d=Object.assign(new S.FSStream,d);var P=S.nextfd(g,w);return d.fd=P,S.streams[P]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],w=[d];w.length;){var P=w.pop();g.push(P),w.push.apply(w,P.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&K("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=S.getMounts(S.root.mount),P=0;function W(Ce){return S.syncFSRequests--,g(Ce)}function we(Ce){if(Ce)return we.errored?void 0:(we.errored=!0,W(Ce));++P>=w.length&&W(null)}w.forEach(Ce=>{if(!Ce.type.syncfs)return we(null);Ce.type.syncfs(Ce,d,we)})},mount:(d,g,w)=>{var we,P="/"===w,W=!w;if(P&&S.root)throw new S.ErrnoError(10);if(!P&&!W){var Ce=S.lookupPath(w,{follow_mount:!1});if(w=Ce.path,S.isMountpoint(we=Ce.node))throw new S.ErrnoError(10);if(!S.isDir(we.mode))throw new S.ErrnoError(54)}var Ve={type:d,opts:g,mountpoint:w,mounts:[]},Ct=d.mount(Ve);return Ct.mount=Ve,Ve.root=Ct,P?S.root=Ct:we&&(we.mounted=Ve,we.mount&&we.mount.mounts.push(Ve)),Ct},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var w=g.node,P=w.mounted,W=S.getMounts(P);Object.keys(S.nameTable).forEach(Ce=>{for(var Ve=S.nameTable[Ce];Ve;){var Ct=Ve.name_next;W.includes(Ve.mount)&&S.destroyNode(Ve),Ve=Ct}}),w.mounted=null;var we=w.mount.mounts.indexOf(P);w.mount.mounts.splice(we,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,w)=>{var W=S.lookupPath(d,{parent:!0}).node,we=xt.basename(d);if(!we||"."===we||".."===we)throw new S.ErrnoError(28);var Ce=S.mayCreate(W,we);if(Ce)throw new S.ErrnoError(Ce);if(!W.node_ops.mknod)throw new S.ErrnoError(63);return W.node_ops.mknod(W,we,g,w)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var w=d.split("/"),P="",W=0;W<w.length;++W)if(w[W]){P+="/"+w[W];try{S.mkdir(P,g)}catch(we){if(20!=we.errno)throw we}}},mkdev:(d,g,w)=>(typeof w>"u"&&(w=g,g=438),S.mknod(d,g|=8192,w)),symlink:(d,g)=>{if(!Jt.resolve(d))throw new S.ErrnoError(44);var P=S.lookupPath(g,{parent:!0}).node;if(!P)throw new S.ErrnoError(44);var W=xt.basename(g),we=S.mayCreate(P,W);if(we)throw new S.ErrnoError(we);if(!P.node_ops.symlink)throw new S.ErrnoError(63);return P.node_ops.symlink(P,W,d)},rename:(d,g)=>{var Ve,Ct,w=xt.dirname(d),P=xt.dirname(g),W=xt.basename(d),we=xt.basename(g);if(Ve=S.lookupPath(d,{parent:!0}).node,Ct=S.lookupPath(g,{parent:!0}).node,!Ve||!Ct)throw new S.ErrnoError(44);if(Ve.mount!==Ct.mount)throw new S.ErrnoError(75);var zn,Re=S.lookupNode(Ve,W),Pn=Jt.relative(d,P);if("."!==Pn.charAt(0))throw new S.ErrnoError(28);if("."!==(Pn=Jt.relative(g,w)).charAt(0))throw new S.ErrnoError(55);try{zn=S.lookupNode(Ct,we)}catch{}if(Re!==zn){var un=S.isDir(Re.mode),Dt=S.mayDelete(Ve,W,un);if(Dt)throw new S.ErrnoError(Dt);if(Dt=zn?S.mayDelete(Ct,we,un):S.mayCreate(Ct,we))throw new S.ErrnoError(Dt);if(!Ve.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(Re)||zn&&S.isMountpoint(zn))throw new S.ErrnoError(10);if(Ct!==Ve&&(Dt=S.nodePermissions(Ve,"w")))throw new S.ErrnoError(Dt);S.hashRemoveNode(Re);try{Ve.node_ops.rename(Re,Ct,we)}catch(Un){throw Un}finally{S.hashAddNode(Re)}}},rmdir:d=>{var w=S.lookupPath(d,{parent:!0}).node,P=xt.basename(d),W=S.lookupNode(w,P),we=S.mayDelete(w,P,!0);if(we)throw new S.ErrnoError(we);if(!w.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);w.node_ops.rmdir(w,P),S.destroyNode(W)},readdir:d=>{var w=S.lookupPath(d,{follow:!0}).node;if(!w.node_ops.readdir)throw new S.ErrnoError(54);return w.node_ops.readdir(w)},unlink:d=>{var w=S.lookupPath(d,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var P=xt.basename(d),W=S.lookupNode(w,P),we=S.mayDelete(w,P,!1);if(we)throw new S.ErrnoError(we);if(!w.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);w.node_ops.unlink(w,P),S.destroyNode(W)},readlink:d=>{var w=S.lookupPath(d).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.readlink)throw new S.ErrnoError(28);return Jt.resolve(S.getPath(w.parent),w.node_ops.readlink(w))},stat:(d,g)=>{var P=S.lookupPath(d,{follow:!g}).node;if(!P)throw new S.ErrnoError(44);if(!P.node_ops.getattr)throw new S.ErrnoError(63);return P.node_ops.getattr(P)},lstat:d=>S.stat(d,!0),chmod:(d,g,w)=>{var P;if(!(P="string"==typeof d?S.lookupPath(d,{follow:!w}).node:d).node_ops.setattr)throw new S.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&g|-4096&P.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var w=S.getStream(d);if(!w)throw new S.ErrnoError(8);S.chmod(w.node,g)},chown:(d,g,w,P)=>{var W;if(!(W="string"==typeof d?S.lookupPath(d,{follow:!P}).node:d).node_ops.setattr)throw new S.ErrnoError(63);W.node_ops.setattr(W,{timestamp:Date.now()})},lchown:(d,g,w)=>{S.chown(d,g,w,!0)},fchown:(d,g,w)=>{var P=S.getStream(d);if(!P)throw new S.ErrnoError(8);S.chown(P.node,g,w)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var w;if(!(w="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(w.mode))throw new S.ErrnoError(31);if(!S.isFile(w.mode))throw new S.ErrnoError(28);var W=S.nodePermissions(w,"w");if(W)throw new S.ErrnoError(W);w.node_ops.setattr(w,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var w=S.getStream(d);if(!w)throw new S.ErrnoError(8);if(!(2097155&w.flags))throw new S.ErrnoError(28);S.truncate(w.node,g)},utime:(d,g,w)=>{var W=S.lookupPath(d,{follow:!0}).node;W.node_ops.setattr(W,{timestamp:Math.max(g,w)})},open:(d,g,w)=>{if(""===d)throw new S.ErrnoError(44);var P;if(w=typeof w>"u"?438:w,w=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&w|32768:0,"object"==typeof d)P=d;else{d=xt.normalize(d);try{P=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var we=!1;if(64&g)if(P){if(128&g)throw new S.ErrnoError(20)}else P=S.mknod(d,w,0),we=!0;if(!P)throw new S.ErrnoError(44);if(S.isChrdev(P.mode)&&(g&=-513),65536&g&&!S.isDir(P.mode))throw new S.ErrnoError(54);if(!we){var Ce=S.mayOpen(P,g);if(Ce)throw new S.ErrnoError(Ce)}512&g&&!we&&S.truncate(P,0),g&=-131713;var Ve=S.createStream({node:P,path:S.getPath(P),flags:g,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Ve.stream_ops.open&&Ve.stream_ops.open(Ve),c.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),Ve},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,w)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,w),d.ungotten=[],d.position},read:(d,g,w,P,W)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var we=typeof W<"u";if(we){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var Ce=d.stream_ops.read(d,g,w,P,W);return we||(d.position+=Ce),Ce},write:(d,g,w,P,W,we)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var Ce=typeof W<"u";if(Ce){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var Ve=d.stream_ops.write(d,g,w,P,W,we);return Ce||(d.position+=Ve),Ve},allocate:(d,g,w)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||w<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,w)},mmap:(d,g,w,P,W)=>{if(2&P&&!(2&W)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,w,P,W)},msync:(d,g,w,P,W)=>d.stream_ops.msync?d.stream_ops.msync(d,g,w,P,W):0,munmap:d=>0,ioctl:(d,g,w)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,w)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var w,P=S.open(d,g.flags),we=S.stat(d).size,Ce=new Uint8Array(we);return S.read(P,Ce,0,we,0),"utf8"===g.encoding?w=Xe(Ce,0):"binary"===g.encoding&&(w=Ce),S.close(P),w},writeFile:(d,g,w={})=>{w.flags=w.flags||577;var P=S.open(d,w.flags,w.mode);if("string"==typeof g){var W=new Uint8Array(ne(g)+1),we=Te(g,W,0,W.length);S.write(P,W,0,we,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(P,g,0,g.byteLength,void 0,w.canOwn)}S.close(P)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var w=S.nodePermissions(g.node,"x");if(w)throw new S.ErrnoError(w);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,w,P,W,we)=>W}),S.mkdev("/dev/null",S.makedev(1,3)),tr.register(S.makedev(5,0),tr.default_tty_ops),tr.register(S.makedev(6,0),tr.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function gr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>lr("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(w,P)=>{var we=S.getStream(+P);if(!we)throw new S.ErrnoError(8);var Ce={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>we.path}};return Ce.parent=Ce,Ce}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?S.createDevice("/dev","stdin",c.stdin):S.symlink("/dev/tty","/dev/stdin"),c.stdout?S.createDevice("/dev","stdout",null,c.stdout):S.symlink("/dev/tty","/dev/stdout"),c.stderr?S.createDevice("/dev","stderr",null,c.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,w){this.node=w,this.setErrno=function(P){this.errno=P},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(zt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:zt}},init:(d,g,w)=>{S.init.initialized=!0,S.ensureErrnoError(),c.stdin=d||c.stdin,c.stdout=g||c.stdout,c.stderr=w||c.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var w=0;return d&&(w|=365),g&&(w|=146),w},findObject:(d,g)=>{var w=S.analyzePath(d,g);return w.exists?w.object:null},analyzePath:(d,g)=>{try{d=(w=S.lookupPath(d,{follow:!g})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=S.lookupPath(d,{parent:!0});P.parentExists=!0,P.parentPath=w.path,P.parentObject=w.node,P.name=xt.basename(d),w=S.lookupPath(d,{follow:!g}),P.exists=!0,P.path=w.path,P.object=w.node,P.name=w.node.name,P.isRoot="/"===w.path}catch(W){P.error=W.errno}return P},createPath:(d,g,w,P)=>{d="string"==typeof d?d:S.getPath(d);for(var W=g.split("/").reverse();W.length;){var we=W.pop();if(we){var Ce=xt.join2(d,we);try{S.mkdir(Ce)}catch{}d=Ce}}return Ce},createFile:(d,g,w,P,W)=>{var we=xt.join2("string"==typeof d?d:S.getPath(d),g),Ce=S.getMode(P,W);return S.create(we,Ce)},createDataFile:(d,g,w,P,W,we)=>{var Ce=g;d&&(d="string"==typeof d?d:S.getPath(d),Ce=g?xt.join2(d,g):d);var Ve=S.getMode(P,W),Ct=S.create(Ce,Ve);if(w){if("string"==typeof w){for(var Re=new Array(w.length),Pn=0,zn=w.length;Pn<zn;++Pn)Re[Pn]=w.charCodeAt(Pn);w=Re}S.chmod(Ct,146|Ve);var un=S.open(Ct,577);S.write(un,w,0,w.length,0,we),S.close(un),S.chmod(Ct,Ve)}return Ct},createDevice:(d,g,w,P)=>{var W=xt.join2("string"==typeof d?d:S.getPath(d),g),we=S.getMode(!!w,!!P);S.createDevice.major||(S.createDevice.major=64);var Ce=S.makedev(S.createDevice.major++,0);return S.registerDevice(Ce,{open:Ve=>{Ve.seekable=!1},close:Ve=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(Ve,Ct,Re,Pn,zn)=>{for(var un=0,Dt=0;Dt<Pn;Dt++){var Un;try{Un=w()}catch{throw new S.ErrnoError(29)}if(void 0===Un&&0===un)throw new S.ErrnoError(6);if(null==Un)break;un++,Ct[Re+Dt]=Un}return un&&(Ve.node.timestamp=Date.now()),un},write:(Ve,Ct,Re,Pn,zn)=>{for(var un=0;un<Pn;un++)try{P(Ct[Re+un])}catch{throw new S.ErrnoError(29)}return Pn&&(Ve.node.timestamp=Date.now()),un}}),S.mkdev(W,we,Ce)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=er(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,w,P,W)=>{function we(){this.lengthKnown=!1,this.chunks=[]}if(we.prototype.get=function(Dt){if(!(Dt>this.length-1||Dt<0)){var Un=Dt%this.chunkSize;return this.getter(Dt/this.chunkSize|0)[Un]}},we.prototype.setDataGetter=function(Dt){this.getter=Dt},we.prototype.cacheLength=function(){var Dt=new XMLHttpRequest;if(Dt.open("HEAD",w,!1),Dt.send(null),!(Dt.status>=200&&Dt.status<300||304===Dt.status))throw new Error("Couldn't load "+w+". Status: "+Dt.status);var Br,Un=Number(Dt.getResponseHeader("Content-length")),Lt=(Br=Dt.getResponseHeader("Accept-Ranges"))&&"bytes"===Br,rr=(Br=Dt.getResponseHeader("Content-Encoding"))&&"gzip"===Br,ot=1048576;Lt||(ot=Un);var or=this;or.setDataGetter(ur=>{var Tr=ur*ot,vr=(ur+1)*ot-1;if(vr=Math.min(vr,Un-1),typeof or.chunks[ur]>"u"&&(or.chunks[ur]=((ur,Tr)=>{if(ur>Tr)throw new Error("invalid range ("+ur+", "+Tr+") or no bytes requested!");if(Tr>Un-1)throw new Error("only "+Un+" bytes available! programmer error!");var vr=new XMLHttpRequest;if(vr.open("GET",w,!1),Un!==ot&&vr.setRequestHeader("Range","bytes="+ur+"-"+Tr),vr.responseType="arraybuffer",vr.overrideMimeType&&vr.overrideMimeType("text/plain; charset=x-user-defined"),vr.send(null),!(vr.status>=200&&vr.status<300||304===vr.status))throw new Error("Couldn't load "+w+". Status: "+vr.status);return void 0!==vr.response?new Uint8Array(vr.response||[]):er(vr.responseText||"",!0)})(Tr,vr)),typeof or.chunks[ur]>"u")throw new Error("doXHR failed!");return or.chunks[ur]}),(rr||!Un)&&(ot=Un=1,Un=this.getter(0).length,ot=Un,G("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Un,this._chunkSize=ot,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ce=new we;Object.defineProperties(Ce,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ve={isDevice:!1,contents:Ce}}else Ve={isDevice:!1,url:w};var Ct=S.createFile(d,g,Ve,P,W);Ve.contents?Ct.contents=Ve.contents:Ve.url&&(Ct.contents=null,Ct.url=Ve.url),Object.defineProperties(Ct,{usedBytes:{get:function(){return this.contents.length}}});var Re={};function zn(un,Dt,Un,Br,Lt){var rr=un.node.contents;if(Lt>=rr.length)return 0;var ot=Math.min(rr.length-Lt,Br);if(rr.slice)for(var Bt=0;Bt<ot;Bt++)Dt[Un+Bt]=rr[Lt+Bt];else for(Bt=0;Bt<ot;Bt++)Dt[Un+Bt]=rr.get(Lt+Bt);return ot}return Object.keys(Ct.stream_ops).forEach(un=>{var Dt=Ct.stream_ops[un];Re[un]=function(){return S.forceLoadFile(Ct),Dt.apply(null,arguments)}}),Re.read=(un,Dt,Un,Br,Lt)=>(S.forceLoadFile(Ct),zn(un,Dt,Un,Br,Lt)),Re.mmap=(un,Dt,Un,Br,Lt)=>{S.forceLoadFile(Ct);var rr=ln();if(!rr)throw new S.ErrnoError(48);return zn(un,Qe,rr,Dt,Un),{ptr:rr,allocated:!0}},Ct.stream_ops=Re,Ct},createPreloadedFile:(d,g,w,P,W,we,Ce,Ve,Ct,Re)=>{var Pn=g?Jt.resolve(xt.join2(d,g)):d;function un(Dt){function Un(Br){Re&&Re(),Ve||S.createDataFile(d,g,Br,P,W,Ct),we&&we(),Ar()}Browser.handledByPreloadPlugin(Dt,Pn,Un,()=>{Ce&&Ce(),Ar()})||Un(Dt)}Hr(),"string"==typeof w?function E(d,g,w,P){var W=P?"":"al "+d;Pe(d,we=>{be(we,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(we)),W&&Ar()},we=>{if(!w)throw'Loading data file "'+d+'" failed.';w()}),W&&Hr()}(w,Dt=>un(Dt),Ce):un(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,w)=>{g=g||(()=>{}),w=w||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(we){return w(we)}W.onupgradeneeded=()=>{G("creating db"),W.result.createObjectStore(S.DB_STORE_NAME)},W.onsuccess=()=>{var Ce=W.result.transaction([S.DB_STORE_NAME],"readwrite"),Ve=Ce.objectStore(S.DB_STORE_NAME),Ct=0,Re=0,Pn=d.length;function zn(){0==Re?g():w()}d.forEach(un=>{var Dt=Ve.put(S.analyzePath(un).object.contents,un);Dt.onsuccess=()=>{++Ct+Re==Pn&&zn()},Dt.onerror=()=>{Re++,Ct+Re==Pn&&zn()}}),Ce.onerror=w},W.onerror=w},loadFilesFromDB:(d,g,w)=>{g=g||(()=>{}),w=w||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(we){return w(we)}W.onupgradeneeded=w,W.onsuccess=()=>{var we=W.result;try{var Ce=we.transaction([S.DB_STORE_NAME],"readonly")}catch(un){return void w(un)}var Ve=Ce.objectStore(S.DB_STORE_NAME),Ct=0,Re=0,Pn=d.length;function zn(){0==Re?g():w()}d.forEach(un=>{var Dt=Ve.get(un);Dt.onsuccess=()=>{S.analyzePath(un).exists&&S.unlink(un),S.createDataFile(xt.dirname(un),xt.basename(un),Dt.result,!0,!0,!0),++Ct+Re==Pn&&zn()},Dt.onerror=()=>{Re++,Ct+Re==Pn&&zn()}}),Ce.onerror=w},W.onerror=w}},Yn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,w){if(xt.isAbs(g))return g;var P;if(P=-100===d?S.cwd():Yn.getStreamFromFD(d).path,0==g.length){if(!w)throw new S.ErrnoError(44);return P}return xt.join2(P,g)},doStat:function(d,g,w){try{var P=d(g)}catch(W){if(W&&W.node&&xt.normalize(g)!==xt.normalize(S.getPath(W.node)))return-54;throw W}return O[w>>2]=P.dev,O[w+8>>2]=P.ino,O[w+12>>2]=P.mode,me[w+16>>2]=P.nlink,O[w+20>>2]=P.uid,O[w+24>>2]=P.gid,O[w+28>>2]=P.rdev,ae=[P.size>>>0,(ct=P.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+40>>2]=ae[0],O[w+44>>2]=ae[1],O[w+48>>2]=4096,O[w+52>>2]=P.blocks,ae=[Math.floor(P.atime.getTime()/1e3)>>>0,(ct=Math.floor(P.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+56>>2]=ae[0],O[w+60>>2]=ae[1],me[w+64>>2]=0,ae=[Math.floor(P.mtime.getTime()/1e3)>>>0,(ct=Math.floor(P.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+72>>2]=ae[0],O[w+76>>2]=ae[1],me[w+80>>2]=0,ae=[Math.floor(P.ctime.getTime()/1e3)>>>0,(ct=Math.floor(P.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+88>>2]=ae[0],O[w+92>>2]=ae[1],me[w+96>>2]=0,ae=[P.ino>>>0,(ct=P.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+104>>2]=ae[0],O[w+108>>2]=ae[1],0},doMsync:function(d,g,w,P,W){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&P)return 0;var we=yt.slice(d,d+w);S.msync(g,we,W,w,P)},varargs:void 0,get:function(){return Yn.varargs+=4,O[Yn.varargs-4>>2]},getStr:function(d){return Be(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function vo(d){return d%4==0&&(d%100!=0||d%400==0)}var xi=[0,31,60,91,121,152,182,213,244,274,305,335],No=[0,31,59,90,120,151,181,212,243,273,304,334];function vi(d){return(vo(d.getFullYear())?xi:No)[d.getMonth()]+d.getDate()-1}function Lo(d){var g=ne(d)+1,w=wt(g);return w&&Te(d,Qe,w,g),w}function zr(d){try{return ue.grow(d-je.byteLength+65535>>>16),Ue(ue.buffer),1}catch{}}var Yo={};function oo(){if(!oo.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in Yo)void 0===Yo[w]?delete g[w]:g[w]=Yo[w];var P=[];for(var w in g)P.push(w+"="+g[w]);oo.strings=P}return oo.strings}var ps=[31,29,31,30,31,30,31,31,30,31,30,31],Pi=[31,28,31,30,31,30,31,31,30,31,30,31];var fe=function(d,g,w,P){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(fe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=fe,S.staticInit();var cn,it={a:function Ln(d,g,w,P){lr("Assertion failed: "+Be(d)+", at: "+[g?Be(g):"unknown filename",w,P?Be(P):"unknown function"])},l:function D(d,g,w){try{var P=qt(g,w);return isNaN(P)?-61:(S.ftruncate(d,P),0)}catch(W){if(typeof S>"u"||!(W instanceof S.ErrnoError))throw W;return-W.errno}},g:function Oo(){return!0},h:function bi(d,g){var w=new Date(1e3*function qo(d){return me[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=w.getSeconds(),O[g+4>>2]=w.getMinutes(),O[g+8>>2]=w.getHours(),O[g+12>>2]=w.getDate(),O[g+16>>2]=w.getMonth(),O[g+20>>2]=w.getFullYear()-1900,O[g+24>>2]=w.getDay();var P=0|vi(w);O[g+28>>2]=P,O[g+36>>2]=-60*w.getTimezoneOffset();var W=new Date(w.getFullYear(),0,1),we=new Date(w.getFullYear(),6,1).getTimezoneOffset(),Ce=W.getTimezoneOffset(),Ve=0|(we!=Ce&&w.getTimezoneOffset()==Math.min(Ce,we));O[g+32>>2]=Ve},i:function ro(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),w=O[d+32>>2],P=g.getTimezoneOffset(),W=new Date(g.getFullYear(),0,1),we=new Date(g.getFullYear(),6,1).getTimezoneOffset(),Ce=W.getTimezoneOffset(),Ve=Math.min(Ce,we);if(w<0)O[d+32>>2]=Number(we!=Ce&&Ve==P);else if(w>0!=(Ve==P)){var Ct=Math.max(Ce,we),Re=w>0?Ve:Ct;g.setTime(g.getTime()+6e4*(Re-P))}O[d+24>>2]=g.getDay();var Pn=0|vi(g);return O[d+28>>2]=Pn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function yr(d,g,w){var P=(new Date).getFullYear(),W=new Date(P,0,1),we=new Date(P,6,1),Ce=W.getTimezoneOffset(),Ve=we.getTimezoneOffset(),Ct=Math.max(Ce,Ve);function Re(Un){var Br=Un.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Br?Br[1]:"GMT"}me[d>>2]=60*Ct,O[g>>2]=Number(Ce!=Ve);var Pn=Re(W),zn=Re(we),un=Lo(Pn),Dt=Lo(zn);Ve<Ce?(me[w>>2]=un,me[w+4>>2]=Dt):(me[w>>2]=Dt,me[w+4>>2]=un)},b:function $o(){lr("")},c:function Xr(){return Date.now()},q:function Ko(d,g,w){yt.copyWithin(d,g,g+w)},p:function Hi(d){var Ct,g=yt.length,w=2147483648;if((d>>>=0)>w)return!1;for(var W=1;W<=4;W*=2){var we=g*(1+.2/W);if(we=Math.min(we,d+100663296),zr(Math.min(w,(Ct=Math.max(d,we))+(65536-Ct%65536)%65536)))return!0}return!1},n:function fo(d,g){var w=0;return oo().forEach(function(P,W){var we=g+w;me[d+4*W>>2]=we,function zi(d,g,w){for(var P=0;P<d.length;++P)Qe[g++>>0]=d.charCodeAt(P);w||(Qe[g>>0]=0)}(P,we),w+=P.length+1}),0},o:function wi(d,g){var w=oo();me[d>>2]=w.length;var P=0;return w.forEach(function(W){P+=W.length+1}),me[g>>2]=P,0},d:function fs(d){try{var g=Yn.getStreamFromFD(d);return S.close(g),0}catch(w){if(typeof S>"u"||!(w instanceof S.ErrnoError))throw w;return w.errno}},f:function Gi(d,g,w,P){try{var we=function ai(d,g,w,P){for(var W=0,we=0;we<w;we++){var Ce=me[g>>2],Ve=me[g+4>>2];g+=8;var Ct=S.read(d,Qe,Ce,Ve,P);if(Ct<0)return-1;if(W+=Ct,Ct<Ve)break}return W}(Yn.getStreamFromFD(d),g,w);return me[P>>2]=we,0}catch(Ce){if(typeof S>"u"||!(Ce instanceof S.ErrnoError))throw Ce;return Ce.errno}},k:function Ts(d,g,w,P,W){try{var we=qt(g,w);if(isNaN(we))return 61;var Ce=Yn.getStreamFromFD(d);return S.llseek(Ce,we,P),ae=[Ce.position>>>0,(ct=Ce.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[W>>2]=ae[0],O[W+4>>2]=ae[1],Ce.getdents&&0===we&&0===P&&(Ce.getdents=null),0}catch(Ve){if(typeof S>"u"||!(Ve instanceof S.ErrnoError))throw Ve;return Ve.errno}},e:function fr(d,g,w,P){try{var we=function ks(d,g,w,P){for(var W=0,we=0;we<w;we++){var Ce=me[g>>2],Ve=me[g+4>>2];g+=8;var Ct=S.write(d,Qe,Ce,Ve,P);if(Ct<0)return-1;W+=Ct}return W}(Yn.getStreamFromFD(d),g,w);return me[P>>2]=we,0}catch(Ce){if(typeof S>"u"||!(Ce instanceof S.ErrnoError))throw Ce;return Ce.errno}},m:function he(d,g,w,P,W){return function N(d,g,w,P){var W=O[P+40>>2],we={tm_sec:O[P>>2],tm_min:O[P+4>>2],tm_hour:O[P+8>>2],tm_mday:O[P+12>>2],tm_mon:O[P+16>>2],tm_year:O[P+20>>2],tm_wday:O[P+24>>2],tm_yday:O[P+28>>2],tm_isdst:O[P+32>>2],tm_gmtoff:O[P+36>>2],tm_zone:W?Be(W):""},Ce=Be(w),Ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ct in Ve)Ce=Ce.replace(new RegExp(Ct,"g"),Ve[Ct]);var Re=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pn=["January","February","March","April","May","June","July","August","September","October","November","December"];function zn(ot,Bt,or){for(var ur="number"==typeof ot?ot.toString():ot||"";ur.length<Bt;)ur=or[0]+ur;return ur}function un(ot,Bt){return zn(ot,Bt,"0")}function Dt(ot,Bt){function or(Tr){return Tr<0?-1:Tr>0?1:0}var ur;return 0===(ur=or(ot.getFullYear()-Bt.getFullYear()))&&0===(ur=or(ot.getMonth()-Bt.getMonth()))&&(ur=or(ot.getDate()-Bt.getDate())),ur}function Un(ot){switch(ot.getDay()){case 0:return new Date(ot.getFullYear()-1,11,29);case 1:return ot;case 2:return new Date(ot.getFullYear(),0,3);case 3:return new Date(ot.getFullYear(),0,2);case 4:return new Date(ot.getFullYear(),0,1);case 5:return new Date(ot.getFullYear()-1,11,31);case 6:return new Date(ot.getFullYear()-1,11,30)}}function Br(ot){var Bt=function nr(d,g){for(var w=new Date(d.getTime());g>0;){var P=vo(w.getFullYear()),W=w.getMonth(),we=(P?ps:Pi)[W];if(!(g>we-w.getDate()))return w.setDate(w.getDate()+g),w;g-=we-w.getDate()+1,w.setDate(1),W<11?w.setMonth(W+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(ot.tm_year+1900,0,1),ot.tm_yday),or=new Date(Bt.getFullYear(),0,4),ur=new Date(Bt.getFullYear()+1,0,4),Tr=Un(or),vr=Un(ur);return Dt(Tr,Bt)<=0?Dt(vr,Bt)<=0?Bt.getFullYear()+1:Bt.getFullYear():Bt.getFullYear()-1}var Lt={"%a":function(ot){return Re[ot.tm_wday].substring(0,3)},"%A":function(ot){return Re[ot.tm_wday]},"%b":function(ot){return Pn[ot.tm_mon].substring(0,3)},"%B":function(ot){return Pn[ot.tm_mon]},"%C":function(ot){return un((ot.tm_year+1900)/100|0,2)},"%d":function(ot){return un(ot.tm_mday,2)},"%e":function(ot){return zn(ot.tm_mday,2," ")},"%g":function(ot){return Br(ot).toString().substring(2)},"%G":function(ot){return Br(ot)},"%H":function(ot){return un(ot.tm_hour,2)},"%I":function(ot){var Bt=ot.tm_hour;return 0==Bt?Bt=12:Bt>12&&(Bt-=12),un(Bt,2)},"%j":function(ot){return un(ot.tm_mday+function li(d,g){for(var w=0,P=0;P<=g;w+=d[P++]);return w}(vo(ot.tm_year+1900)?ps:Pi,ot.tm_mon-1),3)},"%m":function(ot){return un(ot.tm_mon+1,2)},"%M":function(ot){return un(ot.tm_min,2)},"%n":function(){return"\n"},"%p":function(ot){return ot.tm_hour>=0&&ot.tm_hour<12?"AM":"PM"},"%S":function(ot){return un(ot.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ot){return ot.tm_wday||7},"%U":function(ot){return un(Math.floor((ot.tm_yday+7-ot.tm_wday)/7),2)},"%V":function(ot){var Bt=Math.floor((ot.tm_yday+7-(ot.tm_wday+6)%7)/7);if((ot.tm_wday+371-ot.tm_yday-2)%7<=2&&Bt++,Bt){if(53==Bt){var ur=(ot.tm_wday+371-ot.tm_yday)%7;4!=ur&&(3!=ur||!vo(ot.tm_year))&&(Bt=1)}}else{Bt=52;var or=(ot.tm_wday+7-ot.tm_yday-1)%7;(4==or||5==or&&vo(ot.tm_year%400-1))&&Bt++}return un(Bt,2)},"%w":function(ot){return ot.tm_wday},"%W":function(ot){return un(Math.floor((ot.tm_yday+7-(ot.tm_wday+6)%7)/7),2)},"%y":function(ot){return(ot.tm_year+1900).toString().substring(2)},"%Y":function(ot){return ot.tm_year+1900},"%z":function(ot){var Bt=ot.tm_gmtoff,or=Bt>=0;return Bt=(Bt=Math.abs(Bt)/60)/60*100+Bt%60,(or?"+":"-")+String("0000"+Bt).slice(-4)},"%Z":function(ot){return ot.tm_zone},"%%":function(){return"%"}};for(var Ct in Ce=Ce.replace(/%%/g,"\0\0"),Lt)Ce.includes(Ct)&&(Ce=Ce.replace(new RegExp(Ct,"g"),Lt[Ct](we)));var rr=er(Ce=Ce.replace(/\0\0/g,"%"),!1);return rr.length>g?0:(function A(d,g){Qe.set(d,g)}(rr,d),rr.length-1)}(d,g,w,P)}},wt=(function Lr(){var d={a:it};function g(Ce,Ve){c.asm=Ce.exports,Ue((ue=c.asm.r).buffer),function Kr(d){xe.unshift(d)}(c.asm.s),Ar()}function w(Ce){g(Ce.instance)}function P(Ce){return function ji(){return de||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(hn)}):fetch(hn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+hn+"'";return d.arrayBuffer()}).catch(function(){return Yr(hn)})}().then(function(Ve){return WebAssembly.instantiate(Ve,d)}).then(function(Ve){return Ve}).then(Ce,function(Ve){K("failed to asynchronously prepare wasm: "+Ve),lr(Ve)})}if(Hr(),c.instantiateWasm)try{return c.instantiateWasm(d,g)}catch(Ce){K("Module.instantiateWasm callback failed with error: "+Ce),ee(Ce)}(function W(){return de||"function"!=typeof WebAssembly.instantiateStreaming||no(hn)||"function"!=typeof fetch?P(w):fetch(hn,{credentials:"same-origin"}).then(function(Ce){return WebAssembly.instantiateStreaming(Ce,d).then(w,function(Ct){return K("wasm streaming compile failed: "+Ct),K("falling back to ArrayBuffer instantiation"),P(w)})})})().catch(ee)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._malloc=function(){return(wt=c._malloc=c.asm.t).apply(null,arguments)}),Do=(c._free=function(){return(c._free=c.asm.u).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Do=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)}),Qr=c._emscripten_bind_FileEntry_GetName_0=function(){return(Qr=c._emscripten_bind_FileEntry_GetName_0=c.asm.w).apply(null,arguments)},Io=c._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Io=c._emscripten_bind_FileEntry_IsDirectory_0=c.asm.x).apply(null,arguments)},ci=c._emscripten_bind_FileEntry_GetSize_0=function(){return(ci=c._emscripten_bind_FileEntry_GetSize_0=c.asm.y).apply(null,arguments)},Sr=c._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Sr=c._emscripten_bind_FileEntry_GetModifiedTS_0=c.asm.z).apply(null,arguments)},Wi=c._emscripten_bind_FileEntry_GetAttributes_0=function(){return(Wi=c._emscripten_bind_FileEntry_GetAttributes_0=c.asm.A).apply(null,arguments)},xa=c._emscripten_bind_FileEntry___destroy___0=function(){return(xa=c._emscripten_bind_FileEntry___destroy___0=c.asm.B).apply(null,arguments)},Pa=c._emscripten_bind_Vfs_Vfs_0=function(){return(Pa=c._emscripten_bind_Vfs_Vfs_0=c.asm.C).apply(null,arguments)},Ci=c._emscripten_bind_Vfs_Malloc_1=function(){return(Ci=c._emscripten_bind_Vfs_Malloc_1=c.asm.D).apply(null,arguments)},Ra=c._emscripten_bind_Vfs_Free_1=function(){return(Ra=c._emscripten_bind_Vfs_Free_1=c.asm.E).apply(null,arguments)},$s=c._emscripten_bind_Vfs_Nullptr_0=function(){return($s=c._emscripten_bind_Vfs_Nullptr_0=c.asm.F).apply(null,arguments)},Bs=c._emscripten_bind_Vfs_AllocateImage_1=function(){return(Bs=c._emscripten_bind_Vfs_AllocateImage_1=c.asm.G).apply(null,arguments)},ll=c._emscripten_bind_Vfs_MountImage_1=function(){return(ll=c._emscripten_bind_Vfs_MountImage_1=c.asm.H).apply(null,arguments)},cl=c._emscripten_bind_Vfs_UnmountImage_1=function(){return(cl=c._emscripten_bind_Vfs_UnmountImage_1=c.asm.I).apply(null,arguments)},ul=c._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(ul=c._emscripten_bind_Vfs_GetPendingImageSize_0=c.asm.J).apply(null,arguments)},Js=c._emscripten_bind_Vfs_GetSize_1=function(){return(Js=c._emscripten_bind_Vfs_GetSize_1=c.asm.K).apply(null,arguments)},dl=c._emscripten_bind_Vfs_GetPendingImage_0=function(){return(dl=c._emscripten_bind_Vfs_GetPendingImage_0=c.asm.L).apply(null,arguments)},Mo=c._emscripten_bind_Vfs_GetImage_1=function(){return(Mo=c._emscripten_bind_Vfs_GetImage_1=c.asm.M).apply(null,arguments)},Kn=c._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(Kn=c._emscripten_bind_Vfs_GetDirtyPages_1=c.asm.N).apply(null,arguments)},fl=c._emscripten_bind_Vfs_RenameFile_2=function(){return(fl=c._emscripten_bind_Vfs_RenameFile_2=c.asm.O).apply(null,arguments)},pl=c._emscripten_bind_Vfs_ChmodFile_3=function(){return(pl=c._emscripten_bind_Vfs_ChmodFile_3=c.asm.P).apply(null,arguments)},Xl=c._emscripten_bind_Vfs_StatFile_1=function(){return(Xl=c._emscripten_bind_Vfs_StatFile_1=c.asm.Q).apply(null,arguments)},ht=c._emscripten_bind_Vfs_GetEntry_0=function(){return(ht=c._emscripten_bind_Vfs_GetEntry_0=c.asm.R).apply(null,arguments)},Vs=c._emscripten_bind_Vfs_BytesFree_1=function(){return(Vs=c._emscripten_bind_Vfs_BytesFree_1=c.asm.S).apply(null,arguments)},_r=c._emscripten_bind_Vfs_BytesTotal_1=function(){return(_r=c._emscripten_bind_Vfs_BytesTotal_1=c.asm.T).apply(null,arguments)},hs=c._emscripten_bind_Vfs_ReadFile_1=function(){return(hs=c._emscripten_bind_Vfs_ReadFile_1=c.asm.U).apply(null,arguments)},ea=c._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(ea=c._emscripten_bind_Vfs_GetCurrentFileSize_0=c.asm.V).apply(null,arguments)},io=c._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(io=c._emscripten_bind_Vfs_GetCurrentFileContent_0=c.asm.W).apply(null,arguments)},Zi=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Zi=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=c.asm.X).apply(null,arguments)},Si=c._emscripten_bind_Vfs___destroy___0=function(){return(Si=c._emscripten_bind_Vfs___destroy___0=c.asm.Y).apply(null,arguments)},ta=c._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(ta=c._emscripten_bind_ReaddirContext_ReaddirContext_1=c.asm.Z).apply(null,arguments)},As=c._emscripten_bind_ReaddirContext_Next_0=function(){return(As=c._emscripten_bind_ReaddirContext_Next_0=c.asm._).apply(null,arguments)},Us=c._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(Us=c._emscripten_bind_ReaddirContext_GetEntry_0=c.asm.$).apply(null,arguments)},na=c._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(na=c._emscripten_bind_ReaddirContext_GetStatus_0=c.asm.aa).apply(null,arguments)},Fa=c._emscripten_bind_ReaddirContext_GetError_0=function(){return(Fa=c._emscripten_bind_ReaddirContext_GetError_0=c.asm.ba).apply(null,arguments)},Mt=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(Mt=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=c.asm.ca).apply(null,arguments)},js=c._emscripten_bind_ReaddirContext___destroy___0=function(){return(js=c._emscripten_bind_ReaddirContext___destroy___0=c.asm.da).apply(null,arguments)},po=c._emscripten_bind_CreateZipContext_CreateZipContext_1=function(){return(po=c._emscripten_bind_CreateZipContext_CreateZipContext_1=c.asm.ea).apply(null,arguments)},cr=c._emscripten_bind_CreateZipContext_AddFile_1=function(){return(cr=c._emscripten_bind_CreateZipContext_AddFile_1=c.asm.fa).apply(null,arguments)},Gr=c._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(Gr=c._emscripten_bind_CreateZipContext_AddDirectory_1=c.asm.ga).apply(null,arguments)},xr=c._emscripten_bind_CreateZipContext_Continue_0=function(){return(xr=c._emscripten_bind_CreateZipContext_Continue_0=c.asm.ha).apply(null,arguments)},p=c._emscripten_bind_CreateZipContext_GetState_0=function(){return(p=c._emscripten_bind_CreateZipContext_GetState_0=c.asm.ia).apply(null,arguments)},y=c._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(y=c._emscripten_bind_CreateZipContext_GetZipContent_0=c.asm.ja).apply(null,arguments)},b=c._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(b=c._emscripten_bind_CreateZipContext_GetZipSize_0=c.asm.ka).apply(null,arguments)},F=c._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(F=c._emscripten_bind_CreateZipContext_GetErrorItem_0=c.asm.la).apply(null,arguments)},H=c._emscripten_bind_CreateZipContext___destroy___0=function(){return(H=c._emscripten_bind_CreateZipContext___destroy___0=c.asm.ma).apply(null,arguments)};function xn(d){var g=c._main;try{var W=g(0,0);return function Oe(d,g){le=d,function Se(d){le=d,function en(){return Fe}()||(c.onExit&&c.onExit(d),at=!0),V(d,new Ge(d))}(d)}(W),W}catch(we){return function R(d){if(d instanceof Ge||"unwind"==d)return le;V(1,d)}(we)}}function Tn(d){function g(){cn||(cn=!0,c.calledRun=!0,!at&&(function vn(){!c.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,tr.init(),An(xe)}(),function mr(){An(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Wt&&xn(),function Jn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)d=c.postRun.shift(),an.unshift(d);var d;An(an)}()))}d=d||X,kn>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)d=c.preRun.shift(),pt.unshift(d);var d;An(pt)}(),kn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),g()},1)):g())}if(c._main=function(){return(c._main=c.asm.na).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.pa).apply(null,arguments)},c.___start_em_js=19176,c.___stop_em_js=19274,Vn=function d(){cn||Tn(),cn||(Vn=d)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Wt=!0;function Ot(){}function J(d){return(d||Ot).__cache__}function Hn(d,g){var w=J(g),P=w[d];return P||((P=Object.create((g||Ot).prototype)).ptr=d,w[d]=P)}c.noInitialRun&&(Wt=!1),Tn(),(Ot.prototype=Object.create(Ot.prototype)).constructor=Ot,Ot.prototype.__class__=Ot,Ot.__cache__={},c.WrapperObject=Ot,c.getCache=J,c.wrapPointer=Hn,c.castObject=function yn(d,g){return Hn(d.ptr,g)},c.NULL=Hn(0),c.destroy=function Wr(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete J(d.__class__)[d.ptr]},c.compare=function mt(d,g){return d.ptr===g.ptr},c.getPointer=function Kt(d){return d.ptr},c.getClass=function Zr(d){return d.__class__};var tn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(tn.needed){for(var d=0;d<tn.temps.length;d++)c._free(tn.temps[d]);tn.temps.length=0,c._free(tn.buffer),tn.buffer=0,tn.size+=tn.needed,tn.needed=0}tn.buffer||(tn.size+=128,tn.buffer=c._malloc(tn.size),be(tn.buffer)),tn.pos=0},alloc:function(d,g){be(tn.buffer);var W,P=d.length*g.BYTES_PER_ELEMENT;return tn.pos+(P=P+7&-8)>=tn.size?(be(P>0),tn.needed+=P,W=c._malloc(P),tn.temps.push(W)):(W=tn.buffer+tn.pos,tn.pos+=P),W},copy:function(d,g,w){switch(w>>>=0,g.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var W=0;W<d.length;W++)g[w+W]=d[W]}};function $r(d){if("string"==typeof d){var g=er(d),w=tn.alloc(g,Qe);return tn.copy(g,Qe,w),w}return d}function Mn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function sr(){throw"cannot construct a FileEntry, no constructor in IDL"}function _n(){this.ptr=Pa(),J(_n)[this.ptr]=this}function Jr(d){tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),this.ptr=ta(d),J(Jr)[this.ptr]=this}function Wn(d){tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),this.ptr=po(d),J(Wn)[this.ptr]=this}return(Mn.prototype=Object.create(Ot.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},c.VoidPtr=Mn,Mn.prototype.__destroy__=Mn.prototype.__destroy__=function(){Do(this.ptr)},(sr.prototype=Object.create(Ot.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},c.FileEntry=sr,sr.prototype.GetName=sr.prototype.GetName=function(){return Be(Qr(this.ptr))},sr.prototype.IsDirectory=sr.prototype.IsDirectory=function(){return!!Io(this.ptr)},sr.prototype.GetSize=sr.prototype.GetSize=function(){return ci(this.ptr)},sr.prototype.GetModifiedTS=sr.prototype.GetModifiedTS=function(){return Sr(this.ptr)},sr.prototype.GetAttributes=sr.prototype.GetAttributes=function(){return Wi(this.ptr)},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){xa(this.ptr)},(_n.prototype=Object.create(Ot.prototype)).constructor=_n,_n.prototype.__class__=_n,_n.__cache__={},c.Vfs=_n,_n.prototype.Malloc=_n.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Hn(Ci(this.ptr,d),Mn)},_n.prototype.Free=_n.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Ra(this.ptr,d)},_n.prototype.Nullptr=_n.prototype.Nullptr=function(){return Hn($s(this.ptr),Mn)},_n.prototype.AllocateImage=_n.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Bs(this.ptr,d)},_n.prototype.MountImage=_n.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!ll(this.ptr,d)},_n.prototype.UnmountImage=_n.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),cl(this.ptr,d)},_n.prototype.GetPendingImageSize=_n.prototype.GetPendingImageSize=function(){return ul(this.ptr)},_n.prototype.GetSize=_n.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),Js(this.ptr,d)},_n.prototype.GetPendingImage=_n.prototype.GetPendingImage=function(){return Hn(dl(this.ptr),Mn)},_n.prototype.GetImage=_n.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Hn(Mo(this.ptr,d),Mn)},_n.prototype.GetDirtyPages=_n.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Hn(Kn(this.ptr,d),Mn)},_n.prototype.RenameFile=_n.prototype.RenameFile=function(d,g){var w=this.ptr;return tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),g=g&&"object"==typeof g?g.ptr:$r(g),fl(w,d,g)},_n.prototype.ChmodFile=_n.prototype.ChmodFile=function(d,g,w){var P=this.ptr;return tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),g&&"object"==typeof g&&(g=g.ptr),w&&"object"==typeof w&&(w=w.ptr),pl(P,d,g,w)},_n.prototype.StatFile=_n.prototype.StatFile=function(d){var g=this.ptr;return tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),Xl(g,d)},_n.prototype.GetEntry=_n.prototype.GetEntry=function(){return Hn(ht(this.ptr),sr)},_n.prototype.BytesFree=_n.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),Vs(this.ptr,d)},_n.prototype.BytesTotal=_n.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),_r(this.ptr,d)},_n.prototype.ReadFile=_n.prototype.ReadFile=function(d){var g=this.ptr;return tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),!!hs(g,d)},_n.prototype.GetCurrentFileSize=_n.prototype.GetCurrentFileSize=function(){return ea(this.ptr)},_n.prototype.GetCurrentFileContent=_n.prototype.GetCurrentFileContent=function(){return Hn(io(this.ptr),Mn)},_n.prototype.ReleaseCurrentFile=_n.prototype.ReleaseCurrentFile=function(){Zi(this.ptr)},_n.prototype.__destroy__=_n.prototype.__destroy__=function(){Si(this.ptr)},(Jr.prototype=Object.create(Ot.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},c.ReaddirContext=Jr,Jr.prototype.Next=Jr.prototype.Next=function(){return As(this.ptr)},Jr.prototype.GetEntry=Jr.prototype.GetEntry=function(){return Hn(Us(this.ptr),sr)},Jr.prototype.GetStatus=Jr.prototype.GetStatus=function(){return na(this.ptr)},Jr.prototype.GetError=Jr.prototype.GetError=function(){return Fa(this.ptr)},Jr.prototype.GetErrorDescription=Jr.prototype.GetErrorDescription=function(){return Be(Mt(this.ptr))},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){js(this.ptr)},(Wn.prototype=Object.create(Ot.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},c.CreateZipContext=Wn,Wn.prototype.AddFile=Wn.prototype.AddFile=function(d){var g=this.ptr;return tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),Hn(cr(g,d),Wn)},Wn.prototype.AddDirectory=Wn.prototype.AddDirectory=function(d){var g=this.ptr;return tn.prepare(),d=d&&"object"==typeof d?d.ptr:$r(d),Hn(Gr(g,d),Wn)},Wn.prototype.Continue=Wn.prototype.Continue=function(){return xr(this.ptr)},Wn.prototype.GetState=Wn.prototype.GetState=function(){return p(this.ptr)},Wn.prototype.GetZipContent=Wn.prototype.GetZipContent=function(){return Hn(y(this.ptr),Mn)},Wn.prototype.GetZipSize=Wn.prototype.GetZipSize=function(){return b(this.ptr)},Wn.prototype.GetErrorItem=Wn.prototype.GetErrorItem=function(){return Be(F(this.ptr))},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){H(this.ptr)},I.ready});$e.exports=We},5933:($e,We,x)=>{"use strict";x.d(We,{c:()=>Le});var I=x(9259),c=x(2286);let re;const z=pe=>pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=pe=>(void 0===re&&(re=void 0===pe.style.animationName&&void 0!==pe.style.webkitAnimationName?"-webkit-":""),re),L=(pe,G,K)=>{const de=G.startsWith("animation")?X(pe):"";pe.style.setProperty(de+G,K)},V=(pe,G)=>{const K=G.startsWith("animation")?X(pe):"";pe.style.removeProperty(K+G)},oe=[],Pe=(pe=[],G)=>{if(void 0!==G){const K=Array.isArray(G)?G:[G];return[...pe,...K]}return pe},Le=pe=>{let G,K,de,Fe,ue,at,Be,O,me,nt,rt,pt,xe,le=[],be=[],De=[],Xe=!1,Te={},ne=[],je=[],Qe={},yt=0,dn=!1,Ze=!1,Ue=!0,q=!1,ye=!0,Tt=!1;const an=pe,Qt=[],en=[],Z=[],vn=[],mr=[],Jn=[],Fo=[],Kr=[],yi=[],kn=[],uo="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,Vn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&uo,Hr=()=>kn,hn=(R,fe)=>((fe?.oneTimeCallback?en:Qt).push({c:R,o:fe}),xe),ji=()=>{if(Vn)kn.forEach(R=>{R.cancel()}),kn.length=0;else{const R=Z.slice();(0,I.r)(()=>{R.forEach(fe=>{V(fe,"animation-name"),V(fe,"animation-duration"),V(fe,"animation-timing-function"),V(fe,"animation-iteration-count"),V(fe,"animation-delay"),V(fe,"animation-play-state"),V(fe,"animation-fill-mode"),V(fe,"animation-direction")})})}},Lr=()=>{mr.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),mr.length=0},zt=()=>void 0!==ue?ue:Be?Be.getFill():"both",E=()=>void 0!==me?me:void 0!==at?at:Be?Be.getDirection():"normal",S=()=>dn?"linear":void 0!==de?de:Be?Be.getEasing():"linear",Yn=()=>Ze?0:void 0!==nt?nt:void 0!==K?K:Be?Be.getDuration():0,D=()=>void 0!==Fe?Fe:Be?Be.getIterations():1,Rn=()=>void 0!==rt?rt:void 0!==G?G:Be?Be.getDelay():0,bo=()=>{0!==yt&&(yt--,0===yt&&((()=>{fr(),Kr.forEach(it=>it()),yi.forEach(it=>it());const R=Ue?1:0,fe=ne,Ie=je,Je=Qe;Z.forEach(it=>{const Ae=it.classList;fe.forEach(Gt=>Ae.add(Gt)),Ie.forEach(Gt=>Ae.remove(Gt));for(const Gt in Je)Je.hasOwnProperty(Gt)&&L(it,Gt,Je[Gt])}),Qt.forEach(it=>it.c(R,xe)),en.forEach(it=>it.c(R,xe)),en.length=0,ye=!0,Ue&&(q=!0),Ue=!0})(),Be&&Be.animationFinish()))},zr=(R=!0)=>{Lr();const fe=(pe=>(pe.forEach(G=>{for(const K in G)if(G.hasOwnProperty(K)){const de=G[K];if("easing"===K)G["animation-timing-function"]=de,delete G[K];else{const Fe=z(K);Fe!==K&&(G[Fe]=de,delete G[K])}}}),pe))(le);Z.forEach(Ie=>{if(fe.length>0){const Je=((pe=[])=>pe.map(G=>{const K=G.offset,de=[];for(const Fe in G)G.hasOwnProperty(Fe)&&"offset"!==Fe&&de.push(`${Fe}: ${G[Fe]};`);return`${100*K}% { ${de.join(" ")} }`}).join(" "))(fe);pt=void 0!==pe?pe:(pe=>{let G=oe.indexOf(pe);return G<0&&(G=oe.push(pe)-1),`ion-animation-${G}`})(Je);const it=((pe,G,K)=>{var de;const Fe=(pe=>{const G=void 0!==pe.getRootNode?pe.getRootNode():pe;return G.head||G})(K),ue=X(K),at=Fe.querySelector("#"+pe);if(at)return at;const le=(null!==(de=K.ownerDocument)&&void 0!==de?de:document).createElement("style");return le.id=pe,le.textContent=`@${ue}keyframes ${pe} { ${G} } @${ue}keyframes ${pe}-alt { ${G} }`,Fe.appendChild(le),le})(pt,Je,Ie);mr.push(it),L(Ie,"animation-duration",`${Yn()}ms`),L(Ie,"animation-timing-function",S()),L(Ie,"animation-delay",`${Rn()}ms`),L(Ie,"animation-fill-mode",zt()),L(Ie,"animation-direction",E());const Ae=D()===1/0?"infinite":D().toString();L(Ie,"animation-iteration-count",Ae),L(Ie,"animation-play-state","paused"),R&&L(Ie,"animation-name",`${it.id}-alt`),(0,I.r)(()=>{L(Ie,"animation-name",it.id||null)})}})},Yo=(R=!0)=>{(()=>{Jn.forEach(Je=>Je()),Fo.forEach(Je=>Je());const R=be,fe=De,Ie=Te;Z.forEach(Je=>{const it=Je.classList;R.forEach(Ae=>it.add(Ae)),fe.forEach(Ae=>it.remove(Ae));for(const Ae in Ie)Ie.hasOwnProperty(Ae)&&L(Je,Ae,Ie[Ae])})})(),le.length>0&&(Vn?(Z.forEach(R=>{const fe=R.animate(le,{id:an,delay:Rn(),duration:Yn(),easing:S(),iterations:D(),fill:zt(),direction:E()});fe.pause(),kn.push(fe)}),kn.length>0&&(kn[0].onfinish=()=>{bo()})):zr(R)),Xe=!0},Eo=R=>{if(R=Math.min(Math.max(R,0),.9999),Vn)kn.forEach(fe=>{fe.currentTime=fe.effect.getComputedTiming().delay+Yn()*R,fe.pause()});else{const fe=`-${Yn()*R}ms`;Z.forEach(Ie=>{le.length>0&&(L(Ie,"animation-delay",fe),L(Ie,"animation-play-state","paused"))})}},oo=R=>{kn.forEach(fe=>{fe.effect.updateTiming({delay:Rn(),duration:Yn(),easing:S(),iterations:D(),fill:zt(),direction:E()})}),void 0!==R&&Eo(R)},zi=(R=!0,fe)=>{(0,I.r)(()=>{Z.forEach(Ie=>{L(Ie,"animation-name",pt||null),L(Ie,"animation-duration",`${Yn()}ms`),L(Ie,"animation-timing-function",S()),L(Ie,"animation-delay",void 0!==fe?`-${fe*Yn()}ms`:`${Rn()}ms`),L(Ie,"animation-fill-mode",zt()||null),L(Ie,"animation-direction",E()||null);const Je=D()===1/0?"infinite":D().toString();L(Ie,"animation-iteration-count",Je),R&&L(Ie,"animation-name",`${pt}-alt`),(0,I.r)(()=>{L(Ie,"animation-name",pt||null)})})})},fo=(R=!1,fe=!0,Ie)=>(R&&vn.forEach(Je=>{Je.update(R,fe,Ie)}),Vn?oo(Ie):zi(fe,Ie),xe),Gi=()=>{Xe&&(Vn?kn.forEach(R=>{R.pause()}):Z.forEach(R=>{L(R,"animation-play-state","paused")}),Tt=!0)},ks=()=>{O=void 0,bo()},fr=()=>{O&&clearTimeout(O)},A=R=>new Promise(fe=>{R?.sync&&(Ze=!0,hn(()=>Ze=!1,{oneTimeCallback:!0})),Xe||Yo(),q&&(Vn?(Eo(0),oo()):zi(),q=!1),ye&&(yt=vn.length+1,ye=!1),hn(()=>fe(),{oneTimeCallback:!0}),vn.forEach(Ie=>{Ie.play()}),Vn?(kn.forEach(R=>{R.play()}),(0===le.length||0===Z.length)&&bo()):(()=>{if(fr(),(0,I.r)(()=>{Z.forEach(R=>{le.length>0&&L(R,"animation-play-state","running")})}),0===le.length||0===Z.length)bo();else{const R=Rn()||0,fe=Yn()||0,Ie=D()||1;isFinite(Ie)&&(O=setTimeout(ks,R+fe*Ie+100)),((pe,G)=>{let K;const de={passive:!0},ue=at=>{pe===at.target&&(K&&K(),fr(),(0,I.r)(()=>{Z.forEach(R=>{V(R,"animation-duration"),V(R,"animation-delay"),V(R,"animation-play-state")}),(0,I.r)(bo)}))};pe&&(pe.addEventListener("webkitAnimationEnd",ue,de),pe.addEventListener("animationend",ue,de),K=()=>{pe.removeEventListener("webkitAnimationEnd",ue,de),pe.removeEventListener("animationend",ue,de)})})(Z[0])}})(),Tt=!1}),he=(R,fe)=>{const Ie=le[0];return void 0===Ie||void 0!==Ie.offset&&0!==Ie.offset?le=[{offset:0,[R]:fe},...le]:Ie[R]=fe,xe};return xe={parentAnimation:Be,elements:Z,childAnimations:vn,id:an,animationFinish:bo,from:he,to:(R,fe)=>{const Ie=le[le.length-1];return void 0===Ie||void 0!==Ie.offset&&1!==Ie.offset?le=[...le,{offset:1,[R]:fe}]:Ie[R]=fe,xe},fromTo:(R,fe,Ie)=>he(R,fe).to(R,Ie),parent:R=>(Be=R,xe),play:A,pause:()=>(vn.forEach(R=>{R.pause()}),Gi(),xe),stop:()=>{vn.forEach(R=>{R.stop()}),Xe&&(ji(),Xe=!1),dn=!1,Ze=!1,ye=!0,me=void 0,nt=void 0,rt=void 0,yt=0,q=!1,Ue=!0,Tt=!1},destroy:R=>(vn.forEach(fe=>{fe.destroy(R)}),(R=>{ji(),R&&Lr()})(R),Z.length=0,vn.length=0,le.length=0,Qt.length=0,en.length=0,Xe=!1,ye=!0,xe),keyframes:R=>{const fe=le!==R;return le=R,fe&&(R=>{Vn?Hr().forEach(fe=>{if(fe.effect.setKeyframes)fe.effect.setKeyframes(R);else{const Ie=new KeyframeEffect(fe.effect.target,R,fe.effect.getTiming());fe.effect=Ie}}):zr()})(le),xe},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const fe of R)fe.parent(xe),vn.push(fe);else R.parent(xe),vn.push(R);return xe},addElement:R=>{if(null!=R)if(1===R.nodeType)Z.push(R);else if(R.length>=0)for(let fe=0;fe<R.length;fe++)Z.push(R[fe]);else console.error("Invalid addElement value");return xe},update:fo,fill:R=>(ue=R,fo(!0),xe),direction:R=>(at=R,fo(!0),xe),iterations:R=>(Fe=R,fo(!0),xe),duration:R=>(!Vn&&0===R&&(R=1),K=R,fo(!0),xe),easing:R=>(de=R,fo(!0),xe),delay:R=>(G=R,fo(!0),xe),getWebAnimations:Hr,getKeyframes:()=>le,getFill:zt,getDirection:E,getDelay:Rn,getIterations:D,getEasing:S,getDuration:Yn,afterAddRead:R=>(Kr.push(R),xe),afterAddWrite:R=>(yi.push(R),xe),afterClearStyles:(R=[])=>{for(const fe of R)Qe[fe]="";return xe},afterStyles:(R={})=>(Qe=R,xe),afterRemoveClass:R=>(je=Pe(je,R),xe),afterAddClass:R=>(ne=Pe(ne,R),xe),beforeAddRead:R=>(Jn.push(R),xe),beforeAddWrite:R=>(Fo.push(R),xe),beforeClearStyles:(R=[])=>{for(const fe of R)Te[fe]="";return xe},beforeStyles:(R={})=>(Te=R,xe),beforeRemoveClass:R=>(De=Pe(De,R),xe),beforeAddClass:R=>(be=Pe(be,R),xe),onFinish:hn,isRunning:()=>0!==yt&&!Tt,progressStart:(R=!1,fe)=>(vn.forEach(Ie=>{Ie.progressStart(R,fe)}),Gi(),dn=R,Xe||Yo(),fo(!1,!0,fe),xe),progressStep:R=>(vn.forEach(fe=>{fe.progressStep(R)}),Eo(R),xe),progressEnd:(R,fe,Ie)=>(dn=!1,vn.forEach(Je=>{Je.progressEnd(R,fe,Ie)}),void 0!==Ie&&(nt=Ie),q=!1,Ue=!0,0===R?(me="reverse"===E()?"normal":"reverse","reverse"===me&&(Ue=!1),Vn?(fo(),Eo(1-fe)):(rt=(1-fe)*Yn()*-1,fo(!1,!1))):1===R&&(Vn?(fo(),Eo(fe)):(rt=fe*Yn()*-1,fo(!1,!1))),void 0!==R&&(hn(()=>{nt=void 0,me=void 0,rt=void 0},{oneTimeCallback:!0}),Be||A()),xe)}}},6379:($e,We,x)=>{"use strict";x.d(We,{G:()=>z});class c{constructor(L,V,ce,Y,oe){this.id=V,this.name=ce,this.disableScroll=oe,this.priority=1e6*Y+V,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(L,V,ce,Y){this.id=V,this.disable=ce,this.disableScroll=Y,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ee="backdrop-no-scroll",z=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var V;return new c(this,this.newID(),L.name,null!==(V=L.priority)&&void 0!==V?V:0,!!L.disableScroll)}createBlocker(L={}){return new re(this,this.newID(),L.disable,!!L.disableScroll)}start(L,V,ce){return this.canStart(L)?(this.requestedStart.set(V,ce),!0):(this.requestedStart.delete(V),!1)}capture(L,V,ce){if(!this.start(L,V,ce))return!1;const Y=this.requestedStart;let oe=-1e4;if(Y.forEach(B=>{oe=Math.max(oe,B)}),oe===ce){this.capturedId=V,Y.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return Y.delete(V),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,V){let ce=this.disabledGestures.get(L);void 0===ce&&(ce=new Set,this.disabledGestures.set(L,ce)),ce.add(V)}enableGesture(L,V){const ce=this.disabledGestures.get(L);void 0!==ce&&ce.delete(V)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(ee)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(ee)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const V=this.disabledGestures.get(L);return!!(V&&V.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:($e,We,x)=>{"use strict";x.r(We),x.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>z,OVERLAY_BACK_BUTTON_PRIORITY:()=>ee,blockHardwareBackButton:()=>c,startHardwareBackButton:()=>re});var I=x(3918);const c=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const X=document;let L=!1;X.addEventListener("backbutton",()=>{if(L)return;let V=0,ce=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,j){ce.push({priority:$,handler:j,id:V++})}}});X.dispatchEvent(Y);const oe=function(){var $=(0,I.Z)(function*(j){try{if(j?.handler){const Pe=j.handler(B);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),B=()=>{if(ce.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ce.forEach(j=>{j.priority>=$.priority&&($=j)}),L=!0,ce=ce.filter(j=>j.id!==$.id),oe($).then(()=>L=!1)}};B()})},ee=100,z=99},9259:($e,We,x)=>{"use strict";x.d(We,{a:()=>L,b:()=>V,c:()=>re,d:()=>j,e:()=>Pe,f:()=>$,g:()=>ce,h:()=>Fe,i:()=>X,j:()=>ee,k:()=>B,l:()=>Le,m:()=>oe,n:()=>pe,o:()=>de,p:()=>K,q:()=>ue,r:()=>Y,s:()=>at,t:()=>I,u:()=>G});const I=(le,be=0)=>new Promise(De=>{c(le,be,De)}),c=(le,be=0,De)=>{let Xe,Be;const Te={passive:!0},je=()=>{Xe&&Xe()},Qe=yt=>{(void 0===yt||le===yt.target)&&(je(),De(yt))};return le&&(le.addEventListener("webkitTransitionEnd",Qe,Te),le.addEventListener("transitionend",Qe,Te),Be=setTimeout(Qe,be+500),Xe=()=>{Be&&(clearTimeout(Be),Be=void 0),le.removeEventListener("webkitTransitionEnd",Qe,Te),le.removeEventListener("transitionend",Qe,Te)}),je},re=(le,be)=>{le.componentOnReady?le.componentOnReady().then(De=>be(De)):Y(()=>be(le))},ee=(le,be=[])=>{const De={};return be.forEach(Xe=>{le.hasAttribute(Xe)&&(null!==le.getAttribute(Xe)&&(De[Xe]=le.getAttribute(Xe)),le.removeAttribute(Xe))}),De},z=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=(le,be)=>{let De=z;return be&&be.length>0&&(De=De.filter(Xe=>!be.includes(Xe))),ee(le,De)},L=(le,be,De,Xe)=>{var Be;if(typeof window<"u"){const ne=null===(Be=window?.Ionic)||void 0===Be?void 0:Be.config;if(ne){const je=ne.get("_ael");if(je)return je(le,be,De,Xe);if(ne._ael)return ne._ael(le,be,De,Xe)}}return le.addEventListener(be,De,Xe)},V=(le,be,De,Xe)=>{var Be;if(typeof window<"u"){const ne=null===(Be=window?.Ionic)||void 0===Be?void 0:Be.config;if(ne){const je=ne.get("_rel");if(je)return je(le,be,De,Xe);if(ne._rel)return ne._rel(le,be,De,Xe)}}return le.removeEventListener(be,De,Xe)},ce=(le,be=le)=>le.shadowRoot||be,Y=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le),oe=le=>!!le.shadowRoot&&!!le.attachShadow,B=le=>{const be=le.closest("ion-item");return be?be.querySelector("ion-label"):null},$=le=>{if(le.focus(),le.classList.contains("ion-focusable")){const be=le.closest("ion-app");be&&be.setFocus([le])}},j=(le,be)=>{let De;const Xe=le.getAttribute("aria-labelledby"),Be=le.id;let Te=null!==Xe&&""!==Xe.trim()?Xe:be+"-lbl",ne=null!==Xe&&""!==Xe.trim()?document.getElementById(Xe):B(le);return ne?(null===Xe&&(ne.id=Te),De=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==Be.trim()&&(ne=document.querySelector(`label[for="${Be}"]`),ne&&(""!==ne.id?Te=ne.id:ne.id=Te=`${Be}-lbl`,De=ne.textContent)),{label:ne,labelId:Te,labelText:De}},Pe=(le,be,De,Xe,Be)=>{if(le||oe(be)){let Te=be.querySelector("input.aux-input");Te||(Te=be.ownerDocument.createElement("input"),Te.type="hidden",Te.classList.add("aux-input"),be.appendChild(Te)),Te.disabled=Be,Te.name=De,Te.value=Xe||""}},Le=(le,be,De)=>Math.max(le,Math.min(be,De)),pe=(le,be)=>{if(!le){const De="ASSERT: "+be;throw console.error(De),new Error(De)}},G=le=>le.timeStamp||Date.now(),K=le=>{if(le){const be=le.changedTouches;if(be&&be.length>0){const De=be[0];return{x:De.clientX,y:De.clientY}}if(void 0!==le.pageX)return{x:le.pageX,y:le.pageY}}return{x:0,y:0}},de=le=>{const be="rtl"===document.dir;switch(le){case"start":return be;case"end":return!be;default:throw new Error(`"${le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(le,be)=>{const De=le._original||le;return{_original:le,emit:ue(De.emit.bind(De),be)}},ue=(le,be=0)=>{let De;return(...Xe)=>{clearTimeout(De),De=setTimeout(le,be,...Xe)}},at=(le,be)=>{if(le??(le={}),be??(be={}),le===be)return!0;const De=Object.keys(le);if(De.length!==Object.keys(be).length)return!1;for(const Xe of De)if(!(Xe in be)||le[Xe]!==be[Xe])return!1;return!0}},919:($e,We,x)=>{"use strict";x.d(We,{L:()=>ee,a:()=>z,b:()=>X,c:()=>L,d:()=>V,e:()=>be,g:()=>Be,l:()=>at,s:()=>De,t:()=>oe});var I=x(3918),c=x(1559),re=x(9259);const ee="ionViewWillEnter",z="ionViewDidEnter",X="ionViewWillLeave",L="ionViewDidLeave",V="ionViewWillUnload",oe=Te=>new Promise((ne,je)=>{(0,c.c)(()=>{B(Te),$(Te).then(Qe=>{Qe.animation&&Qe.animation.destroy(),j(Te),ne(Qe)},Qe=>{j(Te),je(Qe)})})}),B=Te=>{const ne=Te.enteringEl,je=Te.leavingEl;Xe(ne,je,Te.direction),Te.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),De(ne,!1),ne.style.setProperty("pointer-events","none"),je&&(De(je,!1),je.style.setProperty("pointer-events","none"))},$=function(){var Te=(0,I.Z)(function*(ne){const je=yield Pe(ne);return je&&c.B.isBrowser?Le(je,ne):pe(ne)});return function(je){return Te.apply(this,arguments)}}(),j=Te=>{const ne=Te.enteringEl,je=Te.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==je&&(je.classList.remove("ion-page-invisible"),je.style.removeProperty("pointer-events"))},Pe=function(){var Te=(0,I.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(x.bind(x,9078))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,4199))).mdTransitionAnimation:void 0});return function(je){return Te.apply(this,arguments)}}(),Le=function(){var Te=(0,I.Z)(function*(ne,je){yield G(je,!0);const Qe=ne(je.baseEl,je);Fe(je.enteringEl,je.leavingEl);const yt=yield de(Qe,je);return je.progressCallback&&je.progressCallback(void 0),yt&&ue(je.enteringEl,je.leavingEl),{hasCompleted:yt,animation:Qe}});return function(je,Qe){return Te.apply(this,arguments)}}(),pe=function(){var Te=(0,I.Z)(function*(ne){const je=ne.enteringEl,Qe=ne.leavingEl;return yield G(ne,!1),Fe(je,Qe),ue(je,Qe),{hasCompleted:!0}});return function(je){return Te.apply(this,arguments)}}(),G=function(){var Te=(0,I.Z)(function*(ne,je){const yt=(void 0!==ne.deepWait?ne.deepWait:je)?[be(ne.enteringEl),be(ne.leavingEl)]:[le(ne.enteringEl),le(ne.leavingEl)];yield Promise.all(yt),yield K(ne.viewIsReady,ne.enteringEl)});return function(je,Qe){return Te.apply(this,arguments)}}(),K=function(){var Te=(0,I.Z)(function*(ne,je){ne&&(yield ne(je))});return function(je,Qe){return Te.apply(this,arguments)}}(),de=(Te,ne)=>{const je=ne.progressCallback,Qe=new Promise(yt=>{Te.onFinish(dn=>yt(1===dn))});return je?(Te.progressStart(!0),je(Te)):Te.play(),Qe},Fe=(Te,ne)=>{at(ne,X),at(Te,ee)},ue=(Te,ne)=>{at(Te,z),at(ne,L)},at=(Te,ne)=>{if(Te){const je=new CustomEvent(ne,{bubbles:!1,cancelable:!1});Te.dispatchEvent(je)}},le=Te=>Te?new Promise(ne=>(0,re.c)(Te,ne)):Promise.resolve(),be=function(){var Te=(0,I.Z)(function*(ne){const je=ne;if(je){if(null!=je.componentOnReady){if(null!=(yield je.componentOnReady()))return}else if(null!=je.__registerHost)return void(yield new Promise(yt=>(0,re.r)(yt)));yield Promise.all(Array.from(je.children).map(be))}});return function(je){return Te.apply(this,arguments)}}(),De=(Te,ne)=>{ne?(Te.setAttribute("aria-hidden","true"),Te.classList.add("ion-page-hidden")):(Te.hidden=!1,Te.removeAttribute("aria-hidden"),Te.classList.remove("ion-page-hidden"))},Xe=(Te,ne,je)=>{void 0!==Te&&(Te.style.zIndex="back"===je?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Be=Te=>Te.classList.contains("ion-page")?Te:Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Te},7351:($e,We,x)=>{"use strict";x.d(We,{m:()=>oe});var I=x(3918),c=x(159),re=x(9259),ee=x(5823),z=x(5933);const X=B=>(0,z.c)().duration(B?400:300),L=B=>{let $,j;const Pe=B.width+8,Le=(0,z.c)(),pe=(0,z.c)();B.isEndSide?($=Pe+"px",j="0px"):($=-Pe+"px",j="0px"),Le.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${j})`);const K="ios"===(0,ee.b)(B),de=K?.2:.25;return pe.addElement(B.backdropEl).fromTo("opacity",.01,de),X(K).addAnimation([Le,pe])},V=B=>{let $,j;const Pe=(0,ee.b)(B),Le=B.width;B.isEndSide?($=-Le+"px",j=Le+"px"):($=Le+"px",j=-Le+"px");const pe=(0,z.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),G=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),K=(0,z.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Pe).addAnimation([pe,G,K])},ce=B=>{const $=(0,ee.b)(B),j=B.width*(B.isEndSide?-1:1)+"px",Pe=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return X("ios"===$).addAnimation(Pe)},oe=(()=>{const B=new Map,$=[],j=function(){var O=(0,I.Z)(function*(me){const nt=yield Fe(me);return!!nt&&nt.open()});return function(nt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,I.Z)(function*(me){const nt=yield void 0!==me?Fe(me):ue();return void 0!==nt&&nt.close()});return function(nt){return O.apply(this,arguments)}}(),Le=function(){var O=(0,I.Z)(function*(me){const nt=yield Fe(me);return!!nt&&nt.toggle()});return function(nt){return O.apply(this,arguments)}}(),pe=function(){var O=(0,I.Z)(function*(me,nt){const rt=yield Fe(nt);return rt&&(rt.disabled=!me),rt});return function(nt,rt){return O.apply(this,arguments)}}(),G=function(){var O=(0,I.Z)(function*(me,nt){const rt=yield Fe(nt);return rt&&(rt.swipeGesture=me),rt});return function(nt,rt){return O.apply(this,arguments)}}(),K=function(){var O=(0,I.Z)(function*(me){if(null!=me){const nt=yield Fe(me);return void 0!==nt&&nt.isOpen()}return void 0!==(yield ue())});return function(nt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(me){const nt=yield Fe(me);return!!nt&&!nt.disabled});return function(nt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(me){return yield Ze(),"start"===me||"end"===me?dn(Ue=>Ue.side===me&&!Ue.disabled)||dn(Ue=>Ue.side===me):null!=me?dn(rt=>rt.menuId===me):dn(rt=>!rt.disabled)||($.length>0?$[0].el:void 0)});return function(nt){return O.apply(this,arguments)}}(),ue=function(){var O=(0,I.Z)(function*(){return yield Ze(),je()});return function(){return O.apply(this,arguments)}}(),at=function(){var O=(0,I.Z)(function*(){return yield Ze(),Qe()});return function(){return O.apply(this,arguments)}}(),le=function(){var O=(0,I.Z)(function*(){return yield Ze(),yt()});return function(){return O.apply(this,arguments)}}(),be=(O,me)=>{B.set(O,me)},Be=O=>{const me=O.side;$.filter(nt=>nt.side===me&&nt!==O).forEach(nt=>nt.disabled=!0)},Te=function(){var O=(0,I.Z)(function*(me,nt,rt){if(yt())return!1;if(nt){const Ue=yield ue();Ue&&me.el!==Ue&&(yield Ue.setOpen(!1,!1))}return me._setOpen(nt,rt)});return function(nt,rt,Ue){return O.apply(this,arguments)}}(),je=()=>dn(O=>O._isOpen),Qe=()=>$.map(O=>O.el),yt=()=>$.some(O=>O.isAnimating),dn=O=>{const me=$.find(O);if(void 0!==me)return me.el},Ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(me=>(0,re.c)(O,me))));return be("reveal",ce),be("push",V),be("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const me=je();me&&O.detail.register(c.MENU_BACK_BUTTON_PRIORITY,()=>me.close())}),{registerAnimation:be,get:Fe,getMenus:at,getOpen:ue,isEnabled:de,swipeGesture:G,isAnimating:le,isOpen:K,enable:pe,toggle:Le,close:Pe,open:j,_getOpenSync:je,_createAnimation:(O,me)=>{const nt=B.get(O);if(!nt)throw new Error("animation not registered");return nt(me)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Be(O),$.push(O))},_unregister:O=>{const me=$.indexOf(O);me>-1&&$.splice(me,1)},_setOpen:Te,_setActiveMenu:Be}})()},2286:($e,We,x)=>{"use strict";x.d(We,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:($e,We,x)=>{"use strict";x.r(We),x.d(We,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ce});var I=x(6379);const c=($,j,Pe,Le)=>{const pe=re($)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let G,K;return $.__zone_symbol__addEventListener?(G="__zone_symbol__addEventListener",K="__zone_symbol__removeEventListener"):(G="addEventListener",K="removeEventListener"),$[G](j,Pe,pe),()=>{$[K](j,Pe,pe)}},re=$=>{if(void 0===ee)try{const j=Object.defineProperty({},"passive",{get:()=>{ee=!0}});$.addEventListener("optsTest",()=>{},j)}catch{ee=!1}return!!ee};let ee;const L=$=>$ instanceof Document?$:$.ownerDocument,ce=$=>{let j=!1,Pe=!1,Le=!0,pe=!1;const G=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),K=G.canStart,de=G.onWillStart,Fe=G.onStart,ue=G.onEnd,at=G.notCaptured,le=G.onMove,be=G.threshold,De=G.passive,Xe=G.blurOnStart,Be={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Te=(($,j,Pe)=>{const Le=Pe*(Math.PI/180),pe="x"===$,G=Math.cos(Le),K=j*j;let de=0,Fe=0,ue=!1,at=0;return{start(le,be){de=le,Fe=be,at=0,ue=!0},detect(le,be){if(!ue)return!1;const De=le-de,Xe=be-Fe,Be=De*De+Xe*Xe;if(Be<K)return!1;const Te=Math.sqrt(Be),ne=(pe?De:Xe)/Te;return at=ne>G?1:ne<-G?-1:0,ue=!1,!0},isGesture:()=>0!==at,getDirection:()=>at}})(G.direction,G.threshold,G.maxAngle),ne=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),yt=()=>{j&&(pe=!1,le&&le(Be))},dn=()=>!!ne.capture()&&(j=!0,Le=!1,Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime,de?de(Be).then(O):O(),!0),O=()=>{Xe&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe(Be),Le=!0},me=()=>{j=!1,Pe=!1,pe=!1,Le=!0,ne.release()},nt=q=>{const ye=j,pt=Le;if(me(),pt){if(Y(Be,q),ye)return void(ue&&ue(Be));at&&at(Be)}},rt=(($,j,Pe,Le,pe)=>{let G,K,de,Fe,ue,at,le,be=0;const De=Ze=>{be=Date.now()+2e3,j(Ze)&&(!K&&Pe&&(K=c($,"touchmove",Pe,pe)),de||(de=c(Ze.target,"touchend",Be,pe)),Fe||(Fe=c(Ze.target,"touchcancel",Be,pe)))},Xe=Ze=>{be>Date.now()||j(Ze)&&(!at&&Pe&&(at=c(L($),"mousemove",Pe,pe)),le||(le=c(L($),"mouseup",Te,pe)))},Be=Ze=>{ne(),Le&&Le(Ze)},Te=Ze=>{je(),Le&&Le(Ze)},ne=()=>{K&&K(),de&&de(),Fe&&Fe(),K=de=Fe=void 0},je=()=>{at&&at(),le&&le(),at=le=void 0},Qe=()=>{ne(),je()},yt=(Ze=!0)=>{Ze?(G||(G=c($,"touchstart",De,pe)),ue||(ue=c($,"mousedown",Xe,pe))):(G&&G(),ue&&ue(),G=ue=void 0,Qe())};return{enable:yt,stop:Qe,destroy:()=>{yt(!1),Le=Pe=j=void 0}}})(G.el,q=>{const ye=B(q);return!(Pe||!Le||(oe(q,Be),Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime=ye,Be.velocityX=Be.velocityY=Be.deltaX=Be.deltaY=0,Be.event=q,K&&!1===K(Be))||(ne.release(),!ne.start()))&&(Pe=!0,0===be?dn():(Te.start(Be.startX,Be.startY),!0))},q=>{j?!pe&&Le&&(pe=!0,Y(Be,q),requestAnimationFrame(yt)):(Y(Be,q),Te.detect(Be.currentX,Be.currentY)&&(!Te.isGesture()||!dn())&&Ue())},nt,{capture:!1,passive:De}),Ue=()=>{me(),rt.stop(),at&&at(Be)};return{enable(q=!0){q||(j&&nt(void 0),me()),rt.enable(q)},destroy(){ne.destroy(),rt.destroy()}}},Y=($,j)=>{if(!j)return;const Pe=$.currentX,Le=$.currentY,pe=$.currentTime;oe(j,$);const G=$.currentX,K=$.currentY,Fe=($.currentTime=B(j))-pe;if(Fe>0&&Fe<100){const at=(K-Le)/Fe;$.velocityX=(G-Pe)/Fe*.7+.3*$.velocityX,$.velocityY=.7*at+.3*$.velocityY}$.deltaX=G-$.startX,$.deltaY=K-$.startY,$.event=j},oe=($,j)=>{let Pe=0,Le=0;if($){const pe=$.changedTouches;if(pe&&pe.length>0){const G=pe[0];Pe=G.clientX,Le=G.clientY}else void 0!==$.pageX&&(Pe=$.pageX,Le=$.pageY)}j.currentX=Pe,j.currentY=Le},B=$=>$.timeStamp||Date.now()},1559:($e,We,x)=>{"use strict";x.d(We,{B:()=>nr,H:()=>Z,a:()=>Ue,b:()=>si,c:()=>Pi,e:()=>qt,f:()=>ps,g:()=>q,h:()=>Qt,i:()=>Ln,j:()=>E,k:()=>Ko,p:()=>Le,r:()=>Hi,s:()=>j});var I=x(3918);let re,ee,z,X=!1,L=!1,V=!1,ce=!1,Y=!1;const oe=typeof window<"u"?window:{},B=oe.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,N,he,Se)=>A.addEventListener(N,he,Se),rel:(A,N,he,Se)=>A.removeEventListener(N,he,Se),ce:(A,N)=>new CustomEvent(A,N)},j=A=>{Object.assign($,A)},Le=A=>Promise.resolve(A),pe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),G=(A,N,he,Se)=>{he&&he.map(([Oe,R,fe])=>{const Ie=de(A,Oe),Je=K(N,fe),it=Fe(Oe);$.ael(Ie,R,Je,it),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(Ie,R,Je,it))})},K=(A,N)=>he=>{try{256&A.$flags$?A.$lazyInstance$[N](he):(A.$queuedListeners$=A.$queuedListeners$||[]).push([N,he])}catch(Se){oo(Se)}},de=(A,N)=>4&N?B:8&N?oe:16&N?B.body:A,Fe=A=>0!=(2&A),De="s-id",Xe="sty-id",ne="http://www.w3.org/1999/xlink",yt=new WeakMap,dn=(A,N,he)=>{let Se=wi.get(A);pe&&he?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=N:Se.replaceSync(N)):Se=N,wi.set(A,Se)},Ze=(A,N,he,Se)=>{let Oe=me(N,he);const R=wi.get(Oe);if(A=11===A.nodeType?A:B,R)if("string"==typeof R){let Ie,fe=yt.get(A=A.head||A);fe||yt.set(A,fe=new Set),fe.has(Oe)||(A.host&&(Ie=A.querySelector(`[${Xe}="${Oe}"]`))?Ie.innerHTML=R:(Ie=B.createElement("style"),Ie.innerHTML=R,A.insertBefore(Ie,A.querySelector("link"))),fe&&fe.add(Oe))}else A.adoptedStyleSheets.includes(R)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,R]);return Oe},me=(A,N)=>"sc-"+(N&&32&A.$flags$?A.$tagName$+"-"+N:A.$tagName$),nt=A=>A.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ue=A=>fs.push(A),q=A=>zr(A).$modeName$,ye={},an=A=>"object"==(A=typeof A)||"function"===A,Qt=(A,N,...he)=>{let Se=null,Oe=null,R=null,fe=!1,Ie=!1;const Je=[],it=Gt=>{for(let wt=0;wt<Gt.length;wt++)Se=Gt[wt],Array.isArray(Se)?it(Se):null!=Se&&"boolean"!=typeof Se&&((fe="function"!=typeof A&&!an(Se))&&(Se=String(Se)),fe&&Ie?Je[Je.length-1].$text$+=Se:Je.push(fe?en(null,Se):Se),Ie=fe)};if(it(he),N){N.key&&(Oe=N.key),N.name&&(R=N.name);{const Gt=N.className||N.class;Gt&&(N.class="object"!=typeof Gt?Gt:Object.keys(Gt).filter(wt=>Gt[wt]).join(" "))}}if("function"==typeof A)return A(null===N?{}:N,Je,mr);const Ae=en(A,null);return Ae.$attrs$=N,Je.length>0&&(Ae.$children$=Je),Ae.$key$=Oe,Ae.$name$=R,Ae},en=(A,N)=>({$flags$:0,$tag$:A,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Z={},mr={forEach:(A,N)=>A.map(Jn).forEach(N),map:(A,N)=>A.map(Jn).map(N).map(Fo)},Jn=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),Fo=A=>{if("function"==typeof A.vtag){const he=Object.assign({},A.vattrs);return A.vkey&&(he.key=A.vkey),A.vname&&(he.name=A.vname),Qt(A.vtag,he,...A.vchildren||[])}const N=en(A.vtag,A.vtext);return N.$attrs$=A.vattrs,N.$children$=A.vchildren,N.$key$=A.vkey,N.$name$=A.vname,N},Kr=(A,N,he,Se,Oe,R)=>{if(he!==Se){let fe=Eo(A,N),Ie=N.toLowerCase();if("class"===N){const Je=A.classList,it=kn(he),Ae=kn(Se);Je.remove(...it.filter(Gt=>Gt&&!Ae.includes(Gt))),Je.add(...Ae.filter(Gt=>Gt&&!it.includes(Gt)))}else if("style"===N){for(const Je in he)(!Se||null==Se[Je])&&(Je.includes("-")?A.style.removeProperty(Je):A.style[Je]="");for(const Je in Se)(!he||Se[Je]!==he[Je])&&(Je.includes("-")?A.style.setProperty(Je,Se[Je]):A.style[Je]=Se[Je])}else if("key"!==N)if("ref"===N)Se&&Se(A);else if(fe||"o"!==N[0]||"n"!==N[1]){const Je=an(Se);if((fe||Je&&null!==Se)&&!Oe)try{if(A.tagName.includes("-"))A[N]=Se;else{const Ae=Se??"";"list"===N?fe=!1:(null==he||A[N]!=Ae)&&(A[N]=Ae)}}catch{}let it=!1;Ie!==(Ie=Ie.replace(/^xlink\:?/,""))&&(N=Ie,it=!0),null==Se||!1===Se?(!1!==Se||""===A.getAttribute(N))&&(it?A.removeAttributeNS(ne,N):A.removeAttribute(N)):(!fe||4&R||Oe)&&!Je&&(Se=!0===Se?"":Se,it?A.setAttributeNS(ne,N,Se):A.setAttribute(N,Se))}else N="-"===N[2]?N.slice(3):Eo(oe,Ie)?Ie.slice(2):Ie[2]+N.slice(3),he&&$.rel(A,N,he,!1),Se&&$.ael(A,N,Se,!1)}},yi=/\s/,kn=A=>A?A.split(yi):[],uo=(A,N,he,Se)=>{const Oe=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,R=A&&A.$attrs$||ye,fe=N.$attrs$||ye;for(Se in R)Se in fe||Kr(Oe,Se,R[Se],void 0,he,N.$flags$);for(Se in fe)Kr(Oe,Se,R[Se],fe[Se],he,N.$flags$)},Vn=(A,N,he,Se)=>{const Oe=N.$children$[he];let fe,Ie,Je,R=0;if(X||(V=!0,"slot"===Oe.$tag$&&(re&&Se.classList.add(re+"-s"),Oe.$flags$|=Oe.$children$?2:1)),null!==Oe.$text$)fe=Oe.$elm$=B.createTextNode(Oe.$text$);else if(1&Oe.$flags$)fe=Oe.$elm$=B.createTextNode("");else{if(ce||(ce="svg"===Oe.$tag$),fe=Oe.$elm$=B.createElementNS(ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Oe.$flags$?"slot-fb":Oe.$tag$),ce&&"foreignObject"===Oe.$tag$&&(ce=!1),uo(null,Oe,ce),(A=>null!=A)(re)&&fe["s-si"]!==re&&fe.classList.add(fe["s-si"]=re),Oe.$children$)for(R=0;R<Oe.$children$.length;++R)Ie=Vn(A,Oe,R,fe),Ie&&fe.appendChild(Ie);"svg"===Oe.$tag$?ce=!1:"foreignObject"===fe.tagName&&(ce=!0)}return fe["s-hn"]=z,3&Oe.$flags$&&(fe["s-sr"]=!0,fe["s-cr"]=ee,fe["s-sn"]=Oe.$name$||"",Je=A&&A.$children$&&A.$children$[he],Je&&Je.$tag$===Oe.$tag$&&A.$elm$&&_i(A.$elm$,!1)),fe},_i=(A,N)=>{$.$flags$|=1;const he=A.childNodes;for(let Se=he.length-1;Se>=0;Se--){const Oe=he[Se];Oe["s-hn"]!==z&&Oe["s-ol"]&&(hn(Oe).insertBefore(Oe,no(Oe)),Oe["s-ol"].remove(),Oe["s-ol"]=void 0,V=!0),N&&_i(Oe,N)}$.$flags$&=-2},Hr=(A,N,he,Se,Oe,R)=>{let Ie,fe=A["s-cr"]&&A["s-cr"].parentNode||A;for(fe.shadowRoot&&fe.tagName===z&&(fe=fe.shadowRoot);Oe<=R;++Oe)Se[Oe]&&(Ie=Vn(null,he,Oe,A),Ie&&(Se[Oe].$elm$=Ie,fe.insertBefore(Ie,no(N))))},Ar=(A,N,he,Se,Oe)=>{for(;N<=he;++N)(Se=A[N])&&(Oe=Se.$elm$,Ge(Se),L=!0,Oe["s-ol"]?Oe["s-ol"].remove():_i(Oe,!0),Oe.remove())},Nr=(A,N)=>A.$tag$===N.$tag$&&("slot"===A.$tag$?A.$name$===N.$name$:A.$key$===N.$key$),no=A=>A&&A["s-ol"]||A,hn=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,Yr=(A,N)=>{const he=N.$elm$=A.$elm$,Se=A.$children$,Oe=N.$children$,R=N.$tag$,fe=N.$text$;let Ie;null===fe?(ce="svg"===R||"foreignObject"!==R&&ce,"slot"===R||uo(A,N,ce),null!==Se&&null!==Oe?((A,N,he,Se)=>{let Do,Qr,Oe=0,R=0,fe=0,Ie=0,Je=N.length-1,it=N[0],Ae=N[Je],Gt=Se.length-1,wt=Se[0],fn=Se[Gt];for(;Oe<=Je&&R<=Gt;)if(null==it)it=N[++Oe];else if(null==Ae)Ae=N[--Je];else if(null==wt)wt=Se[++R];else if(null==fn)fn=Se[--Gt];else if(Nr(it,wt))Yr(it,wt),it=N[++Oe],wt=Se[++R];else if(Nr(Ae,fn))Yr(Ae,fn),Ae=N[--Je],fn=Se[--Gt];else if(Nr(it,fn))("slot"===it.$tag$||"slot"===fn.$tag$)&&_i(it.$elm$.parentNode,!1),Yr(it,fn),A.insertBefore(it.$elm$,Ae.$elm$.nextSibling),it=N[++Oe],fn=Se[--Gt];else if(Nr(Ae,wt))("slot"===it.$tag$||"slot"===fn.$tag$)&&_i(Ae.$elm$.parentNode,!1),Yr(Ae,wt),A.insertBefore(Ae.$elm$,it.$elm$),Ae=N[--Je],wt=Se[++R];else{for(fe=-1,Ie=Oe;Ie<=Je;++Ie)if(N[Ie]&&null!==N[Ie].$key$&&N[Ie].$key$===wt.$key$){fe=Ie;break}fe>=0?(Qr=N[fe],Qr.$tag$!==wt.$tag$?Do=Vn(N&&N[R],he,fe,A):(Yr(Qr,wt),N[fe]=void 0,Do=Qr.$elm$),wt=Se[++R]):(Do=Vn(N&&N[R],he,R,A),wt=Se[++R]),Do&&hn(it.$elm$).insertBefore(Do,no(it.$elm$))}Oe>Je?Hr(A,null==Se[Gt+1]?null:Se[Gt+1].$elm$,he,Se,R,Gt):R>Gt&&Ar(N,Oe,Je)})(he,Se,N,Oe):null!==Oe?(null!==A.$text$&&(he.textContent=""),Hr(he,null,N,Oe,0,Oe.length-1)):null!==Se&&Ar(Se,0,Se.length-1),ce&&"svg"===R&&(ce=!1)):(Ie=he["s-cr"])?Ie.parentNode.textContent=fe:A.$text$!==fe&&(he.data=fe)},ji=A=>{const N=A.childNodes;let he,Se,Oe,R,fe,Ie;for(Se=0,Oe=N.length;Se<Oe;Se++)if(he=N[Se],1===he.nodeType){if(he["s-sr"])for(fe=he["s-sn"],he.hidden=!1,R=0;R<Oe;R++)if(Ie=N[R].nodeType,N[R]["s-hn"]!==he["s-hn"]||""!==fe){if(1===Ie&&fe===N[R].getAttribute("slot")){he.hidden=!0;break}}else if(1===Ie||3===Ie&&""!==N[R].textContent.trim()){he.hidden=!0;break}ji(he)}},Lr=[],ct=A=>{let N,he,Se,Oe,R,fe,Ie=0;const Je=A.childNodes,it=Je.length;for(;Ie<it;Ie++){if(N=Je[Ie],N["s-sr"]&&(he=N["s-cr"])&&he.parentNode)for(Se=he.parentNode.childNodes,Oe=N["s-sn"],fe=Se.length-1;fe>=0;fe--)he=Se[fe],!he["s-cn"]&&!he["s-nr"]&&he["s-hn"]!==N["s-hn"]&&(ae(he,Oe)?(R=Lr.find(Ae=>Ae.$nodeToRelocate$===he),L=!0,he["s-sn"]=he["s-sn"]||Oe,R?R.$slotRefNode$=N:Lr.push({$slotRefNode$:N,$nodeToRelocate$:he}),he["s-sr"]&&Lr.map(Ae=>{ae(Ae.$nodeToRelocate$,he["s-sn"])&&(R=Lr.find(Gt=>Gt.$nodeToRelocate$===he),R&&!Ae.$slotRefNode$&&(Ae.$slotRefNode$=R.$slotRefNode$))})):Lr.some(Ae=>Ae.$nodeToRelocate$===he)||Lr.push({$nodeToRelocate$:he}));1===N.nodeType&&ct(N)}},ae=(A,N)=>1===A.nodeType?null===A.getAttribute("slot")&&""===N||A.getAttribute("slot")===N:A["s-sn"]===N||""===N,Ge=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(Ge)},Ln=A=>zr(A).$hostElement$,qt=(A,N,he)=>{const Se=Ln(A);return{emit:Oe=>xt(Se,N,{bubbles:!!(4&he),composed:!!(2&he),cancelable:!!(1&he),detail:Oe})}},xt=(A,N,he)=>{const Se=$.ce(N,he);return A.dispatchEvent(Se),Se},gr=(A,N)=>{N&&!A.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(he=>A.$onRenderResolve$=he))},Jt=(A,N)=>{if(A.$flags$|=16,!(4&A.$flags$))return gr(A,A.$ancestorComponent$),Pi(()=>er(A,N));A.$flags$|=512},er=(A,N)=>{const Se=A.$lazyInstance$;let Oe;return N&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([R,fe])=>Yn(Se,R,fe)),A.$queuedListeners$=null),Oe=Yn(Se,"componentWillLoad")),Oe=D(Oe,()=>Yn(Se,"componentWillRender")),D(Oe,()=>tr(A,Se,N))},tr=function(){var A=(0,I.Z)(function*(N,he,Se){const Oe=N.$hostElement$,fe=Oe["s-rc"];Se&&(A=>{const N=A.$cmpMeta$,he=A.$hostElement$,Se=N.$flags$,R=Ze(he.shadowRoot?he.shadowRoot:he.getRootNode(),N,A.$modeName$);10&Se&&(he["s-sc"]=R,he.classList.add(R+"-h"),2&Se&&he.classList.add(R+"-s"))})(N);ln(N,he),fe&&(fe.map(Je=>Je()),Oe["s-rc"]=void 0);{const Je=Oe["s-p"],it=()=>zt(N);0===Je.length?it():(Promise.all(Je).then(it),N.$flags$|=4,Je.length=0)}});return function(he,Se,Oe){return A.apply(this,arguments)}}(),ln=(A,N,he)=>{try{N=N.render&&N.render(),A.$flags$&=-17,A.$flags$|=2,((A,N)=>{const he=A.$hostElement$,Se=A.$cmpMeta$,Oe=A.$vnode$||en(null,null),R=(A=>A&&A.$tag$===Z)(N)?N:Qt(null,null,N);if(z=he.tagName,Se.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Se.$attrsToReflect$.map(([fe,Ie])=>R.$attrs$[Ie]=he[fe])),R.$tag$=null,R.$flags$|=4,A.$vnode$=R,R.$elm$=Oe.$elm$=he.shadowRoot||he,re=he["s-sc"],ee=he["s-cr"],X=0!=(1&Se.$flags$),L=!1,Yr(Oe,R),$.$flags$|=1,V){ct(R.$elm$);let fe,Ie,Je,it,Ae,Gt,wt=0;for(;wt<Lr.length;wt++)fe=Lr[wt],Ie=fe.$nodeToRelocate$,Ie["s-ol"]||(Je=B.createTextNode(""),Je["s-nr"]=Ie,Ie.parentNode.insertBefore(Ie["s-ol"]=Je,Ie));for(wt=0;wt<Lr.length;wt++)if(fe=Lr[wt],Ie=fe.$nodeToRelocate$,fe.$slotRefNode$){for(it=fe.$slotRefNode$.parentNode,Ae=fe.$slotRefNode$.nextSibling,Je=Ie["s-ol"];Je=Je.previousSibling;)if(Gt=Je["s-nr"],Gt&&Gt["s-sn"]===Ie["s-sn"]&&it===Gt.parentNode&&(Gt=Gt.nextSibling,!Gt||!Gt["s-nr"])){Ae=Gt;break}(!Ae&&it!==Ie.parentNode||Ie.nextSibling!==Ae)&&Ie!==Ae&&(!Ie["s-hn"]&&Ie["s-ol"]&&(Ie["s-hn"]=Ie["s-ol"].parentNode.nodeName),it.insertBefore(Ie,Ae))}else 1===Ie.nodeType&&(Ie.hidden=!0)}L&&ji(R.$elm$),$.$flags$&=-2,Lr.length=0})(A,N)}catch(Se){oo(Se,A.$hostElement$)}return null},zt=A=>{const he=A.$hostElement$,Oe=A.$lazyInstance$,R=A.$ancestorComponent$;Yn(Oe,"componentDidRender"),64&A.$flags$?Yn(Oe,"componentDidUpdate"):(A.$flags$|=64,Rn(he),Yn(Oe,"componentDidLoad"),A.$onReadyResolve$(he),R||S()),A.$onInstanceResolve$(he),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&li(()=>Jt(A,!1)),A.$flags$&=-517},E=A=>{{const N=zr(A),he=N.$hostElement$.isConnected;return he&&2==(18&N.$flags$)&&Jt(N,!1),he}},S=A=>{Rn(B.documentElement),li(()=>xt(oe,"appload",{detail:{namespace:"ionic"}}))},Yn=(A,N,he)=>{if(A&&A[N])try{return A[N](he)}catch(Se){oo(Se)}},D=(A,N)=>A&&A.then?A.then(N):N(),Rn=A=>A.classList.add("hydrated"),qo=(A,N,he,Se,Oe,R,fe)=>{let Ie,Je,it,Ae;if(1===R.nodeType){for(Ie=R.getAttribute("c-id"),Ie&&(Je=Ie.split("."),(Je[0]===fe||"0"===Je[0])&&(it={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(it),R.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[it.$index$]=it,A=it,Se&&"0"===it.$depth$&&(Se[it.$index$]=it.$elm$))),Ae=R.childNodes.length-1;Ae>=0;Ae--)qo(A,N,he,Se,Oe,R.childNodes[Ae],fe);if(R.shadowRoot)for(Ae=R.shadowRoot.childNodes.length-1;Ae>=0;Ae--)qo(A,N,he,Se,Oe,R.shadowRoot.childNodes[Ae],fe)}else if(8===R.nodeType)Je=R.nodeValue.split("."),(Je[1]===fe||"0"===Je[1])&&(Ie=Je[0],it={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ie?(it.$elm$=R.nextSibling,it.$elm$&&3===it.$elm$.nodeType&&(it.$text$=it.$elm$.textContent,N.push(it),R.remove(),A.$children$||(A.$children$=[]),A.$children$[it.$index$]=it,Se&&"0"===it.$depth$&&(Se[it.$index$]=it.$elm$))):it.$hostId$===fe&&("s"===Ie?(it.$tag$="slot",R["s-sn"]=Je[5]?it.$name$=Je[5]:"",R["s-sr"]=!0,Se&&(it.$elm$=B.createElement(it.$tag$),it.$name$&&it.$elm$.setAttribute("name",it.$name$),R.parentNode.insertBefore(it.$elm$,R),R.remove(),"0"===it.$depth$&&(Se[it.$index$]=it.$elm$)),he.push(it),A.$children$||(A.$children$=[]),A.$children$[it.$index$]=it):"r"===Ie&&(Se?R.remove():(Oe["s-cr"]=R,R["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const Gt=en(null,R.textContent);Gt.$elm$=R,Gt.$index$="0",A.$children$=[Gt]}},vo=(A,N)=>{if(1===A.nodeType){let he=0;for(;he<A.childNodes.length;he++)vo(A.childNodes[he],N);if(A.shadowRoot)for(he=0;he<A.shadowRoot.childNodes.length;he++)vo(A.shadowRoot.childNodes[he],N)}else if(8===A.nodeType){const he=A.nodeValue.split(".");"o"===he[0]&&(N.set(he[1]+"."+he[2],A),A.nodeValue="",A["s-en"]=he[3])}},bi=(A,N,he)=>{if(N.$members$){A.watchers&&(N.$watchers$=A.watchers);const Se=Object.entries(N.$members$),Oe=A.prototype;if(Se.map(([R,[fe]])=>{31&fe||2&he&&32&fe?Object.defineProperty(Oe,R,{get(){return((A,N)=>zr(this).$instanceValues$.get(N))(0,R)},set(Ie){((A,N,he,Se)=>{const Oe=zr(A),R=Oe.$hostElement$,fe=Oe.$instanceValues$.get(N),Ie=Oe.$flags$,Je=Oe.$lazyInstance$;he=((A,N)=>null==A||an(A)?A:4&N?"false"!==A&&(""===A||!!A):2&N?parseFloat(A):1&N?String(A):A)(he,Se.$members$[N][0]);const it=Number.isNaN(fe)&&Number.isNaN(he);if((!(8&Ie)||void 0===fe)&&he!==fe&&!it&&(Oe.$instanceValues$.set(N,he),Je)){if(Se.$watchers$&&128&Ie){const Gt=Se.$watchers$[N];Gt&&Gt.map(wt=>{try{Je[wt](he,fe,N)}catch(fn){oo(fn,R)}})}2==(18&Ie)&&Jt(Oe,!1)}})(this,R,Ie,N)},configurable:!0,enumerable:!0}):1&he&&64&fe&&Object.defineProperty(Oe,R,{value(...Ie){const Je=zr(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[R](...Ie))}})}),1&he){const R=new Map;Oe.attributeChangedCallback=function(fe,Ie,Je){$.jmp(()=>{const it=R.get(fe);if(this.hasOwnProperty(it))Je=this[it],delete this[it];else if(Oe.hasOwnProperty(it)&&"number"==typeof this[it]&&this[it]==Je)return;this[it]=(null!==Je||"boolean"!=typeof this[it])&&Je})},A.observedAttributes=Se.filter(([fe,Ie])=>15&Ie[0]).map(([fe,Ie])=>{const Je=Ie[1]||fe;return R.set(Je,fe),512&Ie[0]&&N.$attrsToReflect$.push([fe,Je]),Je})}}return A},ro=function(){var A=(0,I.Z)(function*(N,he,Se,Oe,R){if(!(32&he.$flags$)){{if(he.$flags$|=32,(R=fo(Se)).then){const it=()=>{};R=yield R,it()}R.isProxied||(Se.$watchers$=R.watchers,bi(R,Se,2),R.isProxied=!0);const Je=()=>{};he.$flags$|=8;try{new R(he)}catch(it){oo(it)}he.$flags$&=-9,he.$flags$|=128,Je(),Lo(he.$lazyInstance$)}if(R.style){let Je=R.style;"string"!=typeof Je&&(Je=Je[he.$modeName$=(A=>fs.map(N=>N(A)).find(N=>!!N))(N)]);const it=me(Se,he.$modeName$);if(!wi.has(it)){const Ae=()=>{};dn(it,Je,!!(1&Se.$flags$)),Ae()}}}const fe=he.$ancestorComponent$,Ie=()=>Jt(he,!0);fe&&fe["s-rc"]?fe["s-rc"].push(Ie):Ie()});return function(he,Se,Oe,R,fe){return A.apply(this,arguments)}}(),Lo=A=>{Yn(A,"connectedCallback")},$o=A=>{const N=A["s-cr"]=B.createComment("");N["s-cn"]=!0,A.insertBefore(N,A.firstChild)},si=(A,N={})=>{const Se=[],Oe=N.exclude||[],R=oe.customElements,fe=B.head,Ie=fe.querySelector("meta[charset]"),Je=B.createElement("style"),it=[],Ae=B.querySelectorAll(`[${Xe}]`);let Gt,wt=!0,fn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;fn<Ae.length;fn++)dn(Ae[fn].getAttribute(Xe),nt(Ae[fn].innerHTML),!0);A.map(Do=>{Do[1].map(Qr=>{const Io={$flags$:Qr[0],$tagName$:Qr[1],$members$:Qr[2],$listeners$:Qr[3]};Io.$members$=Qr[2],Io.$listeners$=Qr[3],Io.$attrsToReflect$=[],Io.$watchers$={};const ci=Io.$tagName$,Sr=class extends HTMLElement{constructor(Wi){super(Wi),Yo(Wi=this,Io),1&Io.$flags$&&Wi.attachShadow({mode:"open",delegatesFocus:!!(16&Io.$flags$)})}connectedCallback(){Gt&&(clearTimeout(Gt),Gt=null),wt?it.push(this):$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=zr(A),he=N.$cmpMeta$,Se=()=>{};if(1&N.$flags$)G(A,N,he.$listeners$),Lo(N.$lazyInstance$);else{let Oe;if(N.$flags$|=1,Oe=A.getAttribute(De),Oe){if(1&he.$flags$){const R=Ze(A.shadowRoot,he,A.getAttribute("s-mode"));A.classList.remove(R+"-h",R+"-s")}((A,N,he,Se)=>{const R=A.shadowRoot,fe=[],Je=R?[]:null,it=Se.$vnode$=en(N,null);$.$orgLocNodes$||vo(B.body,$.$orgLocNodes$=new Map),A[De]=he,A.removeAttribute(De),qo(it,fe,[],Je,A,A,he),fe.map(Ae=>{const Gt=Ae.$hostId$+"."+Ae.$nodeId$,wt=$.$orgLocNodes$.get(Gt),fn=Ae.$elm$;wt&&""===wt["s-en"]&&wt.parentNode.insertBefore(fn,wt.nextSibling),R||(fn["s-hn"]=N,wt&&(fn["s-ol"]=wt,fn["s-ol"]["s-nr"]=fn)),$.$orgLocNodes$.delete(Gt)}),R&&Je.map(Ae=>{Ae&&R.appendChild(Ae)})})(A,he.$tagName$,Oe,N)}Oe||12&he.$flags$&&$o(A);{let R=A;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){gr(N,N.$ancestorComponent$=R);break}}he.$members$&&Object.entries(he.$members$).map(([R,[fe]])=>{if(31&fe&&A.hasOwnProperty(R)){const Ie=A[R];delete A[R],A[R]=Ie}}),li(()=>ro(A,N,he))}Se()}})(this))}disconnectedCallback(){$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=zr(this),he=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Se=>Se()),N.$rmListeners$=void 0),Yn(he,"disconnectedCallback")}})())}componentOnReady(){return zr(this).$onReadyPromise$}};Io.$lazyBundleId$=Do[0],!Oe.includes(ci)&&!R.get(ci)&&(Se.push(ci),R.define(ci,bi(Sr,Io,1)))})}),Je.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",Je.setAttribute("data-styles",""),fe.insertBefore(Je,Ie?Ie.nextSibling:fe.firstChild),wt=!1,it.length?it.map(Do=>Do.connectedCallback()):$.jmp(()=>Gt=setTimeout(S,30))},Ko=A=>{const N=new URL(A,$.$resourcesUrl$);return N.origin!==oe.location.origin?N.href:N.pathname},bo=new WeakMap,zr=A=>bo.get(A),Hi=(A,N)=>bo.set(N.$lazyInstance$=A,N),Yo=(A,N)=>{const he={$flags$:0,$hostElement$:A,$cmpMeta$:N,$instanceValues$:new Map};return he.$onInstancePromise$=new Promise(Se=>he.$onInstanceResolve$=Se),he.$onReadyPromise$=new Promise(Se=>he.$onReadyResolve$=Se),A["s-p"]=[],A["s-rc"]=[],G(A,he,N.$listeners$),bo.set(A,he)},Eo=(A,N)=>N in A,oo=(A,N)=>(0,console.error)(A,N),zi=new Map,fo=(A,N,he)=>{const Se=A.$tagName$.replace(/-/g,"_"),Oe=A.$lazyBundleId$,R=zi.get(Oe);return R?R[Se]:x(863)(`./${Oe}.entry.js`).then(fe=>(zi.set(Oe,fe),fe[Se]),oo)},wi=new Map,fs=[],ai=[],Gi=[],Ts=(A,N)=>he=>{A.push(he),Y||(Y=!0,N&&4&$.$flags$?li(fr):$.raf(fr))},ks=A=>{for(let N=0;N<A.length;N++)try{A[N](performance.now())}catch(he){oo(he)}A.length=0},fr=()=>{ks(ai),ks(Gi),(Y=ai.length>0)&&$.raf(fr)},li=A=>Le().then(A),ps=Ts(ai,!1),Pi=Ts(Gi,!0),nr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:($e,We,x)=>{"use strict";x.d(We,{a:()=>oe,b:()=>yt,c:()=>re,g:()=>Y,i:()=>dn});var I=x(1559);class c{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,me){const nt=this.m.get(O);return void 0!==nt?nt:me}getBoolean(O,me=!1){const nt=this.m.get(O);return void 0===nt?me:"string"==typeof nt?"true"===nt:!!nt}getNumber(O,me){const nt=parseFloat(this.m.get(O));return isNaN(nt)?void 0!==me?me:NaN:nt}set(O,me){this.m.set(O,me)}}const re=new c,V="ionic:",ce="ionic-persist-config",Y=Ze=>B(Ze),oe=(Ze,O)=>("string"==typeof Ze&&(O=Ze,Ze=void 0),Y(Ze).includes(O)),B=(Ze=window)=>{if(typeof Ze>"u")return[];Ze.Ionic=Ze.Ionic||{};let O=Ze.Ionic.platforms;return null==O&&(O=Ze.Ionic.platforms=$(Ze),O.forEach(me=>Ze.document.documentElement.classList.add(`plt-${me}`))),O},$=Ze=>{const O=re.get("platform");return Object.keys(je).filter(me=>{const nt=O?.[me];return"function"==typeof nt?nt(Ze):je[me](Ze)})},Pe=Ze=>!!(Te(Ze,/iPad/i)||Te(Ze,/Macintosh/i)&&ue(Ze)),G=Ze=>Te(Ze,/android|sink/i),ue=Ze=>ne(Ze,"(any-pointer:coarse)"),le=Ze=>be(Ze)||De(Ze),be=Ze=>!!(Ze.cordova||Ze.phonegap||Ze.PhoneGap),De=Ze=>!!Ze.Capacitor?.isNative,Te=(Ze,O)=>O.test(Ze.navigator.userAgent),ne=(Ze,O)=>{var me;return null===(me=Ze.matchMedia)||void 0===me?void 0:me.call(Ze,O).matches},je={ipad:Pe,iphone:Ze=>Te(Ze,/iPhone/i),ios:Ze=>Te(Ze,/iPhone|iPod/i)||Pe(Ze),android:G,phablet:Ze=>{const O=Ze.innerWidth,me=Ze.innerHeight,nt=Math.min(O,me),rt=Math.max(O,me);return nt>390&&nt<520&&rt>620&&rt<800},tablet:Ze=>{const O=Ze.innerWidth,me=Ze.innerHeight,nt=Math.min(O,me),rt=Math.max(O,me);return Pe(Ze)||(Ze=>G(Ze)&&!Te(Ze,/mobile/i))(Ze)||nt>460&&nt<820&&rt>780&&rt<1400},cordova:be,capacitor:De,electron:Ze=>Te(Ze,/electron/i),pwa:Ze=>{var O;return!!(null!==(O=Ze.matchMedia)&&void 0!==O&&O.call(Ze,"(display-mode: standalone)").matches||Ze.navigator.standalone)},mobile:ue,mobileweb:Ze=>ue(Ze)&&!le(Ze),desktop:Ze=>!ue(Ze),hybrid:le};let Qe;const yt=Ze=>Ze&&(0,I.g)(Ze)||Qe,dn=(Ze={})=>{if(typeof window>"u")return;const O=window.document,me=window,nt=me.Ionic=me.Ionic||{},rt={};Ze._ael&&(rt.ael=Ze._ael),Ze._rel&&(rt.rel=Ze._rel),Ze._ce&&(rt.ce=Ze._ce),(0,I.s)(rt);const Ue=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ze=>{try{const O=Ze.sessionStorage.getItem(ce);return null!==O?JSON.parse(O):{}}catch{return{}}})(me)),{persistConfig:!1}),nt.config),(Ze=>{const O={};return Ze.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,nt])=>[decodeURIComponent(me),decodeURIComponent(nt)]).filter(([me])=>((Ze,O)=>Ze.substr(0,O.length)===O)(me,V)).map(([me,nt])=>[me.slice(V.length),nt]).forEach(([me,nt])=>{O[me]=nt}),O})(me)),Ze);re.reset(Ue),re.getBoolean("persistConfig")&&((Ze,O)=>{try{Ze.sessionStorage.setItem(ce,JSON.stringify(O))}catch{return}})(me,Ue),B(me),nt.config=re,nt.mode=Qe=re.get("mode",O.documentElement.getAttribute("mode")||(oe(me,"ios")?"ios":"md")),re.set("mode",Qe),O.documentElement.setAttribute("mode",Qe),O.documentElement.classList.add(Qe),re.getBoolean("_testing")&&re.set("animated",!1);const q=pt=>{var xe;return null===(xe=pt.tagName)||void 0===xe?void 0:xe.startsWith("ION-")},ye=pt=>["ios","md"].includes(pt);(0,I.a)(pt=>{for(;pt;){const xe=pt.mode||pt.getAttribute("mode");if(xe){if(ye(xe))return xe;q(pt)&&console.warn('Invalid ionic mode: "'+xe+'", expected: "ios" or "md"')}pt=pt.parentElement}return Qe})}},9078:($e,We,x)=>{"use strict";x.r(We),x.d(We,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=x(5933),c=x(919);x(2286),x(1559);const X=j=>document.querySelector(`${j}.ion-cloned-element`),L=j=>j.shadowRoot||j,V=j=>{const Pe="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const pe=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pe?pe.querySelector(Le):null}return j.querySelector(Le)},ce=(j,Pe)=>{const Le="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs");let pe=[];if(null!=Le){const G=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=G&&(pe=G.querySelectorAll("ion-buttons"))}else pe=j.querySelectorAll("ion-buttons");for(const G of pe){const K=G.closest("ion-header"),de=K&&!K.classList.contains("header-collapse-condense-inactive"),Fe=G.querySelector("ion-back-button"),ue=G.classList.contains("buttons-collapse");if(null!==Fe&&("start"===G.slot||""===G.slot)&&(ue&&de&&Pe||!ue))return Fe}return null},oe=(j,Pe,Le,pe,G,K)=>{const de=Pe?`calc(100% - ${K.right+4}px)`:K.left-4+"px",Fe=Pe?"7px":"-7px",ue=Pe?"-4px":"4px",at=Pe?"-4px":"4px",le=Pe?"right":"left",be=Pe?"left":"right",Be=Le?[{offset:0,opacity:1,transform:`translate3d(${ue}, ${K.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${G.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${G.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ue}, ${K.top-46}px, 0) scale(1)`}],je=Le?[{offset:0,opacity:1,transform:`translate3d(${at}, ${K.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${at}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${at}, ${K.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${at}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${at}, ${K.top-46}px, 0) scale(1)`}],Qe=(0,I.c)(),yt=(0,I.c)(),dn=X("ion-back-button"),Ze=L(dn).querySelector(".button-text"),O=L(dn).querySelector("ion-icon");dn.text=pe.text,dn.mode=pe.mode,dn.icon=pe.icon,dn.color=pe.color,dn.disabled=pe.disabled,dn.style.setProperty("display","block"),dn.style.setProperty("position","fixed"),yt.addElement(O),Qe.addElement(Ze),Qe.beforeStyles({"transform-origin":`${le} center`}).beforeAddWrite(()=>{pe.style.setProperty("display","none"),dn.style.setProperty(le,de)}).afterAddWrite(()=>{pe.style.setProperty("display",""),dn.style.setProperty("display","none"),dn.style.removeProperty(le)}).keyframes(Be),yt.beforeStyles({"transform-origin":`${be} center`}).keyframes(je),j.addAnimation([Qe,yt])},B=(j,Pe,Le,pe,G,K)=>{const de=Pe?`calc(100% - ${G.right}px)`:`${G.left}px`,Fe=Pe?"-18px":"18px",ue=Pe?"right":"left",be=Le?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${G.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${G.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.5)`}],De=X("ion-title"),Xe=(0,I.c)();De.innerText=pe.innerText,De.size=pe.size,De.color=pe.color,Xe.addElement(De),Xe.beforeStyles({"transform-origin":`${ue} center`,height:"46px",display:"",position:"relative",[ue]:de}).beforeAddWrite(()=>{pe.style.setProperty("display","none")}).afterAddWrite(()=>{pe.style.setProperty("display",""),De.style.setProperty("display","none")}).keyframes(be),j.addAnimation(Xe)},$=(j,Pe)=>{var Le;try{const pe="cubic-bezier(0.32,0.72,0,1)",G="opacity",K="transform",de="0%",ue="rtl"===j.ownerDocument.dir,at=ue?"-99.5%":"99.5%",le=ue?"33%":"-33%",be=Pe.enteringEl,De=Pe.leavingEl,Xe="back"===Pe.direction,Be=be.querySelector(":scope > ion-content"),Te=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=be.querySelectorAll(":scope > ion-header > ion-toolbar"),je=(0,I.c)(),Qe=(0,I.c)();if(je.addElement(be).duration((null!==(Le=Pe.duration)&&void 0!==Le?Le:0)||540).easing(Pe.easing||pe).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=j){const O=(0,I.c)();O.addElement(j),je.addAnimation(O)}if(Be||0!==ne.length||0!==Te.length?(Qe.addElement(Be),Qe.addElement(Te)):Qe.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),je.addAnimation(Qe),Xe?Qe.beforeClearStyles([G]).fromTo("transform",`translateX(${le})`,`translateX(${de})`).fromTo(G,.8,1):Qe.beforeClearStyles([G]).fromTo("transform",`translateX(${at})`,`translateX(${de})`),Be){const O=L(Be).querySelector(".transition-effect");if(O){const me=O.querySelector(".transition-cover"),nt=O.querySelector(".transition-shadow"),rt=(0,I.c)(),Ue=(0,I.c)(),q=(0,I.c)();rt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ue.addElement(me).beforeClearStyles([G]).fromTo(G,0,.1),q.addElement(nt).beforeClearStyles([G]).fromTo(G,.03,.7),rt.addAnimation([Ue,q]),Qe.addAnimation([rt])}}const yt=be.querySelector("ion-header.header-collapse-condense"),{forward:dn,backward:Ze}=((j,Pe,Le,pe,G)=>{const K=ce(pe,Le),de=V(G),Fe=V(pe),ue=ce(G,Le),at=null!==K&&null!==de&&!Le,le=null!==Fe&&null!==ue&&Le;if(at){const be=de.getBoundingClientRect(),De=K.getBoundingClientRect();B(j,Pe,Le,de,be,De),oe(j,Pe,Le,K,be,De)}else if(le){const be=Fe.getBoundingClientRect(),De=ue.getBoundingClientRect();B(j,Pe,Le,Fe,be,De),oe(j,Pe,Le,ue,be,De)}return{forward:at,backward:le}})(je,ue,Xe,be,De);if(ne.forEach(O=>{const me=(0,I.c)();me.addElement(O),je.addAnimation(me);const nt=(0,I.c)();nt.addElement(O.querySelector("ion-title"));const rt=(0,I.c)(),Ue=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),ye=q?.classList.contains("header-collapse-condense-inactive");let pt;pt=Ue.filter(Xe?en=>{const Z=en.classList.contains("buttons-collapse");return Z&&!ye||!Z}:en=>!en.classList.contains("buttons-collapse")),rt.addElement(pt);const xe=(0,I.c)();xe.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,I.c)();Tt.addElement(L(O).querySelector(".toolbar-background"));const an=(0,I.c)(),Qt=O.querySelector("ion-back-button");if(Qt&&an.addElement(Qt),me.addAnimation([nt,rt,xe,Tt,an]),rt.fromTo(G,.01,1),xe.fromTo(G,.01,1),Xe)ye||nt.fromTo("transform",`translateX(${le})`,`translateX(${de})`).fromTo(G,.01,1),xe.fromTo("transform",`translateX(${le})`,`translateX(${de})`),an.fromTo(G,.01,1);else if(yt||nt.fromTo("transform",`translateX(${at})`,`translateX(${de})`).fromTo(G,.01,1),xe.fromTo("transform",`translateX(${at})`,`translateX(${de})`),Tt.beforeClearStyles([G,"transform"]),q?.translucent?Tt.fromTo("transform",ue?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(G,.01,"var(--opacity)"),dn||an.fromTo(G,.01,1),Qt&&!dn){const Z=(0,I.c)();Z.addElement(L(Qt).querySelector(".button-text")).fromTo("transform",ue?"translateX(-100px)":"translateX(100px)","translateX(0px)"),me.addAnimation(Z)}}),De){const O=(0,I.c)(),me=De.querySelector(":scope > ion-content"),nt=De.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(me||0!==nt.length||0!==rt.length?(O.addElement(me),O.addElement(rt)):O.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),je.addAnimation(O),Xe){O.beforeClearStyles([G]).fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)");const Ue=(0,c.g)(De);je.afterAddWrite(()=>{"normal"===je.getDirection()&&Ue.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${de})`,`translateX(${le})`).fromTo(G,1,.8);if(me){const Ue=L(me).querySelector(".transition-effect");if(Ue){const q=Ue.querySelector(".transition-cover"),ye=Ue.querySelector(".transition-shadow"),pt=(0,I.c)(),xe=(0,I.c)(),Tt=(0,I.c)();pt.addElement(Ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),xe.addElement(q).beforeClearStyles([G]).fromTo(G,.1,0),Tt.addElement(ye).beforeClearStyles([G]).fromTo(G,.7,.03),pt.addAnimation([xe,Tt]),O.addAnimation([pt])}}nt.forEach(Ue=>{const q=(0,I.c)();q.addElement(Ue);const ye=(0,I.c)();ye.addElement(Ue.querySelector("ion-title"));const pt=(0,I.c)(),xe=Ue.querySelectorAll("ion-buttons,[menuToggle]"),Tt=Ue.closest("ion-header"),an=Tt?.classList.contains("header-collapse-condense-inactive"),Qt=Array.from(xe).filter(Fo=>{const Kr=Fo.classList.contains("buttons-collapse");return Kr&&!an||!Kr});pt.addElement(Qt);const en=(0,I.c)(),Z=Ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Z.length>0&&en.addElement(Z);const vn=(0,I.c)();vn.addElement(L(Ue).querySelector(".toolbar-background"));const mr=(0,I.c)(),Jn=Ue.querySelector("ion-back-button");if(Jn&&mr.addElement(Jn),q.addAnimation([ye,pt,en,mr,vn]),je.addAnimation(q),mr.fromTo(G,.99,0),pt.fromTo(G,.99,0),en.fromTo(G,.99,0),Xe){if(an||ye.fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)").fromTo(G,.99,0),en.fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)"),vn.beforeClearStyles([G,"transform"]),Tt?.translucent?vn.fromTo("transform","translateX(0px)",ue?"translateX(-100%)":"translateX(100%)"):vn.fromTo(G,"var(--opacity)",0),Jn&&!Ze){const Kr=(0,I.c)();Kr.addElement(L(Jn).querySelector(".button-text")).fromTo("transform",`translateX(${de})`,`translateX(${(ue?-124:124)+"px"})`),q.addAnimation(Kr)}}else an||ye.fromTo("transform",`translateX(${de})`,`translateX(${le})`).fromTo(G,.99,0).afterClearStyles([K,G]),en.fromTo("transform",`translateX(${de})`,`translateX(${le})`).afterClearStyles([K,G]),mr.afterClearStyles([G]),ye.afterClearStyles([G]),pt.afterClearStyles([G])})}return je}catch(pe){throw pe}}},4199:($e,We,x)=>{"use strict";x.r(We),x.d(We,{mdTransitionAnimation:()=>z});var I=x(5933),c=x(919);x(2286),x(1559);const z=(X,L)=>{var V,ce,Y;const $="back"===L.direction,Pe=L.leavingEl,Le=(0,c.g)(L.enteringEl),pe=Le.querySelector("ion-toolbar"),G=(0,I.c)();if(G.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),$?G.duration((null!==(V=L.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):G.duration((null!==(ce=L.duration)&&void 0!==ce?ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),pe){const K=(0,I.c)();K.addElement(pe),G.addAnimation(K)}if(Pe&&$){G.duration((null!==(Y=L.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const K=(0,I.c)();K.addElement((0,c.g)(Pe)).onFinish(de=>{1===de&&K.elements.length>0&&K.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),G.addAnimation(K)}return G}},7580:($e,We,x)=>{"use strict";x.d(We,{B:()=>me,G:()=>nt,a:()=>V,b:()=>ce,c:()=>$,d:()=>Xe,e:()=>Pe,f:()=>Te,g:()=>Qe,h:()=>X,i:()=>dn,j:()=>G,k:()=>be,l:()=>Y,m:()=>oe,s:()=>O});var I=x(3918),c=x(5823),re=x(159),ee=x(9259);let z=0;const X=new WeakMap,L=rt=>({create:Ue=>Le(rt,Ue),dismiss:(Ue,q,ye)=>at(document,Ue,q,rt,ye),getTop:()=>(0,I.Z)(function*(){return be(document,rt)})()}),V=L("ion-alert"),ce=L("ion-action-sheet"),Y=L("ion-loading"),oe=L("ion-modal"),$=L("ion-popover"),Pe=rt=>{typeof document<"u"&&ue(document);const Ue=z++;rt.overlayIndex=Ue,rt.hasAttribute("id")||(rt.id=`ion-overlay-${Ue}`)},Le=(rt,Ue)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(rt).then(()=>{const q=document.createElement(rt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ue),{hasController:!0})),ne(document).appendChild(q),new Promise(ye=>(0,ee.c)(q,ye))}):Promise.resolve(),pe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',G=(rt,Ue)=>{let q=rt.querySelector(pe);const ye=q?.shadowRoot;ye&&(q=ye.querySelector(pe)||q),q?(0,ee.f)(q):Ue.focus()},de=(rt,Ue)=>{const q=Array.from(rt.querySelectorAll(pe));let ye=q.length>0?q[q.length-1]:null;const pt=ye?.shadowRoot;pt&&(ye=pt.querySelector(pe)||ye),ye?ye.focus():Ue.focus()},ue=rt=>{0===z&&(z=1,rt.addEventListener("focus",Ue=>{((rt,Ue)=>{const q=be(Ue,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ye=rt.target;q&&ye&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(ye))q.lastFocus=ye;else{const Tt=q.lastFocus;G(q,q),Tt===Ue.activeElement&&de(q,q),q.lastFocus=Ue.activeElement}})():(()=>{if(q===ye)q.lastFocus=void 0;else{const Tt=(0,ee.g)(q);if(!Tt.contains(ye))return;const an=Tt.querySelector(".ion-overlay-wrapper");if(!an)return;if(an.contains(ye))q.lastFocus=ye;else{const Qt=q.lastFocus;G(an,q),Qt===Ue.activeElement&&de(an,q),q.lastFocus=Ue.activeElement}}})())})(Ue,rt)},!0),rt.addEventListener("ionBackButton",Ue=>{const q=be(rt);q?.backdropDismiss&&Ue.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,me))}),rt.addEventListener("keyup",Ue=>{if("Escape"===Ue.key){const q=be(rt);q?.backdropDismiss&&q.dismiss(void 0,me)}}))},at=(rt,Ue,q,ye,pt)=>{const xe=be(rt,ye,pt);return xe?xe.dismiss(Ue,q):Promise.reject("overlay does not exist")},be=(rt,Ue,q)=>{const ye=((rt,Ue)=>(void 0===Ue&&(Ue="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(rt.querySelectorAll(Ue)).filter(q=>q.overlayIndex>0)))(rt,Ue).filter(pt=>!(rt=>rt.classList.contains("overlay-hidden"))(pt));return void 0===q?ye[ye.length-1]:ye.find(pt=>pt.id===q)},De=(rt=!1)=>{const q=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(rt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Xe=function(){var rt=(0,I.Z)(function*(Ue,q,ye,pt,xe){var Tt,an;if(Ue.presented)return;De(!0),Ue.presented=!0,Ue.willPresent.emit(),null===(Tt=Ue.willPresentShorthand)||void 0===Tt||Tt.emit();const Qt=(0,c.b)(Ue),en=Ue.enterAnimation?Ue.enterAnimation:c.c.get(q,"ios"===Qt?ye:pt);(yield je(Ue,en,Ue.el,xe))&&(Ue.didPresent.emit(),null===(an=Ue.didPresentShorthand)||void 0===an||an.emit()),"ION-TOAST"!==Ue.el.tagName&&Be(Ue.el),Ue.keyboardClose&&(null===document.activeElement||!Ue.el.contains(document.activeElement))&&Ue.el.focus()});return function(q,ye,pt,xe,Tt){return rt.apply(this,arguments)}}(),Be=function(){var rt=(0,I.Z)(function*(Ue){let q=document.activeElement;if(!q)return;const ye=q?.shadowRoot;ye&&(q=ye.querySelector(pe)||q),yield Ue.onDidDismiss(),q.focus()});return function(q){return rt.apply(this,arguments)}}(),Te=function(){var rt=(0,I.Z)(function*(Ue,q,ye,pt,xe,Tt,an){var Qt,en;if(!Ue.presented)return!1;De(!1),Ue.presented=!1;try{Ue.el.style.setProperty("pointer-events","none"),Ue.willDismiss.emit({data:q,role:ye}),null===(Qt=Ue.willDismissShorthand)||void 0===Qt||Qt.emit({data:q,role:ye});const Z=(0,c.b)(Ue),vn=Ue.leaveAnimation?Ue.leaveAnimation:c.c.get(pt,"ios"===Z?xe:Tt);ye!==nt&&(yield je(Ue,vn,Ue.el,an)),Ue.didDismiss.emit({data:q,role:ye}),null===(en=Ue.didDismissShorthand)||void 0===en||en.emit({data:q,role:ye}),X.delete(Ue),Ue.el.classList.add("overlay-hidden"),Ue.el.style.removeProperty("pointer-events")}catch(Z){console.error(Z)}return Ue.el.remove(),!0});return function(q,ye,pt,xe,Tt,an,Qt){return rt.apply(this,arguments)}}(),ne=rt=>rt.querySelector("ion-app")||rt.body,je=function(){var rt=(0,I.Z)(function*(Ue,q,ye,pt){ye.classList.remove("overlay-hidden");const Tt=q(Ue.el,pt);(!Ue.animated||!c.c.getBoolean("animated",!0))&&Tt.duration(0),Ue.keyboardClose&&Tt.beforeAddWrite(()=>{const Qt=ye.ownerDocument.activeElement;Qt?.matches("input,ion-input, ion-textarea")&&Qt.blur()});const an=X.get(Ue)||[];return X.set(Ue,[...an,Tt]),yield Tt.play(),!0});return function(q,ye,pt,xe){return rt.apply(this,arguments)}}(),Qe=(rt,Ue)=>{let q;const ye=new Promise(pt=>q=pt);return yt(rt,Ue,pt=>{q(pt.detail)}),ye},yt=(rt,Ue,q)=>{const ye=pt=>{(0,ee.b)(rt,Ue,ye),q(pt)};(0,ee.a)(rt,Ue,ye)},dn=rt=>"cancel"===rt||rt===me,Ze=rt=>rt(),O=(rt,Ue)=>{if("function"==typeof rt)return c.c.get("_zoneGate",Ze)(()=>{try{return rt(Ue)}catch(ye){throw ye}})},me="backdrop",nt="gesture"},4263:($e,We,x)=>{"use strict";var I=x(9903),c=x(3855),re=c(I("String.prototype.indexOf"));$e.exports=function(z,X){var L=I(z,!!X);return"function"==typeof L&&re(z,".prototype.")>-1?c(L):L}},3855:($e,We,x)=>{"use strict";var I=x(224),c=x(9903),re=c("%Function.prototype.apply%"),ee=c("%Function.prototype.call%"),z=c("%Reflect.apply%",!0)||I.call(ee,re),X=c("%Object.getOwnPropertyDescriptor%",!0),L=c("%Object.defineProperty%",!0),V=c("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}$e.exports=function(oe){var B=z(I,ee,arguments);if(X&&L){var $=X(B,"length");$.configurable&&L(B,"length",{value:1+V(0,oe.length-(arguments.length-1))})}return B};var ce=function(){return z(I,re,arguments)};L?L($e.exports,"apply",{value:ce}):$e.exports.apply=ce},5107:$e=>{var We={utf8:{stringToBytes:function(x){return We.bin.stringToBytes(unescape(encodeURIComponent(x)))},bytesToString:function(x){return decodeURIComponent(escape(We.bin.bytesToString(x)))}},bin:{stringToBytes:function(x){for(var I=[],c=0;c<x.length;c++)I.push(255&x.charCodeAt(c));return I},bytesToString:function(x){for(var I=[],c=0;c<x.length;c++)I.push(String.fromCharCode(x[c]));return I.join("")}}};$e.exports=We},7175:$e=>{var We,x;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e.exports=x={rotl:function(I,c){return I<<c|I>>>32-c},rotr:function(I,c){return I<<32-c|I>>>c},endian:function(I){if(I.constructor==Number)return 16711935&x.rotl(I,8)|4278255360&x.rotl(I,24);for(var c=0;c<I.length;c++)I[c]=x.endian(I[c]);return I},randomBytes:function(I){for(var c=[];I>0;I--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(I){for(var c=[],re=0,ee=0;re<I.length;re++,ee+=8)c[ee>>>5]|=I[re]<<24-ee%32;return c},wordsToBytes:function(I){for(var c=[],re=0;re<32*I.length;re+=8)c.push(I[re>>>5]>>>24-re%32&255);return c},bytesToHex:function(I){for(var c=[],re=0;re<I.length;re++)c.push((I[re]>>>4).toString(16)),c.push((15&I[re]).toString(16));return c.join("")},hexToBytes:function(I){for(var c=[],re=0;re<I.length;re+=2)c.push(parseInt(I.substr(re,2),16));return c},bytesToBase64:function(I){for(var c=[],re=0;re<I.length;re+=3)for(var ee=I[re]<<16|I[re+1]<<8|I[re+2],z=0;z<4;z++)c.push(8*re+6*z<=8*I.length?We.charAt(ee>>>6*(3-z)&63):"=");return c.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],re=0,ee=0;re<I.length;ee=++re%4)0!=ee&&c.push((We.indexOf(I.charAt(re-1))&Math.pow(2,-2*ee+8)-1)<<2*ee|We.indexOf(I.charAt(re))>>>6-2*ee);return c}}},5541:($e,We,x)=>{"use strict";var I=x(6189),c=x(4263),re=x(8704),ee=x(9903),z=x(2069),X=x(8432),L=x(5734),V=x(9102),ce=x(8266),Y=x(2805),oe=x(4666),B=x(6687),$=x(3163),j=x(2093),Pe=x(2086),Le=x(2107),pe=x(5709),G=c("ArrayBuffer.prototype.byteLength",!0)||function(ye){return ye.byteLength},K=c("SharedArrayBuffer.prototype.byteLength",!0),de=c("Date.prototype.getTime"),Fe=Object.getPrototypeOf,ue=c("Object.prototype.toString"),at=ee("%Set%",!0),le=c("Map.prototype.has",!0),be=c("Map.prototype.get",!0),De=c("Map.prototype.size",!0),Xe=c("Set.prototype.add",!0),Be=c("Set.prototype.delete",!0),Te=c("Set.prototype.has",!0),ne=c("Set.prototype.size",!0);function je(q,ye,pt,xe){for(var an,Tt=z(q);(an=Tt.next())&&!an.done;)if(O(ye,an.value,pt,xe))return Be(q,an.value),!0;return!1}function Qe(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function yt(q,ye,pt,xe,Tt,an){var Qt=Qe(pt);if(null!=Qt)return Qt;var en=be(ye,Qt),Z=I({},Tt,{strict:!1});return!(typeof en>"u"&&!le(ye,Qt)||!O(xe,en,Z,an))&&!le(q,Qt)&&O(xe,en,Z,an)}function dn(q,ye,pt){var xe=Qe(pt);return xe??(Te(ye,xe)&&!Te(q,xe))}function Ze(q,ye,pt,xe,Tt,an){for(var en,Z,Qt=z(q);(en=Qt.next())&&!en.done;)if(O(pt,Z=en.value,Tt,an)&&O(xe,be(ye,Z),Tt,an))return Be(q,Z),!0;return!1}function O(q,ye,pt,xe){var Tt=pt||{};if(Tt.strict?L(q,ye):q===ye)return!0;if(Pe(q)!==Pe(ye))return!1;if(!q||!ye||"object"!=typeof q&&"object"!=typeof ye)return Tt.strict?L(q,ye):q==ye;var vn,en=xe.has(q),Z=xe.has(ye);if(en&&Z){if(xe.get(q)===xe.get(ye))return!0}else vn={};return en||xe.set(q,vn),Z||xe.set(ye,vn),function Ue(q,ye,pt,xe){var Tt,an;if(typeof q!=typeof ye||null==q||null==ye||ue(q)!==ue(ye)||V(q)!==V(ye))return!1;if(ce(q)!==ce(ye))return!1;var Z=q instanceof Error,vn=ye instanceof Error;if(Z!==vn||(Z||vn)&&(q.name!==ye.name||q.message!==ye.message))return!1;var mr=B(q),Jn=B(ye);if(mr!==Jn||(mr||Jn)&&(q.source!==ye.source||re(q)!==re(ye)))return!1;var Fo=oe(q),Kr=oe(ye);if(Fo!==Kr||(Fo||Kr)&&de(q)!==de(ye)||pt.strict&&Fe&&Fe(q)!==Fe(ye))return!1;var yi=pe(q),kn=pe(ye);if((yi||kn)&&yi!==kn)return!1;var uo=me(q),Vn=me(ye);if(uo!==Vn)return!1;if(uo||Vn){if(q.length!==ye.length)return!1;for(Tt=0;Tt<q.length;Tt++)if(q[Tt]!==ye[Tt])return!1;return!0}var _i=Y(q),Hr=Y(ye);if(_i!==Hr)return!1;if(_i||Hr)return G(q)===G(ye)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ye),pt,xe);var Ar=$(q),lr=$(ye);if(Ar!==lr)return!1;if(Ar||lr)return K(q)===K(ye)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ye),pt,xe);if(typeof q!=typeof ye)return!1;var Nr=j(q),no=j(ye);if(Nr.length!==no.length)return!1;for(Nr.sort(),no.sort(),Tt=Nr.length-1;Tt>=0;Tt--)if(Nr[Tt]!=no[Tt])return!1;for(Tt=Nr.length-1;Tt>=0;Tt--)if(!O(q[an=Nr[Tt]],ye[an],pt,xe))return!1;var hn=Le(q),Yr=Le(ye);return hn===Yr&&("Set"===hn||"Set"===Yr?function nt(q,ye,pt,xe){if(ne(q)!==ne(ye))return!1;for(var Qt,en,Z,Tt=z(q),an=z(ye);(Qt=Tt.next())&&!Qt.done;)if(Qt.value&&"object"==typeof Qt.value)Z||(Z=new at),Xe(Z,Qt.value);else if(!Te(ye,Qt.value)){if(pt.strict||!dn(q,ye,Qt.value))return!1;Z||(Z=new at),Xe(Z,Qt.value)}if(Z){for(;(en=an.next())&&!en.done;)if(en.value&&"object"==typeof en.value){if(!je(Z,en.value,pt.strict,xe))return!1}else if(!pt.strict&&!Te(q,en.value)&&!je(Z,en.value,pt.strict,xe))return!1;return 0===ne(Z)}return!0}(q,ye,pt,xe):"Map"!==hn||function rt(q,ye,pt,xe){if(De(q)!==De(ye))return!1;for(var Qt,en,Z,vn,mr,Jn,Tt=z(q),an=z(ye);(Qt=Tt.next())&&!Qt.done;)if(mr=Qt.value[1],(vn=Qt.value[0])&&"object"==typeof vn)Z||(Z=new at),Xe(Z,vn);else if(typeof(Jn=be(ye,vn))>"u"&&!le(ye,vn)||!O(mr,Jn,pt,xe)){if(pt.strict||!yt(q,ye,vn,mr,pt,xe))return!1;Z||(Z=new at),Xe(Z,vn)}if(Z){for(;(en=an.next())&&!en.done;)if(Jn=en.value[1],(vn=en.value[0])&&"object"==typeof vn){if(!Ze(Z,q,vn,Jn,pt,xe))return!1}else if(!(pt.strict||q.has(vn)&&O(be(q,vn),Jn,pt,xe)||Ze(Z,q,vn,Jn,I({},pt,{strict:!1}),xe)))return!1;return 0===ne(Z)}return!0}(q,ye,pt,xe))}(q,ye,Tt,xe)}function me(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}$e.exports=function(ye,pt,xe){return O(ye,pt,xe,X())}},1790:($e,We,x)=>{"use strict";var I=x(2093),c="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,ee=Array.prototype.concat,z=Object.defineProperty,L=x(9006)(),V=z&&L,ce=function(oe,B,$,j){B in oe&&(!function(oe){return"function"==typeof oe&&"[object Function]"===re.call(oe)}(j)||!j())||(V?z(oe,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):oe[B]=$)},Y=function(oe,B){var $=arguments.length>2?arguments[2]:{},j=I(B);c&&(j=ee.call(j,Object.getOwnPropertySymbols(B)));for(var Pe=0;Pe<j.length;Pe+=1)ce(oe,j[Pe],B[j[Pe]],$[j[Pe]])};Y.supportsDescriptors=!!V,$e.exports=Y},9897:function($e,We){!function(x){"use strict";var B,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ee=536870912,z=2*ee,L=new WeakMap,ce=function(B,$){return function(j){var Pe=$.get(j),Le=void 0===Pe?j.size:Pe<z?Pe+1:0;if(!j.has(Le))return B(j,Le);if(j.size<ee){for(;j.has(Le);)Le=Math.floor(Math.random()*z);return B(j,Le)}if(j.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(Le);)Le=Math.floor(Math.random()*re);return B(j,Le)}}((B=L,function($,j){return B.set($,j),j}),L),Y=function(B){return function($){var j=B($);return $.add(j),j}}(ce);x.addUniqueNumber=Y,x.generateUniqueNumber=ce}(We)},3037:($e,We,x)=>{"use strict";var I=x(8642),c=Object.prototype.toString,re=Object.prototype.hasOwnProperty,ee=function(ce,Y,oe){for(var B=0,$=ce.length;B<$;B++)re.call(ce,B)&&(null==oe?Y(ce[B],B,ce):Y.call(oe,ce[B],B,ce))},z=function(ce,Y,oe){for(var B=0,$=ce.length;B<$;B++)null==oe?Y(ce.charAt(B),B,ce):Y.call(oe,ce.charAt(B),B,ce)},X=function(ce,Y,oe){for(var B in ce)re.call(ce,B)&&(null==oe?Y(ce[B],B,ce):Y.call(oe,ce[B],B,ce))};$e.exports=function(ce,Y,oe){if(!I(Y))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=oe),"[object Array]"===c.call(ce)?ee(ce,Y,B):"string"==typeof ce?z(ce,Y,B):X(ce,Y,B)}},2199:$e=>{"use strict";var We="Function.prototype.bind called on incompatible ",x=Array.prototype.slice,I=Object.prototype.toString,c="[object Function]";$e.exports=function(ee){var z=this;if("function"!=typeof z||I.call(z)!==c)throw new TypeError(We+z);for(var L,X=x.call(arguments,1),V=function(){if(this instanceof L){var $=z.apply(this,X.concat(x.call(arguments)));return Object($)===$?$:this}return z.apply(ee,X.concat(x.call(arguments)))},ce=Math.max(0,z.length-X.length),Y=[],oe=0;oe<ce;oe++)Y.push("$"+oe);if(L=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(V),z.prototype){var B=function(){};B.prototype=z.prototype,L.prototype=new B,B.prototype=null}return L}},224:($e,We,x)=>{"use strict";var I=x(2199);$e.exports=Function.prototype.bind||I},3677:$e=>{"use strict";var We=function(){return"string"==typeof function(){}.name},x=Object.getOwnPropertyDescriptor;if(x)try{x([],"length")}catch{x=null}We.functionsHaveConfigurableNames=function(){if(!We()||!x)return!1;var re=x(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof I&&""!==function(){}.bind().name},$e.exports=We},9903:($e,We,x)=>{"use strict";var I,c=SyntaxError,re=Function,ee=TypeError,z=function(Be){try{return re('"use strict"; return ('+Be+").constructor;")()}catch{}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch{X=null}var L=function(){throw new ee},V=X?function(){try{return L}catch{try{return X(arguments,"callee").get}catch{return L}}}():L,ce=x(524)(),Y=Object.getPrototypeOf||function(Be){return Be.__proto__},oe={},B=typeof Uint8Array>"u"?I:Y(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ce?Y([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":oe,"%AsyncGenerator%":oe,"%AsyncGeneratorFunction%":oe,"%AsyncIteratorPrototype%":oe,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":oe,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ce?Y(Y([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ce?I:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ce?I:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ce?Y(""[Symbol.iterator]()):I,"%Symbol%":ce?Symbol:I,"%SyntaxError%":c,"%ThrowTypeError%":V,"%TypedArray%":B,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch(Be){var j=Y(Y(Be));$["%Error.prototype%"]=j}var Pe=function Be(Te){var ne;if("%AsyncFunction%"===Te)ne=z("async function () {}");else if("%GeneratorFunction%"===Te)ne=z("function* () {}");else if("%AsyncGeneratorFunction%"===Te)ne=z("async function* () {}");else if("%AsyncGenerator%"===Te){var je=Be("%AsyncGeneratorFunction%");je&&(ne=je.prototype)}else if("%AsyncIteratorPrototype%"===Te){var Qe=Be("%AsyncGenerator%");Qe&&(ne=Y(Qe.prototype))}return $[Te]=ne,ne},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pe=x(224),G=x(4031),K=pe.call(Function.call,Array.prototype.concat),de=pe.call(Function.apply,Array.prototype.splice),Fe=pe.call(Function.call,String.prototype.replace),ue=pe.call(Function.call,String.prototype.slice),at=pe.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,De=function(Te){var ne=ue(Te,0,1),je=ue(Te,-1);if("%"===ne&&"%"!==je)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===je&&"%"!==ne)throw new c("invalid intrinsic syntax, expected opening `%`");var Qe=[];return Fe(Te,le,function(yt,dn,Ze,O){Qe[Qe.length]=Ze?Fe(O,be,"$1"):dn||yt}),Qe},Xe=function(Te,ne){var Qe,je=Te;if(G(Le,je)&&(je="%"+(Qe=Le[je])[0]+"%"),G($,je)){var yt=$[je];if(yt===oe&&(yt=Pe(je)),typeof yt>"u"&&!ne)throw new ee("intrinsic "+Te+" exists, but is not available. Please file an issue!");return{alias:Qe,name:je,value:yt}}throw new c("intrinsic "+Te+" does not exist!")};$e.exports=function(Te,ne){if("string"!=typeof Te||0===Te.length)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new ee('"allowMissing" argument must be a boolean');if(null===at(/^%?[^%]*%?$/,Te))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var je=De(Te),Qe=je.length>0?je[0]:"",yt=Xe("%"+Qe+"%",ne),dn=yt.name,Ze=yt.value,O=!1,me=yt.alias;me&&(Qe=me[0],de(je,K([0,1],me)));for(var nt=1,rt=!0;nt<je.length;nt+=1){var Ue=je[nt],q=ue(Ue,0,1),ye=ue(Ue,-1);if(('"'===q||"'"===q||"`"===q||'"'===ye||"'"===ye||"`"===ye)&&q!==ye)throw new c("property names with quotes must have matching quotes");if(("constructor"===Ue||!rt)&&(O=!0),G($,dn="%"+(Qe+="."+Ue)+"%"))Ze=$[dn];else if(null!=Ze){if(!(Ue in Ze)){if(!ne)throw new ee("base intrinsic for "+Te+" exists, but the property is not available.");return}if(X&&nt+1>=je.length){var pt=X(Ze,Ue);Ze=(rt=!!pt)&&"get"in pt&&!("originalValue"in pt.get)?pt.get:Ze[Ue]}else rt=G(Ze,Ue),Ze=Ze[Ue];rt&&!O&&($[dn]=Ze)}}return Ze}},253:($e,We,x)=>{"use strict";var c=x(9903)("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}$e.exports=c},5861:$e=>{"use strict";var We=typeof BigInt<"u"&&BigInt;$e.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:($e,We,x)=>{"use strict";var c=x(9903)("%Object.defineProperty%",!0),re=function(){if(c)try{return c({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==c([],"length",{value:1}).length}catch{return!0}},$e.exports=re},524:($e,We,x)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,c=x(6858);$e.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&c()}},6858:$e=>{"use strict";$e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var x={},I=Symbol("test"),c=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(I in x[I]=42,x)return!1;if("function"==typeof Object.keys&&0!==Object.keys(x).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(x).length)return!1;var ee=Object.getOwnPropertySymbols(x);if(1!==ee.length||ee[0]!==I||!Object.prototype.propertyIsEnumerable.call(x,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var z=Object.getOwnPropertyDescriptor(x,I);if(42!==z.value||!0!==z.enumerable)return!1}return!0}},3261:($e,We,x)=>{"use strict";var I=x(6858);$e.exports=function(){return I()&&!!Symbol.toStringTag}},4031:($e,We,x)=>{"use strict";var I=x(224);$e.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:($e,We,x)=>{"use strict";var I=x(9903),c=x(4031),re=x(8432)(),ee=I("%TypeError%"),z={assert:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new ee("`O` is not an object");if("string"!=typeof L)throw new ee("`slot` must be a string");if(re.assert(X),!z.has(X,L))throw new ee("`slot` is not present on `O`")},get:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new ee("`O` is not an object");if("string"!=typeof L)throw new ee("`slot` must be a string");var V=re.get(X);return V&&V["$"+L]},has:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new ee("`O` is not an object");if("string"!=typeof L)throw new ee("`slot` must be a string");var V=re.get(X);return!!V&&c(V,"$"+L)},set:function(X,L,V){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new ee("`O` is not an object");if("string"!=typeof L)throw new ee("`slot` must be a string");var ce=re.get(X);ce||re.set(X,ce={}),ce["$"+L]=V}};Object.freeze&&Object.freeze(z),$e.exports=z},9102:($e,We,x)=>{"use strict";var I=x(3261)(),re=x(4263)("Object.prototype.toString"),ee=function(V){return!(I&&V&&"object"==typeof V&&Symbol.toStringTag in V)&&"[object Arguments]"===re(V)},z=function(V){return!!ee(V)||null!==V&&"object"==typeof V&&"number"==typeof V.length&&V.length>=0&&"[object Array]"!==re(V)&&"[object Function]"===re(V.callee)},X=function(){return ee(arguments)}();ee.isLegacyArguments=z,$e.exports=X?ee:z},2805:($e,We,x)=>{"use strict";var I=x(3855),c=x(4263),re=x(9903),ee=x(7673),z=re("ArrayBuffer",!0),X=re("Float32Array",!0),L=c("ArrayBuffer.prototype.byteLength",!0),V=z&&!L&&(new z).slice,ce=V&&I(V);$e.exports=L||ce?function(oe){if(!oe||"object"!=typeof oe)return!1;try{return L?L(oe):ce(oe,0),!0}catch{return!1}}:X?function(oe){try{return new X(oe).buffer===oe&&!ee(oe)}catch{return!1}}:function(oe){return!1}},3:($e,We,x)=>{"use strict";if(x(5861)()){var c=BigInt.prototype.valueOf;$e.exports=function(z){return!(null===z||typeof z>"u"||"boolean"==typeof z||"string"==typeof z||"number"==typeof z||"symbol"==typeof z||"function"==typeof z)&&("bigint"==typeof z||function(z){try{return c.call(z),!0}catch{}return!1}(z))}}else $e.exports=function(z){return!1}},6180:($e,We,x)=>{"use strict";var I=x(4263),c=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),X=x(3261)();$e.exports=function(V){return"boolean"==typeof V||null!==V&&"object"==typeof V&&(X&&Symbol.toStringTag in V?function(V){try{return c(V),!0}catch{return!1}}(V):"[object Boolean]"===re(V))}},5057:$e=>{function We(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}$e.exports=function(I){return null!=I&&(We(I)||function x(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&We(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:$e=>{"use strict";var I,c,We=Function.prototype.toString,x="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof x&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw c}}),c={},x(function(){throw 42},null,I)}catch(pe){pe!==c&&(x=null)}else x=null;var re=/^\s*class\b/,ee=function(G){try{var K=We.call(G);return re.test(K)}catch{return!1}},z=function(G){try{return!ee(G)&&(We.call(G),!0)}catch{return!1}},X=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var Le=document.all;X.call(Le)===X.call(document.all)&&(Pe=function(G){if((j||!G)&&(typeof G>"u"||"object"==typeof G))try{var K=X.call(G);return("[object HTMLAllCollection]"===K||"[object HTML document.all class]"===K||"[object HTMLCollection]"===K||"[object Object]"===K)&&null==G("")}catch{}return!1})}$e.exports=x?function(G){if(Pe(G))return!0;if(!G||"function"!=typeof G&&"object"!=typeof G)return!1;try{x(G,null,I)}catch(K){if(K!==c)return!1}return!ee(G)&&z(G)}:function(G){if(Pe(G))return!0;if(!G||"function"!=typeof G&&"object"!=typeof G)return!1;if($)return z(G);if(ee(G))return!1;var K=X.call(G);return!("[object Function]"!==K&&"[object GeneratorFunction]"!==K&&!/^\[object HTML/.test(K))&&z(G)}},4666:($e,We,x)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,z=x(3261)();$e.exports=function(L){return"object"==typeof L&&null!==L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===re.call(L))}},9898:$e=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,x="function"==typeof Set&&Set.prototype?Set:null;We||(I=function(z){return!1});var c=We?Map.prototype.has:null,re=x?Set.prototype.has:null;!I&&!c&&(I=function(z){return!1}),$e.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(c.call(z),re)try{re.call(z)}catch{return!0}return z instanceof We}catch{}return!1}},1046:($e,We,x)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,z=x(3261)();$e.exports=function(L){return"number"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===re.call(L))}},6687:($e,We,x)=>{"use strict";var re,ee,z,X,I=x(4263),c=x(3261)();if(c){re=I("Object.prototype.hasOwnProperty"),ee=I("RegExp.prototype.exec"),z={};var L=function(){throw z};X={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(X[Symbol.toPrimitive]=L)}var V=I("Object.prototype.toString"),ce=Object.getOwnPropertyDescriptor;$e.exports=c?function(B){if(!B||"object"!=typeof B)return!1;var $=ce(B,"lastIndex");if(!$||!re($,"value"))return!1;try{ee(B,X)}catch(Pe){return Pe===z}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===V(B)}},3870:$e=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,x="function"==typeof Set&&Set.prototype?Set:null;x||(I=function(z){return!1});var c=We?Map.prototype.has:null,re=x?Set.prototype.has:null;!I&&!re&&(I=function(z){return!1}),$e.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(re.call(z),c)try{c.call(z)}catch{return!0}return z instanceof x}catch{}return!1}},3163:($e,We,x)=>{"use strict";var c=x(4263)("SharedArrayBuffer.prototype.byteLength",!0);$e.exports=c?function(ee){if(!ee||"object"!=typeof ee)return!1;try{return c(ee),!0}catch{return!1}}:function(ee){return!1}},4764:($e,We,x)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,z=x(3261)();$e.exports=function(L){return"string"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===re.call(L))}},6434:($e,We,x)=>{"use strict";var I=Object.prototype.toString;if(x(524)()){var re=Symbol.prototype.toString,ee=/^Symbol\(.*\)$/;$e.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&ee.test(re.call(L))}(L)}catch{return!1}}}else $e.exports=function(L){return!1}},7673:($e,We,x)=>{"use strict";var I=x(3037),c=x(5271),re=x(4263),ee=re("Object.prototype.toString"),z=x(3261)(),X=x(253),L=typeof globalThis>"u"?global:globalThis,V=c(),ce=re("Array.prototype.indexOf",!0)||function(Pe,Le){for(var pe=0;pe<Pe.length;pe+=1)if(Pe[pe]===Le)return pe;return-1},Y=re("String.prototype.slice"),oe={},B=Object.getPrototypeOf;z&&X&&B&&I(V,function(j){var Pe=new L[j];if(Symbol.toStringTag in Pe){var Le=B(Pe),pe=X(Le,Symbol.toStringTag);if(!pe){var G=B(Le);pe=X(G,Symbol.toStringTag)}oe[j]=pe.get}}),$e.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!z||!(Symbol.toStringTag in Pe)){var Le=Y(ee(Pe),8,-1);return ce(V,Le)>-1}return!!X&&function(Pe){var Le=!1;return I(oe,function(pe,G){if(!Le)try{Le=pe.call(Pe)===G}catch{}}),Le}(Pe)}},5585:$e=>{"use strict";var I,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,x="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(I=function(z){return!1});var c=We?We.prototype.has:null,re=x?x.prototype.has:null;!I&&!c&&(I=function(z){return!1}),$e.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(c.call(z,c),re)try{re.call(z,re)}catch{return!0}return z instanceof We}catch{}return!1}},1902:($e,We,x)=>{"use strict";var I=x(9903),c=x(4263),re=I("%WeakSet%",!0),ee=c("WeakSet.prototype.has",!0);if(ee){var z=c("WeakMap.prototype.has",!0);$e.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(ee(L,ee),z)try{z(L,z)}catch{return!0}return L instanceof re}catch{}return!1}}else $e.exports=function(L){return!1}},8266:$e=>{var We={}.toString;$e.exports=Array.isArray||function(x){return"[object Array]"==We.call(x)}},5023:($e,We,x)=>{var I,c,re,ee,z;I=x(7175),c=x(5107).utf8,re=x(5057),ee=x(5107).bin,(z=function(X,L){X.constructor==String?X=L&&"binary"===L.encoding?ee.stringToBytes(X):c.stringToBytes(X):re(X)?X=Array.prototype.slice.call(X,0):!Array.isArray(X)&&X.constructor!==Uint8Array&&(X=X.toString());for(var V=I.bytesToWords(X),ce=8*X.length,Y=1732584193,oe=-271733879,B=-1732584194,$=271733878,j=0;j<V.length;j++)V[j]=16711935&(V[j]<<8|V[j]>>>24)|4278255360&(V[j]<<24|V[j]>>>8);V[ce>>>5]|=128<<ce%32,V[14+(ce+64>>>9<<4)]=ce;var Pe=z._ff,Le=z._gg,pe=z._hh,G=z._ii;for(j=0;j<V.length;j+=16){var K=Y,de=oe,Fe=B,ue=$;Y=Pe(Y,oe,B,$,V[j+0],7,-680876936),$=Pe($,Y,oe,B,V[j+1],12,-389564586),B=Pe(B,$,Y,oe,V[j+2],17,606105819),oe=Pe(oe,B,$,Y,V[j+3],22,-1044525330),Y=Pe(Y,oe,B,$,V[j+4],7,-176418897),$=Pe($,Y,oe,B,V[j+5],12,1200080426),B=Pe(B,$,Y,oe,V[j+6],17,-1473231341),oe=Pe(oe,B,$,Y,V[j+7],22,-45705983),Y=Pe(Y,oe,B,$,V[j+8],7,1770035416),$=Pe($,Y,oe,B,V[j+9],12,-1958414417),B=Pe(B,$,Y,oe,V[j+10],17,-42063),oe=Pe(oe,B,$,Y,V[j+11],22,-1990404162),Y=Pe(Y,oe,B,$,V[j+12],7,1804603682),$=Pe($,Y,oe,B,V[j+13],12,-40341101),B=Pe(B,$,Y,oe,V[j+14],17,-1502002290),Y=Le(Y,oe=Pe(oe,B,$,Y,V[j+15],22,1236535329),B,$,V[j+1],5,-165796510),$=Le($,Y,oe,B,V[j+6],9,-1069501632),B=Le(B,$,Y,oe,V[j+11],14,643717713),oe=Le(oe,B,$,Y,V[j+0],20,-373897302),Y=Le(Y,oe,B,$,V[j+5],5,-701558691),$=Le($,Y,oe,B,V[j+10],9,38016083),B=Le(B,$,Y,oe,V[j+15],14,-660478335),oe=Le(oe,B,$,Y,V[j+4],20,-405537848),Y=Le(Y,oe,B,$,V[j+9],5,568446438),$=Le($,Y,oe,B,V[j+14],9,-1019803690),B=Le(B,$,Y,oe,V[j+3],14,-187363961),oe=Le(oe,B,$,Y,V[j+8],20,1163531501),Y=Le(Y,oe,B,$,V[j+13],5,-1444681467),$=Le($,Y,oe,B,V[j+2],9,-51403784),B=Le(B,$,Y,oe,V[j+7],14,1735328473),Y=pe(Y,oe=Le(oe,B,$,Y,V[j+12],20,-1926607734),B,$,V[j+5],4,-378558),$=pe($,Y,oe,B,V[j+8],11,-2022574463),B=pe(B,$,Y,oe,V[j+11],16,1839030562),oe=pe(oe,B,$,Y,V[j+14],23,-35309556),Y=pe(Y,oe,B,$,V[j+1],4,-1530992060),$=pe($,Y,oe,B,V[j+4],11,1272893353),B=pe(B,$,Y,oe,V[j+7],16,-155497632),oe=pe(oe,B,$,Y,V[j+10],23,-1094730640),Y=pe(Y,oe,B,$,V[j+13],4,681279174),$=pe($,Y,oe,B,V[j+0],11,-358537222),B=pe(B,$,Y,oe,V[j+3],16,-722521979),oe=pe(oe,B,$,Y,V[j+6],23,76029189),Y=pe(Y,oe,B,$,V[j+9],4,-640364487),$=pe($,Y,oe,B,V[j+12],11,-421815835),B=pe(B,$,Y,oe,V[j+15],16,530742520),Y=G(Y,oe=pe(oe,B,$,Y,V[j+2],23,-995338651),B,$,V[j+0],6,-198630844),$=G($,Y,oe,B,V[j+7],10,1126891415),B=G(B,$,Y,oe,V[j+14],15,-1416354905),oe=G(oe,B,$,Y,V[j+5],21,-57434055),Y=G(Y,oe,B,$,V[j+12],6,1700485571),$=G($,Y,oe,B,V[j+3],10,-1894986606),B=G(B,$,Y,oe,V[j+10],15,-1051523),oe=G(oe,B,$,Y,V[j+1],21,-2054922799),Y=G(Y,oe,B,$,V[j+8],6,1873313359),$=G($,Y,oe,B,V[j+15],10,-30611744),B=G(B,$,Y,oe,V[j+6],15,-1560198380),oe=G(oe,B,$,Y,V[j+13],21,1309151649),Y=G(Y,oe,B,$,V[j+4],6,-145523070),$=G($,Y,oe,B,V[j+11],10,-1120210379),B=G(B,$,Y,oe,V[j+2],15,718787259),oe=G(oe,B,$,Y,V[j+9],21,-343485551),Y=Y+K>>>0,oe=oe+de>>>0,B=B+Fe>>>0,$=$+ue>>>0}return I.endian([Y,oe,B,$])})._ff=function(X,L,V,ce,Y,oe,B){var $=X+(L&V|~L&ce)+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},z._gg=function(X,L,V,ce,Y,oe,B){var $=X+(L&ce|V&~ce)+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},z._hh=function(X,L,V,ce,Y,oe,B){var $=X+(L^V^ce)+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},z._ii=function(X,L,V,ce,Y,oe,B){var $=X+(V^(L|~ce))+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},z._blocksize=16,z._digestsize=16,$e.exports=function(X,L){if(null==X)throw new Error("Illegal argument "+X);var V=I.wordsToBytes(z(X,L));return L&&L.asBytes?V:L&&L.asString?ee.bytesToString(V):I.bytesToHex(V)}},9052:($e,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var x=[];x[0]=function(){return function(){}},x[1]=function(ee,z){return typeof z>"u"?ee:function(L){ee(L,z)}};var re=function(){function ee(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ee.prototype.addHandler=function(z,X){return this.isHandlerAttached(z,X)||(this._handlers.push(z),this._contexts.push(X),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.removeHandler=function(z,X){var L=this._getHandlerIndex(z,X);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.isHandlerAttached=function(z,X){return typeof this._getHandlerIndex(z,X)<"u"},ee.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ee.prototype._getHandlerIndex=function(z,X){var V,L=this._handlers.length;for(V=0;V<L&&(this._handlers[V]!==z||this._contexts[V]!==X);V++);return V<L?V:void 0},ee.prototype._createDispatcher=function(){this.dispatch=function I(ee){return x[ee]||(x[ee]=function c(ee){for(var z="return function dispatcher"+ee+"(payload) {\n",X=[],L=[],V=0;V<ee;V++)X.push("cb"+V),L.push("ctx"+V),z+="    cb"+V+"(payload, ctx"+V+");\n";return z+="};",new(Function.bind.apply(Function,[void 0].concat(X.concat(L),[z])))}(ee)),x[ee]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ee}();We.default=re},1158:($e,We,x)=>{"use strict";var c=x(9052);We.j=c.default},8597:($e,We,x)=>{var I="function"==typeof Map&&Map.prototype,c=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&c&&"function"==typeof c.get?c.get:null,ee=I&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=z&&X&&"function"==typeof X.get?X.get:null,V=z&&Set.prototype.forEach,Y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,Le=Object.prototype.toString,pe=Function.prototype.toString,G=String.prototype.match,K=String.prototype.slice,de=String.prototype.replace,Fe=String.prototype.toUpperCase,ue=String.prototype.toLowerCase,at=RegExp.prototype.test,le=Array.prototype.concat,be=Array.prototype.join,De=Array.prototype.slice,Xe=Math.floor,Be="function"==typeof BigInt?BigInt.prototype.valueOf:null,Te=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,je="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Qe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,dn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ae){return ae.__proto__}:null);function Ze(ae,Ge){if(ae===1/0||ae===-1/0||ae!=ae||ae&&ae>-1e3&&ae<1e3||at.call(/e/,Ge))return Ge;var An=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof ae){var Ln=ae<0?-Xe(-ae):Xe(ae);if(Ln!==ae){var qt=String(Ln),xt=K.call(Ge,qt.length+1);return de.call(qt,An,"$&_")+"."+de.call(de.call(xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(Ge,An,"$&_")}var O=x(4654),me=O.custom,nt=en(me)?me:null;function rt(ae,Ge,An){var Ln="double"===(An.quoteStyle||Ge)?'"':"'";return Ln+ae+Ln}function Ue(ae){return de.call(String(ae),/"/g,"&quot;")}function q(ae){return!("[object Array]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}function pt(ae){return!("[object RegExp]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}function en(ae){if(je)return ae&&"object"==typeof ae&&ae instanceof Symbol;if("symbol"==typeof ae)return!0;if(!ae||"object"!=typeof ae||!ne)return!1;try{return ne.call(ae),!0}catch{}return!1}$e.exports=function ae(Ge,An,Ln,qt){var xt=An||{};if(mr(xt,"quoteStyle")&&"single"!==xt.quoteStyle&&"double"!==xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(mr(xt,"maxStringLength")&&("number"==typeof xt.maxStringLength?xt.maxStringLength<0&&xt.maxStringLength!==1/0:null!==xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gr=!mr(xt,"customInspect")||xt.customInspect;if("boolean"!=typeof gr&&"symbol"!==gr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(mr(xt,"indent")&&null!==xt.indent&&"\t"!==xt.indent&&!(parseInt(xt.indent,10)===xt.indent&&xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(mr(xt,"numericSeparator")&&"boolean"!=typeof xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Jt=xt.numericSeparator;if(typeof Ge>"u")return"undefined";if(null===Ge)return"null";if("boolean"==typeof Ge)return Ge?"true":"false";if("string"==typeof Ge)return Ar(Ge,xt);if("number"==typeof Ge){if(0===Ge)return 1/0/Ge>0?"0":"-0";var er=String(Ge);return Jt?Ze(Ge,er):er}if("bigint"==typeof Ge){var tr=String(Ge)+"n";return Jt?Ze(Ge,tr):tr}var ln=typeof xt.depth>"u"?5:xt.depth;if(typeof Ln>"u"&&(Ln=0),Ln>=ln&&ln>0&&"object"==typeof Ge)return q(Ge)?"[Array]":"[Object]";var zt=function ji(ae,Ge){var An;if("\t"===ae.indent)An="\t";else{if(!("number"==typeof ae.indent&&ae.indent>0))return null;An=be.call(Array(ae.indent+1)," ")}return{base:An,prev:be.call(Array(Ge+1),An)}}(xt,Ln);if(typeof qt>"u")qt=[];else if(Kr(qt,Ge)>=0)return"[Circular]";function E(si,Ko,bo){if(Ko&&(qt=De.call(qt)).push(Ko),bo){var zr={depth:xt.depth};return mr(xt,"quoteStyle")&&(zr.quoteStyle=xt.quoteStyle),ae(si,zr,Ln+1,qt)}return ae(si,xt,Ln+1,qt)}if("function"==typeof Ge&&!pt(Ge)){var S=function Fo(ae){if(ae.name)return ae.name;var Ge=G.call(pe.call(ae),/^function\s*([\w$]+)/);return Ge?Ge[1]:null}(Ge),Yn=ct(Ge,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(Yn.length>0?" { "+be.call(Yn,", ")+" }":"")}if(en(Ge)){var D=je?de.call(String(Ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(Ge);return"object"!=typeof Ge||je?D:Nr(D)}if(function Hr(ae){return!(!ae||"object"!=typeof ae)&&(typeof HTMLElement<"u"&&ae instanceof HTMLElement||"string"==typeof ae.nodeName&&"function"==typeof ae.getAttribute)}(Ge)){for(var Rn="<"+ue.call(String(Ge.nodeName)),Oo=Ge.attributes||[],qo=0;qo<Oo.length;qo++)Rn+=" "+Oo[qo].name+"="+rt(Ue(Oo[qo].value),"double",xt);return Rn+=">",Ge.childNodes&&Ge.childNodes.length&&(Rn+="..."),Rn+"</"+ue.call(String(Ge.nodeName))+">"}if(q(Ge)){if(0===Ge.length)return"[]";var vo=ct(Ge,E);return zt&&!function Yr(ae){for(var Ge=0;Ge<ae.length;Ge++)if(Kr(ae[Ge],"\n")>=0)return!1;return!0}(vo)?"["+Lr(vo,zt)+"]":"[ "+be.call(vo,", ")+" ]"}if(function xe(ae){return!("[object Error]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(Ge)){var xi=ct(Ge,E);return"cause"in Error.prototype||!("cause"in Ge)||yt.call(Ge,"cause")?0===xi.length?"["+String(Ge)+"]":"{ ["+String(Ge)+"] "+be.call(xi,", ")+" }":"{ ["+String(Ge)+"] "+be.call(le.call("[cause]: "+E(Ge.cause),xi),", ")+" }"}if("object"==typeof Ge&&gr){if(nt&&"function"==typeof Ge[nt]&&O)return O(Ge,{depth:ln-Ln});if("symbol"!==gr&&"function"==typeof Ge.inspect)return Ge.inspect()}if(function yi(ae){if(!re||!ae||"object"!=typeof ae)return!1;try{re.call(ae);try{L.call(ae)}catch{return!0}return ae instanceof Map}catch{}return!1}(Ge)){var No=[];return ee&&ee.call(Ge,function(si,Ko){No.push(E(Ko,Ge,!0)+" => "+E(si,Ge))}),hn("Map",re.call(Ge),No,zt)}if(function Vn(ae){if(!L||!ae||"object"!=typeof ae)return!1;try{L.call(ae);try{re.call(ae)}catch{return!0}return ae instanceof Set}catch{}return!1}(Ge)){var vi=[];return V&&V.call(Ge,function(si){vi.push(E(si,Ge))}),hn("Set",L.call(Ge),vi,zt)}if(function kn(ae){if(!Y||!ae||"object"!=typeof ae)return!1;try{Y.call(ae,Y);try{B.call(ae,B)}catch{return!0}return ae instanceof WeakMap}catch{}return!1}(Ge))return no("WeakMap");if(function _i(ae){if(!B||!ae||"object"!=typeof ae)return!1;try{B.call(ae,B);try{Y.call(ae,Y)}catch{return!0}return ae instanceof WeakSet}catch{}return!1}(Ge))return no("WeakSet");if(function uo(ae){if(!j||!ae||"object"!=typeof ae)return!1;try{return j.call(ae),!0}catch{}return!1}(Ge))return no("WeakRef");if(function an(ae){return!("[object Number]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(Ge))return Nr(E(Number(Ge)));if(function Z(ae){if(!ae||"object"!=typeof ae||!Be)return!1;try{return Be.call(ae),!0}catch{}return!1}(Ge))return Nr(E(Be.call(Ge)));if(function Qt(ae){return!("[object Boolean]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(Ge))return Nr(Pe.call(Ge));if(function Tt(ae){return!("[object String]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(Ge))return Nr(E(String(Ge)));if(!function ye(ae){return!("[object Date]"!==Jn(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(Ge)&&!pt(Ge)){var bi=ct(Ge,E),ro=dn?dn(Ge)===Object.prototype:Ge instanceof Object||Ge.constructor===Object,Lo=Ge instanceof Object?"":"null prototype",yr=!ro&&Qe&&Object(Ge)===Ge&&Qe in Ge?K.call(Jn(Ge),8,-1):Lo?"Object":"",Xr=(ro||"function"!=typeof Ge.constructor?"":Ge.constructor.name?Ge.constructor.name+" ":"")+(yr||Lo?"["+be.call(le.call([],yr||[],Lo||[]),": ")+"] ":"");return 0===bi.length?Xr+"{}":zt?Xr+"{"+Lr(bi,zt)+"}":Xr+"{ "+be.call(bi,", ")+" }"}return String(Ge)};var vn=Object.prototype.hasOwnProperty||function(ae){return ae in this};function mr(ae,Ge){return vn.call(ae,Ge)}function Jn(ae){return Le.call(ae)}function Kr(ae,Ge){if(ae.indexOf)return ae.indexOf(Ge);for(var An=0,Ln=ae.length;An<Ln;An++)if(ae[An]===Ge)return An;return-1}function Ar(ae,Ge){if(ae.length>Ge.maxStringLength){var An=ae.length-Ge.maxStringLength,Ln="... "+An+" more character"+(An>1?"s":"");return Ar(K.call(ae,0,Ge.maxStringLength),Ge)+Ln}return rt(de.call(de.call(ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lr),"single",Ge)}function lr(ae){var Ge=ae.charCodeAt(0),An={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ge];return An?"\\"+An:"\\x"+(Ge<16?"0":"")+Fe.call(Ge.toString(16))}function Nr(ae){return"Object("+ae+")"}function no(ae){return ae+" { ? }"}function hn(ae,Ge,An,Ln){return ae+" ("+Ge+") {"+(Ln?Lr(An,Ln):be.call(An,", "))+"}"}function Lr(ae,Ge){if(0===ae.length)return"";var An="\n"+Ge.prev+Ge.base;return An+be.call(ae,","+An)+"\n"+Ge.prev}function ct(ae,Ge){var An=q(ae),Ln=[];if(An){Ln.length=ae.length;for(var qt=0;qt<ae.length;qt++)Ln[qt]=mr(ae,qt)?Ge(ae[qt],ae):""}var gr,xt="function"==typeof Te?Te(ae):[];if(je){gr={};for(var Jt=0;Jt<xt.length;Jt++)gr["$"+xt[Jt]]=xt[Jt]}for(var er in ae)mr(ae,er)&&(An&&String(Number(er))===er&&er<ae.length||je&&gr["$"+er]instanceof Symbol||(at.call(/[^\w$]/,er)?Ln.push(Ge(er,ae)+": "+Ge(ae[er],ae)):Ln.push(er+": "+Ge(ae[er],ae))));if("function"==typeof Te)for(var tr=0;tr<xt.length;tr++)yt.call(ae,xt[tr])&&Ln.push("["+Ge(xt[tr])+"]: "+Ge(ae[xt[tr]],ae));return Ln}},6872:$e=>{"use strict";var We=function(x){return x!=x};$e.exports=function(I,c){return 0===I&&0===c?1/I==1/c:!!(I===c||We(I)&&We(c))}},5734:($e,We,x)=>{"use strict";var I=x(1790),c=x(3855),re=x(6872),ee=x(3306),z=x(7715),X=c(ee(),Object);I(X,{getPolyfill:ee,implementation:re,shim:z}),$e.exports=X},3306:($e,We,x)=>{"use strict";var I=x(6872);$e.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:($e,We,x)=>{"use strict";var I=x(3306),c=x(1790);$e.exports=function(){var ee=I();return c(Object,{is:ee},{is:function(){return Object.is!==ee}}),ee}},7010:($e,We,x)=>{"use strict";var I;if(!Object.keys){var c=Object.prototype.hasOwnProperty,re=Object.prototype.toString,ee=x(5185),z=Object.prototype.propertyIsEnumerable,X=!z.call({toString:null},"toString"),L=z.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ce=function($){var j=$.constructor;return j&&j.prototype===$},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},oe=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!Y["$"+$]&&c.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ce(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(j){var Pe=null!==j&&"object"==typeof j,Le="[object Function]"===re.call(j),pe=ee(j),G=Pe&&"[object String]"===re.call(j),K=[];if(!Pe&&!Le&&!pe)throw new TypeError("Object.keys called on a non-object");var de=L&&Le;if(G&&j.length>0&&!c.call(j,0))for(var Fe=0;Fe<j.length;++Fe)K.push(String(Fe));if(pe&&j.length>0)for(var ue=0;ue<j.length;++ue)K.push(String(ue));else for(var at in j)(!de||"prototype"!==at)&&c.call(j,at)&&K.push(String(at));if(X)for(var le=function($){if(typeof window>"u"||!oe)return ce($);try{return ce($)}catch{return!1}}(j),be=0;be<V.length;++be)(!le||"constructor"!==V[be])&&c.call(j,V[be])&&K.push(V[be]);return K}}$e.exports=I},2093:($e,We,x)=>{"use strict";var I=Array.prototype.slice,c=x(5185),re=Object.keys,ee=re?function(L){return re(L)}:x(7010),z=Object.keys;ee.shim=function(){if(Object.keys){var L=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);L||(Object.keys=function(ce){return c(ce)?z(I.call(ce)):z(ce)})}else Object.keys=ee;return Object.keys||ee},$e.exports=ee},5185:$e=>{"use strict";var We=Object.prototype.toString;$e.exports=function(I){var c=We.call(I),re="[object Arguments]"===c;return re||(re="[object Array]"!==c&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===We.call(I.callee)),re}},2461:($e,We,x)=>{"use strict";var I=x(2093),c=x(6858)(),re=x(4263),ee=Object,z=re("Array.prototype.push"),X=re("Object.prototype.propertyIsEnumerable"),L=c?Object.getOwnPropertySymbols:null;$e.exports=function(ce,Y){if(null==ce)throw new TypeError("target must be an object");var oe=ee(ce);if(1===arguments.length)return oe;for(var B=1;B<arguments.length;++B){var $=ee(arguments[B]),j=I($),Pe=c&&(Object.getOwnPropertySymbols||L);if(Pe)for(var Le=Pe($),pe=0;pe<Le.length;++pe){var G=Le[pe];X($,G)&&z(j,G)}for(var K=0;K<j.length;++K){var de=j[K];if(X($,de)){var Fe=$[de];oe[de]=Fe}}}return oe}},6189:($e,We,x)=>{"use strict";var I=x(1790),c=x(3855),re=x(2461),ee=x(6255),z=x(152),X=c.apply(ee()),L=function(ce,Y){return X(Object,arguments)};I(L,{getPolyfill:ee,implementation:re,shim:z}),$e.exports=L},6255:($e,We,x)=>{"use strict";var I=x(2461);$e.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ee="abcdefghijklmnopqrst",z=ee.split(""),X={},L=0;L<z.length;++L)X[z[L]]=z[L];var V=Object.assign({},X),ce="";for(var Y in V)ce+=Y;return ee!==ce}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ee=Object.preventExtensions({1:2});try{Object.assign(ee,"xy")}catch{return"y"===ee[1]}return!1}()?I:Object.assign}},152:($e,We,x)=>{"use strict";var I=x(1790),c=x(6255);$e.exports=function(){var ee=c();return I(Object,{assign:ee},{assign:function(){return Object.assign!==ee}}),ee}},151:($e,We)=>{"use strict";var x=Object.prototype.hasOwnProperty;function c(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function re(X){try{return encodeURIComponent(X)}catch{return null}}We.stringify=function z(X,L){L=L||"";var ce,Y,V=[];for(Y in"string"!=typeof L&&(L="?"),X)if(x.call(X,Y)){if(!(ce=X[Y])&&(null==ce||isNaN(ce))&&(ce=""),Y=re(Y),ce=re(ce),null===Y||null===ce)continue;V.push(Y+"="+ce)}return V.length?L+V.join("&"):""},We.parse=function ee(X){for(var ce,L=/([^=?#&]+)=?([^&]*)/g,V={};ce=L.exec(X);){var Y=c(ce[1]),oe=c(ce[2]);null===Y||null===oe||Y in V||(V[Y]=oe)}return V}},4040:($e,We,x)=>{"use strict";var I=x(3677).functionsHaveConfigurableNames(),c=Object,re=TypeError;$e.exports=function(){if(null!=this&&this!==c(this))throw new re("RegExp.prototype.flags getter called on non-object");var z="";return this.hasIndices&&(z+="d"),this.global&&(z+="g"),this.ignoreCase&&(z+="i"),this.multiline&&(z+="m"),this.dotAll&&(z+="s"),this.unicode&&(z+="u"),this.sticky&&(z+="y"),z},I&&Object.defineProperty&&Object.defineProperty($e.exports,"name",{value:"get flags"})},8704:($e,We,x)=>{"use strict";var I=x(1790),c=x(3855),re=x(4040),ee=x(9783),z=x(9369),X=c(ee());I(X,{getPolyfill:ee,implementation:re,shim:z}),$e.exports=X},9783:($e,We,x)=>{"use strict";var I=x(4040),c=x(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;$e.exports=function(){if(c&&"gim"===/a/gim.flags){var z=re(RegExp.prototype,"flags");if(z&&"function"==typeof z.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var X="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){X+="d"}}),Object.defineProperty(L,"sticky",{get:function(){X+="y"}}),"dy"===X)return z.get}}return I}},9369:($e,We,x)=>{"use strict";var I=x(1790).supportsDescriptors,c=x(9783),re=Object.getOwnPropertyDescriptor,ee=Object.defineProperty,z=TypeError,X=Object.getPrototypeOf,L=/a/;$e.exports=function(){if(!I||!X)throw new z("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ce=c(),Y=X(L),oe=re(Y,"flags");return(!oe||oe.get!==ce)&&ee(Y,"flags",{configurable:!0,enumerable:!1,get:ce}),ce}},47:$e=>{"use strict";$e.exports=function(x,I){if(I=I.split(":")[0],!(x=+x))return!1;switch(I){case"http":case"ws":return 80!==x;case"https":case"wss":return 443!==x;case"ftp":return 21!==x;case"gopher":return 70!==x;case"file":return!1}return 0!==x}},8432:($e,We,x)=>{"use strict";var I=x(9903),c=x(4263),re=x(8597),ee=I("%TypeError%"),z=I("%WeakMap%",!0),X=I("%Map%",!0),L=c("WeakMap.prototype.get",!0),V=c("WeakMap.prototype.set",!0),ce=c("WeakMap.prototype.has",!0),Y=c("Map.prototype.get",!0),oe=c("Map.prototype.set",!0),B=c("Map.prototype.has",!0),$=function(pe,G){for(var de,K=pe;null!==(de=K.next);K=de)if(de.key===G)return K.next=de.next,de.next=pe.next,pe.next=de,de};$e.exports=function(){var G,K,de,Fe={assert:function(ue){if(!Fe.has(ue))throw new ee("Side channel does not contain "+re(ue))},get:function(ue){if(z&&ue&&("object"==typeof ue||"function"==typeof ue)){if(G)return L(G,ue)}else if(X){if(K)return Y(K,ue)}else if(de)return function(pe,G){var K=$(pe,G);return K&&K.value}(de,ue)},has:function(ue){if(z&&ue&&("object"==typeof ue||"function"==typeof ue)){if(G)return ce(G,ue)}else if(X){if(K)return B(K,ue)}else if(de)return function(pe,G){return!!$(pe,G)}(de,ue);return!1},set:function(ue,at){z&&ue&&("object"==typeof ue||"function"==typeof ue)?(G||(G=new z),V(G,ue,at)):X?(K||(K=new X),oe(K,ue,at)):(de||(de={key:{},next:null}),function(pe,G,K){var de=$(pe,G);de?de.value=K:pe.next={key:G,next:pe.next,value:K}}(de,ue,at))}};return Fe}},8519:($e,We,x)=>{"use strict";var I=x(5847),c=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;$e.exports=function(z){if(!re)throw new c("this environment lacks StopIteration");I.set(z,"[[Done]]",!1);var X={next:function(){var V=I.get(this,"[[Iterator]]"),ce=I.get(V,"[[Done]]");try{return{done:ce,value:ce?void 0:V.next()}}catch(Y){if(I.set(V,"[[Done]]",!0),Y!==re)throw Y;return{done:!0,value:void 0}}}};return I.set(X,"[[Iterator]]",z),X}},9233:($e,We,x)=>{"use strict";var I=x(47),c=x(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ee=/[\n\r\t]/g,z=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,X=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,V=/^[a-zA-Z]:/;function ce(K){return(K||"").toString().replace(re,"")}var Y=[["#","hash"],["?","query"],function(de,Fe){return $(Fe.protocol)?de.replace(/\\/g,"/"):de},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],oe={hash:1,query:1};function B(K){var de;de=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var le,ue={},at=typeof(K=K||de.location||{});if("blob:"===K.protocol)ue=new Le(unescape(K.pathname),{});else if("string"===at)for(le in ue=new Le(K,{}),oe)delete ue[le];else if("object"===at){for(le in K)le in oe||(ue[le]=K[le]);void 0===ue.slashes&&(ue.slashes=z.test(K.href))}return ue}function $(K){return"file:"===K||"ftp:"===K||"http:"===K||"https:"===K||"ws:"===K||"wss:"===K}function j(K,de){K=(K=ce(K)).replace(ee,""),de=de||{};var De,Fe=L.exec(K),ue=Fe[1]?Fe[1].toLowerCase():"",at=!!Fe[2],le=!!Fe[3],be=0;return at?le?(De=Fe[2]+Fe[3]+Fe[4],be=Fe[2].length+Fe[3].length):(De=Fe[2]+Fe[4],be=Fe[2].length):le?(De=Fe[3]+Fe[4],be=Fe[3].length):De=Fe[4],"file:"===ue?be>=2&&(De=De.slice(2)):$(ue)?De=Fe[4]:ue?at&&(De=De.slice(2)):be>=2&&$(de.protocol)&&(De=Fe[4]),{protocol:ue,slashes:at||$(ue),slashesCount:be,rest:De}}function Le(K,de,Fe){if(K=(K=ce(K)).replace(ee,""),!(this instanceof Le))return new Le(K,de,Fe);var ue,at,le,be,De,Xe,Be=Y.slice(),Te=typeof de,ne=this,je=0;for("object"!==Te&&"string"!==Te&&(Fe=de,de=null),Fe&&"function"!=typeof Fe&&(Fe=c.parse),ue=!(at=j(K||"",de=B(de))).protocol&&!at.slashes,ne.slashes=at.slashes||ue&&de.slashes,ne.protocol=at.protocol||de.protocol||"",K=at.rest,("file:"===at.protocol&&(2!==at.slashesCount||V.test(K))||!at.slashes&&(at.protocol||at.slashesCount<2||!$(ne.protocol)))&&(Be[3]=[/(.*)/,"pathname"]);je<Be.length;je++)"function"!=typeof(be=Be[je])?(Xe=be[1],(le=be[0])!=le?ne[Xe]=K:"string"==typeof le?~(De="@"===le?K.lastIndexOf(le):K.indexOf(le))&&("number"==typeof be[2]?(ne[Xe]=K.slice(0,De),K=K.slice(De+be[2])):(ne[Xe]=K.slice(De),K=K.slice(0,De))):(De=le.exec(K))&&(ne[Xe]=De[1],K=K.slice(0,De.index)),ne[Xe]=ne[Xe]||ue&&be[3]&&de[Xe]||"",be[4]&&(ne[Xe]=ne[Xe].toLowerCase())):K=be(K,ne);Fe&&(ne.query=Fe(ne.query)),ue&&de.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==de.pathname)&&(ne.pathname=function Pe(K,de){if(""===K)return de;for(var Fe=(de||"/").split("/").slice(0,-1).concat(K.split("/")),ue=Fe.length,at=Fe[ue-1],le=!1,be=0;ue--;)"."===Fe[ue]?Fe.splice(ue,1):".."===Fe[ue]?(Fe.splice(ue,1),be++):be&&(0===ue&&(le=!0),Fe.splice(ue,1),be--);return le&&Fe.unshift(""),("."===at||".."===at)&&Fe.push(""),Fe.join("/")}(ne.pathname,de.pathname)),"/"!==ne.pathname.charAt(0)&&$(ne.protocol)&&(ne.pathname="/"+ne.pathname),I(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(De=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,De),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(De+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&$(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}Le.prototype={set:function pe(K,de,Fe){var ue=this;switch(K){case"query":"string"==typeof de&&de.length&&(de=(Fe||c.parse)(de)),ue[K]=de;break;case"port":ue[K]=de,I(de,ue.protocol)?de&&(ue.host=ue.hostname+":"+de):(ue.host=ue.hostname,ue[K]="");break;case"hostname":ue[K]=de,ue.port&&(de+=":"+ue.port),ue.host=de;break;case"host":ue[K]=de,X.test(de)?(de=de.split(":"),ue.port=de.pop(),ue.hostname=de.join(":")):(ue.hostname=de,ue.port="");break;case"protocol":ue.protocol=de.toLowerCase(),ue.slashes=!Fe;break;case"pathname":case"hash":if(de){var at="pathname"===K?"/":"#";ue[K]=de.charAt(0)!==at?at+de:de}else ue[K]=de;break;case"username":case"password":ue[K]=encodeURIComponent(de);break;case"auth":var le=de.indexOf(":");~le?(ue.username=de.slice(0,le),ue.username=encodeURIComponent(decodeURIComponent(ue.username)),ue.password=de.slice(le+1),ue.password=encodeURIComponent(decodeURIComponent(ue.password))):ue.username=encodeURIComponent(decodeURIComponent(de))}for(var be=0;be<Y.length;be++){var De=Y[be];De[4]&&(ue[De[1]]=ue[De[1]].toLowerCase())}return ue.auth=ue.password?ue.username+":"+ue.password:ue.username,ue.origin="file:"!==ue.protocol&&$(ue.protocol)&&ue.host?ue.protocol+"//"+ue.host:"null",ue.href=ue.toString(),ue},toString:function G(K){(!K||"function"!=typeof K)&&(K=c.stringify);var de,Fe=this,ue=Fe.host,at=Fe.protocol;at&&":"!==at.charAt(at.length-1)&&(at+=":");var le=at+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(le+=Fe.username,Fe.password&&(le+=":"+Fe.password),le+="@"):Fe.password?(le+=":"+Fe.password,le+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!ue&&"/"!==Fe.pathname&&(le+="@"),(":"===ue[ue.length-1]||X.test(Fe.hostname)&&!Fe.port)&&(ue+=":"),le+=ue+Fe.pathname,(de="object"==typeof Fe.query?K(Fe.query):Fe.query)&&(le+="?"!==de.charAt(0)?"?"+de:de),Fe.hash&&(le+=Fe.hash),le}},Le.extractProtocol=j,Le.location=B,Le.trimLeft=ce,Le.qs=c,$e.exports=Le},2086:($e,We,x)=>{"use strict";var I=x(4764),c=x(1046),re=x(6180),ee=x(6434),z=x(3);$e.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":c(L)?"Number":re(L)?"Boolean":ee(L)?"Symbol":z(L)?"BigInt":void 0}},5709:($e,We,x)=>{"use strict";var I=x(3037),c=x(5271),re=x(4263),ee=x(253),z=re("Object.prototype.toString"),X=x(3261)(),L=typeof globalThis>"u"?global:globalThis,V=c(),ce=re("String.prototype.slice"),Y={},oe=Object.getPrototypeOf;X&&ee&&oe&&I(V,function(j){if("function"==typeof L[j]){var Pe=new L[j];if(Symbol.toStringTag in Pe){var Le=oe(Pe),pe=ee(Le,Symbol.toStringTag);if(!pe){var G=oe(Le);pe=ee(G,Symbol.toStringTag)}Y[j]=pe.get}}});var $=x(7673);$e.exports=function(Pe){return!!$(Pe)&&(X&&Symbol.toStringTag in Pe?function(Pe){var Le=!1;return I(Y,function(pe,G){if(!Le)try{var K=pe.call(Pe);K===G&&(Le=K)}catch{}}),Le}(Pe):ce(z(Pe),8,-1))}},863:($e,We,x)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function c(re){if(!x.o(I,re))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+re+"'");throw X.code="MODULE_NOT_FOUND",X});var ee=I[re],z=ee[0];return Promise.all(ee.slice(1).map(x.e)).then(()=>x(z))}c.keys=()=>Object.keys(I),c.id=863,$e.exports=c},4654:()=>{},5271:$e=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],x=typeof globalThis>"u"?global:globalThis;$e.exports=function(){for(var c=[],re=0;re<We.length;re++)"function"==typeof x[We[re]]&&(c[c.length]=We[re]);return c}},2069:($e,We,x)=>{"use strict";var I=x(9102),c=x(8519);if(x(524)()||x(6858)()){var re=Symbol.iterator;$e.exports=function(De){return null!=De&&typeof De[re]<"u"?De[re]():I(De)?Array.prototype[re].call(De):void 0}}else{var ee=x(8266),z=x(4764),X=x(9903),L=X("%Map%",!0),V=X("%Set%",!0),ce=x(4263),Y=ce("Array.prototype.push"),oe=ce("String.prototype.charCodeAt"),B=ce("String.prototype.slice"),j=function(De){var Xe=0;return{next:function(){var ne,Te=Xe>=De.length;return Te||(ne=De[Xe],Xe+=1),{done:Te,value:ne}}}},Pe=function(De,Xe){if(ee(De)||I(De))return j(De);if(z(De)){var Be=0;return{next:function(){var ne=function(De,Xe){if(Xe+1>=De.length)return Xe+1;var Te=oe(De,Xe);if(Te<55296||Te>56319)return Xe+1;var ne=oe(De,Xe+1);return ne<56320||ne>57343?Xe+1:Xe+2}(De,Be),je=B(De,Be,ne);return Be=ne,{done:ne>De.length,value:je}}}}return Xe&&typeof De["_es6-shim iterator_"]<"u"?De["_es6-shim iterator_"]():void 0};if(L||V){var Le=x(9898),pe=x(3870),G=ce("Map.prototype.forEach",!0),K=ce("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var de=ce("Map.prototype.iterator",!0),Fe=ce("Set.prototype.iterator",!0);var ue=ce("Map.prototype.@@iterator",!0)||ce("Map.prototype._es6-shim iterator_",!0),at=ce("Set.prototype.@@iterator",!0)||ce("Set.prototype._es6-shim iterator_",!0);$e.exports=function(De){return function(De){if(Le(De)){if(de)return c(de(De));if(ue)return ue(De);if(G){var Xe=[];return G(De,function(Te,ne){Y(Xe,[ne,Te])}),j(Xe)}}if(pe(De)){if(Fe)return c(Fe(De));if(at)return at(De);if(K){var Be=[];return K(De,function(Te){Y(Be,Te)}),j(Be)}}}(De)||Pe(De)}}else $e.exports=function(De){if(null!=De)return Pe(De,!0)}}},2107:($e,We,x)=>{"use strict";var I=x(9898),c=x(3870),re=x(5585),ee=x(1902);$e.exports=function(X){if(X&&"object"==typeof X){if(I(X))return"Map";if(c(X))return"Set";if(re(X))return"WeakMap";if(ee(X))return"WeakSet"}return!1}},3918:($e,We,x)=>{"use strict";function I(re,ee,z,X,L,V,ce){try{var Y=re[V](ce),oe=Y.value}catch(B){return void z(B)}Y.done?ee(oe):Promise.resolve(oe).then(X,L)}function c(re){return function(){var ee=this,z=arguments;return new Promise(function(X,L){var V=re.apply(ee,z);function ce(oe){I(V,X,L,ce,Y,"next",oe)}function Y(oe){I(V,X,L,ce,Y,"throw",oe)}ce(void 0)})}}x.d(We,{Z:()=>c})}},$e=>{$e($e.s=1159)}]);
//# sourceMappingURL=main.037dec39aa6553eb.js.map