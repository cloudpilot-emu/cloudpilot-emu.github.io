(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1159:($e,Ge,F)=>{"use strict";function I(n){return"function"==typeof n}function c(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=c(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ee(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class W{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{H(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)H(e);else{if(e instanceof W){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ee(t,e)}remove(e){const{_finalizers:t}=this;t&&ee(t,e),e instanceof W&&e._removeParent(this)}}W.EMPTY=(()=>{const n=new W;return n.closed=!0,n})();const Q=W.EMPTY;function B(n){return n instanceof W||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function H(n){I(n)?n():n.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oe(n){X.setTimeout(()=>{const{onUnhandledError:e}=ce;if(!e)throw n;e(n)})}function U(){}const V=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let he=null;function q(n){if(ce.useDeprecatedSynchronousErrorHandling){const e=!he;if(e&&(he={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=he;if(he=null,t)throw r}}else n()}class de extends W{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,B(e)&&e.add(this)):this.destination=Be}static create(e,t,r){return new le(e,t,r)}next(e){this.isStopped?Ye(function Re(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ye(function G(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ye(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ue(n,e){return Fe.call(n,e)}class it{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ee(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ee(r)}else Ee(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ee(t)}}}class le extends de{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ce.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ue(e.next,i),error:e.error&&ue(e.error,i),complete:e.complete&&ue(e.complete,i)}):o=e}this.destination=new it(o)}}function Ee(n){ce.useDeprecatedSynchronousErrorHandling?function Y(n){ce.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=n)}(n):oe(n)}function Ye(n,e){const{onStoppedNotification:t}=ce;t&&X.setTimeout(()=>t(n,e))}const Be={closed:!0,next:U,error:function Ie(n){throw n},complete:U},ke="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Xe(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function N(n){return n&&n instanceof de||function We(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&B(n)}(t)?t:new le(t,r,o);return q(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=an(r))((o,i)=>{const s=new le({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ke](){return this}pipe(...t){return Xe(t)(this)}toPromise(t){return new(t=an(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function an(n){var e;return null!==(e=n??ce.Promise)&&void 0!==e?e:Promise}const ge=c(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class n extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new tt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ge}next(t){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Q:(this.currentObservers=null,i.push(t),new W(()=>{this.currentObservers=null,ee(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return n.create=(e,t)=>new tt(e,t),n})();class tt extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Q}}function Ue(n){return I(n?.lift)}function K(n){return e=>{if(Ue(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,e,t,r,o){return new pt(n,e,t,r,o)}class pt extends de{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pe(n,e){return K((t,r)=>{let o=0;t.subscribe(Se(r,i=>{r.next(n.call(e,i,o++))}))})}function Z(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function En(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function un(n){return this instanceof un?(this.v=n,this):new un(n)}function $r(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(P){return new Promise(function(J,xe){i.push([k,P,J,xe])>1||a(k,P)})})}function a(k,P){try{!function u(k){k.value instanceof un?Promise.resolve(k.value.v).then(f,m):_(i[0][2],k)}(r[k](P))}catch(J){_(i[0][3],J)}}function f(k){a("next",k)}function m(k){a("throw",k)}function _(k,P){k(P),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ir(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Rr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const or=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dn(n){return I(n?.then)}function tr(n){return I(n[ke])}function cr(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function on(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const C=function fr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bt(n){return I(n?.[C])}function ir(n){return $r(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield un(t.read());if(o)return yield un(void 0);yield yield un(r)}}finally{t.releaseLock()}})}function E(n){return I(n?.getReader)}function Mn(n){if(n instanceof vt)return n;if(null!=n){if(tr(n))return function So(n){return new vt(e=>{const t=n[ke]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(or(n))return function lo(n){return new vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(dn(n))return function Zo(n){return new vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oe)})}(n);if(cr(n))return Eo(n);if(Bt(n))return function Co(n){return new vt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(E(n))return function In(n){return Eo(ir(n))}(n)}throw on(n)}function Eo(n){return new vt(e=>{(function li(n,e){var t,r,o,i;return En(this,void 0,void 0,function*(){try{for(t=Ir(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ar(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Vn(n,e,t=1/0){return I(e)?Vn((r,o)=>Pe((i,s)=>e(r,i,o,s))(Mn(n(r,o))),t):("number"==typeof e&&(t=e),K((r,o)=>function Xr(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,_=!1;const k=()=>{_&&!u.length&&!f&&e.complete()},P=xe=>f<r?J(xe):u.push(xe),J=xe=>{i&&e.next(xe),f++;let qe=!1;Mn(t(xe,m++)).subscribe(Se(e,Ke=>{o?.(Ke),i?P(Ke):e.next(Ke)},()=>{qe=!0},void 0,()=>{if(qe)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?ar(e,s,()=>J(Ke)):J(Ke)}k()}catch(Ke){e.error(Ke)}}))};return n.subscribe(Se(e,P,()=>{_=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function co(n=1/0){return Vn(ne,n)}const Yt=new vt(n=>n.complete());function br(n){return n&&I(n.schedule)}function Fr(n){return n[n.length-1]}function Ri(n){return I(Fr(n))?n.pop():void 0}function ci(n){return br(Fr(n))?n.pop():void 0}function Do(n,e=0){return K((t,r)=>{t.subscribe(Se(r,o=>ar(r,n,()=>r.next(o),e),()=>ar(r,n,()=>r.complete(),e),o=>ar(r,n,()=>r.error(o),e)))})}function Fi(n,e=0){return K((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wi(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(t=>{ar(t,e,()=>{const r=n[Symbol.asyncIterator]();ar(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Xn(n,e){return e?function vs(n,e){if(null!=n){if(tr(n))return function Qr(n,e){return Mn(n).pipe(Fi(e),Do(e))}(n,e);if(or(n))return function ts(n,e){return new vt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(dn(n))return function ui(n,e){return Mn(n).pipe(Fi(e),Do(e))}(n,e);if(cr(n))return wi(n,e);if(Bt(n))return function Yo(n,e){return new vt(t=>{let r;return ar(t,e,()=>{r=n[C](),ar(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(E(n))return function ns(n,e){return wi(ir(n),e)}(n,e)}throw on(n)}(n,e):Mn(n)}function Xo(...n){const e=ci(n),t=function uo(n,e){return"number"==typeof Fr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Mn(r[0]):co(t)(Xn(r,e)):Yt}function bs(n={}){const{connector:e=(()=>new et),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,_=!1;const k=()=>{a?.unsubscribe(),a=void 0},P=()=>{k(),s=u=void 0,m=_=!1},J=()=>{const xe=s;P(),xe?.unsubscribe()};return K((xe,qe)=>{f++,!_&&!m&&k();const Ke=u=u??e();qe.add(()=>{f--,0===f&&!_&&!m&&(a=Oi(J,o))}),Ke.subscribe(qe),!s&&f>0&&(s=new le({next:St=>Ke.next(St),error:St=>{_=!0,k(),a=Oi(P,t,St),Ke.error(St)},complete:()=>{m=!0,k(),a=Oi(P,r),Ke.complete()}}),Mn(xe).subscribe(s))})(i)}}function Oi(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),n()}});return Mn(e(...t)).subscribe(r)}function Gn(n){for(let e in n)if(n[e]===Gn)return e;throw Error("Could not find renamed property on target object.")}function R(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function $(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fe(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const De=Gn({__forward_ref__:Gn});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return $(this())},n}function O(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(De)&&n.__forward_ref__===Oe}function Te(n){return n&&!!n.\u0275providers}const rt="https://g.co/ng/security#xss";class Ae extends Error{constructor(e,t){super(function Vt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function Qo(n,e){throw new Ae(-201,!1)}function ho(n,e){null==n&&function Un(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function sr(n){return{providers:n.providers||[],imports:n.imports||[]}}function rs(n){return zr(n,zs)||zr(n,Ea)}function zr(n,e){return n.hasOwnProperty(e)?n[e]:null}function il(n){return n&&(n.hasOwnProperty(is)||n.hasOwnProperty(Da))?n[is]:null}const zs=Gn({\u0275prov:Gn}),is=Gn({\u0275inj:Gn}),Ea=Gn({ngInjectableDef:Gn}),Da=Gn({ngInjectorDef:Gn});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let Gr;function Pn(n){const e=Gr;return Gr=n,e}function Vr(n,e,t){const r=rs(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Mt.Optional?null:void 0!==e?e:void Qo($(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),j={},ye="__NG_DI_FLAG__",ve="ngTempTokenPath",ht=/\n/gm,g="__source";let b;function T(n){const e=b;return b=n,e}function L(n,e=Mt.Default){if(void 0===b)throw new Ae(-203,!1);return null===b?Vr(n,void 0,e):b.get(n,e&Mt.Optional?null:void 0,e)}function M(n,e=Mt.Default){return(function Or(){return Gr}()||L)(O(n),e)}function me(n,e=Mt.Default){return M(n,mt(e))}function mt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ve(n){const e=[];for(let t=0;t<n.length;t++){const r=O(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,!1);let o,i=Mt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=cn(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(M(o,i))}else e.push(M(r))}return e}function yt(n,e){return n[ye]=e,n.prototype[ye]=e,n}function cn(n){return n[ye]}function zt(n){return{toString:n}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),ft=(()=>{return(n=ft||(ft={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ft;var n})();const Gt={},mn=[],nr=Gn({\u0275cmp:Gn}),Lo=Gn({\u0275dir:Gn}),Tr=Gn({\u0275pipe:Gn}),ld=Gn({\u0275mod:Gn}),ws=Gn({\u0275fac:Gn}),sl=Gn({__NG_ELEMENT_ID__:Gn});let pp=0;function ut(n){return zt(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ft.Emulated,id:"c"+pp++,styles:n.styles||mn,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=dd(n.inputs,r),o.outputs=dd(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(cd).filter(ud):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map($o).filter(ud):null,o})}function cd(n){return rr(n)||Mo(n)}function ud(n){return null!==n}function kr(n){return zt(()=>({type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dd(n,e){if(null==n)return Gt;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const Qt=ut;function oo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function rr(n){return n[nr]||null}function Mo(n){return n[Lo]||null}function $o(n){return n[Tr]||null}function pi(n,e){const t=n[ld]||null;if(!t&&!0===e)throw new Error(`Type ${$(n)} does not have '\u0275mod' property.`);return t}function hi(n){return Array.isArray(n)&&"object"==typeof n[1]}function $i(n){return Array.isArray(n)&&!0===n[1]}function Lc(n){return 0!=(4&n.flags)}function ul(n){return n.componentOffset>-1}function Zl(n){return 1==(1&n.flags)}function Bi(n){return null!==n.template}function gp(n){return 0!=(256&n[2])}function Ws(n,e){return n.hasOwnProperty(ws)?n[ws]:null}class vp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function mo(){return yd}function yd(n){return n.type.prototype.ngOnChanges&&(n.setInput=wp),bp}function bp(){const n=vd(this),e=n?.current;if(e){const t=n.previous;if(t===Gt)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wp(n,e,t,r){const o=this.declaredInputs[t],i=vd(n)||function Sp(n,e){return n[_d]=e}(n,{previous:Gt,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new vp(u&&u.currentValue,e,a===Gt),n[r]=e}mo.ngInherit=!0;const _d="__ngSimpleChanges__";function vd(n){return n[_d]||null}function Vo(n){for(;Array.isArray(n);)n=n[0];return n}function xa(n,e){return Vo(e[n])}function Ei(n,e){return Vo(e[n.index])}function wd(n,e){return n.data[e]}function hr(n,e){return n[e]}function io(n,e){const t=e[n];return hi(t)?t:t[0]}function Bc(n){return 64==(64&n[2])}function qs(n,e){return null==e?null:n[e]}function Ip(n){n[18]=0}function Sd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Dt={lFrame:D0(null),bindingsEnabled:!0};function mr(){return Dt.bindingsEnabled}function st(){return Dt.lFrame.lView}function gn(){return Dt.lFrame.tView}function kt(n){return Dt.lFrame.contextLView=n,n[8]}function xt(n){return Dt.lFrame.contextLView=null,n}function Ht(){let n=l();for(;null!==n&&64===n.type;)n=n.parent;return n}function l(){return Dt.lFrame.currentTNode}function v(n,e){const t=Dt.lFrame;t.currentTNode=n,t.isParent=e}function x(){return Dt.lFrame.isParent}function z(){Dt.lFrame.isParent=!1}function Jt(){return Dt.lFrame.bindingIndex}function Nn(){return Dt.lFrame.bindingIndex++}function qt(n){const e=Dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Jr(n,e){const t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,xo(e)}function xo(n){Dt.lFrame.currentDirectiveIndex=n}function fn(){return Dt.lFrame.currentQueryIndex}function eo(n){Dt.lFrame.currentQueryIndex=n}function Sr(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Ui(n,e,t){if(t&Mt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&Mt.Host||(o=Sr(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Dt.lFrame=E0();return r.currentTNode=e,r.lView=n,!0}function Wr(n){const e=E0(),t=n[1];Dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function E0(){const n=Dt.lFrame,e=null===n?null:n.child;return null===e?D0(n):e}function D0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function I0(){const n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const M0=I0;function cg(){const n=I0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Di(){return Dt.lFrame.selectedIndex}function Kl(n){Dt.lFrame.selectedIndex=n}function qr(){const n=Dt.lFrame;return wd(n.tView,n.selectedIndex)}function Mp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Tp(n,e,t){T0(n,e,3,t)}function kp(n,e,t,r){(3&n[2])===t&&T0(n,e,t,r)}function ug(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function T0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(ZT(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function ZT(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Cd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function fg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];A0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function k0(n){return 3===n||4===n||6===n}function A0(n){return 64===n.charCodeAt(0)}function Ed(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||x0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function x0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function P0(n){return-1!==n}function Ap(n){return 32767&n}function xp(n,e){let t=function QT(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let pg=!0;function Pp(n){const e=pg;return pg=n,e}let JT=0;const Zs={};function Rp(n,e){const t=O0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,hg(r.data,n),hg(e,null),hg(r.blueprint,null));const o=mg(n,e),i=n.injectorIndex;if(P0(o)){const s=Ap(o),a=xp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function hg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function O0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function mg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=H0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function gg(n,e,t){!function ek(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(sl)&&(r=t[sl]),null==r&&(r=t[sl]=JT++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function N0(n,e,t){if(t&Mt.Optional||void 0!==n)return n;Qo()}function L0(n,e,t,r){if(t&Mt.Optional&&void 0===r&&(r=null),!(t&(Mt.Self|Mt.Host))){const o=n[9],i=Pn(void 0);try{return o?o.get(e,r,t&Mt.Optional):Vr(e,r,t&Mt.Optional)}finally{Pn(i)}}return N0(r,0,t)}function $0(n,e,t,r=Mt.Default,o){if(null!==n){if(1024&e[2]){const s=function ik(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=B0(i,s,t,r|Mt.Self,Zs);if(a!==Zs)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,Zs,r);if(m!==Zs)return m}u=H0(s),s=s[15]}i=u}return o}(n,e,t,r,Zs);if(s!==Zs)return s}const i=B0(n,e,t,r,Zs);if(i!==Zs)return i}return L0(e,t,r,o)}function B0(n,e,t,r,o){const i=function rk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(sl)?n[sl]:void 0;return"number"==typeof e?e>=0?255&e:ok:e}(t);if("function"==typeof i){if(!Ui(e,n,r))return r&Mt.Host?N0(o,0,r):L0(e,t,r,o);try{const s=i(r);if(null!=s||r&Mt.Optional)return s;Qo()}finally{M0()}}else if("number"==typeof i){let s=null,a=O0(n,e),u=-1,f=r&Mt.Host?e[16][6]:null;for((-1===a||r&Mt.SkipSelf)&&(u=-1===a?mg(n,e):e[a+8],-1!==u&&U0(r,!1)?(s=e[1],a=Ap(u),e=xp(u,e)):a=-1);-1!==a;){const m=e[1];if(V0(i,a,m.data)){const _=nk(a,e,t,s,r,f);if(_!==Zs)return _}u=e[a+8],-1!==u&&U0(r,e[1].data[a+8]===f)&&V0(i,a,e)?(s=m,a=Ap(u),e=xp(u,e)):a=-1}}return o}function nk(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Fp(a,s,t,null==r?ul(a)&&pg:r!=s&&0!=(3&a.type),o&Mt.Host&&i===a);return null!==m?Yl(e,s,m,a):Zs}function Fp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,k=o?a+m:n.directiveEnd;for(let P=r?a:a+m;P<k;P++){const J=s[P];if(P<u&&t===J||P>=u&&J.type===t)return P}if(o){const P=s[u];if(P&&Bi(P)&&P.type===t)return u}return null}function Yl(n,e,t,r){let o=n[t];const i=e.data;if(function KT(n){return n instanceof Cd}(o)){const s=o;s.resolving&&function fo(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${t}`)}(function sn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(i[t]));const a=Pp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Pn(s.injectImpl):null;Ui(n,r,Mt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function qT(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=yd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&Pn(u),Pp(a),s.resolving=!1,M0()}}return o}function V0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function U0(n,e){return!(n&Mt.Self||n&Mt.Host&&e)}class Uc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $0(this._tNode,this._lView,e,mt(r),t)}}function ok(){return new Uc(Ht(),st())}function Ho(n){return zt(()=>{const e=n.prototype.constructor,t=e[ws]||yg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[ws]||yg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function yg(n){return pe(n)?()=>{const e=yg(O(n));return e&&e()}:Ws(n)}function H0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Hc(n){return function tk(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(k0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Ht(),n)}const zc="__parameters__";function Wc(n,e,t){return zt(()=>{const r=function _g(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const _=u.hasOwnProperty(zc)?u[zc]:Object.defineProperty(u,zc,{value:[]})[zc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class en{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=gt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xl(n,e){n.forEach(t=>Array.isArray(t)?Xl(t,e):e(t))}function z0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Op(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Md(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function as(n,e,t){let r=qc(n,e);return r>=0?n[1|r]=t:(r=~r,function ck(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function bg(n,e){const t=qc(n,e);if(t>=0)return n[1|t]}function qc(n,e){return function G0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const Td=yt(Wc("Optional"),8),kd=yt(Wc("SkipSelf"),4);var Hi=(()=>((Hi=Hi||{})[Hi.Important=1]="Important",Hi[Hi.DashCase=2]="DashCase",Hi))();const Ig=new Map;let xk=0;const Tg="__ngContext__";function gi(n,e){hi(e)?(n[Tg]=e[20],function Rk(n){Ig.set(n[20],n)}(e)):n[Tg]=e}function Ag(n,e){return undefined(n,e)}function Rd(n){const e=n[3];return $i(e)?e[3]:e}function xg(n){return db(n[13])}function Pg(n){return db(n[4])}function db(n){for(;null!==n&&!$i(n);)n=n[4];return n}function Kc(n,e,t,r,o){if(null!=r){let i,s=!1;$i(r)?i=r:hi(r)&&(s=!0,r=r[0]);const a=Vo(r);0===n&&null!==t?null==o?yb(e,t,a):Ql(e,t,a,o||null,!0):1===n&&null!==t?Ql(e,t,a,o||null,!0):2===n?function Bg(n,e,t){const r=Bp(n,e);r&&function Jk(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function nA(n,e,t,r,o){const i=t[7];i!==Vo(t)&&Kc(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Fd(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Fg(n,e,t){return n.createElement(e,t)}function pb(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Sd(o,-1)),t.splice(r,1)}function Og(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&pb(o,r),e>0&&(n[t-1][4]=r[4]);const i=Op(n,10+e);!function Gk(n,e){Fd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function hb(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Fd(n,e,t,3,null,null),function Zk(n){let e=n[13];if(!e)return Ng(n[1],n);for(;e;){let t=null;if(hi(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)hi(e)&&Ng(e[1],e),e=e[3];null===e&&(e=n),hi(e)&&Ng(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ng(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Qk(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Cd)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function Xk(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&$i(e[3])){t!==e[3]&&pb(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Fk(n){Ig.delete(n[20])}(e)}}function mb(n,e,t){return function gb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===ft.None||i===ft.Emulated)return null}return Ei(r,t)}}(n,e.parent,t)}function Ql(n,e,t,r,o){n.insertBefore(e,t,r,o)}function yb(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,o){null!==r?Ql(n,e,t,r,o):yb(n,e,t)}function Bp(n,e){return n.parentNode(e)}function vb(n,e,t){return wb(n,e,t)}let Hp,Hg,wb=function bb(n,e,t){return 40&n.type?Ei(n,t):null};function Vp(n,e,t,r){const o=mb(n,r,e),i=e[11],a=vb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)_b(i,o,t[u],a,!1);else _b(i,o,t,a,!1)}function Up(n,e){if(null!==e){const t=e.type;if(3&t)return Ei(e,n);if(4&t)return $g(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Up(n,r);{const o=n[e.index];return $i(o)?$g(-1,o):Vo(o)}}if(32&t)return Ag(e,n)()||Vo(n[e.index]);{const r=Cb(n,e);return null!==r?Array.isArray(r)?r[0]:Up(Rd(n[16]),r):Up(n,e.next)}}return null}function Cb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function $g(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Up(r,o)}return e[7]}function Vg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&gi(Vo(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Vg(n,e,t.child,r,o,i,!1),Kc(e,n,o,a,i);else if(32&u){const f=Ag(t,r);let m;for(;m=f();)Kc(e,n,o,m,i);Kc(e,n,o,a,i)}else 16&u?Eb(n,e,r,t,o,i):Kc(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Fd(n,e,t,r,o,i){Vg(t,r,n.firstChild,e,o,i,!1)}function Eb(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)Kc(e,n,o,u[f],i);else Vg(n,e,u,s[3],o,i,!0)}function Db(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ib(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&fg(n,e,r),null!==o&&Db(n,e,o),null!==i&&function oA(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function Jl(n){return function Ug(){if(void 0===Hp&&(Hp=null,p.trustedTypes))try{Hp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hp}()?.createHTML(n)||n}class ec{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class cA extends ec{getTypeName(){return"HTML"}}class uA extends ec{getTypeName(){return"Style"}}class dA extends ec{getTypeName(){return"Script"}}class fA extends ec{getTypeName(){return"URL"}}class pA extends ec{getTypeName(){return"ResourceURL"}}function ls(n){return n instanceof ec?n.changingThisBreaksApplicationSecurity:n}function Ks(n,e){const t=function hA(n){return n instanceof ec&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rt})`)}return t===e}class bA{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Jl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class wA{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Jl(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Jl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const CA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zp(n){return(n=String(n)).match(CA)?n:"unsafe:"+n}function Pa(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Od(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Pb=Pa("area,br,col,hr,img,wbr"),Rb=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fb=Pa("rp,rt"),zg=Od(Pb,Od(Rb,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Od(Fb,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Od(Fb,Rb)),Gg=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ob=Od(Gg,Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),EA=Pa("script,style,template");class DA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zg.hasOwnProperty(t))return this.sanitizedSomething=!0,!EA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Ob.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Gg[a]&&(u=zp(u)),this.buf.push(" ",s,'="',Nb(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zg.hasOwnProperty(t)&&!Pb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Nb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const IA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MA=/([^\#-~ |!])/g;function Nb(n){return n.replace(/&/g,"&amp;").replace(IA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(MA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gp;function Lb(n,e){let t=null;try{Gp=Gp||function xb(n){const e=new wA(n);return function SA(){try{return!!(new window.DOMParser).parseFromString(Jl(""),"text/html")}catch{return!1}}()?new bA(e):e}(n);let r=e?String(e):"";t=Gp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Gp.getInertBodyElement(r)}while(r!==i);return Jl((new DA).sanitizeChildren(Wg(t)||t))}finally{if(t){const r=Wg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Wg(n){return"content"in n&&function TA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();const Wp=new en("ENVIRONMENT_INITIALIZER"),Ub=new en("INJECTOR",-1),Hb=new en("INJECTOR_DEF_TYPES");class jb{get(e,t=j){if(t===j){const r=new Error(`NullInjectorError: No provider for ${$(e)}!`);throw r.name="NullInjectorError",r}return t}}function NA(...n){return{\u0275providers:zb(0,n),\u0275fromNgModule:!0}}function zb(n,...e){const t=[],r=new Set;let o;return Xl(e,i=>{const s=i;qg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Gb(o,t),t}function Gb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];Zg(o,i=>{e.push(i)})}}function qg(n,e,t,r){if(!(n=O(n)))return!1;let o=null,i=il(n);const s=!i&&rr(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=il(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)qg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{Xl(i.imports,m=>{qg(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&Gb(f,e)}if(!a){const f=Ws(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:mn},{provide:Hb,useValue:o,multi:!0},{provide:Wp,useValue:()=>M(o),multi:!0})}const u=i.providers;null==u||a||Zg(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function Zg(n,e){for(let t of n)Te(t)&&(t=t.\u0275providers),Array.isArray(t)?Zg(t,e):e(t)}const LA=Gn({provide:String,useValue:Gn});function Kg(n){return null!==n&&"object"==typeof n&&LA in n}function tc(n){return"function"==typeof n}const Yg=new en("Set Injector scope."),qp={},BA={};let Xg;function Zp(){return void 0===Xg&&(Xg=new jb),Xg}class Ys{}class Zb extends Ys{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jg(e,s=>this.processProvider(s)),this.records.set(Ub,Yc(void 0,this)),o.has("environment")&&this.records.set(Ys,Yc(void 0,this));const i=this.records.get(Yg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Hb.multi,mn,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=T(this),r=Pn(void 0);try{return e()}finally{T(t),Pn(r)}}get(e,t=j,r=Mt.Default){this.assertNotDestroyed(),r=mt(r);const o=T(this),i=Pn(void 0);try{if(!(r&Mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function zA(n){return"function"==typeof n||"object"==typeof n&&n instanceof en}(e)&&rs(e);a=u&&this.injectableDefInScope(u)?Yc(Qg(e),qp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Mt.Self?Zp():this.parent).get(e,t=r&Mt.Optional&&t===j?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[ve]=s[ve]||[]).unshift($(e)),o)throw s;return function Et(n,e,t,r){const o=n[ve];throw e[g]&&o.unshift(e[g]),n.message=function Nt(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=$(e);if(Array.isArray(e))o=e.map($).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):$(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(ht,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[ve]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Pn(i),T(o)}}resolveInjectorInitializers(){const e=T(this),t=Pn(void 0);try{const r=this.get(Wp.multi,mn,Mt.Self);for(const o of r)o()}finally{T(e),Pn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push($(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(e){let t=tc(e=O(e))?e:O(e&&e.provide);const r=function UA(n){return Kg(n)?Yc(void 0,n.useValue):Yc(Kb(n),qp)}(e);if(tc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=Yc(void 0,qp,!0),o.factory=()=>Ve(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===qp&&(t.value=BA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function jA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=O(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Qg(n){const e=rs(n),t=null!==e?e.factory:Ws(n);if(null!==t)return t;if(n instanceof en)throw new Ae(204,!1);if(n instanceof Function)return function VA(n){const e=n.length;if(e>0)throw Md(e,"?"),new Ae(204,!1);const t=function os(n){const e=n&&(n[zs]||n[Ea]);if(e){const t=function Si(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ae(204,!1)}function Kb(n,e,t){let r;if(tc(n)){const o=O(n);return Ws(o)||Qg(o)}if(Kg(n))r=()=>O(n.useValue);else if(function qb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ve(n.deps||[]));else if(function Wb(n){return!(!n||!n.useExisting)}(n))r=()=>M(O(n.useExisting));else{const o=O(n&&(n.useClass||n.provide));if(!function HA(n){return!!n.deps}(n))return Ws(o)||Qg(o);r=()=>new o(...Ve(n.deps))}return r}function Yc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Jg(n,e){for(const t of n)Array.isArray(t)?Jg(t,e):t&&Te(t)?Jg(t.\u0275providers,e):e(t)}class GA{}class Yb{}class qA{resolveComponentFactory(e){throw function WA(n){const e=Error(`No component factory found for ${$(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ra=(()=>{class n{}return n.NULL=new qA,n})();function ZA(){return Xc(Ht(),st())}function Xc(n,e){return new _t(Ei(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=ZA,n})();function KA(n){return n instanceof _t?n.nativeElement:n}class Qb{}let Fa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function YA(){const n=st(),t=io(Ht().index,n);return(hi(t)?t:n)[11]}(),n})(),XA=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>null}),n})();class Ld{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QA=new Ld("15.1.3"),ey={};function ny(n){return n.ngOriginalError}class Qc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ny(e);for(;t&&ny(t);)t=ny(t);return t||null}}function Oa(n){return n instanceof Function?n():n}function ew(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const tw="ng-template";function cx(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==ew(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function nw(n){return 4===n.type&&n.value!==tw}function ux(n,e,t){return e===(4!==n.type||t?n.value:tw)}function dx(n,e,t){let r=4;const o=n.attrs||[],i=function hx(n){for(let e=0;e<n.length;e++)if(k0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ux(n,u,t)||""===u&&1===e.length){if(Ps(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!cx(n.attrs,f,t)){if(Ps(r))return!1;s=!0}continue}const _=fx(8&r?"class":u,o,nw(n),t);if(-1===_){if(Ps(r))return!1;s=!0;continue}if(""!==f){let k;k=_>i?"":o[_+1].toLowerCase();const P=8&r?k:null;if(P&&-1!==ew(P,f,0)||2&r&&f!==k){if(Ps(r))return!1;s=!0}}}}else{if(!s&&!Ps(r)&&!Ps(u))return!1;if(s&&Ps(u))continue;s=!1,r=u|1&r}}return Ps(r)||s}function Ps(n){return 0==(1&n)}function fx(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function mx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rw(n,e,t=!1){for(let r=0;r<e.length;r++)if(dx(n,e[r],t))return!0;return!1}function gx(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function ow(n,e){return n?":not("+e.trim()+")":e}function yx(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ps(s)&&(e+=ow(i,o),o=""),r=s,i=i||!Ps(r);t++}return""!==o&&(e+=ow(i,o)),e}const kn={};function Je(n){iw(gn(),st(),Di()+n,!1)}function iw(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Tp(e,i,t)}else{const i=n.preOrderHooks;null!==i&&kp(e,i,0,t)}Kl(t)}function cw(n,e=null,t=null,r){const o=uw(n,e,t,r);return o.resolveInjectorInitializers(),o}function uw(n,e=null,t=null,r,o=new Set){const i=[t||mn,NA(n)];return r=r||("object"==typeof n?void 0:$(n)),new Zb(i,e||Zp(),r||null,o)}let Zr=(()=>{class n{static create(t,r){if(Array.isArray(t))return cw({name:""},r,t,"");{const o=t.name??"";return cw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=j,n.NULL=new jb,n.\u0275prov=gt({token:n,providedIn:"any",factory:()=>M(Ub)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,e=Mt.Default){const t=st();return null===t?M(n,e):$0(Ht(),t,O(n),e)}function _w(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];eo(t[r]),s.contentQueries(2,e[i],i)}}}function Yp(n,e,t,r,o,i,s,a,u,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||n&&1024&n[2])&&(_[2]|=1024),Ip(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[11]=a||n&&n[11],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function Pk(){return xk++}(),_[21]=m,_[16]=2==e.type?n[16]:_,_}function tu(n,e,t,r,o){let i=n.data[e];if(null===i)i=function ay(n,e,t,r,o){const i=l(),s=x(),u=n.data[e]=function jx(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function ln(){return Dt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function h(){const n=Dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return v(i,!0),i}function $d(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function ly(n,e,t){Wr(e);try{const r=n.viewQuery;null!==r&&_y(1,r,t);const o=n.template;null!==o&&vw(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&_w(n,e),n.staticViewQueries&&_y(2,n.viewQuery,t);const i=n.components;null!==i&&function Vx(n,e){for(let t=0;t<e.length;t++)lP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,cg()}}function Xp(n,e,t,r){const o=e[2];if(128!=(128&o)){Wr(e);try{Ip(e),function Fn(n){return Dt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&vw(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Tp(e,f,null)}else{const f=n.preOrderHooks;null!==f&&kp(e,f,0,null),ug(e,0)}if(function sP(n){for(let e=xg(n);null!==e;e=Pg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Sd(o[3],1),o[2]|=512}}}(e),function iP(n){for(let e=xg(n);null!==e;e=Pg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];Bc(r)&&Xp(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&_w(n,e),s){const f=n.contentCheckHooks;null!==f&&Tp(e,f)}else{const f=n.contentHooks;null!==f&&kp(e,f,1),ug(e,1)}!function $x(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Kl(~o);else{const i=o,s=t[++r],a=t[++r];Jr(s,i),a(2,e[i])}}}finally{Kl(-1)}}(n,e);const a=n.components;null!==a&&function Bx(n,e){for(let t=0;t<e.length;t++)aP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&_y(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Tp(e,f)}else{const f=n.viewHooks;null!==f&&kp(e,f,2),ug(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Sd(e[3],-1))}finally{cg()}}}function vw(n,e,t,r,o){const i=Di(),s=2&r;try{Kl(-1),s&&e.length>22&&iw(n,e,22,!1),t(r,o)}finally{Kl(i)}}function cy(n,e,t){if(Lc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function uy(n,e,t){mr()&&(function Kx(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;ul(t)&&function nP(n,e,t){const r=Ei(e,n),o=bw(t),i=n[10],s=Qp(n,Yp(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Rp(t,e),gi(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=Yl(e,n,a,t);gi(f,e),null!==s&&rP(0,a-o,f,u,0,s),Bi(u)&&(io(t.index,e)[8]=Yl(e,n,a,t))}}(n,e,t,Ei(t,e)),64==(64&t.flags)&&Iw(n,e,t))}function dy(n,e,t=Ei){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function bw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=fy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function fy(n,e,t,r,o,i,s,a,u,f){const m=22+r,_=m+o,k=function Ux(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:kn);return t}(m,_),P="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:P,incompleteFirstPass:!1}}function ww(n,e,t,r){const o=Tw(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&kw(n).push(r,o.length-1))}function Sw(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?Cw(t,e,o,i):r.hasOwnProperty(o)&&Cw(t,e,r[o],i)}return t}function Cw(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function cs(n,e,t,r,o,i,s,a){const u=Ei(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(vy(n,t,m,r,o),ul(e)&&Ew(t,e.index)):3&e.type&&(r=function Gx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function Ew(n,e){const t=io(e,n);16&t[2]||(t[2]|=32)}function py(n,e,t,r){let o=!1;if(mr()){const i=null===r?null:{"":-1},s=function Xx(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(rw(e,s.selectors,!1))if(r||(r=[]),Bi(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),hy(n,e,a.length)}else r.unshift(s),hy(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Dw(n,e,t,a,i,u)),i&&function Qx(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new Ae(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=Ed(t.mergedAttrs,t.attrs),o}function Dw(n,e,t,r,o,i){for(let f=0;f<r.length;f++)gg(Rp(t,e),n,r[f].type);!function eP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=$d(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=Ed(t.mergedAttrs,m.hostAttrs),tP(n,t,e,u,m),Jx(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function zx(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const _=i[m],k=t?t.get(_):null,J=k?k.outputs:null;u=Sw(_.inputs,m,u,k?k.inputs:null),f=Sw(_.outputs,m,f,J);const xe=null===u||null===s||nw(e)?null:oP(u,m,s);a.push(xe)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function Iw(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function Vi(){return Dt.lFrame.currentDirectiveIndex}();try{Kl(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];xo(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Yx(u,f)}}finally{Kl(-1),xo(s)}}function Yx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function hy(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function Jx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Bi(e)&&(t[""]=n)}}function tP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=Ws(o.type)),s=new Cd(i,Bi(o),S);n.blueprint[r]=s,t[r]=s,function qx(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Zx(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,$d(n,t,o.hostVars,kn),o)}function Xs(n,e,t,r,o,i){const s=Ei(n,e);!function my(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?Ct(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function rP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,m):t[m]=_}}}function oP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Mw(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function aP(n,e){const t=io(e,n);if(Bc(t)){const r=t[1];48&t[2]?Xp(r,t,r.template,t[8]):t[5]>0&&gy(t)}}function gy(n){for(let r=xg(n);null!==r;r=Pg(r))for(let o=10;o<r.length;o++){const i=r[o];if(Bc(i))if(512&i[2]){const s=i[1];Xp(s,i,s.template,i[8])}else i[5]>0&&gy(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=io(t[r],n);Bc(o)&&o[5]>0&&gy(o)}}function lP(n,e){const t=io(e,n),r=t[1];(function cP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ly(r,t,t[8])}function Qp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function yy(n){for(;n;){n[2]|=32;const e=Rd(n);if(gp(n)&&!e)return n;n=e}return null}function Jp(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{Xp(n,e,n.template,t)}catch(s){throw r&&xw(e,s),s}finally{o.end&&o.end()}}function _y(n,e,t){eo(0),e(n,t)}function Tw(n){return n[7]||(n[7]=[])}function kw(n){return n.cleanup||(n.cleanup=[])}function xw(n,e){const t=n[9],r=t?t.get(Qc,null):null;r&&r.handleError(e)}function vy(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function Na(n,e,t){const r=xa(e,n);!function fb(n,e,t){n.setValue(e,t)}(n[11],r,t)}function eh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=fe(o,a):2==i&&(r=fe(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function th(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(Vo(i)),$i(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&th(u[1],u,f,r)}const s=t.type;if(8&s)th(n,e,t.child,r);else if(32&s){const a=Ag(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Cb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Rd(e[16]);th(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class Bd{get rootNodes(){const e=this._lView,t=e[1];return th(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if($i(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Og(e,r),Op(t,r))}this._attachedToViewContainer=!1}hb(this._lView[1],this._lView)}onDestroy(e){ww(this._lView[1],this._lView,null,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qk(n,e){Fd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=e}}class uP extends Bd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Jp(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Pw extends Ra{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=rr(e);return new Vd(t,this.ngModule)}}function Rw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class fP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=mt(r);const o=this.injector.get(e,ey,r);return o!==ey||t===ey?o:this.parentInjector.get(e,t,r)}}class Vd extends Yb{get inputs(){return Rw(this.componentDef.inputs)}get outputs(){return Rw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _x(n){return n.map(yx).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof Ys?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new fP(e,i):e,a=s.get(Qb,null);if(null===a)throw new Ae(407,!1);const u=s.get(XA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function Hx(n,e,t){return n.selectRootElement(e,t===ft.ShadowDom)}(f,r,this.componentDef.encapsulation):Fg(f,m,function dP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),k=this.componentDef.onPush?288:272,P=fy(0,null,null,1,0,null,null,null,null,null),J=Yp(null,P,null,k,null,null,a,f,u,s,null);let xe,qe;Wr(J);try{const Ke=this.componentDef;let St,Ne=null;Ke.findHostDirectiveDefs?(St=[],Ne=new Map,Ke.findHostDirectiveDefs(Ke,St,Ne),St.push(Ke)):St=[Ke];const Ft=function hP(n,e){const t=n[1];return n[22]=e,tu(t,22,2,"#host",null)}(J,_),_n=function mP(n,e,t,r,o,i,s,a){const u=o[1];!function gP(n,e,t,r){for(const o of n)e.mergedAttrs=Ed(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(eh(e,e.mergedAttrs,!0),null!==t&&Ib(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=Yp(o,bw(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&hy(u,n,r.length-1),Qp(o,m),o[n.index]=m}(Ft,_,Ke,St,J,a,f);qe=wd(P,22),_&&function _P(n,e,t,r){if(r)fg(n,t,["ng-version",QA.full]);else{const{attrs:o,classes:i}=function vx(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!Ps(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&fg(n,t,o),i&&i.length>0&&Db(n,t,i.join(" "))}}(f,Ke,_,r),void 0!==t&&function vP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(qe,this.ngContentSelectors,t),xe=function yP(n,e,t,r,o,i){const s=Ht(),a=o[1],u=Ei(s,o);Dw(a,o,s,t,null,r);for(let m=0;m<t.length;m++)gi(Yl(o,a,s.directiveStart+m,s),o);Iw(a,o,s),u&&gi(u,o);const f=Yl(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return cy(a,s,n),f}(_n,Ke,St,Ne,J,[bP]),ly(P,J,null)}finally{cg()}return new pP(this.componentType,xe,Xc(qe,J),J,qe)}}class pP extends GA{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new uP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;vy(i[1],i,o,e,t),Ew(i,this._tNode.index)}}get injector(){return new Uc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bP(){const n=Ht();Mp(st()[1],n)}function Jn(n){let e=function Fw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(Bi(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=by(n.inputs),s.declaredInputs=by(n.declaredInputs),s.outputs=by(n.outputs);const a=o.hostBindings;a&&EP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&SP(n,u),f&&CP(n,f),R(n.inputs,o.inputs),R(n.declaredInputs,o.declaredInputs),R(n.outputs,o.outputs),Bi(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===Jn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Ed(o.hostAttrs,t=Ed(t,o.hostAttrs))}}(r)}function by(n){return n===Gt?{}:n===mn?[]:n}function SP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function CP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function EP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let nh=null;function nc(){if(!nh){const n=p.Symbol;if(n&&n.iterator)nh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(nh=r)}}}return nh}function rh(n){return!!function wy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&nc()in n)}function yi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function rc(n,e,t,r){const o=yi(n,e,t);return yi(n,e+1,r)||o}function Js(n,e,t,r){const o=st();return yi(o,Nn(),e)&&(gn(),Xs(qr(),o,n,e,t,r)),Js}function ru(n,e,t,r){return yi(n,Nn(),t)?e+Ct(t)+r:kn}function iu(n,e,t,r,o,i,s,a){const f=function oh(n,e,t,r,o){const i=rc(n,e,t,r);return yi(n,e+2,o)||i}(n,Jt(),t,o,s);return qt(3),f?e+Ct(t)+r+Ct(o)+i+Ct(s)+a:kn}function nn(n,e,t,r,o,i,s,a){const u=st(),f=gn(),m=n+22,_=f.firstCreatePass?function FP(n,e,t,r,o,i,s,a,u){const f=e.consts,m=tu(e,n,4,s||null,qs(f,a));py(e,t,m,qs(f,u)),Mp(e,m);const _=m.tViews=fy(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];v(_,!1);const k=u[11].createComment("");Vp(f,u,k,_),gi(k,u),Qp(u,u[m]=Mw(k,u,k,_)),Zl(_)&&uy(f,u,_),null!=s&&dy(u,_,a)}function us(n){return hr(function Ce(){return Dt.lFrame.contextLView}(),22+n)}function ot(n,e,t){const r=st();return yi(r,Nn(),e)&&cs(gn(),qr(),r,n,e,r[11],t,!1),ot}function Sy(n,e,t,r,o){const s=o?"class":"style";vy(n,t,e.inputs[s],s,r)}function se(n,e,t,r){const o=st(),i=gn(),s=22+n,a=o[11],u=o[s]=Fg(a,e,function WT(){return Dt.lFrame.currentNamespace}()),f=i.firstCreatePass?function NP(n,e,t,r,o,i,s){const a=e.consts,f=tu(e,n,2,o,qs(a,i));return py(e,t,f,qs(a,s)),null!==f.attrs&&eh(f,f.attrs,!1),null!==f.mergedAttrs&&eh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return v(f,!0),Ib(a,u,f),32!=(32&f.flags)&&Vp(i,o,u,f),0===function Qe(){return Dt.lFrame.elementDepthCount}()&&gi(u,o),function Hr(){Dt.lFrame.elementDepthCount++}(),Zl(f)&&(uy(i,o,f),cy(i,f,o)),null!==r&&dy(o,f),se}function te(){let n=Ht();x()?z():(n=n.parent,v(n,!1));const e=n;!function qn(){Dt.lFrame.elementDepthCount--}();const t=gn();return t.firstCreatePass&&(Mp(t,n),Lc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function YT(n){return 0!=(8&n.flags)}(e)&&Sy(t,e,st(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XT(n){return 0!=(16&n.flags)}(e)&&Sy(t,e,st(),e.stylesWithoutHost,!1),te}function ct(n,e,t,r){return se(n,e,t,r),te(),ct}function Hd(n,e,t){const r=st(),o=gn(),i=n+22,s=o.firstCreatePass?function LP(n,e,t,r,o){const i=e.consts,s=qs(i,r),a=tu(e,n,8,"ng-container",s);return null!==s&&eh(a,s,!0),py(e,t,a,qs(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];v(s,!0);const a=r[i]=r[11].createComment("");return Vp(o,r,a,s),gi(a,r),Zl(s)&&(uy(o,r,s),cy(o,s,r)),null!=t&&dy(r,s),Hd}function jd(){let n=Ht();const e=gn();return x()?z():(n=n.parent,v(n,!1)),e.firstCreatePass&&(Mp(e,n),Lc(n)&&e.queries.elementEnd(n)),jd}function ur(){return st()}function zd(n){return!!n&&"function"==typeof n.then}function qw(n){return!!n&&"function"==typeof n.subscribe}const Cy=qw;function lt(n,e,t,r){const o=st(),i=gn(),s=Ht();return function Kw(n,e,t,r,o,i,s){const a=Zl(r),f=n.firstCreatePass&&kw(n),m=e[8],_=Tw(e);let k=!0;if(3&r.type||s){const xe=Ei(r,e),qe=s?s(xe):xe,Ke=_.length,St=s?Ft=>s(Vo(Ft[r.index])):r.index;let Ne=null;if(!s&&a&&(Ne=function $P(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=i,Ne.__ngLastListenerFn__=i,k=!1;else{i=Xw(r,e,m,i,!1);const Ft=t.listen(qe,o,i);_.push(i,Ft),f&&f.push(o,St,Ke,Ke+1)}}else i=Xw(r,e,m,i,!1);const P=r.outputs;let J;if(k&&null!==P&&(J=P[o])){const xe=J.length;if(xe)for(let qe=0;qe<xe;qe+=2){const _n=e[J[qe]][J[qe+1]].subscribe(i),Bn=_.length;_.push(i,_n),f&&f.push(o,r.index,Bn,-(Bn+1))}}}(i,o,o[11],s,n,e,r),lt}function Yw(n,e,t,r){try{return!1!==t(r)}catch(o){return xw(n,o),!1}}function Xw(n,e,t,r,o){return function i(s){if(s===Function)return r;yy(n.componentOffset>-1?io(n.index,e):e);let u=Yw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=Yw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Lt(n=1){return function VT(n){return(Dt.lFrame.contextLView=function UT(n,e){for(;n>0;)e=e[15],n--;return e}(n,Dt.lFrame.contextLView))[8]}(n)}function BP(n,e){let t=null;const r=function px(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?rw(n,i,!0):gx(r,i))return o}else t=o}return t}function Pt(n){const e=st()[16][6];if(!e.projection){const r=e.projection=Md(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?BP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=st(),o=gn(),i=tu(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),z(),32!=(32&i.flags)&&function tA(n,e,t){Eb(e[11],0,e,t,mb(n,t,e),vb(t.parent||e[6],t,e))}(o,r,i)}function sh(n,e,t,r,o){const i=st(),s=ru(i,e,t,r);return s!==kn&&cs(gn(),qr(),i,n,s,i[11],o,!1),sh}function ah(n,e){return n<<17|e<<2}function dl(n){return n>>17&32767}function Ey(n){return 2|n}function oc(n){return(131068&n)>>2}function Dy(n,e){return-131069&n|e<<2}function Iy(n){return 1|n}function aS(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?dl(i):oc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];GP(n[a],e)&&(u=!0,n[a+1]=r?Iy(m):Ey(m)),a=r?dl(m):oc(m)}u&&(n[t+1]=r?Ey(i):Iy(i))}function GP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&qc(n,e)>=0}function Gd(n,e,t){return Rs(n,e,t,!1),Gd}function La(n,e){return Rs(n,e,null,!0),La}function Rs(n,e,t,r){const o=st(),i=gn(),s=qt(2);i.firstUpdatePass&&function mS(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Di()],s=function hS(n,e){return e>=n.expandoStartIndex}(n,t);(function vS(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function eR(n,e,t,r){const o=function wt(n){const e=Dt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Wd(t=My(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=My(o,n,e,t,r),null===i){let u=function tR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==oc(r))return n[dl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=My(null,n,e,u[1],r),u=Wd(u,e.attrs,r),function nR(n,e,t,r){n[dl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function rR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Wd(r,n[i].hostAttrs,t);return Wd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function jP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=dl(s),u=oc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||qc(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const k=dl(n[a+1]);n[r+1]=ah(k,a),0!==k&&(n[k+1]=Dy(n[k+1],r)),n[a+1]=function UP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ah(a,0),0!==a&&(n[a+1]=Dy(n[a+1],r)),a=r;else n[r+1]=ah(u,0),0===a?a=r:n[u+1]=Dy(n[u+1],r),u=r;f&&(n[r+1]=Ey(n[r+1])),aS(n,m,r,!0),aS(n,m,r,!1),function zP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&qc(i,e)>=0&&(t[r+1]=Iy(t[r+1]))}(e,m,n,r,i),s=ah(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==kn&&yi(o,s,e)&&function yS(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function HP(n){return 1==(1&n)}(f)?_S(u,e,t,o,oc(f),s):void 0;lh(m)||(lh(i)||function VP(n){return 2==(2&n)}(f)&&(i=_S(u,null,t,o,a,s)),function rA(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:Hi.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Hi.Important),n.setStyle(t,r,o,i))}}(r,s,xa(Di(),t),o,i))}(i,i.data[Di()],o,o[11],n,o[s+1]=function sR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=$(ls(n)))),n}(e,t),r,s)}function My(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Wd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Wd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),as(n,s,!!t||e[++i]))}return void 0===n?null:n}function _S(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,_=null===m;let k=t[o+1];k===kn&&(k=_?mn:void 0);let P=_?bg(k,r):m===r?k:void 0;if(f&&!lh(P)&&(P=bg(u,r)),lh(P)&&(a=P,s))return a;const J=n[o+1];o=s?dl(J):oc(J)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=bg(u,r))}return a}function lh(n){return void 0!==n}function Ze(n,e=""){const t=st(),r=gn(),o=n+22,i=r.firstCreatePass?tu(r,o,1,e,null):r.data[o],s=t[o]=function Rg(n,e){return n.createText(e)}(t[11],e);Vp(r,t,s,i),v(i,!1)}function ds(n){return _i("",n,""),ds}function _i(n,e,t){const r=st(),o=ru(r,n,e,t);return o!==kn&&Na(r,Di(),o),_i}function qd(n,e,t,r,o){const i=st(),s=function ou(n,e,t,r,o,i){const a=rc(n,Jt(),t,o);return qt(2),a?e+Ct(t)+r+Ct(o)+i:kn}(i,n,e,t,r,o);return s!==kn&&Na(i,Di(),s),qd}function Ty(n,e,t,r,o,i,s){const a=st(),u=iu(a,n,e,t,r,o,i,s);return u!==kn&&Na(a,Di(),u),Ty}const pu="en-US";let BS=pu;function xy(n,e,t,r,o){if(n=O(n),Array.isArray(n))for(let i=0;i<n.length;i++)xy(n[i],e,t,r,o);else{const i=gn(),s=st();let a=tc(n)?n:O(n.provide),u=Kb(n);const f=Ht(),m=1048575&f.providerIndexes,_=f.directiveStart,k=f.providerIndexes>>20;if(tc(n)||!n.multi){const P=new Cd(u,o,S),J=Ry(a,e,o?m:m+k,_);-1===J?(gg(Rp(f,s),i,a),Py(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(P),s.push(P)):(t[J]=P,s[J]=P)}else{const P=Ry(a,e,m+k,_),J=Ry(a,e,m,m+k),qe=J>=0&&t[J];if(o&&!qe||!o&&!(P>=0&&t[P])){gg(Rp(f,s),i,a);const Ke=function E2(n,e,t,r,o){const i=new Cd(n,t,S);return i.multi=[],i.index=e,i.componentProviders=0,uC(i,o,r&&!t),i}(o?C2:S2,t.length,o,r,u);!o&&qe&&(t[J].providerFactory=Ke),Py(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else Py(i,n,P>-1?P:J,uC(t[o?J:P],u,!o&&r));!o&&r&&qe&&t[J].componentProviders++}}}function Py(n,e,t,r){const o=tc(e),i=function $A(n){return!!n.useClass}(e);if(o||i){const u=(i?O(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function uC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ry(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function S2(n,e,t,r){return Fy(this.multi,[])}function C2(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Yl(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Fy(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Fy(o,i);return i}function Fy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function gr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function w2(n,e,t){const r=gn();if(r.firstCreatePass){const o=Bi(n);xy(t,r.data,r.blueprint,o,!0),xy(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class hu{}class dC{}class fC extends hu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pw(this);const r=pi(e);this._bootstrapComponents=Oa(r.bootstrap),this._r3Injector=uw(e,t,[{provide:hu,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],$(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Oy extends dC{constructor(e){super(),this.moduleType=e}create(e){return new fC(this.moduleType,e)}}class I2 extends hu{constructor(e,t,r){super(),this.componentFactoryResolver=new Pw(this),this.instance=null;const o=new Zb([...e,{provide:hu,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],t||Zp(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ph(n,e,t=null){return new I2(n,e,t).injector}let M2=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=zb(0,t.type),o=r.length>0?ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=gt({token:n,providedIn:"environment",factory:()=>new n(M(Ys))}),n})();function pC(n){n.getStandaloneInjector=e=>e.get(M2).getOrCreateStandaloneInjector(n)}function bC(n,e,t,r,o,i){const s=e+t;return yi(n,s,o)?function Qs(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function Jd(n,e){const t=n[e];return t===kn?void 0:t}(n,s+1)}function na(n,e){const t=gn();let r;const o=n+22;t.firstCreatePass?(r=function W2(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=Ws(r.type)),s=Pn(S);try{const a=Pp(!1),u=i();return Pp(a),function OP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,st(),o,u),u}finally{Pn(s)}}function ra(n,e,t){const r=n+22,o=st(),i=hr(o,r);return function ef(n,e){return n[1].data[e].pure}(o,r)?bC(o,function bt(){const n=Dt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function Ly(n){return e=>{setTimeout(n,void 0,e)}}const Sn=class X2 extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=Ly(i),o&&(o=Ly(o)),s&&(s=Ly(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof W&&e.add(a),a}};function Q2(){return this._results[nc()]()}class $y{get changes(){return this._changes||(this._changes=new Sn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=nc(),r=$y.prototype;r[t]||(r[t]=Q2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Cs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ak(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=tF,n})();const J2=zi,eF=class extends J2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=Yp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),ly(r,o,e),new Bd(o)}};function tF(){return hh(Ht(),st())}function hh(n,e){return 4&n.type?new eF(e,n,Xc(n,e)):null}let vi=(()=>{class n{}return n.__NG_ELEMENT_ID__=nF,n})();function nF(){return MC(Ht(),st())}const rF=vi,DC=class extends rF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xc(this._hostTNode,this._hostLView)}get injector(){return new Uc(this._hostTNode,this._hostLView)}get parentInjector(){const e=mg(this._hostTNode,this._hostLView);if(P0(e)){const t=xp(e,this._hostLView),r=Ap(e);return new Uc(t[1].data[r+8],t)}return new Uc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IC(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Id(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Vd(rr(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(Ys,null);k&&(i=k)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function lg(n){return $i(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const _=r[3],k=new DC(_,_[6],_[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function Kk(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],z0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function Yk(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=$g(i,s),u=r[11],f=Bp(u,s[7]);return null!==f&&function Wk(n,e,t,r,o,i){r[0]=o,r[6]=e,Fd(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),z0(By(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IC(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Og(this._lContainer,t);r&&(Op(By(this._lContainer),t),hb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Og(this._lContainer,t);return r&&null!=Op(By(this._lContainer),t)?new Bd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function IC(n){return n[8]}function By(n){return n[8]||(n[8]=[])}function MC(n,e){let t;const r=e[n.index];if($i(r))t=r;else{let o;if(8&n.type)o=Vo(r);else{const i=e[11];o=i.createComment("");const s=Ei(n,e);Ql(i,Bp(i,s),o,function eA(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=Mw(r,e,o,n),Qp(e,t)}return new DC(t,n,e)}class Vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Uy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==PC(e,t).matches&&this.queries[t].setDirty()}}class TC{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Hy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new Hy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,oF(t,i)),this.matchTNodeWithReadOption(e,t,Fp(t,e,i,!1,!1))}else r===zi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===vi||o===zi&&4&t.type)this.addMatch(t.index,-2);else{const i=Fp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function oF(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function sF(n,e,t,r){return-1===t?function iF(n,e){return 11&n.type?Xc(n,e):4&n.type?hh(n,e):null}(e,n):-2===t?function aF(n,e,t){return t===_t?Xc(e,n):t===zi?hh(e,n):t===vi?MC(e,n):void 0}(n,e,r):Yl(n,n[1],t,e)}function kC(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:sF(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function zy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=kC(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let _=10;_<m.length;_++){const k=m[_];k[17]===k[3]&&zy(k[1],k,f,r)}if(null!==m[9]){const _=m[9];for(let k=0;k<_.length;k++){const P=_[k];zy(P[1],P,f,r)}}}}}return r}function fs(n){const e=st(),t=gn(),r=fn();eo(r+1);const o=PC(t,r);if(n.dirty&&function Qn(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?zy(t,e,r,[]):kC(t,e,o,r);n.reset(i,KA),n.notifyOnChanges()}return!0}return!1}function mu(n,e,t){const r=gn();r.firstCreatePass&&(xC(r,new TC(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),AC(r,st(),e)}function ps(){return function lF(n,e){return n[19].queries[e].queryList}(st(),fn())}function AC(n,e,t){const r=new $y(4==(4&t));ww(n,e,r,r.destroy),null===e[19]&&(e[19]=new Uy),e[19].queries.push(new Vy(r))}function xC(n,e,t){null===n.queries&&(n.queries=new Hy),n.queries.track(new jy(e,t))}function PC(n,e){return n.queries.getByIndex(e)}function gh(...n){}const sc=new en("Application Initializer");let yh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=gh,this.reject=gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(zd(i))t.push(i);else if(Cy(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(M(sc,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nf=new en("AppId",{providedIn:"root",factory:function XC(){return`${Ky()}${Ky()}${Ky()}`}});function Ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QC=new en("Platform Initializer"),_u=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JC=new en("appBootstrapListener");let AF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $a=new en("LocaleId",{providedIn:"root",factory:()=>me($a,Mt.Optional|Mt.SkipSelf)||function xF(){return typeof $localize<"u"&&$localize.locale||pu}()});class RF{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let eE=(()=>{class n{compileModuleSync(t){return new Oy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Oa(pi(t).declarations).reduce((s,a)=>{const u=rr(a);return u&&s.push(new Vd(u)),s},[]);return new RF(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NF=(()=>Promise.resolve(0))();function Yy(n){typeof Zone>"u"?NF.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sn(!1),this.onMicrotaskEmpty=new Sn(!1),this.onStable=new Sn(!1),this.onError=new Sn(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function LF(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function VF(n){const e=()=>{!function BF(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Qy(n),n.isCheckStableRunning=!0,Xy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Qy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return rE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),oE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return rE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),oE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Qy(n),Xy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new Ae(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,$F,gh,gh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const $F={};function Xy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,Xy(n)}class UF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sn,this.onMicrotaskEmpty=new Sn,this.onStable=new Sn,this.onError=new Sn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const iE=new en(""),_h=new en("");let t_,Jy=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t_||(function HF(n){t_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),Yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(M(dt),M(e_),M(_h))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),e_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return t_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),pl=null;const sE=new en("AllowMultipleToken"),n_=new en("PlatformDestroyListeners");class aE{constructor(e,t){this.name=e,this.token=t}}function cE(n,e,t=[]){const r=`Platform: ${e}`,o=new en(r);return(i=[])=>{let s=r_();if(!s||s.injector.get(sE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function GF(n){if(pl&&!pl.get(sE,!1))throw new Ae(400,!1);pl=n;const e=n.get(dE);(function lE(n){const e=n.get(QC,null);e&&e.forEach(t=>t())})(n)}(function uE(n=[],e){return Zr.create({name:e,providers:[{provide:Yg,useValue:"platform"},{provide:n_,useValue:new Set([()=>pl=null])},...n]})}(a,r))}return function qF(n){const e=r_();if(!e)throw new Ae(401,!1);return e}()}}function r_(){return pl?.get(dE)??null}let dE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function pE(n,e){let t;return t="noop"===n?new UF:("zone.js"===n?void 0:n)||new dt(e),t}(r?.ngZone,function fE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:dt,useValue:o}];return o.run(()=>{const s=Zr.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Qc,null);if(!u)throw new Ae(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{vh(this._modules,a),f.unsubscribe()})}),function hE(n,e,t){try{const r=t();return zd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(yh);return f.runInitializers(),f.donePromise.then(()=>(function VS(n){ho(n,"Expected localeId to be defined"),"string"==typeof n&&(BS=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get($a,pu)||pu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=mE({},r);return function jF(n,e,t){const r=new Oy(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(hl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Ae(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(n_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(M(Zr))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function mE(n,e){return Array.isArray(e)?e.reduce(mE,n):{...n,...e}}let hl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new vt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new vt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),Yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=Xo(i,s.pipe(bs()))}bootstrap(t,r){const o=t instanceof Yb;if(!this._injector.get(yh).done)throw!o&&function Ia(n){const e=rr(n)||Mo(n)||$o(n);return null!==e&&e.standalone}(t),new Ae(405,false);let s;s=o?t:this._injector.get(Ra).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function zF(n){return n.isBoundToModule}(s)?void 0:this._injector.get(hu),f=s.create(Zr.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(iE,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),vh(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;vh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(JC,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ae(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(M(dt),M(Ys),M(Qc))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let It=(()=>{class n{}return n.__NG_ELEMENT_ID__=KF,n})();function KF(n){return function YF(n,e,t){if(ul(n)&&!t){const r=io(n.index,e);return new Bd(r,r)}return 47&n.type?new Bd(e[16],e):null}(Ht(),st(),16==(16&n))}class bE{constructor(){}supports(e){return rh(e)}create(e){return new nO(e)}}const tO=(n,e)=>e;class nO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<SE(r,o,i)?t:r,a=SE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let k=0;k<f;k++){const P=k<i.length?i[k]:i[k]=0,J=P+k;m<=J&&J<f&&(i[k]=P+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!rh(e))throw new Ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function xP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[nc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new rO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new wE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new oO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function EE(){return new rf([new bE])}let rf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||EE()),deps:[[n,new kd,new Td]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new Ae(901,!1)}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:EE}),n})();const cO=cE(null,"core",[]);let uO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(M(hl))},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({}),n})(),l_=null;function oa(){return l_}class pO{}const Fo=new en("DocumentToken");let c_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return function hO(){return M(IE)}()},providedIn:"platform"}),n})();const mO=new en("Location Initialized");let IE=(()=>{class n extends c_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oa().getBaseHref(this._doc)}onPopState(t){const r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){ME()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){ME()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(M(Fo))},n.\u0275prov=gt({token:n,factory:function(){return function gO(){return new IE(M(Fo))}()},providedIn:"platform"}),n})();function ME(){return!!window.history.pushState}function u_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function TE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Va(n){return n&&"?"!==n[0]?"?"+n:n}let ia=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return me(AE)},providedIn:"root"}),n})();const kE=new en("appBaseHref");let AE=(()=>{class n extends ia{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??me(Fo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return u_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Va(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+Va(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+Va(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(M(c_),M(kE,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xE=(()=>{class n extends ia{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=u_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Va(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Va(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(M(c_),M(kE,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),af=(()=>{class n{constructor(t){this._subject=new Sn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function vO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(TE(PE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Va(r))}normalize(t){return n.stripTrailingSlash(function _O(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,PE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Va(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Va(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Va,n.joinWithSlash=u_,n.stripTrailingSlash=TE,n.\u0275fac=function(t){return new(t||n)(M(ia))},n.\u0275prov=gt({token:n,factory:function(){return function yO(){return new af(M(ia))}()},providedIn:"root"}),n})();function PE(n){return n.replace(/\/index.html$/,"")}function UE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class oN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new oN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),GE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{GE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(vi),S(zi),S(rf))},n.\u0275dir=Qt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function GE(n,e){n.context.$implicit=e.item}let jo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new sN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(vi),S(zi))},n.\u0275dir=Qt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class sN{constructor(){this.$implicit=null,this.ngIf=null}}function WE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${$(e)}'.`)}class w_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Qt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),qE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new w_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(S(vi),S(zi),S(xh,9))},n.\u0275dir=Qt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ZE=(()=>{class n{constructor(t,r,o){o._addDefault(new w_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(S(vi),S(zi),S(xh,9))},n.\u0275dir=Qt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class cN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class uN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const dN=new uN,fN=new cN;let YE=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(zd(t))return dN;if(qw(t))return fN;throw function Ls(n,e){return new Ae(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(S(It,16))},n.\u0275pipe=oo({name:"async",type:n,pure:!1,standalone:!0}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({}),n})();const QE="browser";function ml(n){return n===QE}let RN=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>new FN(M(Fo),window)}),n})();class FN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ON(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=JE(this.window.history)||JE(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function JE(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eD{}class lL extends pO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T_ extends lL{static makeCurrent(){!function fO(n){l_||(l_=n)}(new T_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cL(){return df=df||document.querySelector("base"),df?df.getAttribute("href"):null}();return null==t?null:function uL(n){Rh=Rh||document.createElement("a"),Rh.setAttribute("href",n);const e=Rh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){df=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UE(document.cookie,e)}}let Rh,df=null;const iD=new en("TRANSITION_ID"),fL=[{provide:sc,useFactory:function dL(n,e,t){return()=>{t.get(yh).donePromise.then(()=>{const r=oa(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[iD,Fo,Zr],multi:!0}];let hL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const Fh=new en("EventManagerPlugins");let Oh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(M(Fh),M(dt))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class sD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=oa().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let aD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),ff=(()=>{class n extends aD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(lD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lD))}}return n.\u0275fac=function(t){return new(t||n)(M(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function lD(n){oa().remove(n)}const k_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A_=/%COMP%/g;function x_(n,e){return e.flat(100).map(t=>t.replace(A_,n))}function dD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let P_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new R_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case ft.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new bL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case ft.ShadowDom:return new wL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=x_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(M(Oh),M(ff),M(nf))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class R_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(k_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=k_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=k_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Hi.DashCase|Hi.Important)?e.style.setProperty(t,r,o&Hi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Hi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dD(r)):this.eventManager.addEventListener(e,t,dD(r))}}function pD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bL extends R_{constructor(e,t,r,o){super(e),this.component=r;const i=x_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function yL(n){return"_ngcontent-%COMP%".replace(A_,n)}(o+"-"+r.id),this.hostAttr=function _L(n){return"_nghost-%COMP%".replace(A_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wL extends R_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=x_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let SL=(()=>{class n extends sD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(M(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const hD=["alt","control","meta","shift"],CL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let DL=(()=>{class n extends sD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oa().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hD.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=CL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hD.forEach(s=>{s!==o&&(0,EL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(M(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const kL=cE(cO,"browser",[{provide:_u,useValue:QE},{provide:QC,useValue:function IL(){T_.makeCurrent()},multi:!0},{provide:Fo,useFactory:function TL(){return function lA(n){Hg=n}(document),document},deps:[]}]),yD=new en(""),_D=[{provide:_h,useClass:class pL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?oa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:iE,useClass:Jy,deps:[dt,e_,_h]},{provide:Jy,useClass:Jy,deps:[dt,e_,_h]}],vD=[{provide:Yg,useValue:"root"},{provide:Qc,useFactory:function ML(){return new Qc},deps:[]},{provide:Fh,useClass:SL,multi:!0,deps:[Fo,dt,_u]},{provide:Fh,useClass:DL,multi:!0,deps:[Fo]},{provide:P_,useClass:P_,deps:[Oh,ff,nf]},{provide:Qb,useExisting:P_},{provide:aD,useExisting:ff},{provide:ff,useClass:ff,deps:[Fo]},{provide:Oh,useClass:Oh,deps:[Fh,dt]},{provide:eD,useClass:hL,deps:[]},[]];let AL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:nf,useValue:t.appId},{provide:iD,useExisting:nf},fL]}}}return n.\u0275fac=function(t){return new(t||n)(M(yD,12))},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({providers:[...vD,..._D],imports:[sa,uO]}),n})(),bD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(M(Fo))},n.\u0275prov=gt({token:n,factory:function(t){let r=null;return r=t?new t:function PL(){return new bD(M(Fo))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let N_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(t){let r=null;return r=t?new(t||n):M(CD),r},providedIn:"root"}),n})(),CD=(()=>{class n extends N_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Cr.NONE:return r;case Cr.HTML:return Ks(r,"HTML")?ls(r):Lb(this._doc,String(r)).toString();case Cr.STYLE:return Ks(r,"Style")?ls(r):r;case Cr.SCRIPT:if(Ks(r,"Script"))return ls(r);throw new Error("unsafe value used in a script context");case Cr.URL:return Ks(r,"URL")?ls(r):zp(String(r));case Cr.RESOURCE_URL:if(Ks(r,"ResourceURL"))return ls(r);throw new Error(`unsafe value used in a resource URL context (see ${rt})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${rt})`)}}bypassSecurityTrustHtml(t){return function mA(n){return new cA(n)}(t)}bypassSecurityTrustStyle(t){return function gA(n){return new uA(n)}(t)}bypassSecurityTrustScript(t){return function yA(n){return new dA(n)}(t)}bypassSecurityTrustUrl(t){return function _A(n){return new fA(n)}(t)}bypassSecurityTrustResourceUrl(t){return function vA(n){return new pA(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Fo))},n.\u0275prov=gt({token:n,factory:function(t){let r=null;return r=t?new t:function BL(n){return new CD(n.get(Fo))}(M(Zr)),r},providedIn:"root"}),n})();var zo=F(1158),VL=F(9233),bu=F.n(VL);let Nh,Lh;function ED(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function DD(){return void 0!==Lh}class ID{constructor(){this.requestEvent=new zo.j}dispatchRequest(e){if(e){try{e=new(bu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class yl{constructor(){this.installation=new ID,this.import=new ID,Nh&&this.installation.dispatchRequest(Nh),Lh&&this.import.dispatchRequest(Lh)}}function pn(...n){return Xn(n,ci(n))}function _l(n,e){return I(e)?Vn(n,e,1):Vn(n,1)}function Jo(n,e){return K((t,r)=>{let o=0;t.subscribe(Se(r,i=>n.call(e,i,o++)&&r.next(i)))})}yl.\u0275fac=function(e){return new(e||yl)},yl.\u0275prov=gt({token:yl,factory:yl.\u0275fac,providedIn:"root"});class $h{}class L_{}class Ha{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ha?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ha;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ha?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class jL{encodeKey(e){return MD(e)}encodeValue(e){return MD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GL=/%(\d[a-f0-9])/gi,WL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(GL,(e,t)=>WL[t]??e)}function Bh(n){return`${n}`}class vl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Bh):[Bh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Bh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kD(n){return typeof Blob<"u"&&n instanceof Blob}function AD(n){return typeof FormData<"u"&&n instanceof FormData}class pf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ZL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ha),this.context||(this.context=new qL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new vl,this.urlWithParams=t}serializeBody(){return null===this.body?null:TD(this.body)||kD(this.body)||AD(this.body)||function KL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AD(this.body)?null:kD(this.body)?this.body.type||null:TD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,k)=>_.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,k)=>_.set(k,e.setParams[k]),f)),new pf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var vo=(()=>((vo=vo||{})[vo.Sent=0]="Sent",vo[vo.UploadProgress=1]="UploadProgress",vo[vo.ResponseHeader=2]="ResponseHeader",vo[vo.DownloadProgress=3]="DownloadProgress",vo[vo.Response=4]="Response",vo[vo.User=5]="User",vo))();class $_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ha,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class B_ extends $_{constructor(e={}){super(e),this.type=vo.ResponseHeader}clone(e={}){return new B_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vh extends $_{constructor(e={}){super(e),this.type=vo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xD extends $_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function V_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let U_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof pf)i=t;else{let u,f;u=o.headers instanceof Ha?o.headers:new Ha(o.headers),o.params&&(f=o.params instanceof vl?o.params:new vl({fromObject:o.params})),i=new pf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=pn(i).pipe(_l(u=>this.handler.handle(u)));if(t instanceof pf||"events"===o.observe)return s;const a=s.pipe(Jo(u=>u instanceof Vh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new vl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,V_(o,r))}post(t,r,o={}){return this.request("POST",t,V_(o,r))}put(t,r,o={}){return this.request("PUT",t,V_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(M($h))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function PD(n,e){return e(n)}function YL(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const QL=new en("HTTP_INTERCEPTORS"),hf=new en("HTTP_INTERCEPTOR_FNS");function JL(){let n=null;return(e,t)=>(null===n&&(n=(me(QL,{optional:!0})??[]).reduceRight(YL,PD)),n(e,t))}let RD=(()=>{class n extends $h{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(hf)));this.chain=r.reduceRight((o,i)=>function XL(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),PD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(M(L_),M(Ys))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const r3=/^\)\]\}',?\n/;let OD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((P,J)=>o.setRequestHeader(P,J.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const P=t.detectContentTypeHeader();null!==P&&o.setRequestHeader("Content-Type",P)}if(t.responseType){const P=t.responseType.toLowerCase();o.responseType="json"!==P?P:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const P=o.statusText||"OK",J=new Ha(o.getAllResponseHeaders()),xe=function o3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new B_({headers:J,status:o.status,statusText:P,url:xe}),s},u=()=>{let{headers:P,status:J,statusText:xe,url:qe}=a(),Ke=null;204!==J&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===J&&(J=Ke?200:0);let St=J>=200&&J<300;if("json"===t.responseType&&"string"==typeof Ke){const Ne=Ke;Ke=Ke.replace(r3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Ft){Ke=Ne,St&&(St=!1,Ke={error:Ft,text:Ke})}}St?(r.next(new Vh({body:Ke,headers:P,status:J,statusText:xe,url:qe||void 0})),r.complete()):r.error(new xD({error:Ke,headers:P,status:J,statusText:xe,url:qe||void 0}))},f=P=>{const{url:J}=a(),xe=new xD({error:P,status:o.status||0,statusText:o.statusText||"Unknown Error",url:J||void 0});r.error(xe)};let m=!1;const _=P=>{m||(r.next(a()),m=!0);let J={type:vo.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(J.total=P.total),"text"===t.responseType&&o.responseText&&(J.partialText=o.responseText),r.next(J)},k=P=>{let J={type:vo.UploadProgress,loaded:P.loaded};P.lengthComputable&&(J.total=P.total),r.next(J)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:vo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(M(eD))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const H_=new en("XSRF_ENABLED"),ND="XSRF-TOKEN",LD=new en("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ND}),$D="X-XSRF-TOKEN",BD=new en("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$D});class VD{}let i3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=UE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(M(Fo),M(_u),M(LD))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function s3(n,e){const t=n.url.toLowerCase();if(!me(H_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=me(VD).getToken(),o=me(BD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var ao=(()=>((ao=ao||{})[ao.Interceptors=0]="Interceptors",ao[ao.LegacyInterceptors=1]="LegacyInterceptors",ao[ao.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ao[ao.NoXsrfProtection=3]="NoXsrfProtection",ao[ao.JsonpSupport=4]="JsonpSupport",ao[ao.RequestsMadeViaParent=5]="RequestsMadeViaParent",ao))();function wu(n,e){return{\u0275kind:n,\u0275providers:e}}function a3(...n){const e=[U_,OD,RD,{provide:$h,useExisting:RD},{provide:L_,useExisting:OD},{provide:hf,useValue:s3,multi:!0},{provide:H_,useValue:!0},{provide:VD,useClass:i3}];for(const t of n)e.push(...t.\u0275providers);return function OA(n){return{\u0275providers:n}}(e)}const UD=new en("LEGACY_INTERCEPTOR_FN");function c3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:LD,useValue:n}),void 0!==e&&t.push({provide:BD,useValue:e}),wu(ao.CustomXsrfConfiguration,t)}let u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({providers:[a3(wu(ao.LegacyInterceptors,[{provide:UD,useFactory:JL},{provide:hf,useExisting:UD,multi:!0}]),c3({cookieName:ND,headerName:$D}))]}),n})();const{isArray:d3}=Array,{getPrototypeOf:f3,prototype:p3,keys:h3}=Object;function HD(n){if(1===n.length){const e=n[0];if(d3(e))return{args:e,keys:null};if(function m3(n){return n&&"object"==typeof n&&f3(n)===p3}(e)){const t=h3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:g3}=Array;function j_(n){return Pe(e=>function y3(n,e){return g3(e)?n(...e):n(e)}(n,e))}function jD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let zD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(S(Fa),S(_t))},n.\u0275dir=Qt({type:n}),n})(),cc=(()=>{class n extends zD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ho(n)))(r||n)}}(),n.\u0275dir=Qt({type:n,features:[Jn]}),n})();const Ti=new en("NgValueAccessor"),b3={provide:Ti,useExisting:Oe(()=>z_),multi:!0},S3=new en("CompositionEventMode");let z_=(()=>{class n extends zD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w3(){const n=oa()?oa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Fa),S(_t),S(S3,8))},n.\u0275dir=Qt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&lt("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[gr([b3]),Jn]}),n})();function bl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function WD(n){return null!=n&&"number"==typeof n.length}const bi=new en("NgValidators"),wl=new en("NgAsyncValidators"),E3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Uh{static min(e){return function qD(n){return e=>{if(bl(e.value)||bl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ZD(n){return e=>{if(bl(e.value)||bl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function KD(n){return bl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function YD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function XD(n){return bl(n.value)||E3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function QD(n){return e=>bl(e.value)||!WD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return JD(e)}static pattern(e){return function e1(n){if(!n)return Hh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(bl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return s1(e)}static composeAsync(e){return a1(e)}}function JD(n){return e=>WD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Hh(n){return null}function t1(n){return null!=n}function n1(n){return zd(n)?Xn(n):n}function r1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function o1(n,e){return e.map(t=>t(n))}function i1(n){return n.map(e=>function D3(n){return!n.validate}(e)?e:t=>e.validate(t))}function s1(n){if(!n)return null;const e=n.filter(t1);return 0==e.length?null:function(t){return r1(o1(t,e))}}function G_(n){return null!=n?s1(i1(n)):null}function a1(n){if(!n)return null;const e=n.filter(t1);return 0==e.length?null:function(t){return function _3(...n){const e=Ri(n),{args:t,keys:r}=HD(n),o=new vt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let _=!1;Mn(t[m]).subscribe(Se(i,k=>{_||(_=!0,f--),a[m]=k},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?jD(r,a):a),i.complete())}))}});return e?o.pipe(j_(e)):o}(o1(t,e).map(n1)).pipe(Pe(r1))}}function W_(n){return null!=n?a1(i1(n)):null}function l1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function c1(n){return n._rawValidators}function u1(n){return n._rawAsyncValidators}function q_(n){return n?Array.isArray(n)?n:[n]:[]}function jh(n,e){return Array.isArray(n)?n.includes(e):n===e}function d1(n,e){const t=q_(e);return q_(n).forEach(o=>{jh(t,o)||t.push(o)}),t}function f1(n,e){return q_(e).filter(t=>!jh(n,t))}class p1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=G_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=W_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ki extends p1{get formDirective(){return null}get path(){return null}}class ja extends p1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sl=(()=>{class n extends h1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(ja,2))},n.\u0275dir=Qt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&La("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Jn]}),n})(),Cl=(()=>{class n extends h1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(ki,10))},n.\u0275dir=Qt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&La("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Jn]}),n})();const mf="VALID",Gh="INVALID",Su="PENDING",gf="DISABLED";function X_(n){return(Wh(n)?n.validators:n)||null}function Q_(n,e){return(Wh(e)?e.asyncValidators:n)||null}function Wh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mf}get invalid(){return this.status===Gh}get pending(){return this.status==Su}get disabled(){return this.status===gf}get enabled(){return this.status!==gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(d1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(d1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}hasValidator(e){return jh(this._rawValidators,e)}hasAsyncValidator(e){return jh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Su,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===Su)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gf:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Su,this._hasOwnPendingAsyncValidator=!0;const t=n1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Sn,this.statusChanges=new Sn}_calculateStatus(){return this._allControlsDisabled()?gf:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Su)?Su:this._anyControlsHaveStatus(Gh)?Gh:mf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function P3(n){return Array.isArray(n)?G_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function R3(n){return Array.isArray(n)?W_(n):n||null}(this._rawAsyncValidators)}}class uc extends _1{constructor(e,t,r){super(X_(t),Q_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function y1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new Ae(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function g1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const qh=uc,Cu=new en("CallSetDisabledState",{providedIn:"root",factory:()=>Zh}),Zh="always";function yf(n,e,t=Zh){J_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function N3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&v1(n,e)})}(n,e),function $3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function L3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&v1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function O3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function J_(n,e){const t=c1(n);null!==e.validator?n.setValidators(l1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=u1(n);null!==e.asyncValidator?n.setAsyncValidators(l1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Xh(e._rawValidators,o),Xh(e._rawAsyncValidators,o)}function Qh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=c1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=u1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return Xh(e._rawValidators,r),Xh(e._rawAsyncValidators,r),t}function v1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function C1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hs=class extends _1{constructor(e=null,t,r){super(X_(t),Q_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=C1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){S1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){S1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){C1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Go=hs;let El=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Qt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),k1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({}),n})();const ov=new en("NgModelWithFormControlWarning"),Q3={provide:ki,useExisting:Oe(()=>aa)};let aa=(()=>{class n extends ki{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Sn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return yf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yh(t.control||null,t,!1),function H3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function w1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Yh(r||null,t),(n=>n instanceof hs)(o)&&(yf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function b1(n,e){J_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function B3(n,e){return Qh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J_(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(S(bi,10),S(wl,10),S(Cu,8))},n.\u0275dir=Qt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&lt("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gr([Q3]),Jn,mo]}),n})();const t$={provide:ja,useExisting:Oe(()=>za)};let za=(()=>{class n extends ja{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Sn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function nv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===z_?t=i:function U3(n){return Object.getPrototypeOf(n.constructor)===cc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function tv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Kh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(S(ki,13),S(bi,10),S(wl,10),S(Ti,10),S(ov,8))},n.\u0275dir=Qt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gr([t$]),Jn,mo]}),n})();let dc=(()=>{class n{constructor(){this._validator=Hh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Qt({type:n,features:[mo]}),n})();const h$={provide:bi,useExisting:Oe(()=>uv),multi:!0};let uv=(()=>{class n extends dc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function N1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>JD(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ho(n)))(r||n)}}(),n.\u0275dir=Qt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Js("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[gr([h$]),Jn]}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({imports:[k1]}),n})(),fc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cu,useValue:t.callSetDisabledState??Zh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({imports:[z1]}),n})(),Jh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ov,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Cu,useValue:t.callSetDisabledState??Zh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({imports:[z1]}),n})();const y$=["addListener","removeListener"],_$=["addEventListener","removeEventListener"],v$=["on","off"];function vf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return vf(n,e,t).pipe(j_(r));const[o,i]=function S$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?_$.map(s=>a=>n[s](e,a,t)):function b$(n){return I(n.addListener)&&I(n.removeListener)}(n)?y$.map(G1(n,e)):function w$(n){return I(n.on)&&I(n.off)}(n)?v$.map(G1(n,e)):[];if(!o&&or(n))return Vn(s=>vf(s,e,t))(Mn(n));if(!o)throw new TypeError("Invalid event target");return new vt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function G1(n,e){return t=>r=>n[t](e,r)}class ms extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const em=c(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function W1(...n){const e=ci(n),t=Ri(n),{args:r,keys:o}=HD(n);if(0===r.length)return Xn([],e);const i=new vt(function C$(n,e,t=ne){return r=>{q1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)q1(e,()=>{const f=Xn(n[u],e);let m=!1;f.subscribe(Se(r,_=>{i[u]=_,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>jD(o,s):ne));return t?i.pipe(j_(t)):i}function q1(n,e,t){n?ar(t,n,e):e()}function bf(...n){return function E$(){return co(1)}()(Xn(n,ci(n)))}function tm(n){return new vt(e=>{Mn(n()).subscribe(e)})}function Eu(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new vt(e?o=>e.schedule(r,0,o):r)}function dv(){return K((n,e)=>{let t=null;n._refCount++;const r=Se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class fv extends vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ue(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new W;const t=this.getSubject();e.add(this.source.subscribe(Se(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=W.EMPTY)}return e}refCount(){return dv()(this)}}function ei(n,e){return K((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(Se(r,u=>{o?.unsubscribe();let f=0;const m=i++;Mn(n(u,m)).subscribe(o=Se(r,_=>r.next(e?e(u,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function gs(n){return n<=0?()=>Yt:K((e,t)=>{let r=0;e.subscribe(Se(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Z1(...n){const e=ci(n);return K((t,r)=>{(e?bf(n,t,e):bf(n,t)).subscribe(r)})}function nm(n){return K((e,t)=>{let r=!1;e.subscribe(Se(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function K1(n=D$){return K((e,t)=>{let r=!1;e.subscribe(Se(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function D$(){return new em}function Ga(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jo((o,i)=>n(o,i,r)):ne,gs(1),t?nm(e):K1(()=>new em))}function ti(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?K((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Se(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function Wa(n){return K((e,t)=>{let i,r=null,o=!1;r=e.subscribe(Se(t,void 0,void 0,s=>{i=Mn(n(s,Wa(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function I$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(Se(s,m=>{const _=f++;u=a?n(u,m,_):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function Y1(n,e){return K(I$(n,e,arguments.length>=2,!0))}function pv(n){return n<=0?()=>Yt:K((e,t)=>{let r=[];e.subscribe(Se(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function X1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jo((o,i)=>n(o,i,r)):ne,pv(1),t?nm(e):K1(()=>new em))}function hv(n){return Pe(()=>n)}function mv(n){return K((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const An="primary",wf=Symbol("RouteTitle");class T${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Du(n){return new T$(n)}function k$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function la(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Q1(n[o],e[o]))return!1;return!0}function Q1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function J1(n){return Array.prototype.concat.apply([],n)}function eI(n){return n.length>0?n[n.length-1]:null}function ni(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Dl(n){return Cy(n)?n:zd(n)?Xn(Promise.resolve(n)):pn(n)}const rm=!1,x$={exact:function rI(n,e,t){if(!hc(n.segments,e.segments)||!om(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rI(n.children[r],e.children[r],t))return!1;return!0},subset:oI},tI={exact:function P$(n,e){return la(n,e)},subset:function R$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Q1(n[t],e[t]))},ignored:()=>!0};function nI(n,e,t){return x$[t.paths](n.root,e.root,t.matrixParams)&&tI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oI(n,e,t){return iI(n,e,e.segments,t)}function iI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!hc(o,t)||e.hasChildren()||!om(o,t,r))}if(n.segments.length===t.length){if(!hc(n.segments,t)||!om(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!oI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(hc(n.segments,o)&&om(n.segments,o,r)&&n.children[An])&&iI(n.children[An],e,i,r)}}function om(n,e,t){return e.every((r,o)=>tI[t](n[o].parameters,r.parameters))}class pc{constructor(e=new Hn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return N$.serialize(this)}}class Hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ni(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return im(this)}}class Sf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Du(this.parameters)),this._parameterMap}toString(){return lI(this)}}function hc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Iu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return new gv},providedIn:"root"}),n})();class gv{parse(e){const t=new G$(e);return new pc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Cf(e.root,!0)}`,r=function B$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${sm(t)}=${sm(o)}`).join("&"):`${sm(t)}=${sm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function L$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const N$=new gv;function im(n){return n.segments.map(e=>lI(e)).join("/")}function Cf(n,e){if(!n.hasChildren())return im(n);if(e){const t=n.children[An]?Cf(n.children[An],!1):"",r=[];return ni(n.children,(o,i)=>{i!==An&&r.push(`${i}:${Cf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function O$(n,e){let t=[];return ni(n.children,(r,o)=>{o===An&&(t=t.concat(e(r,o)))}),ni(n.children,(r,o)=>{o!==An&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===An?[Cf(n.children[An],!1)]:[`${o}:${Cf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${im(n)}/${t[0]}`:`${im(n)}/(${t.join("//")})`}}function sI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sm(n){return sI(n).replace(/%3B/gi,";")}function yv(n){return sI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function am(n){return decodeURIComponent(n)}function aI(n){return am(n.replace(/\+/g,"%20"))}function lI(n){return`${yv(n.path)}${function $$(n){return Object.keys(n).map(e=>`;${yv(e)}=${yv(n[e])}`).join("")}(n.parameters)}`}const V$=/^[^\/()?;=#]+/;function lm(n){const e=n.match(V$);return e?e[0]:""}const U$=/^[^=?&#]+/,j$=/^[^&#]+/;class G${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[An]=new Hn(e,t)),r}parseSegment(){const e=lm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ae(4009,rm);return this.capture(e),new Sf(am(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=lm(this.remaining);o&&(r=o,this.capture(r))}e[am(t)]=am(r)}parseQueryParam(e){const t=function H$(n){const e=n.match(U$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function z$(n){const e=n.match(j$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=aI(t),i=aI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ae(4010,rm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=An);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[An]:new Hn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ae(4011,rm)}}function _v(n){return n.segments.length>0?new Hn([],{[An]:n}):n}function cm(n){const e={};for(const r of Object.keys(n.children)){const i=cm(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function W$(n){if(1===n.numberOfChildren&&n.children[An]){const e=n.children[An];return new Hn(n.segments.concat(e.segments),e.children)}return n}(new Hn(n.segments,e))}function mc(n){return n instanceof pc}function K$(n,e,t,r,o){if(0===t.length)return Mu(e.root,e.root,e.root,r,o);const i=function dI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return ni(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new uI(t,e,r)}(t);return i.toRoot()?Mu(e.root,e.root,new Hn([],{}),r,o):function s(u){const f=function X$(n,e,t,r){if(n.isAbsolute)return new Tu(e.root,!0,0);if(-1===r)return new Tu(t,t===e.root,0);return function fI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Ae(4005,!1);o=r.segments.length}return new Tu(r,!1,o-i)}(t,r+(Ef(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?ku(f.segmentGroup,f.index,i.commands):bv(f.segmentGroup,f.index,i.commands);return Mu(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function Ef(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Df(n){return"object"==typeof n&&null!=n&&n.outlets}function Mu(n,e,t,r,o){let s,i={};r&&ni(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:cI(n,e,t);const a=_v(cm(s));return new pc(a,i,o)}function cI(n,e,t){const r={};return ni(n.children,(o,i)=>{r[i]=o===e?t:cI(o,e,t)}),new Hn(n.segments,r)}class uI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ef(r[0]))throw new Ae(4003,!1);const o=r.find(Df);if(o&&o!==eI(r))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function bv(n,e,t){if(n||(n=new Hn([],{})),0===n.segments.length&&n.hasChildren())return ku(n,e,t);const r=function J$(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Df(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!hI(u,f,s))return i;r+=2}else{if(!hI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Hn(n.segments.slice(0,r.pathIndex),{});return i.children[An]=new Hn(n.segments.slice(r.pathIndex),n.children),ku(i,0,o)}return r.match&&0===o.length?new Hn(n.segments,{}):r.match&&!n.hasChildren()?wv(n,e,t):r.match?ku(n,0,o):wv(n,e,t)}function ku(n,e,t){if(0===t.length)return new Hn(n.segments,{});{const r=function Q$(n){return Df(n[0])?n[0].outlets:{[An]:n}}(t),o={};return!r[An]&&n.children[An]&&1===n.numberOfChildren&&0===n.children[An].segments.length?ku(n.children[An],e,t):(ni(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=bv(n.children[s],e,i))}),ni(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Hn(n.segments,o))}}function wv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Df(i)){const u=e4(i.outlets);return new Hn(r,u)}if(0===o&&Ef(t[0])){r.push(new Sf(n.segments[e].path,pI(t[0]))),o++;continue}const s=Df(i)?i.outlets[An]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Ef(a)?(r.push(new Sf(s,pI(a))),o+=2):(r.push(new Sf(s,{})),o++)}return new Hn(r,{})}function e4(n){const e={};return ni(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wv(new Hn([],{}),0,t))}),e}function pI(n){const e={};return ni(n,(t,r)=>e[r]=`${t}`),e}function hI(n,e,t){return n==t.path&&la(e,t.parameters)}const If="imperative";class ca{constructor(e,t){this.id=e,this.url=t}}class um extends ca{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends ca{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dm extends ca{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mI extends ca{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class gI extends ca{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t4 extends ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n4 extends ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends ca{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o4 extends ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i4 extends ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let p4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return K$(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(e){return p4.\u0275fac(e)},providedIn:"root"}),n})();class _I{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Cv(e,this._root).map(t=>t.value)}}function Sv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sv(n,t);if(r)return r}return null}function Cv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cv(n,t);if(r.length)return r.unshift(e),r}return[]}class qa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Au(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vI extends _I{constructor(e,t){super(e),this.snapshot=t,Ev(this,e)}toString(){return this.snapshot.toString()}}function bI(n,e){const t=function m4(n,e){const s=new fm([],{},{},"",{},An,e,null,n.root,-1,{});return new SI("",new qa(s,[]))}(n,e),r=new ms([new Sf("",{})]),o=new ms({}),i=new ms({}),s=new ms({}),a=new ms(""),u=new Za(r,o,s,a,i,An,e,t.root);return u.snapshot=t.root,new vI(new qa(u,[]),t)}class Za{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Pe(f=>f[wf]))??pn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(e=>Du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(e=>Du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function g4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class fm{get title(){return this.data?.[wf]}constructor(e,t,r,o,i,s,a,u,f,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SI extends _I{constructor(e,t){super(t),this.url=e,Ev(this,t)}toString(){return CI(this._root)}}function Ev(n,e){e.value._routerState=n,e.children.forEach(t=>Ev(n,t))}function CI(n){const e=n.children.length>0?` { ${n.children.map(CI).join(", ")} } `:"";return`${n.value}${e}`}function Dv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,la(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),la(e.params,t.params)||n.params.next(t.params),function A$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!la(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),la(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Iv(n,e){const t=la(n.params,e.params)&&function F$(n,e){return hc(n,e)&&n.every((t,r)=>la(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Iv(n.parent,e.parent))}function Mf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function _4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Mf(n,r,o);return Mf(n,r)})}(n,e,t);return new qa(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Mf(n,a)),s}}const r=function v4(n){return new Za(new ms(n.url),new ms(n.params),new ms(n.queryParams),new ms(n.fragment),new ms(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Mf(n,i));return new qa(r,o)}}const Mv="ngNavigationCancelingError";function EI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=mc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=DI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function DI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Mv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function II(n){return MI(n)&&mc(n.url)}function MI(n){return n&&n[Mv]}class b4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yc,this.attachRef=null}}let yc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new b4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pm=!1;let TI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new Sn,this.deactivateEvents=new Sn,this.attachEvents=new Sn,this.detachEvents=new Sn,this.parentContexts=me(yc),this.location=me(vi),this.changeDetector=me(It),this.environmentInjector=me(Ys)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,pm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,pm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,pm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ae(4013,pm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new w4(t,a,o.injector);if(r&&function S4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Qt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mo]}),n})();class w4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Za?this.route:e===yc?this.childContexts:this.parent.get(e,t)}}let Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[pC],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[TI],encapsulation:2}),n})();function kI(n,e){return n.providers&&!n._injector&&(n._injector=ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Av(n){const e=n.children&&n.children.map(Av),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==An&&(t.component=Tv),t}function Ms(n){return n.outlet||An}function AI(n,e){const t=n.filter(r=>Ms(r)===e);return t.push(...n.filter(r=>Ms(r)!==e)),t}function Tf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class M4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Au(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),ni(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Au(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Au(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Au(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new d4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new c4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Dv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Tf(o.snapshot),u=a?.get(Ra)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class xI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hm{constructor(e,t){this.component=e,this.route=t}}function T4(n,e,t){const r=n._root;return kf(r,e?e._root:null,t,[r.value])}function xu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function js(n){return null!==rs(n)}(n)?e.get(n):n:r}function kf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Au(e);return n.children.forEach(s=>{(function A4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function x4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hc(n.url,e.url)||!la(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iv(n,e)||!la(n.queryParams,e.queryParams);default:return!Iv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new xI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),kf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new hm(a.outlet.component,s))}else s&&Af(e,a,o),o.canActivateChecks.push(new xI(r)),kf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),ni(i,(s,a)=>Af(s,t.getContext(a),o)),o}function Af(n,e,t){const r=Au(n),o=n.value;ni(r,(i,s)=>{Af(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new hm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function xf(n){return"function"==typeof n}function xv(n){return n instanceof em||"EmptyError"===n?.name}const mm=Symbol("INITIAL_VALUE");function Pu(){return ei(n=>W1(n.map(e=>e.pipe(gs(1),Z1(mm)))).pipe(Pe(e=>{for(const t of e)if(!0!==t){if(t===mm)return mm;if(!1===t||t instanceof pc)return t}return!0}),Jo(e=>e!==mm),gs(1)))}function PI(n){return function He(...n){return Xe(n)}(ti(e=>{if(mc(e))throw EI(0,e)}),Pe(e=>!0===e))}const Pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RI(n,e,t,r,o){const i=Rv(n,e,t);return i.matched?function Z4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?pn(o.map(s=>{const a=xu(s,n);return Dl(function L4(n){return n&&xf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pu(),PI()):pn(!0)}(r=kI(e,r),e,t).pipe(Pe(s=>!0===s?i:{...Pv})):pn(i)}function Rv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Pv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||k$)(t,n,e);if(!o)return{...Pv};const i={};ni(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function gm(n,e,t,r){if(t.length>0&&function X4(n,e,t){return t.some(r=>ym(n,e,r)&&Ms(r)!==An)}(n,t,r)){const i=new Hn(e,function Y4(n,e,t,r){const o={};o[An]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Ms(i)!==An){const s=new Hn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Ms(i)]=s}return o}(n,e,r,new Hn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function Q4(n,e,t){return t.some(r=>ym(n,e,r))}(n,t,r)){const i=new Hn(n.segments,function K4(n,e,t,r,o){const i={};for(const s of r)if(ym(n,t,s)&&!o[Ms(s)]){const a=new Hn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ms(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Hn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function ym(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FI(n,e,t,r){return!!(Ms(n)===r||r!==An&&ym(e,t,n))&&("**"===n.path||Rv(e,n,t).matched)}function OI(n,e,t){return 0===e.length&&!n.children[t]}const _m=!1;class vm{constructor(e){this.segmentGroup=e||null}}class NI{constructor(e){this.urlTree=e}}function Pf(n){return Eu(new vm(n))}function LI(n){return Eu(new NI(n))}class nB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=gm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Hn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,An).pipe(Pe(i=>this.createUrlTree(cm(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wa(i=>{if(i instanceof NI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof vm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,An).pipe(Pe(o=>this.createUrlTree(cm(o),e.queryParams,e.fragment))).pipe(Wa(o=>{throw o instanceof vm?this.noMatchError(o):o}))}noMatchError(e){return new Ae(4002,_m)}createUrlTree(e,t,r){const o=_v(e);return new pc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Pe(i=>new Hn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Xn(o).pipe(_l(i=>{const s=r.children[i],a=AI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Pe(u=>({segment:u,outlet:i})))}),Y1((i,s)=>(i[s.outlet]=s.segment,i),{}),X1())}expandSegment(e,t,r,o,i,s){return Xn(r).pipe(_l(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(Wa(f=>{if(f instanceof vm)return pn(null);throw f}))),Ga(a=>!!a),Wa((a,u)=>{if(xv(a))return OI(t,o,i)?pn(new Hn([],{})):Pf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return FI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Pf(t):Pf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LI(i):this.lineralizeSegments(r,i).pipe(Vn(s=>{const a=new Hn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Rv(t,o,i);if(!a)return Pf(t);const _=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?LI(_):this.lineralizeSegments(o,_).pipe(Vn(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=kI(r,e),r.loadChildren?(r._loadedRoutes?pn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Hn(o,{})))):pn(new Hn(o,{}))):RI(t,r,o,e).pipe(ei(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(Vn(m=>{const _=m.injector??e,k=m.routes,{segmentGroup:P,slicedSegments:J}=gm(t,a,u,k),xe=new Hn(P.segments,P.children);if(0===J.length&&xe.hasChildren())return this.expandChildren(_,k,xe).pipe(Pe(Ne=>new Hn(a,Ne)));if(0===k.length&&0===J.length)return pn(new Hn(a,{}));const qe=Ms(r)===i;return this.expandSegment(_,xe,k,J,qe?An:i,!0).pipe(Pe(St=>new Hn(a.concat(St.segments),St.children)))})):Pf(t)))}getChildConfig(e,t,r){return t.children?pn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pn({routes:t._loadedRoutes,injector:t._loadedInjector}):function q4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?pn(!0):pn(o.map(s=>{const a=xu(s,n);return Dl(function R4(n){return n&&xf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pu(),PI())}(e,t,r).pipe(Vn(o=>o?this.configLoader.loadChildren(e,t).pipe(ti(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function eB(n){return Eu(DI(_m,3))}())):pn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return pn(r);if(o.numberOfChildren>1||!o.children[An])return Eu(new Ae(4e3,_m));o=o.children[An]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new pc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ni(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return ni(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Hn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Ae(4001,_m);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class oB{}class aB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=gm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,An).pipe(Pe(t=>{if(null===t)return null;const r=new fm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new qa(r,t),i=new SI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=wI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return Xn(Object.keys(r.children)).pipe(_l(o=>{const i=r.children[o],s=AI(t,o);return this.processSegmentGroup(e,s,i,o)}),Y1((o,i)=>o&&i?(o.push(...i),o):null),function M$(n,e=!1){return K((t,r)=>{let o=0;t.subscribe(Se(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),nm(null),X1(),Pe(o=>{if(null===o)return null;const i=BI(o);return function lB(n){n.sort((e,t)=>e.value.outlet===An?-1:t.value.outlet===An?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return Xn(t).pipe(_l(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),Ga(s=>!!s),Wa(s=>{if(xv(s))return OI(r,o,i)?pn([]):pn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!FI(t,r,o,i))return pn(null);let s;if("**"===t.path){const a=o.length>0?eI(o).parameters:{},u=UI(r)+o.length;s=pn({snapshot:new fm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HI(t),Ms(t),t.component??t._loadedComponent??null,t,VI(r),u,jI(t)),consumedSegments:[],remainingSegments:[]})}else s=RI(r,t,o,e).pipe(Pe(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=UI(r)+u.length;return{snapshot:new fm(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HI(t),Ms(t),t.component??t._loadedComponent??null,t,VI(r),_,jI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(ei(a=>{if(null===a)return pn(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const _=t._loadedInjector??e,k=function cB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:J}=gm(r,f,m,k.filter(qe=>void 0===qe.redirectTo));if(0===J.length&&P.hasChildren())return this.processChildren(_,k,P).pipe(Pe(qe=>null===qe?null:[new qa(u,qe)]));if(0===k.length&&0===J.length)return pn([new qa(u,[])]);const xe=Ms(t)===i;return this.processSegment(_,k,P,J,xe?An:i).pipe(Pe(qe=>null===qe?null:[new qa(u,qe)]))}))}}function uB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BI(n){const e=[],t=new Set;for(const r of n){if(!uB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=BI(r.children);e.push(new qa(r.value,o))}return e.filter(r=>!t.has(r))}function VI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function UI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function HI(n){return n.data||{}}function jI(n){return n.resolve||{}}function zI(n){return"string"==typeof n.title||null===n.title}function Fv(n){return ei(e=>{const t=n(e);return t?Xn(t).pipe(Pe(()=>e)):pn(e)})}const Ru=new en("ROUTES");let Ov=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Dl(t.loadComponent()).pipe(Pe(WI),ti(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),mv(()=>{this.componentLoaders.delete(t)})),o=new fv(r,()=>new et).pipe(dv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=J1(u.get(Ru,[],Mt.Self|Mt.Optional)));return{routes:f.map(Av),injector:u}}),mv(()=>{this.childrenLoaders.delete(r)})),s=new fv(i,()=>new et).pipe(dv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Dl(t()).pipe(Pe(WI),Vn(o=>o instanceof dC||Array.isArray(o)?pn(o):Xn(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(M(Zr),M(eE))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WI(n){return function vB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let wm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new et,this.configLoader=me(Ov),this.environmentInjector=me(Ys),this.urlSerializer=me(Iu),this.rootContexts=me(yc),this.navigationId=0,this.afterPreactivation=()=>pn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new a4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new s4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ms({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:If,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jo(r=>0!==r.id),Pe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ei(r=>{let o=!1,i=!1;return pn(r).pipe(ti(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ei(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new mI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Yt}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return qI(s.source)&&(t.browserUrlTree=s.extractedUrl),pn(s).pipe(ei(m=>{const _=this.transitions?.getValue();return this.events.next(new um(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Yt:Promise.resolve(m)}),function rB(n,e,t,r){return ei(o=>function tB(n,e,t,r,o){return new nB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Pe(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),ti(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function fB(n,e,t,r,o){return Vn(i=>function sB(n,e,t,r,o,i,s="emptyOnly"){return new aB(n,e,t,r,o,s,i).recognize().pipe(ei(a=>null===a?function iB(n){return new vt(e=>e.error(n))}(new oB):pn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Pe(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ti(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(k,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new t4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:k,restoredState:P,extras:J}=s,xe=new um(m,this.urlSerializer.serialize(_),k,P);this.events.next(xe);const qe=bI(_,this.rootComponentType).snapshot;return pn(r={...s,targetSnapshot:qe,urlAfterRedirects:_,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new mI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Yt}}),ti(s=>{const a=new n4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Pe(s=>r={...s,guards:T4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function B4(n,e){return Vn(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?pn({...t,guardsResult:!0}):function V4(n,e,t,r){return Xn(n).pipe(Vn(o=>function W4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?pn(i.map(a=>{const u=Tf(e)??o,f=xu(a,u);return Dl(function N4(n){return n&&xf(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(Ga())})).pipe(Pu()):pn(!0)}(o.component,o.route,t,e,r)),Ga(o=>!0!==o,!0))}(s,r,o,n).pipe(Vn(a=>a&&function P4(n){return"boolean"==typeof n}(a)?function U4(n,e,t,r){return Xn(e).pipe(_l(o=>bf(function j4(n,e){return null!==n&&e&&e(new l4(n)),pn(!0)}(o.route.parent,r),function H4(n,e){return null!==n&&e&&e(new u4(n)),pn(!0)}(o.route,r),function G4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function k4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>tm(()=>pn(s.guards.map(u=>{const f=Tf(s.node)??t,m=xu(u,f);return Dl(function O4(n){return n&&xf(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(Ga())})).pipe(Pu())));return pn(i).pipe(Pu())}(n,o.path,t),function z4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pn(!0);const o=r.map(i=>tm(()=>{const s=Tf(e)??t,a=xu(i,s);return Dl(function F4(n){return n&&xf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ga())}));return pn(o).pipe(Pu())}(n,o.route,t))),Ga(o=>!0!==o,!0))}(r,i,n,e):pn(a)),Pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),ti(s=>{if(r.guardsResult=s.guardsResult,mc(s.guardsResult))throw EI(0,s.guardsResult);const a=new r4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Jo(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Fv(s=>{if(s.guards.canActivateChecks.length)return pn(s).pipe(ti(a=>{const u=new o4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ei(a=>{let u=!1;return pn(a).pipe(function pB(n,e){return Vn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return pn(t);let i=0;return Xn(o).pipe(_l(s=>function hB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!zI(o)&&(i[wf]=o.title),function mB(n,e,t,r){const o=function gB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return pn({});const i={};return Xn(o).pipe(Vn(s=>function yB(n,e,t,r){const o=Tf(e)??r,i=xu(n,o);return Dl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(Ga(),ti(a=>{i[s]=a}))),pv(1),hv(i),Wa(s=>xv(s)?Yt:Eu(s)))}(i,n,e,r).pipe(Pe(s=>(n._resolvedData=s,n.data=wI(n,t).resolve,o&&zI(o)&&(n.data[wf]=o.title),null)))}(s.route,r,n,e)),ti(()=>i++),pv(1),Vn(s=>i===o.length?pn(t):Yt))})}(t.paramsInheritanceStrategy,this.environmentInjector),ti({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ti(a=>{const u=new i4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Fv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(ti(m=>{u.component=m}),Pe(()=>{})));for(const m of u.children)f.push(...a(m));return f};return W1(a(s.targetSnapshot.root)).pipe(nm(),gs(1))}),Fv(()=>this.afterPreactivation()),Pe(s=>{const a=function y4(n,e,t){const r=Mf(n,e._root,t?t._root:void 0);return new vI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),ti(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Pe(r=>(new M4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),ti({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),mv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Wa(s=>{if(i=!0,MI(s)){II(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new dm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),II(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||qI(r.source)};t.scheduleNavigation(u,If,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new gI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Yt}))}))}cancelNavigationTransition(t,r,o){const i=new dm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qI(n){return n!==If}let ZI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===An);return r}getResolvedTitleForRoute(t){return t.data[wf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return me(bB)},providedIn:"root"}),n})(),bB=(()=>{class n extends ZI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(M(bD))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return me(SB)},providedIn:"root"}),n})();class wB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let SB=(()=>{class n extends wB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ho(n)))(r||n)}}(),n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sm=new en("",{providedIn:"root",factory:()=>({})});let EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return me(DB)},providedIn:"root"}),n})(),DB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IB(n){throw n}function MB(n,e,t){return e.parse("/")}const TB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(AF),this.isNgZoneEnabled=!1,this.options=me(Sm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||IB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=me(EB),this.routeReuseStrategy=me(KI),this.urlCreationStrategy=me(h4),this.titleStrategy=me(ZI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=J1(me(Ru,{optional:!0})??[]),this.navigationTransitions=me(wm),this.urlSerializer=me(Iu),this.location=me(af),this.isNgZoneEnabled=me(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),If,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Av),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=mc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,If,null,r)}navigate(t,r={skipLocationChange:!1}){return function AB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Ae(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...TB}:!1===r?{...kB}:r,mc(t))return nI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return nI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,k)=>{a=_,u=k}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XI{}let RB=(()=>{class n{preload(t,r){return r().pipe(Wa(()=>pn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Jo(t=>t instanceof gc),_l(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=ph(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Xn(o).pipe(co())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pn(null);const i=o.pipe(Vn(s=>null===s?pn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Xn([i,this.loader.loadComponent(r)]).pipe(co()):i})}}return n.\u0275fac=function(t){return new(t||n)(M(bo),M(eE),M(Ys),M(XI),M(Ov))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nv=new en("");let QI=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function yw(){throw new Error("invalid")}()},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function _c(n,e){return{\u0275kind:n,\u0275providers:e}}function eM(){const n=me(Zr);return e=>{const t=n.get(hl);if(e!==t.components[0])return;const r=n.get(bo),o=n.get(tM);1===n.get($v)&&r.initialNavigation(),n.get(nM,null,Mt.Optional)?.setUpPreloading(),n.get(Nv,null,Mt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const tM=new en("",{factory:()=>new et}),$v=new en("",{providedIn:"root",factory:()=>1});const nM=new en("");function BB(n){return _c(0,[{provide:nM,useExisting:FB},{provide:XI,useExisting:n}])}const rM=new en("ROUTER_FORROOT_GUARD"),VB=[af,{provide:Iu,useClass:gv},bo,yc,{provide:Za,useFactory:function JI(n){return n.routerState.root},deps:[bo]},Ov,[]];function UB(){return new aE("Router",bo)}let Cm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[VB,[],{provide:Ru,multi:!0,useValue:t},{provide:rM,useFactory:GB,deps:[[bo,new Td,new kd]]},{provide:Sm,useValue:r||{}},r?.useHash?{provide:ia,useClass:xE}:{provide:ia,useClass:AE},{provide:Nv,useFactory:()=>{const n=me(RN),e=me(dt),t=me(Sm),r=me(wm),o=me(Iu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QI(o,r,n,e,t)}},r?.preloadingStrategy?BB(r.preloadingStrategy).\u0275providers:[],{provide:aE,multi:!0,useFactory:UB},r?.initialNavigation?WB(r):[],[{provide:oM,useFactory:eM},{provide:JC,multi:!0,useExisting:oM}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ru,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(M(rM,8))},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({imports:[Tv]}),n})();function GB(n){return"guarded"}function WB(n){return["disabled"===n.initialNavigation?_c(3,[{provide:sc,multi:!0,useFactory:()=>{const e=me(bo);return()=>{e.setUpLocationChangeListener()}}},{provide:$v,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_c(2,[{provide:$v,useValue:0},{provide:sc,multi:!0,deps:[Zr],useFactory:e=>{const t=e.get(mO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(bo),s=e.get(tM);(function r(o){e.get(bo).events.pipe(Jo(s=>s instanceof gc||s instanceof dm||s instanceof gI),Pe(s=>s instanceof gc||s instanceof dm&&(0===s.code||1===s.code)&&null),Jo(s=>null!==s),gs(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(wm).afterPreactivation=()=>(o(!0),s.closed?pn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const oM=new en("");F(5933),F(9078),F(4199),F(8759);var Bv=F(5823),Ou=F(9259),Of=F(919),Nf=(F(7351),F(7580)),iM=(F(2286),F(6379),F(1559));function aM(n,e=ne){return n=n??KB,K((t,r)=>{let o,i=!0;t.subscribe(Se(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function KB(n,e){return n===e}const XB=Bv.i,Ot=["*"],eV=["outlet"],tV=[[["","slot","top"]],"*"],nV=["[slot=top]","*"],lM=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),cM=n=>!!n.resolveComponentFactory;let Lf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Nu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Nu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Nu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(ja)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Nu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Nu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(S(Zr),S(_t))},n.\u0275dir=Qt({type:n,hostBindings:function(t,r){1&t&&lt("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Nu=n=>{lM(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=iV(e);Vv(e,r);const o=e.closest("ion-item");o&&Vv(o,t?[...r,"item-has-value"]:r)})},iV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&sV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},Vv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},sV=(n,e)=>n.substring(0,e.length)===e;let Lu=(()=>{class n extends Lf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Nu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(S(Zr),S(_t))},n.\u0275dir=Qt({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleIonChange(i.target)})},features:[gr([{provide:Ti,useExisting:n,multi:!0}]),Jn]}),n})(),$f=(()=>{class n extends Lf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(S(Zr),S(_t))},n.\u0275dir=Qt({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[gr([{provide:Ti,useExisting:n,multi:!0}]),Jn]}),n})(),Il=(()=>{class n extends Lf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(S(Zr),S(_t))},n.\u0275dir=Qt({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[gr([{provide:Ti,useExisting:n,multi:!0}]),Jn]}),n})();const cV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},uV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},lr=(n,e,t)=>{t.forEach(r=>n[r]=vf(e,r))};function Rt(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&cV(t,o),i&&uV(t,i),t}}let uM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-app"]],ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0})],n),n})(),dM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),Wi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),qi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),fM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),Zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Ki=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),Wo=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Ml=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),qo=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Em=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Dm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Im=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),Yi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),ua=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),pM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Uv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Mm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Tm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),Bf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),Hv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),hM=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),Xi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),Vf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),Qi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(It),S(_t),S(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class mM{constructor(e={}){this.data=e}get(e){return this.data[e]}}let km=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new lU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(M(dt),M(hl))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class lU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(cU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const cU=(n,e,t,r,o,i,s,a,u,f,m)=>{let _;const k=Zr.create({providers:dU(f),parent:t});if(e&&cM(e)){const qe=e.resolveComponentFactory(u);_=r?r.createComponent(qe,r.length,k):qe.create(k)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const P=_.instance,J=_.location.nativeElement;if(f&&Object.assign(P,f),m)for(const qe of m)J.classList.add(qe);const xe=gM(n,P,J);return a.appendChild(J),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(J,_),s.set(J,xe),J},uU=[Of.L,Of.a,Of.b,Of.c,Of.d],gM=(n,e,t)=>n.run(()=>{const r=uU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),yM=new en("NavParamsToken"),dU=n=>[{provide:yM,useValue:n},{provide:mM,useFactory:fU,deps:[yM]}],fU=n=>new mM(n),_M=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),jv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},yU=(n,e)=>{if(!n)return;const t=vM(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},vM=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),bM=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class _U{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?vM(e):void 0}createView(e,t){var r;const o=jv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=gM(this.zone,e.instance,i);return{id:this.nextId++,stackId:yU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=jv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let _;const k=this.router;k.getCurrentNavigation?_=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(_=k.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const P=this.views.includes(e),J=this.insertView(e,i);P||e.ref.changeDetectorRef.detectChanges();const xe=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==xe&&(a=xe),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>vU(e,J,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&wM(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(bM),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?_M(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):_M(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return En(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const vU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{wM(n,e,t,r,o),i()})}):Promise.resolve(),wM=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(bM)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let zv=(()=>{class n{get(t,r){const o=Gv();return o?o.get(t,r):null}getBoolean(t,r){const o=Gv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Gv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SM=new en("USERCONFIG"),Gv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let bU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new et,this.keyboardDidShow=new et,this.keyboardDidHide=new et,this.pause=new et,this.resume=new et,this.resize=new et,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},$u(this.pause,t,"pause"),$u(this.resume,t,"resume"),$u(this.backButton,t,"ionBackButton"),$u(this.resize,this.win,"resize"),$u(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),$u(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,Bv.a)(this.win,t)}platforms(){return(0,Bv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return wU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(M(Fo),M(dt))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},$u=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let Uf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=CM,this.animated=EM,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof um){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return En(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=SU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=CM,this.animated=EM,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(M(bU),M(af),M(Iu),M(bo,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},CM="auto",EM=void 0;let Hf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,_,k,P,J){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=J,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ms(null),this.stackEvents=new Sn,this.activateEvents=new Sn,this.deactivateEvents=new Sn,this.nativeEl=m.nativeElement,this.name=o||An,this.tabsPrefix="true"===i?jv(_,P):void 0,this.stackCtrl=new _U(this.tabsPrefix,this.nativeEl,_,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,Ou.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new ms(null),m=this.createActivatedRouteProxy(f,t),_=new CU(m,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&cM(r)){const P=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(P,this.location.length,_)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new Za;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(Jo(o=>!!o),ei(o=>this.currentActivatedRoute$.pipe(Jo(i=>null!==i&&i.component===o),ei(i=>i&&i.activatedRoute[r]),aM())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(S(yc),S(vi),Hc("name"),Hc("tabs"),S(zv),S(Uf),S(Ra,8),S(af),S(_t),S(bo),S(dt),S(Za),S(n,12))},n.\u0275dir=Qt({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class CU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Za?this.route:e===yc?this.childContexts:this.parent.get(e,t)}}let DM=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new Sn,this.ionTabsDidChange=new Sn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(S(Uf))},n.\u0275cmp=ut({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function fl(n,e,t,r){const o=gn();if(o.firstCreatePass){const i=Ht();xC(o,new TC(e,t,r),i.index),function cF(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}AC(o,st(),t)}(o,Hv,5),2&t){let i;fs(i=ps())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&mu(eV,5,Hf),2&t){let o;fs(o=ps())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&lt("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:nV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Pt(tV),At(0),se(1,"div",0)(2,"ion-router-outlet",1,2),lt("stackEvents",function(i){return r.onPageSelected(i)}),te()(),At(4,1)),2&t&&(Je(2),ot("environmentInjector",r.environmentInjector))},dependencies:[Hf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),IM=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(S(Hf,8),S(Uf),S(zv))},n.\u0275dir=Qt({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&lt("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),MM=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),lr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(S(_t),S(Ra),S(Zr),S(km),S(vi))},n.\u0275dir=Qt({type:n,selectors:[["ion-nav"]]}),n=Z([Rt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class jf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let zf=(()=>{class n extends jf{constructor(){super(Nf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bu=(()=>{class n extends jf{constructor(){super(Nf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vc=(()=>{class n extends jf{constructor(){super(Nf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xM{}let ys=(()=>{class n extends jf{constructor(t,r,o,i){super(Nf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(M(km),M(Ra),M(Zr),M(xM,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),bc=(()=>{class n extends jf{constructor(t,r,o,i){super(Nf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(M(km),M(Ra),M(Zr),M(xM,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const xU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function YB(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(F.e(6748).then(F.t.bind(F,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(F.e(2214).then(F.t.bind(F,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,iM.p)().then(()=>(XB(),(0,iM.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:lM,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Tl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:SM,useValue:t},{provide:sc,useFactory:xU,multi:!0,deps:[SM,Fo,dt]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({providers:[km,ys,bc],imports:[[sa]]}),n})();let Vu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const RM=/[&<>"']/,RU=new RegExp(RM.source,"g"),FM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,FU=new RegExp(FM.source,"g"),OU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OM=n=>OU[n];function ri(n,e){if(e){if(RM.test(n))return n.replace(RU,OM)}else if(FM.test(n))return n.replace(FU,OM);return n}const NU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function NM(n){return n.replace(NU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const LU=/(^|[^\[])\^/g;function Er(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(LU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const $U=/[^\w:]/g,BU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function LM(n,e,t){if(n){let r;try{r=decodeURIComponent(NM(t)).replace($U,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!BU.test(t)&&(t=function jU(n,e){Am[" "+n]||(Am[" "+n]=VU.test(n)?n+"/":Pm(n,"/",!0));const t=-1===(n=Am[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(UU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(HU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Am={},VU=/^[^:]+:\/*[^/]*$/,UU=/^([^:]+:)[\s\S]*$/,HU=/^([^:]+:\/*[^/]*)[\s\S]*$/,xm={exec:function(){}};function $s(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function $M(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Pm(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function BM(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function VM(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function UM(n,e,t,r){const o=e.href,i=e.title?ri(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:ri(s)}}class Wv{constructor(e){this.options=e||Vu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Pm(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function GU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Pm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,_,k,P,J,xe=t[1].trim();const qe=xe.length>1,Ke={type:"list",raw:"",ordered:qe,start:qe?+xe.slice(0,-1):"",loose:!1,items:[]};xe=qe?`\\d{1,9}\\${xe.slice(-1)}`:`\\${xe}`,this.options.pedantic&&(xe=qe?xe:"[*+-]");const St=new RegExp(`^( {0,3}${xe})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(J=!1,(t=St.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,Ft=>" ".repeat(3*Ft.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,P=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,P=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),J=!0),!J){const Ft=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),_n=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Bn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),es=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],_=k,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Bn.test(_)||es.test(_)||Ft.test(_)||_n.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())P+="\n"+_.slice(s);else{if(u||m.search(/[^ ]/)>=4||Bn.test(m)||es.test(m)||_n.test(m))break;P+="\n"+_}!u&&!_.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),m=_.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(P),o&&(i="[ ] "!==o[0],P=P.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:P}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=P.trimRight(),Ke.raw=Ke.raw.trimRight();const Ne=Ke.items.length;for(a=0;a<Ne;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const Ft=Ke.items[a].tokens.filter(Bn=>"space"===Bn.type),_n=Ft.length>0&&Ft.some(Bn=>/\n.*\n/.test(Bn.raw));Ke.loose=_n}if(Ke.loose)for(a=0;a<Ne;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):ri(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:$M(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=$M(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ri(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ri(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Pm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function zU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),UM(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return UM(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const J=k.slice(1,-1);return{type:"em",raw:k,text:J,tokens:this.lexer.inlineTokens(J)}}const P=k.slice(2,-2);return{type:"strong",raw:k,text:P,tokens:this.lexer.inlineTokens(P)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=ri(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=ri(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=ri(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=ri(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=ri(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ri(r[0]):r[0]:ri(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const yn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};yn.def=Er(yn.def).replace("label",yn._label).replace("title",yn._title).getRegex(),yn.bullet=/(?:[*+-]|\d{1,9}[.)])/,yn.listItemStart=Er(/^( *)(bull) */).replace("bull",yn.bullet).getRegex(),yn.list=Er(yn.list).replace(/bull/g,yn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+yn.def.source+")").getRegex(),yn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,yn.html=Er(yn.html,"i").replace("comment",yn._comment).replace("tag",yn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yn.paragraph=Er(yn._paragraph).replace("hr",yn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yn._tag).getRegex(),yn.blockquote=Er(yn.blockquote).replace("paragraph",yn.paragraph).getRegex(),yn.normal=$s({},yn),yn.gfm=$s({},yn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),yn.gfm.table=Er(yn.gfm.table).replace("hr",yn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yn._tag).getRegex(),yn.gfm.paragraph=Er(yn._paragraph).replace("hr",yn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",yn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yn._tag).getRegex(),yn.pedantic=$s({},yn.normal,{html:Er("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",yn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Er(yn.normal._paragraph).replace("hr",yn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",yn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function WU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function HM(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Zt.punctuation=Er(Zt.punctuation).replace(/punctuation/g,Zt._punctuation).getRegex(),Zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Zt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Zt._comment=Er(yn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Zt.emStrong.lDelim=Er(Zt.emStrong.lDelim).replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimAst=Er(Zt.emStrong.rDelimAst,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimUnd=Er(Zt.emStrong.rDelimUnd,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Zt.autolink=Er(Zt.autolink).replace("scheme",Zt._scheme).replace("email",Zt._email).getRegex(),Zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Zt.tag=Er(Zt.tag).replace("comment",Zt._comment).replace("attribute",Zt._attribute).getRegex(),Zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Zt.link=Er(Zt.link).replace("label",Zt._label).replace("href",Zt._href).replace("title",Zt._title).getRegex(),Zt.reflink=Er(Zt.reflink).replace("label",Zt._label).replace("ref",yn._label).getRegex(),Zt.nolink=Er(Zt.nolink).replace("ref",yn._label).getRegex(),Zt.reflinkSearch=Er(Zt.reflinkSearch,"g").replace("reflink",Zt.reflink).replace("nolink",Zt.nolink).getRegex(),Zt.normal=$s({},Zt),Zt.pedantic=$s({},Zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Er(/^!?\[(label)\]\((.*?)\)/).replace("label",Zt._label).getRegex(),reflink:Er(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zt._label).getRegex()}),Zt.gfm=$s({},Zt.normal,{escape:Er(Zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Zt.gfm.url=Er(Zt.gfm.url,"i").replace("email",Zt.gfm._extended_email).getRegex(),Zt.breaks=$s({},Zt.gfm,{br:Er(Zt.br).replace("{2,}","*").getRegex(),text:Er(Zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ka{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Vu,this.options.tokenizer=this.options.tokenizer||new Wv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:yn.normal,inline:Zt.normal};this.options.pedantic?(t.block=yn.pedantic,t.inline=Zt.pedantic):this.options.gfm&&(t.block=yn.gfm,t.inline=this.options.breaks?Zt.breaks:Zt.gfm),this.tokenizer.rules=t}static get rules(){return{block:yn,inline:Zt}}static lex(e,t){return new Ka(t).lex(e)}static lexInline(e,t){return new Ka(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+VM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+VM("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,HM)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,HM))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=e.slice(1);let k;this.options.extensions.startInline.forEach(function(P){k=P.call({lexer:this},_),"number"==typeof k&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,WU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class Uu{constructor(e){this.options=e||Vu}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+ri(o)+'">'+(r?e:ri(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:ri(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=LM(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=LM(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class jM{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class zM{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class da{constructor(e){this.options=e||Vu,this.options.renderer=this.options.renderer||new Uu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jM,this.slugger=new zM}static parse(e,t){return new da(t).parse(e)}static parseInline(e,t){return new da(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,_,k,P,J,xe,qe,Ke,St,Ne,Ft,_n,Bn,r="";const es=e.length;for(o=0;o<es;o++)if(P=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[P.type]&&(Bn=this.options.extensions.renderers[P.type].call({parser:this},P),!1!==Bn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(P.type)))r+=Bn||"";else switch(P.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(P.tokens),P.depth,NM(this.parseInline(P.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(P.text,P.lang,P.escaped);continue;case"table":for(_="",m="",a=P.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(P.header[i].tokens),{header:!0,align:P.align[i]});for(_+=this.renderer.tablerow(m),k="",a=P.rows.length,i=0;i<a;i++){for(f=P.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:P.align[s]});k+=this.renderer.tablerow(m)}r+=this.renderer.table(_,k);continue;case"blockquote":k=this.parse(P.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(J=P.ordered,xe=P.start,qe=P.loose,a=P.items.length,k="",i=0;i<a;i++)St=P.items[i],Ne=St.checked,Ft=St.task,Ke="",St.task&&(_n=this.renderer.checkbox(Ne),qe?St.tokens.length>0&&"paragraph"===St.tokens[0].type?(St.tokens[0].text=_n+" "+St.tokens[0].text,St.tokens[0].tokens&&St.tokens[0].tokens.length>0&&"text"===St.tokens[0].tokens[0].type&&(St.tokens[0].tokens[0].text=_n+" "+St.tokens[0].tokens[0].text)):St.tokens.unshift({type:"text",text:_n}):Ke+=_n),Ke+=this.parse(St.tokens,qe),k+=this.renderer.listitem(Ke,Ft,Ne);r+=this.renderer.list(k,J,xe);continue;case"html":r+=this.renderer.html(P.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(P.tokens));continue;case"text":for(k=P.tokens?this.parseInline(P.tokens):P.text;o+1<es&&"text"===e[o+1].type;)P=e[++o],k+="\n"+(P.tokens?this.parseInline(P.tokens):P.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const jm='Token with "'+P.type+'" type was not found.';if(this.options.silent)return void console.error(jm);throw new Error(jm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function wn(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),BM(e=$s({},wn.defaults,e||{})),t){const o=e.highlight;let i;try{i=Ka.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&wn.walkTokens(i,e.walkTokens),f=da.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return wn.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ri(o.message+"",!0)+"</pre>";throw o}try{const o=Ka.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(wn.walkTokens(o,e.walkTokens)).then(()=>da.parse(o,e)).catch(r);wn.walkTokens(o,e.walkTokens)}return da.parse(o,e)}catch(o){r(o)}}wn.options=wn.setOptions=function(n){return $s(wn.defaults,n),function PU(n){Vu=n}(wn.defaults),wn},wn.getDefaults=function PM(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},wn.defaults=Vu,wn.use=function(...n){const e=wn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=$s({},t);if(r.async=wn.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=wn.defaults.renderer||new Uu;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=wn.defaults.tokenizer||new Wv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=wn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}wn.setOptions(r)})},wn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(wn,r)),r.type){case"table":for(const o of r.header)t=t.concat(wn.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(wn.walkTokens(i.tokens,e));break;case"list":t=t.concat(wn.walkTokens(r.items,e));break;default:wn.defaults.extensions&&wn.defaults.extensions.childTokens&&wn.defaults.extensions.childTokens[r.type]?wn.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(wn.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(wn.walkTokens(r.tokens,e)))}return t},wn.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");BM(e=$s({},wn.defaults,e||{}));try{const t=Ka.lexInline(n,e);return e.walkTokens&&wn.walkTokens(t,e.walkTokens),da.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ri(t.message+"",!0)+"</pre>";throw t}},wn.Parser=da,wn.parser=da.parse,wn.Renderer=Uu,wn.TextRenderer=jM,wn.Lexer=Ka,wn.lexer=Ka.lex,wn.Tokenizer=Wv,wn.Slugger=zM,wn.parse=wn;class qU extends W{constructor(e,t){super()}schedule(e,t=0){return this}}const Rm={setInterval(n,e,...t){const{delegate:r}=Rm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Rm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},qv={now:()=>(qv.delegate||Date).now(),delegate:void 0};class Gf{constructor(e,t=Gf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gf.now=qv.now;const GM=new class KU extends Gf{constructor(e,t=Gf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class ZU extends qU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Rm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Rm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ee(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),YU=GM;function WM(n=0,e,t=YU){let r=-1;return null!=e&&(br(e)?t=e:r=e),new vt(o=>{let i=function XU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class QU extends et{constructor(e=1/0,t=1/0,r=qv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const tH=["*"];let Zv=(()=>{class n{constructor(){this._buttonClick$=new et,this.copied$=this._buttonClick$.pipe(ei(()=>Xo(pn(!0),WM(3e3).pipe(hv(!1)))),aM(),function JU(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,bs({connector:()=>new QU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(Z1(!1),Pe(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(se(0,"button",0),lt("click",function(){return r.onCopyToClipboardClick()}),na(1,"async"),Ze(2),na(3,"async"),te()),2&t&&(La("copied",ra(1,3,r.copied$)),Je(2),ds(ra(3,5,r.copiedText$)))},dependencies:[YE],encapsulation:2,changeDetection:0}),n})();class oH{}var Wf=(()=>{return(n=Wf||(Wf={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",Wf;var n})();class qM{}const ZM=new en("SECURITY_CONTEXT");let Kv=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Uu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new et,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new Uu));const m=this.trimIndentation(t),_=o?this.decodeHtml(m):m,k=s?this.parseEmoji(_):_,P=this.parseMarked(k,f,i);return(u?P:this.sanitizer.sanitize(this.securityContext,P))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Pe(r=>this.handleExtension(t,r)))}highlight(t){if(!ml(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!ml(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?wn.parseInline(t,r):wn.parse(t,r)}parseEmoji(t){if(!ml(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(ml(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!ml(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let k,P;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Zv).hostView,k.rootNodes.forEach(J=>{J.onmouseover=()=>_.style.opacity="1",_.appendChild(J),P=new ClipboardJS(J,{text:()=>f.innerText})}),k.onDestroy(()=>P.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!ml(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(M(_u),M(ZM),M(U_,8),M(oH,8),M(qM,8),M(N_))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),Yv=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new Sn,this.load=new Sn,this.ready=new Sn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new et}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function eH(n){return K((e,t)=>{Mn(n).subscribe(Se(t,()=>t.complete(),U)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Wf.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Wf.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(S(_t),S(Kv),S(vi))},n.\u0275cmp=ut({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[mo],ngContentSelectors:tH,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2}),n})(),Xv=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Kv,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:ZM,useValue:t&&null!=t.sanitize?t.sanitize:Cr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({imports:[sa]}),n})();var KM;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(KM||(KM={}));var be=F(3918);const fH="safari"in window,YM=!navigator.userAgent.match(/(crios)|(fxios)/i),Bs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,XM=!!navigator.userAgent.match(/android/i);var kl=(()=>{return(n=kl||(kl={})).web="web",n.pwa="pwa",n.twa="twa",kl;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const mH=new Error("request for lock canceled");class yH{constructor(e,t=mH){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class fa{constructor(e){this._semaphore=new yH(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Fm="cloudpilot-session-preview";function JM(){localStorage.removeItem(Fm)}function oi(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,be.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class Ji{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}Ji.\u0275fac=function(e){return new(e||Ji)},Ji.\u0275prov=gt({token:Ji,factory:Ji.\u0275fac,providedIn:"root"});class xr{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new zo.j}errorMessage(e){var t=this;return(0,be.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,be.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,be.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,be.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,be.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}xr.\u0275fac=function(e){return new(e||xr)(M(Bu),M(Ji))},xr.\u0275prov=gt({token:xr,factory:xr.\u0275fac,providedIn:"root"}),Z([oi()],xr.prototype,"updateAvailable",null),Z([oi()],xr.prototype,"fatalError",null),Z([oi()],xr.prototype,"errorInNativeCode",null);class Ts{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&JM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new zo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}Ts.\u0275fac=function(e){return new(e||Ts)(M(xr),M(dt))},Ts.\u0275prov=gt({token:Ts,factory:Ts.\u0275fac,providedIn:"root"});var Pr=(()=>{return(n=Pr||(Pr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Pr;var n})();class pa{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Pr.none}claim(e,t){this.assertOwnership(e,Pr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Pr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}pa.\u0275fac=function(e){return new(e||pa)(M(Ts))},pa.\u0275prov=gt({token:pa,factory:pa.\u0275fac,providedIn:"root"});const xl="session",Hu="rom",Pl="memory",Ya="state",Om="kvs",Rl="memory-meta",ha="storage",_s="storage-card",qf="lock";class ju extends Error{constructor(e){super(e)}}function Kn(n){return new Promise((e,t)=>{!function EH(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new ju(n.error?.message))})}function tT(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function DH(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Nm="session",Jv="memory",MH="memory-meta",TH="storage",rT="storage-meta",oT="storage-card",AH="storageId";function e0(){return(e0=(0,be.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Nm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function t0(){return(t0=(0,be.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function n0(){return(n0=(0,be.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(MH,{keyPath:"sessionId"});n.createObjectStore(TH),n.createObjectStore(rT,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Nm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function r0(){return(r0=(0,be.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(rT).name=oT})).apply(this,arguments)}function o0(){return(o0=(0,be.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(oT).createIndex(AH,"storageId")})).apply(this,arguments)}function s0(){return(s0=(0,be.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var BH=F(5023),VH=F.n(BH);const iT={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Lm;const UH=new Uint8Array(16);function HH(){if(!Lm&&(Lm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lm(UH)}const ii=[];for(let n=0;n<256;++n)ii.push((n+256).toString(16).slice(1));const a0=function jH(n,e,t){if(iT.randomUUID&&!e&&!n)return iT.randomUUID();const r=(n=n||{}).random||(n.rng||HH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function sT(n,e=0){return(ii[n[e+0]]+ii[n[e+1]]+ii[n[e+2]]+ii[n[e+3]]+"-"+ii[n[e+4]]+ii[n[e+5]]+"-"+ii[n[e+6]]+ii[n[e+7]]+"-"+ii[n[e+8]]+ii[n[e+9]]+"-"+ii[n[e+10]]+ii[n[e+11]]+ii[n[e+12]]+ii[n[e+13]]+ii[n[e+14]]+ii[n[e+15]]).toLowerCase()}(r)},l0=new Error("page lock lost"),aT=new Error("version mismatch"),lT=a0();function no(){return(n,e,t)=>{const r=t.value;return t.value=(0,be.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof ju?o.fatalIDBDead():i===aT?o.fatalVersionMismatch():i===l0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class jn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Pl),u=o.objectStore(Rl),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let P=0;P<k;P++){m.set(s.subarray(1024*P,1024*(P+1)));const J=tT(f);if("number"==typeof J)a.put(J,[i,P]);else{const xe=new Uint32Array(256);xe.set(J),a.put(xe,[i,P])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,be.Z)(function*(){const s=o.objectStore(Rl),a=yield Kn(s.get(i));if(a)return new Promise(function(){var u=(0,be.Z)(function*(f,m){const _=o.objectStore(Pl),k=new Uint32Array(a.totalSize>>>2),P=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));P.onsuccess=()=>{const J=P.result;if(!J)return f(new Uint8Array(k.buffer));const xe=J.value,[,qe]=J.key;"number"==typeof xe?k.subarray(256*qe,256*(qe+1)).fill(xe|xe<<8|xe<<16|xe<<24):k.subarray(256*qe,256*(qe+1)).set(1024===xe.length?new Uint32Array(xe.buffer):xe),J.continue()},P.onerror=()=>m(new ju(P.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new zo.j,this.storageCardChangeEvent=new zo.j,this.sessionUpdateMutex=new fa,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,be.Z)(function*(){const s=VH()(t),a=yield i.newTransaction(xl,Hu,Ya,Pl,Rl),u=a.objectStore(xl),f=a.objectStore(Hu);(yield Kn(f.get(s)))||f.put(t,s);const{id:_,...k}=e,P=yield Kn(u.add({...k,rom:s})),J=yield Kn(u.get(P));return r&&i.saveMemory(a,J.id,r),o&&i.saveState(a,J.id,o),yield Kn(a),J})()}getAllSessions(){var e=this;return(0,be.Z)(function*(){const[t]=yield e.prepareObjectStore(xl);return yield Kn(t.getAll())})()}getSession(e){var t=this;return(0,be.Z)(function*(){const[r]=yield t.prepareObjectStore(xl);return yield Kn(r.get(e))})()}deleteSession(e){var t=this;return(0,be.Z)(function*(){const r=yield t.newTransaction(xl,Hu,Ya,Pl,Rl),o=r.objectStore(xl),i=r.objectStore(Hu);(e=yield Kn(o.get(e.id)))&&(o.delete(e.id),0===(yield Kn(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield Kn(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,be.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(xl),_=yield Kn(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const k={..._,...u};f.put(k),yield Kn(m),r.sessionChangeEvent.dispatch([_.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,be.Z)(function*(){const[r,o]=yield t.prepareObjectStore(xl),i=yield Kn(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield Kn(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,be.Z)(function*(){const r=yield t.newTransaction(Hu,Ya,Pl,Rl),o=r.objectStore(Hu);return[yield Kn(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,be.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Ya);r.delete(e.id),yield Kn(o)})()}addEmptyStorageCard(e){var t=this;return(0,be.Z)(function*(){const[r]=yield t.prepareObjectStore(_s),o=yield Kn(r.add(e)),i=yield Kn(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,be.Z)(function*(){return r.ngZone.runOutsideAngular((0,be.Z)(function*(){const o=yield r.newTransaction(_s,ha),i=o.objectStore(_s),s=o.objectStore(ha),a=yield Kn(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const k=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(k);const P=DH(_===u-1?f:k);0!==P&&s.put("number"==typeof P?P:P?.slice(),[a,_])}const m=yield Kn(i.get(a));return yield Kn(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,be.Z)(function*(){const[t]=yield e.prepareObjectStore(_s);return Kn(t.getAll())})()}getCard(e){var t=this;return(0,be.Z)(function*(){const[r]=yield t.prepareObjectStore(_s);return Kn(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,be.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(_s),m=yield Kn(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const _={...m,...a};u.put(_),yield Kn(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,be.Z)(function*(){const r=yield t.newTransaction(_s,ha);t.storageCardContext.assertOwnership(e,Pr.none);const o=r.objectStore(_s),i=r.objectStore(ha);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield Kn(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,be.Z)(function*(){const i=yield o.newTransaction(_s,ha);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(ha);yield new Promise(function(){var a=(0,be.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return u();let k=_.value;const[,P]=_.key;"number"==typeof k?t.subarray(2048*P,2048*(P+1)).fill(k):(2048*(P+1)>t.length&&(k=k.subarray(0,2048-2048*(P+1)+t.length)),t.subarray(2048*P,2048*(P+1)).set(k)),_.continue()},m.onerror=()=>f(new ju(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,be.Z)(function*(){const s=yield i.newTransaction(_s,ha);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(_s),u=s.objectStore(ha),f=yield Kn(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let k=0;k<r.length;k++)for(let P=1;P<256&&!(_>=m);P<<=1)r[k]&P&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield Kn(s)}))}kvsGet(e){var t=this;return(0,be.Z)(function*(){const[r]=yield t.prepareObjectStore(Om);return Kn(r.get(e))})()}kvsSet(e){var t=this;return(0,be.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Om);for(const i of Object.keys(e))r.put(e[i],i);yield Kn(o)})()}kvsLoad(){var e=this;return(0,be.Z)(function*(){const[t]=yield e.prepareObjectStore(Om);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new ju(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,be.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Om);r.delete(e),yield Kn(o)})()}acquireLock(e){var t=this;return(0,be.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Kn(e.objectStore(qf).get(0)))!==lT)throw e.abort(),e.db.close(),l0})()}newTransaction(...e){var t=this;return(0,be.Z)(function*(){const r=(yield t.db).transaction([qf,...e],"readwrite");return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,be.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(Ya);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(Ya).delete(t)}loadState(e,t){return Kn(e.objectStore(Ya).get(t))}deleteMemory(e,t){const r=e.objectStore(Pl),o=e.objectStore(Rl);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,be.Z)(function*(){const t=e.transaction(qf,"readwrite");yield Kn(t.objectStore(qf).put(lT,0))})()}setupDb(){var e=this;return(0,be.Z)(function*(){const t=setTimeout(()=>Bs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw aT}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new ju("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,be.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function xH(n){n.createObjectStore(Nm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function PH(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(Jv)&&n.deleteObjectStore(Jv),e.objectStore(Nm).clear(),n.createObjectStore("rom"),n.createObjectStore(Jv),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function RH(n,e){return e0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function FH(n,e){return t0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function OH(n,e){return n0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function NH(n,e){return r0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function LH(n,e){return o0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function $H(n,e){return s0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,be.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}jn.\u0275fac=function(e){return new(e||jn)(M(dt),M(Ts),M(pa))},jn.\u0275prov=gt({token:jn,factory:jn.\u0275fac,providedIn:"root"}),Z([no()],jn.prototype,"addSession",null),Z([no()],jn.prototype,"getAllSessions",null),Z([no()],jn.prototype,"getSession",null),Z([no()],jn.prototype,"deleteSession",null),Z([no()],jn.prototype,"updateSessionPartial",null),Z([no()],jn.prototype,"updateSession",null),Z([no()],jn.prototype,"loadSession",null),Z([no()],jn.prototype,"deleteStateForSession",null),Z([no()],jn.prototype,"addEmptyStorageCard",null),Z([no()],jn.prototype,"importStorageCard",null),Z([no()],jn.prototype,"getAllStorageCards",null),Z([no()],jn.prototype,"getCard",null),Z([no()],jn.prototype,"updateStorageCardPartial",null),Z([no()],jn.prototype,"deleteStorageCard",null),Z([no()],jn.prototype,"loadCardData",null),Z([no()],jn.prototype,"kvsGet",null),Z([no()],jn.prototype,"kvsSet",null),Z([no()],jn.prototype,"kvsDelete",null),Z([no()],jn.prototype,"newTransaction",null),Z([no()],jn.prototype,"prepareObjectStore",null),Z([no()],jn.prototype,"initializeLock",null),Z([no()],jn.prototype,"setupDb",null);const cT={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class No{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,be.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new zo.j,this.mutex=new fa,this.storageMutex=new fa,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,be.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,be.Z)(function*(){const t=e;try{const r={...cT,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...cT}}})()}}No.\u0275fac=function(e){return new(e||No)(M(jn))},No.\u0275prov=gt({token:No,factory:No.\u0275fac,providedIn:"root"});class wc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,be.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Bs||XM)&&this.installationMode===kl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Bs&&YM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Bs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Bs&&YM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Bs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?kl.pwa:document.referrer.startsWith("android-app://")?kl.twa:window.matchMedia("(display-mode: standalone)").matches?kl.pwa:kl.web}}function XH(n,e){1&n&&(se(0,"div",6),ct(1,"ion-spinner"),te())}wc.\u0275fac=function(e){return new(e||wc)(M(No),M(xr))},wc.\u0275prov=gt({token:wc,factory:wc.\u0275fac,providedIn:"root"});class Xa{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}Xa.\u0275fac=function(e){return new(e||Xa)(S(ys))},Xa.\u0275cmp=ut({type:Xa,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.modalController.dismiss()}),Ze(6,"Close"),te()()()(),se(7,"ion-content",3),nn(8,XH,2,0,"div",4),se(9,"markdown",5),lt("load",function(){return t.loading=!1}),te()()),2&e&&(Je(3),ds(t.title),Je(5),ot("ngIf",t.loading),Je(1),ot("src",t.url))},dependencies:[jo,Yv,Wi,qi,Zi,Ki,Bf,Xi,Qi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const Sc="1.7.11-9f06b02 (preview)";var $m=F(9897);const Bm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const k=e.get(m);if("number"==typeof k){const P=r.get(k);if(void 0===P||P.timerId!==m||P.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===_){const k=t.get(m);if("number"==typeof k){const P=r.get(k);if(void 0===P||P.timerId!==m||P.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:P}=_;r.delete(m),"interval"===P?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const m=(0,$m.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,$m.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,$m.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,$m.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var Fl=(()=>{return(n=Fl||(Fl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",Fl;var n})();class dT{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Fl.animationFrame}}class rj{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>Bm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,Bm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Fl.timeout}}const oj=[135,135,105],ij=[0,0,0],Ol=new Array(16).fill(0).map((n,e)=>ij.map((t,r)=>Math.floor((e*t+(15-e)*oj[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),c0=Ol.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>{return(n=ie||(ie={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ie;var n})(),Nl=(()=>{return(n=Nl||(Nl={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",Nl;var n})();function Zf(n){switch(n){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function u0(n){switch(n){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function fT(n){switch(n){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function pT(n){switch(n){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return Nl.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return Nl.memorystick;default:return Nl.none}}class hT{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class lj{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class mj{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new zo.j,this.pwmUpdateEvent=new zo.j,this.emulationStateChangeEvent=new zo.j,this.powerOffChangeEvent=new zo.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new dT(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new lj(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new hT(20),this.timePerFrameAverage=new hT(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Zf(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=Zf(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Fl.animationFrame?new dT(e=>this.onSchedule(e)):new rj(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=Zf(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=u0(e)?"white":c0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=Ol[15],i=Ol[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Ol[15&o],Ol[o>>>4&15],Ol[o>>>8&15],Ol[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=Ol[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class gj{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const vj=new Error("transaction timeout"),yT=new Error("session does not match emulation");class ma{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,be.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new zo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,be.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,be.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===yT)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===l0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,be.Z)(function*(){const t=e.db.transaction([Pl,Rl,Ya,ha,_s,qf],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw yT;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield Kn(t.objectStore(_s).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,_=0,k=0,P=new gj(500,()=>{u=!0;try{t.abort()}catch{}a(vj)});t.oncomplete=(0,be.Z)(function*(){P.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:_-m,timeTotal:performance.now()-f})}),t.onerror=()=>{P.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),k=e.saveDirtyMemory(t,P),r&&(k+=e.saveDirtyStorage(r,t,P)),e.saveSession(t),_=performance.now()}catch(J){throw u||(P.cancel(),t.abort()),J}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Pl),i=e.objectStore(Rl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const k=tT(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Pr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(ha),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let k=1;k<256&&!(s>=m);k<<=1){if(this.cardDirtyPages[_]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const P=this.cardPagePool[a++];P.set(i.subarray(2048*s,2048*(s+1))),f.put(P,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(Ya);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function bj(n,e){1&n&&(se(0,"p",11),Ze(1," ERROR: URL must be served via HTTPS. "),te())}function wj(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(bu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}ma.\u0275fac=function(e){return new(e||ma)(M(jn),M(Ji),M(Ts),M(pa),M(dt))},ma.\u0275prov=gt({token:ma,factory:ma.\u0275fac,providedIn:"root"});class Kf{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(bu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(bu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new qh({url:new Go("",wj)})}}function d0(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function _T(n){return`${d0(n.name)}.bin`}function vT(n,e){return`backup_${d0(n.name)}${e?"_with_rom":""}.zip`}function f0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function bT(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}Kf.\u0275fac=function(e){return new(e||Kf)},Kf.\u0275cmp=ut({type:Kf,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Enter download URL"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.continue()}),Ze(6,"OK"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),Ze(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),Ze(13," Please enter the URL from which to download: "),te(),se(14,"ion-item",7)(15,"ion-label",8),Ze(16,"URL"),te(),ct(17,"ion-input",9),te(),nn(18,bj,2,0,"p",10),se(19,"p"),Ze(20," Note that the remote server needs to support the CORS protocol. "),te()()()),2&e&&(Je(5),ot("disabled",t.formGroup.invalid),Je(6),ot("formGroup",t.formGroup),Je(7),ot("ngIf",t.isMixedContent))},dependencies:[jo,Wi,qi,Zi,Ki,Ml,qo,Yi,Xi,Qi,Il,El,Sl,Cl,aa,za],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class Yf{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new qh({username:new Go(e?.username??""),password:new Go(e?.password??"")})}}Yf.\u0275fac=function(e){return new(e||Yf)(S(No))},Yf.\u0275cmp=ut({type:Yf,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Authenticate"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.saveAndContinue()}),Ze(6,"OK"),te()(),se(7,"ion-buttons",3)(8,"ion-button",2),lt("click",function(){return t.onCancel()}),Ze(9,"Cancel"),te()()()(),se(10,"ion-content",4)(11,"form",5),lt("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),Ze(13," The server requires authentication. "),te(),se(14,"ion-item",6)(15,"ion-label",7),Ze(16,"Username"),te(),ct(17,"ion-input",8),te(),se(18,"ion-item",6)(19,"ion-label",7),Ze(20,"Password"),te(),ct(21,"ion-input",9),te()()()),2&e&&(Je(11),ot("formGroup",t.formGroup))},dependencies:[Wi,qi,Zi,Ki,Ml,qo,Yi,Xi,Qi,Il,El,Sl,Cl,aa,za],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Cc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,be.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(bu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],_=new AbortController,k=window.setTimeout(()=>_.abort(),i),P=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(k),401===P.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return P}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,be.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:Yf,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Cc.\u0275fac=function(e){return new(e||Cc)(M(vc),M(No),M(ys))},Cc.\u0275prov=gt({token:Cc,factory:Cc.\u0275fac,providedIn:"root"});var Cj=F(3272),Ej=F.n(Cj);function p0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const wT=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11];function tn(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Wt{constructor(e){this.module=e,this.fatalErrorEvent=new zo.j,this.pwmUpdateEvent=new zo.j,this.proxyDisconnectEvent=new zo.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,be.Z)(function*(){return new Wt(yield Ej()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:wT.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,be.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,be.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!wT.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=p0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAP8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}Z([tn()],Wt.prototype,"getRomInfo",null),Z([tn()],Wt.prototype,"initializeSession",null),Z([tn()],Wt.prototype,"cyclesPerSecond",null),Z([tn()],Wt.prototype,"runEmulation",null),Z([tn()],Wt.prototype,"getFrame",null),Z([tn()],Wt.prototype,"isScreenDirty",null),Z([tn()],Wt.prototype,"markScreenClean",null),Z([tn()],Wt.prototype,"minRamForDevice",null),Z([tn()],Wt.prototype,"framebufferSizeForDevice",null),Z([tn()],Wt.prototype,"totalMemorySizeForDevice",null),Z([tn()],Wt.prototype,"queuePenMove",null),Z([tn()],Wt.prototype,"queuePenUp",null),Z([tn()],Wt.prototype,"queueButtonDown",null),Z([tn()],Wt.prototype,"queueButtonUp",null),Z([tn()],Wt.prototype,"queueKeyboardEvent",null),Z([tn()],Wt.prototype,"isPowerOff",null),Z([tn()],Wt.prototype,"isUiInitialized",null),Z([tn()],Wt.prototype,"isSetupComplete",null),Z([tn()],Wt.prototype,"getOSVersion",null),Z([tn()],Wt.prototype,"reset",null),Z([tn()],Wt.prototype,"resetNoExtensions",null),Z([tn()],Wt.prototype,"resetHard",null),Z([tn()],Wt.prototype,"installDb",null),Z([tn()],Wt.prototype,"getPalette2bitMapping",null),Z([tn()],Wt.prototype,"getMemory",null),Z([tn()],Wt.prototype,"getMemory32",null),Z([tn()],Wt.prototype,"getDirtyPages",null),Z([tn()],Wt.prototype,"loadMemory",null),Z([tn()],Wt.prototype,"getRomImage",null),Z([tn()],Wt.prototype,"getSavestate",null),Z([tn()],Wt.prototype,"saveState",null),Z([tn()],Wt.prototype,"loadState",null),Z([tn()],Wt.prototype,"getHotsyncName",null),Z([tn()],Wt.prototype,"setClockFactor",null),Z([tn()],Wt.prototype,"setHotsyncName",null),Z([tn()],Wt.prototype,"setClipboardIntegration",null),Z([tn()],Wt.prototype,"getClipboardIntegration",null),Z([tn()],Wt.prototype,"isSuspended",null),Z([tn()],Wt.prototype,"getSuspendKind",null),Z([tn()],Wt.prototype,"cancelSuspend",null),Z([tn()],Wt.prototype,"getSuspendContextClipboardCopy",null),Z([tn()],Wt.prototype,"getSuspendContextClipboardPaste",null),Z([tn()],Wt.prototype,"setNetworkRedirection",null),Z([tn()],Wt.prototype,"getNetworkRedirection",null),Z([tn()],Wt.prototype,"getSuspendContextNetworkConnect",null),Z([tn()],Wt.prototype,"getSuspendContextNetworkRpc",null),Z([tn()],Wt.prototype,"copyBuffer",null),Z([tn()],Wt.prototype,"freeBuffer",null),Z([tn()],Wt.prototype,"setHotsyncNameManagement",null),Z([tn()],Wt.prototype,"resolveBuffer",null),Z([tn()],Wt.prototype,"serializeSessionImage",null),Z([tn()],Wt.prototype,"deserializeSessionImage",null),Z([tn()],Wt.prototype,"launchAppByName",null),Z([tn()],Wt.prototype,"launchAppByDbHeader",null),Z([tn()],Wt.prototype,"deviceSupportsCardSize",null),Z([tn()],Wt.prototype,"clearExternalStorage",null),Z([tn()],Wt.prototype,"allocateCard",null),Z([tn()],Wt.prototype,"getCardData",null),Z([tn()],Wt.prototype,"getCardDirtyPages",null),Z([tn()],Wt.prototype,"getMountedKey",null),Z([tn()],Wt.prototype,"mountCard",null),Z([tn()],Wt.prototype,"removeCard",null),Z([tn()],Wt.prototype,"remountCards",null),Z([tn()],Wt.prototype,"getCardSupportLevel",null);class Ai{constructor(){this.cloudpilot=Wt.create()}}Ai.\u0275fac=function(e){return new(e||Ai)},Ai.\u0275prov=gt({token:Ai,factory:Ai.\u0275fac,providedIn:"root"});class Vs{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){if("drop"!==e.type||!e.dataTransfer?.files)return;const r=Array.from(e.dataTransfer.files).map(this.readFile.bind(this));Promise.all(r).then(o=>o.filter(i=>!!i)).then(o=>o.length>0&&t(o))}saveSession(e){var t=this;return(0,be.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:bT(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(_T(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,be.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:bT(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(_T(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,be.Z)(function*(){let o;try{o=new(bu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");return void t({name:o.pathname.replace(/.*\//,""),content:new Uint8Array(yield i.arrayBuffer())})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,be.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,be.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:Kf,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,be.Z)(function*(i){const s=i.target;if(!s?.files)return;const a=Array.from(s.files).map(r.readFile.bind(r));Promise.all(a).then(u=>u.filter(f=>!!f)).then(u=>u.length>0&&t(u))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){return new Promise(t=>{const r=new FileReader;r.onload=()=>t({content:new Uint8Array(r.result),name:e.name}),r.onerror=()=>{console.warn(r.error),t(void 0)},r.readAsArrayBuffer(e)})}}Vs.\u0275fac=function(e){return new(e||Vs)(M(jn),M(vc),M(zf),M(No),M(ys),M(xr),M(Cc),M(Ai))},Vs.\u0275prov=gt({token:Vs,factory:Vs.\u0275fac,providedIn:"root"});class Ll{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new zo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}Ll.\u0275fac=function(e){return new(e||Ll)(M(dt))},Ll.\u0275prov=gt({token:Ll,factory:Ll.\u0275fac,providedIn:"root"});const Vm=new Error("permission denied");class Ec{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,be.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===Vm)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,be.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?Vm:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,be.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,be.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,be.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,be.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===Vm)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,be.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?Vm:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,be.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,be.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,be.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,be.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,be.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Ec.\u0275fac=function(e){return new(e||Ec)(M(Bu),M(xr))},Ec.\u0275prov=gt({token:Ec,factory:Ec.\u0275fac,providedIn:"root"});const Ij="https:"===window.location.protocol?8667:8666,Mj=/^[\da-z\-\.]+$/i,Tj=/^[\da-z\-\.]+:\d+$/i;function h0(n){if(!n)return;const e=window.location.protocol;if(n.match(Mj))return`${e}//${n}:${Ij}`;if(n.match(Tj))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function kj(n){return void 0!==h0(n.value)?null:{proxyAddress:"invalid"}}class $l{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,be.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=h0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=a0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new zo.j,this.mutex=new fa,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,be.Z)(function*(){const o=h0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}$l.\u0275fac=function(e){return new(e||$l)(M(No),M(xr),M(dt),M(Cc))},$l.\u0275prov=gt({token:$l,factory:$l.\u0275fac,providedIn:"root"});class Dc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Dc.\u0275fac=function(e){return new(e||Dc)},Dc.\u0275prov=gt({token:Dc,factory:Dc.\u0275fac,providedIn:"root"});class Ic{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Ic.\u0275fac=function(e){return new(e||Ic)},Ic.\u0275prov=gt({token:Ic,factory:Ic.\u0275fac,providedIn:"root"});var Rj=F(9084),CT=F.n(Rj);function m0(){return(m0=(0,be.Z)(function*(n){const e=yield g0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const ET="fstools_web.wasm",DT=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(ET)):fetch(ET).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class g0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,be.Z)(function*(){return new g0(yield CT()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,be.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield DT,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class Um{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,be.Z)(function*(){const t=yield CT()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,be.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield DT,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Um(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=p0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var yr=(()=>{return(n=yr||(yr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",yr;var n})(),dr=(()=>{return(n=dr||(dr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",dr;var n})();class ga{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new fa,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,be.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:dr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,be.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:dr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,be.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,be.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,be.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,be.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}ga.\u0275fac=function(e){return new(e||ga)(M(Ai),M(jn),M(vc))},ga.\u0275prov=gt({token:ga,factory:ga.\u0275fac,providedIn:"root"});var Oj=F(7971),Nj=F.n(Oj);function Lj(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function IT(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:Lj(n.GetAttributes())}}class y0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,be.Z)(function*(){return new y0(yield Nj()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=p0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(IT(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:IT(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}}var $j=F(5541),MT=F.n($j);class Qa{constructor(e,t,r){this.storageService=e,this.storageCardContext=t,this.alertService=r,this.onReleaseCard=new zo.j,this.vfs=y0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(o=>this.vfsInstance=o)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,t,r){var o=this;return(0,be.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.storageCardContext.claim(e,Pr.vfs),o.directoryCache.clear(),o.mountedCard?.id===e)return!0;o.mountedCard&&(yield o.releaseCard(o.mountedCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Pr.vfs),!!s.mountImage(0)&&(o.mountedCard=i,o.bytesFree=s.bytesFree(0),o.bytesTotal=s.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var t=this;return(0,be.Z)(function*(){void 0===e||e!==t.mountedCard?.id||((yield t.vfs).unmountImage(0),t.mountedCard=void 0,t.storageCardContext.release(e,Pr.vfs),t.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,be.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||MT()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}error(e){var t=this;return(0,be.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,be.Z)(function*(){t.mountedCard&&(yield t.storageService.updateStorageCardPartial(t.mountedCard.id,{status:yr.dirty}),yield t.releaseCard(),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,be.Z)(function*(){if(!e.mountedCard)return;const t=yield e.vfs,r=t.getImageInSlot(0),o=t.getDirtyPagesForSlot(0);!r||!o||(yield e.storageService.updateCardData(e.mountedCard.id,r,o,Pr.vfs))})()}}Qa.\u0275fac=function(e){return new(e||Qa)(M(jn),M(pa),M(xr))},Qa.\u0275prov=gt({token:Qa,factory:Qa.\u0275fac,providedIn:"root"});var ro=(()=>{return(n=ro||(ro={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",ro;var n})();function TT(){return a0().replace(/-/g,"")}class Us{constructor(e,t,r,o,i,s,a,u,f,m,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=_,this.loading=!0,this.cards=[],this.updateMutex=new fa,this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,be.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function Fj(n){return m0.apply(this,arguments)}(function Bj(n){switch(n){case ro.mb4:return 4;case ro.mb8:return 8;case ro.mb16:return 16;case ro.mb32:return 32;case ro.mb64:return 64;case ro.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:TT(),name:e,size:4*s.length,status:yr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromFile(e,t,r){var o=this;return(0,be.Z)(function*(){const i={storageId:TT(),name:e,size:t.content.length,status:yr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.content.buffer,t.content.byteOffset,t.content.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Pr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,be.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Pr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Pr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,be.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:yr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Pr.cloudpilot)})()}checkCard(e){var t=this;return(0,be.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Pr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,be.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,be.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=yr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,be.Z)(function*(){yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e)})()}saveCard(e,t){var r=this;return(0,be.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,be.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,be.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,be.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,be.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,be.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===yr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Pr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case yr.clean:break;case yr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case yr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case yr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===t?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,be.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Pr.fstools);const i=yield Um.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Pr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:yr.clean}),t.storageCardContext.release(e,Pr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:yr.unformatted}),t.storageCardContext.release(e,Pr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:yr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:yr.unfixable}),t.storageCardContext.release(e,Pr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,be.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Pr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:yr.clean}),r.storageCardContext.release(e,Pr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,be.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield Um.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:yr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:yr.clean}]:[e,{...t,status:yr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:yr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:yr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,be.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:yr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,be.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:yr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,be.Z)(function*(){if(o.vfsService.currentCard()?.id===e)return!0;const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}Us.\u0275fac=function(e){return new(e||Us)(M(ga),M(jn),M(Ji),M(Ai),M(vc),M(ma),M(xr),M(Ts),M(Vs),M(Qa),M(pa))},Us.\u0275prov=gt({token:Us,factory:Us.\u0275fac,providedIn:"root"});class xi extends mj{constructor(e,t,r,o,i,s,a,u,f,m,_,k,P,J,xe,qe,Ke,St){var Ne;super(),Ne=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=_,this.proxyService=k,this.buttonService=P,this.bootstrapService=J,this.cloudpilotService=xe,this.storageCardService=qe,this.storageCardContext=Ke,this.app=St,this.switchSession=_n=>this.mutex.runExclusive((0,be.Z)(function*(){if(_n===Ne.emulationState.getCurrentSession()?.id)return!0;yield Ne.stopUnchecked(),yield Ne.bootstrapService.hasRendered();const Bn=yield Ne.loadingController.create({message:"Loading..."});yield Bn.present();try{const es=yield Ne.storageService.getSession(_n);if(!es)throw new Error(`invalid session ${_n}`);Ne.emulationState.setCurrentSession(void 0);const jm=yield Ne.cloudpilotService.cloudpilot;if(!(yield Ne.restoreSession(es,jm)))return Ne.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ne.emulationState.setCurrentSession(es),function SH(n){localStorage.setItem(Fm,n+"")}(_n)}finally{yield Bn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,be.Z)(function*(){!Ne.emulationState.getCurrentSession()||Ne.running||Ne.errorService.hasFatalError()||!Ne.cloudpilotInstance||(yield Ne.kvsService.mutex.runExclusive(()=>Ne.updateFeatures()),Ne.doResume(),Ne.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,be.Z)(function*(){Ne.doPause(),!Ne.errorService.hasFatalError()&&Ne.emulationState.getCurrentSession()&&(yield Ne.snapshotService.waitForPendingSnapshot(),yield Ne.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([_n,Bn])=>this.mutex.runExclusive((0,be.Z)(function*(){const es=Ne.emulationState.getCurrentSession();_n===es?.id&&(void 0!==es.mountedCard&&void 0===Bn&&Ne.storageCardContext.release(es.mountedCard,Pr.cloudpilot),Ne.emulationState.setCurrentSession(Bn),Ne.emulationState.getCurrentSession()||(JM(),Ne.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,be.Z)(function*(){const _n=Ne.emulationState.getCurrentSession();_n&&Ne.fileService.emergencySaveSession(_n,yield Ne.cloudpilotService.cloudpilot)})),this.mutex=new fa,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(_n=>{_n.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(_n),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ft=function wH(){const n=localStorage.getItem(Fm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ft&&!DD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ft))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Fl.timeout:Fl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,be.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,be.Z)(function*(){try{yield t.switchSession(e)}catch{Bs&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,be.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}xi.\u0275fac=function(e){return new(e||xi)(M(jn),M(dt),M(vc),M(Ji),M(ma),M(Ts),M(Vs),M(xr),M(Ll),M(Ec),M(No),M($l),M(Dc),M(Ic),M(Ai),M(Us),M(pa),M(hl))},xi.\u0275prov=gt({token:xi,factory:xi.\u0275fac,providedIn:"root"});const Bl=new vt(U),jj={connector:()=>new et};function kT(n,e=jj){const{connector:t}=e;return K((r,o)=>{const i=t();Mn(n(function Hj(n){return new vt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function AT(n,e){return e?t=>bf(e.pipe(gs(1),function Wj(){return K((n,e)=>{n.subscribe(Se(e,U))})}()),t.pipe(AT(n))):Vn((t,r)=>Mn(n(t,r)).pipe(gs(1),hv(t)))}const Xf="Service workers are disabled or not supported by this browser";class Hm{constructor(e){if(this.serviceWorker=e,e){const r=vf(e,"controllerchange").pipe(Pe(()=>e.controller)),i=bf(tm(()=>pn(e.controller)),r);this.worker=i.pipe(Jo(m=>!!m)),this.registration=this.worker.pipe(ei(()=>e.getRegistration()));const f=vf(e,"message").pipe(Pe(m=>m.data)).pipe(Jo(m=>m&&m.type)).pipe(function Gj(n){return n?e=>kT(n)(e):e=>function zj(n,e){const t=I(n)?n:()=>n;return I(e)?kT(e,{connector:t}):r=>new fv(r,t)}(new et)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function Zj(n){return tm(()=>Eu(new Error(n)))}(Xf)}postMessage(e,t){return this.worker.pipe(gs(1),ti(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Jo(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(gs(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Jo(t=>t.nonce===e),gs(1),Pe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Kj=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new et,!t.isEnabled)return this.messages=Bl,this.notificationClicks=Bl,void(this.subscription=Bl);this.messages=this.sw.eventsOfType("PUSH").pipe(Pe(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Pe(o=>o.data)),this.pushManager=this.sw.registration.pipe(Pe(o=>o.pushManager));const r=this.pushManager.pipe(ei(o=>o.getSubscription()));this.subscription=Xo(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Xf));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(ei(s=>s.subscribe(r)),gs(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(gs(1),ei(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xf))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Hm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),_0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Bl,this.available=Bl,this.activated=Bl,void(this.unrecoverable=Bl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Jo(r=>"VERSION_READY"===r.type),Pe(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xf));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xf));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(M(Hm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class v0{}const xT=new en("NGSW_REGISTER_SCRIPT");function Yj(n,e,t,r){return()=>{if(!ml(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=pn(null);break;case"registerWithDelay":o=PT(+a[0]||0);break;case"registerWhenStable":o=a[0]?Xo(RT(n),PT(+a[0])):RT(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(dt).runOutsideAngular(()=>o.pipe(gs(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function PT(n){return pn(null).pipe(function qj(n,e=GM){const t=WM(n,e);return AT(()=>t)}(n))}function RT(n){return n.get(hl).isStable.pipe(Jo(t=>t))}function Xj(n,e){return new Hm(ml(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Qj=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:xT,useValue:t},{provide:v0,useValue:r},{provide:Hm,useFactory:Xj,deps:[v0,_u]},{provide:sc,useFactory:Yj,deps:[Zr,xT,v0,_u],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=sr({providers:[Kj,_0]}),n})();class Mc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,be.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==Sc&&(yield s.kvsService.set({version:Sc,previousVersion:a,latestVersion:Sc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Sc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=Sc})),this.mutex=new fa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,be.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,be.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Sc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,be.Z)(function*(){yield(yield e.modalController.create({component:Xa,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Mc.\u0275fac=function(e){return new(e||Mc)(M(No),M(xi),M(xr),M(ys),M(_0))},Mc.\u0275prov=gt({token:Mc,factory:Mc.\u0275fac,providedIn:"root"});class Qf{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}Qf.\u0275fac=function(e){return new(e||Qf)(S(wc),S(Mc),S(Ic))},Qf.\u0275cmp=ut({type:Qf,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"ion-app"),ct(1,"ion-router-outlet"),te())},dependencies:[uM,Hf]});class zu{constructor(){}}zu.\u0275fac=function(e){return new(e||zu)},zu.\u0275cmp=ut({type:zu,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"div"),Ze(1,"Dummy"),te())},encapsulation:2});class Tc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Tc.\u0275fac=function(e){return new(e||Tc)(M(yl),M(bo))},Tc.\u0275prov=gt({token:Tc,factory:Tc.\u0275fac,providedIn:"root"});const b0=ie.m515,e6=c0[2],t6=c0[0],Gu="rgba(0,0,0,0.2)";function FT(n){const e=Zf(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function i6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class s6{constructor(e){this.skin=e,this.layout=FT(b0),this.onResize=new zo.j}get width(){switch(this.getOrientation()){case dr.portrait:case dr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case dr.portrait:case dr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case dr.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case dr.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case dr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,be.Z)(function*(){if(!e)return;t.layout=FT(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,be.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Gu),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Gu),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Gu),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Gu),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Gu),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Gu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case dr.portrait:case void 0:break;case dr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case dr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case dr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,be.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,e6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ie.pegN700c:case ie.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ie.pegS320:case ie.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ie.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ie.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return this.skin.SILKSCREEN_PILOT;case ie.m500:return this.skin.SILKSCREEN_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.SILKSCREEN_M515;case ie.iiic:return this.skin.SILKSCREEN_IIIC;case ie.m100:case ie.m105:case ie.m125:return this.skin.SILKSCREEN_M100;case ie.m130:return this.skin.SILKSCREEN_M130;case ie.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ie.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ie.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case ie.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ie.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ie.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ie.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ie.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ie.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ie.pilot:case ie.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ie.m500:return this.skin.HARD_BUTTONS_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.HARD_BUTTONS_M515;case ie.iiic:return this.skin.HARD_BUTTONS_IIIC;case ie.m100:case ie.m105:return this.skin.HARD_BUTTONS_M100;case ie.m125:return this.skin.HARD_BUTTONS_M125;case ie.m130:return this.skin.HARD_BUTTONS_M130;case ie.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ie.iiie:return this.skin.HARD_BUTTONS_IIIE;case ie.i705:return this.skin.HARD_BUTTONS_I705;case ie.handera330c:case ie.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return u0(this.getDeviceId())?"white":t6}frameColor(){return u0(this.getDeviceId())?"white":"#ccc"}}const u6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function d6(n){const t=o=>function a6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,be.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(fH||Bs)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,be.Z)(function*(){if(!i){const s=(yield n)[o];i=function l6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of u6)r[o]=t(o);return r}class Ja extends s6{constructor(){super(d6(F.e(4363).then(F.bind(F,4363)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,be.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,be.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,be.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??b0}getOrientation(){return this.session?.deviceOrientation??dr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function f6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Zf(this.session?.device??b0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}Ja.\u0275fac=function(e){return new(e||Ja)},Ja.\u0275prov=gt({token:Ja,factory:Ja.\u0275fac,providedIn:"root"});class kc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}kc.\u0275fac=function(e){return new(e||kc)(S(bo),S(Ja),S(Ji))},kc.\u0275cmp=ut({type:kc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(se(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ct(4,"ion-icon",3),se(5,"ion-label"),Ze(6,"Emulator"),te()(),se(7,"ion-tab-button",4),ct(8,"ion-icon",5),se(9,"ion-label"),Ze(10,"Sessions"),te()(),se(11,"ion-tab-button",6),ct(12,"ion-icon",7),se(13,"ion-label"),Ze(14,"Cards"),te()(),se(15,"ion-tab-button",8),ct(16,"ion-icon",9),se(17,"ion-label"),Ze(18,"Settings"),te()(),se(19,"ion-tab-button",10),ct(20,"ion-icon",11),se(21,"ion-label"),Ze(22,"About"),te()()()()()),2&e&&(Je(2),La("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[Wo,Yi,Hv,hM,DM],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class ya{}ya.\u0275fac=function(e){return new(e||ya)},ya.\u0275mod=kr({type:ya}),ya.\u0275inj=sr({imports:[sa,Xv.forChild(),Tl,fc,Jh]});class Wu{}Wu.\u0275fac=function(e){return new(e||Wu)},Wu.\u0275mod=kr({type:Wu}),Wu.\u0275inj=sr({imports:[sa,fc,Tl,ya,Xv.forChild()]});class qu{}qu.\u0275fac=function(e){return new(e||qu)},qu.\u0275mod=kr({type:qu}),qu.\u0275inj=sr({imports:[sa,fc,Tl,ya]});class Zu{}Zu.\u0275fac=function(e){return new(e||Zu)},Zu.\u0275mod=kr({type:Zu}),Zu.\u0275inj=sr({imports:[sa,fc,Tl,Jh,ya]});class Ku{}Ku.\u0275fac=function(e){return new(e||Ku)},Ku.\u0275mod=kr({type:Ku}),Ku.\u0275inj=sr({imports:[sa,fc,Tl,ya,Jh]});class Yu{}function p6(n,e){if(1&n){const t=ur();se(0,"ion-button",1),lt("click",function(){return kt(t),xt(Lt().onClick())}),ct(1,"ion-icon",2),te()}if(2&n){const t=Lt();Je(1),ot("name",t.iconName)}}Yu.\u0275fac=function(e){return new(e||Yu)},Yu.\u0275mod=kr({type:Yu}),Yu.\u0275inj=sr({imports:[sa,Tl,fc,Jh,ya]});class Vl{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Bs?"logo-apple-appstore":XM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function h6(n,e){1&n&&(se(0,"div",11),ct(1,"ion-spinner"),te())}function m6(n,e){1&n&&(se(0,"div"),Ze(1,"app cached for offline use"),te())}Vl.\u0275fac=function(e){return new(e||Vl)(S(wc))},Vl.\u0275cmp=ut({type:Vl,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&nn(0,p6,2,1,"ion-button",0),2&e&&ot("ngIf",t.show)},dependencies:[jo,Wi,Wo]});class Jf{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return Sc}showChangelog(){var e=this;return(0,be.Z)(function*(){yield(yield e.modalController.create({component:Xa,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function g6(n,e){if(1&n&&(se(0,"ion-select-option",17),Ze(1),te()),2&n){const t=e.$implicit;ot("value",t[0]),Je(1),_i("",t[1]," ")}}function y6(n,e){if(1&n&&(se(0,"ion-select-option",17),Ze(1),te()),2&n){const t=e.$implicit;ot("value",t[0]),Je(1),_i("",t[1]," ")}}function _6(n,e){if(1&n&&(se(0,"ion-item",7)(1,"ion-label",8),Ze(2,"Hotsync name"),te(),ct(3,"ion-input",18),te()),2&n){const t=Lt();Je(3),ot("placeholder",t.placeholder)}}Jf.\u0275fac=function(e){return new(e||Jf)(S(ys),S(_0))},Jf.\u0275cmp=ut({type:Jf,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"About"),te(),se(4,"ion-buttons",1),ct(5,"app-pwa-prompt"),te()()(),se(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Ze(10,"About"),te()()(),nn(11,h6,2,0,"div",4),se(12,"div",5)(13,"markdown",6),lt("load",function(){return t.loading=!1}),te()(),se(14,"div",7),Ze(15),ct(16,"br"),se(17,"a",8),lt("click",function(){return t.showChangelog()}),Ze(18,"Changelog"),te(),nn(19,m6,2,0,"div",9),te(),ct(20,"img",10),te()),2&e&&(ot("translucent",!0),Je(11),ot("ngIf",t.loading),Je(4),_i(" CloudpilotEmu version ",t.version," "),Je(4),ot("ngIf",t.serviceWorkerAvailable))},dependencies:[jo,qi,Zi,Ki,Bf,Xi,Qi,Vl,Yv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class Xu{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[dr.portrait,"Portrait"],[dr.landscape90,"Landscape 90\xb0"],[dr.landscape270,"Landscape 270\xb0"],[dr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,fT(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function sj(n){switch(n){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new qh({name:new Go(this.session.name,{validators:[Uh.required,this.validateNameUnique]}),manageHotsyncName:new Go(!this.session.dontManageHotsyncName),hotsyncName:new Go(this.session.hotsyncName||""),device:new Go({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Go((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Go(this.session.deviceOrientation||dr.portrait)})}}Xu.\u0275fac=function(e){return new(e||Xu)(S(ga),S(xr))},Xu.\u0275cmp=ut({type:Xu,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Session settings"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.save()}),Ze(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),Ze(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"h1"),Ze(13,"Session"),te(),se(14,"ion-item",7)(15,"ion-label",8),Ze(16,"Session name"),te(),ct(17,"ion-input",9),te(),se(18,"h1"),Ze(19,"Device"),te(),se(20,"ion-item",7)(21,"ion-label",8),Ze(22,"Device type"),te(),se(23,"ion-select",10),nn(24,g6,2,2,"ion-select-option",11),te()(),se(25,"ion-item",7)(26,"ion-label",8),Ze(27,"Orientation"),te(),se(28,"ion-select",12),nn(29,y6,2,2,"ion-select-option",11),te()(),se(30,"ion-item",7)(31,"ion-label",13),Ze(32),te(),ct(33,"ion-range",14),te(),se(34,"h1"),Ze(35,"Hotsync"),te(),se(36,"ion-item",7)(37,"ion-label"),Ze(38,"Manage hotsync name"),te(),ct(39,"ion-toggle",15),te(),nn(40,_6,4,1,"ion-item",16),te()()),2&e&&(Je(5),ot("disabled",t.formGroup.invalid),Je(6),ot("formGroup",t.formGroup),Je(13),ot("ngForOf",t.deviceList),Je(5),ot("ngForOf",t.orientations),Je(3),ds(t.speedLabel),Je(8),ot("ngIf",t.showHotsyncNameInput))},dependencies:[lc,jo,Wi,qi,Zi,Ki,Ml,qo,Yi,Uv,Mm,Tm,Xi,Vf,Qi,Lu,$f,Il,El,Sl,Cl,uv,aa,za],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class Qu{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,be.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,be.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${f0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(vT(r,e),s)},"Cancel"):t.fileService.saveFile(vT(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}Qu.\u0275fac=function(e){return new(e||Qu)(M(xi),M(vc),M(ma),M(Vs),M(Ji),M(xr),M(Ai))},Qu.\u0275prov=gt({token:Qu,factory:Qu.\u0275fac,providedIn:"root"});const v6=window.AudioContext||window.webkitAudioContext;function w0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class b6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,be.Z)(function*(){if(!t.initialized){try{t.context=new v6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,be.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield w0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield w0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,be.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new fa,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Bs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Bs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,be.Z)(function*(){e.context&&(yield w0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class Ul extends b6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}Ul.\u0275fac=function(e){return new(e||Ul)(M(xi),M(No),M(Ll))},Ul.\u0275prov=gt({token:Ul,factory:Ul.\u0275fac,providedIn:"root"});class Ac{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function S6(n,e){if(1&n){const t=ur();se(0,"ion-item",4),lt("click",function(){return kt(t),xt(Lt().power())}),se(1,"ion-label"),Ze(2,"Power"),te(),ct(3,"ion-icon",5),te()}if(2&n){const t=Lt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function C6(n,e){if(1&n){const t=ur();se(0,"ion-item",4),lt("click",function(){return kt(t),xt(Lt().hotsync())}),se(1,"ion-label"),Ze(2,"Hotsync"),te(),ct(3,"ion-icon",6),te()}if(2&n){const t=Lt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function E6(n,e){if(1&n){const t=ur();se(0,"ion-item",4),lt("click",function(){return kt(t),xt(Lt().reset())}),se(1,"ion-label"),Ze(2,"Reset"),te(),ct(3,"ion-icon",7),te()}if(2&n){const t=Lt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function D6(n,e){if(1&n){const t=ur();se(0,"ion-item",8),lt("click",function(){return kt(t),xt(Lt().insertCard())}),se(1,"ion-label"),Ze(2),te(),ct(3,"ion-icon",9),te()}if(2&n){const t=Lt();ot("detail",!1),Je(2),_i("Insert ",t.hasMemorystick?"stick":"SD card","")}}function I6(n,e){if(1&n){const t=ur();se(0,"ion-item",8),lt("click",function(){return kt(t),xt(Lt().ejectCard())}),se(1,"ion-label"),Ze(2),te(),ct(3,"ion-icon",10),te()}if(2&n){const t=Lt();ot("detail",!1),Je(2),_i("Eject ",t.hasMemorystick?"stick":"SD card","")}}function M6(n,e){if(1&n){const t=ur();se(0,"ion-item",8),lt("click",function(){return kt(t),xt(Lt().mute(!1))}),se(1,"ion-label"),Ze(2,"Enable audio"),te(),ct(3,"ion-icon",11),te()}2&n&&ot("detail",!1)}function T6(n,e){if(1&n){const t=ur();se(0,"ion-item",8),lt("click",function(){return kt(t),xt(Lt().mute(!0))}),se(1,"ion-label"),Ze(2,"Disable audio"),te(),ct(3,"ion-icon",12),te()}2&n&&ot("detail",!1)}function k6(n,e){if(1&n){const t=ur();se(0,"ion-item",4),lt("click",function(){return kt(t),xt(Lt().backup())}),se(1,"ion-label"),Ze(2,"Save backup"),te(),ct(3,"ion-icon",13),te()}if(2&n){const t=Lt();ot("detail",!1)("disabled",t.backupDisabled)}}function A6(n,e){if(1&n){const t=ur();se(0,"ion-item",8),lt("click",function(){return kt(t),xt(Lt().rotate())}),se(1,"ion-label"),Ze(2,"Rotate"),te(),ct(3,"ion-icon",14),te()}2&n&&ot("detail",!1)}function x6(n,e){if(1&n){const t=ur();se(0,"ion-item",8),lt("click",function(){return kt(t),xt(Lt().editSettings())}),se(1,"ion-label"),Ze(2,"Settings"),te(),ct(3,"ion-icon",15),te()}2&n&&ot("detail",!1)}function P6(n){switch(n){case dr.portrait:case void 0:return dr.landscape90;case dr.landscape90:return dr.portrait180;case dr.portrait180:return dr.landscape270;case dr.landscape270:return dr.portrait;default:throw new Error("cannot happen")}}Ac.\u0275fac=function(e){return new(e||Ac)(M(xi),M(dt))},Ac.\u0275prov=gt({token:Ac,factory:Ac.\u0275fac,providedIn:"root"});class ep{constructor(e,t,r,o,i,s,a,u,f,m,_,k,P,J,xe,qe,Ke,St){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=k,this.cloudpilotService=P,this.storageCardService=J,this.alertService=xe,this.alertController=qe,this.storageService=Ke,this.errorService=St,this.showHelp=()=>{}}reset(){var e=this;return(0,be.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,be.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function aj(n){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&pT(e.device)!==Nl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&pT(e.device)===Nl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,be.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:Xu,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,be.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,be.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:P6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,be.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,be.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}ep.\u0275fac=function(e){return new(e||ep)(S(xi),S(Ji),S(Qu),S(Dc),S(zf),S(bc),S(Ul),S(No),S(ys),S(ga),S(Ac),S(Ja),S(Ai),S(Us),S(xr),S(Bu),S(jn),S(Ts))},ep.\u0275cmp=ut({type:ep,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list"),nn(1,S6,4,2,"ion-item",0),nn(2,C6,4,2,"ion-item",0),nn(3,E6,4,2,"ion-item",0),nn(4,D6,4,2,"ion-item",1),nn(5,I6,4,2,"ion-item",1),nn(6,M6,4,1,"ion-item",1),nn(7,T6,4,1,"ion-item",1),nn(8,k6,4,2,"ion-item",0),nn(9,A6,4,1,"ion-item",1),nn(10,x6,4,1,"ion-item",1),se(11,"ion-item",2),lt("click",function(){return t.help()}),se(12,"ion-label"),Ze(13,"Help"),te(),ct(14,"ion-icon",3),te()()),2&e&&(Je(1),ot("ngIf",t.hasActiveSession&&!t.powerDisabled),Je(1),ot("ngIf",t.hasActiveSession),Je(1),ot("ngIf",t.hasActiveSession),Je(1),ot("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Je(1),ot("ngIf",t.supportsStorageCard&&t.hasMountedCard),Je(1),ot("ngIf",t.isMuted&&!t.isAudioOff),Je(1),ot("ngIf",!t.isMuted&&!t.isAudioOff),Je(1),ot("ngIf",t.hasActiveSession),Je(1),ot("ngIf",t.hasActiveSession),Je(1),ot("ngIf",t.hasActiveSession),Je(1),ot("detail",!1))},dependencies:[jo,Wo,qo,Yi,ua]});class R6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class Ju extends R6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function NT(n){return/\.(prc|pdb|pqa)$/i.test(n)}Ju.\u0275fac=function(e){return new(e||Ju)(M(xi),M(Ja),M(Ll),M(dt),M(hl))},Ju.\u0275prov=gt({token:Ju,factory:Ju.\u0275fac,providedIn:"root"});class $6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var e=this;return(0,be.Z)(function*(){for(const t of e.files)if(/\.zip/i.test(t.name)&&t.content.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else NT(t.name)?yield e.installOne(t.name,t.content):e.filesFail.push(t.name);return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,be.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function L6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,be.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(e.content,function(){var o=(0,be.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!NT(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function N6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}class ed{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,be.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new $6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${f0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${f0(e)} require a device reset.`:void 0}}ed.\u0275fac=function(e){return new(e||ed)(M(Ai),M(xi),M(vc),M(ma),M(xr),M(Bu))},ed.\u0275prov=gt({token:ed,factory:ed.\u0275fac,providedIn:"root"});class Hl{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}Hl.\u0275fac=function(e){return new(e||Hl)},Hl.\u0275prov=gt({token:Hl,factory:Hl.\u0275fac,providedIn:"root"});const B6=["canvas"];function V6(n,e){if(1&n){const t=ur();se(0,"ion-button",5),lt("click",function(){return kt(t),xt(Lt().navigation.lock())}),ct(1,"ion-icon",10),te()}}function U6(n,e){if(1&n){const t=ur();se(0,"ion-button",5),lt("click",function(){return kt(t),xt(Lt().navigation.unlock())}),ct(1,"ion-icon",11),te()}}function H6(n,e){if(1&n){const t=ur();se(0,"ion-button",5),lt("click",function(){return kt(t),xt(Lt().showGameModeHint())}),ct(1,"ion-icon",12),te()}}function j6(n,e){if(1&n){const t=ur();se(0,"ion-button",5),lt("click",function(){return kt(t),xt(Lt().showProxyConnectedHint())}),ct(1,"ion-icon",13),te()}}function z6(n,e){if(1&n){const t=ur();se(0,"ion-button",5),lt("click",function(){return kt(t),xt(Lt().showSlowdowndHint())}),ct(1,"ion-icon",14),te()}}function G6(n,e){if(1&n){const t=ur();se(0,"div",15),Ze(1," The device was reset forcefully. How do you want to boot? "),se(2,"ion-button",16),lt("click",function(){return kt(t),xt(Lt().bootAfterForcefulReset())}),Ze(3,"Normal boot"),te(),se(4,"ion-button",16),lt("click",function(){return kt(t),xt(Lt().bootAfterForcefulResetNoExtensions())}),Ze(5,"No extensions"),te(),se(6,"ion-button",16),lt("click",function(){return kt(t),xt(Lt().bootAfterForcefulResetHardReset())}),Ze(7,"Hard reset"),te()()}}function W6(n,e){1&n&&(se(0,"div",15)(1,"div"),Ze(2,"No session selected"),te()())}class tp{constructor(e,t,r,o,i,s,a,u,f,m,_,k,P,J,xe,qe,Ke,St){var Ne=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=_,this.installlationService=k,this.proxyService=P,this.navigation=J,this.linkApi=xe,this.performanceWatchdogService=qe,this.cloudpilotService=Ke,this.dragDropService=St,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,be.Z)(function*(){yield Ne.emulationService.bootstrapComplete(),Ne.boostrapComplete=!0;const Ft=Ne.emulationState.getCurrentSession();Ft&&!Ft.wasResetForcefully&&(yield Ne.launchEmulator()),Ne.linkApi.installation.requestEvent.addHandler(Ne.handleLinkApiInstallationRequest),Ne.handleLinkApiInstallationRequest(),Ne.dragDropService.registerClient(Ne)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Ft=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ft,this.emulationService.getStatistics())},this.onNewFrame=Ft=>{this.canvasDisplayService.updateEmulationCanvas(Ft)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ft=this.linkApi.installation.receivePendingUrl();Ft&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ft} ?`,{OK:()=>this.fileService.openUrl(Ft,Bn=>this.installlationService.installFiles([Bn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ft} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new fa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,be.Z)(function*(){(yield t.popoverController.create({component:ep,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,be.Z)(function*(){yield(yield e.modalController.create({component:Xa,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,be.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,be.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,be.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,be.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,be.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,be.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,be.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,be.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function S0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function LT(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}tp.\u0275fac=function(e){return new(e||tp)(S(xi),S(Ji),S(jn),S(Ju),S(Ja),S(No),S(bc),S(ys),S(xr),S(Vs),S(ma),S(ed),S($l),S(kc),S(yl),S(Ac),S(Ai),S(Hl))},tp.\u0275cmp=ut({type:tp,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&mu(B6,5),2&e){let r;fs(r=ps())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3),te(),se(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.installFiles()}),ct(6,"ion-icon",2),te(),nn(7,V6,2,0,"ion-button",3),nn(8,U6,2,0,"ion-button",3),te(),se(9,"ion-buttons",4)(10,"ion-button",5),lt("click",function(o){return t.openContextMenu(o)}),ct(11,"ion-icon",6),te(),nn(12,H6,2,0,"ion-button",3),nn(13,j6,2,0,"ion-button",3),nn(14,z6,2,0,"ion-button",3),te()()(),se(15,"ion-content")(16,"div",7),lt("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),ct(17,"canvas",null,8),te(),nn(19,G6,8,0,"div",9),nn(20,W6,3,0,"div",9),te()),2&e){let r,o;Je(3),ds(t.title),Je(2),ot("disabled",t.installFileDisabled),Je(2),ot("ngIf",!t.navigation.isLocked()),Je(1),ot("ngIf",t.navigation.isLocked()),Je(4),ot("ngIf",t.eventHandlingService.isGameMode()),Je(1),ot("ngIf",t.proxyService.isConnected()),Je(1),ot("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Je(1),La("locked",t.navigation.isLocked()),Je(1),Gd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Je(1),Gd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Je(2),ot("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Je(1),ot("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[jo,Wi,qi,Zi,Ki,Wo,Xi,Qi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class np{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}np.\u0275fac=function(e){return new(e||np)},np.\u0275cmp=ut({type:np,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),Ze(3," Edit "),te(),se(4,"ion-item",0),lt("click",function(){return t.onSave()}),ct(5,"ion-icon",2),Ze(6," Save "),te(),se(7,"ion-item",0),lt("click",function(){return t.onReset()}),ct(8,"ion-icon",3),Ze(9," Reset "),te(),se(10,"ion-item",4),lt("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),Ze(12," Delete "),te()()),2&e&&(Je(1),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1))},dependencies:[Wo,qo,ua]});const Z6=["slidingItem"];function K6(n,e){if(1&n&&(se(0,"span"),Ze(1),te()),2&n){const t=Lt();Je(1),_i(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class rp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Sn,this.resetSession=new Sn,this.edit=new Sn,this.save=new Sn,this.selectItem=new Sn,this.interaction=new Sn}get device(){return this.session?fT(this.session.device):""}onContextmenu(e){var t=this;return(0,be.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:np,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function q6(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function Y6(n,e){1&n&&(se(0,"div",10),ct(1,"ion-spinner"),te())}function X6(n,e){1&n&&(se(0,"div",11)(1,"div",12),Ze(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ct(3,"br")(4,"br"),Ze(5," You can find a collection of compatible ROMs on "),se(6,"a",13),Ze(7,"PalmDB"),te(),Ze(8,". "),te()())}function Q6(n,e){if(1&n){const t=ur();se(0,"app-session-item",15),lt("delete",function(){const i=kt(t).$implicit;return xt(Lt(2).deleteSession(i))})("selectItem",function(){const i=kt(t).$implicit;return xt(Lt(2).launchSession(i))})("edit",function(){const i=kt(t).$implicit;return xt(Lt(2).editSession(i))})("save",function(){const i=kt(t).$implicit;return xt(Lt(2).saveSession(i))})("resetSession",function(){const i=kt(t).$implicit;return xt(Lt(2).resetSession(i))})("interaction",function(){const i=kt(t).$implicit;return xt(Lt(2).lastSessionTouched=i.id)}),te()}if(2&n){const t=e.$implicit,r=Lt(2);ot("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function J6(n,e){if(1&n&&(se(0,"ion-list"),nn(1,Q6,1,3,"app-session-item",14),te()),2&n){const t=Lt();Je(1),ot("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}rp.\u0275fac=function(e){return new(e||rp)(S(bc))},rp.\u0275cmp=ut({type:rp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&mu(Z6,5),2&e){let r;fs(r=ps())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=ur();se(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),se(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return kt(r),us(1).close(),xt(t.edit.emit(t.session))}),ct(4,"ion-icon",4),te(),se(5,"ion-item-option",5),lt("click",function(){return kt(r),us(1).close(),xt(t.save.emit(t.session))}),ct(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return kt(r),us(1).close(),xt(t.resetSession.emit(t.session))}),ct(9,"ion-icon",9),te(),se(10,"ion-item-option",10),lt("click",function(){return kt(r),us(1).close(),xt(t.delete.emit(t.session))}),ct(11,"ion-icon",11),te()(),se(12,"ion-item",12),lt("click",function(){return t.selectItem.emit()}),se(13,"ion-label")(14,"h2"),Ze(15),te(),se(16,"p"),Ze(17),nn(18,K6,2,1,"span",13),te()()()()}2&e&&(Je(12),ot("color",t.color),Je(1),La("in-item-color",t.selected),Je(2),ds(null==t.session?null:t.session.name),Je(2),qd("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Je(1),ot("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[jo,Wo,qo,Em,Dm,Im,Yi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class _a{constructor(e,t,r,o,i,s,a,u,f,m,_,k,P){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=k,this.cd=P,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const J=this.linkApi.import.receivePendingUrl();J&&this.alertService.message("Import request",`Do you want to import<br>${J} ?`,{OK:()=>this.fileService.openUrl(J,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=S0(P,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,be.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,be.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!MT()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,be.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,be.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,be.Z)(function*(){yield(yield e.modalController.create({component:Xa,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,be.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(r){const o={name:t.disambiguateSessionName(r.metadata?.name??e.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield t.editSettings(o)){const i=yield t.sessionService.addSessionFromImage(r,o.name,o);t.lastSessionTouched=i.id}}else{const o=(yield t.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!o)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const i={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield t.editSettings(i,o.supportedDevices)){const s=yield t.sessionService.addSessionFromRom(e.content,i.name,i.device,i);t.lastSessionTouched=s.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:Xu,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return LT(e,r=>t.some(o=>o.name===r))}}function e5(n,e){1&n&&(se(0,"ion-item",8)(1,"ion-label"),Ze(2,"Clipboard integration"),te(),ct(3,"ion-toggle",17),te())}function t5(n,e){if(1&n){const t=ur();se(0,"ion-item",8)(1,"ion-label",18),Ze(2,"Proxy server"),te(),se(3,"div",19),ct(4,"ion-input",20),se(5,"ion-button",21),lt("click",function(o){kt(t);const i=Lt();return o.preventDefault(),o.stopPropagation(),xt(i.testProxyConnection())})("touchstart",function(o){kt(t);const i=Lt();return o.preventDefault(),o.stopPropagation(),xt(i.testProxyConnection())}),Ze(6," Test "),te()()()}if(2&n){const t=Lt();Je(5),ot("disabled",!t.proxyServerValid)}}_a.\u0275fac=function(e){return new(e||_a)(S(ga),S(Vs),S(Bu),S(xr),S(xi),S(Ji),S(jn),S(ys),S(yl),S(bo),S(Ai),S(Hl),S(It))},_a.\u0275cmp=ut({type:_a,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Sessions"),te(),se(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.importSession()}),ct(6,"ion-icon",2),te()(),se(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),te(),ct(10,"app-pwa-prompt"),te()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ze(15,"Sessions"),te()()(),nn(16,Y6,2,0,"div",7),nn(17,X6,9,0,"div",8),nn(18,J6,2,2,"ion-list",9),te()),2&e&&(Je(16),ot("ngIf",t.sessionService.isLoading()),Je(1),ot("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Je(1),ot("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[lc,jo,Wi,qi,Zi,Ki,Wo,ua,Bf,Xi,Qi,Vl,rp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),Z([oi()],_a.prototype,"deleteSession",null),Z([oi()],_a.prototype,"editSession",null),Z([oi()],_a.prototype,"saveSession",null),Z([oi()],_a.prototype,"launchSession",null),Z([oi()],_a.prototype,"resetSession",null);class op{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,be.Z)(function*(){yield(yield e.modalController.create({component:Xa,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,be.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,be.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new qh({volume:new Go(this.kvsService.kvs.volume),showStatistics:new Go(this.kvsService.kvs.showStatistics),runHidden:new Go(this.kvsService.kvs.runHidden),clipboardIntegration:new Go(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Go(this.kvsService.kvs.networkRedirection),proxyServer:new Go(this.kvsService.kvs.proxyServer,{validators:[kj]}),autoLockUI:new Go(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Go(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Go(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}op.\u0275fac=function(e){return new(e||op)(S(ys),S(No),S(Ec),S(xr),S($l))},op.\u0275cmp=ut({type:op,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Settings"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.showHelp()}),ct(6,"ion-icon",3),te(),ct(7,"app-pwa-prompt"),te()()(),se(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Ze(12,"Settings"),te()()(),se(13,"div",6)(14,"form",7)(15,"h1"),Ze(16,"Emulation"),te(),se(17,"ion-item",8)(18,"ion-label"),Ze(19,"Volume"),te(),ct(20,"ion-range",9),te(),se(21,"ion-item",8)(22,"ion-label"),Ze(23,"Enable audio on start"),te(),ct(24,"ion-toggle",10),te(),se(25,"ion-item",8)(26,"ion-label"),Ze(27,"Run when hidden"),te(),ct(28,"ion-toggle",11),te(),se(29,"h1"),Ze(30,"Host integration"),te(),nn(31,e5,4,0,"ion-item",12),se(32,"ion-item",8)(33,"ion-label"),Ze(34,"Network redirection"),te(),ct(35,"ion-toggle",13),te(),nn(36,t5,7,1,"ion-item",12),se(37,"h1"),Ze(38,"UI"),te(),se(39,"ion-item",8)(40,"ion-label"),Ze(41,"Auto-lock UI"),te(),ct(42,"ion-toggle",14),te(),se(43,"ion-item",8)(44,"ion-label"),Ze(45,"Show statistics"),te(),ct(46,"ion-toggle",15),te(),se(47,"ion-item",8)(48,"ion-label"),Ze(49,"Open from remote sources"),te(),ct(50,"ion-toggle",16),te()()()()),2&e&&(ot("translucent",!0),Je(14),ot("formGroup",t.formGroup),Je(17),ot("ngIf",t.clipboardService.isSupported()),Je(5),ot("ngIf",t.showProxyServer))},dependencies:[jo,El,Sl,Cl,Wi,qi,Zi,Ki,Wo,Ml,qo,Yi,Uv,Xi,Vf,Qi,Lu,$f,Il,Vl,aa,za],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class xc{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function n5(n,e){1&n&&(se(0,"div",14)(1,"b"),Ze(2,"WARNING:"),te(),Ze(3," This image cannot be used as a memory stick image."),te())}xc.\u0275fac=function(e){return new(e||xc)},xc.\u0275pipe=oo({name:"cardSize",type:xc,pure:!0});class td{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new uc({name:new hs("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique]}),size:new hs({value:"dummy",disabled:!0}),checkAutomatically:new hs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function r5(n,e){if(1&n&&(se(0,"ion-select-option",13),Ze(1),na(2,"cardSize"),te()),2&n){const t=e.$implicit,r=Lt();ot("value",t),Je(1),_i("",ra(2,2,r.sizeBytes(t))," ")}}td.\u0275fac=function(e){return new(e||td)(S(Us))},td.\u0275cmp=ut({type:td,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.save()}),Ze(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),Ze(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Card name"),te(),ct(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"ion-label",8),Ze(18,"Card size"),te(),se(19,"ion-select",10)(20,"ion-select-option",11),Ze(21),na(22,"cardSize"),te()()(),se(23,"ion-item",7)(24,"ion-label"),Ze(25,"Check for errors automatically"),te(),ct(26,"ion-toggle",12),te()(),nn(27,n5,4,0,"div",13),te()),2&e&&(Je(3),ds(t.newCard?"New memory card":"Edit memory card"),Je(2),ot("disabled",t.formGroup.invalid),Je(6),ot("formGroup",t.formGroup),Je(10),_i("",ra(22,5,null==t.card?null:t.card.size)," "),Je(6),ot("ngIf",!t.memoryStickSupported))},dependencies:[jo,Wi,qi,Zi,Ki,Ml,qo,Yi,Mm,Tm,Xi,Vf,Qi,Lu,$f,Il,El,Sl,Cl,aa,za,xc],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const o5=[ro.mb4,ro.mb8,ro.mb16,ro.mb32,ro.mb64,ro.mb128];class ip{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new uc({name:new hs("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique]}),size:new hs(ro.mb32,{nonNullable:!0}),checkAutomatically:new hs(!0,{nonNullable:!0})})}get sizes(){return o5}sizeBytes(e){return function Vj(n){switch(n){case ro.mb4:return 4046848;case ro.mb8:return 8110080;case ro.mb16:return 16220160;case ro.mb32:return 32473088;case ro.mb64:return 64978944;case ro.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}ip.\u0275fac=function(e){return new(e||ip)(S(Us))},ip.\u0275cmp=ut({type:ip,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"New memory card"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.create()}),Ze(6,"Create"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),Ze(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Card name"),te(),ct(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"ion-label",8),Ze(18,"Card size"),te(),se(19,"ion-select",10),nn(20,r5,3,4,"ion-select-option",11),te()(),se(21,"ion-item",7)(22,"ion-label"),Ze(23,"Check for errors automatically"),te(),ct(24,"ion-toggle",12),te()()()),2&e&&(Je(5),ot("disabled",t.formGroup.invalid),Je(6),ot("formGroup",t.formGroup),Je(9),ot("ngForOf",t.sizes))},dependencies:[lc,Wi,qi,Zi,Ki,Ml,qo,Yi,Mm,Tm,Xi,Vf,Qi,Lu,$f,Il,El,Sl,Cl,aa,za,xc]});class sp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}sp.\u0275fac=function(e){return new(e||sp)},sp.\u0275cmp=ut({type:sp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),Ze(3," Edit "),te(),se(4,"ion-item",0),lt("click",function(){return t.onSave()}),ct(5,"ion-icon",2),Ze(6," Save "),te(),se(7,"ion-item",0),lt("click",function(){return t.onCheck()}),ct(8,"ion-icon",3),Ze(9," Check "),te(),se(10,"ion-item",4),lt("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),Ze(12," Delete "),te()()),2&e&&(Je(1),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1))},dependencies:[Wo,qo,ua]});class ap{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new Sn,this.selectCard=new Sn,this.edit=new Sn,this.check=new Sn,this.delete=new Sn,this.save=new Sn}onContextmenu(e){var t=this;return(0,be.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:sp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case yr.dirty:return"needs check";case yr.clean:return"no errors";case yr.unformatted:return"no filesystem";case yr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function i5(n,e){1&n&&(se(0,"div",10),ct(1,"ion-spinner"),te())}function s5(n,e){1&n&&(se(0,"div",11)(1,"div",12),Ze(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),te()())}function a5(n,e){if(1&n){const t=ur();se(0,"app-storage-card",14),lt("delete",function(){const i=kt(t).$implicit;return xt(Lt(2).deleteCard(i))})("selectCard",function(){const i=kt(t).$implicit;return xt(Lt(2).selectCard(i))})("edit",function(){const i=kt(t).$implicit;return xt(Lt(2).editCard(i))})("check",function(){const i=kt(t).$implicit;return xt(Lt(2).checkCard(i))})("interaction",function(){const i=kt(t).$implicit;return xt(Lt(2).lastCardTouched=i.id)})("save",function(){const i=kt(t).$implicit;return xt(Lt(2).saveCard(i))}),te()}if(2&n){const t=e.$implicit,r=Lt(2);ot("card",t)("touched",t.id===r.lastCardTouched)}}function l5(n,e){if(1&n&&(se(0,"ion-list"),nn(1,a5,1,2,"app-storage-card",13),te()),2&n){const t=Lt();Je(1),ot("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}ap.\u0275fac=function(e){return new(e||ap)(S(Us),S(bc))},ap.\u0275cmp=ut({type:ap,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=ur();se(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return kt(r),us(1).close(),xt(t.edit.emit(t.card))}),ct(4,"ion-icon",4),te(),se(5,"ion-item-option",5),lt("click",function(){return kt(r),us(1).close(),xt(t.save.emit(t.card))}),ct(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return kt(r),us(1).close(),xt(t.check.emit(t.card))}),ct(9,"ion-icon",9),te(),se(10,"ion-item-option",10),lt("click",function(){return kt(r),us(1).close(),xt(t.delete.emit(t.card))}),ct(11,"ion-icon",11),te()(),se(12,"ion-item",12),lt("click",function(){return t.selectCard.emit(),t.interaction.emit()}),se(13,"ion-label")(14,"h2"),Ze(15),te(),se(16,"p"),Ze(17),na(18,"cardSize"),te()()()()}2&e&&(Je(12),ot("color",t.color),Je(3),ds(null==t.card?null:t.card.name),Je(2),qd("",ra(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[Wo,qo,Em,Dm,Im,Yi,xc],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Hs{constructor(e,t,r,o,i,s,a,u,f,m){var _=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.dragDropService=f,this.handleCardImport=function(){var k=(0,be.Z)(function*(P){const xe=(yield _.cloudpilotService.cloudpilot).getCardSupportLevel(P.content.length);if(0===xe)return void _.alertService.errorMessage("This is not a supported card image.");const qe=yield new Promise(function(){var Ke=(0,be.Z)(function*(St){const Ne=yield _.modalController.create({component:td,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(P.name),size:P.content.length},cardSupportLevel:xe,newCard:!0,onCancel:()=>{Ne.dismiss(),St(void 0)},onSave:Ft=>{St(Ft),Ne.dismiss()}}});yield Ne.present()});return function(St){return Ke.apply(this,arguments)}}());qe&&(yield _.storageCardService.createCardFromFile(qe.name,P,!!qe.dontFsckAutomatically))});return function(P){return k.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=S0(m,[],()=>this.storageCardService.getAllCards())}ngDoCheck(){this.checkCards()}ionViewDidEnter(){this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this)}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,be.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,be.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,be.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:td,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,be.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${d0(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,be.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,be.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,be.Z)(function*(){const t=yield e.modalController.create({component:ip,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,be.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return LT(e,r=>t.some(o=>o.name===r))}}function c5(n,e){1&n&&ct(0,"ion-icon",8)}function u5(n,e){1&n&&ct(0,"ion-icon",9)}function d5(n,e){1&n&&ct(0,"ion-icon",10)}function f5(n,e){if(1&n){const t=ur();se(0,"ion-item",2),lt("click",function(){const i=kt(t).index;return xt(Lt(2).onSelect(i))}),Hd(1,3),nn(2,c5,1,0,"ion-icon",4),nn(3,u5,1,0,"ion-icon",5),nn(4,d5,1,0,"ion-icon",6),jd(),se(5,"div",7),Ze(6),te()()}if(2&n){const t=e.$implicit,r=e.index,o=Lt(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Je(1),ot("ngSwitch",o.entries.length),Je(1),ot("ngSwitchCase",r+1),Je(1),ot("ngSwitchCase",r+2),Je(3),ds(t)}}function p5(n,e){if(1&n&&(se(0,"ion-list"),nn(1,f5,7,6,"ion-item",1),te()),2&n){const t=Lt();Je(1),ot("ngForOf",t.entries)}}Hs.\u0275fac=function(e){return new(e||Hs)(S(zf),S(Us),S(ys),S(Bu),S(Ai),S(xr),S(Ts),S(Vs),S(Hl),S(It))},Hs.\u0275cmp=ut({type:Hs,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Memory cards"),te(),se(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.addCardImage()}),ct(6,"ion-icon",2),te()(),se(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),te(),ct(10,"app-pwa-prompt"),te()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ze(15,"Memory cards"),te()()(),nn(16,i5,2,0,"div",7),nn(17,s5,3,0,"div",8),nn(18,l5,2,2,"ion-list",9),te()),2&e&&(Je(16),ot("ngIf",t.storageCardService.isLoading()),Je(1),ot("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Je(1),ot("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[lc,jo,Wi,qi,Zi,Ki,Wo,ua,Bf,Xi,Qi,Vl,ap],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),Z([oi()],Hs.prototype,"addCardImage",null),Z([oi()],Hs.prototype,"selectCard",null),Z([oi()],Hs.prototype,"editCard",null),Z([oi()],Hs.prototype,"saveCard",null),Z([oi()],Hs.prototype,"checkCard",null),Z([oi()],Hs.prototype,"deleteCard",null);class lp{constructor(){this.onSelect=()=>{}}}lp.\u0275fac=function(e){return new(e||lp)},lp.\u0275cmp=ut({type:lp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&nn(0,p5,2,1,"ion-list",0),2&e&&ot("ngIf",t.entries)},dependencies:[lc,jo,xh,qE,ZE,Wo,qo,ua],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class cp{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}cp.\u0275fac=function(e){return new(e||cp)},cp.\u0275cmp=ut({type:cp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onStartSelection()}),ct(2,"ion-icon",1),Ze(3," Start selection "),te(),se(4,"ion-item",2),lt("click",function(){return t.onAddFiles()}),ct(5,"ion-icon",3),Ze(6," Add files "),te(),se(7,"ion-item",2),lt("click",function(){return t.onCreateDirectry()}),ct(8,"ion-icon",4),Ze(9," Add directory "),te(),se(10,"ion-item",2),lt("click",function(){return t.onExtractZipfile()}),ct(11,"ion-icon",5),Ze(12," Extract zip "),te(),se(13,"ion-item",0),lt("click",function(){return t.onPaste()}),ct(14,"ion-icon",6),Ze(15," Paste "),te(),se(16,"ion-item",7),lt("click",function(){return t.onHelp()}),ct(17,"ion-icon",8),Ze(18," Help "),te()()),2&e&&(Je(1),ot("detail",!1)("disabled",t.emptyDirectory),Je(3),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1)("disabled",!0),Je(3),ot("detail",!1))},dependencies:[Wo,qo,ua]});class Pc{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new uc({name:new hs("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new hs(!1,{nonNullable:!0}),attrHidden:new hs(!1,{nonNullable:!0}),attrSystem:new hs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,be.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,be.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,be.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}function $T(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}Pc.\u0275fac=function(e){return new(e||Pc)(S(ys),S(Qa))},Pc.\u0275cmp=ut({type:Pc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.onSaveClick()}),Ze(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancelClick()}),Ze(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),Ze(14),te(),ct(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"h2"),Ze(18,"Attributes"),te()(),se(19,"ion-item",7)(20,"ion-label"),ct(21,"ion-icon",10),Ze(22,"Readonly"),te(),ct(23,"ion-checkbox",11),te(),se(24,"ion-item",7)(25,"ion-label"),ct(26,"ion-icon",12),Ze(27,"Hidden"),te(),ct(28,"ion-checkbox",13),te(),se(29,"ion-item",7)(30,"ion-label"),ct(31,"ion-icon",14),Ze(32,"System"),te(),ct(33,"ion-checkbox",15),te()()()),2&e&&(Je(3),_i("Edit ",t.subjectName.toLowerCase(),""),Je(2),ot("disabled",t.formGroup.invalid),Je(6),ot("formGroup",t.formGroup),Je(3),_i("",t.subjectName," name"),Je(1),sh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[Wi,qi,fM,Zi,Ki,Wo,Ml,qo,Yi,Xi,Qi,Lu,Il,El,Sl,Cl,aa,za],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),Z([oi()],Pc.prototype,"onSaveClick",null),Z([oi()],Pc.prototype,"onEnter",null);class up{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=ut({type:up,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),Ze(3," Edit "),te(),se(4,"ion-item",0),lt("click",function(){return t.onSave()}),ct(5,"ion-icon",2),Ze(6," Save "),te(),se(7,"ion-item",0),lt("click",function(){return t.onCopy()}),ct(8,"ion-icon",3),Ze(9," Copy "),te(),se(10,"ion-item",0),lt("click",function(){return t.onCut()}),ct(11,"ion-icon",4),Ze(12," Cut "),te(),se(13,"ion-item",5),lt("click",function(){return t.onDelete()}),ct(14,"ion-icon",6),Ze(15," Delete "),te()()),2&e&&(Je(1),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1),Je(3),ot("detail",!1))},dependencies:[Wo,qo,ua]});class nd{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}nd.\u0275fac=function(e){return new(e||nd)},nd.\u0275pipe=oo({name:"fileSize",type:nd,pure:!0});const h5=["slidingItem"];function m5(n,e){1&n&&ct(0,"ion-icon",21)}function g5(n,e){1&n&&ct(0,"ion-icon",22)}function y5(n,e){1&n&&ct(0,"ion-icon",23)}function _5(n,e){1&n&&ct(0,"ion-icon",24)}function v5(n,e){1&n&&ct(0,"ion-icon",25)}function b5(n,e){1&n&&ct(0,"ion-icon",26)}function w5(n,e){1&n&&ct(0,"ion-icon",27)}function S5(n,e){if(1&n&&(Hd(0),Ze(1),na(2,"fileSize"),jd()),2&n){const t=Lt();Je(1),_i(" - ",ra(2,1,null==t.entry?null:t.entry.size)," ")}}class dp{constructor(e,t){this.actionSheetController=e,this.popoverController=t,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Sn,this.selectEntry=new Sn,this.editEntry=new Sn,this.copyEntry=new Sn,this.cutEntry=new Sn,this.deleteEntry=new Sn,this.saveEntry=new Sn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,be.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:up,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,be.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function C5(n,e){if(1&n){const t=ur();se(0,"ion-toolbar")(1,"ion-title",5),lt("click",function(o){return kt(t),xt(Lt().openBreadcrumbMenu(o))}),se(2,"div",6)(3,"div",7),Ze(4),te(),ct(5,"div",8),te()(),se(6,"ion-buttons",9),ct(7,"ion-back-button"),te(),se(8,"ion-buttons",10)(9,"ion-button",11),lt("click",function(o){return kt(t),xt(Lt().openContextMenu(o))}),ct(10,"ion-icon",12),te()()()}if(2&n){const t=Lt();Je(1),ot("id",t.breadcrumbTriggerId),Je(3),ds(t.title)}}function E5(n,e){if(1&n){const t=ur();se(0,"ion-buttons",14)(1,"ion-button",11),lt("click",function(){return kt(t),xt(Lt(2).onSelectAll())}),Ze(2,"Select all"),te()()}}function D5(n,e){if(1&n){const t=ur();se(0,"ion-buttons",14)(1,"ion-button",11),lt("click",function(){return kt(t),xt(Lt(2).selection.clear())}),Ze(2,"Clear"),te()()}}function I5(n,e){if(1&n){const t=ur();se(0,"ion-toolbar")(1,"ion-title"),Ze(2,"Selection"),te(),se(3,"ion-buttons",10)(4,"ion-button",11),lt("click",function(){return kt(t),xt(Lt().onSelectionDone())}),Ze(5),te()(),nn(6,E5,3,0,"ion-buttons",13),nn(7,D5,3,0,"ion-buttons",13),te()}if(2&n){const t=Lt();Je(5),ds(0===t.selection.size?"Cancel":"Done"),Je(1),ot("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Je(1),ot("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function M5(n,e){if(1&n&&(se(0,"div",15)(1,"div",16),Ze(2),te()()),2&n){const t=Lt();Je(2),_i(" empty ",t.isRoot?"card":"directory"," ")}}function T5(n,e){if(1&n){const t=ur();se(0,"app-file-entry",17),lt("selectEntry",function(){const i=kt(t).$implicit;return xt(Lt().onSelect(i))})("editEntry",function(){const i=kt(t).$implicit;return xt(Lt().onEditEntry(i))})("saveEntry",function(){const i=kt(t).$implicit;return xt(Lt().onSaveEntry(i))})("copyEntry",function(){const i=kt(t).$implicit;return xt(Lt().onCopyEntry(i))})("cutEntry",function(){const i=kt(t).$implicit;return xt(Lt().onCutEntry(i))})("deleteEntry",function(){const i=kt(t).$implicit;return xt(Lt().onDeleteEntry(i))})("interaction",function(){const i=kt(t).$implicit;return xt(Lt().lastEntryTouched=i.name)}),te()}if(2&n){const t=e.$implicit,r=Lt();ot("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function k5(n,e){if(1&n&&(se(0,"p"),Ze(1),na(2,"fileSize"),na(3,"fileSize"),te()),2&n){const t=Lt(2);Je(1),qd(" ",ra(2,2,t.bytesFree)," free, ",ra(3,4,t.bytesTotal)," total ")}}function A5(n,e){if(1&n&&(se(0,"p"),Ze(1),na(2,"fileSize"),te()),2&n){const t=Lt(2);Je(1),Ty(" ",ra(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function x5(n,e){if(1&n&&(se(0,"ion-item",18)(1,"ion-label"),nn(2,k5,4,6,"p",0),nn(3,A5,3,5,"p",0),te()()),2&n){const t=Lt();Je(2),ot("ngIf",t.isRoot),Je(1),ot("ngIf",t.fileCount>0)}}function P5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}dp.\u0275fac=function(e){return new(e||dp)(S(zf),S(bc))},dp.\u0275cmp=ut({type:dp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&mu(h5,5),2&e){let r;fs(r=ps())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[mo],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=ur();se(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return kt(r),us(1).close(),xt(t.editEntry.emit(t.entry))}),ct(4,"ion-icon",4),te(),se(5,"ion-item-option",5),lt("click",function(){return kt(r),us(1).close(),xt(t.saveEntry.emit(t.entry))}),ct(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return kt(r),us(1).close(),xt(t.cutOrCopyEntry())}),ct(9,"ion-icon",9),te(),se(10,"ion-item-option",10),lt("click",function(){return kt(r),us(1).close(),xt(t.deleteEntry.emit(t.entry))}),ct(11,"ion-icon",11),te()(),se(12,"ion-item",12),lt("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),nn(13,m5,1,0,"ion-icon",13),nn(14,g5,1,0,"ion-icon",14),nn(15,y5,1,0,"ion-icon",15),nn(16,_5,1,0,"ion-icon",16),nn(17,v5,1,0,"ion-icon",17),nn(18,b5,1,0,"ion-icon",18),nn(19,w5,1,0,"ion-icon",19),se(20,"ion-label")(21,"h2"),Ze(22),te(),se(23,"p"),Ze(24),nn(25,S5,3,3,"ng-container",20),te()()()()}2&e&&(ot("disabled",t.selecting),Je(12),Gd("opacity",t.touched?1:.99999),La("is-directory",null==t.entry?null:t.entry.isDirectory),ot("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Je(1),ot("ngIf",null==t.entry?null:t.entry.isDirectory),Je(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Je(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Je(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Je(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Je(1),ot("ngIf",t.selecting&&!t.selected),Je(1),ot("ngIf",t.selecting&&t.selected),Je(3),ds(null==t.entry?null:t.entry.name),Je(2),_i(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Je(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[jo,Wo,qo,Em,Dm,Im,Yi,nd],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let R5=0;class Rc{constructor(e,t,r,o,i,s,a){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.cd=a,this.bytesInFilesMemoized=$T(u=>u?.reduce((f,m)=>f+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=$T(u=>u?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+R5++,this.checkEntries=S0(a,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngDoCheck(){this.checkEntries()}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(P5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,be.Z)(function*(){yield(yield t.modalController.create({component:Pc,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){this.alertService.message("Not implemented",`Save ${e.name}: not implemented.`)}onCopyEntry(e){this.alertService.message("Not implemented",`Copy ${e.name}: not implemented.`)}onCutEntry(e){this.alertService.message("Not implemented",`Cut ${e.name}: not implemented.`)}onDeleteEntry(e){this.alertService.message("Not implemented",`Delete ${e.name}: not implemented.`)}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,be.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){this.alertService.message("Not implemented","Save zip: not implemented.")}onDeleteSelection(){this.alertService.message("Not implemented","Delete selection: not implemented.")}openBreadcrumbMenu(e){var t=this;return(0,be.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:lp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,be.Z)(function*(){(yield t.popoverController.create({component:cp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}}Rc.\u0275fac=function(e){return new(e||Rc)(S(Qa),S(bc),S(zv),S(xr),S(zf),S(ys),S(It))},Rc.\u0275cmp=ut({type:Rc,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(se(0,"ion-header"),nn(1,C5,11,2,"ion-toolbar",0),nn(2,I5,8,3,"ion-toolbar",0),te(),se(3,"ion-content")(4,"div",1),nn(5,M5,3,1,"div",2),se(6,"ion-list"),nn(7,T5,1,4,"app-file-entry",3),nn(8,x5,4,2,"ion-item",4),te()()()),2&e&&(Je(1),ot("ngIf","browse"===t.mode),Je(1),ot("ngIf","select"===t.mode),Je(3),ot("ngIf",0===(null==t.entries?null:t.entries.length)),Je(2),ot("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Je(1),ot("ngIf",t.isRoot||t.fileCount>0))},dependencies:[lc,jo,dM,Wi,qi,Zi,Ki,Wo,qo,Yi,ua,Xi,Qi,IM,dp,nd],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),Z([oi()],Rc.prototype,"onSelectionDone",null);const F5=["nav"];class fp{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:t=>this.browseCard(t)},this.onNavigate=t=>{this.currentlyBrowsingCard&&this.nav?.push(Rc,{card:this.currentlyBrowsingCard,path:t,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})},this.onNavigateBreadcrumb=t=>{this.currentlyBrowsingCard&&this.nav?.popTo(t)},this.navRoot=Hs,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Rc,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}fp.\u0275fac=function(e){return new(e||fp)(S(Qa))},fp.\u0275cmp=ut({type:fp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&mu(F5,5),2&e){let r;fs(r=ps())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&ct(0,"ion-nav",0,1),2&e&&ot("animated",!0)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[pM,MM]});const O5=[{path:"tab",component:kc,children:[{path:"emulation",component:tp},{path:"sessions",component:_a},{path:"storage",component:fp},{path:"settings",component:op},{path:"about",component:Jf},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class rd{}rd.\u0275fac=function(e){return new(e||rd)},rd.\u0275mod=kr({type:rd}),rd.\u0275inj=sr({imports:[Cm.forChild(O5),Cm]});class od{}od.\u0275fac=function(e){return new(e||od)},od.\u0275mod=kr({type:od}),od.\u0275inj=sr({imports:[Tl,sa,fc,rd,qu,Zu,Ku,Yu,Wu]});class Fc extends xE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}Fc.\u0275fac=function(){let n;return function(t){return(n||(n=Ho(Fc)))(t||Fc)}}(),Fc.\u0275prov=gt({token:Fc,factory:Fc.\u0275fac});const N5=[{path:"install",component:zu,canActivate:[Tc]},{path:"import",component:zu,canActivate:[Tc]},{path:"",component:kc}];class id{}id.\u0275fac=function(e){return new(e||id)},id.\u0275mod=kr({type:id}),id.\u0275inj=sr({providers:[{provide:ia,useClass:Fc}],imports:[Cm.forRoot(N5,{preloadingStrategy:RB,useHash:!0}),od,Cm]});const BT=["touch","click","keydown"];class sd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,be.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{BT.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};BT.forEach(r=>window.addEventListener(r,t,!0))})()}}sd.\u0275fac=function(e){return new(e||sd)(M(No),M(Ul))},sd.\u0275prov=gt({token:sd,factory:sd.\u0275fac,providedIn:"root"});class ad{constructor(e,t,r,o,i,s,a){}}ad.\u0275fac=function(e){return new(e||ad)(M(jn),M(xi),M(Ul),M(ga),M(No),M(Mc),M(sd))},ad.\u0275mod=kr({type:ad,bootstrap:[Qf]}),ad.\u0275inj=sr({providers:[{provide:KI,useClass:class AU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:sc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[No]}],imports:[AL,Tl.forRoot(),id,Qj.register("ngsw-worker.js",{enabled:!0}),Xv.forRoot({loader:U_,markedOptions:{provide:qM,useFactory:()=>{const n=new Uu;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),u3]}),window.global=window,function UL(){Nh=ED("#/install?"),Lh=ED("#/import?")}(),function bH(){return!!localStorage.getItem(Fm)}()&&!DD()||function HL(){return void 0!==Nh}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),kL().bootstrapModule(ad).catch(n=>console.log(n))},3272:$e=>{var F,Ge=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,ee,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(l,h){re=l,ee=h});var G,Re,Le,W=Object.assign({},c),Q=[],B="./this.program",H=(l,h)=>{throw h},ce="object"==typeof window,X="function"==typeof importScripts,U=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||X)&&(X?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),F&&(U=F),U=0!==U.indexOf("blob:")?U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},X&&(Le=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Re=(l,h,v)=>{var x=new XMLHttpRequest;x.open("GET",l,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?h(x.response):v()},x.onerror=v,x.send(null)});var de,q=c.print||console.log.bind(console),Y=c.printErr||console.warn.bind(console);Object.assign(c,W),W=null,c.arguments&&(Q=c.arguments),c.thisProgram&&(B=c.thisProgram),c.quit&&(H=c.quit),c.wasmBinary&&(de=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&Yn("no native wasm support detected");var ue,le,it=!1;function Ee(l,h){l||Yn(h)}var He,Xe,vt,N,ge,tt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(l,h,v){for(var x=h+v,z=h;l[z]&&!(z>=x);)++z;if(z-h>16&&l.buffer&&Ie)return Ie.decode(l.subarray(h,z));for(var Ce="";h<z;){var Me=l[h++];if(128&Me){var je=63&l[h++];if(192!=(224&Me)){var bt=63&l[h++];if((Me=224==(240&Me)?(15&Me)<<12|je<<6|bt:(7&Me)<<18|je<<12|bt<<6|63&l[h++])<65536)Ce+=String.fromCharCode(Me);else{var Jt=Me-65536;Ce+=String.fromCharCode(55296|Jt>>10,56320|1023&Jt)}}else Ce+=String.fromCharCode((31&Me)<<6|je)}else Ce+=String.fromCharCode(Me)}return Ce}function Be(l,h){return l?Ye(vt,l,h):""}function ke(l,h,v,x){if(!(x>0))return 0;for(var z=v,Ce=v+x-1,Me=0;Me<l.length;++Me){var je=l.charCodeAt(Me);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&l.charCodeAt(++Me)),je<=127){if(v>=Ce)break;h[v++]=je}else if(je<=2047){if(v+1>=Ce)break;h[v++]=192|je>>6,h[v++]=128|63&je}else if(je<=65535){if(v+2>=Ce)break;h[v++]=224|je>>12,h[v++]=128|je>>6&63,h[v++]=128|63&je}else{if(v+3>=Ce)break;h[v++]=240|je>>18,h[v++]=128|je>>12&63,h[v++]=128|je>>6&63,h[v++]=128|63&je}}return h[v]=0,v-z}function ne(l){for(var h=0,v=0;v<l.length;++v){var x=l.charCodeAt(v);x<=127?h++:x<=2047?h+=2:x>=55296&&x<=57343?(h+=4,++v):h+=3}return h}function Ue(l){He=l,c.HEAP8=Xe=new Int8Array(l),c.HEAP16=new Int16Array(l),c.HEAP32=N=new Int32Array(l),c.HEAPU8=vt=new Uint8Array(l),c.HEAPU16=new Uint16Array(l),c.HEAPU32=ge=new Uint32Array(l),c.HEAPF32=new Float32Array(l),c.HEAPF64=tt=new Float64Array(l)}var Se,un,pt=[],Pe=[],Tt=[],rn=[],En=0,Yr=null,On=null;function Rr(l){En++,c.monitorRunDependencies&&c.monitorRunDependencies(En)}function vr(l){if(En--,c.monitorRunDependencies&&c.monitorRunDependencies(En),0==En&&(null!==Yr&&(clearInterval(Yr),Yr=null),On)){var h=On;On=null,h()}}function Yn(l){c.onAbort&&c.onAbort(l),Y(l="Aborted("+l+")"),it=!0,le=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw ee(h),h}function jr(l){return l.startsWith("data:application/octet-stream;base64,")}function $r(l){try{if(l==un&&de)return new Uint8Array(de);if(Le)return Le(l);throw"both async and sync fetching of the wasm failed"}catch(h){Yn(h)}}jr(un="cloudpilot_web.wasm")||(un=function V(l){return c.locateFile?c.locateFile(l,U):U+l}(un));var at,ae,ze={243812:l=>{Se.grow(65536);for(let h=0;h<=65535;h++)Se.set(Se.length-65535-1+h,Se.get(ge[(l>>>2)+h]));return Se.length-65535-1}};function xn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function jt(l){for(;l.length>0;)l.shift()(c)}function or(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var dn={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,x=l.length-1;x>=0;x--){var z=l[x];"."===z?l.splice(x,1):".."===z?(l.splice(x,1),v++):v&&(l.splice(x,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=dn.isAbs(l),v="/"===l.substr(-1);return!(l=dn.normalizeArray(l.split("/").filter(x=>!!x),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=dn.splitPath(l),v=h[0],x=h[1];return v||x?(x&&(x=x.substr(0,x.length-1)),v+x):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=dn.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return dn.normalize(l.join("/"))},join2:(l,h)=>dn.normalize(l+"/"+h)},cr={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var x=v>=0?arguments[v]:E.cwd();if("string"!=typeof x)throw new TypeError("Arguments to path.resolve must be strings");if(!x)return"";l=x+"/"+l,h=dn.isAbs(x)}return(h?"/":"")+(l=dn.normalizeArray(l.split("/").filter(z=>!!z),!h).join("/"))||"."},relative:(l,h)=>{function v(Jt){for(var Fn=0;Fn<Jt.length&&""===Jt[Fn];Fn++);for(var Nn=Jt.length-1;Nn>=0&&""===Jt[Nn];Nn--);return Fn>Nn?[]:Jt.slice(Fn,Nn-Fn+1)}l=cr.resolve(l).substr(1),h=cr.resolve(h).substr(1);for(var x=v(l.split("/")),z=v(h.split("/")),Ce=Math.min(x.length,z.length),Me=Ce,je=0;je<Ce;je++)if(x[je]!==z[je]){Me=je;break}var bt=[];for(je=Me;je<x.length;je++)bt.push("..");return(bt=bt.concat(z.slice(Me))).join("/")}};function on(l,h,v){var x=v>0?v:ne(l)+1,z=new Array(x),Ce=ke(l,z,0,z.length);return h&&(z.length=Ce),z}var fr={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){fr.ttys[l]={input:[],output:[],ops:h},E.registerDevice(l,fr.stream_ops)},stream_ops:{open:function(l){var h=fr.ttys[l.node.rdev];if(!h)throw new E.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,x,z){if(!l.tty||!l.tty.ops.get_char)throw new E.ErrnoError(60);for(var Ce=0,Me=0;Me<x;Me++){var je;try{je=l.tty.ops.get_char(l.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===Ce)throw new E.ErrnoError(6);if(null==je)break;Ce++,h[v+Me]=je}return Ce&&(l.node.timestamp=Date.now()),Ce},write:function(l,h,v,x,z){if(!l.tty||!l.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var Ce=0;Ce<x;Ce++)l.tty.ops.put_char(l.tty,h[v+Ce])}catch{throw new E.ErrnoError(29)}return x&&(l.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=on(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(q(Ye(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(q(Ye(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(Y(Ye(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(Y(Ye(l.output,0)),l.output=[])}}};function C(l){Yn()}var Bt={ops_table:null,mount:function(l){return Bt.createNode(null,"/",16895,0)},createNode:function(l,h,v,x){if(E.isBlkdev(v)||E.isFIFO(v))throw new E.ErrnoError(63);Bt.ops_table||(Bt.ops_table={dir:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr,lookup:Bt.node_ops.lookup,mknod:Bt.node_ops.mknod,rename:Bt.node_ops.rename,unlink:Bt.node_ops.unlink,rmdir:Bt.node_ops.rmdir,readdir:Bt.node_ops.readdir,symlink:Bt.node_ops.symlink},stream:{llseek:Bt.stream_ops.llseek}},file:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr},stream:{llseek:Bt.stream_ops.llseek,read:Bt.stream_ops.read,write:Bt.stream_ops.write,allocate:Bt.stream_ops.allocate,mmap:Bt.stream_ops.mmap,msync:Bt.stream_ops.msync}},link:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr,readlink:Bt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr},stream:E.chrdev_stream_ops}});var z=E.createNode(l,h,v,x);return E.isDir(z.mode)?(z.node_ops=Bt.ops_table.dir.node,z.stream_ops=Bt.ops_table.dir.stream,z.contents={}):E.isFile(z.mode)?(z.node_ops=Bt.ops_table.file.node,z.stream_ops=Bt.ops_table.file.stream,z.usedBytes=0,z.contents=null):E.isLink(z.mode)?(z.node_ops=Bt.ops_table.link.node,z.stream_ops=Bt.ops_table.link.stream):E.isChrdev(z.mode)&&(z.node_ops=Bt.ops_table.chrdev.node,z.stream_ops=Bt.ops_table.chrdev.stream),z.timestamp=Date.now(),l&&(l.contents[h]=z,l.timestamp=z.timestamp),z},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var z=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(z.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=E.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=E.isDir(l.mode)?4096:E.isFile(l.mode)?l.usedBytes:E.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&Bt.resizeFileStorage(l,h.size)},lookup:function(l,h){throw E.genericErrors[44]},mknod:function(l,h,v,x){return Bt.createNode(l,h,v,x)},rename:function(l,h,v){if(E.isDir(l.mode)){var x;try{x=E.lookupNode(h,v)}catch{}if(x)for(var z in x.contents)throw new E.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=E.lookupNode(l,h);for(var x in v.contents)throw new E.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)l.contents.hasOwnProperty(v)&&h.push(v);return h},symlink:function(l,h,v){var x=Bt.createNode(l,h,41471,0);return x.link=v,x},readlink:function(l){if(!E.isLink(l.mode))throw new E.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,x,z){var Ce=l.node.contents;if(z>=l.node.usedBytes)return 0;var Me=Math.min(l.node.usedBytes-z,x);if(Me>8&&Ce.subarray)h.set(Ce.subarray(z,z+Me),v);else for(var je=0;je<Me;je++)h[v+je]=Ce[z+je];return Me},write:function(l,h,v,x,z,Ce){if(h.buffer===Xe.buffer&&(Ce=!1),!x)return 0;var Me=l.node;if(Me.timestamp=Date.now(),h.subarray&&(!Me.contents||Me.contents.subarray)){if(Ce)return Me.contents=h.subarray(v,v+x),Me.usedBytes=x,x;if(0===Me.usedBytes&&0===z)return Me.contents=h.slice(v,v+x),Me.usedBytes=x,x;if(z+x<=Me.usedBytes)return Me.contents.set(h.subarray(v,v+x),z),x}if(Bt.expandFileStorage(Me,z+x),Me.contents.subarray&&h.subarray)Me.contents.set(h.subarray(v,v+x),z);else for(var je=0;je<x;je++)Me.contents[z+je]=h[v+je];return Me.usedBytes=Math.max(Me.usedBytes,z+x),x},llseek:function(l,h,v){var x=h;if(1===v?x+=l.position:2===v&&E.isFile(l.node.mode)&&(x+=l.node.usedBytes),x<0)throw new E.ErrnoError(28);return x},allocate:function(l,h,v){Bt.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,x,z){if(!E.isFile(l.node.mode))throw new E.ErrnoError(43);var Ce,Me,je=l.node.contents;if(2&z||je.buffer!==He){if((v>0||v+h<je.length)&&(je=je.subarray?je.subarray(v,v+h):Array.prototype.slice.call(je,v,v+h)),Me=!0,!(Ce=C()))throw new E.ErrnoError(48);Xe.set(je,Ce)}else Me=!1,Ce=je.byteOffset;return{ptr:Ce,allocated:Me}},msync:function(l,h,v,x,z){return Bt.stream_ops.write(l,h,0,x,v,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=cr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new E.ErrnoError(32);for(var x=l.split("/").filter(Nn=>!!Nn),z=E.root,Ce="/",Me=0;Me<x.length;Me++){var je=Me===x.length-1;if(je&&h.parent)break;if(z=E.lookupNode(z,x[Me]),Ce=dn.join2(Ce,x[Me]),E.isMountpoint(z)&&(!je||je&&h.follow_mount)&&(z=z.mounted.root),!je||h.follow)for(var bt=0;E.isLink(z.mode);){var Jt=E.readlink(Ce);if(Ce=cr.resolve(dn.dirname(Ce),Jt),z=E.lookupPath(Ce,{recurse_count:h.recurse_count+1}).node,bt++>40)throw new E.ErrnoError(32)}}return{path:Ce,node:z}},getPath:l=>{for(var h;;){if(E.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,x=0;x<h.length;x++)v=(v<<5)-v+h.charCodeAt(x)|0;return(l+v>>>0)%E.nameTable.length},hashAddNode:l=>{var h=E.hashName(l.parent.id,l.name);l.name_next=E.nameTable[h],E.nameTable[h]=l},hashRemoveNode:l=>{var h=E.hashName(l.parent.id,l.name);if(E.nameTable[h]===l)E.nameTable[h]=l.name_next;else for(var v=E.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=E.mayLookup(l);if(v)throw new E.ErrnoError(v,l);for(var x=E.hashName(l.id,h),z=E.nameTable[x];z;z=z.name_next)if(z.parent.id===l.id&&z.name===h)return z;return E.lookup(l,h)},createNode:(l,h,v,x)=>{var z=new E.FSNode(l,h,v,x);return E.hashAddNode(z),z},destroyNode:l=>{E.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=E.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>E.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>E.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return E.lookupNode(l,h),20}catch{}return E.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var x;try{x=E.lookupNode(l,h)}catch(Ce){return Ce.errno}var z=E.nodePermissions(l,"wx");if(z)return z;if(v){if(!E.isDir(x.mode))return 54;if(E.isRoot(x)||E.getPath(x)===E.cwd())return 10}else if(E.isDir(x.mode))return 31;return 0},mayOpen:(l,h)=>l?E.isLink(l.mode)?32:E.isDir(l.mode)&&("r"!==E.flagsToPermissionString(h)||512&h)?31:E.nodePermissions(l,E.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=E.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!E.streams[v])return v;throw new E.ErrnoError(33)},getStream:l=>E.streams[l],createStream:(l,h,v)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(z){this.node=z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(z){this.shared.flags=z}},position:{get:function(){return this.shared.position},set:function(z){this.shared.position=z}}})),l=Object.assign(new E.FSStream,l);var x=E.nextfd(h,v);return l.fd=x,E.streams[x]=l,l},closeStream:l=>{E.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=E.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new E.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{E.devices[l]={stream_ops:h}},getDevice:l=>E.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var x=v.pop();h.push(x),v.push.apply(v,x.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),E.syncFSRequests++,E.syncFSRequests>1&&Y("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=E.getMounts(E.root.mount),x=0;function z(Me){return E.syncFSRequests--,h(Me)}function Ce(Me){if(Me)return Ce.errored?void 0:(Ce.errored=!0,z(Me));++x>=v.length&&z(null)}v.forEach(Me=>{if(!Me.type.syncfs)return Ce(null);Me.type.syncfs(Me,l,Ce)})},mount:(l,h,v)=>{var Ce,x="/"===v,z=!v;if(x&&E.root)throw new E.ErrnoError(10);if(!x&&!z){var Me=E.lookupPath(v,{follow_mount:!1});if(v=Me.path,E.isMountpoint(Ce=Me.node))throw new E.ErrnoError(10);if(!E.isDir(Ce.mode))throw new E.ErrnoError(54)}var je={type:l,opts:h,mountpoint:v,mounts:[]},bt=l.mount(je);return bt.mount=je,je.root=bt,x?E.root=bt:Ce&&(Ce.mounted=je,Ce.mount&&Ce.mount.mounts.push(je)),bt},unmount:l=>{var h=E.lookupPath(l,{follow_mount:!1});if(!E.isMountpoint(h.node))throw new E.ErrnoError(28);var v=h.node,x=v.mounted,z=E.getMounts(x);Object.keys(E.nameTable).forEach(Me=>{for(var je=E.nameTable[Me];je;){var bt=je.name_next;z.includes(je.mount)&&E.destroyNode(je),je=bt}}),v.mounted=null;var Ce=v.mount.mounts.indexOf(x);v.mount.mounts.splice(Ce,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var z=E.lookupPath(l,{parent:!0}).node,Ce=dn.basename(l);if(!Ce||"."===Ce||".."===Ce)throw new E.ErrnoError(28);var Me=E.mayCreate(z,Ce);if(Me)throw new E.ErrnoError(Me);if(!z.node_ops.mknod)throw new E.ErrnoError(63);return z.node_ops.mknod(z,Ce,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,E.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,E.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),x="",z=0;z<v.length;++z)if(v[z]){x+="/"+v[z];try{E.mkdir(x,h)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),E.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!cr.resolve(l))throw new E.ErrnoError(44);var x=E.lookupPath(h,{parent:!0}).node;if(!x)throw new E.ErrnoError(44);var z=dn.basename(h),Ce=E.mayCreate(x,z);if(Ce)throw new E.ErrnoError(Ce);if(!x.node_ops.symlink)throw new E.ErrnoError(63);return x.node_ops.symlink(x,z,l)},rename:(l,h)=>{var je,bt,v=dn.dirname(l),x=dn.dirname(h),z=dn.basename(l),Ce=dn.basename(h);if(je=E.lookupPath(l,{parent:!0}).node,bt=E.lookupPath(h,{parent:!0}).node,!je||!bt)throw new E.ErrnoError(44);if(je.mount!==bt.mount)throw new E.ErrnoError(75);var Nn,Jt=E.lookupNode(je,z),Fn=cr.relative(l,x);if("."!==Fn.charAt(0))throw new E.ErrnoError(28);if("."!==(Fn=cr.relative(h,v)).charAt(0))throw new E.ErrnoError(55);try{Nn=E.lookupNode(bt,Ce)}catch{}if(Jt!==Nn){var qt=E.isDir(Jt.mode),ln=E.mayDelete(je,z,qt);if(ln)throw new E.ErrnoError(ln);if(ln=Nn?E.mayDelete(bt,Ce,qt):E.mayCreate(bt,Ce))throw new E.ErrnoError(ln);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(Jt)||Nn&&E.isMountpoint(Nn))throw new E.ErrnoError(10);if(bt!==je&&(ln=E.nodePermissions(je,"w")))throw new E.ErrnoError(ln);E.hashRemoveNode(Jt);try{je.node_ops.rename(Jt,bt,Ce)}catch($n){throw $n}finally{E.hashAddNode(Jt)}}},rmdir:l=>{var v=E.lookupPath(l,{parent:!0}).node,x=dn.basename(l),z=E.lookupNode(v,x),Ce=E.mayDelete(v,x,!0);if(Ce)throw new E.ErrnoError(Ce);if(!v.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);v.node_ops.rmdir(v,x),E.destroyNode(z)},readdir:l=>{var v=E.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new E.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=E.lookupPath(l,{parent:!0}).node;if(!v)throw new E.ErrnoError(44);var x=dn.basename(l),z=E.lookupNode(v,x),Ce=E.mayDelete(v,x,!1);if(Ce)throw new E.ErrnoError(Ce);if(!v.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);v.node_ops.unlink(v,x),E.destroyNode(z)},readlink:l=>{var v=E.lookupPath(l).node;if(!v)throw new E.ErrnoError(44);if(!v.node_ops.readlink)throw new E.ErrnoError(28);return cr.resolve(E.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var x=E.lookupPath(l,{follow:!h}).node;if(!x)throw new E.ErrnoError(44);if(!x.node_ops.getattr)throw new E.ErrnoError(63);return x.node_ops.getattr(x)},lstat:l=>E.stat(l,!0),chmod:(l,h,v)=>{var x;if(!(x="string"==typeof l?E.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new E.ErrnoError(63);x.node_ops.setattr(x,{mode:4095&h|-4096&x.mode,timestamp:Date.now()})},lchmod:(l,h)=>{E.chmod(l,h,!0)},fchmod:(l,h)=>{var v=E.getStream(l);if(!v)throw new E.ErrnoError(8);E.chmod(v.node,h)},chown:(l,h,v,x)=>{var z;if(!(z="string"==typeof l?E.lookupPath(l,{follow:!x}).node:l).node_ops.setattr)throw new E.ErrnoError(63);z.node_ops.setattr(z,{timestamp:Date.now()})},lchown:(l,h,v)=>{E.chown(l,h,v,!0)},fchown:(l,h,v)=>{var x=E.getStream(l);if(!x)throw new E.ErrnoError(8);E.chown(x.node,h,v)},truncate:(l,h)=>{if(h<0)throw new E.ErrnoError(28);var v;if(!(v="string"==typeof l?E.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(v.mode))throw new E.ErrnoError(31);if(!E.isFile(v.mode))throw new E.ErrnoError(28);var z=E.nodePermissions(v,"w");if(z)throw new E.ErrnoError(z);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=E.getStream(l);if(!v)throw new E.ErrnoError(8);if(!(2097155&v.flags))throw new E.ErrnoError(28);E.truncate(v.node,h)},utime:(l,h,v)=>{var z=E.lookupPath(l,{follow:!0}).node;z.node_ops.setattr(z,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new E.ErrnoError(44);var x;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?E.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)x=l;else{l=dn.normalize(l);try{x=E.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var Ce=!1;if(64&h)if(x){if(128&h)throw new E.ErrnoError(20)}else x=E.mknod(l,v,0),Ce=!0;if(!x)throw new E.ErrnoError(44);if(E.isChrdev(x.mode)&&(h&=-513),65536&h&&!E.isDir(x.mode))throw new E.ErrnoError(54);if(!Ce){var Me=E.mayOpen(x,h);if(Me)throw new E.ErrnoError(Me)}512&h&&!Ce&&E.truncate(x,0),h&=-131713;var je=E.createStream({node:x,path:E.getPath(x),flags:h,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),c.logReadFiles&&!(1&h)&&(E.readFiles||(E.readFiles={}),l in E.readFiles||(E.readFiles[l]=1)),je},close:l=>{if(E.isClosed(l))throw new E.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{E.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(E.isClosed(l))throw new E.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new E.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,x,z)=>{if(x<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(l))throw new E.ErrnoError(8);if(1==(2097155&l.flags))throw new E.ErrnoError(8);if(E.isDir(l.node.mode))throw new E.ErrnoError(31);if(!l.stream_ops.read)throw new E.ErrnoError(28);var Ce=typeof z<"u";if(Ce){if(!l.seekable)throw new E.ErrnoError(70)}else z=l.position;var Me=l.stream_ops.read(l,h,v,x,z);return Ce||(l.position+=Me),Me},write:(l,h,v,x,z,Ce)=>{if(x<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(l))throw new E.ErrnoError(8);if(!(2097155&l.flags))throw new E.ErrnoError(8);if(E.isDir(l.node.mode))throw new E.ErrnoError(31);if(!l.stream_ops.write)throw new E.ErrnoError(28);l.seekable&&1024&l.flags&&E.llseek(l,0,2);var Me=typeof z<"u";if(Me){if(!l.seekable)throw new E.ErrnoError(70)}else z=l.position;var je=l.stream_ops.write(l,h,v,x,z,Ce);return Me||(l.position+=je),je},allocate:(l,h,v)=>{if(E.isClosed(l))throw new E.ErrnoError(8);if(h<0||v<=0)throw new E.ErrnoError(28);if(!(2097155&l.flags))throw new E.ErrnoError(8);if(!E.isFile(l.node.mode)&&!E.isDir(l.node.mode))throw new E.ErrnoError(43);if(!l.stream_ops.allocate)throw new E.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,x,z)=>{if(2&x&&!(2&z)&&2!=(2097155&l.flags))throw new E.ErrnoError(2);if(1==(2097155&l.flags))throw new E.ErrnoError(2);if(!l.stream_ops.mmap)throw new E.ErrnoError(43);return l.stream_ops.mmap(l,h,v,x,z)},msync:(l,h,v,x,z)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,x,z):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new E.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,x=E.open(l,h.flags),Ce=E.stat(l).size,Me=new Uint8Array(Ce);return E.read(x,Me,0,Ce,0),"utf8"===h.encoding?v=Ye(Me,0):"binary"===h.encoding&&(v=Me),E.close(x),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var x=E.open(l,v.flags,v.mode);if("string"==typeof h){var z=new Uint8Array(ne(h)+1),Ce=ke(h,z,0,z.length);E.write(x,z,0,Ce,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");E.write(x,h,0,h.byteLength,void 0,v.canOwn)}E.close(x)},cwd:()=>E.currentPath,chdir:l=>{var h=E.lookupPath(l,{follow:!0});if(null===h.node)throw new E.ErrnoError(44);if(!E.isDir(h.node.mode))throw new E.ErrnoError(54);var v=E.nodePermissions(h.node,"x");if(v)throw new E.ErrnoError(v);E.currentPath=h.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(h,v,x,z,Ce)=>z}),E.mkdev("/dev/null",E.makedev(1,3)),fr.register(E.makedev(5,0),fr.default_tty_ops),fr.register(E.makedev(6,0),fr.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var l=function tr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>Yn("randomDevice")}();E.createDevice("/dev","random",l),E.createDevice("/dev","urandom",l),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var l=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var h=E.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,x)=>{var Ce=E.getStream(+x);if(!Ce)throw new E.ErrnoError(8);var Me={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return Me.parent=Me,Me}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?E.createDevice("/dev","stdin",c.stdin):E.symlink("/dev/tty","/dev/stdin"),c.stdout?E.createDevice("/dev","stdout",null,c.stdout):E.symlink("/dev/tty","/dev/stdout"),c.stderr?E.createDevice("/dev","stderr",null,c.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(h,v){this.node=v,this.setErrno=function(x){this.errno=x},this.setErrno(h),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(l=>{E.genericErrors[l]=new E.ErrnoError(l),E.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(Bt,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:Bt}},init:(l,h,v)=>{E.init.initialized=!0,E.ensureErrnoError(),c.stdin=l||c.stdin,c.stdout=h||c.stdout,c.stderr=v||c.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var l=0;l<E.streams.length;l++){var h=E.streams[l];h&&E.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=E.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=E.lookupPath(l,{follow:!h})).path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=E.lookupPath(l,{parent:!0});x.parentExists=!0,x.parentPath=v.path,x.parentObject=v.node,x.name=dn.basename(l),v=E.lookupPath(l,{follow:!h}),x.exists=!0,x.path=v.path,x.object=v.node,x.name=v.node.name,x.isRoot="/"===v.path}catch(z){x.error=z.errno}return x},createPath:(l,h,v,x)=>{l="string"==typeof l?l:E.getPath(l);for(var z=h.split("/").reverse();z.length;){var Ce=z.pop();if(Ce){var Me=dn.join2(l,Ce);try{E.mkdir(Me)}catch{}l=Me}}return Me},createFile:(l,h,v,x,z)=>{var Ce=dn.join2("string"==typeof l?l:E.getPath(l),h),Me=E.getMode(x,z);return E.create(Ce,Me)},createDataFile:(l,h,v,x,z,Ce)=>{var Me=h;l&&(l="string"==typeof l?l:E.getPath(l),Me=h?dn.join2(l,h):l);var je=E.getMode(x,z),bt=E.create(Me,je);if(v){if("string"==typeof v){for(var Jt=new Array(v.length),Fn=0,Nn=v.length;Fn<Nn;++Fn)Jt[Fn]=v.charCodeAt(Fn);v=Jt}E.chmod(bt,146|je);var qt=E.open(bt,577);E.write(qt,v,0,v.length,0,Ce),E.close(qt),E.chmod(bt,je)}return bt},createDevice:(l,h,v,x)=>{var z=dn.join2("string"==typeof l?l:E.getPath(l),h),Ce=E.getMode(!!v,!!x);E.createDevice.major||(E.createDevice.major=64);var Me=E.makedev(E.createDevice.major++,0);return E.registerDevice(Me,{open:je=>{je.seekable=!1},close:je=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(je,bt,Jt,Fn,Nn)=>{for(var qt=0,ln=0;ln<Fn;ln++){var $n;try{$n=v()}catch{throw new E.ErrnoError(29)}if(void 0===$n&&0===qt)throw new E.ErrnoError(6);if(null==$n)break;qt++,bt[Jt+ln]=$n}return qt&&(je.node.timestamp=Date.now()),qt},write:(je,bt,Jt,Fn,Nn)=>{for(var qt=0;qt<Fn;qt++)try{x(bt[Jt+qt])}catch{throw new E.ErrnoError(29)}return Fn&&(je.node.timestamp=Date.now()),qt}}),E.mkdev(z,Ce,Me)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=on(G(l.url),!0),l.usedBytes=l.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(l,h,v,x,z)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(ln){if(!(ln>this.length-1||ln<0)){var $n=ln%this.chunkSize;return this.getter(ln/this.chunkSize|0)[$n]}},Ce.prototype.setDataGetter=function(ln){this.getter=ln},Ce.prototype.cacheLength=function(){var ln=new XMLHttpRequest;if(ln.open("HEAD",v,!1),ln.send(null),!(ln.status>=200&&ln.status<300||304===ln.status))throw new Error("Couldn't load "+v+". Status: "+ln.status);var Jr,$n=Number(ln.getResponseHeader("Content-length")),Vi=(Jr=ln.getResponseHeader("Accept-Ranges"))&&"bytes"===Jr,xo=(Jr=ln.getResponseHeader("Content-Encoding"))&&"gzip"===Jr,wt=1048576;Vi||(wt=$n);var eo=this;eo.setDataGetter(Sr=>{var Ui=Sr*wt,Wr=(Sr+1)*wt-1;if(Wr=Math.min(Wr,$n-1),typeof eo.chunks[Sr]>"u"&&(eo.chunks[Sr]=((Sr,Ui)=>{if(Sr>Ui)throw new Error("invalid range ("+Sr+", "+Ui+") or no bytes requested!");if(Ui>$n-1)throw new Error("only "+$n+" bytes available! programmer error!");var Wr=new XMLHttpRequest;if(Wr.open("GET",v,!1),$n!==wt&&Wr.setRequestHeader("Range","bytes="+Sr+"-"+Ui),Wr.responseType="arraybuffer",Wr.overrideMimeType&&Wr.overrideMimeType("text/plain; charset=x-user-defined"),Wr.send(null),!(Wr.status>=200&&Wr.status<300||304===Wr.status))throw new Error("Couldn't load "+v+". Status: "+Wr.status);return void 0!==Wr.response?new Uint8Array(Wr.response||[]):on(Wr.responseText||"",!0)})(Ui,Wr)),typeof eo.chunks[Sr]>"u")throw new Error("doXHR failed!");return eo.chunks[Sr]}),(xo||!$n)&&(wt=$n=1,$n=this.getter(0).length,wt=$n,q("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=$n,this._chunkSize=wt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Me=new Ce;Object.defineProperties(Me,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:Me}}else je={isDevice:!1,url:v};var bt=E.createFile(l,h,je,x,z);je.contents?bt.contents=je.contents:je.url&&(bt.contents=null,bt.url=je.url),Object.defineProperties(bt,{usedBytes:{get:function(){return this.contents.length}}});var Jt={};function Nn(qt,ln,$n,Jr,Vi){var xo=qt.node.contents;if(Vi>=xo.length)return 0;var wt=Math.min(xo.length-Vi,Jr);if(xo.slice)for(var fn=0;fn<wt;fn++)ln[$n+fn]=xo[Vi+fn];else for(fn=0;fn<wt;fn++)ln[$n+fn]=xo.get(Vi+fn);return wt}return Object.keys(bt.stream_ops).forEach(qt=>{var ln=bt.stream_ops[qt];Jt[qt]=function(){return E.forceLoadFile(bt),ln.apply(null,arguments)}}),Jt.read=(qt,ln,$n,Jr,Vi)=>(E.forceLoadFile(bt),Nn(qt,ln,$n,Jr,Vi)),Jt.mmap=(qt,ln,$n,Jr,Vi)=>{E.forceLoadFile(bt);var xo=C();if(!xo)throw new E.ErrnoError(48);return Nn(qt,Xe,xo,ln,$n),{ptr:xo,allocated:!0}},bt.stream_ops=Jt,bt},createPreloadedFile:(l,h,v,x,z,Ce,Me,je,bt,Jt)=>{var Fn=h?cr.resolve(dn.join2(l,h)):l;function qt(ln){function $n(Jr){Jt&&Jt(),je||E.createDataFile(l,h,Jr,x,z,bt),Ce&&Ce(),vr()}Browser.handledByPreloadPlugin(ln,Fn,$n,()=>{Me&&Me(),vr()})||$n(ln)}Rr(),"string"==typeof v?function ir(l,h,v,x){var z=x?"":"al "+l;Re(l,Ce=>{Ee(Ce,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(Ce)),z&&vr()},Ce=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),z&&Rr()}(v,ln=>qt(ln),Me):qt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var x=E.indexedDB();try{var z=x.open(E.DB_NAME(),E.DB_VERSION)}catch(Ce){return v(Ce)}z.onupgradeneeded=()=>{q("creating db"),z.result.createObjectStore(E.DB_STORE_NAME)},z.onsuccess=()=>{var Me=z.result.transaction([E.DB_STORE_NAME],"readwrite"),je=Me.objectStore(E.DB_STORE_NAME),bt=0,Jt=0,Fn=l.length;function Nn(){0==Jt?h():v()}l.forEach(qt=>{var ln=je.put(E.analyzePath(qt).object.contents,qt);ln.onsuccess=()=>{++bt+Jt==Fn&&Nn()},ln.onerror=()=>{Jt++,bt+Jt==Fn&&Nn()}}),Me.onerror=v},z.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var x=E.indexedDB();try{var z=x.open(E.DB_NAME(),E.DB_VERSION)}catch(Ce){return v(Ce)}z.onupgradeneeded=v,z.onsuccess=()=>{var Ce=z.result;try{var Me=Ce.transaction([E.DB_STORE_NAME],"readonly")}catch(qt){return void v(qt)}var je=Me.objectStore(E.DB_STORE_NAME),bt=0,Jt=0,Fn=l.length;function Nn(){0==Jt?h():v()}l.forEach(qt=>{var ln=je.get(qt);ln.onsuccess=()=>{E.analyzePath(qt).exists&&E.unlink(qt),E.createDataFile(dn.dirname(qt),dn.basename(qt),ln.result,!0,!0,!0),++bt+Jt==Fn&&Nn()},ln.onerror=()=>{Jt++,bt+Jt==Fn&&Nn()}}),Me.onerror=v},z.onerror=v}},Mn={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(dn.isAbs(h))return h;var x;if(x=-100===l?E.cwd():Mn.getStreamFromFD(l).path,0==h.length){if(!v)throw new E.ErrnoError(44);return x}return dn.join2(x,h)},doStat:function(l,h,v){try{var x=l(h)}catch(z){if(z&&z.node&&dn.normalize(h)!==dn.normalize(E.getPath(z.node)))return-54;throw z}return N[v>>2]=x.dev,N[v+8>>2]=x.ino,N[v+12>>2]=x.mode,ge[v+16>>2]=x.nlink,N[v+20>>2]=x.uid,N[v+24>>2]=x.gid,N[v+28>>2]=x.rdev,ae=[x.size>>>0,(at=x.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[v+40>>2]=ae[0],N[v+44>>2]=ae[1],N[v+48>>2]=4096,N[v+52>>2]=x.blocks,ae=[Math.floor(x.atime.getTime()/1e3)>>>0,(at=Math.floor(x.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[v+56>>2]=ae[0],N[v+60>>2]=ae[1],ge[v+64>>2]=0,ae=[Math.floor(x.mtime.getTime()/1e3)>>>0,(at=Math.floor(x.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[v+72>>2]=ae[0],N[v+76>>2]=ae[1],ge[v+80>>2]=0,ae=[Math.floor(x.ctime.getTime()/1e3)>>>0,(at=Math.floor(x.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[v+88>>2]=ae[0],N[v+92>>2]=ae[1],ge[v+96>>2]=0,ae=[x.ino>>>0,(at=x.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[v+104>>2]=ae[0],N[v+108>>2]=ae[1],0},doMsync:function(l,h,v,x,z){if(!E.isFile(h.node.mode))throw new E.ErrnoError(43);if(2&x)return 0;var Ce=vt.slice(l,l+v);E.msync(h,Ce,z,v,x)},varargs:void 0,get:function(){return Mn.varargs+=4,N[Mn.varargs-4>>2]},getStr:function(l){return Be(l)},getStreamFromFD:function(l){var h=E.getStream(l);if(!h)throw new E.ErrnoError(8);return h}};function Eo(l){return l%4==0&&(l%100!=0||l%400==0)}var In=[0,31,60,91,121,152,182,213,244,274,305,335],li=[0,31,59,90,120,151,181,212,243,273,304,334];function ar(l){return(Eo(l.getFullYear())?In:li)[l.getMonth()]+l.getDate()-1}function co(l){var h=ne(l)+1,v=Ca(h);return v&&ke(l,Xe,v,h),v}var D=[];function Fi(l){try{return ue.grow(l-He.byteLength+65535>>>16),Ue(ue.buffer),1}catch{}}var ui={};function Yo(){if(!Yo.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"};for(var v in ui)void 0===ui[v]?delete h[v]:h[v]=ui[v];var x=[];for(var v in h)x.push(v+"="+h[v]);Yo.strings=x}return Yo.strings}var fe=[31,29,31,30,31,30,31,31,30,31,30,31],De=[31,28,31,30,31,30,31,31,30,31,30,31];function Vt(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Br=[];function po(l){var h=Br[l];return h||(l>=Br.length&&(Br.length=l+1),Br[l]=h=Se.get(l)),h}var pr=void 0,Ni=[];function ba(l,h){Se.set(l,h),Br[l]=Se.get(l)}var wa=function(l,h,v,x){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=E.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=x};Object.defineProperties(wa.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=wa,E.staticInit();var xa,el={b:function bn(l,h,v,x){Yn("Assertion failed: "+Be(l)+", at: "+[h?Be(h):"unknown filename",v,x?Be(x):"unknown function"])},i:function Dn(l){const h=new Error(Be(l));throw h.isAssert=!0,h},l:function So(l,h,v){try{var x=or(h,v);return isNaN(x)?-61:(E.ftruncate(l,x),0)}catch(z){if(typeof E>"u"||!(z instanceof E.ErrnoError))throw z;return-z.errno}},e:function Zo(){return!0},f:function Xr(l,h){var v=new Date(1e3*function Co(l){return ge[l>>2]+4294967296*N[l+4>>2]}(l));N[h>>2]=v.getSeconds(),N[h+4>>2]=v.getMinutes(),N[h+8>>2]=v.getHours(),N[h+12>>2]=v.getDate(),N[h+16>>2]=v.getMonth(),N[h+20>>2]=v.getFullYear()-1900,N[h+24>>2]=v.getDay();var x=0|ar(v);N[h+28>>2]=x,N[h+36>>2]=-60*v.getTimezoneOffset();var z=new Date(v.getFullYear(),0,1),Ce=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Me=z.getTimezoneOffset(),je=0|(Ce!=Me&&v.getTimezoneOffset()==Math.min(Me,Ce));N[h+32>>2]=je},g:function Vn(l){var h=new Date(N[l+20>>2]+1900,N[l+16>>2],N[l+12>>2],N[l+8>>2],N[l+4>>2],N[l>>2],0),v=N[l+32>>2],x=h.getTimezoneOffset(),z=new Date(h.getFullYear(),0,1),Ce=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Me=z.getTimezoneOffset(),je=Math.min(Me,Ce);if(v<0)N[l+32>>2]=Number(Ce!=Me&&je==x);else if(v>0!=(je==x)){var bt=Math.max(Me,Ce),Jt=v>0?je:bt;h.setTime(h.getTime()+6e4*(Jt-x))}N[l+24>>2]=h.getDay();var Fn=0|ar(h);return N[l+28>>2]=Fn,N[l>>2]=h.getSeconds(),N[l+4>>2]=h.getMinutes(),N[l+8>>2]=h.getHours(),N[l+12>>2]=h.getDate(),N[l+16>>2]=h.getMonth(),N[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function Yt(l,h,v){var x=(new Date).getFullYear(),z=new Date(x,0,1),Ce=new Date(x,6,1),Me=z.getTimezoneOffset(),je=Ce.getTimezoneOffset(),bt=Math.max(Me,je);function Jt($n){var Jr=$n.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Jr?Jr[1]:"GMT"}ge[l>>2]=60*bt,N[h>>2]=Number(Me!=je);var Fn=Jt(z),Nn=Jt(Ce),qt=co(Fn),ln=co(Nn);je<Me?(ge[v>>2]=qt,ge[v+4>>2]=ln):(ge[v>>2]=ln,ge[v+4>>2]=qt)},a:function Ko(){Yn("")},j:function Fr(l,h,v){var x=function br(l,h){var v;for(D.length=0,h>>=2;v=vt[l++];)h+=105!=v&h,D.push(105==v?N[h]:tt[h++>>1]),++h;return D}(h,v);return ze[l].apply(null,x)},c:function Ri(){return Date.now()},q:function uo(l,h,v){vt.copyWithin(l,h,h+v)},p:function Qr(l){var bt,h=vt.length,v=2147483648;if((l>>>=0)>v)return!1;for(var z=1;z<=4;z*=2){var Ce=h*(1+.2/z);if(Ce=Math.min(Ce,l+100663296),Fi(Math.min(v,(bt=Math.max(l,Ce))+(65536-bt%65536)%65536)))return!0}return!1},n:function ns(l,h){var v=0;return Yo().forEach(function(x,z){var Ce=h+v;ge[l+4*z>>2]=Ce,function wi(l,h,v){for(var x=0;x<l.length;++x)Xe[h++>>0]=l.charCodeAt(x);v||(Xe[h>>0]=0)}(x,Ce),v+=x.length+1}),0},o:function vs(l,h){var v=Yo();ge[l>>2]=v.length;var x=0;return v.forEach(function(z){x+=z.length+1}),ge[h>>2]=x,0},r:function Xn(l){try{var h=Mn.getStreamFromFD(l);return E.close(h),0}catch(v){if(typeof E>"u"||!(v instanceof E.ErrnoError))throw v;return v.errno}},d:function bs(l,h,v,x){try{var Ce=function Xo(l,h,v,x){for(var z=0,Ce=0;Ce<v;Ce++){var Me=ge[h>>2],je=ge[h+4>>2];h+=8;var bt=E.read(l,Xe,Me,je,x);if(bt<0)return-1;if(z+=bt,bt<je)break}return z}(Mn.getStreamFromFD(l),h,v);return ge[x>>2]=Ce,0}catch(Me){if(typeof E>"u"||!(Me instanceof E.ErrnoError))throw Me;return Me.errno}},k:function Oi(l,h,v,x,z){try{var Ce=or(h,v);if(isNaN(Ce))return 61;var Me=Mn.getStreamFromFD(l);return E.llseek(Me,Ce,x),ae=[Me.position>>>0,(at=Me.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[z>>2]=ae[0],N[z+4>>2]=ae[1],Me.getdents&&0===Ce&&0===x&&(Me.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},s:function R(l,h,v,x){try{var Ce=function Gn(l,h,v,x){for(var z=0,Ce=0;Ce<v;Ce++){var Me=ge[h>>2],je=ge[h+4>>2];h+=8;var bt=E.write(l,Xe,Me,je,x);if(bt<0)return-1;z+=bt}return z}(Mn.getStreamFromFD(l),h,v);return ge[x>>2]=Ce,0}catch(Me){if(typeof E>"u"||!(Me instanceof E.ErrnoError))throw Me;return Me.errno}},m:function Te(l,h,v,x,z){return function pe(l,h,v,x){var z=N[x+40>>2],Ce={tm_sec:N[x>>2],tm_min:N[x+4>>2],tm_hour:N[x+8>>2],tm_mday:N[x+12>>2],tm_mon:N[x+16>>2],tm_year:N[x+20>>2],tm_wday:N[x+24>>2],tm_yday:N[x+28>>2],tm_isdst:N[x+32>>2],tm_gmtoff:N[x+36>>2],tm_zone:z?Be(z):""},Me=Be(v),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var bt in je)Me=Me.replace(new RegExp(bt,"g"),je[bt]);var Jt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Fn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nn(wt,fn,eo){for(var Sr="number"==typeof wt?wt.toString():wt||"";Sr.length<fn;)Sr=eo[0]+Sr;return Sr}function qt(wt,fn){return Nn(wt,fn,"0")}function ln(wt,fn){function eo(Ui){return Ui<0?-1:Ui>0?1:0}var Sr;return 0===(Sr=eo(wt.getFullYear()-fn.getFullYear()))&&0===(Sr=eo(wt.getMonth()-fn.getMonth()))&&(Sr=eo(wt.getDate()-fn.getDate())),Sr}function $n(wt){switch(wt.getDay()){case 0:return new Date(wt.getFullYear()-1,11,29);case 1:return wt;case 2:return new Date(wt.getFullYear(),0,3);case 3:return new Date(wt.getFullYear(),0,2);case 4:return new Date(wt.getFullYear(),0,1);case 5:return new Date(wt.getFullYear()-1,11,31);case 6:return new Date(wt.getFullYear()-1,11,30)}}function Jr(wt){var fn=function Oe(l,h){for(var v=new Date(l.getTime());h>0;){var x=Eo(v.getFullYear()),z=v.getMonth(),Ce=(x?fe:De)[z];if(!(h>Ce-v.getDate()))return v.setDate(v.getDate()+h),v;h-=Ce-v.getDate()+1,v.setDate(1),z<11?v.setMonth(z+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(wt.tm_year+1900,0,1),wt.tm_yday),eo=new Date(fn.getFullYear(),0,4),Sr=new Date(fn.getFullYear()+1,0,4),Ui=$n(eo),Wr=$n(Sr);return ln(Ui,fn)<=0?ln(Wr,fn)<=0?fn.getFullYear()+1:fn.getFullYear():fn.getFullYear()-1}var Vi={"%a":function(wt){return Jt[wt.tm_wday].substring(0,3)},"%A":function(wt){return Jt[wt.tm_wday]},"%b":function(wt){return Fn[wt.tm_mon].substring(0,3)},"%B":function(wt){return Fn[wt.tm_mon]},"%C":function(wt){return qt((wt.tm_year+1900)/100|0,2)},"%d":function(wt){return qt(wt.tm_mday,2)},"%e":function(wt){return Nn(wt.tm_mday,2," ")},"%g":function(wt){return Jr(wt).toString().substring(2)},"%G":function(wt){return Jr(wt)},"%H":function(wt){return qt(wt.tm_hour,2)},"%I":function(wt){var fn=wt.tm_hour;return 0==fn?fn=12:fn>12&&(fn-=12),qt(fn,2)},"%j":function(wt){return qt(wt.tm_mday+function $(l,h){for(var v=0,x=0;x<=h;v+=l[x++]);return v}(Eo(wt.tm_year+1900)?fe:De,wt.tm_mon-1),3)},"%m":function(wt){return qt(wt.tm_mon+1,2)},"%M":function(wt){return qt(wt.tm_min,2)},"%n":function(){return"\n"},"%p":function(wt){return wt.tm_hour>=0&&wt.tm_hour<12?"AM":"PM"},"%S":function(wt){return qt(wt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(wt){return wt.tm_wday||7},"%U":function(wt){return qt(Math.floor((wt.tm_yday+7-wt.tm_wday)/7),2)},"%V":function(wt){var fn=Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7);if((wt.tm_wday+371-wt.tm_yday-2)%7<=2&&fn++,fn){if(53==fn){var Sr=(wt.tm_wday+371-wt.tm_yday)%7;4!=Sr&&(3!=Sr||!Eo(wt.tm_year))&&(fn=1)}}else{fn=52;var eo=(wt.tm_wday+7-wt.tm_yday-1)%7;(4==eo||5==eo&&Eo(wt.tm_year%400-1))&&fn++}return qt(fn,2)},"%w":function(wt){return wt.tm_wday},"%W":function(wt){return qt(Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7),2)},"%y":function(wt){return(wt.tm_year+1900).toString().substring(2)},"%Y":function(wt){return wt.tm_year+1900},"%z":function(wt){var fn=wt.tm_gmtoff,eo=fn>=0;return fn=(fn=Math.abs(fn)/60)/60*100+fn%60,(eo?"+":"-")+String("0000"+fn).slice(-4)},"%Z":function(wt){return wt.tm_zone},"%%":function(){return"%"}};for(var bt in Me=Me.replace(/%%/g,"\0\0"),Vi)Me.includes(bt)&&(Me=Me.replace(new RegExp(bt,"g"),Vi[bt](Ce)));var xo=on(Me=Me.replace(/\0\0/g,"%"),!1);return xo.length>h?0:(function O(l,h){Xe.set(l,h)}(xo,l),xo.length-1)}(l,h,v,x)}},Ca=(function Ir(){var l={a:el};function h(Me,je){c.asm=Me.exports,Ue((ue=c.asm.t).buffer),Se=c.asm.hc,function Lr(l){Pe.unshift(l)}(c.asm.u),vr()}function v(Me){h(Me.instance)}function x(Me){return function Pi(){return de||!ce&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return $r(un)}):fetch(un,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+un+"'";return l.arrayBuffer()}).catch(function(){return $r(un)})}().then(function(je){return WebAssembly.instantiate(je,l)}).then(function(je){return je}).then(Me,function(je){Y("failed to asynchronously prepare wasm: "+je),Yn(je)})}if(Rr(),c.instantiateWasm)try{return c.instantiateWasm(l,h)}catch(Me){Y("Module.instantiateWasm callback failed with error: "+Me),ee(Me)}(function z(){return de||"function"!=typeof WebAssembly.instantiateStreaming||jr(un)||"function"!=typeof fetch?x(v):fetch(un,{credentials:"same-origin"}).then(function(Me){return WebAssembly.instantiateStreaming(Me,l).then(v,function(bt){return Y("wasm streaming compile failed: "+bt),Y("falling back to ArrayBuffer instantiation"),x(v)})})})().catch(ee)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.u).apply(null,arguments)},c._free=function(){return(c._free=c.asm.v).apply(null,arguments)},c._malloc=function(){return(Ca=c._malloc=c.asm.w).apply(null,arguments)}),Un=(c._main=function(){return(c._main=c.asm.x).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Un=c._emscripten_bind_VoidPtr___destroy___0=c.asm.y).apply(null,arguments)}),rl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(rl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=c.asm.z).apply(null,arguments)},ol=c._emscripten_bind_Cloudpilot_Malloc_1=function(){return(ol=c._emscripten_bind_Cloudpilot_Malloc_1=c.asm.A).apply(null,arguments)},jl=c._emscripten_bind_Cloudpilot_Free_1=function(){return(jl=c._emscripten_bind_Cloudpilot_Free_1=c.asm.B).apply(null,arguments)},gt=c._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(gt=c._emscripten_bind_Cloudpilot_Nullptr_0=c.asm.C).apply(null,arguments)},xs=c._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(xs=c._emscripten_bind_Cloudpilot_InitializeSession_3=c.asm.D).apply(null,arguments)},sr=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(sr=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c.asm.E).apply(null,arguments)},rs=c._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(rs=c._emscripten_bind_Cloudpilot_RunEmulation_1=c.asm.F).apply(null,arguments)},js=c._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(js=c._emscripten_bind_Cloudpilot_SetClockFactor_1=c.asm.G).apply(null,arguments)},zr=c._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(zr=c._emscripten_bind_Cloudpilot_CopyFrame_0=c.asm.H).apply(null,arguments)},os=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(os=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=c.asm.I).apply(null,arguments)},Si=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Si=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=c.asm.J).apply(null,arguments)},il=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(il=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=c.asm.K).apply(null,arguments)},zs=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(zs=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=c.asm.L).apply(null,arguments)},is=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(is=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=c.asm.M).apply(null,arguments)},Ea=c._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(Ea=c._emscripten_bind_Cloudpilot_QueuePenMove_2=c.asm.N).apply(null,arguments)},Da=c._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(Da=c._emscripten_bind_Cloudpilot_QueuePenUp_0=c.asm.O).apply(null,arguments)},Mt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Mt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=c.asm.P).apply(null,arguments)},Gr=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(Gr=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=c.asm.Q).apply(null,arguments)},Or=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(Or=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=c.asm.R).apply(null,arguments)},Pn=c._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(Pn=c._emscripten_bind_Cloudpilot_IsPowerOff_0=c.asm.S).apply(null,arguments)},Vr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Vr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=c.asm.T).apply(null,arguments)},Mr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(Mr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=c.asm.U).apply(null,arguments)},p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=c.asm.V).apply(null,arguments)},y=c._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=c._emscripten_bind_Cloudpilot_Reset_0=c.asm.W).apply(null,arguments)},w=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c.asm.X).apply(null,arguments)},A=c._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(A=c._emscripten_bind_Cloudpilot_ResetHard_0=c.asm.Y).apply(null,arguments)},j=c._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(j=c._emscripten_bind_Cloudpilot_InstallDb_2=c.asm.Z).apply(null,arguments)},ye=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ye=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c.asm._).apply(null,arguments)},ve=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(ve=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c.asm.$).apply(null,arguments)},we=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(we=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c.asm.aa).apply(null,arguments)},ht=c._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(ht=c._emscripten_bind_Cloudpilot_GetMemorySize_0=c.asm.ba).apply(null,arguments)},d=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(d=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=c.asm.ca).apply(null,arguments)},g=c._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(g=c._emscripten_bind_Cloudpilot_GetRomPtr_0=c.asm.da).apply(null,arguments)},b=c._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(b=c._emscripten_bind_Cloudpilot_GetRomSize_0=c.asm.ea).apply(null,arguments)},T=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(T=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c.asm.fa).apply(null,arguments)},L=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(L=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=c.asm.ga).apply(null,arguments)},M=c._emscripten_bind_Cloudpilot_SaveState_0=function(){return(M=c._emscripten_bind_Cloudpilot_SaveState_0=c.asm.ha).apply(null,arguments)},_e=c._emscripten_bind_Cloudpilot_LoadState_2=function(){return(_e=c._emscripten_bind_Cloudpilot_LoadState_2=c.asm.ia).apply(null,arguments)},me=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(me=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=c.asm.ja).apply(null,arguments)},mt=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(mt=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=c.asm.ka).apply(null,arguments)},Ve=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(Ve=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=c.asm.la).apply(null,arguments)},yt=c._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(yt=c._emscripten_bind_Cloudpilot_StartBackup_0=c.asm.ma).apply(null,arguments)},cn=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(cn=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=c.asm.na).apply(null,arguments)},Et=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Et=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c.asm.oa).apply(null,arguments)},Nt=c._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Nt=c._emscripten_bind_Cloudpilot_IsSuspended_0=c.asm.pa).apply(null,arguments)},zt=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(zt=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=c.asm.qa).apply(null,arguments)},Zn=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(Zn=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=c.asm.ra).apply(null,arguments)},fi=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(fi=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c.asm.sa).apply(null,arguments)},Io=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Io=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=c.asm.ta).apply(null,arguments)},ft=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(ft=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=c.asm.ua).apply(null,arguments)},Gt=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Gt=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=c.asm.va).apply(null,arguments)},mn=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(mn=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=c.asm.wa).apply(null,arguments)},nr=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(nr=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=c.asm.xa).apply(null,arguments)},Lo=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(Lo=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c.asm.ya).apply(null,arguments)},Tr=c._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Tr=c._emscripten_bind_Cloudpilot_AllocateCard_2=c.asm.za).apply(null,arguments)},ld=c._emscripten_bind_Cloudpilot_MountCard_1=function(){return(ld=c._emscripten_bind_Cloudpilot_MountCard_1=c.asm.Aa).apply(null,arguments)},ws=c._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(ws=c._emscripten_bind_Cloudpilot_RemoveCard_1=c.asm.Ba).apply(null,arguments)},sl=c._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(sl=c._emscripten_bind_Cloudpilot_GetCardData_1=c.asm.Ca).apply(null,arguments)},pp=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(pp=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=c.asm.Da).apply(null,arguments)},ut=c._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(ut=c._emscripten_bind_Cloudpilot_GetCardSize_1=c.asm.Ea).apply(null,arguments)},hp=c._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(hp=c._emscripten_bind_Cloudpilot_RemountCards_0=c.asm.Fa).apply(null,arguments)},cd=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(cd=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=c.asm.Ga).apply(null,arguments)},ud=c._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(ud=c._emscripten_bind_Cloudpilot_GetMountedKey_0=c.asm.Ha).apply(null,arguments)},kr=c._emscripten_bind_Cloudpilot___destroy___0=function(){return(kr=c._emscripten_bind_Cloudpilot___destroy___0=c.asm.Ia).apply(null,arguments)},mp=c._emscripten_bind_RomInfo_RomInfo_2=function(){return(mp=c._emscripten_bind_RomInfo_RomInfo_2=c.asm.Ja).apply(null,arguments)},dd=c._emscripten_bind_RomInfo_IsValid_0=function(){return(dd=c._emscripten_bind_RomInfo_IsValid_0=c.asm.Ka).apply(null,arguments)},Qt=c._emscripten_bind_RomInfo_CardVersion_0=function(){return(Qt=c._emscripten_bind_RomInfo_CardVersion_0=c.asm.La).apply(null,arguments)},oo=c._emscripten_bind_RomInfo_CardName_0=function(){return(oo=c._emscripten_bind_RomInfo_CardName_0=c.asm.Ma).apply(null,arguments)},rr=c._emscripten_bind_RomInfo_RomVersion_0=function(){return(rr=c._emscripten_bind_RomInfo_RomVersion_0=c.asm.Na).apply(null,arguments)},Mo=c._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Mo=c._emscripten_bind_RomInfo_RomVersionString_0=c.asm.Oa).apply(null,arguments)},$o=c._emscripten_bind_RomInfo_Supports_1=function(){return($o=c._emscripten_bind_RomInfo_Supports_1=c.asm.Pa).apply(null,arguments)},Ia=c._emscripten_bind_RomInfo___destroy___0=function(){return(Ia=c._emscripten_bind_RomInfo___destroy___0=c.asm.Qa).apply(null,arguments)},pi=c._emscripten_bind_Frame_GetLineWidth_0=function(){return(pi=c._emscripten_bind_Frame_GetLineWidth_0=c.asm.Ra).apply(null,arguments)},Ss=c._emscripten_bind_Frame_GetBpp_0=function(){return(Ss=c._emscripten_bind_Frame_GetBpp_0=c.asm.Sa).apply(null,arguments)},Ut=c._emscripten_bind_Frame_GetLines_0=function(){return(Ut=c._emscripten_bind_Frame_GetLines_0=c.asm.Ta).apply(null,arguments)},Tn=c._emscripten_bind_Frame_GetMargin_0=function(){return(Tn=c._emscripten_bind_Frame_GetMargin_0=c.asm.Ua).apply(null,arguments)},Nr=c._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(Nr=c._emscripten_bind_Frame_GetBytesPerLine_0=c.asm.Va).apply(null,arguments)},Li=c._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Li=c._emscripten_bind_Frame_GetFirstDirtyLine_0=c.asm.Wa).apply(null,arguments)},Gs=c._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Gs=c._emscripten_bind_Frame_GetLastDirtyLine_0=c.asm.Xa).apply(null,arguments)},To=c._emscripten_bind_Frame_GetHasChanges_0=function(){return(To=c._emscripten_bind_Frame_GetHasChanges_0=c.asm.Ya).apply(null,arguments)},Ma=c._emscripten_bind_Frame_GetBuffer_0=function(){return(Ma=c._emscripten_bind_Frame_GetBuffer_0=c.asm.Za).apply(null,arguments)},Ur=c._emscripten_bind_Frame_GetBufferSize_0=function(){return(Ur=c._emscripten_bind_Frame_GetBufferSize_0=c.asm._a).apply(null,arguments)},zl=c._emscripten_bind_Frame_GetScaleX_0=function(){return(zl=c._emscripten_bind_Frame_GetScaleX_0=c.asm.$a).apply(null,arguments)},Gl=c._emscripten_bind_Frame_GetScaleY_0=function(){return(Gl=c._emscripten_bind_Frame_GetScaleY_0=c.asm.ab).apply(null,arguments)},Rn=c._emscripten_bind_Frame___destroy___0=function(){return(Rn=c._emscripten_bind_Frame___destroy___0=c.asm.bb).apply(null,arguments)},Oc=c._emscripten_bind_DbBackup_Init_1=function(){return(Oc=c._emscripten_bind_DbBackup_Init_1=c.asm.cb).apply(null,arguments)},al=c._emscripten_bind_DbBackup_IsInProgress_0=function(){return(al=c._emscripten_bind_DbBackup_IsInProgress_0=c.asm.db).apply(null,arguments)},fd=c._emscripten_bind_DbBackup_IsDone_0=function(){return(fd=c._emscripten_bind_DbBackup_IsDone_0=c.asm.eb).apply(null,arguments)},Ta=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Ta=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=c.asm.fb).apply(null,arguments)},ko=c._emscripten_bind_DbBackup_Save_0=function(){return(ko=c._emscripten_bind_DbBackup_Save_0=c.asm.gb).apply(null,arguments)},ll=c._emscripten_bind_DbBackup_Skip_0=function(){return(ll=c._emscripten_bind_DbBackup_Skip_0=c.asm.hb).apply(null,arguments)},ka=c._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(ka=c._emscripten_bind_DbBackup_GetArchivePtr_0=c.asm.ib).apply(null,arguments)},ss=c._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(ss=c._emscripten_bind_DbBackup_GetArchiveSize_0=c.asm.jb).apply(null,arguments)},cl=c._emscripten_bind_DbBackup___destroy___0=function(){return(cl=c._emscripten_bind_DbBackup___destroy___0=c.asm.kb).apply(null,arguments)},pd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(pd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c.asm.lb).apply(null,arguments)},_r=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(_r=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c.asm.mb).apply(null,arguments)},zm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(zm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c.asm.nb).apply(null,arguments)},Nc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Nc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c.asm.ob).apply(null,arguments)},hd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(hd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c.asm.pb).apply(null,arguments)},Wl=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Wl=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=c.asm.qb).apply(null,arguments)},ql=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(ql=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c.asm.rb).apply(null,arguments)},Aa=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Aa=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c.asm.sb).apply(null,arguments)},Bo=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Bo=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=c.asm.tb).apply(null,arguments)},Gm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Gm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c.asm.ub).apply(null,arguments)},hi=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(hi=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c.asm.vb).apply(null,arguments)},$i=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return($i=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c.asm.wb).apply(null,arguments)},Lc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Lc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c.asm.xb).apply(null,arguments)},ul=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(ul=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=c.asm.yb).apply(null,arguments)},Zl=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(Zl=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c.asm.zb).apply(null,arguments)},Bi=c._emscripten_bind_SuspendContext_GetKind_0=function(){return(Bi=c._emscripten_bind_SuspendContext_GetKind_0=c.asm.Ab).apply(null,arguments)},gp=c._emscripten_bind_SuspendContext_Cancel_0=function(){return(gp=c._emscripten_bind_SuspendContext_Cancel_0=c.asm.Bb).apply(null,arguments)},Wm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Wm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c.asm.Cb).apply(null,arguments)},yp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(yp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c.asm.Db).apply(null,arguments)},_p=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(_p=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c.asm.Eb).apply(null,arguments)},qm=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(qm=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c.asm.Fb).apply(null,arguments)},Zm=c._emscripten_bind_SuspendContext___destroy___0=function(){return(Zm=c._emscripten_bind_SuspendContext___destroy___0=c.asm.Gb).apply(null,arguments)},Km=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Km=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=c.asm.Hb).apply(null,arguments)},Ym=c._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Ym=c._emscripten_bind_ZipfileWalker_GetState_0=c.asm.Ib).apply(null,arguments)},Xm=c._emscripten_bind_ZipfileWalker_Next_0=function(){return(Xm=c._emscripten_bind_ZipfileWalker_Next_0=c.asm.Jb).apply(null,arguments)},Qm=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(Qm=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c.asm.Kb).apply(null,arguments)},Jm=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(Jm=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c.asm.Lb).apply(null,arguments)},eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c.asm.Mb).apply(null,arguments)},tg=c._emscripten_bind_ZipfileWalker___destroy___0=function(){return(tg=c._emscripten_bind_ZipfileWalker___destroy___0=c.asm.Nb).apply(null,arguments)},ng=c._emscripten_bind_SessionImage_SessionImage_0=function(){return(ng=c._emscripten_bind_SessionImage_SessionImage_0=c.asm.Ob).apply(null,arguments)},rg=c._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(rg=c._emscripten_bind_SessionImage_GetDeviceId_0=c.asm.Pb).apply(null,arguments)},og=c._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(og=c._emscripten_bind_SessionImage_SetDeviceId_1=c.asm.Qb).apply(null,arguments)},md=c._emscripten_bind_SessionImage_GetRomImage_0=function(){return(md=c._emscripten_bind_SessionImage_GetRomImage_0=c.asm.Rb).apply(null,arguments)},gd=c._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(gd=c._emscripten_bind_SessionImage_GetRomImageSize_0=c.asm.Sb).apply(null,arguments)},ig=c._emscripten_bind_SessionImage_SetRomImage_2=function(){return(ig=c._emscripten_bind_SessionImage_SetRomImage_2=c.asm.Tb).apply(null,arguments)},sg=c._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(sg=c._emscripten_bind_SessionImage_GetMemoryImage_0=c.asm.Ub).apply(null,arguments)},ag=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(ag=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=c.asm.Vb).apply(null,arguments)},Ws=c._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Ws=c._emscripten_bind_SessionImage_SetMemoryImage_2=c.asm.Wb).apply(null,arguments)},vp=c._emscripten_bind_SessionImage_GetMetadata_0=function(){return(vp=c._emscripten_bind_SessionImage_GetMetadata_0=c.asm.Xb).apply(null,arguments)},mo=c._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(mo=c._emscripten_bind_SessionImage_GetMetadataSize_0=c.asm.Yb).apply(null,arguments)},yd=c._emscripten_bind_SessionImage_SetMetadata_2=function(){return(yd=c._emscripten_bind_SessionImage_SetMetadata_2=c.asm.Zb).apply(null,arguments)},bp=c._emscripten_bind_SessionImage_GetSavestate_0=function(){return(bp=c._emscripten_bind_SessionImage_GetSavestate_0=c.asm._b).apply(null,arguments)},wp=c._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(wp=c._emscripten_bind_SessionImage_GetSavestateSize_0=c.asm.$b).apply(null,arguments)},_d=c._emscripten_bind_SessionImage_SetSavestate_2=function(){return(_d=c._emscripten_bind_SessionImage_SetSavestate_2=c.asm.ac).apply(null,arguments)},vd=c._emscripten_bind_SessionImage_GetVersion_0=function(){return(vd=c._emscripten_bind_SessionImage_GetVersion_0=c.asm.bc).apply(null,arguments)},Sp=c._emscripten_bind_SessionImage_Serialize_0=function(){return(Sp=c._emscripten_bind_SessionImage_Serialize_0=c.asm.cc).apply(null,arguments)},$c=c._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return($c=c._emscripten_bind_SessionImage_GetSerializedImage_0=c.asm.dc).apply(null,arguments)},Cp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Cp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=c.asm.ec).apply(null,arguments)},Ci=c._emscripten_bind_SessionImage_Deserialize_2=function(){return(Ci=c._emscripten_bind_SessionImage_Deserialize_2=c.asm.fc).apply(null,arguments)},bd=c._emscripten_bind_SessionImage___destroy___0=function(){return(bd=c._emscripten_bind_SessionImage___destroy___0=c.asm.gc).apply(null,arguments)};function Ei(l){var h=c._main;try{var z=h(0,0);return function rt(l,h){le=l,function nt(l){le=l,function Xt(){return Fe}()||(c.onExit&&c.onExit(l),it=!0),H(l,new xn(l))}(l)}(z),z}catch(Ce){return function Ae(l){if(l instanceof xn||"unwind"==l)return le;H(1,l)}(Ce)}}function Dp(l){function h(){xa||(xa=!0,c.calledRun=!0,!it&&(function hn(){!c.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,fr.init(),jt(Pe)}(),function er(){jt(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),wd&&Ei(),function zn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)l=c.postRun.shift(),rn.unshift(l);var l;jt(rn)}()))}l=l||Q,En>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)l=c.preRun.shift(),pt.unshift(l);var l;jt(pt)}(),En>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),h()},1)):h())}if(c.___original_main=function(){return(c.___original_main=c.asm.ic).apply(null,arguments)},c.___start_em_js=244003,c.___stop_em_js=244200,c.UTF8ToString=Be,c.addFunction=function di(l,h){if(pr||(pr=new WeakMap,function Qo(l,h){if(pr)for(var v=l;v<l+h;v++){var x=po(v);x&&pr.set(x,v)}}(0,Se.length)),pr.has(l))return pr.get(l);var v=function va(){if(Ni.length)return Ni.pop();try{Se.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Se.length-1}();try{ba(v,l)}catch(z){if(!(z instanceof TypeError))throw z;ba(v,function fo(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Ct(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},x=1;x<l.length;++x)v.parameters.push(h[l[x]]),"j"===l[x]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function sn(l,h){var v=l.slice(0,1),x=l.slice(1),z={i:127,p:127,j:126,f:125,d:124};h.push(96),Vt(x.length,h);for(var Ce=0;Ce<x.length;++Ce)h.push(z[x[Ce]]);"v"==v?h.push(0):h.push(1,z[v])}(h,v);var x=[0,97,115,109,1,0,0,0,1];Vt(v.length,x),x.push.apply(x,v),x.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var z=new WebAssembly.Module(new Uint8Array(x));return new WebAssembly.Instance(z,{e:{f:l}}).exports.f}(l,h))}return pr.set(l,v),v},On=function l(){xa||Dp(),xa||(On=l)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var wd=!0;function hr(){}function io(l){return(l||hr).__cache__}function Qn(l,h){var v=io(h),x=v[l];return x||((x=Object.create((h||hr).prototype)).ptr=l,v[l]=x)}c.noInitialRun&&(wd=!1),Dp(),(hr.prototype=Object.create(hr.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},c.WrapperObject=hr,c.getCache=io,c.wrapPointer=Qn,c.castObject=function Bc(l,h){return Qn(l.ptr,h)},c.NULL=Qn(0),c.destroy=function lg(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete io(l.__class__)[l.ptr]},c.compare=function qs(l,h){return l.ptr===h.ptr},c.getPointer=function Ip(l){return l.ptr},c.getClass=function Sd(l){return l.__class__};var Dt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Dt.needed){for(var l=0;l<Dt.temps.length;l++)c._free(Dt.temps[l]);Dt.temps.length=0,c._free(Dt.buffer),Dt.buffer=0,Dt.size+=Dt.needed,Dt.needed=0}Dt.buffer||(Dt.size+=128,Dt.buffer=c._malloc(Dt.size),Ee(Dt.buffer)),Dt.pos=0},alloc:function(l,h){Ee(Dt.buffer);var z,x=l.length*h.BYTES_PER_ELEMENT;return Dt.pos+(x=x+7&-8)>=Dt.size?(Ee(x>0),Dt.needed+=x,z=c._malloc(x),Dt.temps.push(z)):(z=Dt.buffer+Dt.pos,Dt.pos+=x),z},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var z=0;z<l.length;z++)h[v+z]=l[z]}};function Ao(l){if("string"==typeof l){var h=on(l),v=Dt.alloc(h,Xe);return Dt.copy(h,Xe,v),v}return l}function wr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Qe(){this.ptr=rl(),io(Qe)[this.ptr]=this}function Hr(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=mp(l,h),io(Hr)[this.ptr]=this}function qn(){throw"cannot construct a Frame, no constructor in IDL"}function mr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Uo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function mi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function st(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function gn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function kt(){throw"cannot construct a SuspendContext, no constructor in IDL"}function xt(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Km(l,h),io(xt)[this.ptr]=this}function Ht(){this.ptr=ng(),io(Ht)[this.ptr]=this}return(wr.prototype=Object.create(hr.prototype)).constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},c.VoidPtr=wr,wr.prototype.__destroy__=wr.prototype.__destroy__=function(){Un(this.ptr)},(Qe.prototype=Object.create(hr.prototype)).constructor=Qe,Qe.prototype.__class__=Qe,Qe.__cache__={},c.Cloudpilot=Qe,Qe.prototype.Malloc=Qe.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),Qn(ol(this.ptr,l),wr)},Qe.prototype.Free=Qe.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),jl(this.ptr,l)},Qe.prototype.Nullptr=Qe.prototype.Nullptr=function(){return Qn(gt(this.ptr),wr)},Qe.prototype.InitializeSession=Qe.prototype.InitializeSession=function(l,h,v){var x=this.ptr;return Dt.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Ao(v),!!xs(x,l,h,v)},Qe.prototype.GetCyclesPerSecond=Qe.prototype.GetCyclesPerSecond=function(){return sr(this.ptr)},Qe.prototype.RunEmulation=Qe.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),rs(this.ptr,l)},Qe.prototype.SetClockFactor=Qe.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),js(this.ptr,l)},Qe.prototype.CopyFrame=Qe.prototype.CopyFrame=function(){return Qn(zr(this.ptr),qn)},Qe.prototype.IsScreenDirty=Qe.prototype.IsScreenDirty=function(){return!!os(this.ptr)},Qe.prototype.MarkScreenClean=Qe.prototype.MarkScreenClean=function(){Si(this.ptr)},Qe.prototype.MinMemoryForDevice=Qe.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),il(h,l)},Qe.prototype.FramebufferSizeForDevice=Qe.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),zs(h,l)},Qe.prototype.TotalMemoryForDevice=Qe.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),is(h,l)},Qe.prototype.QueuePenMove=Qe.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Ea(this.ptr,l,h)},Qe.prototype.QueuePenUp=Qe.prototype.QueuePenUp=function(){Da(this.ptr)},Qe.prototype.QueueButtonDown=Qe.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Mt(this.ptr,l)},Qe.prototype.QueueButtonUp=Qe.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),Gr(this.ptr,l)},Qe.prototype.QueueKeyboardEvent=Qe.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Or(this.ptr,l,h)},Qe.prototype.IsPowerOff=Qe.prototype.IsPowerOff=function(){return!!Pn(this.ptr)},Qe.prototype.IsUIInitialized=Qe.prototype.IsUIInitialized=function(){return!!Vr(this.ptr)},Qe.prototype.GetOSVersion=Qe.prototype.GetOSVersion=function(){return Mr(this.ptr)},Qe.prototype.IsSetupComplete=Qe.prototype.IsSetupComplete=function(){return!!p(this.ptr)},Qe.prototype.Reset=Qe.prototype.Reset=function(){y(this.ptr)},Qe.prototype.ResetNoExtensions=Qe.prototype.ResetNoExtensions=function(){w(this.ptr)},Qe.prototype.ResetHard=Qe.prototype.ResetHard=function(){A(this.ptr)},Qe.prototype.InstallDb=Qe.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),j(this.ptr,l,h)},Qe.prototype.GetPalette2bitMapping=Qe.prototype.GetPalette2bitMapping=function(){return ye(this.ptr)},Qe.prototype.GetMemoryPtr=Qe.prototype.GetMemoryPtr=function(){return Qn(ve(this.ptr),wr)},Qe.prototype.GetDirtyPagesPtr=Qe.prototype.GetDirtyPagesPtr=function(){return Qn(we(this.ptr),wr)},Qe.prototype.GetMemorySize=Qe.prototype.GetMemorySize=function(){return ht(this.ptr)},Qe.prototype.ImportMemoryImage=Qe.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!d(this.ptr,l,h)},Qe.prototype.GetRomPtr=Qe.prototype.GetRomPtr=function(){return Qn(g(this.ptr),wr)},Qe.prototype.GetRomSize=Qe.prototype.GetRomSize=function(){return b(this.ptr)},Qe.prototype.GetSavestatePtr=Qe.prototype.GetSavestatePtr=function(){return Qn(T(this.ptr),wr)},Qe.prototype.GetSavestateSize=Qe.prototype.GetSavestateSize=function(){return L(this.ptr)},Qe.prototype.SaveState=Qe.prototype.SaveState=function(){return!!M(this.ptr)},Qe.prototype.LoadState=Qe.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!_e(this.ptr,l,h)},Qe.prototype.GetHotsyncName=Qe.prototype.GetHotsyncName=function(){return Be(me(this.ptr))},Qe.prototype.SetHotsyncName=Qe.prototype.SetHotsyncName=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),mt(h,l)},Qe.prototype.RegisterPwmHandler=Qe.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Ve(this.ptr,l)},Qe.prototype.StartBackup=Qe.prototype.StartBackup=function(){return Qn(yt(this.ptr),mr)},Qe.prototype.SetClipboardIntegration=Qe.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),cn(this.ptr,l)},Qe.prototype.GetClipboardIntegration=Qe.prototype.GetClipboardIntegration=function(){return!!Et(this.ptr)},Qe.prototype.IsSuspended=Qe.prototype.IsSuspended=function(){return!!Nt(this.ptr)},Qe.prototype.GetSuspendContext=Qe.prototype.GetSuspendContext=function(){return Qn(zt(this.ptr),kt)},Qe.prototype.SetNetworkRedirection=Qe.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),Zn(this.ptr,l)},Qe.prototype.GetNetworkRedirection=Qe.prototype.GetNetworkRedirection=function(){return!!fi(this.ptr)},Qe.prototype.RegisterProxyDisconnectHandler=Qe.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Io(this.ptr,l)},Qe.prototype.SetHotsyncNameManagement=Qe.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),ft(this.ptr,l)},Qe.prototype.LaunchAppByName=Qe.prototype.LaunchAppByName=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),!!Gt(h,l)},Qe.prototype.LaunchAppByDbHeader=Qe.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!mn(this.ptr,l,h)},Qe.prototype.DeviceSupportsCardSize=Qe.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!nr(this.ptr,l)},Qe.prototype.ClearExternalStorage=Qe.prototype.ClearExternalStorage=function(){Lo(this.ptr)},Qe.prototype.AllocateCard=Qe.prototype.AllocateCard=function(l,h){var v=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),h&&"object"==typeof h&&(h=h.ptr),!!Tr(v,l,h)},Qe.prototype.MountCard=Qe.prototype.MountCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),!!ld(h,l)},Qe.prototype.RemoveCard=Qe.prototype.RemoveCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),!!ws(h,l)},Qe.prototype.GetCardData=Qe.prototype.GetCardData=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),Qn(sl(h,l),wr)},Qe.prototype.GetCardDirtyPages=Qe.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),Qn(pp(h,l),wr)},Qe.prototype.GetCardSize=Qe.prototype.GetCardSize=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),ut(h,l)},Qe.prototype.RemountCards=Qe.prototype.RemountCards=function(){hp(this.ptr)},Qe.prototype.GetSupportLevel=Qe.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),cd(this.ptr,l)},Qe.prototype.GetMountedKey=Qe.prototype.GetMountedKey=function(){return Be(ud(this.ptr))},Qe.prototype.__destroy__=Qe.prototype.__destroy__=function(){kr(this.ptr)},(Hr.prototype=Object.create(hr.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},c.RomInfo=Hr,Hr.prototype.IsValid=Hr.prototype.IsValid=function(){return!!dd(this.ptr)},Hr.prototype.CardVersion=Hr.prototype.CardVersion=function(){return Qt(this.ptr)},Hr.prototype.CardName=Hr.prototype.CardName=function(){return Be(oo(this.ptr))},Hr.prototype.RomVersion=Hr.prototype.RomVersion=function(){return rr(this.ptr)},Hr.prototype.RomVersionString=Hr.prototype.RomVersionString=function(){return Be(Mo(this.ptr))},Hr.prototype.Supports=Hr.prototype.Supports=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),!!$o(h,l)},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){Ia(this.ptr)},(qn.prototype=Object.create(hr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},c.Frame=qn,qn.prototype.GetLineWidth=qn.prototype.GetLineWidth=function(){return pi(this.ptr)},qn.prototype.GetBpp=qn.prototype.GetBpp=function(){return Ss(this.ptr)},qn.prototype.GetLines=qn.prototype.GetLines=function(){return Ut(this.ptr)},qn.prototype.GetMargin=qn.prototype.GetMargin=function(){return Tn(this.ptr)},qn.prototype.GetBytesPerLine=qn.prototype.GetBytesPerLine=function(){return Nr(this.ptr)},qn.prototype.GetFirstDirtyLine=qn.prototype.GetFirstDirtyLine=function(){return Li(this.ptr)},qn.prototype.GetLastDirtyLine=qn.prototype.GetLastDirtyLine=function(){return Gs(this.ptr)},qn.prototype.GetHasChanges=qn.prototype.GetHasChanges=function(){return!!To(this.ptr)},qn.prototype.GetBuffer=qn.prototype.GetBuffer=function(){return Qn(Ma(this.ptr),wr)},qn.prototype.GetBufferSize=qn.prototype.GetBufferSize=function(){return Ur(this.ptr)},qn.prototype.GetScaleX=qn.prototype.GetScaleX=function(){return zl(this.ptr)},qn.prototype.GetScaleY=qn.prototype.GetScaleY=function(){return Gl(this.ptr)},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){Rn(this.ptr)},(mr.prototype=Object.create(hr.prototype)).constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},c.DbBackup=mr,mr.prototype.Init=mr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Oc(this.ptr,l)},mr.prototype.IsInProgress=mr.prototype.IsInProgress=function(){return!!al(this.ptr)},mr.prototype.IsDone=mr.prototype.IsDone=function(){return!!fd(this.ptr)},mr.prototype.GetCurrentDatabase=mr.prototype.GetCurrentDatabase=function(){return Be(Ta(this.ptr))},mr.prototype.Save=mr.prototype.Save=function(){return!!ko(this.ptr)},mr.prototype.Skip=mr.prototype.Skip=function(){ll(this.ptr)},mr.prototype.GetArchivePtr=mr.prototype.GetArchivePtr=function(){return Qn(ka(this.ptr),wr)},mr.prototype.GetArchiveSize=mr.prototype.GetArchiveSize=function(){return ss(this.ptr)},mr.prototype.__destroy__=mr.prototype.__destroy__=function(){cl(this.ptr)},(Uo.prototype=Object.create(hr.prototype)).constructor=Uo,Uo.prototype.__class__=Uo,Uo.__cache__={},c.SuspendContextClipboardCopy=Uo,Uo.prototype.Cancel=Uo.prototype.Cancel=function(){pd(this.ptr)},Uo.prototype.Resume=Uo.prototype.Resume=function(){_r(this.ptr)},Uo.prototype.GetClipboardContent=Uo.prototype.GetClipboardContent=function(){return Be(zm(this.ptr))},Uo.prototype.__destroy__=Uo.prototype.__destroy__=function(){Nc(this.ptr)},(mi.prototype=Object.create(hr.prototype)).constructor=mi,mi.prototype.__class__=mi,mi.__cache__={},c.SuspendContextClipboardPaste=mi,mi.prototype.Cancel=mi.prototype.Cancel=function(){hd(this.ptr)},mi.prototype.Resume=mi.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),Wl(h,l)},mi.prototype.__destroy__=mi.prototype.__destroy__=function(){ql(this.ptr)},(st.prototype=Object.create(hr.prototype)).constructor=st,st.prototype.__class__=st,st.__cache__={},c.SuspendContextNetworkConnect=st,st.prototype.Cancel=st.prototype.Cancel=function(){Aa(this.ptr)},st.prototype.Resume=st.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),Bo(h,l)},st.prototype.__destroy__=st.prototype.__destroy__=function(){Gm(this.ptr)},(gn.prototype=Object.create(hr.prototype)).constructor=gn,gn.prototype.__class__=gn,gn.__cache__={},c.SuspendContextNetworkRpc=gn,gn.prototype.Cancel=gn.prototype.Cancel=function(){hi(this.ptr)},gn.prototype.GetRequestSize=gn.prototype.GetRequestSize=function(){return $i(this.ptr)},gn.prototype.GetRequestData=gn.prototype.GetRequestData=function(){return Qn(Lc(this.ptr),wr)},gn.prototype.ReceiveResponse=gn.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ul(this.ptr,l,h)},gn.prototype.__destroy__=gn.prototype.__destroy__=function(){Zl(this.ptr)},(kt.prototype=Object.create(hr.prototype)).constructor=kt,kt.prototype.__class__=kt,kt.__cache__={},c.SuspendContext=kt,kt.prototype.GetKind=kt.prototype.GetKind=function(){return Bi(this.ptr)},kt.prototype.Cancel=kt.prototype.Cancel=function(){gp(this.ptr)},kt.prototype.AsContextClipboardCopy=kt.prototype.AsContextClipboardCopy=function(){return Qn(Wm(this.ptr),Uo)},kt.prototype.AsContextClipboardPaste=kt.prototype.AsContextClipboardPaste=function(){return Qn(yp(this.ptr),mi)},kt.prototype.AsContextNetworkConnect=kt.prototype.AsContextNetworkConnect=function(){return Qn(_p(this.ptr),st)},kt.prototype.AsContextNetworkRpc=kt.prototype.AsContextNetworkRpc=function(){return Qn(qm(this.ptr),gn)},kt.prototype.__destroy__=kt.prototype.__destroy__=function(){Zm(this.ptr)},(xt.prototype=Object.create(hr.prototype)).constructor=xt,xt.prototype.__class__=xt,xt.__cache__={},c.ZipfileWalker=xt,xt.prototype.GetState=xt.prototype.GetState=function(){return Ym(this.ptr)},xt.prototype.Next=xt.prototype.Next=function(){return Xm(this.ptr)},xt.prototype.GetCurrentEntrySize=xt.prototype.GetCurrentEntrySize=function(){return Qm(this.ptr)},xt.prototype.GetCurrentEntryName=xt.prototype.GetCurrentEntryName=function(){return Be(Jm(this.ptr))},xt.prototype.GetCurrentEntryContent=xt.prototype.GetCurrentEntryContent=function(){return Qn(eg(this.ptr),wr)},xt.prototype.__destroy__=xt.prototype.__destroy__=function(){tg(this.ptr)},(Ht.prototype=Object.create(hr.prototype)).constructor=Ht,Ht.prototype.__class__=Ht,Ht.__cache__={},c.SessionImage=Ht,Ht.prototype.GetDeviceId=Ht.prototype.GetDeviceId=function(){return Be(rg(this.ptr))},Ht.prototype.SetDeviceId=Ht.prototype.SetDeviceId=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ao(l),Qn(og(h,l),Ht)},Ht.prototype.GetRomImage=Ht.prototype.GetRomImage=function(){return Qn(md(this.ptr),wr)},Ht.prototype.GetRomImageSize=Ht.prototype.GetRomImageSize=function(){return gd(this.ptr)},Ht.prototype.SetRomImage=Ht.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Qn(ig(this.ptr,l,h),Ht)},Ht.prototype.GetMemoryImage=Ht.prototype.GetMemoryImage=function(){return Qn(sg(this.ptr),wr)},Ht.prototype.GetMemoryImageSize=Ht.prototype.GetMemoryImageSize=function(){return ag(this.ptr)},Ht.prototype.SetMemoryImage=Ht.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Qn(Ws(this.ptr,l,h),Ht)},Ht.prototype.GetMetadata=Ht.prototype.GetMetadata=function(){return Qn(vp(this.ptr),wr)},Ht.prototype.GetMetadataSize=Ht.prototype.GetMetadataSize=function(){return mo(this.ptr)},Ht.prototype.SetMetadata=Ht.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Qn(yd(this.ptr,l,h),Ht)},Ht.prototype.GetSavestate=Ht.prototype.GetSavestate=function(){return Qn(bp(this.ptr),wr)},Ht.prototype.GetSavestateSize=Ht.prototype.GetSavestateSize=function(){return wp(this.ptr)},Ht.prototype.SetSavestate=Ht.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Qn(_d(this.ptr,l,h),Ht)},Ht.prototype.GetVersion=Ht.prototype.GetVersion=function(){return vd(this.ptr)},Ht.prototype.Serialize=Ht.prototype.Serialize=function(){return!!Sp(this.ptr)},Ht.prototype.GetSerializedImage=Ht.prototype.GetSerializedImage=function(){return Qn($c(this.ptr),wr)},Ht.prototype.GetSerializedImageSize=Ht.prototype.GetSerializedImageSize=function(){return Cp(this.ptr)},Ht.prototype.Deserialize=Ht.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Ci(this.ptr,l,h)},Ht.prototype.__destroy__=Ht.prototype.__destroy__=function(){bd(this.ptr)},I.ready});$e.exports=Ge},9084:$e=>{var F,Ge=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,ee,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(p,y){re=p,ee=y});var G,Re,Le,W=Object.assign({},c),Q=[],B="./this.program",H=(p,y)=>{throw y},ce="object"==typeof window,X="function"==typeof importScripts,U=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||X)&&(X?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),F&&(U=F),U=0!==U.indexOf("blob:")?U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},X&&(Le=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Re=(p,y,w)=>{var A=new XMLHttpRequest;A.open("GET",p,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?y(A.response):w()},A.onerror=w,A.send(null)});var de,q=c.print||console.log.bind(console),Y=c.printErr||console.warn.bind(console);Object.assign(c,W),W=null,c.arguments&&(Q=c.arguments),c.thisProgram&&(B=c.thisProgram),c.quit&&(H=c.quit),c.wasmBinary&&(de=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&Yn("no native wasm support detected");var ue,le,it=!1;function Ee(p,y){p||Yn(y)}var He,Xe,vt,N,ge,tt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(p,y,w){for(var A=y+w,j=y;p[j]&&!(j>=A);)++j;if(j-y>16&&p.buffer&&Ie)return Ie.decode(p.subarray(y,j));for(var ye="";y<j;){var ve=p[y++];if(128&ve){var we=63&p[y++];if(192!=(224&ve)){var ht=63&p[y++];if((ve=224==(240&ve)?(15&ve)<<12|we<<6|ht:(7&ve)<<18|we<<12|ht<<6|63&p[y++])<65536)ye+=String.fromCharCode(ve);else{var d=ve-65536;ye+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else ye+=String.fromCharCode((31&ve)<<6|we)}else ye+=String.fromCharCode(ve)}return ye}function Be(p,y){return p?Ye(vt,p,y):""}function ke(p,y,w,A){if(!(A>0))return 0;for(var j=w,ye=w+A-1,ve=0;ve<p.length;++ve){var we=p.charCodeAt(ve);if(we>=55296&&we<=57343&&(we=65536+((1023&we)<<10)|1023&p.charCodeAt(++ve)),we<=127){if(w>=ye)break;y[w++]=we}else if(we<=2047){if(w+1>=ye)break;y[w++]=192|we>>6,y[w++]=128|63&we}else if(we<=65535){if(w+2>=ye)break;y[w++]=224|we>>12,y[w++]=128|we>>6&63,y[w++]=128|63&we}else{if(w+3>=ye)break;y[w++]=240|we>>18,y[w++]=128|we>>12&63,y[w++]=128|we>>6&63,y[w++]=128|63&we}}return y[w]=0,w-j}function ne(p){for(var y=0,w=0;w<p.length;++w){var A=p.charCodeAt(w);A<=127?y++:A<=2047?y+=2:A>=55296&&A<=57343?(y+=4,++w):y+=3}return y}function Ue(p){He=p,c.HEAP8=Xe=new Int8Array(p),c.HEAP16=new Int16Array(p),c.HEAP32=N=new Int32Array(p),c.HEAPU8=vt=new Uint8Array(p),c.HEAPU16=new Uint16Array(p),c.HEAPU32=ge=new Uint32Array(p),c.HEAPF32=new Float32Array(p),c.HEAPF64=tt=new Float64Array(p)}var un,pt=[],Pe=[],Tt=[],rn=[],En=0,Yr=null,On=null;function Rr(p){En++,c.monitorRunDependencies&&c.monitorRunDependencies(En)}function vr(p){if(En--,c.monitorRunDependencies&&c.monitorRunDependencies(En),0==En&&(null!==Yr&&(clearInterval(Yr),Yr=null),On)){var y=On;On=null,y()}}function Yn(p){c.onAbort&&c.onAbort(p),Y(p="Aborted("+p+")"),it=!0,le=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw ee(y),y}function jr(p){return p.startsWith("data:application/octet-stream;base64,")}function $r(p){try{if(p==un&&de)return new Uint8Array(de);if(Le)return Le(p);throw"both async and sync fetching of the wasm failed"}catch(y){Yn(y)}}jr(un="fstools_web.wasm")||(un=function V(p){return c.locateFile?c.locateFile(p,U):U+p}(un));var at,ae,ze={40318:()=>{throw new Error("terminated")}};function Dn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function xn(p){for(;p.length>0;)p.shift()(c)}var jt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var w=0,A=p.length-1;A>=0;A--){var j=p[A];"."===j?p.splice(A,1):".."===j?(p.splice(A,1),w++):w&&(p.splice(A,1),w--)}if(y)for(;w;w--)p.unshift("..");return p},normalize:p=>{var y=jt.isAbs(p),w="/"===p.substr(-1);return!(p=jt.normalizeArray(p.split("/").filter(A=>!!A),!y).join("/"))&&!y&&(p="."),p&&w&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=jt.splitPath(p),w=y[0],A=y[1];return w||A?(A&&(A=A.substr(0,A.length-1)),w+A):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=jt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return jt.normalize(p.join("/"))},join2:(p,y)=>jt.normalize(p+"/"+y)},or={resolve:function(){for(var p="",y=!1,w=arguments.length-1;w>=-1&&!y;w--){var A=w>=0?arguments[w]:C.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";p=A+"/"+p,y=jt.isAbs(A)}return(y?"/":"")+(p=jt.normalizeArray(p.split("/").filter(j=>!!j),!y).join("/"))||"."},relative:(p,y)=>{function w(d){for(var g=0;g<d.length&&""===d[g];g++);for(var b=d.length-1;b>=0&&""===d[b];b--);return g>b?[]:d.slice(g,b-g+1)}p=or.resolve(p).substr(1),y=or.resolve(y).substr(1);for(var A=w(p.split("/")),j=w(y.split("/")),ye=Math.min(A.length,j.length),ve=ye,we=0;we<ye;we++)if(A[we]!==j[we]){ve=we;break}var ht=[];for(we=ve;we<A.length;we++)ht.push("..");return(ht=ht.concat(j.slice(ve))).join("/")}};function dn(p,y,w){var A=w>0?w:ne(p)+1,j=new Array(A),ye=ke(p,j,0,j.length);return y&&(j.length=ye),j}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){tr.ttys[p]={input:[],output:[],ops:y},C.registerDevice(p,tr.stream_ops)},stream_ops:{open:function(p){var y=tr.ttys[p.node.rdev];if(!y)throw new C.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,w,A,j){if(!p.tty||!p.tty.ops.get_char)throw new C.ErrnoError(60);for(var ye=0,ve=0;ve<A;ve++){var we;try{we=p.tty.ops.get_char(p.tty)}catch{throw new C.ErrnoError(29)}if(void 0===we&&0===ye)throw new C.ErrnoError(6);if(null==we)break;ye++,y[w+ve]=we}return ye&&(p.node.timestamp=Date.now()),ye},write:function(p,y,w,A,j){if(!p.tty||!p.tty.ops.put_char)throw new C.ErrnoError(60);try{for(var ye=0;ye<A;ye++)p.tty.ops.put_char(p.tty,y[w+ye])}catch{throw new C.ErrnoError(29)}return A&&(p.node.timestamp=Date.now()),ye}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=dn(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(q(Ye(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(q(Ye(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(Y(Ye(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(Y(Ye(p.output,0)),p.output=[])}}};function cr(p){Yn()}var on={ops_table:null,mount:function(p){return on.createNode(null,"/",16895,0)},createNode:function(p,y,w,A){if(C.isBlkdev(w)||C.isFIFO(w))throw new C.ErrnoError(63);on.ops_table||(on.ops_table={dir:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr,lookup:on.node_ops.lookup,mknod:on.node_ops.mknod,rename:on.node_ops.rename,unlink:on.node_ops.unlink,rmdir:on.node_ops.rmdir,readdir:on.node_ops.readdir,symlink:on.node_ops.symlink},stream:{llseek:on.stream_ops.llseek}},file:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr},stream:{llseek:on.stream_ops.llseek,read:on.stream_ops.read,write:on.stream_ops.write,allocate:on.stream_ops.allocate,mmap:on.stream_ops.mmap,msync:on.stream_ops.msync}},link:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr,readlink:on.node_ops.readlink},stream:{}},chrdev:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr},stream:C.chrdev_stream_ops}});var j=C.createNode(p,y,w,A);return C.isDir(j.mode)?(j.node_ops=on.ops_table.dir.node,j.stream_ops=on.ops_table.dir.stream,j.contents={}):C.isFile(j.mode)?(j.node_ops=on.ops_table.file.node,j.stream_ops=on.ops_table.file.stream,j.usedBytes=0,j.contents=null):C.isLink(j.mode)?(j.node_ops=on.ops_table.link.node,j.stream_ops=on.ops_table.link.stream):C.isChrdev(j.mode)&&(j.node_ops=on.ops_table.chrdev.node,j.stream_ops=on.ops_table.chrdev.stream),j.timestamp=Date.now(),p&&(p.contents[y]=j,p.timestamp=j.timestamp),j},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var w=p.contents?p.contents.length:0;if(!(w>=y)){y=Math.max(y,w*(w<1048576?2:1.125)>>>0),0!=w&&(y=Math.max(y,256));var j=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(j.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(y),w&&p.contents.set(w.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=C.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=C.isDir(p.mode)?4096:C.isFile(p.mode)?p.usedBytes:C.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&on.resizeFileStorage(p,y.size)},lookup:function(p,y){throw C.genericErrors[44]},mknod:function(p,y,w,A){return on.createNode(p,y,w,A)},rename:function(p,y,w){if(C.isDir(p.mode)){var A;try{A=C.lookupNode(y,w)}catch{}if(A)for(var j in A.contents)throw new C.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,y.contents[w]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var w=C.lookupNode(p,y);for(var A in w.contents)throw new C.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var w in p.contents)p.contents.hasOwnProperty(w)&&y.push(w);return y},symlink:function(p,y,w){var A=on.createNode(p,y,41471,0);return A.link=w,A},readlink:function(p){if(!C.isLink(p.mode))throw new C.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,w,A,j){var ye=p.node.contents;if(j>=p.node.usedBytes)return 0;var ve=Math.min(p.node.usedBytes-j,A);if(ve>8&&ye.subarray)y.set(ye.subarray(j,j+ve),w);else for(var we=0;we<ve;we++)y[w+we]=ye[j+we];return ve},write:function(p,y,w,A,j,ye){if(y.buffer===Xe.buffer&&(ye=!1),!A)return 0;var ve=p.node;if(ve.timestamp=Date.now(),y.subarray&&(!ve.contents||ve.contents.subarray)){if(ye)return ve.contents=y.subarray(w,w+A),ve.usedBytes=A,A;if(0===ve.usedBytes&&0===j)return ve.contents=y.slice(w,w+A),ve.usedBytes=A,A;if(j+A<=ve.usedBytes)return ve.contents.set(y.subarray(w,w+A),j),A}if(on.expandFileStorage(ve,j+A),ve.contents.subarray&&y.subarray)ve.contents.set(y.subarray(w,w+A),j);else for(var we=0;we<A;we++)ve.contents[j+we]=y[w+we];return ve.usedBytes=Math.max(ve.usedBytes,j+A),A},llseek:function(p,y,w){var A=y;if(1===w?A+=p.position:2===w&&C.isFile(p.node.mode)&&(A+=p.node.usedBytes),A<0)throw new C.ErrnoError(28);return A},allocate:function(p,y,w){on.expandFileStorage(p.node,y+w),p.node.usedBytes=Math.max(p.node.usedBytes,y+w)},mmap:function(p,y,w,A,j){if(!C.isFile(p.node.mode))throw new C.ErrnoError(43);var ye,ve,we=p.node.contents;if(2&j||we.buffer!==He){if((w>0||w+y<we.length)&&(we=we.subarray?we.subarray(w,w+y):Array.prototype.slice.call(we,w,w+y)),ve=!0,!(ye=cr()))throw new C.ErrnoError(48);Xe.set(we,ye)}else ve=!1,ye=we.byteOffset;return{ptr:ye,allocated:ve}},msync:function(p,y,w,A,j){return on.stream_ops.write(p,y,0,A,w,!1),0}}},C={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=or.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new C.ErrnoError(32);for(var A=p.split("/").filter(b=>!!b),j=C.root,ye="/",ve=0;ve<A.length;ve++){var we=ve===A.length-1;if(we&&y.parent)break;if(j=C.lookupNode(j,A[ve]),ye=jt.join2(ye,A[ve]),C.isMountpoint(j)&&(!we||we&&y.follow_mount)&&(j=j.mounted.root),!we||y.follow)for(var ht=0;C.isLink(j.mode);){var d=C.readlink(ye);if(ye=or.resolve(jt.dirname(ye),d),j=C.lookupPath(ye,{recurse_count:y.recurse_count+1}).node,ht++>40)throw new C.ErrnoError(32)}}return{path:ye,node:j}},getPath:p=>{for(var y;;){if(C.isRoot(p)){var w=p.mount.mountpoint;return y?"/"!==w[w.length-1]?w+"/"+y:w+y:w}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var w=0,A=0;A<y.length;A++)w=(w<<5)-w+y.charCodeAt(A)|0;return(p+w>>>0)%C.nameTable.length},hashAddNode:p=>{var y=C.hashName(p.parent.id,p.name);p.name_next=C.nameTable[y],C.nameTable[y]=p},hashRemoveNode:p=>{var y=C.hashName(p.parent.id,p.name);if(C.nameTable[y]===p)C.nameTable[y]=p.name_next;else for(var w=C.nameTable[y];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,y)=>{var w=C.mayLookup(p);if(w)throw new C.ErrnoError(w,p);for(var A=C.hashName(p.id,y),j=C.nameTable[A];j;j=j.name_next)if(j.parent.id===p.id&&j.name===y)return j;return C.lookup(p,y)},createNode:(p,y,w,A)=>{var j=new C.FSNode(p,y,w,A);return C.hashAddNode(j),j},destroyNode:p=>{C.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=C.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>C.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>C.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return C.lookupNode(p,y),20}catch{}return C.nodePermissions(p,"wx")},mayDelete:(p,y,w)=>{var A;try{A=C.lookupNode(p,y)}catch(ye){return ye.errno}var j=C.nodePermissions(p,"wx");if(j)return j;if(w){if(!C.isDir(A.mode))return 54;if(C.isRoot(A)||C.getPath(A)===C.cwd())return 10}else if(C.isDir(A.mode))return 31;return 0},mayOpen:(p,y)=>p?C.isLink(p.mode)?32:C.isDir(p.mode)&&("r"!==C.flagsToPermissionString(y)||512&y)?31:C.nodePermissions(p,C.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=C.MAX_OPEN_FDS)=>{for(var w=p;w<=y;w++)if(!C.streams[w])return w;throw new C.ErrnoError(33)},getStream:p=>C.streams[p],createStream:(p,y,w)=>{C.FSStream||(C.FSStream=function(){this.shared={}},C.FSStream.prototype={},Object.defineProperties(C.FSStream.prototype,{object:{get:function(){return this.node},set:function(j){this.node=j}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(j){this.shared.flags=j}},position:{get:function(){return this.shared.position},set:function(j){this.shared.position=j}}})),p=Object.assign(new C.FSStream,p);var A=C.nextfd(y,w);return p.fd=A,C.streams[A]=p,p},closeStream:p=>{C.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=C.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new C.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{C.devices[p]={stream_ops:y}},getDevice:p=>C.devices[p],getMounts:p=>{for(var y=[],w=[p];w.length;){var A=w.pop();y.push(A),w.push.apply(w,A.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),C.syncFSRequests++,C.syncFSRequests>1&&Y("warning: "+C.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=C.getMounts(C.root.mount),A=0;function j(ve){return C.syncFSRequests--,y(ve)}function ye(ve){if(ve)return ye.errored?void 0:(ye.errored=!0,j(ve));++A>=w.length&&j(null)}w.forEach(ve=>{if(!ve.type.syncfs)return ye(null);ve.type.syncfs(ve,p,ye)})},mount:(p,y,w)=>{var ye,A="/"===w,j=!w;if(A&&C.root)throw new C.ErrnoError(10);if(!A&&!j){var ve=C.lookupPath(w,{follow_mount:!1});if(w=ve.path,C.isMountpoint(ye=ve.node))throw new C.ErrnoError(10);if(!C.isDir(ye.mode))throw new C.ErrnoError(54)}var we={type:p,opts:y,mountpoint:w,mounts:[]},ht=p.mount(we);return ht.mount=we,we.root=ht,A?C.root=ht:ye&&(ye.mounted=we,ye.mount&&ye.mount.mounts.push(we)),ht},unmount:p=>{var y=C.lookupPath(p,{follow_mount:!1});if(!C.isMountpoint(y.node))throw new C.ErrnoError(28);var w=y.node,A=w.mounted,j=C.getMounts(A);Object.keys(C.nameTable).forEach(ve=>{for(var we=C.nameTable[ve];we;){var ht=we.name_next;j.includes(we.mount)&&C.destroyNode(we),we=ht}}),w.mounted=null;var ye=w.mount.mounts.indexOf(A);w.mount.mounts.splice(ye,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,w)=>{var j=C.lookupPath(p,{parent:!0}).node,ye=jt.basename(p);if(!ye||"."===ye||".."===ye)throw new C.ErrnoError(28);var ve=C.mayCreate(j,ye);if(ve)throw new C.ErrnoError(ve);if(!j.node_ops.mknod)throw new C.ErrnoError(63);return j.node_ops.mknod(j,ye,y,w)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,C.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,C.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var w=p.split("/"),A="",j=0;j<w.length;++j)if(w[j]){A+="/"+w[j];try{C.mkdir(A,y)}catch(ye){if(20!=ye.errno)throw ye}}},mkdev:(p,y,w)=>(typeof w>"u"&&(w=y,y=438),C.mknod(p,y|=8192,w)),symlink:(p,y)=>{if(!or.resolve(p))throw new C.ErrnoError(44);var A=C.lookupPath(y,{parent:!0}).node;if(!A)throw new C.ErrnoError(44);var j=jt.basename(y),ye=C.mayCreate(A,j);if(ye)throw new C.ErrnoError(ye);if(!A.node_ops.symlink)throw new C.ErrnoError(63);return A.node_ops.symlink(A,j,p)},rename:(p,y)=>{var we,ht,w=jt.dirname(p),A=jt.dirname(y),j=jt.basename(p),ye=jt.basename(y);if(we=C.lookupPath(p,{parent:!0}).node,ht=C.lookupPath(y,{parent:!0}).node,!we||!ht)throw new C.ErrnoError(44);if(we.mount!==ht.mount)throw new C.ErrnoError(75);var b,d=C.lookupNode(we,j),g=or.relative(p,A);if("."!==g.charAt(0))throw new C.ErrnoError(28);if("."!==(g=or.relative(y,w)).charAt(0))throw new C.ErrnoError(55);try{b=C.lookupNode(ht,ye)}catch{}if(d!==b){var T=C.isDir(d.mode),L=C.mayDelete(we,j,T);if(L)throw new C.ErrnoError(L);if(L=b?C.mayDelete(ht,ye,T):C.mayCreate(ht,ye))throw new C.ErrnoError(L);if(!we.node_ops.rename)throw new C.ErrnoError(63);if(C.isMountpoint(d)||b&&C.isMountpoint(b))throw new C.ErrnoError(10);if(ht!==we&&(L=C.nodePermissions(we,"w")))throw new C.ErrnoError(L);C.hashRemoveNode(d);try{we.node_ops.rename(d,ht,ye)}catch(M){throw M}finally{C.hashAddNode(d)}}},rmdir:p=>{var w=C.lookupPath(p,{parent:!0}).node,A=jt.basename(p),j=C.lookupNode(w,A),ye=C.mayDelete(w,A,!0);if(ye)throw new C.ErrnoError(ye);if(!w.node_ops.rmdir)throw new C.ErrnoError(63);if(C.isMountpoint(j))throw new C.ErrnoError(10);w.node_ops.rmdir(w,A),C.destroyNode(j)},readdir:p=>{var w=C.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new C.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=C.lookupPath(p,{parent:!0}).node;if(!w)throw new C.ErrnoError(44);var A=jt.basename(p),j=C.lookupNode(w,A),ye=C.mayDelete(w,A,!1);if(ye)throw new C.ErrnoError(ye);if(!w.node_ops.unlink)throw new C.ErrnoError(63);if(C.isMountpoint(j))throw new C.ErrnoError(10);w.node_ops.unlink(w,A),C.destroyNode(j)},readlink:p=>{var w=C.lookupPath(p).node;if(!w)throw new C.ErrnoError(44);if(!w.node_ops.readlink)throw new C.ErrnoError(28);return or.resolve(C.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,y)=>{var A=C.lookupPath(p,{follow:!y}).node;if(!A)throw new C.ErrnoError(44);if(!A.node_ops.getattr)throw new C.ErrnoError(63);return A.node_ops.getattr(A)},lstat:p=>C.stat(p,!0),chmod:(p,y,w)=>{var A;if(!(A="string"==typeof p?C.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new C.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&y|-4096&A.mode,timestamp:Date.now()})},lchmod:(p,y)=>{C.chmod(p,y,!0)},fchmod:(p,y)=>{var w=C.getStream(p);if(!w)throw new C.ErrnoError(8);C.chmod(w.node,y)},chown:(p,y,w,A)=>{var j;if(!(j="string"==typeof p?C.lookupPath(p,{follow:!A}).node:p).node_ops.setattr)throw new C.ErrnoError(63);j.node_ops.setattr(j,{timestamp:Date.now()})},lchown:(p,y,w)=>{C.chown(p,y,w,!0)},fchown:(p,y,w)=>{var A=C.getStream(p);if(!A)throw new C.ErrnoError(8);C.chown(A.node,y,w)},truncate:(p,y)=>{if(y<0)throw new C.ErrnoError(28);var w;if(!(w="string"==typeof p?C.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new C.ErrnoError(63);if(C.isDir(w.mode))throw new C.ErrnoError(31);if(!C.isFile(w.mode))throw new C.ErrnoError(28);var j=C.nodePermissions(w,"w");if(j)throw new C.ErrnoError(j);w.node_ops.setattr(w,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var w=C.getStream(p);if(!w)throw new C.ErrnoError(8);if(!(2097155&w.flags))throw new C.ErrnoError(28);C.truncate(w.node,y)},utime:(p,y,w)=>{var j=C.lookupPath(p,{follow:!0}).node;j.node_ops.setattr(j,{timestamp:Math.max(y,w)})},open:(p,y,w)=>{if(""===p)throw new C.ErrnoError(44);var A;if(w=typeof w>"u"?438:w,w=64&(y="string"==typeof y?C.modeStringToFlags(y):y)?4095&w|32768:0,"object"==typeof p)A=p;else{p=jt.normalize(p);try{A=C.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var ye=!1;if(64&y)if(A){if(128&y)throw new C.ErrnoError(20)}else A=C.mknod(p,w,0),ye=!0;if(!A)throw new C.ErrnoError(44);if(C.isChrdev(A.mode)&&(y&=-513),65536&y&&!C.isDir(A.mode))throw new C.ErrnoError(54);if(!ye){var ve=C.mayOpen(A,y);if(ve)throw new C.ErrnoError(ve)}512&y&&!ye&&C.truncate(A,0),y&=-131713;var we=C.createStream({node:A,path:C.getPath(A),flags:y,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return we.stream_ops.open&&we.stream_ops.open(we),c.logReadFiles&&!(1&y)&&(C.readFiles||(C.readFiles={}),p in C.readFiles||(C.readFiles[p]=1)),we},close:p=>{if(C.isClosed(p))throw new C.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{C.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,w)=>{if(C.isClosed(p))throw new C.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new C.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new C.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,w),p.ungotten=[],p.position},read:(p,y,w,A,j)=>{if(A<0||j<0)throw new C.ErrnoError(28);if(C.isClosed(p))throw new C.ErrnoError(8);if(1==(2097155&p.flags))throw new C.ErrnoError(8);if(C.isDir(p.node.mode))throw new C.ErrnoError(31);if(!p.stream_ops.read)throw new C.ErrnoError(28);var ye=typeof j<"u";if(ye){if(!p.seekable)throw new C.ErrnoError(70)}else j=p.position;var ve=p.stream_ops.read(p,y,w,A,j);return ye||(p.position+=ve),ve},write:(p,y,w,A,j,ye)=>{if(A<0||j<0)throw new C.ErrnoError(28);if(C.isClosed(p))throw new C.ErrnoError(8);if(!(2097155&p.flags))throw new C.ErrnoError(8);if(C.isDir(p.node.mode))throw new C.ErrnoError(31);if(!p.stream_ops.write)throw new C.ErrnoError(28);p.seekable&&1024&p.flags&&C.llseek(p,0,2);var ve=typeof j<"u";if(ve){if(!p.seekable)throw new C.ErrnoError(70)}else j=p.position;var we=p.stream_ops.write(p,y,w,A,j,ye);return ve||(p.position+=we),we},allocate:(p,y,w)=>{if(C.isClosed(p))throw new C.ErrnoError(8);if(y<0||w<=0)throw new C.ErrnoError(28);if(!(2097155&p.flags))throw new C.ErrnoError(8);if(!C.isFile(p.node.mode)&&!C.isDir(p.node.mode))throw new C.ErrnoError(43);if(!p.stream_ops.allocate)throw new C.ErrnoError(138);p.stream_ops.allocate(p,y,w)},mmap:(p,y,w,A,j)=>{if(2&A&&!(2&j)&&2!=(2097155&p.flags))throw new C.ErrnoError(2);if(1==(2097155&p.flags))throw new C.ErrnoError(2);if(!p.stream_ops.mmap)throw new C.ErrnoError(43);return p.stream_ops.mmap(p,y,w,A,j)},msync:(p,y,w,A,j)=>p.stream_ops.msync?p.stream_ops.msync(p,y,w,A,j):0,munmap:p=>0,ioctl:(p,y,w)=>{if(!p.stream_ops.ioctl)throw new C.ErrnoError(59);return p.stream_ops.ioctl(p,y,w)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var w,A=C.open(p,y.flags),ye=C.stat(p).size,ve=new Uint8Array(ye);return C.read(A,ve,0,ye,0),"utf8"===y.encoding?w=Ye(ve,0):"binary"===y.encoding&&(w=ve),C.close(A),w},writeFile:(p,y,w={})=>{w.flags=w.flags||577;var A=C.open(p,w.flags,w.mode);if("string"==typeof y){var j=new Uint8Array(ne(y)+1),ye=ke(y,j,0,j.length);C.write(A,j,0,ye,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");C.write(A,y,0,y.byteLength,void 0,w.canOwn)}C.close(A)},cwd:()=>C.currentPath,chdir:p=>{var y=C.lookupPath(p,{follow:!0});if(null===y.node)throw new C.ErrnoError(44);if(!C.isDir(y.node.mode))throw new C.ErrnoError(54);var w=C.nodePermissions(y.node,"x");if(w)throw new C.ErrnoError(w);C.currentPath=y.path},createDefaultDirectories:()=>{C.mkdir("/tmp"),C.mkdir("/home"),C.mkdir("/home/web_user")},createDefaultDevices:()=>{C.mkdir("/dev"),C.registerDevice(C.makedev(1,3),{read:()=>0,write:(y,w,A,j,ye)=>j}),C.mkdev("/dev/null",C.makedev(1,3)),tr.register(C.makedev(5,0),tr.default_tty_ops),tr.register(C.makedev(6,0),tr.default_tty1_ops),C.mkdev("/dev/tty",C.makedev(5,0)),C.mkdev("/dev/tty1",C.makedev(6,0));var p=function bn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>Yn("randomDevice")}();C.createDevice("/dev","random",p),C.createDevice("/dev","urandom",p),C.mkdir("/dev/shm"),C.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{C.mkdir("/proc");var p=C.mkdir("/proc/self");C.mkdir("/proc/self/fd"),C.mount({mount:()=>{var y=C.createNode(p,"fd",16895,73);return y.node_ops={lookup:(w,A)=>{var ye=C.getStream(+A);if(!ye)throw new C.ErrnoError(8);var ve={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ye.path}};return ve.parent=ve,ve}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?C.createDevice("/dev","stdin",c.stdin):C.symlink("/dev/tty","/dev/stdin"),c.stdout?C.createDevice("/dev","stdout",null,c.stdout):C.symlink("/dev/tty","/dev/stdout"),c.stderr?C.createDevice("/dev","stderr",null,c.stderr):C.symlink("/dev/tty1","/dev/stderr"),C.open("/dev/stdin",0),C.open("/dev/stdout",1),C.open("/dev/stderr",1)},ensureErrnoError:()=>{C.ErrnoError||(C.ErrnoError=function(y,w){this.node=w,this.setErrno=function(A){this.errno=A},this.setErrno(y),this.message="FS error"},C.ErrnoError.prototype=new Error,C.ErrnoError.prototype.constructor=C.ErrnoError,[44].forEach(p=>{C.genericErrors[p]=new C.ErrnoError(p),C.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{C.ensureErrnoError(),C.nameTable=new Array(4096),C.mount(on,{},"/"),C.createDefaultDirectories(),C.createDefaultDevices(),C.createSpecialDirectories(),C.filesystems={MEMFS:on}},init:(p,y,w)=>{C.init.initialized=!0,C.ensureErrnoError(),c.stdin=p||c.stdin,c.stdout=y||c.stdout,c.stderr=w||c.stderr,C.createStandardStreams()},quit:()=>{C.init.initialized=!1;for(var p=0;p<C.streams.length;p++){var y=C.streams[p];y&&C.close(y)}},getMode:(p,y)=>{var w=0;return p&&(w|=365),y&&(w|=146),w},findObject:(p,y)=>{var w=C.analyzePath(p,y);return w.exists?w.object:null},analyzePath:(p,y)=>{try{p=(w=C.lookupPath(p,{follow:!y})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=C.lookupPath(p,{parent:!0});A.parentExists=!0,A.parentPath=w.path,A.parentObject=w.node,A.name=jt.basename(p),w=C.lookupPath(p,{follow:!y}),A.exists=!0,A.path=w.path,A.object=w.node,A.name=w.node.name,A.isRoot="/"===w.path}catch(j){A.error=j.errno}return A},createPath:(p,y,w,A)=>{p="string"==typeof p?p:C.getPath(p);for(var j=y.split("/").reverse();j.length;){var ye=j.pop();if(ye){var ve=jt.join2(p,ye);try{C.mkdir(ve)}catch{}p=ve}}return ve},createFile:(p,y,w,A,j)=>{var ye=jt.join2("string"==typeof p?p:C.getPath(p),y),ve=C.getMode(A,j);return C.create(ye,ve)},createDataFile:(p,y,w,A,j,ye)=>{var ve=y;p&&(p="string"==typeof p?p:C.getPath(p),ve=y?jt.join2(p,y):p);var we=C.getMode(A,j),ht=C.create(ve,we);if(w){if("string"==typeof w){for(var d=new Array(w.length),g=0,b=w.length;g<b;++g)d[g]=w.charCodeAt(g);w=d}C.chmod(ht,146|we);var T=C.open(ht,577);C.write(T,w,0,w.length,0,ye),C.close(T),C.chmod(ht,we)}return ht},createDevice:(p,y,w,A)=>{var j=jt.join2("string"==typeof p?p:C.getPath(p),y),ye=C.getMode(!!w,!!A);C.createDevice.major||(C.createDevice.major=64);var ve=C.makedev(C.createDevice.major++,0);return C.registerDevice(ve,{open:we=>{we.seekable=!1},close:we=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(we,ht,d,g,b)=>{for(var T=0,L=0;L<g;L++){var M;try{M=w()}catch{throw new C.ErrnoError(29)}if(void 0===M&&0===T)throw new C.ErrnoError(6);if(null==M)break;T++,ht[d+L]=M}return T&&(we.node.timestamp=Date.now()),T},write:(we,ht,d,g,b)=>{for(var T=0;T<g;T++)try{A(ht[d+T])}catch{throw new C.ErrnoError(29)}return g&&(we.node.timestamp=Date.now()),T}}),C.mkdev(j,ye,ve)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=dn(G(p.url),!0),p.usedBytes=p.contents.length}catch{throw new C.ErrnoError(29)}},createLazyFile:(p,y,w,A,j)=>{function ye(){this.lengthKnown=!1,this.chunks=[]}if(ye.prototype.get=function(L){if(!(L>this.length-1||L<0)){var M=L%this.chunkSize;return this.getter(L/this.chunkSize|0)[M]}},ye.prototype.setDataGetter=function(L){this.getter=L},ye.prototype.cacheLength=function(){var L=new XMLHttpRequest;if(L.open("HEAD",w,!1),L.send(null),!(L.status>=200&&L.status<300||304===L.status))throw new Error("Couldn't load "+w+". Status: "+L.status);var _e,M=Number(L.getResponseHeader("Content-length")),me=(_e=L.getResponseHeader("Accept-Ranges"))&&"bytes"===_e,mt=(_e=L.getResponseHeader("Content-Encoding"))&&"gzip"===_e,Ve=1048576;me||(Ve=M);var cn=this;cn.setDataGetter(Et=>{var Nt=Et*Ve,zt=(Et+1)*Ve-1;if(zt=Math.min(zt,M-1),typeof cn.chunks[Et]>"u"&&(cn.chunks[Et]=((Et,Nt)=>{if(Et>Nt)throw new Error("invalid range ("+Et+", "+Nt+") or no bytes requested!");if(Nt>M-1)throw new Error("only "+M+" bytes available! programmer error!");var zt=new XMLHttpRequest;if(zt.open("GET",w,!1),M!==Ve&&zt.setRequestHeader("Range","bytes="+Et+"-"+Nt),zt.responseType="arraybuffer",zt.overrideMimeType&&zt.overrideMimeType("text/plain; charset=x-user-defined"),zt.send(null),!(zt.status>=200&&zt.status<300||304===zt.status))throw new Error("Couldn't load "+w+". Status: "+zt.status);return void 0!==zt.response?new Uint8Array(zt.response||[]):dn(zt.responseText||"",!0)})(Nt,zt)),typeof cn.chunks[Et]>"u")throw new Error("doXHR failed!");return cn.chunks[Et]}),(mt||!M)&&(Ve=M=1,M=this.getter(0).length,Ve=M,q("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=M,this._chunkSize=Ve,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ve=new ye;Object.defineProperties(ve,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var we={isDevice:!1,contents:ve}}else we={isDevice:!1,url:w};var ht=C.createFile(p,y,we,A,j);we.contents?ht.contents=we.contents:we.url&&(ht.contents=null,ht.url=we.url),Object.defineProperties(ht,{usedBytes:{get:function(){return this.contents.length}}});var d={};function b(T,L,M,_e,me){var mt=T.node.contents;if(me>=mt.length)return 0;var Ve=Math.min(mt.length-me,_e);if(mt.slice)for(var yt=0;yt<Ve;yt++)L[M+yt]=mt[me+yt];else for(yt=0;yt<Ve;yt++)L[M+yt]=mt.get(me+yt);return Ve}return Object.keys(ht.stream_ops).forEach(T=>{var L=ht.stream_ops[T];d[T]=function(){return C.forceLoadFile(ht),L.apply(null,arguments)}}),d.read=(T,L,M,_e,me)=>(C.forceLoadFile(ht),b(T,L,M,_e,me)),d.mmap=(T,L,M,_e,me)=>{C.forceLoadFile(ht);var mt=cr();if(!mt)throw new C.ErrnoError(48);return b(T,Xe,mt,L,M),{ptr:mt,allocated:!0}},ht.stream_ops=d,ht},createPreloadedFile:(p,y,w,A,j,ye,ve,we,ht,d)=>{var g=y?or.resolve(jt.join2(p,y)):p;function T(L){function M(_e){d&&d(),we||C.createDataFile(p,y,_e,A,j,ht),ye&&ye(),vr()}Browser.handledByPreloadPlugin(L,g,M,()=>{ve&&ve(),vr()})||M(L)}Rr(),"string"==typeof w?function fr(p,y,w,A){var j=A?"":"al "+p;Re(p,ye=>{Ee(ye,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(ye)),j&&vr()},ye=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),j&&Rr()}(w,L=>T(L),ve):T(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var A=C.indexedDB();try{var j=A.open(C.DB_NAME(),C.DB_VERSION)}catch(ye){return w(ye)}j.onupgradeneeded=()=>{q("creating db"),j.result.createObjectStore(C.DB_STORE_NAME)},j.onsuccess=()=>{var ve=j.result.transaction([C.DB_STORE_NAME],"readwrite"),we=ve.objectStore(C.DB_STORE_NAME),ht=0,d=0,g=p.length;function b(){0==d?y():w()}p.forEach(T=>{var L=we.put(C.analyzePath(T).object.contents,T);L.onsuccess=()=>{++ht+d==g&&b()},L.onerror=()=>{d++,ht+d==g&&b()}}),ve.onerror=w},j.onerror=w},loadFilesFromDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var A=C.indexedDB();try{var j=A.open(C.DB_NAME(),C.DB_VERSION)}catch(ye){return w(ye)}j.onupgradeneeded=w,j.onsuccess=()=>{var ye=j.result;try{var ve=ye.transaction([C.DB_STORE_NAME],"readonly")}catch(T){return void w(T)}var we=ve.objectStore(C.DB_STORE_NAME),ht=0,d=0,g=p.length;function b(){0==d?y():w()}p.forEach(T=>{var L=we.get(T);L.onsuccess=()=>{C.analyzePath(T).exists&&C.unlink(T),C.createDataFile(jt.dirname(T),jt.basename(T),L.result,!0,!0,!0),++ht+d==g&&b()},L.onerror=()=>{d++,ht+d==g&&b()}}),ve.onerror=w},j.onerror=w}},Bt={DEFAULT_POLLMASK:5,calculateAt:function(p,y,w){if(jt.isAbs(y))return y;var A;if(A=-100===p?C.cwd():Bt.getStreamFromFD(p).path,0==y.length){if(!w)throw new C.ErrnoError(44);return A}return jt.join2(A,y)},doStat:function(p,y,w){try{var A=p(y)}catch(j){if(j&&j.node&&jt.normalize(y)!==jt.normalize(C.getPath(j.node)))return-54;throw j}return N[w>>2]=A.dev,N[w+8>>2]=A.ino,N[w+12>>2]=A.mode,ge[w+16>>2]=A.nlink,N[w+20>>2]=A.uid,N[w+24>>2]=A.gid,N[w+28>>2]=A.rdev,ae=[A.size>>>0,(at=A.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[w+40>>2]=ae[0],N[w+44>>2]=ae[1],N[w+48>>2]=4096,N[w+52>>2]=A.blocks,ae=[Math.floor(A.atime.getTime()/1e3)>>>0,(at=Math.floor(A.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[w+56>>2]=ae[0],N[w+60>>2]=ae[1],ge[w+64>>2]=0,ae=[Math.floor(A.mtime.getTime()/1e3)>>>0,(at=Math.floor(A.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[w+72>>2]=ae[0],N[w+76>>2]=ae[1],ge[w+80>>2]=0,ae=[Math.floor(A.ctime.getTime()/1e3)>>>0,(at=Math.floor(A.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[w+88>>2]=ae[0],N[w+92>>2]=ae[1],ge[w+96>>2]=0,ae=[A.ino>>>0,(at=A.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[w+104>>2]=ae[0],N[w+108>>2]=ae[1],0},doMsync:function(p,y,w,A,j){if(!C.isFile(y.node.mode))throw new C.ErrnoError(43);if(2&A)return 0;var ye=vt.slice(p,p+w);C.msync(y,ye,j,w,A)},varargs:void 0,get:function(){return Bt.varargs+=4,N[Bt.varargs-4>>2]},getStr:function(p){return Be(p)},getStreamFromFD:function(p){var y=C.getStream(p);if(!y)throw new C.ErrnoError(8);return y}};function E(p){return ge[p>>2]+4294967296*N[p+4>>2]}function So(p){return p%4==0&&(p%100!=0||p%400==0)}var lo=[0,31,60,91,121,152,182,213,244,274,305,335],Zo=[0,31,59,90,120,151,181,212,243,273,304,334];function In(p){var y=ne(p)+1,w=fo(y);return w&&ke(p,Xe,w,y),w}var Xr=[];function br(p){try{return ue.grow(p-He.byteLength+65535>>>16),Ue(ue.buffer),1}catch{}}var Ri={};function uo(){if(!uo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"};for(var w in Ri)void 0===Ri[w]?delete y[w]:y[w]=Ri[w];var A=[];for(var w in y)A.push(w+"="+y[w]);uo.strings=A}return uo.strings}function ts(p,y){le=p,function ui(p){le=p,function Xt(){return Fe}()||(c.onExit&&c.onExit(p),it=!0),H(p,new Dn(p))}(p)}var Yo=ts,R=[31,29,31,30,31,30,31,31,30,31,30,31],$=[31,28,31,30,31,30,31,31,30,31,30,31];var Te=function(p,y,w,A){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=C.nextInode++,this.name=y,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(Te.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return C.isDir(this.mode)}},isDevice:{get:function(){return C.isChrdev(this.mode)}}}),C.FSNode=Te,C.staticInit();var xs,Ae={o:function ir(p,y,w,A){Bt.varargs=A;try{y=Bt.getStr(y),y=Bt.calculateAt(p,y);var j=A?Bt.get():0;return C.open(y,w,j).fd}catch(ye){if(typeof C>"u"||!(ye instanceof C.ErrnoError))throw ye;return-ye.errno}},h:function Mn(p,y){var w=new Date(1e3*E(p));N[y>>2]=w.getUTCSeconds(),N[y+4>>2]=w.getUTCMinutes(),N[y+8>>2]=w.getUTCHours(),N[y+12>>2]=w.getUTCDate(),N[y+16>>2]=w.getUTCMonth(),N[y+20>>2]=w.getUTCFullYear()-1900,N[y+24>>2]=w.getUTCDay();var A=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),j=(w.getTime()-A)/864e5|0;N[y+28>>2]=j},i:function Eo(p,y){var w=new Date(1e3*E(p));N[y>>2]=w.getSeconds(),N[y+4>>2]=w.getMinutes(),N[y+8>>2]=w.getHours(),N[y+12>>2]=w.getDate(),N[y+16>>2]=w.getMonth(),N[y+20>>2]=w.getFullYear()-1900,N[y+24>>2]=w.getDay();var A=0|function Co(p){return(So(p.getFullYear())?lo:Zo)[p.getMonth()]+p.getDate()-1}(w);N[y+28>>2]=A,N[y+36>>2]=-60*w.getTimezoneOffset();var j=new Date(w.getFullYear(),0,1),ye=new Date(w.getFullYear(),6,1).getTimezoneOffset(),ve=j.getTimezoneOffset(),we=0|(ye!=ve&&w.getTimezoneOffset()==Math.min(ve,ye));N[y+32>>2]=we},j:function li(p,y,w){var A=(new Date).getFullYear(),j=new Date(A,0,1),ye=new Date(A,6,1),ve=j.getTimezoneOffset(),we=ye.getTimezoneOffset(),ht=Math.max(ve,we);function d(M){var _e=M.toTimeString().match(/\(([A-Za-z ]+)\)$/);return _e?_e[1]:"GMT"}ge[p>>2]=60*ht,N[y>>2]=Number(ve!=we);var g=d(j),b=d(ye),T=In(g),L=In(b);we<ve?(ge[w>>2]=T,ge[w+4>>2]=L):(ge[w>>2]=L,ge[w+4>>2]=T)},b:function ar(){Yn("")},a:function co(p,y,w){var A=function Vn(p,y){var w;for(Xr.length=0,y>>=2;w=vt[p++];)y+=105!=w&y,Xr.push(105==w?N[y]:tt[y++>>1]),++y;return Xr}(y,w);return ze[p].apply(null,A)},c:function Yt(){return Date.now()},g:function Ko(p,y,w){vt.copyWithin(p,y,y+w)},m:function Fr(p){var ht,y=vt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var j=1;j<=4;j*=2){var ye=y*(1+.2/j);if(ye=Math.min(ye,p+100663296),br(Math.min(w,(ht=Math.max(p,ye))+(65536-ht%65536)%65536)))return!0}return!1},p:function Fi(p,y){var w=0;return uo().forEach(function(A,j){var ye=y+w;ge[p+4*j>>2]=ye,function Do(p,y,w){for(var A=0;A<p.length;++A)Xe[y++>>0]=p.charCodeAt(A);w||(Xe[y>>0]=0)}(A,ye),w+=A.length+1}),0},f:function Qr(p,y){var w=uo();ge[p>>2]=w.length;var A=0;return w.forEach(function(j){A+=j.length+1}),ge[y>>2]=A,0},q:Yo,d:function wi(p){try{var y=Bt.getStreamFromFD(p);return C.close(y),0}catch(w){if(typeof C>"u"||!(w instanceof C.ErrnoError))throw w;return w.errno}},e:function vs(p,y,w,A){try{var ye=function ns(p,y,w,A){for(var j=0,ye=0;ye<w;ye++){var ve=ge[y>>2],we=ge[y+4>>2];y+=8;var ht=C.read(p,Xe,ve,we,A);if(ht<0)return-1;if(j+=ht,ht<we)break}return j}(Bt.getStreamFromFD(p),y,w);return ge[A>>2]=ye,0}catch(ve){if(typeof C>"u"||!(ve instanceof C.ErrnoError))throw ve;return ve.errno}},k:function Xo(p,y,w,A,j){try{var ye=function Xn(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,w);if(isNaN(ye))return 61;var ve=Bt.getStreamFromFD(p);return C.llseek(ve,ye,A),ae=[ve.position>>>0,(at=ve.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[j>>2]=ae[0],N[j+4>>2]=ae[1],ve.getdents&&0===ye&&0===A&&(ve.getdents=null),0}catch(we){if(typeof C>"u"||!(we instanceof C.ErrnoError))throw we;return we.errno}},n:function Oi(p,y,w,A){try{var ye=function bs(p,y,w,A){for(var j=0,ye=0;ye<w;ye++){var ve=ge[y>>2],we=ge[y+4>>2];y+=8;var ht=C.write(p,Xe,ve,we,A);if(ht<0)return-1;j+=ht}return j}(Bt.getStreamFromFD(p),y,w);return ge[A>>2]=ye,0}catch(ve){if(typeof C>"u"||!(ve instanceof C.ErrnoError))throw ve;return ve.errno}},l:function O(p,y,w,A,j){return function Oe(p,y,w,A){var j=N[A+40>>2],ye={tm_sec:N[A>>2],tm_min:N[A+4>>2],tm_hour:N[A+8>>2],tm_mday:N[A+12>>2],tm_mon:N[A+16>>2],tm_year:N[A+20>>2],tm_wday:N[A+24>>2],tm_yday:N[A+28>>2],tm_isdst:N[A+32>>2],tm_gmtoff:N[A+36>>2],tm_zone:j?Be(j):""},ve=Be(w),we={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ht in we)ve=ve.replace(new RegExp(ht,"g"),we[ht]);var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];function b(Ve,yt,cn){for(var Et="number"==typeof Ve?Ve.toString():Ve||"";Et.length<yt;)Et=cn[0]+Et;return Et}function T(Ve,yt){return b(Ve,yt,"0")}function L(Ve,yt){function cn(Nt){return Nt<0?-1:Nt>0?1:0}var Et;return 0===(Et=cn(Ve.getFullYear()-yt.getFullYear()))&&0===(Et=cn(Ve.getMonth()-yt.getMonth()))&&(Et=cn(Ve.getDate()-yt.getDate())),Et}function M(Ve){switch(Ve.getDay()){case 0:return new Date(Ve.getFullYear()-1,11,29);case 1:return Ve;case 2:return new Date(Ve.getFullYear(),0,3);case 3:return new Date(Ve.getFullYear(),0,2);case 4:return new Date(Ve.getFullYear(),0,1);case 5:return new Date(Ve.getFullYear()-1,11,31);case 6:return new Date(Ve.getFullYear()-1,11,30)}}function _e(Ve){var yt=function fe(p,y){for(var w=new Date(p.getTime());y>0;){var A=So(w.getFullYear()),j=w.getMonth(),ye=(A?R:$)[j];if(!(y>ye-w.getDate()))return w.setDate(w.getDate()+y),w;y-=ye-w.getDate()+1,w.setDate(1),j<11?w.setMonth(j+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(Ve.tm_year+1900,0,1),Ve.tm_yday),cn=new Date(yt.getFullYear(),0,4),Et=new Date(yt.getFullYear()+1,0,4),Nt=M(cn),zt=M(Et);return L(Nt,yt)<=0?L(zt,yt)<=0?yt.getFullYear()+1:yt.getFullYear():yt.getFullYear()-1}var me={"%a":function(Ve){return d[Ve.tm_wday].substring(0,3)},"%A":function(Ve){return d[Ve.tm_wday]},"%b":function(Ve){return g[Ve.tm_mon].substring(0,3)},"%B":function(Ve){return g[Ve.tm_mon]},"%C":function(Ve){return T((Ve.tm_year+1900)/100|0,2)},"%d":function(Ve){return T(Ve.tm_mday,2)},"%e":function(Ve){return b(Ve.tm_mday,2," ")},"%g":function(Ve){return _e(Ve).toString().substring(2)},"%G":function(Ve){return _e(Ve)},"%H":function(Ve){return T(Ve.tm_hour,2)},"%I":function(Ve){var yt=Ve.tm_hour;return 0==yt?yt=12:yt>12&&(yt-=12),T(yt,2)},"%j":function(Ve){return T(Ve.tm_mday+function Gn(p,y){for(var w=0,A=0;A<=y;w+=p[A++]);return w}(So(Ve.tm_year+1900)?R:$,Ve.tm_mon-1),3)},"%m":function(Ve){return T(Ve.tm_mon+1,2)},"%M":function(Ve){return T(Ve.tm_min,2)},"%n":function(){return"\n"},"%p":function(Ve){return Ve.tm_hour>=0&&Ve.tm_hour<12?"AM":"PM"},"%S":function(Ve){return T(Ve.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Ve){return Ve.tm_wday||7},"%U":function(Ve){return T(Math.floor((Ve.tm_yday+7-Ve.tm_wday)/7),2)},"%V":function(Ve){var yt=Math.floor((Ve.tm_yday+7-(Ve.tm_wday+6)%7)/7);if((Ve.tm_wday+371-Ve.tm_yday-2)%7<=2&&yt++,yt){if(53==yt){var Et=(Ve.tm_wday+371-Ve.tm_yday)%7;4!=Et&&(3!=Et||!So(Ve.tm_year))&&(yt=1)}}else{yt=52;var cn=(Ve.tm_wday+7-Ve.tm_yday-1)%7;(4==cn||5==cn&&So(Ve.tm_year%400-1))&&yt++}return T(yt,2)},"%w":function(Ve){return Ve.tm_wday},"%W":function(Ve){return T(Math.floor((Ve.tm_yday+7-(Ve.tm_wday+6)%7)/7),2)},"%y":function(Ve){return(Ve.tm_year+1900).toString().substring(2)},"%Y":function(Ve){return Ve.tm_year+1900},"%z":function(Ve){var yt=Ve.tm_gmtoff,cn=yt>=0;return yt=(yt=Math.abs(yt)/60)/60*100+yt%60,(cn?"+":"-")+String("0000"+yt).slice(-4)},"%Z":function(Ve){return Ve.tm_zone},"%%":function(){return"%"}};for(var ht in ve=ve.replace(/%%/g,"\0\0"),me)ve.includes(ht)&&(ve=ve.replace(new RegExp(ht,"g"),me[ht](ye)));var mt=dn(ve=ve.replace(/\0\0/g,"%"),!1);return mt.length>y?0:(function De(p,y){Xe.set(p,y)}(mt,p),mt.length-1)}(p,y,w,A)}},fo=(function Ir(){var p={a:Ae};function y(ve,we){c.asm=ve.exports,Ue((ue=c.asm.r).buffer),function Lr(p){Pe.unshift(p)}(c.asm.s),vr()}function w(ve){y(ve.instance)}function A(ve){return function Pi(){return de||!ce&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return $r(un)}):fetch(un,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+un+"'";return p.arrayBuffer()}).catch(function(){return $r(un)})}().then(function(we){return WebAssembly.instantiate(we,p)}).then(function(we){return we}).then(ve,function(we){Y("failed to asynchronously prepare wasm: "+we),Yn(we)})}if(Rr(),c.instantiateWasm)try{return c.instantiateWasm(p,y)}catch(ve){Y("Module.instantiateWasm callback failed with error: "+ve),ee(ve)}(function j(){return de||"function"!=typeof WebAssembly.instantiateStreaming||jr(un)||"function"!=typeof fetch?A(w):fetch(un,{credentials:"same-origin"}).then(function(ve){return WebAssembly.instantiateStreaming(ve,p).then(w,function(ht){return Y("wasm streaming compile failed: "+ht),Y("falling back to ArrayBuffer instantiation"),A(w)})})})().catch(ee)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._free=function(){return(c._free=c.asm.t).apply(null,arguments)},c._malloc=function(){return(fo=c._malloc=c.asm.u).apply(null,arguments)}),Br=c._emscripten_bind_VoidPtr___destroy___0=function(){return(Br=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)},po=c._emscripten_bind_FSTools_FSTools_0=function(){return(po=c._emscripten_bind_FSTools_FSTools_0=c.asm.w).apply(null,arguments)},Qo=c._emscripten_bind_FSTools_Malloc_1=function(){return(Qo=c._emscripten_bind_FSTools_Malloc_1=c.asm.x).apply(null,arguments)},pr=c._emscripten_bind_FSTools_Free_1=function(){return(pr=c._emscripten_bind_FSTools_Free_1=c.asm.y).apply(null,arguments)},Ni=c._emscripten_bind_FSTools_Nullptr_0=function(){return(Ni=c._emscripten_bind_FSTools_Nullptr_0=c.asm.z).apply(null,arguments)},va=c._emscripten_bind_FSTools___destroy___0=function(){return(va=c._emscripten_bind_FSTools___destroy___0=c.asm.A).apply(null,arguments)},ba=c._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(ba=c._emscripten_bind_MkfsContext_MkfsContext_0=c.asm.B).apply(null,arguments)},di=c._emscripten_bind_MkfsContext_Mkfs_2=function(){return(di=c._emscripten_bind_MkfsContext_Mkfs_2=c.asm.C).apply(null,arguments)},wa=c._emscripten_bind_MkfsContext_GetImage_0=function(){return(wa=c._emscripten_bind_MkfsContext_GetImage_0=c.asm.D).apply(null,arguments)},ks=c._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(ks=c._emscripten_bind_MkfsContext_GetImageSize_0=c.asm.E).apply(null,arguments)},As=c._emscripten_bind_MkfsContext___destroy___0=function(){return(As=c._emscripten_bind_MkfsContext___destroy___0=c.asm.F).apply(null,arguments)},el=c._emscripten_bind_FsckContext_FsckContext_1=function(){return(el=c._emscripten_bind_FsckContext_FsckContext_1=c.asm.G).apply(null,arguments)},tl=c._emscripten_bind_FsckContext_GetImage_0=function(){return(tl=c._emscripten_bind_FsckContext_GetImage_0=c.asm.H).apply(null,arguments)},nl=c._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(nl=c._emscripten_bind_FsckContext_GetDirtyPages_0=c.asm.I).apply(null,arguments)},Sa=c._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Sa=c._emscripten_bind_FsckContext_GetImageSize_0=c.asm.J).apply(null,arguments)},Ca=c._emscripten_bind_FsckContext_Fsck_0=function(){return(Ca=c._emscripten_bind_FsckContext_Fsck_0=c.asm.K).apply(null,arguments)},ho=c._emscripten_bind_FsckContext_GetResult_0=function(){return(ho=c._emscripten_bind_FsckContext_GetResult_0=c.asm.L).apply(null,arguments)},Un=c._emscripten_bind_FsckContext___destroy___0=function(){return(Un=c._emscripten_bind_FsckContext___destroy___0=c.asm.M).apply(null,arguments)};function rs(p){function y(){xs||(xs=!0,c.calledRun=!0,!it&&(function hn(){!c.noFSInit&&!C.init.initialized&&C.init(),C.ignorePermissions=!1,tr.init(),xn(Pe)}(),function er(){xn(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),js&&function sr(p){var y=c._main;try{var j=y(0,0);return ts(j),j}catch(ye){return function pe(p){if(p instanceof Dn||"unwind"==p)return le;H(1,p)}(ye)}}(),function zn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)p=c.postRun.shift(),rn.unshift(p);var p;xn(rn)}()))}p=p||Q,En>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)p=c.preRun.shift(),pt.unshift(p);var p;xn(pt)}(),En>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),y()},1)):y())}if(c._main=function(){return(c._main=c.asm.N).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.P).apply(null,arguments)},c.___start_em_js=40220,c.___stop_em_js=40318,On=function p(){xs||rs(),xs||(On=p)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var js=!0;function zr(){}function os(p){return(p||zr).__cache__}function Si(p,y){var w=os(y),A=w[p];return A||((A=Object.create((y||zr).prototype)).ptr=p,w[p]=A)}c.noInitialRun&&(js=!1),rs(),(zr.prototype=Object.create(zr.prototype)).constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},c.WrapperObject=zr,c.getCache=os,c.wrapPointer=Si,c.castObject=function il(p,y){return Si(p.ptr,y)},c.NULL=Si(0),c.destroy=function zs(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete os(p.__class__)[p.ptr]},c.compare=function is(p,y){return p.ptr===y.ptr},c.getPointer=function Ea(p){return p.ptr},c.getClass=function Da(p){return p.__class__};var Mt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mt.needed){for(var p=0;p<Mt.temps.length;p++)c._free(Mt.temps[p]);Mt.temps.length=0,c._free(Mt.buffer),Mt.buffer=0,Mt.size+=Mt.needed,Mt.needed=0}Mt.buffer||(Mt.size+=128,Mt.buffer=c._malloc(Mt.size),Ee(Mt.buffer)),Mt.pos=0},alloc:function(p,y){Ee(Mt.buffer);var j,A=p.length*y.BYTES_PER_ELEMENT;return Mt.pos+(A=A+7&-8)>=Mt.size?(Ee(A>0),Mt.needed+=A,j=c._malloc(A),Mt.temps.push(j)):(j=Mt.buffer+Mt.pos,Mt.pos+=A),j},copy:function(p,y,w){switch(w>>>=0,y.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var j=0;j<p.length;j++)y[w+j]=p[j]}};function Or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Pn(){this.ptr=po(),os(Pn)[this.ptr]=this}function Vr(){this.ptr=ba(),os(Vr)[this.ptr]=this}function Mr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=el(p),os(Mr)[this.ptr]=this}return(Or.prototype=Object.create(zr.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},c.VoidPtr=Or,Or.prototype.__destroy__=Or.prototype.__destroy__=function(){Br(this.ptr)},(Pn.prototype=Object.create(zr.prototype)).constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},c.FSTools=Pn,Pn.prototype.Malloc=Pn.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Si(Qo(this.ptr,p),Or)},Pn.prototype.Free=Pn.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),pr(this.ptr,p)},Pn.prototype.Nullptr=Pn.prototype.Nullptr=function(){return Si(Ni(this.ptr),Or)},Pn.prototype.__destroy__=Pn.prototype.__destroy__=function(){va(this.ptr)},(Vr.prototype=Object.create(zr.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},c.MkfsContext=Vr,Vr.prototype.Mkfs=Vr.prototype.Mkfs=function(p,y){var w=this.ptr;return Mt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function Gr(p){if("string"==typeof p){var y=dn(p),w=Mt.alloc(y,Xe);return Mt.copy(y,Xe,w),w}return p}(y),!!di(w,p,y)},Vr.prototype.GetImage=Vr.prototype.GetImage=function(){return Si(wa(this.ptr),Or)},Vr.prototype.GetImageSize=Vr.prototype.GetImageSize=function(){return ks(this.ptr)},Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){As(this.ptr)},(Mr.prototype=Object.create(zr.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},c.FsckContext=Mr,Mr.prototype.GetImage=Mr.prototype.GetImage=function(){return Si(tl(this.ptr),Or)},Mr.prototype.GetDirtyPages=Mr.prototype.GetDirtyPages=function(){return Si(nl(this.ptr),Or)},Mr.prototype.GetImageSize=Mr.prototype.GetImageSize=function(){return Sa(this.ptr)},Mr.prototype.Fsck=Mr.prototype.Fsck=function(){return Ca(this.ptr)},Mr.prototype.GetResult=Mr.prototype.GetResult=function(){return ho(this.ptr)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Un(this.ptr)},I.ready});$e.exports=Ge},7971:$e=>{var F,Ge=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,ee,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(d,g){re=d,ee=g});var G,Re,Le,W=Object.assign({},c),Q=[],B="./this.program",H=(d,g)=>{throw g},ce="object"==typeof window,X="function"==typeof importScripts,U=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||X)&&(X?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),F&&(U=F),U=0!==U.indexOf("blob:")?U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},X&&(Le=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Re=(d,g,b)=>{var T=new XMLHttpRequest;T.open("GET",d,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?g(T.response):b()},T.onerror=b,T.send(null)});var de,q=c.print||console.log.bind(console),Y=c.printErr||console.warn.bind(console);Object.assign(c,W),W=null,c.arguments&&(Q=c.arguments),c.thisProgram&&(B=c.thisProgram),c.quit&&(H=c.quit),c.wasmBinary&&(de=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&Yn("no native wasm support detected");var ue,le,it=!1;function Ee(d,g){d||Yn(g)}var He,Xe,vt,N,ge,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(d,g,b){for(var T=g+b,L=g;d[L]&&!(L>=T);)++L;if(L-g>16&&d.buffer&&Ie)return Ie.decode(d.subarray(g,L));for(var M="";g<L;){var _e=d[g++];if(128&_e){var me=63&d[g++];if(192!=(224&_e)){var mt=63&d[g++];if((_e=224==(240&_e)?(15&_e)<<12|me<<6|mt:(7&_e)<<18|me<<12|mt<<6|63&d[g++])<65536)M+=String.fromCharCode(_e);else{var Ve=_e-65536;M+=String.fromCharCode(55296|Ve>>10,56320|1023&Ve)}}else M+=String.fromCharCode((31&_e)<<6|me)}else M+=String.fromCharCode(_e)}return M}function Be(d,g){return d?Ye(vt,d,g):""}function ke(d,g,b,T){if(!(T>0))return 0;for(var L=b,M=b+T-1,_e=0;_e<d.length;++_e){var me=d.charCodeAt(_e);if(me>=55296&&me<=57343&&(me=65536+((1023&me)<<10)|1023&d.charCodeAt(++_e)),me<=127){if(b>=M)break;g[b++]=me}else if(me<=2047){if(b+1>=M)break;g[b++]=192|me>>6,g[b++]=128|63&me}else if(me<=65535){if(b+2>=M)break;g[b++]=224|me>>12,g[b++]=128|me>>6&63,g[b++]=128|63&me}else{if(b+3>=M)break;g[b++]=240|me>>18,g[b++]=128|me>>12&63,g[b++]=128|me>>6&63,g[b++]=128|63&me}}return g[b]=0,b-L}function ne(d){for(var g=0,b=0;b<d.length;++b){var T=d.charCodeAt(b);T<=127?g++:T<=2047?g+=2:T>=55296&&T<=57343?(g+=4,++b):g+=3}return g}function Ue(d){He=d,c.HEAP8=Xe=new Int8Array(d),c.HEAP16=new Int16Array(d),c.HEAP32=N=new Int32Array(d),c.HEAPU8=vt=new Uint8Array(d),c.HEAPU16=new Uint16Array(d),c.HEAPU32=ge=new Uint32Array(d),c.HEAPF32=new Float32Array(d),c.HEAPF64=new Float64Array(d)}var un,at,ae,pt=[],Pe=[],Tt=[],rn=[],En=0,Yr=null,On=null;function Rr(d){En++,c.monitorRunDependencies&&c.monitorRunDependencies(En)}function vr(d){if(En--,c.monitorRunDependencies&&c.monitorRunDependencies(En),0==En&&(null!==Yr&&(clearInterval(Yr),Yr=null),On)){var g=On;On=null,g()}}function Yn(d){c.onAbort&&c.onAbort(d),Y(d="Aborted("+d+")"),it=!0,le=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw ee(g),g}function jr(d){return d.startsWith("data:application/octet-stream;base64,")}function $r(d){try{if(d==un&&de)return new Uint8Array(de);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(g){Yn(g)}}function ze(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Dn(d){for(;d.length>0;)d.shift()(c)}function jt(d){return d%4==0&&(d%100!=0||d%400==0)}jr(un="vfs_web.wasm")||(un=function V(d){return c.locateFile?c.locateFile(d,U):U+d}(un));var bn=[0,31,60,91,121,152,182,213,244,274,305,335],or=[0,31,59,90,120,151,181,212,243,273,304,334];function dn(d){return(jt(d.getFullYear())?bn:or)[d.getMonth()]+d.getDate()-1}function on(d){var g=ne(d)+1,b=Te(g);return b&&ke(d,Xe,b,g),b}function Mn(d){try{return ue.grow(d-He.byteLength+65535>>>16),Ue(ue.buffer),1}catch{}}var lo={};function Co(){if(!Co.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"};for(var b in lo)void 0===lo[b]?delete g[b]:g[b]=lo[b];var T=[];for(var b in g)T.push(b+"="+g[b]);Co.strings=T}return Co.strings}var In={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var b=0,T=d.length-1;T>=0;T--){var L=d[T];"."===L?d.splice(T,1):".."===L?(d.splice(T,1),b++):b&&(d.splice(T,1),b--)}if(g)for(;b;b--)d.unshift("..");return d},normalize:d=>{var g=In.isAbs(d),b="/"===d.substr(-1);return!(d=In.normalizeArray(d.split("/").filter(T=>!!T),!g).join("/"))&&!g&&(d="."),d&&b&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=In.splitPath(d),b=g[0],T=g[1];return b||T?(T&&(T=T.substr(0,T.length-1)),b+T):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=In.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return In.normalize(d.join("/"))},join2:(d,g)=>In.normalize(d+"/"+g)},ar={resolve:function(){for(var d="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var T=b>=0?arguments[b]:D.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";d=T+"/"+d,g=In.isAbs(T)}return(g?"/":"")+(d=In.normalizeArray(d.split("/").filter(L=>!!L),!g).join("/"))||"."},relative:(d,g)=>{function b(Ve){for(var yt=0;yt<Ve.length&&""===Ve[yt];yt++);for(var cn=Ve.length-1;cn>=0&&""===Ve[cn];cn--);return yt>cn?[]:Ve.slice(yt,cn-yt+1)}d=ar.resolve(d).substr(1),g=ar.resolve(g).substr(1);for(var T=b(d.split("/")),L=b(g.split("/")),M=Math.min(T.length,L.length),_e=M,me=0;me<M;me++)if(T[me]!==L[me]){_e=me;break}var mt=[];for(me=_e;me<T.length;me++)mt.push("..");return(mt=mt.concat(L.slice(_e))).join("/")}};function Xr(d,g,b){var T=b>0?b:ne(d)+1,L=new Array(T),M=ke(d,L,0,L.length);return g&&(L.length=M),L}var Vn={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){Vn.ttys[d]={input:[],output:[],ops:g},D.registerDevice(d,Vn.stream_ops)},stream_ops:{open:function(d){var g=Vn.ttys[d.node.rdev];if(!g)throw new D.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,b,T,L){if(!d.tty||!d.tty.ops.get_char)throw new D.ErrnoError(60);for(var M=0,_e=0;_e<T;_e++){var me;try{me=d.tty.ops.get_char(d.tty)}catch{throw new D.ErrnoError(29)}if(void 0===me&&0===M)throw new D.ErrnoError(6);if(null==me)break;M++,g[b+_e]=me}return M&&(d.node.timestamp=Date.now()),M},write:function(d,g,b,T,L){if(!d.tty||!d.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var M=0;M<T;M++)d.tty.ops.put_char(d.tty,g[b+M])}catch{throw new D.ErrnoError(29)}return T&&(d.node.timestamp=Date.now()),M}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=Xr(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(q(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(q(Ye(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(Y(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Y(Ye(d.output,0)),d.output=[])}}};function co(d){Yn()}var Yt={ops_table:null,mount:function(d){return Yt.createNode(null,"/",16895,0)},createNode:function(d,g,b,T){if(D.isBlkdev(b)||D.isFIFO(b))throw new D.ErrnoError(63);Yt.ops_table||(Yt.ops_table={dir:{node:{getattr:Yt.node_ops.getattr,setattr:Yt.node_ops.setattr,lookup:Yt.node_ops.lookup,mknod:Yt.node_ops.mknod,rename:Yt.node_ops.rename,unlink:Yt.node_ops.unlink,rmdir:Yt.node_ops.rmdir,readdir:Yt.node_ops.readdir,symlink:Yt.node_ops.symlink},stream:{llseek:Yt.stream_ops.llseek}},file:{node:{getattr:Yt.node_ops.getattr,setattr:Yt.node_ops.setattr},stream:{llseek:Yt.stream_ops.llseek,read:Yt.stream_ops.read,write:Yt.stream_ops.write,allocate:Yt.stream_ops.allocate,mmap:Yt.stream_ops.mmap,msync:Yt.stream_ops.msync}},link:{node:{getattr:Yt.node_ops.getattr,setattr:Yt.node_ops.setattr,readlink:Yt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Yt.node_ops.getattr,setattr:Yt.node_ops.setattr},stream:D.chrdev_stream_ops}});var L=D.createNode(d,g,b,T);return D.isDir(L.mode)?(L.node_ops=Yt.ops_table.dir.node,L.stream_ops=Yt.ops_table.dir.stream,L.contents={}):D.isFile(L.mode)?(L.node_ops=Yt.ops_table.file.node,L.stream_ops=Yt.ops_table.file.stream,L.usedBytes=0,L.contents=null):D.isLink(L.mode)?(L.node_ops=Yt.ops_table.link.node,L.stream_ops=Yt.ops_table.link.stream):D.isChrdev(L.mode)&&(L.node_ops=Yt.ops_table.chrdev.node,L.stream_ops=Yt.ops_table.chrdev.stream),L.timestamp=Date.now(),d&&(d.contents[g]=L,d.timestamp=L.timestamp),L},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var b=d.contents?d.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var L=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(L.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var b=d.contents;d.contents=new Uint8Array(g),b&&d.contents.set(b.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=D.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=D.isDir(d.mode)?4096:D.isFile(d.mode)?d.usedBytes:D.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&Yt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw D.genericErrors[44]},mknod:function(d,g,b,T){return Yt.createNode(d,g,b,T)},rename:function(d,g,b){if(D.isDir(d.mode)){var T;try{T=D.lookupNode(g,b)}catch{}if(T)for(var L in T.contents)throw new D.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=b,g.contents[b]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var b=D.lookupNode(d,g);for(var T in b.contents)throw new D.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var b in d.contents)d.contents.hasOwnProperty(b)&&g.push(b);return g},symlink:function(d,g,b){var T=Yt.createNode(d,g,41471,0);return T.link=b,T},readlink:function(d){if(!D.isLink(d.mode))throw new D.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,b,T,L){var M=d.node.contents;if(L>=d.node.usedBytes)return 0;var _e=Math.min(d.node.usedBytes-L,T);if(_e>8&&M.subarray)g.set(M.subarray(L,L+_e),b);else for(var me=0;me<_e;me++)g[b+me]=M[L+me];return _e},write:function(d,g,b,T,L,M){if(g.buffer===Xe.buffer&&(M=!1),!T)return 0;var _e=d.node;if(_e.timestamp=Date.now(),g.subarray&&(!_e.contents||_e.contents.subarray)){if(M)return _e.contents=g.subarray(b,b+T),_e.usedBytes=T,T;if(0===_e.usedBytes&&0===L)return _e.contents=g.slice(b,b+T),_e.usedBytes=T,T;if(L+T<=_e.usedBytes)return _e.contents.set(g.subarray(b,b+T),L),T}if(Yt.expandFileStorage(_e,L+T),_e.contents.subarray&&g.subarray)_e.contents.set(g.subarray(b,b+T),L);else for(var me=0;me<T;me++)_e.contents[L+me]=g[b+me];return _e.usedBytes=Math.max(_e.usedBytes,L+T),T},llseek:function(d,g,b){var T=g;if(1===b?T+=d.position:2===b&&D.isFile(d.node.mode)&&(T+=d.node.usedBytes),T<0)throw new D.ErrnoError(28);return T},allocate:function(d,g,b){Yt.expandFileStorage(d.node,g+b),d.node.usedBytes=Math.max(d.node.usedBytes,g+b)},mmap:function(d,g,b,T,L){if(!D.isFile(d.node.mode))throw new D.ErrnoError(43);var M,_e,me=d.node.contents;if(2&L||me.buffer!==He){if((b>0||b+g<me.length)&&(me=me.subarray?me.subarray(b,b+g):Array.prototype.slice.call(me,b,b+g)),_e=!0,!(M=co()))throw new D.ErrnoError(48);Xe.set(me,M)}else _e=!1,M=me.byteOffset;return{ptr:M,allocated:_e}},msync:function(d,g,b,T,L){return Yt.stream_ops.write(d,g,0,T,b,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=ar.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new D.ErrnoError(32);for(var T=d.split("/").filter(cn=>!!cn),L=D.root,M="/",_e=0;_e<T.length;_e++){var me=_e===T.length-1;if(me&&g.parent)break;if(L=D.lookupNode(L,T[_e]),M=In.join2(M,T[_e]),D.isMountpoint(L)&&(!me||me&&g.follow_mount)&&(L=L.mounted.root),!me||g.follow)for(var mt=0;D.isLink(L.mode);){var Ve=D.readlink(M);if(M=ar.resolve(In.dirname(M),Ve),L=D.lookupPath(M,{recurse_count:g.recurse_count+1}).node,mt++>40)throw new D.ErrnoError(32)}}return{path:M,node:L}},getPath:d=>{for(var g;;){if(D.isRoot(d)){var b=d.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var b=0,T=0;T<g.length;T++)b=(b<<5)-b+g.charCodeAt(T)|0;return(d+b>>>0)%D.nameTable.length},hashAddNode:d=>{var g=D.hashName(d.parent.id,d.name);d.name_next=D.nameTable[g],D.nameTable[g]=d},hashRemoveNode:d=>{var g=D.hashName(d.parent.id,d.name);if(D.nameTable[g]===d)D.nameTable[g]=d.name_next;else for(var b=D.nameTable[g];b;){if(b.name_next===d){b.name_next=d.name_next;break}b=b.name_next}},lookupNode:(d,g)=>{var b=D.mayLookup(d);if(b)throw new D.ErrnoError(b,d);for(var T=D.hashName(d.id,g),L=D.nameTable[T];L;L=L.name_next)if(L.parent.id===d.id&&L.name===g)return L;return D.lookup(d,g)},createNode:(d,g,b,T)=>{var L=new D.FSNode(d,g,b,T);return D.hashAddNode(L),L},destroyNode:d=>{D.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=D.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>D.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>D.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return D.lookupNode(d,g),20}catch{}return D.nodePermissions(d,"wx")},mayDelete:(d,g,b)=>{var T;try{T=D.lookupNode(d,g)}catch(M){return M.errno}var L=D.nodePermissions(d,"wx");if(L)return L;if(b){if(!D.isDir(T.mode))return 54;if(D.isRoot(T)||D.getPath(T)===D.cwd())return 10}else if(D.isDir(T.mode))return 31;return 0},mayOpen:(d,g)=>d?D.isLink(d.mode)?32:D.isDir(d.mode)&&("r"!==D.flagsToPermissionString(g)||512&g)?31:D.nodePermissions(d,D.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=D.MAX_OPEN_FDS)=>{for(var b=d;b<=g;b++)if(!D.streams[b])return b;throw new D.ErrnoError(33)},getStream:d=>D.streams[d],createStream:(d,g,b)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(L){this.node=L}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(L){this.shared.flags=L}},position:{get:function(){return this.shared.position},set:function(L){this.shared.position=L}}})),d=Object.assign(new D.FSStream,d);var T=D.nextfd(g,b);return d.fd=T,D.streams[T]=d,d},closeStream:d=>{D.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=D.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new D.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{D.devices[d]={stream_ops:g}},getDevice:d=>D.devices[d],getMounts:d=>{for(var g=[],b=[d];b.length;){var T=b.pop();g.push(T),b.push.apply(b,T.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),D.syncFSRequests++,D.syncFSRequests>1&&Y("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=D.getMounts(D.root.mount),T=0;function L(_e){return D.syncFSRequests--,g(_e)}function M(_e){if(_e)return M.errored?void 0:(M.errored=!0,L(_e));++T>=b.length&&L(null)}b.forEach(_e=>{if(!_e.type.syncfs)return M(null);_e.type.syncfs(_e,d,M)})},mount:(d,g,b)=>{var M,T="/"===b,L=!b;if(T&&D.root)throw new D.ErrnoError(10);if(!T&&!L){var _e=D.lookupPath(b,{follow_mount:!1});if(b=_e.path,D.isMountpoint(M=_e.node))throw new D.ErrnoError(10);if(!D.isDir(M.mode))throw new D.ErrnoError(54)}var me={type:d,opts:g,mountpoint:b,mounts:[]},mt=d.mount(me);return mt.mount=me,me.root=mt,T?D.root=mt:M&&(M.mounted=me,M.mount&&M.mount.mounts.push(me)),mt},unmount:d=>{var g=D.lookupPath(d,{follow_mount:!1});if(!D.isMountpoint(g.node))throw new D.ErrnoError(28);var b=g.node,T=b.mounted,L=D.getMounts(T);Object.keys(D.nameTable).forEach(_e=>{for(var me=D.nameTable[_e];me;){var mt=me.name_next;L.includes(me.mount)&&D.destroyNode(me),me=mt}}),b.mounted=null;var M=b.mount.mounts.indexOf(T);b.mount.mounts.splice(M,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,b)=>{var L=D.lookupPath(d,{parent:!0}).node,M=In.basename(d);if(!M||"."===M||".."===M)throw new D.ErrnoError(28);var _e=D.mayCreate(L,M);if(_e)throw new D.ErrnoError(_e);if(!L.node_ops.mknod)throw new D.ErrnoError(63);return L.node_ops.mknod(L,M,g,b)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,D.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,D.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var b=d.split("/"),T="",L=0;L<b.length;++L)if(b[L]){T+="/"+b[L];try{D.mkdir(T,g)}catch(M){if(20!=M.errno)throw M}}},mkdev:(d,g,b)=>(typeof b>"u"&&(b=g,g=438),D.mknod(d,g|=8192,b)),symlink:(d,g)=>{if(!ar.resolve(d))throw new D.ErrnoError(44);var T=D.lookupPath(g,{parent:!0}).node;if(!T)throw new D.ErrnoError(44);var L=In.basename(g),M=D.mayCreate(T,L);if(M)throw new D.ErrnoError(M);if(!T.node_ops.symlink)throw new D.ErrnoError(63);return T.node_ops.symlink(T,L,d)},rename:(d,g)=>{var me,mt,b=In.dirname(d),T=In.dirname(g),L=In.basename(d),M=In.basename(g);if(me=D.lookupPath(d,{parent:!0}).node,mt=D.lookupPath(g,{parent:!0}).node,!me||!mt)throw new D.ErrnoError(44);if(me.mount!==mt.mount)throw new D.ErrnoError(75);var cn,Ve=D.lookupNode(me,L),yt=ar.relative(d,T);if("."!==yt.charAt(0))throw new D.ErrnoError(28);if("."!==(yt=ar.relative(g,b)).charAt(0))throw new D.ErrnoError(55);try{cn=D.lookupNode(mt,M)}catch{}if(Ve!==cn){var Et=D.isDir(Ve.mode),Nt=D.mayDelete(me,L,Et);if(Nt)throw new D.ErrnoError(Nt);if(Nt=cn?D.mayDelete(mt,M,Et):D.mayCreate(mt,M))throw new D.ErrnoError(Nt);if(!me.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(Ve)||cn&&D.isMountpoint(cn))throw new D.ErrnoError(10);if(mt!==me&&(Nt=D.nodePermissions(me,"w")))throw new D.ErrnoError(Nt);D.hashRemoveNode(Ve);try{me.node_ops.rename(Ve,mt,M)}catch(zt){throw zt}finally{D.hashAddNode(Ve)}}},rmdir:d=>{var b=D.lookupPath(d,{parent:!0}).node,T=In.basename(d),L=D.lookupNode(b,T),M=D.mayDelete(b,T,!0);if(M)throw new D.ErrnoError(M);if(!b.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(L))throw new D.ErrnoError(10);b.node_ops.rmdir(b,T),D.destroyNode(L)},readdir:d=>{var b=D.lookupPath(d,{follow:!0}).node;if(!b.node_ops.readdir)throw new D.ErrnoError(54);return b.node_ops.readdir(b)},unlink:d=>{var b=D.lookupPath(d,{parent:!0}).node;if(!b)throw new D.ErrnoError(44);var T=In.basename(d),L=D.lookupNode(b,T),M=D.mayDelete(b,T,!1);if(M)throw new D.ErrnoError(M);if(!b.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(L))throw new D.ErrnoError(10);b.node_ops.unlink(b,T),D.destroyNode(L)},readlink:d=>{var b=D.lookupPath(d).node;if(!b)throw new D.ErrnoError(44);if(!b.node_ops.readlink)throw new D.ErrnoError(28);return ar.resolve(D.getPath(b.parent),b.node_ops.readlink(b))},stat:(d,g)=>{var T=D.lookupPath(d,{follow:!g}).node;if(!T)throw new D.ErrnoError(44);if(!T.node_ops.getattr)throw new D.ErrnoError(63);return T.node_ops.getattr(T)},lstat:d=>D.stat(d,!0),chmod:(d,g,b)=>{var T;if(!(T="string"==typeof d?D.lookupPath(d,{follow:!b}).node:d).node_ops.setattr)throw new D.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&g|-4096&T.mode,timestamp:Date.now()})},lchmod:(d,g)=>{D.chmod(d,g,!0)},fchmod:(d,g)=>{var b=D.getStream(d);if(!b)throw new D.ErrnoError(8);D.chmod(b.node,g)},chown:(d,g,b,T)=>{var L;if(!(L="string"==typeof d?D.lookupPath(d,{follow:!T}).node:d).node_ops.setattr)throw new D.ErrnoError(63);L.node_ops.setattr(L,{timestamp:Date.now()})},lchown:(d,g,b)=>{D.chown(d,g,b,!0)},fchown:(d,g,b)=>{var T=D.getStream(d);if(!T)throw new D.ErrnoError(8);D.chown(T.node,g,b)},truncate:(d,g)=>{if(g<0)throw new D.ErrnoError(28);var b;if(!(b="string"==typeof d?D.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(b.mode))throw new D.ErrnoError(31);if(!D.isFile(b.mode))throw new D.ErrnoError(28);var L=D.nodePermissions(b,"w");if(L)throw new D.ErrnoError(L);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var b=D.getStream(d);if(!b)throw new D.ErrnoError(8);if(!(2097155&b.flags))throw new D.ErrnoError(28);D.truncate(b.node,g)},utime:(d,g,b)=>{var L=D.lookupPath(d,{follow:!0}).node;L.node_ops.setattr(L,{timestamp:Math.max(g,b)})},open:(d,g,b)=>{if(""===d)throw new D.ErrnoError(44);var T;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?D.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof d)T=d;else{d=In.normalize(d);try{T=D.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var M=!1;if(64&g)if(T){if(128&g)throw new D.ErrnoError(20)}else T=D.mknod(d,b,0),M=!0;if(!T)throw new D.ErrnoError(44);if(D.isChrdev(T.mode)&&(g&=-513),65536&g&&!D.isDir(T.mode))throw new D.ErrnoError(54);if(!M){var _e=D.mayOpen(T,g);if(_e)throw new D.ErrnoError(_e)}512&g&&!M&&D.truncate(T,0),g&=-131713;var me=D.createStream({node:T,path:D.getPath(T),flags:g,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),c.logReadFiles&&!(1&g)&&(D.readFiles||(D.readFiles={}),d in D.readFiles||(D.readFiles[d]=1)),me},close:d=>{if(D.isClosed(d))throw new D.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{D.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,b)=>{if(D.isClosed(d))throw new D.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new D.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,b),d.ungotten=[],d.position},read:(d,g,b,T,L)=>{if(T<0||L<0)throw new D.ErrnoError(28);if(D.isClosed(d))throw new D.ErrnoError(8);if(1==(2097155&d.flags))throw new D.ErrnoError(8);if(D.isDir(d.node.mode))throw new D.ErrnoError(31);if(!d.stream_ops.read)throw new D.ErrnoError(28);var M=typeof L<"u";if(M){if(!d.seekable)throw new D.ErrnoError(70)}else L=d.position;var _e=d.stream_ops.read(d,g,b,T,L);return M||(d.position+=_e),_e},write:(d,g,b,T,L,M)=>{if(T<0||L<0)throw new D.ErrnoError(28);if(D.isClosed(d))throw new D.ErrnoError(8);if(!(2097155&d.flags))throw new D.ErrnoError(8);if(D.isDir(d.node.mode))throw new D.ErrnoError(31);if(!d.stream_ops.write)throw new D.ErrnoError(28);d.seekable&&1024&d.flags&&D.llseek(d,0,2);var _e=typeof L<"u";if(_e){if(!d.seekable)throw new D.ErrnoError(70)}else L=d.position;var me=d.stream_ops.write(d,g,b,T,L,M);return _e||(d.position+=me),me},allocate:(d,g,b)=>{if(D.isClosed(d))throw new D.ErrnoError(8);if(g<0||b<=0)throw new D.ErrnoError(28);if(!(2097155&d.flags))throw new D.ErrnoError(8);if(!D.isFile(d.node.mode)&&!D.isDir(d.node.mode))throw new D.ErrnoError(43);if(!d.stream_ops.allocate)throw new D.ErrnoError(138);d.stream_ops.allocate(d,g,b)},mmap:(d,g,b,T,L)=>{if(2&T&&!(2&L)&&2!=(2097155&d.flags))throw new D.ErrnoError(2);if(1==(2097155&d.flags))throw new D.ErrnoError(2);if(!d.stream_ops.mmap)throw new D.ErrnoError(43);return d.stream_ops.mmap(d,g,b,T,L)},msync:(d,g,b,T,L)=>d.stream_ops.msync?d.stream_ops.msync(d,g,b,T,L):0,munmap:d=>0,ioctl:(d,g,b)=>{if(!d.stream_ops.ioctl)throw new D.ErrnoError(59);return d.stream_ops.ioctl(d,g,b)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,T=D.open(d,g.flags),M=D.stat(d).size,_e=new Uint8Array(M);return D.read(T,_e,0,M,0),"utf8"===g.encoding?b=Ye(_e,0):"binary"===g.encoding&&(b=_e),D.close(T),b},writeFile:(d,g,b={})=>{b.flags=b.flags||577;var T=D.open(d,b.flags,b.mode);if("string"==typeof g){var L=new Uint8Array(ne(g)+1),M=ke(g,L,0,L.length);D.write(T,L,0,M,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");D.write(T,g,0,g.byteLength,void 0,b.canOwn)}D.close(T)},cwd:()=>D.currentPath,chdir:d=>{var g=D.lookupPath(d,{follow:!0});if(null===g.node)throw new D.ErrnoError(44);if(!D.isDir(g.node.mode))throw new D.ErrnoError(54);var b=D.nodePermissions(g.node,"x");if(b)throw new D.ErrnoError(b);D.currentPath=g.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(g,b,T,L,M)=>L}),D.mkdev("/dev/null",D.makedev(1,3)),Vn.register(D.makedev(5,0),Vn.default_tty_ops),Vn.register(D.makedev(6,0),Vn.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var d=function li(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>Yn("randomDevice")}();D.createDevice("/dev","random",d),D.createDevice("/dev","urandom",d),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var d=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var g=D.createNode(d,"fd",16895,73);return g.node_ops={lookup:(b,T)=>{var M=D.getStream(+T);if(!M)throw new D.ErrnoError(8);var _e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>M.path}};return _e.parent=_e,_e}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?D.createDevice("/dev","stdin",c.stdin):D.symlink("/dev/tty","/dev/stdin"),c.stdout?D.createDevice("/dev","stdout",null,c.stdout):D.symlink("/dev/tty","/dev/stdout"),c.stderr?D.createDevice("/dev","stderr",null,c.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(g,b){this.node=b,this.setErrno=function(T){this.errno=T},this.setErrno(g),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(d=>{D.genericErrors[d]=new D.ErrnoError(d),D.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(Yt,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:Yt}},init:(d,g,b)=>{D.init.initialized=!0,D.ensureErrnoError(),c.stdin=d||c.stdin,c.stdout=g||c.stdout,c.stderr=b||c.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var d=0;d<D.streams.length;d++){var g=D.streams[d];g&&D.close(g)}},getMode:(d,g)=>{var b=0;return d&&(b|=365),g&&(b|=146),b},findObject:(d,g)=>{var b=D.analyzePath(d,g);return b.exists?b.object:null},analyzePath:(d,g)=>{try{d=(b=D.lookupPath(d,{follow:!g})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=D.lookupPath(d,{parent:!0});T.parentExists=!0,T.parentPath=b.path,T.parentObject=b.node,T.name=In.basename(d),b=D.lookupPath(d,{follow:!g}),T.exists=!0,T.path=b.path,T.object=b.node,T.name=b.node.name,T.isRoot="/"===b.path}catch(L){T.error=L.errno}return T},createPath:(d,g,b,T)=>{d="string"==typeof d?d:D.getPath(d);for(var L=g.split("/").reverse();L.length;){var M=L.pop();if(M){var _e=In.join2(d,M);try{D.mkdir(_e)}catch{}d=_e}}return _e},createFile:(d,g,b,T,L)=>{var M=In.join2("string"==typeof d?d:D.getPath(d),g),_e=D.getMode(T,L);return D.create(M,_e)},createDataFile:(d,g,b,T,L,M)=>{var _e=g;d&&(d="string"==typeof d?d:D.getPath(d),_e=g?In.join2(d,g):d);var me=D.getMode(T,L),mt=D.create(_e,me);if(b){if("string"==typeof b){for(var Ve=new Array(b.length),yt=0,cn=b.length;yt<cn;++yt)Ve[yt]=b.charCodeAt(yt);b=Ve}D.chmod(mt,146|me);var Et=D.open(mt,577);D.write(Et,b,0,b.length,0,M),D.close(Et),D.chmod(mt,me)}return mt},createDevice:(d,g,b,T)=>{var L=In.join2("string"==typeof d?d:D.getPath(d),g),M=D.getMode(!!b,!!T);D.createDevice.major||(D.createDevice.major=64);var _e=D.makedev(D.createDevice.major++,0);return D.registerDevice(_e,{open:me=>{me.seekable=!1},close:me=>{T&&T.buffer&&T.buffer.length&&T(10)},read:(me,mt,Ve,yt,cn)=>{for(var Et=0,Nt=0;Nt<yt;Nt++){var zt;try{zt=b()}catch{throw new D.ErrnoError(29)}if(void 0===zt&&0===Et)throw new D.ErrnoError(6);if(null==zt)break;Et++,mt[Ve+Nt]=zt}return Et&&(me.node.timestamp=Date.now()),Et},write:(me,mt,Ve,yt,cn)=>{for(var Et=0;Et<yt;Et++)try{T(mt[Ve+Et])}catch{throw new D.ErrnoError(29)}return yt&&(me.node.timestamp=Date.now()),Et}}),D.mkdev(L,M,_e)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=Xr(G(d.url),!0),d.usedBytes=d.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(d,g,b,T,L)=>{function M(){this.lengthKnown=!1,this.chunks=[]}if(M.prototype.get=function(Nt){if(!(Nt>this.length-1||Nt<0)){var zt=Nt%this.chunkSize;return this.getter(Nt/this.chunkSize|0)[zt]}},M.prototype.setDataGetter=function(Nt){this.getter=Nt},M.prototype.cacheLength=function(){var Nt=new XMLHttpRequest;if(Nt.open("HEAD",b,!1),Nt.send(null),!(Nt.status>=200&&Nt.status<300||304===Nt.status))throw new Error("Couldn't load "+b+". Status: "+Nt.status);var Zn,zt=Number(Nt.getResponseHeader("Content-length")),fi=(Zn=Nt.getResponseHeader("Accept-Ranges"))&&"bytes"===Zn,Io=(Zn=Nt.getResponseHeader("Content-Encoding"))&&"gzip"===Zn,ft=1048576;fi||(ft=zt);var mn=this;mn.setDataGetter(nr=>{var Lo=nr*ft,Tr=(nr+1)*ft-1;if(Tr=Math.min(Tr,zt-1),typeof mn.chunks[nr]>"u"&&(mn.chunks[nr]=((nr,Lo)=>{if(nr>Lo)throw new Error("invalid range ("+nr+", "+Lo+") or no bytes requested!");if(Lo>zt-1)throw new Error("only "+zt+" bytes available! programmer error!");var Tr=new XMLHttpRequest;if(Tr.open("GET",b,!1),zt!==ft&&Tr.setRequestHeader("Range","bytes="+nr+"-"+Lo),Tr.responseType="arraybuffer",Tr.overrideMimeType&&Tr.overrideMimeType("text/plain; charset=x-user-defined"),Tr.send(null),!(Tr.status>=200&&Tr.status<300||304===Tr.status))throw new Error("Couldn't load "+b+". Status: "+Tr.status);return void 0!==Tr.response?new Uint8Array(Tr.response||[]):Xr(Tr.responseText||"",!0)})(Lo,Tr)),typeof mn.chunks[nr]>"u")throw new Error("doXHR failed!");return mn.chunks[nr]}),(Io||!zt)&&(ft=zt=1,zt=this.getter(0).length,ft=zt,q("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=zt,this._chunkSize=ft,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _e=new M;Object.defineProperties(_e,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var me={isDevice:!1,contents:_e}}else me={isDevice:!1,url:b};var mt=D.createFile(d,g,me,T,L);me.contents?mt.contents=me.contents:me.url&&(mt.contents=null,mt.url=me.url),Object.defineProperties(mt,{usedBytes:{get:function(){return this.contents.length}}});var Ve={};function cn(Et,Nt,zt,Zn,fi){var Io=Et.node.contents;if(fi>=Io.length)return 0;var ft=Math.min(Io.length-fi,Zn);if(Io.slice)for(var Gt=0;Gt<ft;Gt++)Nt[zt+Gt]=Io[fi+Gt];else for(Gt=0;Gt<ft;Gt++)Nt[zt+Gt]=Io.get(fi+Gt);return ft}return Object.keys(mt.stream_ops).forEach(Et=>{var Nt=mt.stream_ops[Et];Ve[Et]=function(){return D.forceLoadFile(mt),Nt.apply(null,arguments)}}),Ve.read=(Et,Nt,zt,Zn,fi)=>(D.forceLoadFile(mt),cn(Et,Nt,zt,Zn,fi)),Ve.mmap=(Et,Nt,zt,Zn,fi)=>{D.forceLoadFile(mt);var Io=co();if(!Io)throw new D.ErrnoError(48);return cn(Et,Xe,Io,Nt,zt),{ptr:Io,allocated:!0}},mt.stream_ops=Ve,mt},createPreloadedFile:(d,g,b,T,L,M,_e,me,mt,Ve)=>{var yt=g?ar.resolve(In.join2(d,g)):d;function Et(Nt){function zt(Zn){Ve&&Ve(),me||D.createDataFile(d,g,Zn,T,L,mt),M&&M(),vr()}Browser.handledByPreloadPlugin(Nt,yt,zt,()=>{_e&&_e(),vr()})||zt(Nt)}Rr(),"string"==typeof b?function Ko(d,g,b,T){var L=T?"":"al "+d;Re(d,M=>{Ee(M,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(M)),L&&vr()},M=>{if(!b)throw'Loading data file "'+d+'" failed.';b()}),L&&Rr()}(b,Nt=>Et(Nt),_e):Et(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var T=D.indexedDB();try{var L=T.open(D.DB_NAME(),D.DB_VERSION)}catch(M){return b(M)}L.onupgradeneeded=()=>{q("creating db"),L.result.createObjectStore(D.DB_STORE_NAME)},L.onsuccess=()=>{var _e=L.result.transaction([D.DB_STORE_NAME],"readwrite"),me=_e.objectStore(D.DB_STORE_NAME),mt=0,Ve=0,yt=d.length;function cn(){0==Ve?g():b()}d.forEach(Et=>{var Nt=me.put(D.analyzePath(Et).object.contents,Et);Nt.onsuccess=()=>{++mt+Ve==yt&&cn()},Nt.onerror=()=>{Ve++,mt+Ve==yt&&cn()}}),_e.onerror=b},L.onerror=b},loadFilesFromDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var T=D.indexedDB();try{var L=T.open(D.DB_NAME(),D.DB_VERSION)}catch(M){return b(M)}L.onupgradeneeded=b,L.onsuccess=()=>{var M=L.result;try{var _e=M.transaction([D.DB_STORE_NAME],"readonly")}catch(Et){return void b(Et)}var me=_e.objectStore(D.DB_STORE_NAME),mt=0,Ve=0,yt=d.length;function cn(){0==Ve?g():b()}d.forEach(Et=>{var Nt=me.get(Et);Nt.onsuccess=()=>{D.analyzePath(Et).exists&&D.unlink(Et),D.createDataFile(In.dirname(Et),In.basename(Et),Nt.result,!0,!0,!0),++mt+Ve==yt&&cn()},Nt.onerror=()=>{Ve++,mt+Ve==yt&&cn()}}),_e.onerror=b},L.onerror=b}},br={DEFAULT_POLLMASK:5,calculateAt:function(d,g,b){if(In.isAbs(g))return g;var T;if(T=-100===d?D.cwd():br.getStreamFromFD(d).path,0==g.length){if(!b)throw new D.ErrnoError(44);return T}return In.join2(T,g)},doStat:function(d,g,b){try{var T=d(g)}catch(L){if(L&&L.node&&In.normalize(g)!==In.normalize(D.getPath(L.node)))return-54;throw L}return N[b>>2]=T.dev,N[b+8>>2]=T.ino,N[b+12>>2]=T.mode,ge[b+16>>2]=T.nlink,N[b+20>>2]=T.uid,N[b+24>>2]=T.gid,N[b+28>>2]=T.rdev,ae=[T.size>>>0,(at=T.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[b+40>>2]=ae[0],N[b+44>>2]=ae[1],N[b+48>>2]=4096,N[b+52>>2]=T.blocks,ae=[Math.floor(T.atime.getTime()/1e3)>>>0,(at=Math.floor(T.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[b+56>>2]=ae[0],N[b+60>>2]=ae[1],ge[b+64>>2]=0,ae=[Math.floor(T.mtime.getTime()/1e3)>>>0,(at=Math.floor(T.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[b+72>>2]=ae[0],N[b+76>>2]=ae[1],ge[b+80>>2]=0,ae=[Math.floor(T.ctime.getTime()/1e3)>>>0,(at=Math.floor(T.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[b+88>>2]=ae[0],N[b+92>>2]=ae[1],ge[b+96>>2]=0,ae=[T.ino>>>0,(at=T.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[b+104>>2]=ae[0],N[b+108>>2]=ae[1],0},doMsync:function(d,g,b,T,L){if(!D.isFile(g.node.mode))throw new D.ErrnoError(43);if(2&T)return 0;var M=vt.slice(d,d+b);D.msync(g,M,L,b,T)},varargs:void 0,get:function(){return br.varargs+=4,N[br.varargs-4>>2]},getStr:function(d){return Be(d)},getStreamFromFD:function(d){var g=D.getStream(d);if(!g)throw new D.ErrnoError(8);return g}},wi=[31,29,31,30,31,30,31,31,30,31,30,31],ns=[31,28,31,30,31,30,31,31,30,31,30,31];var $=function(d,g,b,T){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=D.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties($.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=$,D.staticInit();var is,Oe={h:function tr(d,g){var b=new Date(1e3*function xn(d){return ge[d>>2]+4294967296*N[d+4>>2]}(d));N[g>>2]=b.getSeconds(),N[g+4>>2]=b.getMinutes(),N[g+8>>2]=b.getHours(),N[g+12>>2]=b.getDate(),N[g+16>>2]=b.getMonth(),N[g+20>>2]=b.getFullYear()-1900,N[g+24>>2]=b.getDay();var T=0|dn(b);N[g+28>>2]=T,N[g+36>>2]=-60*b.getTimezoneOffset();var L=new Date(b.getFullYear(),0,1),M=new Date(b.getFullYear(),6,1).getTimezoneOffset(),_e=L.getTimezoneOffset(),me=0|(M!=_e&&b.getTimezoneOffset()==Math.min(_e,M));N[g+32>>2]=me},i:function cr(d){var g=new Date(N[d+20>>2]+1900,N[d+16>>2],N[d+12>>2],N[d+8>>2],N[d+4>>2],N[d>>2],0),b=N[d+32>>2],T=g.getTimezoneOffset(),L=new Date(g.getFullYear(),0,1),M=new Date(g.getFullYear(),6,1).getTimezoneOffset(),_e=L.getTimezoneOffset(),me=Math.min(_e,M);if(b<0)N[d+32>>2]=Number(M!=_e&&me==T);else if(b>0!=(me==T)){var mt=Math.max(_e,M),Ve=b>0?me:mt;g.setTime(g.getTime()+6e4*(Ve-T))}N[d+24>>2]=g.getDay();var yt=0|dn(g);return N[d+28>>2]=yt,N[d>>2]=g.getSeconds(),N[d+4>>2]=g.getMinutes(),N[d+8>>2]=g.getHours(),N[d+12>>2]=g.getDate(),N[d+16>>2]=g.getMonth(),N[d+20>>2]=g.getYear(),g.getTime()/1e3|0},n:function fr(d,g,b){var T=(new Date).getFullYear(),L=new Date(T,0,1),M=new Date(T,6,1),_e=L.getTimezoneOffset(),me=M.getTimezoneOffset(),mt=Math.max(_e,me);function Ve(zt){var Zn=zt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Zn?Zn[1]:"GMT"}ge[d>>2]=60*mt,N[g>>2]=Number(_e!=me);var yt=Ve(L),cn=Ve(M),Et=on(yt),Nt=on(cn);me<_e?(ge[b>>2]=Et,ge[b+4>>2]=Nt):(ge[b>>2]=Nt,ge[b+4>>2]=Et)},a:function C(){Yn("")},g:function Bt(){return Date.now()},f:function ir(d,g,b){vt.copyWithin(d,g,g+b)},e:function So(d){var mt,g=vt.length,b=2147483648;if((d>>>=0)>b)return!1;for(var L=1;L<=4;L*=2){var M=g*(1+.2/L);if(M=Math.min(M,d+100663296),Mn(Math.min(b,(mt=Math.max(d,M))+(65536-mt%65536)%65536)))return!0}return!1},l:function Fr(d,g){var b=0;return Co().forEach(function(T,L){var M=g+b;ge[d+4*L>>2]=M,function Eo(d,g,b){for(var T=0;T<d.length;++T)Xe[g++>>0]=d.charCodeAt(T);b||(Xe[g>>0]=0)}(T,M),b+=T.length+1}),0},m:function Ri(d,g){var b=Co();ge[d>>2]=b.length;var T=0;return b.forEach(function(L){T+=L.length+1}),ge[g>>2]=T,0},b:function ci(d){try{var g=br.getStreamFromFD(d);return D.close(g),0}catch(b){if(typeof D>"u"||!(b instanceof D.ErrnoError))throw b;return b.errno}},d:function Do(d,g,b,T){try{var M=function uo(d,g,b,T){for(var L=0,M=0;M<b;M++){var _e=ge[g>>2],me=ge[g+4>>2];g+=8;var mt=D.read(d,Xe,_e,me,T);if(mt<0)return-1;if(L+=mt,mt<me)break}return L}(br.getStreamFromFD(d),g,b);return ge[T>>2]=M,0}catch(_e){if(typeof D>"u"||!(_e instanceof D.ErrnoError))throw _e;return _e.errno}},j:function Qr(d,g,b,T,L){try{var M=function Fi(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}(g,b);if(isNaN(M))return 61;var _e=br.getStreamFromFD(d);return D.llseek(_e,M,T),ae=[_e.position>>>0,(at=_e.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],N[L>>2]=ae[0],N[L+4>>2]=ae[1],_e.getdents&&0===M&&0===T&&(_e.getdents=null),0}catch(me){if(typeof D>"u"||!(me instanceof D.ErrnoError))throw me;return me.errno}},c:function ts(d,g,b,T){try{var M=function ui(d,g,b,T){for(var L=0,M=0;M<b;M++){var _e=ge[g>>2],me=ge[g+4>>2];g+=8;var mt=D.write(d,Xe,_e,me,T);if(mt<0)return-1;L+=mt}return L}(br.getStreamFromFD(d),g,b);return ge[T>>2]=M,0}catch(_e){if(typeof D>"u"||!(_e instanceof D.ErrnoError))throw _e;return _e.errno}},k:function bs(d,g,b,T,L){return function Xo(d,g,b,T){var L=N[T+40>>2],M={tm_sec:N[T>>2],tm_min:N[T+4>>2],tm_hour:N[T+8>>2],tm_mday:N[T+12>>2],tm_mon:N[T+16>>2],tm_year:N[T+20>>2],tm_wday:N[T+24>>2],tm_yday:N[T+28>>2],tm_isdst:N[T+32>>2],tm_gmtoff:N[T+36>>2],tm_zone:L?Be(L):""},_e=Be(b),me={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var mt in me)_e=_e.replace(new RegExp(mt,"g"),me[mt]);var Ve=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],yt=["January","February","March","April","May","June","July","August","September","October","November","December"];function cn(ft,Gt,mn){for(var nr="number"==typeof ft?ft.toString():ft||"";nr.length<Gt;)nr=mn[0]+nr;return nr}function Et(ft,Gt){return cn(ft,Gt,"0")}function Nt(ft,Gt){function mn(Lo){return Lo<0?-1:Lo>0?1:0}var nr;return 0===(nr=mn(ft.getFullYear()-Gt.getFullYear()))&&0===(nr=mn(ft.getMonth()-Gt.getMonth()))&&(nr=mn(ft.getDate()-Gt.getDate())),nr}function zt(ft){switch(ft.getDay()){case 0:return new Date(ft.getFullYear()-1,11,29);case 1:return ft;case 2:return new Date(ft.getFullYear(),0,3);case 3:return new Date(ft.getFullYear(),0,2);case 4:return new Date(ft.getFullYear(),0,1);case 5:return new Date(ft.getFullYear()-1,11,31);case 6:return new Date(ft.getFullYear()-1,11,30)}}function Zn(ft){var Gt=function vs(d,g){for(var b=new Date(d.getTime());g>0;){var T=jt(b.getFullYear()),L=b.getMonth(),M=(T?wi:ns)[L];if(!(g>M-b.getDate()))return b.setDate(b.getDate()+g),b;g-=M-b.getDate()+1,b.setDate(1),L<11?b.setMonth(L+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ft.tm_year+1900,0,1),ft.tm_yday),mn=new Date(Gt.getFullYear(),0,4),nr=new Date(Gt.getFullYear()+1,0,4),Lo=zt(mn),Tr=zt(nr);return Nt(Lo,Gt)<=0?Nt(Tr,Gt)<=0?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}var fi={"%a":function(ft){return Ve[ft.tm_wday].substring(0,3)},"%A":function(ft){return Ve[ft.tm_wday]},"%b":function(ft){return yt[ft.tm_mon].substring(0,3)},"%B":function(ft){return yt[ft.tm_mon]},"%C":function(ft){return Et((ft.tm_year+1900)/100|0,2)},"%d":function(ft){return Et(ft.tm_mday,2)},"%e":function(ft){return cn(ft.tm_mday,2," ")},"%g":function(ft){return Zn(ft).toString().substring(2)},"%G":function(ft){return Zn(ft)},"%H":function(ft){return Et(ft.tm_hour,2)},"%I":function(ft){var Gt=ft.tm_hour;return 0==Gt?Gt=12:Gt>12&&(Gt-=12),Et(Gt,2)},"%j":function(ft){return Et(ft.tm_mday+function Yo(d,g){for(var b=0,T=0;T<=g;b+=d[T++]);return b}(jt(ft.tm_year+1900)?wi:ns,ft.tm_mon-1),3)},"%m":function(ft){return Et(ft.tm_mon+1,2)},"%M":function(ft){return Et(ft.tm_min,2)},"%n":function(){return"\n"},"%p":function(ft){return ft.tm_hour>=0&&ft.tm_hour<12?"AM":"PM"},"%S":function(ft){return Et(ft.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ft){return ft.tm_wday||7},"%U":function(ft){return Et(Math.floor((ft.tm_yday+7-ft.tm_wday)/7),2)},"%V":function(ft){var Gt=Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7);if((ft.tm_wday+371-ft.tm_yday-2)%7<=2&&Gt++,Gt){if(53==Gt){var nr=(ft.tm_wday+371-ft.tm_yday)%7;4!=nr&&(3!=nr||!jt(ft.tm_year))&&(Gt=1)}}else{Gt=52;var mn=(ft.tm_wday+7-ft.tm_yday-1)%7;(4==mn||5==mn&&jt(ft.tm_year%400-1))&&Gt++}return Et(Gt,2)},"%w":function(ft){return ft.tm_wday},"%W":function(ft){return Et(Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7),2)},"%y":function(ft){return(ft.tm_year+1900).toString().substring(2)},"%Y":function(ft){return ft.tm_year+1900},"%z":function(ft){var Gt=ft.tm_gmtoff,mn=Gt>=0;return Gt=(Gt=Math.abs(Gt)/60)/60*100+Gt%60,(mn?"+":"-")+String("0000"+Gt).slice(-4)},"%Z":function(ft){return ft.tm_zone},"%%":function(){return"%"}};for(var mt in _e=_e.replace(/%%/g,"\0\0"),fi)_e.includes(mt)&&(_e=_e.replace(new RegExp(mt,"g"),fi[mt](M)));var Io=Xr(_e=_e.replace(/\0\0/g,"%"),!1);return Io.length>g?0:(function Xn(d,g){Xe.set(d,g)}(Io,d),Io.length-1)}(d,g,b,T)}},Te=(function Ir(){var d={a:Oe};function g(_e,me){c.asm=_e.exports,Ue((ue=c.asm.o).buffer),function Lr(d){Pe.unshift(d)}(c.asm.p),vr()}function b(_e){g(_e.instance)}function T(_e){return function Pi(){return de||!ce&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return $r(un)}):fetch(un,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+un+"'";return d.arrayBuffer()}).catch(function(){return $r(un)})}().then(function(me){return WebAssembly.instantiate(me,d)}).then(function(me){return me}).then(_e,function(me){Y("failed to asynchronously prepare wasm: "+me),Yn(me)})}if(Rr(),c.instantiateWasm)try{return c.instantiateWasm(d,g)}catch(_e){Y("Module.instantiateWasm callback failed with error: "+_e),ee(_e)}(function L(){return de||"function"!=typeof WebAssembly.instantiateStreaming||jr(un)||"function"!=typeof fetch?T(b):fetch(un,{credentials:"same-origin"}).then(function(_e){return WebAssembly.instantiateStreaming(_e,d).then(b,function(mt){return Y("wasm streaming compile failed: "+mt),Y("falling back to ArrayBuffer instantiation"),T(b)})})})().catch(ee)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.p).apply(null,arguments)},c._malloc=function(){return(Te=c._malloc=c.asm.q).apply(null,arguments)}),rt=(c._free=function(){return(c._free=c.asm.r).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(rt=c._emscripten_bind_VoidPtr___destroy___0=c.asm.s).apply(null,arguments)}),Ae=c._emscripten_bind_FileEntry_GetName_0=function(){return(Ae=c._emscripten_bind_FileEntry_GetName_0=c.asm.t).apply(null,arguments)},Vt=c._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Vt=c._emscripten_bind_FileEntry_IsDirectory_0=c.asm.u).apply(null,arguments)},Ct=c._emscripten_bind_FileEntry_GetSize_0=function(){return(Ct=c._emscripten_bind_FileEntry_GetSize_0=c.asm.v).apply(null,arguments)},sn=c._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(sn=c._emscripten_bind_FileEntry_GetModifiedTS_0=c.asm.w).apply(null,arguments)},fo=c._emscripten_bind_FileEntry_GetAttributes_0=function(){return(fo=c._emscripten_bind_FileEntry_GetAttributes_0=c.asm.x).apply(null,arguments)},Br=c._emscripten_bind_FileEntry___destroy___0=function(){return(Br=c._emscripten_bind_FileEntry___destroy___0=c.asm.y).apply(null,arguments)},po=c._emscripten_bind_Vfs_Vfs_0=function(){return(po=c._emscripten_bind_Vfs_Vfs_0=c.asm.z).apply(null,arguments)},Qo=c._emscripten_bind_Vfs_Malloc_1=function(){return(Qo=c._emscripten_bind_Vfs_Malloc_1=c.asm.A).apply(null,arguments)},pr=c._emscripten_bind_Vfs_Free_1=function(){return(pr=c._emscripten_bind_Vfs_Free_1=c.asm.B).apply(null,arguments)},Ni=c._emscripten_bind_Vfs_Nullptr_0=function(){return(Ni=c._emscripten_bind_Vfs_Nullptr_0=c.asm.C).apply(null,arguments)},va=c._emscripten_bind_Vfs_AllocateImage_1=function(){return(va=c._emscripten_bind_Vfs_AllocateImage_1=c.asm.D).apply(null,arguments)},ba=c._emscripten_bind_Vfs_MountImage_1=function(){return(ba=c._emscripten_bind_Vfs_MountImage_1=c.asm.E).apply(null,arguments)},di=c._emscripten_bind_Vfs_UnmountImage_1=function(){return(di=c._emscripten_bind_Vfs_UnmountImage_1=c.asm.F).apply(null,arguments)},wa=c._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(wa=c._emscripten_bind_Vfs_GetPendingImageSize_0=c.asm.G).apply(null,arguments)},ks=c._emscripten_bind_Vfs_GetSize_1=function(){return(ks=c._emscripten_bind_Vfs_GetSize_1=c.asm.H).apply(null,arguments)},As=c._emscripten_bind_Vfs_GetPendingImage_0=function(){return(As=c._emscripten_bind_Vfs_GetPendingImage_0=c.asm.I).apply(null,arguments)},el=c._emscripten_bind_Vfs_GetImage_1=function(){return(el=c._emscripten_bind_Vfs_GetImage_1=c.asm.J).apply(null,arguments)},tl=c._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(tl=c._emscripten_bind_Vfs_GetDirtyPages_1=c.asm.K).apply(null,arguments)},nl=c._emscripten_bind_Vfs_RenameFile_2=function(){return(nl=c._emscripten_bind_Vfs_RenameFile_2=c.asm.L).apply(null,arguments)},Sa=c._emscripten_bind_Vfs_ChmodFile_3=function(){return(Sa=c._emscripten_bind_Vfs_ChmodFile_3=c.asm.M).apply(null,arguments)},Ca=c._emscripten_bind_Vfs_StatFile_1=function(){return(Ca=c._emscripten_bind_Vfs_StatFile_1=c.asm.N).apply(null,arguments)},ho=c._emscripten_bind_Vfs_GetEntry_0=function(){return(ho=c._emscripten_bind_Vfs_GetEntry_0=c.asm.O).apply(null,arguments)},Un=c._emscripten_bind_Vfs_BytesFree_1=function(){return(Un=c._emscripten_bind_Vfs_BytesFree_1=c.asm.P).apply(null,arguments)},rl=c._emscripten_bind_Vfs_BytesTotal_1=function(){return(rl=c._emscripten_bind_Vfs_BytesTotal_1=c.asm.Q).apply(null,arguments)},ol=c._emscripten_bind_Vfs___destroy___0=function(){return(ol=c._emscripten_bind_Vfs___destroy___0=c.asm.R).apply(null,arguments)},jl=c._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(jl=c._emscripten_bind_ReaddirContext_ReaddirContext_1=c.asm.S).apply(null,arguments)},gt=c._emscripten_bind_ReaddirContext_Next_0=function(){return(gt=c._emscripten_bind_ReaddirContext_Next_0=c.asm.T).apply(null,arguments)},xs=c._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(xs=c._emscripten_bind_ReaddirContext_GetEntry_0=c.asm.U).apply(null,arguments)},sr=c._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(sr=c._emscripten_bind_ReaddirContext_GetStatus_0=c.asm.V).apply(null,arguments)},rs=c._emscripten_bind_ReaddirContext_GetError_0=function(){return(rs=c._emscripten_bind_ReaddirContext_GetError_0=c.asm.W).apply(null,arguments)},js=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(js=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=c.asm.X).apply(null,arguments)},zr=c._emscripten_bind_ReaddirContext___destroy___0=function(){return(zr=c._emscripten_bind_ReaddirContext___destroy___0=c.asm.Y).apply(null,arguments)};function Ea(d){var g=c._main;try{var L=g(0,0);return function Gn(d,g){le=d,function Oi(d){le=d,function Xt(){return Fe}()||(c.onExit&&c.onExit(d),it=!0),H(d,new ze(d))}(d)}(L),L}catch(M){return function R(d){if(d instanceof ze||"unwind"==d)return le;H(1,d)}(M)}}function Da(d){function g(){is||(is=!0,c.calledRun=!0,!it&&(function hn(){!c.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,Vn.init(),Dn(Pe)}(),function er(){Dn(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Mt&&Ea(),function zn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)d=c.postRun.shift(),rn.unshift(d);var d;Dn(rn)}()))}d=d||Q,En>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)d=c.preRun.shift(),pt.unshift(d);var d;Dn(pt)}(),En>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),g()},1)):g())}if(c._main=function(){return(c._main=c.asm.Z).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.$).apply(null,arguments)},c.___start_em_js=16120,c.___stop_em_js=16218,On=function d(){is||Da(),is||(On=d)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Mt=!0;function Gr(){}function Or(d){return(d||Gr).__cache__}function Pn(d,g){var b=Or(g),T=b[d];return T||((T=Object.create((g||Gr).prototype)).ptr=d,b[d]=T)}c.noInitialRun&&(Mt=!1),Da(),(Gr.prototype=Object.create(Gr.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},c.WrapperObject=Gr,c.getCache=Or,c.wrapPointer=Pn,c.castObject=function Vr(d,g){return Pn(d.ptr,g)},c.NULL=Pn(0),c.destroy=function Mr(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Or(d.__class__)[d.ptr]},c.compare=function p(d,g){return d.ptr===g.ptr},c.getPointer=function y(d){return d.ptr},c.getClass=function w(d){return d.__class__};var A={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(A.needed){for(var d=0;d<A.temps.length;d++)c._free(A.temps[d]);A.temps.length=0,c._free(A.buffer),A.buffer=0,A.size+=A.needed,A.needed=0}A.buffer||(A.size+=128,A.buffer=c._malloc(A.size),Ee(A.buffer)),A.pos=0},alloc:function(d,g){Ee(A.buffer);var L,T=d.length*g.BYTES_PER_ELEMENT;return A.pos+(T=T+7&-8)>=A.size?(Ee(T>0),A.needed+=T,L=c._malloc(T),A.temps.push(L)):(L=A.buffer+A.pos,A.pos+=T),L},copy:function(d,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var L=0;L<d.length;L++)g[b+L]=d[L]}};function j(d){if("string"==typeof d){var g=Xr(d),b=A.alloc(g,Xe);return A.copy(g,Xe,b),b}return d}function ye(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ve(){throw"cannot construct a FileEntry, no constructor in IDL"}function we(){this.ptr=po(),Or(we)[this.ptr]=this}function ht(d){A.prepare(),d=d&&"object"==typeof d?d.ptr:j(d),this.ptr=jl(d),Or(ht)[this.ptr]=this}return(ye.prototype=Object.create(Gr.prototype)).constructor=ye,ye.prototype.__class__=ye,ye.__cache__={},c.VoidPtr=ye,ye.prototype.__destroy__=ye.prototype.__destroy__=function(){rt(this.ptr)},(ve.prototype=Object.create(Gr.prototype)).constructor=ve,ve.prototype.__class__=ve,ve.__cache__={},c.FileEntry=ve,ve.prototype.GetName=ve.prototype.GetName=function(){return Be(Ae(this.ptr))},ve.prototype.IsDirectory=ve.prototype.IsDirectory=function(){return!!Vt(this.ptr)},ve.prototype.GetSize=ve.prototype.GetSize=function(){return Ct(this.ptr)},ve.prototype.GetModifiedTS=ve.prototype.GetModifiedTS=function(){return sn(this.ptr)},ve.prototype.GetAttributes=ve.prototype.GetAttributes=function(){return fo(this.ptr)},ve.prototype.__destroy__=ve.prototype.__destroy__=function(){Br(this.ptr)},(we.prototype=Object.create(Gr.prototype)).constructor=we,we.prototype.__class__=we,we.__cache__={},c.Vfs=we,we.prototype.Malloc=we.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Pn(Qo(this.ptr,d),ye)},we.prototype.Free=we.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),pr(this.ptr,d)},we.prototype.Nullptr=we.prototype.Nullptr=function(){return Pn(Ni(this.ptr),ye)},we.prototype.AllocateImage=we.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),va(this.ptr,d)},we.prototype.MountImage=we.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!ba(this.ptr,d)},we.prototype.UnmountImage=we.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),di(this.ptr,d)},we.prototype.GetPendingImageSize=we.prototype.GetPendingImageSize=function(){return wa(this.ptr)},we.prototype.GetSize=we.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),ks(this.ptr,d)},we.prototype.GetPendingImage=we.prototype.GetPendingImage=function(){return Pn(As(this.ptr),ye)},we.prototype.GetImage=we.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Pn(el(this.ptr,d),ye)},we.prototype.GetDirtyPages=we.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Pn(tl(this.ptr,d),ye)},we.prototype.RenameFile=we.prototype.RenameFile=function(d,g){var b=this.ptr;return A.prepare(),d=d&&"object"==typeof d?d.ptr:j(d),g=g&&"object"==typeof g?g.ptr:j(g),nl(b,d,g)},we.prototype.ChmodFile=we.prototype.ChmodFile=function(d,g,b){var T=this.ptr;return A.prepare(),d=d&&"object"==typeof d?d.ptr:j(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),Sa(T,d,g,b)},we.prototype.StatFile=we.prototype.StatFile=function(d){var g=this.ptr;return A.prepare(),d=d&&"object"==typeof d?d.ptr:j(d),Ca(g,d)},we.prototype.GetEntry=we.prototype.GetEntry=function(){return Pn(ho(this.ptr),ve)},we.prototype.BytesFree=we.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),Un(this.ptr,d)},we.prototype.BytesTotal=we.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),rl(this.ptr,d)},we.prototype.__destroy__=we.prototype.__destroy__=function(){ol(this.ptr)},(ht.prototype=Object.create(Gr.prototype)).constructor=ht,ht.prototype.__class__=ht,ht.__cache__={},c.ReaddirContext=ht,ht.prototype.Next=ht.prototype.Next=function(){return gt(this.ptr)},ht.prototype.GetEntry=ht.prototype.GetEntry=function(){return Pn(xs(this.ptr),ve)},ht.prototype.GetStatus=ht.prototype.GetStatus=function(){return sr(this.ptr)},ht.prototype.GetError=ht.prototype.GetError=function(){return rs(this.ptr)},ht.prototype.GetErrorDescription=ht.prototype.GetErrorDescription=function(){return Be(js(this.ptr))},ht.prototype.__destroy__=ht.prototype.__destroy__=function(){zr(this.ptr)},I.ready});$e.exports=Ge},5933:($e,Ge,F)=>{"use strict";F.d(Ge,{c:()=>Le});var I=F(9259),c=F(2286);let re;const W=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=he=>(void 0===re&&(re=void 0===he.style.animationName&&void 0!==he.style.webkitAnimationName?"-webkit-":""),re),B=(he,q,Y)=>{const de=q.startsWith("animation")?Q(he):"";he.style.setProperty(de+q,Y)},H=(he,q)=>{const Y=q.startsWith("animation")?Q(he):"";he.style.removeProperty(Y+q)},oe=[],Re=(he=[],q)=>{if(void 0!==q){const Y=Array.isArray(q)?q:[q];return[...he,...Y]}return he},Le=he=>{let q,Y,de,Fe,ue,it,Be,N,ge,et,tt,pt,Pe,le=[],Ee=[],Ie=[],Ye=!1,ke={},ne=[],He=[],Xe={},vt=0,an=!1,We=!1,Ue=!0,K=!1,Se=!0,Tt=!1;const rn=he,Kt=[],Xt=[],Z=[],hn=[],er=[],zn=[],wo=[],Lr=[],si=[],En=[],Yr="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,On="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Yr,Rr=()=>En,un=(O,pe)=>((pe?.oneTimeCallback?Xt:Kt).push({c:O,o:pe}),Pe),Pi=()=>{if(On)En.forEach(O=>{O.cancel()}),En.length=0;else{const O=Z.slice();(0,I.r)(()=>{O.forEach(pe=>{H(pe,"animation-name"),H(pe,"animation-duration"),H(pe,"animation-timing-function"),H(pe,"animation-iteration-count"),H(pe,"animation-delay"),H(pe,"animation-play-state"),H(pe,"animation-fill-mode"),H(pe,"animation-direction")})})}},Ir=()=>{er.forEach(O=>{O?.parentNode&&O.parentNode.removeChild(O)}),er.length=0},fr=()=>void 0!==ue?ue:Be?Be.getFill():"both",C=()=>void 0!==ge?ge:void 0!==it?it:Be?Be.getDirection():"normal",Bt=()=>an?"linear":void 0!==de?de:Be?Be.getEasing():"linear",ir=()=>We?0:void 0!==et?et:void 0!==Y?Y:Be?Be.getDuration():0,E=()=>void 0!==Fe?Fe:Be?Be.getIterations():1,Mn=()=>void 0!==tt?tt:void 0!==q?q:Be?Be.getDelay():0,br=()=>{0!==vt&&(vt--,0===vt&&((()=>{Xn(),Lr.forEach(rt=>rt()),si.forEach(rt=>rt());const O=Ue?1:0,pe=ne,Te=He,nt=Xe;Z.forEach(rt=>{const Ae=rt.classList;pe.forEach(Vt=>Ae.add(Vt)),Te.forEach(Vt=>Ae.remove(Vt));for(const Vt in nt)nt.hasOwnProperty(Vt)&&B(rt,Vt,nt[Vt])}),Kt.forEach(rt=>rt.c(O,Pe)),Xt.forEach(rt=>rt.c(O,Pe)),Xt.length=0,Se=!0,Ue&&(K=!0),Ue=!0})(),Be&&Be.animationFinish()))},Fr=(O=!0)=>{Ir();const pe=(he=>(he.forEach(q=>{for(const Y in q)if(q.hasOwnProperty(Y)){const de=q[Y];if("easing"===Y)q["animation-timing-function"]=de,delete q[Y];else{const Fe=W(Y);Fe!==Y&&(q[Fe]=de,delete q[Y])}}}),he))(le);Z.forEach(Te=>{if(pe.length>0){const nt=((he=[])=>he.map(q=>{const Y=q.offset,de=[];for(const Fe in q)q.hasOwnProperty(Fe)&&"offset"!==Fe&&de.push(`${Fe}: ${q[Fe]};`);return`${100*Y}% { ${de.join(" ")} }`}).join(" "))(pe);pt=void 0!==he?he:(he=>{let q=oe.indexOf(he);return q<0&&(q=oe.push(he)-1),`ion-animation-${q}`})(nt);const rt=((he,q,Y)=>{var de;const Fe=(he=>{const q=void 0!==he.getRootNode?he.getRootNode():he;return q.head||q})(Y),ue=Q(Y),it=Fe.querySelector("#"+he);if(it)return it;const le=(null!==(de=Y.ownerDocument)&&void 0!==de?de:document).createElement("style");return le.id=he,le.textContent=`@${ue}keyframes ${he} { ${q} } @${ue}keyframes ${he}-alt { ${q} }`,Fe.appendChild(le),le})(pt,nt,Te);er.push(rt),B(Te,"animation-duration",`${ir()}ms`),B(Te,"animation-timing-function",Bt()),B(Te,"animation-delay",`${Mn()}ms`),B(Te,"animation-fill-mode",fr()),B(Te,"animation-direction",C());const Ae=E()===1/0?"infinite":E().toString();B(Te,"animation-iteration-count",Ae),B(Te,"animation-play-state","paused"),O&&B(Te,"animation-name",`${rt.id}-alt`),(0,I.r)(()=>{B(Te,"animation-name",rt.id||null)})}})},ci=(O=!0)=>{(()=>{zn.forEach(nt=>nt()),wo.forEach(nt=>nt());const O=Ee,pe=Ie,Te=ke;Z.forEach(nt=>{const rt=nt.classList;O.forEach(Ae=>rt.add(Ae)),pe.forEach(Ae=>rt.remove(Ae));for(const Ae in Te)Te.hasOwnProperty(Ae)&&B(nt,Ae,Te[Ae])})})(),le.length>0&&(On?(Z.forEach(O=>{const pe=O.animate(le,{id:rn,delay:Mn(),duration:ir(),easing:Bt(),iterations:E(),fill:fr(),direction:C()});pe.pause(),En.push(pe)}),En.length>0&&(En[0].onfinish=()=>{br()})):Fr(O)),Ye=!0},uo=O=>{if(O=Math.min(Math.max(O,0),.9999),On)En.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+ir()*O,pe.pause()});else{const pe=`-${ir()*O}ms`;Z.forEach(Te=>{le.length>0&&(B(Te,"animation-delay",pe),B(Te,"animation-play-state","paused"))})}},Do=O=>{En.forEach(pe=>{pe.effect.updateTiming({delay:Mn(),duration:ir(),easing:Bt(),iterations:E(),fill:fr(),direction:C()})}),void 0!==O&&uo(O)},Fi=(O=!0,pe)=>{(0,I.r)(()=>{Z.forEach(Te=>{B(Te,"animation-name",pt||null),B(Te,"animation-duration",`${ir()}ms`),B(Te,"animation-timing-function",Bt()),B(Te,"animation-delay",void 0!==pe?`-${pe*ir()}ms`:`${Mn()}ms`),B(Te,"animation-fill-mode",fr()||null),B(Te,"animation-direction",C()||null);const nt=E()===1/0?"infinite":E().toString();B(Te,"animation-iteration-count",nt),O&&B(Te,"animation-name",`${pt}-alt`),(0,I.r)(()=>{B(Te,"animation-name",pt||null)})})})},Qr=(O=!1,pe=!0,Te)=>(O&&hn.forEach(nt=>{nt.update(O,pe,Te)}),On?Do(Te):Fi(pe,Te),Pe),wi=()=>{Ye&&(On?En.forEach(O=>{O.pause()}):Z.forEach(O=>{B(O,"animation-play-state","paused")}),Tt=!0)},vs=()=>{N=void 0,br()},Xn=()=>{N&&clearTimeout(N)},R=O=>new Promise(pe=>{O?.sync&&(We=!0,un(()=>We=!1,{oneTimeCallback:!0})),Ye||ci(),K&&(On?(uo(0),Do()):Fi(),K=!1),Se&&(vt=hn.length+1,Se=!1),un(()=>pe(),{oneTimeCallback:!0}),hn.forEach(Te=>{Te.play()}),On?(En.forEach(O=>{O.play()}),(0===le.length||0===Z.length)&&br()):(()=>{if(Xn(),(0,I.r)(()=>{Z.forEach(O=>{le.length>0&&B(O,"animation-play-state","running")})}),0===le.length||0===Z.length)br();else{const O=Mn()||0,pe=ir()||0,Te=E()||1;isFinite(Te)&&(N=setTimeout(vs,O+pe*Te+100)),((he,q)=>{let Y;const de={passive:!0},ue=it=>{he===it.target&&(Y&&Y(),Xn(),(0,I.r)(()=>{Z.forEach(O=>{H(O,"animation-duration"),H(O,"animation-delay"),H(O,"animation-play-state")}),(0,I.r)(br)}))};he&&(he.addEventListener("webkitAnimationEnd",ue,de),he.addEventListener("animationend",ue,de),Y=()=>{he.removeEventListener("webkitAnimationEnd",ue,de),he.removeEventListener("animationend",ue,de)})})(Z[0])}})(),Tt=!1}),fe=(O,pe)=>{const Te=le[0];return void 0===Te||void 0!==Te.offset&&0!==Te.offset?le=[{offset:0,[O]:pe},...le]:Te[O]=pe,Pe};return Pe={parentAnimation:Be,elements:Z,childAnimations:hn,id:rn,animationFinish:br,from:fe,to:(O,pe)=>{const Te=le[le.length-1];return void 0===Te||void 0!==Te.offset&&1!==Te.offset?le=[...le,{offset:1,[O]:pe}]:Te[O]=pe,Pe},fromTo:(O,pe,Te)=>fe(O,pe).to(O,Te),parent:O=>(Be=O,Pe),play:R,pause:()=>(hn.forEach(O=>{O.pause()}),wi(),Pe),stop:()=>{hn.forEach(O=>{O.stop()}),Ye&&(Pi(),Ye=!1),an=!1,We=!1,Se=!0,ge=void 0,et=void 0,tt=void 0,vt=0,K=!1,Ue=!0,Tt=!1},destroy:O=>(hn.forEach(pe=>{pe.destroy(O)}),(O=>{Pi(),O&&Ir()})(O),Z.length=0,hn.length=0,le.length=0,Kt.length=0,Xt.length=0,Ye=!1,Se=!0,Pe),keyframes:O=>{const pe=le!==O;return le=O,pe&&(O=>{On?Rr().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(O);else{const Te=new KeyframeEffect(pe.effect.target,O,pe.effect.getTiming());pe.effect=Te}}):Fr()})(le),Pe},addAnimation:O=>{if(null!=O)if(Array.isArray(O))for(const pe of O)pe.parent(Pe),hn.push(pe);else O.parent(Pe),hn.push(O);return Pe},addElement:O=>{if(null!=O)if(1===O.nodeType)Z.push(O);else if(O.length>=0)for(let pe=0;pe<O.length;pe++)Z.push(O[pe]);else console.error("Invalid addElement value");return Pe},update:Qr,fill:O=>(ue=O,Qr(!0),Pe),direction:O=>(it=O,Qr(!0),Pe),iterations:O=>(Fe=O,Qr(!0),Pe),duration:O=>(!On&&0===O&&(O=1),Y=O,Qr(!0),Pe),easing:O=>(de=O,Qr(!0),Pe),delay:O=>(q=O,Qr(!0),Pe),getWebAnimations:Rr,getKeyframes:()=>le,getFill:fr,getDirection:C,getDelay:Mn,getIterations:E,getEasing:Bt,getDuration:ir,afterAddRead:O=>(Lr.push(O),Pe),afterAddWrite:O=>(si.push(O),Pe),afterClearStyles:(O=[])=>{for(const pe of O)Xe[pe]="";return Pe},afterStyles:(O={})=>(Xe=O,Pe),afterRemoveClass:O=>(He=Re(He,O),Pe),afterAddClass:O=>(ne=Re(ne,O),Pe),beforeAddRead:O=>(zn.push(O),Pe),beforeAddWrite:O=>(wo.push(O),Pe),beforeClearStyles:(O=[])=>{for(const pe of O)ke[pe]="";return Pe},beforeStyles:(O={})=>(ke=O,Pe),beforeRemoveClass:O=>(Ie=Re(Ie,O),Pe),beforeAddClass:O=>(Ee=Re(Ee,O),Pe),onFinish:un,isRunning:()=>0!==vt&&!Tt,progressStart:(O=!1,pe)=>(hn.forEach(Te=>{Te.progressStart(O,pe)}),wi(),an=O,Ye||ci(),Qr(!1,!0,pe),Pe),progressStep:O=>(hn.forEach(pe=>{pe.progressStep(O)}),uo(O),Pe),progressEnd:(O,pe,Te)=>(an=!1,hn.forEach(nt=>{nt.progressEnd(O,pe,Te)}),void 0!==Te&&(et=Te),K=!1,Ue=!0,0===O?(ge="reverse"===C()?"normal":"reverse","reverse"===ge&&(Ue=!1),On?(Qr(),uo(1-pe)):(tt=(1-pe)*ir()*-1,Qr(!1,!1))):1===O&&(On?(Qr(),uo(pe)):(tt=pe*ir()*-1,Qr(!1,!1))),void 0!==O&&(un(()=>{et=void 0,ge=void 0,tt=void 0},{oneTimeCallback:!0}),Be||R()),Pe)}}},6379:($e,Ge,F)=>{"use strict";F.d(Ge,{G:()=>W});class c{constructor(B,H,ce,X,oe){this.id=H,this.name=ce,this.disableScroll=oe,this.priority=1e6*X+H,this.ctrl=B}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const B=this.ctrl.capture(this.name,this.id,this.priority);return B&&this.disableScroll&&this.ctrl.disableScroll(this.id),B}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(B,H,ce,X){this.id=H,this.disable=ce,this.disableScroll=X,this.ctrl=B}block(){if(this.ctrl){if(this.disable)for(const B of this.disable)this.ctrl.disableGesture(B,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const B of this.disable)this.ctrl.enableGesture(B,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ee="backdrop-no-scroll",W=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(B){var H;return new c(this,this.newID(),B.name,null!==(H=B.priority)&&void 0!==H?H:0,!!B.disableScroll)}createBlocker(B={}){return new re(this,this.newID(),B.disable,!!B.disableScroll)}start(B,H,ce){return this.canStart(B)?(this.requestedStart.set(H,ce),!0):(this.requestedStart.delete(H),!1)}capture(B,H,ce){if(!this.start(B,H,ce))return!1;const X=this.requestedStart;let oe=-1e4;if(X.forEach(U=>{oe=Math.max(oe,U)}),oe===ce){this.capturedId=H,X.clear();const U=new CustomEvent("ionGestureCaptured",{detail:{gestureName:B}});return document.dispatchEvent(U),!0}return X.delete(H),!1}release(B){this.requestedStart.delete(B),this.capturedId===B&&(this.capturedId=void 0)}disableGesture(B,H){let ce=this.disabledGestures.get(B);void 0===ce&&(ce=new Set,this.disabledGestures.set(B,ce)),ce.add(H)}enableGesture(B,H){const ce=this.disabledGestures.get(B);void 0!==ce&&ce.delete(H)}disableScroll(B){this.disabledScroll.add(B),1===this.disabledScroll.size&&document.body.classList.add(ee)}enableScroll(B){this.disabledScroll.delete(B),0===this.disabledScroll.size&&document.body.classList.remove(ee)}canStart(B){return!(void 0!==this.capturedId||this.isDisabled(B))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(B){const H=this.disabledGestures.get(B);return!!(H&&H.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:($e,Ge,F)=>{"use strict";F.r(Ge),F.d(Ge,{MENU_BACK_BUTTON_PRIORITY:()=>W,OVERLAY_BACK_BUTTON_PRIORITY:()=>ee,blockHardwareBackButton:()=>c,startHardwareBackButton:()=>re});var I=F(3918);const c=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Q=document;let B=!1;Q.addEventListener("backbutton",()=>{if(B)return;let H=0,ce=[];const X=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(V,G){ce.push({priority:V,handler:G,id:H++})}}});Q.dispatchEvent(X);const oe=function(){var V=(0,I.Z)(function*(G){try{if(G?.handler){const Re=G.handler(U);null!=Re&&(yield Re)}}catch(Re){console.error(Re)}});return function(Re){return V.apply(this,arguments)}}(),U=()=>{if(ce.length>0){let V={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ce.forEach(G=>{G.priority>=V.priority&&(V=G)}),B=!0,ce=ce.filter(G=>G.id!==V.id),oe(V).then(()=>B=!1)}};U()})},ee=100,W=99},9259:($e,Ge,F)=>{"use strict";F.d(Ge,{a:()=>B,b:()=>H,c:()=>re,d:()=>G,e:()=>Re,f:()=>V,g:()=>ce,h:()=>Fe,i:()=>Q,j:()=>ee,k:()=>U,l:()=>Le,m:()=>oe,n:()=>he,o:()=>de,p:()=>Y,q:()=>ue,r:()=>X,s:()=>it,t:()=>I,u:()=>q});const I=(le,Ee=0)=>new Promise(Ie=>{c(le,Ee,Ie)}),c=(le,Ee=0,Ie)=>{let Ye,Be;const ke={passive:!0},He=()=>{Ye&&Ye()},Xe=vt=>{(void 0===vt||le===vt.target)&&(He(),Ie(vt))};return le&&(le.addEventListener("webkitTransitionEnd",Xe,ke),le.addEventListener("transitionend",Xe,ke),Be=setTimeout(Xe,Ee+500),Ye=()=>{Be&&(clearTimeout(Be),Be=void 0),le.removeEventListener("webkitTransitionEnd",Xe,ke),le.removeEventListener("transitionend",Xe,ke)}),He},re=(le,Ee)=>{le.componentOnReady?le.componentOnReady().then(Ie=>Ee(Ie)):X(()=>Ee(le))},ee=(le,Ee=[])=>{const Ie={};return Ee.forEach(Ye=>{le.hasAttribute(Ye)&&(null!==le.getAttribute(Ye)&&(Ie[Ye]=le.getAttribute(Ye)),le.removeAttribute(Ye))}),Ie},W=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(le,Ee)=>{let Ie=W;return Ee&&Ee.length>0&&(Ie=Ie.filter(Ye=>!Ee.includes(Ye))),ee(le,Ie)},B=(le,Ee,Ie,Ye)=>{var Be;if(typeof window<"u"){const ne=null===(Be=window?.Ionic)||void 0===Be?void 0:Be.config;if(ne){const He=ne.get("_ael");if(He)return He(le,Ee,Ie,Ye);if(ne._ael)return ne._ael(le,Ee,Ie,Ye)}}return le.addEventListener(Ee,Ie,Ye)},H=(le,Ee,Ie,Ye)=>{var Be;if(typeof window<"u"){const ne=null===(Be=window?.Ionic)||void 0===Be?void 0:Be.config;if(ne){const He=ne.get("_rel");if(He)return He(le,Ee,Ie,Ye);if(ne._rel)return ne._rel(le,Ee,Ie,Ye)}}return le.removeEventListener(Ee,Ie,Ye)},ce=(le,Ee=le)=>le.shadowRoot||Ee,X=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le),oe=le=>!!le.shadowRoot&&!!le.attachShadow,U=le=>{const Ee=le.closest("ion-item");return Ee?Ee.querySelector("ion-label"):null},V=le=>{if(le.focus(),le.classList.contains("ion-focusable")){const Ee=le.closest("ion-app");Ee&&Ee.setFocus([le])}},G=(le,Ee)=>{let Ie;const Ye=le.getAttribute("aria-labelledby"),Be=le.id;let ke=null!==Ye&&""!==Ye.trim()?Ye:Ee+"-lbl",ne=null!==Ye&&""!==Ye.trim()?document.getElementById(Ye):U(le);return ne?(null===Ye&&(ne.id=ke),Ie=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==Be.trim()&&(ne=document.querySelector(`label[for="${Be}"]`),ne&&(""!==ne.id?ke=ne.id:ne.id=ke=`${Be}-lbl`,Ie=ne.textContent)),{label:ne,labelId:ke,labelText:Ie}},Re=(le,Ee,Ie,Ye,Be)=>{if(le||oe(Ee)){let ke=Ee.querySelector("input.aux-input");ke||(ke=Ee.ownerDocument.createElement("input"),ke.type="hidden",ke.classList.add("aux-input"),Ee.appendChild(ke)),ke.disabled=Be,ke.name=Ie,ke.value=Ye||""}},Le=(le,Ee,Ie)=>Math.max(le,Math.min(Ee,Ie)),he=(le,Ee)=>{if(!le){const Ie="ASSERT: "+Ee;throw console.error(Ie),new Error(Ie)}},q=le=>le.timeStamp||Date.now(),Y=le=>{if(le){const Ee=le.changedTouches;if(Ee&&Ee.length>0){const Ie=Ee[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==le.pageX)return{x:le.pageX,y:le.pageY}}return{x:0,y:0}},de=le=>{const Ee="rtl"===document.dir;switch(le){case"start":return Ee;case"end":return!Ee;default:throw new Error(`"${le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(le,Ee)=>{const Ie=le._original||le;return{_original:le,emit:ue(Ie.emit.bind(Ie),Ee)}},ue=(le,Ee=0)=>{let Ie;return(...Ye)=>{clearTimeout(Ie),Ie=setTimeout(le,Ee,...Ye)}},it=(le,Ee)=>{if(le??(le={}),Ee??(Ee={}),le===Ee)return!0;const Ie=Object.keys(le);if(Ie.length!==Object.keys(Ee).length)return!1;for(const Ye of Ie)if(!(Ye in Ee)||le[Ye]!==Ee[Ye])return!1;return!0}},919:($e,Ge,F)=>{"use strict";F.d(Ge,{L:()=>ee,a:()=>W,b:()=>Q,c:()=>B,d:()=>H,e:()=>Ee,g:()=>Be,l:()=>it,s:()=>Ie,t:()=>oe});var I=F(3918),c=F(1559),re=F(9259);const ee="ionViewWillEnter",W="ionViewDidEnter",Q="ionViewWillLeave",B="ionViewDidLeave",H="ionViewWillUnload",oe=ke=>new Promise((ne,He)=>{(0,c.c)(()=>{U(ke),V(ke).then(Xe=>{Xe.animation&&Xe.animation.destroy(),G(ke),ne(Xe)},Xe=>{G(ke),He(Xe)})})}),U=ke=>{const ne=ke.enteringEl,He=ke.leavingEl;Ye(ne,He,ke.direction),ke.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Ie(ne,!1),ne.style.setProperty("pointer-events","none"),He&&(Ie(He,!1),He.style.setProperty("pointer-events","none"))},V=function(){var ke=(0,I.Z)(function*(ne){const He=yield Re(ne);return He&&c.B.isBrowser?Le(He,ne):he(ne)});return function(He){return ke.apply(this,arguments)}}(),G=ke=>{const ne=ke.enteringEl,He=ke.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==He&&(He.classList.remove("ion-page-invisible"),He.style.removeProperty("pointer-events"))},Re=function(){var ke=(0,I.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(F.bind(F,9078))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,4199))).mdTransitionAnimation:void 0});return function(He){return ke.apply(this,arguments)}}(),Le=function(){var ke=(0,I.Z)(function*(ne,He){yield q(He,!0);const Xe=ne(He.baseEl,He);Fe(He.enteringEl,He.leavingEl);const vt=yield de(Xe,He);return He.progressCallback&&He.progressCallback(void 0),vt&&ue(He.enteringEl,He.leavingEl),{hasCompleted:vt,animation:Xe}});return function(He,Xe){return ke.apply(this,arguments)}}(),he=function(){var ke=(0,I.Z)(function*(ne){const He=ne.enteringEl,Xe=ne.leavingEl;return yield q(ne,!1),Fe(He,Xe),ue(He,Xe),{hasCompleted:!0}});return function(He){return ke.apply(this,arguments)}}(),q=function(){var ke=(0,I.Z)(function*(ne,He){const vt=(void 0!==ne.deepWait?ne.deepWait:He)?[Ee(ne.enteringEl),Ee(ne.leavingEl)]:[le(ne.enteringEl),le(ne.leavingEl)];yield Promise.all(vt),yield Y(ne.viewIsReady,ne.enteringEl)});return function(He,Xe){return ke.apply(this,arguments)}}(),Y=function(){var ke=(0,I.Z)(function*(ne,He){ne&&(yield ne(He))});return function(He,Xe){return ke.apply(this,arguments)}}(),de=(ke,ne)=>{const He=ne.progressCallback,Xe=new Promise(vt=>{ke.onFinish(an=>vt(1===an))});return He?(ke.progressStart(!0),He(ke)):ke.play(),Xe},Fe=(ke,ne)=>{it(ne,Q),it(ke,ee)},ue=(ke,ne)=>{it(ke,W),it(ne,B)},it=(ke,ne)=>{if(ke){const He=new CustomEvent(ne,{bubbles:!1,cancelable:!1});ke.dispatchEvent(He)}},le=ke=>ke?new Promise(ne=>(0,re.c)(ke,ne)):Promise.resolve(),Ee=function(){var ke=(0,I.Z)(function*(ne){const He=ne;if(He){if(null!=He.componentOnReady){if(null!=(yield He.componentOnReady()))return}else if(null!=He.__registerHost)return void(yield new Promise(vt=>(0,re.r)(vt)));yield Promise.all(Array.from(He.children).map(Ee))}});return function(He){return ke.apply(this,arguments)}}(),Ie=(ke,ne)=>{ne?(ke.setAttribute("aria-hidden","true"),ke.classList.add("ion-page-hidden")):(ke.hidden=!1,ke.removeAttribute("aria-hidden"),ke.classList.remove("ion-page-hidden"))},Ye=(ke,ne,He)=>{void 0!==ke&&(ke.style.zIndex="back"===He?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Be=ke=>ke.classList.contains("ion-page")?ke:ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ke},7351:($e,Ge,F)=>{"use strict";F.d(Ge,{m:()=>oe});var I=F(3918),c=F(159),re=F(9259),ee=F(5823),W=F(5933);const Q=U=>(0,W.c)().duration(U?400:300),B=U=>{let V,G;const Re=U.width+8,Le=(0,W.c)(),he=(0,W.c)();U.isEndSide?(V=Re+"px",G="0px"):(V=-Re+"px",G="0px"),Le.addElement(U.menuInnerEl).fromTo("transform",`translateX(${V})`,`translateX(${G})`);const Y="ios"===(0,ee.b)(U),de=Y?.2:.25;return he.addElement(U.backdropEl).fromTo("opacity",.01,de),Q(Y).addAnimation([Le,he])},H=U=>{let V,G;const Re=(0,ee.b)(U),Le=U.width;U.isEndSide?(V=-Le+"px",G=Le+"px"):(V=Le+"px",G=-Le+"px");const he=(0,W.c)().addElement(U.menuInnerEl).fromTo("transform",`translateX(${G})`,"translateX(0px)"),q=(0,W.c)().addElement(U.contentEl).fromTo("transform","translateX(0px)",`translateX(${V})`),Y=(0,W.c)().addElement(U.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Re).addAnimation([he,q,Y])},ce=U=>{const V=(0,ee.b)(U),G=U.width*(U.isEndSide?-1:1)+"px",Re=(0,W.c)().addElement(U.contentEl).fromTo("transform","translateX(0px)",`translateX(${G})`);return Q("ios"===V).addAnimation(Re)},oe=(()=>{const U=new Map,V=[],G=function(){var N=(0,I.Z)(function*(ge){const et=yield Fe(ge);return!!et&&et.open()});return function(et){return N.apply(this,arguments)}}(),Re=function(){var N=(0,I.Z)(function*(ge){const et=yield void 0!==ge?Fe(ge):ue();return void 0!==et&&et.close()});return function(et){return N.apply(this,arguments)}}(),Le=function(){var N=(0,I.Z)(function*(ge){const et=yield Fe(ge);return!!et&&et.toggle()});return function(et){return N.apply(this,arguments)}}(),he=function(){var N=(0,I.Z)(function*(ge,et){const tt=yield Fe(et);return tt&&(tt.disabled=!ge),tt});return function(et,tt){return N.apply(this,arguments)}}(),q=function(){var N=(0,I.Z)(function*(ge,et){const tt=yield Fe(et);return tt&&(tt.swipeGesture=ge),tt});return function(et,tt){return N.apply(this,arguments)}}(),Y=function(){var N=(0,I.Z)(function*(ge){if(null!=ge){const et=yield Fe(ge);return void 0!==et&&et.isOpen()}return void 0!==(yield ue())});return function(et){return N.apply(this,arguments)}}(),de=function(){var N=(0,I.Z)(function*(ge){const et=yield Fe(ge);return!!et&&!et.disabled});return function(et){return N.apply(this,arguments)}}(),Fe=function(){var N=(0,I.Z)(function*(ge){return yield We(),"start"===ge||"end"===ge?an(Ue=>Ue.side===ge&&!Ue.disabled)||an(Ue=>Ue.side===ge):null!=ge?an(tt=>tt.menuId===ge):an(tt=>!tt.disabled)||(V.length>0?V[0].el:void 0)});return function(et){return N.apply(this,arguments)}}(),ue=function(){var N=(0,I.Z)(function*(){return yield We(),He()});return function(){return N.apply(this,arguments)}}(),it=function(){var N=(0,I.Z)(function*(){return yield We(),Xe()});return function(){return N.apply(this,arguments)}}(),le=function(){var N=(0,I.Z)(function*(){return yield We(),vt()});return function(){return N.apply(this,arguments)}}(),Ee=(N,ge)=>{U.set(N,ge)},Be=N=>{const ge=N.side;V.filter(et=>et.side===ge&&et!==N).forEach(et=>et.disabled=!0)},ke=function(){var N=(0,I.Z)(function*(ge,et,tt){if(vt())return!1;if(et){const Ue=yield ue();Ue&&ge.el!==Ue&&(yield Ue.setOpen(!1,!1))}return ge._setOpen(et,tt)});return function(et,tt,Ue){return N.apply(this,arguments)}}(),He=()=>an(N=>N._isOpen),Xe=()=>V.map(N=>N.el),vt=()=>V.some(N=>N.isAnimating),an=N=>{const ge=V.find(N);if(void 0!==ge)return ge.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(N=>new Promise(ge=>(0,re.c)(N,ge))));return Ee("reveal",ce),Ee("push",H),Ee("overlay",B),typeof document<"u"&&document.addEventListener("ionBackButton",N=>{const ge=He();ge&&N.detail.register(c.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:Ee,get:Fe,getMenus:it,getOpen:ue,isEnabled:de,swipeGesture:q,isAnimating:le,isOpen:Y,enable:he,toggle:Le,close:Re,open:G,_getOpenSync:He,_createAnimation:(N,ge)=>{const et=U.get(N);if(!et)throw new Error("animation not registered");return et(ge)},_register:N=>{V.indexOf(N)<0&&(N.disabled||Be(N),V.push(N))},_unregister:N=>{const ge=V.indexOf(N);ge>-1&&V.splice(ge,1)},_setOpen:ke,_setActiveMenu:Be}})()},2286:($e,Ge,F)=>{"use strict";F.d(Ge,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:($e,Ge,F)=>{"use strict";F.r(Ge),F.d(Ge,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ce});var I=F(6379);const c=(V,G,Re,Le)=>{const he=re(V)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let q,Y;return V.__zone_symbol__addEventListener?(q="__zone_symbol__addEventListener",Y="__zone_symbol__removeEventListener"):(q="addEventListener",Y="removeEventListener"),V[q](G,Re,he),()=>{V[Y](G,Re,he)}},re=V=>{if(void 0===ee)try{const G=Object.defineProperty({},"passive",{get:()=>{ee=!0}});V.addEventListener("optsTest",()=>{},G)}catch{ee=!1}return!!ee};let ee;const B=V=>V instanceof Document?V:V.ownerDocument,ce=V=>{let G=!1,Re=!1,Le=!0,he=!1;const q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},V),Y=q.canStart,de=q.onWillStart,Fe=q.onStart,ue=q.onEnd,it=q.notCaptured,le=q.onMove,Ee=q.threshold,Ie=q.passive,Ye=q.blurOnStart,Be={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ke=((V,G,Re)=>{const Le=Re*(Math.PI/180),he="x"===V,q=Math.cos(Le),Y=G*G;let de=0,Fe=0,ue=!1,it=0;return{start(le,Ee){de=le,Fe=Ee,it=0,ue=!0},detect(le,Ee){if(!ue)return!1;const Ie=le-de,Ye=Ee-Fe,Be=Ie*Ie+Ye*Ye;if(Be<Y)return!1;const ke=Math.sqrt(Be),ne=(he?Ie:Ye)/ke;return it=ne>q?1:ne<-q?-1:0,ue=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(q.direction,q.threshold,q.maxAngle),ne=I.G.createGesture({name:V.gestureName,priority:V.gesturePriority,disableScroll:V.disableScroll}),vt=()=>{G&&(he=!1,le&&le(Be))},an=()=>!!ne.capture()&&(G=!0,Le=!1,Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime,de?de(Be).then(N):N(),!0),N=()=>{Ye&&(()=>{if(typeof document<"u"){const K=document.activeElement;K?.blur&&K.blur()}})(),Fe&&Fe(Be),Le=!0},ge=()=>{G=!1,Re=!1,he=!1,Le=!0,ne.release()},et=K=>{const Se=G,pt=Le;if(ge(),pt){if(X(Be,K),Se)return void(ue&&ue(Be));it&&it(Be)}},tt=((V,G,Re,Le,he)=>{let q,Y,de,Fe,ue,it,le,Ee=0;const Ie=We=>{Ee=Date.now()+2e3,G(We)&&(!Y&&Re&&(Y=c(V,"touchmove",Re,he)),de||(de=c(We.target,"touchend",Be,he)),Fe||(Fe=c(We.target,"touchcancel",Be,he)))},Ye=We=>{Ee>Date.now()||G(We)&&(!it&&Re&&(it=c(B(V),"mousemove",Re,he)),le||(le=c(B(V),"mouseup",ke,he)))},Be=We=>{ne(),Le&&Le(We)},ke=We=>{He(),Le&&Le(We)},ne=()=>{Y&&Y(),de&&de(),Fe&&Fe(),Y=de=Fe=void 0},He=()=>{it&&it(),le&&le(),it=le=void 0},Xe=()=>{ne(),He()},vt=(We=!0)=>{We?(q||(q=c(V,"touchstart",Ie,he)),ue||(ue=c(V,"mousedown",Ye,he))):(q&&q(),ue&&ue(),q=ue=void 0,Xe())};return{enable:vt,stop:Xe,destroy:()=>{vt(!1),Le=Re=G=void 0}}})(q.el,K=>{const Se=U(K);return!(Re||!Le||(oe(K,Be),Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime=Se,Be.velocityX=Be.velocityY=Be.deltaX=Be.deltaY=0,Be.event=K,Y&&!1===Y(Be))||(ne.release(),!ne.start()))&&(Re=!0,0===Ee?an():(ke.start(Be.startX,Be.startY),!0))},K=>{G?!he&&Le&&(he=!0,X(Be,K),requestAnimationFrame(vt)):(X(Be,K),ke.detect(Be.currentX,Be.currentY)&&(!ke.isGesture()||!an())&&Ue())},et,{capture:!1,passive:Ie}),Ue=()=>{ge(),tt.stop(),it&&it(Be)};return{enable(K=!0){K||(G&&et(void 0),ge()),tt.enable(K)},destroy(){ne.destroy(),tt.destroy()}}},X=(V,G)=>{if(!G)return;const Re=V.currentX,Le=V.currentY,he=V.currentTime;oe(G,V);const q=V.currentX,Y=V.currentY,Fe=(V.currentTime=U(G))-he;if(Fe>0&&Fe<100){const it=(Y-Le)/Fe;V.velocityX=(q-Re)/Fe*.7+.3*V.velocityX,V.velocityY=.7*it+.3*V.velocityY}V.deltaX=q-V.startX,V.deltaY=Y-V.startY,V.event=G},oe=(V,G)=>{let Re=0,Le=0;if(V){const he=V.changedTouches;if(he&&he.length>0){const q=he[0];Re=q.clientX,Le=q.clientY}else void 0!==V.pageX&&(Re=V.pageX,Le=V.pageY)}G.currentX=Re,G.currentY=Le},U=V=>V.timeStamp||Date.now()},1559:($e,Ge,F)=>{"use strict";F.d(Ge,{B:()=>Gn,H:()=>Z,a:()=>Ue,b:()=>Ko,c:()=>Oi,e:()=>jt,f:()=>bs,g:()=>K,h:()=>Kt,i:()=>xn,j:()=>C,k:()=>D,p:()=>Le,r:()=>Ri,s:()=>G});var I=F(3918);let re,ee,W,Q=!1,B=!1,H=!1,ce=!1,X=!1;const oe=typeof window<"u"?window:{},U=oe.document||{head:{}},V={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,$,fe,De)=>R.addEventListener($,fe,De),rel:(R,$,fe,De)=>R.removeEventListener($,fe,De),ce:(R,$)=>new CustomEvent(R,$)},G=R=>{Object.assign(V,R)},Le=R=>Promise.resolve(R),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),q=(R,$,fe,De)=>{fe&&fe.map(([Oe,O,pe])=>{const Te=de(R,Oe),nt=Y($,pe),rt=Fe(Oe);V.ael(Te,O,nt,rt),($.$rmListeners$=$.$rmListeners$||[]).push(()=>V.rel(Te,O,nt,rt))})},Y=(R,$)=>fe=>{try{256&R.$flags$?R.$lazyInstance$[$](fe):(R.$queuedListeners$=R.$queuedListeners$||[]).push([$,fe])}catch(De){Do(De)}},de=(R,$)=>4&$?U:8&$?oe:16&$?U.body:R,Fe=R=>0!=(2&R),Ie="s-id",Ye="sty-id",ne="http://www.w3.org/1999/xlink",vt=new WeakMap,an=(R,$,fe)=>{let De=ui.get(R);he&&fe?(De=De||new CSSStyleSheet,"string"==typeof De?De=$:De.replaceSync($)):De=$,ui.set(R,De)},We=(R,$,fe,De)=>{let Oe=ge($,fe);const O=ui.get(Oe);if(R=11===R.nodeType?R:U,O)if("string"==typeof O){let Te,pe=vt.get(R=R.head||R);pe||vt.set(R,pe=new Set),pe.has(Oe)||(R.host&&(Te=R.querySelector(`[${Ye}="${Oe}"]`))?Te.innerHTML=O:(Te=U.createElement("style"),Te.innerHTML=O,R.insertBefore(Te,R.querySelector("link"))),pe&&pe.add(Oe))}else R.adoptedStyleSheets.includes(O)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,O]);return Oe},ge=(R,$)=>"sc-"+($&&32&R.$flags$?R.$tagName$+"-"+$:R.$tagName$),et=R=>R.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ue=R=>ts.push(R),K=R=>Fr(R).$modeName$,Se={},rn=R=>"object"==(R=typeof R)||"function"===R,Kt=(R,$,...fe)=>{let De=null,Oe=null,O=null,pe=!1,Te=!1;const nt=[],rt=Vt=>{for(let Ct=0;Ct<Vt.length;Ct++)De=Vt[Ct],Array.isArray(De)?rt(De):null!=De&&"boolean"!=typeof De&&((pe="function"!=typeof R&&!rn(De))&&(De=String(De)),pe&&Te?nt[nt.length-1].$text$+=De:nt.push(pe?Xt(null,De):De),Te=pe)};if(rt(fe),$){$.key&&(Oe=$.key),$.name&&(O=$.name);{const Vt=$.className||$.class;Vt&&($.class="object"!=typeof Vt?Vt:Object.keys(Vt).filter(Ct=>Vt[Ct]).join(" "))}}if("function"==typeof R)return R(null===$?{}:$,nt,er);const Ae=Xt(R,null);return Ae.$attrs$=$,nt.length>0&&(Ae.$children$=nt),Ae.$key$=Oe,Ae.$name$=O,Ae},Xt=(R,$)=>({$flags$:0,$tag$:R,$text$:$,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Z={},er={forEach:(R,$)=>R.map(zn).forEach($),map:(R,$)=>R.map(zn).map($).map(wo)},zn=R=>({vattrs:R.$attrs$,vchildren:R.$children$,vkey:R.$key$,vname:R.$name$,vtag:R.$tag$,vtext:R.$text$}),wo=R=>{if("function"==typeof R.vtag){const fe=Object.assign({},R.vattrs);return R.vkey&&(fe.key=R.vkey),R.vname&&(fe.name=R.vname),Kt(R.vtag,fe,...R.vchildren||[])}const $=Xt(R.vtag,R.vtext);return $.$attrs$=R.vattrs,$.$children$=R.vchildren,$.$key$=R.vkey,$.$name$=R.vname,$},Lr=(R,$,fe,De,Oe,O)=>{if(fe!==De){let pe=uo(R,$),Te=$.toLowerCase();if("class"===$){const nt=R.classList,rt=En(fe),Ae=En(De);nt.remove(...rt.filter(Vt=>Vt&&!Ae.includes(Vt))),nt.add(...Ae.filter(Vt=>Vt&&!rt.includes(Vt)))}else if("style"===$){for(const nt in fe)(!De||null==De[nt])&&(nt.includes("-")?R.style.removeProperty(nt):R.style[nt]="");for(const nt in De)(!fe||De[nt]!==fe[nt])&&(nt.includes("-")?R.style.setProperty(nt,De[nt]):R.style[nt]=De[nt])}else if("key"!==$)if("ref"===$)De&&De(R);else if(pe||"o"!==$[0]||"n"!==$[1]){const nt=rn(De);if((pe||nt&&null!==De)&&!Oe)try{if(R.tagName.includes("-"))R[$]=De;else{const Ae=De??"";"list"===$?pe=!1:(null==fe||R[$]!=Ae)&&(R[$]=Ae)}}catch{}let rt=!1;Te!==(Te=Te.replace(/^xlink\:?/,""))&&($=Te,rt=!0),null==De||!1===De?(!1!==De||""===R.getAttribute($))&&(rt?R.removeAttributeNS(ne,$):R.removeAttribute($)):(!pe||4&O||Oe)&&!nt&&(De=!0===De?"":De,rt?R.setAttributeNS(ne,$,De):R.setAttribute($,De))}else $="-"===$[2]?$.slice(3):uo(oe,Te)?Te.slice(2):Te[2]+$.slice(3),fe&&V.rel(R,$,fe,!1),De&&V.ael(R,$,De,!1)}},si=/\s/,En=R=>R?R.split(si):[],Yr=(R,$,fe,De)=>{const Oe=11===$.$elm$.nodeType&&$.$elm$.host?$.$elm$.host:$.$elm$,O=R&&R.$attrs$||Se,pe=$.$attrs$||Se;for(De in O)De in pe||Lr(Oe,De,O[De],void 0,fe,$.$flags$);for(De in pe)Lr(Oe,De,O[De],pe[De],fe,$.$flags$)},On=(R,$,fe,De)=>{const Oe=$.$children$[fe];let pe,Te,nt,O=0;if(Q||(H=!0,"slot"===Oe.$tag$&&(re&&De.classList.add(re+"-s"),Oe.$flags$|=Oe.$children$?2:1)),null!==Oe.$text$)pe=Oe.$elm$=U.createTextNode(Oe.$text$);else if(1&Oe.$flags$)pe=Oe.$elm$=U.createTextNode("");else{if(ce||(ce="svg"===Oe.$tag$),pe=Oe.$elm$=U.createElementNS(ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Oe.$flags$?"slot-fb":Oe.$tag$),ce&&"foreignObject"===Oe.$tag$&&(ce=!1),Yr(null,Oe,ce),(R=>null!=R)(re)&&pe["s-si"]!==re&&pe.classList.add(pe["s-si"]=re),Oe.$children$)for(O=0;O<Oe.$children$.length;++O)Te=On(R,Oe,O,pe),Te&&pe.appendChild(Te);"svg"===Oe.$tag$?ce=!1:"foreignObject"===pe.tagName&&(ce=!0)}return pe["s-hn"]=W,3&Oe.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=ee,pe["s-sn"]=Oe.$name$||"",nt=R&&R.$children$&&R.$children$[fe],nt&&nt.$tag$===Oe.$tag$&&R.$elm$&&ai(R.$elm$,!1)),pe},ai=(R,$)=>{V.$flags$|=1;const fe=R.childNodes;for(let De=fe.length-1;De>=0;De--){const Oe=fe[De];Oe["s-hn"]!==W&&Oe["s-ol"]&&(un(Oe).insertBefore(Oe,jr(Oe)),Oe["s-ol"].remove(),Oe["s-ol"]=void 0,H=!0),$&&ai(Oe,$)}V.$flags$&=-2},Rr=(R,$,fe,De,Oe,O)=>{let Te,pe=R["s-cr"]&&R["s-cr"].parentNode||R;for(pe.shadowRoot&&pe.tagName===W&&(pe=pe.shadowRoot);Oe<=O;++Oe)De[Oe]&&(Te=On(null,fe,Oe,R),Te&&(De[Oe].$elm$=Te,pe.insertBefore(Te,jr($))))},vr=(R,$,fe,De,Oe)=>{for(;$<=fe;++$)(De=R[$])&&(Oe=De.$elm$,ze(De),B=!0,Oe["s-ol"]?Oe["s-ol"].remove():ai(Oe,!0),Oe.remove())},Dr=(R,$)=>R.$tag$===$.$tag$&&("slot"===R.$tag$?R.$name$===$.$name$:R.$key$===$.$key$),jr=R=>R&&R["s-ol"]||R,un=R=>(R["s-ol"]?R["s-ol"]:R).parentNode,$r=(R,$)=>{const fe=$.$elm$=R.$elm$,De=R.$children$,Oe=$.$children$,O=$.$tag$,pe=$.$text$;let Te;null===pe?(ce="svg"===O||"foreignObject"!==O&&ce,"slot"===O||Yr(R,$,ce),null!==De&&null!==Oe?((R,$,fe,De)=>{let fo,Br,Oe=0,O=0,pe=0,Te=0,nt=$.length-1,rt=$[0],Ae=$[nt],Vt=De.length-1,Ct=De[0],sn=De[Vt];for(;Oe<=nt&&O<=Vt;)if(null==rt)rt=$[++Oe];else if(null==Ae)Ae=$[--nt];else if(null==Ct)Ct=De[++O];else if(null==sn)sn=De[--Vt];else if(Dr(rt,Ct))$r(rt,Ct),rt=$[++Oe],Ct=De[++O];else if(Dr(Ae,sn))$r(Ae,sn),Ae=$[--nt],sn=De[--Vt];else if(Dr(rt,sn))("slot"===rt.$tag$||"slot"===sn.$tag$)&&ai(rt.$elm$.parentNode,!1),$r(rt,sn),R.insertBefore(rt.$elm$,Ae.$elm$.nextSibling),rt=$[++Oe],sn=De[--Vt];else if(Dr(Ae,Ct))("slot"===rt.$tag$||"slot"===sn.$tag$)&&ai(Ae.$elm$.parentNode,!1),$r(Ae,Ct),R.insertBefore(Ae.$elm$,rt.$elm$),Ae=$[--nt],Ct=De[++O];else{for(pe=-1,Te=Oe;Te<=nt;++Te)if($[Te]&&null!==$[Te].$key$&&$[Te].$key$===Ct.$key$){pe=Te;break}pe>=0?(Br=$[pe],Br.$tag$!==Ct.$tag$?fo=On($&&$[O],fe,pe,R):($r(Br,Ct),$[pe]=void 0,fo=Br.$elm$),Ct=De[++O]):(fo=On($&&$[O],fe,O,R),Ct=De[++O]),fo&&un(rt.$elm$).insertBefore(fo,jr(rt.$elm$))}Oe>nt?Rr(R,null==De[Vt+1]?null:De[Vt+1].$elm$,fe,De,O,Vt):O>Vt&&vr($,Oe,nt)})(fe,De,$,Oe):null!==Oe?(null!==R.$text$&&(fe.textContent=""),Rr(fe,null,$,Oe,0,Oe.length-1)):null!==De&&vr(De,0,De.length-1),ce&&"svg"===O&&(ce=!1)):(Te=fe["s-cr"])?Te.parentNode.textContent=pe:R.$text$!==pe&&(fe.data=pe)},Pi=R=>{const $=R.childNodes;let fe,De,Oe,O,pe,Te;for(De=0,Oe=$.length;De<Oe;De++)if(fe=$[De],1===fe.nodeType){if(fe["s-sr"])for(pe=fe["s-sn"],fe.hidden=!1,O=0;O<Oe;O++)if(Te=$[O].nodeType,$[O]["s-hn"]!==fe["s-hn"]||""!==pe){if(1===Te&&pe===$[O].getAttribute("slot")){fe.hidden=!0;break}}else if(1===Te||3===Te&&""!==$[O].textContent.trim()){fe.hidden=!0;break}Pi(fe)}},Ir=[],at=R=>{let $,fe,De,Oe,O,pe,Te=0;const nt=R.childNodes,rt=nt.length;for(;Te<rt;Te++){if($=nt[Te],$["s-sr"]&&(fe=$["s-cr"])&&fe.parentNode)for(De=fe.parentNode.childNodes,Oe=$["s-sn"],pe=De.length-1;pe>=0;pe--)fe=De[pe],!fe["s-cn"]&&!fe["s-nr"]&&fe["s-hn"]!==$["s-hn"]&&(ae(fe,Oe)?(O=Ir.find(Ae=>Ae.$nodeToRelocate$===fe),B=!0,fe["s-sn"]=fe["s-sn"]||Oe,O?O.$slotRefNode$=$:Ir.push({$slotRefNode$:$,$nodeToRelocate$:fe}),fe["s-sr"]&&Ir.map(Ae=>{ae(Ae.$nodeToRelocate$,fe["s-sn"])&&(O=Ir.find(Vt=>Vt.$nodeToRelocate$===fe),O&&!Ae.$slotRefNode$&&(Ae.$slotRefNode$=O.$slotRefNode$))})):Ir.some(Ae=>Ae.$nodeToRelocate$===fe)||Ir.push({$nodeToRelocate$:fe}));1===$.nodeType&&at($)}},ae=(R,$)=>1===R.nodeType?null===R.getAttribute("slot")&&""===$||R.getAttribute("slot")===$:R["s-sn"]===$||""===$,ze=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(ze)},xn=R=>Fr(R).$hostElement$,jt=(R,$,fe)=>{const De=xn(R);return{emit:Oe=>bn(De,$,{bubbles:!!(4&fe),composed:!!(2&fe),cancelable:!!(1&fe),detail:Oe})}},bn=(R,$,fe)=>{const De=V.ce($,fe);return R.dispatchEvent(De),De},or=(R,$)=>{$&&!R.$onRenderResolve$&&$["s-p"]&&$["s-p"].push(new Promise(fe=>R.$onRenderResolve$=fe))},dn=(R,$)=>{if(R.$flags$|=16,!(4&R.$flags$))return or(R,R.$ancestorComponent$),Oi(()=>tr(R,$));R.$flags$|=512},tr=(R,$)=>{const De=R.$lazyInstance$;let Oe;return $&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([O,pe])=>ir(De,O,pe)),R.$queuedListeners$=null),Oe=ir(De,"componentWillLoad")),Oe=E(Oe,()=>ir(De,"componentWillRender")),E(Oe,()=>cr(R,De,$))},cr=function(){var R=(0,I.Z)(function*($,fe,De){const Oe=$.$hostElement$,pe=Oe["s-rc"];De&&(R=>{const $=R.$cmpMeta$,fe=R.$hostElement$,De=$.$flags$,O=We(fe.shadowRoot?fe.shadowRoot:fe.getRootNode(),$,R.$modeName$);10&De&&(fe["s-sc"]=O,fe.classList.add(O+"-h"),2&De&&fe.classList.add(O+"-s"))})($);on($,fe),pe&&(pe.map(nt=>nt()),Oe["s-rc"]=void 0);{const nt=Oe["s-p"],rt=()=>fr($);0===nt.length?rt():(Promise.all(nt).then(rt),$.$flags$|=4,nt.length=0)}});return function(fe,De,Oe){return R.apply(this,arguments)}}(),on=(R,$,fe)=>{try{$=$.render&&$.render(),R.$flags$&=-17,R.$flags$|=2,((R,$)=>{const fe=R.$hostElement$,De=R.$cmpMeta$,Oe=R.$vnode$||Xt(null,null),O=(R=>R&&R.$tag$===Z)($)?$:Kt(null,null,$);if(W=fe.tagName,De.$attrsToReflect$&&(O.$attrs$=O.$attrs$||{},De.$attrsToReflect$.map(([pe,Te])=>O.$attrs$[Te]=fe[pe])),O.$tag$=null,O.$flags$|=4,R.$vnode$=O,O.$elm$=Oe.$elm$=fe.shadowRoot||fe,re=fe["s-sc"],ee=fe["s-cr"],Q=0!=(1&De.$flags$),B=!1,$r(Oe,O),V.$flags$|=1,H){at(O.$elm$);let pe,Te,nt,rt,Ae,Vt,Ct=0;for(;Ct<Ir.length;Ct++)pe=Ir[Ct],Te=pe.$nodeToRelocate$,Te["s-ol"]||(nt=U.createTextNode(""),nt["s-nr"]=Te,Te.parentNode.insertBefore(Te["s-ol"]=nt,Te));for(Ct=0;Ct<Ir.length;Ct++)if(pe=Ir[Ct],Te=pe.$nodeToRelocate$,pe.$slotRefNode$){for(rt=pe.$slotRefNode$.parentNode,Ae=pe.$slotRefNode$.nextSibling,nt=Te["s-ol"];nt=nt.previousSibling;)if(Vt=nt["s-nr"],Vt&&Vt["s-sn"]===Te["s-sn"]&&rt===Vt.parentNode&&(Vt=Vt.nextSibling,!Vt||!Vt["s-nr"])){Ae=Vt;break}(!Ae&&rt!==Te.parentNode||Te.nextSibling!==Ae)&&Te!==Ae&&(!Te["s-hn"]&&Te["s-ol"]&&(Te["s-hn"]=Te["s-ol"].parentNode.nodeName),rt.insertBefore(Te,Ae))}else 1===Te.nodeType&&(Te.hidden=!0)}B&&Pi(O.$elm$),V.$flags$&=-2,Ir.length=0})(R,$)}catch(De){Do(De,R.$hostElement$)}return null},fr=R=>{const fe=R.$hostElement$,Oe=R.$lazyInstance$,O=R.$ancestorComponent$;ir(Oe,"componentDidRender"),64&R.$flags$?ir(Oe,"componentDidUpdate"):(R.$flags$|=64,Mn(fe),ir(Oe,"componentDidLoad"),R.$onReadyResolve$(fe),O||Bt()),R.$onInstanceResolve$(fe),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&Xo(()=>dn(R,!1)),R.$flags$&=-517},C=R=>{{const $=Fr(R),fe=$.$hostElement$.isConnected;return fe&&2==(18&$.$flags$)&&dn($,!1),fe}},Bt=R=>{Mn(U.documentElement),Xo(()=>bn(oe,"appload",{detail:{namespace:"ionic"}}))},ir=(R,$,fe)=>{if(R&&R[$])try{return R[$](fe)}catch(De){Do(De)}},E=(R,$)=>R&&R.then?R.then($):$(),Mn=R=>R.classList.add("hydrated"),lo=(R,$,fe,De,Oe,O,pe)=>{let Te,nt,rt,Ae;if(1===O.nodeType){for(Te=O.getAttribute("c-id"),Te&&(nt=Te.split("."),(nt[0]===pe||"0"===nt[0])&&(rt={$flags$:0,$hostId$:nt[0],$nodeId$:nt[1],$depth$:nt[2],$index$:nt[3],$tag$:O.tagName.toLowerCase(),$elm$:O,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},$.push(rt),O.removeAttribute("c-id"),R.$children$||(R.$children$=[]),R.$children$[rt.$index$]=rt,R=rt,De&&"0"===rt.$depth$&&(De[rt.$index$]=rt.$elm$))),Ae=O.childNodes.length-1;Ae>=0;Ae--)lo(R,$,fe,De,Oe,O.childNodes[Ae],pe);if(O.shadowRoot)for(Ae=O.shadowRoot.childNodes.length-1;Ae>=0;Ae--)lo(R,$,fe,De,Oe,O.shadowRoot.childNodes[Ae],pe)}else if(8===O.nodeType)nt=O.nodeValue.split("."),(nt[1]===pe||"0"===nt[1])&&(Te=nt[0],rt={$flags$:0,$hostId$:nt[1],$nodeId$:nt[2],$depth$:nt[3],$index$:nt[4],$elm$:O,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Te?(rt.$elm$=O.nextSibling,rt.$elm$&&3===rt.$elm$.nodeType&&(rt.$text$=rt.$elm$.textContent,$.push(rt),O.remove(),R.$children$||(R.$children$=[]),R.$children$[rt.$index$]=rt,De&&"0"===rt.$depth$&&(De[rt.$index$]=rt.$elm$))):rt.$hostId$===pe&&("s"===Te?(rt.$tag$="slot",O["s-sn"]=nt[5]?rt.$name$=nt[5]:"",O["s-sr"]=!0,De&&(rt.$elm$=U.createElement(rt.$tag$),rt.$name$&&rt.$elm$.setAttribute("name",rt.$name$),O.parentNode.insertBefore(rt.$elm$,O),O.remove(),"0"===rt.$depth$&&(De[rt.$index$]=rt.$elm$)),fe.push(rt),R.$children$||(R.$children$=[]),R.$children$[rt.$index$]=rt):"r"===Te&&(De?O.remove():(Oe["s-cr"]=O,O["s-cn"]=!0))));else if(R&&"style"===R.$tag$){const Vt=Xt(null,O.textContent);Vt.$elm$=O,Vt.$index$="0",R.$children$=[Vt]}},Zo=(R,$)=>{if(1===R.nodeType){let fe=0;for(;fe<R.childNodes.length;fe++)Zo(R.childNodes[fe],$);if(R.shadowRoot)for(fe=0;fe<R.shadowRoot.childNodes.length;fe++)Zo(R.shadowRoot.childNodes[fe],$)}else if(8===R.nodeType){const fe=R.nodeValue.split(".");"o"===fe[0]&&($.set(fe[1]+"."+fe[2],R),R.nodeValue="",R["s-en"]=fe[3])}},li=(R,$,fe)=>{if($.$members$){R.watchers&&($.$watchers$=R.watchers);const De=Object.entries($.$members$),Oe=R.prototype;if(De.map(([O,[pe]])=>{31&pe||2&fe&&32&pe?Object.defineProperty(Oe,O,{get(){return((R,$)=>Fr(this).$instanceValues$.get($))(0,O)},set(Te){((R,$,fe,De)=>{const Oe=Fr(R),O=Oe.$hostElement$,pe=Oe.$instanceValues$.get($),Te=Oe.$flags$,nt=Oe.$lazyInstance$;fe=((R,$)=>null==R||rn(R)?R:4&$?"false"!==R&&(""===R||!!R):2&$?parseFloat(R):1&$?String(R):R)(fe,De.$members$[$][0]);const rt=Number.isNaN(pe)&&Number.isNaN(fe);if((!(8&Te)||void 0===pe)&&fe!==pe&&!rt&&(Oe.$instanceValues$.set($,fe),nt)){if(De.$watchers$&&128&Te){const Vt=De.$watchers$[$];Vt&&Vt.map(Ct=>{try{nt[Ct](fe,pe,$)}catch(sn){Do(sn,O)}})}2==(18&Te)&&dn(Oe,!1)}})(this,O,Te,$)},configurable:!0,enumerable:!0}):1&fe&&64&pe&&Object.defineProperty(Oe,O,{value(...Te){const nt=Fr(this);return nt.$onInstancePromise$.then(()=>nt.$lazyInstance$[O](...Te))}})}),1&fe){const O=new Map;Oe.attributeChangedCallback=function(pe,Te,nt){V.jmp(()=>{const rt=O.get(pe);if(this.hasOwnProperty(rt))nt=this[rt],delete this[rt];else if(Oe.hasOwnProperty(rt)&&"number"==typeof this[rt]&&this[rt]==nt)return;this[rt]=(null!==nt||"boolean"!=typeof this[rt])&&nt})},R.observedAttributes=De.filter(([pe,Te])=>15&Te[0]).map(([pe,Te])=>{const nt=Te[1]||pe;return O.set(nt,pe),512&Te[0]&&$.$attrsToReflect$.push([pe,nt]),nt})}}return R},ar=function(){var R=(0,I.Z)(function*($,fe,De,Oe,O){if(!(32&fe.$flags$)){{if(fe.$flags$|=32,(O=Qr(De)).then){const rt=()=>{};O=yield O,rt()}O.isProxied||(De.$watchers$=O.watchers,li(O,De,2),O.isProxied=!0);const nt=()=>{};fe.$flags$|=8;try{new O(fe)}catch(rt){Do(rt)}fe.$flags$&=-9,fe.$flags$|=128,nt(),Xr(fe.$lazyInstance$)}if(O.style){let nt=O.style;"string"!=typeof nt&&(nt=nt[fe.$modeName$=(R=>ts.map($=>$(R)).find($=>!!$))($)]);const rt=ge(De,fe.$modeName$);if(!ui.has(rt)){const Ae=()=>{};an(rt,nt,!!(1&De.$flags$)),Ae()}}}const pe=fe.$ancestorComponent$,Te=()=>dn(fe,!0);pe&&pe["s-rc"]?pe["s-rc"].push(Te):Te()});return function(fe,De,Oe,O,pe){return R.apply(this,arguments)}}(),Xr=R=>{ir(R,"connectedCallback")},co=R=>{const $=R["s-cr"]=U.createComment("");$["s-cn"]=!0,R.insertBefore($,R.firstChild)},Ko=(R,$={})=>{const De=[],Oe=$.exclude||[],O=oe.customElements,pe=U.head,Te=pe.querySelector("meta[charset]"),nt=U.createElement("style"),rt=[],Ae=U.querySelectorAll(`[${Ye}]`);let Vt,Ct=!0,sn=0;for(Object.assign(V,$),V.$resourcesUrl$=new URL($.resourcesUrl||"./",U.baseURI).href,V.$flags$|=2;sn<Ae.length;sn++)an(Ae[sn].getAttribute(Ye),et(Ae[sn].innerHTML),!0);R.map(fo=>{fo[1].map(Br=>{const po={$flags$:Br[0],$tagName$:Br[1],$members$:Br[2],$listeners$:Br[3]};po.$members$=Br[2],po.$listeners$=Br[3],po.$attrsToReflect$=[],po.$watchers$={};const Qo=po.$tagName$,pr=class extends HTMLElement{constructor(Ni){super(Ni),ci(Ni=this,po),1&po.$flags$&&Ni.attachShadow({mode:"open",delegatesFocus:!!(16&po.$flags$)})}connectedCallback(){Vt&&(clearTimeout(Vt),Vt=null),Ct?rt.push(this):V.jmp(()=>(R=>{if(!(1&V.$flags$)){const $=Fr(R),fe=$.$cmpMeta$,De=()=>{};if(1&$.$flags$)q(R,$,fe.$listeners$),Xr($.$lazyInstance$);else{let Oe;if($.$flags$|=1,Oe=R.getAttribute(Ie),Oe){if(1&fe.$flags$){const O=We(R.shadowRoot,fe,R.getAttribute("s-mode"));R.classList.remove(O+"-h",O+"-s")}((R,$,fe,De)=>{const O=R.shadowRoot,pe=[],nt=O?[]:null,rt=De.$vnode$=Xt($,null);V.$orgLocNodes$||Zo(U.body,V.$orgLocNodes$=new Map),R[Ie]=fe,R.removeAttribute(Ie),lo(rt,pe,[],nt,R,R,fe),pe.map(Ae=>{const Vt=Ae.$hostId$+"."+Ae.$nodeId$,Ct=V.$orgLocNodes$.get(Vt),sn=Ae.$elm$;Ct&&""===Ct["s-en"]&&Ct.parentNode.insertBefore(sn,Ct.nextSibling),O||(sn["s-hn"]=$,Ct&&(sn["s-ol"]=Ct,sn["s-ol"]["s-nr"]=sn)),V.$orgLocNodes$.delete(Vt)}),O&&nt.map(Ae=>{Ae&&O.appendChild(Ae)})})(R,fe.$tagName$,Oe,$)}Oe||12&fe.$flags$&&co(R);{let O=R;for(;O=O.parentNode||O.host;)if(1===O.nodeType&&O.hasAttribute("s-id")&&O["s-p"]||O["s-p"]){or($,$.$ancestorComponent$=O);break}}fe.$members$&&Object.entries(fe.$members$).map(([O,[pe]])=>{if(31&pe&&R.hasOwnProperty(O)){const Te=R[O];delete R[O],R[O]=Te}}),Xo(()=>ar(R,$,fe))}De()}})(this))}disconnectedCallback(){V.jmp(()=>(R=>{if(!(1&V.$flags$)){const $=Fr(this),fe=$.$lazyInstance$;$.$rmListeners$&&($.$rmListeners$.map(De=>De()),$.$rmListeners$=void 0),ir(fe,"disconnectedCallback")}})())}componentOnReady(){return Fr(this).$onReadyPromise$}};po.$lazyBundleId$=fo[0],!Oe.includes(Qo)&&!O.get(Qo)&&(De.push(Qo),O.define(Qo,li(pr,po,1)))})}),nt.innerHTML=De+"{visibility:hidden}.hydrated{visibility:inherit}",nt.setAttribute("data-styles",""),pe.insertBefore(nt,Te?Te.nextSibling:pe.firstChild),Ct=!1,rt.length?rt.map(fo=>fo.connectedCallback()):V.jmp(()=>Vt=setTimeout(Bt,30))},D=R=>{const $=new URL(R,V.$resourcesUrl$);return $.origin!==oe.location.origin?$.href:$.pathname},br=new WeakMap,Fr=R=>br.get(R),Ri=(R,$)=>br.set($.$lazyInstance$=R,$),ci=(R,$)=>{const fe={$flags$:0,$hostElement$:R,$cmpMeta$:$,$instanceValues$:new Map};return fe.$onInstancePromise$=new Promise(De=>fe.$onInstanceResolve$=De),fe.$onReadyPromise$=new Promise(De=>fe.$onReadyResolve$=De),R["s-p"]=[],R["s-rc"]=[],q(R,fe,$.$listeners$),br.set(R,fe)},uo=(R,$)=>$ in R,Do=(R,$)=>(0,console.error)(R,$),Fi=new Map,Qr=(R,$,fe)=>{const De=R.$tagName$.replace(/-/g,"_"),Oe=R.$lazyBundleId$,O=Fi.get(Oe);return O?O[De]:F(863)(`./${Oe}.entry.js`).then(pe=>(Fi.set(Oe,pe),pe[De]),Do)},ui=new Map,ts=[],Yo=[],wi=[],ns=(R,$)=>fe=>{R.push(fe),X||(X=!0,$&&4&V.$flags$?Xo(Xn):V.raf(Xn))},vs=R=>{for(let $=0;$<R.length;$++)try{R[$](performance.now())}catch(fe){Do(fe)}R.length=0},Xn=()=>{vs(Yo),vs(wi),(X=Yo.length>0)&&V.raf(Xn)},Xo=R=>Le().then(R),bs=ns(Yo,!1),Oi=ns(wi,!0),Gn={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:($e,Ge,F)=>{"use strict";F.d(Ge,{a:()=>oe,b:()=>vt,c:()=>re,g:()=>X,i:()=>an});var I=F(1559);class c{constructor(){this.m=new Map}reset(N){this.m=new Map(Object.entries(N))}get(N,ge){const et=this.m.get(N);return void 0!==et?et:ge}getBoolean(N,ge=!1){const et=this.m.get(N);return void 0===et?ge:"string"==typeof et?"true"===et:!!et}getNumber(N,ge){const et=parseFloat(this.m.get(N));return isNaN(et)?void 0!==ge?ge:NaN:et}set(N,ge){this.m.set(N,ge)}}const re=new c,H="ionic:",ce="ionic-persist-config",X=We=>U(We),oe=(We,N)=>("string"==typeof We&&(N=We,We=void 0),X(We).includes(N)),U=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let N=We.Ionic.platforms;return null==N&&(N=We.Ionic.platforms=V(We),N.forEach(ge=>We.document.documentElement.classList.add(`plt-${ge}`))),N},V=We=>{const N=re.get("platform");return Object.keys(He).filter(ge=>{const et=N?.[ge];return"function"==typeof et?et(We):He[ge](We)})},Re=We=>!!(ke(We,/iPad/i)||ke(We,/Macintosh/i)&&ue(We)),q=We=>ke(We,/android|sink/i),ue=We=>ne(We,"(any-pointer:coarse)"),le=We=>Ee(We)||Ie(We),Ee=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Ie=We=>!!We.Capacitor?.isNative,ke=(We,N)=>N.test(We.navigator.userAgent),ne=(We,N)=>{var ge;return null===(ge=We.matchMedia)||void 0===ge?void 0:ge.call(We,N).matches},He={ipad:Re,iphone:We=>ke(We,/iPhone/i),ios:We=>ke(We,/iPhone|iPod/i)||Re(We),android:q,phablet:We=>{const N=We.innerWidth,ge=We.innerHeight,et=Math.min(N,ge),tt=Math.max(N,ge);return et>390&&et<520&&tt>620&&tt<800},tablet:We=>{const N=We.innerWidth,ge=We.innerHeight,et=Math.min(N,ge),tt=Math.max(N,ge);return Re(We)||(We=>q(We)&&!ke(We,/mobile/i))(We)||et>460&&et<820&&tt>780&&tt<1400},cordova:Ee,capacitor:Ie,electron:We=>ke(We,/electron/i),pwa:We=>{var N;return!!(null!==(N=We.matchMedia)&&void 0!==N&&N.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:ue,mobileweb:We=>ue(We)&&!le(We),desktop:We=>!ue(We),hybrid:le};let Xe;const vt=We=>We&&(0,I.g)(We)||Xe,an=(We={})=>{if(typeof window>"u")return;const N=window.document,ge=window,et=ge.Ionic=ge.Ionic||{},tt={};We._ael&&(tt.ael=We._ael),We._rel&&(tt.rel=We._rel),We._ce&&(tt.ce=We._ce),(0,I.s)(tt);const Ue=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const N=We.sessionStorage.getItem(ce);return null!==N?JSON.parse(N):{}}catch{return{}}})(ge)),{persistConfig:!1}),et.config),(We=>{const N={};return We.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,et])=>[decodeURIComponent(ge),decodeURIComponent(et)]).filter(([ge])=>((We,N)=>We.substr(0,N.length)===N)(ge,H)).map(([ge,et])=>[ge.slice(H.length),et]).forEach(([ge,et])=>{N[ge]=et}),N})(ge)),We);re.reset(Ue),re.getBoolean("persistConfig")&&((We,N)=>{try{We.sessionStorage.setItem(ce,JSON.stringify(N))}catch{return}})(ge,Ue),U(ge),et.config=re,et.mode=Xe=re.get("mode",N.documentElement.getAttribute("mode")||(oe(ge,"ios")?"ios":"md")),re.set("mode",Xe),N.documentElement.setAttribute("mode",Xe),N.documentElement.classList.add(Xe),re.getBoolean("_testing")&&re.set("animated",!1);const K=pt=>{var Pe;return null===(Pe=pt.tagName)||void 0===Pe?void 0:Pe.startsWith("ION-")},Se=pt=>["ios","md"].includes(pt);(0,I.a)(pt=>{for(;pt;){const Pe=pt.mode||pt.getAttribute("mode");if(Pe){if(Se(Pe))return Pe;K(pt)&&console.warn('Invalid ionic mode: "'+Pe+'", expected: "ios" or "md"')}pt=pt.parentElement}return Xe})}},9078:($e,Ge,F)=>{"use strict";F.r(Ge),F.d(Ge,{iosTransitionAnimation:()=>V,shadow:()=>B});var I=F(5933),c=F(919);F(2286),F(1559);const Q=G=>document.querySelector(`${G}.ion-cloned-element`),B=G=>G.shadowRoot||G,H=G=>{const Re="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Re){const he=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector(Le):null}return G.querySelector(Le)},ce=(G,Re)=>{const Le="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs");let he=[];if(null!=Le){const q=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=q&&(he=q.querySelectorAll("ion-buttons"))}else he=G.querySelectorAll("ion-buttons");for(const q of he){const Y=q.closest("ion-header"),de=Y&&!Y.classList.contains("header-collapse-condense-inactive"),Fe=q.querySelector("ion-back-button"),ue=q.classList.contains("buttons-collapse");if(null!==Fe&&("start"===q.slot||""===q.slot)&&(ue&&de&&Re||!ue))return Fe}return null},oe=(G,Re,Le,he,q,Y)=>{const de=Re?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",Fe=Re?"7px":"-7px",ue=Re?"-4px":"4px",it=Re?"-4px":"4px",le=Re?"right":"left",Ee=Re?"left":"right",Be=Le?[{offset:0,opacity:1,transform:`translate3d(${ue}, ${Y.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${q.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${q.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ue}, ${Y.top-46}px, 0) scale(1)`}],He=Le?[{offset:0,opacity:1,transform:`translate3d(${it}, ${Y.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${Y.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${Y.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${Y.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${Y.top-46}px, 0) scale(1)`}],Xe=(0,I.c)(),vt=(0,I.c)(),an=Q("ion-back-button"),We=B(an).querySelector(".button-text"),N=B(an).querySelector("ion-icon");an.text=he.text,an.mode=he.mode,an.icon=he.icon,an.color=he.color,an.disabled=he.disabled,an.style.setProperty("display","block"),an.style.setProperty("position","fixed"),vt.addElement(N),Xe.addElement(We),Xe.beforeStyles({"transform-origin":`${le} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),an.style.setProperty(le,de)}).afterAddWrite(()=>{he.style.setProperty("display",""),an.style.setProperty("display","none"),an.style.removeProperty(le)}).keyframes(Be),vt.beforeStyles({"transform-origin":`${Ee} center`}).keyframes(He),G.addAnimation([Xe,vt])},U=(G,Re,Le,he,q,Y)=>{const de=Re?`calc(100% - ${q.right}px)`:`${q.left}px`,Fe=Re?"-18px":"18px",ue=Re?"right":"left",Ee=Le?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${Y.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${q.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${q.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${Y.top-4}px, 0) scale(0.5)`}],Ie=Q("ion-title"),Ye=(0,I.c)();Ie.innerText=he.innerText,Ie.size=he.size,Ie.color=he.color,Ye.addElement(Ie),Ye.beforeStyles({"transform-origin":`${ue} center`,height:"46px",display:"",position:"relative",[ue]:de}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(Ee),G.addAnimation(Ye)},V=(G,Re)=>{var Le;try{const he="cubic-bezier(0.32,0.72,0,1)",q="opacity",Y="transform",de="0%",ue="rtl"===G.ownerDocument.dir,it=ue?"-99.5%":"99.5%",le=ue?"33%":"-33%",Ee=Re.enteringEl,Ie=Re.leavingEl,Ye="back"===Re.direction,Be=Ee.querySelector(":scope > ion-content"),ke=Ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=Ee.querySelectorAll(":scope > ion-header > ion-toolbar"),He=(0,I.c)(),Xe=(0,I.c)();if(He.addElement(Ee).duration((null!==(Le=Re.duration)&&void 0!==Le?Le:0)||540).easing(Re.easing||he).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=G){const N=(0,I.c)();N.addElement(G),He.addAnimation(N)}if(Be||0!==ne.length||0!==ke.length?(Xe.addElement(Be),Xe.addElement(ke)):Xe.addElement(Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),He.addAnimation(Xe),Ye?Xe.beforeClearStyles([q]).fromTo("transform",`translateX(${le})`,`translateX(${de})`).fromTo(q,.8,1):Xe.beforeClearStyles([q]).fromTo("transform",`translateX(${it})`,`translateX(${de})`),Be){const N=B(Be).querySelector(".transition-effect");if(N){const ge=N.querySelector(".transition-cover"),et=N.querySelector(".transition-shadow"),tt=(0,I.c)(),Ue=(0,I.c)(),K=(0,I.c)();tt.addElement(N).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ue.addElement(ge).beforeClearStyles([q]).fromTo(q,0,.1),K.addElement(et).beforeClearStyles([q]).fromTo(q,.03,.7),tt.addAnimation([Ue,K]),Xe.addAnimation([tt])}}const vt=Ee.querySelector("ion-header.header-collapse-condense"),{forward:an,backward:We}=((G,Re,Le,he,q)=>{const Y=ce(he,Le),de=H(q),Fe=H(he),ue=ce(q,Le),it=null!==Y&&null!==de&&!Le,le=null!==Fe&&null!==ue&&Le;if(it){const Ee=de.getBoundingClientRect(),Ie=Y.getBoundingClientRect();U(G,Re,Le,de,Ee,Ie),oe(G,Re,Le,Y,Ee,Ie)}else if(le){const Ee=Fe.getBoundingClientRect(),Ie=ue.getBoundingClientRect();U(G,Re,Le,Fe,Ee,Ie),oe(G,Re,Le,ue,Ee,Ie)}return{forward:it,backward:le}})(He,ue,Ye,Ee,Ie);if(ne.forEach(N=>{const ge=(0,I.c)();ge.addElement(N),He.addAnimation(ge);const et=(0,I.c)();et.addElement(N.querySelector("ion-title"));const tt=(0,I.c)(),Ue=Array.from(N.querySelectorAll("ion-buttons,[menuToggle]")),K=N.closest("ion-header"),Se=K?.classList.contains("header-collapse-condense-inactive");let pt;pt=Ue.filter(Ye?Xt=>{const Z=Xt.classList.contains("buttons-collapse");return Z&&!Se||!Z}:Xt=>!Xt.classList.contains("buttons-collapse")),tt.addElement(pt);const Pe=(0,I.c)();Pe.addElement(N.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,I.c)();Tt.addElement(B(N).querySelector(".toolbar-background"));const rn=(0,I.c)(),Kt=N.querySelector("ion-back-button");if(Kt&&rn.addElement(Kt),ge.addAnimation([et,tt,Pe,Tt,rn]),tt.fromTo(q,.01,1),Pe.fromTo(q,.01,1),Ye)Se||et.fromTo("transform",`translateX(${le})`,`translateX(${de})`).fromTo(q,.01,1),Pe.fromTo("transform",`translateX(${le})`,`translateX(${de})`),rn.fromTo(q,.01,1);else if(vt||et.fromTo("transform",`translateX(${it})`,`translateX(${de})`).fromTo(q,.01,1),Pe.fromTo("transform",`translateX(${it})`,`translateX(${de})`),Tt.beforeClearStyles([q,"transform"]),K?.translucent?Tt.fromTo("transform",ue?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(q,.01,"var(--opacity)"),an||rn.fromTo(q,.01,1),Kt&&!an){const Z=(0,I.c)();Z.addElement(B(Kt).querySelector(".button-text")).fromTo("transform",ue?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(Z)}}),Ie){const N=(0,I.c)(),ge=Ie.querySelector(":scope > ion-content"),et=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),tt=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==et.length||0!==tt.length?(N.addElement(ge),N.addElement(tt)):N.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),He.addAnimation(N),Ye){N.beforeClearStyles([q]).fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)");const Ue=(0,c.g)(Ie);He.afterAddWrite(()=>{"normal"===He.getDirection()&&Ue.style.setProperty("display","none")})}else N.fromTo("transform",`translateX(${de})`,`translateX(${le})`).fromTo(q,1,.8);if(ge){const Ue=B(ge).querySelector(".transition-effect");if(Ue){const K=Ue.querySelector(".transition-cover"),Se=Ue.querySelector(".transition-shadow"),pt=(0,I.c)(),Pe=(0,I.c)(),Tt=(0,I.c)();pt.addElement(Ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(K).beforeClearStyles([q]).fromTo(q,.1,0),Tt.addElement(Se).beforeClearStyles([q]).fromTo(q,.7,.03),pt.addAnimation([Pe,Tt]),N.addAnimation([pt])}}et.forEach(Ue=>{const K=(0,I.c)();K.addElement(Ue);const Se=(0,I.c)();Se.addElement(Ue.querySelector("ion-title"));const pt=(0,I.c)(),Pe=Ue.querySelectorAll("ion-buttons,[menuToggle]"),Tt=Ue.closest("ion-header"),rn=Tt?.classList.contains("header-collapse-condense-inactive"),Kt=Array.from(Pe).filter(wo=>{const Lr=wo.classList.contains("buttons-collapse");return Lr&&!rn||!Lr});pt.addElement(Kt);const Xt=(0,I.c)(),Z=Ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Z.length>0&&Xt.addElement(Z);const hn=(0,I.c)();hn.addElement(B(Ue).querySelector(".toolbar-background"));const er=(0,I.c)(),zn=Ue.querySelector("ion-back-button");if(zn&&er.addElement(zn),K.addAnimation([Se,pt,Xt,er,hn]),He.addAnimation(K),er.fromTo(q,.99,0),pt.fromTo(q,.99,0),Xt.fromTo(q,.99,0),Ye){if(rn||Se.fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)").fromTo(q,.99,0),Xt.fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)"),hn.beforeClearStyles([q,"transform"]),Tt?.translucent?hn.fromTo("transform","translateX(0px)",ue?"translateX(-100%)":"translateX(100%)"):hn.fromTo(q,"var(--opacity)",0),zn&&!We){const Lr=(0,I.c)();Lr.addElement(B(zn).querySelector(".button-text")).fromTo("transform",`translateX(${de})`,`translateX(${(ue?-124:124)+"px"})`),K.addAnimation(Lr)}}else rn||Se.fromTo("transform",`translateX(${de})`,`translateX(${le})`).fromTo(q,.99,0).afterClearStyles([Y,q]),Xt.fromTo("transform",`translateX(${de})`,`translateX(${le})`).afterClearStyles([Y,q]),er.afterClearStyles([q]),Se.afterClearStyles([q]),pt.afterClearStyles([q])})}return He}catch(he){throw he}}},4199:($e,Ge,F)=>{"use strict";F.r(Ge),F.d(Ge,{mdTransitionAnimation:()=>W});var I=F(5933),c=F(919);F(2286),F(1559);const W=(Q,B)=>{var H,ce,X;const V="back"===B.direction,Re=B.leavingEl,Le=(0,c.g)(B.enteringEl),he=Le.querySelector("ion-toolbar"),q=(0,I.c)();if(q.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),V?q.duration((null!==(H=B.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):q.duration((null!==(ce=B.duration)&&void 0!==ce?ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const Y=(0,I.c)();Y.addElement(he),q.addAnimation(Y)}if(Re&&V){q.duration((null!==(X=B.duration)&&void 0!==X?X:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,I.c)();Y.addElement((0,c.g)(Re)).onFinish(de=>{1===de&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),q.addAnimation(Y)}return q}},7580:($e,Ge,F)=>{"use strict";F.d(Ge,{B:()=>ge,G:()=>et,a:()=>H,b:()=>ce,c:()=>V,d:()=>Ye,e:()=>Re,f:()=>ke,g:()=>Xe,h:()=>Q,i:()=>an,j:()=>q,k:()=>Ee,l:()=>X,m:()=>oe,s:()=>N});var I=F(3918),c=F(5823),re=F(159),ee=F(9259);let W=0;const Q=new WeakMap,B=tt=>({create:Ue=>Le(tt,Ue),dismiss:(Ue,K,Se)=>it(document,Ue,K,tt,Se),getTop:()=>(0,I.Z)(function*(){return Ee(document,tt)})()}),H=B("ion-alert"),ce=B("ion-action-sheet"),X=B("ion-loading"),oe=B("ion-modal"),V=B("ion-popover"),Re=tt=>{typeof document<"u"&&ue(document);const Ue=W++;tt.overlayIndex=Ue,tt.hasAttribute("id")||(tt.id=`ion-overlay-${Ue}`)},Le=(tt,Ue)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(tt).then(()=>{const K=document.createElement(tt);return K.classList.add("overlay-hidden"),Object.assign(K,Object.assign(Object.assign({},Ue),{hasController:!0})),ne(document).appendChild(K),new Promise(Se=>(0,ee.c)(K,Se))}):Promise.resolve(),he='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',q=(tt,Ue)=>{let K=tt.querySelector(he);const Se=K?.shadowRoot;Se&&(K=Se.querySelector(he)||K),K?(0,ee.f)(K):Ue.focus()},de=(tt,Ue)=>{const K=Array.from(tt.querySelectorAll(he));let Se=K.length>0?K[K.length-1]:null;const pt=Se?.shadowRoot;pt&&(Se=pt.querySelector(he)||Se),Se?Se.focus():Ue.focus()},ue=tt=>{0===W&&(W=1,tt.addEventListener("focus",Ue=>{((tt,Ue)=>{const K=Ee(Ue,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Se=tt.target;K&&Se&&!K.classList.contains("ion-disable-focus-trap")&&(K.shadowRoot?(()=>{if(K.contains(Se))K.lastFocus=Se;else{const Tt=K.lastFocus;q(K,K),Tt===Ue.activeElement&&de(K,K),K.lastFocus=Ue.activeElement}})():(()=>{if(K===Se)K.lastFocus=void 0;else{const Tt=(0,ee.g)(K);if(!Tt.contains(Se))return;const rn=Tt.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(Se))K.lastFocus=Se;else{const Kt=K.lastFocus;q(rn,K),Kt===Ue.activeElement&&de(rn,K),K.lastFocus=Ue.activeElement}}})())})(Ue,tt)},!0),tt.addEventListener("ionBackButton",Ue=>{const K=Ee(tt);K?.backdropDismiss&&Ue.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>K.dismiss(void 0,ge))}),tt.addEventListener("keyup",Ue=>{if("Escape"===Ue.key){const K=Ee(tt);K?.backdropDismiss&&K.dismiss(void 0,ge)}}))},it=(tt,Ue,K,Se,pt)=>{const Pe=Ee(tt,Se,pt);return Pe?Pe.dismiss(Ue,K):Promise.reject("overlay does not exist")},Ee=(tt,Ue,K)=>{const Se=((tt,Ue)=>(void 0===Ue&&(Ue="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(tt.querySelectorAll(Ue)).filter(K=>K.overlayIndex>0)))(tt,Ue).filter(pt=>!(tt=>tt.classList.contains("overlay-hidden"))(pt));return void 0===K?Se[Se.length-1]:Se.find(pt=>pt.id===K)},Ie=(tt=!1)=>{const K=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");K&&(tt?K.setAttribute("aria-hidden","true"):K.removeAttribute("aria-hidden"))},Ye=function(){var tt=(0,I.Z)(function*(Ue,K,Se,pt,Pe){var Tt,rn;if(Ue.presented)return;Ie(!0),Ue.presented=!0,Ue.willPresent.emit(),null===(Tt=Ue.willPresentShorthand)||void 0===Tt||Tt.emit();const Kt=(0,c.b)(Ue),Xt=Ue.enterAnimation?Ue.enterAnimation:c.c.get(K,"ios"===Kt?Se:pt);(yield He(Ue,Xt,Ue.el,Pe))&&(Ue.didPresent.emit(),null===(rn=Ue.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==Ue.el.tagName&&Be(Ue.el),Ue.keyboardClose&&(null===document.activeElement||!Ue.el.contains(document.activeElement))&&Ue.el.focus()});return function(K,Se,pt,Pe,Tt){return tt.apply(this,arguments)}}(),Be=function(){var tt=(0,I.Z)(function*(Ue){let K=document.activeElement;if(!K)return;const Se=K?.shadowRoot;Se&&(K=Se.querySelector(he)||K),yield Ue.onDidDismiss(),K.focus()});return function(K){return tt.apply(this,arguments)}}(),ke=function(){var tt=(0,I.Z)(function*(Ue,K,Se,pt,Pe,Tt,rn){var Kt,Xt;if(!Ue.presented)return!1;Ie(!1),Ue.presented=!1;try{Ue.el.style.setProperty("pointer-events","none"),Ue.willDismiss.emit({data:K,role:Se}),null===(Kt=Ue.willDismissShorthand)||void 0===Kt||Kt.emit({data:K,role:Se});const Z=(0,c.b)(Ue),hn=Ue.leaveAnimation?Ue.leaveAnimation:c.c.get(pt,"ios"===Z?Pe:Tt);Se!==et&&(yield He(Ue,hn,Ue.el,rn)),Ue.didDismiss.emit({data:K,role:Se}),null===(Xt=Ue.didDismissShorthand)||void 0===Xt||Xt.emit({data:K,role:Se}),Q.delete(Ue),Ue.el.classList.add("overlay-hidden"),Ue.el.style.removeProperty("pointer-events")}catch(Z){console.error(Z)}return Ue.el.remove(),!0});return function(K,Se,pt,Pe,Tt,rn,Kt){return tt.apply(this,arguments)}}(),ne=tt=>tt.querySelector("ion-app")||tt.body,He=function(){var tt=(0,I.Z)(function*(Ue,K,Se,pt){Se.classList.remove("overlay-hidden");const Tt=K(Ue.el,pt);(!Ue.animated||!c.c.getBoolean("animated",!0))&&Tt.duration(0),Ue.keyboardClose&&Tt.beforeAddWrite(()=>{const Kt=Se.ownerDocument.activeElement;Kt?.matches("input,ion-input, ion-textarea")&&Kt.blur()});const rn=Q.get(Ue)||[];return Q.set(Ue,[...rn,Tt]),yield Tt.play(),!0});return function(K,Se,pt,Pe){return tt.apply(this,arguments)}}(),Xe=(tt,Ue)=>{let K;const Se=new Promise(pt=>K=pt);return vt(tt,Ue,pt=>{K(pt.detail)}),Se},vt=(tt,Ue,K)=>{const Se=pt=>{(0,ee.b)(tt,Ue,Se),K(pt)};(0,ee.a)(tt,Ue,Se)},an=tt=>"cancel"===tt||tt===ge,We=tt=>tt(),N=(tt,Ue)=>{if("function"==typeof tt)return c.c.get("_zoneGate",We)(()=>{try{return tt(Ue)}catch(Se){throw Se}})},ge="backdrop",et="gesture"},4263:($e,Ge,F)=>{"use strict";var I=F(9903),c=F(3855),re=c(I("String.prototype.indexOf"));$e.exports=function(W,Q){var B=I(W,!!Q);return"function"==typeof B&&re(W,".prototype.")>-1?c(B):B}},3855:($e,Ge,F)=>{"use strict";var I=F(224),c=F(9903),re=c("%Function.prototype.apply%"),ee=c("%Function.prototype.call%"),W=c("%Reflect.apply%",!0)||I.call(ee,re),Q=c("%Object.getOwnPropertyDescriptor%",!0),B=c("%Object.defineProperty%",!0),H=c("%Math.max%");if(B)try{B({},"a",{value:1})}catch{B=null}$e.exports=function(oe){var U=W(I,ee,arguments);if(Q&&B){var V=Q(U,"length");V.configurable&&B(U,"length",{value:1+H(0,oe.length-(arguments.length-1))})}return U};var ce=function(){return W(I,re,arguments)};B?B($e.exports,"apply",{value:ce}):$e.exports.apply=ce},5107:$e=>{var Ge={utf8:{stringToBytes:function(F){return Ge.bin.stringToBytes(unescape(encodeURIComponent(F)))},bytesToString:function(F){return decodeURIComponent(escape(Ge.bin.bytesToString(F)))}},bin:{stringToBytes:function(F){for(var I=[],c=0;c<F.length;c++)I.push(255&F.charCodeAt(c));return I},bytesToString:function(F){for(var I=[],c=0;c<F.length;c++)I.push(String.fromCharCode(F[c]));return I.join("")}}};$e.exports=Ge},7175:$e=>{var Ge,F;Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e.exports=F={rotl:function(I,c){return I<<c|I>>>32-c},rotr:function(I,c){return I<<32-c|I>>>c},endian:function(I){if(I.constructor==Number)return 16711935&F.rotl(I,8)|4278255360&F.rotl(I,24);for(var c=0;c<I.length;c++)I[c]=F.endian(I[c]);return I},randomBytes:function(I){for(var c=[];I>0;I--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(I){for(var c=[],re=0,ee=0;re<I.length;re++,ee+=8)c[ee>>>5]|=I[re]<<24-ee%32;return c},wordsToBytes:function(I){for(var c=[],re=0;re<32*I.length;re+=8)c.push(I[re>>>5]>>>24-re%32&255);return c},bytesToHex:function(I){for(var c=[],re=0;re<I.length;re++)c.push((I[re]>>>4).toString(16)),c.push((15&I[re]).toString(16));return c.join("")},hexToBytes:function(I){for(var c=[],re=0;re<I.length;re+=2)c.push(parseInt(I.substr(re,2),16));return c},bytesToBase64:function(I){for(var c=[],re=0;re<I.length;re+=3)for(var ee=I[re]<<16|I[re+1]<<8|I[re+2],W=0;W<4;W++)c.push(8*re+6*W<=8*I.length?Ge.charAt(ee>>>6*(3-W)&63):"=");return c.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],re=0,ee=0;re<I.length;ee=++re%4)0!=ee&&c.push((Ge.indexOf(I.charAt(re-1))&Math.pow(2,-2*ee+8)-1)<<2*ee|Ge.indexOf(I.charAt(re))>>>6-2*ee);return c}}},5541:($e,Ge,F)=>{"use strict";var I=F(6189),c=F(4263),re=F(8704),ee=F(9903),W=F(2069),Q=F(8432),B=F(5734),H=F(9102),ce=F(8266),X=F(2805),oe=F(4666),U=F(6687),V=F(3163),G=F(2093),Re=F(2086),Le=F(2107),he=F(5709),q=c("ArrayBuffer.prototype.byteLength",!0)||function(Se){return Se.byteLength},Y=c("SharedArrayBuffer.prototype.byteLength",!0),de=c("Date.prototype.getTime"),Fe=Object.getPrototypeOf,ue=c("Object.prototype.toString"),it=ee("%Set%",!0),le=c("Map.prototype.has",!0),Ee=c("Map.prototype.get",!0),Ie=c("Map.prototype.size",!0),Ye=c("Set.prototype.add",!0),Be=c("Set.prototype.delete",!0),ke=c("Set.prototype.has",!0),ne=c("Set.prototype.size",!0);function He(K,Se,pt,Pe){for(var rn,Tt=W(K);(rn=Tt.next())&&!rn.done;)if(N(Se,rn.value,pt,Pe))return Be(K,rn.value),!0;return!1}function Xe(K){return typeof K>"u"?null:"object"!=typeof K?"symbol"!=typeof K&&("string"!=typeof K&&"number"!=typeof K||+K==+K):void 0}function vt(K,Se,pt,Pe,Tt,rn){var Kt=Xe(pt);if(null!=Kt)return Kt;var Xt=Ee(Se,Kt),Z=I({},Tt,{strict:!1});return!(typeof Xt>"u"&&!le(Se,Kt)||!N(Pe,Xt,Z,rn))&&!le(K,Kt)&&N(Pe,Xt,Z,rn)}function an(K,Se,pt){var Pe=Xe(pt);return Pe??(ke(Se,Pe)&&!ke(K,Pe))}function We(K,Se,pt,Pe,Tt,rn){for(var Xt,Z,Kt=W(K);(Xt=Kt.next())&&!Xt.done;)if(N(pt,Z=Xt.value,Tt,rn)&&N(Pe,Ee(Se,Z),Tt,rn))return Be(K,Z),!0;return!1}function N(K,Se,pt,Pe){var Tt=pt||{};if(Tt.strict?B(K,Se):K===Se)return!0;if(Re(K)!==Re(Se))return!1;if(!K||!Se||"object"!=typeof K&&"object"!=typeof Se)return Tt.strict?B(K,Se):K==Se;var hn,Xt=Pe.has(K),Z=Pe.has(Se);if(Xt&&Z){if(Pe.get(K)===Pe.get(Se))return!0}else hn={};return Xt||Pe.set(K,hn),Z||Pe.set(Se,hn),function Ue(K,Se,pt,Pe){var Tt,rn;if(typeof K!=typeof Se||null==K||null==Se||ue(K)!==ue(Se)||H(K)!==H(Se))return!1;if(ce(K)!==ce(Se))return!1;var Z=K instanceof Error,hn=Se instanceof Error;if(Z!==hn||(Z||hn)&&(K.name!==Se.name||K.message!==Se.message))return!1;var er=U(K),zn=U(Se);if(er!==zn||(er||zn)&&(K.source!==Se.source||re(K)!==re(Se)))return!1;var wo=oe(K),Lr=oe(Se);if(wo!==Lr||(wo||Lr)&&de(K)!==de(Se)||pt.strict&&Fe&&Fe(K)!==Fe(Se))return!1;var si=he(K),En=he(Se);if((si||En)&&si!==En)return!1;var Yr=ge(K),On=ge(Se);if(Yr!==On)return!1;if(Yr||On){if(K.length!==Se.length)return!1;for(Tt=0;Tt<K.length;Tt++)if(K[Tt]!==Se[Tt])return!1;return!0}var ai=X(K),Rr=X(Se);if(ai!==Rr)return!1;if(ai||Rr)return q(K)===q(Se)&&"function"==typeof Uint8Array&&N(new Uint8Array(K),new Uint8Array(Se),pt,Pe);var vr=V(K),Yn=V(Se);if(vr!==Yn)return!1;if(vr||Yn)return Y(K)===Y(Se)&&"function"==typeof Uint8Array&&N(new Uint8Array(K),new Uint8Array(Se),pt,Pe);if(typeof K!=typeof Se)return!1;var Dr=G(K),jr=G(Se);if(Dr.length!==jr.length)return!1;for(Dr.sort(),jr.sort(),Tt=Dr.length-1;Tt>=0;Tt--)if(Dr[Tt]!=jr[Tt])return!1;for(Tt=Dr.length-1;Tt>=0;Tt--)if(!N(K[rn=Dr[Tt]],Se[rn],pt,Pe))return!1;var un=Le(K),$r=Le(Se);return un===$r&&("Set"===un||"Set"===$r?function et(K,Se,pt,Pe){if(ne(K)!==ne(Se))return!1;for(var Kt,Xt,Z,Tt=W(K),rn=W(Se);(Kt=Tt.next())&&!Kt.done;)if(Kt.value&&"object"==typeof Kt.value)Z||(Z=new it),Ye(Z,Kt.value);else if(!ke(Se,Kt.value)){if(pt.strict||!an(K,Se,Kt.value))return!1;Z||(Z=new it),Ye(Z,Kt.value)}if(Z){for(;(Xt=rn.next())&&!Xt.done;)if(Xt.value&&"object"==typeof Xt.value){if(!He(Z,Xt.value,pt.strict,Pe))return!1}else if(!pt.strict&&!ke(K,Xt.value)&&!He(Z,Xt.value,pt.strict,Pe))return!1;return 0===ne(Z)}return!0}(K,Se,pt,Pe):"Map"!==un||function tt(K,Se,pt,Pe){if(Ie(K)!==Ie(Se))return!1;for(var Kt,Xt,Z,hn,er,zn,Tt=W(K),rn=W(Se);(Kt=Tt.next())&&!Kt.done;)if(er=Kt.value[1],(hn=Kt.value[0])&&"object"==typeof hn)Z||(Z=new it),Ye(Z,hn);else if(typeof(zn=Ee(Se,hn))>"u"&&!le(Se,hn)||!N(er,zn,pt,Pe)){if(pt.strict||!vt(K,Se,hn,er,pt,Pe))return!1;Z||(Z=new it),Ye(Z,hn)}if(Z){for(;(Xt=rn.next())&&!Xt.done;)if(zn=Xt.value[1],(hn=Xt.value[0])&&"object"==typeof hn){if(!We(Z,K,hn,zn,pt,Pe))return!1}else if(!(pt.strict||K.has(hn)&&N(Ee(K,hn),zn,pt,Pe)||We(Z,K,hn,zn,I({},pt,{strict:!1}),Pe)))return!1;return 0===ne(Z)}return!0}(K,Se,pt,Pe))}(K,Se,Tt,Pe)}function ge(K){return!(!K||"object"!=typeof K||"number"!=typeof K.length||"function"!=typeof K.copy||"function"!=typeof K.slice||K.length>0&&"number"!=typeof K[0]||!(K.constructor&&K.constructor.isBuffer&&K.constructor.isBuffer(K)))}$e.exports=function(Se,pt,Pe){return N(Se,pt,Pe,Q())}},1790:($e,Ge,F)=>{"use strict";var I=F(2093),c="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,ee=Array.prototype.concat,W=Object.defineProperty,B=F(9006)(),H=W&&B,ce=function(oe,U,V,G){U in oe&&(!function(oe){return"function"==typeof oe&&"[object Function]"===re.call(oe)}(G)||!G())||(H?W(oe,U,{configurable:!0,enumerable:!1,value:V,writable:!0}):oe[U]=V)},X=function(oe,U){var V=arguments.length>2?arguments[2]:{},G=I(U);c&&(G=ee.call(G,Object.getOwnPropertySymbols(U)));for(var Re=0;Re<G.length;Re+=1)ce(oe,G[Re],U[G[Re]],V[G[Re]])};X.supportsDescriptors=!!H,$e.exports=X},9897:function($e,Ge){!function(F){"use strict";var U,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ee=536870912,W=2*ee,B=new WeakMap,ce=function(U,V){return function(G){var Re=V.get(G),Le=void 0===Re?G.size:Re<W?Re+1:0;if(!G.has(Le))return U(G,Le);if(G.size<ee){for(;G.has(Le);)Le=Math.floor(Math.random()*W);return U(G,Le)}if(G.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;G.has(Le);)Le=Math.floor(Math.random()*re);return U(G,Le)}}((U=B,function(V,G){return U.set(V,G),G}),B),X=function(U){return function(V){var G=U(V);return V.add(G),G}}(ce);F.addUniqueNumber=X,F.generateUniqueNumber=ce}(Ge)},3037:($e,Ge,F)=>{"use strict";var I=F(8642),c=Object.prototype.toString,re=Object.prototype.hasOwnProperty,ee=function(ce,X,oe){for(var U=0,V=ce.length;U<V;U++)re.call(ce,U)&&(null==oe?X(ce[U],U,ce):X.call(oe,ce[U],U,ce))},W=function(ce,X,oe){for(var U=0,V=ce.length;U<V;U++)null==oe?X(ce.charAt(U),U,ce):X.call(oe,ce.charAt(U),U,ce)},Q=function(ce,X,oe){for(var U in ce)re.call(ce,U)&&(null==oe?X(ce[U],U,ce):X.call(oe,ce[U],U,ce))};$e.exports=function(ce,X,oe){if(!I(X))throw new TypeError("iterator must be a function");var U;arguments.length>=3&&(U=oe),"[object Array]"===c.call(ce)?ee(ce,X,U):"string"==typeof ce?W(ce,X,U):Q(ce,X,U)}},2199:$e=>{"use strict";var Ge="Function.prototype.bind called on incompatible ",F=Array.prototype.slice,I=Object.prototype.toString,c="[object Function]";$e.exports=function(ee){var W=this;if("function"!=typeof W||I.call(W)!==c)throw new TypeError(Ge+W);for(var B,Q=F.call(arguments,1),H=function(){if(this instanceof B){var V=W.apply(this,Q.concat(F.call(arguments)));return Object(V)===V?V:this}return W.apply(ee,Q.concat(F.call(arguments)))},ce=Math.max(0,W.length-Q.length),X=[],oe=0;oe<ce;oe++)X.push("$"+oe);if(B=Function("binder","return function ("+X.join(",")+"){ return binder.apply(this,arguments); }")(H),W.prototype){var U=function(){};U.prototype=W.prototype,B.prototype=new U,U.prototype=null}return B}},224:($e,Ge,F)=>{"use strict";var I=F(2199);$e.exports=Function.prototype.bind||I},3677:$e=>{"use strict";var Ge=function(){return"string"==typeof function(){}.name},F=Object.getOwnPropertyDescriptor;if(F)try{F([],"length")}catch{F=null}Ge.functionsHaveConfigurableNames=function(){if(!Ge()||!F)return!1;var re=F(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;Ge.boundFunctionsHaveNames=function(){return Ge()&&"function"==typeof I&&""!==function(){}.bind().name},$e.exports=Ge},9903:($e,Ge,F)=>{"use strict";var I,c=SyntaxError,re=Function,ee=TypeError,W=function(Be){try{return re('"use strict"; return ('+Be+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var B=function(){throw new ee},H=Q?function(){try{return B}catch{try{return Q(arguments,"callee").get}catch{return B}}}():B,ce=F(524)(),X=Object.getPrototypeOf||function(Be){return Be.__proto__},oe={},U=typeof Uint8Array>"u"?I:X(Uint8Array),V={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ce?X([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":oe,"%AsyncGenerator%":oe,"%AsyncGeneratorFunction%":oe,"%AsyncIteratorPrototype%":oe,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":oe,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ce?X(X([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ce?I:X((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ce?I:X((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ce?X(""[Symbol.iterator]()):I,"%Symbol%":ce?Symbol:I,"%SyntaxError%":c,"%ThrowTypeError%":H,"%TypedArray%":U,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch(Be){var G=X(X(Be));V["%Error.prototype%"]=G}var Re=function Be(ke){var ne;if("%AsyncFunction%"===ke)ne=W("async function () {}");else if("%GeneratorFunction%"===ke)ne=W("function* () {}");else if("%AsyncGeneratorFunction%"===ke)ne=W("async function* () {}");else if("%AsyncGenerator%"===ke){var He=Be("%AsyncGeneratorFunction%");He&&(ne=He.prototype)}else if("%AsyncIteratorPrototype%"===ke){var Xe=Be("%AsyncGenerator%");Xe&&(ne=X(Xe.prototype))}return V[ke]=ne,ne},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=F(224),q=F(4031),Y=he.call(Function.call,Array.prototype.concat),de=he.call(Function.apply,Array.prototype.splice),Fe=he.call(Function.call,String.prototype.replace),ue=he.call(Function.call,String.prototype.slice),it=he.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ee=/\\(\\)?/g,Ie=function(ke){var ne=ue(ke,0,1),He=ue(ke,-1);if("%"===ne&&"%"!==He)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===He&&"%"!==ne)throw new c("invalid intrinsic syntax, expected opening `%`");var Xe=[];return Fe(ke,le,function(vt,an,We,N){Xe[Xe.length]=We?Fe(N,Ee,"$1"):an||vt}),Xe},Ye=function(ke,ne){var Xe,He=ke;if(q(Le,He)&&(He="%"+(Xe=Le[He])[0]+"%"),q(V,He)){var vt=V[He];if(vt===oe&&(vt=Re(He)),typeof vt>"u"&&!ne)throw new ee("intrinsic "+ke+" exists, but is not available. Please file an issue!");return{alias:Xe,name:He,value:vt}}throw new c("intrinsic "+ke+" does not exist!")};$e.exports=function(ke,ne){if("string"!=typeof ke||0===ke.length)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new ee('"allowMissing" argument must be a boolean');if(null===it(/^%?[^%]*%?$/,ke))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var He=Ie(ke),Xe=He.length>0?He[0]:"",vt=Ye("%"+Xe+"%",ne),an=vt.name,We=vt.value,N=!1,ge=vt.alias;ge&&(Xe=ge[0],de(He,Y([0,1],ge)));for(var et=1,tt=!0;et<He.length;et+=1){var Ue=He[et],K=ue(Ue,0,1),Se=ue(Ue,-1);if(('"'===K||"'"===K||"`"===K||'"'===Se||"'"===Se||"`"===Se)&&K!==Se)throw new c("property names with quotes must have matching quotes");if(("constructor"===Ue||!tt)&&(N=!0),q(V,an="%"+(Xe+="."+Ue)+"%"))We=V[an];else if(null!=We){if(!(Ue in We)){if(!ne)throw new ee("base intrinsic for "+ke+" exists, but the property is not available.");return}if(Q&&et+1>=He.length){var pt=Q(We,Ue);We=(tt=!!pt)&&"get"in pt&&!("originalValue"in pt.get)?pt.get:We[Ue]}else tt=q(We,Ue),We=We[Ue];tt&&!N&&(V[an]=We)}}return We}},253:($e,Ge,F)=>{"use strict";var c=F(9903)("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}$e.exports=c},5861:$e=>{"use strict";var Ge=typeof BigInt<"u"&&BigInt;$e.exports=function(){return"function"==typeof Ge&&"function"==typeof BigInt&&"bigint"==typeof Ge(42)&&"bigint"==typeof BigInt(42)}},9006:($e,Ge,F)=>{"use strict";var c=F(9903)("%Object.defineProperty%",!0),re=function(){if(c)try{return c({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==c([],"length",{value:1}).length}catch{return!0}},$e.exports=re},524:($e,Ge,F)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,c=F(6858);$e.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&c()}},6858:$e=>{"use strict";$e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var F={},I=Symbol("test"),c=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(I in F[I]=42,F)return!1;if("function"==typeof Object.keys&&0!==Object.keys(F).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(F).length)return!1;var ee=Object.getOwnPropertySymbols(F);if(1!==ee.length||ee[0]!==I||!Object.prototype.propertyIsEnumerable.call(F,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var W=Object.getOwnPropertyDescriptor(F,I);if(42!==W.value||!0!==W.enumerable)return!1}return!0}},3261:($e,Ge,F)=>{"use strict";var I=F(6858);$e.exports=function(){return I()&&!!Symbol.toStringTag}},4031:($e,Ge,F)=>{"use strict";var I=F(224);$e.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:($e,Ge,F)=>{"use strict";var I=F(9903),c=F(4031),re=F(8432)(),ee=I("%TypeError%"),W={assert:function(Q,B){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new ee("`O` is not an object");if("string"!=typeof B)throw new ee("`slot` must be a string");if(re.assert(Q),!W.has(Q,B))throw new ee("`slot` is not present on `O`")},get:function(Q,B){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new ee("`O` is not an object");if("string"!=typeof B)throw new ee("`slot` must be a string");var H=re.get(Q);return H&&H["$"+B]},has:function(Q,B){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new ee("`O` is not an object");if("string"!=typeof B)throw new ee("`slot` must be a string");var H=re.get(Q);return!!H&&c(H,"$"+B)},set:function(Q,B,H){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new ee("`O` is not an object");if("string"!=typeof B)throw new ee("`slot` must be a string");var ce=re.get(Q);ce||re.set(Q,ce={}),ce["$"+B]=H}};Object.freeze&&Object.freeze(W),$e.exports=W},9102:($e,Ge,F)=>{"use strict";var I=F(3261)(),re=F(4263)("Object.prototype.toString"),ee=function(H){return!(I&&H&&"object"==typeof H&&Symbol.toStringTag in H)&&"[object Arguments]"===re(H)},W=function(H){return!!ee(H)||null!==H&&"object"==typeof H&&"number"==typeof H.length&&H.length>=0&&"[object Array]"!==re(H)&&"[object Function]"===re(H.callee)},Q=function(){return ee(arguments)}();ee.isLegacyArguments=W,$e.exports=Q?ee:W},2805:($e,Ge,F)=>{"use strict";var I=F(3855),c=F(4263),re=F(9903),ee=F(7673),W=re("ArrayBuffer",!0),Q=re("Float32Array",!0),B=c("ArrayBuffer.prototype.byteLength",!0),H=W&&!B&&(new W).slice,ce=H&&I(H);$e.exports=B||ce?function(oe){if(!oe||"object"!=typeof oe)return!1;try{return B?B(oe):ce(oe,0),!0}catch{return!1}}:Q?function(oe){try{return new Q(oe).buffer===oe&&!ee(oe)}catch{return!1}}:function(oe){return!1}},3:($e,Ge,F)=>{"use strict";if(F(5861)()){var c=BigInt.prototype.valueOf;$e.exports=function(W){return!(null===W||typeof W>"u"||"boolean"==typeof W||"string"==typeof W||"number"==typeof W||"symbol"==typeof W||"function"==typeof W)&&("bigint"==typeof W||function(W){try{return c.call(W),!0}catch{}return!1}(W))}}else $e.exports=function(W){return!1}},6180:($e,Ge,F)=>{"use strict";var I=F(4263),c=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),Q=F(3261)();$e.exports=function(H){return"boolean"==typeof H||null!==H&&"object"==typeof H&&(Q&&Symbol.toStringTag in H?function(H){try{return c(H),!0}catch{return!1}}(H):"[object Boolean]"===re(H))}},5057:$e=>{function Ge(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}$e.exports=function(I){return null!=I&&(Ge(I)||function F(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&Ge(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:$e=>{"use strict";var I,c,Ge=Function.prototype.toString,F="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof F&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw c}}),c={},F(function(){throw 42},null,I)}catch(he){he!==c&&(F=null)}else F=null;var re=/^\s*class\b/,ee=function(q){try{var Y=Ge.call(q);return re.test(Y)}catch{return!1}},W=function(q){try{return!ee(q)&&(Ge.call(q),!0)}catch{return!1}},Q=Object.prototype.toString,V="function"==typeof Symbol&&!!Symbol.toStringTag,G=!(0 in[,]),Re=function(){return!1};if("object"==typeof document){var Le=document.all;Q.call(Le)===Q.call(document.all)&&(Re=function(q){if((G||!q)&&(typeof q>"u"||"object"==typeof q))try{var Y=Q.call(q);return("[object HTMLAllCollection]"===Y||"[object HTML document.all class]"===Y||"[object HTMLCollection]"===Y||"[object Object]"===Y)&&null==q("")}catch{}return!1})}$e.exports=F?function(q){if(Re(q))return!0;if(!q||"function"!=typeof q&&"object"!=typeof q)return!1;try{F(q,null,I)}catch(Y){if(Y!==c)return!1}return!ee(q)&&W(q)}:function(q){if(Re(q))return!0;if(!q||"function"!=typeof q&&"object"!=typeof q)return!1;if(V)return W(q);if(ee(q))return!1;var Y=Q.call(q);return!("[object Function]"!==Y&&"[object GeneratorFunction]"!==Y&&!/^\[object HTML/.test(Y))&&W(q)}},4666:($e,Ge,F)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,W=F(3261)();$e.exports=function(B){return"object"==typeof B&&null!==B&&(W?function(B){try{return I.call(B),!0}catch{return!1}}(B):"[object Date]"===re.call(B))}},9898:$e=>{"use strict";var I,Ge="function"==typeof Map&&Map.prototype?Map:null,F="function"==typeof Set&&Set.prototype?Set:null;Ge||(I=function(W){return!1});var c=Ge?Map.prototype.has:null,re=F?Set.prototype.has:null;!I&&!c&&(I=function(W){return!1}),$e.exports=I||function(W){if(!W||"object"!=typeof W)return!1;try{if(c.call(W),re)try{re.call(W)}catch{return!0}return W instanceof Ge}catch{}return!1}},1046:($e,Ge,F)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,W=F(3261)();$e.exports=function(B){return"number"==typeof B||"object"==typeof B&&(W?function(B){try{return I.call(B),!0}catch{return!1}}(B):"[object Number]"===re.call(B))}},6687:($e,Ge,F)=>{"use strict";var re,ee,W,Q,I=F(4263),c=F(3261)();if(c){re=I("Object.prototype.hasOwnProperty"),ee=I("RegExp.prototype.exec"),W={};var B=function(){throw W};Q={toString:B,valueOf:B},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=B)}var H=I("Object.prototype.toString"),ce=Object.getOwnPropertyDescriptor;$e.exports=c?function(U){if(!U||"object"!=typeof U)return!1;var V=ce(U,"lastIndex");if(!V||!re(V,"value"))return!1;try{ee(U,Q)}catch(Re){return Re===W}}:function(U){return!(!U||"object"!=typeof U&&"function"!=typeof U)&&"[object RegExp]"===H(U)}},3870:$e=>{"use strict";var I,Ge="function"==typeof Map&&Map.prototype?Map:null,F="function"==typeof Set&&Set.prototype?Set:null;F||(I=function(W){return!1});var c=Ge?Map.prototype.has:null,re=F?Set.prototype.has:null;!I&&!re&&(I=function(W){return!1}),$e.exports=I||function(W){if(!W||"object"!=typeof W)return!1;try{if(re.call(W),c)try{c.call(W)}catch{return!0}return W instanceof F}catch{}return!1}},3163:($e,Ge,F)=>{"use strict";var c=F(4263)("SharedArrayBuffer.prototype.byteLength",!0);$e.exports=c?function(ee){if(!ee||"object"!=typeof ee)return!1;try{return c(ee),!0}catch{return!1}}:function(ee){return!1}},4764:($e,Ge,F)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,W=F(3261)();$e.exports=function(B){return"string"==typeof B||"object"==typeof B&&(W?function(B){try{return I.call(B),!0}catch{return!1}}(B):"[object String]"===re.call(B))}},6434:($e,Ge,F)=>{"use strict";var I=Object.prototype.toString;if(F(524)()){var re=Symbol.prototype.toString,ee=/^Symbol\(.*\)$/;$e.exports=function(B){if("symbol"==typeof B)return!0;if("[object Symbol]"!==I.call(B))return!1;try{return function(B){return"symbol"==typeof B.valueOf()&&ee.test(re.call(B))}(B)}catch{return!1}}}else $e.exports=function(B){return!1}},7673:($e,Ge,F)=>{"use strict";var I=F(3037),c=F(5271),re=F(4263),ee=re("Object.prototype.toString"),W=F(3261)(),Q=F(253),B=typeof globalThis>"u"?global:globalThis,H=c(),ce=re("Array.prototype.indexOf",!0)||function(Re,Le){for(var he=0;he<Re.length;he+=1)if(Re[he]===Le)return he;return-1},X=re("String.prototype.slice"),oe={},U=Object.getPrototypeOf;W&&Q&&U&&I(H,function(G){var Re=new B[G];if(Symbol.toStringTag in Re){var Le=U(Re),he=Q(Le,Symbol.toStringTag);if(!he){var q=U(Le);he=Q(q,Symbol.toStringTag)}oe[G]=he.get}}),$e.exports=function(Re){if(!Re||"object"!=typeof Re)return!1;if(!W||!(Symbol.toStringTag in Re)){var Le=X(ee(Re),8,-1);return ce(H,Le)>-1}return!!Q&&function(Re){var Le=!1;return I(oe,function(he,q){if(!Le)try{Le=he.call(Re)===q}catch{}}),Le}(Re)}},5585:$e=>{"use strict";var I,Ge="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,F="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ge||(I=function(W){return!1});var c=Ge?Ge.prototype.has:null,re=F?F.prototype.has:null;!I&&!c&&(I=function(W){return!1}),$e.exports=I||function(W){if(!W||"object"!=typeof W)return!1;try{if(c.call(W,c),re)try{re.call(W,re)}catch{return!0}return W instanceof Ge}catch{}return!1}},1902:($e,Ge,F)=>{"use strict";var I=F(9903),c=F(4263),re=I("%WeakSet%",!0),ee=c("WeakSet.prototype.has",!0);if(ee){var W=c("WeakMap.prototype.has",!0);$e.exports=function(B){if(!B||"object"!=typeof B)return!1;try{if(ee(B,ee),W)try{W(B,W)}catch{return!0}return B instanceof re}catch{}return!1}}else $e.exports=function(B){return!1}},8266:$e=>{var Ge={}.toString;$e.exports=Array.isArray||function(F){return"[object Array]"==Ge.call(F)}},5023:($e,Ge,F)=>{var I,c,re,ee,W;I=F(7175),c=F(5107).utf8,re=F(5057),ee=F(5107).bin,(W=function(Q,B){Q.constructor==String?Q=B&&"binary"===B.encoding?ee.stringToBytes(Q):c.stringToBytes(Q):re(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var H=I.bytesToWords(Q),ce=8*Q.length,X=1732584193,oe=-271733879,U=-1732584194,V=271733878,G=0;G<H.length;G++)H[G]=16711935&(H[G]<<8|H[G]>>>24)|4278255360&(H[G]<<24|H[G]>>>8);H[ce>>>5]|=128<<ce%32,H[14+(ce+64>>>9<<4)]=ce;var Re=W._ff,Le=W._gg,he=W._hh,q=W._ii;for(G=0;G<H.length;G+=16){var Y=X,de=oe,Fe=U,ue=V;X=Re(X,oe,U,V,H[G+0],7,-680876936),V=Re(V,X,oe,U,H[G+1],12,-389564586),U=Re(U,V,X,oe,H[G+2],17,606105819),oe=Re(oe,U,V,X,H[G+3],22,-1044525330),X=Re(X,oe,U,V,H[G+4],7,-176418897),V=Re(V,X,oe,U,H[G+5],12,1200080426),U=Re(U,V,X,oe,H[G+6],17,-1473231341),oe=Re(oe,U,V,X,H[G+7],22,-45705983),X=Re(X,oe,U,V,H[G+8],7,1770035416),V=Re(V,X,oe,U,H[G+9],12,-1958414417),U=Re(U,V,X,oe,H[G+10],17,-42063),oe=Re(oe,U,V,X,H[G+11],22,-1990404162),X=Re(X,oe,U,V,H[G+12],7,1804603682),V=Re(V,X,oe,U,H[G+13],12,-40341101),U=Re(U,V,X,oe,H[G+14],17,-1502002290),X=Le(X,oe=Re(oe,U,V,X,H[G+15],22,1236535329),U,V,H[G+1],5,-165796510),V=Le(V,X,oe,U,H[G+6],9,-1069501632),U=Le(U,V,X,oe,H[G+11],14,643717713),oe=Le(oe,U,V,X,H[G+0],20,-373897302),X=Le(X,oe,U,V,H[G+5],5,-701558691),V=Le(V,X,oe,U,H[G+10],9,38016083),U=Le(U,V,X,oe,H[G+15],14,-660478335),oe=Le(oe,U,V,X,H[G+4],20,-405537848),X=Le(X,oe,U,V,H[G+9],5,568446438),V=Le(V,X,oe,U,H[G+14],9,-1019803690),U=Le(U,V,X,oe,H[G+3],14,-187363961),oe=Le(oe,U,V,X,H[G+8],20,1163531501),X=Le(X,oe,U,V,H[G+13],5,-1444681467),V=Le(V,X,oe,U,H[G+2],9,-51403784),U=Le(U,V,X,oe,H[G+7],14,1735328473),X=he(X,oe=Le(oe,U,V,X,H[G+12],20,-1926607734),U,V,H[G+5],4,-378558),V=he(V,X,oe,U,H[G+8],11,-2022574463),U=he(U,V,X,oe,H[G+11],16,1839030562),oe=he(oe,U,V,X,H[G+14],23,-35309556),X=he(X,oe,U,V,H[G+1],4,-1530992060),V=he(V,X,oe,U,H[G+4],11,1272893353),U=he(U,V,X,oe,H[G+7],16,-155497632),oe=he(oe,U,V,X,H[G+10],23,-1094730640),X=he(X,oe,U,V,H[G+13],4,681279174),V=he(V,X,oe,U,H[G+0],11,-358537222),U=he(U,V,X,oe,H[G+3],16,-722521979),oe=he(oe,U,V,X,H[G+6],23,76029189),X=he(X,oe,U,V,H[G+9],4,-640364487),V=he(V,X,oe,U,H[G+12],11,-421815835),U=he(U,V,X,oe,H[G+15],16,530742520),X=q(X,oe=he(oe,U,V,X,H[G+2],23,-995338651),U,V,H[G+0],6,-198630844),V=q(V,X,oe,U,H[G+7],10,1126891415),U=q(U,V,X,oe,H[G+14],15,-1416354905),oe=q(oe,U,V,X,H[G+5],21,-57434055),X=q(X,oe,U,V,H[G+12],6,1700485571),V=q(V,X,oe,U,H[G+3],10,-1894986606),U=q(U,V,X,oe,H[G+10],15,-1051523),oe=q(oe,U,V,X,H[G+1],21,-2054922799),X=q(X,oe,U,V,H[G+8],6,1873313359),V=q(V,X,oe,U,H[G+15],10,-30611744),U=q(U,V,X,oe,H[G+6],15,-1560198380),oe=q(oe,U,V,X,H[G+13],21,1309151649),X=q(X,oe,U,V,H[G+4],6,-145523070),V=q(V,X,oe,U,H[G+11],10,-1120210379),U=q(U,V,X,oe,H[G+2],15,718787259),oe=q(oe,U,V,X,H[G+9],21,-343485551),X=X+Y>>>0,oe=oe+de>>>0,U=U+Fe>>>0,V=V+ue>>>0}return I.endian([X,oe,U,V])})._ff=function(Q,B,H,ce,X,oe,U){var V=Q+(B&H|~B&ce)+(X>>>0)+U;return(V<<oe|V>>>32-oe)+B},W._gg=function(Q,B,H,ce,X,oe,U){var V=Q+(B&ce|H&~ce)+(X>>>0)+U;return(V<<oe|V>>>32-oe)+B},W._hh=function(Q,B,H,ce,X,oe,U){var V=Q+(B^H^ce)+(X>>>0)+U;return(V<<oe|V>>>32-oe)+B},W._ii=function(Q,B,H,ce,X,oe,U){var V=Q+(H^(B|~ce))+(X>>>0)+U;return(V<<oe|V>>>32-oe)+B},W._blocksize=16,W._digestsize=16,$e.exports=function(Q,B){if(null==Q)throw new Error("Illegal argument "+Q);var H=I.wordsToBytes(W(Q,B));return B&&B.asBytes?H:B&&B.asString?ee.bytesToString(H):I.bytesToHex(H)}},9052:($e,Ge)=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var F=[];F[0]=function(){return function(){}},F[1]=function(ee,W){return typeof W>"u"?ee:function(B){ee(B,W)}};var re=function(){function ee(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ee.prototype.addHandler=function(W,Q){return this.isHandlerAttached(W,Q)||(this._handlers.push(W),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.removeHandler=function(W,Q){var B=this._getHandlerIndex(W,Q);return typeof B<"u"&&(this._handlers.splice(B,1),this._contexts.splice(B,1),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.isHandlerAttached=function(W,Q){return typeof this._getHandlerIndex(W,Q)<"u"},ee.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ee.prototype._getHandlerIndex=function(W,Q){var H,B=this._handlers.length;for(H=0;H<B&&(this._handlers[H]!==W||this._contexts[H]!==Q);H++);return H<B?H:void 0},ee.prototype._createDispatcher=function(){this.dispatch=function I(ee){return F[ee]||(F[ee]=function c(ee){for(var W="return function dispatcher"+ee+"(payload) {\n",Q=[],B=[],H=0;H<ee;H++)Q.push("cb"+H),B.push("ctx"+H),W+="    cb"+H+"(payload, ctx"+H+");\n";return W+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(B),[W])))}(ee)),F[ee]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ee}();Ge.default=re},1158:($e,Ge,F)=>{"use strict";var c=F(9052);Ge.j=c.default},8597:($e,Ge,F)=>{var I="function"==typeof Map&&Map.prototype,c=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&c&&"function"==typeof c.get?c.get:null,ee=I&&Map.prototype.forEach,W="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&W?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,B=W&&Q&&"function"==typeof Q.get?Q.get:null,H=W&&Set.prototype.forEach,X="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,U="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Re=Boolean.prototype.valueOf,Le=Object.prototype.toString,he=Function.prototype.toString,q=String.prototype.match,Y=String.prototype.slice,de=String.prototype.replace,Fe=String.prototype.toUpperCase,ue=String.prototype.toLowerCase,it=RegExp.prototype.test,le=Array.prototype.concat,Ee=Array.prototype.join,Ie=Array.prototype.slice,Ye=Math.floor,Be="function"==typeof BigInt?BigInt.prototype.valueOf:null,ke=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,He="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Xe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,vt=Object.prototype.propertyIsEnumerable,an=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ae){return ae.__proto__}:null);function We(ae,ze){if(ae===1/0||ae===-1/0||ae!=ae||ae&&ae>-1e3&&ae<1e3||it.call(/e/,ze))return ze;var Dn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof ae){var xn=ae<0?-Ye(-ae):Ye(ae);if(xn!==ae){var jt=String(xn),bn=Y.call(ze,jt.length+1);return de.call(jt,Dn,"$&_")+"."+de.call(de.call(bn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(ze,Dn,"$&_")}var N=F(4654),ge=N.custom,et=Xt(ge)?ge:null;function tt(ae,ze,Dn){var xn="double"===(Dn.quoteStyle||ze)?'"':"'";return xn+ae+xn}function Ue(ae){return de.call(String(ae),/"/g,"&quot;")}function K(ae){return!("[object Array]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}function pt(ae){return!("[object RegExp]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}function Xt(ae){if(He)return ae&&"object"==typeof ae&&ae instanceof Symbol;if("symbol"==typeof ae)return!0;if(!ae||"object"!=typeof ae||!ne)return!1;try{return ne.call(ae),!0}catch{}return!1}$e.exports=function ae(ze,Dn,xn,jt){var bn=Dn||{};if(er(bn,"quoteStyle")&&"single"!==bn.quoteStyle&&"double"!==bn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(er(bn,"maxStringLength")&&("number"==typeof bn.maxStringLength?bn.maxStringLength<0&&bn.maxStringLength!==1/0:null!==bn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var or=!er(bn,"customInspect")||bn.customInspect;if("boolean"!=typeof or&&"symbol"!==or)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(er(bn,"indent")&&null!==bn.indent&&"\t"!==bn.indent&&!(parseInt(bn.indent,10)===bn.indent&&bn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(er(bn,"numericSeparator")&&"boolean"!=typeof bn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var dn=bn.numericSeparator;if(typeof ze>"u")return"undefined";if(null===ze)return"null";if("boolean"==typeof ze)return ze?"true":"false";if("string"==typeof ze)return vr(ze,bn);if("number"==typeof ze){if(0===ze)return 1/0/ze>0?"0":"-0";var tr=String(ze);return dn?We(ze,tr):tr}if("bigint"==typeof ze){var cr=String(ze)+"n";return dn?We(ze,cr):cr}var on=typeof bn.depth>"u"?5:bn.depth;if(typeof xn>"u"&&(xn=0),xn>=on&&on>0&&"object"==typeof ze)return K(ze)?"[Array]":"[Object]";var fr=function Pi(ae,ze){var Dn;if("\t"===ae.indent)Dn="\t";else{if(!("number"==typeof ae.indent&&ae.indent>0))return null;Dn=Ee.call(Array(ae.indent+1)," ")}return{base:Dn,prev:Ee.call(Array(ze+1),Dn)}}(bn,xn);if(typeof jt>"u")jt=[];else if(Lr(jt,ze)>=0)return"[Circular]";function C(Ko,D,br){if(D&&(jt=Ie.call(jt)).push(D),br){var Fr={depth:bn.depth};return er(bn,"quoteStyle")&&(Fr.quoteStyle=bn.quoteStyle),ae(Ko,Fr,xn+1,jt)}return ae(Ko,bn,xn+1,jt)}if("function"==typeof ze&&!pt(ze)){var Bt=function wo(ae){if(ae.name)return ae.name;var ze=q.call(he.call(ae),/^function\s*([\w$]+)/);return ze?ze[1]:null}(ze),ir=at(ze,C);return"[Function"+(Bt?": "+Bt:" (anonymous)")+"]"+(ir.length>0?" { "+Ee.call(ir,", ")+" }":"")}if(Xt(ze)){var E=He?de.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(ze);return"object"!=typeof ze||He?E:Dr(E)}if(function Rr(ae){return!(!ae||"object"!=typeof ae)&&(typeof HTMLElement<"u"&&ae instanceof HTMLElement||"string"==typeof ae.nodeName&&"function"==typeof ae.getAttribute)}(ze)){for(var Mn="<"+ue.call(String(ze.nodeName)),So=ze.attributes||[],lo=0;lo<So.length;lo++)Mn+=" "+So[lo].name+"="+tt(Ue(So[lo].value),"double",bn);return Mn+=">",ze.childNodes&&ze.childNodes.length&&(Mn+="..."),Mn+"</"+ue.call(String(ze.nodeName))+">"}if(K(ze)){if(0===ze.length)return"[]";var Zo=at(ze,C);return fr&&!function $r(ae){for(var ze=0;ze<ae.length;ze++)if(Lr(ae[ze],"\n")>=0)return!1;return!0}(Zo)?"["+Ir(Zo,fr)+"]":"[ "+Ee.call(Zo,", ")+" ]"}if(function Pe(ae){return!("[object Error]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze)){var Co=at(ze,C);return"cause"in Error.prototype||!("cause"in ze)||vt.call(ze,"cause")?0===Co.length?"["+String(ze)+"]":"{ ["+String(ze)+"] "+Ee.call(Co,", ")+" }":"{ ["+String(ze)+"] "+Ee.call(le.call("[cause]: "+C(ze.cause),Co),", ")+" }"}if("object"==typeof ze&&or){if(et&&"function"==typeof ze[et]&&N)return N(ze,{depth:on-xn});if("symbol"!==or&&"function"==typeof ze.inspect)return ze.inspect()}if(function si(ae){if(!re||!ae||"object"!=typeof ae)return!1;try{re.call(ae);try{B.call(ae)}catch{return!0}return ae instanceof Map}catch{}return!1}(ze)){var Eo=[];return ee&&ee.call(ze,function(Ko,D){Eo.push(C(D,ze,!0)+" => "+C(Ko,ze))}),un("Map",re.call(ze),Eo,fr)}if(function On(ae){if(!B||!ae||"object"!=typeof ae)return!1;try{B.call(ae);try{re.call(ae)}catch{return!0}return ae instanceof Set}catch{}return!1}(ze)){var In=[];return H&&H.call(ze,function(Ko){In.push(C(Ko,ze))}),un("Set",B.call(ze),In,fr)}if(function En(ae){if(!X||!ae||"object"!=typeof ae)return!1;try{X.call(ae,X);try{U.call(ae,U)}catch{return!0}return ae instanceof WeakMap}catch{}return!1}(ze))return jr("WeakMap");if(function ai(ae){if(!U||!ae||"object"!=typeof ae)return!1;try{U.call(ae,U);try{X.call(ae,X)}catch{return!0}return ae instanceof WeakSet}catch{}return!1}(ze))return jr("WeakSet");if(function Yr(ae){if(!G||!ae||"object"!=typeof ae)return!1;try{return G.call(ae),!0}catch{}return!1}(ze))return jr("WeakRef");if(function rn(ae){return!("[object Number]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze))return Dr(C(Number(ze)));if(function Z(ae){if(!ae||"object"!=typeof ae||!Be)return!1;try{return Be.call(ae),!0}catch{}return!1}(ze))return Dr(C(Be.call(ze)));if(function Kt(ae){return!("[object Boolean]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze))return Dr(Re.call(ze));if(function Tt(ae){return!("[object String]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze))return Dr(C(String(ze)));if(!function Se(ae){return!("[object Date]"!==zn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze)&&!pt(ze)){var li=at(ze,C),ar=an?an(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,Xr=ze instanceof Object?"":"null prototype",Vn=!ar&&Xe&&Object(ze)===ze&&Xe in ze?Y.call(zn(ze),8,-1):Xr?"Object":"",Yt=(ar||"function"!=typeof ze.constructor?"":ze.constructor.name?ze.constructor.name+" ":"")+(Vn||Xr?"["+Ee.call(le.call([],Vn||[],Xr||[]),": ")+"] ":"");return 0===li.length?Yt+"{}":fr?Yt+"{"+Ir(li,fr)+"}":Yt+"{ "+Ee.call(li,", ")+" }"}return String(ze)};var hn=Object.prototype.hasOwnProperty||function(ae){return ae in this};function er(ae,ze){return hn.call(ae,ze)}function zn(ae){return Le.call(ae)}function Lr(ae,ze){if(ae.indexOf)return ae.indexOf(ze);for(var Dn=0,xn=ae.length;Dn<xn;Dn++)if(ae[Dn]===ze)return Dn;return-1}function vr(ae,ze){if(ae.length>ze.maxStringLength){var Dn=ae.length-ze.maxStringLength,xn="... "+Dn+" more character"+(Dn>1?"s":"");return vr(Y.call(ae,0,ze.maxStringLength),ze)+xn}return tt(de.call(de.call(ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Yn),"single",ze)}function Yn(ae){var ze=ae.charCodeAt(0),Dn={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return Dn?"\\"+Dn:"\\x"+(ze<16?"0":"")+Fe.call(ze.toString(16))}function Dr(ae){return"Object("+ae+")"}function jr(ae){return ae+" { ? }"}function un(ae,ze,Dn,xn){return ae+" ("+ze+") {"+(xn?Ir(Dn,xn):Ee.call(Dn,", "))+"}"}function Ir(ae,ze){if(0===ae.length)return"";var Dn="\n"+ze.prev+ze.base;return Dn+Ee.call(ae,","+Dn)+"\n"+ze.prev}function at(ae,ze){var Dn=K(ae),xn=[];if(Dn){xn.length=ae.length;for(var jt=0;jt<ae.length;jt++)xn[jt]=er(ae,jt)?ze(ae[jt],ae):""}var or,bn="function"==typeof ke?ke(ae):[];if(He){or={};for(var dn=0;dn<bn.length;dn++)or["$"+bn[dn]]=bn[dn]}for(var tr in ae)er(ae,tr)&&(Dn&&String(Number(tr))===tr&&tr<ae.length||He&&or["$"+tr]instanceof Symbol||(it.call(/[^\w$]/,tr)?xn.push(ze(tr,ae)+": "+ze(ae[tr],ae)):xn.push(tr+": "+ze(ae[tr],ae))));if("function"==typeof ke)for(var cr=0;cr<bn.length;cr++)vt.call(ae,bn[cr])&&xn.push("["+ze(bn[cr])+"]: "+ze(ae[bn[cr]],ae));return xn}},6872:$e=>{"use strict";var Ge=function(F){return F!=F};$e.exports=function(I,c){return 0===I&&0===c?1/I==1/c:!!(I===c||Ge(I)&&Ge(c))}},5734:($e,Ge,F)=>{"use strict";var I=F(1790),c=F(3855),re=F(6872),ee=F(3306),W=F(7715),Q=c(ee(),Object);I(Q,{getPolyfill:ee,implementation:re,shim:W}),$e.exports=Q},3306:($e,Ge,F)=>{"use strict";var I=F(6872);$e.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:($e,Ge,F)=>{"use strict";var I=F(3306),c=F(1790);$e.exports=function(){var ee=I();return c(Object,{is:ee},{is:function(){return Object.is!==ee}}),ee}},7010:($e,Ge,F)=>{"use strict";var I;if(!Object.keys){var c=Object.prototype.hasOwnProperty,re=Object.prototype.toString,ee=F(5185),W=Object.prototype.propertyIsEnumerable,Q=!W.call({toString:null},"toString"),B=W.call(function(){},"prototype"),H=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ce=function(V){var G=V.constructor;return G&&G.prototype===V},X={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},oe=function(){if(typeof window>"u")return!1;for(var V in window)try{if(!X["$"+V]&&c.call(window,V)&&null!==window[V]&&"object"==typeof window[V])try{ce(window[V])}catch{return!0}}catch{return!0}return!1}();I=function(G){var Re=null!==G&&"object"==typeof G,Le="[object Function]"===re.call(G),he=ee(G),q=Re&&"[object String]"===re.call(G),Y=[];if(!Re&&!Le&&!he)throw new TypeError("Object.keys called on a non-object");var de=B&&Le;if(q&&G.length>0&&!c.call(G,0))for(var Fe=0;Fe<G.length;++Fe)Y.push(String(Fe));if(he&&G.length>0)for(var ue=0;ue<G.length;++ue)Y.push(String(ue));else for(var it in G)(!de||"prototype"!==it)&&c.call(G,it)&&Y.push(String(it));if(Q)for(var le=function(V){if(typeof window>"u"||!oe)return ce(V);try{return ce(V)}catch{return!1}}(G),Ee=0;Ee<H.length;++Ee)(!le||"constructor"!==H[Ee])&&c.call(G,H[Ee])&&Y.push(H[Ee]);return Y}}$e.exports=I},2093:($e,Ge,F)=>{"use strict";var I=Array.prototype.slice,c=F(5185),re=Object.keys,ee=re?function(B){return re(B)}:F(7010),W=Object.keys;ee.shim=function(){if(Object.keys){var B=function(){var H=Object.keys(arguments);return H&&H.length===arguments.length}(1,2);B||(Object.keys=function(ce){return c(ce)?W(I.call(ce)):W(ce)})}else Object.keys=ee;return Object.keys||ee},$e.exports=ee},5185:$e=>{"use strict";var Ge=Object.prototype.toString;$e.exports=function(I){var c=Ge.call(I),re="[object Arguments]"===c;return re||(re="[object Array]"!==c&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===Ge.call(I.callee)),re}},2461:($e,Ge,F)=>{"use strict";var I=F(2093),c=F(6858)(),re=F(4263),ee=Object,W=re("Array.prototype.push"),Q=re("Object.prototype.propertyIsEnumerable"),B=c?Object.getOwnPropertySymbols:null;$e.exports=function(ce,X){if(null==ce)throw new TypeError("target must be an object");var oe=ee(ce);if(1===arguments.length)return oe;for(var U=1;U<arguments.length;++U){var V=ee(arguments[U]),G=I(V),Re=c&&(Object.getOwnPropertySymbols||B);if(Re)for(var Le=Re(V),he=0;he<Le.length;++he){var q=Le[he];Q(V,q)&&W(G,q)}for(var Y=0;Y<G.length;++Y){var de=G[Y];if(Q(V,de)){var Fe=V[de];oe[de]=Fe}}}return oe}},6189:($e,Ge,F)=>{"use strict";var I=F(1790),c=F(3855),re=F(2461),ee=F(6255),W=F(152),Q=c.apply(ee()),B=function(ce,X){return Q(Object,arguments)};I(B,{getPolyfill:ee,implementation:re,shim:W}),$e.exports=B},6255:($e,Ge,F)=>{"use strict";var I=F(2461);$e.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ee="abcdefghijklmnopqrst",W=ee.split(""),Q={},B=0;B<W.length;++B)Q[W[B]]=W[B];var H=Object.assign({},Q),ce="";for(var X in H)ce+=X;return ee!==ce}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ee=Object.preventExtensions({1:2});try{Object.assign(ee,"xy")}catch{return"y"===ee[1]}return!1}()?I:Object.assign}},152:($e,Ge,F)=>{"use strict";var I=F(1790),c=F(6255);$e.exports=function(){var ee=c();return I(Object,{assign:ee},{assign:function(){return Object.assign!==ee}}),ee}},151:($e,Ge)=>{"use strict";var F=Object.prototype.hasOwnProperty;function c(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function re(Q){try{return encodeURIComponent(Q)}catch{return null}}Ge.stringify=function W(Q,B){B=B||"";var ce,X,H=[];for(X in"string"!=typeof B&&(B="?"),Q)if(F.call(Q,X)){if(!(ce=Q[X])&&(null==ce||isNaN(ce))&&(ce=""),X=re(X),ce=re(ce),null===X||null===ce)continue;H.push(X+"="+ce)}return H.length?B+H.join("&"):""},Ge.parse=function ee(Q){for(var ce,B=/([^=?#&]+)=?([^&]*)/g,H={};ce=B.exec(Q);){var X=c(ce[1]),oe=c(ce[2]);null===X||null===oe||X in H||(H[X]=oe)}return H}},4040:($e,Ge,F)=>{"use strict";var I=F(3677).functionsHaveConfigurableNames(),c=Object,re=TypeError;$e.exports=function(){if(null!=this&&this!==c(this))throw new re("RegExp.prototype.flags getter called on non-object");var W="";return this.hasIndices&&(W+="d"),this.global&&(W+="g"),this.ignoreCase&&(W+="i"),this.multiline&&(W+="m"),this.dotAll&&(W+="s"),this.unicode&&(W+="u"),this.sticky&&(W+="y"),W},I&&Object.defineProperty&&Object.defineProperty($e.exports,"name",{value:"get flags"})},8704:($e,Ge,F)=>{"use strict";var I=F(1790),c=F(3855),re=F(4040),ee=F(9783),W=F(9369),Q=c(ee());I(Q,{getPolyfill:ee,implementation:re,shim:W}),$e.exports=Q},9783:($e,Ge,F)=>{"use strict";var I=F(4040),c=F(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;$e.exports=function(){if(c&&"gim"===/a/gim.flags){var W=re(RegExp.prototype,"flags");if(W&&"function"==typeof W.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",B={};if(Object.defineProperty(B,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(B,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return W.get}}return I}},9369:($e,Ge,F)=>{"use strict";var I=F(1790).supportsDescriptors,c=F(9783),re=Object.getOwnPropertyDescriptor,ee=Object.defineProperty,W=TypeError,Q=Object.getPrototypeOf,B=/a/;$e.exports=function(){if(!I||!Q)throw new W("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ce=c(),X=Q(B),oe=re(X,"flags");return(!oe||oe.get!==ce)&&ee(X,"flags",{configurable:!0,enumerable:!1,get:ce}),ce}},47:$e=>{"use strict";$e.exports=function(F,I){if(I=I.split(":")[0],!(F=+F))return!1;switch(I){case"http":case"ws":return 80!==F;case"https":case"wss":return 443!==F;case"ftp":return 21!==F;case"gopher":return 70!==F;case"file":return!1}return 0!==F}},8432:($e,Ge,F)=>{"use strict";var I=F(9903),c=F(4263),re=F(8597),ee=I("%TypeError%"),W=I("%WeakMap%",!0),Q=I("%Map%",!0),B=c("WeakMap.prototype.get",!0),H=c("WeakMap.prototype.set",!0),ce=c("WeakMap.prototype.has",!0),X=c("Map.prototype.get",!0),oe=c("Map.prototype.set",!0),U=c("Map.prototype.has",!0),V=function(he,q){for(var de,Y=he;null!==(de=Y.next);Y=de)if(de.key===q)return Y.next=de.next,de.next=he.next,he.next=de,de};$e.exports=function(){var q,Y,de,Fe={assert:function(ue){if(!Fe.has(ue))throw new ee("Side channel does not contain "+re(ue))},get:function(ue){if(W&&ue&&("object"==typeof ue||"function"==typeof ue)){if(q)return B(q,ue)}else if(Q){if(Y)return X(Y,ue)}else if(de)return function(he,q){var Y=V(he,q);return Y&&Y.value}(de,ue)},has:function(ue){if(W&&ue&&("object"==typeof ue||"function"==typeof ue)){if(q)return ce(q,ue)}else if(Q){if(Y)return U(Y,ue)}else if(de)return function(he,q){return!!V(he,q)}(de,ue);return!1},set:function(ue,it){W&&ue&&("object"==typeof ue||"function"==typeof ue)?(q||(q=new W),H(q,ue,it)):Q?(Y||(Y=new Q),oe(Y,ue,it)):(de||(de={key:{},next:null}),function(he,q,Y){var de=V(he,q);de?de.value=Y:he.next={key:q,next:he.next,value:Y}}(de,ue,it))}};return Fe}},8519:($e,Ge,F)=>{"use strict";var I=F(5847),c=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;$e.exports=function(W){if(!re)throw new c("this environment lacks StopIteration");I.set(W,"[[Done]]",!1);var Q={next:function(){var H=I.get(this,"[[Iterator]]"),ce=I.get(H,"[[Done]]");try{return{done:ce,value:ce?void 0:H.next()}}catch(X){if(I.set(H,"[[Done]]",!0),X!==re)throw X;return{done:!0,value:void 0}}}};return I.set(Q,"[[Iterator]]",W),Q}},9233:($e,Ge,F)=>{"use strict";var I=F(47),c=F(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ee=/[\n\r\t]/g,W=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,B=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,H=/^[a-zA-Z]:/;function ce(Y){return(Y||"").toString().replace(re,"")}var X=[["#","hash"],["?","query"],function(de,Fe){return V(Fe.protocol)?de.replace(/\\/g,"/"):de},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],oe={hash:1,query:1};function U(Y){var de;de=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var le,ue={},it=typeof(Y=Y||de.location||{});if("blob:"===Y.protocol)ue=new Le(unescape(Y.pathname),{});else if("string"===it)for(le in ue=new Le(Y,{}),oe)delete ue[le];else if("object"===it){for(le in Y)le in oe||(ue[le]=Y[le]);void 0===ue.slashes&&(ue.slashes=W.test(Y.href))}return ue}function V(Y){return"file:"===Y||"ftp:"===Y||"http:"===Y||"https:"===Y||"ws:"===Y||"wss:"===Y}function G(Y,de){Y=(Y=ce(Y)).replace(ee,""),de=de||{};var Ie,Fe=B.exec(Y),ue=Fe[1]?Fe[1].toLowerCase():"",it=!!Fe[2],le=!!Fe[3],Ee=0;return it?le?(Ie=Fe[2]+Fe[3]+Fe[4],Ee=Fe[2].length+Fe[3].length):(Ie=Fe[2]+Fe[4],Ee=Fe[2].length):le?(Ie=Fe[3]+Fe[4],Ee=Fe[3].length):Ie=Fe[4],"file:"===ue?Ee>=2&&(Ie=Ie.slice(2)):V(ue)?Ie=Fe[4]:ue?it&&(Ie=Ie.slice(2)):Ee>=2&&V(de.protocol)&&(Ie=Fe[4]),{protocol:ue,slashes:it||V(ue),slashesCount:Ee,rest:Ie}}function Le(Y,de,Fe){if(Y=(Y=ce(Y)).replace(ee,""),!(this instanceof Le))return new Le(Y,de,Fe);var ue,it,le,Ee,Ie,Ye,Be=X.slice(),ke=typeof de,ne=this,He=0;for("object"!==ke&&"string"!==ke&&(Fe=de,de=null),Fe&&"function"!=typeof Fe&&(Fe=c.parse),ue=!(it=G(Y||"",de=U(de))).protocol&&!it.slashes,ne.slashes=it.slashes||ue&&de.slashes,ne.protocol=it.protocol||de.protocol||"",Y=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||H.test(Y))||!it.slashes&&(it.protocol||it.slashesCount<2||!V(ne.protocol)))&&(Be[3]=[/(.*)/,"pathname"]);He<Be.length;He++)"function"!=typeof(Ee=Be[He])?(Ye=Ee[1],(le=Ee[0])!=le?ne[Ye]=Y:"string"==typeof le?~(Ie="@"===le?Y.lastIndexOf(le):Y.indexOf(le))&&("number"==typeof Ee[2]?(ne[Ye]=Y.slice(0,Ie),Y=Y.slice(Ie+Ee[2])):(ne[Ye]=Y.slice(Ie),Y=Y.slice(0,Ie))):(Ie=le.exec(Y))&&(ne[Ye]=Ie[1],Y=Y.slice(0,Ie.index)),ne[Ye]=ne[Ye]||ue&&Ee[3]&&de[Ye]||"",Ee[4]&&(ne[Ye]=ne[Ye].toLowerCase())):Y=Ee(Y,ne);Fe&&(ne.query=Fe(ne.query)),ue&&de.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==de.pathname)&&(ne.pathname=function Re(Y,de){if(""===Y)return de;for(var Fe=(de||"/").split("/").slice(0,-1).concat(Y.split("/")),ue=Fe.length,it=Fe[ue-1],le=!1,Ee=0;ue--;)"."===Fe[ue]?Fe.splice(ue,1):".."===Fe[ue]?(Fe.splice(ue,1),Ee++):Ee&&(0===ue&&(le=!0),Fe.splice(ue,1),Ee--);return le&&Fe.unshift(""),("."===it||".."===it)&&Fe.push(""),Fe.join("/")}(ne.pathname,de.pathname)),"/"!==ne.pathname.charAt(0)&&V(ne.protocol)&&(ne.pathname="/"+ne.pathname),I(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(Ie=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,Ie),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(Ie+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&V(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}Le.prototype={set:function he(Y,de,Fe){var ue=this;switch(Y){case"query":"string"==typeof de&&de.length&&(de=(Fe||c.parse)(de)),ue[Y]=de;break;case"port":ue[Y]=de,I(de,ue.protocol)?de&&(ue.host=ue.hostname+":"+de):(ue.host=ue.hostname,ue[Y]="");break;case"hostname":ue[Y]=de,ue.port&&(de+=":"+ue.port),ue.host=de;break;case"host":ue[Y]=de,Q.test(de)?(de=de.split(":"),ue.port=de.pop(),ue.hostname=de.join(":")):(ue.hostname=de,ue.port="");break;case"protocol":ue.protocol=de.toLowerCase(),ue.slashes=!Fe;break;case"pathname":case"hash":if(de){var it="pathname"===Y?"/":"#";ue[Y]=de.charAt(0)!==it?it+de:de}else ue[Y]=de;break;case"username":case"password":ue[Y]=encodeURIComponent(de);break;case"auth":var le=de.indexOf(":");~le?(ue.username=de.slice(0,le),ue.username=encodeURIComponent(decodeURIComponent(ue.username)),ue.password=de.slice(le+1),ue.password=encodeURIComponent(decodeURIComponent(ue.password))):ue.username=encodeURIComponent(decodeURIComponent(de))}for(var Ee=0;Ee<X.length;Ee++){var Ie=X[Ee];Ie[4]&&(ue[Ie[1]]=ue[Ie[1]].toLowerCase())}return ue.auth=ue.password?ue.username+":"+ue.password:ue.username,ue.origin="file:"!==ue.protocol&&V(ue.protocol)&&ue.host?ue.protocol+"//"+ue.host:"null",ue.href=ue.toString(),ue},toString:function q(Y){(!Y||"function"!=typeof Y)&&(Y=c.stringify);var de,Fe=this,ue=Fe.host,it=Fe.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var le=it+(Fe.protocol&&Fe.slashes||V(Fe.protocol)?"//":"");return Fe.username?(le+=Fe.username,Fe.password&&(le+=":"+Fe.password),le+="@"):Fe.password?(le+=":"+Fe.password,le+="@"):"file:"!==Fe.protocol&&V(Fe.protocol)&&!ue&&"/"!==Fe.pathname&&(le+="@"),(":"===ue[ue.length-1]||Q.test(Fe.hostname)&&!Fe.port)&&(ue+=":"),le+=ue+Fe.pathname,(de="object"==typeof Fe.query?Y(Fe.query):Fe.query)&&(le+="?"!==de.charAt(0)?"?"+de:de),Fe.hash&&(le+=Fe.hash),le}},Le.extractProtocol=G,Le.location=U,Le.trimLeft=ce,Le.qs=c,$e.exports=Le},2086:($e,Ge,F)=>{"use strict";var I=F(4764),c=F(1046),re=F(6180),ee=F(6434),W=F(3);$e.exports=function(B){return null==B||"object"!=typeof B&&"function"!=typeof B?null:I(B)?"String":c(B)?"Number":re(B)?"Boolean":ee(B)?"Symbol":W(B)?"BigInt":void 0}},5709:($e,Ge,F)=>{"use strict";var I=F(3037),c=F(5271),re=F(4263),ee=F(253),W=re("Object.prototype.toString"),Q=F(3261)(),B=typeof globalThis>"u"?global:globalThis,H=c(),ce=re("String.prototype.slice"),X={},oe=Object.getPrototypeOf;Q&&ee&&oe&&I(H,function(G){if("function"==typeof B[G]){var Re=new B[G];if(Symbol.toStringTag in Re){var Le=oe(Re),he=ee(Le,Symbol.toStringTag);if(!he){var q=oe(Le);he=ee(q,Symbol.toStringTag)}X[G]=he.get}}});var V=F(7673);$e.exports=function(Re){return!!V(Re)&&(Q&&Symbol.toStringTag in Re?function(Re){var Le=!1;return I(X,function(he,q){if(!Le)try{var Y=he.call(Re);Y===q&&(Le=Y)}catch{}}),Le}(Re):ce(W(Re),8,-1))}},863:($e,Ge,F)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function c(re){if(!F.o(I,re))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+re+"'");throw Q.code="MODULE_NOT_FOUND",Q});var ee=I[re],W=ee[0];return Promise.all(ee.slice(1).map(F.e)).then(()=>F(W))}c.keys=()=>Object.keys(I),c.id=863,$e.exports=c},4654:()=>{},5271:$e=>{"use strict";var Ge=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],F=typeof globalThis>"u"?global:globalThis;$e.exports=function(){for(var c=[],re=0;re<Ge.length;re++)"function"==typeof F[Ge[re]]&&(c[c.length]=Ge[re]);return c}},2069:($e,Ge,F)=>{"use strict";var I=F(9102),c=F(8519);if(F(524)()||F(6858)()){var re=Symbol.iterator;$e.exports=function(Ie){return null!=Ie&&typeof Ie[re]<"u"?Ie[re]():I(Ie)?Array.prototype[re].call(Ie):void 0}}else{var ee=F(8266),W=F(4764),Q=F(9903),B=Q("%Map%",!0),H=Q("%Set%",!0),ce=F(4263),X=ce("Array.prototype.push"),oe=ce("String.prototype.charCodeAt"),U=ce("String.prototype.slice"),G=function(Ie){var Ye=0;return{next:function(){var ne,ke=Ye>=Ie.length;return ke||(ne=Ie[Ye],Ye+=1),{done:ke,value:ne}}}},Re=function(Ie,Ye){if(ee(Ie)||I(Ie))return G(Ie);if(W(Ie)){var Be=0;return{next:function(){var ne=function(Ie,Ye){if(Ye+1>=Ie.length)return Ye+1;var ke=oe(Ie,Ye);if(ke<55296||ke>56319)return Ye+1;var ne=oe(Ie,Ye+1);return ne<56320||ne>57343?Ye+1:Ye+2}(Ie,Be),He=U(Ie,Be,ne);return Be=ne,{done:ne>Ie.length,value:He}}}}return Ye&&typeof Ie["_es6-shim iterator_"]<"u"?Ie["_es6-shim iterator_"]():void 0};if(B||H){var Le=F(9898),he=F(3870),q=ce("Map.prototype.forEach",!0),Y=ce("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var de=ce("Map.prototype.iterator",!0),Fe=ce("Set.prototype.iterator",!0);var ue=ce("Map.prototype.@@iterator",!0)||ce("Map.prototype._es6-shim iterator_",!0),it=ce("Set.prototype.@@iterator",!0)||ce("Set.prototype._es6-shim iterator_",!0);$e.exports=function(Ie){return function(Ie){if(Le(Ie)){if(de)return c(de(Ie));if(ue)return ue(Ie);if(q){var Ye=[];return q(Ie,function(ke,ne){X(Ye,[ne,ke])}),G(Ye)}}if(he(Ie)){if(Fe)return c(Fe(Ie));if(it)return it(Ie);if(Y){var Be=[];return Y(Ie,function(ke){X(Be,ke)}),G(Be)}}}(Ie)||Re(Ie)}}else $e.exports=function(Ie){if(null!=Ie)return Re(Ie,!0)}}},2107:($e,Ge,F)=>{"use strict";var I=F(9898),c=F(3870),re=F(5585),ee=F(1902);$e.exports=function(Q){if(Q&&"object"==typeof Q){if(I(Q))return"Map";if(c(Q))return"Set";if(re(Q))return"WeakMap";if(ee(Q))return"WeakSet"}return!1}},3918:($e,Ge,F)=>{"use strict";function I(re,ee,W,Q,B,H,ce){try{var X=re[H](ce),oe=X.value}catch(U){return void W(U)}X.done?ee(oe):Promise.resolve(oe).then(Q,B)}function c(re){return function(){var ee=this,W=arguments;return new Promise(function(Q,B){var H=re.apply(ee,W);function ce(oe){I(H,Q,B,ce,X,"next",oe)}function X(oe){I(H,Q,B,ce,X,"throw",oe)}ce(void 0)})}}F.d(Ge,{Z:()=>c})}},$e=>{$e($e.s=1159)}]);
//# sourceMappingURL=main.362dcf6fd900b901.js.map