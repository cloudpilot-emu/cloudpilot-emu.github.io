(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4795:(Ve,We,R)=>{"use strict";function T(t){return"function"==typeof t}function u(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const le=u(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function se(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class q{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(i){n=i instanceof le?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{H(i)}catch(s){n=n??[],s instanceof le?n=[...n,...s.errors]:n.push(s)}}if(n)throw new le(n)}}add(n){var e;if(n&&n!==this)if(this.closed)H(n);else{if(n instanceof q){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&se(e,n)}remove(n){const{_finalizers:e}=this;e&&se(e,n),n instanceof q&&n._removeParent(this)}}q.EMPTY=(()=>{const t=new q;return t.closed=!0,t})();const ue=q.EMPTY;function V(t){return t instanceof q||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function H(t){T(t)?t():t.unsubscribe()}const Ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},K={setTimeout(t,n,...e){const{delegate:r}=K;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=K;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ae(t){K.setTimeout(()=>{const{onUnhandledError:n}=Ie;if(!n)throw t;n(t)})}function B(){}const $=Ne("C",void 0,void 0);function Ne(t,n,e){return{kind:t,value:n,error:e}}let ye=null;function z(t){if(Ie.useDeprecatedSynchronousErrorHandling){const n=!ye;if(n&&(ye={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ye;if(ye=null,e)throw r}}else t()}class he extends q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,V(n)&&n.add(this)):this.destination=Re}static create(n,e,r){return new fe(n,e,r)}next(n){this.isStopped?Ue(function Oe(t){return Ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ue(function G(t){return Ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ue($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function me(t,n){return Pe.call(t,n)}class it{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Me(r)}else Me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Me(e)}}}class fe extends he{constructor(n,e,r){let o;if(super(),T(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Ie.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&me(n.next,i),error:n.error&&me(n.error,i),complete:n.complete&&me(n.complete,i)}):o=n}this.destination=new it(o)}}function Me(t){Ie.useDeprecatedSynchronousErrorHandling?function W(t){Ie.useDeprecatedSynchronousErrorHandling&&ye&&(ye.errorThrown=!0,ye.error=t)}(t):ae(t)}function Ue(t,n){const{onStoppedNotification:e}=Ie;e&&K.setTimeout(()=>e(t,n))}const Re={closed:!0,next:B,error:function xe(t){throw t},complete:B},$e="function"==typeof Symbol&&Symbol.observable||"@@observable";function Q(t){return t}function rt(t){return 0===t.length?Q:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}let wt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function O(t){return t&&t instanceof he||function Ye(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&V(t)}(e)?e:new fe(e,r,o);return z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ot(r))((o,i)=>{const s=new fe({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[$e](){return this}pipe(...e){return rt(e)(this)}toPromise(e){return new(e=Ot(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function Ot(t){var n;return null!==(n=t??Ie.Promise)&&void 0!==n?n:Promise}const _e=u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xe=(()=>{class t extends wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new te(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new _e}next(e){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?ue:(this.currentObservers=null,i.push(e),new q(()=>{this.currentObservers=null,se(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new wt;return e.source=this,e}}return t.create=(n,e)=>new te(n,e),t})();class te extends Xe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:ue}}function pe(t){return T(t?.lift)}function Ee(t){return n=>{if(pe(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(t,n,e,r,o){return new _t(t,n,e,r,o)}class _t extends he{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function He(t,n){return Ee((e,r)=>{let o=0;e.subscribe(Be(r,i=>{r.next(t.call(n,i,o++))}))})}function J(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function nr(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{d(r.next(m))}catch(_){s(_)}}function c(m){try{d(r.throw(m))}catch(_){s(_)}}function d(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}d((r=r.apply(t,n||[])).next())})}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function rr(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(I){r[I]&&(o[I]=function(A){return new Promise(function(Y,Fe){i.push([I,A,Y,Fe])>1||a(I,A)})})}function a(I,A){try{!function c(I){I.value instanceof fr?Promise.resolve(I.value.v).then(d,m):_(i[0][2],I)}(r[I](A))}catch(Y){_(i[0][3],Y)}}function d(I){a("next",I)}function m(I){a("throw",I)}function _(I,A){I(A),i.shift(),i.length&&a(i[0][0],i[0][1])}}function ho(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Dn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const _n=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function In(t){return T(t?.then)}function Ht(t){return T(t[$e])}function fn(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function ir(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const er=function an(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pr(t){return T(t?.[er])}function Jt(t){return rr(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield fr(e.read());if(o)return yield fr(void 0);yield yield fr(r)}}finally{e.releaseLock()}})}function hr(t){return T(t?.getReader)}function S(t){if(t instanceof wt)return t;if(null!=t){if(Ht(t))return function Ut(t){return new wt(n=>{const e=t[$e]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_n(t))return function sr(t){return new wt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(In(t))return function E(t){return new wt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ae)})}(t);if(fn(t))return mo(t);if(pr(t))return function vr(t){return new wt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(hr(t))return function go(t){return mo(Jt(t))}(t)}throw ir(t)}function mo(t){return new wt(n=>{(function jo(t,n){var e,r,o,i;return nr(this,void 0,void 0,function*(){try{for(e=ho(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function kr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Xt(t,n,e=1/0){return T(n)?Xt((r,o)=>He((i,s)=>n(r,i,o,s))(S(t(r,o))),e):("number"==typeof n&&(e=n),Ee((r,o)=>function Ro(t,n,e,r,o,i,s,a){const c=[];let d=0,m=0,_=!1;const I=()=>{_&&!c.length&&!d&&n.complete()},A=Fe=>d<r?Y(Fe):c.push(Fe),Y=Fe=>{i&&n.next(Fe),d++;let Ke=!1;S(e(Fe,m++)).subscribe(Be(n,Je=>{o?.(Je),i?A(Je):n.next(Je)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(d--;c.length&&d<r;){const Je=c.shift();s?kr(n,s,()=>Y(Je)):Y(Je)}I()}catch(Je){n.error(Je)}}))};return t.subscribe(Be(n,A,()=>{_=!0,I()})),()=>{a?.()}}(r,o,t,e)))}function so(t=1/0){return Xt(Q,t)}const ar=new wt(t=>t.complete());function ti(t){return t&&T(t.schedule)}function rn(t){return t[t.length-1]}function Io(t){return T(rn(t))?t.pop():void 0}function D(t){return ti(rn(t))?t.pop():void 0}function Vr(t,n=0){return Ee((e,r)=>{e.subscribe(Be(r,o=>kr(r,t,()=>r.next(o),n),()=>kr(r,t,()=>r.complete(),n),o=>kr(r,t,()=>r.error(o),n)))})}function Ci(t,n=0){return Ee((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Kr(t,n){if(!t)throw new Error("Iterable cannot be null");return new wt(e=>{kr(e,n,()=>{const r=t[Symbol.asyncIterator]();kr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Zn(t,n){return n?function Wi(t,n){if(null!=t){if(Ht(t))return function as(t,n){return S(t).pipe(Ci(n),Vr(n))}(t,n);if(_n(t))return function Fo(t,n){return new wt(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(In(t))return function yo(t,n){return S(t).pipe(Ci(n),Vr(n))}(t,n);if(fn(t))return Kr(t,n);if(pr(t))return function zi(t,n){return new wt(e=>{let r;return kr(e,n,()=>{r=t[er](),kr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(hr(t))return function ni(t,n){return Kr(Jt(t),n)}(t,n)}throw ir(t)}(t,n):S(t)}function Uo(...t){const n=D(t),e=function Rr(t,n){return"number"==typeof rn(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?S(r[0]):so(e)(Zn(r,n)):ar}function Si(t={}){const{connector:n=(()=>new Xe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,d=0,m=!1,_=!1;const I=()=>{a?.unsubscribe(),a=void 0},A=()=>{I(),s=c=void 0,m=_=!1},Y=()=>{const Fe=s;A(),Fe?.unsubscribe()};return Ee((Fe,Ke)=>{d++,!_&&!m&&I();const Je=c=c??n();Ke.add(()=>{d--,0===d&&!_&&!m&&(a=Ei(Y,o))}),Je.subscribe(Ke),!s&&d>0&&(s=new fe({next:gt=>Je.next(gt),error:gt=>{_=!0,I(),a=Ei(A,e,gt),Je.error(gt)},complete:()=>{m=!0,I(),a=Ei(A,r),Je.complete()}}),S(Fe).subscribe(s))})(i)}}function Ei(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new fe({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function On(t){for(let n in t)if(t[n]===On)return n;throw Error("Could not find renamed property on target object.")}function ri(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Un(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Un).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Di(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const gs=On({__forward_ref__:On});function x(t){return t.__forward_ref__=x,t.toString=function(){return Un(this())},t}function F(t){return ge(t)?t():t}function ge(t){return"function"==typeof t&&t.hasOwnProperty(gs)&&t.__forward_ref__===x}class oe extends Error{constructor(n,e){super(function L(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function jt(t,n){throw new oe(-201,!1)}function jr(t,n){null==t&&function Bn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ls(t){return oa(t,Zi)||oa(t,Yr)}function oa(t,n){return t.hasOwnProperty(n)?t[n]:null}function As(t){return t&&(t.hasOwnProperty(us)||t.hasOwnProperty(Ki))?t[us]:null}const Zi=On({\u0275prov:On}),us=On({\u0275inj:On}),Yr=On({ngInjectableDef:On}),Ki=On({ngInjectorDef:On});var Kt=(()=>((Kt=Kt||{})[Kt.Default=0]="Default",Kt[Kt.Host=1]="Host",Kt[Kt.Self=2]="Self",Kt[Kt.SkipSelf=4]="SkipSelf",Kt[Kt.Optional=8]="Optional",Kt))();let ia;function eo(t){const n=ia;return ia=t,n}function sa(t,n,e){const r=ls(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Kt.Optional?null:void 0!==n?n:void jt(Un(t))}function Nn(t){return{toString:t}.toString()}var cr=(()=>((cr=cr||{})[cr.OnPush=0]="OnPush",cr[cr.Default=1]="Default",cr))(),or=(()=>{return(t=or||(or={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",or;var t})();const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),w={},k=[],j=On({\u0275cmp:On}),be=On({\u0275dir:On}),we=On({\u0275pipe:On}),Ce=On({\u0275mod:On}),ut=On({\u0275fac:On}),f=On({__NG_ELEMENT_ID__:On});let g=0;function y(t){return Nn(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||k,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||or.Emulated,id:"c"+g++,styles:t.styles||k,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=mt(t.inputs,r),o.outputs=mt(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(N).filter(ne):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Et).filter(ne):null,o})}function N(t){return It(t)||bt(t)}function ne(t){return null!==t}function ie(t){return Nn(()=>({type:t.type,bootstrap:t.bootstrap||k,declarations:t.declarations||k,imports:t.imports||k,exports:t.exports||k,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mt(t,n){if(null==t)return w;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const ce=y;function ct(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[j]||null}function bt(t){return t[be]||null}function Et(t){return t[we]||null}function Gn(t,n){const e=t[Ce]||null;if(!e&&!0===n)throw new Error(`Type ${Un(t)} does not have '\u0275mod' property.`);return e}function Go(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mi(t){return Array.isArray(t)&&!0===t[1]}function ic(t){return 0!=(8&t.flags)}function Dl(t){return 2==(2&t.flags)}function Il(t){return 1==(1&t.flags)}function Ti(t){return null!==t.template}function cf(t){return 0!=(256&t[2])}function Fs(t,n){return t.hasOwnProperty(ut)?t[ut]:null}class ff{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function vo(){return yu}function yu(t){return t.type.prototype.ngOnChanges&&(t.setInput=hf),pf}function pf(){const t=vu(this),n=t?.current;if(n){const e=t.previous;if(e===w)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function hf(t,n,e,r){const o=vu(t)||function mf(t,n){return t[_u]=n}(t,{previous:w,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new ff(c&&c.currentValue,n,s===w),t[r]=n}vo.ngInherit=!0;const _u="__ngSimpleChanges__";function vu(t){return t[_u]||null}function Xr(t){for(;Array.isArray(t);)t=t[0];return t}function kl(t,n){return Xr(n[t])}function ii(t,n){return Xr(n[t.index])}function uc(t,n){return t.data[n]}function ua(t,n){return t[n]}function si(t,n){const e=n[t];return Go(e)?e:e[0]}function Ml(t){return 64==(64&t[2])}function _s(t,n){return null==n?null:t[n]}function bu(t){t[18]=0}function dc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const Cn={lFrame:je(null),bindingsEnabled:!0};function pm(){return Cn.bindingsEnabled}function ht(){return Cn.lFrame.lView}function zn(){return Cn.lFrame.tView}function xt(t){return Cn.lFrame.contextLView=t,t[8]}function Wt(t){return Cn.lFrame.contextLView=null,t}function hn(){let t=Ef();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ef(){return Cn.lFrame.currentTNode}function ds(t,n){const e=Cn.lFrame;e.currentTNode=t,e.isParent=n}function Cu(){return Cn.lFrame.isParent}function Su(){Cn.lFrame.isParent=!1}function Mn(){return Cn.lFrame.bindingIndex}function Qr(){return Cn.lFrame.bindingIndex++}function Gr(t){const n=Cn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function zr(t,n){const e=Cn.lFrame;e.bindingIndex=e.bindingRootIndex=t,ln(n)}function ln(t){Cn.lFrame.currentDirectiveIndex=t}function h(){return Cn.lFrame.currentQueryIndex}function b(t){Cn.lFrame.currentQueryIndex=t}function P(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function U(t,n,e){if(e&Kt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Kt.Host||(o=P(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=Cn.lFrame=Ae();return r.currentTNode=n,r.lView=t,!0}function ke(t){const n=Ae(),e=t[1];Cn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Ae(){const t=Cn.lFrame,n=null===t?null:t.child;return null===n?je(t):n}function je(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Dt(){const t=Cn.lFrame;return Cn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const cn=Dt;function Tn(){const t=Dt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $t(){return Cn.lFrame.selectedIndex}function En(t){Cn.lFrame.selectedIndex=t}function xn(){const t=Cn.lFrame;return uc(t.tView,t.selectedIndex)}function li(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:m}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),d&&((t.viewHooks||(t.viewHooks=[])).push(e,d),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,d)),null!=m&&(t.destroyHooks||(t.destroyHooks=[])).push(e,m)}}function Wr(t,n,e){Qv(t,n,3,e)}function Df(t,n,e,r){(3&t[2])===e&&Qv(t,n,e,r)}function mm(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Qv(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(xM(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function xM(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Eu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function If(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];e0(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function Jv(t){return 3===t||4===t||6===t}function e0(t){return 64===t.charCodeAt(0)}function kf(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||t0(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function t0(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function n0(t){return-1!==t}function pc(t){return 32767&t}function hc(t,n){let e=function OM(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let ym=!0;function Mf(t){const n=ym;return ym=t,n}let NM=0;const Os={};function Iu(t,n){const e=vm(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,_m(r.data,t),_m(n,null),_m(r.blueprint,null));const o=Tf(t,n),i=t.injectorIndex;if(n0(o)){const s=pc(o),a=hc(o,n),c=a[1].data;for(let d=0;d<8;d++)n[i+d]=a[s+d]|c[s+d]}return n[i+8]=o,i}function _m(t,n){t.push(0,0,0,0,0,0,0,0,n)}function vm(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Tf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=f0(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function xf(t,n,e){!function LM(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(f)&&(r=e[f]),null==r&&(r=e[f]=NM++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function s0(t,n,e){if(e&Kt.Optional||void 0!==t)return t;jt()}function a0(t,n,e,r){if(e&Kt.Optional&&void 0===r&&(r=null),0==(e&(Kt.Self|Kt.Host))){const o=t[9],i=eo(void 0);try{return o?o.get(n,r,e&Kt.Optional):sa(n,r,e&Kt.Optional)}finally{eo(i)}}return s0(r,0,e)}function l0(t,n,e,r=Kt.Default,o){if(null!==t){if(1024&n[2]){const s=function jM(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=c0(i,s,e,r|Kt.Self,Os);if(a!==Os)return a;let c=i.parent;if(!c){const d=s[21];if(d){const m=d.get(e,Os,r);if(m!==Os)return m}c=f0(s),s=s[15]}i=c}return o}(t,n,e,r,Os);if(s!==Os)return s}const i=c0(t,n,e,r,Os);if(i!==Os)return i}return a0(n,e,r,o)}function c0(t,n,e,r,o){const i=function VM(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(f)?t[f]:void 0;return"number"==typeof n?n>=0?255&n:HM:n}(e);if("function"==typeof i){if(!U(n,t,r))return r&Kt.Host?s0(o,0,r):a0(n,e,r,o);try{const s=i(r);if(null!=s||r&Kt.Optional)return s;jt()}finally{cn()}}else if("number"==typeof i){let s=null,a=vm(t,n),c=-1,d=r&Kt.Host?n[16][6]:null;for((-1===a||r&Kt.SkipSelf)&&(c=-1===a?Tf(t,n):n[a+8],-1!==c&&d0(r,!1)?(s=n[1],a=pc(c),n=hc(c,n)):a=-1);-1!==a;){const m=n[1];if(u0(i,a,m.data)){const _=BM(a,n,e,s,r,d);if(_!==Os)return _}c=n[a+8],-1!==c&&d0(r,n[1].data[a+8]===d)&&u0(i,a,n)?(s=m,a=pc(c),n=hc(c,n)):a=-1}}return o}function BM(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],m=Af(a,s,e,null==r?Dl(a)&&ym:r!=s&&0!=(3&a.type),o&Kt.Host&&i===a);return null!==m?ku(n,s,m,a):Os}function Af(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,m=i>>20,I=o?a+m:t.directiveEnd;for(let A=r?a:a+m;A<I;A++){const Y=s[A];if(A<c&&e===Y||A>=c&&Y.type===e)return A}if(o){const A=s[c];if(A&&Ti(A)&&A.type===e)return c}return null}function ku(t,n,e,r){let o=t[e];const i=n.data;if(function AM(t){return t instanceof Eu}(o)){const s=o;s.resolving&&function et(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new oe(-200,`Circular dependency in DI detected for ${t}${e}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(i[e]));const a=Mf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?eo(s.injectImpl):null;U(t,r,Kt.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Tr(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=yu(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&eo(c),Mf(a),s.resolving=!1,cn()}}return o}function u0(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function d0(t,n){return!(t&Kt.Self||t&Kt.Host&&n)}class mc{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return l0(this._tNode,this._lView,n,r,e)}}function HM(){return new mc(hn(),ht())}function Wo(t){return Nn(()=>{const n=t.prototype.constructor,e=n[ut]||bm(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[ut]||bm(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function bm(t){return ge(t)?()=>{const n=bm(F(t));return n&&n()}:Fs(t)}function f0(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function xl(t){return function $M(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(Jv(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(hn(),t)}const yc="__parameters__";function vc(t,n,e){return Nn(()=>{const r=function wm(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,d,m){const _=c.hasOwnProperty(yc)?c[yc]:Object.defineProperty(c,yc,{value:[]})[yc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class dn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=vt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Yi(r,n)):n!==t&&n.push(r)}return n}function da(t,n){t.forEach(e=>Array.isArray(e)?da(e,n):n(e))}function h0(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Pf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function xu(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Xi(t,n,e){let r=bc(t,n);return r>=0?t[1|r]=e:(r=~r,function WM(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Sm(t,n){const e=bc(t,n);if(e>=0)return t[1|e]}function bc(t,n){return function y0(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Au={},Dm="__NG_DI_FLAG__",Ff="ngTempTokenPath",eT=/\n/gm,_0="__source";let Pu;function wc(t){const n=Pu;return Pu=t,n}function nT(t,n=Kt.Default){if(void 0===Pu)throw new oe(-203,!1);return null===Pu?sa(t,void 0,n):Pu.get(t,n&Kt.Optional?null:void 0,n)}function De(t,n=Kt.Default){return(function wl(){return ia}()||nT)(F(t),n)}function uo(t,n=Kt.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),De(t,n)}function Im(t){const n=[];for(let e=0;e<t.length;e++){const r=F(t[e]);if(Array.isArray(r)){if(0===r.length)throw new oe(900,!1);let o,i=Kt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=rT(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(De(o,i))}else n.push(De(r))}return n}function Ru(t,n){return t[Dm]=n,t.prototype[Dm]=n,t}function rT(t){return t[Dm]}const Fu=Ru(vc("Optional"),8),Ou=Ru(vc("SkipSelf"),4);var Ai=(()=>((Ai=Ai||{})[Ai.Important=1]="Important",Ai[Ai.DashCase=2]="DashCase",Ai))();const Am=new Map;let wT=0;const Rm="__ngContext__";function ci(t,n){Go(n)?(t[Rm]=n[20],function ST(t){Am.set(t[20],t)}(n)):t[Rm]=n}function Om(t,n){return undefined(t,n)}function Bu(t){const n=t[3];return Mi(n)?n[3]:n}function Nm(t){return B0(t[13])}function Lm(t){return B0(t[4])}function B0(t){for(;null!==t&&!Mi(t);)t=t[4];return t}function Sc(t,n,e,r,o){if(null!=r){let i,s=!1;Mi(r)?i=r:Go(r)&&(s=!0,r=r[0]);const a=Xr(r);0===t&&null!==e?null==o?z0(n,e,a):Al(n,e,a,o||null,!0):1===t&&null!==e?Al(n,e,a,o||null,!0):2===t?function Gm(t,n,e){const r=Lf(t,n);r&&function zT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function ZT(t,n,e,r,o){const i=e[7];i!==Xr(e)&&Sc(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Vu(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function Bm(t,n,e){return t.createElement(n,e)}function H0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,dc(o,-1)),e.splice(r,1)}function Vm(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&H0(o,r),n>0&&(t[e-1][4]=r[4]);const i=Pf(t,10+n);!function LT(t,n){Vu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function j0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Vu(t,n,e,3,null,null),function VT(t){let n=t[13];if(!n)return Hm(t[1],t);for(;n;){let e=null;if(Go(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)Go(n)&&Hm(n[1],n),n=n[3];null===n&&(n=t),Go(n)&&Hm(n[1],n),e=n&&n[4]}n=e}}(n)}}function Hm(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function GT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof Eu)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function UT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):Xr(n[s]),c=r[o=e[i+2]],d=e[i+3];"boolean"==typeof d?a.removeEventListener(e[i],c,d):d>=0?r[o=d]():r[o=-d].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&Mi(n[3])){e!==n[3]&&H0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function ET(t){Am.delete(t[20])}(n)}}function U0(t,n,e){return function G0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===or.None||o===or.Emulated)return null}return ii(r,e)}(t,n.parent,e)}function Al(t,n,e,r,o){t.insertBefore(n,e,r,o)}function z0(t,n,e){t.appendChild(n,e)}function W0(t,n,e,r,o){null!==r?Al(t,n,e,r,o):z0(t,n,e)}function Lf(t,n){return t.parentNode(n)}function q0(t,n,e){return K0(t,n,e)}let Vf,Zm,K0=function Z0(t,n,e){return 40&t.type?ii(t,e):null};function $f(t,n,e,r){const o=U0(t,r,n),i=n[11],a=q0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)W0(i,o,e[c],a,!1);else W0(i,o,e,a,!1)}function Bf(t,n){if(null!==n){const e=n.type;if(3&e)return ii(n,t);if(4&e)return Um(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Bf(t,r);{const o=t[n.index];return Mi(o)?Um(-1,o):Xr(o)}}if(32&e)return Om(n,t)()||Xr(t[n.index]);{const r=X0(t,n);return null!==r?Array.isArray(r)?r[0]:Bf(Bu(t[16]),r):Bf(t,n.next)}}return null}function X0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Um(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return Bf(r,o)}return n[7]}function zm(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&ci(Xr(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)zm(t,n,e.child,r,o,i,!1),Sc(n,t,o,a,i);else if(32&c){const d=Om(e,r);let m;for(;m=d();)Sc(n,t,o,m,i);Sc(n,t,o,a,i)}else 16&c?Q0(t,n,r,e,o,i):Sc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Vu(t,n,e,r,o,i){zm(e,r,t.firstChild,n,o,i,!1)}function Q0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Sc(n,t,o,c[d],i);else zm(t,n,c,s[3],o,i,!0)}function J0(t,n,e){t.setAttribute(n,"style",e)}function Wm(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Pl(t){return function qm(){if(void 0===Vf&&(Vf=null,pn.trustedTypes))try{Vf=pn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vf}()?.createHTML(t)||t}class Rl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ex extends Rl{getTypeName(){return"HTML"}}class tx extends Rl{getTypeName(){return"Style"}}class nx extends Rl{getTypeName(){return"Script"}}class rx extends Rl{getTypeName(){return"URL"}}class ox extends Rl{getTypeName(){return"ResourceURL"}}function Qi(t){return t instanceof Rl?t.changingThisBreaksApplicationSecurity:t}function Ns(t,n){const e=function ix(t){return t instanceof Rl&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class dx{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Pl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class fx{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pl(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Pl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const hx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function jf(t){return(t=String(t)).match(hx)?t:"unsafe:"+t}function fa(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Hu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const ib=fa("area,br,col,hr,img,wbr"),sb=fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ab=fa("rp,rt"),Ym=Hu(ib,Hu(sb,fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hu(ab,fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hu(ab,sb)),Xm=fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lb=Hu(Xm,fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mx=fa("script,style,template");class gx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Ym.hasOwnProperty(e))return this.sanitizedSomething=!0,!mx.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!lb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Xm[a]&&(c=jf(c)),this.buf.push(" ",s,'="',cb(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Ym.hasOwnProperty(e)&&!ib.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(cb(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const yx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_x=/([^\#-~ |!])/g;function cb(t){return t.replace(/&/g,"&amp;").replace(yx,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(_x,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uf;function ub(t,n){let e=null;try{Uf=Uf||function ob(t){const n=new fx(t);return function px(){try{return!!(new window.DOMParser).parseFromString(Pl(""),"text/html")}catch{return!1}}()?new dx(n):n}(t);let r=n?String(n):"";e=Uf.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Uf.getInertBodyElement(r)}while(r!==i);return Pl((new gx).sanitizeChildren(Qm(e)||e))}finally{if(e){const r=Qm(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Qm(t){return"content"in t&&function vx(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();const eg=new dn("ENVIRONMENT_INITIALIZER"),fb=new dn("INJECTOR",-1),pb=new dn("INJECTOR_DEF_TYPES");class hb{get(n,e=Au){if(e===Au){const r=new Error(`NullInjectorError: No provider for ${Un(n)}!`);throw r.name="NullInjectorError",r}return e}}function kx(...t){return{\u0275providers:mb(0,t)}}function mb(t,...n){const e=[],r=new Set;let o;return da(n,i=>{const s=i;tg(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&gb(o,e),e}function gb(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];da(o,i=>{n.push(i)})}}function tg(t,n,e,r){if(!(t=F(t)))return!1;let o=null,i=As(t);const s=!i&&It(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=As(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)tg(d,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let d;r.add(o);try{da(i.imports,m=>{tg(m,n,e,r)&&(d||(d=[]),d.push(m))})}finally{}void 0!==d&&gb(d,n)}if(!a){const d=Fs(o)||(()=>new o);n.push({provide:o,useFactory:d,deps:k},{provide:pb,useValue:o,multi:!0},{provide:eg,useValue:()=>De(o),multi:!0})}const c=i.providers;null==c||a||da(c,m=>{n.push(m)})}}return o!==t&&void 0!==t.providers}const Mx=On({provide:String,useValue:On});function ng(t){return null!==t&&"object"==typeof t&&Mx in t}function Fl(t){return"function"==typeof t}const rg=new dn("Set Injector scope."),Gf={},xx={};let og;function zf(){return void 0===og&&(og=new hb),og}class Za{}class vb extends Za{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sg(n,s=>this.processProvider(s)),this.records.set(fb,Ec(void 0,this)),o.has("environment")&&this.records.set(Za,Ec(void 0,this));const i=this.records.get(rg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(pb.multi,k,Kt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=wc(this),r=eo(void 0);try{return n()}finally{wc(e),eo(r)}}get(n,e=Au,r=Kt.Default){this.assertNotDestroyed();const o=wc(this),i=eo(void 0);try{if(!(r&Kt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function Ox(t){return"function"==typeof t||"object"==typeof t&&t instanceof dn}(n)&&ls(n);a=c&&this.injectableDefInScope(c)?Ec(ig(n),Gf):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Kt.Self?zf():this.parent).get(n,e=r&Kt.Optional&&e===Au?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Ff]=s[Ff]||[]).unshift(Un(n)),o)throw s;return function oT(t,n,e,r){const o=t[Ff];throw n[_0]&&o.unshift(n[_0]),t.message=function iT(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Un(n);if(Array.isArray(n))o=n.map(Un).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Un(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(eT,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[Ff]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{eo(i),wc(o)}}resolveInjectorInitializers(){const n=wc(this),e=eo(void 0);try{const r=this.get(eg.multi,k,Kt.Self);for(const o of r)o()}finally{wc(n),eo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Un(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(n){let e=Fl(n=F(n))?n:F(n&&n.provide);const r=function Px(t){return ng(t)?Ec(void 0,t.useValue):Ec(bb(t),Gf)}(n);if(Fl(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Ec(void 0,Gf,!0),o.factory=()=>Im(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Gf&&(e.value=xx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Fx(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=F(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function ig(t){const n=ls(t),e=null!==n?n.factory:Fs(t);if(null!==e)return e;if(t instanceof dn)throw new oe(204,!1);if(t instanceof Function)return function Ax(t){const n=t.length;if(n>0)throw xu(n,"?"),new oe(204,!1);const e=function Ha(t){const n=t&&(t[Zi]||t[Yr]);if(n){const e=function cs(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new oe(204,!1)}function bb(t,n,e){let r;if(Fl(t)){const o=F(t);return Fs(o)||ig(o)}if(ng(t))r=()=>F(t.useValue);else if(function _b(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Im(t.deps||[]));else if(function yb(t){return!(!t||!t.useExisting)}(t))r=()=>De(F(t.useExisting));else{const o=F(t&&(t.useClass||t.provide));if(!function Rx(t){return!!t.deps}(t))return Fs(o)||ig(o);r=()=>new o(...Im(t.deps))}return r}function Ec(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Nx(t){return!!t.\u0275providers}function sg(t,n){for(const e of t)Array.isArray(e)?sg(e,n):Nx(e)?sg(e.\u0275providers,n):n(e)}class wb{}class Bx{resolveComponentFactory(n){throw function $x(t){const n=Error(`No component factory found for ${Un(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let pa=(()=>{class t{}return t.NULL=new Bx,t})();function Vx(){return Dc(hn(),ht())}function Dc(t,n){return new yt(ii(t,n))}let yt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=Vx,t})();function Hx(t){return t instanceof yt?t.nativeElement:t}class Sb{}let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function jx(){const t=ht(),e=si(hn().index,t);return(Go(e)?e:t)[11]}(),t})(),Ux=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>null}),t})();class Uu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Gx=new Uu("14.2.12"),ag={};function cg(t){return t.ngOriginalError}class Ic{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&cg(n);for(;e&&cg(e);)e=cg(e);return e||null}}function ma(t){return t instanceof Function?t():t}function Db(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const Ib="ng-template";function tA(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==Db(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function kb(t){return 4===t.type&&t.value!==Ib}function nA(t,n,e){return n===(4!==t.type||e?t.value:Ib)}function rA(t,n,e){let r=4;const o=t.attrs||[],i=function sA(t){for(let n=0;n<t.length;n++)if(Jv(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!nA(t,c,e)||""===c&&1===n.length){if(vs(r))return!1;s=!0}}else{const d=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!tA(t.attrs,d,e)){if(vs(r))return!1;s=!0}continue}const _=oA(8&r?"class":c,o,kb(t),e);if(-1===_){if(vs(r))return!1;s=!0;continue}if(""!==d){let I;I=_>i?"":o[_+1].toLowerCase();const A=8&r?I:null;if(A&&-1!==Db(A,d,0)||2&r&&d!==I){if(vs(r))return!1;s=!0}}}}else{if(!s&&!vs(r)&&!vs(c))return!1;if(s&&vs(c))continue;s=!1,r=c|1&r}}return vs(r)||s}function vs(t){return 0==(1&t)}function oA(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function aA(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Mb(t,n,e=!1){for(let r=0;r<n.length;r++)if(rA(t,n[r],e))return!0;return!1}function lA(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Tb(t,n){return t?":not("+n.trim()+")":n}function cA(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!vs(s)&&(n+=Tb(i,o),o=""),r=s,i=i||!vs(r);e++}return""!==o&&(n+=Tb(i,o)),n}const An={};function tt(t){xb(zn(),ht(),$t()+t,!1)}function xb(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&Wr(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Df(n,i,0,e)}En(e)}function Fb(t,n=null,e=null,r){const o=Ob(t,n,e,r);return o.resolveInjectorInitializers(),o}function Ob(t,n=null,e=null,r,o=new Set){const i=[e||k,kx(t)];return r=r||("object"==typeof t?void 0:Un(t)),new vb(i,n||zf(),r||null,o)}let Br=(()=>{class t{static create(e,r){if(Array.isArray(e))return Fb({name:""},r,e,"");{const o=e.name??"";return Fb({name:o},e.parent,e.providers,o)}}}return t.THROW_IF_NOT_FOUND=Au,t.NULL=new hb,t.\u0275prov=vt({token:t,providedIn:"any",factory:()=>De(fb)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,n=Kt.Default){const e=ht();return null===e?De(t,n):l0(hn(),e,F(t),n)}function hg(){throw new Error("invalid")}function qf(t,n){return t<<17|n<<2}function bs(t){return t>>17&32767}function mg(t){return 2|t}function ga(t){return(131068&t)>>2}function gg(t,n){return-131069&t|n<<2}function yg(t){return 1|t}function Qb(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];b(o),s.contentQueries(2,n[i],i)}}}function Yf(t,n,e,r,o,i,s,a,c,d,m){const _=n.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||t&&1024&t[2])&&(_[2]|=1024),bu(_),_[3]=_[15]=t,_[8]=e,_[10]=s||t&&t[10],_[11]=a||t&&t[11],_[12]=c||t&&t[12]||null,_[9]=d||t&&t[9]||null,_[6]=i,_[20]=function CT(){return wT++}(),_[21]=m,_[16]=2==n.type?t[16]:_,_}function Tc(t,n,e,r,o){let i=t.data[n];if(null===i)i=function Dg(t,n,e,r,o){const i=Ef(),s=Cu(),c=t.data[n]=function zA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function ai(){return Cn.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function Tl(){const t=Cn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ds(i,!0),i}function xc(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Ig(t,n,e){ke(n);try{const r=t.viewQuery;null!==r&&Fg(1,r,e);const o=t.template;null!==o&&Jb(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Qb(t,n),t.staticViewQueries&&Fg(2,t.viewQuery,e);const i=t.components;null!==i&&function jA(t,n){for(let e=0;e<n.length;e++)aP(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Tn()}}function Xf(t,n,e,r){const o=n[2];if(128!=(128&o)){ke(n);try{bu(n),function wr(t){return Cn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Jb(t,n,e,2,r);const s=3==(3&o);if(s){const d=t.preOrderCheckHooks;null!==d&&Wr(n,d,null)}else{const d=t.preOrderHooks;null!==d&&Df(n,d,0,null),mm(n,0)}if(function iP(t){for(let n=Nm(t);null!==n;n=Lm(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&dc(i,1),o[2]|=512}}}(n),function oP(t){for(let n=Nm(t);null!==n;n=Lm(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];Ml(r)&&Xf(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&Qb(t,n),s){const d=t.contentCheckHooks;null!==d&&Wr(n,d)}else{const d=t.contentHooks;null!==d&&Df(n,d,1),mm(n,1)}!function VA(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)En(~o);else{const i=o,s=e[++r],a=e[++r];zr(s,i),a(2,n[i])}}}finally{En(-1)}}(t,n);const a=t.components;null!==a&&function HA(t,n){for(let e=0;e<n.length;e++)sP(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&Fg(2,c,r),s){const d=t.viewCheckHooks;null!==d&&Wr(n,d)}else{const d=t.viewHooks;null!==d&&Df(n,d,2),mm(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,dc(n[3],-1))}finally{Tn()}}}function Jb(t,n,e,r,o){const i=$t(),s=2&r;try{En(-1),s&&n.length>22&&xb(t,n,22,!1),e(r,o)}finally{En(i)}}function ew(t,n,e){if(ic(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function kg(t,n,e){!pm()||(function YA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||Iu(e,n),ci(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],d=Ti(c);d&&tP(n,e,c);const m=ku(n,t,a,e);ci(m,n),null!==s&&nP(0,a-o,m,c,0,s),d&&(si(e.index,n)[8]=m)}}(t,n,e,ii(e,n)),128==(128&e.flags)&&function XA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function to(){return Cn.lFrame.currentDirectiveIndex}();try{En(i);for(let a=r;a<o;a++){const c=t.data[a],d=n[a];ln(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&aw(c,d)}}finally{En(-1),ln(s)}}(t,n,e))}function Mg(t,n,e=ii){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function tw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Tg(t,n,e,r,o,i,s,a,c,d){const m=22+r,_=m+o,I=function UA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:An);return e}(m,_),A="function"==typeof d?d():d;return I[1]={type:t,blueprint:I,template:e,queries:null,viewQuery:a,declTNode:n,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:A,incompleteFirstPass:!1}}function nw(t,n,e,r){const o=fw(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&pw(t).push(r,o.length-1))}function rw(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function ow(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let d=n.directiveStart;d<r;d++){const m=o[d],_=m.inputs,I=null===i||kb(n)?null:rP(_,i);s.push(I),a=rw(_,d,a),c=rw(m.outputs,d,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}function Ji(t,n,e,r,o,i,s,a){const c=ii(n,e);let m,d=n.inputs;!a&&null!=d&&(m=d[r])?(Og(t,e,m,r,o),Dl(n)&&iw(e,n.index)):3&n.type&&(r=function WA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}function iw(t,n){const e=si(n,t);16&e[2]||(e[2]|=32)}function xg(t,n,e,r){let o=!1;if(pm()){const i=function QA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Mb(e,s.selectors,!1)&&(o||(o=[]),xf(Iu(e,n),t,s.type),Ti(s)?(lw(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,cw(e,t.data.length,i.length);for(let m=0;m<i.length;m++){const _=i[m];_.providersResolver&&_.providersResolver(_)}let a=!1,c=!1,d=xc(t,n,i.length,null);for(let m=0;m<i.length;m++){const _=i[m];e.mergedAttrs=kf(e.mergedAttrs,_.hostAttrs),uw(t,e,n,d,_),eP(d,_,s),null!==_.contentQueries&&(e.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=128);const I=_.type.prototype;!a&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),d++}ow(t,e)}s&&function JA(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new oe(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=kf(e.mergedAttrs,e.attrs),o}function sw(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function KA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function aw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function lw(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function eP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Ti(n)&&(e[""]=t)}}function cw(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function uw(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Fs(o.type)),s=new Eu(i,Ti(o),C);t.blueprint[r]=s,e[r]=s,sw(t,n,0,r,xc(t,e,o.hostVars,An),o)}function tP(t,n,e){const r=ii(n,t),o=tw(e),i=t[10],s=Qf(t,Yf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Ls(t,n,e,r,o,i){const s=ii(t,n);!function Ag(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?Z(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function nP(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const d=s[c++],m=s[c++],_=s[c++];null!==a?r.setInput(e,_,d,m):e[m]=_}}}function rP(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function dw(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function sP(t,n){const e=si(n,t);if(Ml(e)){const r=e[1];48&e[2]?Xf(r,e,r.template,e[8]):e[5]>0&&Pg(e)}}function Pg(t){for(let r=Nm(t);null!==r;r=Lm(r))for(let o=10;o<r.length;o++){const i=r[o];if(Ml(i))if(512&i[2]){const s=i[1];Xf(s,i,s.template,i[8])}else i[5]>0&&Pg(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=si(e[r],t);Ml(o)&&o[5]>0&&Pg(o)}}function aP(t,n){const e=si(n,t),r=e[1];(function lP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Ig(r,e,e[8])}function Qf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Rg(t){for(;t;){t[2]|=32;const n=Bu(t);if(cf(t)&&!n)return t;t=n}return null}function Jf(t,n,e,r=!0){const o=n[10];o.begin&&o.begin();try{Xf(t,n,t.template,e)}catch(s){throw r&&mw(n,s),s}finally{o.end&&o.end()}}function Fg(t,n,e){b(0),n(t,e)}function fw(t){return t[7]||(t[7]=[])}function pw(t){return t.cleanup||(t.cleanup=[])}function mw(t,n){const e=t[9],r=e?e.get(Ic,null):null;r&&r.handleError(n)}function Og(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],d=t.data[s];null!==d.setInput?d.setInput(c,o,r,a):c[a]=o}}function ya(t,n,e){const r=kl(n,t);!function V0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function ep(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Di(o,a):2==i&&(r=Di(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function tp(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Xr(i)),Mi(i))for(let a=10;a<i.length;a++){const c=i[a],d=c[1].firstChild;null!==d&&tp(c[1],c,d,r)}const s=e.type;if(8&s)tp(t,n,e.child,r);else if(32&s){const a=Om(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=X0(n,e);if(Array.isArray(a))r.push(...a);else{const c=Bu(n[16]);tp(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class Gu{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return tp(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Mi(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Vm(n,r),Pf(e,r))}this._attachedToViewContainer=!1}j0(this._lView[1],this._lView)}onDestroy(n){nw(this._lView[1],this._lView,null,n)}markForCheck(){Rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BT(t,n){Vu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=n}}class cP extends Gu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Jf(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Ng extends pa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=It(n);return new zu(e,this.ngModule)}}function gw(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class dP{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,ag,r);return o!==ag||e===ag?o:this.parentInjector.get(n,e,r)}}class zu extends wb{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function uA(t){return t.map(cA).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return gw(this.componentDef.inputs)}get outputs(){return gw(this.componentDef.outputs)}create(n,e,r,o){let i=(o=o||this.ngModule)instanceof Za?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new dP(n,i):n,a=s.get(Sb,null);if(null===a)throw new oe(407,!1);const c=s.get(Ux,null),d=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function GA(t,n,e){return t.selectRootElement(n,e===or.ShadowDom)}(d,r,this.componentDef.encapsulation):Bm(d,m,function uP(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(m)),I=this.componentDef.onPush?288:272,A=Tg(0,null,null,1,0,null,null,null,null,null),Y=Yf(null,A,null,I,null,null,a,d,c,s,null);let Fe,Ke;ke(Y);try{const Je=function hP(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=Tc(s,22,2,"#host",null),d=c.mergedAttrs=n.hostAttrs;null!==d&&(ep(c,d,!0),null!==t&&(If(o,t,d),null!==c.classes&&Wm(o,t,c.classes),null!==c.styles&&J0(o,t,c.styles)));const m=r.createRenderer(t,n),_=Yf(e,tw(n),null,n.onPush?32:16,e[22],c,r,m,i||null,null,null);return s.firstCreatePass&&(xf(Iu(c,e),s,n.type),lw(s,c),cw(c,e.length,1)),Qf(e,_),e[22]=_}(_,this.componentDef,Y,a,d);if(_)if(r)If(d,_,["ng-version",Gx.full]);else{const{attrs:gt,classes:nt}=function dA(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!vs(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);gt&&If(d,_,gt),nt&&nt.length>0&&Wm(d,_,nt.join(" "))}if(Ke=uc(A,22),void 0!==e){const gt=Ke.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const pt=e[nt];gt.push(null!=pt?Array.from(pt):null)}}Fe=function mP(t,n,e,r){const o=e[1],i=function ZA(t,n,e){const r=hn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),uw(t,r,n,xc(t,n,1,null),e),ow(t,r));const o=ku(n,t,r.directiveStart,r);ci(o,n);const i=ii(r,n);return i&&ci(i,n),o}(o,e,n);if(t[8]=e[8]=i,null!==r)for(const a of r)a(i,n);if(n.contentQueries){const a=hn();n.contentQueries(1,i,a.directiveStart)}const s=hn();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(En(s.index),sw(e[1],s,0,s.directiveStart,s.directiveEnd,n),aw(n,i)),i}(Je,this.componentDef,Y,[gP]),Ig(A,Y,null)}finally{Tn()}return new pP(this.componentType,Fe,Dc(Ke,Y),Y,Ke)}}class pP extends class Lx{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new cP(o),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[n])){const i=this._rootLView;Og(i[1],i,o,n,e),iw(i,this._tNode.index)}}get injector(){return new mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function gP(){const t=hn();li(ht()[1],t)}function Jn(t){let n=function yw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Ti(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new oe(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=Lg(t.inputs),s.declaredInputs=Lg(t.declaredInputs),s.outputs=Lg(t.outputs);const a=o.hostBindings;a&&bP(t,a);const c=o.viewQuery,d=o.contentQueries;if(c&&_P(t,c),d&&vP(t,d),ri(t.inputs,o.inputs),ri(t.declaredInputs,o.declaredInputs),ri(t.outputs,o.outputs),Ti(o)&&o.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Jn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function yP(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=kf(o.hostAttrs,e=kf(e,o.hostAttrs))}}(r)}function Lg(t){return t===w?{}:t===k?[]:t}function _P(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function vP(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function bP(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let np=null;function Ol(){if(!np){const t=pn.Symbol;if(t&&t.iterator)np=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(np=r)}}}return np}function Wu(t){return!!function $g(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ol()in t)}function ui(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Nl(t,n,e,r){const o=ui(t,n,e);return ui(t,n+1,r)||o}function Bs(t,n,e,r){const o=ht();return ui(o,Qr(),n)&&(zn(),Ls(xn(),o,t,n,e,r)),Bs}function Pc(t,n,e,r){return ui(t,Qr(),e)?n+Z(e)+r:An}function Fc(t,n,e,r,o,i,s,a){const d=function rp(t,n,e,r,o){const i=Nl(t,n,e,r);return ui(t,n+2,o)||i}(t,Mn(),e,o,s);return Gr(3),d?n+Z(e)+r+Z(o)+i+Z(s)+a:An}function Qt(t,n,e,r,o,i,s,a){const c=ht(),d=zn(),m=t+22,_=d.firstCreatePass?function MP(t,n,e,r,o,i,s,a,c){const d=n.consts,m=Tc(n,t,4,s||null,_s(d,a));xg(n,e,m,_s(d,c)),li(n,m);const _=m.tViews=Tg(2,m,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d);return null!==n.queries&&(n.queries.template(n,m),_.queries=n.queries.embeddedTView(m)),m}(m,d,c,n,e,r,o,i,s):d.data[m];ds(_,!1);const I=c[11].createComment("");$f(d,c,I,_),ci(I,c),Qf(c,c[m]=dw(I,c,I,_)),Il(_)&&kg(d,c,_),null!=s&&Mg(c,_,a)}function es(t){return ua(function Oo(){return Cn.lFrame.contextLView}(),22+t)}function ot(t,n,e){const r=ht();return ui(r,Qr(),n)&&Ji(zn(),xn(),r,t,n,r[11],e,!1),ot}function Bg(t,n,e,r,o){const s=o?"class":"style";Og(t,e,n.inputs[s],s,r)}function re(t,n,e,r){const o=ht(),i=zn(),s=22+t,a=o[11],c=o[s]=Bm(a,n,function bo(){return Cn.lFrame.currentNamespace}()),d=i.firstCreatePass?function xP(t,n,e,r,o,i,s){const a=n.consts,d=Tc(n,t,2,o,_s(a,i));return xg(n,e,d,_s(a,s)),null!==d.attrs&&ep(d,d.attrs,!1),null!==d.mergedAttrs&&ep(d,d.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,d),d}(s,i,o,0,n,e,r):i.data[s];ds(d,!0);const m=d.mergedAttrs;null!==m&&If(a,c,m);const _=d.classes;null!==_&&Wm(a,c,_);const I=d.styles;return null!==I&&J0(a,c,I),64!=(64&d.flags)&&$f(i,o,c,d),0===function Sf(){return Cn.lFrame.elementDepthCount}()&&ci(c,o),function fm(){Cn.lFrame.elementDepthCount++}(),Il(d)&&(kg(i,o,d),ew(i,d,o)),null!==r&&Mg(o,d),re}function X(){let t=hn();Cu()?Su():(t=t.parent,ds(t,!1));const n=t;!function Xv(){Cn.lFrame.elementDepthCount--}();const e=zn();return e.firstCreatePass&&(li(e,t),ic(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function RM(t){return 0!=(16&t.flags)}(n)&&Bg(e,n,ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function FM(t){return 0!=(32&t.flags)}(n)&&Bg(e,n,ht(),n.stylesWithoutHost,!1),X}function dt(t,n,e,r){return re(t,n,e,r),X(),dt}function Zu(t,n,e){const r=ht(),o=zn(),i=t+22,s=o.firstCreatePass?function AP(t,n,e,r,o){const i=n.consts,s=_s(i,r),a=Tc(n,t,8,"ng-container",s);return null!==s&&ep(a,s,!0),xg(n,e,a,_s(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];ds(s,!0);const a=r[i]=r[11].createComment("");return $f(o,r,a,s),ci(a,r),Il(s)&&(kg(o,r,s),ew(o,s,r)),null!=e&&Mg(r,s),Zu}function Ku(){let t=hn();const n=zn();return Cu()?Su():(t=t.parent,ds(t,!1)),n.firstCreatePass&&(li(n,t),ic(t)&&n.queries.elementEnd(t)),Ku}function gr(){return ht()}function Yu(t){return!!t&&"function"==typeof t.then}function kw(t){return!!t&&"function"==typeof t.subscribe}const Vg=kw;function at(t,n,e,r){const o=ht(),i=zn(),s=hn();return function Tw(t,n,e,r,o,i,s,a){const c=Il(r),m=t.firstCreatePass&&pw(t),_=n[8],I=fw(n);let A=!0;if(3&r.type||a){const Ke=ii(r,n),Je=a?a(Ke):Ke,gt=I.length,nt=a?nn=>a(Xr(nn[r.index])):r.index;let pt=null;if(!a&&c&&(pt=function PP(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=i,pt.__ngLastListenerFn__=i,A=!1;else{i=Aw(r,n,_,i,!1);const nn=e.listen(Je,o,i);I.push(i,nn),m&&m.push(o,nt,gt,gt+1)}}else i=Aw(r,n,_,i,!1);const Y=r.outputs;let Fe;if(A&&null!==Y&&(Fe=Y[o])){const Ke=Fe.length;if(Ke)for(let Je=0;Je<Ke;Je+=2){const wn=n[Fe[Je]][Fe[Je+1]].subscribe(i),po=I.length;I.push(i,wn),m&&m.push(o,r.index,po,-(po+1))}}}(i,o,o[11],s,t,n,0,r),at}function xw(t,n,e,r){try{return!1!==e(r)}catch(o){return mw(t,o),!1}}function Aw(t,n,e,r,o){return function i(s){if(s===Function)return r;Rg(2&t.flags?si(t.index,n):n);let c=xw(n,0,r,s),d=i.__ngNextListenerFn__;for(;d;)c=xw(n,0,d,s)&&c,d=d.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Bt(t=1){return function Wn(t){return(Cn.lFrame.contextLView=function on(t,n){for(;t>0;)n=n[15],t--;return n}(t,Cn.lFrame.contextLView))[8]}(t)}function RP(t,n){let e=null;const r=function iA(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?Mb(t,i,!0):lA(r,i))return o}else e=o}return e}function Pt(t){const n=ht()[16][6];if(!n.projection){const r=n.projection=xu(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?RP(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(t,n=0,e){const r=ht(),o=zn(),i=Tc(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),Su(),64!=(64&i.flags)&&function qT(t,n,e){Q0(n[11],0,n,e,U0(t,e,n),q0(e.parent||n[6],e,n))}(o,r,i)}function ip(t,n,e,r,o){const i=ht(),s=Pc(i,n,e,r);return s!==An&&Ji(zn(),xn(),i,t,s,i[11],o,!1),ip}function Hw(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?bs(i):ga(i),c=!1;for(;0!==a&&(!1===c||s);){const m=t[a+1];NP(t[a],n)&&(c=!0,t[a+1]=r?yg(m):mg(m)),a=r?bs(m):ga(m)}c&&(t[e+1]=r?mg(i):yg(i))}function NP(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&bc(t,n)>=0}function Xu(t,n,e){return ws(t,n,e,!1),Xu}function _a(t,n){return ws(t,n,null,!0),_a}function ws(t,n,e,r){const o=ht(),i=zn(),s=Gr(2);i.firstUpdatePass&&function Kw(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[$t()],s=function Zw(t,n){return n>=t.expandoStartIndex}(t,e);(function Jw(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function zP(t,n,e,r){const o=function l(t){const n=Cn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Qu(e=Hg(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=Hg(o,t,n,e,r),null===i){let c=function WP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ga(r))return t[bs(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=Hg(null,t,n,c[1],r),c=Qu(c,n.attrs,r),function qP(t,n,e,r){t[bs(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function ZP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Qu(r,t[i].hostAttrs,e);return Qu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function FP(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=bs(s),c=ga(s);t[r]=e;let m,d=!1;if(Array.isArray(e)){const _=e;m=_[1],(null===m||bc(_,m)>0)&&(d=!0)}else m=e;if(o)if(0!==c){const I=bs(t[a+1]);t[r+1]=qf(I,a),0!==I&&(t[I+1]=gg(t[I+1],r)),t[a+1]=function xA(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=qf(a,0),0!==a&&(t[a+1]=gg(t[a+1],r)),a=r;else t[r+1]=qf(c,0),0===a?a=r:t[c+1]=gg(t[c+1],r),c=r;d&&(t[r+1]=mg(t[r+1])),Hw(t,m,r,!0),Hw(t,m,r,!1),function OP(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&bc(i,n)>=0&&(e[r+1]=yg(e[r+1]))}(n,m,t,r,i),s=qf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==An&&ui(o,s,n)&&function Xw(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,d=c[a+1];sp(function Gb(t){return 1==(1&t)}(d)?Qw(c,n,e,o,ga(d),s):void 0)||(sp(i)||function Ub(t){return 2==(2&t)}(d)&&(i=Qw(c,null,e,o,a,s)),function KT(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Ai.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ai.Important),t.setStyle(e,r,o,i))}}(r,s,kl($t(),e),o,i))}(i,i.data[$t()],o,o[11],t,o[s+1]=function XP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Un(Qi(t)))),t}(n,e),r,s)}function Hg(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Qu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Qu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xi(t,s,!!e||n[++i]))}return void 0===t?null:t}function Qw(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],d=Array.isArray(c),m=d?c[1]:c,_=null===m;let I=e[o+1];I===An&&(I=_?k:void 0);let A=_?Sm(I,r):m===r?I:void 0;if(d&&!sp(A)&&(A=Sm(c,r)),sp(A)&&(a=A,s))return a;const Y=t[o+1];o=s?bs(Y):ga(Y)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=Sm(c,r))}return a}function sp(t){return void 0!==t}function Ze(t,n=""){const e=ht(),r=zn(),o=t+22,i=r.firstCreatePass?Tc(r,o,1,n,null):r.data[o],s=e[o]=function $m(t,n){return t.createText(n)}(e[11],n);$f(r,e,s,i),ds(i,!1)}function ts(t){return di("",t,""),ts}function di(t,n,e){const r=ht(),o=Pc(r,t,n,e);return o!==An&&ya(r,$t(),o),di}function Ju(t,n,e,r,o){const i=ht(),s=function Rc(t,n,e,r,o,i){const a=Nl(t,Mn(),e,o);return Gr(2),a?n+Z(e)+r+Z(o)+i:An}(i,t,n,e,r,o);return s!==An&&ya(i,$t(),s),Ju}function jg(t,n,e,r,o,i,s){const a=ht(),c=Fc(a,t,n,e,r,o,i,s);return c!==An&&ya(a,$t(),c),jg}const jc="en-US";let vC=jc;function zg(t,n,e,r,o){if(t=F(t),Array.isArray(t))for(let i=0;i<t.length;i++)zg(t[i],n,e,r,o);else{const i=zn(),s=ht();let a=Fl(t)?t:F(t.provide),c=bb(t);const d=hn(),m=1048575&d.providerIndexes,_=d.directiveStart,I=d.providerIndexes>>20;if(Fl(t)||!t.multi){const A=new Eu(c,o,C),Y=qg(a,n,o?m:m+I,_);-1===Y?(xf(Iu(d,s),i,a),Wg(i,t,n.length),n.push(a),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(A),s.push(A)):(e[Y]=A,s[Y]=A)}else{const A=qg(a,n,m+I,_),Y=qg(a,n,m,m+I),Fe=A>=0&&e[A],Ke=Y>=0&&e[Y];if(o&&!Ke||!o&&!Fe){xf(Iu(d,s),i,a);const Je=function m2(t,n,e,r,o){const i=new Eu(t,e,C);return i.multi=[],i.index=n,i.componentProviders=0,GC(i,o,r&&!e),i}(o?h2:p2,e.length,o,r,c);!o&&Ke&&(e[Y].providerFactory=Je),Wg(i,t,n.length,0),n.push(a),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(Je),s.push(Je)}else Wg(i,t,A>-1?A:Y,GC(e[o?Y:A],c,!o&&r));!o&&r&&Ke&&e[Y].componentProviders++}}}function Wg(t,n,e,r){const o=Fl(n),i=function Tx(t){return!!t.useClass}(n);if(o||i){const c=(i?F(n.useClass):n).prototype.ngOnDestroy;if(c){const d=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const m=d.indexOf(e);-1===m?d.push(e,[r,c]):d[m+1].push(r,c)}else d.push(e,c)}}}function GC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function qg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function p2(t,n,e,r){return Zg(this.multi,[])}function h2(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ku(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),Zg(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Zg(o,i);return i}function Zg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Cr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function f2(t,n,e){const r=zn();if(r.firstCreatePass){const o=Ti(t);zg(e,r.data,r.blueprint,o,!0),zg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class $l{}class zC{}class WC extends $l{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ng(this);const r=Gn(n);this._bootstrapComponents=ma(r.bootstrap),this._r3Injector=Ob(n,e,[{provide:$l,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],Un(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Kg extends zC{constructor(n){super(),this.moduleType=n}create(n){return new WC(this.moduleType,n)}}class y2 extends $l{constructor(n,e,r){super(),this.componentFactoryResolver=new Ng(this),this.instance=null;const o=new vb([...n,{provide:$l,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],e||zf(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function dp(t,n,e=null){return new y2(t,n,e).injector}let _2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=mb(0,e.type),o=r.length>0?dp([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=vt({token:t,providedIn:"environment",factory:()=>new t(De(Za))}),t})();function qC(t){t.getStandaloneInjector=n=>n.get(_2).getOrCreateStandaloneInjector(t)}function eS(t,n,e,r,o,i){const s=n+e;return ui(t,s,o)?function $s(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function id(t,n){const e=t[n];return e===An?void 0:e}(t,s+1)}function js(t,n){const e=zn();let r;const o=t+22;e.firstCreatePass?(r=function L2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Fs(r.type)),s=eo(C);try{const a=Mf(!1),c=i();return Mf(a),function TP(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,ht(),o,c),c}finally{eo(s)}}function Us(t,n,e){const r=t+22,o=ht(),i=ua(o,r);return function sd(t,n){return t[1].data[n].pure}(o,r)?eS(o,function Vn(){const t=Cn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function Xg(t){return n=>{setTimeout(t,void 0,n)}}const vn=class j2 extends Xe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=Xg(i),o&&(o=Xg(o)),s&&(s=Xg(s)));const a=super.subscribe({next:o,error:i,complete:s});return n instanceof q&&n.add(a),a}};function U2(){return this._results[Ol()]()}class Qg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ol(),r=Qg.prototype;r[e]||(r[e]=U2)}get changes(){return this._changes||(this._changes=new vn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Yi(n);(this._changesDetected=!function GM(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pi=(()=>{class t{}return t.__NG_ELEMENT_ID__=W2,t})();const G2=Pi,z2=class extends G2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=Yf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),Ig(r,o,n),new Gu(o)}};function W2(){return fp(hn(),ht())}function fp(t,n){return 4&t.type?new z2(n,t,Dc(t,n)):null}let fi=(()=>{class t{}return t.__NG_ELEMENT_ID__=q2,t})();function q2(){return aS(hn(),ht())}const Z2=fi,iS=class extends Z2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new mc(this._hostTNode,this._hostLView)}get parentInjector(){const n=Tf(this._hostTNode,this._hostLView);if(n0(n)){const e=hc(n,this._hostLView),r=pc(n);return new mc(e[1].data[r+8],e)}return new mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=sS(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function Tu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const _=e||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const c=s?n:new zu(It(n)),d=r||this.parentInjector;if(!i&&null==c.ngModule){const I=(s?d:this.parentInjector).get(Za,null);I&&(i=I)}const m=c.create(d,o,void 0,i);return this.insert(m.hostView,a),m}insert(n,e){const r=n._lView,o=r[1];if(function Cf(t){return Mi(t[3])}(r)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const _=r[3],I=new iS(_,_[6],_[3]);I.detach(I.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function HT(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],h0(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function jT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=Um(i,s),c=r[11],d=Lf(c,s[7]);return null!==d&&function $T(t,n,e,r,o,i){r[0]=o,r[6]=n,Vu(t,r,e,1,o,i)}(o,s[6],c,r,d,a),n.attachToViewContainerRef(),h0(Jg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=sS(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Vm(this._lContainer,e);r&&(Pf(Jg(this._lContainer),e),j0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=Vm(this._lContainer,e);return r&&null!=Pf(Jg(this._lContainer),e)?new Gu(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function sS(t){return t[8]}function Jg(t){return t[8]||(t[8]=[])}function aS(t,n){let e;const r=n[t.index];if(Mi(r))e=r;else{let o;if(8&t.type)o=Xr(r);else{const i=n[11];o=i.createComment("");const s=ii(t,n);Al(i,Lf(i,s),o,function WT(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=dw(r,n,o,t),Qf(n,e)}return new iS(e,t,n)}class ey{constructor(n){this.queryList=n,this.matches=null}clone(){return new ey(this.queryList)}setDirty(){this.queryList.setDirty()}}class ty{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new ty(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==fS(n,e).matches&&this.queries[e].setDirty()}}class lS{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class ny{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new ny(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ry{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new ry(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,X2(e,i)),this.matchTNodeWithReadOption(n,e,Af(e,n,i,!1,!1))}else r===Pi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Af(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===yt||o===fi||o===Pi&&4&e.type)this.addMatch(e.index,-2);else{const i=Af(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function X2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function J2(t,n,e,r){return-1===e?function Q2(t,n){return 11&t.type?Dc(t,n):4&t.type?fp(t,n):null}(n,t):-2===e?function eF(t,n,e){return e===yt?Dc(n,t):e===Pi?fp(n,t):e===fi?aS(n,t):void 0}(t,n,r):ku(t,t[1],e,n)}function cS(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const d=s[c];a.push(d<0?null:J2(n,i[d],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function oy(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=cS(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const d=i[a+1],m=n[-c];for(let _=10;_<m.length;_++){const I=m[_];I[17]===I[3]&&oy(I[1],I,d,r)}if(null!==m[9]){const _=m[9];for(let I=0;I<_.length;I++){const A=_[I];oy(A[1],A,d,r)}}}}}return r}function Ri(t){const n=ht(),e=zn(),r=h();b(r+1);const o=fS(e,r);if(t.dirty&&function wf(t){return 4==(4&t[2])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?oy(e,n,r,[]):cS(e,n,o,r);t.reset(i,Hx),t.notifyOnChanges()}return!0}return!1}function Uc(t,n,e){const r=zn();r.firstCreatePass&&(dS(r,new lS(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),uS(r,ht(),n)}function Fi(){return function tF(t,n){return t[19].queries[n].queryList}(ht(),h())}function uS(t,n,e){const r=new Qg(4==(4&e));nw(t,n,r,r.destroy),null===n[19]&&(n[19]=new ty),n[19].queries.push(new ey(r))}function dS(t,n,e){null===t.queries&&(t.queries=new ny),t.queries.track(new ry(n,e))}function fS(t,n){return t.queries.getByIndex(n)}function hp(...t){}const Bl=new dn("Application Initializer");let mp=(()=>{class t{constructor(e){this.appInits=e,this.resolve=hp,this.reject=hp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Yu(i))e.push(i);else if(Vg(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(De(Bl,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ld=new dn("AppId",{providedIn:"root",factory:function AS(){return`${cy()}${cy()}${cy()}`}});function cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PS=new dn("Platform Initializer"),Wc=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RS=new dn("appBootstrapListener");let SF=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ba=new dn("LocaleId",{providedIn:"root",factory:()=>uo(ba,Kt.Optional|Kt.SkipSelf)||function EF(){return typeof $localize<"u"&&$localize.locale||jc}()});class IF{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let uy=(()=>{class t{compileModuleSync(e){return new Kg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=ma(Gn(e).declarations).reduce((s,a)=>{const c=It(a);return c&&s.push(new zu(c)),s},[]);return new IF(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TF=(()=>Promise.resolve(0))();function dy(t){typeof Zone>"u"?TF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ft{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vn(!1),this.onMicrotaskEmpty=new vn(!1),this.onStable=new vn(!1),this.onError=new vn(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const o=this;if(o._nesting=0,o._outer=o._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const i=Zone.AsyncStackTaggingZoneSpec;o._inner=o._inner.fork(new i("Angular"))}Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function xF(){let t=pn.requestAnimationFrame,n=pn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function RF(t){const n=()=>{!function PF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,py(t),t.isCheckStableRunning=!0,fy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),py(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return NS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),LS(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return NS(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),LS(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,py(t),fy(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new oe(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,AF,hp,hp);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const AF={};function fy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function py(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function NS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LS(t){t._nesting--,fy(t)}class FF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vn,this.onMicrotaskEmpty=new vn,this.onStable=new vn,this.onError=new vn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const $S=new dn(""),gp=new dn("");let gy,hy=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gy||(function OF(t){gy=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dy(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(De(ft),De(my),De(gp))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),my=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return gy?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Xa=null;const BS=new dn("AllowMultipleToken"),yy=new dn("PlatformDestroyListeners");class VS{constructor(n,e){this.name=n,this.token=e}}function jS(t,n,e=[]){const r=`Platform: ${n}`,o=new dn(r);return(i=[])=>{let s=_y();if(!s||s.injector.get(BS,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function $F(t){if(Xa&&!Xa.get(BS,!1))throw new oe(400,!1);Xa=t;const n=t.get(GS);(function HS(t){const n=t.get(PS,null);n&&n.forEach(e=>e())})(t)}(function US(t=[],n){return Br.create({name:n,providers:[{provide:rg,useValue:"platform"},{provide:yy,useValue:new Set([()=>Xa=null])},...t]})}(a,r))}return function VF(t){const n=_y();if(!n)throw new oe(401,!1);return n}()}}function _y(){return Xa?.get(GS)??null}let GS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function WS(t,n){let e;return e="noop"===t?new FF:("zone.js"===t?void 0:t)||new ft(n),e}(r?.ngZone,function zS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ft,useValue:o}];return o.run(()=>{const s=Br.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(Ic,null);if(!c)throw new oe(402,!1);return o.runOutsideAngular(()=>{const d=o.onError.subscribe({next:m=>{c.handleError(m)}});a.onDestroy(()=>{yp(this._modules,a),d.unsubscribe()})}),function qS(t,n,e){try{const r=e();return Yu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const d=a.injector.get(mp);return d.runInitializers(),d.donePromise.then(()=>(function bC(t){jr(t,"Expected localeId to be defined"),"string"==typeof t&&(vC=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ba,jc)||jc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=ZS({},r);return function NF(t,n,e){const r=new Kg(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Qa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new oe(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(yy,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(De(Br))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function ZS(t,n){return Array.isArray(n)?n.reduce(ZS,t):{...t,...n}}let Qa=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new wt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new wt(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=Uo(i,s.pipe(Si()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof wb;if(!this._injector.get(mp).done)throw!o&&function zt(t){const n=It(t)||bt(t)||Et(t);return null!==n&&n.standalone}(e),new oe(405,false);let s;s=o?e:this._injector.get(pa).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function LF(t){return t.isBoundToModule}(s)?void 0:this._injector.get($l),d=s.create(Br.NULL,[],r||s.selector,a),m=d.location.nativeElement,_=d.injector.get($S,null);return _?.registerApplication(m),d.onDestroy(()=>{this.detachView(d.hostView),yp(this.components,d),_?.unregisterApplication(m)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;yp(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(RS,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>yp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new oe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(De(ft),De(Za),De(Ic))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let YS=!0,Mt=(()=>{class t{}return t.__NG_ELEMENT_ID__=UF,t})();function UF(t){return function GF(t,n,e){if(Dl(t)&&!e){const r=si(t.index,n);return new Gu(r,r)}return 47&t.type?new Gu(n[16],n):null}(hn(),ht(),16==(16&t))}class tE{constructor(){}supports(n){return Wu(n)}create(n){return new YF(n)}}const KF=(t,n)=>n;class YF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||KF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<rE(r,o,i)?e:r,a=rE(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const d=a-o,m=c-o;if(d!=m){for(let I=0;I<d;I++){const A=I<i.length?i[I]:i[I]=0,Y=A+I;m<=Y&&Y<d&&(i[I]=A+1)}i[s.previousIndex]=m-d}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Wu(n))throw new oe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function DP(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Ol()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new XF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new nE),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class XF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class nE{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new QF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rE(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function iE(){return new cd([new tE])}let cd=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||iE()),deps:[[t,new Ou,new Fu]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new oe(901,!1)}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:iE}),t})();const rO=jS(null,"core",[]);let oO=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(De(Qa))},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({}),t})(),bp=null;function Gs(){return bp}const Ao=new dn("DocumentToken");let Sy=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return function lO(){return De(aE)}()},providedIn:"platform"}),t})();const cO=new dn("Location Initialized");let aE=(()=>{class t extends Sy{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gs().getBaseHref(this._doc)}onPopState(e){const r=Gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){lE()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){lE()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(De(Ao))},t.\u0275prov=vt({token:t,factory:function(){return function uO(){return new aE(De(Ao))}()},providedIn:"platform"}),t})();function lE(){return!!window.history.pushState}function Ey(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function cE(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Sa(t){return t&&"?"!==t[0]?"?"+t:t}let zs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return uo(dE)},providedIn:"root"}),t})();const uE=new dn("appBaseHref");let dE=(()=>{class t extends zs{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??uo(Ao).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ey(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Sa(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+Sa(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+Sa(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Sy),De(uE,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fE=(()=>{class t extends zs{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ey(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Sa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Sa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Sy),De(uE,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),dd=(()=>{class t{constructor(e){this._subject=new vn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=cE(pE(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Sa(r))}normalize(e){return t.stripTrailingSlash(function fO(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,pE(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Sa(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Sa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=Sa,t.joinWithSlash=Ey,t.stripTrailingSlash=cE,t.\u0275fac=function(e){return new(e||t)(De(zs))},t.\u0275prov=vt({token:t,factory:function(){return function dO(){return new dd(De(zs))}()},providedIn:"root"}),t})();function pE(t){return t.replace(/\/index.html$/,"")}function CE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class XO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hl=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new XO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),DE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{DE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(fi),C(Pi),C(cd))},t.\u0275dir=ce({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function DE(t,n){t.context.$implicit=n.item}let No=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new JO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){IE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){IE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(fi),C(Pi))},t.\u0275dir=ce({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class JO{constructor(){this.$implicit=null,this.ngIf=null}}function IE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Un(n)}'.`)}class Fy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let xp=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ce({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),kE=(()=>{class t{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new Fy(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(C(fi),C(Pi),C(xp,9))},t.\u0275dir=ce({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),ME=(()=>{class t{constructor(e,r,o){o._addDefault(new Fy(e,r))}}return t.\u0275fac=function(e){return new(e||t)(C(fi),C(Pi),C(xp,9))},t.\u0275dir=ce({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class nN{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class rN{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const oN=new rN,iN=new nN;let xE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Yu(e))return oN;if(kw(e))return iN;throw function Ds(t,n){return new oe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(C(Mt,16))},t.\u0275pipe=ct({name:"async",type:t,pure:!1,standalone:!0}),t})(),Ws=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({}),t})();const PE="browser";function Da(t){return t===PE}let DN=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>new IN(De(Ao),window)}),t})();class IN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function kN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=RE(this.window.history)||RE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function RE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class FE{}class Vy extends class zN extends class aO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function sO(t){bp||(bp=t)}(new Vy)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function WN(){return md=md||document.querySelector("base"),md?md.getAttribute("href"):null}();return null==e?null:function qN(t){Pp=Pp||document.createElement("a"),Pp.setAttribute("href",t);const n=Pp.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){md=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return CE(document.cookie,n)}}let Pp,md=null;const $E=new dn("TRANSITION_ID"),KN=[{provide:Bl,useFactory:function ZN(t,n,e){return()=>{e.get(mp).donePromise.then(()=>{const r=Gs(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[$E,Ao,Br],multi:!0}];let XN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const Rp=new dn("EventManagerPlugins");let Fp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(De(Rp),De(ft))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class BE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=Gs().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let VE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),gd=(()=>{class t extends VE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(HE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(HE))}}return t.\u0275fac=function(e){return new(e||t)(De(Ao))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();function HE(t){Gs().remove(t)}const Hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jy=/%COMP%/g;function Op(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?Op(t,o,e):(o=o.replace(jy,t),e.push(o))}return e}function GE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Uy=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Gy(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case or.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new rL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case or.ShadowDom:return new oL(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Op(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(De(Fp),De(gd),De(ld))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class Gy{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Hy[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(WE(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(WE(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=Hy[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Hy[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Ai.DashCase|Ai.Important)?n.style.setProperty(e,r,o&Ai.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ai.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,GE(r)):this.eventManager.addEventListener(n,e,GE(r))}}function WE(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class rL extends Gy{constructor(n,e,r,o){super(n),this.component=r;const i=Op(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function eL(t){return"_ngcontent-%COMP%".replace(jy,t)}(o+"-"+r.id),this.hostAttr=function tL(t){return"_nghost-%COMP%".replace(jy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class oL extends Gy{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Op(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let iL=(()=>{class t extends BE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(De(Ao))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const qE=["alt","control","meta","shift"],sL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lL=(()=>{class t extends BE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gs().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qE.forEach(d=>{const m=r.indexOf(d);m>-1&&(r.splice(m,1),s+=d+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=sL[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),qE.forEach(s=>{s!==o&&(0,aL[s])(e)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(De(Ao))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const fL=jS(rO,"browser",[{provide:Wc,useValue:PE},{provide:PS,useValue:function cL(){Vy.makeCurrent()},multi:!0},{provide:Ao,useFactory:function dL(){return function JT(t){Zm=t}(document),document},deps:[]}]),YE=new dn(""),XE=[{provide:gp,useClass:class YN{addToWindow(n){pn.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},pn.getAllAngularTestabilities=()=>n.getAllTestabilities(),pn.getAllAngularRootElements=()=>n.getAllRootElements(),pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(r=>{const o=pn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Gs().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:$S,useClass:hy,deps:[ft,my,gp]},{provide:hy,useClass:hy,deps:[ft,my,gp]}],QE=[{provide:rg,useValue:"root"},{provide:Ic,useFactory:function uL(){return new Ic},deps:[]},{provide:Rp,useClass:iL,multi:!0,deps:[Ao,ft,Wc]},{provide:Rp,useClass:lL,multi:!0,deps:[Ao]},{provide:Uy,useClass:Uy,deps:[Fp,gd,ld]},{provide:Sb,useExisting:Uy},{provide:VE,useExisting:gd},{provide:gd,useClass:gd,deps:[Ao]},{provide:Fp,useClass:Fp,deps:[Rp,ft]},{provide:FE,useClass:XN,deps:[]},[]];let pL=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:ld,useValue:e.appId},{provide:$E,useExisting:ld},KN]}}}return t.\u0275fac=function(e){return new(e||t)(De(YE,12))},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({providers:[...QE,...XE],imports:[Ws,oO]}),t})(),JE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(De(Ao))},t.\u0275prov=vt({token:t,factory:function(e){let r=null;return r=e?new e:function mL(){return new JE(De(Ao))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let qy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(e){let r=null;return r=e?new(e||t):De(nD),r},providedIn:"root"}),t})(),nD=(()=>{class t extends qy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case xr.NONE:return r;case xr.HTML:return Ns(r,"HTML")?Qi(r):ub(this._doc,String(r)).toString();case xr.STYLE:return Ns(r,"Style")?Qi(r):r;case xr.SCRIPT:if(Ns(r,"Script"))return Qi(r);throw new Error("unsafe value used in a script context");case xr.URL:return Ns(r,"URL")?Qi(r):jf(String(r));case xr.RESOURCE_URL:if(Ns(r,"ResourceURL"))return Qi(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function sx(t){return new ex(t)}(e)}bypassSecurityTrustStyle(e){return function ax(t){return new tx(t)}(e)}bypassSecurityTrustScript(e){return function lx(t){return new nx(t)}(e)}bypassSecurityTrustUrl(e){return function cx(t){return new rx(t)}(e)}bypassSecurityTrustResourceUrl(e){return function ux(t){return new ox(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(De(Ao))},t.\u0275prov=vt({token:t,factory:function(e){let r=null;return r=e?new e:function CL(t){return new nD(t.get(Ao))}(De(Br)),r},providedIn:"root"}),t})();var Lo=R(1158),SL=R(9233),qc=R.n(SL);let Np,Lp;function rD(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function oD(){return void 0!==Lp}class iD{constructor(){this.requestEvent=new Lo.j}dispatchRequest(n){if(n){try{n=new(qc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let Zy=(()=>{class t{constructor(){this.installation=new iD,this.import=new iD,Np&&this.installation.dispatchRequest(Np),Lp&&this.import.dispatchRequest(Lp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sn(...t){return Zn(t,D(t))}function el(t,n){return T(n)?Xt(t,n,1):Xt(t,1)}function qo(t,n){return Ee((e,r)=>{let o=0;e.subscribe(Be(r,i=>t.call(n,i,o++)&&r.next(i)))})}class sD{}class aD{}class Ia{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ia?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ia;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ia?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class IL{encodeKey(n){return lD(n)}encodeValue(n){return lD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const ML=/%(\d[a-f0-9])/gi,TL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lD(t){return encodeURIComponent(t).replace(ML,(n,e)=>TL[e]??n)}function $p(t){return`${t}`}class tl{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new IL,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kL(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map($p):[$p(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new tl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push($p(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf($p(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class xL{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function cD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function uD(t){return typeof Blob<"u"&&t instanceof Blob}function dD(t){return typeof FormData<"u"&&t instanceof FormData}class yd{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function AL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ia),this.context||(this.context=new xL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new tl,this.urlWithParams=e}serializeBody(){return null===this.body?null:cD(this.body)||uD(this.body)||dD(this.body)||function PL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dD(this.body)?null:uD(this.body)?this.body.type||null:cD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,d=n.params||this.params;const m=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((_,I)=>_.set(I,n.setHeaders[I]),c)),n.setParams&&(d=Object.keys(n.setParams).reduce((_,I)=>_.set(I,n.setParams[I]),d)),new yd(e,r,i,{params:d,headers:c,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var So=(()=>((So=So||{})[So.Sent=0]="Sent",So[So.UploadProgress=1]="UploadProgress",So[So.ResponseHeader=2]="ResponseHeader",So[So.DownloadProgress=3]="DownloadProgress",So[So.Response=4]="Response",So[So.User=5]="User",So))();class Ky{constructor(n,e=200,r="OK"){this.headers=n.headers||new Ia,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Yy extends Ky{constructor(n={}){super(n),this.type=So.ResponseHeader}clone(n={}){return new Yy({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Bp extends Ky{constructor(n={}){super(n),this.type=So.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Bp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class fD extends Ky{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Xy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Qy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof yd)i=e;else{let c,d;c=o.headers instanceof Ia?o.headers:new Ia(o.headers),o.params&&(d=o.params instanceof tl?o.params:new tl({fromObject:o.params})),i=new yd(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=sn(i).pipe(el(c=>this.handler.handle(c)));if(e instanceof yd||"events"===o.observe)return s;const a=s.pipe(qo(c=>c instanceof Bp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(He(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(He(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(He(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(He(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new tl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Xy(o,r))}post(e,r,o={}){return this.request("POST",e,Xy(o,r))}put(e,r,o={}){return this.request("PUT",e,Xy(o,r))}}return t.\u0275fac=function(e){return new(e||t)(De(sD))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class pD{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const hD=new dn("HTTP_INTERCEPTORS");let RL=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const FL=/^\)\]\}',?\n/;let mD=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new wt(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((A,Y)=>o.setRequestHeader(A,Y.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const A=e.detectContentTypeHeader();null!==A&&o.setRequestHeader("Content-Type",A)}if(e.responseType){const A=e.responseType.toLowerCase();o.responseType="json"!==A?A:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const A=o.statusText||"OK",Y=new Ia(o.getAllResponseHeaders()),Fe=function OL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Yy({headers:Y,status:o.status,statusText:A,url:Fe}),s},c=()=>{let{headers:A,status:Y,statusText:Fe,url:Ke}=a(),Je=null;204!==Y&&(Je=typeof o.response>"u"?o.responseText:o.response),0===Y&&(Y=Je?200:0);let gt=Y>=200&&Y<300;if("json"===e.responseType&&"string"==typeof Je){const nt=Je;Je=Je.replace(FL,"");try{Je=""!==Je?JSON.parse(Je):null}catch(pt){Je=nt,gt&&(gt=!1,Je={error:pt,text:Je})}}gt?(r.next(new Bp({body:Je,headers:A,status:Y,statusText:Fe,url:Ke||void 0})),r.complete()):r.error(new fD({error:Je,headers:A,status:Y,statusText:Fe,url:Ke||void 0}))},d=A=>{const{url:Y}=a(),Fe=new fD({error:A,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Y||void 0});r.error(Fe)};let m=!1;const _=A=>{m||(r.next(a()),m=!0);let Y={type:So.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(Y.total=A.total),"text"===e.responseType&&!!o.responseText&&(Y.partialText=o.responseText),r.next(Y)},I=A=>{let Y={type:So.UploadProgress,loaded:A.loaded};A.lengthComputable&&(Y.total=A.total),r.next(Y)};return o.addEventListener("load",c),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",I)),o.send(i),r.next({type:So.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",c),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(De(FE))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const Jy=new dn("XSRF_COOKIE_NAME"),e_=new dn("XSRF_HEADER_NAME");class gD{}let NL=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=CE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(De(Ao),De(Wc),De(Jy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),t_=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(De(gD),De(e_))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),LL=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(hD,[]);this.chain=r.reduceRight((o,i)=>new pD(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(De(aD),De(Br))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),$L=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:t_,useClass:RL}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Jy,useValue:e.cookieName}:[],e.headerName?{provide:e_,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({providers:[t_,{provide:hD,useExisting:t_,multi:!0},{provide:gD,useClass:NL},{provide:Jy,useValue:"XSRF-TOKEN"},{provide:e_,useValue:"X-XSRF-TOKEN"}]}),t})(),BL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({providers:[Qy,{provide:sD,useClass:LL},mD,{provide:aD,useExisting:mD}],imports:[$L.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:VL}=Array,{getPrototypeOf:HL,prototype:jL,keys:UL}=Object;function yD(t){if(1===t.length){const n=t[0];if(VL(n))return{args:n,keys:null};if(function GL(t){return t&&"object"==typeof t&&HL(t)===jL}(n)){const e=UL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:zL}=Array;function n_(t){return He(n=>function WL(t,n){return zL(n)?t(...n):t(n)}(t,n))}function _D(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let vD=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(C(ha),C(yt))},t.\u0275dir=ce({type:t}),t})(),jl=(()=>{class t extends vD{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Wo(t)))(r||t)}}(),t.\u0275dir=ce({type:t,features:[Jn]}),t})();const vi=new dn("NgValueAccessor"),KL={provide:vi,useExisting:x(()=>r_),multi:!0},XL=new dn("CompositionEventMode");let r_=(()=>{class t extends vD{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YL(){const t=Gs()?Gs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ha),C(yt),C(XL,8))},t.\u0275dir=ce({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&at("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Cr([KL]),Jn]}),t})();function nl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function wD(t){return null!=t&&"number"==typeof t.length}const hi=new dn("NgValidators"),rl=new dn("NgAsyncValidators"),JL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vp{static min(n){return function CD(t){return n=>{if(nl(n.value)||nl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function SD(t){return n=>{if(nl(n.value)||nl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function ED(t){return nl(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function DD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function ID(t){return nl(t.value)||JL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function kD(t){return n=>nl(n.value)||!wD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return MD(n)}static pattern(n){return function TD(t){if(!t)return Hp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(nl(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return OD(n)}static composeAsync(n){return ND(n)}}function MD(t){return n=>wD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Hp(t){return null}function xD(t){return null!=t}function AD(t){return Yu(t)?Zn(t):t}function PD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function RD(t,n){return n.map(e=>e(t))}function FD(t){return t.map(n=>function e3(t){return!t.validate}(n)?n:e=>n.validate(e))}function OD(t){if(!t)return null;const n=t.filter(xD);return 0==n.length?null:function(e){return PD(RD(e,n))}}function o_(t){return null!=t?OD(FD(t)):null}function ND(t){if(!t)return null;const n=t.filter(xD);return 0==n.length?null:function(e){return function qL(...t){const n=Io(t),{args:e,keys:r}=yD(t),o=new wt(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,d=s;for(let m=0;m<s;m++){let _=!1;S(e[m]).subscribe(Be(i,I=>{_||(_=!0,d--),a[m]=I},()=>c--,void 0,()=>{(!c||!_)&&(d||i.next(r?_D(r,a):a),i.complete())}))}});return n?o.pipe(n_(n)):o}(RD(e,n).map(AD)).pipe(He(PD))}}function i_(t){return null!=t?ND(FD(t)):null}function LD(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function $D(t){return t._rawValidators}function BD(t){return t._rawAsyncValidators}function s_(t){return t?Array.isArray(t)?t:[t]:[]}function jp(t,n){return Array.isArray(t)?t.includes(n):t===n}function VD(t,n){const e=s_(n);return s_(t).forEach(o=>{jp(e,o)||e.push(o)}),e}function HD(t,n){return s_(n).filter(e=>!jp(t,e))}class jD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=o_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=i_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class bi extends jD{get formDirective(){return null}get path(){return null}}class ka extends jD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UD{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ol=(()=>{class t extends UD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ka,2))},t.\u0275dir=ce({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&_a("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Jn]}),t})(),il=(()=>{class t extends UD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(bi,10))},t.\u0275dir=ce({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&_a("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Jn]}),t})();const _d="VALID",Gp="INVALID",Zc="PENDING",vd="DISABLED";function u_(t){return(zp(t)?t.validators:t)||null}function zD(t){return Array.isArray(t)?o_(t):t||null}function d_(t,n){return(zp(n)?n.asyncValidators:t)||null}function WD(t){return Array.isArray(t)?i_(t):t||null}function zp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class KD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=zD(this._rawValidators),this._composedAsyncValidatorFn=WD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===_d}get invalid(){return this.status===Gp}get pending(){return this.status==Zc}get disabled(){return this.status===vd}get enabled(){return this.status!==vd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=zD(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=WD(n)}addValidators(n){this.setValidators(VD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(VD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(HD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(HD(n,this._rawAsyncValidators))}hasValidator(n){return jp(this._rawValidators,n)}hasAsyncValidator(n){return jp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Zc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=vd,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=_d,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_d||this.status===Zc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vd:_d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Zc,this._hasOwnPendingAsyncValidator=!0;const e=AD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new vn,this.statusChanges=new vn}_calculateStatus(){return this._allControlsDisabled()?vd:this.errors?Gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zc)?Zc:this._anyControlsHaveStatus(Gp)?Gp:_d}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Ul extends KD{constructor(n,e,r){super(u_(e),d_(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function ZD(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new oe(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function qD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new oe(1e3,"");if(!r[e])throw new oe(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Wp=Ul;function bd(t,n){f_(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&n.valueAccessor.setDisabledState?.(!0),function c3(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YD(t,n)})}(t,n),function d3(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function u3(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function l3(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Zp(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Yp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function f_(t,n){const e=$D(t);null!==n.validator?t.setValidators(LD(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=BD(t);null!==n.asyncValidator?t.setAsyncValidators(LD(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Kp(n._rawValidators,o),Kp(n._rawAsyncValidators,o)}function Yp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=$D(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=BD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Kp(n._rawValidators,r),Kp(n._rawAsyncValidators,r),e}function YD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function e1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function t1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ns=class extends KD{constructor(n=null,e,r){super(u_(e),d_(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=t1(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){e1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){e1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){t1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},$o=ns;let sl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),a1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({}),t})();const g_=new dn("NgModelWithFormControlWarning"),D3={provide:bi,useExisting:x(()=>qs)};let qs=(()=>{class t extends bi{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new vn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return bd(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Zp(e.control||null,e,!1),function m3(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function JD(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Zp(r||null,e),(t=>t instanceof ns)(o)&&(bd(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function XD(t,n){f_(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function f3(t,n){return Yp(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){f_(this.form,this),this._oldForm&&Yp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(C(hi,10),C(rl,10))},t.\u0275dir=ce({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&at("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cr([D3]),Jn,vo]}),t})();const M3={provide:ka,useExisting:x(()=>Ma)};let Ma=(()=>{class t extends ka{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new vn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function h_(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===r_?e=i:function h3(t){return Object.getPrototypeOf(t.constructor)===jl}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function p_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function qp(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(C(bi,13),C(hi,10),C(rl,10),C(vi,10),C(g_,8))},t.\u0275dir=ce({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Cr([M3]),Jn,vo]}),t})();let Gl=(()=>{class t{constructor(){this._validator=Hp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ce({type:t,features:[vo]}),t})();const H3={provide:hi,useExisting:x(()=>C_),multi:!0};let C_=(()=>{class t extends Gl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function h1(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>MD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Wo(t)))(r||t)}}(),t.\u0275dir=ce({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Bs("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Cr([H3]),Jn]}),t})(),C1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[a1]}),t})(),zl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[C1]}),t})(),Xp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:g_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[C1]}),t})();const G3=["addListener","removeListener"],z3=["addEventListener","removeEventListener"],W3=["on","off"];function Cd(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return Cd(t,n,e).pipe(n_(r));const[o,i]=function K3(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?z3.map(s=>a=>t[s](n,a,e)):function q3(t){return T(t.addListener)&&T(t.removeListener)}(t)?G3.map(S1(t,n)):function Z3(t){return T(t.on)&&T(t.off)}(t)?W3.map(S1(t,n)):[];if(!o&&_n(t))return Xt(s=>Cd(s,n,e))(S(t));if(!o)throw new TypeError("Invalid event target");return new wt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function S1(t,n){return e=>r=>t[e](n,r)}class rs extends Xe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const Qp=u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function E1(...t){const n=D(t),e=Io(t),{args:r,keys:o}=yD(t);if(0===r.length)return Zn([],n);const i=new wt(function Y3(t,n,e=Q){return r=>{D1(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)D1(n,()=>{const d=Zn(t[c],n);let m=!1;d.subscribe(Be(r,_=>{i[c]=_,m||(m=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>_D(o,s):Q));return e?i.pipe(n_(e)):i}function D1(t,n,e){t?kr(e,t,n):n()}function Sd(...t){return function X3(){return so(1)}()(Zn(t,D(t)))}function Jp(t){return new wt(n=>{S(t()).subscribe(n)})}function Kc(t,n){const e=T(t)?t:()=>t,r=o=>o.error(e());return new wt(n?o=>n.schedule(r,0,o):r)}function S_(){return Ee((t,n)=>{let e=null;t._refCount++;const r=Be(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class E_ extends wt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new q;const e=this.getSubject();n.add(this.source.subscribe(Be(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=q.EMPTY)}return n}refCount(){return S_()(this)}}function Zo(t,n){return Ee((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(Be(r,c=>{o?.unsubscribe();let d=0;const m=i++;S(t(c,m)).subscribe(o=Be(r,_=>r.next(n?n(c,_,m,d++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function os(t){return t<=0?()=>ar:Ee((n,e)=>{let r=0;n.subscribe(Be(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function I1(...t){const n=D(t);return Ee((e,r)=>{(n?Sd(t,e,n):Sd(t,e)).subscribe(r)})}function eh(t){return Ee((n,e)=>{let r=!1;n.subscribe(Be(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function k1(t=Q3){return Ee((n,e)=>{let r=!1;n.subscribe(Be(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function Q3(){return new Qp}function Ta(t,n){const e=arguments.length>=2;return r=>r.pipe(t?qo((o,i)=>t(o,i,r)):Q,os(1),e?eh(n):k1(()=>new Qp))}function Ko(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?Ee((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Be(i,c=>{var d;null===(d=r.next)||void 0===d||d.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,c),i.error(c)},()=>{var c,d;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Q}function xa(t){return Ee((n,e)=>{let i,r=null,o=!1;r=n.subscribe(Be(e,void 0,void 0,s=>{i=S(t(s,xa(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function J3(t,n,e,r,o){return(i,s)=>{let a=e,c=n,d=0;i.subscribe(Be(s,m=>{const _=d++;c=a?t(c,m,_):(a=!0,m),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function M1(t,n){return Ee(J3(t,n,arguments.length>=2,!0))}function D_(t){return t<=0?()=>ar:Ee((n,e)=>{let r=[];n.subscribe(Be(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function T1(t,n){const e=arguments.length>=2;return r=>r.pipe(t?qo((o,i)=>t(o,i,r)):Q,D_(1),e?eh(n):k1(()=>new Qp))}function I_(t){return He(()=>t)}function k_(t){return Ee((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const $n="primary",Ed=Symbol("RouteTitle");class t${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yc(t){return new t$(t)}function n$(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Zs(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!x1(t[o],n[o]))return!1;return!0}function x1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function A1(t){return Array.prototype.concat.apply([],t)}function P1(t){return t.length>0?t[t.length-1]:null}function Yo(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function al(t){return Vg(t)?t:Yu(t)?Zn(Promise.resolve(t)):sn(t)}const i$={exact:function O1(t,n,e){if(!ql(t.segments,n.segments)||!th(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!O1(t.children[r],n.children[r],e))return!1;return!0},subset:N1},R1={exact:function s$(t,n){return Zs(t,n)},subset:function a$(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>x1(t[e],n[e]))},ignored:()=>!0};function F1(t,n,e){return i$[e.paths](t.root,n.root,e.matrixParams)&&R1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function N1(t,n,e){return L1(t,n,n.segments,e)}function L1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!ql(o,e)||n.hasChildren()||!th(o,e,r))}if(t.segments.length===e.length){if(!ql(t.segments,e)||!th(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!N1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(ql(t.segments,o)&&th(t.segments,o,r)&&t.children[$n])&&L1(t.children[$n],n,i,r)}}function th(t,n,e){return n.every((r,o)=>R1[e](t[o].parameters,r.parameters))}class Wl{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return u$.serialize(this)}}class Hn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Yo(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}}class Dd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yc(this.parameters)),this._parameterMap}toString(){return V1(this)}}function ql(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let T_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return new x_},providedIn:"root"}),t})();class x_{parse(n){const e=new v$(n);return new Wl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Id(n.root,!0)}`,r=function p$(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${rh(e)}=${rh(o)}`).join("&"):`${rh(e)}=${rh(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function d$(t){return encodeURI(t)}(n.fragment)}`:""}`}}const u$=new x_;function nh(t){return t.segments.map(n=>V1(n)).join("/")}function Id(t,n){if(!t.hasChildren())return nh(t);if(n){const e=t.children[$n]?Id(t.children[$n],!1):"",r=[];return Yo(t.children,(o,i)=>{i!==$n&&r.push(`${i}:${Id(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function c$(t,n){let e=[];return Yo(t.children,(r,o)=>{o===$n&&(e=e.concat(n(r,o)))}),Yo(t.children,(r,o)=>{o!==$n&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===$n?[Id(t.children[$n],!1)]:[`${o}:${Id(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[$n]?`${nh(t)}/${e[0]}`:`${nh(t)}/(${e.join("//")})`}}function $1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rh(t){return $1(t).replace(/%3B/gi,";")}function A_(t){return $1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oh(t){return decodeURIComponent(t)}function B1(t){return oh(t.replace(/\+/g,"%20"))}function V1(t){return`${A_(t.path)}${function f$(t){return Object.keys(t).map(n=>`;${A_(n)}=${A_(t[n])}`).join("")}(t.parameters)}`}const h$=/^[^\/()?;=#]+/;function ih(t){const n=t.match(h$);return n?n[0]:""}const m$=/^[^=?&#]+/,y$=/^[^&#]+/;class v${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[$n]=new Hn(n,e)),r}parseSegment(){const n=ih(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(n),new Dd(oh(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=ih(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=ih(this.remaining);o&&(r=o,this.capture(r))}n[oh(e)]=oh(r)}parseQueryParam(n){const e=function g$(t){const n=t.match(m$);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function _$(t){const n=t.match(y$);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=B1(e),i=B1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ih(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new oe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=$n);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[$n]:new Hn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new oe(4011,!1)}}function P_(t){return t.segments.length>0?new Hn([],{[$n]:t}):t}function sh(t){const n={};for(const r of Object.keys(t.children)){const i=sh(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function b$(t){if(1===t.numberOfChildren&&t.children[$n]){const n=t.children[$n];return new Hn(t.segments.concat(n.segments),n.children)}return t}(new Hn(t.segments,n))}function Zl(t){return t instanceof Wl}function S$(t,n,e,r,o){if(0===e.length)return Xc(n.root,n.root,n.root,r,o);const i=function U1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new j1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Yo(i.outlets,(c,d)=>{a[d]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new j1(e,n,r)}(e);return i.toRoot()?Xc(n.root,n.root,new Hn([],{}),r,o):function s(c){const d=function D$(t,n,e,r){if(t.isAbsolute)return new Qc(n.root,!0,0);if(-1===r)return new Qc(e,e===n.root,0);return function G1(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new oe(4005,!1);o=r.segments.length}return new Qc(r,!1,o-i)}(e,r+(kd(t.commands[0])?0:1),t.numberOfDoubleDots)}(i,n,t.snapshot?._urlSegment,c),m=d.processChildren?Td(d.segmentGroup,d.index,i.commands):F_(d.segmentGroup,d.index,i.commands);return Xc(n.root,d.segmentGroup,m,r,o)}(t.snapshot?._lastPathIndex)}function kd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Md(t){return"object"==typeof t&&null!=t&&t.outlets}function Xc(t,n,e,r,o){let s,i={};r&&Yo(r,(c,d)=>{i[d]=Array.isArray(c)?c.map(m=>`${m}`):`${c}`}),s=t===n?e:H1(t,n,e);const a=P_(sh(s));return new Wl(a,i,o)}function H1(t,n,e){const r={};return Yo(t.children,(o,i)=>{r[i]=o===n?e:H1(o,n,e)}),new Hn(t.segments,r)}class j1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&kd(r[0]))throw new oe(4003,!1);const o=r.find(Md);if(o&&o!==P1(r))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qc{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function F_(t,n,e){if(t||(t=new Hn([],{})),0===t.segments.length&&t.hasChildren())return Td(t,n,e);const r=function k$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(Md(a))break;const c=`${a}`,d=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!W1(c,d,s))return i;r+=2}else{if(!W1(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Hn(t.segments.slice(0,r.pathIndex),{});return i.children[$n]=new Hn(t.segments.slice(r.pathIndex),t.children),Td(i,0,o)}return r.match&&0===o.length?new Hn(t.segments,{}):r.match&&!t.hasChildren()?O_(t,n,e):r.match?Td(t,0,o):O_(t,n,e)}function Td(t,n,e){if(0===e.length)return new Hn(t.segments,{});{const r=function I$(t){return Md(t[0])?t[0].outlets:{[$n]:t}}(e),o={};return Yo(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=F_(t.children[s],n,i))}),Yo(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Hn(t.segments,o)}}function O_(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(Md(i)){const c=M$(i.outlets);return new Hn(r,c)}if(0===o&&kd(e[0])){r.push(new Dd(t.segments[n].path,z1(e[0]))),o++;continue}const s=Md(i)?i.outlets[$n]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&kd(a)?(r.push(new Dd(s,z1(a))),o+=2):(r.push(new Dd(s,{})),o++)}return new Hn(r,{})}function M$(t){const n={};return Yo(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=O_(new Hn([],{}),0,e))}),n}function z1(t){const n={};return Yo(t,(e,r)=>n[r]=`${e}`),n}function W1(t,n,e){return t==e.path&&Zs(n,e.parameters)}class Aa{constructor(n,e){this.id=n,this.url=e}}class ah extends Aa{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kl extends Aa{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lh extends Aa{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q1 extends Aa{constructor(n,e,r,o){super(n,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class T$ extends Aa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x$ extends Aa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A$ extends Aa{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class P$ extends Aa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R$ extends Aa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F${constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class O${constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N${constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L${constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $${constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B${constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class K1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=N_(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=N_(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=L_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return L_(n,this._root).map(e=>e.value)}}function N_(t,n){if(t===n.value)return n;for(const e of n.children){const r=N_(t,e);if(r)return r}return null}function L_(t,n){if(t===n.value)return[n];for(const e of n.children){const r=L_(t,e);if(r.length)return r.unshift(n),r}return[]}class Pa{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Y1 extends K1{constructor(n,e){super(n),this.snapshot=e,$_(this,n)}toString(){return this.snapshot.toString()}}function X1(t,n){const e=function H$(t,n){const s=new ch([],{},{},"",{},$n,n,null,t.root,-1,{});return new J1("",new Pa(s,[]))}(t,n),r=new rs([new Dd("",{})]),o=new rs({}),i=new rs({}),s=new rs({}),a=new rs(""),c=new Ks(r,o,s,a,i,$n,n,e.root);return c.snapshot=e.root,new Y1(new Pa(c,[]),e)}class Ks{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(He(d=>d[Ed]))??sn(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(He(n=>Yc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(He(n=>Yc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Q1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function j$(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class ch{constructor(n,e,r,o,i,s,a,c,d,m,_,I){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.[Ed],this.routeConfig=c,this._urlSegment=d,this._lastPathIndex=m,this._correctedLastPathIndex=I??m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class J1 extends K1{constructor(n,e){super(e),this.url=n,$_(this,e)}toString(){return eI(this._root)}}function $_(t,n){n.value._routerState=t,n.children.forEach(e=>$_(t,e))}function eI(t){const n=t.children.length>0?` { ${t.children.map(eI).join(", ")} } `:"";return`${t.value}${n}`}function B_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Zs(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Zs(n.params,e.params)||t.params.next(e.params),function r$(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Zs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Zs(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function V_(t,n){const e=Zs(t.params,n.params)&&function l$(t,n){return ql(t,n)&&t.every((e,r)=>Zs(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||V_(t.parent,n.parent))}function xd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function G$(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return xd(t,r,o);return xd(t,r)})}(t,n,e);return new Pa(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>xd(t,a)),s}}const r=function z$(t){return new Ks(new rs(t.url),new rs(t.params),new rs(t.queryParams),new rs(t.fragment),new rs(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>xd(t,i));return new Pa(r,o)}}const H_="ngNavigationCancelingError";function tI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Zl(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=nI(!1,0,n);return o.url=e,o.navigationBehaviorOptions=r,o}function nI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[H_]=!0,r.cancellationCode=n,e&&(r.url=e),r}function rI(t){return oI(t)&&Zl(t.url)}function oI(t){return t&&t[H_]}class W${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yl,this.attachRef=null}}let Yl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new W$,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const uh=!1;let iI=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new vn,this.deactivateEvents=new vn,this.attachEvents=new vn,this.detachEvents=new vn,this.name=o||$n,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,uh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,uh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,uh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new oe(4013,uh);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new q$(e,a,o.injector);if(r&&function Z$(t){return!!t.resolveComponentFactory}(r)){const d=r.resolveComponentFactory(s);this.activated=o.createComponent(d,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(C(Yl),C(fi),xl("name"),C(Mt),C(Za))},t.\u0275dir=ce({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class q${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ks?this.route:n===Yl?this.childContexts:this.parent.get(n,e)}}let j_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["ng-component"]],standalone:!0,features:[qC],decls:1,vars:0,template:function(e,r){1&e&&dt(0,"router-outlet")},dependencies:[iI],encapsulation:2}),t})();function sI(t,n){return t.providers&&!t._injector&&(t._injector=dp(t.providers,n,`Route: ${t.path}`)),t._injector??n}function G_(t){const n=t.children&&t.children.map(G_),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==$n&&(e.component=j_),e}function ms(t){return t.outlet||$n}function aI(t,n){const e=t.filter(r=>ms(r)===n);return e.push(...t.filter(r=>ms(r)!==n)),e}function Ad(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class J${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),B_(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=Jc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Yo(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Jc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Jc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=Jc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new B$(i.value.snapshot))}),n.children.length&&this.forwardEvent(new L$(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(B_(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),B_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Ad(o.snapshot),c=a?.get(pa)??null;s.attachRef=null,s.route=o,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class lI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class dh{constructor(n,e){this.component=n,this.route=e}}function e4(t,n,e){const r=t._root;return Pd(r,n?n._root:null,e,[r.value])}function eu(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function ra(t){return null!==ls(t)}(t)?n.get(t):t:r}function Pd(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Jc(n);return t.children.forEach(s=>{(function n4(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function r4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!ql(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ql(t.url,n.url)||!Zs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!V_(t,n)||!Zs(t.queryParams,n.queryParams);default:return!V_(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new lI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Pd(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new dh(a.outlet.component,s))}else s&&Rd(n,a,o),o.canActivateChecks.push(new lI(r)),Pd(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Yo(i,(s,a)=>Rd(s,e.getContext(a),o)),o}function Rd(t,n,e){const r=Jc(t),o=t.value;Yo(r,(i,s)=>{Rd(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new dh(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Fd(t){return"function"==typeof t}function z_(t){return t instanceof Qp||"EmptyError"===t?.name}const fh=Symbol("INITIAL_VALUE");function tu(){return Zo(t=>E1(t.map(n=>n.pipe(os(1),I1(fh)))).pipe(He(n=>{for(const e of n)if(!0!==e){if(e===fh)return fh;if(!1===e||e instanceof Wl)return e}return!0}),qo(n=>n!==fh),os(1)))}function cI(t){return function ze(...t){return rt(t)}(Ko(n=>{if(Zl(n))throw tI(0,n)}),He(n=>!0===n))}const W_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uI(t,n,e,r,o){const i=q_(t,n,e);return i.matched?function b4(t,n,e,r){const o=n.canMatch;return o&&0!==o.length?sn(o.map(s=>{const a=eu(s,t);return al(function c4(t){return t&&Fd(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(tu(),cI()):sn(!0)}(r=sI(n,r),n,e).pipe(He(s=>!0===s?i:{...W_})):sn(i)}function q_(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...W_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||n$)(e,t,n);if(!o)return{...W_};const i={};Yo(o.posParams,(a,c)=>{i[c]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function ph(t,n,e,r,o="corrected"){if(e.length>0&&function S4(t,n,e){return e.some(r=>hh(t,n,r)&&ms(r)!==$n)}(t,e,r)){const s=new Hn(n,function C4(t,n,e,r){const o={};o[$n]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&ms(i)!==$n){const s=new Hn([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[ms(i)]=s}return o}(t,n,r,new Hn(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function E4(t,n,e){return e.some(r=>hh(t,n,r))}(t,e,r)){const s=new Hn(t.segments,function w4(t,n,e,r,o,i){const s={};for(const a of r)if(hh(t,e,a)&&!o[ms(a)]){const c=new Hn([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[ms(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new Hn(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function hh(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function dI(t,n,e,r){return!!(ms(t)===r||r!==$n&&hh(n,e,t))&&("**"===t.path||q_(n,t,e).matched)}function fI(t,n,e){return 0===n.length&&!t.children[e]}const mh=!1;class gh{constructor(n){this.segmentGroup=n||null}}class pI{constructor(n){this.urlTree=n}}function Od(t){return Kc(new gh(t))}function hI(t){return Kc(new pI(t))}class M4{constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=ph(this.urlTree.root,[],[],this.config).segmentGroup,e=new Hn(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,$n).pipe(He(i=>this.createUrlTree(sh(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xa(i=>{if(i instanceof pI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof gh?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,$n).pipe(He(o=>this.createUrlTree(sh(o),n.queryParams,n.fragment))).pipe(xa(o=>{throw o instanceof gh?this.noMatchError(o):o}))}noMatchError(n){return new oe(4002,mh)}createUrlTree(n,e,r){const o=P_(n);return new Wl(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(He(i=>new Hn([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Zn(o).pipe(el(i=>{const s=r.children[i],a=aI(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(He(c=>({segment:c,outlet:i})))}),M1((i,s)=>(i[s.outlet]=s.segment,i),{}),T1())}expandSegment(n,e,r,o,i,s){return Zn(r).pipe(el(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(xa(d=>{if(d instanceof gh)return sn(null);throw d}))),Ta(a=>!!a),xa((a,c)=>{if(z_(a))return fI(e,o,i)?sn(new Hn([],{})):Od(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return dI(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):Od(e):Od(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hI(i):this.lineralizeSegments(r,i).pipe(Xt(s=>{const a=new Hn(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:d,positionalParamSegments:m}=q_(e,o,i);if(!a)return Od(e);const _=this.applyRedirectCommands(c,o.redirectTo,m);return o.redirectTo.startsWith("/")?hI(_):this.lineralizeSegments(o,_).pipe(Xt(I=>this.expandSegment(n,e,r,I.concat(d),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){return"**"===r.path?(n=sI(r,n),r.loadChildren?(r._loadedRoutes?sn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(He(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Hn(o,{})))):sn(new Hn(o,{}))):uI(e,r,o,n).pipe(Zo(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(n=r._injector??n,r,o).pipe(Xt(m=>{const _=m.injector??n,I=m.routes,{segmentGroup:A,slicedSegments:Y}=ph(e,a,c,I),Fe=new Hn(A.segments,A.children);if(0===Y.length&&Fe.hasChildren())return this.expandChildren(_,I,Fe).pipe(He(nt=>new Hn(a,nt)));if(0===I.length&&0===Y.length)return sn(new Hn(a,{}));const Ke=ms(r)===i;return this.expandSegment(_,Fe,I,Y,Ke?$n:i,!0).pipe(He(gt=>new Hn(a.concat(gt.segments),gt.children)))})):Od(e)))}getChildConfig(n,e,r){return e.children?sn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?sn({routes:e._loadedRoutes,injector:e._loadedInjector}):function v4(t,n,e,r){const o=n.canLoad;return void 0===o||0===o.length?sn(!0):sn(o.map(s=>{const a=eu(s,t);return al(function i4(t){return t&&Fd(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(tu(),cI())}(n,e,r).pipe(Xt(o=>o?this.configLoader.loadChildren(n,e).pipe(Ko(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function I4(t){return Kc(nI(mh,3))}())):sn({routes:[],injector:n})}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return sn(r);if(o.numberOfChildren>1||!o.children[$n])return Kc(new oe(4e3,mh));o=o.children[$n]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new Wl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Yo(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Yo(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new Hn(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new oe(4001,mh);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}class x4{}class R4{constructor(n,e,r,o,i,s,a,c){this.injector=n,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const n=ph(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,$n).pipe(He(e=>{if(null===e)return null;const r=new ch([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Pa(r,e),i=new J1(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(n){const e=n.value,r=Q1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,o)}processChildren(n,e,r){return Zn(Object.keys(r.children)).pipe(el(o=>{const i=r.children[o],s=aI(e,o);return this.processSegmentGroup(n,s,i,o)}),M1((o,i)=>o&&i?(o.push(...i),o):null),function e$(t,n=!1){return Ee((e,r)=>{let o=0;e.subscribe(Be(r,i=>{const s=t(i,o++);(s||n)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),eh(null),T1(),He(o=>{if(null===o)return null;const i=mI(o);return function F4(t){t.sort((n,e)=>n.value.outlet===$n?-1:e.value.outlet===$n?1:n.value.outlet.localeCompare(e.value.outlet))}(i),i}))}processSegment(n,e,r,o,i){return Zn(e).pipe(el(s=>this.processSegmentAgainstRoute(s._injector??n,s,r,o,i)),Ta(s=>!!s),xa(s=>{if(z_(s))return fI(r,o,i)?sn([]):sn(null);throw s}))}processSegmentAgainstRoute(n,e,r,o,i){if(e.redirectTo||!dI(e,r,o,i))return sn(null);let s;if("**"===e.path){const a=o.length>0?P1(o).parameters:{},c=yI(r)+o.length;s=sn({snapshot:new ch(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vI(e),ms(e),e.component??e._loadedComponent??null,e,gI(r),c,bI(e),c),consumedSegments:[],remainingSegments:[]})}else s=uI(r,e,o,n).pipe(He(({matched:a,consumedSegments:c,remainingSegments:d,parameters:m})=>{if(!a)return null;const _=yI(r)+c.length;return{snapshot:new ch(c,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vI(e),ms(e),e.component??e._loadedComponent??null,e,gI(r),_,bI(e),_),consumedSegments:c,remainingSegments:d}}));return s.pipe(Zo(a=>{if(null===a)return sn(null);const{snapshot:c,consumedSegments:d,remainingSegments:m}=a;n=e._injector??n;const _=e._loadedInjector??n,I=function O4(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:A,slicedSegments:Y}=ph(r,d,m,I.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution);if(0===Y.length&&A.hasChildren())return this.processChildren(_,I,A).pipe(He(Ke=>null===Ke?null:[new Pa(c,Ke)]));if(0===I.length&&0===Y.length)return sn([new Pa(c,[])]);const Fe=ms(e)===i;return this.processSegment(_,I,A,Y,Fe?$n:i).pipe(He(Ke=>null===Ke?null:[new Pa(c,Ke)]))}))}}function N4(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function mI(t){const n=[],e=new Set;for(const r of t){if(!N4(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=mI(r.children);n.push(new Pa(r.value,o))}return n.filter(r=>!e.has(r))}function gI(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function yI(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function vI(t){return t.data||{}}function bI(t){return t.resolve||{}}function wI(t){return"string"==typeof t.title||null===t.title}function Z_(t){return Zo(n=>{const e=t(n);return e?Zn(e).pipe(He(()=>n)):sn(n)})}let CI=(()=>{class t{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$n);return r}getResolvedTitleForRoute(e){return e.data[Ed]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:function(){return uo(SI)},providedIn:"root"}),t})(),SI=(()=>{class t extends CI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(De(JE))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EI{}class z4 extends class G4{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const _h=new dn("",{providedIn:"root",factory:()=>({})}),K_=new dn("ROUTES");let Y_=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return sn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=al(e.loadComponent()).pipe(Ko(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),k_(()=>{this.componentLoaders.delete(e)})),o=new E_(r,()=>new Xe).pipe(S_());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return sn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(He(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,d,m=!1;Array.isArray(a)?d=a:(c=a.create(e).injector,d=A1(c.get(K_,[],Kt.Self|Kt.Optional)));return{routes:d.map(G_),injector:c}}),k_(()=>{this.childrenLoaders.delete(r)})),s=new E_(i,()=>new Xe).pipe(S_());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return al(e()).pipe(Xt(r=>r instanceof zC||Array.isArray(r)?sn(r):Zn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(De(Br),De(uy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class q4{}class Z4{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function K4(t){throw t}function Y4(t,n,e){return n.parse("/")}const X4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function II(){const t=uo(T_),n=uo(Yl),e=uo(dd),r=uo(Br),o=uo(uy),i=uo(K_,{optional:!0})??[],s=uo(_h,{optional:!0})??{},a=uo(SI),c=uo(CI,{optional:!0}),d=uo(q4,{optional:!0}),m=uo(EI,{optional:!0}),_=new qr(null,t,n,e,r,o,A1(i));return d&&(_.urlHandlingStrategy=d),m&&(_.routeReuseStrategy=m),_.titleStrategy=c??a,function J4(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,_),_}let qr=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe,this.errorHandler=K4,this.malformedUriErrorHandler=Y4,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>sn(void 0),this.urlHandlingStrategy=new Z4,this.routeReuseStrategy=new z4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Y_),this.configLoader.onLoadEndListener=I=>this.triggerEvent(new O$(I)),this.configLoader.onLoadStartListener=I=>this.triggerEvent(new F$(I)),this.ngModule=s.get($l),this.console=s.get(SF);const _=s.get(ft);this.isNgZoneEnabled=_ instanceof ft&&ft.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function o$(){return new Wl(new Hn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=X1(this.currentUrlTree,this.rootComponentType),this.transitions=new rs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(qo(o=>0!==o.id),He(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Zo(o=>{let i=!1,s=!1;return sn(o).pipe(Ko(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zo(a=>{const c=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return kI(a.source)&&(this.browserUrlTree=a.extractedUrl),sn(a).pipe(Zo(_=>{const I=this.transitions.getValue();return r.next(new ah(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),I!==this.transitions.getValue()?ar:Promise.resolve(_)}),function T4(t,n,e,r){return Zo(o=>function k4(t,n,e,r,o){return new M4(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(He(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ko(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},o.urlAfterRedirects=_.urlAfterRedirects}),function $4(t,n,e,r,o,i){return Xt(s=>function P4(t,n,e,r,o,i,s="emptyOnly",a="legacy"){return new R4(t,n,e,r,o,s,a,i).recognize().pipe(Zo(c=>null===c?function A4(t){return new wt(n=>n.error(t))}(new x4):sn(c)))}(t,n,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,o,i).pipe(He(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ko(_=>{if(o.targetSnapshot=_.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!_.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);this.setBrowserUrl(A,_)}this.browserUrlTree=_.urlAfterRedirects}const I=new T$(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);r.next(I)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:A,source:Y,restoredState:Fe,extras:Ke}=a,Je=new ah(I,this.serializeUrl(A),Y,Fe);r.next(Je);const gt=X1(A,this.rootComponentType).snapshot;return sn(o={...a,targetSnapshot:gt,urlAfterRedirects:A,extras:{...Ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ar}),Ko(a=>{const c=new x$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),He(a=>o={...a,guards:e4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function d4(t,n){return Xt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?sn({...e,guardsResult:!0}):function f4(t,n,e,r){return Zn(t).pipe(Xt(o=>function _4(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?sn(i.map(a=>{const c=Ad(n)??o,d=eu(a,c);return al(function l4(t){return t&&Fd(t.canDeactivate)}(d)?d.canDeactivate(t,n,e,r):c.runInContext(()=>d(t,n,e,r))).pipe(Ta())})).pipe(tu()):sn(!0)}(o.component,o.route,e,n,r)),Ta(o=>!0!==o,!0))}(s,r,o,t).pipe(Xt(a=>a&&function o4(t){return"boolean"==typeof t}(a)?function p4(t,n,e,r){return Zn(n).pipe(el(o=>Sd(function m4(t,n){return null!==t&&n&&n(new N$(t)),sn(!0)}(o.route.parent,r),function h4(t,n){return null!==t&&n&&n(new $$(t)),sn(!0)}(o.route,r),function y4(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function t4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Jp(()=>sn(s.guards.map(c=>{const d=Ad(s.node)??e,m=eu(c,d);return al(function a4(t){return t&&Fd(t.canActivateChild)}(m)?m.canActivateChild(r,t):d.runInContext(()=>m(r,t))).pipe(Ta())})).pipe(tu())));return sn(i).pipe(tu())}(t,o.path,e),function g4(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return sn(!0);const o=r.map(i=>Jp(()=>{const s=Ad(n)??e,a=eu(i,s);return al(function s4(t){return t&&Fd(t.canActivate)}(a)?a.canActivate(n,t):s.runInContext(()=>a(n,t))).pipe(Ta())}));return sn(o).pipe(tu())}(t,o.route,e))),Ta(o=>!0!==o,!0))}(r,i,t,n):sn(a)),He(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ko(a=>{if(o.guardsResult=a.guardsResult,Zl(a.guardsResult))throw tI(0,a.guardsResult);const c=new A$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),qo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Z_(a=>{if(a.guards.canActivateChecks.length)return sn(a).pipe(Ko(c=>{const d=new P$(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}),Zo(c=>{let d=!1;return sn(c).pipe(function B4(t,n){return Xt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return sn(e);let i=0;return Zn(o).pipe(el(s=>function V4(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!wI(o)&&(i[Ed]=o.title),function H4(t,n,e,r){const o=function j4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return sn({});const i={};return Zn(o).pipe(Xt(s=>function U4(t,n,e,r){const o=Ad(n)??r,i=eu(t,o);return al(i.resolve?i.resolve(n,e):o.runInContext(()=>i(n,e)))}(t[s],n,e,r).pipe(Ta(),Ko(a=>{i[s]=a}))),D_(1),I_(i),xa(s=>z_(s)?ar:Kc(s)))}(i,t,n,r).pipe(He(s=>(t._resolvedData=s,t.data=Q1(t,e).resolve,o&&wI(o)&&(t.data[Ed]=o.title),null)))}(s.route,r,t,n)),Ko(()=>i++),D_(1),Xt(s=>i===o.length?sn(e):ar))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ko({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Ko(c=>{const d=new R$(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}))}),Z_(a=>{const c=d=>{const m=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ko(_=>{d.component=_}),He(()=>{})));for(const _ of d.children)m.push(...c(_));return m};return E1(c(a.targetSnapshot.root)).pipe(eh(),os(1))}),Z_(()=>this.afterPreactivation()),He(a=>{const c=function U$(t,n,e){const r=xd(t,n._root,e?e._root:void 0);return new Y1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return o={...a,targetRouterState:c}}),Ko(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>He(r=>(new J$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ko({next(){i=!0},complete(){i=!0}}),k_(()=>{i||s||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xa(a=>{if(s=!0,oI(a)){rI(a)||(this.navigated=!0,this.restoreHistory(o,!0));const c=new lh(o.id,this.serializeUrl(o.extractedUrl),a.message,a.cancellationCode);if(r.next(c),rI(a)){const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),m={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kI(o.source)};this.scheduleNavigation(d,"imperative",null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new q1(o.id,this.serializeUrl(o.extractedUrl),a,o.targetSnapshot??void 0);r.next(c);try{o.resolve(this.errorHandler(a))}catch(d){o.reject(d)}}return ar}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},i=e.state?.navigationId?e.state:null;if(i){const a={...i};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,i,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(G_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=o||this.routerState.root,m=c?this.currentUrlTree.fragment:s;let _=null;switch(a){case"merge":_={...this.currentUrlTree.queryParams,...i};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=i||null}return null!==_&&(_=this.removeEmptyProps(_)),S$(d,this.currentUrlTree,e,_,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Zl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function eB(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new oe(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...X4}:!1===r?{...Q4}:r,Zl(e))return F1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return F1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Kl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((I,A)=>{a=I,c=A});const m=++this.navigationId;let _;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),_=o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_=0,this.setTransition({id:m,targetPageId:_,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(I=>Promise.reject(I))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const i=new lh(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){hg()},t.\u0275prov=vt({token:t,factory:function(){return II()},providedIn:"root"}),t})();function kI(t){return"imperative"!==t}class MI{}let rB=(()=>{class t{preload(e,r){return r().pipe(xa(()=>sn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oB=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(qo(e=>e instanceof Kl),el(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=dp(i.providers,e,`Route: ${i.path}`));const s=i._injector??e,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Zn(o).pipe(so())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):sn(null);const i=o.pipe(Xt(s=>null===s?sn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?Zn([i,this.loader.loadComponent(r)]).pipe(so()):i})}}return t.\u0275fac=function(e){return new(e||t)(De(qr),De(uy),De(Za),De(MI),De(Y_))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Q_=new dn("");let TI=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ah?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Z1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Z1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){hg()},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();function nu(t,n){return{\u0275kind:t,\u0275providers:n}}function J_(t){return[{provide:K_,multi:!0,useValue:t}]}function AI(){const t=uo(Br);return n=>{const e=t.get(Qa);if(n!==e.components[0])return;const r=t.get(qr),o=t.get(PI);1===t.get(ev)&&r.initialNavigation(),t.get(RI,null,Kt.Optional)?.setUpPreloading(),t.get(Q_,null,Kt.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const PI=new dn("",{factory:()=>new Xe}),ev=new dn("",{providedIn:"root",factory:()=>1});const RI=new dn("");function lB(t){return nu(0,[{provide:RI,useExisting:oB},{provide:MI,useExisting:t}])}const FI=new dn("ROUTER_FORROOT_GUARD"),cB=[dd,{provide:T_,useClass:x_},{provide:qr,useFactory:II},Yl,{provide:Ks,useFactory:function xI(t){return t.routerState.root},deps:[qr]},Y_];function uB(){return new VS("Router",qr)}let Ch=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[cB,[],J_(e),{provide:FI,useFactory:hB,deps:[[qr,new Fu,new Ou]]},{provide:_h,useValue:r||{}},r?.useHash?{provide:zs,useClass:fE}:{provide:zs,useClass:dE},{provide:Q_,useFactory:()=>{const t=uo(qr),n=uo(DN),e=uo(_h);return e.scrollOffset&&n.setOffset(e.scrollOffset),new TI(t,n,e)}},r?.preloadingStrategy?lB(r.preloadingStrategy).\u0275providers:[],{provide:VS,multi:!0,useFactory:uB},r?.initialNavigation?mB(r):[],[{provide:OI,useFactory:AI},{provide:RS,multi:!0,useExisting:OI}]]}}static forChild(e){return{ngModule:t,providers:[J_(e)]}}}return t.\u0275fac=function(e){return new(e||t)(De(FI,8))},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[j_]}),t})();function hB(t){return"guarded"}function mB(t){return["disabled"===t.initialNavigation?nu(3,[{provide:Bl,multi:!0,useFactory:()=>{const n=uo(qr);return()=>{n.setUpLocationChangeListener()}}},{provide:ev,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nu(2,[{provide:ev,useValue:0},{provide:Bl,multi:!0,deps:[Br],useFactory:n=>{const e=n.get(cO,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(i=>{const s=n.get(qr),a=n.get(PI);(function o(i){n.get(qr).events.pipe(qo(a=>a instanceof Kl||a instanceof lh||a instanceof q1),He(a=>a instanceof Kl||a instanceof lh&&(0===a.code||1===a.code)&&null),qo(a=>null!==a),os(1)).subscribe(()=>{i()})})(()=>{i(!0),r=!0}),s.afterPreactivation=()=>(i(!0),r||a.closed?sn(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const OI=new dn("");R(8211),R(9591),R(2797),R(9286);var tv=R(8607),ru=R(9259),Ld=R(1856),$d=(R(6277),R(5354)),NI=(R(2286),R(6379),R(1559));function $I(t,n=Q){return t=t??_B,Ee((e,r)=>{let o,i=!0;e.subscribe(Be(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function _B(t,n){return t===n}const bB=tv.i,Nt=["*"],SB=["outlet"],EB=[[["","slot","top"]],"*"],DB=["[slot=top]","*"],BI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),VI=t=>!!t.resolveComponentFactory;let Bd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",ou(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),ou(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),ou(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(ka)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>ou(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),ou(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(C(Br),C(yt))},t.\u0275dir=ce({type:t,hostBindings:function(e,r){1&e&&at("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const ou=t=>{BI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=MB(n);nv(n,r);const o=n.closest("ion-item");o&&nv(o,e?[...r,"item-has-value"]:r)})},MB=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&TB(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},nv=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},TB=(t,n)=>t.substring(0,n.length)===n;let iu=(()=>{class t extends Bd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,ou(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(C(Br),C(yt))},t.\u0275dir=ce({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Cr([{provide:vi,useExisting:t,multi:!0}]),Jn]}),t})(),Vd=(()=>{class t extends Bd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(Br),C(yt))},t.\u0275dir=ce({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Cr([{provide:vi,useExisting:t,multi:!0}]),Jn]}),t})(),ll=(()=>{class t extends Bd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(Br),C(yt))},t.\u0275dir=ce({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&at("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Cr([{provide:vi,useExisting:t,multi:!0}]),Jn]}),t})();const PB=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},RB=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},dr=(t,n,e)=>{e.forEach(r=>t[r]=Cd(n,r))};function Rt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&PB(e,o),i&&RB(e,i),e}}let HI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-app"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0})],t),t})(),jI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),Ni=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),Li=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),UI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],t),t})(),$i=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Bi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),Bo=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),cl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),Vo=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),Sh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),Eh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),Dh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),Vi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),Ys=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),GI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),rv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),Ih=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),kh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),Hd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),ov=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),zI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),Hi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),jd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],t),t})(),ji=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(Mt),C(yt),C(ft))},t.\u0275cmp=y({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),t=J([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class WI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let Mh=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new AV(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(De(ft),De(Qa))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class AV{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(PV(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const PV=(t,n,e,r,o,i,s,a,c,d,m)=>{let _;const I=Br.create({providers:FV(d),parent:e});if(n&&VI(n)){const Ke=n.resolveComponentFactory(c);_=r?r.createComponent(Ke,r.length,I):Ke.create(I)}else{if(!r)return null;_=r.createComponent(c,{index:r.indexOf,injector:I,environmentInjector:n})}const A=_.instance,Y=_.location.nativeElement;if(d&&Object.assign(A,d),m)for(const Ke of m)Y.classList.add(Ke);const Fe=qI(t,A,Y);return a.appendChild(Y),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Y,_),s.set(Y,Fe),Y},RV=[Ld.L,Ld.a,Ld.b,Ld.c,Ld.d],qI=(t,n,e)=>t.run(()=>{const r=RV.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),ZI=new dn("NavParamsToken"),FV=t=>[{provide:ZI,useValue:t},{provide:WI,useFactory:OV,deps:[ZI]}],OV=t=>new WI(t),KI=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),iv=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},VV=(t,n)=>{if(!t)return;const e=YI(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},YI=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),XI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class HV{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?YI(n):void 0}createView(n,e){var r;const o=iv(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=qI(this.zone,n.instance,i);return{id:this.nextId++,stackId:VV(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=iv(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,d=((t,n)=>!n||t.stackId!==n.stackId)(n,c);d&&(i="back",s=void 0);const m=this.views.slice();let _;const I=this.router;I.getCurrentNavigation?_=I.getCurrentNavigation():!(null===(e=I.navigations)||void 0===e)&&e.value&&(_=I.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const A=this.views.includes(n),Y=this.insertView(n,i);A||n.ref.changeDetectorRef.detectChanges();const Fe=n.animationBuilder;return void 0===a&&"back"===i&&!d&&void 0!==Fe&&(a=Fe),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>jV(n,Y,m,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:d})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const m=c.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:d}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:d})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&QI(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(XI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?KI(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):KI(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,d=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==d&&d.appendChild(a),d.commit)?d.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return nr(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const jV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{QI(t,n,e,r,o),i()})}):Promise.resolve(),QI=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(XI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let sv=(()=>{class t{get(e,r){const o=av();return o?o.get(e,r):null}getBoolean(e,r){const o=av();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=av();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JI=new dn("USERCONFIG"),av=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let UV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new Xe,this.keyboardDidShow=new Xe,this.keyboardDidHide=new Xe,this.pause=new Xe,this.resume=new Xe,this.resize=new Xe,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,d=>r.run(()=>a(d))))},su(this.pause,e,"pause"),su(this.resume,e,"resume"),su(this.backButton,e,"ionBackButton"),su(this.resize,this.win,"resize"),su(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),su(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,tv.a)(this.win,e)}platforms(){return(0,tv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return GV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(De(Ao),De(ft))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const GV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},su=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let Ud=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=ek,this.animated=tk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof ah){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return nr(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=zV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=ek,this.animated=tk,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(De(UV),De(dd),De(T_),De(qr,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},ek="auto",tk=void 0;let Gd=(()=>{class t{constructor(e,r,o,i,s,a,c,d,m,_,I,A,Y){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=c,this.parentOutlet=Y,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new rs(null),this.stackEvents=new vn,this.activateEvents=new vn,this.deactivateEvents=new vn,this.nativeEl=m.nativeElement,this.name=o||$n,this.tabsPrefix="true"===i?iv(_,A):void 0,this.stackCtrl=new HV(this.tabsPrefix,this.nativeEl,_,a,I,d),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,ru.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let i,s=this.stackCtrl.getExistingView(e);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,e)}else{const a=e._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const c=this.parentContexts.getOrCreateContext(this.name).children,d=new rs(null),m=this.createActivatedRouteProxy(d,e),_=new WV(m,c,this.location.injector),I=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&VI(r)){const A=r.resolveComponentFactory(I);i=this.activated=this.location.createComponent(A,this.location.length,_)}else i=this.activated=this.location.createComponent(I,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});d.next(i.instance),s=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:e})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Ks;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(qo(o=>!!o),Zo(o=>this.currentActivatedRoute$.pipe(qo(i=>null!==i&&i.component===o),Zo(i=>i&&i.activatedRoute[r]),$I())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(C(Yl),C(fi),xl("name"),xl("tabs"),C(sv),C(Ud),C(pa,8),C(dd),C(yt),C(qr),C(ft),C(Ks),C(t,12))},t.\u0275dir=ce({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class WV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ks?this.route:n===Yl?this.childContexts:this.parent.get(n,e)}}let nk=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new vn,this.ionTabsDidChange=new vn}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const d=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},d&&s===d.url&&d.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),d=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},d),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(C(Ud))},t.\u0275cmp=y({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function va(t,n,e,r){const o=zn();if(o.firstCreatePass){const i=hn();dS(o,new lS(n,e,r),i.index),function nF(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}uS(o,ht(),e)}(o,ov,5),2&e){let i;Ri(i=Fi())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&Uc(SB,5,Gd),2&e){let o;Ri(o=Fi())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&at("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:DB,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(e,r){1&e&&(Pt(EB),At(0),re(1,"div",0)(2,"ion-router-outlet",1,2),at("stackEvents",function(i){return r.onPageSelected(i)}),X()(),At(4,1)),2&e&&(tt(2),ot("environmentInjector",r.environmentInjector))},dependencies:[Gd],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),rk=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(C(Gd,8),C(Ud),C(sv))},t.\u0275dir=ce({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&at("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),ok=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),dr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(yt),C(pa),C(Br),C(Mh),C(fi))},t.\u0275dir=ce({type:t,selectors:[["ion-nav"]]}),t=J([Rt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class zd{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Wd=(()=>{class t extends zd{constructor(){super($d.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),au=(()=>{class t extends zd{constructor(){super($d.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xl=(()=>{class t extends zd{constructor(){super($d.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class lk{}let is=(()=>{class t extends zd{constructor(e,r,o,i){super($d.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(De(Mh),De(pa),De(Br),De(lk,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),Ql=(()=>{class t extends zd{constructor(e,r,o,i){super($d.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(De(Mh),De(pa),De(Br),De(lk,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class JV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const eH=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function vB(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,NI.p)().then(()=>(bB(),(0,NI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:BI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let ul=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:JI,useValue:e},{provide:Bl,useFactory:eH,multi:!0,deps:[JI,Ao,ft]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({providers:[Mh,is,Ql],imports:[[Ws]]}),t})();let lu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const uk=/[&<>"']/,nH=new RegExp(uk.source,"g"),dk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,rH=new RegExp(dk.source,"g"),oH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fk=t=>oH[t];function Xo(t,n){if(n){if(uk.test(t))return t.replace(nH,fk)}else if(dk.test(t))return t.replace(rH,fk);return t}const iH=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function pk(t){return t.replace(iH,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const sH=/(^|[^\[])\^/g;function Ar(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(sH,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const aH=/[^\w:]/g,lH=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function hk(t,n,e){if(t){let r;try{r=decodeURIComponent(pk(e)).replace(aH,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!lH.test(e)&&(e=function fH(t,n){Th[" "+t]||(Th[" "+t]=cH.test(t)?t+"/":Ah(t,"/",!0));const e=-1===(t=Th[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(uH,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(dH,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Th={},cH=/^[^:]+:\/*[^/]*$/,uH=/^([^:]+:)[\s\S]*$/,dH=/^([^:]+:\/*[^/]*)[\s\S]*$/,xh={exec:function(){}};function Is(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function mk(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,d=s;for(;--d>=0&&"\\"===a[d];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Ah(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function gk(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function yk(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function _k(t,n,e,r){const o=n.href,i=n.title?Xo(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Xo(s)}}class lv{constructor(n){this.options=n||lu}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ah(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function hH(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const o=Ah(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:e[0],tokens:i,text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,d,m,_,I,A,Y,Fe=e[1].trim();const Ke=Fe.length>1,Je={type:"list",raw:"",ordered:Ke,start:Ke?+Fe.slice(0,-1):"",loose:!1,items:[]};Fe=Ke?`\\d{1,9}\\${Fe.slice(-1)}`:`\\${Fe}`,this.options.pedantic&&(Fe=Ke?Fe:"[*+-]");const gt=new RegExp(`^( {0,3}${Fe})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(Y=!1,(e=gt.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),m=e[2].split("\n",1)[0].replace(/^\t+/,pt=>" ".repeat(3*pt.length)),_=n.split("\n",1)[0],this.options.pedantic?(s=2,A=m.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,A=m.slice(s),s+=e[1].length),c=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",n=n.substring(_.length+1),Y=!0),!Y){const pt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),nn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),wn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),po=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(I=n.split("\n",1)[0],_=I,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(wn.test(_)||po.test(_)||pt.test(_)||nn.test(n)));){if(_.search(/[^ ]/)>=s||!_.trim())A+="\n"+_.slice(s);else{if(c||m.search(/[^ ]/)>=4||wn.test(m)||po.test(m)||nn.test(m))break;A+="\n"+_}!c&&!_.trim()&&(c=!0),r+=I+"\n",n=n.substring(I.length+1),m=_.slice(s)}}Je.loose||(d?Je.loose=!0:/\n *\n *$/.test(r)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(A),o&&(i="[ ] "!==o[0],A=A.replace(/^\[[ xX]\] +/,""))),Je.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:A}),Je.raw+=r}Je.items[Je.items.length-1].raw=r.trimRight(),Je.items[Je.items.length-1].text=A.trimRight(),Je.raw=Je.raw.trimRight();const nt=Je.items.length;for(a=0;a<nt;a++)if(this.lexer.state.top=!1,Je.items[a].tokens=this.lexer.blockTokens(Je.items[a].text,[]),!Je.loose){const pt=Je.items[a].tokens.filter(wn=>"space"===wn.type),nn=pt.length>0&&pt.some(wn=>/\n.*\n/.test(wn.raw));Je.loose=nn}if(Je.loose)for(a=0;a<nt;a++)Je.items[a].loose=!0;return Je}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(e[0]):Xo(e[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(n){const e=this.rules.block.def.exec(n);if(e){const r=e[1].toLowerCase().replace(/\s+/g," "),o=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:o,title:i}}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:mk(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=mk(r.rows[i],r.header.length).map(d=>({text:d}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Xo(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Xo(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Ah(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function pH(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),_k(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return _k(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,d=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=_.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){d+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){m+=c;continue}if(d-=c,d>0)continue;c=Math.min(c,c+d+m);const I=n.slice(0,s+o.index+(o[0].length-a.length)+c);if(Math.min(s,c)%2){const Y=I.slice(1,-1);return{type:"em",raw:I,text:Y,tokens:this.lexer.inlineTokens(Y)}}const A=I.slice(2,-2);return{type:"strong",raw:I,text:A,tokens:this.lexer.inlineTokens(A)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Xo(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Xo(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Xo(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Xo(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Xo(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Xo(r[0]):r[0]:Xo(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const mn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xh,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};mn.def=Ar(mn.def).replace("label",mn._label).replace("title",mn._title).getRegex(),mn.bullet=/(?:[*+-]|\d{1,9}[.)])/,mn.listItemStart=Ar(/^( *)(bull) */).replace("bull",mn.bullet).getRegex(),mn.list=Ar(mn.list).replace(/bull/g,mn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+mn.def.source+")").getRegex(),mn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,mn.html=Ar(mn.html,"i").replace("comment",mn._comment).replace("tag",mn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),mn.paragraph=Ar(mn._paragraph).replace("hr",mn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mn._tag).getRegex(),mn.blockquote=Ar(mn.blockquote).replace("paragraph",mn.paragraph).getRegex(),mn.normal=Is({},mn),mn.gfm=Is({},mn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),mn.gfm.table=Ar(mn.gfm.table).replace("hr",mn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mn._tag).getRegex(),mn.gfm.paragraph=Ar(mn._paragraph).replace("hr",mn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",mn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mn._tag).getRegex(),mn.pedantic=Is({},mn.normal,{html:Ar("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",mn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ar(mn.normal._paragraph).replace("hr",mn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",mn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function mH(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function vk(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}Zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Zt.punctuation=Ar(Zt.punctuation).replace(/punctuation/g,Zt._punctuation).getRegex(),Zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Zt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Zt._comment=Ar(mn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Zt.emStrong.lDelim=Ar(Zt.emStrong.lDelim).replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimAst=Ar(Zt.emStrong.rDelimAst,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt.emStrong.rDelimUnd=Ar(Zt.emStrong.rDelimUnd,"g").replace(/punct/g,Zt._punctuation).getRegex(),Zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Zt.autolink=Ar(Zt.autolink).replace("scheme",Zt._scheme).replace("email",Zt._email).getRegex(),Zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Zt.tag=Ar(Zt.tag).replace("comment",Zt._comment).replace("attribute",Zt._attribute).getRegex(),Zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Zt.link=Ar(Zt.link).replace("label",Zt._label).replace("href",Zt._href).replace("title",Zt._title).getRegex(),Zt.reflink=Ar(Zt.reflink).replace("label",Zt._label).replace("ref",mn._label).getRegex(),Zt.nolink=Ar(Zt.nolink).replace("ref",mn._label).getRegex(),Zt.reflinkSearch=Ar(Zt.reflinkSearch,"g").replace("reflink",Zt.reflink).replace("nolink",Zt.nolink).getRegex(),Zt.normal=Is({},Zt),Zt.pedantic=Is({},Zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ar(/^!?\[(label)\]\((.*?)\)/).replace("label",Zt._label).getRegex(),reflink:Ar(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zt._label).getRegex()}),Zt.gfm=Is({},Zt.normal,{escape:Ar(Zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Zt.gfm.url=Ar(Zt.gfm.url,"i").replace("email",Zt.gfm._extended_email).getRegex(),Zt.breaks=Is({},Zt.gfm,{br:Ar(Zt.br).replace("{2,}","*").getRegex(),text:Ar(Zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ra{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||lu,this.options.tokenizer=this.options.tokenizer||new lv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:mn.normal,inline:Zt.normal};this.options.pedantic?(e.block=mn.pedantic,e.inline=Zt.pedantic):this.options.gfm&&(e.block=mn.gfm,e.inline=this.options.breaks?Zt.breaks:Zt.gfm),this.tokenizer.rules=e}static get rules(){return{block:mn,inline:Zt}}static lex(n,e){return new Ra(e).lex(n)}static lexInline(n,e){return new Ra(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,d)=>c+"    ".repeat(d.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let d;this.options.extensions.startBlock.forEach(function(m){d=m.call({lexer:this},c),"number"==typeof d&&d>=0&&(a=Math.min(a,d))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let r,o,i,a,c,d,s=n;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+yk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+yk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(c||(d=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,d)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,vk)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,vk))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=n.slice(1);let I;this.options.extensions.startInline.forEach(function(A){I=A.call({lexer:this},_),"number"==typeof I&&I>=0&&(m=Math.min(m,I))}),m<1/0&&m>=0&&(i=n.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,mH)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(d=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const m="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return e}}class cu{constructor(n){this.options=n||lu}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Xo(o)+'">'+(r?n:Xo(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Xo(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=hk(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+n+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=hk(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class bk{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class wk{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Xs{constructor(n){this.options=n||lu,this.options.renderer=this.options.renderer||new cu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new bk,this.slugger=new wk}static parse(n,e){return new Xs(e).parse(n)}static parseInline(n,e){return new Xs(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,d,m,_,I,A,Y,Fe,Ke,Je,gt,nt,pt,nn,wn,r="";const po=n.length;for(o=0;o<po;o++)if(A=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[A.type]&&(wn=this.options.extensions.renderers[A.type].call({parser:this},A),!1!==wn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type)))r+=wn||"";else switch(A.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(A.tokens),A.depth,pk(this.parseInline(A.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(A.text,A.lang,A.escaped);continue;case"table":for(_="",m="",a=A.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(A.header[i].tokens),{header:!0,align:A.align[i]});for(_+=this.renderer.tablerow(m),I="",a=A.rows.length,i=0;i<a;i++){for(d=A.rows[i],m="",c=d.length,s=0;s<c;s++)m+=this.renderer.tablecell(this.parseInline(d[s].tokens),{header:!1,align:A.align[s]});I+=this.renderer.tablerow(m)}r+=this.renderer.table(_,I);continue;case"blockquote":I=this.parse(A.tokens),r+=this.renderer.blockquote(I);continue;case"list":for(Y=A.ordered,Fe=A.start,Ke=A.loose,a=A.items.length,I="",i=0;i<a;i++)gt=A.items[i],nt=gt.checked,pt=gt.task,Je="",gt.task&&(nn=this.renderer.checkbox(nt),Ke?gt.tokens.length>0&&"paragraph"===gt.tokens[0].type?(gt.tokens[0].text=nn+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&"text"===gt.tokens[0].tokens[0].type&&(gt.tokens[0].tokens[0].text=nn+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:nn}):Je+=nn),Je+=this.parse(gt.tokens,Ke),I+=this.renderer.listitem(Je,pt,nt);r+=this.renderer.list(I,Y,Fe);continue;case"html":r+=this.renderer.html(A.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(A.tokens));continue;case"text":for(I=A.tokens?this.parseInline(A.tokens):A.text;o+1<po&&"text"===n[o+1].type;)A=n[++o],I+="\n"+(A.tokens?this.parseInline(A.tokens):A.text);r+=e?this.renderer.paragraph(I):I;continue;default:{const Gi='Token with "'+A.type+'" type was not found.';if(this.options.silent)return void console.error(Gi);throw new Error(Gi)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function yn(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),gk(n=Is({},yn.defaults,n||{})),e){const o=n.highlight;let i;try{i=Ra.lex(t,n)}catch(c){return e(c)}const s=function(c){let d;if(!c)try{n.walkTokens&&yn.walkTokens(i,n.walkTokens),d=Xs.parse(i,n)}catch(m){c=m}return n.highlight=o,c?e(c):e(null,d)};if(!o||o.length<3||(delete n.highlight,!i.length))return s();let a=0;return yn.walkTokens(i,function(c){"code"===c.type&&(a++,setTimeout(()=>{o(c.text,c.lang,function(d,m){if(d)return s(d);null!=m&&m!==c.text&&(c.text=m,c.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Xo(o.message+"",!0)+"</pre>";throw o}try{const o=Ra.lex(t,n);if(n.walkTokens){if(n.async)return Promise.all(yn.walkTokens(o,n.walkTokens)).then(()=>Xs.parse(o,n)).catch(r);yn.walkTokens(o,n.walkTokens)}return Xs.parse(o,n)}catch(o){r(o)}}yn.options=yn.setOptions=function(t){return Is(yn.defaults,t),function tH(t){lu=t}(yn.defaults),yn},yn.getDefaults=function ck(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},yn.defaults=lu,yn.use=function(...t){const n=yn.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(e=>{const r=Is({},e);if(r.async=yn.defaults.async||r.async,e.extensions&&(e.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=n.renderers[o.name];n.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&("block"===o.level?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:"inline"===o.level&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),e.renderer){const o=yn.defaults.renderer||new cu;for(const i in e.renderer){const s=o[i];o[i]=(...a)=>{let c=e.renderer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.renderer=o}if(e.tokenizer){const o=yn.defaults.tokenizer||new lv;for(const i in e.tokenizer){const s=o[i];o[i]=(...a)=>{let c=e.tokenizer[i].apply(o,a);return!1===c&&(c=s.apply(o,a)),c}}r.tokenizer=o}if(e.walkTokens){const o=yn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(e.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}yn.setOptions(r)})},yn.walkTokens=function(t,n){let e=[];for(const r of t)switch(e=e.concat(n.call(yn,r)),r.type){case"table":for(const o of r.header)e=e.concat(yn.walkTokens(o.tokens,n));for(const o of r.rows)for(const i of o)e=e.concat(yn.walkTokens(i.tokens,n));break;case"list":e=e.concat(yn.walkTokens(r.items,n));break;default:yn.defaults.extensions&&yn.defaults.extensions.childTokens&&yn.defaults.extensions.childTokens[r.type]?yn.defaults.extensions.childTokens[r.type].forEach(function(o){e=e.concat(yn.walkTokens(r[o],n))}):r.tokens&&(e=e.concat(yn.walkTokens(r.tokens,n)))}return e},yn.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");gk(n=Is({},yn.defaults,n||{}));try{const e=Ra.lexInline(t,n);return n.walkTokens&&yn.walkTokens(e,n.walkTokens),Xs.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Xo(e.message+"",!0)+"</pre>";throw e}},yn.Parser=Xs,yn.parser=Xs.parse,yn.Renderer=cu,yn.TextRenderer=bk,yn.Lexer=Ra,yn.lexer=Ra.lex,yn.Tokenizer=lv,yn.Slugger=wk,yn.parse=yn;class gH extends q{constructor(n,e){super()}schedule(n,e=0){return this}}const Ph={setInterval(t,n,...e){const{delegate:r}=Ph;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Ph;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},cv={now:()=>(cv.delegate||Date).now(),delegate:void 0};class qd{constructor(n,e=qd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}qd.now=cv.now;const Ck=new class _H extends qd{constructor(n,e=qd.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class yH extends gH{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return Ph.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Ph.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,se(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),vH=Ck;function Sk(t=0,n,e=vH){let r=-1;return null!=n&&(ti(n)?e=n:r=n),new wt(o=>{let i=function bH(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class wH extends Xe{constructor(n=1/0,e=1/0,r=cv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const EH=["*"];let uv=(()=>{class t{constructor(){this._buttonClick$=new Xe,this.copied$=this._buttonClick$.pipe(Zo(()=>Uo(sn(!0),Sk(3e3).pipe(I_(!1)))),$I(),function CH(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,Si({connector:()=>new wH(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(I1(!1),He(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(re(0,"button",0),at("click",function(){return r.onCopyToClipboardClick()}),js(1,"async"),Ze(2),js(3,"async"),X()),2&e&&(_a("copied",Us(1,3,r.copied$)),tt(2),ts(Us(3,5,r.copiedText$)))},dependencies:[xE],encapsulation:2,changeDetection:0}),t})();class kH{}var Zd=(()=>{return(t=Zd||(Zd={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",Zd;var t})();class Ek{}const Dk=new dn("SECURITY_CONTEXT");let dv=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new cu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new Xe,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new cu));const d=this.trimIndentation(e),m=o?this.decodeHtml(d):d,_=s?this.parseEmoji(m):m,I=this.parseMarked(_,c,i);return this.sanitizer.sanitize(this.securityContext,I)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:d,mermaidOptions:m}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(He(r=>this.handleExtension(e,r)))}highlight(e){if(!Da(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!Da(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),d=c>-1?a.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return Da(this.platform)?o?yn.parseInline(e,r):yn.parse(e,r):e}parseEmoji(e){if(!Da(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(Da(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!Da(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const d=a.item(c),m=document.createElement("div");m.style.position="relative",d.parentNode.insertBefore(m,d),m.appendChild(d);const _=document.createElement("div");let I,A;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),d.onmouseover=()=>_.style.opacity="1",d.onmouseout=()=>_.style.opacity="0",I=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(uv).hostView,I.rootNodes.forEach(Y=>{Y.onmouseover=()=>_.style.opacity="1",_.appendChild(Y),A=new ClipboardJS(Y,{text:()=>d.innerText})}),I.onDestroy(()=>A.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!Da(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(De(Wc),De(Dk),De(Qy,8),De(kH,8),De(Ek,8),De(qy))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),fv=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new vn,this.load=new vn,this.ready=new vn,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Xe}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function SH(t){return Ee((n,e)=>{S(t).subscribe(Be(e,()=>e.complete(),B)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Zd.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Zd.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(C(yt),C(dv),C(fi))},t.\u0275cmp=y({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[vo],ngContentSelectors:EH,decls:1,vars:0,template:function(e,r){1&e&&(Pt(),At(0))},encapsulation:2}),t})(),pv=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[dv,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:Dk,useValue:e&&null!=e.sanitize?e.sanitize:xr.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws]}),t})();var Ik;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(Ik||(Ik={}));var Se=R(3918);const OH="safari"in window,kk=!navigator.userAgent.match(/(crios)|(fxios)/i),ks=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Mk=!!navigator.userAgent.match(/android/i);var dl=(()=>{return(t=dl||(dl={})).web="web",t.pwa="pwa",t.twa="twa",dl;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const $H=new Error("request for lock canceled");var Tk=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(m){try{d(r.next(m))}catch(_){s(_)}}function c(m){try{d(r.throw(m))}catch(_){s(_)}}function d(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}d((r=r.apply(t,n||[])).next())})};class BH{constructor(n,e=$H){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return Tk(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return Tk(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class Qs{constructor(n){this._semaphore=new BH(1,n)}acquire(){return t=this,n=void 0,r=function*(){const[,n]=yield this._semaphore.acquire();return n},new((e=void 0)||(e=Promise))(function(i,s){function a(m){try{d(r.next(m))}catch(_){s(_)}}function c(m){try{d(r.throw(m))}catch(_){s(_)}}function d(m){m.done?i(m.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(a,c)}d((r=r.apply(t,n||[])).next())});var t,n,e,r}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Rh="cloudpilot-session-preview";function Ak(){localStorage.removeItem(Rh)}function Qo(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,Se.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),e}}let Fa=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Or{constructor(n,e){this.alertController=n,this.emulationState=e,this.emergencySaveEvent=new Lo.j}errorMessage(n){var e=this;return(0,Se.Z)(function*(){yield(yield e.alertController.create({header:"Error",backdropDismiss:!1,message:n,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(n,e,r={},o="Close"){var i=this;return(0,Se.Z)(function*(){const s=yield i.alertController.create({header:n,message:e,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var n=this;return(0,Se.Z)(function*(){const e=yield n.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield e.present(),yield e.onDidDismiss()})()}fatalError(n,e=!0){var r=this;return(0,Se.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${n}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&e?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&e?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${n}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Or.\u0275fac=function(n){return new(n||Or)(De(au),De(Fa))},Or.\u0275prov=vt({token:Or,factory:Or.\u0275fac,providedIn:"root"}),J([Qo()],Or.prototype,"updateAvailable",null),J([Qo()],Or.prototype,"fatalError",null),J([Qo()],Or.prototype,"errorInNativeCode",null);let Jl=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&Ak(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new Lo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(De(Or),De(ft))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Nr=(()=>{return(t=Nr||(Nr={})).cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",Nr;var t})();let Kd=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Nr.none}claim(e,r){this.assertOwnership(e,Nr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=r===Nr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${r}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)(De(Jl))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pl="session",uu="rom",hl="memory",Oa="state",Fh="kvs",ml="memory-meta",Js="storage",ss="storage-card",Yd="lock";class du extends Error{constructor(n){super(n)}}function Xn(t){return new Promise((n,e)=>{!function WH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new du(t.error?.message))})}function Rk(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function qH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const Oh="session",mv="memory",KH="memory-meta",YH="storage",Ok="storage-meta",Nk="storage-card",QH="storageId";function gv(){return(gv=(0,Se.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(Oh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,d={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(d),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function yv(){return(yv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function _v(){return(_v=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(KH,{keyPath:"sessionId"});t.createObjectStore(YH),t.createObjectStore(Ok,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(Oh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function vv(){return(vv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(Ok).name=Nk})).apply(this,arguments)}function bv(){return(bv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(Nk).createIndex(QH,"storageId")})).apply(this,arguments)}function wv(){return(wv=(0,Se.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var aj=R(5023),lj=R.n(aj);const Lk={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Nh;const cj=new Uint8Array(16);function uj(){if(!Nh&&(Nh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nh(cj)}const Jo=[];for(let t=0;t<256;++t)Jo.push((t+256).toString(16).slice(1));const Cv=function dj(t,n,e){if(Lk.randomUUID&&!n&&!t)return Lk.randomUUID();const r=(t=t||{}).random||(t.rng||uj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function $k(t,n=0){return(Jo[t[n+0]]+Jo[t[n+1]]+Jo[t[n+2]]+Jo[t[n+3]]+"-"+Jo[t[n+4]]+Jo[t[n+5]]+"-"+Jo[t[n+6]]+Jo[t[n+7]]+"-"+Jo[t[n+8]]+Jo[t[n+9]]+"-"+Jo[t[n+10]]+Jo[t[n+11]]+Jo[t[n+12]]+Jo[t[n+13]]+Jo[t[n+14]]+Jo[t[n+15]]).toLowerCase()}(r)},Sv=new Error("page lock lost"),Bk=new Error("version mismatch"),Vk=Cv();function ro(){return(t,n,e)=>{const r=e.value;return e.value=(0,Se.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof du?o.fatalIDBDead():i===Bk?o.fatalVersionMismatch():i===Sv?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class jn{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(hl),c=o.objectStore(ml),d=new Uint32Array(256),m=new Uint8Array(d.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const I=s.length>>>10;for(let A=0;A<I;A++){m.set(s.subarray(1024*A,1024*(A+1)));const Y=Rk(d);if("number"==typeof Y)a.put(Y,[i,A]);else{const Fe=new Uint32Array(256);Fe.set(Y),a.put(Fe,[i,A])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,Se.Z)(function*(){const s=o.objectStore(ml),a=yield Xn(s.get(i));if(a)return new Promise(function(){var c=(0,Se.Z)(function*(d,m){const _=o.objectStore(hl),I=new Uint32Array(a.totalSize>>>2),A=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));A.onsuccess=()=>{const Y=A.result;if(!Y)return d(new Uint8Array(I.buffer));const Fe=Y.value,[,Ke]=Y.key;"number"==typeof Fe?I.subarray(256*Ke,256*(Ke+1)).fill(Fe|Fe<<8|Fe<<16|Fe<<24):I.subarray(256*Ke,256*(Ke+1)).set(1024===Fe.length?new Uint32Array(Fe.buffer):Fe),Y.continue()},A.onerror=()=>m(new du(A.error?.message))});return function(d,m){return c.apply(this,arguments)}}())})),this.sessionChangeEvent=new Lo.j,this.storageCardChangeEvent=new Lo.j,this.sessionUpdateMutex=new Qs,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,Se.Z)(function*(){const s=lj()(e),a=yield i.newTransaction(pl,uu,Oa,hl,ml),c=a.objectStore(pl),d=a.objectStore(uu);(yield Xn(d.get(s)))||d.put(e,s);const{id:_,...I}=n,A=yield Xn(c.add({...I,rom:s})),Y=yield Xn(c.get(A));return r&&i.saveMemory(a,Y.id,r),o&&i.saveState(a,Y.id,o),yield Xn(a),Y})()}getAllSessions(){var n=this;return(0,Se.Z)(function*(){const[e]=yield n.prepareObjectStore(pl);return yield Xn(e.getAll())})()}getSession(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(pl);return yield Xn(r.get(n))})()}deleteSession(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(pl,uu,Oa,hl,ml),o=r.objectStore(pl),i=r.objectStore(uu);(n=yield Xn(o.get(n.id)))&&(o.delete(n.id),0===(yield Xn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield Xn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,Se.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[d,m]=yield r.prepareObjectStore(pl),_=yield Xn(d.get(n));if(!_)throw new Error(`no session with id ${n}`);const I={..._,...c};d.put(I),yield Xn(m),r.sessionChangeEvent.dispatch([_.id,I])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(pl),i=yield Xn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield Xn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(uu,Oa,hl,ml),o=r.objectStore(uu);return[yield Xn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Oa);r.delete(n.id),yield Xn(o)})()}addEmptyStorageCard(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(ss),o=yield Xn(r.add(n)),i=yield Xn(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,Se.Z)(function*(){return r.ngZone.runOutsideAngular((0,Se.Z)(function*(){const o=yield r.newTransaction(ss,Js),i=o.objectStore(ss),s=o.objectStore(Js),a=yield Xn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),d=new Uint32Array(2048);for(let _=0;_<c;_++){const I=e.subarray(2048*_,2048*(_+1));_===c-1&&d.set(I);const A=qH(_===c-1?d:I);0!==A&&s.put("number"==typeof A?A:A?.slice(),[a,_])}const m=yield Xn(i.get(a));return yield Xn(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var n=this;return(0,Se.Z)(function*(){const[e]=yield n.prepareObjectStore(ss);return Xn(e.getAll())})()}getCard(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(ss);return Xn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,Se.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,d]=yield r.prepareObjectStore(ss),m=yield Xn(c.get(n));if(!m)throw new Error(`no card with id ${n}`);const _={...m,...a};c.put(_),yield Xn(d),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(ss,Js);e.storageCardContext.assertOwnership(n,Nr.none);const o=r.objectStore(ss),i=r.objectStore(Js);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield Xn(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,Se.Z)(function*(){const i=yield o.newTransaction(ss,Js);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(Js);yield new Promise(function(){var a=(0,Se.Z)(function*(c,d){const m=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return c();let I=_.value;const[,A]=_.key;"number"==typeof I?e.subarray(2048*A,2048*(A+1)).fill(I):(2048*(A+1)>e.length&&(I=I.subarray(0,2048-2048*(A+1)+e.length)),e.subarray(2048*A,2048*(A+1)).set(I)),_.continue()},m.onerror=()=>d(new du(m.error?.message))});return function(c,d){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,Se.Z)(function*(){const s=yield i.newTransaction(ss,Js);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(ss),c=s.objectStore(Js),d=yield Xn(a.get(n));if(!d)throw new Error(`no card with ID ${n}`);if(e.length!==d.size>>>2)throw new Error("data size mismatch");const m=(d.size>>>13)+(d.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let I=0;I<r.length;I++)for(let A=1;A<256&&!(_>=m);A<<=1)r[I]&A&&c.put(e.subarray(2048*_,2048*(_+1)).slice(),[d.id,_]),_++;yield Xn(s)}))}kvsGet(n){var e=this;return(0,Se.Z)(function*(){const[r]=yield e.prepareObjectStore(Fh);return Xn(r.get(n))})()}kvsSet(n){var e=this;return(0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Fh);for(const i of Object.keys(n))r.put(n[i],i);yield Xn(o)})()}kvsLoad(){var n=this;return(0,Se.Z)(function*(){const[e]=yield n.prepareObjectStore(Fh);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new du(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,Se.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Fh);r.delete(n),yield Xn(o)})()}acquireLock(n){var e=this;return(0,Se.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Xn(n.objectStore(Yd).get(0)))!==Vk)throw n.abort(),n.db.close(),Sv})()}newTransaction(...n){var e=this;return(0,Se.Z)(function*(){const r=(yield e.db).transaction([Yd,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Oa);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Oa).delete(e)}loadState(n,e){return Xn(n.objectStore(Oa).get(e))}deleteMemory(n,e){const r=n.objectStore(hl),o=n.objectStore(ml);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,Se.Z)(function*(){const e=n.transaction(Yd,"readwrite");yield Xn(e.objectStore(Yd).put(Vk,0))})()}setupDb(){var n=this;return(0,Se.Z)(function*(){const e=setTimeout(()=>ks&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw Bk}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new du("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,Se.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function JH(t){t.createObjectStore(Oh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function ej(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(mv)&&t.deleteObjectStore(mv),n.objectStore(Oh).clear(),t.createObjectStore("rom"),t.createObjectStore(mv),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function tj(t,n){return gv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function nj(t,n){return yv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function rj(t,n){return _v.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function oj(t,n){return vv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function ij(t,n){return bv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function sj(t,n){return wv.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,Se.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}jn.\u0275fac=function(n){return new(n||jn)(De(ft),De(Jl),De(Kd))},jn.\u0275prov=vt({token:jn,factory:jn.\u0275fac,providedIn:"root"}),J([ro()],jn.prototype,"addSession",null),J([ro()],jn.prototype,"getAllSessions",null),J([ro()],jn.prototype,"getSession",null),J([ro()],jn.prototype,"deleteSession",null),J([ro()],jn.prototype,"updateSessionPartial",null),J([ro()],jn.prototype,"updateSession",null),J([ro()],jn.prototype,"loadSession",null),J([ro()],jn.prototype,"deleteStateForSession",null),J([ro()],jn.prototype,"addEmptyStorageCard",null),J([ro()],jn.prototype,"importStorageCard",null),J([ro()],jn.prototype,"getAllStorageCards",null),J([ro()],jn.prototype,"getCard",null),J([ro()],jn.prototype,"updateStorageCardPartial",null),J([ro()],jn.prototype,"deleteStorageCard",null),J([ro()],jn.prototype,"loadCardData",null),J([ro()],jn.prototype,"kvsGet",null),J([ro()],jn.prototype,"kvsSet",null),J([ro()],jn.prototype,"kvsDelete",null),J([ro()],jn.prototype,"newTransaction",null),J([ro()],jn.prototype,"prepareObjectStore",null),J([ro()],jn.prototype,"initializeLock",null),J([ro()],jn.prototype,"setupDb",null);const Hk={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Ui=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,Se.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new Lo.j,this.mutex=new Qs,this.storageMutex=new Qs,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,Se.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,Se.Z)(function*(){const r=e;try{const o={...Hk,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...Hk}}})()}}return t.\u0275fac=function(e){return new(e||t)(De(jn))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jk=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,Se.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ks||Mk)&&this.installationMode===dl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return ks&&kk?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ks?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ks&&kk?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ks?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?dl.pwa:document.referrer.startsWith("android-app://")?dl.twa:window.matchMedia("(display-mode: standalone)").matches?dl.pwa:dl.web}}return t.\u0275fac=function(e){return new(e||t)(De(Ui),De(Or))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vj(t,n){1&t&&(re(0,"div",6),dt(1,"ion-spinner"),X())}let Xd=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(C(is))},t.\u0275cmp=y({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.modalController.dismiss()}),Ze(6,"Close"),X()()()(),re(7,"ion-content",3),Qt(8,vj,2,0,"div",4),re(9,"markdown",5),at("load",function(){return r.loading=!1}),X()()),2&e&&(tt(3),ts(r.title),tt(5),ot("ngIf",r.loading),tt(1),ot("src",r.url))},dependencies:[No,fv,Ni,Li,$i,Bi,Hd,Hi,ji],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const ec="1.7.11-f03c58a (preview)";var Lh=R(9897);const $h=((t,n)=>{let e=null;return()=>{if(null!==e)return e;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return e=(t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:d})=>{if((t=>void 0!==t.method&&"call"===t.method)(d)){const{params:{timerId:m,timerType:_}}=d;if("interval"===_){const I=n.get(m);if("number"==typeof I){const A=r.get(I);if(void 0===A||A.timerId!==m||A.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I()}}else if("timeout"===_){const I=e.get(m);if("number"==typeof I){const A=r.get(I);if(void 0===A||A.timerId!==m||A.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I(),e.delete(m)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(d)){const{error:{message:m}}=d;throw new Error(m)}{const{id:m}=d,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:I,timerType:A}=_;r.delete(m),"interval"===A?n.delete(I):e.delete(I)}}}),{clearInterval:d=>{const m=(0,Lh.generateUniqueNumber)(r);r.set(m,{timerId:d,timerType:"interval"}),n.set(d,m),o.postMessage({id:m,method:"clear",params:{timerId:d,timerType:"interval"}})},clearTimeout:d=>{const m=(0,Lh.generateUniqueNumber)(r);r.set(m,{timerId:d,timerType:"timeout"}),e.set(d,m),o.postMessage({id:m,method:"clear",params:{timerId:d,timerType:"timeout"}})},setInterval:(d,m)=>{const _=(0,Lh.generateUniqueNumber)(n);return n.set(_,()=>{d(),"function"==typeof n.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(d,m)=>{const _=(0,Lh.generateUniqueNumber)(e);return e.set(_,d),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),e}})();var gl=(()=>{return(t=gl||(gl={}))[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout",gl;var t})();class Gk{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return gl.animationFrame}}class Dj{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>$h().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){var t;void 0!==this.handle&&(t=this.handle,$h().clearTimeout(t),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return gl.timeout}}const Ij=[135,135,105],kj=[0,0,0],yl=new Array(16).fill(0).map((t,n)=>kj.map((e,r)=>Math.floor((n*e+(15-n)*Ij[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),Ev=yl.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ee=(()=>{return(t=ee||(ee={})).palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m520="PalmM520",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.handera330c="HandEra330c",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70",t.acerS11="Acer-S11",ee;var t})(),_l=(()=>{return(t=_l||(_l={})).sdcard="sdcard",t.memorystick="memorystick",t.none="none",_l;var t})();function Qd(t){switch(t){case ee.i710:case ee.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ee.handera330:case ee.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ee.pegS300:case ee.pegS320:case ee.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ee.pegT600c:case ee.pegT400:case ee.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ee.pegN600c:case ee.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ee.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ee.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Dv(t){switch(t){case ee.pilot:case ee.palmPilot:case ee.iii:case ee.palmV:case ee.palmVx:case ee.iiix:case ee.iiixe:case ee.iiie:case ee.m100:case ee.m105:case ee.m125:case ee.m500:case ee.palmVII:case ee.palmVIIEZ:case ee.palmVIIx:case ee.i705:case ee.handera330:case ee.pegS300:case ee.pegS320:case ee.pegT400:case ee.acerS11:return!1;default:return!0}}function zk(t){switch(t){case ee.pilot:return"Pilot";case ee.palmPilot:return"Palm Pilot";case ee.iii:return"Palm III";case ee.m500:return"Palm m500";case ee.m505:return"Palm m505";case ee.m515:return"Palm m515";case ee.m520:return"Palm m520";case ee.palmVx:return"Palm Vx";case ee.iiix:return"Palm IIIx";case ee.iiixe:return"Palm IIIxe";case ee.iiie:return"Palm IIIe";case ee.palmV:return"Palm V";case ee.palmVII:return"Palm VII";case ee.palmVIIEZ:return"Palm VII EZ";case ee.palmVIIx:return"Palm VIIx";case ee.iiic:return"Palm IIIc";case ee.m100:return"Palm m100";case ee.m105:return"Palm m105";case ee.m125:return"Palm m125";case ee.m130:return"Palm m130";case ee.i705:return"Palm i705";case ee.i710:return"Tungsten W";case ee.handera330:return"Handera 330";case ee.handera330c:return"Handera 330c";case ee.pegS300:return"Sony PEG-S300";case ee.pegS320:return"Sony PEG-S320";case ee.pegT400:return"Sony PEG-T400 series";case ee.pegN600c:return"Sony PEG-N600C series";case ee.pegT600c:return"Sony PEG-T600C series";case ee.pegN700c:return"Sony PEG-N700C series";case ee.pegT650c:return"Sony PEG-T650C series";case ee.pegNR70:return"Sony PEG-NR70 series";case ee.pegS500c:return"Sony PEG-S500C series";case ee.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function Wk(t){switch(t){case ee.m500:case ee.m505:case ee.m515:case ee.m520:case ee.m125:case ee.m130:case ee.i705:case ee.i710:case ee.handera330:case ee.handera330c:return _l.sdcard;case ee.pegS300:case ee.pegS500c:case ee.pegS320:case ee.pegT400:case ee.pegN600c:case ee.pegT600c:case ee.pegN700c:case ee.pegT650c:case ee.pegNR70:case ee.acerS11:return _l.memorystick;default:return _l.none}}class qk{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class xj{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class $j{constructor(n,e){this.timeoutRemaining=n,this.cb=e,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,n)}increase(n){this.timeoutRemaining+=n}cancel(){clearTimeout(this.handle)}}const Hj=new Error("transaction timeout"),Yk=new Error("session does not match emulation");let Jd=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.ngZone=s,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Se.Z)(function*(){try{yield a.triggerSnapshotUnguarded()}finally{a.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Lo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,Se.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,Se.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===Yk)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===Sv)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,Se.Z)(function*(){const r=e.db.transaction([hl,ml,Oa,Js,ss,Yd],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw Yk;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield Xn(r.objectStore(ss).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let d=!1;const m=performance.now();let _=0,I=0,A=0,Y=new $j(500,()=>{d=!0;try{r.abort()}catch{}c(Hj)});r.oncomplete=(0,Se.Z)(function*(){Y.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:A,timeBlocking:I-_,timeTotal:performance.now()-m})}),r.onerror=()=>{Y.cancel(),c(new Error(r.error?.message))};try{_=performance.now(),A=e.saveDirtyMemory(r,Y),o&&(A+=e.saveDirtyStorage(o,r,Y)),e.saveSession(r),I=performance.now()}catch(Fe){throw d||(Y.cancel(),r.abort()),Fe}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e,r){let o=0;const i=e.objectStore(hl),s=e.objectStore(ml),a=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let d=0;if(!this.dirtyPages||!this.pages){const _=c.length>>>8;this.dirtyPages=new Uint8Array(a.length),this.pages=new Array(_);for(let I=0;I<_;I++)this.pages[I]=new Uint32Array(256)}s.put({sessionId:this.sessionId,totalSize:c.length<<2});for(let _=0;_<a.length;_++)if(this.dirtyPages[_]|=a[_],a[_]=0,0!==this.dirtyPages[_])for(let I=1;I<256&&!(o>=this.pages.length);I<<=1){if(this.dirtyPages[_]&I){const A=Rk(c.subarray(256*o,256*(o+1)));"number"==typeof A?i.put(A,[this.sessionId,o]):(this.pages[o].set(A),i.put(this.pages[o],[this.sessionId,o])),r.increase(.5),d++}o++}else o+=8;return d}saveDirtyStorage(e,r,o){const i=this.cloudpilot.getCardDirtyPages(e.storageId),s=this.cloudpilot.getCardData(e.storageId);if(!s)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Nr.cloudpilot),!i)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(s.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(i.length)),this.cardDirtyPages.length!==i.length)throw new Error("card size has changed without notification");let a=0,c=0,d=0;const m=r.objectStore(Js),_=(s.length>>11)+(s.length%2048>0?1:0);for(let I=0;I<i.length;I++)if(this.cardDirtyPages[I]|=i[I],i[I]=0,0!==this.cardDirtyPages[I])for(let A=1;A<256&&!(a>=_);A<<=1){if(this.cardDirtyPages[I]&A){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const Y=this.cardPagePool[c++];Y.set(s.subarray(2048*a,2048*(a+1))),m.put(Y,[e.id,a]),o.increase(4),d++}a++}else a+=8;return 8*d}saveSession(e){const r=e.objectStore(Oa);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(De(jn),De(Fa),De(Jl),De(Kd),De(ft))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jj(t,n){1&t&&(re(0,"p",11),Ze(1," ERROR: URL must be served via HTTPS. "),X())}function Uj(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(qc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let Gj=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(qc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(qc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Wp({url:new $o("",Uj)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Enter download URL"),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.continue()}),Ze(6,"OK"),X()(),re(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return r.onCancel()}),Ze(9,"Cancel"),X()()()(),re(10,"ion-content",5)(11,"form",6),at("keydown",function(i){return r.formKeyDown(i)}),re(12,"p"),Ze(13," Please enter the URL from which to download: "),X(),re(14,"ion-item",7)(15,"ion-label",8),Ze(16,"URL"),X(),dt(17,"ion-input",9),X(),Qt(18,jj,2,0,"p",10),re(19,"p"),Ze(20," Note that the remote server needs to support the CORS protocol. "),X()()()),2&e&&(tt(5),ot("disabled",r.formGroup.invalid),tt(6),ot("formGroup",r.formGroup),tt(7),ot("ngIf",r.isMixedContent))},dependencies:[No,Ni,Li,$i,Bi,cl,Vo,Vi,Hi,ji,ll,sl,ol,il,qs,Ma],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function Iv(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function Xk(t){return`${Iv(t.name)}.bin`}function Qk(t,n){return`backup_${Iv(t.name)}${n?"_with_rom":""}.zip`}function kv(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function Jk(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let zj=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Wp({username:new $o(e?.username??""),password:new $o(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(C(Ui))},t.\u0275cmp=y({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Authenticate"),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.saveAndContinue()}),Ze(6,"OK"),X()(),re(7,"ion-buttons",3)(8,"ion-button",2),at("click",function(){return r.onCancel()}),Ze(9,"Cancel"),X()()()(),re(10,"ion-content",4)(11,"form",5),at("keydown",function(i){return r.formKeyDown(i)}),re(12,"p"),Ze(13," The server requires authentication. "),X(),re(14,"ion-item",6)(15,"ion-label",7),Ze(16,"Username"),X(),dt(17,"ion-input",8),X(),re(18,"ion-item",6)(19,"ion-label",7),Ze(20,"Password"),X(),dt(21,"ion-input",9),X()()()),2&e&&(tt(11),ot("formGroup",r.formGroup))},dependencies:[Ni,Li,$i,Bi,cl,Vo,Vi,Hi,ji,ll,sl,ol,il,qs,Ma],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),eM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,Se.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(qc())("string"==typeof e?e:e.url);let c,d,m=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),d=window.setTimeout(()=>c.present(),i));const _=o.kvsService.kvs.credentials[a.origin],I=new AbortController,A=window.setTimeout(()=>I.abort(),s),Y=yield fetch(e,{...o.requestInit(r),signal:I.signal,headers:{...r?.headers||{},...m&&_?{Authorization:"Basic "+btoa(`${_.username}:${_.password}`)}:{}}});if(clearTimeout(A),401===Y.status){if(!m&&_){m=!0;continue}if(c&&(c.dismiss(),clearTimeout(d),i=0,c=void 0),m=!0,yield o.authenticate(a.origin))continue}return Y}finally{c&&(yield c.dismiss()),clearTimeout(d)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,Se.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:zj,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(De(Xl),De(Ui),De(is))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qj=R(3272),Zj=R.n(qj);function Mv(t){const n=(t>>>13)+(t%8192>0?1:0);return(n>>>3)+(n%8>0?1:0)}const tM=[ee.palmPilot,ee.pilot,ee.iii,ee.palmVx,ee.palmV,ee.palmVII,ee.palmVIIEZ,ee.palmVIIx,ee.iiixe,ee.iiix,ee.iiie,ee.m500,ee.m505,ee.m515,ee.m520,ee.iiic,ee.m100,ee.m105,ee.m125,ee.m130,ee.i705,ee.i710,ee.handera330,ee.handera330c,ee.pegS300,ee.pegS320,ee.pegS500c,ee.pegT400,ee.pegN600c,ee.pegT600c,ee.pegN700c,ee.pegT650c,ee.pegNR70,ee.acerS11];function Yt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class qt{constructor(n){this.module=n,this.fatalErrorEvent=new Lo.j,this.pwmUpdateEvent=new Lo.j,this.proxyDisconnectEvent=new Lo.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,Se.Z)(function*(){return new qt(yield Zj()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:tM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,Se.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,Se.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const m=(new TextEncoder).encode(JSON.stringify(n.metadata));c=m.length,a=this.copyIn(m)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const d=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),d}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!tM.includes(c))return void console.warn(`unsupported device ${c}`);let d;const m=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(m)try{d=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:d,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=Mv(this.cloudpilot.GetCardSize(n));return this.module.HEAPU8.subarray(e,e+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}J([Yt()],qt.prototype,"getRomInfo",null),J([Yt()],qt.prototype,"initializeSession",null),J([Yt()],qt.prototype,"cyclesPerSecond",null),J([Yt()],qt.prototype,"runEmulation",null),J([Yt()],qt.prototype,"getFrame",null),J([Yt()],qt.prototype,"isScreenDirty",null),J([Yt()],qt.prototype,"markScreenClean",null),J([Yt()],qt.prototype,"minRamForDevice",null),J([Yt()],qt.prototype,"framebufferSizeForDevice",null),J([Yt()],qt.prototype,"totalMemorySizeForDevice",null),J([Yt()],qt.prototype,"queuePenMove",null),J([Yt()],qt.prototype,"queuePenUp",null),J([Yt()],qt.prototype,"queueButtonDown",null),J([Yt()],qt.prototype,"queueButtonUp",null),J([Yt()],qt.prototype,"queueKeyboardEvent",null),J([Yt()],qt.prototype,"isPowerOff",null),J([Yt()],qt.prototype,"isUiInitialized",null),J([Yt()],qt.prototype,"isSetupComplete",null),J([Yt()],qt.prototype,"getOSVersion",null),J([Yt()],qt.prototype,"reset",null),J([Yt()],qt.prototype,"resetNoExtensions",null),J([Yt()],qt.prototype,"resetHard",null),J([Yt()],qt.prototype,"installDb",null),J([Yt()],qt.prototype,"getPalette2bitMapping",null),J([Yt()],qt.prototype,"getMemory",null),J([Yt()],qt.prototype,"getMemory32",null),J([Yt()],qt.prototype,"getDirtyPages",null),J([Yt()],qt.prototype,"loadMemory",null),J([Yt()],qt.prototype,"getRomImage",null),J([Yt()],qt.prototype,"getSavestate",null),J([Yt()],qt.prototype,"saveState",null),J([Yt()],qt.prototype,"loadState",null),J([Yt()],qt.prototype,"getHotsyncName",null),J([Yt()],qt.prototype,"setClockFactor",null),J([Yt()],qt.prototype,"setHotsyncName",null),J([Yt()],qt.prototype,"setClipboardIntegration",null),J([Yt()],qt.prototype,"getClipboardIntegration",null),J([Yt()],qt.prototype,"isSuspended",null),J([Yt()],qt.prototype,"getSuspendKind",null),J([Yt()],qt.prototype,"cancelSuspend",null),J([Yt()],qt.prototype,"getSuspendContextClipboardCopy",null),J([Yt()],qt.prototype,"getSuspendContextClipboardPaste",null),J([Yt()],qt.prototype,"setNetworkRedirection",null),J([Yt()],qt.prototype,"getNetworkRedirection",null),J([Yt()],qt.prototype,"getSuspendContextNetworkConnect",null),J([Yt()],qt.prototype,"getSuspendContextNetworkRpc",null),J([Yt()],qt.prototype,"copyBuffer",null),J([Yt()],qt.prototype,"freeBuffer",null),J([Yt()],qt.prototype,"setHotsyncNameManagement",null),J([Yt()],qt.prototype,"resolveBuffer",null),J([Yt()],qt.prototype,"serializeSessionImage",null),J([Yt()],qt.prototype,"deserializeSessionImage",null),J([Yt()],qt.prototype,"launchAppByName",null),J([Yt()],qt.prototype,"launchAppByDbHeader",null),J([Yt()],qt.prototype,"deviceSupportsCardSize",null),J([Yt()],qt.prototype,"clearExternalStorage",null),J([Yt()],qt.prototype,"allocateCard",null),J([Yt()],qt.prototype,"getCardData",null),J([Yt()],qt.prototype,"getCardDirtyPages",null),J([Yt()],qt.prototype,"getMountedKey",null),J([Yt()],qt.prototype,"mountCard",null),J([Yt()],qt.prototype,"removeCard",null),J([Yt()],qt.prototype,"remountCards",null),J([Yt()],qt.prototype,"getCardSupportLevel",null);let ea=(()=>{class t{constructor(){this.cloudpilot=qt.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fu=(()=>{class t{constructor(e,r,o,i,s,a,c,d){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=d}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,r){if("drop"!==e.type||!e.dataTransfer?.files)return;const o=Array.from(e.dataTransfer.files).map(this.readFile.bind(this));Promise.all(o).then(i=>i.filter(s=>!!s)).then(i=>i.length>0&&r(i))}saveSession(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:Jk(e),rom:i,memory:s,savestate:a},d=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);d?r.saveFile(Xk(e),d):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const m={deviceId:e.device,metadata:Jk(e),rom:s,memory:a,savestate:c},_=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(m);_&&o.saveFile(Xk(e),_)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,Se.Z)(function*(){let i;try{i=new(qc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,Se.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)},{text:"Cancel"}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,Se.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:Gj,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){var o=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var i=(0,Se.Z)(function*(s){const a=s.target;if(!a?.files)return;const c=Array.from(a.files).map(o.readFile.bind(o));Promise.all(c).then(d=>d.filter(m=>!!m)).then(d=>d.length>0&&r(d))});return function(s){return i.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){return new Promise(r=>{const o=new FileReader;o.onload=()=>r({content:new Uint8Array(o.result),name:e.name}),o.onerror=()=>{console.warn(o.error),r(void 0)},o.readAsArrayBuffer(e)})}}return t.\u0275fac=function(e){return new(e||t)(De(jn),De(Xl),De(Wd),De(Ui),De(is),De(Or),De(eM),De(ea))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tv=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Lo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(De(ft))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bh=new Error("permission denied");let nM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,Se.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===Bh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,Se.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?Bh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,Se.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,Se.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(d){s(d)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,Se.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===Bh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,Se.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?Bh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,Se.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,Se.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,Se.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,Se.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(De(au),De(Or))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yj="https:"===window.location.protocol?8667:8666,Xj=/^[\da-z\-\.]+$/i,Qj=/^[\da-z\-\.]+:\d+$/i;function xv(t){if(!t)return;const n=window.location.protocol;if(t.match(Xj))return`${n}//${t}:${Yj}`;if(t.match(Qj))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function Jj(t){return void 0!==xv(t.value)?null:{proxyAddress:"invalid"}}let Av=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,Se.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=xv(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Cv(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Lo.j,this.mutex=new Qs,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,Se.Z)(function*(){const i=xv(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(De(Ui),De(Or),De(ft),De(eM))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var r6=R(9084),sM=R.n(r6);function Pv(){return(Pv=(0,Se.Z)(function*(t){const n=yield Rv.create();if(n.mkfs(t))return n.getImage()})).apply(this,arguments)}const aM="fstools_web.wasm",lM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(aM)):fetch(aM).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class Rv{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,Se.Z)(function*(){return new Rv(yield sM()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,Se.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield lM,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class Vh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,Se.Z)(function*(){const e=yield sM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,Se.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield lM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Vh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=Mv(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(n,n+e)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var Sr=(()=>{return(t=Sr||(Sr={})).dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable",Sr;var t})(),yr=(()=>{return(t=yr||(yr={})).portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180",yr;var t})();let ef=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Qs,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,Se.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:yr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,Se.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:yr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const d=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),d})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,Se.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,Se.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,Se.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,Se.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(De(ea),De(jn),De(Xl))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var i6=R(7971),s6=R.n(i6);function a6(t){return{readonly:0!=(1&t),hidden:0!=(2&t),system:0!=(4&t)}}function cM(t,n){const e=t.GetName(),r=t.GetModifiedTS();return{path:n,name:e,size:t.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:t.IsDirectory(),attributes:a6(t.GetAttributes())}}class Fv{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,Se.Z)(function*(){return new Fv(yield s6()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}allocateImage(n){this.vfsNative.AllocateImage(n>>>9)}mountImage(n){return this.vfsNative.MountImage(n)}unmountImage(n){this.vfsNative.UnmountImage(n)}getPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}getImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}getDirtyPagesForSlot(n){const e=this.module.getPointer(this.vfsNative.GetDirtyPages(n));if(0===e)return;const r=Mv(this.vfsNative.GetSize(n));return this.module.HEAPU8.subarray(e,e+r)}readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntry();r.push(cM(o,`${n.replace(/\/*$/,"")}/${o.GetName()}`)),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}rename(n,e){return this.vfsNative.RenameFile(n,e)}chmod(n,e){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(e.hidden,2),i(e.readonly,1),i(e.system,4),this.vfsNative.ChmodFile(n,r,o)}stat(n){const e=this.vfsNative.StatFile(n);return 0!==e?{result:e,entry:void 0}:{entry:cM(this.vfsNative.GetEntry(),n),result:e}}bytesFree(n){return this.vfsNative.BytesFree(n)}bytesTotal(n){return this.vfsNative.BytesTotal(n)}}var l6=R(5541),uM=R.n(l6);let Hh=(()=>{class t{constructor(e,r,o){this.storageService=e,this.storageCardContext=r,this.alertService=o,this.onReleaseCard=new Lo.j,this.vfs=Fv.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(i=>this.vfsInstance=i)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,r,o){var i=this;return(0,Se.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.storageCardContext.claim(e,Nr.vfs),i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&(yield i.releaseCard(i.mountedCard.id));const a=yield i.vfs;a.allocateImage(s.size);const c=a.getPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,Nr.vfs),!!a.mountImage(0)&&(i.mountedCard=s,i.bytesFree=a.bytesFree(0),i.bytesTotal=a.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,Se.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).unmountImage(0),r.mountedCard=void 0,r.storageCardContext.release(e,Nr.vfs),r.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const r=this.normalizePath(e);if(!this.directoryCache.has(r)){const o=this.vfsInstance.readdir(e);this.directoryCache.set(r,0===o.error?o.entries:[])}return this.directoryCache.get(r)||[]}updateFileEntry(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.vfs;if(e=o.normalizePath(e),!o.isFilenameValid(r.name))return void(yield o.error("The provided file name is invalid."));const{result:s,entry:a}=i.stat(e);if(0===s)if(void 0===r.attributes||uM()(r.attributes,a.attributes)||0===(o.directoryCache.delete(o.dirname(e)),i.chmod(e,r.attributes))){if(void 0!==r.name&&r.name!==a.name)switch(o.directoryCache.delete(o.dirname(e)),i.rename(e,`${o.dirname(e)}/${r.name}`)){case 0:break;case 6:return void(yield o.error("The provided file name is invalid."));default:return void(yield o.fatalError("Unable to write the updated file attributes."))}yield o.sync()}else yield o.fatalError("Unable to write the updated file attributes.");else yield o.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}error(e){var r=this;return(0,Se.Z)(function*(){yield r.alertService.errorMessage(e)})()}fatalError(e){var r=this;return(0,Se.Z)(function*(){!r.mountedCard||(yield r.storageService.updateStorageCardPartial(r.mountedCard.id,{status:Sr.dirty}),yield r.releaseCard(),r.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,Se.Z)(function*(){if(!e.mountedCard)return;const r=yield e.vfs,o=r.getImageInSlot(0),i=r.getDirtyPagesForSlot(0);!o||!i||(yield e.storageService.updateCardData(e.mountedCard.id,o,i,Nr.vfs))})()}}return t.\u0275fac=function(e){return new(e||t)(De(jn),De(Kd),De(Or))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oo=(()=>{return(t=oo||(oo={}))[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128",oo;var t})();function dM(){return Cv().replace(/-/g,"")}let pu=(()=>{class t{constructor(e,r,o,i,s,a,c,d,m,_,I){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=d,this.fileService=m,this.vfsService=_,this.storageCardContext=I,this.loading=!0,this.cards=[],this.updateMutex=new Qs,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,Se.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function o6(t){return Pv.apply(this,arguments)}(function c6(t){switch(t){case oo.mb4:return 4;case oo.mb8:return 8;case oo.mb16:return 16;case oo.mb32:return 32;case oo.mb64:return 64;case oo.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:dM(),name:e,size:4*a.length,status:Sr.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromFile(e,r,o){var i=this;return(0,Se.Z)(function*(){const s={storageId:dM(),name:e,size:r.content.length,status:Sr.clean,dontFsckAutomatically:o},a=new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[d,m]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(m,d)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Nr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,Nr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,Nr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:Sr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,Nr.cloudpilot)})()}checkCard(e){var r=this;return(0,Se.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,Nr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,Se.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=Sr.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,Se.Z)(function*(){yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e)})()}saveCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a;try{yield s.present();const c=o.mountedInSession(e);c&&c.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),a=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId)),a||(a=new Uint32Array(i.size>>>2),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e)))}finally{s.dismiss()}o.fileService.saveFile(r,new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var r=this;return(0,Se.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,Se.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,Se.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,Se.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,Se.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===Sr.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,Nr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case Sr.clean:break;case Sr.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Sr.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case Sr.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return o.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,Nr.fstools);const s=yield Vh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),Nr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:Sr.clean}),r.storageCardContext.release(e,Nr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:Sr.unformatted}),r.storageCardContext.release(e,Nr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:Sr.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:Sr.unfixable}),r.storageCardContext.release(e,Nr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,Se.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),Nr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:Sr.clean}),o.storageCardContext.release(e,Nr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,Se.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield Vh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:Sr.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:Sr.clean}]:[e,{...r,status:Sr.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:Sr.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:Sr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,Se.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:Sr.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,Se.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:Sr.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,Se.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(De(ef),De(jn),De(Fa),De(ea),De(Xl),De(Jd),De(Or),De(Jl),De(fu),De(Hh),De(Kd))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ta=(()=>{class t extends class Lj{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const d=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(d!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=d,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!d&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new Lo.j,this.pwmUpdateEvent=new Lo.j,this.emulationStateChangeEvent=new Lo.j,this.powerOffChangeEvent=new Lo.j,this.deviceId=ee.m515,this.clockEmulator=0,this.scheduler=new Gk(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new xj(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new qk(20),this.timePerFrameAverage=new qk(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Qd(this.deviceId);n=this.transformSilkscreenX(n,i),e=this.transformSilkscreenY(e,i)}this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o}}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=Qd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n,e){return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}transformSilkscreenY(n,e){return void 0===e.siklscreenShift?n:n+e.siklscreenShift}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===gl.animationFrame?new Gk(n=>this.onSchedule(n)):new Dj(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=Qd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=Dv(n)?"white":Ev[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=yl[15],i=yl[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let d=n.margin;d<n.lineWidth+n.margin;d++)r[s++]=n.buffer[c+(d>>>3)]&128>>>(7&d)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[yl[15&o],yl[o>>>4&15],yl[o>>>8&15],yl[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let d=n.margin;d<n.lineWidth+n.margin;d++)r[s++]=i[n.buffer[c+(d>>>2)]>>6-2*(3&d)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=yl[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,d,m,_,I,A,Y,Fe,Ke,Je,gt,nt){var pt;super(),pt=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=d,this.modalWatcher=m,this.clipboardService=_,this.kvsService=I,this.proxyService=A,this.buttonService=Y,this.bootstrapService=Fe,this.cloudpilotService=Ke,this.storageCardService=Je,this.storageCardContext=gt,this.app=nt,this.switchSession=wn=>this.mutex.runExclusive((0,Se.Z)(function*(){if(wn===pt.emulationState.getCurrentSession()?.id)return!0;yield pt.stopUnchecked(),yield pt.bootstrapService.hasRendered();const po=yield pt.loadingController.create({message:"Loading..."});yield po.present();try{const Gi=yield pt.storageService.getSession(wn);if(!Gi)throw new Error(`invalid session ${wn}`);pt.emulationState.setCurrentSession(void 0);const rf=yield pt.cloudpilotService.cloudpilot;if(!(yield pt.restoreSession(Gi,rf)))return pt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;pt.emulationState.setCurrentSession(Gi),function GH(t){localStorage.setItem(Rh,t+"")}(wn)}finally{yield po.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,Se.Z)(function*(){!pt.emulationState.getCurrentSession()||pt.running||pt.errorService.hasFatalError()||!pt.cloudpilotInstance||(yield pt.kvsService.mutex.runExclusive(()=>pt.updateFeatures()),pt.doResume(),pt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Se.Z)(function*(){pt.doPause(),!pt.errorService.hasFatalError()&&pt.emulationState.getCurrentSession()&&(yield pt.snapshotService.waitForPendingSnapshot(),yield pt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([wn,po])=>this.mutex.runExclusive((0,Se.Z)(function*(){const Gi=pt.emulationState.getCurrentSession();wn===Gi?.id&&(void 0!==Gi.mountedCard&&void 0===po&&pt.storageCardContext.release(Gi.mountedCard,Nr.cloudpilot),pt.emulationState.setCurrentSession(po),pt.emulationState.getCurrentSession()||(Ak(),pt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Se.Z)(function*(){const wn=pt.emulationState.getCurrentSession();wn&&pt.fileService.emergencySaveSession(wn,yield pt.cloudpilotService.cloudpilot)})),this.mutex=new Qs,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(wn=>{wn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(wn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const nn=function UH(){const t=localStorage.getItem(Rh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==nn&&!oD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(nn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?gl.timeout:gl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,Se.Z)(function*(){!e.emulationState.getCurrentSession()||(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,Se.Z)(function*(){try{yield r.switchSession(e)}catch{ks&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,Se.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);return r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!!o.openSession(r,i,e.device,s,a)&&(o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot),!0)})()}}return t.\u0275fac=function(e){return new(e||t)(De(jn),De(ft),De(Xl),De(Fa),De(Jd),De(Jl),De(fu),De(Or),De(Tv),De(nM),De(Ui),De(Av),De(oM),De(iM),De(ea),De(pu),De(Kd),De(Qa))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vl=new wt(B),p6={connector:()=>new Xe};function fM(t,n=p6){const{connector:e}=n;return Ee((r,o)=>{const i=e();S(t(function f6(t){return new wt(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function pM(t,n){return n?e=>Sd(n.pipe(os(1),function g6(){return Ee((t,n)=>{t.subscribe(Be(n,B))})}()),e.pipe(pM(t))):Xt((e,r)=>t(e,r).pipe(os(1),I_(e)))}const tf="Service workers are disabled or not supported by this browser";class jh{constructor(n){if(this.serviceWorker=n,n){const r=Cd(n,"controllerchange").pipe(He(()=>n.controller)),i=Sd(Jp(()=>sn(n.controller)),r);this.worker=i.pipe(qo(m=>!!m)),this.registration=this.worker.pipe(Zo(()=>n.getRegistration()));const d=Cd(n,"message").pipe(He(m=>m.data)).pipe(qo(m=>m&&m.type)).pipe(function m6(t){return t?n=>fM(t)(n):n=>function h6(t,n){const e=T(t)?t:()=>t;return T(n)?fM(n,{connector:e}):r=>new E_(r,e)}(new Xe)(n)}());d.connect(),this.events=d}else this.worker=this.events=this.registration=function _6(t){return Jp(()=>Kc(new Error(t)))}(tf)}postMessage(n,e){return this.worker.pipe(os(1),Ko(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(qo(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(os(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(qo(e=>e.nonce===n),os(1),He(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let v6=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new Xe,!e.isEnabled)return this.messages=vl,this.notificationClicks=vl,void(this.subscription=vl);this.messages=this.sw.eventsOfType("PUSH").pipe(He(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(He(o=>o.data)),this.pushManager=this.sw.registration.pipe(He(o=>o.pushManager));const r=this.pushManager.pipe(Zo(o=>o.getSubscription()));this.subscription=Uo(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(tf));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Zo(s=>s.subscribe(r)),os(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(os(1),Zo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(tf))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(De(jh))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),Ov=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=vl,this.available=vl,this.activated=vl,void(this.unrecoverable=vl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(qo(r=>"VERSION_READY"===r.type),He(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tf));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tf));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(De(jh))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class Nv{}const hM=new dn("NGSW_REGISTER_SCRIPT");function b6(t,n,e,r){return()=>{if(!Da(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=sn(null);break;case"registerWithDelay":o=mM(+a[0]||0);break;case"registerWhenStable":o=a[0]?Uo(gM(t),mM(+a[0])):gM(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(ft).runOutsideAngular(()=>o.pipe(os(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function mM(t){return sn(null).pipe(function y6(t,n=Ck){const e=Sk(t,n);return pM(()=>e)}(t))}function gM(t){return t.get(Qa).isStable.pipe(qo(e=>e))}function w6(t,n){return new jh(Da(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let C6=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:hM,useValue:e},{provide:Nv,useValue:r},{provide:jh,useFactory:w6,deps:[Nv,Wc]},{provide:Bl,useFactory:b6,deps:[Br,hM,Nv,Wc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({providers:[v6,Ov]}),t})(),yM=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Se.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==ec&&(yield a.kvsService.set({version:ec,previousVersion:c,latestVersion:ec}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${ec}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=ec})),this.mutex=new Qs,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,Se.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,Se.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===ec){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Xd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(De(Ui),De(ta),De(Or),De(is),De(Ov))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),E6=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(C(jk),C(yM),C(iM))},t.\u0275cmp=y({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(re(0,"ion-app"),dt(1,"ion-router-outlet"),X())},dependencies:[HI,Gd]}),t})(),_M=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(re(0,"div"),Ze(1,"Dummy"),X())},encapsulation:2}),t})(),vM=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(De(Zy),De(qr))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lv=ee.m515,D6=Ev[2],I6=Ev[0],hu="rgba(0,0,0,0.2)";function bM(t){const n=Qd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function x6(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const O6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function N6(t){const e=o=>function P6(t,n){let e,r;const o=document.createElement("canvas");return function(){var i=(0,Se.Z)(function*(s,a){if(e===s&&r===a)return o;o.width=s,o.height=a;const c=o.getContext("2d");if(!c)throw new Error("get a new browser");return c.drawImage(yield t(),0,0,o.width,o.height),(OH||ks)&&(yield n).indexOf("data:image")>=0&&(yield new Promise(d=>setTimeout(d,0)),c.drawImage(yield t(),0,0,o.width,o.height)),e=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function n(o){let i;return(0,Se.Z)(function*(){if(!i){const s=(yield t)[o];i=function R6(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o),t.then(i=>i[o])),r={};for(const o of O6)r[o]=e(o);return r}let Uh=(()=>{class t extends class A6{constructor(n){this.skin=n,this.layout=bM(Lv),this.onResize=new Lo.j}get width(){switch(this.getOrientation()){case yr.portrait:case yr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case yr.portrait:case yr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,d=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case yr.landscape90:{const _=d;d=this.layout.height.frameDevice-c,c=_;break}case yr.landscape270:{const _=d;d=c,c=this.layout.width.frameDevice-_;break}case yr.portrait180:c=this.layout.width.frameDevice-c,d=this.layout.height.frameDevice-d}c-=this.layout.borderWidth.frameDevice,d-=this.layout.borderWidth.frameDevice,d>=this.layout.screenHeight.frameDevice&&(d<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?d=this.layout.screenHeight.frameDevice:d-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),d<0&&(d=0),d>=m&&(d=m-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||d<0||d>=m)return;return[c,d]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,Se.Z)(function*(){if(!n)return;e.layout=bM(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,Se.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,hu),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,hu),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,hu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case yr.portrait:case void 0:break;case yr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case yr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case yr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,Se.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,D6),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ee.pegT600c:case ee.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ee.pegN700c:case ee.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ee.pegS320:case ee.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ee.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ee.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ee.palmPilot:case ee.pilot:case ee.iii:case ee.palmVII:return this.skin.SILKSCREEN_PILOT;case ee.m500:return this.skin.SILKSCREEN_M500;case ee.m505:case ee.m515:case ee.m520:return this.skin.SILKSCREEN_M515;case ee.iiic:return this.skin.SILKSCREEN_IIIC;case ee.m100:case ee.m105:case ee.m125:return this.skin.SILKSCREEN_M100;case ee.m130:return this.skin.SILKSCREEN_M130;case ee.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ee.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ee.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case ee.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ee.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ee.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ee.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ee.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ee.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ee.pegT400:case ee.pegT600c:case ee.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ee.pilot:case ee.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ee.m500:return this.skin.HARD_BUTTONS_M500;case ee.m505:case ee.m515:case ee.m520:return this.skin.HARD_BUTTONS_M515;case ee.iiic:return this.skin.HARD_BUTTONS_IIIC;case ee.m100:case ee.m105:return this.skin.HARD_BUTTONS_M100;case ee.m125:return this.skin.HARD_BUTTONS_M125;case ee.m130:return this.skin.HARD_BUTTONS_M130;case ee.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ee.iii:case ee.iiix:case ee.iiixe:case ee.palmVII:case ee.palmVIIEZ:case ee.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ee.iiie:return this.skin.HARD_BUTTONS_IIIE;case ee.i705:return this.skin.HARD_BUTTONS_I705;case ee.handera330c:case ee.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return Dv(this.getDeviceId())?"white":I6}frameColor(){return Dv(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(N6(R.e(4363).then(R.bind(R,4363)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,Se.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,Se.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,Se.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Lv}getOrientation(){return this.session?.deviceOrientation??yr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function L6(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Qd(this.session?.device??Lv).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*d)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$v=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(C(qr),C(Uh),C(Fa))},t.\u0275cmp=y({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(re(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),dt(4,"ion-icon",3),re(5,"ion-label"),Ze(6,"Emulator"),X()(),re(7,"ion-tab-button",4),dt(8,"ion-icon",5),re(9,"ion-label"),Ze(10,"Sessions"),X()(),re(11,"ion-tab-button",6),dt(12,"ion-icon",7),re(13,"ion-label"),Ze(14,"Cards"),X()(),re(15,"ion-tab-button",8),dt(16,"ion-icon",9),re(17,"ion-label"),Ze(18,"Settings"),X()(),re(19,"ion-tab-button",10),dt(20,"ion-icon",11),re(21,"ion-label"),Ze(22,"About"),X()()()()()),2&e&&(tt(2),_a("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[Bo,Vi,ov,zI,nk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),nf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws,pv.forChild(),ul,zl,Xp]}),t})(),$6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws,zl,ul,nf,pv.forChild()]}),t})(),B6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws,zl,ul,nf]}),t})(),V6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws,zl,ul,Xp,nf]}),t})(),H6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws,zl,ul,nf,Xp]}),t})(),j6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ws,ul,zl,Xp,nf]}),t})();function U6(t,n){if(1&t){const e=gr();re(0,"ion-button",1),at("click",function(){return xt(e),Wt(Bt().onClick())}),dt(1,"ion-icon",2),X()}if(2&t){const e=Bt();tt(1),ot("name",e.iconName)}}let Gh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ks?"logo-apple-appstore":Mk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(C(jk))},t.\u0275cmp=y({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&Qt(0,U6,2,1,"ion-button",0),2&e&&ot("ngIf",r.show)},dependencies:[No,Ni,Bo]}),t})();function G6(t,n){1&t&&(re(0,"div",11),dt(1,"ion-spinner"),X())}function z6(t,n){1&t&&(re(0,"div"),Ze(1,"app cached for offline use"),X())}let W6=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return ec}showChangelog(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Xd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(C(is),C(Ov))},t.\u0275cmp=y({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"About"),X(),re(4,"ion-buttons",1),dt(5,"app-pwa-prompt"),X()()(),re(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Ze(10,"About"),X()()(),Qt(11,G6,2,0,"div",4),re(12,"div",5)(13,"markdown",6),at("load",function(){return r.loading=!1}),X()(),re(14,"div",7),Ze(15),dt(16,"br"),re(17,"a",8),at("click",function(){return r.showChangelog()}),Ze(18,"Changelog"),X(),Qt(19,z6,2,0,"div",9),X(),dt(20,"img",10),X()),2&e&&(ot("translucent",!0),tt(11),ot("ngIf",r.loading),tt(4),di(" CloudpilotEmu version ",r.version," "),tt(4),ot("ngIf",r.serviceWorkerAvailable))},dependencies:[No,Li,$i,Bi,Hd,Hi,ji,Gh,fv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function q6(t,n){if(1&t&&(re(0,"ion-select-option",17),Ze(1),X()),2&t){const e=n.$implicit;ot("value",e[0]),tt(1),di("",e[1]," ")}}function Z6(t,n){if(1&t&&(re(0,"ion-select-option",17),Ze(1),X()),2&t){const e=n.$implicit;ot("value",e[0]),tt(1),di("",e[1]," ")}}function K6(t,n){if(1&t&&(re(0,"ion-item",7)(1,"ion-label",8),Ze(2,"Hotsync name"),X(),dt(3,"ion-input",18),X()),2&t){const e=Bt();tt(3),ot("placeholder",e.placeholder)}}let wM=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[yr.portrait,"Portrait"],[yr.landscape90,"Landscape 90\xb0"],[yr.landscape270,"Landscape 270\xb0"],[yr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,zk(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function Mj(t){switch(t){case ee.palmPilot:case ee.pilot:case ee.iii:case ee.palmVII:case ee.palmVx:case ee.palmV:case ee.palmVIIEZ:case ee.palmVIIx:case ee.iiic:case ee.iiix:case ee.iiixe:case ee.iiie:case ee.m100:case ee.m105:case ee.pegS300:case ee.pegS500c:return 16;case ee.m500:case ee.m505:case ee.m515:case ee.m520:case ee.m125:case ee.m130:case ee.i705:case ee.i710:case ee.handera330:case ee.handera330c:case ee.pegS320:case ee.pegT400:case ee.pegN600c:case ee.pegT600c:case ee.pegN700c:case ee.acerS11:return 33;case ee.pegT650c:case ee.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Wp({name:new $o(this.session.name,{validators:[Vp.required,this.validateNameUnique]}),manageHotsyncName:new $o(!this.session.dontManageHotsyncName),hotsyncName:new $o(this.session.hotsyncName||""),device:new $o({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new $o((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new $o(this.session.deviceOrientation||yr.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(C(ef),C(Or))},t.\u0275cmp=y({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Session settings"),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.save()}),Ze(6,"Save"),X()(),re(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return r.onCancel()}),Ze(9,"Cancel"),X()()()(),re(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return r.onEnter()}),re(12,"h1"),Ze(13,"Session"),X(),re(14,"ion-item",7)(15,"ion-label",8),Ze(16,"Session name"),X(),dt(17,"ion-input",9),X(),re(18,"h1"),Ze(19,"Device"),X(),re(20,"ion-item",7)(21,"ion-label",8),Ze(22,"Device type"),X(),re(23,"ion-select",10),Qt(24,q6,2,2,"ion-select-option",11),X()(),re(25,"ion-item",7)(26,"ion-label",8),Ze(27,"Orientation"),X(),re(28,"ion-select",12),Qt(29,Z6,2,2,"ion-select-option",11),X()(),re(30,"ion-item",7)(31,"ion-label",13),Ze(32),X(),dt(33,"ion-range",14),X(),re(34,"h1"),Ze(35,"Hotsync"),X(),re(36,"ion-item",7)(37,"ion-label"),Ze(38,"Manage hotsync name"),X(),dt(39,"ion-toggle",15),X(),Qt(40,K6,4,1,"ion-item",16),X()()),2&e&&(tt(5),ot("disabled",r.formGroup.invalid),tt(6),ot("formGroup",r.formGroup),tt(13),ot("ngForOf",r.deviceList),tt(5),ot("ngForOf",r.orientations),tt(3),ts(r.speedLabel),tt(8),ot("ngIf",r.showHotsyncNameInput))},dependencies:[Hl,No,Ni,Li,$i,Bi,cl,Vo,Vi,rv,Ih,kh,Hi,jd,ji,iu,Vd,ll,sl,ol,il,C_,qs,Ma],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),Y6=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,Se.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var d=(0,Se.Z)(function*(m){for(m.Init(e);m.IsInProgress();){const _=m.GetCurrentDatabase();m.Save()||s.push(_),yield new Promise(I=>setTimeout(I,0))}a=c.getArchive(m)});return function(m){return d.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${kv(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(Qk(o,e),a)},"Cancel"):r.fileService.saveFile(Qk(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(De(ta),De(Xl),De(Jd),De(fu),De(Fa),De(Or),De(ea))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const X6=window.AudioContext||window.webkitAudioContext;function Bv(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let Vv=(()=>{class t extends class Q6{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,Se.Z)(function*(){if(!e.initialized){try{e.context=new X6}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,Se.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield Bv(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Bv(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,Se.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Qs,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ks||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ks||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,Se.Z)(function*(){!n.context||(yield Bv(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(De(ta),De(Ui),De(Tv))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SM=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(De(ta),De(ft))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eU(t,n){if(1&t){const e=gr();re(0,"ion-item",4),at("click",function(){return xt(e),Wt(Bt().power())}),re(1,"ion-label"),Ze(2,"Power"),X(),dt(3,"ion-icon",5),X()}if(2&t){const e=Bt();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function tU(t,n){if(1&t){const e=gr();re(0,"ion-item",4),at("click",function(){return xt(e),Wt(Bt().hotsync())}),re(1,"ion-label"),Ze(2,"Hotsync"),X(),dt(3,"ion-icon",6),X()}if(2&t){const e=Bt();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function nU(t,n){if(1&t){const e=gr();re(0,"ion-item",4),at("click",function(){return xt(e),Wt(Bt().reset())}),re(1,"ion-label"),Ze(2,"Reset"),X(),dt(3,"ion-icon",7),X()}if(2&t){const e=Bt();ot("detail",!1)("disabled",!e.emulationService.isRunning())}}function rU(t,n){if(1&t){const e=gr();re(0,"ion-item",8),at("click",function(){return xt(e),Wt(Bt().insertCard())}),re(1,"ion-label"),Ze(2),X(),dt(3,"ion-icon",9),X()}if(2&t){const e=Bt();ot("detail",!1),tt(2),di("Insert ",e.hasMemorystick?"stick":"SD card","")}}function oU(t,n){if(1&t){const e=gr();re(0,"ion-item",8),at("click",function(){return xt(e),Wt(Bt().ejectCard())}),re(1,"ion-label"),Ze(2),X(),dt(3,"ion-icon",10),X()}if(2&t){const e=Bt();ot("detail",!1),tt(2),di("Eject ",e.hasMemorystick?"stick":"SD card","")}}function iU(t,n){if(1&t){const e=gr();re(0,"ion-item",8),at("click",function(){return xt(e),Wt(Bt().mute(!1))}),re(1,"ion-label"),Ze(2,"Enable audio"),X(),dt(3,"ion-icon",11),X()}2&t&&ot("detail",!1)}function sU(t,n){if(1&t){const e=gr();re(0,"ion-item",8),at("click",function(){return xt(e),Wt(Bt().mute(!0))}),re(1,"ion-label"),Ze(2,"Disable audio"),X(),dt(3,"ion-icon",12),X()}2&t&&ot("detail",!1)}function aU(t,n){if(1&t){const e=gr();re(0,"ion-item",4),at("click",function(){return xt(e),Wt(Bt().backup())}),re(1,"ion-label"),Ze(2,"Save backup"),X(),dt(3,"ion-icon",13),X()}if(2&t){const e=Bt();ot("detail",!1)("disabled",e.backupDisabled)}}function lU(t,n){if(1&t){const e=gr();re(0,"ion-item",8),at("click",function(){return xt(e),Wt(Bt().rotate())}),re(1,"ion-label"),Ze(2,"Rotate"),X(),dt(3,"ion-icon",14),X()}2&t&&ot("detail",!1)}function cU(t,n){if(1&t){const e=gr();re(0,"ion-item",8),at("click",function(){return xt(e),Wt(Bt().editSettings())}),re(1,"ion-label"),Ze(2,"Settings"),X(),dt(3,"ion-icon",15),X()}2&t&&ot("detail",!1)}function uU(t){switch(t){case yr.portrait:case void 0:return yr.landscape90;case yr.landscape90:return yr.portrait180;case yr.portrait180:return yr.landscape270;case yr.landscape270:return yr.portrait;default:throw new Error("cannot happen")}}let dU=(()=>{class t{constructor(e,r,o,i,s,a,c,d,m,_,I,A,Y,Fe,Ke,Je,gt,nt){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=d,this.modalController=m,this.sessionService=_,this.performanceWatchdogService=I,this.canvasDisplayService=A,this.cloudpilotService=Y,this.storageCardService=Fe,this.alertService=Ke,this.alertController=Je,this.storageService=gt,this.errorService=nt,this.showHelp=()=>{}}reset(){var e=this;return(0,Se.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,Se.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function Tj(t){return[ee.i705,ee.i710,ee.pegNR70,ee.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&Wk(e.device)!==_l.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&Wk(e.device)===_l.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:wM,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,Se.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:uU(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,Se.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,Se.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(C(ta),C(Fa),C(Y6),C(oM),C(Wd),C(Ql),C(Vv),C(Ui),C(is),C(ef),C(SM),C(Uh),C(ea),C(pu),C(Or),C(au),C(jn),C(Jl))},t.\u0275cmp=y({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(re(0,"ion-list"),Qt(1,eU,4,2,"ion-item",0),Qt(2,tU,4,2,"ion-item",0),Qt(3,nU,4,2,"ion-item",0),Qt(4,rU,4,2,"ion-item",1),Qt(5,oU,4,2,"ion-item",1),Qt(6,iU,4,1,"ion-item",1),Qt(7,sU,4,1,"ion-item",1),Qt(8,aU,4,2,"ion-item",0),Qt(9,lU,4,1,"ion-item",1),Qt(10,cU,4,1,"ion-item",1),re(11,"ion-item",2),at("click",function(){return r.help()}),re(12,"ion-label"),Ze(13,"Help"),X(),dt(14,"ion-icon",3),X()()),2&e&&(tt(1),ot("ngIf",r.hasActiveSession&&!r.powerDisabled),tt(1),ot("ngIf",r.hasActiveSession),tt(1),ot("ngIf",r.hasActiveSession),tt(1),ot("ngIf",r.supportsStorageCard&&!r.hasMountedCard),tt(1),ot("ngIf",r.supportsStorageCard&&r.hasMountedCard),tt(1),ot("ngIf",r.isMuted&&!r.isAudioOff),tt(1),ot("ngIf",!r.isMuted&&!r.isAudioOff),tt(1),ot("ngIf",r.hasActiveSession),tt(1),ot("ngIf",r.hasActiveSession),tt(1),ot("ngIf",r.hasActiveSession),tt(1),ot("detail",!1))},dependencies:[No,Bo,Vo,Vi,Ys]}),t})(),pU=(()=>{class t extends class fU{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const d=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:d}),this.handleButtonDown(d)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const d=this.canvasDisplayService.eventToPalmCoordinates(s);if(!d||2!==this.determineArea(d)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(d);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const d=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!d)continue;this.emulationService.handlePointerMove(...d,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(De(ta),De(Uh),De(Tv),De(ft),De(Qa))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function EM(t){return/\.(prc|pdb|pqa)$/i.test(t)}class _U{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,Se.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else EM(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,Se.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function yU(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,Se.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,Se.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!EM(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function gU(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let vU=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,Se.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new _U(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(m=>!!m).join("<br/><br/>");let d;d=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(d,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${kv(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${kv(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(De(ea),De(ta),De(Xl),De(Jd),De(Or),De(au))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hv=(()=>{class t{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bU=["canvas"];function wU(t,n){if(1&t){const e=gr();re(0,"ion-button",5),at("click",function(){return xt(e),Wt(Bt().navigation.lock())}),dt(1,"ion-icon",10),X()}}function CU(t,n){if(1&t){const e=gr();re(0,"ion-button",5),at("click",function(){return xt(e),Wt(Bt().navigation.unlock())}),dt(1,"ion-icon",11),X()}}function SU(t,n){if(1&t){const e=gr();re(0,"ion-button",5),at("click",function(){return xt(e),Wt(Bt().showGameModeHint())}),dt(1,"ion-icon",12),X()}}function EU(t,n){if(1&t){const e=gr();re(0,"ion-button",5),at("click",function(){return xt(e),Wt(Bt().showProxyConnectedHint())}),dt(1,"ion-icon",13),X()}}function DU(t,n){if(1&t){const e=gr();re(0,"ion-button",5),at("click",function(){return xt(e),Wt(Bt().showSlowdowndHint())}),dt(1,"ion-icon",14),X()}}function IU(t,n){if(1&t){const e=gr();re(0,"div",15),Ze(1," The device was reset forcefully. How do you want to boot? "),re(2,"ion-button",16),at("click",function(){return xt(e),Wt(Bt().bootAfterForcefulReset())}),Ze(3,"Normal boot"),X(),re(4,"ion-button",16),at("click",function(){return xt(e),Wt(Bt().bootAfterForcefulResetNoExtensions())}),Ze(5,"No extensions"),X(),re(6,"ion-button",16),at("click",function(){return xt(e),Wt(Bt().bootAfterForcefulResetHardReset())}),Ze(7,"Hard reset"),X()()}}function kU(t,n){1&t&&(re(0,"div",15)(1,"div"),Ze(2,"No session selected"),X()())}let MU=(()=>{class t{constructor(e,r,o,i,s,a,c,d,m,_,I,A,Y,Fe,Ke,Je,gt,nt){var pt=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=d,this.alertService=m,this.fileService=_,this.snapshotService=I,this.installlationService=A,this.proxyService=Y,this.navigation=Fe,this.linkApi=Ke,this.performanceWatchdogService=Je,this.cloudpilotService=gt,this.dragDropService=nt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Se.Z)(function*(){yield pt.emulationService.bootstrapComplete(),pt.boostrapComplete=!0;const nn=pt.emulationState.getCurrentSession();nn&&!nn.wasResetForcefully&&(yield pt.launchEmulator()),pt.linkApi.installation.requestEvent.addHandler(pt.handleLinkApiInstallationRequest),pt.handleLinkApiInstallationRequest(),pt.dragDropService.registerClient(pt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=nn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(nn,this.emulationService.getStatistics())},this.onNewFrame=nn=>{this.canvasDisplayService.updateEmulationCanvas(nn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const nn=this.linkApi.installation.receivePendingUrl();nn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${nn} ?`,{OK:()=>this.fileService.openUrl(nn,po=>this.installlationService.installFiles([po]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${nn} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Qs}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,Se.Z)(function*(){(yield r.popoverController.create({component:dU,event:e,componentProps:{showHelp:()=>r.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Xd,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,Se.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,Se.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,Se.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,Se.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,Se.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,Se.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,Se.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(C(ta),C(Fa),C(jn),C(pU),C(Uh),C(Ui),C(Ql),C(is),C(Or),C(fu),C(Jd),C(vU),C(Av),C($v),C(Zy),C(SM),C(ea),C(Hv))},t.\u0275cmp=y({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&Uc(bU,5),2&e){let o;Ri(o=Fi())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),re(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return r.installFiles()}),dt(6,"ion-icon",2),X(),Qt(7,wU,2,0,"ion-button",3),Qt(8,CU,2,0,"ion-button",3),X(),re(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(i){return r.openContextMenu(i)}),dt(11,"ion-icon",6),X(),Qt(12,SU,2,0,"ion-button",3),Qt(13,EU,2,0,"ion-button",3),Qt(14,DU,2,0,"ion-button",3),X()()(),re(15,"ion-content")(16,"div",7),at("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),dt(17,"canvas",null,8),X(),Qt(19,IU,8,0,"div",9),Qt(20,kU,3,0,"div",9),X()),2&e){let o,i;tt(3),ts(r.title),tt(2),ot("disabled",r.installFileDisabled),tt(2),ot("ngIf",!r.navigation.isLocked()),tt(1),ot("ngIf",r.navigation.isLocked()),tt(4),ot("ngIf",r.eventHandlingService.isGameMode()),tt(1),ot("ngIf",r.proxyService.isConnected()),tt(1),ot("ngIf",r.performanceWatchdogService.isSlowdownDetected()),tt(1),_a("locked",r.navigation.isLocked()),tt(1),Xu("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),tt(1),Xu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),tt(2),ot("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),tt(1),ot("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[No,Ni,Li,$i,Bi,Bo,Hi,ji],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();function jv(t,n,e){return()=>{const r=e();r!==n&&(t.markForCheck(),n=r)}}function DM(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let TU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(re(0,"ion-list")(1,"ion-item",0),at("click",function(){return r.onEdit()}),dt(2,"ion-icon",1),Ze(3," Edit "),X(),re(4,"ion-item",0),at("click",function(){return r.onSave()}),dt(5,"ion-icon",2),Ze(6," Save "),X(),re(7,"ion-item",0),at("click",function(){return r.onReset()}),dt(8,"ion-icon",3),Ze(9," Reset "),X(),re(10,"ion-item",4),at("click",function(){return r.onDelete()}),dt(11,"ion-icon",5),Ze(12," Delete "),X()()),2&e&&(tt(1),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1))},dependencies:[Bo,Vo,Ys]}),t})();const AU=["slidingItem"];function PU(t,n){if(1&t&&(re(0,"span"),Ze(1),X()),2&t){const e=Bt();tt(1),di(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let RU=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new vn,this.resetSession=new vn,this.edit=new vn,this.save=new vn,this.selectItem=new vn,this.interaction=new vn}get device(){return this.session?zk(this.session.device):""}onContextmenu(e){var r=this;return(0,Se.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:TU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(),onSave:()=>r.save.emit(),onDelete:()=>r.delete.emit(),onReset:()=>r.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const r=function xU(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(C(Ql))},t.\u0275cmp=y({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&Uc(AU,5),2&e){let o;Ri(o=Fi())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=gr();re(0,"ion-item-sliding",0,1),at("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),re(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return xt(o),es(1).close(),Wt(r.edit.emit(r.session))}),dt(4,"ion-icon",4),X(),re(5,"ion-item-option",5),at("click",function(){return xt(o),es(1).close(),Wt(r.save.emit(r.session))}),dt(6,"ion-icon",6),X()(),re(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return xt(o),es(1).close(),Wt(r.resetSession.emit(r.session))}),dt(9,"ion-icon",9),X(),re(10,"ion-item-option",10),at("click",function(){return xt(o),es(1).close(),Wt(r.delete.emit(r.session))}),dt(11,"ion-icon",11),X()(),re(12,"ion-item",12),at("click",function(){return r.selectItem.emit()}),re(13,"ion-label")(14,"h2"),Ze(15),X(),re(16,"p"),Ze(17),Qt(18,PU,2,1,"span",13),X()()()()}2&e&&(tt(12),ot("color",r.color),tt(1),_a("in-item-color",r.selected),tt(2),ts(null==r.session?null:r.session.name),tt(2),Ju("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),tt(1),ot("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[No,Bo,Vo,Sh,Eh,Dh,Vi],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"],changeDetection:0}),t})();function FU(t,n){1&t&&(re(0,"div",10),dt(1,"ion-spinner"),X())}function OU(t,n){1&t&&(re(0,"div",11)(1,"div",12),Ze(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),dt(3,"br")(4,"br"),Ze(5," You can find a collection of compatible ROMs on "),re(6,"a",13),Ze(7,"PalmDB"),X(),Ze(8,". "),X()())}function NU(t,n){if(1&t){const e=gr();re(0,"app-session-item",15),at("delete",function(){const i=xt(e).$implicit;return Wt(Bt(2).deleteSession(i))})("selectItem",function(){const i=xt(e).$implicit;return Wt(Bt(2).launchSession(i))})("edit",function(){const i=xt(e).$implicit;return Wt(Bt(2).editSession(i))})("save",function(){const i=xt(e).$implicit;return Wt(Bt(2).saveSession(i))})("resetSession",function(){const i=xt(e).$implicit;return Wt(Bt(2).resetSession(i))})("interaction",function(){const i=xt(e).$implicit;return Wt(Bt(2).lastSessionTouched=i.id)}),X()}if(2&t){const e=n.$implicit,r=Bt(2);ot("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function LU(t,n){if(1&t&&(re(0,"ion-list"),Qt(1,NU,1,3,"app-session-item",14),X()),2&t){const e=Bt();tt(1),ot("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class na{constructor(n,e,r,o,i,s,a,c,d,m,_,I,A){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=d,this.router=m,this.cloudpilotService=_,this.dragDropService=I,this.cd=A,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Y=this.linkApi.import.receivePendingUrl();!Y||this.alertService.message("Import request",`Do you want to import<br>${Y} ?`,{OK:()=>this.fileService.openUrl(Y,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=jv(A,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,Se.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,Se.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!uM()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,Se.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id,e.cd.markForCheck();const r=yield e.emulationService.switchSession(n.id);e.currentSessionOverride=void 0,e.cd.markForCheck(),r&&e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,Se.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,Se.Z)(function*(){yield(yield n.modalController.create({component:Xd,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleDropFiles.bind(this))}handleDropFiles(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(n[0])}}processFile(n){var e=this;return(0,Se.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(n.content);if(r){const o={name:e.disambiguateSessionName(r.metadata?.name??n.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield e.editSettings(o)){const i=yield e.sessionService.addSessionFromImage(r,o.name,o);e.lastSessionTouched=i.id}}else{const o=(yield e.cloudpilotService.cloudpilot).getRomInfo(n.content);if(!o)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const i={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield e.editSettings(i,o.supportedDevices)){const s=yield e.sessionService.addSessionFromRom(n.content,i.name,i.device,i);e.lastSessionTouched=s.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:wM,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return DM(n,r=>e.some(o=>o.name===r))}}function $U(t,n){1&t&&(re(0,"ion-item",8)(1,"ion-label"),Ze(2,"Clipboard integration"),X(),dt(3,"ion-toggle",17),X())}function BU(t,n){if(1&t){const e=gr();re(0,"ion-item",8)(1,"ion-label",18),Ze(2,"Proxy server"),X(),re(3,"div",19),dt(4,"ion-input",20),re(5,"ion-button",21),at("click",function(o){xt(e);const i=Bt();return o.preventDefault(),o.stopPropagation(),Wt(i.testProxyConnection())})("touchstart",function(o){xt(e);const i=Bt();return o.preventDefault(),o.stopPropagation(),Wt(i.testProxyConnection())}),Ze(6," Test "),X()()()}if(2&t){const e=Bt();tt(5),ot("disabled",!e.proxyServerValid)}}na.\u0275fac=function(n){return new(n||na)(C(ef),C(fu),C(au),C(Or),C(ta),C(Fa),C(jn),C(is),C(Zy),C(qr),C(ea),C(Hv),C(Mt))},na.\u0275cmp=y({type:na,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(n,e){1&n&&(re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Sessions"),X(),re(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return e.importSession()}),dt(6,"ion-icon",2),X()(),re(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return e.showHelp()}),dt(9,"ion-icon",4),X(),dt(10,"app-pwa-prompt"),X()()(),re(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ze(15,"Sessions"),X()()(),Qt(16,FU,2,0,"div",7),Qt(17,OU,9,0,"div",8),Qt(18,LU,2,2,"ion-list",9),X()),2&n&&(tt(16),ot("ngIf",e.sessionService.isLoading()),tt(1),ot("ngIf",!e.sessionService.isLoading()&&0===e.sessions.length),tt(1),ot("ngIf",!e.sessionService.isLoading()&&e.sessions.length>0))},dependencies:[Hl,No,Ni,Li,$i,Bi,Bo,Ys,Hd,Hi,ji,Gh,RU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),J([Qo()],na.prototype,"deleteSession",null),J([Qo()],na.prototype,"editSession",null),J([Qo()],na.prototype,"saveSession",null),J([Qo()],na.prototype,"launchSession",null),J([Qo()],na.prototype,"resetSession",null);let VU=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:Xd,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,Se.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,Se.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Wp({volume:new $o(this.kvsService.kvs.volume),showStatistics:new $o(this.kvsService.kvs.showStatistics),runHidden:new $o(this.kvsService.kvs.runHidden),clipboardIntegration:new $o(this.kvsService.kvs.clipboardIntegration),networkRedirection:new $o(this.kvsService.kvs.networkRedirection),proxyServer:new $o(this.kvsService.kvs.proxyServer,{validators:[Jj]}),autoLockUI:new $o(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new $o(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new $o(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(C(is),C(Ui),C(nM),C(Or),C(Av))},t.\u0275cmp=y({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Settings"),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.showHelp()}),dt(6,"ion-icon",3),X(),dt(7,"app-pwa-prompt"),X()()(),re(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Ze(12,"Settings"),X()()(),re(13,"div",6)(14,"form",7)(15,"h1"),Ze(16,"Emulation"),X(),re(17,"ion-item",8)(18,"ion-label"),Ze(19,"Volume"),X(),dt(20,"ion-range",9),X(),re(21,"ion-item",8)(22,"ion-label"),Ze(23,"Enable audio on start"),X(),dt(24,"ion-toggle",10),X(),re(25,"ion-item",8)(26,"ion-label"),Ze(27,"Run when hidden"),X(),dt(28,"ion-toggle",11),X(),re(29,"h1"),Ze(30,"Host integration"),X(),Qt(31,$U,4,0,"ion-item",12),re(32,"ion-item",8)(33,"ion-label"),Ze(34,"Network redirection"),X(),dt(35,"ion-toggle",13),X(),Qt(36,BU,7,1,"ion-item",12),re(37,"h1"),Ze(38,"UI"),X(),re(39,"ion-item",8)(40,"ion-label"),Ze(41,"Auto-lock UI"),X(),dt(42,"ion-toggle",14),X(),re(43,"ion-item",8)(44,"ion-label"),Ze(45,"Show statistics"),X(),dt(46,"ion-toggle",15),X(),re(47,"ion-item",8)(48,"ion-label"),Ze(49,"Open from remote sources"),X(),dt(50,"ion-toggle",16),X()()()()),2&e&&(ot("translucent",!0),tt(14),ot("formGroup",r.formGroup),tt(17),ot("ngIf",r.clipboardService.isSupported()),tt(5),ot("ngIf",r.showProxyServer))},dependencies:[No,sl,ol,il,Ni,Li,$i,Bi,Bo,cl,Vo,Vi,rv,Hi,jd,ji,iu,Vd,ll,Gh,qs,Ma],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),Uv=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ct({name:"cardSize",type:t,pure:!0}),t})();function HU(t,n){1&t&&(re(0,"div",14)(1,"b"),Ze(2,"WARNING:"),X(),Ze(3," This image cannot be used as a memory stick image."),X())}let IM=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Ul({name:new ns("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique]}),size:new ns({value:"dummy",disabled:!0}),checkAutomatically:new ns(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){!this.card||(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(C(pu))},t.\u0275cmp=y({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.save()}),Ze(6,"Save"),X()(),re(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return r.onCancel()}),Ze(9,"Cancel"),X()()()(),re(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return r.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Card name"),X(),dt(15,"ion-input",9),X(),re(16,"ion-item",7)(17,"ion-label",8),Ze(18,"Card size"),X(),re(19,"ion-select",10)(20,"ion-select-option",11),Ze(21),js(22,"cardSize"),X()()(),re(23,"ion-item",7)(24,"ion-label"),Ze(25,"Check for errors automatically"),X(),dt(26,"ion-toggle",12),X()(),Qt(27,HU,4,0,"div",13),X()),2&e&&(tt(3),ts(r.newCard?"New memory card":"Edit memory card"),tt(2),ot("disabled",r.formGroup.invalid),tt(6),ot("formGroup",r.formGroup),tt(10),di("",Us(22,5,null==r.card?null:r.card.size)," "),tt(6),ot("ngIf",!r.memoryStickSupported))},dependencies:[No,Ni,Li,$i,Bi,cl,Vo,Vi,Ih,kh,Hi,jd,ji,iu,Vd,ll,sl,ol,il,qs,Ma,Uv],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function jU(t,n){if(1&t&&(re(0,"ion-select-option",13),Ze(1),js(2,"cardSize"),X()),2&t){const e=n.$implicit,r=Bt();ot("value",e),tt(1),di("",Us(2,2,r.sizeBytes(e))," ")}}const UU=[oo.mb4,oo.mb8,oo.mb16,oo.mb32,oo.mb64,oo.mb128];let GU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Ul({name:new ns("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique]}),size:new ns(oo.mb32,{nonNullable:!0}),checkAutomatically:new ns(!0,{nonNullable:!0})})}get sizes(){return UU}sizeBytes(e){return function u6(t){switch(t){case oo.mb4:return 4046848;case oo.mb8:return 8110080;case oo.mb16:return 16220160;case oo.mb32:return 32473088;case oo.mb64:return 64978944;case oo.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(C(pu))},t.\u0275cmp=y({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"New memory card"),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return r.create()}),Ze(6,"Create"),X()(),re(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return r.onCancel()}),Ze(9,"Cancel"),X()()()(),re(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return r.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Card name"),X(),dt(15,"ion-input",9),X(),re(16,"ion-item",7)(17,"ion-label",8),Ze(18,"Card size"),X(),re(19,"ion-select",10),Qt(20,jU,3,4,"ion-select-option",11),X()(),re(21,"ion-item",7)(22,"ion-label"),Ze(23,"Check for errors automatically"),X(),dt(24,"ion-toggle",12),X()()()),2&e&&(tt(5),ot("disabled",r.formGroup.invalid),tt(6),ot("formGroup",r.formGroup),tt(9),ot("ngForOf",r.sizes))},dependencies:[Hl,Ni,Li,$i,Bi,cl,Vo,Vi,Ih,kh,Hi,jd,ji,iu,Vd,ll,sl,ol,il,qs,Ma,Uv]}),t})(),zU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(re(0,"ion-list")(1,"ion-item",0),at("click",function(){return r.onEdit()}),dt(2,"ion-icon",1),Ze(3," Edit "),X(),re(4,"ion-item",0),at("click",function(){return r.onSave()}),dt(5,"ion-icon",2),Ze(6," Save "),X(),re(7,"ion-item",0),at("click",function(){return r.onCheck()}),dt(8,"ion-icon",3),Ze(9," Check "),X(),re(10,"ion-item",4),at("click",function(){return r.onDelete()}),dt(11,"ion-icon",5),Ze(12," Delete "),X()()),2&e&&(tt(1),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1))},dependencies:[Bo,Vo,Ys]}),t})(),WU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new vn,this.selectCard=new vn,this.edit=new vn,this.check=new vn,this.delete=new vn,this.save=new vn}onContextmenu(e){var r=this;return(0,Se.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:zU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(r.card),onSave:()=>r.save.emit(r.card),onCheck:()=>r.check.emit(),onDelete:()=>r.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Sr.dirty:return"needs check";case Sr.clean:return"no errors";case Sr.unformatted:return"no filesystem";case Sr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(C(pu),C(Ql))},t.\u0275cmp=y({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=gr();re(0,"ion-item-sliding",0,1),at("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),re(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return xt(o),es(1).close(),Wt(r.edit.emit(r.card))}),dt(4,"ion-icon",4),X(),re(5,"ion-item-option",5),at("click",function(){return xt(o),es(1).close(),Wt(r.save.emit(r.card))}),dt(6,"ion-icon",6),X()(),re(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return xt(o),es(1).close(),Wt(r.check.emit(r.card))}),dt(9,"ion-icon",9),X(),re(10,"ion-item-option",10),at("click",function(){return xt(o),es(1).close(),Wt(r.delete.emit(r.card))}),dt(11,"ion-icon",11),X()(),re(12,"ion-item",12),at("click",function(){return r.selectCard.emit(),r.interaction.emit()}),re(13,"ion-label")(14,"h2"),Ze(15),X(),re(16,"p"),Ze(17),js(18,"cardSize"),X()()()()}2&e&&(tt(12),ot("color",r.color),tt(3),ts(null==r.card?null:r.card.name),tt(2),Ju("",Us(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[Bo,Vo,Sh,Eh,Dh,Vi,Uv],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"],changeDetection:0}),t})();function qU(t,n){1&t&&(re(0,"div",10),dt(1,"ion-spinner"),X())}function ZU(t,n){1&t&&(re(0,"div",11)(1,"div",12),Ze(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),X()())}function KU(t,n){if(1&t){const e=gr();re(0,"app-storage-card",14),at("delete",function(){const i=xt(e).$implicit;return Wt(Bt(2).deleteCard(i))})("selectCard",function(){const i=xt(e).$implicit;return Wt(Bt(2).selectCard(i))})("edit",function(){const i=xt(e).$implicit;return Wt(Bt(2).editCard(i))})("check",function(){const i=xt(e).$implicit;return Wt(Bt(2).checkCard(i))})("interaction",function(){const i=xt(e).$implicit;return Wt(Bt(2).lastCardTouched=i.id)})("save",function(){const i=xt(e).$implicit;return Wt(Bt(2).saveCard(i))}),X()}if(2&t){const e=n.$implicit,r=Bt(2);ot("card",e)("touched",e.id===r.lastCardTouched)}}function YU(t,n){if(1&t&&(re(0,"ion-list"),Qt(1,KU,1,2,"app-storage-card",13),X()),2&t){const e=Bt();tt(1),ot("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class Ms{constructor(n,e,r,o,i,s,a,c,d,m){var _=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.dragDropService=d,this.handleCardImport=function(){var I=(0,Se.Z)(function*(A){const Fe=(yield _.cloudpilotService.cloudpilot).getCardSupportLevel(A.content.length);if(0===Fe)return void _.alertService.errorMessage("This is not a supported card image.");const Ke=yield new Promise(function(){var Je=(0,Se.Z)(function*(gt){const nt=yield _.modalController.create({component:IM,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(A.name),size:A.content.length},cardSupportLevel:Fe,newCard:!0,onCancel:()=>{nt.dismiss(),gt(void 0)},onSave:pt=>{gt(pt),nt.dismiss()}}});yield nt.present()});return function(gt){return Je.apply(this,arguments)}}());Ke&&(yield _.storageCardService.createCardFromFile(Ke.name,A,!!Ke.dontFsckAutomatically))});return function(A){return I.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=jv(m,[],()=>this.storageCardService.getAllCards())}ngDoCheck(){this.checkCards()}ionViewDidEnter(){this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this)}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(n){this.fileService.openFromDrop(n,this.handleFilesFromDrop.bind(this))}addCardImage(){var n=this;return(0,Se.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(n){var e=this;return(0,Se.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,Se.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:IM,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,Se.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){return this.storageCardService.saveCard(n.id,`${Iv(n.name.replace(/\.img$/,""))}.img`)}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,Se.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,Se.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}handleFilesFromDrop(n){if(0!==n.length){if(n.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(n[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,Se.Z)(function*(){const e=yield n.modalController.create({component:GU,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,Se.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return DM(n,r=>e.some(o=>o.name===r))}}function XU(t,n){1&t&&dt(0,"ion-icon",8)}function QU(t,n){1&t&&dt(0,"ion-icon",9)}function JU(t,n){1&t&&dt(0,"ion-icon",10)}function e5(t,n){if(1&t){const e=gr();re(0,"ion-item",2),at("click",function(){const i=xt(e).index;return Wt(Bt(2).onSelect(i))}),Zu(1,3),Qt(2,XU,1,0,"ion-icon",4),Qt(3,QU,1,0,"ion-icon",5),Qt(4,JU,1,0,"ion-icon",6),Ku(),re(5,"div",7),Ze(6),X()()}if(2&t){const e=n.$implicit,r=n.index,o=Bt(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),tt(1),ot("ngSwitch",o.entries.length),tt(1),ot("ngSwitchCase",r+1),tt(1),ot("ngSwitchCase",r+2),tt(3),ts(e)}}function t5(t,n){if(1&t&&(re(0,"ion-list"),Qt(1,e5,7,6,"ion-item",1),X()),2&t){const e=Bt();tt(1),ot("ngForOf",e.entries)}}Ms.\u0275fac=function(n){return new(n||Ms)(C(Wd),C(pu),C(is),C(au),C(ea),C(Or),C(Jl),C(fu),C(Hv),C(Mt))},Ms.\u0275cmp=y({type:Ms,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(n,e){1&n&&(re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Memory cards"),X(),re(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return e.addCardImage()}),dt(6,"ion-icon",2),X()(),re(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return e.showHelp()}),dt(9,"ion-icon",4),X(),dt(10,"app-pwa-prompt"),X()()(),re(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ze(15,"Memory cards"),X()()(),Qt(16,qU,2,0,"div",7),Qt(17,ZU,3,0,"div",8),Qt(18,YU,2,2,"ion-list",9),X()),2&n&&(tt(16),ot("ngIf",e.storageCardService.isLoading()),tt(1),ot("ngIf",!e.storageCardService.isLoading()&&0===e.cards.length),tt(1),ot("ngIf",!e.storageCardService.isLoading()&&e.cards.length>0))},dependencies:[Hl,No,Ni,Li,$i,Bi,Bo,Ys,Hd,Hi,ji,Gh,WU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),J([Qo()],Ms.prototype,"addCardImage",null),J([Qo()],Ms.prototype,"selectCard",null),J([Qo()],Ms.prototype,"editCard",null),J([Qo()],Ms.prototype,"saveCard",null),J([Qo()],Ms.prototype,"checkCard",null),J([Qo()],Ms.prototype,"deleteCard",null);let n5=(()=>{class t{constructor(){this.onSelect=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,r){1&e&&Qt(0,t5,2,1,"ion-list",0),2&e&&ot("ngIf",r.entries)},dependencies:[Hl,No,xp,kE,ME,Bo,Vo,Ys],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})(),r5=(()=>{class t{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,r){1&e&&(re(0,"ion-list")(1,"ion-item",0),at("click",function(){return r.onStartSelection()}),dt(2,"ion-icon",1),Ze(3," Start selection "),X(),re(4,"ion-item",2),at("click",function(){return r.onAddFiles()}),dt(5,"ion-icon",3),Ze(6," Add files "),X(),re(7,"ion-item",2),at("click",function(){return r.onCreateDirectry()}),dt(8,"ion-icon",4),Ze(9," Add directory "),X(),re(10,"ion-item",2),at("click",function(){return r.onExtractZipfile()}),dt(11,"ion-icon",5),Ze(12," Extract zip "),X(),re(13,"ion-item",0),at("click",function(){return r.onPaste()}),dt(14,"ion-icon",6),Ze(15," Paste "),X(),re(16,"ion-item",7),at("click",function(){return r.onHelp()}),dt(17,"ion-icon",8),Ze(18," Help "),X()()),2&e&&(tt(1),ot("detail",!1)("disabled",r.emptyDirectory),tt(3),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1)("disabled",!0),tt(3),ot("detail",!1))},dependencies:[Bo,Vo,Ys]}),t})();class tc{constructor(n,e){this.modalController=n,this.vfsService=e,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Ul({name:new ns("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ns(!1,{nonNullable:!0}),attrHidden:new ns(!1,{nonNullable:!0}),attrSystem:new ns(!1,{nonNullable:!0})})}ngOnInit(){!this.entry||(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var n=this;return(0,Se.Z)(function*(){yield n.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var n=this;return(0,Se.Z)(function*(){yield n.save()})()}save(){var n=this;return(0,Se.Z)(function*(){!n.entry||!n.formGroup.valid||(yield n.vfsService.updateFileEntry(n.entry.path,{name:n.formGroup.controls.name.value??"",attributes:{hidden:!!n.formGroup.controls.attrHidden.value,readonly:!!n.formGroup.controls.attrReadonly.value,system:!!n.formGroup.controls.attrSystem.value}}),n.onSave(),n.modalController.dismiss())})()}}function kM(t){let n,e,r=!1;return o=>((!r||o!==n)&&(n=o,r=!0,e=t(o)),e)}tc.\u0275fac=function(n){return new(n||tc)(C(is),C(Hh))},tc.\u0275cmp=y({type:tc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(n,e){1&n&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),re(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return e.onSaveClick()}),Ze(6,"Save"),X()(),re(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return e.onCancelClick()}),Ze(9,"Cancel"),X()()()(),re(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return e.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),Ze(14),X(),dt(15,"ion-input",9),X(),re(16,"ion-item",7)(17,"h2"),Ze(18,"Attributes"),X()(),re(19,"ion-item",7)(20,"ion-label"),dt(21,"ion-icon",10),Ze(22,"Readonly"),X(),dt(23,"ion-checkbox",11),X(),re(24,"ion-item",7)(25,"ion-label"),dt(26,"ion-icon",12),Ze(27,"Hidden"),X(),dt(28,"ion-checkbox",13),X(),re(29,"ion-item",7)(30,"ion-label"),dt(31,"ion-icon",14),Ze(32,"System"),X(),dt(33,"ion-checkbox",15),X()()()),2&n&&(tt(3),di("Edit ",e.subjectName.toLowerCase(),""),tt(2),ot("disabled",e.formGroup.invalid),tt(6),ot("formGroup",e.formGroup),tt(3),di("",e.subjectName," name"),tt(1),ip("placeholder","Enter ",e.subjectName.toLowerCase()," name"))},dependencies:[Ni,Li,UI,$i,Bi,Bo,cl,Vo,Vi,Hi,ji,iu,ll,sl,ol,il,qs,Ma],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),J([Qo()],tc.prototype,"onSaveClick",null),J([Qo()],tc.prototype,"onEnter",null);let o5=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(re(0,"ion-list")(1,"ion-item",0),at("click",function(){return r.onEdit()}),dt(2,"ion-icon",1),Ze(3," Edit "),X(),re(4,"ion-item",0),at("click",function(){return r.onSave()}),dt(5,"ion-icon",2),Ze(6," Save "),X(),re(7,"ion-item",0),at("click",function(){return r.onCopy()}),dt(8,"ion-icon",3),Ze(9," Copy "),X(),re(10,"ion-item",0),at("click",function(){return r.onCut()}),dt(11,"ion-icon",4),Ze(12," Cut "),X(),re(13,"ion-item",5),at("click",function(){return r.onDelete()}),dt(14,"ion-icon",6),Ze(15," Delete "),X()()),2&e&&(tt(1),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1),tt(3),ot("detail",!1))},dependencies:[Bo,Vo,Ys]}),t})(),MM=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ct({name:"fileSize",type:t,pure:!0}),t})();const i5=["slidingItem"];function s5(t,n){1&t&&dt(0,"ion-icon",21)}function a5(t,n){1&t&&dt(0,"ion-icon",22)}function l5(t,n){1&t&&dt(0,"ion-icon",23)}function c5(t,n){1&t&&dt(0,"ion-icon",24)}function u5(t,n){1&t&&dt(0,"ion-icon",25)}function d5(t,n){1&t&&dt(0,"ion-icon",26)}function f5(t,n){1&t&&dt(0,"ion-icon",27)}function p5(t,n){if(1&t&&(Zu(0),Ze(1),js(2,"fileSize"),Ku()),2&t){const e=Bt();tt(1),di(" - ",Us(2,1,null==e.entry?null:e.entry.size)," ")}}let h5=(()=>{class t{constructor(e,r){this.actionSheetController=e,this.popoverController=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new vn,this.selectEntry=new vn,this.editEntry=new vn,this.copyEntry=new vn,this.cutEntry=new vn,this.deleteEntry=new vn,this.saveEntry=new vn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var r=this;return(0,Se.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:o5,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.editEntry.emit(r.entry),onSave:()=>r.saveEntry.emit(r.entry),onCopy:()=>r.copyEntry.emit(r.entry),onCut:()=>r.cutEntry.emit(r.entry),onDelete:()=>r.deleteEntry.emit(r.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,Se.Z)(function*(){const r=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${r}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${r}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}return t.\u0275fac=function(e){return new(e||t)(C(Wd),C(Ql))},t.\u0275cmp=y({type:t,selectors:[["app-file-entry"]],viewQuery:function(e,r){if(1&e&&Uc(i5,5),2&e){let o;Ri(o=Fi())&&(r.slidingItem=o.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[vo],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,r){if(1&e){const o=gr();re(0,"ion-item-sliding",0,1),at("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),re(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return xt(o),es(1).close(),Wt(r.editEntry.emit(r.entry))}),dt(4,"ion-icon",4),X(),re(5,"ion-item-option",5),at("click",function(){return xt(o),es(1).close(),Wt(r.saveEntry.emit(r.entry))}),dt(6,"ion-icon",6),X()(),re(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return xt(o),es(1).close(),Wt(r.cutOrCopyEntry())}),dt(9,"ion-icon",9),X(),re(10,"ion-item-option",10),at("click",function(){return xt(o),es(1).close(),Wt(r.deleteEntry.emit(r.entry))}),dt(11,"ion-icon",11),X()(),re(12,"ion-item",12),at("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),Qt(13,s5,1,0,"ion-icon",13),Qt(14,a5,1,0,"ion-icon",14),Qt(15,l5,1,0,"ion-icon",15),Qt(16,c5,1,0,"ion-icon",16),Qt(17,u5,1,0,"ion-icon",17),Qt(18,d5,1,0,"ion-icon",18),Qt(19,f5,1,0,"ion-icon",19),re(20,"ion-label")(21,"h2"),Ze(22),X(),re(23,"p"),Ze(24),Qt(25,p5,3,3,"ng-container",20),X()()()()}2&e&&(ot("disabled",r.selecting),tt(12),Xu("opacity",r.touched?1:.99999),_a("is-directory",null==r.entry?null:r.entry.isDirectory),ot("color",r.color)("detail",(null==r.entry?null:r.entry.isDirectory)&&!r.selecting),tt(1),ot("ngIf",null==r.entry?null:r.entry.isDirectory),tt(1),ot("ngIf",!(null!=r.entry&&r.entry.isDirectory)),tt(1),ot("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.readonly),tt(1),ot("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.hidden),tt(1),ot("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.system),tt(1),ot("ngIf",r.selecting&&!r.selected),tt(1),ot("ngIf",r.selecting&&r.selected),tt(3),ts(null==r.entry?null:r.entry.name),tt(2),di(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),tt(1),ot("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[No,Bo,Vo,Sh,Eh,Dh,Vi,MM],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:#0006;color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0}),t})();function m5(t,n){if(1&t){const e=gr();re(0,"ion-toolbar")(1,"ion-title",5),at("click",function(o){return xt(e),Wt(Bt().openBreadcrumbMenu(o))}),re(2,"div",6)(3,"div",7),Ze(4),X(),dt(5,"div",8),X()(),re(6,"ion-buttons",9),dt(7,"ion-back-button"),X(),re(8,"ion-buttons",10)(9,"ion-button",11),at("click",function(o){return xt(e),Wt(Bt().openContextMenu(o))}),dt(10,"ion-icon",12),X()()()}if(2&t){const e=Bt();tt(1),ot("id",e.breadcrumbTriggerId),tt(3),ts(e.title)}}function g5(t,n){if(1&t){const e=gr();re(0,"ion-buttons",14)(1,"ion-button",11),at("click",function(){return xt(e),Wt(Bt(2).onSelectAll())}),Ze(2,"Select all"),X()()}}function y5(t,n){if(1&t){const e=gr();re(0,"ion-buttons",14)(1,"ion-button",11),at("click",function(){return xt(e),Wt(Bt(2).selection.clear())}),Ze(2,"Clear"),X()()}}function _5(t,n){if(1&t){const e=gr();re(0,"ion-toolbar")(1,"ion-title"),Ze(2,"Selection"),X(),re(3,"ion-buttons",10)(4,"ion-button",11),at("click",function(){return xt(e),Wt(Bt().onSelectionDone())}),Ze(5),X()(),Qt(6,g5,3,0,"ion-buttons",13),Qt(7,y5,3,0,"ion-buttons",13),X()}if(2&t){const e=Bt();tt(5),ts(0===e.selection.size?"Cancel":"Done"),tt(1),ot("ngIf",e.selection.size!==(null==e.entries?null:e.entries.length)),tt(1),ot("ngIf",e.selection.size===(null==e.entries?null:e.entries.length))}}function v5(t,n){if(1&t&&(re(0,"div",15)(1,"div",16),Ze(2),X()()),2&t){const e=Bt();tt(2),di(" empty ",e.isRoot?"card":"directory"," ")}}function b5(t,n){if(1&t){const e=gr();re(0,"app-file-entry",17),at("selectEntry",function(){const i=xt(e).$implicit;return Wt(Bt().onSelect(i))})("editEntry",function(){const i=xt(e).$implicit;return Wt(Bt().onEditEntry(i))})("saveEntry",function(){const i=xt(e).$implicit;return Wt(Bt().onSaveEntry(i))})("copyEntry",function(){const i=xt(e).$implicit;return Wt(Bt().onCopyEntry(i))})("cutEntry",function(){const i=xt(e).$implicit;return Wt(Bt().onCutEntry(i))})("deleteEntry",function(){const i=xt(e).$implicit;return Wt(Bt().onDeleteEntry(i))})("interaction",function(){const i=xt(e).$implicit;return Wt(Bt().lastEntryTouched=i.name)}),X()}if(2&t){const e=n.$implicit,r=Bt();ot("entry",e)("selecting","select"===r.mode)("selected",r.selection.has(e.name))("touched",e.name===r.lastEntryTouched)}}function w5(t,n){if(1&t&&(re(0,"p"),Ze(1),js(2,"fileSize"),js(3,"fileSize"),X()),2&t){const e=Bt(2);tt(1),Ju(" ",Us(2,2,e.bytesFree)," free, ",Us(3,4,e.bytesTotal)," total ")}}function C5(t,n){if(1&t&&(re(0,"p"),Ze(1),js(2,"fileSize"),X()),2&t){const e=Bt(2);tt(1),jg(" ",Us(2,3,e.bytesInFiles)," in ",e.fileCount," ",1===e.fileCount?"file":"files"," ")}}function S5(t,n){if(1&t&&(re(0,"ion-item",18)(1,"ion-label"),Qt(2,w5,4,6,"p",0),Qt(3,C5,3,5,"p",0),X()()),2&t){const e=Bt();tt(2),ot("ngIf",e.isRoot),tt(1),ot("ngIf",e.fileCount>0)}}function E5(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let D5=0;class nc{constructor(n,e,r,o,i,s,a){this.vfsService=n,this.popoverController=e,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.cd=a,this.bytesInFilesMemoized=kM(c=>c?.reduce((d,m)=>d+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=kM(c=>c?.filter(d=>!d.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+D5++,this.checkEntries=jv(a,void 0,()=>void 0!==this.path?n.readdir(this.path):void 0)}ngDoCheck(){this.checkEntries()}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const n=this.vfsService.splitPath(this.path);return n[n.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(E5):[]}trackEntryBy(n,e){return e.name}onSelect(n){"browse"===this.mode?n.isDirectory&&this.onNavigate(n.path):this.selection?.has(n.name)?this.selection.delete(n.name):this.selection.add(n.name)}onEditEntry(n){var e=this;return(0,Se.Z)(function*(){yield(yield e.modalController.create({component:tc,backdropDismiss:!1,componentProps:{entry:n}})).present()})()}onSaveEntry(n){this.alertService.message("Not implemented",`Save ${n.name}: not implemented.`)}onCopyEntry(n){this.alertService.message("Not implemented",`Copy ${n.name}: not implemented.`)}onCutEntry(n){this.alertService.message("Not implemented",`Cut ${n.name}: not implemented.`)}onDeleteEntry(n){this.alertService.message("Not implemented",`Delete ${n.name}: not implemented.`)}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var n=this;return(0,Se.Z)(function*(){if(!n.entries)return;const e=Array.from(n.selection),r=new Map(n.entries.map(a=>[a.name,a])),o=e.every(a=>!r.get(a)?.isDirectory),i=e.every(a=>r.get(a)?.isDirectory);let s=`${n.selection.size} items`;if(o&&(s=1===n.selection.size?"file":`${n.selection.size} files`),i&&(s=1===n.selection.size?"directory":`${n.selection.size} directories`),0!==n.selection.size){const a=yield n.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:n.onCopySelection.bind(n)},{text:`Cut ${s}`,handler:n.onCutSelection.bind(n)},{text:`Save ${s} as zip`,handler:n.onSaveZip.bind(n)},{text:`Delete ${s}`,handler:n.onDeleteSelection.bind(n)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}n.mode="browse",n.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(n=>this.selection.add(n.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){this.alertService.message("Not implemented","Save zip: not implemented.")}onDeleteSelection(){this.alertService.message("Not implemented","Delete selection: not implemented.")}openBreadcrumbMenu(n){var e=this;return(0,Se.Z)(function*(){if(!e.card||!e.path)return;const r=[..."/"===e.path?[]:[...e.vfsService.splitPath(e.path).reverse().slice(1),e.card.name],"Memory cards"];(yield e.popoverController.create({component:n5,event:n,componentProps:{entries:r,onSelect:i=>e.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===e.config.get("mode")?"center":"start",trigger:e.breadcrumbTriggerId})).present()})()}openContextMenu(n){var e=this;return(0,Se.Z)(function*(){(yield e.popoverController.create({component:r5,componentProps:{emptyDirectory:0===e.entries?.length,onStartSelection:e.onStartSelection.bind(e),onAddFiles:e.onAddFiles.bind(e),onCreateDirectry:e.onCreateDirectory.bind(e),onExtractZipfile:e.onExtractZipfile.bind(e),onPaste:e.onPaste.bind(e),onHelp:e.onHelp.bind(e)},event:n,dismissOnSelect:!0,arrow:!1})).present()})()}}nc.\u0275fac=function(n){return new(n||nc)(C(Hh),C(Ql),C(sv),C(Or),C(Wd),C(is),C(Mt))},nc.\u0275cmp=y({type:nc,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(n,e){1&n&&(re(0,"ion-header"),Qt(1,m5,11,2,"ion-toolbar",0),Qt(2,_5,8,3,"ion-toolbar",0),X(),re(3,"ion-content")(4,"div",1),Qt(5,v5,3,1,"div",2),re(6,"ion-list"),Qt(7,b5,1,4,"app-file-entry",3),Qt(8,S5,4,2,"ion-item",4),X()()()),2&n&&(tt(1),ot("ngIf","browse"===e.mode),tt(1),ot("ngIf","select"===e.mode),tt(3),ot("ngIf",0===(null==e.entries?null:e.entries.length)),tt(2),ot("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy),tt(1),ot("ngIf",e.isRoot||e.fileCount>0))},dependencies:[Hl,No,jI,Ni,Li,$i,Bi,Bo,Vo,Vi,Ys,Hi,ji,rk,h5,MM],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),J([Qo()],nc.prototype,"onSelectionDone",null);const I5=["nav"],k5=[{path:"tab",component:$v,children:[{path:"emulation",component:MU},{path:"sessions",component:na},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(nc,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})},this.onNavigateBreadcrumb=r=>{!this.currentlyBrowsingCard||this.nav?.popTo(r)},this.navRoot=Ms,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(nc,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}return t.\u0275fac=function(e){return new(e||t)(C(Hh))},t.\u0275cmp=y({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&Uc(I5,5),2&e){let o;Ri(o=Fi())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&dt(0,"ion-nav",0,1),2&e&&ot("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[GI,ok]}),t})()},{path:"settings",component:VU},{path:"about",component:W6},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let M5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[Ch.forChild(k5),Ch]}),t})(),T5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({imports:[ul,Ws,zl,M5,B6,V6,H6,j6,$6]}),t})(),x5=(()=>{class t extends fE{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Wo(t)))(r||t)}}(),t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const A5=[{path:"install",component:_M,canActivate:[vM]},{path:"import",component:_M,canActivate:[vM]},{path:"",component:$v}];let P5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=Qn({providers:[{provide:zs,useClass:x5}],imports:[Ch.forRoot(A5,{preloadingStrategy:rB,useHash:!0}),T5,Ch]}),t})();const TM=["touch","click","keydown"];let R5=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,Se.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{TM.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};TM.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(De(Ui),De(Vv))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const F5=()=>{const t=new cu;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let O5=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(De(jn),De(ta),De(Vv),De(ef),De(Ui),De(yM),De(R5))},t.\u0275mod=ie({type:t,bootstrap:[E6]}),t.\u0275inj=Qn({providers:[{provide:EI,useClass:JV},{provide:Bl,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Ui]}],imports:[pL,ul.forRoot(),P5,C6.register("ngsw-worker.js",{enabled:true}),pv.forRoot({loader:Qy,markedOptions:{provide:Ek,useFactory:F5}}),BL]}),t})();window.global=window,function EL(){Np=rD("#/install?"),Lp=rD("#/import?")}(),function jH(){return!!localStorage.getItem(Rh)}()&&!oD()||function DL(){return void 0!==Np}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function jF(){YS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),fL().bootstrapModule(O5).catch(t=>console.log(t))},3272:Ve=>{var R,We=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var le,se,u=typeof(T=T||{})<"u"?T:{};u.ready=new Promise(function(l,h){le=l,se=h});var G,Oe,Ne,q=Object.assign({},u),ue=[],V="./this.program",H=(l,h)=>{throw h},Ie="object"==typeof window,K="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ie||K)&&(K?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),R&&(B=R),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},K&&(Ne=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Oe=(l,h,b)=>{var P=new XMLHttpRequest;P.open("GET",l,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?h(P.response):b()},P.onerror=b,P.send(null)});var he,z=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(ue=u.arguments),u.thisProgram&&(V=u.thisProgram),u.quit&&(H=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Pe=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&rr("no native wasm support detected");var me,fe,it=!1;function Me(l,h){l||rr(h)}var ze,rt,wt,O,_e,te,xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(l,h,b){for(var P=h+b,U=h;l[U]&&!(U>=P);)++U;if(U-h>16&&l.buffer&&xe)return xe.decode(l.subarray(h,U));for(var ke="";h<U;){var Ae=l[h++];if(128&Ae){var je=63&l[h++];if(192!=(224&Ae)){var Dt=63&l[h++];if((Ae=224==(240&Ae)?(15&Ae)<<12|je<<6|Dt:(7&Ae)<<18|je<<12|Dt<<6|63&l[h++])<65536)ke+=String.fromCharCode(Ae);else{var cn=Ae-65536;ke+=String.fromCharCode(55296|cn>>10,56320|1023&cn)}}else ke+=String.fromCharCode((31&Ae)<<6|je)}else ke+=String.fromCharCode(Ae)}return ke}function Re(l,h){return l?Ue(wt,l,h):""}function $e(l,h,b,P){if(!(P>0))return 0;for(var U=b,ke=b+P-1,Ae=0;Ae<l.length;++Ae){var je=l.charCodeAt(Ae);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&l.charCodeAt(++Ae)),je<=127){if(b>=ke)break;h[b++]=je}else if(je<=2047){if(b+1>=ke)break;h[b++]=192|je>>6,h[b++]=128|63&je}else if(je<=65535){if(b+2>=ke)break;h[b++]=224|je>>12,h[b++]=128|je>>6&63,h[b++]=128|63&je}else{if(b+3>=ke)break;h[b++]=240|je>>18,h[b++]=128|je>>12&63,h[b++]=128|je>>6&63,h[b++]=128|63&je}}return h[b]=0,b-U}function Q(l){for(var h=0,b=0;b<l.length;++b){var P=l.charCodeAt(b);P<=127?h++:P<=2047?h+=2:P>=55296&&P<=57343?(h+=4,++b):h+=3}return h}function pe(l){ze=l,u.HEAP8=rt=new Int8Array(l),u.HEAP16=new Int16Array(l),u.HEAP32=O=new Int32Array(l),u.HEAPU8=wt=new Uint8Array(l),u.HEAPU16=new Uint16Array(l),u.HEAPU32=_e=new Uint32Array(l),u.HEAPF32=new Float32Array(l),u.HEAPF64=te=new Float64Array(l)}var Be,Sn,_t=[],He=[],Ft=[],Gt=[],Dn=0,Ir=null,Fn=null;function Zr(l){Dn++,u.monitorRunDependencies&&u.monitorRunDependencies(Dn)}function fr(l){if(Dn--,u.monitorRunDependencies&&u.monitorRunDependencies(Dn),0==Dn&&(null!==Ir&&(clearInterval(Ir),Ir=null),Fn)){var h=Fn;Fn=null,h()}}function rr(l){u.onAbort&&u.onAbort(l),W(l="Aborted("+l+")"),it=!0,fe=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw se(h),h}function ho(l){return l.startsWith("data:application/octet-stream;base64,")}function io(l){try{if(l==Sn&&he)return new Uint8Array(he);if(Ne)return Ne(l);throw"both async and sync fetching of the wasm failed"}catch(h){rr(h)}}ho(Sn="cloudpilot_web.wasm")||(Sn=function $(l){return u.locateFile?u.locateFile(l,B):B+l}(Sn));var lt,de,Ge={243812:l=>{Be.grow(65536);for(let h=0;h<=65535;h++)Be.set(Be.length-65535-1+h,Be.get(_e[(l>>>2)+h]));return Be.length-65535-1}};function In(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Ht(l){for(;l.length>0;)l.shift()(u)}function ir(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var an={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var b=0,P=l.length-1;P>=0;P--){var U=l[P];"."===U?l.splice(P,1):".."===U?(l.splice(P,1),b++):b&&(l.splice(P,1),b--)}if(h)for(;b;b--)l.unshift("..");return l},normalize:l=>{var h=an.isAbs(l),b="/"===l.substr(-1);return!(l=an.normalizeArray(l.split("/").filter(P=>!!P),!h).join("/"))&&!h&&(l="."),l&&b&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=an.splitPath(l),b=h[0],P=h[1];return b||P?(P&&(P=P.substr(0,P.length-1)),b+P):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=an.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return an.normalize(l.join("/"))},join2:(l,h)=>an.normalize(l+"/"+h)},pr={resolve:function(){for(var l="",h=!1,b=arguments.length-1;b>=-1&&!h;b--){var P=b>=0?arguments[b]:E.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";l=P+"/"+l,h=an.isAbs(P)}return(h?"/":"")+(l=an.normalizeArray(l.split("/").filter(U=>!!U),!h).join("/"))||"."},relative:(l,h)=>{function b(cn){for(var Tn=0;Tn<cn.length&&""===cn[Tn];Tn++);for(var Wn=cn.length-1;Wn>=0&&""===cn[Wn];Wn--);return Tn>Wn?[]:cn.slice(Tn,Wn-Tn+1)}l=pr.resolve(l).substr(1),h=pr.resolve(h).substr(1);for(var P=b(l.split("/")),U=b(h.split("/")),ke=Math.min(P.length,U.length),Ae=ke,je=0;je<ke;je++)if(P[je]!==U[je]){Ae=je;break}var Dt=[];for(je=Ae;je<P.length;je++)Dt.push("..");return(Dt=Dt.concat(U.slice(Ae))).join("/")}};function Jt(l,h,b){var P=b>0?b:Q(l)+1,U=new Array(P),ke=$e(l,U,0,U.length);return h&&(U.length=ke),U}var hr={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){hr.ttys[l]={input:[],output:[],ops:h},E.registerDevice(l,hr.stream_ops)},stream_ops:{open:function(l){var h=hr.ttys[l.node.rdev];if(!h)throw new E.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,b,P,U){if(!l.tty||!l.tty.ops.get_char)throw new E.ErrnoError(60);for(var ke=0,Ae=0;Ae<P;Ae++){var je;try{je=l.tty.ops.get_char(l.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===ke)throw new E.ErrnoError(6);if(null==je)break;ke++,h[b+Ae]=je}return ke&&(l.node.timestamp=Date.now()),ke},write:function(l,h,b,P,U){if(!l.tty||!l.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var ke=0;ke<P;ke++)l.tty.ops.put_char(l.tty,h[b+ke])}catch{throw new E.ErrnoError(29)}return P&&(l.node.timestamp=Date.now()),ke}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=Jt(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(z(Ue(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(z(Ue(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(W(Ue(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(W(Ue(l.output,0)),l.output=[])}}};function S(l){rr()}var Ut={ops_table:null,mount:function(l){return Ut.createNode(null,"/",16895,0)},createNode:function(l,h,b,P){if(E.isBlkdev(b)||E.isFIFO(b))throw new E.ErrnoError(63);Ut.ops_table||(Ut.ops_table={dir:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,lookup:Ut.node_ops.lookup,mknod:Ut.node_ops.mknod,rename:Ut.node_ops.rename,unlink:Ut.node_ops.unlink,rmdir:Ut.node_ops.rmdir,readdir:Ut.node_ops.readdir,symlink:Ut.node_ops.symlink},stream:{llseek:Ut.stream_ops.llseek}},file:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:{llseek:Ut.stream_ops.llseek,read:Ut.stream_ops.read,write:Ut.stream_ops.write,allocate:Ut.stream_ops.allocate,mmap:Ut.stream_ops.mmap,msync:Ut.stream_ops.msync}},link:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,readlink:Ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:E.chrdev_stream_ops}});var U=E.createNode(l,h,b,P);return E.isDir(U.mode)?(U.node_ops=Ut.ops_table.dir.node,U.stream_ops=Ut.ops_table.dir.stream,U.contents={}):E.isFile(U.mode)?(U.node_ops=Ut.ops_table.file.node,U.stream_ops=Ut.ops_table.file.stream,U.usedBytes=0,U.contents=null):E.isLink(U.mode)?(U.node_ops=Ut.ops_table.link.node,U.stream_ops=Ut.ops_table.link.stream):E.isChrdev(U.mode)&&(U.node_ops=Ut.ops_table.chrdev.node,U.stream_ops=Ut.ops_table.chrdev.stream),U.timestamp=Date.now(),l&&(l.contents[h]=U,l.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var b=l.contents?l.contents.length:0;if(!(b>=h)){h=Math.max(h,b*(b<1048576?2:1.125)>>>0),0!=b&&(h=Math.max(h,256));var U=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(U.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(h),b&&l.contents.set(b.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=E.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=E.isDir(l.mode)?4096:E.isFile(l.mode)?l.usedBytes:E.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&Ut.resizeFileStorage(l,h.size)},lookup:function(l,h){throw E.genericErrors[44]},mknod:function(l,h,b,P){return Ut.createNode(l,h,b,P)},rename:function(l,h,b){if(E.isDir(l.mode)){var P;try{P=E.lookupNode(h,b)}catch{}if(P)for(var U in P.contents)throw new E.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,h.contents[b]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var b=E.lookupNode(l,h);for(var P in b.contents)throw new E.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var b in l.contents)!l.contents.hasOwnProperty(b)||h.push(b);return h},symlink:function(l,h,b){var P=Ut.createNode(l,h,41471,0);return P.link=b,P},readlink:function(l){if(!E.isLink(l.mode))throw new E.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,b,P,U){var ke=l.node.contents;if(U>=l.node.usedBytes)return 0;var Ae=Math.min(l.node.usedBytes-U,P);if(Ae>8&&ke.subarray)h.set(ke.subarray(U,U+Ae),b);else for(var je=0;je<Ae;je++)h[b+je]=ke[U+je];return Ae},write:function(l,h,b,P,U,ke){if(h.buffer===rt.buffer&&(ke=!1),!P)return 0;var Ae=l.node;if(Ae.timestamp=Date.now(),h.subarray&&(!Ae.contents||Ae.contents.subarray)){if(ke)return Ae.contents=h.subarray(b,b+P),Ae.usedBytes=P,P;if(0===Ae.usedBytes&&0===U)return Ae.contents=h.slice(b,b+P),Ae.usedBytes=P,P;if(U+P<=Ae.usedBytes)return Ae.contents.set(h.subarray(b,b+P),U),P}if(Ut.expandFileStorage(Ae,U+P),Ae.contents.subarray&&h.subarray)Ae.contents.set(h.subarray(b,b+P),U);else for(var je=0;je<P;je++)Ae.contents[U+je]=h[b+je];return Ae.usedBytes=Math.max(Ae.usedBytes,U+P),P},llseek:function(l,h,b){var P=h;if(1===b?P+=l.position:2===b&&E.isFile(l.node.mode)&&(P+=l.node.usedBytes),P<0)throw new E.ErrnoError(28);return P},allocate:function(l,h,b){Ut.expandFileStorage(l.node,h+b),l.node.usedBytes=Math.max(l.node.usedBytes,h+b)},mmap:function(l,h,b,P,U){if(!E.isFile(l.node.mode))throw new E.ErrnoError(43);var ke,Ae,je=l.node.contents;if(2&U||je.buffer!==ze){if((b>0||b+h<je.length)&&(je=je.subarray?je.subarray(b,b+h):Array.prototype.slice.call(je,b,b+h)),Ae=!0,!(ke=S()))throw new E.ErrnoError(48);rt.set(je,ke)}else Ae=!1,ke=je.byteOffset;return{ptr:ke,allocated:Ae}},msync:function(l,h,b,P,U){return Ut.stream_ops.write(l,h,0,P,b,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=pr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new E.ErrnoError(32);for(var P=l.split("/").filter(Wn=>!!Wn),U=E.root,ke="/",Ae=0;Ae<P.length;Ae++){var je=Ae===P.length-1;if(je&&h.parent)break;if(U=E.lookupNode(U,P[Ae]),ke=an.join2(ke,P[Ae]),E.isMountpoint(U)&&(!je||je&&h.follow_mount)&&(U=U.mounted.root),!je||h.follow)for(var Dt=0;E.isLink(U.mode);){var cn=E.readlink(ke);if(ke=pr.resolve(an.dirname(ke),cn),U=E.lookupPath(ke,{recurse_count:h.recurse_count+1}).node,Dt++>40)throw new E.ErrnoError(32)}}return{path:ke,node:U}},getPath:l=>{for(var h;;){if(E.isRoot(l)){var b=l.mount.mountpoint;return h?"/"!==b[b.length-1]?b+"/"+h:b+h:b}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var b=0,P=0;P<h.length;P++)b=(b<<5)-b+h.charCodeAt(P)|0;return(l+b>>>0)%E.nameTable.length},hashAddNode:l=>{var h=E.hashName(l.parent.id,l.name);l.name_next=E.nameTable[h],E.nameTable[h]=l},hashRemoveNode:l=>{var h=E.hashName(l.parent.id,l.name);if(E.nameTable[h]===l)E.nameTable[h]=l.name_next;else for(var b=E.nameTable[h];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode:(l,h)=>{var b=E.mayLookup(l);if(b)throw new E.ErrnoError(b,l);for(var P=E.hashName(l.id,h),U=E.nameTable[P];U;U=U.name_next)if(U.parent.id===l.id&&U.name===h)return U;return E.lookup(l,h)},createNode:(l,h,b,P)=>{var U=new E.FSNode(l,h,b,P);return E.hashAddNode(U),U},destroyNode:l=>{E.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=E.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>E.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>E.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return E.lookupNode(l,h),20}catch{}return E.nodePermissions(l,"wx")},mayDelete:(l,h,b)=>{var P;try{P=E.lookupNode(l,h)}catch(ke){return ke.errno}var U=E.nodePermissions(l,"wx");if(U)return U;if(b){if(!E.isDir(P.mode))return 54;if(E.isRoot(P)||E.getPath(P)===E.cwd())return 10}else if(E.isDir(P.mode))return 31;return 0},mayOpen:(l,h)=>l?E.isLink(l.mode)?32:E.isDir(l.mode)&&("r"!==E.flagsToPermissionString(h)||512&h)?31:E.nodePermissions(l,E.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=E.MAX_OPEN_FDS)=>{for(var b=l;b<=h;b++)if(!E.streams[b])return b;throw new E.ErrnoError(33)},getStream:l=>E.streams[l],createStream:(l,h,b)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),l=Object.assign(new E.FSStream,l);var P=E.nextfd(h,b);return l.fd=P,E.streams[P]=l,l},closeStream:l=>{E.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=E.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new E.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{E.devices[l]={stream_ops:h}},getDevice:l=>E.devices[l],getMounts:l=>{for(var h=[],b=[l];b.length;){var P=b.pop();h.push(P),b.push.apply(b,P.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),E.syncFSRequests++,E.syncFSRequests>1&&W("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=E.getMounts(E.root.mount),P=0;function U(Ae){return E.syncFSRequests--,h(Ae)}function ke(Ae){if(Ae)return ke.errored?void 0:(ke.errored=!0,U(Ae));++P>=b.length&&U(null)}b.forEach(Ae=>{if(!Ae.type.syncfs)return ke(null);Ae.type.syncfs(Ae,l,ke)})},mount:(l,h,b)=>{var ke,P="/"===b,U=!b;if(P&&E.root)throw new E.ErrnoError(10);if(!P&&!U){var Ae=E.lookupPath(b,{follow_mount:!1});if(b=Ae.path,E.isMountpoint(ke=Ae.node))throw new E.ErrnoError(10);if(!E.isDir(ke.mode))throw new E.ErrnoError(54)}var je={type:l,opts:h,mountpoint:b,mounts:[]},Dt=l.mount(je);return Dt.mount=je,je.root=Dt,P?E.root=Dt:ke&&(ke.mounted=je,ke.mount&&ke.mount.mounts.push(je)),Dt},unmount:l=>{var h=E.lookupPath(l,{follow_mount:!1});if(!E.isMountpoint(h.node))throw new E.ErrnoError(28);var b=h.node,P=b.mounted,U=E.getMounts(P);Object.keys(E.nameTable).forEach(Ae=>{for(var je=E.nameTable[Ae];je;){var Dt=je.name_next;U.includes(je.mount)&&E.destroyNode(je),je=Dt}}),b.mounted=null;var ke=b.mount.mounts.indexOf(P);b.mount.mounts.splice(ke,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,b)=>{var U=E.lookupPath(l,{parent:!0}).node,ke=an.basename(l);if(!ke||"."===ke||".."===ke)throw new E.ErrnoError(28);var Ae=E.mayCreate(U,ke);if(Ae)throw new E.ErrnoError(Ae);if(!U.node_ops.mknod)throw new E.ErrnoError(63);return U.node_ops.mknod(U,ke,h,b)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,E.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,E.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var b=l.split("/"),P="",U=0;U<b.length;++U)if(b[U]){P+="/"+b[U];try{E.mkdir(P,h)}catch(ke){if(20!=ke.errno)throw ke}}},mkdev:(l,h,b)=>(typeof b>"u"&&(b=h,h=438),E.mknod(l,h|=8192,b)),symlink:(l,h)=>{if(!pr.resolve(l))throw new E.ErrnoError(44);var P=E.lookupPath(h,{parent:!0}).node;if(!P)throw new E.ErrnoError(44);var U=an.basename(h),ke=E.mayCreate(P,U);if(ke)throw new E.ErrnoError(ke);if(!P.node_ops.symlink)throw new E.ErrnoError(63);return P.node_ops.symlink(P,U,l)},rename:(l,h)=>{var je,Dt,b=an.dirname(l),P=an.dirname(h),U=an.basename(l),ke=an.basename(h);if(je=E.lookupPath(l,{parent:!0}).node,Dt=E.lookupPath(h,{parent:!0}).node,!je||!Dt)throw new E.ErrnoError(44);if(je.mount!==Dt.mount)throw new E.ErrnoError(75);var Wn,cn=E.lookupNode(je,U),Tn=pr.relative(l,P);if("."!==Tn.charAt(0))throw new E.ErrnoError(28);if("."!==(Tn=pr.relative(h,b)).charAt(0))throw new E.ErrnoError(55);try{Wn=E.lookupNode(Dt,ke)}catch{}if(cn!==Wn){var on=E.isDir(cn.mode),$t=E.mayDelete(je,U,on);if($t)throw new E.ErrnoError($t);if($t=Wn?E.mayDelete(Dt,ke,on):E.mayCreate(Dt,ke))throw new E.ErrnoError($t);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(cn)||Wn&&E.isMountpoint(Wn))throw new E.ErrnoError(10);if(Dt!==je&&($t=E.nodePermissions(je,"w")))throw new E.ErrnoError($t);E.hashRemoveNode(cn);try{je.node_ops.rename(cn,Dt,ke)}catch(En){throw En}finally{E.hashAddNode(cn)}}},rmdir:l=>{var b=E.lookupPath(l,{parent:!0}).node,P=an.basename(l),U=E.lookupNode(b,P),ke=E.mayDelete(b,P,!0);if(ke)throw new E.ErrnoError(ke);if(!b.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(U))throw new E.ErrnoError(10);b.node_ops.rmdir(b,P),E.destroyNode(U)},readdir:l=>{var b=E.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new E.ErrnoError(54);return b.node_ops.readdir(b)},unlink:l=>{var b=E.lookupPath(l,{parent:!0}).node;if(!b)throw new E.ErrnoError(44);var P=an.basename(l),U=E.lookupNode(b,P),ke=E.mayDelete(b,P,!1);if(ke)throw new E.ErrnoError(ke);if(!b.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(U))throw new E.ErrnoError(10);b.node_ops.unlink(b,P),E.destroyNode(U)},readlink:l=>{var b=E.lookupPath(l).node;if(!b)throw new E.ErrnoError(44);if(!b.node_ops.readlink)throw new E.ErrnoError(28);return pr.resolve(E.getPath(b.parent),b.node_ops.readlink(b))},stat:(l,h)=>{var P=E.lookupPath(l,{follow:!h}).node;if(!P)throw new E.ErrnoError(44);if(!P.node_ops.getattr)throw new E.ErrnoError(63);return P.node_ops.getattr(P)},lstat:l=>E.stat(l,!0),chmod:(l,h,b)=>{var P;if(!(P="string"==typeof l?E.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new E.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&h|-4096&P.mode,timestamp:Date.now()})},lchmod:(l,h)=>{E.chmod(l,h,!0)},fchmod:(l,h)=>{var b=E.getStream(l);if(!b)throw new E.ErrnoError(8);E.chmod(b.node,h)},chown:(l,h,b,P)=>{var U;if(!(U="string"==typeof l?E.lookupPath(l,{follow:!P}).node:l).node_ops.setattr)throw new E.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(l,h,b)=>{E.chown(l,h,b,!0)},fchown:(l,h,b)=>{var P=E.getStream(l);if(!P)throw new E.ErrnoError(8);E.chown(P.node,h,b)},truncate:(l,h)=>{if(h<0)throw new E.ErrnoError(28);var b;if(!(b="string"==typeof l?E.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(b.mode))throw new E.ErrnoError(31);if(!E.isFile(b.mode))throw new E.ErrnoError(28);var U=E.nodePermissions(b,"w");if(U)throw new E.ErrnoError(U);b.node_ops.setattr(b,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var b=E.getStream(l);if(!b)throw new E.ErrnoError(8);if(0==(2097155&b.flags))throw new E.ErrnoError(28);E.truncate(b.node,h)},utime:(l,h,b)=>{var U=E.lookupPath(l,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(h,b)})},open:(l,h,b)=>{if(""===l)throw new E.ErrnoError(44);var P;if(b=typeof b>"u"?438:b,b=64&(h="string"==typeof h?E.modeStringToFlags(h):h)?4095&b|32768:0,"object"==typeof l)P=l;else{l=an.normalize(l);try{P=E.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var ke=!1;if(64&h)if(P){if(128&h)throw new E.ErrnoError(20)}else P=E.mknod(l,b,0),ke=!0;if(!P)throw new E.ErrnoError(44);if(E.isChrdev(P.mode)&&(h&=-513),65536&h&&!E.isDir(P.mode))throw new E.ErrnoError(54);if(!ke){var Ae=E.mayOpen(P,h);if(Ae)throw new E.ErrnoError(Ae)}512&h&&!ke&&E.truncate(P,0),h&=-131713;var je=E.createStream({node:P,path:E.getPath(P),flags:h,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),u.logReadFiles&&!(1&h)&&(E.readFiles||(E.readFiles={}),l in E.readFiles||(E.readFiles[l]=1)),je},close:l=>{if(E.isClosed(l))throw new E.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{E.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,b)=>{if(E.isClosed(l))throw new E.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new E.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,b),l.ungotten=[],l.position},read:(l,h,b,P,U)=>{if(P<0||U<0)throw new E.ErrnoError(28);if(E.isClosed(l))throw new E.ErrnoError(8);if(1==(2097155&l.flags))throw new E.ErrnoError(8);if(E.isDir(l.node.mode))throw new E.ErrnoError(31);if(!l.stream_ops.read)throw new E.ErrnoError(28);var ke=typeof U<"u";if(ke){if(!l.seekable)throw new E.ErrnoError(70)}else U=l.position;var Ae=l.stream_ops.read(l,h,b,P,U);return ke||(l.position+=Ae),Ae},write:(l,h,b,P,U,ke)=>{if(P<0||U<0)throw new E.ErrnoError(28);if(E.isClosed(l))throw new E.ErrnoError(8);if(0==(2097155&l.flags))throw new E.ErrnoError(8);if(E.isDir(l.node.mode))throw new E.ErrnoError(31);if(!l.stream_ops.write)throw new E.ErrnoError(28);l.seekable&&1024&l.flags&&E.llseek(l,0,2);var Ae=typeof U<"u";if(Ae){if(!l.seekable)throw new E.ErrnoError(70)}else U=l.position;var je=l.stream_ops.write(l,h,b,P,U,ke);return Ae||(l.position+=je),je},allocate:(l,h,b)=>{if(E.isClosed(l))throw new E.ErrnoError(8);if(h<0||b<=0)throw new E.ErrnoError(28);if(0==(2097155&l.flags))throw new E.ErrnoError(8);if(!E.isFile(l.node.mode)&&!E.isDir(l.node.mode))throw new E.ErrnoError(43);if(!l.stream_ops.allocate)throw new E.ErrnoError(138);l.stream_ops.allocate(l,h,b)},mmap:(l,h,b,P,U)=>{if(0!=(2&P)&&0==(2&U)&&2!=(2097155&l.flags))throw new E.ErrnoError(2);if(1==(2097155&l.flags))throw new E.ErrnoError(2);if(!l.stream_ops.mmap)throw new E.ErrnoError(43);return l.stream_ops.mmap(l,h,b,P,U)},msync:(l,h,b,P,U)=>l.stream_ops.msync?l.stream_ops.msync(l,h,b,P,U):0,munmap:l=>0,ioctl:(l,h,b)=>{if(!l.stream_ops.ioctl)throw new E.ErrnoError(59);return l.stream_ops.ioctl(l,h,b)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var b,P=E.open(l,h.flags),ke=E.stat(l).size,Ae=new Uint8Array(ke);return E.read(P,Ae,0,ke,0),"utf8"===h.encoding?b=Ue(Ae,0):"binary"===h.encoding&&(b=Ae),E.close(P),b},writeFile:(l,h,b={})=>{b.flags=b.flags||577;var P=E.open(l,b.flags,b.mode);if("string"==typeof h){var U=new Uint8Array(Q(h)+1),ke=$e(h,U,0,U.length);E.write(P,U,0,ke,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");E.write(P,h,0,h.byteLength,void 0,b.canOwn)}E.close(P)},cwd:()=>E.currentPath,chdir:l=>{var h=E.lookupPath(l,{follow:!0});if(null===h.node)throw new E.ErrnoError(44);if(!E.isDir(h.node.mode))throw new E.ErrnoError(54);var b=E.nodePermissions(h.node,"x");if(b)throw new E.ErrnoError(b);E.currentPath=h.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(h,b,P,U,ke)=>U}),E.mkdev("/dev/null",E.makedev(1,3)),hr.register(E.makedev(5,0),hr.default_tty_ops),hr.register(E.makedev(6,0),hr.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var l=function er(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>rr("randomDevice")}();E.createDevice("/dev","random",l),E.createDevice("/dev","urandom",l),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var l=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var h=E.createNode(l,"fd",16895,73);return h.node_ops={lookup:(b,P)=>{var ke=E.getStream(+P);if(!ke)throw new E.ErrnoError(8);var Ae={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ke.path}};return Ae.parent=Ae,Ae}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?E.createDevice("/dev","stdin",u.stdin):E.symlink("/dev/tty","/dev/stdin"),u.stdout?E.createDevice("/dev","stdout",null,u.stdout):E.symlink("/dev/tty","/dev/stdout"),u.stderr?E.createDevice("/dev","stderr",null,u.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(h,b){this.node=b,this.setErrno=function(P){this.errno=P},this.setErrno(h),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(l=>{E.genericErrors[l]=new E.ErrnoError(l),E.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(Ut,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:Ut}},init:(l,h,b)=>{E.init.initialized=!0,E.ensureErrnoError(),u.stdin=l||u.stdin,u.stdout=h||u.stdout,u.stderr=b||u.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var l=0;l<E.streams.length;l++){var h=E.streams[l];!h||E.close(h)}},getMode:(l,h)=>{var b=0;return l&&(b|=365),h&&(b|=146),b},findObject:(l,h)=>{var b=E.analyzePath(l,h);return b.exists?b.object:null},analyzePath:(l,h)=>{try{l=(b=E.lookupPath(l,{follow:!h})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=E.lookupPath(l,{parent:!0});P.parentExists=!0,P.parentPath=b.path,P.parentObject=b.node,P.name=an.basename(l),b=E.lookupPath(l,{follow:!h}),P.exists=!0,P.path=b.path,P.object=b.node,P.name=b.node.name,P.isRoot="/"===b.path}catch(U){P.error=U.errno}return P},createPath:(l,h,b,P)=>{l="string"==typeof l?l:E.getPath(l);for(var U=h.split("/").reverse();U.length;){var ke=U.pop();if(ke){var Ae=an.join2(l,ke);try{E.mkdir(Ae)}catch{}l=Ae}}return Ae},createFile:(l,h,b,P,U)=>{var ke=an.join2("string"==typeof l?l:E.getPath(l),h),Ae=E.getMode(P,U);return E.create(ke,Ae)},createDataFile:(l,h,b,P,U,ke)=>{var Ae=h;l&&(l="string"==typeof l?l:E.getPath(l),Ae=h?an.join2(l,h):l);var je=E.getMode(P,U),Dt=E.create(Ae,je);if(b){if("string"==typeof b){for(var cn=new Array(b.length),Tn=0,Wn=b.length;Tn<Wn;++Tn)cn[Tn]=b.charCodeAt(Tn);b=cn}E.chmod(Dt,146|je);var on=E.open(Dt,577);E.write(on,b,0,b.length,0,ke),E.close(on),E.chmod(Dt,je)}return Dt},createDevice:(l,h,b,P)=>{var U=an.join2("string"==typeof l?l:E.getPath(l),h),ke=E.getMode(!!b,!!P);E.createDevice.major||(E.createDevice.major=64);var Ae=E.makedev(E.createDevice.major++,0);return E.registerDevice(Ae,{open:je=>{je.seekable=!1},close:je=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(je,Dt,cn,Tn,Wn)=>{for(var on=0,$t=0;$t<Tn;$t++){var En;try{En=b()}catch{throw new E.ErrnoError(29)}if(void 0===En&&0===on)throw new E.ErrnoError(6);if(null==En)break;on++,Dt[cn+$t]=En}return on&&(je.node.timestamp=Date.now()),on},write:(je,Dt,cn,Tn,Wn)=>{for(var on=0;on<Tn;on++)try{P(Dt[cn+on])}catch{throw new E.ErrnoError(29)}return Tn&&(je.node.timestamp=Date.now()),on}}),E.mkdev(U,ke,Ae)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Jt(G(l.url),!0),l.usedBytes=l.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(l,h,b,P,U)=>{function ke(){this.lengthKnown=!1,this.chunks=[]}if(ke.prototype.get=function($t){if(!($t>this.length-1||$t<0)){var En=$t%this.chunkSize;return this.getter($t/this.chunkSize|0)[En]}},ke.prototype.setDataGetter=function($t){this.getter=$t},ke.prototype.cacheLength=function(){var $t=new XMLHttpRequest;if($t.open("HEAD",b,!1),$t.send(null),!($t.status>=200&&$t.status<300||304===$t.status))throw new Error("Couldn't load "+b+". Status: "+$t.status);var xn,En=Number($t.getResponseHeader("Content-length")),xi=(xn=$t.getResponseHeader("Accept-Ranges"))&&"bytes"===xn,zo=(xn=$t.getResponseHeader("Content-Encoding"))&&"gzip"===xn,Ct=1048576;xi||(Ct=En);var bo=this;bo.setDataGetter(Tr=>{var li=Tr*Ct,Wr=(Tr+1)*Ct-1;if(Wr=Math.min(Wr,En-1),typeof bo.chunks[Tr]>"u"&&(bo.chunks[Tr]=((Tr,li)=>{if(Tr>li)throw new Error("invalid range ("+Tr+", "+li+") or no bytes requested!");if(li>En-1)throw new Error("only "+En+" bytes available! programmer error!");var Wr=new XMLHttpRequest;if(Wr.open("GET",b,!1),En!==Ct&&Wr.setRequestHeader("Range","bytes="+Tr+"-"+li),Wr.responseType="arraybuffer",Wr.overrideMimeType&&Wr.overrideMimeType("text/plain; charset=x-user-defined"),Wr.send(null),!(Wr.status>=200&&Wr.status<300||304===Wr.status))throw new Error("Couldn't load "+b+". Status: "+Wr.status);return void 0!==Wr.response?new Uint8Array(Wr.response||[]):Jt(Wr.responseText||"",!0)})(li,Wr)),typeof bo.chunks[Tr]>"u")throw new Error("doXHR failed!");return bo.chunks[Tr]}),(zo||!En)&&(Ct=En=1,En=this.getter(0).length,Ct=En,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=En,this._chunkSize=Ct,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!K)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ae=new ke;Object.defineProperties(Ae,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:Ae}}else je={isDevice:!1,url:b};var Dt=E.createFile(l,h,je,P,U);je.contents?Dt.contents=je.contents:je.url&&(Dt.contents=null,Dt.url=je.url),Object.defineProperties(Dt,{usedBytes:{get:function(){return this.contents.length}}});var cn={};function Wn(on,$t,En,xn,xi){var zo=on.node.contents;if(xi>=zo.length)return 0;var Ct=Math.min(zo.length-xi,xn);if(zo.slice)for(var un=0;un<Ct;un++)$t[En+un]=zo[xi+un];else for(un=0;un<Ct;un++)$t[En+un]=zo.get(xi+un);return Ct}return Object.keys(Dt.stream_ops).forEach(on=>{var $t=Dt.stream_ops[on];cn[on]=function(){return E.forceLoadFile(Dt),$t.apply(null,arguments)}}),cn.read=(on,$t,En,xn,xi)=>(E.forceLoadFile(Dt),Wn(on,$t,En,xn,xi)),cn.mmap=(on,$t,En,xn,xi)=>{E.forceLoadFile(Dt);var zo=S();if(!zo)throw new E.ErrnoError(48);return Wn(on,rt,zo,$t,En),{ptr:zo,allocated:!0}},Dt.stream_ops=cn,Dt},createPreloadedFile:(l,h,b,P,U,ke,Ae,je,Dt,cn)=>{var Tn=h?pr.resolve(an.join2(l,h)):l;function on($t){function En(xn){cn&&cn(),je||E.createDataFile(l,h,xn,P,U,Dt),ke&&ke(),fr()}Browser.handledByPreloadPlugin($t,Tn,En,()=>{Ae&&Ae(),fr()})||En($t)}Zr(),"string"==typeof b?function sr(l,h,b,P){var U=P?"":"al "+l;Oe(l,ke=>{Me(ke,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(ke)),U&&fr()},ke=>{if(!b)throw'Loading data file "'+l+'" failed.';b()}),U&&Zr()}(b,$t=>on($t),Ae):on(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,b)=>{h=h||(()=>{}),b=b||(()=>{});var P=E.indexedDB();try{var U=P.open(E.DB_NAME(),E.DB_VERSION)}catch(ke){return b(ke)}U.onupgradeneeded=()=>{z("creating db"),U.result.createObjectStore(E.DB_STORE_NAME)},U.onsuccess=()=>{var Ae=U.result.transaction([E.DB_STORE_NAME],"readwrite"),je=Ae.objectStore(E.DB_STORE_NAME),Dt=0,cn=0,Tn=l.length;function Wn(){0==cn?h():b()}l.forEach(on=>{var $t=je.put(E.analyzePath(on).object.contents,on);$t.onsuccess=()=>{++Dt+cn==Tn&&Wn()},$t.onerror=()=>{cn++,Dt+cn==Tn&&Wn()}}),Ae.onerror=b},U.onerror=b},loadFilesFromDB:(l,h,b)=>{h=h||(()=>{}),b=b||(()=>{});var P=E.indexedDB();try{var U=P.open(E.DB_NAME(),E.DB_VERSION)}catch(ke){return b(ke)}U.onupgradeneeded=b,U.onsuccess=()=>{var ke=U.result;try{var Ae=ke.transaction([E.DB_STORE_NAME],"readonly")}catch(on){return void b(on)}var je=Ae.objectStore(E.DB_STORE_NAME),Dt=0,cn=0,Tn=l.length;function Wn(){0==cn?h():b()}l.forEach(on=>{var $t=je.get(on);$t.onsuccess=()=>{E.analyzePath(on).exists&&E.unlink(on),E.createDataFile(an.dirname(on),an.basename(on),$t.result,!0,!0,!0),++Dt+cn==Tn&&Wn()},$t.onerror=()=>{cn++,Dt+cn==Tn&&Wn()}}),Ae.onerror=b},U.onerror=b}},vr={DEFAULT_POLLMASK:5,calculateAt:function(l,h,b){if(an.isAbs(h))return h;var P;if(P=-100===l?E.cwd():vr.getStreamFromFD(l).path,0==h.length){if(!b)throw new E.ErrnoError(44);return P}return an.join2(P,h)},doStat:function(l,h,b){try{var P=l(h)}catch(U){if(U&&U.node&&an.normalize(h)!==an.normalize(E.getPath(U.node)))return-54;throw U}return O[b>>2]=P.dev,O[b+8>>2]=P.ino,O[b+12>>2]=P.mode,_e[b+16>>2]=P.nlink,O[b+20>>2]=P.uid,O[b+24>>2]=P.gid,O[b+28>>2]=P.rdev,de=[P.size>>>0,(lt=P.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+40>>2]=de[0],O[b+44>>2]=de[1],O[b+48>>2]=4096,O[b+52>>2]=P.blocks,de=[Math.floor(P.atime.getTime()/1e3)>>>0,(lt=Math.floor(P.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+56>>2]=de[0],O[b+60>>2]=de[1],_e[b+64>>2]=0,de=[Math.floor(P.mtime.getTime()/1e3)>>>0,(lt=Math.floor(P.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+72>>2]=de[0],O[b+76>>2]=de[1],_e[b+80>>2]=0,de=[Math.floor(P.ctime.getTime()/1e3)>>>0,(lt=Math.floor(P.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+88>>2]=de[0],O[b+92>>2]=de[1],_e[b+96>>2]=0,de=[P.ino>>>0,(lt=P.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+104>>2]=de[0],O[b+108>>2]=de[1],0},doMsync:function(l,h,b,P,U){if(!E.isFile(h.node.mode))throw new E.ErrnoError(43);if(2&P)return 0;var ke=wt.slice(l,l+b);E.msync(h,ke,U,b,P)},varargs:void 0,get:function(){return vr.varargs+=4,O[vr.varargs-4>>2]},getStr:function(l){return Re(l)},getStreamFromFD:function(l){var h=E.getStream(l);if(!h)throw new E.ErrnoError(8);return h}};function Ro(l){return l%4==0&&(l%100!=0||l%400==0)}var Xt=[0,31,60,91,121,152,182,213,244,274,305,335],so=[0,31,59,90,120,151,181,212,243,273,304,334];function ar(l){return(Ro(l.getFullYear())?Xt:so)[l.getMonth()]+l.getDate()-1}function ti(l){var h=Q(l)+1,b=vt(h);return b&&$e(l,rt,b,h),b}var D=[];function zi(l){try{return me.grow(l-ze.byteLength+65535>>>16),pe(me.buffer),1}catch{}}var ni={};function Zn(){if(!Zn.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var b in ni)void 0===ni[b]?delete h[b]:h[b]=ni[b];var P=[];for(var b in h)P.push(b+"="+h[b]);Zn.strings=P}return Zn.strings}var ge=[31,29,31,30,31,30,31,31,30,31,30,31],Te=[31,28,31,30,31,30,31,31,30,31,30,31];function jt(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Hr=[];function Er(l){var h=Hr[l];return h||(l>=Hr.length&&(Hr.length=l+1),Hr[l]=h=Be.get(l)),h}var oi=void 0,Ii=[];function Ts(l,h){Be.set(l,h),Hr[l]=Be.get(l)}var xs=function(l,h,b,P){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=E.nextInode++,this.name=h,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(xs.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=xs,E.staticInit();var fc,Bn={b:function fn(l,h,b,P){rr("Assertion failed: "+Re(l)+", at: "+[h?Re(h):"unknown filename",b,P?Re(P):"unknown function"])},i:function _n(l){const h=new Error(Re(l));throw h.isAssert=!0,h},l:function mo(l,h,b){try{var P=ir(h,b);return isNaN(P)?-61:(E.ftruncate(l,P),0)}catch(U){if(typeof E>"u"||!(U instanceof E.ErrnoError))throw U;return-U.errno}},e:function jo(){return!0},f:function ao(l,h){var b=new Date(1e3*function kr(l){return _e[l>>2]+4294967296*O[l+4>>2]}(l));O[h>>2]=b.getSeconds(),O[h+4>>2]=b.getMinutes(),O[h+8>>2]=b.getHours(),O[h+12>>2]=b.getDate(),O[h+16>>2]=b.getMonth(),O[h+20>>2]=b.getFullYear()-1900,O[h+24>>2]=b.getDay();var P=0|ar(b);O[h+28>>2]=P,O[h+36>>2]=-60*b.getTimezoneOffset();var U=new Date(b.getFullYear(),0,1),ke=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ae=U.getTimezoneOffset(),je=0|(ke!=Ae&&b.getTimezoneOffset()==Math.min(Ae,ke));O[h+32>>2]=je},g:function lo(l){var h=new Date(O[l+20>>2]+1900,O[l+16>>2],O[l+12>>2],O[l+8>>2],O[l+4>>2],O[l>>2],0),b=O[l+32>>2],P=h.getTimezoneOffset(),U=new Date(h.getFullYear(),0,1),ke=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Ae=U.getTimezoneOffset(),je=Math.min(Ae,ke);if(b<0)O[l+32>>2]=Number(ke!=Ae&&je==P);else if(b>0!=(je==P)){var Dt=Math.max(Ae,ke),cn=b>0?je:Dt;h.setTime(h.getTime()+6e4*(cn-P))}O[l+24>>2]=h.getDay();var Tn=0|ar(h);return O[l+28>>2]=Tn,O[l>>2]=h.getSeconds(),O[l+4>>2]=h.getMinutes(),O[l+8>>2]=h.getHours(),O[l+12>>2]=h.getDate(),O[l+16>>2]=h.getMonth(),O[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function rn(l,h,b){var P=(new Date).getFullYear(),U=new Date(P,0,1),ke=new Date(P,6,1),Ae=U.getTimezoneOffset(),je=ke.getTimezoneOffset(),Dt=Math.max(Ae,je);function cn(En){var xn=En.toTimeString().match(/\(([A-Za-z ]+)\)$/);return xn?xn[1]:"GMT"}_e[l>>2]=60*Dt,O[h>>2]=Number(Ae!=je);var Tn=cn(U),Wn=cn(ke),on=ti(Tn),$t=ti(Wn);je<Ae?(_e[b>>2]=on,_e[b+4>>2]=$t):(_e[b>>2]=$t,_e[b+4>>2]=on)},a:function Io(){rr("")},j:function Vr(l,h,b){var P=function Rr(l,h){var b;for(D.length=0,h>>=2;b=wt[l++];)h+=105!=b&h,D.push(105==b?O[h]:te[h++>>1]),++h;return D}(h,b);return Ge[l].apply(null,P)},c:function Ci(){return Date.now()},q:function yo(l,h,b){wt.copyWithin(l,h,h+b)},p:function Kr(l){var Dt,h=wt.length,b=2147483648;if((l>>>=0)>b)return!1;for(var U=1;U<=4;U*=2){var ke=h*(1+.2/U);if(ke=Math.min(ke,l+100663296),zi(Math.min(b,(Dt=Math.max(l,ke))+(65536-Dt%65536)%65536)))return!0}return!1},n:function Si(l,h){var b=0;return Zn().forEach(function(P,U){var ke=h+b;_e[l+4*U>>2]=ke,function Uo(l,h,b){for(var P=0;P<l.length;++P)rt[h++>>0]=l.charCodeAt(P);b||(rt[h>>0]=0)}(P,ke),b+=P.length+1}),0},o:function Ei(l,h){var b=Zn();_e[l>>2]=b.length;var P=0;return b.forEach(function(U){P+=U.length+1}),_e[h>>2]=P,0},r:function On(l){try{var h=vr.getStreamFromFD(l);return E.close(h),0}catch(b){if(typeof E>"u"||!(b instanceof E.ErrnoError))throw b;return b.errno}},d:function Un(l,h,b,P){try{var ke=function ri(l,h,b,P){for(var U=0,ke=0;ke<b;ke++){var Ae=_e[h>>2],je=_e[h+4>>2];h+=8;var Dt=E.read(l,rt,Ae,je,P);if(Dt<0)return-1;if(U+=Dt,Dt<je)break}return U}(vr.getStreamFromFD(l),h,b);return _e[P>>2]=ke,0}catch(Ae){if(typeof E>"u"||!(Ae instanceof E.ErrnoError))throw Ae;return Ae.errno}},k:function Di(l,h,b,P,U){try{var ke=ir(h,b);if(isNaN(ke))return 61;var Ae=vr.getStreamFromFD(l);return E.llseek(Ae,ke,P),de=[Ae.position>>>0,(lt=Ae.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[U>>2]=de[0],O[U+4>>2]=de[1],Ae.getdents&&0===ke&&0===P&&(Ae.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},s:function x(l,h,b,P){try{var ke=function gs(l,h,b,P){for(var U=0,ke=0;ke<b;ke++){var Ae=_e[h>>2],je=_e[h+4>>2];h+=8;var Dt=E.write(l,rt,Ae,je,P);if(Dt<0)return-1;U+=Dt}return U}(vr.getStreamFromFD(l),h,b);return _e[P>>2]=ke,0}catch(Ae){if(typeof E>"u"||!(Ae instanceof E.ErrnoError))throw Ae;return Ae.errno}},m:function ve(l,h,b,P,U){return function Z(l,h,b,P){var U=O[P+40>>2],ke={tm_sec:O[P>>2],tm_min:O[P+4>>2],tm_hour:O[P+8>>2],tm_mday:O[P+12>>2],tm_mon:O[P+16>>2],tm_year:O[P+20>>2],tm_wday:O[P+24>>2],tm_yday:O[P+28>>2],tm_isdst:O[P+32>>2],tm_gmtoff:O[P+36>>2],tm_zone:U?Re(U):""},Ae=Re(b),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Dt in je)Ae=Ae.replace(new RegExp(Dt,"g"),je[Dt]);var cn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Tn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Wn(Ct,un,bo){for(var Tr="number"==typeof Ct?Ct.toString():Ct||"";Tr.length<un;)Tr=bo[0]+Tr;return Tr}function on(Ct,un){return Wn(Ct,un,"0")}function $t(Ct,un){function bo(li){return li<0?-1:li>0?1:0}var Tr;return 0===(Tr=bo(Ct.getFullYear()-un.getFullYear()))&&0===(Tr=bo(Ct.getMonth()-un.getMonth()))&&(Tr=bo(Ct.getDate()-un.getDate())),Tr}function En(Ct){switch(Ct.getDay()){case 0:return new Date(Ct.getFullYear()-1,11,29);case 1:return Ct;case 2:return new Date(Ct.getFullYear(),0,3);case 3:return new Date(Ct.getFullYear(),0,2);case 4:return new Date(Ct.getFullYear(),0,1);case 5:return new Date(Ct.getFullYear()-1,11,31);case 6:return new Date(Ct.getFullYear()-1,11,30)}}function xn(Ct){var un=function oe(l,h){for(var b=new Date(l.getTime());h>0;){var P=Ro(b.getFullYear()),U=b.getMonth(),ke=(P?ge:Te)[U];if(!(h>ke-b.getDate()))return b.setDate(b.getDate()+h),b;h-=ke-b.getDate()+1,b.setDate(1),U<11?b.setMonth(U+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(Ct.tm_year+1900,0,1),Ct.tm_yday),bo=new Date(un.getFullYear(),0,4),Tr=new Date(un.getFullYear()+1,0,4),li=En(bo),Wr=En(Tr);return $t(li,un)<=0?$t(Wr,un)<=0?un.getFullYear()+1:un.getFullYear():un.getFullYear()-1}var xi={"%a":function(Ct){return cn[Ct.tm_wday].substring(0,3)},"%A":function(Ct){return cn[Ct.tm_wday]},"%b":function(Ct){return Tn[Ct.tm_mon].substring(0,3)},"%B":function(Ct){return Tn[Ct.tm_mon]},"%C":function(Ct){return on((Ct.tm_year+1900)/100|0,2)},"%d":function(Ct){return on(Ct.tm_mday,2)},"%e":function(Ct){return Wn(Ct.tm_mday,2," ")},"%g":function(Ct){return xn(Ct).toString().substring(2)},"%G":function(Ct){return xn(Ct)},"%H":function(Ct){return on(Ct.tm_hour,2)},"%I":function(Ct){var un=Ct.tm_hour;return 0==un?un=12:un>12&&(un-=12),on(un,2)},"%j":function(Ct){return on(Ct.tm_mday+function F(l,h){for(var b=0,P=0;P<=h;b+=l[P++]);return b}(Ro(Ct.tm_year+1900)?ge:Te,Ct.tm_mon-1),3)},"%m":function(Ct){return on(Ct.tm_mon+1,2)},"%M":function(Ct){return on(Ct.tm_min,2)},"%n":function(){return"\n"},"%p":function(Ct){return Ct.tm_hour>=0&&Ct.tm_hour<12?"AM":"PM"},"%S":function(Ct){return on(Ct.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Ct){return Ct.tm_wday||7},"%U":function(Ct){return on(Math.floor((Ct.tm_yday+7-Ct.tm_wday)/7),2)},"%V":function(Ct){var un=Math.floor((Ct.tm_yday+7-(Ct.tm_wday+6)%7)/7);if((Ct.tm_wday+371-Ct.tm_yday-2)%7<=2&&un++,un){if(53==un){var Tr=(Ct.tm_wday+371-Ct.tm_yday)%7;4!=Tr&&(3!=Tr||!Ro(Ct.tm_year))&&(un=1)}}else{un=52;var bo=(Ct.tm_wday+7-Ct.tm_yday-1)%7;(4==bo||5==bo&&Ro(Ct.tm_year%400-1))&&un++}return on(un,2)},"%w":function(Ct){return Ct.tm_wday},"%W":function(Ct){return on(Math.floor((Ct.tm_yday+7-(Ct.tm_wday+6)%7)/7),2)},"%y":function(Ct){return(Ct.tm_year+1900).toString().substring(2)},"%Y":function(Ct){return Ct.tm_year+1900},"%z":function(Ct){var un=Ct.tm_gmtoff,bo=un>=0;return un=(un=Math.abs(un)/60)/60*100+un%60,(bo?"+":"-")+String("0000"+un).slice(-4)},"%Z":function(Ct){return Ct.tm_zone},"%%":function(){return"%"}};for(var Dt in Ae=Ae.replace(/%%/g,"\0\0"),xi)Ae.includes(Dt)&&(Ae=Ae.replace(new RegExp(Dt,"g"),xi[Dt](ke)));var zo=Jt(Ae=Ae.replace(/\0\0/g,"%"),!1);return zo.length>h?0:(function L(l,h){rt.set(l,h)}(zo,l),zo.length-1)}(l,h,b,P)}},vt=(function Lr(){var l={a:Bn};function h(Ae,je){u.asm=Ae.exports,pe((me=u.asm.t).buffer),Be=u.asm.hc,function Pr(l){He.unshift(l)}(u.asm.u),fr()}function b(Ae){h(Ae.instance)}function P(Ae){return function wi(){return he||!Ie&&!K||"function"!=typeof fetch?Promise.resolve().then(function(){return io(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+Sn+"'";return l.arrayBuffer()}).catch(function(){return io(Sn)})}().then(function(je){return WebAssembly.instantiate(je,l)}).then(function(je){return je}).then(Ae,function(je){W("failed to asynchronously prepare wasm: "+je),rr(je)})}if(Zr(),u.instantiateWasm)try{return u.instantiateWasm(l,h)}catch(Ae){W("Module.instantiateWasm callback failed with error: "+Ae),se(Ae)}(function U(){return he||"function"!=typeof WebAssembly.instantiateStreaming||ho(Sn)||"function"!=typeof fetch?P(b):fetch(Sn,{credentials:"same-origin"}).then(function(Ae){return WebAssembly.instantiateStreaming(Ae,l).then(b,function(Dt){return W("wasm streaming compile failed: "+Dt),W("falling back to ArrayBuffer instantiation"),P(b)})})})().catch(se)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.u).apply(null,arguments)},u._free=function(){return(u._free=u.asm.v).apply(null,arguments)},u._malloc=function(){return(vt=u._malloc=u.asm.w).apply(null,arguments)}),Qn=(u._main=function(){return(u._main=u.asm.x).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(Qn=u._emscripten_bind_VoidPtr___destroy___0=u.asm.y).apply(null,arguments)}),ls=u._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(ls=u._emscripten_bind_Cloudpilot_Cloudpilot_0=u.asm.z).apply(null,arguments)},ra=u._emscripten_bind_Cloudpilot_Malloc_1=function(){return(ra=u._emscripten_bind_Cloudpilot_Malloc_1=u.asm.A).apply(null,arguments)},oa=u._emscripten_bind_Cloudpilot_Free_1=function(){return(oa=u._emscripten_bind_Cloudpilot_Free_1=u.asm.B).apply(null,arguments)},Ha=u._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(Ha=u._emscripten_bind_Cloudpilot_Nullptr_0=u.asm.C).apply(null,arguments)},cs=u._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(cs=u._emscripten_bind_Cloudpilot_InitializeSession_3=u.asm.D).apply(null,arguments)},As=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(As=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u.asm.E).apply(null,arguments)},Zi=u._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Zi=u._emscripten_bind_Cloudpilot_RunEmulation_1=u.asm.F).apply(null,arguments)},us=u._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(us=u._emscripten_bind_Cloudpilot_SetClockFactor_1=u.asm.G).apply(null,arguments)},Yr=u._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(Yr=u._emscripten_bind_Cloudpilot_CopyFrame_0=u.asm.H).apply(null,arguments)},Ki=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(Ki=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=u.asm.I).apply(null,arguments)},Kt=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Kt=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=u.asm.J).apply(null,arguments)},ia=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(ia=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=u.asm.K).apply(null,arguments)},wl=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(wl=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=u.asm.L).apply(null,arguments)},eo=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(eo=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=u.asm.M).apply(null,arguments)},sa=u._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(sa=u._emscripten_bind_Cloudpilot_QueuePenMove_2=u.asm.N).apply(null,arguments)},ja=u._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(ja=u._emscripten_bind_Cloudpilot_QueuePenUp_0=u.asm.O).apply(null,arguments)},Nn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Nn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=u.asm.P).apply(null,arguments)},cr=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(cr=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=u.asm.Q).apply(null,arguments)},Ur=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(Ur=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=u.asm.R).apply(null,arguments)},ur=u._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(ur=u._emscripten_bind_Cloudpilot_IsPowerOff_0=u.asm.S).apply(null,arguments)},or=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(or=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=u.asm.T).apply(null,arguments)},pn=u._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(pn=u._emscripten_bind_Cloudpilot_GetOSVersion_0=u.asm.U).apply(null,arguments)},p=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=u.asm.V).apply(null,arguments)},v=u._emscripten_bind_Cloudpilot_Reset_0=function(){return(v=u._emscripten_bind_Cloudpilot_Reset_0=u.asm.W).apply(null,arguments)},w=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u.asm.X).apply(null,arguments)},k=u._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(k=u._emscripten_bind_Cloudpilot_ResetHard_0=u.asm.Y).apply(null,arguments)},j=u._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(j=u._emscripten_bind_Cloudpilot_InstallDb_2=u.asm.Z).apply(null,arguments)},be=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(be=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u.asm._).apply(null,arguments)},we=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(we=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u.asm.$).apply(null,arguments)},Ce=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(Ce=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u.asm.aa).apply(null,arguments)},ut=u._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(ut=u._emscripten_bind_Cloudpilot_GetMemorySize_0=u.asm.ba).apply(null,arguments)},f=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(f=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=u.asm.ca).apply(null,arguments)},g=u._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(g=u._emscripten_bind_Cloudpilot_GetRomPtr_0=u.asm.da).apply(null,arguments)},y=u._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(y=u._emscripten_bind_Cloudpilot_GetRomSize_0=u.asm.ea).apply(null,arguments)},M=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(M=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u.asm.fa).apply(null,arguments)},N=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(N=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=u.asm.ga).apply(null,arguments)},ne=u._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ne=u._emscripten_bind_Cloudpilot_SaveState_0=u.asm.ha).apply(null,arguments)},ie=u._emscripten_bind_Cloudpilot_LoadState_2=function(){return(ie=u._emscripten_bind_Cloudpilot_LoadState_2=u.asm.ia).apply(null,arguments)},Le=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(Le=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=u.asm.ja).apply(null,arguments)},mt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(mt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=u.asm.ka).apply(null,arguments)},ce=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(ce=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=u.asm.la).apply(null,arguments)},ct=u._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(ct=u._emscripten_bind_Cloudpilot_StartBackup_0=u.asm.ma).apply(null,arguments)},It=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(It=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=u.asm.na).apply(null,arguments)},bt=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(bt=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u.asm.oa).apply(null,arguments)},Et=u._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Et=u._emscripten_bind_Cloudpilot_IsSuspended_0=u.asm.pa).apply(null,arguments)},zt=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(zt=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=u.asm.qa).apply(null,arguments)},Gn=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(Gn=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=u.asm.ra).apply(null,arguments)},Dr=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(Dr=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u.asm.sa).apply(null,arguments)},St=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(St=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=u.asm.ta).apply(null,arguments)},qe=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(qe=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=u.asm.ua).apply(null,arguments)},Tt=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Tt=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=u.asm.va).apply(null,arguments)},Yn=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Yn=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=u.asm.wa).apply(null,arguments)},Kn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Kn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=u.asm.xa).apply(null,arguments)},tr=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(tr=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u.asm.ya).apply(null,arguments)},mr=u._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(mr=u._emscripten_bind_Cloudpilot_AllocateCard_2=u.asm.za).apply(null,arguments)},$r=u._emscripten_bind_Cloudpilot_MountCard_1=function(){return($r=u._emscripten_bind_Cloudpilot_MountCard_1=u.asm.Aa).apply(null,arguments)},Ua=u._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Ua=u._emscripten_bind_Cloudpilot_RemoveCard_1=u.asm.Ba).apply(null,arguments)},Ga=u._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Ga=u._emscripten_bind_Cloudpilot_GetCardData_1=u.asm.Ca).apply(null,arguments)},kn=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(kn=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=u.asm.Da).apply(null,arguments)},Cl=u._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Cl=u._emscripten_bind_Cloudpilot_GetCardSize_1=u.asm.Ea).apply(null,arguments)},aa=u._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(aa=u._emscripten_bind_Cloudpilot_RemountCards_0=u.asm.Fa).apply(null,arguments)},rc=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(rc=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=u.asm.Ga).apply(null,arguments)},Ps=u._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Ps=u._emscripten_bind_Cloudpilot_GetMountedKey_0=u.asm.Ha).apply(null,arguments)},ko=u._emscripten_bind_Cloudpilot___destroy___0=function(){return(ko=u._emscripten_bind_Cloudpilot___destroy___0=u.asm.Ia).apply(null,arguments)},za=u._emscripten_bind_RomInfo_RomInfo_2=function(){return(za=u._emscripten_bind_RomInfo_RomInfo_2=u.asm.Ja).apply(null,arguments)},la=u._emscripten_bind_RomInfo_IsValid_0=function(){return(la=u._emscripten_bind_RomInfo_IsValid_0=u.asm.Ka).apply(null,arguments)},ki=u._emscripten_bind_RomInfo_CardVersion_0=function(){return(ki=u._emscripten_bind_RomInfo_CardVersion_0=u.asm.La).apply(null,arguments)},ca=u._emscripten_bind_RomInfo_CardName_0=function(){return(ca=u._emscripten_bind_RomInfo_CardName_0=u.asm.Ma).apply(null,arguments)},mu=u._emscripten_bind_RomInfo_RomVersion_0=function(){return(mu=u._emscripten_bind_RomInfo_RomVersion_0=u.asm.Na).apply(null,arguments)},br=u._emscripten_bind_RomInfo_RomVersionString_0=function(){return(br=u._emscripten_bind_RomInfo_RomVersionString_0=u.asm.Oa).apply(null,arguments)},sf=u._emscripten_bind_RomInfo_Supports_1=function(){return(sf=u._emscripten_bind_RomInfo_Supports_1=u.asm.Pa).apply(null,arguments)},af=u._emscripten_bind_RomInfo___destroy___0=function(){return(af=u._emscripten_bind_RomInfo___destroy___0=u.asm.Qa).apply(null,arguments)},Sl=u._emscripten_bind_Frame_GetLineWidth_0=function(){return(Sl=u._emscripten_bind_Frame_GetLineWidth_0=u.asm.Ra).apply(null,arguments)},oc=u._emscripten_bind_Frame_GetBpp_0=function(){return(oc=u._emscripten_bind_Frame_GetBpp_0=u.asm.Sa).apply(null,arguments)},Wa=u._emscripten_bind_Frame_GetLines_0=function(){return(Wa=u._emscripten_bind_Frame_GetLines_0=u.asm.Ta).apply(null,arguments)},El=u._emscripten_bind_Frame_GetMargin_0=function(){return(El=u._emscripten_bind_Frame_GetMargin_0=u.asm.Ua).apply(null,arguments)},Rs=u._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(Rs=u._emscripten_bind_Frame_GetBytesPerLine_0=u.asm.Va).apply(null,arguments)},Mo=u._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Mo=u._emscripten_bind_Frame_GetFirstDirtyLine_0=u.asm.Wa).apply(null,arguments)},lf=u._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(lf=u._emscripten_bind_Frame_GetLastDirtyLine_0=u.asm.Xa).apply(null,arguments)},Go=u._emscripten_bind_Frame_GetHasChanges_0=function(){return(Go=u._emscripten_bind_Frame_GetHasChanges_0=u.asm.Ya).apply(null,arguments)},Mi=u._emscripten_bind_Frame_GetBuffer_0=function(){return(Mi=u._emscripten_bind_Frame_GetBuffer_0=u.asm.Za).apply(null,arguments)},ic=u._emscripten_bind_Frame_GetBufferSize_0=function(){return(ic=u._emscripten_bind_Frame_GetBufferSize_0=u.asm._a).apply(null,arguments)},Dl=u._emscripten_bind_Frame_GetScaleX_0=function(){return(Dl=u._emscripten_bind_Frame_GetScaleX_0=u.asm.$a).apply(null,arguments)},Il=u._emscripten_bind_Frame_GetScaleY_0=function(){return(Il=u._emscripten_bind_Frame_GetScaleY_0=u.asm.ab).apply(null,arguments)},Ti=u._emscripten_bind_Frame___destroy___0=function(){return(Ti=u._emscripten_bind_Frame___destroy___0=u.asm.bb).apply(null,arguments)},cf=u._emscripten_bind_DbBackup_Init_1=function(){return(cf=u._emscripten_bind_DbBackup_Init_1=u.asm.cb).apply(null,arguments)},zh=u._emscripten_bind_DbBackup_IsInProgress_0=function(){return(zh=u._emscripten_bind_DbBackup_IsInProgress_0=u.asm.db).apply(null,arguments)},uf=u._emscripten_bind_DbBackup_IsDone_0=function(){return(uf=u._emscripten_bind_DbBackup_IsDone_0=u.asm.eb).apply(null,arguments)},df=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(df=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=u.asm.fb).apply(null,arguments)},Wh=u._emscripten_bind_DbBackup_Save_0=function(){return(Wh=u._emscripten_bind_DbBackup_Save_0=u.asm.gb).apply(null,arguments)},qh=u._emscripten_bind_DbBackup_Skip_0=function(){return(qh=u._emscripten_bind_DbBackup_Skip_0=u.asm.hb).apply(null,arguments)},Zh=u._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Zh=u._emscripten_bind_DbBackup_GetArchivePtr_0=u.asm.ib).apply(null,arguments)},Kh=u._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Kh=u._emscripten_bind_DbBackup_GetArchiveSize_0=u.asm.jb).apply(null,arguments)},Yh=u._emscripten_bind_DbBackup___destroy___0=function(){return(Yh=u._emscripten_bind_DbBackup___destroy___0=u.asm.kb).apply(null,arguments)},Xh=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Xh=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u.asm.lb).apply(null,arguments)},Qh=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Qh=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u.asm.mb).apply(null,arguments)},Jh=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Jh=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u.asm.nb).apply(null,arguments)},em=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(em=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u.asm.ob).apply(null,arguments)},tm=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(tm=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u.asm.pb).apply(null,arguments)},nm=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(nm=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=u.asm.qb).apply(null,arguments)},rm=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(rm=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u.asm.rb).apply(null,arguments)},om=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(om=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u.asm.sb).apply(null,arguments)},im=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(im=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=u.asm.tb).apply(null,arguments)},gu=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(gu=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u.asm.ub).apply(null,arguments)},sc=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(sc=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u.asm.vb).apply(null,arguments)},sm=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(sm=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u.asm.wb).apply(null,arguments)},am=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(am=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u.asm.xb).apply(null,arguments)},lm=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(lm=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=u.asm.yb).apply(null,arguments)},Fs=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(Fs=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u.asm.zb).apply(null,arguments)},ff=u._emscripten_bind_SuspendContext_GetKind_0=function(){return(ff=u._emscripten_bind_SuspendContext_GetKind_0=u.asm.Ab).apply(null,arguments)},vo=u._emscripten_bind_SuspendContext_Cancel_0=function(){return(vo=u._emscripten_bind_SuspendContext_Cancel_0=u.asm.Bb).apply(null,arguments)},yu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(yu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u.asm.Cb).apply(null,arguments)},pf=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(pf=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u.asm.Db).apply(null,arguments)},hf=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(hf=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u.asm.Eb).apply(null,arguments)},_u=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(_u=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u.asm.Fb).apply(null,arguments)},vu=u._emscripten_bind_SuspendContext___destroy___0=function(){return(vu=u._emscripten_bind_SuspendContext___destroy___0=u.asm.Gb).apply(null,arguments)},mf=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(mf=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=u.asm.Hb).apply(null,arguments)},ac=u._emscripten_bind_ZipfileWalker_GetState_0=function(){return(ac=u._emscripten_bind_ZipfileWalker_GetState_0=u.asm.Ib).apply(null,arguments)},gf=u._emscripten_bind_ZipfileWalker_Next_0=function(){return(gf=u._emscripten_bind_ZipfileWalker_Next_0=u.asm.Jb).apply(null,arguments)},mi=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(mi=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u.asm.Kb).apply(null,arguments)},lc=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(lc=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u.asm.Lb).apply(null,arguments)},yf=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(yf=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u.asm.Mb).apply(null,arguments)},cc=u._emscripten_bind_ZipfileWalker___destroy___0=function(){return(cc=u._emscripten_bind_ZipfileWalker___destroy___0=u.asm.Nb).apply(null,arguments)},_f=u._emscripten_bind_SessionImage_SessionImage_0=function(){return(_f=u._emscripten_bind_SessionImage_SessionImage_0=u.asm.Ob).apply(null,arguments)},cm=u._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(cm=u._emscripten_bind_SessionImage_GetDeviceId_0=u.asm.Pb).apply(null,arguments)},Xr=u._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(Xr=u._emscripten_bind_SessionImage_SetDeviceId_1=u.asm.Qb).apply(null,arguments)},vf=u._emscripten_bind_SessionImage_GetRomImage_0=function(){return(vf=u._emscripten_bind_SessionImage_GetRomImage_0=u.asm.Rb).apply(null,arguments)},um=u._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(um=u._emscripten_bind_SessionImage_GetRomImageSize_0=u.asm.Sb).apply(null,arguments)},kl=u._emscripten_bind_SessionImage_SetRomImage_2=function(){return(kl=u._emscripten_bind_SessionImage_SetRomImage_2=u.asm.Tb).apply(null,arguments)},ii=u._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(ii=u._emscripten_bind_SessionImage_GetMemoryImage_0=u.asm.Ub).apply(null,arguments)},bf=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(bf=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=u.asm.Vb).apply(null,arguments)},uc=u._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(uc=u._emscripten_bind_SessionImage_SetMemoryImage_2=u.asm.Wb).apply(null,arguments)},ua=u._emscripten_bind_SessionImage_GetMetadata_0=function(){return(ua=u._emscripten_bind_SessionImage_GetMetadata_0=u.asm.Xb).apply(null,arguments)},si=u._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(si=u._emscripten_bind_SessionImage_GetMetadataSize_0=u.asm.Yb).apply(null,arguments)},wf=u._emscripten_bind_SessionImage_SetMetadata_2=function(){return(wf=u._emscripten_bind_SessionImage_SetMetadata_2=u.asm.Zb).apply(null,arguments)},Ml=u._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Ml=u._emscripten_bind_SessionImage_GetSavestate_0=u.asm._b).apply(null,arguments)},Cf=u._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Cf=u._emscripten_bind_SessionImage_GetSavestateSize_0=u.asm.$b).apply(null,arguments)},_s=u._emscripten_bind_SessionImage_SetSavestate_2=function(){return(_s=u._emscripten_bind_SessionImage_SetSavestate_2=u.asm.ac).apply(null,arguments)},bu=u._emscripten_bind_SessionImage_GetVersion_0=function(){return(bu=u._emscripten_bind_SessionImage_GetVersion_0=u.asm.bc).apply(null,arguments)},dc=u._emscripten_bind_SessionImage_Serialize_0=function(){return(dc=u._emscripten_bind_SessionImage_Serialize_0=u.asm.cc).apply(null,arguments)},Cn=u._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Cn=u._emscripten_bind_SessionImage_GetSerializedImage_0=u.asm.dc).apply(null,arguments)},wu=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(wu=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=u.asm.ec).apply(null,arguments)},dm=u._emscripten_bind_SessionImage_Deserialize_2=function(){return(dm=u._emscripten_bind_SessionImage_Deserialize_2=u.asm.fc).apply(null,arguments)},Sf=u._emscripten_bind_SessionImage___destroy___0=function(){return(Sf=u._emscripten_bind_SessionImage___destroy___0=u.asm.gc).apply(null,arguments)};function hm(l){var h=u._main;try{var U=h(0,0);return function st(l,h){fe=l,function et(l){fe=l,function en(){return Pe}()||(u.onExit&&u.onExit(l),it=!0),H(l,new In(l))}(l)}(U),U}catch(ke){return function kt(l){if(l instanceof In||"unwind"==l)return fe;H(1,l)}(ke)}}function ht(l){function h(){fc||(fc=!0,u.calledRun=!0,!it&&(function Pn(){!u.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,hr.init(),Ht(He)}(),function _r(){Ht(Ft)}(),le(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),zn&&hm(),function nr(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)l=u.postRun.shift(),Gt.unshift(l);var l;Ht(Gt)}()))}l=l||ue,Dn>0||(function J(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)l=u.preRun.shift(),_t.unshift(l);var l;Ht(_t)}(),Dn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),h()},1)):h())}if(u.___original_main=function(){return(u.___original_main=u.asm.ic).apply(null,arguments)},u.___start_em_js=244003,u.___stop_em_js=244200,u.UTF8ToString=Re,u.addFunction=function La(l,h){if(oi||(oi=new WeakMap,function qi(l,h){if(oi)for(var b=l;b<l+h;b++){var P=Er(b);P&&oi.set(P,b)}}(0,Be.length)),oi.has(l))return oi.get(l);var b=function Na(){if(Ii.length)return Ii.pop();try{Be.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Be.length-1}();try{Ts(b,l)}catch(U){if(!(U instanceof TypeError))throw U;Ts(b,function _o(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function tn(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},P=1;P<l.length;++P)b.parameters.push(h[l[P]]),"j"===l[P]&&b.parameters.push("i32");return b}(h),l);var b=[1];!function lr(l,h){var b=l.slice(0,1),P=l.slice(1),U={i:127,p:127,j:126,f:125,d:124};h.push(96),jt(P.length,h);for(var ke=0;ke<P.length;++ke)h.push(U[P[ke]]);"v"==b?h.push(0):h.push(1,U[b])}(h,b);var P=[0,97,115,109,1,0,0,0,1];jt(b.length,P),P.push.apply(P,b),P.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var U=new WebAssembly.Module(new Uint8Array(P));return new WebAssembly.Instance(U,{e:{f:l}}).exports.f}(l,h))}return oi.set(l,b),b},Fn=function l(){fc||ht(),fc||(Fn=l)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var zn=!0;function xt(){}function Wt(l){return(l||xt).__cache__}function hn(l,h){var b=Wt(h),P=b[l];return P||((P=Object.create((h||xt).prototype)).ptr=l,b[l]=P)}u.noInitialRun&&(zn=!1),ht(),(xt.prototype=Object.create(xt.prototype)).constructor=xt,xt.prototype.__class__=xt,xt.__cache__={},u.WrapperObject=xt,u.getCache=Wt,u.wrapPointer=hn,u.castObject=function Ef(l,h){return hn(l.ptr,h)},u.NULL=hn(0),u.destroy=function Tl(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Wt(l.__class__)[l.ptr]},u.compare=function ds(l,h){return l.ptr===h.ptr},u.getPointer=function Cu(l){return l.ptr},u.getClass=function Su(l){return l.__class__};var Rn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Rn.needed){for(var l=0;l<Rn.temps.length;l++)u._free(Rn.temps[l]);Rn.temps.length=0,u._free(Rn.buffer),Rn.buffer=0,Rn.size+=Rn.needed,Rn.needed=0}Rn.buffer||(Rn.size+=128,Rn.buffer=u._malloc(Rn.size),Me(Rn.buffer)),Rn.pos=0},alloc:function(l,h){Me(Rn.buffer);var U,P=l.length*h.BYTES_PER_ELEMENT;return Rn.pos+(P=P+7&-8)>=Rn.size?(Me(P>0),Rn.needed+=P,U=u._malloc(P),Rn.temps.push(U)):(U=Rn.buffer+Rn.pos,Rn.pos+=P),U},copy:function(l,h,b){switch(b>>>=0,h.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var U=0;U<l.length;U++)h[b+U]=l[U]}};function Oo(l){if("string"==typeof l){var h=Jt(l),b=Rn.alloc(h,rt);return Rn.copy(h,rt,b),b}return l}function Mr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Qe(){this.ptr=ls(),Wt(Qe)[this.ptr]=this}function Vn(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=za(l,h),Wt(Vn)[this.ptr]=this}function Mn(){throw"cannot construct a Frame, no constructor in IDL"}function wr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Qr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Gr(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function ai(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function co(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function zr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function to(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=mf(l,h),Wt(to)[this.ptr]=this}function ln(){this.ptr=_f(),Wt(ln)[this.ptr]=this}return(Mr.prototype=Object.create(xt.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},u.VoidPtr=Mr,Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Qn(this.ptr)},(Qe.prototype=Object.create(xt.prototype)).constructor=Qe,Qe.prototype.__class__=Qe,Qe.__cache__={},u.Cloudpilot=Qe,Qe.prototype.Malloc=Qe.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),hn(ra(this.ptr,l),Mr)},Qe.prototype.Free=Qe.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),oa(this.ptr,l)},Qe.prototype.Nullptr=Qe.prototype.Nullptr=function(){return hn(Ha(this.ptr),Mr)},Qe.prototype.InitializeSession=Qe.prototype.InitializeSession=function(l,h,b){var P=this.ptr;return Rn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),b=b&&"object"==typeof b?b.ptr:Oo(b),!!cs(P,l,h,b)},Qe.prototype.GetCyclesPerSecond=Qe.prototype.GetCyclesPerSecond=function(){return As(this.ptr)},Qe.prototype.RunEmulation=Qe.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),Zi(this.ptr,l)},Qe.prototype.SetClockFactor=Qe.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),us(this.ptr,l)},Qe.prototype.CopyFrame=Qe.prototype.CopyFrame=function(){return hn(Yr(this.ptr),Mn)},Qe.prototype.IsScreenDirty=Qe.prototype.IsScreenDirty=function(){return!!Ki(this.ptr)},Qe.prototype.MarkScreenClean=Qe.prototype.MarkScreenClean=function(){Kt(this.ptr)},Qe.prototype.MinMemoryForDevice=Qe.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),ia(h,l)},Qe.prototype.FramebufferSizeForDevice=Qe.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),wl(h,l)},Qe.prototype.TotalMemoryForDevice=Qe.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),eo(h,l)},Qe.prototype.QueuePenMove=Qe.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),sa(this.ptr,l,h)},Qe.prototype.QueuePenUp=Qe.prototype.QueuePenUp=function(){ja(this.ptr)},Qe.prototype.QueueButtonDown=Qe.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Nn(this.ptr,l)},Qe.prototype.QueueButtonUp=Qe.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),cr(this.ptr,l)},Qe.prototype.QueueKeyboardEvent=Qe.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Ur(this.ptr,l,h)},Qe.prototype.IsPowerOff=Qe.prototype.IsPowerOff=function(){return!!ur(this.ptr)},Qe.prototype.IsUIInitialized=Qe.prototype.IsUIInitialized=function(){return!!or(this.ptr)},Qe.prototype.GetOSVersion=Qe.prototype.GetOSVersion=function(){return pn(this.ptr)},Qe.prototype.IsSetupComplete=Qe.prototype.IsSetupComplete=function(){return!!p(this.ptr)},Qe.prototype.Reset=Qe.prototype.Reset=function(){v(this.ptr)},Qe.prototype.ResetNoExtensions=Qe.prototype.ResetNoExtensions=function(){w(this.ptr)},Qe.prototype.ResetHard=Qe.prototype.ResetHard=function(){k(this.ptr)},Qe.prototype.InstallDb=Qe.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),j(this.ptr,l,h)},Qe.prototype.GetPalette2bitMapping=Qe.prototype.GetPalette2bitMapping=function(){return be(this.ptr)},Qe.prototype.GetMemoryPtr=Qe.prototype.GetMemoryPtr=function(){return hn(we(this.ptr),Mr)},Qe.prototype.GetDirtyPagesPtr=Qe.prototype.GetDirtyPagesPtr=function(){return hn(Ce(this.ptr),Mr)},Qe.prototype.GetMemorySize=Qe.prototype.GetMemorySize=function(){return ut(this.ptr)},Qe.prototype.ImportMemoryImage=Qe.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!f(this.ptr,l,h)},Qe.prototype.GetRomPtr=Qe.prototype.GetRomPtr=function(){return hn(g(this.ptr),Mr)},Qe.prototype.GetRomSize=Qe.prototype.GetRomSize=function(){return y(this.ptr)},Qe.prototype.GetSavestatePtr=Qe.prototype.GetSavestatePtr=function(){return hn(M(this.ptr),Mr)},Qe.prototype.GetSavestateSize=Qe.prototype.GetSavestateSize=function(){return N(this.ptr)},Qe.prototype.SaveState=Qe.prototype.SaveState=function(){return!!ne(this.ptr)},Qe.prototype.LoadState=Qe.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!ie(this.ptr,l,h)},Qe.prototype.GetHotsyncName=Qe.prototype.GetHotsyncName=function(){return Re(Le(this.ptr))},Qe.prototype.SetHotsyncName=Qe.prototype.SetHotsyncName=function(l){var h=this.ptr;Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),mt(h,l)},Qe.prototype.RegisterPwmHandler=Qe.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),ce(this.ptr,l)},Qe.prototype.StartBackup=Qe.prototype.StartBackup=function(){return hn(ct(this.ptr),wr)},Qe.prototype.SetClipboardIntegration=Qe.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),It(this.ptr,l)},Qe.prototype.GetClipboardIntegration=Qe.prototype.GetClipboardIntegration=function(){return!!bt(this.ptr)},Qe.prototype.IsSuspended=Qe.prototype.IsSuspended=function(){return!!Et(this.ptr)},Qe.prototype.GetSuspendContext=Qe.prototype.GetSuspendContext=function(){return hn(zt(this.ptr),zr)},Qe.prototype.SetNetworkRedirection=Qe.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),Gn(this.ptr,l)},Qe.prototype.GetNetworkRedirection=Qe.prototype.GetNetworkRedirection=function(){return!!Dr(this.ptr)},Qe.prototype.RegisterProxyDisconnectHandler=Qe.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),St(this.ptr,l)},Qe.prototype.SetHotsyncNameManagement=Qe.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),qe(this.ptr,l)},Qe.prototype.LaunchAppByName=Qe.prototype.LaunchAppByName=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),!!Tt(h,l)},Qe.prototype.LaunchAppByDbHeader=Qe.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Yn(this.ptr,l,h)},Qe.prototype.DeviceSupportsCardSize=Qe.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Kn(this.ptr,l)},Qe.prototype.ClearExternalStorage=Qe.prototype.ClearExternalStorage=function(){tr(this.ptr)},Qe.prototype.AllocateCard=Qe.prototype.AllocateCard=function(l,h){var b=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),h&&"object"==typeof h&&(h=h.ptr),!!mr(b,l,h)},Qe.prototype.MountCard=Qe.prototype.MountCard=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),!!$r(h,l)},Qe.prototype.RemoveCard=Qe.prototype.RemoveCard=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),!!Ua(h,l)},Qe.prototype.GetCardData=Qe.prototype.GetCardData=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),hn(Ga(h,l),Mr)},Qe.prototype.GetCardDirtyPages=Qe.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),hn(kn(h,l),Mr)},Qe.prototype.GetCardSize=Qe.prototype.GetCardSize=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),Cl(h,l)},Qe.prototype.RemountCards=Qe.prototype.RemountCards=function(){aa(this.ptr)},Qe.prototype.GetSupportLevel=Qe.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),rc(this.ptr,l)},Qe.prototype.GetMountedKey=Qe.prototype.GetMountedKey=function(){return Re(Ps(this.ptr))},Qe.prototype.__destroy__=Qe.prototype.__destroy__=function(){ko(this.ptr)},(Vn.prototype=Object.create(xt.prototype)).constructor=Vn,Vn.prototype.__class__=Vn,Vn.__cache__={},u.RomInfo=Vn,Vn.prototype.IsValid=Vn.prototype.IsValid=function(){return!!la(this.ptr)},Vn.prototype.CardVersion=Vn.prototype.CardVersion=function(){return ki(this.ptr)},Vn.prototype.CardName=Vn.prototype.CardName=function(){return Re(ca(this.ptr))},Vn.prototype.RomVersion=Vn.prototype.RomVersion=function(){return mu(this.ptr)},Vn.prototype.RomVersionString=Vn.prototype.RomVersionString=function(){return Re(br(this.ptr))},Vn.prototype.Supports=Vn.prototype.Supports=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),!!sf(h,l)},Vn.prototype.__destroy__=Vn.prototype.__destroy__=function(){af(this.ptr)},(Mn.prototype=Object.create(xt.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},u.Frame=Mn,Mn.prototype.GetLineWidth=Mn.prototype.GetLineWidth=function(){return Sl(this.ptr)},Mn.prototype.GetBpp=Mn.prototype.GetBpp=function(){return oc(this.ptr)},Mn.prototype.GetLines=Mn.prototype.GetLines=function(){return Wa(this.ptr)},Mn.prototype.GetMargin=Mn.prototype.GetMargin=function(){return El(this.ptr)},Mn.prototype.GetBytesPerLine=Mn.prototype.GetBytesPerLine=function(){return Rs(this.ptr)},Mn.prototype.GetFirstDirtyLine=Mn.prototype.GetFirstDirtyLine=function(){return Mo(this.ptr)},Mn.prototype.GetLastDirtyLine=Mn.prototype.GetLastDirtyLine=function(){return lf(this.ptr)},Mn.prototype.GetHasChanges=Mn.prototype.GetHasChanges=function(){return!!Go(this.ptr)},Mn.prototype.GetBuffer=Mn.prototype.GetBuffer=function(){return hn(Mi(this.ptr),Mr)},Mn.prototype.GetBufferSize=Mn.prototype.GetBufferSize=function(){return ic(this.ptr)},Mn.prototype.GetScaleX=Mn.prototype.GetScaleX=function(){return Dl(this.ptr)},Mn.prototype.GetScaleY=Mn.prototype.GetScaleY=function(){return Il(this.ptr)},Mn.prototype.__destroy__=Mn.prototype.__destroy__=function(){Ti(this.ptr)},(wr.prototype=Object.create(xt.prototype)).constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},u.DbBackup=wr,wr.prototype.Init=wr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!cf(this.ptr,l)},wr.prototype.IsInProgress=wr.prototype.IsInProgress=function(){return!!zh(this.ptr)},wr.prototype.IsDone=wr.prototype.IsDone=function(){return!!uf(this.ptr)},wr.prototype.GetCurrentDatabase=wr.prototype.GetCurrentDatabase=function(){return Re(df(this.ptr))},wr.prototype.Save=wr.prototype.Save=function(){return!!Wh(this.ptr)},wr.prototype.Skip=wr.prototype.Skip=function(){qh(this.ptr)},wr.prototype.GetArchivePtr=wr.prototype.GetArchivePtr=function(){return hn(Zh(this.ptr),Mr)},wr.prototype.GetArchiveSize=wr.prototype.GetArchiveSize=function(){return Kh(this.ptr)},wr.prototype.__destroy__=wr.prototype.__destroy__=function(){Yh(this.ptr)},(Qr.prototype=Object.create(xt.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},u.SuspendContextClipboardCopy=Qr,Qr.prototype.Cancel=Qr.prototype.Cancel=function(){Xh(this.ptr)},Qr.prototype.Resume=Qr.prototype.Resume=function(){Qh(this.ptr)},Qr.prototype.GetClipboardContent=Qr.prototype.GetClipboardContent=function(){return Re(Jh(this.ptr))},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){em(this.ptr)},(Gr.prototype=Object.create(xt.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},u.SuspendContextClipboardPaste=Gr,Gr.prototype.Cancel=Gr.prototype.Cancel=function(){tm(this.ptr)},Gr.prototype.Resume=Gr.prototype.Resume=function(l){var h=this.ptr;Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),nm(h,l)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){rm(this.ptr)},(ai.prototype=Object.create(xt.prototype)).constructor=ai,ai.prototype.__class__=ai,ai.__cache__={},u.SuspendContextNetworkConnect=ai,ai.prototype.Cancel=ai.prototype.Cancel=function(){om(this.ptr)},ai.prototype.Resume=ai.prototype.Resume=function(l){var h=this.ptr;Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),im(h,l)},ai.prototype.__destroy__=ai.prototype.__destroy__=function(){gu(this.ptr)},(co.prototype=Object.create(xt.prototype)).constructor=co,co.prototype.__class__=co,co.__cache__={},u.SuspendContextNetworkRpc=co,co.prototype.Cancel=co.prototype.Cancel=function(){sc(this.ptr)},co.prototype.GetRequestSize=co.prototype.GetRequestSize=function(){return sm(this.ptr)},co.prototype.GetRequestData=co.prototype.GetRequestData=function(){return hn(am(this.ptr),Mr)},co.prototype.ReceiveResponse=co.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),lm(this.ptr,l,h)},co.prototype.__destroy__=co.prototype.__destroy__=function(){Fs(this.ptr)},(zr.prototype=Object.create(xt.prototype)).constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},u.SuspendContext=zr,zr.prototype.GetKind=zr.prototype.GetKind=function(){return ff(this.ptr)},zr.prototype.Cancel=zr.prototype.Cancel=function(){vo(this.ptr)},zr.prototype.AsContextClipboardCopy=zr.prototype.AsContextClipboardCopy=function(){return hn(yu(this.ptr),Qr)},zr.prototype.AsContextClipboardPaste=zr.prototype.AsContextClipboardPaste=function(){return hn(pf(this.ptr),Gr)},zr.prototype.AsContextNetworkConnect=zr.prototype.AsContextNetworkConnect=function(){return hn(hf(this.ptr),ai)},zr.prototype.AsContextNetworkRpc=zr.prototype.AsContextNetworkRpc=function(){return hn(_u(this.ptr),co)},zr.prototype.__destroy__=zr.prototype.__destroy__=function(){vu(this.ptr)},(to.prototype=Object.create(xt.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},u.ZipfileWalker=to,to.prototype.GetState=to.prototype.GetState=function(){return ac(this.ptr)},to.prototype.Next=to.prototype.Next=function(){return gf(this.ptr)},to.prototype.GetCurrentEntrySize=to.prototype.GetCurrentEntrySize=function(){return mi(this.ptr)},to.prototype.GetCurrentEntryName=to.prototype.GetCurrentEntryName=function(){return Re(lc(this.ptr))},to.prototype.GetCurrentEntryContent=to.prototype.GetCurrentEntryContent=function(){return hn(yf(this.ptr),Mr)},to.prototype.__destroy__=to.prototype.__destroy__=function(){cc(this.ptr)},(ln.prototype=Object.create(xt.prototype)).constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},u.SessionImage=ln,ln.prototype.GetDeviceId=ln.prototype.GetDeviceId=function(){return Re(cm(this.ptr))},ln.prototype.SetDeviceId=ln.prototype.SetDeviceId=function(l){var h=this.ptr;return Rn.prepare(),l=l&&"object"==typeof l?l.ptr:Oo(l),hn(Xr(h,l),ln)},ln.prototype.GetRomImage=ln.prototype.GetRomImage=function(){return hn(vf(this.ptr),Mr)},ln.prototype.GetRomImageSize=ln.prototype.GetRomImageSize=function(){return um(this.ptr)},ln.prototype.SetRomImage=ln.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),hn(kl(this.ptr,l,h),ln)},ln.prototype.GetMemoryImage=ln.prototype.GetMemoryImage=function(){return hn(ii(this.ptr),Mr)},ln.prototype.GetMemoryImageSize=ln.prototype.GetMemoryImageSize=function(){return bf(this.ptr)},ln.prototype.SetMemoryImage=ln.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),hn(uc(this.ptr,l,h),ln)},ln.prototype.GetMetadata=ln.prototype.GetMetadata=function(){return hn(ua(this.ptr),Mr)},ln.prototype.GetMetadataSize=ln.prototype.GetMetadataSize=function(){return si(this.ptr)},ln.prototype.SetMetadata=ln.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),hn(wf(this.ptr,l,h),ln)},ln.prototype.GetSavestate=ln.prototype.GetSavestate=function(){return hn(Ml(this.ptr),Mr)},ln.prototype.GetSavestateSize=ln.prototype.GetSavestateSize=function(){return Cf(this.ptr)},ln.prototype.SetSavestate=ln.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),hn(_s(this.ptr,l,h),ln)},ln.prototype.GetVersion=ln.prototype.GetVersion=function(){return bu(this.ptr)},ln.prototype.Serialize=ln.prototype.Serialize=function(){return!!dc(this.ptr)},ln.prototype.GetSerializedImage=ln.prototype.GetSerializedImage=function(){return hn(Cn(this.ptr),Mr)},ln.prototype.GetSerializedImageSize=ln.prototype.GetSerializedImageSize=function(){return wu(this.ptr)},ln.prototype.Deserialize=ln.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!dm(this.ptr,l,h)},ln.prototype.__destroy__=ln.prototype.__destroy__=function(){Sf(this.ptr)},T.ready});Ve.exports=We},9084:Ve=>{var R,We=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var le,se,u=typeof(T=T||{})<"u"?T:{};u.ready=new Promise(function(p,v){le=p,se=v});var G,Oe,Ne,q=Object.assign({},u),ue=[],V="./this.program",H=(p,v)=>{throw v},Ie="object"==typeof window,K="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ie||K)&&(K?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),R&&(B=R),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=p=>{var v=new XMLHttpRequest;return v.open("GET",p,!1),v.send(null),v.responseText},K&&(Ne=p=>{var v=new XMLHttpRequest;return v.open("GET",p,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),Oe=(p,v,w)=>{var k=new XMLHttpRequest;k.open("GET",p,!0),k.responseType="arraybuffer",k.onload=()=>{200==k.status||0==k.status&&k.response?v(k.response):w()},k.onerror=w,k.send(null)});var he,z=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(ue=u.arguments),u.thisProgram&&(V=u.thisProgram),u.quit&&(H=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Pe=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&rr("no native wasm support detected");var me,fe,it=!1;function Me(p,v){p||rr(v)}var ze,rt,wt,O,_e,te,xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(p,v,w){for(var k=v+w,j=v;p[j]&&!(j>=k);)++j;if(j-v>16&&p.buffer&&xe)return xe.decode(p.subarray(v,j));for(var be="";v<j;){var we=p[v++];if(128&we){var Ce=63&p[v++];if(192!=(224&we)){var ut=63&p[v++];if((we=224==(240&we)?(15&we)<<12|Ce<<6|ut:(7&we)<<18|Ce<<12|ut<<6|63&p[v++])<65536)be+=String.fromCharCode(we);else{var f=we-65536;be+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else be+=String.fromCharCode((31&we)<<6|Ce)}else be+=String.fromCharCode(we)}return be}function Re(p,v){return p?Ue(wt,p,v):""}function $e(p,v,w,k){if(!(k>0))return 0;for(var j=w,be=w+k-1,we=0;we<p.length;++we){var Ce=p.charCodeAt(we);if(Ce>=55296&&Ce<=57343&&(Ce=65536+((1023&Ce)<<10)|1023&p.charCodeAt(++we)),Ce<=127){if(w>=be)break;v[w++]=Ce}else if(Ce<=2047){if(w+1>=be)break;v[w++]=192|Ce>>6,v[w++]=128|63&Ce}else if(Ce<=65535){if(w+2>=be)break;v[w++]=224|Ce>>12,v[w++]=128|Ce>>6&63,v[w++]=128|63&Ce}else{if(w+3>=be)break;v[w++]=240|Ce>>18,v[w++]=128|Ce>>12&63,v[w++]=128|Ce>>6&63,v[w++]=128|63&Ce}}return v[w]=0,w-j}function Q(p){for(var v=0,w=0;w<p.length;++w){var k=p.charCodeAt(w);k<=127?v++:k<=2047?v+=2:k>=55296&&k<=57343?(v+=4,++w):v+=3}return v}function pe(p){ze=p,u.HEAP8=rt=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAP32=O=new Int32Array(p),u.HEAPU8=wt=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAPU32=_e=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=te=new Float64Array(p)}var Sn,_t=[],He=[],Ft=[],Gt=[],Dn=0,Ir=null,Fn=null;function Zr(p){Dn++,u.monitorRunDependencies&&u.monitorRunDependencies(Dn)}function fr(p){if(Dn--,u.monitorRunDependencies&&u.monitorRunDependencies(Dn),0==Dn&&(null!==Ir&&(clearInterval(Ir),Ir=null),Fn)){var v=Fn;Fn=null,v()}}function rr(p){u.onAbort&&u.onAbort(p),W(p="Aborted("+p+")"),it=!0,fe=1,p+=". Build with -sASSERTIONS for more info.";var v=new WebAssembly.RuntimeError(p);throw se(v),v}function ho(p){return p.startsWith("data:application/octet-stream;base64,")}function io(p){try{if(p==Sn&&he)return new Uint8Array(he);if(Ne)return Ne(p);throw"both async and sync fetching of the wasm failed"}catch(v){rr(v)}}ho(Sn="fstools_web.wasm")||(Sn=function $(p){return u.locateFile?u.locateFile(p,B):B+p}(Sn));var lt,de,Ge={40318:()=>{throw new Error("terminated")}};function _n(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function In(p){for(;p.length>0;)p.shift()(u)}var Ht={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,v)=>{for(var w=0,k=p.length-1;k>=0;k--){var j=p[k];"."===j?p.splice(k,1):".."===j?(p.splice(k,1),w++):w&&(p.splice(k,1),w--)}if(v)for(;w;w--)p.unshift("..");return p},normalize:p=>{var v=Ht.isAbs(p),w="/"===p.substr(-1);return!(p=Ht.normalizeArray(p.split("/").filter(k=>!!k),!v).join("/"))&&!v&&(p="."),p&&w&&(p+="/"),(v?"/":"")+p},dirname:p=>{var v=Ht.splitPath(p),w=v[0],k=v[1];return w||k?(k&&(k=k.substr(0,k.length-1)),w+k):"."},basename:p=>{if("/"===p)return"/";var v=(p=(p=Ht.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===v?p:p.substr(v+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Ht.normalize(p.join("/"))},join2:(p,v)=>Ht.normalize(p+"/"+v)},ir={resolve:function(){for(var p="",v=!1,w=arguments.length-1;w>=-1&&!v;w--){var k=w>=0?arguments[w]:S.cwd();if("string"!=typeof k)throw new TypeError("Arguments to path.resolve must be strings");if(!k)return"";p=k+"/"+p,v=Ht.isAbs(k)}return(v?"/":"")+(p=Ht.normalizeArray(p.split("/").filter(j=>!!j),!v).join("/"))||"."},relative:(p,v)=>{function w(f){for(var g=0;g<f.length&&""===f[g];g++);for(var y=f.length-1;y>=0&&""===f[y];y--);return g>y?[]:f.slice(g,y-g+1)}p=ir.resolve(p).substr(1),v=ir.resolve(v).substr(1);for(var k=w(p.split("/")),j=w(v.split("/")),be=Math.min(k.length,j.length),we=be,Ce=0;Ce<be;Ce++)if(k[Ce]!==j[Ce]){we=Ce;break}var ut=[];for(Ce=we;Ce<k.length;Ce++)ut.push("..");return(ut=ut.concat(j.slice(we))).join("/")}};function an(p,v,w){var k=w>0?w:Q(p)+1,j=new Array(k),be=$e(p,j,0,j.length);return v&&(j.length=be),j}var er={ttys:[],init:function(){},shutdown:function(){},register:function(p,v){er.ttys[p]={input:[],output:[],ops:v},S.registerDevice(p,er.stream_ops)},stream_ops:{open:function(p){var v=er.ttys[p.node.rdev];if(!v)throw new S.ErrnoError(43);p.tty=v,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,v,w,k,j){if(!p.tty||!p.tty.ops.get_char)throw new S.ErrnoError(60);for(var be=0,we=0;we<k;we++){var Ce;try{Ce=p.tty.ops.get_char(p.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Ce&&0===be)throw new S.ErrnoError(6);if(null==Ce)break;be++,v[w+we]=Ce}return be&&(p.node.timestamp=Date.now()),be},write:function(p,v,w,k,j){if(!p.tty||!p.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var be=0;be<k;be++)p.tty.ops.put_char(p.tty,v[w+be])}catch{throw new S.ErrnoError(29)}return k&&(p.node.timestamp=Date.now()),be}},default_tty_ops:{get_char:function(p){if(!p.input.length){var v=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(v=window.prompt("Input: "))&&(v+="\n"):"function"==typeof readline&&null!==(v=readline())&&(v+="\n"),!v)return null;p.input=an(v,!0)}return p.input.shift()},put_char:function(p,v){null===v||10===v?(z(Ue(p.output,0)),p.output=[]):0!=v&&p.output.push(v)},fsync:function(p){p.output&&p.output.length>0&&(z(Ue(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,v){null===v||10===v?(W(Ue(p.output,0)),p.output=[]):0!=v&&p.output.push(v)},fsync:function(p){p.output&&p.output.length>0&&(W(Ue(p.output,0)),p.output=[])}}};function pr(p){rr()}var Jt={ops_table:null,mount:function(p){return Jt.createNode(null,"/",16895,0)},createNode:function(p,v,w,k){if(S.isBlkdev(w)||S.isFIFO(w))throw new S.ErrnoError(63);Jt.ops_table||(Jt.ops_table={dir:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,lookup:Jt.node_ops.lookup,mknod:Jt.node_ops.mknod,rename:Jt.node_ops.rename,unlink:Jt.node_ops.unlink,rmdir:Jt.node_ops.rmdir,readdir:Jt.node_ops.readdir,symlink:Jt.node_ops.symlink},stream:{llseek:Jt.stream_ops.llseek}},file:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:{llseek:Jt.stream_ops.llseek,read:Jt.stream_ops.read,write:Jt.stream_ops.write,allocate:Jt.stream_ops.allocate,mmap:Jt.stream_ops.mmap,msync:Jt.stream_ops.msync}},link:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,readlink:Jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:S.chrdev_stream_ops}});var j=S.createNode(p,v,w,k);return S.isDir(j.mode)?(j.node_ops=Jt.ops_table.dir.node,j.stream_ops=Jt.ops_table.dir.stream,j.contents={}):S.isFile(j.mode)?(j.node_ops=Jt.ops_table.file.node,j.stream_ops=Jt.ops_table.file.stream,j.usedBytes=0,j.contents=null):S.isLink(j.mode)?(j.node_ops=Jt.ops_table.link.node,j.stream_ops=Jt.ops_table.link.stream):S.isChrdev(j.mode)&&(j.node_ops=Jt.ops_table.chrdev.node,j.stream_ops=Jt.ops_table.chrdev.stream),j.timestamp=Date.now(),p&&(p.contents[v]=j,p.timestamp=j.timestamp),j},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,v){var w=p.contents?p.contents.length:0;if(!(w>=v)){v=Math.max(v,w*(w<1048576?2:1.125)>>>0),0!=w&&(v=Math.max(v,256));var j=p.contents;p.contents=new Uint8Array(v),p.usedBytes>0&&p.contents.set(j.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,v){if(p.usedBytes!=v)if(0==v)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(v),w&&p.contents.set(w.subarray(0,Math.min(v,p.usedBytes))),p.usedBytes=v}},node_ops:{getattr:function(p){var v={};return v.dev=S.isChrdev(p.mode)?p.id:1,v.ino=p.id,v.mode=p.mode,v.nlink=1,v.uid=0,v.gid=0,v.rdev=p.rdev,v.size=S.isDir(p.mode)?4096:S.isFile(p.mode)?p.usedBytes:S.isLink(p.mode)?p.link.length:0,v.atime=new Date(p.timestamp),v.mtime=new Date(p.timestamp),v.ctime=new Date(p.timestamp),v.blksize=4096,v.blocks=Math.ceil(v.size/v.blksize),v},setattr:function(p,v){void 0!==v.mode&&(p.mode=v.mode),void 0!==v.timestamp&&(p.timestamp=v.timestamp),void 0!==v.size&&Jt.resizeFileStorage(p,v.size)},lookup:function(p,v){throw S.genericErrors[44]},mknod:function(p,v,w,k){return Jt.createNode(p,v,w,k)},rename:function(p,v,w){if(S.isDir(p.mode)){var k;try{k=S.lookupNode(v,w)}catch{}if(k)for(var j in k.contents)throw new S.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,v.contents[w]=p,v.timestamp=p.parent.timestamp,p.parent=v},unlink:function(p,v){delete p.contents[v],p.timestamp=Date.now()},rmdir:function(p,v){var w=S.lookupNode(p,v);for(var k in w.contents)throw new S.ErrnoError(55);delete p.contents[v],p.timestamp=Date.now()},readdir:function(p){var v=[".",".."];for(var w in p.contents)!p.contents.hasOwnProperty(w)||v.push(w);return v},symlink:function(p,v,w){var k=Jt.createNode(p,v,41471,0);return k.link=w,k},readlink:function(p){if(!S.isLink(p.mode))throw new S.ErrnoError(28);return p.link}},stream_ops:{read:function(p,v,w,k,j){var be=p.node.contents;if(j>=p.node.usedBytes)return 0;var we=Math.min(p.node.usedBytes-j,k);if(we>8&&be.subarray)v.set(be.subarray(j,j+we),w);else for(var Ce=0;Ce<we;Ce++)v[w+Ce]=be[j+Ce];return we},write:function(p,v,w,k,j,be){if(v.buffer===rt.buffer&&(be=!1),!k)return 0;var we=p.node;if(we.timestamp=Date.now(),v.subarray&&(!we.contents||we.contents.subarray)){if(be)return we.contents=v.subarray(w,w+k),we.usedBytes=k,k;if(0===we.usedBytes&&0===j)return we.contents=v.slice(w,w+k),we.usedBytes=k,k;if(j+k<=we.usedBytes)return we.contents.set(v.subarray(w,w+k),j),k}if(Jt.expandFileStorage(we,j+k),we.contents.subarray&&v.subarray)we.contents.set(v.subarray(w,w+k),j);else for(var Ce=0;Ce<k;Ce++)we.contents[j+Ce]=v[w+Ce];return we.usedBytes=Math.max(we.usedBytes,j+k),k},llseek:function(p,v,w){var k=v;if(1===w?k+=p.position:2===w&&S.isFile(p.node.mode)&&(k+=p.node.usedBytes),k<0)throw new S.ErrnoError(28);return k},allocate:function(p,v,w){Jt.expandFileStorage(p.node,v+w),p.node.usedBytes=Math.max(p.node.usedBytes,v+w)},mmap:function(p,v,w,k,j){if(!S.isFile(p.node.mode))throw new S.ErrnoError(43);var be,we,Ce=p.node.contents;if(2&j||Ce.buffer!==ze){if((w>0||w+v<Ce.length)&&(Ce=Ce.subarray?Ce.subarray(w,w+v):Array.prototype.slice.call(Ce,w,w+v)),we=!0,!(be=pr()))throw new S.ErrnoError(48);rt.set(Ce,be)}else we=!1,be=Ce.byteOffset;return{ptr:be,allocated:we}},msync:function(p,v,w,k,j){return Jt.stream_ops.write(p,v,0,k,w,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,v={})=>{if(!(p=ir.resolve(p)))return{path:"",node:null};if((v=Object.assign({follow_mount:!0,recurse_count:0},v)).recurse_count>8)throw new S.ErrnoError(32);for(var k=p.split("/").filter(y=>!!y),j=S.root,be="/",we=0;we<k.length;we++){var Ce=we===k.length-1;if(Ce&&v.parent)break;if(j=S.lookupNode(j,k[we]),be=Ht.join2(be,k[we]),S.isMountpoint(j)&&(!Ce||Ce&&v.follow_mount)&&(j=j.mounted.root),!Ce||v.follow)for(var ut=0;S.isLink(j.mode);){var f=S.readlink(be);if(be=ir.resolve(Ht.dirname(be),f),j=S.lookupPath(be,{recurse_count:v.recurse_count+1}).node,ut++>40)throw new S.ErrnoError(32)}}return{path:be,node:j}},getPath:p=>{for(var v;;){if(S.isRoot(p)){var w=p.mount.mountpoint;return v?"/"!==w[w.length-1]?w+"/"+v:w+v:w}v=v?p.name+"/"+v:p.name,p=p.parent}},hashName:(p,v)=>{for(var w=0,k=0;k<v.length;k++)w=(w<<5)-w+v.charCodeAt(k)|0;return(p+w>>>0)%S.nameTable.length},hashAddNode:p=>{var v=S.hashName(p.parent.id,p.name);p.name_next=S.nameTable[v],S.nameTable[v]=p},hashRemoveNode:p=>{var v=S.hashName(p.parent.id,p.name);if(S.nameTable[v]===p)S.nameTable[v]=p.name_next;else for(var w=S.nameTable[v];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,v)=>{var w=S.mayLookup(p);if(w)throw new S.ErrnoError(w,p);for(var k=S.hashName(p.id,v),j=S.nameTable[k];j;j=j.name_next)if(j.parent.id===p.id&&j.name===v)return j;return S.lookup(p,v)},createNode:(p,v,w,k)=>{var j=new S.FSNode(p,v,w,k);return S.hashAddNode(j),j},destroyNode:p=>{S.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var v=S.flagModes[p];if(typeof v>"u")throw new Error("Unknown file open mode: "+p);return v},flagsToPermissionString:p=>{var v=["r","w","rw"][3&p];return 512&p&&(v+="w"),v},nodePermissions:(p,v)=>S.ignorePermissions?0:v.includes("r")&&!(292&p.mode)||v.includes("w")&&!(146&p.mode)||v.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>S.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,v)=>{try{return S.lookupNode(p,v),20}catch{}return S.nodePermissions(p,"wx")},mayDelete:(p,v,w)=>{var k;try{k=S.lookupNode(p,v)}catch(be){return be.errno}var j=S.nodePermissions(p,"wx");if(j)return j;if(w){if(!S.isDir(k.mode))return 54;if(S.isRoot(k)||S.getPath(k)===S.cwd())return 10}else if(S.isDir(k.mode))return 31;return 0},mayOpen:(p,v)=>p?S.isLink(p.mode)?32:S.isDir(p.mode)&&("r"!==S.flagsToPermissionString(v)||512&v)?31:S.nodePermissions(p,S.flagsToPermissionString(v)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,v=S.MAX_OPEN_FDS)=>{for(var w=p;w<=v;w++)if(!S.streams[w])return w;throw new S.ErrnoError(33)},getStream:p=>S.streams[p],createStream:(p,v,w)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(j){this.node=j}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(j){this.shared.flags=j}},position:{get:function(){return this.shared.position},set:function(j){this.shared.position=j}}})),p=Object.assign(new S.FSStream,p);var k=S.nextfd(v,w);return p.fd=k,S.streams[k]=p,p},closeStream:p=>{S.streams[p]=null},chrdev_stream_ops:{open:p=>{var v=S.getDevice(p.node.rdev);p.stream_ops=v.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new S.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,v)=>p<<8|v,registerDevice:(p,v)=>{S.devices[p]={stream_ops:v}},getDevice:p=>S.devices[p],getMounts:p=>{for(var v=[],w=[p];w.length;){var k=w.pop();v.push(k),w.push.apply(w,k.mounts)}return v},syncfs:(p,v)=>{"function"==typeof p&&(v=p,p=!1),S.syncFSRequests++,S.syncFSRequests>1&&W("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=S.getMounts(S.root.mount),k=0;function j(we){return S.syncFSRequests--,v(we)}function be(we){if(we)return be.errored?void 0:(be.errored=!0,j(we));++k>=w.length&&j(null)}w.forEach(we=>{if(!we.type.syncfs)return be(null);we.type.syncfs(we,p,be)})},mount:(p,v,w)=>{var be,k="/"===w,j=!w;if(k&&S.root)throw new S.ErrnoError(10);if(!k&&!j){var we=S.lookupPath(w,{follow_mount:!1});if(w=we.path,S.isMountpoint(be=we.node))throw new S.ErrnoError(10);if(!S.isDir(be.mode))throw new S.ErrnoError(54)}var Ce={type:p,opts:v,mountpoint:w,mounts:[]},ut=p.mount(Ce);return ut.mount=Ce,Ce.root=ut,k?S.root=ut:be&&(be.mounted=Ce,be.mount&&be.mount.mounts.push(Ce)),ut},unmount:p=>{var v=S.lookupPath(p,{follow_mount:!1});if(!S.isMountpoint(v.node))throw new S.ErrnoError(28);var w=v.node,k=w.mounted,j=S.getMounts(k);Object.keys(S.nameTable).forEach(we=>{for(var Ce=S.nameTable[we];Ce;){var ut=Ce.name_next;j.includes(Ce.mount)&&S.destroyNode(Ce),Ce=ut}}),w.mounted=null;var be=w.mount.mounts.indexOf(k);w.mount.mounts.splice(be,1)},lookup:(p,v)=>p.node_ops.lookup(p,v),mknod:(p,v,w)=>{var j=S.lookupPath(p,{parent:!0}).node,be=Ht.basename(p);if(!be||"."===be||".."===be)throw new S.ErrnoError(28);var we=S.mayCreate(j,be);if(we)throw new S.ErrnoError(we);if(!j.node_ops.mknod)throw new S.ErrnoError(63);return j.node_ops.mknod(j,be,v,w)},create:(p,v)=>(v=void 0!==v?v:438,v&=4095,S.mknod(p,v|=32768,0)),mkdir:(p,v)=>(v=void 0!==v?v:511,v&=1023,S.mknod(p,v|=16384,0)),mkdirTree:(p,v)=>{for(var w=p.split("/"),k="",j=0;j<w.length;++j)if(w[j]){k+="/"+w[j];try{S.mkdir(k,v)}catch(be){if(20!=be.errno)throw be}}},mkdev:(p,v,w)=>(typeof w>"u"&&(w=v,v=438),S.mknod(p,v|=8192,w)),symlink:(p,v)=>{if(!ir.resolve(p))throw new S.ErrnoError(44);var k=S.lookupPath(v,{parent:!0}).node;if(!k)throw new S.ErrnoError(44);var j=Ht.basename(v),be=S.mayCreate(k,j);if(be)throw new S.ErrnoError(be);if(!k.node_ops.symlink)throw new S.ErrnoError(63);return k.node_ops.symlink(k,j,p)},rename:(p,v)=>{var Ce,ut,w=Ht.dirname(p),k=Ht.dirname(v),j=Ht.basename(p),be=Ht.basename(v);if(Ce=S.lookupPath(p,{parent:!0}).node,ut=S.lookupPath(v,{parent:!0}).node,!Ce||!ut)throw new S.ErrnoError(44);if(Ce.mount!==ut.mount)throw new S.ErrnoError(75);var y,f=S.lookupNode(Ce,j),g=ir.relative(p,k);if("."!==g.charAt(0))throw new S.ErrnoError(28);if("."!==(g=ir.relative(v,w)).charAt(0))throw new S.ErrnoError(55);try{y=S.lookupNode(ut,be)}catch{}if(f!==y){var M=S.isDir(f.mode),N=S.mayDelete(Ce,j,M);if(N)throw new S.ErrnoError(N);if(N=y?S.mayDelete(ut,be,M):S.mayCreate(ut,be))throw new S.ErrnoError(N);if(!Ce.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(f)||y&&S.isMountpoint(y))throw new S.ErrnoError(10);if(ut!==Ce&&(N=S.nodePermissions(Ce,"w")))throw new S.ErrnoError(N);S.hashRemoveNode(f);try{Ce.node_ops.rename(f,ut,be)}catch(ne){throw ne}finally{S.hashAddNode(f)}}},rmdir:p=>{var w=S.lookupPath(p,{parent:!0}).node,k=Ht.basename(p),j=S.lookupNode(w,k),be=S.mayDelete(w,k,!0);if(be)throw new S.ErrnoError(be);if(!w.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(j))throw new S.ErrnoError(10);w.node_ops.rmdir(w,k),S.destroyNode(j)},readdir:p=>{var w=S.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new S.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=S.lookupPath(p,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var k=Ht.basename(p),j=S.lookupNode(w,k),be=S.mayDelete(w,k,!1);if(be)throw new S.ErrnoError(be);if(!w.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(j))throw new S.ErrnoError(10);w.node_ops.unlink(w,k),S.destroyNode(j)},readlink:p=>{var w=S.lookupPath(p).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.readlink)throw new S.ErrnoError(28);return ir.resolve(S.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,v)=>{var k=S.lookupPath(p,{follow:!v}).node;if(!k)throw new S.ErrnoError(44);if(!k.node_ops.getattr)throw new S.ErrnoError(63);return k.node_ops.getattr(k)},lstat:p=>S.stat(p,!0),chmod:(p,v,w)=>{var k;if(!(k="string"==typeof p?S.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new S.ErrnoError(63);k.node_ops.setattr(k,{mode:4095&v|-4096&k.mode,timestamp:Date.now()})},lchmod:(p,v)=>{S.chmod(p,v,!0)},fchmod:(p,v)=>{var w=S.getStream(p);if(!w)throw new S.ErrnoError(8);S.chmod(w.node,v)},chown:(p,v,w,k)=>{var j;if(!(j="string"==typeof p?S.lookupPath(p,{follow:!k}).node:p).node_ops.setattr)throw new S.ErrnoError(63);j.node_ops.setattr(j,{timestamp:Date.now()})},lchown:(p,v,w)=>{S.chown(p,v,w,!0)},fchown:(p,v,w)=>{var k=S.getStream(p);if(!k)throw new S.ErrnoError(8);S.chown(k.node,v,w)},truncate:(p,v)=>{if(v<0)throw new S.ErrnoError(28);var w;if(!(w="string"==typeof p?S.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(w.mode))throw new S.ErrnoError(31);if(!S.isFile(w.mode))throw new S.ErrnoError(28);var j=S.nodePermissions(w,"w");if(j)throw new S.ErrnoError(j);w.node_ops.setattr(w,{size:v,timestamp:Date.now()})},ftruncate:(p,v)=>{var w=S.getStream(p);if(!w)throw new S.ErrnoError(8);if(0==(2097155&w.flags))throw new S.ErrnoError(28);S.truncate(w.node,v)},utime:(p,v,w)=>{var j=S.lookupPath(p,{follow:!0}).node;j.node_ops.setattr(j,{timestamp:Math.max(v,w)})},open:(p,v,w)=>{if(""===p)throw new S.ErrnoError(44);var k;if(w=typeof w>"u"?438:w,w=64&(v="string"==typeof v?S.modeStringToFlags(v):v)?4095&w|32768:0,"object"==typeof p)k=p;else{p=Ht.normalize(p);try{k=S.lookupPath(p,{follow:!(131072&v)}).node}catch{}}var be=!1;if(64&v)if(k){if(128&v)throw new S.ErrnoError(20)}else k=S.mknod(p,w,0),be=!0;if(!k)throw new S.ErrnoError(44);if(S.isChrdev(k.mode)&&(v&=-513),65536&v&&!S.isDir(k.mode))throw new S.ErrnoError(54);if(!be){var we=S.mayOpen(k,v);if(we)throw new S.ErrnoError(we)}512&v&&!be&&S.truncate(k,0),v&=-131713;var Ce=S.createStream({node:k,path:S.getPath(k),flags:v,seekable:!0,position:0,stream_ops:k.stream_ops,ungotten:[],error:!1});return Ce.stream_ops.open&&Ce.stream_ops.open(Ce),u.logReadFiles&&!(1&v)&&(S.readFiles||(S.readFiles={}),p in S.readFiles||(S.readFiles[p]=1)),Ce},close:p=>{if(S.isClosed(p))throw new S.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(v){throw v}finally{S.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,v,w)=>{if(S.isClosed(p))throw new S.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new S.ErrnoError(28);return p.position=p.stream_ops.llseek(p,v,w),p.ungotten=[],p.position},read:(p,v,w,k,j)=>{if(k<0||j<0)throw new S.ErrnoError(28);if(S.isClosed(p))throw new S.ErrnoError(8);if(1==(2097155&p.flags))throw new S.ErrnoError(8);if(S.isDir(p.node.mode))throw new S.ErrnoError(31);if(!p.stream_ops.read)throw new S.ErrnoError(28);var be=typeof j<"u";if(be){if(!p.seekable)throw new S.ErrnoError(70)}else j=p.position;var we=p.stream_ops.read(p,v,w,k,j);return be||(p.position+=we),we},write:(p,v,w,k,j,be)=>{if(k<0||j<0)throw new S.ErrnoError(28);if(S.isClosed(p))throw new S.ErrnoError(8);if(0==(2097155&p.flags))throw new S.ErrnoError(8);if(S.isDir(p.node.mode))throw new S.ErrnoError(31);if(!p.stream_ops.write)throw new S.ErrnoError(28);p.seekable&&1024&p.flags&&S.llseek(p,0,2);var we=typeof j<"u";if(we){if(!p.seekable)throw new S.ErrnoError(70)}else j=p.position;var Ce=p.stream_ops.write(p,v,w,k,j,be);return we||(p.position+=Ce),Ce},allocate:(p,v,w)=>{if(S.isClosed(p))throw new S.ErrnoError(8);if(v<0||w<=0)throw new S.ErrnoError(28);if(0==(2097155&p.flags))throw new S.ErrnoError(8);if(!S.isFile(p.node.mode)&&!S.isDir(p.node.mode))throw new S.ErrnoError(43);if(!p.stream_ops.allocate)throw new S.ErrnoError(138);p.stream_ops.allocate(p,v,w)},mmap:(p,v,w,k,j)=>{if(0!=(2&k)&&0==(2&j)&&2!=(2097155&p.flags))throw new S.ErrnoError(2);if(1==(2097155&p.flags))throw new S.ErrnoError(2);if(!p.stream_ops.mmap)throw new S.ErrnoError(43);return p.stream_ops.mmap(p,v,w,k,j)},msync:(p,v,w,k,j)=>p.stream_ops.msync?p.stream_ops.msync(p,v,w,k,j):0,munmap:p=>0,ioctl:(p,v,w)=>{if(!p.stream_ops.ioctl)throw new S.ErrnoError(59);return p.stream_ops.ioctl(p,v,w)},readFile:(p,v={})=>{if(v.flags=v.flags||0,v.encoding=v.encoding||"binary","utf8"!==v.encoding&&"binary"!==v.encoding)throw new Error('Invalid encoding type "'+v.encoding+'"');var w,k=S.open(p,v.flags),be=S.stat(p).size,we=new Uint8Array(be);return S.read(k,we,0,be,0),"utf8"===v.encoding?w=Ue(we,0):"binary"===v.encoding&&(w=we),S.close(k),w},writeFile:(p,v,w={})=>{w.flags=w.flags||577;var k=S.open(p,w.flags,w.mode);if("string"==typeof v){var j=new Uint8Array(Q(v)+1),be=$e(v,j,0,j.length);S.write(k,j,0,be,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(v))throw new Error("Unsupported data type");S.write(k,v,0,v.byteLength,void 0,w.canOwn)}S.close(k)},cwd:()=>S.currentPath,chdir:p=>{var v=S.lookupPath(p,{follow:!0});if(null===v.node)throw new S.ErrnoError(44);if(!S.isDir(v.node.mode))throw new S.ErrnoError(54);var w=S.nodePermissions(v.node,"x");if(w)throw new S.ErrnoError(w);S.currentPath=v.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(v,w,k,j,be)=>j}),S.mkdev("/dev/null",S.makedev(1,3)),er.register(S.makedev(5,0),er.default_tty_ops),er.register(S.makedev(6,0),er.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var p=function fn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>rr("randomDevice")}();S.createDevice("/dev","random",p),S.createDevice("/dev","urandom",p),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var p=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var v=S.createNode(p,"fd",16895,73);return v.node_ops={lookup:(w,k)=>{var be=S.getStream(+k);if(!be)throw new S.ErrnoError(8);var we={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>be.path}};return we.parent=we,we}},v}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?S.createDevice("/dev","stdin",u.stdin):S.symlink("/dev/tty","/dev/stdin"),u.stdout?S.createDevice("/dev","stdout",null,u.stdout):S.symlink("/dev/tty","/dev/stdout"),u.stderr?S.createDevice("/dev","stderr",null,u.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(v,w){this.node=w,this.setErrno=function(k){this.errno=k},this.setErrno(v),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(p=>{S.genericErrors[p]=new S.ErrnoError(p),S.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Jt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Jt}},init:(p,v,w)=>{S.init.initialized=!0,S.ensureErrnoError(),u.stdin=p||u.stdin,u.stdout=v||u.stdout,u.stderr=w||u.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var p=0;p<S.streams.length;p++){var v=S.streams[p];!v||S.close(v)}},getMode:(p,v)=>{var w=0;return p&&(w|=365),v&&(w|=146),w},findObject:(p,v)=>{var w=S.analyzePath(p,v);return w.exists?w.object:null},analyzePath:(p,v)=>{try{p=(w=S.lookupPath(p,{follow:!v})).path}catch{}var k={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=S.lookupPath(p,{parent:!0});k.parentExists=!0,k.parentPath=w.path,k.parentObject=w.node,k.name=Ht.basename(p),w=S.lookupPath(p,{follow:!v}),k.exists=!0,k.path=w.path,k.object=w.node,k.name=w.node.name,k.isRoot="/"===w.path}catch(j){k.error=j.errno}return k},createPath:(p,v,w,k)=>{p="string"==typeof p?p:S.getPath(p);for(var j=v.split("/").reverse();j.length;){var be=j.pop();if(be){var we=Ht.join2(p,be);try{S.mkdir(we)}catch{}p=we}}return we},createFile:(p,v,w,k,j)=>{var be=Ht.join2("string"==typeof p?p:S.getPath(p),v),we=S.getMode(k,j);return S.create(be,we)},createDataFile:(p,v,w,k,j,be)=>{var we=v;p&&(p="string"==typeof p?p:S.getPath(p),we=v?Ht.join2(p,v):p);var Ce=S.getMode(k,j),ut=S.create(we,Ce);if(w){if("string"==typeof w){for(var f=new Array(w.length),g=0,y=w.length;g<y;++g)f[g]=w.charCodeAt(g);w=f}S.chmod(ut,146|Ce);var M=S.open(ut,577);S.write(M,w,0,w.length,0,be),S.close(M),S.chmod(ut,Ce)}return ut},createDevice:(p,v,w,k)=>{var j=Ht.join2("string"==typeof p?p:S.getPath(p),v),be=S.getMode(!!w,!!k);S.createDevice.major||(S.createDevice.major=64);var we=S.makedev(S.createDevice.major++,0);return S.registerDevice(we,{open:Ce=>{Ce.seekable=!1},close:Ce=>{k&&k.buffer&&k.buffer.length&&k(10)},read:(Ce,ut,f,g,y)=>{for(var M=0,N=0;N<g;N++){var ne;try{ne=w()}catch{throw new S.ErrnoError(29)}if(void 0===ne&&0===M)throw new S.ErrnoError(6);if(null==ne)break;M++,ut[f+N]=ne}return M&&(Ce.node.timestamp=Date.now()),M},write:(Ce,ut,f,g,y)=>{for(var M=0;M<g;M++)try{k(ut[f+M])}catch{throw new S.ErrnoError(29)}return g&&(Ce.node.timestamp=Date.now()),M}}),S.mkdev(j,be,we)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=an(G(p.url),!0),p.usedBytes=p.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(p,v,w,k,j)=>{function be(){this.lengthKnown=!1,this.chunks=[]}if(be.prototype.get=function(N){if(!(N>this.length-1||N<0)){var ne=N%this.chunkSize;return this.getter(N/this.chunkSize|0)[ne]}},be.prototype.setDataGetter=function(N){this.getter=N},be.prototype.cacheLength=function(){var N=new XMLHttpRequest;if(N.open("HEAD",w,!1),N.send(null),!(N.status>=200&&N.status<300||304===N.status))throw new Error("Couldn't load "+w+". Status: "+N.status);var ie,ne=Number(N.getResponseHeader("Content-length")),Le=(ie=N.getResponseHeader("Accept-Ranges"))&&"bytes"===ie,mt=(ie=N.getResponseHeader("Content-Encoding"))&&"gzip"===ie,ce=1048576;Le||(ce=ne);var It=this;It.setDataGetter(bt=>{var Et=bt*ce,zt=(bt+1)*ce-1;if(zt=Math.min(zt,ne-1),typeof It.chunks[bt]>"u"&&(It.chunks[bt]=((bt,Et)=>{if(bt>Et)throw new Error("invalid range ("+bt+", "+Et+") or no bytes requested!");if(Et>ne-1)throw new Error("only "+ne+" bytes available! programmer error!");var zt=new XMLHttpRequest;if(zt.open("GET",w,!1),ne!==ce&&zt.setRequestHeader("Range","bytes="+bt+"-"+Et),zt.responseType="arraybuffer",zt.overrideMimeType&&zt.overrideMimeType("text/plain; charset=x-user-defined"),zt.send(null),!(zt.status>=200&&zt.status<300||304===zt.status))throw new Error("Couldn't load "+w+". Status: "+zt.status);return void 0!==zt.response?new Uint8Array(zt.response||[]):an(zt.responseText||"",!0)})(Et,zt)),typeof It.chunks[bt]>"u")throw new Error("doXHR failed!");return It.chunks[bt]}),(mt||!ne)&&(ce=ne=1,ne=this.getter(0).length,ce=ne,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ne,this._chunkSize=ce,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!K)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var we=new be;Object.defineProperties(we,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ce={isDevice:!1,contents:we}}else Ce={isDevice:!1,url:w};var ut=S.createFile(p,v,Ce,k,j);Ce.contents?ut.contents=Ce.contents:Ce.url&&(ut.contents=null,ut.url=Ce.url),Object.defineProperties(ut,{usedBytes:{get:function(){return this.contents.length}}});var f={};function y(M,N,ne,ie,Le){var mt=M.node.contents;if(Le>=mt.length)return 0;var ce=Math.min(mt.length-Le,ie);if(mt.slice)for(var ct=0;ct<ce;ct++)N[ne+ct]=mt[Le+ct];else for(ct=0;ct<ce;ct++)N[ne+ct]=mt.get(Le+ct);return ce}return Object.keys(ut.stream_ops).forEach(M=>{var N=ut.stream_ops[M];f[M]=function(){return S.forceLoadFile(ut),N.apply(null,arguments)}}),f.read=(M,N,ne,ie,Le)=>(S.forceLoadFile(ut),y(M,N,ne,ie,Le)),f.mmap=(M,N,ne,ie,Le)=>{S.forceLoadFile(ut);var mt=pr();if(!mt)throw new S.ErrnoError(48);return y(M,rt,mt,N,ne),{ptr:mt,allocated:!0}},ut.stream_ops=f,ut},createPreloadedFile:(p,v,w,k,j,be,we,Ce,ut,f)=>{var g=v?ir.resolve(Ht.join2(p,v)):p;function M(N){function ne(ie){f&&f(),Ce||S.createDataFile(p,v,ie,k,j,ut),be&&be(),fr()}Browser.handledByPreloadPlugin(N,g,ne,()=>{we&&we(),fr()})||ne(N)}Zr(),"string"==typeof w?function hr(p,v,w,k){var j=k?"":"al "+p;Oe(p,be=>{Me(be,'Loading data file "'+p+'" failed (no arrayBuffer).'),v(new Uint8Array(be)),j&&fr()},be=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),j&&Zr()}(w,N=>M(N),we):M(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,v,w)=>{v=v||(()=>{}),w=w||(()=>{});var k=S.indexedDB();try{var j=k.open(S.DB_NAME(),S.DB_VERSION)}catch(be){return w(be)}j.onupgradeneeded=()=>{z("creating db"),j.result.createObjectStore(S.DB_STORE_NAME)},j.onsuccess=()=>{var we=j.result.transaction([S.DB_STORE_NAME],"readwrite"),Ce=we.objectStore(S.DB_STORE_NAME),ut=0,f=0,g=p.length;function y(){0==f?v():w()}p.forEach(M=>{var N=Ce.put(S.analyzePath(M).object.contents,M);N.onsuccess=()=>{++ut+f==g&&y()},N.onerror=()=>{f++,ut+f==g&&y()}}),we.onerror=w},j.onerror=w},loadFilesFromDB:(p,v,w)=>{v=v||(()=>{}),w=w||(()=>{});var k=S.indexedDB();try{var j=k.open(S.DB_NAME(),S.DB_VERSION)}catch(be){return w(be)}j.onupgradeneeded=w,j.onsuccess=()=>{var be=j.result;try{var we=be.transaction([S.DB_STORE_NAME],"readonly")}catch(M){return void w(M)}var Ce=we.objectStore(S.DB_STORE_NAME),ut=0,f=0,g=p.length;function y(){0==f?v():w()}p.forEach(M=>{var N=Ce.get(M);N.onsuccess=()=>{S.analyzePath(M).exists&&S.unlink(M),S.createDataFile(Ht.dirname(M),Ht.basename(M),N.result,!0,!0,!0),++ut+f==g&&y()},N.onerror=()=>{f++,ut+f==g&&y()}}),we.onerror=w},j.onerror=w}},Ut={DEFAULT_POLLMASK:5,calculateAt:function(p,v,w){if(Ht.isAbs(v))return v;var k;if(k=-100===p?S.cwd():Ut.getStreamFromFD(p).path,0==v.length){if(!w)throw new S.ErrnoError(44);return k}return Ht.join2(k,v)},doStat:function(p,v,w){try{var k=p(v)}catch(j){if(j&&j.node&&Ht.normalize(v)!==Ht.normalize(S.getPath(j.node)))return-54;throw j}return O[w>>2]=k.dev,O[w+8>>2]=k.ino,O[w+12>>2]=k.mode,_e[w+16>>2]=k.nlink,O[w+20>>2]=k.uid,O[w+24>>2]=k.gid,O[w+28>>2]=k.rdev,de=[k.size>>>0,(lt=k.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+40>>2]=de[0],O[w+44>>2]=de[1],O[w+48>>2]=4096,O[w+52>>2]=k.blocks,de=[Math.floor(k.atime.getTime()/1e3)>>>0,(lt=Math.floor(k.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+56>>2]=de[0],O[w+60>>2]=de[1],_e[w+64>>2]=0,de=[Math.floor(k.mtime.getTime()/1e3)>>>0,(lt=Math.floor(k.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+72>>2]=de[0],O[w+76>>2]=de[1],_e[w+80>>2]=0,de=[Math.floor(k.ctime.getTime()/1e3)>>>0,(lt=Math.floor(k.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+88>>2]=de[0],O[w+92>>2]=de[1],_e[w+96>>2]=0,de=[k.ino>>>0,(lt=k.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+104>>2]=de[0],O[w+108>>2]=de[1],0},doMsync:function(p,v,w,k,j){if(!S.isFile(v.node.mode))throw new S.ErrnoError(43);if(2&k)return 0;var be=wt.slice(p,p+w);S.msync(v,be,j,w,k)},varargs:void 0,get:function(){return Ut.varargs+=4,O[Ut.varargs-4>>2]},getStr:function(p){return Re(p)},getStreamFromFD:function(p){var v=S.getStream(p);if(!v)throw new S.ErrnoError(8);return v}};function E(p){return _e[p>>2]+4294967296*O[p+4>>2]}function mo(p){return p%4==0&&(p%100!=0||p%400==0)}var go=[0,31,60,91,121,152,182,213,244,274,305,335],jo=[0,31,59,90,120,151,181,212,243,273,304,334];function Xt(p){var v=Q(p)+1,w=_o(v);return w&&$e(p,rt,w,v),w}var ao=[];function Rr(p){try{return me.grow(p-ze.byteLength+65535>>>16),pe(me.buffer),1}catch{}}var Ci={};function yo(){if(!yo.strings){var v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var w in Ci)void 0===Ci[w]?delete v[w]:v[w]=Ci[w];var k=[];for(var w in v)k.push(w+"="+v[w]);yo.strings=k}return yo.strings}function Wi(p,v){fe=p,function ni(p){fe=p,function en(){return Pe}()||(u.onExit&&u.onExit(p),it=!0),H(p,new _n(p))}(p)}var Zn=Wi,x=[31,29,31,30,31,30,31,31,30,31,30,31],F=[31,28,31,30,31,30,31,31,30,31,30,31];var ve=function(p,v,w,k){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=S.nextInode++,this.name=v,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=k};Object.defineProperties(ve.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=ve,S.staticInit();var cs,kt={o:function sr(p,v,w,k){Ut.varargs=k;try{v=Ut.getStr(v),v=Ut.calculateAt(p,v);var j=k?Ut.get():0;return S.open(v,w,j).fd}catch(be){if(typeof S>"u"||!(be instanceof S.ErrnoError))throw be;return-be.errno}},h:function vr(p,v){var w=new Date(1e3*E(p));O[v>>2]=w.getUTCSeconds(),O[v+4>>2]=w.getUTCMinutes(),O[v+8>>2]=w.getUTCHours(),O[v+12>>2]=w.getUTCDate(),O[v+16>>2]=w.getUTCMonth(),O[v+20>>2]=w.getUTCFullYear()-1900,O[v+24>>2]=w.getUTCDay();var k=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),j=(w.getTime()-k)/864e5|0;O[v+28>>2]=j},i:function Ro(p,v){var w=new Date(1e3*E(p));O[v>>2]=w.getSeconds(),O[v+4>>2]=w.getMinutes(),O[v+8>>2]=w.getHours(),O[v+12>>2]=w.getDate(),O[v+16>>2]=w.getMonth(),O[v+20>>2]=w.getFullYear()-1900,O[v+24>>2]=w.getDay();var k=0|function kr(p){return(mo(p.getFullYear())?go:jo)[p.getMonth()]+p.getDate()-1}(w);O[v+28>>2]=k,O[v+36>>2]=-60*w.getTimezoneOffset();var j=new Date(w.getFullYear(),0,1),be=new Date(w.getFullYear(),6,1).getTimezoneOffset(),we=j.getTimezoneOffset(),Ce=0|(be!=we&&w.getTimezoneOffset()==Math.min(we,be));O[v+32>>2]=Ce},j:function so(p,v,w){var k=(new Date).getFullYear(),j=new Date(k,0,1),be=new Date(k,6,1),we=j.getTimezoneOffset(),Ce=be.getTimezoneOffset(),ut=Math.max(we,Ce);function f(ne){var ie=ne.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ie?ie[1]:"GMT"}_e[p>>2]=60*ut,O[v>>2]=Number(we!=Ce);var g=f(j),y=f(be),M=Xt(g),N=Xt(y);Ce<we?(_e[w>>2]=M,_e[w+4>>2]=N):(_e[w>>2]=N,_e[w+4>>2]=M)},b:function ar(){rr("")},a:function ti(p,v,w){var k=function lo(p,v){var w;for(ao.length=0,v>>=2;w=wt[p++];)v+=105!=w&v,ao.push(105==w?O[v]:te[v++>>1]),++v;return ao}(v,w);return Ge[p].apply(null,k)},c:function rn(){return Date.now()},g:function Io(p,v,w){wt.copyWithin(p,v,v+w)},m:function Vr(p){var ut,v=wt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var j=1;j<=4;j*=2){var be=v*(1+.2/j);if(be=Math.min(be,p+100663296),Rr(Math.min(w,(ut=Math.max(p,be))+(65536-ut%65536)%65536)))return!0}return!1},p:function zi(p,v){var w=0;return yo().forEach(function(k,j){var be=v+w;_e[p+4*j>>2]=be,function Fo(p,v,w){for(var k=0;k<p.length;++k)rt[v++>>0]=p.charCodeAt(k);w||(rt[v>>0]=0)}(k,be),w+=k.length+1}),0},f:function Kr(p,v){var w=yo();_e[p>>2]=w.length;var k=0;return w.forEach(function(j){k+=j.length+1}),_e[v>>2]=k,0},q:Zn,d:function Uo(p){try{var v=Ut.getStreamFromFD(p);return S.close(v),0}catch(w){if(typeof S>"u"||!(w instanceof S.ErrnoError))throw w;return w.errno}},e:function Ei(p,v,w,k){try{var be=function Si(p,v,w,k){for(var j=0,be=0;be<w;be++){var we=_e[v>>2],Ce=_e[v+4>>2];v+=8;var ut=S.read(p,rt,we,Ce,k);if(ut<0)return-1;if(j+=ut,ut<Ce)break}return j}(Ut.getStreamFromFD(p),v,w);return _e[k>>2]=be,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},k:function ri(p,v,w,k,j){try{var be=function On(p,v){return v+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*v:NaN}(v,w);if(isNaN(be))return 61;var we=Ut.getStreamFromFD(p);return S.llseek(we,be,k),de=[we.position>>>0,(lt=we.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[j>>2]=de[0],O[j+4>>2]=de[1],we.getdents&&0===be&&0===k&&(we.getdents=null),0}catch(Ce){if(typeof S>"u"||!(Ce instanceof S.ErrnoError))throw Ce;return Ce.errno}},n:function Di(p,v,w,k){try{var be=function Un(p,v,w,k){for(var j=0,be=0;be<w;be++){var we=_e[v>>2],Ce=_e[v+4>>2];v+=8;var ut=S.write(p,rt,we,Ce,k);if(ut<0)return-1;j+=ut}return j}(Ut.getStreamFromFD(p),v,w);return _e[k>>2]=be,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},l:function L(p,v,w,k,j){return function oe(p,v,w,k){var j=O[k+40>>2],be={tm_sec:O[k>>2],tm_min:O[k+4>>2],tm_hour:O[k+8>>2],tm_mday:O[k+12>>2],tm_mon:O[k+16>>2],tm_year:O[k+20>>2],tm_wday:O[k+24>>2],tm_yday:O[k+28>>2],tm_isdst:O[k+32>>2],tm_gmtoff:O[k+36>>2],tm_zone:j?Re(j):""},we=Re(w),Ce={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ut in Ce)we=we.replace(new RegExp(ut,"g"),Ce[ut]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];function y(ce,ct,It){for(var bt="number"==typeof ce?ce.toString():ce||"";bt.length<ct;)bt=It[0]+bt;return bt}function M(ce,ct){return y(ce,ct,"0")}function N(ce,ct){function It(Et){return Et<0?-1:Et>0?1:0}var bt;return 0===(bt=It(ce.getFullYear()-ct.getFullYear()))&&0===(bt=It(ce.getMonth()-ct.getMonth()))&&(bt=It(ce.getDate()-ct.getDate())),bt}function ne(ce){switch(ce.getDay()){case 0:return new Date(ce.getFullYear()-1,11,29);case 1:return ce;case 2:return new Date(ce.getFullYear(),0,3);case 3:return new Date(ce.getFullYear(),0,2);case 4:return new Date(ce.getFullYear(),0,1);case 5:return new Date(ce.getFullYear()-1,11,31);case 6:return new Date(ce.getFullYear()-1,11,30)}}function ie(ce){var ct=function ge(p,v){for(var w=new Date(p.getTime());v>0;){var k=mo(w.getFullYear()),j=w.getMonth(),be=(k?x:F)[j];if(!(v>be-w.getDate()))return w.setDate(w.getDate()+v),w;v-=be-w.getDate()+1,w.setDate(1),j<11?w.setMonth(j+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(ce.tm_year+1900,0,1),ce.tm_yday),It=new Date(ct.getFullYear(),0,4),bt=new Date(ct.getFullYear()+1,0,4),Et=ne(It),zt=ne(bt);return N(Et,ct)<=0?N(zt,ct)<=0?ct.getFullYear()+1:ct.getFullYear():ct.getFullYear()-1}var Le={"%a":function(ce){return f[ce.tm_wday].substring(0,3)},"%A":function(ce){return f[ce.tm_wday]},"%b":function(ce){return g[ce.tm_mon].substring(0,3)},"%B":function(ce){return g[ce.tm_mon]},"%C":function(ce){return M((ce.tm_year+1900)/100|0,2)},"%d":function(ce){return M(ce.tm_mday,2)},"%e":function(ce){return y(ce.tm_mday,2," ")},"%g":function(ce){return ie(ce).toString().substring(2)},"%G":function(ce){return ie(ce)},"%H":function(ce){return M(ce.tm_hour,2)},"%I":function(ce){var ct=ce.tm_hour;return 0==ct?ct=12:ct>12&&(ct-=12),M(ct,2)},"%j":function(ce){return M(ce.tm_mday+function gs(p,v){for(var w=0,k=0;k<=v;w+=p[k++]);return w}(mo(ce.tm_year+1900)?x:F,ce.tm_mon-1),3)},"%m":function(ce){return M(ce.tm_mon+1,2)},"%M":function(ce){return M(ce.tm_min,2)},"%n":function(){return"\n"},"%p":function(ce){return ce.tm_hour>=0&&ce.tm_hour<12?"AM":"PM"},"%S":function(ce){return M(ce.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ce){return ce.tm_wday||7},"%U":function(ce){return M(Math.floor((ce.tm_yday+7-ce.tm_wday)/7),2)},"%V":function(ce){var ct=Math.floor((ce.tm_yday+7-(ce.tm_wday+6)%7)/7);if((ce.tm_wday+371-ce.tm_yday-2)%7<=2&&ct++,ct){if(53==ct){var bt=(ce.tm_wday+371-ce.tm_yday)%7;4!=bt&&(3!=bt||!mo(ce.tm_year))&&(ct=1)}}else{ct=52;var It=(ce.tm_wday+7-ce.tm_yday-1)%7;(4==It||5==It&&mo(ce.tm_year%400-1))&&ct++}return M(ct,2)},"%w":function(ce){return ce.tm_wday},"%W":function(ce){return M(Math.floor((ce.tm_yday+7-(ce.tm_wday+6)%7)/7),2)},"%y":function(ce){return(ce.tm_year+1900).toString().substring(2)},"%Y":function(ce){return ce.tm_year+1900},"%z":function(ce){var ct=ce.tm_gmtoff,It=ct>=0;return ct=(ct=Math.abs(ct)/60)/60*100+ct%60,(It?"+":"-")+String("0000"+ct).slice(-4)},"%Z":function(ce){return ce.tm_zone},"%%":function(){return"%"}};for(var ut in we=we.replace(/%%/g,"\0\0"),Le)we.includes(ut)&&(we=we.replace(new RegExp(ut,"g"),Le[ut](be)));var mt=an(we=we.replace(/\0\0/g,"%"),!1);return mt.length>v?0:(function Te(p,v){rt.set(p,v)}(mt,p),mt.length-1)}(p,v,w,k)}},_o=(function Lr(){var p={a:kt};function v(we,Ce){u.asm=we.exports,pe((me=u.asm.r).buffer),function Pr(p){He.unshift(p)}(u.asm.s),fr()}function w(we){v(we.instance)}function k(we){return function wi(){return he||!Ie&&!K||"function"!=typeof fetch?Promise.resolve().then(function(){return io(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+Sn+"'";return p.arrayBuffer()}).catch(function(){return io(Sn)})}().then(function(Ce){return WebAssembly.instantiate(Ce,p)}).then(function(Ce){return Ce}).then(we,function(Ce){W("failed to asynchronously prepare wasm: "+Ce),rr(Ce)})}if(Zr(),u.instantiateWasm)try{return u.instantiateWasm(p,v)}catch(we){W("Module.instantiateWasm callback failed with error: "+we),se(we)}(function j(){return he||"function"!=typeof WebAssembly.instantiateStreaming||ho(Sn)||"function"!=typeof fetch?k(w):fetch(Sn,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,p).then(w,function(ut){return W("wasm streaming compile failed: "+ut),W("falling back to ArrayBuffer instantiation"),k(w)})})})().catch(se)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.s).apply(null,arguments)},u._free=function(){return(u._free=u.asm.t).apply(null,arguments)},u._malloc=function(){return(_o=u._malloc=u.asm.u).apply(null,arguments)}),Hr=u._emscripten_bind_VoidPtr___destroy___0=function(){return(Hr=u._emscripten_bind_VoidPtr___destroy___0=u.asm.v).apply(null,arguments)},Er=u._emscripten_bind_FSTools_FSTools_0=function(){return(Er=u._emscripten_bind_FSTools_FSTools_0=u.asm.w).apply(null,arguments)},qi=u._emscripten_bind_FSTools_Malloc_1=function(){return(qi=u._emscripten_bind_FSTools_Malloc_1=u.asm.x).apply(null,arguments)},oi=u._emscripten_bind_FSTools_Free_1=function(){return(oi=u._emscripten_bind_FSTools_Free_1=u.asm.y).apply(null,arguments)},Ii=u._emscripten_bind_FSTools_Nullptr_0=function(){return(Ii=u._emscripten_bind_FSTools_Nullptr_0=u.asm.z).apply(null,arguments)},Na=u._emscripten_bind_FSTools___destroy___0=function(){return(Na=u._emscripten_bind_FSTools___destroy___0=u.asm.A).apply(null,arguments)},Ts=u._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Ts=u._emscripten_bind_MkfsContext_MkfsContext_0=u.asm.B).apply(null,arguments)},La=u._emscripten_bind_MkfsContext_Mkfs_2=function(){return(La=u._emscripten_bind_MkfsContext_Mkfs_2=u.asm.C).apply(null,arguments)},xs=u._emscripten_bind_MkfsContext_GetImage_0=function(){return(xs=u._emscripten_bind_MkfsContext_GetImage_0=u.asm.D).apply(null,arguments)},ys=u._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(ys=u._emscripten_bind_MkfsContext_GetImageSize_0=u.asm.E).apply(null,arguments)},jr=u._emscripten_bind_MkfsContext___destroy___0=function(){return(jr=u._emscripten_bind_MkfsContext___destroy___0=u.asm.F).apply(null,arguments)},Bn=u._emscripten_bind_FsckContext_FsckContext_1=function(){return(Bn=u._emscripten_bind_FsckContext_FsckContext_1=u.asm.G).apply(null,arguments)},bl=u._emscripten_bind_FsckContext_GetImage_0=function(){return(bl=u._emscripten_bind_FsckContext_GetImage_0=u.asm.H).apply(null,arguments)},$a=u._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return($a=u._emscripten_bind_FsckContext_GetDirtyPages_0=u.asm.I).apply(null,arguments)},Ba=u._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Ba=u._emscripten_bind_FsckContext_GetImageSize_0=u.asm.J).apply(null,arguments)},vt=u._emscripten_bind_FsckContext_Fsck_0=function(){return(vt=u._emscripten_bind_FsckContext_Fsck_0=u.asm.K).apply(null,arguments)},Va=u._emscripten_bind_FsckContext_GetResult_0=function(){return(Va=u._emscripten_bind_FsckContext_GetResult_0=u.asm.L).apply(null,arguments)},Qn=u._emscripten_bind_FsckContext___destroy___0=function(){return(Qn=u._emscripten_bind_FsckContext___destroy___0=u.asm.M).apply(null,arguments)};function Zi(p){function v(){cs||(cs=!0,u.calledRun=!0,!it&&(function Pn(){!u.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,er.init(),In(He)}(),function _r(){In(Ft)}(),le(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),us&&function As(p){var v=u._main;try{var j=v(0,0);return Wi(j),j}catch(be){return function Z(p){if(p instanceof _n||"unwind"==p)return fe;H(1,p)}(be)}}(),function nr(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),Gt.unshift(p);var p;In(Gt)}()))}p=p||ue,Dn>0||(function J(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),_t.unshift(p);var p;In(_t)}(),Dn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),v()},1)):v())}if(u._main=function(){return(u._main=u.asm.N).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.P).apply(null,arguments)},u.___start_em_js=40220,u.___stop_em_js=40318,Fn=function p(){cs||Zi(),cs||(Fn=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var us=!0;function Yr(){}function Ki(p){return(p||Yr).__cache__}function Kt(p,v){var w=Ki(v),k=w[p];return k||((k=Object.create((v||Yr).prototype)).ptr=p,w[p]=k)}u.noInitialRun&&(us=!1),Zi(),(Yr.prototype=Object.create(Yr.prototype)).constructor=Yr,Yr.prototype.__class__=Yr,Yr.__cache__={},u.WrapperObject=Yr,u.getCache=Ki,u.wrapPointer=Kt,u.castObject=function ia(p,v){return Kt(p.ptr,v)},u.NULL=Kt(0),u.destroy=function wl(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete Ki(p.__class__)[p.ptr]},u.compare=function eo(p,v){return p.ptr===v.ptr},u.getPointer=function sa(p){return p.ptr},u.getClass=function ja(p){return p.__class__};var Nn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Nn.needed){for(var p=0;p<Nn.temps.length;p++)u._free(Nn.temps[p]);Nn.temps.length=0,u._free(Nn.buffer),Nn.buffer=0,Nn.size+=Nn.needed,Nn.needed=0}Nn.buffer||(Nn.size+=128,Nn.buffer=u._malloc(Nn.size),Me(Nn.buffer)),Nn.pos=0},alloc:function(p,v){Me(Nn.buffer);var j,k=p.length*v.BYTES_PER_ELEMENT;return Nn.pos+(k=k+7&-8)>=Nn.size?(Me(k>0),Nn.needed+=k,j=u._malloc(k),Nn.temps.push(j)):(j=Nn.buffer+Nn.pos,Nn.pos+=k),j},copy:function(p,v,w){switch(w>>>=0,v.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var j=0;j<p.length;j++)v[w+j]=p[j]}};function Ur(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ur(){this.ptr=Er(),Ki(ur)[this.ptr]=this}function or(){this.ptr=Ts(),Ki(or)[this.ptr]=this}function pn(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Bn(p),Ki(pn)[this.ptr]=this}return(Ur.prototype=Object.create(Yr.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},u.VoidPtr=Ur,Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){Hr(this.ptr)},(ur.prototype=Object.create(Yr.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},u.FSTools=ur,ur.prototype.Malloc=ur.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Kt(qi(this.ptr,p),Ur)},ur.prototype.Free=ur.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),oi(this.ptr,p)},ur.prototype.Nullptr=ur.prototype.Nullptr=function(){return Kt(Ii(this.ptr),Ur)},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){Na(this.ptr)},(or.prototype=Object.create(Yr.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},u.MkfsContext=or,or.prototype.Mkfs=or.prototype.Mkfs=function(p,v){var w=this.ptr;return Nn.prepare(),p&&"object"==typeof p&&(p=p.ptr),v=v&&"object"==typeof v?v.ptr:function cr(p){if("string"==typeof p){var v=an(p),w=Nn.alloc(v,rt);return Nn.copy(v,rt,w),w}return p}(v),!!La(w,p,v)},or.prototype.GetImage=or.prototype.GetImage=function(){return Kt(xs(this.ptr),Ur)},or.prototype.GetImageSize=or.prototype.GetImageSize=function(){return ys(this.ptr)},or.prototype.__destroy__=or.prototype.__destroy__=function(){jr(this.ptr)},(pn.prototype=Object.create(Yr.prototype)).constructor=pn,pn.prototype.__class__=pn,pn.__cache__={},u.FsckContext=pn,pn.prototype.GetImage=pn.prototype.GetImage=function(){return Kt(bl(this.ptr),Ur)},pn.prototype.GetDirtyPages=pn.prototype.GetDirtyPages=function(){return Kt($a(this.ptr),Ur)},pn.prototype.GetImageSize=pn.prototype.GetImageSize=function(){return Ba(this.ptr)},pn.prototype.Fsck=pn.prototype.Fsck=function(){return vt(this.ptr)},pn.prototype.GetResult=pn.prototype.GetResult=function(){return Va(this.ptr)},pn.prototype.__destroy__=pn.prototype.__destroy__=function(){Qn(this.ptr)},T.ready});Ve.exports=We},7971:Ve=>{var R,We=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(T){var le,se,u=typeof(T=T||{})<"u"?T:{};u.ready=new Promise(function(f,g){le=f,se=g});var G,Oe,Ne,q=Object.assign({},u),ue=[],V="./this.program",H=(f,g)=>{throw g},Ie="object"==typeof window,K="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Ie||K)&&(K?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),R&&(B=R),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=f=>{var g=new XMLHttpRequest;return g.open("GET",f,!1),g.send(null),g.responseText},K&&(Ne=f=>{var g=new XMLHttpRequest;return g.open("GET",f,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Oe=(f,g,y)=>{var M=new XMLHttpRequest;M.open("GET",f,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?g(M.response):y()},M.onerror=y,M.send(null)});var he,z=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(ue=u.arguments),u.thisProgram&&(V=u.thisProgram),u.quit&&(H=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Pe=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&rr("no native wasm support detected");var me,fe,it=!1;function Me(f,g){f||rr(g)}var ze,rt,wt,O,_e,xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ue(f,g,y){for(var M=g+y,N=g;f[N]&&!(N>=M);)++N;if(N-g>16&&f.buffer&&xe)return xe.decode(f.subarray(g,N));for(var ne="";g<N;){var ie=f[g++];if(128&ie){var Le=63&f[g++];if(192!=(224&ie)){var mt=63&f[g++];if((ie=224==(240&ie)?(15&ie)<<12|Le<<6|mt:(7&ie)<<18|Le<<12|mt<<6|63&f[g++])<65536)ne+=String.fromCharCode(ie);else{var ce=ie-65536;ne+=String.fromCharCode(55296|ce>>10,56320|1023&ce)}}else ne+=String.fromCharCode((31&ie)<<6|Le)}else ne+=String.fromCharCode(ie)}return ne}function Re(f,g){return f?Ue(wt,f,g):""}function $e(f,g,y,M){if(!(M>0))return 0;for(var N=y,ne=y+M-1,ie=0;ie<f.length;++ie){var Le=f.charCodeAt(ie);if(Le>=55296&&Le<=57343&&(Le=65536+((1023&Le)<<10)|1023&f.charCodeAt(++ie)),Le<=127){if(y>=ne)break;g[y++]=Le}else if(Le<=2047){if(y+1>=ne)break;g[y++]=192|Le>>6,g[y++]=128|63&Le}else if(Le<=65535){if(y+2>=ne)break;g[y++]=224|Le>>12,g[y++]=128|Le>>6&63,g[y++]=128|63&Le}else{if(y+3>=ne)break;g[y++]=240|Le>>18,g[y++]=128|Le>>12&63,g[y++]=128|Le>>6&63,g[y++]=128|63&Le}}return g[y]=0,y-N}function Q(f){for(var g=0,y=0;y<f.length;++y){var M=f.charCodeAt(y);M<=127?g++:M<=2047?g+=2:M>=55296&&M<=57343?(g+=4,++y):g+=3}return g}function pe(f){ze=f,u.HEAP8=rt=new Int8Array(f),u.HEAP16=new Int16Array(f),u.HEAP32=O=new Int32Array(f),u.HEAPU8=wt=new Uint8Array(f),u.HEAPU16=new Uint16Array(f),u.HEAPU32=_e=new Uint32Array(f),u.HEAPF32=new Float32Array(f),u.HEAPF64=new Float64Array(f)}var Sn,lt,de,_t=[],He=[],Ft=[],Gt=[],Dn=0,Ir=null,Fn=null;function Zr(f){Dn++,u.monitorRunDependencies&&u.monitorRunDependencies(Dn)}function fr(f){if(Dn--,u.monitorRunDependencies&&u.monitorRunDependencies(Dn),0==Dn&&(null!==Ir&&(clearInterval(Ir),Ir=null),Fn)){var g=Fn;Fn=null,g()}}function rr(f){u.onAbort&&u.onAbort(f),W(f="Aborted("+f+")"),it=!0,fe=1,f+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(f);throw se(g),g}function ho(f){return f.startsWith("data:application/octet-stream;base64,")}function io(f){try{if(f==Sn&&he)return new Uint8Array(he);if(Ne)return Ne(f);throw"both async and sync fetching of the wasm failed"}catch(g){rr(g)}}function Ge(f){this.name="ExitStatus",this.message="Program terminated with exit("+f+")",this.status=f}function _n(f){for(;f.length>0;)f.shift()(u)}function Ht(f){return f%4==0&&(f%100!=0||f%400==0)}ho(Sn="vfs_web.wasm")||(Sn=function $(f){return u.locateFile?u.locateFile(f,B):B+f}(Sn));var fn=[0,31,60,91,121,152,182,213,244,274,305,335],ir=[0,31,59,90,120,151,181,212,243,273,304,334];function an(f){return(Ht(f.getFullYear())?fn:ir)[f.getMonth()]+f.getDate()-1}function Jt(f){var g=Q(f)+1,y=ve(g);return y&&$e(f,rt,y,g),y}function vr(f){try{return me.grow(f-ze.byteLength+65535>>>16),pe(me.buffer),1}catch{}}var go={};function kr(){if(!kr.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var y in go)void 0===go[y]?delete g[y]:g[y]=go[y];var M=[];for(var y in g)M.push(y+"="+g[y]);kr.strings=M}return kr.strings}var Xt={isAbs:f=>"/"===f.charAt(0),splitPath:f=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1),normalizeArray:(f,g)=>{for(var y=0,M=f.length-1;M>=0;M--){var N=f[M];"."===N?f.splice(M,1):".."===N?(f.splice(M,1),y++):y&&(f.splice(M,1),y--)}if(g)for(;y;y--)f.unshift("..");return f},normalize:f=>{var g=Xt.isAbs(f),y="/"===f.substr(-1);return!(f=Xt.normalizeArray(f.split("/").filter(M=>!!M),!g).join("/"))&&!g&&(f="."),f&&y&&(f+="/"),(g?"/":"")+f},dirname:f=>{var g=Xt.splitPath(f),y=g[0],M=g[1];return y||M?(M&&(M=M.substr(0,M.length-1)),y+M):"."},basename:f=>{if("/"===f)return"/";var g=(f=(f=Xt.normalize(f)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?f:f.substr(g+1)},join:function(){var f=Array.prototype.slice.call(arguments);return Xt.normalize(f.join("/"))},join2:(f,g)=>Xt.normalize(f+"/"+g)},ar={resolve:function(){for(var f="",g=!1,y=arguments.length-1;y>=-1&&!g;y--){var M=y>=0?arguments[y]:D.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";f=M+"/"+f,g=Xt.isAbs(M)}return(g?"/":"")+(f=Xt.normalizeArray(f.split("/").filter(N=>!!N),!g).join("/"))||"."},relative:(f,g)=>{function y(ce){for(var ct=0;ct<ce.length&&""===ce[ct];ct++);for(var It=ce.length-1;It>=0&&""===ce[It];It--);return ct>It?[]:ce.slice(ct,It-ct+1)}f=ar.resolve(f).substr(1),g=ar.resolve(g).substr(1);for(var M=y(f.split("/")),N=y(g.split("/")),ne=Math.min(M.length,N.length),ie=ne,Le=0;Le<ne;Le++)if(M[Le]!==N[Le]){ie=Le;break}var mt=[];for(Le=ie;Le<M.length;Le++)mt.push("..");return(mt=mt.concat(N.slice(ie))).join("/")}};function ao(f,g,y){var M=y>0?y:Q(f)+1,N=new Array(M),ne=$e(f,N,0,N.length);return g&&(N.length=ne),N}var lo={ttys:[],init:function(){},shutdown:function(){},register:function(f,g){lo.ttys[f]={input:[],output:[],ops:g},D.registerDevice(f,lo.stream_ops)},stream_ops:{open:function(f){var g=lo.ttys[f.node.rdev];if(!g)throw new D.ErrnoError(43);f.tty=g,f.seekable=!1},close:function(f){f.tty.ops.fsync(f.tty)},fsync:function(f){f.tty.ops.fsync(f.tty)},read:function(f,g,y,M,N){if(!f.tty||!f.tty.ops.get_char)throw new D.ErrnoError(60);for(var ne=0,ie=0;ie<M;ie++){var Le;try{Le=f.tty.ops.get_char(f.tty)}catch{throw new D.ErrnoError(29)}if(void 0===Le&&0===ne)throw new D.ErrnoError(6);if(null==Le)break;ne++,g[y+ie]=Le}return ne&&(f.node.timestamp=Date.now()),ne},write:function(f,g,y,M,N){if(!f.tty||!f.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var ne=0;ne<M;ne++)f.tty.ops.put_char(f.tty,g[y+ne])}catch{throw new D.ErrnoError(29)}return M&&(f.node.timestamp=Date.now()),ne}},default_tty_ops:{get_char:function(f){if(!f.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;f.input=ao(g,!0)}return f.input.shift()},put_char:function(f,g){null===g||10===g?(z(Ue(f.output,0)),f.output=[]):0!=g&&f.output.push(g)},fsync:function(f){f.output&&f.output.length>0&&(z(Ue(f.output,0)),f.output=[])}},default_tty1_ops:{put_char:function(f,g){null===g||10===g?(W(Ue(f.output,0)),f.output=[]):0!=g&&f.output.push(g)},fsync:function(f){f.output&&f.output.length>0&&(W(Ue(f.output,0)),f.output=[])}}};function ti(f){rr()}var rn={ops_table:null,mount:function(f){return rn.createNode(null,"/",16895,0)},createNode:function(f,g,y,M){if(D.isBlkdev(y)||D.isFIFO(y))throw new D.ErrnoError(63);rn.ops_table||(rn.ops_table={dir:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr,lookup:rn.node_ops.lookup,mknod:rn.node_ops.mknod,rename:rn.node_ops.rename,unlink:rn.node_ops.unlink,rmdir:rn.node_ops.rmdir,readdir:rn.node_ops.readdir,symlink:rn.node_ops.symlink},stream:{llseek:rn.stream_ops.llseek}},file:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr},stream:{llseek:rn.stream_ops.llseek,read:rn.stream_ops.read,write:rn.stream_ops.write,allocate:rn.stream_ops.allocate,mmap:rn.stream_ops.mmap,msync:rn.stream_ops.msync}},link:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr,readlink:rn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:rn.node_ops.getattr,setattr:rn.node_ops.setattr},stream:D.chrdev_stream_ops}});var N=D.createNode(f,g,y,M);return D.isDir(N.mode)?(N.node_ops=rn.ops_table.dir.node,N.stream_ops=rn.ops_table.dir.stream,N.contents={}):D.isFile(N.mode)?(N.node_ops=rn.ops_table.file.node,N.stream_ops=rn.ops_table.file.stream,N.usedBytes=0,N.contents=null):D.isLink(N.mode)?(N.node_ops=rn.ops_table.link.node,N.stream_ops=rn.ops_table.link.stream):D.isChrdev(N.mode)&&(N.node_ops=rn.ops_table.chrdev.node,N.stream_ops=rn.ops_table.chrdev.stream),N.timestamp=Date.now(),f&&(f.contents[g]=N,f.timestamp=N.timestamp),N},getFileDataAsTypedArray:function(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage:function(f,g){var y=f.contents?f.contents.length:0;if(!(y>=g)){g=Math.max(g,y*(y<1048576?2:1.125)>>>0),0!=y&&(g=Math.max(g,256));var N=f.contents;f.contents=new Uint8Array(g),f.usedBytes>0&&f.contents.set(N.subarray(0,f.usedBytes),0)}},resizeFileStorage:function(f,g){if(f.usedBytes!=g)if(0==g)f.contents=null,f.usedBytes=0;else{var y=f.contents;f.contents=new Uint8Array(g),y&&f.contents.set(y.subarray(0,Math.min(g,f.usedBytes))),f.usedBytes=g}},node_ops:{getattr:function(f){var g={};return g.dev=D.isChrdev(f.mode)?f.id:1,g.ino=f.id,g.mode=f.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=f.rdev,g.size=D.isDir(f.mode)?4096:D.isFile(f.mode)?f.usedBytes:D.isLink(f.mode)?f.link.length:0,g.atime=new Date(f.timestamp),g.mtime=new Date(f.timestamp),g.ctime=new Date(f.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(f,g){void 0!==g.mode&&(f.mode=g.mode),void 0!==g.timestamp&&(f.timestamp=g.timestamp),void 0!==g.size&&rn.resizeFileStorage(f,g.size)},lookup:function(f,g){throw D.genericErrors[44]},mknod:function(f,g,y,M){return rn.createNode(f,g,y,M)},rename:function(f,g,y){if(D.isDir(f.mode)){var M;try{M=D.lookupNode(g,y)}catch{}if(M)for(var N in M.contents)throw new D.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=y,g.contents[y]=f,g.timestamp=f.parent.timestamp,f.parent=g},unlink:function(f,g){delete f.contents[g],f.timestamp=Date.now()},rmdir:function(f,g){var y=D.lookupNode(f,g);for(var M in y.contents)throw new D.ErrnoError(55);delete f.contents[g],f.timestamp=Date.now()},readdir:function(f){var g=[".",".."];for(var y in f.contents)!f.contents.hasOwnProperty(y)||g.push(y);return g},symlink:function(f,g,y){var M=rn.createNode(f,g,41471,0);return M.link=y,M},readlink:function(f){if(!D.isLink(f.mode))throw new D.ErrnoError(28);return f.link}},stream_ops:{read:function(f,g,y,M,N){var ne=f.node.contents;if(N>=f.node.usedBytes)return 0;var ie=Math.min(f.node.usedBytes-N,M);if(ie>8&&ne.subarray)g.set(ne.subarray(N,N+ie),y);else for(var Le=0;Le<ie;Le++)g[y+Le]=ne[N+Le];return ie},write:function(f,g,y,M,N,ne){if(g.buffer===rt.buffer&&(ne=!1),!M)return 0;var ie=f.node;if(ie.timestamp=Date.now(),g.subarray&&(!ie.contents||ie.contents.subarray)){if(ne)return ie.contents=g.subarray(y,y+M),ie.usedBytes=M,M;if(0===ie.usedBytes&&0===N)return ie.contents=g.slice(y,y+M),ie.usedBytes=M,M;if(N+M<=ie.usedBytes)return ie.contents.set(g.subarray(y,y+M),N),M}if(rn.expandFileStorage(ie,N+M),ie.contents.subarray&&g.subarray)ie.contents.set(g.subarray(y,y+M),N);else for(var Le=0;Le<M;Le++)ie.contents[N+Le]=g[y+Le];return ie.usedBytes=Math.max(ie.usedBytes,N+M),M},llseek:function(f,g,y){var M=g;if(1===y?M+=f.position:2===y&&D.isFile(f.node.mode)&&(M+=f.node.usedBytes),M<0)throw new D.ErrnoError(28);return M},allocate:function(f,g,y){rn.expandFileStorage(f.node,g+y),f.node.usedBytes=Math.max(f.node.usedBytes,g+y)},mmap:function(f,g,y,M,N){if(!D.isFile(f.node.mode))throw new D.ErrnoError(43);var ne,ie,Le=f.node.contents;if(2&N||Le.buffer!==ze){if((y>0||y+g<Le.length)&&(Le=Le.subarray?Le.subarray(y,y+g):Array.prototype.slice.call(Le,y,y+g)),ie=!0,!(ne=ti()))throw new D.ErrnoError(48);rt.set(Le,ne)}else ie=!1,ne=Le.byteOffset;return{ptr:ne,allocated:ie}},msync:function(f,g,y,M,N){return rn.stream_ops.write(f,g,0,M,y,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(f,g={})=>{if(!(f=ar.resolve(f)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new D.ErrnoError(32);for(var M=f.split("/").filter(It=>!!It),N=D.root,ne="/",ie=0;ie<M.length;ie++){var Le=ie===M.length-1;if(Le&&g.parent)break;if(N=D.lookupNode(N,M[ie]),ne=Xt.join2(ne,M[ie]),D.isMountpoint(N)&&(!Le||Le&&g.follow_mount)&&(N=N.mounted.root),!Le||g.follow)for(var mt=0;D.isLink(N.mode);){var ce=D.readlink(ne);if(ne=ar.resolve(Xt.dirname(ne),ce),N=D.lookupPath(ne,{recurse_count:g.recurse_count+1}).node,mt++>40)throw new D.ErrnoError(32)}}return{path:ne,node:N}},getPath:f=>{for(var g;;){if(D.isRoot(f)){var y=f.mount.mountpoint;return g?"/"!==y[y.length-1]?y+"/"+g:y+g:y}g=g?f.name+"/"+g:f.name,f=f.parent}},hashName:(f,g)=>{for(var y=0,M=0;M<g.length;M++)y=(y<<5)-y+g.charCodeAt(M)|0;return(f+y>>>0)%D.nameTable.length},hashAddNode:f=>{var g=D.hashName(f.parent.id,f.name);f.name_next=D.nameTable[g],D.nameTable[g]=f},hashRemoveNode:f=>{var g=D.hashName(f.parent.id,f.name);if(D.nameTable[g]===f)D.nameTable[g]=f.name_next;else for(var y=D.nameTable[g];y;){if(y.name_next===f){y.name_next=f.name_next;break}y=y.name_next}},lookupNode:(f,g)=>{var y=D.mayLookup(f);if(y)throw new D.ErrnoError(y,f);for(var M=D.hashName(f.id,g),N=D.nameTable[M];N;N=N.name_next)if(N.parent.id===f.id&&N.name===g)return N;return D.lookup(f,g)},createNode:(f,g,y,M)=>{var N=new D.FSNode(f,g,y,M);return D.hashAddNode(N),N},destroyNode:f=>{D.hashRemoveNode(f)},isRoot:f=>f===f.parent,isMountpoint:f=>!!f.mounted,isFile:f=>32768==(61440&f),isDir:f=>16384==(61440&f),isLink:f=>40960==(61440&f),isChrdev:f=>8192==(61440&f),isBlkdev:f=>24576==(61440&f),isFIFO:f=>4096==(61440&f),isSocket:f=>49152==(49152&f),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:f=>{var g=D.flagModes[f];if(typeof g>"u")throw new Error("Unknown file open mode: "+f);return g},flagsToPermissionString:f=>{var g=["r","w","rw"][3&f];return 512&f&&(g+="w"),g},nodePermissions:(f,g)=>D.ignorePermissions?0:g.includes("r")&&!(292&f.mode)||g.includes("w")&&!(146&f.mode)||g.includes("x")&&!(73&f.mode)?2:0,mayLookup:f=>D.nodePermissions(f,"x")||(f.node_ops.lookup?0:2),mayCreate:(f,g)=>{try{return D.lookupNode(f,g),20}catch{}return D.nodePermissions(f,"wx")},mayDelete:(f,g,y)=>{var M;try{M=D.lookupNode(f,g)}catch(ne){return ne.errno}var N=D.nodePermissions(f,"wx");if(N)return N;if(y){if(!D.isDir(M.mode))return 54;if(D.isRoot(M)||D.getPath(M)===D.cwd())return 10}else if(D.isDir(M.mode))return 31;return 0},mayOpen:(f,g)=>f?D.isLink(f.mode)?32:D.isDir(f.mode)&&("r"!==D.flagsToPermissionString(g)||512&g)?31:D.nodePermissions(f,D.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(f=0,g=D.MAX_OPEN_FDS)=>{for(var y=f;y<=g;y++)if(!D.streams[y])return y;throw new D.ErrnoError(33)},getStream:f=>D.streams[f],createStream:(f,g,y)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(N){this.node=N}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(N){this.shared.flags=N}},position:{get:function(){return this.shared.position},set:function(N){this.shared.position=N}}})),f=Object.assign(new D.FSStream,f);var M=D.nextfd(g,y);return f.fd=M,D.streams[M]=f,f},closeStream:f=>{D.streams[f]=null},chrdev_stream_ops:{open:f=>{var g=D.getDevice(f.node.rdev);f.stream_ops=g.stream_ops,f.stream_ops.open&&f.stream_ops.open(f)},llseek:()=>{throw new D.ErrnoError(70)}},major:f=>f>>8,minor:f=>255&f,makedev:(f,g)=>f<<8|g,registerDevice:(f,g)=>{D.devices[f]={stream_ops:g}},getDevice:f=>D.devices[f],getMounts:f=>{for(var g=[],y=[f];y.length;){var M=y.pop();g.push(M),y.push.apply(y,M.mounts)}return g},syncfs:(f,g)=>{"function"==typeof f&&(g=f,f=!1),D.syncFSRequests++,D.syncFSRequests>1&&W("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var y=D.getMounts(D.root.mount),M=0;function N(ie){return D.syncFSRequests--,g(ie)}function ne(ie){if(ie)return ne.errored?void 0:(ne.errored=!0,N(ie));++M>=y.length&&N(null)}y.forEach(ie=>{if(!ie.type.syncfs)return ne(null);ie.type.syncfs(ie,f,ne)})},mount:(f,g,y)=>{var ne,M="/"===y,N=!y;if(M&&D.root)throw new D.ErrnoError(10);if(!M&&!N){var ie=D.lookupPath(y,{follow_mount:!1});if(y=ie.path,D.isMountpoint(ne=ie.node))throw new D.ErrnoError(10);if(!D.isDir(ne.mode))throw new D.ErrnoError(54)}var Le={type:f,opts:g,mountpoint:y,mounts:[]},mt=f.mount(Le);return mt.mount=Le,Le.root=mt,M?D.root=mt:ne&&(ne.mounted=Le,ne.mount&&ne.mount.mounts.push(Le)),mt},unmount:f=>{var g=D.lookupPath(f,{follow_mount:!1});if(!D.isMountpoint(g.node))throw new D.ErrnoError(28);var y=g.node,M=y.mounted,N=D.getMounts(M);Object.keys(D.nameTable).forEach(ie=>{for(var Le=D.nameTable[ie];Le;){var mt=Le.name_next;N.includes(Le.mount)&&D.destroyNode(Le),Le=mt}}),y.mounted=null;var ne=y.mount.mounts.indexOf(M);y.mount.mounts.splice(ne,1)},lookup:(f,g)=>f.node_ops.lookup(f,g),mknod:(f,g,y)=>{var N=D.lookupPath(f,{parent:!0}).node,ne=Xt.basename(f);if(!ne||"."===ne||".."===ne)throw new D.ErrnoError(28);var ie=D.mayCreate(N,ne);if(ie)throw new D.ErrnoError(ie);if(!N.node_ops.mknod)throw new D.ErrnoError(63);return N.node_ops.mknod(N,ne,g,y)},create:(f,g)=>(g=void 0!==g?g:438,g&=4095,D.mknod(f,g|=32768,0)),mkdir:(f,g)=>(g=void 0!==g?g:511,g&=1023,D.mknod(f,g|=16384,0)),mkdirTree:(f,g)=>{for(var y=f.split("/"),M="",N=0;N<y.length;++N)if(y[N]){M+="/"+y[N];try{D.mkdir(M,g)}catch(ne){if(20!=ne.errno)throw ne}}},mkdev:(f,g,y)=>(typeof y>"u"&&(y=g,g=438),D.mknod(f,g|=8192,y)),symlink:(f,g)=>{if(!ar.resolve(f))throw new D.ErrnoError(44);var M=D.lookupPath(g,{parent:!0}).node;if(!M)throw new D.ErrnoError(44);var N=Xt.basename(g),ne=D.mayCreate(M,N);if(ne)throw new D.ErrnoError(ne);if(!M.node_ops.symlink)throw new D.ErrnoError(63);return M.node_ops.symlink(M,N,f)},rename:(f,g)=>{var Le,mt,y=Xt.dirname(f),M=Xt.dirname(g),N=Xt.basename(f),ne=Xt.basename(g);if(Le=D.lookupPath(f,{parent:!0}).node,mt=D.lookupPath(g,{parent:!0}).node,!Le||!mt)throw new D.ErrnoError(44);if(Le.mount!==mt.mount)throw new D.ErrnoError(75);var It,ce=D.lookupNode(Le,N),ct=ar.relative(f,M);if("."!==ct.charAt(0))throw new D.ErrnoError(28);if("."!==(ct=ar.relative(g,y)).charAt(0))throw new D.ErrnoError(55);try{It=D.lookupNode(mt,ne)}catch{}if(ce!==It){var bt=D.isDir(ce.mode),Et=D.mayDelete(Le,N,bt);if(Et)throw new D.ErrnoError(Et);if(Et=It?D.mayDelete(mt,ne,bt):D.mayCreate(mt,ne))throw new D.ErrnoError(Et);if(!Le.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(ce)||It&&D.isMountpoint(It))throw new D.ErrnoError(10);if(mt!==Le&&(Et=D.nodePermissions(Le,"w")))throw new D.ErrnoError(Et);D.hashRemoveNode(ce);try{Le.node_ops.rename(ce,mt,ne)}catch(zt){throw zt}finally{D.hashAddNode(ce)}}},rmdir:f=>{var y=D.lookupPath(f,{parent:!0}).node,M=Xt.basename(f),N=D.lookupNode(y,M),ne=D.mayDelete(y,M,!0);if(ne)throw new D.ErrnoError(ne);if(!y.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(N))throw new D.ErrnoError(10);y.node_ops.rmdir(y,M),D.destroyNode(N)},readdir:f=>{var y=D.lookupPath(f,{follow:!0}).node;if(!y.node_ops.readdir)throw new D.ErrnoError(54);return y.node_ops.readdir(y)},unlink:f=>{var y=D.lookupPath(f,{parent:!0}).node;if(!y)throw new D.ErrnoError(44);var M=Xt.basename(f),N=D.lookupNode(y,M),ne=D.mayDelete(y,M,!1);if(ne)throw new D.ErrnoError(ne);if(!y.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(N))throw new D.ErrnoError(10);y.node_ops.unlink(y,M),D.destroyNode(N)},readlink:f=>{var y=D.lookupPath(f).node;if(!y)throw new D.ErrnoError(44);if(!y.node_ops.readlink)throw new D.ErrnoError(28);return ar.resolve(D.getPath(y.parent),y.node_ops.readlink(y))},stat:(f,g)=>{var M=D.lookupPath(f,{follow:!g}).node;if(!M)throw new D.ErrnoError(44);if(!M.node_ops.getattr)throw new D.ErrnoError(63);return M.node_ops.getattr(M)},lstat:f=>D.stat(f,!0),chmod:(f,g,y)=>{var M;if(!(M="string"==typeof f?D.lookupPath(f,{follow:!y}).node:f).node_ops.setattr)throw new D.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&g|-4096&M.mode,timestamp:Date.now()})},lchmod:(f,g)=>{D.chmod(f,g,!0)},fchmod:(f,g)=>{var y=D.getStream(f);if(!y)throw new D.ErrnoError(8);D.chmod(y.node,g)},chown:(f,g,y,M)=>{var N;if(!(N="string"==typeof f?D.lookupPath(f,{follow:!M}).node:f).node_ops.setattr)throw new D.ErrnoError(63);N.node_ops.setattr(N,{timestamp:Date.now()})},lchown:(f,g,y)=>{D.chown(f,g,y,!0)},fchown:(f,g,y)=>{var M=D.getStream(f);if(!M)throw new D.ErrnoError(8);D.chown(M.node,g,y)},truncate:(f,g)=>{if(g<0)throw new D.ErrnoError(28);var y;if(!(y="string"==typeof f?D.lookupPath(f,{follow:!0}).node:f).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(y.mode))throw new D.ErrnoError(31);if(!D.isFile(y.mode))throw new D.ErrnoError(28);var N=D.nodePermissions(y,"w");if(N)throw new D.ErrnoError(N);y.node_ops.setattr(y,{size:g,timestamp:Date.now()})},ftruncate:(f,g)=>{var y=D.getStream(f);if(!y)throw new D.ErrnoError(8);if(0==(2097155&y.flags))throw new D.ErrnoError(28);D.truncate(y.node,g)},utime:(f,g,y)=>{var N=D.lookupPath(f,{follow:!0}).node;N.node_ops.setattr(N,{timestamp:Math.max(g,y)})},open:(f,g,y)=>{if(""===f)throw new D.ErrnoError(44);var M;if(y=typeof y>"u"?438:y,y=64&(g="string"==typeof g?D.modeStringToFlags(g):g)?4095&y|32768:0,"object"==typeof f)M=f;else{f=Xt.normalize(f);try{M=D.lookupPath(f,{follow:!(131072&g)}).node}catch{}}var ne=!1;if(64&g)if(M){if(128&g)throw new D.ErrnoError(20)}else M=D.mknod(f,y,0),ne=!0;if(!M)throw new D.ErrnoError(44);if(D.isChrdev(M.mode)&&(g&=-513),65536&g&&!D.isDir(M.mode))throw new D.ErrnoError(54);if(!ne){var ie=D.mayOpen(M,g);if(ie)throw new D.ErrnoError(ie)}512&g&&!ne&&D.truncate(M,0),g&=-131713;var Le=D.createStream({node:M,path:D.getPath(M),flags:g,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return Le.stream_ops.open&&Le.stream_ops.open(Le),u.logReadFiles&&!(1&g)&&(D.readFiles||(D.readFiles={}),f in D.readFiles||(D.readFiles[f]=1)),Le},close:f=>{if(D.isClosed(f))throw new D.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(g){throw g}finally{D.closeStream(f.fd)}f.fd=null},isClosed:f=>null===f.fd,llseek:(f,g,y)=>{if(D.isClosed(f))throw new D.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=y&&1!=y&&2!=y)throw new D.ErrnoError(28);return f.position=f.stream_ops.llseek(f,g,y),f.ungotten=[],f.position},read:(f,g,y,M,N)=>{if(M<0||N<0)throw new D.ErrnoError(28);if(D.isClosed(f))throw new D.ErrnoError(8);if(1==(2097155&f.flags))throw new D.ErrnoError(8);if(D.isDir(f.node.mode))throw new D.ErrnoError(31);if(!f.stream_ops.read)throw new D.ErrnoError(28);var ne=typeof N<"u";if(ne){if(!f.seekable)throw new D.ErrnoError(70)}else N=f.position;var ie=f.stream_ops.read(f,g,y,M,N);return ne||(f.position+=ie),ie},write:(f,g,y,M,N,ne)=>{if(M<0||N<0)throw new D.ErrnoError(28);if(D.isClosed(f))throw new D.ErrnoError(8);if(0==(2097155&f.flags))throw new D.ErrnoError(8);if(D.isDir(f.node.mode))throw new D.ErrnoError(31);if(!f.stream_ops.write)throw new D.ErrnoError(28);f.seekable&&1024&f.flags&&D.llseek(f,0,2);var ie=typeof N<"u";if(ie){if(!f.seekable)throw new D.ErrnoError(70)}else N=f.position;var Le=f.stream_ops.write(f,g,y,M,N,ne);return ie||(f.position+=Le),Le},allocate:(f,g,y)=>{if(D.isClosed(f))throw new D.ErrnoError(8);if(g<0||y<=0)throw new D.ErrnoError(28);if(0==(2097155&f.flags))throw new D.ErrnoError(8);if(!D.isFile(f.node.mode)&&!D.isDir(f.node.mode))throw new D.ErrnoError(43);if(!f.stream_ops.allocate)throw new D.ErrnoError(138);f.stream_ops.allocate(f,g,y)},mmap:(f,g,y,M,N)=>{if(0!=(2&M)&&0==(2&N)&&2!=(2097155&f.flags))throw new D.ErrnoError(2);if(1==(2097155&f.flags))throw new D.ErrnoError(2);if(!f.stream_ops.mmap)throw new D.ErrnoError(43);return f.stream_ops.mmap(f,g,y,M,N)},msync:(f,g,y,M,N)=>f.stream_ops.msync?f.stream_ops.msync(f,g,y,M,N):0,munmap:f=>0,ioctl:(f,g,y)=>{if(!f.stream_ops.ioctl)throw new D.ErrnoError(59);return f.stream_ops.ioctl(f,g,y)},readFile:(f,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var y,M=D.open(f,g.flags),ne=D.stat(f).size,ie=new Uint8Array(ne);return D.read(M,ie,0,ne,0),"utf8"===g.encoding?y=Ue(ie,0):"binary"===g.encoding&&(y=ie),D.close(M),y},writeFile:(f,g,y={})=>{y.flags=y.flags||577;var M=D.open(f,y.flags,y.mode);if("string"==typeof g){var N=new Uint8Array(Q(g)+1),ne=$e(g,N,0,N.length);D.write(M,N,0,ne,void 0,y.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");D.write(M,g,0,g.byteLength,void 0,y.canOwn)}D.close(M)},cwd:()=>D.currentPath,chdir:f=>{var g=D.lookupPath(f,{follow:!0});if(null===g.node)throw new D.ErrnoError(44);if(!D.isDir(g.node.mode))throw new D.ErrnoError(54);var y=D.nodePermissions(g.node,"x");if(y)throw new D.ErrnoError(y);D.currentPath=g.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(g,y,M,N,ne)=>N}),D.mkdev("/dev/null",D.makedev(1,3)),lo.register(D.makedev(5,0),lo.default_tty_ops),lo.register(D.makedev(6,0),lo.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var f=function so(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var f=new Uint8Array(1);return()=>(crypto.getRandomValues(f),f[0])}return()=>rr("randomDevice")}();D.createDevice("/dev","random",f),D.createDevice("/dev","urandom",f),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var f=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var g=D.createNode(f,"fd",16895,73);return g.node_ops={lookup:(y,M)=>{var ne=D.getStream(+M);if(!ne)throw new D.ErrnoError(8);var ie={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ne.path}};return ie.parent=ie,ie}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?D.createDevice("/dev","stdin",u.stdin):D.symlink("/dev/tty","/dev/stdin"),u.stdout?D.createDevice("/dev","stdout",null,u.stdout):D.symlink("/dev/tty","/dev/stdout"),u.stderr?D.createDevice("/dev","stderr",null,u.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(g,y){this.node=y,this.setErrno=function(M){this.errno=M},this.setErrno(g),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(f=>{D.genericErrors[f]=new D.ErrnoError(f),D.genericErrors[f].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(rn,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:rn}},init:(f,g,y)=>{D.init.initialized=!0,D.ensureErrnoError(),u.stdin=f||u.stdin,u.stdout=g||u.stdout,u.stderr=y||u.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var f=0;f<D.streams.length;f++){var g=D.streams[f];!g||D.close(g)}},getMode:(f,g)=>{var y=0;return f&&(y|=365),g&&(y|=146),y},findObject:(f,g)=>{var y=D.analyzePath(f,g);return y.exists?y.object:null},analyzePath:(f,g)=>{try{f=(y=D.lookupPath(f,{follow:!g})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var y=D.lookupPath(f,{parent:!0});M.parentExists=!0,M.parentPath=y.path,M.parentObject=y.node,M.name=Xt.basename(f),y=D.lookupPath(f,{follow:!g}),M.exists=!0,M.path=y.path,M.object=y.node,M.name=y.node.name,M.isRoot="/"===y.path}catch(N){M.error=N.errno}return M},createPath:(f,g,y,M)=>{f="string"==typeof f?f:D.getPath(f);for(var N=g.split("/").reverse();N.length;){var ne=N.pop();if(ne){var ie=Xt.join2(f,ne);try{D.mkdir(ie)}catch{}f=ie}}return ie},createFile:(f,g,y,M,N)=>{var ne=Xt.join2("string"==typeof f?f:D.getPath(f),g),ie=D.getMode(M,N);return D.create(ne,ie)},createDataFile:(f,g,y,M,N,ne)=>{var ie=g;f&&(f="string"==typeof f?f:D.getPath(f),ie=g?Xt.join2(f,g):f);var Le=D.getMode(M,N),mt=D.create(ie,Le);if(y){if("string"==typeof y){for(var ce=new Array(y.length),ct=0,It=y.length;ct<It;++ct)ce[ct]=y.charCodeAt(ct);y=ce}D.chmod(mt,146|Le);var bt=D.open(mt,577);D.write(bt,y,0,y.length,0,ne),D.close(bt),D.chmod(mt,Le)}return mt},createDevice:(f,g,y,M)=>{var N=Xt.join2("string"==typeof f?f:D.getPath(f),g),ne=D.getMode(!!y,!!M);D.createDevice.major||(D.createDevice.major=64);var ie=D.makedev(D.createDevice.major++,0);return D.registerDevice(ie,{open:Le=>{Le.seekable=!1},close:Le=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(Le,mt,ce,ct,It)=>{for(var bt=0,Et=0;Et<ct;Et++){var zt;try{zt=y()}catch{throw new D.ErrnoError(29)}if(void 0===zt&&0===bt)throw new D.ErrnoError(6);if(null==zt)break;bt++,mt[ce+Et]=zt}return bt&&(Le.node.timestamp=Date.now()),bt},write:(Le,mt,ce,ct,It)=>{for(var bt=0;bt<ct;bt++)try{M(mt[ce+bt])}catch{throw new D.ErrnoError(29)}return ct&&(Le.node.timestamp=Date.now()),bt}}),D.mkdev(N,ne,ie)},forceLoadFile:f=>{if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{f.contents=ao(G(f.url),!0),f.usedBytes=f.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(f,g,y,M,N)=>{function ne(){this.lengthKnown=!1,this.chunks=[]}if(ne.prototype.get=function(Et){if(!(Et>this.length-1||Et<0)){var zt=Et%this.chunkSize;return this.getter(Et/this.chunkSize|0)[zt]}},ne.prototype.setDataGetter=function(Et){this.getter=Et},ne.prototype.cacheLength=function(){var Et=new XMLHttpRequest;if(Et.open("HEAD",y,!1),Et.send(null),!(Et.status>=200&&Et.status<300||304===Et.status))throw new Error("Couldn't load "+y+". Status: "+Et.status);var Gn,zt=Number(Et.getResponseHeader("Content-length")),Dr=(Gn=Et.getResponseHeader("Accept-Ranges"))&&"bytes"===Gn,St=(Gn=Et.getResponseHeader("Content-Encoding"))&&"gzip"===Gn,qe=1048576;Dr||(qe=zt);var Yn=this;Yn.setDataGetter(Kn=>{var tr=Kn*qe,mr=(Kn+1)*qe-1;if(mr=Math.min(mr,zt-1),typeof Yn.chunks[Kn]>"u"&&(Yn.chunks[Kn]=((Kn,tr)=>{if(Kn>tr)throw new Error("invalid range ("+Kn+", "+tr+") or no bytes requested!");if(tr>zt-1)throw new Error("only "+zt+" bytes available! programmer error!");var mr=new XMLHttpRequest;if(mr.open("GET",y,!1),zt!==qe&&mr.setRequestHeader("Range","bytes="+Kn+"-"+tr),mr.responseType="arraybuffer",mr.overrideMimeType&&mr.overrideMimeType("text/plain; charset=x-user-defined"),mr.send(null),!(mr.status>=200&&mr.status<300||304===mr.status))throw new Error("Couldn't load "+y+". Status: "+mr.status);return void 0!==mr.response?new Uint8Array(mr.response||[]):ao(mr.responseText||"",!0)})(tr,mr)),typeof Yn.chunks[Kn]>"u")throw new Error("doXHR failed!");return Yn.chunks[Kn]}),(St||!zt)&&(qe=zt=1,zt=this.getter(0).length,qe=zt,z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=zt,this._chunkSize=qe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!K)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ie=new ne;Object.defineProperties(ie,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Le={isDevice:!1,contents:ie}}else Le={isDevice:!1,url:y};var mt=D.createFile(f,g,Le,M,N);Le.contents?mt.contents=Le.contents:Le.url&&(mt.contents=null,mt.url=Le.url),Object.defineProperties(mt,{usedBytes:{get:function(){return this.contents.length}}});var ce={};function It(bt,Et,zt,Gn,Dr){var St=bt.node.contents;if(Dr>=St.length)return 0;var qe=Math.min(St.length-Dr,Gn);if(St.slice)for(var Tt=0;Tt<qe;Tt++)Et[zt+Tt]=St[Dr+Tt];else for(Tt=0;Tt<qe;Tt++)Et[zt+Tt]=St.get(Dr+Tt);return qe}return Object.keys(mt.stream_ops).forEach(bt=>{var Et=mt.stream_ops[bt];ce[bt]=function(){return D.forceLoadFile(mt),Et.apply(null,arguments)}}),ce.read=(bt,Et,zt,Gn,Dr)=>(D.forceLoadFile(mt),It(bt,Et,zt,Gn,Dr)),ce.mmap=(bt,Et,zt,Gn,Dr)=>{D.forceLoadFile(mt);var St=ti();if(!St)throw new D.ErrnoError(48);return It(bt,rt,St,Et,zt),{ptr:St,allocated:!0}},mt.stream_ops=ce,mt},createPreloadedFile:(f,g,y,M,N,ne,ie,Le,mt,ce)=>{var ct=g?ar.resolve(Xt.join2(f,g)):f;function bt(Et){function zt(Gn){ce&&ce(),Le||D.createDataFile(f,g,Gn,M,N,mt),ne&&ne(),fr()}Browser.handledByPreloadPlugin(Et,ct,zt,()=>{ie&&ie(),fr()})||zt(Et)}Zr(),"string"==typeof y?function Io(f,g,y,M){var N=M?"":"al "+f;Oe(f,ne=>{Me(ne,'Loading data file "'+f+'" failed (no arrayBuffer).'),g(new Uint8Array(ne)),N&&fr()},ne=>{if(!y)throw'Loading data file "'+f+'" failed.';y()}),N&&Zr()}(y,Et=>bt(Et),ie):bt(y)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(f,g,y)=>{g=g||(()=>{}),y=y||(()=>{});var M=D.indexedDB();try{var N=M.open(D.DB_NAME(),D.DB_VERSION)}catch(ne){return y(ne)}N.onupgradeneeded=()=>{z("creating db"),N.result.createObjectStore(D.DB_STORE_NAME)},N.onsuccess=()=>{var ie=N.result.transaction([D.DB_STORE_NAME],"readwrite"),Le=ie.objectStore(D.DB_STORE_NAME),mt=0,ce=0,ct=f.length;function It(){0==ce?g():y()}f.forEach(bt=>{var Et=Le.put(D.analyzePath(bt).object.contents,bt);Et.onsuccess=()=>{++mt+ce==ct&&It()},Et.onerror=()=>{ce++,mt+ce==ct&&It()}}),ie.onerror=y},N.onerror=y},loadFilesFromDB:(f,g,y)=>{g=g||(()=>{}),y=y||(()=>{});var M=D.indexedDB();try{var N=M.open(D.DB_NAME(),D.DB_VERSION)}catch(ne){return y(ne)}N.onupgradeneeded=y,N.onsuccess=()=>{var ne=N.result;try{var ie=ne.transaction([D.DB_STORE_NAME],"readonly")}catch(bt){return void y(bt)}var Le=ie.objectStore(D.DB_STORE_NAME),mt=0,ce=0,ct=f.length;function It(){0==ce?g():y()}f.forEach(bt=>{var Et=Le.get(bt);Et.onsuccess=()=>{D.analyzePath(bt).exists&&D.unlink(bt),D.createDataFile(Xt.dirname(bt),Xt.basename(bt),Et.result,!0,!0,!0),++mt+ce==ct&&It()},Et.onerror=()=>{ce++,mt+ce==ct&&It()}}),ie.onerror=y},N.onerror=y}},Rr={DEFAULT_POLLMASK:5,calculateAt:function(f,g,y){if(Xt.isAbs(g))return g;var M;if(M=-100===f?D.cwd():Rr.getStreamFromFD(f).path,0==g.length){if(!y)throw new D.ErrnoError(44);return M}return Xt.join2(M,g)},doStat:function(f,g,y){try{var M=f(g)}catch(N){if(N&&N.node&&Xt.normalize(g)!==Xt.normalize(D.getPath(N.node)))return-54;throw N}return O[y>>2]=M.dev,O[y+8>>2]=M.ino,O[y+12>>2]=M.mode,_e[y+16>>2]=M.nlink,O[y+20>>2]=M.uid,O[y+24>>2]=M.gid,O[y+28>>2]=M.rdev,de=[M.size>>>0,(lt=M.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[y+40>>2]=de[0],O[y+44>>2]=de[1],O[y+48>>2]=4096,O[y+52>>2]=M.blocks,de=[Math.floor(M.atime.getTime()/1e3)>>>0,(lt=Math.floor(M.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[y+56>>2]=de[0],O[y+60>>2]=de[1],_e[y+64>>2]=0,de=[Math.floor(M.mtime.getTime()/1e3)>>>0,(lt=Math.floor(M.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[y+72>>2]=de[0],O[y+76>>2]=de[1],_e[y+80>>2]=0,de=[Math.floor(M.ctime.getTime()/1e3)>>>0,(lt=Math.floor(M.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[y+88>>2]=de[0],O[y+92>>2]=de[1],_e[y+96>>2]=0,de=[M.ino>>>0,(lt=M.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[y+104>>2]=de[0],O[y+108>>2]=de[1],0},doMsync:function(f,g,y,M,N){if(!D.isFile(g.node.mode))throw new D.ErrnoError(43);if(2&M)return 0;var ne=wt.slice(f,f+y);D.msync(g,ne,N,y,M)},varargs:void 0,get:function(){return Rr.varargs+=4,O[Rr.varargs-4>>2]},getStr:function(f){return Re(f)},getStreamFromFD:function(f){var g=D.getStream(f);if(!g)throw new D.ErrnoError(8);return g}},Uo=[31,29,31,30,31,30,31,31,30,31,30,31],Si=[31,28,31,30,31,30,31,31,30,31,30,31];var F=function(f,g,y,M){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=D.nextInode++,this.name=g,this.mode=y,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(F.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(f){f?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=F,D.staticInit();var eo,oe={h:function er(f,g){var y=new Date(1e3*function In(f){return _e[f>>2]+4294967296*O[f+4>>2]}(f));O[g>>2]=y.getSeconds(),O[g+4>>2]=y.getMinutes(),O[g+8>>2]=y.getHours(),O[g+12>>2]=y.getDate(),O[g+16>>2]=y.getMonth(),O[g+20>>2]=y.getFullYear()-1900,O[g+24>>2]=y.getDay();var M=0|an(y);O[g+28>>2]=M,O[g+36>>2]=-60*y.getTimezoneOffset();var N=new Date(y.getFullYear(),0,1),ne=new Date(y.getFullYear(),6,1).getTimezoneOffset(),ie=N.getTimezoneOffset(),Le=0|(ne!=ie&&y.getTimezoneOffset()==Math.min(ie,ne));O[g+32>>2]=Le},i:function pr(f){var g=new Date(O[f+20>>2]+1900,O[f+16>>2],O[f+12>>2],O[f+8>>2],O[f+4>>2],O[f>>2],0),y=O[f+32>>2],M=g.getTimezoneOffset(),N=new Date(g.getFullYear(),0,1),ne=new Date(g.getFullYear(),6,1).getTimezoneOffset(),ie=N.getTimezoneOffset(),Le=Math.min(ie,ne);if(y<0)O[f+32>>2]=Number(ne!=ie&&Le==M);else if(y>0!=(Le==M)){var mt=Math.max(ie,ne),ce=y>0?Le:mt;g.setTime(g.getTime()+6e4*(ce-M))}O[f+24>>2]=g.getDay();var ct=0|an(g);return O[f+28>>2]=ct,O[f>>2]=g.getSeconds(),O[f+4>>2]=g.getMinutes(),O[f+8>>2]=g.getHours(),O[f+12>>2]=g.getDate(),O[f+16>>2]=g.getMonth(),O[f+20>>2]=g.getYear(),g.getTime()/1e3|0},n:function hr(f,g,y){var M=(new Date).getFullYear(),N=new Date(M,0,1),ne=new Date(M,6,1),ie=N.getTimezoneOffset(),Le=ne.getTimezoneOffset(),mt=Math.max(ie,Le);function ce(zt){var Gn=zt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Gn?Gn[1]:"GMT"}_e[f>>2]=60*mt,O[g>>2]=Number(ie!=Le);var ct=ce(N),It=ce(ne),bt=Jt(ct),Et=Jt(It);Le<ie?(_e[y>>2]=bt,_e[y+4>>2]=Et):(_e[y>>2]=Et,_e[y+4>>2]=bt)},a:function S(){rr("")},g:function Ut(){return Date.now()},f:function sr(f,g,y){wt.copyWithin(f,g,g+y)},e:function mo(f){var mt,g=wt.length,y=2147483648;if((f>>>=0)>y)return!1;for(var N=1;N<=4;N*=2){var ne=g*(1+.2/N);if(ne=Math.min(ne,f+100663296),vr(Math.min(y,(mt=Math.max(f,ne))+(65536-mt%65536)%65536)))return!0}return!1},l:function Vr(f,g){var y=0;return kr().forEach(function(M,N){var ne=g+y;_e[f+4*N>>2]=ne,function Ro(f,g,y){for(var M=0;M<f.length;++M)rt[g++>>0]=f.charCodeAt(M);y||(rt[g>>0]=0)}(M,ne),y+=M.length+1}),0},m:function Ci(f,g){var y=kr();_e[f>>2]=y.length;var M=0;return y.forEach(function(N){M+=N.length+1}),_e[g>>2]=M,0},b:function as(f){try{var g=Rr.getStreamFromFD(f);return D.close(g),0}catch(y){if(typeof D>"u"||!(y instanceof D.ErrnoError))throw y;return y.errno}},d:function Fo(f,g,y,M){try{var ne=function yo(f,g,y,M){for(var N=0,ne=0;ne<y;ne++){var ie=_e[g>>2],Le=_e[g+4>>2];g+=8;var mt=D.read(f,rt,ie,Le,M);if(mt<0)return-1;if(N+=mt,mt<Le)break}return N}(Rr.getStreamFromFD(f),g,y);return _e[M>>2]=ne,0}catch(ie){if(typeof D>"u"||!(ie instanceof D.ErrnoError))throw ie;return ie.errno}},j:function Kr(f,g,y,M,N){try{var ne=function zi(f,g){return g+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*g:NaN}(g,y);if(isNaN(ne))return 61;var ie=Rr.getStreamFromFD(f);return D.llseek(ie,ne,M),de=[ie.position>>>0,(lt=ie.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[N>>2]=de[0],O[N+4>>2]=de[1],ie.getdents&&0===ne&&0===M&&(ie.getdents=null),0}catch(Le){if(typeof D>"u"||!(Le instanceof D.ErrnoError))throw Le;return Le.errno}},c:function Wi(f,g,y,M){try{var ne=function ni(f,g,y,M){for(var N=0,ne=0;ne<y;ne++){var ie=_e[g>>2],Le=_e[g+4>>2];g+=8;var mt=D.write(f,rt,ie,Le,M);if(mt<0)return-1;N+=mt}return N}(Rr.getStreamFromFD(f),g,y);return _e[M>>2]=ne,0}catch(ie){if(typeof D>"u"||!(ie instanceof D.ErrnoError))throw ie;return ie.errno}},k:function Un(f,g,y,M,N){return function ri(f,g,y,M){var N=O[M+40>>2],ne={tm_sec:O[M>>2],tm_min:O[M+4>>2],tm_hour:O[M+8>>2],tm_mday:O[M+12>>2],tm_mon:O[M+16>>2],tm_year:O[M+20>>2],tm_wday:O[M+24>>2],tm_yday:O[M+28>>2],tm_isdst:O[M+32>>2],tm_gmtoff:O[M+36>>2],tm_zone:N?Re(N):""},ie=Re(y),Le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var mt in Le)ie=ie.replace(new RegExp(mt,"g"),Le[mt]);var ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];function It(qe,Tt,Yn){for(var Kn="number"==typeof qe?qe.toString():qe||"";Kn.length<Tt;)Kn=Yn[0]+Kn;return Kn}function bt(qe,Tt){return It(qe,Tt,"0")}function Et(qe,Tt){function Yn(tr){return tr<0?-1:tr>0?1:0}var Kn;return 0===(Kn=Yn(qe.getFullYear()-Tt.getFullYear()))&&0===(Kn=Yn(qe.getMonth()-Tt.getMonth()))&&(Kn=Yn(qe.getDate()-Tt.getDate())),Kn}function zt(qe){switch(qe.getDay()){case 0:return new Date(qe.getFullYear()-1,11,29);case 1:return qe;case 2:return new Date(qe.getFullYear(),0,3);case 3:return new Date(qe.getFullYear(),0,2);case 4:return new Date(qe.getFullYear(),0,1);case 5:return new Date(qe.getFullYear()-1,11,31);case 6:return new Date(qe.getFullYear()-1,11,30)}}function Gn(qe){var Tt=function Ei(f,g){for(var y=new Date(f.getTime());g>0;){var M=Ht(y.getFullYear()),N=y.getMonth(),ne=(M?Uo:Si)[N];if(!(g>ne-y.getDate()))return y.setDate(y.getDate()+g),y;g-=ne-y.getDate()+1,y.setDate(1),N<11?y.setMonth(N+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1))}return y}(new Date(qe.tm_year+1900,0,1),qe.tm_yday),Yn=new Date(Tt.getFullYear(),0,4),Kn=new Date(Tt.getFullYear()+1,0,4),tr=zt(Yn),mr=zt(Kn);return Et(tr,Tt)<=0?Et(mr,Tt)<=0?Tt.getFullYear()+1:Tt.getFullYear():Tt.getFullYear()-1}var Dr={"%a":function(qe){return ce[qe.tm_wday].substring(0,3)},"%A":function(qe){return ce[qe.tm_wday]},"%b":function(qe){return ct[qe.tm_mon].substring(0,3)},"%B":function(qe){return ct[qe.tm_mon]},"%C":function(qe){return bt((qe.tm_year+1900)/100|0,2)},"%d":function(qe){return bt(qe.tm_mday,2)},"%e":function(qe){return It(qe.tm_mday,2," ")},"%g":function(qe){return Gn(qe).toString().substring(2)},"%G":function(qe){return Gn(qe)},"%H":function(qe){return bt(qe.tm_hour,2)},"%I":function(qe){var Tt=qe.tm_hour;return 0==Tt?Tt=12:Tt>12&&(Tt-=12),bt(Tt,2)},"%j":function(qe){return bt(qe.tm_mday+function Zn(f,g){for(var y=0,M=0;M<=g;y+=f[M++]);return y}(Ht(qe.tm_year+1900)?Uo:Si,qe.tm_mon-1),3)},"%m":function(qe){return bt(qe.tm_mon+1,2)},"%M":function(qe){return bt(qe.tm_min,2)},"%n":function(){return"\n"},"%p":function(qe){return qe.tm_hour>=0&&qe.tm_hour<12?"AM":"PM"},"%S":function(qe){return bt(qe.tm_sec,2)},"%t":function(){return"\t"},"%u":function(qe){return qe.tm_wday||7},"%U":function(qe){return bt(Math.floor((qe.tm_yday+7-qe.tm_wday)/7),2)},"%V":function(qe){var Tt=Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7);if((qe.tm_wday+371-qe.tm_yday-2)%7<=2&&Tt++,Tt){if(53==Tt){var Kn=(qe.tm_wday+371-qe.tm_yday)%7;4!=Kn&&(3!=Kn||!Ht(qe.tm_year))&&(Tt=1)}}else{Tt=52;var Yn=(qe.tm_wday+7-qe.tm_yday-1)%7;(4==Yn||5==Yn&&Ht(qe.tm_year%400-1))&&Tt++}return bt(Tt,2)},"%w":function(qe){return qe.tm_wday},"%W":function(qe){return bt(Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7),2)},"%y":function(qe){return(qe.tm_year+1900).toString().substring(2)},"%Y":function(qe){return qe.tm_year+1900},"%z":function(qe){var Tt=qe.tm_gmtoff,Yn=Tt>=0;return Tt=(Tt=Math.abs(Tt)/60)/60*100+Tt%60,(Yn?"+":"-")+String("0000"+Tt).slice(-4)},"%Z":function(qe){return qe.tm_zone},"%%":function(){return"%"}};for(var mt in ie=ie.replace(/%%/g,"\0\0"),Dr)ie.includes(mt)&&(ie=ie.replace(new RegExp(mt,"g"),Dr[mt](ne)));var St=ao(ie=ie.replace(/\0\0/g,"%"),!1);return St.length>g?0:(function On(f,g){rt.set(f,g)}(St,f),St.length-1)}(f,g,y,M)}},ve=(function Lr(){var f={a:oe};function g(ie,Le){u.asm=ie.exports,pe((me=u.asm.o).buffer),function Pr(f){He.unshift(f)}(u.asm.p),fr()}function y(ie){g(ie.instance)}function M(ie){return function wi(){return he||!Ie&&!K||"function"!=typeof fetch?Promise.resolve().then(function(){return io(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+Sn+"'";return f.arrayBuffer()}).catch(function(){return io(Sn)})}().then(function(Le){return WebAssembly.instantiate(Le,f)}).then(function(Le){return Le}).then(ie,function(Le){W("failed to asynchronously prepare wasm: "+Le),rr(Le)})}if(Zr(),u.instantiateWasm)try{return u.instantiateWasm(f,g)}catch(ie){W("Module.instantiateWasm callback failed with error: "+ie),se(ie)}(function N(){return he||"function"!=typeof WebAssembly.instantiateStreaming||ho(Sn)||"function"!=typeof fetch?M(y):fetch(Sn,{credentials:"same-origin"}).then(function(ie){return WebAssembly.instantiateStreaming(ie,f).then(y,function(mt){return W("wasm streaming compile failed: "+mt),W("falling back to ArrayBuffer instantiation"),M(y)})})})().catch(se)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.p).apply(null,arguments)},u._malloc=function(){return(ve=u._malloc=u.asm.q).apply(null,arguments)}),st=(u._free=function(){return(u._free=u.asm.r).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(st=u._emscripten_bind_VoidPtr___destroy___0=u.asm.s).apply(null,arguments)}),kt=u._emscripten_bind_FileEntry_GetName_0=function(){return(kt=u._emscripten_bind_FileEntry_GetName_0=u.asm.t).apply(null,arguments)},jt=u._emscripten_bind_FileEntry_IsDirectory_0=function(){return(jt=u._emscripten_bind_FileEntry_IsDirectory_0=u.asm.u).apply(null,arguments)},tn=u._emscripten_bind_FileEntry_GetSize_0=function(){return(tn=u._emscripten_bind_FileEntry_GetSize_0=u.asm.v).apply(null,arguments)},lr=u._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(lr=u._emscripten_bind_FileEntry_GetModifiedTS_0=u.asm.w).apply(null,arguments)},_o=u._emscripten_bind_FileEntry_GetAttributes_0=function(){return(_o=u._emscripten_bind_FileEntry_GetAttributes_0=u.asm.x).apply(null,arguments)},Hr=u._emscripten_bind_FileEntry___destroy___0=function(){return(Hr=u._emscripten_bind_FileEntry___destroy___0=u.asm.y).apply(null,arguments)},Er=u._emscripten_bind_Vfs_Vfs_0=function(){return(Er=u._emscripten_bind_Vfs_Vfs_0=u.asm.z).apply(null,arguments)},qi=u._emscripten_bind_Vfs_Malloc_1=function(){return(qi=u._emscripten_bind_Vfs_Malloc_1=u.asm.A).apply(null,arguments)},oi=u._emscripten_bind_Vfs_Free_1=function(){return(oi=u._emscripten_bind_Vfs_Free_1=u.asm.B).apply(null,arguments)},Ii=u._emscripten_bind_Vfs_Nullptr_0=function(){return(Ii=u._emscripten_bind_Vfs_Nullptr_0=u.asm.C).apply(null,arguments)},Na=u._emscripten_bind_Vfs_AllocateImage_1=function(){return(Na=u._emscripten_bind_Vfs_AllocateImage_1=u.asm.D).apply(null,arguments)},Ts=u._emscripten_bind_Vfs_MountImage_1=function(){return(Ts=u._emscripten_bind_Vfs_MountImage_1=u.asm.E).apply(null,arguments)},La=u._emscripten_bind_Vfs_UnmountImage_1=function(){return(La=u._emscripten_bind_Vfs_UnmountImage_1=u.asm.F).apply(null,arguments)},xs=u._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(xs=u._emscripten_bind_Vfs_GetPendingImageSize_0=u.asm.G).apply(null,arguments)},ys=u._emscripten_bind_Vfs_GetSize_1=function(){return(ys=u._emscripten_bind_Vfs_GetSize_1=u.asm.H).apply(null,arguments)},jr=u._emscripten_bind_Vfs_GetPendingImage_0=function(){return(jr=u._emscripten_bind_Vfs_GetPendingImage_0=u.asm.I).apply(null,arguments)},Bn=u._emscripten_bind_Vfs_GetImage_1=function(){return(Bn=u._emscripten_bind_Vfs_GetImage_1=u.asm.J).apply(null,arguments)},bl=u._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(bl=u._emscripten_bind_Vfs_GetDirtyPages_1=u.asm.K).apply(null,arguments)},$a=u._emscripten_bind_Vfs_RenameFile_2=function(){return($a=u._emscripten_bind_Vfs_RenameFile_2=u.asm.L).apply(null,arguments)},Ba=u._emscripten_bind_Vfs_ChmodFile_3=function(){return(Ba=u._emscripten_bind_Vfs_ChmodFile_3=u.asm.M).apply(null,arguments)},vt=u._emscripten_bind_Vfs_StatFile_1=function(){return(vt=u._emscripten_bind_Vfs_StatFile_1=u.asm.N).apply(null,arguments)},Va=u._emscripten_bind_Vfs_GetEntry_0=function(){return(Va=u._emscripten_bind_Vfs_GetEntry_0=u.asm.O).apply(null,arguments)},Qn=u._emscripten_bind_Vfs_BytesFree_1=function(){return(Qn=u._emscripten_bind_Vfs_BytesFree_1=u.asm.P).apply(null,arguments)},ls=u._emscripten_bind_Vfs_BytesTotal_1=function(){return(ls=u._emscripten_bind_Vfs_BytesTotal_1=u.asm.Q).apply(null,arguments)},ra=u._emscripten_bind_Vfs___destroy___0=function(){return(ra=u._emscripten_bind_Vfs___destroy___0=u.asm.R).apply(null,arguments)},oa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(oa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=u.asm.S).apply(null,arguments)},Ha=u._emscripten_bind_ReaddirContext_Next_0=function(){return(Ha=u._emscripten_bind_ReaddirContext_Next_0=u.asm.T).apply(null,arguments)},cs=u._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(cs=u._emscripten_bind_ReaddirContext_GetEntry_0=u.asm.U).apply(null,arguments)},As=u._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(As=u._emscripten_bind_ReaddirContext_GetStatus_0=u.asm.V).apply(null,arguments)},Zi=u._emscripten_bind_ReaddirContext_GetError_0=function(){return(Zi=u._emscripten_bind_ReaddirContext_GetError_0=u.asm.W).apply(null,arguments)},us=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(us=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=u.asm.X).apply(null,arguments)},Yr=u._emscripten_bind_ReaddirContext___destroy___0=function(){return(Yr=u._emscripten_bind_ReaddirContext___destroy___0=u.asm.Y).apply(null,arguments)};function sa(f){var g=u._main;try{var N=g(0,0);return function gs(f,g){fe=f,function Di(f){fe=f,function en(){return Pe}()||(u.onExit&&u.onExit(f),it=!0),H(f,new Ge(f))}(f)}(N),N}catch(ne){return function x(f){if(f instanceof Ge||"unwind"==f)return fe;H(1,f)}(ne)}}function ja(f){function g(){eo||(eo=!0,u.calledRun=!0,!it&&(function Pn(){!u.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,lo.init(),_n(He)}(),function _r(){_n(Ft)}(),le(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Nn&&sa(),function nr(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)f=u.postRun.shift(),Gt.unshift(f);var f;_n(Gt)}()))}f=f||ue,Dn>0||(function J(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)f=u.preRun.shift(),_t.unshift(f);var f;_n(_t)}(),Dn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),g()},1)):g())}if(u._main=function(){return(u._main=u.asm.Z).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.$).apply(null,arguments)},u.___start_em_js=16120,u.___stop_em_js=16218,Fn=function f(){eo||ja(),eo||(Fn=f)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Nn=!0;function cr(){}function Ur(f){return(f||cr).__cache__}function ur(f,g){var y=Ur(g),M=y[f];return M||((M=Object.create((g||cr).prototype)).ptr=f,y[f]=M)}u.noInitialRun&&(Nn=!1),ja(),(cr.prototype=Object.create(cr.prototype)).constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},u.WrapperObject=cr,u.getCache=Ur,u.wrapPointer=ur,u.castObject=function or(f,g){return ur(f.ptr,g)},u.NULL=ur(0),u.destroy=function pn(f){if(!f.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";f.__destroy__(),delete Ur(f.__class__)[f.ptr]},u.compare=function p(f,g){return f.ptr===g.ptr},u.getPointer=function v(f){return f.ptr},u.getClass=function w(f){return f.__class__};var k={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(k.needed){for(var f=0;f<k.temps.length;f++)u._free(k.temps[f]);k.temps.length=0,u._free(k.buffer),k.buffer=0,k.size+=k.needed,k.needed=0}k.buffer||(k.size+=128,k.buffer=u._malloc(k.size),Me(k.buffer)),k.pos=0},alloc:function(f,g){Me(k.buffer);var N,M=f.length*g.BYTES_PER_ELEMENT;return k.pos+(M=M+7&-8)>=k.size?(Me(M>0),k.needed+=M,N=u._malloc(M),k.temps.push(N)):(N=k.buffer+k.pos,k.pos+=M),N},copy:function(f,g,y){switch(y>>>=0,g.BYTES_PER_ELEMENT){case 2:y>>>=1;break;case 4:y>>>=2;break;case 8:y>>>=3}for(var N=0;N<f.length;N++)g[y+N]=f[N]}};function j(f){if("string"==typeof f){var g=ao(f),y=k.alloc(g,rt);return k.copy(g,rt,y),y}return f}function be(){throw"cannot construct a VoidPtr, no constructor in IDL"}function we(){throw"cannot construct a FileEntry, no constructor in IDL"}function Ce(){this.ptr=Er(),Ur(Ce)[this.ptr]=this}function ut(f){k.prepare(),f=f&&"object"==typeof f?f.ptr:j(f),this.ptr=oa(f),Ur(ut)[this.ptr]=this}return(be.prototype=Object.create(cr.prototype)).constructor=be,be.prototype.__class__=be,be.__cache__={},u.VoidPtr=be,be.prototype.__destroy__=be.prototype.__destroy__=function(){st(this.ptr)},(we.prototype=Object.create(cr.prototype)).constructor=we,we.prototype.__class__=we,we.__cache__={},u.FileEntry=we,we.prototype.GetName=we.prototype.GetName=function(){return Re(kt(this.ptr))},we.prototype.IsDirectory=we.prototype.IsDirectory=function(){return!!jt(this.ptr)},we.prototype.GetSize=we.prototype.GetSize=function(){return tn(this.ptr)},we.prototype.GetModifiedTS=we.prototype.GetModifiedTS=function(){return lr(this.ptr)},we.prototype.GetAttributes=we.prototype.GetAttributes=function(){return _o(this.ptr)},we.prototype.__destroy__=we.prototype.__destroy__=function(){Hr(this.ptr)},(Ce.prototype=Object.create(cr.prototype)).constructor=Ce,Ce.prototype.__class__=Ce,Ce.__cache__={},u.Vfs=Ce,Ce.prototype.Malloc=Ce.prototype.Malloc=function(f){return f&&"object"==typeof f&&(f=f.ptr),ur(qi(this.ptr,f),be)},Ce.prototype.Free=Ce.prototype.Free=function(f){f&&"object"==typeof f&&(f=f.ptr),oi(this.ptr,f)},Ce.prototype.Nullptr=Ce.prototype.Nullptr=function(){return ur(Ii(this.ptr),be)},Ce.prototype.AllocateImage=Ce.prototype.AllocateImage=function(f){f&&"object"==typeof f&&(f=f.ptr),Na(this.ptr,f)},Ce.prototype.MountImage=Ce.prototype.MountImage=function(f){return f&&"object"==typeof f&&(f=f.ptr),!!Ts(this.ptr,f)},Ce.prototype.UnmountImage=Ce.prototype.UnmountImage=function(f){f&&"object"==typeof f&&(f=f.ptr),La(this.ptr,f)},Ce.prototype.GetPendingImageSize=Ce.prototype.GetPendingImageSize=function(){return xs(this.ptr)},Ce.prototype.GetSize=Ce.prototype.GetSize=function(f){return f&&"object"==typeof f&&(f=f.ptr),ys(this.ptr,f)},Ce.prototype.GetPendingImage=Ce.prototype.GetPendingImage=function(){return ur(jr(this.ptr),be)},Ce.prototype.GetImage=Ce.prototype.GetImage=function(f){return f&&"object"==typeof f&&(f=f.ptr),ur(Bn(this.ptr,f),be)},Ce.prototype.GetDirtyPages=Ce.prototype.GetDirtyPages=function(f){return f&&"object"==typeof f&&(f=f.ptr),ur(bl(this.ptr,f),be)},Ce.prototype.RenameFile=Ce.prototype.RenameFile=function(f,g){var y=this.ptr;return k.prepare(),f=f&&"object"==typeof f?f.ptr:j(f),g=g&&"object"==typeof g?g.ptr:j(g),$a(y,f,g)},Ce.prototype.ChmodFile=Ce.prototype.ChmodFile=function(f,g,y){var M=this.ptr;return k.prepare(),f=f&&"object"==typeof f?f.ptr:j(f),g&&"object"==typeof g&&(g=g.ptr),y&&"object"==typeof y&&(y=y.ptr),Ba(M,f,g,y)},Ce.prototype.StatFile=Ce.prototype.StatFile=function(f){var g=this.ptr;return k.prepare(),f=f&&"object"==typeof f?f.ptr:j(f),vt(g,f)},Ce.prototype.GetEntry=Ce.prototype.GetEntry=function(){return ur(Va(this.ptr),we)},Ce.prototype.BytesFree=Ce.prototype.BytesFree=function(f){return f&&"object"==typeof f&&(f=f.ptr),Qn(this.ptr,f)},Ce.prototype.BytesTotal=Ce.prototype.BytesTotal=function(f){return f&&"object"==typeof f&&(f=f.ptr),ls(this.ptr,f)},Ce.prototype.__destroy__=Ce.prototype.__destroy__=function(){ra(this.ptr)},(ut.prototype=Object.create(cr.prototype)).constructor=ut,ut.prototype.__class__=ut,ut.__cache__={},u.ReaddirContext=ut,ut.prototype.Next=ut.prototype.Next=function(){return Ha(this.ptr)},ut.prototype.GetEntry=ut.prototype.GetEntry=function(){return ur(cs(this.ptr),we)},ut.prototype.GetStatus=ut.prototype.GetStatus=function(){return As(this.ptr)},ut.prototype.GetError=ut.prototype.GetError=function(){return Zi(this.ptr)},ut.prototype.GetErrorDescription=ut.prototype.GetErrorDescription=function(){return Re(us(this.ptr))},ut.prototype.__destroy__=ut.prototype.__destroy__=function(){Yr(this.ptr)},T.ready});Ve.exports=We},8211:(Ve,We,R)=>{"use strict";R.d(We,{c:()=>Ne});var T=R(9259),u=R(2286);let le;const q=ye=>ye.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ue=ye=>{if(void 0===le){const W=void 0!==ye.style.webkitAnimationName;le=void 0===ye.style.animationName&&W?"-webkit-":""}return le},V=(ye,z,W)=>{const he=z.startsWith("animation")?ue(ye):"";ye.style.setProperty(he+z,W)},H=(ye,z)=>{const W=z.startsWith("animation")?ue(ye):"";ye.style.removeProperty(W+z)},ae=[],Oe=(ye=[],z)=>{if(void 0!==z){const W=Array.isArray(z)?z:[z];return[...ye,...W]}return ye},Ne=ye=>{let z,W,he,Pe,me,it,Re,O,_e,Xe,te,_t,He,fe=[],Me=[],xe=[],Ue=!1,$e={},Q=[],ze=[],rt={},wt=0,Ot=!1,Ye=!1,pe=!0,Ee=!1,Be=!0,Ft=!1;const Gt=ye,Lt=[],en=[],J=[],Pn=[],_r=[],nr=[],Eo=[],Pr=[],ei=[],Dn=[],Ir="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,Fn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ir,Zr=()=>Dn,Sn=(L,Z)=>((Z?.oneTimeCallback?en:Lt).push({c:L,o:Z}),He),wi=()=>{if(Fn)Dn.forEach(L=>{L.cancel()}),Dn.length=0;else{const L=J.slice();(0,T.r)(()=>{L.forEach(Z=>{H(Z,"animation-name"),H(Z,"animation-duration"),H(Z,"animation-timing-function"),H(Z,"animation-iteration-count"),H(Z,"animation-delay"),H(Z,"animation-play-state"),H(Z,"animation-fill-mode"),H(Z,"animation-direction")})})}},Lr=()=>{_r.forEach(L=>{L?.parentNode&&L.parentNode.removeChild(L)}),_r.length=0},hr=()=>void 0!==me?me:Re?Re.getFill():"both",S=()=>void 0!==_e?_e:void 0!==it?it:Re?Re.getDirection():"normal",Ut=()=>Ot?"linear":void 0!==he?he:Re?Re.getEasing():"linear",sr=()=>Ye?0:void 0!==Xe?Xe:void 0!==W?W:Re?Re.getDuration():0,E=()=>void 0!==Pe?Pe:Re?Re.getIterations():1,vr=()=>void 0!==te?te:void 0!==z?z:Re?Re.getDelay():0,Rr=()=>{0!==wt&&(wt--,0===wt&&((()=>{On(),Pr.forEach(st=>st()),ei.forEach(st=>st());const L=pe?1:0,Z=Q,ve=ze,et=rt;J.forEach(st=>{const kt=st.classList;Z.forEach(jt=>kt.add(jt)),ve.forEach(jt=>kt.remove(jt));for(const jt in et)et.hasOwnProperty(jt)&&V(st,jt,et[jt])}),Lt.forEach(st=>st.c(L,He)),en.forEach(st=>st.c(L,He)),en.length=0,Be=!0,pe&&(Ee=!0),pe=!0})(),Re&&Re.animationFinish()))},Vr=(L=!0)=>{Lr();const Z=(ye=>(ye.forEach(z=>{for(const W in z)if(z.hasOwnProperty(W)){const he=z[W];if("easing"===W)z["animation-timing-function"]=he,delete z[W];else{const Pe=q(W);Pe!==W&&(z[Pe]=he,delete z[W])}}}),ye))(fe);J.forEach(ve=>{if(Z.length>0){const et=((ye=[])=>ye.map(z=>{const W=z.offset,he=[];for(const Pe in z)z.hasOwnProperty(Pe)&&"offset"!==Pe&&he.push(`${Pe}: ${z[Pe]};`);return`${100*W}% { ${he.join(" ")} }`}).join(" "))(Z);_t=void 0!==ye?ye:(ye=>{let z=ae.indexOf(ye);return z<0&&(z=ae.push(ye)-1),`ion-animation-${z}`})(et);const st=((ye,z,W)=>{var he;const Pe=(ye=>{const z=void 0!==ye.getRootNode?ye.getRootNode():ye;return z.head||z})(W),me=ue(W),it=Pe.querySelector("#"+ye);if(it)return it;const fe=(null!==(he=W.ownerDocument)&&void 0!==he?he:document).createElement("style");return fe.id=ye,fe.textContent=`@${me}keyframes ${ye} { ${z} } @${me}keyframes ${ye}-alt { ${z} }`,Pe.appendChild(fe),fe})(_t,et,ve);_r.push(st),V(ve,"animation-duration",`${sr()}ms`),V(ve,"animation-timing-function",Ut()),V(ve,"animation-delay",`${vr()}ms`),V(ve,"animation-fill-mode",hr()),V(ve,"animation-direction",S());const kt=E()===1/0?"infinite":E().toString();V(ve,"animation-iteration-count",kt),V(ve,"animation-play-state","paused"),L&&V(ve,"animation-name",`${st.id}-alt`),(0,T.r)(()=>{V(ve,"animation-name",st.id||null)})}})},as=(L=!0)=>{(()=>{nr.forEach(et=>et()),Eo.forEach(et=>et());const L=Me,Z=xe,ve=$e;J.forEach(et=>{const st=et.classList;L.forEach(kt=>st.add(kt)),Z.forEach(kt=>st.remove(kt));for(const kt in ve)ve.hasOwnProperty(kt)&&V(et,kt,ve[kt])})})(),fe.length>0&&(Fn?(J.forEach(L=>{const Z=L.animate(fe,{id:Gt,delay:vr(),duration:sr(),easing:Ut(),iterations:E(),fill:hr(),direction:S()});Z.pause(),Dn.push(Z)}),Dn.length>0&&(Dn[0].onfinish=()=>{Rr()})):Vr(L)),Ue=!0},yo=L=>{if(L=Math.min(Math.max(L,0),.9999),Fn)Dn.forEach(Z=>{Z.currentTime=Z.effect.getComputedTiming().delay+sr()*L,Z.pause()});else{const Z=`-${sr()*L}ms`;J.forEach(ve=>{fe.length>0&&(V(ve,"animation-delay",Z),V(ve,"animation-play-state","paused"))})}},Fo=L=>{Dn.forEach(Z=>{Z.effect.updateTiming({delay:vr(),duration:sr(),easing:Ut(),iterations:E(),fill:hr(),direction:S()})}),void 0!==L&&yo(L)},zi=(L=!0,Z)=>{(0,T.r)(()=>{J.forEach(ve=>{V(ve,"animation-name",_t||null),V(ve,"animation-duration",`${sr()}ms`),V(ve,"animation-timing-function",Ut()),V(ve,"animation-delay",void 0!==Z?`-${Z*sr()}ms`:`${vr()}ms`),V(ve,"animation-fill-mode",hr()||null),V(ve,"animation-direction",S()||null);const et=E()===1/0?"infinite":E().toString();V(ve,"animation-iteration-count",et),L&&V(ve,"animation-name",`${_t}-alt`),(0,T.r)(()=>{V(ve,"animation-name",_t||null)})})})},Kr=(L=!1,Z=!0,ve)=>(L&&Pn.forEach(et=>{et.update(L,Z,ve)}),Fn?Fo(ve):zi(Z,ve),He),Uo=()=>{Ue&&(Fn?Dn.forEach(L=>{L.pause()}):J.forEach(L=>{V(L,"animation-play-state","paused")}),Ft=!0)},Ei=()=>{O=void 0,Rr()},On=()=>{O&&clearTimeout(O)},x=L=>new Promise(Z=>{L?.sync&&(Ye=!0,Sn(()=>Ye=!1,{oneTimeCallback:!0})),Ue||as(),Ee&&(Fn?(yo(0),Fo()):zi(),Ee=!1),Be&&(wt=Pn.length+1,Be=!1),Sn(()=>Z(),{oneTimeCallback:!0}),Pn.forEach(ve=>{ve.play()}),Fn?(Dn.forEach(L=>{L.play()}),(0===fe.length||0===J.length)&&Rr()):(()=>{if(On(),(0,T.r)(()=>{J.forEach(L=>{fe.length>0&&V(L,"animation-play-state","running")})}),0===fe.length||0===J.length)Rr();else{const L=vr()||0,Z=sr()||0,ve=E()||1;isFinite(ve)&&(O=setTimeout(Ei,L+Z*ve+100)),((ye,z)=>{let W;const he={passive:!0},me=it=>{ye===it.target&&(W&&W(),On(),(0,T.r)(()=>{J.forEach(L=>{H(L,"animation-duration"),H(L,"animation-delay"),H(L,"animation-play-state")}),(0,T.r)(Rr)}))};ye&&(ye.addEventListener("webkitAnimationEnd",me,he),ye.addEventListener("animationend",me,he),W=()=>{ye.removeEventListener("webkitAnimationEnd",me,he),ye.removeEventListener("animationend",me,he)})})(J[0])}})(),Ft=!1}),ge=(L,Z)=>{const ve=fe[0];return void 0===ve||void 0!==ve.offset&&0!==ve.offset?fe=[{offset:0,[L]:Z},...fe]:ve[L]=Z,He};return He={parentAnimation:Re,elements:J,childAnimations:Pn,id:Gt,animationFinish:Rr,from:ge,to:(L,Z)=>{const ve=fe[fe.length-1];return void 0===ve||void 0!==ve.offset&&1!==ve.offset?fe=[...fe,{offset:1,[L]:Z}]:ve[L]=Z,He},fromTo:(L,Z,ve)=>ge(L,Z).to(L,ve),parent:L=>(Re=L,He),play:x,pause:()=>(Pn.forEach(L=>{L.pause()}),Uo(),He),stop:()=>{Pn.forEach(L=>{L.stop()}),Ue&&(wi(),Ue=!1),Ot=!1,Ye=!1,Be=!0,_e=void 0,Xe=void 0,te=void 0,wt=0,Ee=!1,pe=!0,Ft=!1},destroy:L=>(Pn.forEach(Z=>{Z.destroy(L)}),(L=>{wi(),L&&Lr()})(L),J.length=0,Pn.length=0,fe.length=0,Lt.length=0,en.length=0,Ue=!1,Be=!0,He),keyframes:L=>{const Z=fe!==L;return fe=L,Z&&(L=>{Fn?Zr().forEach(Z=>{if(Z.effect.setKeyframes)Z.effect.setKeyframes(L);else{const ve=new KeyframeEffect(Z.effect.target,L,Z.effect.getTiming());Z.effect=ve}}):Vr()})(fe),He},addAnimation:L=>{if(null!=L)if(Array.isArray(L))for(const Z of L)Z.parent(He),Pn.push(Z);else L.parent(He),Pn.push(L);return He},addElement:L=>{if(null!=L)if(1===L.nodeType)J.push(L);else if(L.length>=0)for(let Z=0;Z<L.length;Z++)J.push(L[Z]);else console.error("Invalid addElement value");return He},update:Kr,fill:L=>(me=L,Kr(!0),He),direction:L=>(it=L,Kr(!0),He),iterations:L=>(Pe=L,Kr(!0),He),duration:L=>(!Fn&&0===L&&(L=1),W=L,Kr(!0),He),easing:L=>(he=L,Kr(!0),He),delay:L=>(z=L,Kr(!0),He),getWebAnimations:Zr,getKeyframes:()=>fe,getFill:hr,getDirection:S,getDelay:vr,getIterations:E,getEasing:Ut,getDuration:sr,afterAddRead:L=>(Pr.push(L),He),afterAddWrite:L=>(ei.push(L),He),afterClearStyles:(L=[])=>{for(const Z of L)rt[Z]="";return He},afterStyles:(L={})=>(rt=L,He),afterRemoveClass:L=>(ze=Oe(ze,L),He),afterAddClass:L=>(Q=Oe(Q,L),He),beforeAddRead:L=>(nr.push(L),He),beforeAddWrite:L=>(Eo.push(L),He),beforeClearStyles:(L=[])=>{for(const Z of L)$e[Z]="";return He},beforeStyles:(L={})=>($e=L,He),beforeRemoveClass:L=>(xe=Oe(xe,L),He),beforeAddClass:L=>(Me=Oe(Me,L),He),onFinish:Sn,isRunning:()=>0!==wt&&!Ft,progressStart:(L=!1,Z)=>(Pn.forEach(ve=>{ve.progressStart(L,Z)}),Uo(),Ot=L,Ue||as(),Kr(!1,!0,Z),He),progressStep:L=>(Pn.forEach(Z=>{Z.progressStep(L)}),yo(L),He),progressEnd:(L,Z,ve)=>(Ot=!1,Pn.forEach(et=>{et.progressEnd(L,Z,ve)}),void 0!==ve&&(Xe=ve),Ee=!1,pe=!0,0===L?(_e="reverse"===S()?"normal":"reverse","reverse"===_e&&(pe=!1),Fn?(Kr(),yo(1-Z)):(te=(1-Z)*sr()*-1,Kr(!1,!1))):1===L&&(Fn?(Kr(),yo(Z)):(te=Z*sr()*-1,Kr(!1,!1))),void 0!==L&&(Sn(()=>{Xe=void 0,_e=void 0,te=void 0},{oneTimeCallback:!0}),Re||x()),He)}}},6379:(Ve,We,R)=>{"use strict";R.d(We,{G:()=>q});class u{constructor(V,H,Ie,K,ae){this.id=H,this.name=Ie,this.disableScroll=ae,this.priority=1e6*K+H,this.ctrl=V}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const V=this.ctrl.capture(this.name,this.id,this.priority);return V&&this.disableScroll&&this.ctrl.disableScroll(this.id),V}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class le{constructor(V,H,Ie,K){this.id=H,this.disable=Ie,this.disableScroll=K,this.ctrl=V}block(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.disableGesture(V,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.enableGesture(V,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const se="backdrop-no-scroll",q=new class T{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(V){var H;return new u(this,this.newID(),V.name,null!==(H=V.priority)&&void 0!==H?H:0,!!V.disableScroll)}createBlocker(V={}){return new le(this,this.newID(),V.disable,!!V.disableScroll)}start(V,H,Ie){return this.canStart(V)?(this.requestedStart.set(H,Ie),!0):(this.requestedStart.delete(H),!1)}capture(V,H,Ie){if(!this.start(V,H,Ie))return!1;const K=this.requestedStart;let ae=-1e4;if(K.forEach(B=>{ae=Math.max(ae,B)}),ae===Ie){this.capturedId=H,K.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:V}});return document.dispatchEvent(B),!0}return K.delete(H),!1}release(V){this.requestedStart.delete(V),this.capturedId===V&&(this.capturedId=void 0)}disableGesture(V,H){let Ie=this.disabledGestures.get(V);void 0===Ie&&(Ie=new Set,this.disabledGestures.set(V,Ie)),Ie.add(H)}enableGesture(V,H){const Ie=this.disabledGestures.get(V);void 0!==Ie&&Ie.delete(H)}disableScroll(V){this.disabledScroll.add(V),1===this.disabledScroll.size&&document.body.classList.add(se)}enableScroll(V){this.disabledScroll.delete(V),0===this.disabledScroll.size&&document.body.classList.remove(se)}canStart(V){return!(void 0!==this.capturedId||this.isDisabled(V))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(V){const H=this.disabledGestures.get(V);return!!(H&&H.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Ve,We,R)=>{"use strict";R.r(We),R.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>q,OVERLAY_BACK_BUTTON_PRIORITY:()=>se,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>le});var T=R(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},le=()=>{const ue=document;let V=!1;ue.addEventListener("backbutton",()=>{if(V)return;let H=0,Ie=[];const K=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,G){Ie.push({priority:$,handler:G,id:H++})}}});ue.dispatchEvent(K);const ae=function(){var $=(0,T.Z)(function*(G){try{if(G?.handler){const Oe=G.handler(B);null!=Oe&&(yield Oe)}}catch(Oe){console.error(Oe)}});return function(Oe){return $.apply(this,arguments)}}(),B=()=>{if(Ie.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ie.forEach(G=>{G.priority>=$.priority&&($=G)}),V=!0,Ie=Ie.filter(G=>G.id!==$.id),ae($).then(()=>V=!1)}};B()})},se=100,q=99},9259:(Ve,We,R)=>{"use strict";R.d(We,{a:()=>V,b:()=>H,c:()=>le,d:()=>G,e:()=>Oe,f:()=>$,g:()=>Ie,h:()=>Pe,i:()=>ue,j:()=>se,k:()=>B,l:()=>Ne,m:()=>ae,n:()=>ye,o:()=>he,p:()=>W,q:()=>me,r:()=>K,s:()=>it,t:()=>T,u:()=>z});const T=(fe,Me=0)=>new Promise(xe=>{u(fe,Me,xe)}),u=(fe,Me=0,xe)=>{let Ue,Re;const $e={passive:!0},ze=()=>{Ue&&Ue()},rt=wt=>{(void 0===wt||fe===wt.target)&&(ze(),xe(wt))};return fe&&(fe.addEventListener("webkitTransitionEnd",rt,$e),fe.addEventListener("transitionend",rt,$e),Re=setTimeout(rt,Me+500),Ue=()=>{Re&&(clearTimeout(Re),Re=void 0),fe.removeEventListener("webkitTransitionEnd",rt,$e),fe.removeEventListener("transitionend",rt,$e)}),ze},le=(fe,Me)=>{fe.componentOnReady?fe.componentOnReady().then(xe=>Me(xe)):K(()=>Me(fe))},se=(fe,Me=[])=>{const xe={};return Me.forEach(Ue=>{fe.hasAttribute(Ue)&&(null!==fe.getAttribute(Ue)&&(xe[Ue]=fe.getAttribute(Ue)),fe.removeAttribute(Ue))}),xe},q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ue=(fe,Me)=>{let xe=q;return Me&&Me.length>0&&(xe=xe.filter(Ue=>!Me.includes(Ue))),se(fe,xe)},V=(fe,Me,xe,Ue)=>{var Re;if(typeof window<"u"){const Q=null===(Re=window?.Ionic)||void 0===Re?void 0:Re.config;if(Q){const ze=Q.get("_ael");if(ze)return ze(fe,Me,xe,Ue);if(Q._ael)return Q._ael(fe,Me,xe,Ue)}}return fe.addEventListener(Me,xe,Ue)},H=(fe,Me,xe,Ue)=>{var Re;if(typeof window<"u"){const Q=null===(Re=window?.Ionic)||void 0===Re?void 0:Re.config;if(Q){const ze=Q.get("_rel");if(ze)return ze(fe,Me,xe,Ue);if(Q._rel)return Q._rel(fe,Me,xe,Ue)}}return fe.removeEventListener(Me,xe,Ue)},Ie=(fe,Me=fe)=>fe.shadowRoot||Me,K=fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe),ae=fe=>!!fe.shadowRoot&&!!fe.attachShadow,B=fe=>{const Me=fe.closest("ion-item");return Me?Me.querySelector("ion-label"):null},$=fe=>{if(fe.focus(),fe.classList.contains("ion-focusable")){const Me=fe.closest("ion-app");Me&&Me.setFocus([fe])}},G=(fe,Me)=>{let xe;const Ue=fe.getAttribute("aria-labelledby"),Re=fe.id;let $e=null!==Ue&&""!==Ue.trim()?Ue:Me+"-lbl",Q=null!==Ue&&""!==Ue.trim()?document.getElementById(Ue):B(fe);return Q?(null===Ue&&(Q.id=$e),xe=Q.textContent,Q.setAttribute("aria-hidden","true")):""!==Re.trim()&&(Q=document.querySelector(`label[for="${Re}"]`),Q&&(""!==Q.id?$e=Q.id:Q.id=$e=`${Re}-lbl`,xe=Q.textContent)),{label:Q,labelId:$e,labelText:xe}},Oe=(fe,Me,xe,Ue,Re)=>{if(fe||ae(Me)){let $e=Me.querySelector("input.aux-input");$e||($e=Me.ownerDocument.createElement("input"),$e.type="hidden",$e.classList.add("aux-input"),Me.appendChild($e)),$e.disabled=Re,$e.name=xe,$e.value=Ue||""}},Ne=(fe,Me,xe)=>Math.max(fe,Math.min(Me,xe)),ye=(fe,Me)=>{if(!fe){const xe="ASSERT: "+Me;throw console.error(xe),new Error(xe)}},z=fe=>fe.timeStamp||Date.now(),W=fe=>{if(fe){const Me=fe.changedTouches;if(Me&&Me.length>0){const xe=Me[0];return{x:xe.clientX,y:xe.clientY}}if(void 0!==fe.pageX)return{x:fe.pageX,y:fe.pageY}}return{x:0,y:0}},he=fe=>{const Me="rtl"===document.dir;switch(fe){case"start":return Me;case"end":return!Me;default:throw new Error(`"${fe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Pe=(fe,Me)=>{const xe=fe._original||fe;return{_original:fe,emit:me(xe.emit.bind(xe),Me)}},me=(fe,Me=0)=>{let xe;return(...Ue)=>{clearTimeout(xe),xe=setTimeout(fe,Me,...Ue)}},it=(fe,Me)=>{if(fe??(fe={}),Me??(Me={}),fe===Me)return!0;const xe=Object.keys(fe);if(xe.length!==Object.keys(Me).length)return!1;for(const Ue of xe)if(!(Ue in Me)||fe[Ue]!==Me[Ue])return!1;return!0}},6277:(Ve,We,R)=>{"use strict";R.d(We,{m:()=>ae});var T=R(3918),u=R(159),le=R(9259),se=R(8607),q=R(8211);const ue=B=>(0,q.c)().duration(B?400:300),V=B=>{let $,G;const Oe=B.width+8,Ne=(0,q.c)(),ye=(0,q.c)();B.isEndSide?($=Oe+"px",G="0px"):($=-Oe+"px",G="0px"),Ne.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${G})`);const W="ios"===(0,se.b)(B),he=W?.2:.25;return ye.addElement(B.backdropEl).fromTo("opacity",.01,he),ue(W).addAnimation([Ne,ye])},H=B=>{let $,G;const Oe=(0,se.b)(B),Ne=B.width;B.isEndSide?($=-Ne+"px",G=Ne+"px"):($=Ne+"px",G=-Ne+"px");const ye=(0,q.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${G})`,"translateX(0px)"),z=(0,q.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),W=(0,q.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return ue("ios"===Oe).addAnimation([ye,z,W])},Ie=B=>{const $=(0,se.b)(B),G=B.width*(B.isEndSide?-1:1)+"px",Oe=(0,q.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${G})`);return ue("ios"===$).addAnimation(Oe)},ae=(()=>{const B=new Map,$=[],G=function(){var O=(0,T.Z)(function*(_e){const Xe=yield Pe(_e);return!!Xe&&Xe.open()});return function(Xe){return O.apply(this,arguments)}}(),Oe=function(){var O=(0,T.Z)(function*(_e){const Xe=yield void 0!==_e?Pe(_e):me();return void 0!==Xe&&Xe.close()});return function(Xe){return O.apply(this,arguments)}}(),Ne=function(){var O=(0,T.Z)(function*(_e){const Xe=yield Pe(_e);return!!Xe&&Xe.toggle()});return function(Xe){return O.apply(this,arguments)}}(),ye=function(){var O=(0,T.Z)(function*(_e,Xe){const te=yield Pe(Xe);return te&&(te.disabled=!_e),te});return function(Xe,te){return O.apply(this,arguments)}}(),z=function(){var O=(0,T.Z)(function*(_e,Xe){const te=yield Pe(Xe);return te&&(te.swipeGesture=_e),te});return function(Xe,te){return O.apply(this,arguments)}}(),W=function(){var O=(0,T.Z)(function*(_e){if(null!=_e){const Xe=yield Pe(_e);return void 0!==Xe&&Xe.isOpen()}return void 0!==(yield me())});return function(Xe){return O.apply(this,arguments)}}(),he=function(){var O=(0,T.Z)(function*(_e){const Xe=yield Pe(_e);return!!Xe&&!Xe.disabled});return function(Xe){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,T.Z)(function*(_e){return yield Ye(),"start"===_e||"end"===_e?Ot(pe=>pe.side===_e&&!pe.disabled)||Ot(pe=>pe.side===_e):null!=_e?Ot(te=>te.menuId===_e):Ot(te=>!te.disabled)||($.length>0?$[0].el:void 0)});return function(Xe){return O.apply(this,arguments)}}(),me=function(){var O=(0,T.Z)(function*(){return yield Ye(),ze()});return function(){return O.apply(this,arguments)}}(),it=function(){var O=(0,T.Z)(function*(){return yield Ye(),rt()});return function(){return O.apply(this,arguments)}}(),fe=function(){var O=(0,T.Z)(function*(){return yield Ye(),wt()});return function(){return O.apply(this,arguments)}}(),Me=(O,_e)=>{B.set(O,_e)},Re=O=>{const _e=O.side;$.filter(Xe=>Xe.side===_e&&Xe!==O).forEach(Xe=>Xe.disabled=!0)},$e=function(){var O=(0,T.Z)(function*(_e,Xe,te){if(wt())return!1;if(Xe){const pe=yield me();pe&&_e.el!==pe&&(yield pe.setOpen(!1,!1))}return _e._setOpen(Xe,te)});return function(Xe,te,pe){return O.apply(this,arguments)}}(),ze=()=>Ot(O=>O._isOpen),rt=()=>$.map(O=>O.el),wt=()=>$.some(O=>O.isAnimating),Ot=O=>{const _e=$.find(O);if(void 0!==_e)return _e.el},Ye=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(_e=>(0,le.c)(O,_e))));return Me("reveal",Ie),Me("push",H),Me("overlay",V),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const _e=ze();_e&&O.detail.register(u.MENU_BACK_BUTTON_PRIORITY,()=>_e.close())}),{registerAnimation:Me,get:Pe,getMenus:it,getOpen:me,isEnabled:he,swipeGesture:z,isAnimating:fe,isOpen:W,enable:ye,toggle:Ne,close:Oe,open:G,_getOpenSync:ze,_createAnimation:(O,_e)=>{const Xe=B.get(O);if(!Xe)throw new Error("animation not registered");return Xe(_e)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Re(O),$.push(O))},_unregister:O=>{const _e=$.indexOf(O);_e>-1&&$.splice(_e,1)},_setOpen:$e,_setActiveMenu:Re}})()},2286:(Ve,We,R)=>{"use strict";R.d(We,{w:()=>T});const T=typeof window<"u"?window:void 0},1559:(Ve,We,R)=>{"use strict";R.d(We,{B:()=>gs,H:()=>J,a:()=>pe,b:()=>Io,c:()=>Di,e:()=>Ht,f:()=>Un,g:()=>Ee,h:()=>Lt,i:()=>In,j:()=>S,k:()=>D,p:()=>Ne,r:()=>Ci,s:()=>G});var T=R(3918);let le,se,q,ue=!1,V=!1,H=!1,Ie=!1,K=!1;const ae=typeof window<"u"?window:{},B=ae.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:x=>x(),raf:x=>requestAnimationFrame(x),ael:(x,F,ge,Te)=>x.addEventListener(F,ge,Te),rel:(x,F,ge,Te)=>x.removeEventListener(F,ge,Te),ce:(x,F)=>new CustomEvent(x,F)},G=x=>{Object.assign($,x)},Ne=x=>Promise.resolve(x),ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),z=(x,F,ge,Te)=>{ge&&ge.map(([oe,L,Z])=>{const ve=he(x,oe),et=W(F,Z),st=Pe(oe);$.ael(ve,L,et,st),(F.$rmListeners$=F.$rmListeners$||[]).push(()=>$.rel(ve,L,et,st))})},W=(x,F)=>ge=>{try{256&x.$flags$?x.$lazyInstance$[F](ge):(x.$queuedListeners$=x.$queuedListeners$||[]).push([F,ge])}catch(Te){Fo(Te)}},he=(x,F)=>4&F?B:8&F?ae:16&F?B.body:x,Pe=x=>0!=(2&x),xe="s-id",Ue="sty-id",Q="http://www.w3.org/1999/xlink",wt=new WeakMap,Ot=(x,F,ge)=>{let Te=ni.get(x);ye&&ge?(Te=Te||new CSSStyleSheet,"string"==typeof Te?Te=F:Te.replaceSync(F)):Te=F,ni.set(x,Te)},Ye=(x,F,ge,Te)=>{let oe=_e(F,ge);const L=ni.get(oe);if(x=11===x.nodeType?x:B,L)if("string"==typeof L){let ve,Z=wt.get(x=x.head||x);Z||wt.set(x,Z=new Set),Z.has(oe)||(x.host&&(ve=x.querySelector(`[${Ue}="${oe}"]`))?ve.innerHTML=L:(ve=B.createElement("style"),ve.innerHTML=L,x.insertBefore(ve,x.querySelector("link"))),Z&&Z.add(oe))}else x.adoptedStyleSheets.includes(L)||(x.adoptedStyleSheets=[...x.adoptedStyleSheets,L]);return oe},_e=(x,F)=>"sc-"+(F&&32&x.$flags$?x.$tagName$+"-"+F:x.$tagName$),Xe=x=>x.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),pe=x=>Wi.push(x),Ee=x=>Vr(x).$modeName$,Be={},Gt=x=>"object"==(x=typeof x)||"function"===x,Lt=(x,F,...ge)=>{let Te=null,oe=null,L=null,Z=!1,ve=!1;const et=[],st=jt=>{for(let tn=0;tn<jt.length;tn++)Te=jt[tn],Array.isArray(Te)?st(Te):null!=Te&&"boolean"!=typeof Te&&((Z="function"!=typeof x&&!Gt(Te))&&(Te=String(Te)),Z&&ve?et[et.length-1].$text$+=Te:et.push(Z?en(null,Te):Te),ve=Z)};if(st(ge),F){F.key&&(oe=F.key),F.name&&(L=F.name);{const jt=F.className||F.class;jt&&(F.class="object"!=typeof jt?jt:Object.keys(jt).filter(tn=>jt[tn]).join(" "))}}if("function"==typeof x)return x(null===F?{}:F,et,_r);const kt=en(x,null);return kt.$attrs$=F,et.length>0&&(kt.$children$=et),kt.$key$=oe,kt.$name$=L,kt},en=(x,F)=>({$flags$:0,$tag$:x,$text$:F,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),J={},_r={forEach:(x,F)=>x.map(nr).forEach(F),map:(x,F)=>x.map(nr).map(F).map(Eo)},nr=x=>({vattrs:x.$attrs$,vchildren:x.$children$,vkey:x.$key$,vname:x.$name$,vtag:x.$tag$,vtext:x.$text$}),Eo=x=>{if("function"==typeof x.vtag){const ge=Object.assign({},x.vattrs);return x.vkey&&(ge.key=x.vkey),x.vname&&(ge.name=x.vname),Lt(x.vtag,ge,...x.vchildren||[])}const F=en(x.vtag,x.vtext);return F.$attrs$=x.vattrs,F.$children$=x.vchildren,F.$key$=x.vkey,F.$name$=x.vname,F},Pr=(x,F,ge,Te,oe,L)=>{if(ge!==Te){let Z=yo(x,F),ve=F.toLowerCase();if("class"===F){const et=x.classList,st=Dn(ge),kt=Dn(Te);et.remove(...st.filter(jt=>jt&&!kt.includes(jt))),et.add(...kt.filter(jt=>jt&&!st.includes(jt)))}else if("style"===F){for(const et in ge)(!Te||null==Te[et])&&(et.includes("-")?x.style.removeProperty(et):x.style[et]="");for(const et in Te)(!ge||Te[et]!==ge[et])&&(et.includes("-")?x.style.setProperty(et,Te[et]):x.style[et]=Te[et])}else if("key"!==F)if("ref"===F)Te&&Te(x);else if(Z||"o"!==F[0]||"n"!==F[1]){const et=Gt(Te);if((Z||et&&null!==Te)&&!oe)try{if(x.tagName.includes("-"))x[F]=Te;else{const kt=Te??"";"list"===F?Z=!1:(null==ge||x[F]!=kt)&&(x[F]=kt)}}catch{}let st=!1;ve!==(ve=ve.replace(/^xlink\:?/,""))&&(F=ve,st=!0),null==Te||!1===Te?(!1!==Te||""===x.getAttribute(F))&&(st?x.removeAttributeNS(Q,F):x.removeAttribute(F)):(!Z||4&L||oe)&&!et&&(Te=!0===Te?"":Te,st?x.setAttributeNS(Q,F,Te):x.setAttribute(F,Te))}else F="-"===F[2]?F.slice(3):yo(ae,ve)?ve.slice(2):ve[2]+F.slice(3),ge&&$.rel(x,F,ge,!1),Te&&$.ael(x,F,Te,!1)}},ei=/\s/,Dn=x=>x?x.split(ei):[],Ir=(x,F,ge,Te)=>{const oe=11===F.$elm$.nodeType&&F.$elm$.host?F.$elm$.host:F.$elm$,L=x&&x.$attrs$||Be,Z=F.$attrs$||Be;for(Te in L)Te in Z||Pr(oe,Te,L[Te],void 0,ge,F.$flags$);for(Te in Z)Pr(oe,Te,L[Te],Z[Te],ge,F.$flags$)},Fn=(x,F,ge,Te)=>{const oe=F.$children$[ge];let Z,ve,et,L=0;if(ue||(H=!0,"slot"===oe.$tag$&&(le&&Te.classList.add(le+"-s"),oe.$flags$|=oe.$children$?2:1)),null!==oe.$text$)Z=oe.$elm$=B.createTextNode(oe.$text$);else if(1&oe.$flags$)Z=oe.$elm$=B.createTextNode("");else{if(Ie||(Ie="svg"===oe.$tag$),Z=oe.$elm$=B.createElementNS(Ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&oe.$flags$?"slot-fb":oe.$tag$),Ie&&"foreignObject"===oe.$tag$&&(Ie=!1),Ir(null,oe,Ie),(x=>null!=x)(le)&&Z["s-si"]!==le&&Z.classList.add(Z["s-si"]=le),oe.$children$)for(L=0;L<oe.$children$.length;++L)ve=Fn(x,oe,L,Z),ve&&Z.appendChild(ve);"svg"===oe.$tag$?Ie=!1:"foreignObject"===Z.tagName&&(Ie=!0)}return Z["s-hn"]=q,3&oe.$flags$&&(Z["s-sr"]=!0,Z["s-cr"]=se,Z["s-sn"]=oe.$name$||"",et=x&&x.$children$&&x.$children$[ge],et&&et.$tag$===oe.$tag$&&x.$elm$&&Ho(x.$elm$,!1)),Z},Ho=(x,F)=>{$.$flags$|=1;const ge=x.childNodes;for(let Te=ge.length-1;Te>=0;Te--){const oe=ge[Te];oe["s-hn"]!==q&&oe["s-ol"]&&(Sn(oe).insertBefore(oe,ho(oe)),oe["s-ol"].remove(),oe["s-ol"]=void 0,H=!0),F&&Ho(oe,F)}$.$flags$&=-2},Zr=(x,F,ge,Te,oe,L)=>{let ve,Z=x["s-cr"]&&x["s-cr"].parentNode||x;for(Z.shadowRoot&&Z.tagName===q&&(Z=Z.shadowRoot);oe<=L;++oe)Te[oe]&&(ve=Fn(null,ge,oe,x),ve&&(Te[oe].$elm$=ve,Z.insertBefore(ve,ho(F))))},fr=(x,F,ge,Te,oe)=>{for(;F<=ge;++F)(Te=x[F])&&(oe=Te.$elm$,Ge(Te),V=!0,oe["s-ol"]?oe["s-ol"].remove():Ho(oe,!0),oe.remove())},Do=(x,F)=>x.$tag$===F.$tag$&&("slot"===x.$tag$?x.$name$===F.$name$:x.$key$===F.$key$),ho=x=>x&&x["s-ol"]||x,Sn=x=>(x["s-ol"]?x["s-ol"]:x).parentNode,io=(x,F)=>{const ge=F.$elm$=x.$elm$,Te=x.$children$,oe=F.$children$,L=F.$tag$,Z=F.$text$;let ve;null===Z?(Ie="svg"===L||"foreignObject"!==L&&Ie,"slot"===L||Ir(x,F,Ie),null!==Te&&null!==oe?((x,F,ge,Te)=>{let _o,Hr,oe=0,L=0,Z=0,ve=0,et=F.length-1,st=F[0],kt=F[et],jt=Te.length-1,tn=Te[0],lr=Te[jt];for(;oe<=et&&L<=jt;)if(null==st)st=F[++oe];else if(null==kt)kt=F[--et];else if(null==tn)tn=Te[++L];else if(null==lr)lr=Te[--jt];else if(Do(st,tn))io(st,tn),st=F[++oe],tn=Te[++L];else if(Do(kt,lr))io(kt,lr),kt=F[--et],lr=Te[--jt];else if(Do(st,lr))("slot"===st.$tag$||"slot"===lr.$tag$)&&Ho(st.$elm$.parentNode,!1),io(st,lr),x.insertBefore(st.$elm$,kt.$elm$.nextSibling),st=F[++oe],lr=Te[--jt];else if(Do(kt,tn))("slot"===st.$tag$||"slot"===lr.$tag$)&&Ho(kt.$elm$.parentNode,!1),io(kt,tn),x.insertBefore(kt.$elm$,st.$elm$),kt=F[--et],tn=Te[++L];else{for(Z=-1,ve=oe;ve<=et;++ve)if(F[ve]&&null!==F[ve].$key$&&F[ve].$key$===tn.$key$){Z=ve;break}Z>=0?(Hr=F[Z],Hr.$tag$!==tn.$tag$?_o=Fn(F&&F[L],ge,Z,x):(io(Hr,tn),F[Z]=void 0,_o=Hr.$elm$),tn=Te[++L]):(_o=Fn(F&&F[L],ge,L,x),tn=Te[++L]),_o&&Sn(st.$elm$).insertBefore(_o,ho(st.$elm$))}oe>et?Zr(x,null==Te[jt+1]?null:Te[jt+1].$elm$,ge,Te,L,jt):L>jt&&fr(F,oe,et)})(ge,Te,F,oe):null!==oe?(null!==x.$text$&&(ge.textContent=""),Zr(ge,null,F,oe,0,oe.length-1)):null!==Te&&fr(Te,0,Te.length-1),Ie&&"svg"===L&&(Ie=!1)):(ve=ge["s-cr"])?ve.parentNode.textContent=Z:x.$text$!==Z&&(ge.data=Z)},wi=x=>{const F=x.childNodes;let ge,Te,oe,L,Z,ve;for(Te=0,oe=F.length;Te<oe;Te++)if(ge=F[Te],1===ge.nodeType){if(ge["s-sr"])for(Z=ge["s-sn"],ge.hidden=!1,L=0;L<oe;L++)if(ve=F[L].nodeType,F[L]["s-hn"]!==ge["s-hn"]||""!==Z){if(1===ve&&Z===F[L].getAttribute("slot")){ge.hidden=!0;break}}else if(1===ve||3===ve&&""!==F[L].textContent.trim()){ge.hidden=!0;break}wi(ge)}},Lr=[],lt=x=>{let F,ge,Te,oe,L,Z,ve=0;const et=x.childNodes,st=et.length;for(;ve<st;ve++){if(F=et[ve],F["s-sr"]&&(ge=F["s-cr"])&&ge.parentNode)for(Te=ge.parentNode.childNodes,oe=F["s-sn"],Z=Te.length-1;Z>=0;Z--)ge=Te[Z],!ge["s-cn"]&&!ge["s-nr"]&&ge["s-hn"]!==F["s-hn"]&&(de(ge,oe)?(L=Lr.find(kt=>kt.$nodeToRelocate$===ge),V=!0,ge["s-sn"]=ge["s-sn"]||oe,L?L.$slotRefNode$=F:Lr.push({$slotRefNode$:F,$nodeToRelocate$:ge}),ge["s-sr"]&&Lr.map(kt=>{de(kt.$nodeToRelocate$,ge["s-sn"])&&(L=Lr.find(jt=>jt.$nodeToRelocate$===ge),L&&!kt.$slotRefNode$&&(kt.$slotRefNode$=L.$slotRefNode$))})):Lr.some(kt=>kt.$nodeToRelocate$===ge)||Lr.push({$nodeToRelocate$:ge}));1===F.nodeType&&lt(F)}},de=(x,F)=>1===x.nodeType?null===x.getAttribute("slot")&&""===F||x.getAttribute("slot")===F:x["s-sn"]===F||""===F,Ge=x=>{x.$attrs$&&x.$attrs$.ref&&x.$attrs$.ref(null),x.$children$&&x.$children$.map(Ge)},In=x=>Vr(x).$hostElement$,Ht=(x,F,ge)=>{const Te=In(x);return{emit:oe=>fn(Te,F,{bubbles:!!(4&ge),composed:!!(2&ge),cancelable:!!(1&ge),detail:oe})}},fn=(x,F,ge)=>{const Te=$.ce(F,ge);return x.dispatchEvent(Te),Te},ir=(x,F)=>{F&&!x.$onRenderResolve$&&F["s-p"]&&F["s-p"].push(new Promise(ge=>x.$onRenderResolve$=ge))},an=(x,F)=>{if(x.$flags$|=16,!(4&x.$flags$))return ir(x,x.$ancestorComponent$),Di(()=>er(x,F));x.$flags$|=512},er=(x,F)=>{const Te=x.$lazyInstance$;let oe;return F&&(x.$flags$|=256,x.$queuedListeners$&&(x.$queuedListeners$.map(([L,Z])=>sr(Te,L,Z)),x.$queuedListeners$=null),oe=sr(Te,"componentWillLoad")),oe=E(oe,()=>sr(Te,"componentWillRender")),E(oe,()=>pr(x,Te,F))},pr=function(){var x=(0,T.Z)(function*(F,ge,Te){const oe=F.$hostElement$,Z=oe["s-rc"];Te&&(x=>{const F=x.$cmpMeta$,ge=x.$hostElement$,Te=F.$flags$,L=Ye(ge.shadowRoot?ge.shadowRoot:ge.getRootNode(),F,x.$modeName$);10&Te&&(ge["s-sc"]=L,ge.classList.add(L+"-h"),2&Te&&ge.classList.add(L+"-s"))})(F);Jt(F,ge),Z&&(Z.map(et=>et()),oe["s-rc"]=void 0);{const et=oe["s-p"],st=()=>hr(F);0===et.length?st():(Promise.all(et).then(st),F.$flags$|=4,et.length=0)}});return function(ge,Te,oe){return x.apply(this,arguments)}}(),Jt=(x,F,ge)=>{try{F=F.render&&F.render(),x.$flags$&=-17,x.$flags$|=2,((x,F)=>{const ge=x.$hostElement$,Te=x.$cmpMeta$,oe=x.$vnode$||en(null,null),L=(x=>x&&x.$tag$===J)(F)?F:Lt(null,null,F);if(q=ge.tagName,Te.$attrsToReflect$&&(L.$attrs$=L.$attrs$||{},Te.$attrsToReflect$.map(([Z,ve])=>L.$attrs$[ve]=ge[Z])),L.$tag$=null,L.$flags$|=4,x.$vnode$=L,L.$elm$=oe.$elm$=ge.shadowRoot||ge,le=ge["s-sc"],se=ge["s-cr"],ue=0!=(1&Te.$flags$),V=!1,io(oe,L),$.$flags$|=1,H){lt(L.$elm$);let Z,ve,et,st,kt,jt,tn=0;for(;tn<Lr.length;tn++)Z=Lr[tn],ve=Z.$nodeToRelocate$,ve["s-ol"]||(et=B.createTextNode(""),et["s-nr"]=ve,ve.parentNode.insertBefore(ve["s-ol"]=et,ve));for(tn=0;tn<Lr.length;tn++)if(Z=Lr[tn],ve=Z.$nodeToRelocate$,Z.$slotRefNode$){for(st=Z.$slotRefNode$.parentNode,kt=Z.$slotRefNode$.nextSibling,et=ve["s-ol"];et=et.previousSibling;)if(jt=et["s-nr"],jt&&jt["s-sn"]===ve["s-sn"]&&st===jt.parentNode&&(jt=jt.nextSibling,!jt||!jt["s-nr"])){kt=jt;break}(!kt&&st!==ve.parentNode||ve.nextSibling!==kt)&&ve!==kt&&(!ve["s-hn"]&&ve["s-ol"]&&(ve["s-hn"]=ve["s-ol"].parentNode.nodeName),st.insertBefore(ve,kt))}else 1===ve.nodeType&&(ve.hidden=!0)}V&&wi(L.$elm$),$.$flags$&=-2,Lr.length=0})(x,F)}catch(Te){Fo(Te,x.$hostElement$)}return null},hr=x=>{const ge=x.$hostElement$,oe=x.$lazyInstance$,L=x.$ancestorComponent$;sr(oe,"componentDidRender"),64&x.$flags$?sr(oe,"componentDidUpdate"):(x.$flags$|=64,vr(ge),sr(oe,"componentDidLoad"),x.$onReadyResolve$(ge),L||Ut()),x.$onInstanceResolve$(ge),x.$onRenderResolve$&&(x.$onRenderResolve$(),x.$onRenderResolve$=void 0),512&x.$flags$&&ri(()=>an(x,!1)),x.$flags$&=-517},S=x=>{{const F=Vr(x),ge=F.$hostElement$.isConnected;return ge&&2==(18&F.$flags$)&&an(F,!1),ge}},Ut=x=>{vr(B.documentElement),ri(()=>fn(ae,"appload",{detail:{namespace:"ionic"}}))},sr=(x,F,ge)=>{if(x&&x[F])try{return x[F](ge)}catch(Te){Fo(Te)}},E=(x,F)=>x&&x.then?x.then(F):F(),vr=x=>x.classList.add("hydrated"),go=(x,F,ge,Te,oe,L,Z)=>{let ve,et,st,kt;if(1===L.nodeType){for(ve=L.getAttribute("c-id"),ve&&(et=ve.split("."),(et[0]===Z||"0"===et[0])&&(st={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:L.tagName.toLowerCase(),$elm$:L,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},F.push(st),L.removeAttribute("c-id"),x.$children$||(x.$children$=[]),x.$children$[st.$index$]=st,x=st,Te&&"0"===st.$depth$&&(Te[st.$index$]=st.$elm$))),kt=L.childNodes.length-1;kt>=0;kt--)go(x,F,ge,Te,oe,L.childNodes[kt],Z);if(L.shadowRoot)for(kt=L.shadowRoot.childNodes.length-1;kt>=0;kt--)go(x,F,ge,Te,oe,L.shadowRoot.childNodes[kt],Z)}else if(8===L.nodeType)et=L.nodeValue.split("."),(et[1]===Z||"0"===et[1])&&(ve=et[0],st={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:L,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ve?(st.$elm$=L.nextSibling,st.$elm$&&3===st.$elm$.nodeType&&(st.$text$=st.$elm$.textContent,F.push(st),L.remove(),x.$children$||(x.$children$=[]),x.$children$[st.$index$]=st,Te&&"0"===st.$depth$&&(Te[st.$index$]=st.$elm$))):st.$hostId$===Z&&("s"===ve?(st.$tag$="slot",L["s-sn"]=et[5]?st.$name$=et[5]:"",L["s-sr"]=!0,Te&&(st.$elm$=B.createElement(st.$tag$),st.$name$&&st.$elm$.setAttribute("name",st.$name$),L.parentNode.insertBefore(st.$elm$,L),L.remove(),"0"===st.$depth$&&(Te[st.$index$]=st.$elm$)),ge.push(st),x.$children$||(x.$children$=[]),x.$children$[st.$index$]=st):"r"===ve&&(Te?L.remove():(oe["s-cr"]=L,L["s-cn"]=!0))));else if(x&&"style"===x.$tag$){const jt=en(null,L.textContent);jt.$elm$=L,jt.$index$="0",x.$children$=[jt]}},jo=(x,F)=>{if(1===x.nodeType){let ge=0;for(;ge<x.childNodes.length;ge++)jo(x.childNodes[ge],F);if(x.shadowRoot)for(ge=0;ge<x.shadowRoot.childNodes.length;ge++)jo(x.shadowRoot.childNodes[ge],F)}else if(8===x.nodeType){const ge=x.nodeValue.split(".");"o"===ge[0]&&(F.set(ge[1]+"."+ge[2],x),x.nodeValue="",x["s-en"]=ge[3])}},so=(x,F,ge)=>{if(F.$members$){x.watchers&&(F.$watchers$=x.watchers);const Te=Object.entries(F.$members$),oe=x.prototype;if(Te.map(([L,[Z]])=>{31&Z||2&ge&&32&Z?Object.defineProperty(oe,L,{get(){return((x,F)=>Vr(this).$instanceValues$.get(F))(0,L)},set(ve){((x,F,ge,Te)=>{const oe=Vr(x),L=oe.$hostElement$,Z=oe.$instanceValues$.get(F),ve=oe.$flags$,et=oe.$lazyInstance$;ge=((x,F)=>null==x||Gt(x)?x:4&F?"false"!==x&&(""===x||!!x):2&F?parseFloat(x):1&F?String(x):x)(ge,Te.$members$[F][0]);const st=Number.isNaN(Z)&&Number.isNaN(ge);if((!(8&ve)||void 0===Z)&&ge!==Z&&!st&&(oe.$instanceValues$.set(F,ge),et)){if(Te.$watchers$&&128&ve){const jt=Te.$watchers$[F];jt&&jt.map(tn=>{try{et[tn](ge,Z,F)}catch(lr){Fo(lr,L)}})}2==(18&ve)&&an(oe,!1)}})(this,L,ve,F)},configurable:!0,enumerable:!0}):1&ge&&64&Z&&Object.defineProperty(oe,L,{value(...ve){const et=Vr(this);return et.$onInstancePromise$.then(()=>et.$lazyInstance$[L](...ve))}})}),1&ge){const L=new Map;oe.attributeChangedCallback=function(Z,ve,et){$.jmp(()=>{const st=L.get(Z);if(this.hasOwnProperty(st))et=this[st],delete this[st];else if(oe.hasOwnProperty(st)&&"number"==typeof this[st]&&this[st]==et)return;this[st]=(null!==et||"boolean"!=typeof this[st])&&et})},x.observedAttributes=Te.filter(([Z,ve])=>15&ve[0]).map(([Z,ve])=>{const et=ve[1]||Z;return L.set(et,Z),512&ve[0]&&F.$attrsToReflect$.push([Z,et]),et})}}return x},ar=function(){var x=(0,T.Z)(function*(F,ge,Te,oe,L){if(0==(32&ge.$flags$)){{if(ge.$flags$|=32,(L=Kr(Te)).then){const st=()=>{};L=yield L,st()}L.isProxied||(Te.$watchers$=L.watchers,so(L,Te,2),L.isProxied=!0);const et=()=>{};ge.$flags$|=8;try{new L(ge)}catch(st){Fo(st)}ge.$flags$&=-9,ge.$flags$|=128,et(),ao(ge.$lazyInstance$)}if(L.style){let et=L.style;"string"!=typeof et&&(et=et[ge.$modeName$=(x=>Wi.map(F=>F(x)).find(F=>!!F))(F)]);const st=_e(Te,ge.$modeName$);if(!ni.has(st)){const kt=()=>{};Ot(st,et,!!(1&Te.$flags$)),kt()}}}const Z=ge.$ancestorComponent$,ve=()=>an(ge,!0);Z&&Z["s-rc"]?Z["s-rc"].push(ve):ve()});return function(ge,Te,oe,L,Z){return x.apply(this,arguments)}}(),ao=x=>{sr(x,"connectedCallback")},ti=x=>{const F=x["s-cr"]=B.createComment("");F["s-cn"]=!0,x.insertBefore(F,x.firstChild)},Io=(x,F={})=>{const Te=[],oe=F.exclude||[],L=ae.customElements,Z=B.head,ve=Z.querySelector("meta[charset]"),et=B.createElement("style"),st=[],kt=B.querySelectorAll(`[${Ue}]`);let jt,tn=!0,lr=0;for(Object.assign($,F),$.$resourcesUrl$=new URL(F.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;lr<kt.length;lr++)Ot(kt[lr].getAttribute(Ue),Xe(kt[lr].innerHTML),!0);x.map(_o=>{_o[1].map(Hr=>{const Er={$flags$:Hr[0],$tagName$:Hr[1],$members$:Hr[2],$listeners$:Hr[3]};Er.$members$=Hr[2],Er.$listeners$=Hr[3],Er.$attrsToReflect$=[],Er.$watchers$={};const qi=Er.$tagName$,oi=class extends HTMLElement{constructor(Ii){super(Ii),as(Ii=this,Er),1&Er.$flags$&&Ii.attachShadow({mode:"open",delegatesFocus:!!(16&Er.$flags$)})}connectedCallback(){jt&&(clearTimeout(jt),jt=null),tn?st.push(this):$.jmp(()=>(x=>{if(0==(1&$.$flags$)){const F=Vr(x),ge=F.$cmpMeta$,Te=()=>{};if(1&F.$flags$)z(x,F,ge.$listeners$),ao(F.$lazyInstance$);else{let oe;if(F.$flags$|=1,oe=x.getAttribute(xe),oe){if(1&ge.$flags$){const L=Ye(x.shadowRoot,ge,x.getAttribute("s-mode"));x.classList.remove(L+"-h",L+"-s")}((x,F,ge,Te)=>{const L=x.shadowRoot,Z=[],et=L?[]:null,st=Te.$vnode$=en(F,null);$.$orgLocNodes$||jo(B.body,$.$orgLocNodes$=new Map),x[xe]=ge,x.removeAttribute(xe),go(st,Z,[],et,x,x,ge),Z.map(kt=>{const jt=kt.$hostId$+"."+kt.$nodeId$,tn=$.$orgLocNodes$.get(jt),lr=kt.$elm$;tn&&""===tn["s-en"]&&tn.parentNode.insertBefore(lr,tn.nextSibling),L||(lr["s-hn"]=F,tn&&(lr["s-ol"]=tn,lr["s-ol"]["s-nr"]=lr)),$.$orgLocNodes$.delete(jt)}),L&&et.map(kt=>{kt&&L.appendChild(kt)})})(x,ge.$tagName$,oe,F)}oe||12&ge.$flags$&&ti(x);{let L=x;for(;L=L.parentNode||L.host;)if(1===L.nodeType&&L.hasAttribute("s-id")&&L["s-p"]||L["s-p"]){ir(F,F.$ancestorComponent$=L);break}}ge.$members$&&Object.entries(ge.$members$).map(([L,[Z]])=>{if(31&Z&&x.hasOwnProperty(L)){const ve=x[L];delete x[L],x[L]=ve}}),ri(()=>ar(x,F,ge))}Te()}})(this))}disconnectedCallback(){$.jmp(()=>(x=>{if(0==(1&$.$flags$)){const F=Vr(this),ge=F.$lazyInstance$;F.$rmListeners$&&(F.$rmListeners$.map(Te=>Te()),F.$rmListeners$=void 0),sr(ge,"disconnectedCallback")}})())}componentOnReady(){return Vr(this).$onReadyPromise$}};Er.$lazyBundleId$=_o[0],!oe.includes(qi)&&!L.get(qi)&&(Te.push(qi),L.define(qi,so(oi,Er,1)))})}),et.innerHTML=Te+"{visibility:hidden}.hydrated{visibility:inherit}",et.setAttribute("data-styles",""),Z.insertBefore(et,ve?ve.nextSibling:Z.firstChild),tn=!1,st.length?st.map(_o=>_o.connectedCallback()):$.jmp(()=>jt=setTimeout(Ut,30))},D=x=>{const F=new URL(x,$.$resourcesUrl$);return F.origin!==ae.location.origin?F.href:F.pathname},Rr=new WeakMap,Vr=x=>Rr.get(x),Ci=(x,F)=>Rr.set(F.$lazyInstance$=x,F),as=(x,F)=>{const ge={$flags$:0,$hostElement$:x,$cmpMeta$:F,$instanceValues$:new Map};return ge.$onInstancePromise$=new Promise(Te=>ge.$onInstanceResolve$=Te),ge.$onReadyPromise$=new Promise(Te=>ge.$onReadyResolve$=Te),x["s-p"]=[],x["s-rc"]=[],z(x,ge,F.$listeners$),Rr.set(x,ge)},yo=(x,F)=>F in x,Fo=(x,F)=>(0,console.error)(x,F),zi=new Map,Kr=(x,F,ge)=>{const Te=x.$tagName$.replace(/-/g,"_"),oe=x.$lazyBundleId$,L=zi.get(oe);return L?L[Te]:R(863)(`./${oe}.entry.js`).then(Z=>(zi.set(oe,Z),Z[Te]),Fo)},ni=new Map,Wi=[],Zn=[],Uo=[],Si=(x,F)=>ge=>{x.push(ge),K||(K=!0,F&&4&$.$flags$?ri(On):$.raf(On))},Ei=x=>{for(let F=0;F<x.length;F++)try{x[F](performance.now())}catch(ge){Fo(ge)}x.length=0},On=()=>{Ei(Zn),Ei(Uo),(K=Zn.length>0)&&$.raf(On)},ri=x=>Ne().then(x),Un=Si(Zn,!1),Di=Si(Uo,!0),gs={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},1856:(Ve,We,R)=>{"use strict";R.d(We,{L:()=>se,a:()=>q,b:()=>ue,c:()=>V,d:()=>H,e:()=>Me,g:()=>Re,l:()=>it,s:()=>xe,t:()=>ae});var T=R(3918),u=R(1559),le=R(9259);const se="ionViewWillEnter",q="ionViewDidEnter",ue="ionViewWillLeave",V="ionViewDidLeave",H="ionViewWillUnload",ae=$e=>new Promise((Q,ze)=>{(0,u.c)(()=>{B($e),$($e).then(rt=>{rt.animation&&rt.animation.destroy(),G($e),Q(rt)},rt=>{G($e),ze(rt)})})}),B=$e=>{const Q=$e.enteringEl,ze=$e.leavingEl;Ue(Q,ze,$e.direction),$e.showGoBack?Q.classList.add("can-go-back"):Q.classList.remove("can-go-back"),xe(Q,!1),Q.style.setProperty("pointer-events","none"),ze&&(xe(ze,!1),ze.style.setProperty("pointer-events","none"))},$=function(){var $e=(0,T.Z)(function*(Q){const ze=yield Oe(Q);return ze&&u.B.isBrowser?Ne(ze,Q):ye(Q)});return function(ze){return $e.apply(this,arguments)}}(),G=$e=>{const Q=$e.enteringEl,ze=$e.leavingEl;Q.classList.remove("ion-page-invisible"),Q.style.removeProperty("pointer-events"),void 0!==ze&&(ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"))},Oe=function(){var $e=(0,T.Z)(function*(Q){return Q.leavingEl&&Q.animated&&0!==Q.duration?Q.animationBuilder?Q.animationBuilder:"ios"===Q.mode?(yield Promise.resolve().then(R.bind(R,9591))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,2797))).mdTransitionAnimation:void 0});return function(ze){return $e.apply(this,arguments)}}(),Ne=function(){var $e=(0,T.Z)(function*(Q,ze){yield z(ze,!0);const rt=Q(ze.baseEl,ze);Pe(ze.enteringEl,ze.leavingEl);const wt=yield he(rt,ze);return ze.progressCallback&&ze.progressCallback(void 0),wt&&me(ze.enteringEl,ze.leavingEl),{hasCompleted:wt,animation:rt}});return function(ze,rt){return $e.apply(this,arguments)}}(),ye=function(){var $e=(0,T.Z)(function*(Q){const ze=Q.enteringEl,rt=Q.leavingEl;return yield z(Q,!1),Pe(ze,rt),me(ze,rt),{hasCompleted:!0}});return function(ze){return $e.apply(this,arguments)}}(),z=function(){var $e=(0,T.Z)(function*(Q,ze){const wt=(void 0!==Q.deepWait?Q.deepWait:ze)?[Me(Q.enteringEl),Me(Q.leavingEl)]:[fe(Q.enteringEl),fe(Q.leavingEl)];yield Promise.all(wt),yield W(Q.viewIsReady,Q.enteringEl)});return function(ze,rt){return $e.apply(this,arguments)}}(),W=function(){var $e=(0,T.Z)(function*(Q,ze){Q&&(yield Q(ze))});return function(ze,rt){return $e.apply(this,arguments)}}(),he=($e,Q)=>{const ze=Q.progressCallback,rt=new Promise(wt=>{$e.onFinish(Ot=>wt(1===Ot))});return ze?($e.progressStart(!0),ze($e)):$e.play(),rt},Pe=($e,Q)=>{it(Q,ue),it($e,se)},me=($e,Q)=>{it($e,q),it(Q,V)},it=($e,Q)=>{if($e){const ze=new CustomEvent(Q,{bubbles:!1,cancelable:!1});$e.dispatchEvent(ze)}},fe=$e=>$e?new Promise(Q=>(0,le.c)($e,Q)):Promise.resolve(),Me=function(){var $e=(0,T.Z)(function*(Q){const ze=Q;if(ze){if(null!=ze.componentOnReady){if(null!=(yield ze.componentOnReady()))return}else if(null!=ze.__registerHost)return void(yield new Promise(wt=>(0,le.r)(wt)));yield Promise.all(Array.from(ze.children).map(Me))}});return function(ze){return $e.apply(this,arguments)}}(),xe=($e,Q)=>{Q?($e.setAttribute("aria-hidden","true"),$e.classList.add("ion-page-hidden")):($e.hidden=!1,$e.removeAttribute("aria-hidden"),$e.classList.remove("ion-page-hidden"))},Ue=($e,Q,ze)=>{void 0!==$e&&($e.style.zIndex="back"===ze?"99":"101"),void 0!==Q&&(Q.style.zIndex="100")},Re=$e=>$e.classList.contains("ion-page")?$e:$e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||$e},9286:(Ve,We,R)=>{"use strict";R.r(We),R.d(We,{GESTURE_CONTROLLER:()=>T.G,createGesture:()=>Ie});var T=R(6379);const u=($,G,Oe,Ne)=>{const ye=le($)?{capture:!!Ne.capture,passive:!!Ne.passive}:!!Ne.capture;let z,W;return $.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",W="__zone_symbol__removeEventListener"):(z="addEventListener",W="removeEventListener"),$[z](G,Oe,ye),()=>{$[W](G,Oe,ye)}},le=$=>{if(void 0===se)try{const G=Object.defineProperty({},"passive",{get:()=>{se=!0}});$.addEventListener("optsTest",()=>{},G)}catch{se=!1}return!!se};let se;const V=$=>$ instanceof Document?$:$.ownerDocument,Ie=$=>{let G=!1,Oe=!1,Ne=!0,ye=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),W=z.canStart,he=z.onWillStart,Pe=z.onStart,me=z.onEnd,it=z.notCaptured,fe=z.onMove,Me=z.threshold,xe=z.passive,Ue=z.blurOnStart,Re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},$e=(($,G,Oe)=>{const Ne=Oe*(Math.PI/180),ye="x"===$,z=Math.cos(Ne),W=G*G;let he=0,Pe=0,me=!1,it=0;return{start(fe,Me){he=fe,Pe=Me,it=0,me=!0},detect(fe,Me){if(!me)return!1;const xe=fe-he,Ue=Me-Pe,Re=xe*xe+Ue*Ue;if(Re<W)return!1;const $e=Math.sqrt(Re),Q=(ye?xe:Ue)/$e;return it=Q>z?1:Q<-z?-1:0,me=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(z.direction,z.threshold,z.maxAngle),Q=T.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),wt=()=>{!G||(ye=!1,fe&&fe(Re))},Ot=()=>!!Q.capture()&&(G=!0,Ne=!1,Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime,he?he(Re).then(O):O(),!0),O=()=>{Ue&&(()=>{if(typeof document<"u"){const Ee=document.activeElement;Ee?.blur&&Ee.blur()}})(),Pe&&Pe(Re),Ne=!0},_e=()=>{G=!1,Oe=!1,ye=!1,Ne=!0,Q.release()},Xe=Ee=>{const Be=G,_t=Ne;if(_e(),_t){if(K(Re,Ee),Be)return void(me&&me(Re));it&&it(Re)}},te=(($,G,Oe,Ne,ye)=>{let z,W,he,Pe,me,it,fe,Me=0;const xe=Ye=>{Me=Date.now()+2e3,G(Ye)&&(!W&&Oe&&(W=u($,"touchmove",Oe,ye)),he||(he=u(Ye.target,"touchend",Re,ye)),Pe||(Pe=u(Ye.target,"touchcancel",Re,ye)))},Ue=Ye=>{Me>Date.now()||!G(Ye)||(!it&&Oe&&(it=u(V($),"mousemove",Oe,ye)),fe||(fe=u(V($),"mouseup",$e,ye)))},Re=Ye=>{Q(),Ne&&Ne(Ye)},$e=Ye=>{ze(),Ne&&Ne(Ye)},Q=()=>{W&&W(),he&&he(),Pe&&Pe(),W=he=Pe=void 0},ze=()=>{it&&it(),fe&&fe(),it=fe=void 0},rt=()=>{Q(),ze()},wt=(Ye=!0)=>{Ye?(z||(z=u($,"touchstart",xe,ye)),me||(me=u($,"mousedown",Ue,ye))):(z&&z(),me&&me(),z=me=void 0,rt())};return{enable:wt,stop:rt,destroy:()=>{wt(!1),Ne=Oe=G=void 0}}})(z.el,Ee=>{const Be=B(Ee);return!(Oe||!Ne||(ae(Ee,Re),Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime=Be,Re.velocityX=Re.velocityY=Re.deltaX=Re.deltaY=0,Re.event=Ee,W&&!1===W(Re))||(Q.release(),!Q.start()))&&(Oe=!0,0===Me?Ot():($e.start(Re.startX,Re.startY),!0))},Ee=>{G?!ye&&Ne&&(ye=!0,K(Re,Ee),requestAnimationFrame(wt)):(K(Re,Ee),$e.detect(Re.currentX,Re.currentY)&&(!$e.isGesture()||!Ot())&&pe())},Xe,{capture:!1,passive:xe}),pe=()=>{_e(),te.stop(),it&&it(Re)};return{enable(Ee=!0){Ee||(G&&Xe(void 0),_e()),te.enable(Ee)},destroy(){Q.destroy(),te.destroy()}}},K=($,G)=>{if(!G)return;const Oe=$.currentX,Ne=$.currentY,ye=$.currentTime;ae(G,$);const z=$.currentX,W=$.currentY,Pe=($.currentTime=B(G))-ye;if(Pe>0&&Pe<100){const it=(W-Ne)/Pe;$.velocityX=(z-Oe)/Pe*.7+.3*$.velocityX,$.velocityY=.7*it+.3*$.velocityY}$.deltaX=z-$.startX,$.deltaY=W-$.startY,$.event=G},ae=($,G)=>{let Oe=0,Ne=0;if($){const ye=$.changedTouches;if(ye&&ye.length>0){const z=ye[0];Oe=z.clientX,Ne=z.clientY}else void 0!==$.pageX&&(Oe=$.pageX,Ne=$.pageY)}G.currentX=Oe,G.currentY=Ne},B=$=>$.timeStamp||Date.now()},8607:(Ve,We,R)=>{"use strict";R.d(We,{a:()=>ae,b:()=>wt,c:()=>le,g:()=>K,i:()=>Ot});var T=R(1559);class u{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,_e){const Xe=this.m.get(O);return void 0!==Xe?Xe:_e}getBoolean(O,_e=!1){const Xe=this.m.get(O);return void 0===Xe?_e:"string"==typeof Xe?"true"===Xe:!!Xe}getNumber(O,_e){const Xe=parseFloat(this.m.get(O));return isNaN(Xe)?void 0!==_e?_e:NaN:Xe}set(O,_e){this.m.set(O,_e)}}const le=new u,H="ionic:",Ie="ionic-persist-config",K=Ye=>B(Ye),ae=(Ye,O)=>("string"==typeof Ye&&(O=Ye,Ye=void 0),K(Ye).includes(O)),B=(Ye=window)=>{if(typeof Ye>"u")return[];Ye.Ionic=Ye.Ionic||{};let O=Ye.Ionic.platforms;return null==O&&(O=Ye.Ionic.platforms=$(Ye),O.forEach(_e=>Ye.document.documentElement.classList.add(`plt-${_e}`))),O},$=Ye=>{const O=le.get("platform");return Object.keys(ze).filter(_e=>{const Xe=O?.[_e];return"function"==typeof Xe?Xe(Ye):ze[_e](Ye)})},Oe=Ye=>!!($e(Ye,/iPad/i)||$e(Ye,/Macintosh/i)&&me(Ye)),z=Ye=>$e(Ye,/android|sink/i),me=Ye=>Q(Ye,"(any-pointer:coarse)"),fe=Ye=>Me(Ye)||xe(Ye),Me=Ye=>!!(Ye.cordova||Ye.phonegap||Ye.PhoneGap),xe=Ye=>!!Ye.Capacitor?.isNative,$e=(Ye,O)=>O.test(Ye.navigator.userAgent),Q=(Ye,O)=>{var _e;return null===(_e=Ye.matchMedia)||void 0===_e?void 0:_e.call(Ye,O).matches},ze={ipad:Oe,iphone:Ye=>$e(Ye,/iPhone/i),ios:Ye=>$e(Ye,/iPhone|iPod/i)||Oe(Ye),android:z,phablet:Ye=>{const O=Ye.innerWidth,_e=Ye.innerHeight,Xe=Math.min(O,_e),te=Math.max(O,_e);return Xe>390&&Xe<520&&te>620&&te<800},tablet:Ye=>{const O=Ye.innerWidth,_e=Ye.innerHeight,Xe=Math.min(O,_e),te=Math.max(O,_e);return Oe(Ye)||(Ye=>z(Ye)&&!$e(Ye,/mobile/i))(Ye)||Xe>460&&Xe<820&&te>780&&te<1400},cordova:Me,capacitor:xe,electron:Ye=>$e(Ye,/electron/i),pwa:Ye=>{var O;return!(!(null===(O=Ye.matchMedia)||void 0===O?void 0:O.call(Ye,"(display-mode: standalone)").matches)&&!Ye.navigator.standalone)},mobile:me,mobileweb:Ye=>me(Ye)&&!fe(Ye),desktop:Ye=>!me(Ye),hybrid:fe};let rt;const wt=Ye=>Ye&&(0,T.g)(Ye)||rt,Ot=(Ye={})=>{if(typeof window>"u")return;const O=window.document,_e=window,Xe=_e.Ionic=_e.Ionic||{},te={};Ye._ael&&(te.ael=Ye._ael),Ye._rel&&(te.rel=Ye._rel),Ye._ce&&(te.ce=Ye._ce),(0,T.s)(te);const pe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ye=>{try{const O=Ye.sessionStorage.getItem(Ie);return null!==O?JSON.parse(O):{}}catch{return{}}})(_e)),{persistConfig:!1}),Xe.config),(Ye=>{const O={};return Ye.location.search.slice(1).split("&").map(_e=>_e.split("=")).map(([_e,Xe])=>[decodeURIComponent(_e),decodeURIComponent(Xe)]).filter(([_e])=>((Ye,O)=>Ye.substr(0,O.length)===O)(_e,H)).map(([_e,Xe])=>[_e.slice(H.length),Xe]).forEach(([_e,Xe])=>{O[_e]=Xe}),O})(_e)),Ye);le.reset(pe),le.getBoolean("persistConfig")&&((Ye,O)=>{try{Ye.sessionStorage.setItem(Ie,JSON.stringify(O))}catch{return}})(_e,pe),B(_e),Xe.config=le,Xe.mode=rt=le.get("mode",O.documentElement.getAttribute("mode")||(ae(_e,"ios")?"ios":"md")),le.set("mode",rt),O.documentElement.setAttribute("mode",rt),O.documentElement.classList.add(rt),le.getBoolean("_testing")&&le.set("animated",!1);const Ee=_t=>{var He;return null===(He=_t.tagName)||void 0===He?void 0:He.startsWith("ION-")},Be=_t=>["ios","md"].includes(_t);(0,T.a)(_t=>{for(;_t;){const He=_t.mode||_t.getAttribute("mode");if(He){if(Be(He))return He;Ee(_t)&&console.warn('Invalid ionic mode: "'+He+'", expected: "ios" or "md"')}_t=_t.parentElement}return rt})}},9591:(Ve,We,R)=>{"use strict";R.r(We),R.d(We,{iosTransitionAnimation:()=>$,shadow:()=>V});var T=R(8211),u=R(1856);R(2286),R(1559);const ue=G=>document.querySelector(`${G}.ion-cloned-element`),V=G=>G.shadowRoot||G,H=G=>{const Oe="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs"),Ne="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Oe){const ye=Oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ye?ye.querySelector(Ne):null}return G.querySelector(Ne)},Ie=(G,Oe)=>{const Ne="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs");let ye=[];if(null!=Ne){const z=Ne.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=z&&(ye=z.querySelectorAll("ion-buttons"))}else ye=G.querySelectorAll("ion-buttons");for(const z of ye){const W=z.closest("ion-header"),he=W&&!W.classList.contains("header-collapse-condense-inactive"),Pe=z.querySelector("ion-back-button"),me=z.classList.contains("buttons-collapse"),it="start"===z.slot||""===z.slot;if(null!==Pe&&it&&(me&&he&&Oe||!me))return Pe}return null},ae=(G,Oe,Ne,ye,z,W)=>{const he=Oe?`calc(100% - ${W.right+4}px)`:W.left-4+"px",Pe=Oe?"7px":"-7px",me=Oe?"-4px":"4px",it=Oe?"-4px":"4px",fe=Oe?"right":"left",Me=Oe?"left":"right",Re=Ne?[{offset:0,opacity:1,transform:`translate3d(${me}, ${W.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Pe}, ${z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Pe}, ${z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${me}, ${W.top-46}px, 0) scale(1)`}],ze=Ne?[{offset:0,opacity:1,transform:`translate3d(${it}, ${W.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${W.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${W.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${W.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${W.top-46}px, 0) scale(1)`}],rt=(0,T.c)(),wt=(0,T.c)(),Ot=ue("ion-back-button"),Ye=V(Ot).querySelector(".button-text"),O=V(Ot).querySelector("ion-icon");Ot.text=ye.text,Ot.mode=ye.mode,Ot.icon=ye.icon,Ot.color=ye.color,Ot.disabled=ye.disabled,Ot.style.setProperty("display","block"),Ot.style.setProperty("position","fixed"),wt.addElement(O),rt.addElement(Ye),rt.beforeStyles({"transform-origin":`${fe} center`}).beforeAddWrite(()=>{ye.style.setProperty("display","none"),Ot.style.setProperty(fe,he)}).afterAddWrite(()=>{ye.style.setProperty("display",""),Ot.style.setProperty("display","none"),Ot.style.removeProperty(fe)}).keyframes(Re),wt.beforeStyles({"transform-origin":`${Me} center`}).keyframes(ze),G.addAnimation([rt,wt])},B=(G,Oe,Ne,ye,z,W)=>{const he=Oe?`calc(100% - ${z.right}px)`:`${z.left}px`,Pe=Oe?"-18px":"18px",me=Oe?"right":"left",Me=Ne?[{offset:0,opacity:0,transform:`translate3d(${Pe}, ${W.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Pe}, ${W.top-4}px, 0) scale(0.5)`}],xe=ue("ion-title"),Ue=(0,T.c)();xe.innerText=ye.innerText,xe.size=ye.size,xe.color=ye.color,Ue.addElement(xe),Ue.beforeStyles({"transform-origin":`${me} center`,height:"46px",display:"",position:"relative",[me]:he}).beforeAddWrite(()=>{ye.style.setProperty("display","none")}).afterAddWrite(()=>{ye.style.setProperty("display",""),xe.style.setProperty("display","none")}).keyframes(Me),G.addAnimation(Ue)},$=(G,Oe)=>{var Ne;try{const ye="cubic-bezier(0.32,0.72,0,1)",z="opacity",W="transform",he="0%",me="rtl"===G.ownerDocument.dir,it=me?"-99.5%":"99.5%",fe=me?"33%":"-33%",Me=Oe.enteringEl,xe=Oe.leavingEl,Ue="back"===Oe.direction,Re=Me.querySelector(":scope > ion-content"),$e=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Q=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),ze=(0,T.c)(),rt=(0,T.c)();if(ze.addElement(Me).duration((null!==(Ne=Oe.duration)&&void 0!==Ne?Ne:0)||540).easing(Oe.easing||ye).fill("both").beforeRemoveClass("ion-page-invisible"),xe&&null!=G){const O=(0,T.c)();O.addElement(G),ze.addAnimation(O)}if(Re||0!==Q.length||0!==$e.length?(rt.addElement(Re),rt.addElement($e)):rt.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ze.addAnimation(rt),Ue?rt.beforeClearStyles([z]).fromTo("transform",`translateX(${fe})`,`translateX(${he})`).fromTo(z,.8,1):rt.beforeClearStyles([z]).fromTo("transform",`translateX(${it})`,`translateX(${he})`),Re){const O=V(Re).querySelector(".transition-effect");if(O){const _e=O.querySelector(".transition-cover"),Xe=O.querySelector(".transition-shadow"),te=(0,T.c)(),pe=(0,T.c)(),Ee=(0,T.c)();te.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(_e).beforeClearStyles([z]).fromTo(z,0,.1),Ee.addElement(Xe).beforeClearStyles([z]).fromTo(z,.03,.7),te.addAnimation([pe,Ee]),rt.addAnimation([te])}}const wt=Me.querySelector("ion-header.header-collapse-condense"),{forward:Ot,backward:Ye}=((G,Oe,Ne,ye,z)=>{const W=Ie(ye,Ne),he=H(z),Pe=H(ye),me=Ie(z,Ne),it=null!==W&&null!==he&&!Ne,fe=null!==Pe&&null!==me&&Ne;if(it){const Me=he.getBoundingClientRect(),xe=W.getBoundingClientRect();B(G,Oe,Ne,he,Me,xe),ae(G,Oe,Ne,W,Me,xe)}else if(fe){const Me=Pe.getBoundingClientRect(),xe=me.getBoundingClientRect();B(G,Oe,Ne,Pe,Me,xe),ae(G,Oe,Ne,me,Me,xe)}return{forward:it,backward:fe}})(ze,me,Ue,Me,xe);if(Q.forEach(O=>{const _e=(0,T.c)();_e.addElement(O),ze.addAnimation(_e);const Xe=(0,T.c)();Xe.addElement(O.querySelector("ion-title"));const te=(0,T.c)(),pe=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),Ee=O.closest("ion-header"),Be=Ee?.classList.contains("header-collapse-condense-inactive");let _t;_t=pe.filter(Ue?en=>{const J=en.classList.contains("buttons-collapse");return J&&!Be||!J}:en=>!en.classList.contains("buttons-collapse")),te.addElement(_t);const He=(0,T.c)();He.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ft=(0,T.c)();Ft.addElement(V(O).querySelector(".toolbar-background"));const Gt=(0,T.c)(),Lt=O.querySelector("ion-back-button");if(Lt&&Gt.addElement(Lt),_e.addAnimation([Xe,te,He,Ft,Gt]),te.fromTo(z,.01,1),He.fromTo(z,.01,1),Ue)Be||Xe.fromTo("transform",`translateX(${fe})`,`translateX(${he})`).fromTo(z,.01,1),He.fromTo("transform",`translateX(${fe})`,`translateX(${he})`),Gt.fromTo(z,.01,1);else if(wt||Xe.fromTo("transform",`translateX(${it})`,`translateX(${he})`).fromTo(z,.01,1),He.fromTo("transform",`translateX(${it})`,`translateX(${he})`),Ft.beforeClearStyles([z,"transform"]),Ee?.translucent?Ft.fromTo("transform",me?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ft.fromTo(z,.01,"var(--opacity)"),Ot||Gt.fromTo(z,.01,1),Lt&&!Ot){const J=(0,T.c)();J.addElement(V(Lt).querySelector(".button-text")).fromTo("transform",me?"translateX(-100px)":"translateX(100px)","translateX(0px)"),_e.addAnimation(J)}}),xe){const O=(0,T.c)(),_e=xe.querySelector(":scope > ion-content"),Xe=xe.querySelectorAll(":scope > ion-header > ion-toolbar"),te=xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(_e||0!==Xe.length||0!==te.length?(O.addElement(_e),O.addElement(te)):O.addElement(xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ze.addAnimation(O),Ue){O.beforeClearStyles([z]).fromTo("transform",`translateX(${he})`,me?"translateX(-100%)":"translateX(100%)");const pe=(0,u.g)(xe);ze.afterAddWrite(()=>{"normal"===ze.getDirection()&&pe.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${he})`,`translateX(${fe})`).fromTo(z,1,.8);if(_e){const pe=V(_e).querySelector(".transition-effect");if(pe){const Ee=pe.querySelector(".transition-cover"),Be=pe.querySelector(".transition-shadow"),_t=(0,T.c)(),He=(0,T.c)(),Ft=(0,T.c)();_t.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),He.addElement(Ee).beforeClearStyles([z]).fromTo(z,.1,0),Ft.addElement(Be).beforeClearStyles([z]).fromTo(z,.7,.03),_t.addAnimation([He,Ft]),O.addAnimation([_t])}}Xe.forEach(pe=>{const Ee=(0,T.c)();Ee.addElement(pe);const Be=(0,T.c)();Be.addElement(pe.querySelector("ion-title"));const _t=(0,T.c)(),He=pe.querySelectorAll("ion-buttons,[menuToggle]"),Ft=pe.closest("ion-header"),Gt=Ft?.classList.contains("header-collapse-condense-inactive"),Lt=Array.from(He).filter(Eo=>{const Pr=Eo.classList.contains("buttons-collapse");return Pr&&!Gt||!Pr});_t.addElement(Lt);const en=(0,T.c)(),J=pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");J.length>0&&en.addElement(J);const Pn=(0,T.c)();Pn.addElement(V(pe).querySelector(".toolbar-background"));const _r=(0,T.c)(),nr=pe.querySelector("ion-back-button");if(nr&&_r.addElement(nr),Ee.addAnimation([Be,_t,en,_r,Pn]),ze.addAnimation(Ee),_r.fromTo(z,.99,0),_t.fromTo(z,.99,0),en.fromTo(z,.99,0),Ue){if(Gt||Be.fromTo("transform",`translateX(${he})`,me?"translateX(-100%)":"translateX(100%)").fromTo(z,.99,0),en.fromTo("transform",`translateX(${he})`,me?"translateX(-100%)":"translateX(100%)"),Pn.beforeClearStyles([z,"transform"]),Ft?.translucent?Pn.fromTo("transform","translateX(0px)",me?"translateX(-100%)":"translateX(100%)"):Pn.fromTo(z,"var(--opacity)",0),nr&&!Ye){const Pr=(0,T.c)();Pr.addElement(V(nr).querySelector(".button-text")).fromTo("transform",`translateX(${he})`,`translateX(${(me?-124:124)+"px"})`),Ee.addAnimation(Pr)}}else Gt||Be.fromTo("transform",`translateX(${he})`,`translateX(${fe})`).fromTo(z,.99,0).afterClearStyles([W,z]),en.fromTo("transform",`translateX(${he})`,`translateX(${fe})`).afterClearStyles([W,z]),_r.afterClearStyles([z]),Be.afterClearStyles([z]),_t.afterClearStyles([z])})}return ze}catch(ye){throw ye}}},2797:(Ve,We,R)=>{"use strict";R.r(We),R.d(We,{mdTransitionAnimation:()=>q});var T=R(8211),u=R(1856);R(2286),R(1559);const q=(ue,V)=>{var H,Ie,K;const $="back"===V.direction,Oe=V.leavingEl,Ne=(0,u.g)(V.enteringEl),ye=Ne.querySelector("ion-toolbar"),z=(0,T.c)();if(z.addElement(Ne).fill("both").beforeRemoveClass("ion-page-invisible"),$?z.duration((null!==(H=V.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(Ie=V.duration)&&void 0!==Ie?Ie:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ye){const W=(0,T.c)();W.addElement(ye),z.addAnimation(W)}if(Oe&&$){z.duration((null!==(K=V.duration)&&void 0!==K?K:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const W=(0,T.c)();W.addElement((0,u.g)(Oe)).onFinish(he=>{1===he&&W.elements.length>0&&W.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),z.addAnimation(W)}return z}},5354:(Ve,We,R)=>{"use strict";R.d(We,{B:()=>_e,G:()=>Xe,a:()=>H,b:()=>Ie,c:()=>$,d:()=>Ue,e:()=>Oe,f:()=>$e,g:()=>rt,h:()=>ue,i:()=>Ot,j:()=>z,k:()=>Me,l:()=>K,m:()=>ae,s:()=>O});var T=R(3918),u=R(8607),le=R(159),se=R(9259);let q=0;const ue=new WeakMap,V=te=>({create:pe=>Ne(te,pe),dismiss:(pe,Ee,Be)=>it(document,pe,Ee,te,Be),getTop:()=>(0,T.Z)(function*(){return Me(document,te)})()}),H=V("ion-alert"),Ie=V("ion-action-sheet"),K=V("ion-loading"),ae=V("ion-modal"),$=V("ion-popover"),Oe=te=>{typeof document<"u"&&me(document);const pe=q++;te.overlayIndex=pe,te.hasAttribute("id")||(te.id=`ion-overlay-${pe}`)},Ne=(te,pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(te).then(()=>{const Ee=document.createElement(te);return Ee.classList.add("overlay-hidden"),Object.assign(Ee,Object.assign(Object.assign({},pe),{hasController:!0})),Q(document).appendChild(Ee),new Promise(Be=>(0,se.c)(Ee,Be))}):Promise.resolve(),ye='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',z=(te,pe)=>{let Ee=te.querySelector(ye);const Be=Ee?.shadowRoot;Be&&(Ee=Be.querySelector(ye)||Ee),Ee?(0,se.f)(Ee):pe.focus()},he=(te,pe)=>{const Ee=Array.from(te.querySelectorAll(ye));let Be=Ee.length>0?Ee[Ee.length-1]:null;const _t=Be?.shadowRoot;_t&&(Be=_t.querySelector(ye)||Be),Be?Be.focus():pe.focus()},me=te=>{0===q&&(q=1,te.addEventListener("focus",pe=>{((te,pe)=>{const Ee=Me(pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Be=te.target;Ee&&Be&&!Ee.classList.contains("ion-disable-focus-trap")&&(Ee.shadowRoot?(()=>{if(Ee.contains(Be))Ee.lastFocus=Be;else{const Ft=Ee.lastFocus;z(Ee,Ee),Ft===pe.activeElement&&he(Ee,Ee),Ee.lastFocus=pe.activeElement}})():(()=>{if(Ee===Be)Ee.lastFocus=void 0;else{const Ft=(0,se.g)(Ee);if(!Ft.contains(Be))return;const Gt=Ft.querySelector(".ion-overlay-wrapper");if(!Gt)return;if(Gt.contains(Be))Ee.lastFocus=Be;else{const Lt=Ee.lastFocus;z(Gt,Ee),Lt===pe.activeElement&&he(Gt,Ee),Ee.lastFocus=pe.activeElement}}})())})(pe,te)},!0),te.addEventListener("ionBackButton",pe=>{const Ee=Me(te);Ee?.backdropDismiss&&pe.detail.register(le.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ee.dismiss(void 0,_e))}),te.addEventListener("keyup",pe=>{if("Escape"===pe.key){const Ee=Me(te);Ee?.backdropDismiss&&Ee.dismiss(void 0,_e)}}))},it=(te,pe,Ee,Be,_t)=>{const He=Me(te,Be,_t);return He?He.dismiss(pe,Ee):Promise.reject("overlay does not exist")},Me=(te,pe,Ee)=>{const Be=((te,pe)=>(void 0===pe&&(pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(te.querySelectorAll(pe)).filter(Ee=>Ee.overlayIndex>0)))(te,pe).filter(_t=>!(te=>te.classList.contains("overlay-hidden"))(_t));return void 0===Ee?Be[Be.length-1]:Be.find(_t=>_t.id===Ee)},xe=(te=!1)=>{const Ee=Q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ee||(te?Ee.setAttribute("aria-hidden","true"):Ee.removeAttribute("aria-hidden"))},Ue=function(){var te=(0,T.Z)(function*(pe,Ee,Be,_t,He){var Ft,Gt;if(pe.presented)return;xe(!0),pe.presented=!0,pe.willPresent.emit(),null===(Ft=pe.willPresentShorthand)||void 0===Ft||Ft.emit();const Lt=(0,u.b)(pe),en=pe.enterAnimation?pe.enterAnimation:u.c.get(Ee,"ios"===Lt?Be:_t);(yield ze(pe,en,pe.el,He))&&(pe.didPresent.emit(),null===(Gt=pe.didPresentShorthand)||void 0===Gt||Gt.emit()),"ION-TOAST"!==pe.el.tagName&&Re(pe.el),pe.keyboardClose&&(null===document.activeElement||!pe.el.contains(document.activeElement))&&pe.el.focus()});return function(Ee,Be,_t,He,Ft){return te.apply(this,arguments)}}(),Re=function(){var te=(0,T.Z)(function*(pe){let Ee=document.activeElement;if(!Ee)return;const Be=Ee?.shadowRoot;Be&&(Ee=Be.querySelector(ye)||Ee),yield pe.onDidDismiss(),Ee.focus()});return function(Ee){return te.apply(this,arguments)}}(),$e=function(){var te=(0,T.Z)(function*(pe,Ee,Be,_t,He,Ft,Gt){var Lt,en;if(!pe.presented)return!1;xe(!1),pe.presented=!1;try{pe.el.style.setProperty("pointer-events","none"),pe.willDismiss.emit({data:Ee,role:Be}),null===(Lt=pe.willDismissShorthand)||void 0===Lt||Lt.emit({data:Ee,role:Be});const J=(0,u.b)(pe),Pn=pe.leaveAnimation?pe.leaveAnimation:u.c.get(_t,"ios"===J?He:Ft);Be!==Xe&&(yield ze(pe,Pn,pe.el,Gt)),pe.didDismiss.emit({data:Ee,role:Be}),null===(en=pe.didDismissShorthand)||void 0===en||en.emit({data:Ee,role:Be}),ue.delete(pe),pe.el.classList.add("overlay-hidden"),pe.el.style.removeProperty("pointer-events")}catch(J){console.error(J)}return pe.el.remove(),!0});return function(Ee,Be,_t,He,Ft,Gt,Lt){return te.apply(this,arguments)}}(),Q=te=>te.querySelector("ion-app")||te.body,ze=function(){var te=(0,T.Z)(function*(pe,Ee,Be,_t){Be.classList.remove("overlay-hidden");const Ft=Ee(pe.el,_t);(!pe.animated||!u.c.getBoolean("animated",!0))&&Ft.duration(0),pe.keyboardClose&&Ft.beforeAddWrite(()=>{const Lt=Be.ownerDocument.activeElement;Lt?.matches("input,ion-input, ion-textarea")&&Lt.blur()});const Gt=ue.get(pe)||[];return ue.set(pe,[...Gt,Ft]),yield Ft.play(),!0});return function(Ee,Be,_t,He){return te.apply(this,arguments)}}(),rt=(te,pe)=>{let Ee;const Be=new Promise(_t=>Ee=_t);return wt(te,pe,_t=>{Ee(_t.detail)}),Be},wt=(te,pe,Ee)=>{const Be=_t=>{(0,se.b)(te,pe,Be),Ee(_t)};(0,se.a)(te,pe,Be)},Ot=te=>"cancel"===te||te===_e,Ye=te=>te(),O=(te,pe)=>{if("function"==typeof te)return u.c.get("_zoneGate",Ye)(()=>{try{return te(pe)}catch(Be){throw Be}})},_e="backdrop",Xe="gesture"},4263:(Ve,We,R)=>{"use strict";var T=R(9903),u=R(3855),le=u(T("String.prototype.indexOf"));Ve.exports=function(q,ue){var V=T(q,!!ue);return"function"==typeof V&&le(q,".prototype.")>-1?u(V):V}},3855:(Ve,We,R)=>{"use strict";var T=R(224),u=R(9903),le=u("%Function.prototype.apply%"),se=u("%Function.prototype.call%"),q=u("%Reflect.apply%",!0)||T.call(se,le),ue=u("%Object.getOwnPropertyDescriptor%",!0),V=u("%Object.defineProperty%",!0),H=u("%Math.max%");if(V)try{V({},"a",{value:1})}catch{V=null}Ve.exports=function(ae){var B=q(T,se,arguments);if(ue&&V){var $=ue(B,"length");$.configurable&&V(B,"length",{value:1+H(0,ae.length-(arguments.length-1))})}return B};var Ie=function(){return q(T,le,arguments)};V?V(Ve.exports,"apply",{value:Ie}):Ve.exports.apply=Ie},5107:Ve=>{var We={utf8:{stringToBytes:function(R){return We.bin.stringToBytes(unescape(encodeURIComponent(R)))},bytesToString:function(R){return decodeURIComponent(escape(We.bin.bytesToString(R)))}},bin:{stringToBytes:function(R){for(var T=[],u=0;u<R.length;u++)T.push(255&R.charCodeAt(u));return T},bytesToString:function(R){for(var T=[],u=0;u<R.length;u++)T.push(String.fromCharCode(R[u]));return T.join("")}}};Ve.exports=We},7175:Ve=>{var We,R;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve.exports=R={rotl:function(T,u){return T<<u|T>>>32-u},rotr:function(T,u){return T<<32-u|T>>>u},endian:function(T){if(T.constructor==Number)return 16711935&R.rotl(T,8)|4278255360&R.rotl(T,24);for(var u=0;u<T.length;u++)T[u]=R.endian(T[u]);return T},randomBytes:function(T){for(var u=[];T>0;T--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(T){for(var u=[],le=0,se=0;le<T.length;le++,se+=8)u[se>>>5]|=T[le]<<24-se%32;return u},wordsToBytes:function(T){for(var u=[],le=0;le<32*T.length;le+=8)u.push(T[le>>>5]>>>24-le%32&255);return u},bytesToHex:function(T){for(var u=[],le=0;le<T.length;le++)u.push((T[le]>>>4).toString(16)),u.push((15&T[le]).toString(16));return u.join("")},hexToBytes:function(T){for(var u=[],le=0;le<T.length;le+=2)u.push(parseInt(T.substr(le,2),16));return u},bytesToBase64:function(T){for(var u=[],le=0;le<T.length;le+=3)for(var se=T[le]<<16|T[le+1]<<8|T[le+2],q=0;q<4;q++)u.push(8*le+6*q<=8*T.length?We.charAt(se>>>6*(3-q)&63):"=");return u.join("")},base64ToBytes:function(T){T=T.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],le=0,se=0;le<T.length;se=++le%4)0!=se&&u.push((We.indexOf(T.charAt(le-1))&Math.pow(2,-2*se+8)-1)<<2*se|We.indexOf(T.charAt(le))>>>6-2*se);return u}}},5541:(Ve,We,R)=>{"use strict";var T=R(2093),u=R(9102),le=R(5734),se=R(6687),q=R(8704),ue=R(8266),V=R(4666),H=R(2086),Ie=R(9903),K=R(4263),ae=R(2107),B=R(2069),$=R(8432),G=R(5709),Oe=R(6189),Ne=K("ArrayBuffer.prototype.byteLength",!0);function ye(te){if(!te||"object"!=typeof te||!Ne)return!1;try{return Ne(te),!0}catch{return!1}}var z=K("Date.prototype.getTime"),W=Object.getPrototypeOf,he=K("Object.prototype.toString"),Pe=Ie("%Set%",!0),me=K("Map.prototype.has",!0),it=K("Map.prototype.get",!0),fe=K("Map.prototype.size",!0),Me=K("Set.prototype.add",!0),xe=K("Set.prototype.delete",!0),Ue=K("Set.prototype.has",!0),Re=K("Set.prototype.size",!0);function $e(te,pe,Ee,Be){for(var He,_t=B(te);(He=_t.next())&&!He.done;)if(Ot(pe,He.value,Ee,Be))return xe(te,He.value),!0;return!1}function Q(te){return typeof te>"u"?null:"object"!=typeof te?"symbol"!=typeof te&&("string"!=typeof te&&"number"!=typeof te||+te==+te):void 0}function ze(te,pe,Ee,Be,_t,He){var Ft=Q(Ee);if(null!=Ft)return Ft;var Gt=it(pe,Ft),Lt=Oe({},_t,{strict:!1});return!(typeof Gt>"u"&&!me(pe,Ft)||!Ot(Be,Gt,Lt,He))&&!me(te,Ft)&&Ot(Be,Gt,Lt,He)}function rt(te,pe,Ee){var Be=Q(Ee);return Be??(Ue(pe,Be)&&!Ue(te,Be))}function wt(te,pe,Ee,Be,_t,He){for(var Gt,Lt,Ft=B(te);(Gt=Ft.next())&&!Gt.done;)if(Ot(Ee,Lt=Gt.value,_t,He)&&Ot(Be,it(pe,Lt),_t,He))return xe(te,Lt),!0;return!1}function Ot(te,pe,Ee,Be){var _t=Ee||{};if(_t.strict?le(te,pe):te===pe)return!0;if(H(te)!==H(pe))return!1;if(!te||!pe||"object"!=typeof te&&"object"!=typeof pe)return _t.strict?le(te,pe):te==pe;var en,Gt=Be.has(te),Lt=Be.has(pe);if(Gt&&Lt){if(Be.get(te)===Be.get(pe))return!0}else en={};return Gt||Be.set(te,en),Lt||Be.set(pe,en),function Xe(te,pe,Ee,Be){var _t,He;if(typeof te!=typeof pe||null==te||null==pe||he(te)!==he(pe)||u(te)!==u(pe))return!1;if(ue(te)!==ue(pe))return!1;var Lt=te instanceof Error,en=pe instanceof Error;if(Lt!==en||(Lt||en)&&(te.name!==pe.name||te.message!==pe.message))return!1;var J=se(te),Pn=se(pe);if(J!==Pn||(J||Pn)&&(te.source!==pe.source||q(te)!==q(pe)))return!1;var _r=V(te),nr=V(pe);if(_r!==nr||(_r||nr)&&z(te)!==z(pe)||Ee.strict&&W&&W(te)!==W(pe)||G(te)!==G(pe))return!1;var Eo=Ye(te),Pr=Ye(pe);if(Eo!==Pr)return!1;if(Eo||Pr){if(te.length!==pe.length)return!1;for(_t=0;_t<te.length;_t++)if(te[_t]!==pe[_t])return!1;return!0}var ei=ye(te),Dn=ye(pe);if(ei!==Dn)return!1;if(ei||Dn)return Ne(te)===Ne(pe)&&"function"==typeof Uint8Array&&Ot(new Uint8Array(te),new Uint8Array(pe),Ee,Be);if(typeof te!=typeof pe)return!1;var Ir=T(te),Fn=T(pe);if(Ir.length!==Fn.length)return!1;for(Ir.sort(),Fn.sort(),_t=Ir.length-1;_t>=0;_t--)if(Ir[_t]!=Fn[_t])return!1;for(_t=Ir.length-1;_t>=0;_t--)if(!Ot(te[He=Ir[_t]],pe[He],Ee,Be))return!1;var Ho=ae(te),Zr=ae(pe);return Ho===Zr&&("Set"===Ho||"Set"===Zr?function O(te,pe,Ee,Be){if(Re(te)!==Re(pe))return!1;for(var Ft,Gt,Lt,_t=B(te),He=B(pe);(Ft=_t.next())&&!Ft.done;)if(Ft.value&&"object"==typeof Ft.value)Lt||(Lt=new Pe),Me(Lt,Ft.value);else if(!Ue(pe,Ft.value)){if(Ee.strict||!rt(te,pe,Ft.value))return!1;Lt||(Lt=new Pe),Me(Lt,Ft.value)}if(Lt){for(;(Gt=He.next())&&!Gt.done;)if(Gt.value&&"object"==typeof Gt.value){if(!$e(Lt,Gt.value,Ee.strict,Be))return!1}else if(!Ee.strict&&!Ue(te,Gt.value)&&!$e(Lt,Gt.value,Ee.strict,Be))return!1;return 0===Re(Lt)}return!0}(te,pe,Ee,Be):"Map"!==Ho||function _e(te,pe,Ee,Be){if(fe(te)!==fe(pe))return!1;for(var Ft,Gt,Lt,en,J,Pn,_t=B(te),He=B(pe);(Ft=_t.next())&&!Ft.done;)if(J=Ft.value[1],(en=Ft.value[0])&&"object"==typeof en)Lt||(Lt=new Pe),Me(Lt,en);else if(typeof(Pn=it(pe,en))>"u"&&!me(pe,en)||!Ot(J,Pn,Ee,Be)){if(Ee.strict||!ze(te,pe,en,J,Ee,Be))return!1;Lt||(Lt=new Pe),Me(Lt,en)}if(Lt){for(;(Gt=He.next())&&!Gt.done;)if(Pn=Gt.value[1],(en=Gt.value[0])&&"object"==typeof en){if(!wt(Lt,te,en,Pn,Ee,Be))return!1}else if(!(Ee.strict||te.has(en)&&Ot(it(te,en),Pn,Ee,Be)||wt(Lt,te,en,Pn,Oe({},Ee,{strict:!1}),Be)))return!1;return 0===Re(Lt)}return!0}(te,pe,Ee,Be))}(te,pe,_t,Be)}function Ye(te){return!(!te||"object"!=typeof te||"number"!=typeof te.length||"function"!=typeof te.copy||"function"!=typeof te.slice||te.length>0&&"number"!=typeof te[0]||!(te.constructor&&te.constructor.isBuffer&&te.constructor.isBuffer(te)))}Ve.exports=function(pe,Ee,Be){return Ot(pe,Ee,Be,$())}},1790:(Ve,We,R)=>{"use strict";var T=R(2093),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),le=Object.prototype.toString,se=Array.prototype.concat,q=Object.defineProperty,V=R(9006)(),H=q&&V,Ie=function(ae,B,$,G){B in ae&&(!function(ae){return"function"==typeof ae&&"[object Function]"===le.call(ae)}(G)||!G())||(H?q(ae,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):ae[B]=$)},K=function(ae,B){var $=arguments.length>2?arguments[2]:{},G=T(B);u&&(G=se.call(G,Object.getOwnPropertySymbols(B)));for(var Oe=0;Oe<G.length;Oe+=1)Ie(ae,G[Oe],B[G[Oe]],$[G[Oe]])};K.supportsDescriptors=!!H,Ve.exports=K},9897:function(Ve,We){!function(R){"use strict";var B,le=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,se=536870912,q=2*se,V=new WeakMap,Ie=function(B,$){return function(G){var Oe=$.get(G),Ne=void 0===Oe?G.size:Oe<q?Oe+1:0;if(!G.has(Ne))return B(G,Ne);if(G.size<se){for(;G.has(Ne);)Ne=Math.floor(Math.random()*q);return B(G,Ne)}if(G.size>le)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;G.has(Ne);)Ne=Math.floor(Math.random()*le);return B(G,Ne)}}((B=V,function($,G){return B.set($,G),G}),V),K=function(B){return function($){var G=B($);return $.add(G),G}}(Ie);R.addUniqueNumber=K,R.generateUniqueNumber=Ie,Object.defineProperty(R,"__esModule",{value:!0})}(We)},3037:(Ve,We,R)=>{"use strict";var T=R(8642),u=Object.prototype.toString,le=Object.prototype.hasOwnProperty,se=function(Ie,K,ae){for(var B=0,$=Ie.length;B<$;B++)le.call(Ie,B)&&(null==ae?K(Ie[B],B,Ie):K.call(ae,Ie[B],B,Ie))},q=function(Ie,K,ae){for(var B=0,$=Ie.length;B<$;B++)null==ae?K(Ie.charAt(B),B,Ie):K.call(ae,Ie.charAt(B),B,Ie)},ue=function(Ie,K,ae){for(var B in Ie)le.call(Ie,B)&&(null==ae?K(Ie[B],B,Ie):K.call(ae,Ie[B],B,Ie))};Ve.exports=function(Ie,K,ae){if(!T(K))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=ae),"[object Array]"===u.call(Ie)?se(Ie,K,B):"string"==typeof Ie?q(Ie,K,B):ue(Ie,K,B)}},2199:Ve=>{"use strict";var We="Function.prototype.bind called on incompatible ",R=Array.prototype.slice,T=Object.prototype.toString,u="[object Function]";Ve.exports=function(se){var q=this;if("function"!=typeof q||T.call(q)!==u)throw new TypeError(We+q);for(var V,ue=R.call(arguments,1),H=function(){if(this instanceof V){var $=q.apply(this,ue.concat(R.call(arguments)));return Object($)===$?$:this}return q.apply(se,ue.concat(R.call(arguments)))},Ie=Math.max(0,q.length-ue.length),K=[],ae=0;ae<Ie;ae++)K.push("$"+ae);if(V=Function("binder","return function ("+K.join(",")+"){ return binder.apply(this,arguments); }")(H),q.prototype){var B=function(){};B.prototype=q.prototype,V.prototype=new B,B.prototype=null}return V}},224:(Ve,We,R)=>{"use strict";var T=R(2199);Ve.exports=Function.prototype.bind||T},3677:Ve=>{"use strict";var We=function(){return"string"==typeof function(){}.name},R=Object.getOwnPropertyDescriptor;if(R)try{R([],"length")}catch{R=null}We.functionsHaveConfigurableNames=function(){if(!We()||!R)return!1;var le=R(function(){},"name");return!!le&&!!le.configurable};var T=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof T&&""!==function(){}.bind().name},Ve.exports=We},9903:(Ve,We,R)=>{"use strict";var T,u=SyntaxError,le=Function,se=TypeError,q=function(Ue){try{return le('"use strict"; return ('+Ue+").constructor;")()}catch{}},ue=Object.getOwnPropertyDescriptor;if(ue)try{ue({},"")}catch{ue=null}var V=function(){throw new se},H=ue?function(){try{return V}catch{try{return ue(arguments,"callee").get}catch{return V}}}():V,Ie=R(524)(),K=Object.getPrototypeOf||function(Ue){return Ue.__proto__},ae={},B=typeof Uint8Array>"u"?T:K(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?T:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?T:ArrayBuffer,"%ArrayIteratorPrototype%":Ie?K([][Symbol.iterator]()):T,"%AsyncFromSyncIteratorPrototype%":T,"%AsyncFunction%":ae,"%AsyncGenerator%":ae,"%AsyncGeneratorFunction%":ae,"%AsyncIteratorPrototype%":ae,"%Atomics%":typeof Atomics>"u"?T:Atomics,"%BigInt%":typeof BigInt>"u"?T:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?T:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?T:Float32Array,"%Float64Array%":typeof Float64Array>"u"?T:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?T:FinalizationRegistry,"%Function%":le,"%GeneratorFunction%":ae,"%Int8Array%":typeof Int8Array>"u"?T:Int8Array,"%Int16Array%":typeof Int16Array>"u"?T:Int16Array,"%Int32Array%":typeof Int32Array>"u"?T:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ie?K(K([][Symbol.iterator]())):T,"%JSON%":"object"==typeof JSON?JSON:T,"%Map%":typeof Map>"u"?T:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ie?T:K((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?T:Promise,"%Proxy%":typeof Proxy>"u"?T:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?T:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?T:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ie?T:K((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?T:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ie?K(""[Symbol.iterator]()):T,"%Symbol%":Ie?Symbol:T,"%SyntaxError%":u,"%ThrowTypeError%":H,"%TypedArray%":B,"%TypeError%":se,"%Uint8Array%":typeof Uint8Array>"u"?T:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?T:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?T:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?T:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?T:WeakMap,"%WeakRef%":typeof WeakRef>"u"?T:WeakRef,"%WeakSet%":typeof WeakSet>"u"?T:WeakSet},G=function Ue(Re){var $e;if("%AsyncFunction%"===Re)$e=q("async function () {}");else if("%GeneratorFunction%"===Re)$e=q("function* () {}");else if("%AsyncGeneratorFunction%"===Re)$e=q("async function* () {}");else if("%AsyncGenerator%"===Re){var Q=Ue("%AsyncGeneratorFunction%");Q&&($e=Q.prototype)}else if("%AsyncIteratorPrototype%"===Re){var ze=Ue("%AsyncGenerator%");ze&&($e=K(ze.prototype))}return $[Re]=$e,$e},Oe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ne=R(224),ye=R(4031),z=Ne.call(Function.call,Array.prototype.concat),W=Ne.call(Function.apply,Array.prototype.splice),he=Ne.call(Function.call,String.prototype.replace),Pe=Ne.call(Function.call,String.prototype.slice),me=Ne.call(Function.call,RegExp.prototype.exec),it=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fe=/\\(\\)?/g,Me=function(Re){var $e=Pe(Re,0,1),Q=Pe(Re,-1);if("%"===$e&&"%"!==Q)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===Q&&"%"!==$e)throw new u("invalid intrinsic syntax, expected opening `%`");var ze=[];return he(Re,it,function(rt,wt,Ot,Ye){ze[ze.length]=Ot?he(Ye,fe,"$1"):wt||rt}),ze},xe=function(Re,$e){var ze,Q=Re;if(ye(Oe,Q)&&(Q="%"+(ze=Oe[Q])[0]+"%"),ye($,Q)){var rt=$[Q];if(rt===ae&&(rt=G(Q)),typeof rt>"u"&&!$e)throw new se("intrinsic "+Re+" exists, but is not available. Please file an issue!");return{alias:ze,name:Q,value:rt}}throw new u("intrinsic "+Re+" does not exist!")};Ve.exports=function(Re,$e){if("string"!=typeof Re||0===Re.length)throw new se("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof $e)throw new se('"allowMissing" argument must be a boolean');if(null===me(/^%?[^%]*%?$/,Re))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Q=Me(Re),ze=Q.length>0?Q[0]:"",rt=xe("%"+ze+"%",$e),wt=rt.name,Ot=rt.value,Ye=!1,O=rt.alias;O&&(ze=O[0],W(Q,z([0,1],O)));for(var _e=1,Xe=!0;_e<Q.length;_e+=1){var te=Q[_e],pe=Pe(te,0,1),Ee=Pe(te,-1);if(('"'===pe||"'"===pe||"`"===pe||'"'===Ee||"'"===Ee||"`"===Ee)&&pe!==Ee)throw new u("property names with quotes must have matching quotes");if(("constructor"===te||!Xe)&&(Ye=!0),ye($,wt="%"+(ze+="."+te)+"%"))Ot=$[wt];else if(null!=Ot){if(!(te in Ot)){if(!$e)throw new se("base intrinsic for "+Re+" exists, but the property is not available.");return}if(ue&&_e+1>=Q.length){var Be=ue(Ot,te);Ot=(Xe=!!Be)&&"get"in Be&&!("originalValue"in Be.get)?Be.get:Ot[te]}else Xe=ye(Ot,te),Ot=Ot[te];Xe&&!Ye&&($[wt]=Ot)}}return Ot}},253:(Ve,We,R)=>{"use strict";var u=R(9903)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}Ve.exports=u},5861:Ve=>{"use strict";var We=typeof BigInt<"u"&&BigInt;Ve.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:(Ve,We,R)=>{"use strict";var u=R(9903)("%Object.defineProperty%",!0),le=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};le.hasArrayLengthDefineBug=function(){if(!le())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},Ve.exports=le},524:(Ve,We,R)=>{"use strict";var T=typeof Symbol<"u"&&Symbol,u=R(6858);Ve.exports=function(){return"function"==typeof T&&"function"==typeof Symbol&&"symbol"==typeof T("foo")&&"symbol"==typeof Symbol("bar")&&u()}},6858:Ve=>{"use strict";Ve.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},T=Symbol("test"),u=Object(T);if("string"==typeof T||"[object Symbol]"!==Object.prototype.toString.call(T)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(T in R[T]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var se=Object.getOwnPropertySymbols(R);if(1!==se.length||se[0]!==T||!Object.prototype.propertyIsEnumerable.call(R,T))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var q=Object.getOwnPropertyDescriptor(R,T);if(42!==q.value||!0!==q.enumerable)return!1}return!0}},3261:(Ve,We,R)=>{"use strict";var T=R(6858);Ve.exports=function(){return T()&&!!Symbol.toStringTag}},4031:(Ve,We,R)=>{"use strict";var T=R(224);Ve.exports=T.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Ve,We,R)=>{"use strict";var T=R(3261)(),le=R(4263)("Object.prototype.toString"),se=function(H){return!(T&&H&&"object"==typeof H&&Symbol.toStringTag in H)&&"[object Arguments]"===le(H)},q=function(H){return!!se(H)||null!==H&&"object"==typeof H&&"number"==typeof H.length&&H.length>=0&&"[object Array]"!==le(H)&&"[object Function]"===le(H.callee)},ue=function(){return se(arguments)}();se.isLegacyArguments=q,Ve.exports=ue?se:q},3:(Ve,We,R)=>{"use strict";if(R(5861)()){var u=BigInt.prototype.valueOf;Ve.exports=function(q){return!(null===q||typeof q>"u"||"boolean"==typeof q||"string"==typeof q||"number"==typeof q||"symbol"==typeof q||"function"==typeof q)&&("bigint"==typeof q||function(q){try{return u.call(q),!0}catch{}return!1}(q))}}else Ve.exports=function(q){return!1}},6180:(Ve,We,R)=>{"use strict";var T=R(4263),u=T("Boolean.prototype.toString"),le=T("Object.prototype.toString"),ue=R(3261)();Ve.exports=function(H){return"boolean"==typeof H||null!==H&&"object"==typeof H&&(ue&&Symbol.toStringTag in H?function(H){try{return u(H),!0}catch{return!1}}(H):"[object Boolean]"===le(H))}},5057:Ve=>{function We(T){return!!T.constructor&&"function"==typeof T.constructor.isBuffer&&T.constructor.isBuffer(T)}Ve.exports=function(T){return null!=T&&(We(T)||function R(T){return"function"==typeof T.readFloatLE&&"function"==typeof T.slice&&We(T.slice(0,0))}(T)||!!T._isBuffer)}},8642:Ve=>{"use strict";var T,u,We=Function.prototype.toString,R="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof R&&"function"==typeof Object.defineProperty)try{T=Object.defineProperty({},"length",{get:function(){throw u}}),u={},R(function(){throw 42},null,T)}catch(ye){ye!==u&&(R=null)}else R=null;var le=/^\s*class\b/,se=function(z){try{var W=We.call(z);return le.test(W)}catch{return!1}},q=function(z){try{return!se(z)&&(We.call(z),!0)}catch{return!1}},ue=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,G=!(0 in[,]),Oe=function(){return!1};if("object"==typeof document){var Ne=document.all;ue.call(Ne)===ue.call(document.all)&&(Oe=function(z){if((G||!z)&&(typeof z>"u"||"object"==typeof z))try{var W=ue.call(z);return("[object HTMLAllCollection]"===W||"[object HTML document.all class]"===W||"[object HTMLCollection]"===W||"[object Object]"===W)&&null==z("")}catch{}return!1})}Ve.exports=R?function(z){if(Oe(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;try{R(z,null,T)}catch(W){if(W!==u)return!1}return!se(z)&&q(z)}:function(z){if(Oe(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;if($)return q(z);if(se(z))return!1;var W=ue.call(z);return!("[object Function]"!==W&&"[object GeneratorFunction]"!==W&&!/^\[object HTML/.test(W))&&q(z)}},4666:(Ve,We,R)=>{"use strict";var T=Date.prototype.getDay,le=Object.prototype.toString,q=R(3261)();Ve.exports=function(V){return"object"==typeof V&&null!==V&&(q?function(V){try{return T.call(V),!0}catch{return!1}}(V):"[object Date]"===le.call(V))}},9898:Ve=>{"use strict";var T,We="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;We||(T=function(q){return!1});var u=We?Map.prototype.has:null,le=R?Set.prototype.has:null;!T&&!u&&(T=function(q){return!1}),Ve.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q),le)try{le.call(q)}catch{return!0}return q instanceof We}catch{}return!1}},1046:(Ve,We,R)=>{"use strict";var T=Number.prototype.toString,le=Object.prototype.toString,q=R(3261)();Ve.exports=function(V){return"number"==typeof V||"object"==typeof V&&(q?function(V){try{return T.call(V),!0}catch{return!1}}(V):"[object Number]"===le.call(V))}},6687:(Ve,We,R)=>{"use strict";var le,se,q,ue,T=R(4263),u=R(3261)();if(u){le=T("Object.prototype.hasOwnProperty"),se=T("RegExp.prototype.exec"),q={};var V=function(){throw q};ue={toString:V,valueOf:V},"symbol"==typeof Symbol.toPrimitive&&(ue[Symbol.toPrimitive]=V)}var H=T("Object.prototype.toString"),Ie=Object.getOwnPropertyDescriptor;Ve.exports=u?function(B){if(!B||"object"!=typeof B)return!1;var $=Ie(B,"lastIndex");if(!$||!le($,"value"))return!1;try{se(B,ue)}catch(Oe){return Oe===q}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===H(B)}},3870:Ve=>{"use strict";var T,We="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;R||(T=function(q){return!1});var u=We?Map.prototype.has:null,le=R?Set.prototype.has:null;!T&&!le&&(T=function(q){return!1}),Ve.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(le.call(q),u)try{u.call(q)}catch{return!0}return q instanceof R}catch{}return!1}},4764:(Ve,We,R)=>{"use strict";var T=String.prototype.valueOf,le=Object.prototype.toString,q=R(3261)();Ve.exports=function(V){return"string"==typeof V||"object"==typeof V&&(q?function(V){try{return T.call(V),!0}catch{return!1}}(V):"[object String]"===le.call(V))}},6434:(Ve,We,R)=>{"use strict";var T=Object.prototype.toString;if(R(524)()){var le=Symbol.prototype.toString,se=/^Symbol\(.*\)$/;Ve.exports=function(V){if("symbol"==typeof V)return!0;if("[object Symbol]"!==T.call(V))return!1;try{return function(V){return"symbol"==typeof V.valueOf()&&se.test(le.call(V))}(V)}catch{return!1}}}else Ve.exports=function(V){return!1}},7673:(Ve,We,R)=>{"use strict";var T=R(3037),u=R(5271),le=R(4263),se=le("Object.prototype.toString"),q=R(3261)(),ue=R(253),V=typeof globalThis>"u"?global:globalThis,H=u(),Ie=le("Array.prototype.indexOf",!0)||function(Oe,Ne){for(var ye=0;ye<Oe.length;ye+=1)if(Oe[ye]===Ne)return ye;return-1},K=le("String.prototype.slice"),ae={},B=Object.getPrototypeOf;q&&ue&&B&&T(H,function(G){var Oe=new V[G];if(Symbol.toStringTag in Oe){var Ne=B(Oe),ye=ue(Ne,Symbol.toStringTag);if(!ye){var z=B(Ne);ye=ue(z,Symbol.toStringTag)}ae[G]=ye.get}}),Ve.exports=function(Oe){if(!Oe||"object"!=typeof Oe)return!1;if(!q||!(Symbol.toStringTag in Oe)){var Ne=K(se(Oe),8,-1);return Ie(H,Ne)>-1}return!!ue&&function(Oe){var Ne=!1;return T(ae,function(ye,z){if(!Ne)try{Ne=ye.call(Oe)===z}catch{}}),Ne}(Oe)}},5585:Ve=>{"use strict";var T,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,R="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(T=function(q){return!1});var u=We?We.prototype.has:null,le=R?R.prototype.has:null;!T&&!u&&(T=function(q){return!1}),Ve.exports=T||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q,u),le)try{le.call(q,le)}catch{return!0}return q instanceof We}catch{}return!1}},1902:(Ve,We,R)=>{"use strict";var T=R(9903),u=R(4263),le=T("%WeakSet%",!0),se=u("WeakSet.prototype.has",!0);if(se){var q=u("WeakMap.prototype.has",!0);Ve.exports=function(V){if(!V||"object"!=typeof V)return!1;try{if(se(V,se),q)try{q(V,q)}catch{return!0}return V instanceof le}catch{}return!1}}else Ve.exports=function(V){return!1}},8266:Ve=>{var We={}.toString;Ve.exports=Array.isArray||function(R){return"[object Array]"==We.call(R)}},5023:(Ve,We,R)=>{var T,u,le,se,q;T=R(7175),u=R(5107).utf8,le=R(5057),se=R(5107).bin,(q=function(ue,V){ue.constructor==String?ue=V&&"binary"===V.encoding?se.stringToBytes(ue):u.stringToBytes(ue):le(ue)?ue=Array.prototype.slice.call(ue,0):!Array.isArray(ue)&&ue.constructor!==Uint8Array&&(ue=ue.toString());for(var H=T.bytesToWords(ue),Ie=8*ue.length,K=1732584193,ae=-271733879,B=-1732584194,$=271733878,G=0;G<H.length;G++)H[G]=16711935&(H[G]<<8|H[G]>>>24)|4278255360&(H[G]<<24|H[G]>>>8);H[Ie>>>5]|=128<<Ie%32,H[14+(Ie+64>>>9<<4)]=Ie;var Oe=q._ff,Ne=q._gg,ye=q._hh,z=q._ii;for(G=0;G<H.length;G+=16){var W=K,he=ae,Pe=B,me=$;K=Oe(K,ae,B,$,H[G+0],7,-680876936),$=Oe($,K,ae,B,H[G+1],12,-389564586),B=Oe(B,$,K,ae,H[G+2],17,606105819),ae=Oe(ae,B,$,K,H[G+3],22,-1044525330),K=Oe(K,ae,B,$,H[G+4],7,-176418897),$=Oe($,K,ae,B,H[G+5],12,1200080426),B=Oe(B,$,K,ae,H[G+6],17,-1473231341),ae=Oe(ae,B,$,K,H[G+7],22,-45705983),K=Oe(K,ae,B,$,H[G+8],7,1770035416),$=Oe($,K,ae,B,H[G+9],12,-1958414417),B=Oe(B,$,K,ae,H[G+10],17,-42063),ae=Oe(ae,B,$,K,H[G+11],22,-1990404162),K=Oe(K,ae,B,$,H[G+12],7,1804603682),$=Oe($,K,ae,B,H[G+13],12,-40341101),B=Oe(B,$,K,ae,H[G+14],17,-1502002290),K=Ne(K,ae=Oe(ae,B,$,K,H[G+15],22,1236535329),B,$,H[G+1],5,-165796510),$=Ne($,K,ae,B,H[G+6],9,-1069501632),B=Ne(B,$,K,ae,H[G+11],14,643717713),ae=Ne(ae,B,$,K,H[G+0],20,-373897302),K=Ne(K,ae,B,$,H[G+5],5,-701558691),$=Ne($,K,ae,B,H[G+10],9,38016083),B=Ne(B,$,K,ae,H[G+15],14,-660478335),ae=Ne(ae,B,$,K,H[G+4],20,-405537848),K=Ne(K,ae,B,$,H[G+9],5,568446438),$=Ne($,K,ae,B,H[G+14],9,-1019803690),B=Ne(B,$,K,ae,H[G+3],14,-187363961),ae=Ne(ae,B,$,K,H[G+8],20,1163531501),K=Ne(K,ae,B,$,H[G+13],5,-1444681467),$=Ne($,K,ae,B,H[G+2],9,-51403784),B=Ne(B,$,K,ae,H[G+7],14,1735328473),K=ye(K,ae=Ne(ae,B,$,K,H[G+12],20,-1926607734),B,$,H[G+5],4,-378558),$=ye($,K,ae,B,H[G+8],11,-2022574463),B=ye(B,$,K,ae,H[G+11],16,1839030562),ae=ye(ae,B,$,K,H[G+14],23,-35309556),K=ye(K,ae,B,$,H[G+1],4,-1530992060),$=ye($,K,ae,B,H[G+4],11,1272893353),B=ye(B,$,K,ae,H[G+7],16,-155497632),ae=ye(ae,B,$,K,H[G+10],23,-1094730640),K=ye(K,ae,B,$,H[G+13],4,681279174),$=ye($,K,ae,B,H[G+0],11,-358537222),B=ye(B,$,K,ae,H[G+3],16,-722521979),ae=ye(ae,B,$,K,H[G+6],23,76029189),K=ye(K,ae,B,$,H[G+9],4,-640364487),$=ye($,K,ae,B,H[G+12],11,-421815835),B=ye(B,$,K,ae,H[G+15],16,530742520),K=z(K,ae=ye(ae,B,$,K,H[G+2],23,-995338651),B,$,H[G+0],6,-198630844),$=z($,K,ae,B,H[G+7],10,1126891415),B=z(B,$,K,ae,H[G+14],15,-1416354905),ae=z(ae,B,$,K,H[G+5],21,-57434055),K=z(K,ae,B,$,H[G+12],6,1700485571),$=z($,K,ae,B,H[G+3],10,-1894986606),B=z(B,$,K,ae,H[G+10],15,-1051523),ae=z(ae,B,$,K,H[G+1],21,-2054922799),K=z(K,ae,B,$,H[G+8],6,1873313359),$=z($,K,ae,B,H[G+15],10,-30611744),B=z(B,$,K,ae,H[G+6],15,-1560198380),ae=z(ae,B,$,K,H[G+13],21,1309151649),K=z(K,ae,B,$,H[G+4],6,-145523070),$=z($,K,ae,B,H[G+11],10,-1120210379),B=z(B,$,K,ae,H[G+2],15,718787259),ae=z(ae,B,$,K,H[G+9],21,-343485551),K=K+W>>>0,ae=ae+he>>>0,B=B+Pe>>>0,$=$+me>>>0}return T.endian([K,ae,B,$])})._ff=function(ue,V,H,Ie,K,ae,B){var $=ue+(V&H|~V&Ie)+(K>>>0)+B;return($<<ae|$>>>32-ae)+V},q._gg=function(ue,V,H,Ie,K,ae,B){var $=ue+(V&Ie|H&~Ie)+(K>>>0)+B;return($<<ae|$>>>32-ae)+V},q._hh=function(ue,V,H,Ie,K,ae,B){var $=ue+(V^H^Ie)+(K>>>0)+B;return($<<ae|$>>>32-ae)+V},q._ii=function(ue,V,H,Ie,K,ae,B){var $=ue+(H^(V|~Ie))+(K>>>0)+B;return($<<ae|$>>>32-ae)+V},q._blocksize=16,q._digestsize=16,Ve.exports=function(ue,V){if(null==ue)throw new Error("Illegal argument "+ue);var H=T.wordsToBytes(q(ue,V));return V&&V.asBytes?H:V&&V.asString?se.bytesToString(H):T.bytesToHex(H)}},9052:(Ve,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var R=[];R[0]=function(){return function(){}},R[1]=function(se,q){return typeof q>"u"?se:function(V){se(V,q)}};var le=function(){function se(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return se.prototype.addHandler=function(q,ue){return this.isHandlerAttached(q,ue)||(this._handlers.push(q),this._contexts.push(ue),this._createDispatcher(),this._updateHasHandlers()),this},se.prototype.removeHandler=function(q,ue){var V=this._getHandlerIndex(q,ue);return typeof V<"u"&&(this._handlers.splice(V,1),this._contexts.splice(V,1),this._createDispatcher(),this._updateHasHandlers()),this},se.prototype.isHandlerAttached=function(q,ue){return typeof this._getHandlerIndex(q,ue)<"u"},se.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},se.prototype._getHandlerIndex=function(q,ue){var H,V=this._handlers.length;for(H=0;H<V&&(this._handlers[H]!==q||this._contexts[H]!==ue);H++);return H<V?H:void 0},se.prototype._createDispatcher=function(){this.dispatch=function T(se){return R[se]||(R[se]=function u(se){for(var q="return function dispatcher"+se+"(payload) {\n",ue=[],V=[],H=0;H<se;H++)ue.push("cb"+H),V.push("ctx"+H),q+="    cb"+H+"(payload, ctx"+H+");\n";return q+="};",new(Function.bind.apply(Function,[void 0].concat(ue.concat(V),[q])))}(se)),R[se]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},se}();We.default=le},1158:(Ve,We,R)=>{"use strict";var u=R(9052);We.j=u.default},8597:(Ve,We,R)=>{var T="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&T?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,le=T&&u&&"function"==typeof u.get?u.get:null,se=T&&Map.prototype.forEach,q="function"==typeof Set&&Set.prototype,ue=Object.getOwnPropertyDescriptor&&q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,V=q&&ue&&"function"==typeof ue.get?ue.get:null,H=q&&Set.prototype.forEach,K="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Oe=Boolean.prototype.valueOf,Ne=Object.prototype.toString,ye=Function.prototype.toString,z=String.prototype.match,W=String.prototype.slice,he=String.prototype.replace,Pe=String.prototype.toUpperCase,me=String.prototype.toLowerCase,it=RegExp.prototype.test,fe=Array.prototype.concat,Me=Array.prototype.join,xe=Array.prototype.slice,Ue=Math.floor,Re="function"==typeof BigInt?BigInt.prototype.valueOf:null,$e=Object.getOwnPropertySymbols,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ze="function"==typeof Symbol&&"object"==typeof Symbol.iterator,rt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,wt=Object.prototype.propertyIsEnumerable,Ot=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(de){return de.__proto__}:null);function Ye(de,Ge){if(de===1/0||de===-1/0||de!=de||de&&de>-1e3&&de<1e3||it.call(/e/,Ge))return Ge;var _n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof de){var In=de<0?-Ue(-de):Ue(de);if(In!==de){var Ht=String(In),fn=W.call(Ge,Ht.length+1);return he.call(Ht,_n,"$&_")+"."+he.call(he.call(fn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return he.call(Ge,_n,"$&_")}var O=R(4654),_e=O.custom,Xe=en(_e)?_e:null;function te(de,Ge,_n){var In="double"===(_n.quoteStyle||Ge)?'"':"'";return In+de+In}function pe(de){return he.call(String(de),/"/g,"&quot;")}function Ee(de){return!("[object Array]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}function _t(de){return!("[object RegExp]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}function en(de){if(ze)return de&&"object"==typeof de&&de instanceof Symbol;if("symbol"==typeof de)return!0;if(!de||"object"!=typeof de||!Q)return!1;try{return Q.call(de),!0}catch{}return!1}Ve.exports=function de(Ge,_n,In,Ht){var fn=_n||{};if(_r(fn,"quoteStyle")&&"single"!==fn.quoteStyle&&"double"!==fn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_r(fn,"maxStringLength")&&("number"==typeof fn.maxStringLength?fn.maxStringLength<0&&fn.maxStringLength!==1/0:null!==fn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ir=!_r(fn,"customInspect")||fn.customInspect;if("boolean"!=typeof ir&&"symbol"!==ir)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_r(fn,"indent")&&null!==fn.indent&&"\t"!==fn.indent&&!(parseInt(fn.indent,10)===fn.indent&&fn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_r(fn,"numericSeparator")&&"boolean"!=typeof fn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var an=fn.numericSeparator;if(typeof Ge>"u")return"undefined";if(null===Ge)return"null";if("boolean"==typeof Ge)return Ge?"true":"false";if("string"==typeof Ge)return fr(Ge,fn);if("number"==typeof Ge){if(0===Ge)return 1/0/Ge>0?"0":"-0";var er=String(Ge);return an?Ye(Ge,er):er}if("bigint"==typeof Ge){var pr=String(Ge)+"n";return an?Ye(Ge,pr):pr}var Jt=typeof fn.depth>"u"?5:fn.depth;if(typeof In>"u"&&(In=0),In>=Jt&&Jt>0&&"object"==typeof Ge)return Ee(Ge)?"[Array]":"[Object]";var hr=function wi(de,Ge){var _n;if("\t"===de.indent)_n="\t";else{if(!("number"==typeof de.indent&&de.indent>0))return null;_n=Me.call(Array(de.indent+1)," ")}return{base:_n,prev:Me.call(Array(Ge+1),_n)}}(fn,In);if(typeof Ht>"u")Ht=[];else if(Pr(Ht,Ge)>=0)return"[Circular]";function S(Io,D,Rr){if(D&&(Ht=xe.call(Ht)).push(D),Rr){var Vr={depth:fn.depth};return _r(fn,"quoteStyle")&&(Vr.quoteStyle=fn.quoteStyle),de(Io,Vr,In+1,Ht)}return de(Io,fn,In+1,Ht)}if("function"==typeof Ge&&!_t(Ge)){var Ut=function Eo(de){if(de.name)return de.name;var Ge=z.call(ye.call(de),/^function\s*([\w$]+)/);return Ge?Ge[1]:null}(Ge),sr=lt(Ge,S);return"[Function"+(Ut?": "+Ut:" (anonymous)")+"]"+(sr.length>0?" { "+Me.call(sr,", ")+" }":"")}if(en(Ge)){var E=ze?he.call(String(Ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):Q.call(Ge);return"object"!=typeof Ge||ze?E:Do(E)}if(function Zr(de){return!(!de||"object"!=typeof de)&&(typeof HTMLElement<"u"&&de instanceof HTMLElement||"string"==typeof de.nodeName&&"function"==typeof de.getAttribute)}(Ge)){for(var vr="<"+me.call(String(Ge.nodeName)),mo=Ge.attributes||[],go=0;go<mo.length;go++)vr+=" "+mo[go].name+"="+te(pe(mo[go].value),"double",fn);return vr+=">",Ge.childNodes&&Ge.childNodes.length&&(vr+="..."),vr+"</"+me.call(String(Ge.nodeName))+">"}if(Ee(Ge)){if(0===Ge.length)return"[]";var jo=lt(Ge,S);return hr&&!function io(de){for(var Ge=0;Ge<de.length;Ge++)if(Pr(de[Ge],"\n")>=0)return!1;return!0}(jo)?"["+Lr(jo,hr)+"]":"[ "+Me.call(jo,", ")+" ]"}if(function He(de){return!("[object Error]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}(Ge)){var kr=lt(Ge,S);return"cause"in Error.prototype||!("cause"in Ge)||wt.call(Ge,"cause")?0===kr.length?"["+String(Ge)+"]":"{ ["+String(Ge)+"] "+Me.call(kr,", ")+" }":"{ ["+String(Ge)+"] "+Me.call(fe.call("[cause]: "+S(Ge.cause),kr),", ")+" }"}if("object"==typeof Ge&&ir){if(Xe&&"function"==typeof Ge[Xe]&&O)return O(Ge,{depth:Jt-In});if("symbol"!==ir&&"function"==typeof Ge.inspect)return Ge.inspect()}if(function ei(de){if(!le||!de||"object"!=typeof de)return!1;try{le.call(de);try{V.call(de)}catch{return!0}return de instanceof Map}catch{}return!1}(Ge)){var Ro=[];return se.call(Ge,function(Io,D){Ro.push(S(D,Ge,!0)+" => "+S(Io,Ge))}),Sn("Map",le.call(Ge),Ro,hr)}if(function Fn(de){if(!V||!de||"object"!=typeof de)return!1;try{V.call(de);try{le.call(de)}catch{return!0}return de instanceof Set}catch{}return!1}(Ge)){var Xt=[];return H.call(Ge,function(Io){Xt.push(S(Io,Ge))}),Sn("Set",V.call(Ge),Xt,hr)}if(function Dn(de){if(!K||!de||"object"!=typeof de)return!1;try{K.call(de,K);try{B.call(de,B)}catch{return!0}return de instanceof WeakMap}catch{}return!1}(Ge))return ho("WeakMap");if(function Ho(de){if(!B||!de||"object"!=typeof de)return!1;try{B.call(de,B);try{K.call(de,K)}catch{return!0}return de instanceof WeakSet}catch{}return!1}(Ge))return ho("WeakSet");if(function Ir(de){if(!G||!de||"object"!=typeof de)return!1;try{return G.call(de),!0}catch{}return!1}(Ge))return ho("WeakRef");if(function Gt(de){return!("[object Number]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}(Ge))return Do(S(Number(Ge)));if(function J(de){if(!de||"object"!=typeof de||!Re)return!1;try{return Re.call(de),!0}catch{}return!1}(Ge))return Do(S(Re.call(Ge)));if(function Lt(de){return!("[object Boolean]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}(Ge))return Do(Oe.call(Ge));if(function Ft(de){return!("[object String]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}(Ge))return Do(S(String(Ge)));if(!function Be(de){return!("[object Date]"!==nr(de)||rt&&"object"==typeof de&&rt in de)}(Ge)&&!_t(Ge)){var so=lt(Ge,S),ar=Ot?Ot(Ge)===Object.prototype:Ge instanceof Object||Ge.constructor===Object,ao=Ge instanceof Object?"":"null prototype",lo=!ar&&rt&&Object(Ge)===Ge&&rt in Ge?W.call(nr(Ge),8,-1):ao?"Object":"",rn=(ar||"function"!=typeof Ge.constructor?"":Ge.constructor.name?Ge.constructor.name+" ":"")+(lo||ao?"["+Me.call(fe.call([],lo||[],ao||[]),": ")+"] ":"");return 0===so.length?rn+"{}":hr?rn+"{"+Lr(so,hr)+"}":rn+"{ "+Me.call(so,", ")+" }"}return String(Ge)};var Pn=Object.prototype.hasOwnProperty||function(de){return de in this};function _r(de,Ge){return Pn.call(de,Ge)}function nr(de){return Ne.call(de)}function Pr(de,Ge){if(de.indexOf)return de.indexOf(Ge);for(var _n=0,In=de.length;_n<In;_n++)if(de[_n]===Ge)return _n;return-1}function fr(de,Ge){if(de.length>Ge.maxStringLength){var _n=de.length-Ge.maxStringLength,In="... "+_n+" more character"+(_n>1?"s":"");return fr(W.call(de,0,Ge.maxStringLength),Ge)+In}return te(he.call(he.call(de,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rr),"single",Ge)}function rr(de){var Ge=de.charCodeAt(0),_n={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ge];return _n?"\\"+_n:"\\x"+(Ge<16?"0":"")+Pe.call(Ge.toString(16))}function Do(de){return"Object("+de+")"}function ho(de){return de+" { ? }"}function Sn(de,Ge,_n,In){return de+" ("+Ge+") {"+(In?Lr(_n,In):Me.call(_n,", "))+"}"}function Lr(de,Ge){if(0===de.length)return"";var _n="\n"+Ge.prev+Ge.base;return _n+Me.call(de,","+_n)+"\n"+Ge.prev}function lt(de,Ge){var _n=Ee(de),In=[];if(_n){In.length=de.length;for(var Ht=0;Ht<de.length;Ht++)In[Ht]=_r(de,Ht)?Ge(de[Ht],de):""}var ir,fn="function"==typeof $e?$e(de):[];if(ze){ir={};for(var an=0;an<fn.length;an++)ir["$"+fn[an]]=fn[an]}for(var er in de)!_r(de,er)||_n&&String(Number(er))===er&&er<de.length||ze&&ir["$"+er]instanceof Symbol||(it.call(/[^\w$]/,er)?In.push(Ge(er,de)+": "+Ge(de[er],de)):In.push(er+": "+Ge(de[er],de)));if("function"==typeof $e)for(var pr=0;pr<fn.length;pr++)wt.call(de,fn[pr])&&In.push("["+Ge(fn[pr])+"]: "+Ge(de[fn[pr]],de));return In}},6872:Ve=>{"use strict";var We=function(R){return R!=R};Ve.exports=function(T,u){return 0===T&&0===u?1/T==1/u:!!(T===u||We(T)&&We(u))}},5734:(Ve,We,R)=>{"use strict";var T=R(1790),u=R(3855),le=R(6872),se=R(3306),q=R(7715),ue=u(se(),Object);T(ue,{getPolyfill:se,implementation:le,shim:q}),Ve.exports=ue},3306:(Ve,We,R)=>{"use strict";var T=R(6872);Ve.exports=function(){return"function"==typeof Object.is?Object.is:T}},7715:(Ve,We,R)=>{"use strict";var T=R(3306),u=R(1790);Ve.exports=function(){var se=T();return u(Object,{is:se},{is:function(){return Object.is!==se}}),se}},7010:(Ve,We,R)=>{"use strict";var T;if(!Object.keys){var u=Object.prototype.hasOwnProperty,le=Object.prototype.toString,se=R(5185),q=Object.prototype.propertyIsEnumerable,ue=!q.call({toString:null},"toString"),V=q.call(function(){},"prototype"),H=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ie=function($){var G=$.constructor;return G&&G.prototype===$},K={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ae=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!K["$"+$]&&u.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{Ie(window[$])}catch{return!0}}catch{return!0}return!1}();T=function(G){var Oe=null!==G&&"object"==typeof G,Ne="[object Function]"===le.call(G),ye=se(G),z=Oe&&"[object String]"===le.call(G),W=[];if(!Oe&&!Ne&&!ye)throw new TypeError("Object.keys called on a non-object");var he=V&&Ne;if(z&&G.length>0&&!u.call(G,0))for(var Pe=0;Pe<G.length;++Pe)W.push(String(Pe));if(ye&&G.length>0)for(var me=0;me<G.length;++me)W.push(String(me));else for(var it in G)(!he||"prototype"!==it)&&u.call(G,it)&&W.push(String(it));if(ue)for(var fe=function($){if(typeof window>"u"||!ae)return Ie($);try{return Ie($)}catch{return!1}}(G),Me=0;Me<H.length;++Me)(!fe||"constructor"!==H[Me])&&u.call(G,H[Me])&&W.push(H[Me]);return W}}Ve.exports=T},2093:(Ve,We,R)=>{"use strict";var T=Array.prototype.slice,u=R(5185),le=Object.keys,se=le?function(V){return le(V)}:R(7010),q=Object.keys;se.shim=function(){if(Object.keys){var V=function(){var H=Object.keys(arguments);return H&&H.length===arguments.length}(1,2);V||(Object.keys=function(Ie){return u(Ie)?q(T.call(Ie)):q(Ie)})}else Object.keys=se;return Object.keys||se},Ve.exports=se},5185:Ve=>{"use strict";var We=Object.prototype.toString;Ve.exports=function(T){var u=We.call(T),le="[object Arguments]"===u;return le||(le="[object Array]"!==u&&null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Function]"===We.call(T.callee)),le}},2461:(Ve,We,R)=>{"use strict";var T=R(2093),u=R(6858)(),le=R(4263),se=Object,q=le("Array.prototype.push"),ue=le("Object.prototype.propertyIsEnumerable"),V=u?Object.getOwnPropertySymbols:null;Ve.exports=function(Ie,K){if(null==Ie)throw new TypeError("target must be an object");var ae=se(Ie);if(1===arguments.length)return ae;for(var B=1;B<arguments.length;++B){var $=se(arguments[B]),G=T($),Oe=u&&(Object.getOwnPropertySymbols||V);if(Oe)for(var Ne=Oe($),ye=0;ye<Ne.length;++ye){var z=Ne[ye];ue($,z)&&q(G,z)}for(var W=0;W<G.length;++W){var he=G[W];if(ue($,he)){var Pe=$[he];ae[he]=Pe}}}return ae}},6189:(Ve,We,R)=>{"use strict";var T=R(1790),u=R(3855),le=R(2461),se=R(6255),q=R(152),ue=u.apply(se()),V=function(Ie,K){return ue(Object,arguments)};T(V,{getPolyfill:se,implementation:le,shim:q}),Ve.exports=V},6255:(Ve,We,R)=>{"use strict";var T=R(2461);Ve.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var se="abcdefghijklmnopqrst",q=se.split(""),ue={},V=0;V<q.length;++V)ue[q[V]]=q[V];var H=Object.assign({},ue),Ie="";for(var K in H)Ie+=K;return se!==Ie}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var se=Object.preventExtensions({1:2});try{Object.assign(se,"xy")}catch{return"y"===se[1]}return!1}()?T:Object.assign}},152:(Ve,We,R)=>{"use strict";var T=R(1790),u=R(6255);Ve.exports=function(){var se=u();return T(Object,{assign:se},{assign:function(){return Object.assign!==se}}),se}},151:(Ve,We)=>{"use strict";var R=Object.prototype.hasOwnProperty;function u(ue){try{return decodeURIComponent(ue.replace(/\+/g," "))}catch{return null}}function le(ue){try{return encodeURIComponent(ue)}catch{return null}}We.stringify=function q(ue,V){V=V||"";var Ie,K,H=[];for(K in"string"!=typeof V&&(V="?"),ue)if(R.call(ue,K)){if(!(Ie=ue[K])&&(null==Ie||isNaN(Ie))&&(Ie=""),K=le(K),Ie=le(Ie),null===K||null===Ie)continue;H.push(K+"="+Ie)}return H.length?V+H.join("&"):""},We.parse=function se(ue){for(var Ie,V=/([^=?#&]+)=?([^&]*)/g,H={};Ie=V.exec(ue);){var K=u(Ie[1]),ae=u(Ie[2]);null===K||null===ae||K in H||(H[K]=ae)}return H}},4040:(Ve,We,R)=>{"use strict";var T=R(3677).functionsHaveConfigurableNames(),u=Object,le=TypeError;Ve.exports=function(){if(null!=this&&this!==u(this))throw new le("RegExp.prototype.flags getter called on non-object");var q="";return this.hasIndices&&(q+="d"),this.global&&(q+="g"),this.ignoreCase&&(q+="i"),this.multiline&&(q+="m"),this.dotAll&&(q+="s"),this.unicode&&(q+="u"),this.sticky&&(q+="y"),q},T&&Object.defineProperty&&Object.defineProperty(Ve.exports,"name",{value:"get flags"})},8704:(Ve,We,R)=>{"use strict";var T=R(1790),u=R(3855),le=R(4040),se=R(9783),q=R(9369),ue=u(se());T(ue,{getPolyfill:se,implementation:le,shim:q}),Ve.exports=ue},9783:(Ve,We,R)=>{"use strict";var T=R(4040),u=R(1790).supportsDescriptors,le=Object.getOwnPropertyDescriptor;Ve.exports=function(){if(u&&"gim"===/a/gim.flags){var q=le(RegExp.prototype,"flags");if(q&&"function"==typeof q.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var ue="",V={};if(Object.defineProperty(V,"hasIndices",{get:function(){ue+="d"}}),Object.defineProperty(V,"sticky",{get:function(){ue+="y"}}),"dy"===ue)return q.get}}return T}},9369:(Ve,We,R)=>{"use strict";var T=R(1790).supportsDescriptors,u=R(9783),le=Object.getOwnPropertyDescriptor,se=Object.defineProperty,q=TypeError,ue=Object.getPrototypeOf,V=/a/;Ve.exports=function(){if(!T||!ue)throw new q("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Ie=u(),K=ue(V),ae=le(K,"flags");return(!ae||ae.get!==Ie)&&se(K,"flags",{configurable:!0,enumerable:!1,get:Ie}),Ie}},47:Ve=>{"use strict";Ve.exports=function(R,T){if(T=T.split(":")[0],!(R=+R))return!1;switch(T){case"http":case"ws":return 80!==R;case"https":case"wss":return 443!==R;case"ftp":return 21!==R;case"gopher":return 70!==R;case"file":return!1}return 0!==R}},8432:(Ve,We,R)=>{"use strict";var T=R(9903),u=R(4263),le=R(8597),se=T("%TypeError%"),q=T("%WeakMap%",!0),ue=T("%Map%",!0),V=u("WeakMap.prototype.get",!0),H=u("WeakMap.prototype.set",!0),Ie=u("WeakMap.prototype.has",!0),K=u("Map.prototype.get",!0),ae=u("Map.prototype.set",!0),B=u("Map.prototype.has",!0),$=function(ye,z){for(var he,W=ye;null!==(he=W.next);W=he)if(he.key===z)return W.next=he.next,he.next=ye.next,ye.next=he,he};Ve.exports=function(){var z,W,he,Pe={assert:function(me){if(!Pe.has(me))throw new se("Side channel does not contain "+le(me))},get:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(z)return V(z,me)}else if(ue){if(W)return K(W,me)}else if(he)return function(ye,z){var W=$(ye,z);return W&&W.value}(he,me)},has:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(z)return Ie(z,me)}else if(ue){if(W)return B(W,me)}else if(he)return function(ye,z){return!!$(ye,z)}(he,me);return!1},set:function(me,it){q&&me&&("object"==typeof me||"function"==typeof me)?(z||(z=new q),H(z,me,it)):ue?(W||(W=new ue),ae(W,me,it)):(he||(he={key:{},next:null}),function(ye,z,W){var he=$(ye,z);he?he.value=W:ye.next={key:z,next:ye.next,value:W}}(he,me,it))}};return Pe}},9233:(Ve,We,R)=>{"use strict";var T=R(47),u=R(151),le=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,se=/[\n\r\t]/g,q=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ue=/:\d+$/,V=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,H=/^[a-zA-Z]:/;function Ie(W){return(W||"").toString().replace(le,"")}var K=[["#","hash"],["?","query"],function(he,Pe){return $(Pe.protocol)?he.replace(/\\/g,"/"):he},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ae={hash:1,query:1};function B(W){var he;he=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fe,me={},it=typeof(W=W||he.location||{});if("blob:"===W.protocol)me=new Ne(unescape(W.pathname),{});else if("string"===it)for(fe in me=new Ne(W,{}),ae)delete me[fe];else if("object"===it){for(fe in W)fe in ae||(me[fe]=W[fe]);void 0===me.slashes&&(me.slashes=q.test(W.href))}return me}function $(W){return"file:"===W||"ftp:"===W||"http:"===W||"https:"===W||"ws:"===W||"wss:"===W}function G(W,he){W=(W=Ie(W)).replace(se,""),he=he||{};var xe,Pe=V.exec(W),me=Pe[1]?Pe[1].toLowerCase():"",it=!!Pe[2],fe=!!Pe[3],Me=0;return it?fe?(xe=Pe[2]+Pe[3]+Pe[4],Me=Pe[2].length+Pe[3].length):(xe=Pe[2]+Pe[4],Me=Pe[2].length):fe?(xe=Pe[3]+Pe[4],Me=Pe[3].length):xe=Pe[4],"file:"===me?Me>=2&&(xe=xe.slice(2)):$(me)?xe=Pe[4]:me?it&&(xe=xe.slice(2)):Me>=2&&$(he.protocol)&&(xe=Pe[4]),{protocol:me,slashes:it||$(me),slashesCount:Me,rest:xe}}function Ne(W,he,Pe){if(W=(W=Ie(W)).replace(se,""),!(this instanceof Ne))return new Ne(W,he,Pe);var me,it,fe,Me,xe,Ue,Re=K.slice(),$e=typeof he,Q=this,ze=0;for("object"!==$e&&"string"!==$e&&(Pe=he,he=null),Pe&&"function"!=typeof Pe&&(Pe=u.parse),me=!(it=G(W||"",he=B(he))).protocol&&!it.slashes,Q.slashes=it.slashes||me&&he.slashes,Q.protocol=it.protocol||he.protocol||"",W=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||H.test(W))||!it.slashes&&(it.protocol||it.slashesCount<2||!$(Q.protocol)))&&(Re[3]=[/(.*)/,"pathname"]);ze<Re.length;ze++)"function"!=typeof(Me=Re[ze])?(Ue=Me[1],(fe=Me[0])!=fe?Q[Ue]=W:"string"==typeof fe?~(xe="@"===fe?W.lastIndexOf(fe):W.indexOf(fe))&&("number"==typeof Me[2]?(Q[Ue]=W.slice(0,xe),W=W.slice(xe+Me[2])):(Q[Ue]=W.slice(xe),W=W.slice(0,xe))):(xe=fe.exec(W))&&(Q[Ue]=xe[1],W=W.slice(0,xe.index)),Q[Ue]=Q[Ue]||me&&Me[3]&&he[Ue]||"",Me[4]&&(Q[Ue]=Q[Ue].toLowerCase())):W=Me(W,Q);Pe&&(Q.query=Pe(Q.query)),me&&he.slashes&&"/"!==Q.pathname.charAt(0)&&(""!==Q.pathname||""!==he.pathname)&&(Q.pathname=function Oe(W,he){if(""===W)return he;for(var Pe=(he||"/").split("/").slice(0,-1).concat(W.split("/")),me=Pe.length,it=Pe[me-1],fe=!1,Me=0;me--;)"."===Pe[me]?Pe.splice(me,1):".."===Pe[me]?(Pe.splice(me,1),Me++):Me&&(0===me&&(fe=!0),Pe.splice(me,1),Me--);return fe&&Pe.unshift(""),("."===it||".."===it)&&Pe.push(""),Pe.join("/")}(Q.pathname,he.pathname)),"/"!==Q.pathname.charAt(0)&&$(Q.protocol)&&(Q.pathname="/"+Q.pathname),T(Q.port,Q.protocol)||(Q.host=Q.hostname,Q.port=""),Q.username=Q.password="",Q.auth&&(~(xe=Q.auth.indexOf(":"))?(Q.username=Q.auth.slice(0,xe),Q.username=encodeURIComponent(decodeURIComponent(Q.username)),Q.password=Q.auth.slice(xe+1),Q.password=encodeURIComponent(decodeURIComponent(Q.password))):Q.username=encodeURIComponent(decodeURIComponent(Q.auth)),Q.auth=Q.password?Q.username+":"+Q.password:Q.username),Q.origin="file:"!==Q.protocol&&$(Q.protocol)&&Q.host?Q.protocol+"//"+Q.host:"null",Q.href=Q.toString()}Ne.prototype={set:function ye(W,he,Pe){var me=this;switch(W){case"query":"string"==typeof he&&he.length&&(he=(Pe||u.parse)(he)),me[W]=he;break;case"port":me[W]=he,T(he,me.protocol)?he&&(me.host=me.hostname+":"+he):(me.host=me.hostname,me[W]="");break;case"hostname":me[W]=he,me.port&&(he+=":"+me.port),me.host=he;break;case"host":me[W]=he,ue.test(he)?(he=he.split(":"),me.port=he.pop(),me.hostname=he.join(":")):(me.hostname=he,me.port="");break;case"protocol":me.protocol=he.toLowerCase(),me.slashes=!Pe;break;case"pathname":case"hash":if(he){var it="pathname"===W?"/":"#";me[W]=he.charAt(0)!==it?it+he:he}else me[W]=he;break;case"username":case"password":me[W]=encodeURIComponent(he);break;case"auth":var fe=he.indexOf(":");~fe?(me.username=he.slice(0,fe),me.username=encodeURIComponent(decodeURIComponent(me.username)),me.password=he.slice(fe+1),me.password=encodeURIComponent(decodeURIComponent(me.password))):me.username=encodeURIComponent(decodeURIComponent(he))}for(var Me=0;Me<K.length;Me++){var xe=K[Me];xe[4]&&(me[xe[1]]=me[xe[1]].toLowerCase())}return me.auth=me.password?me.username+":"+me.password:me.username,me.origin="file:"!==me.protocol&&$(me.protocol)&&me.host?me.protocol+"//"+me.host:"null",me.href=me.toString(),me},toString:function z(W){(!W||"function"!=typeof W)&&(W=u.stringify);var he,Pe=this,me=Pe.host,it=Pe.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var fe=it+(Pe.protocol&&Pe.slashes||$(Pe.protocol)?"//":"");return Pe.username?(fe+=Pe.username,Pe.password&&(fe+=":"+Pe.password),fe+="@"):Pe.password?(fe+=":"+Pe.password,fe+="@"):"file:"!==Pe.protocol&&$(Pe.protocol)&&!me&&"/"!==Pe.pathname&&(fe+="@"),(":"===me[me.length-1]||ue.test(Pe.hostname)&&!Pe.port)&&(me+=":"),fe+=me+Pe.pathname,(he="object"==typeof Pe.query?W(Pe.query):Pe.query)&&(fe+="?"!==he.charAt(0)?"?"+he:he),Pe.hash&&(fe+=Pe.hash),fe}},Ne.extractProtocol=G,Ne.location=B,Ne.trimLeft=Ie,Ne.qs=u,Ve.exports=Ne},2086:(Ve,We,R)=>{"use strict";var T=R(4764),u=R(1046),le=R(6180),se=R(6434),q=R(3);Ve.exports=function(V){return null==V||"object"!=typeof V&&"function"!=typeof V?null:T(V)?"String":u(V)?"Number":le(V)?"Boolean":se(V)?"Symbol":q(V)?"BigInt":void 0}},5709:(Ve,We,R)=>{"use strict";var T=R(3037),u=R(5271),le=R(4263),se=R(253),q=le("Object.prototype.toString"),ue=R(3261)(),V=typeof globalThis>"u"?global:globalThis,H=u(),Ie=le("String.prototype.slice"),K={},ae=Object.getPrototypeOf;ue&&se&&ae&&T(H,function(G){if("function"==typeof V[G]){var Oe=new V[G];if(Symbol.toStringTag in Oe){var Ne=ae(Oe),ye=se(Ne,Symbol.toStringTag);if(!ye){var z=ae(Ne);ye=se(z,Symbol.toStringTag)}K[G]=ye.get}}});var $=R(7673);Ve.exports=function(Oe){return!!$(Oe)&&(ue&&Symbol.toStringTag in Oe?function(Oe){var Ne=!1;return T(K,function(ye,z){if(!Ne)try{var W=ye.call(Oe);W===z&&(Ne=W)}catch{}}),Ne}(Oe):Ie(q(Oe),8,-1))}},863:(Ve,We,R)=>{var T={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function u(le){if(!R.o(T,le))return Promise.resolve().then(()=>{var ue=new Error("Cannot find module '"+le+"'");throw ue.code="MODULE_NOT_FOUND",ue});var se=T[le],q=se[0];return Promise.all(se.slice(1).map(R.e)).then(()=>R(q))}u.keys=()=>Object.keys(T),u.id=863,Ve.exports=u},4654:()=>{},5271:Ve=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?global:globalThis;Ve.exports=function(){for(var u=[],le=0;le<We.length;le++)"function"==typeof R[We[le]]&&(u[u.length]=We[le]);return u}},2069:(Ve,We,R)=>{"use strict";var T=R(9102);if(R(524)()||R(6858)()){var u=Symbol.iterator;Ve.exports=function(xe){return null!=xe&&typeof xe[u]<"u"?xe[u]():T(xe)?Array.prototype[u].call(xe):void 0}}else{var le=R(8266),se=R(4764),q=R(9903),ue=q("%Map%",!0),V=q("%Set%",!0),H=R(4263),Ie=H("Array.prototype.push"),K=H("String.prototype.charCodeAt"),ae=H("String.prototype.slice"),$=function(xe){var Ue=0;return{next:function(){var Q,$e=Ue>=xe.length;return $e||(Q=xe[Ue],Ue+=1),{done:$e,value:Q}}}},G=function(xe,Ue){if(le(xe)||T(xe))return $(xe);if(se(xe)){var Re=0;return{next:function(){var Q=function(xe,Ue){if(Ue+1>=xe.length)return Ue+1;var $e=K(xe,Ue);if($e<55296||$e>56319)return Ue+1;var Q=K(xe,Ue+1);return Q<56320||Q>57343?Ue+1:Ue+2}(xe,Re),ze=ae(xe,Re,Q);return Re=Q,{done:Q>xe.length,value:ze}}}}return Ue&&typeof xe["_es6-shim iterator_"]<"u"?xe["_es6-shim iterator_"]():void 0};if(ue||V){var Oe=R(9898),Ne=R(3870),ye=H("Map.prototype.forEach",!0),z=H("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var W=H("Map.prototype.iterator",!0),he=H("Set.prototype.iterator",!0),Pe=function(Me){var xe=!1;return{next:function(){try{return{done:xe,value:xe?void 0:Me.next()}}catch{return xe=!0,{done:!0,value:void 0}}}}};var me=H("Map.prototype.@@iterator",!0)||H("Map.prototype._es6-shim iterator_",!0),it=H("Set.prototype.@@iterator",!0)||H("Set.prototype._es6-shim iterator_",!0);Ve.exports=function(xe){return function(xe){if(Oe(xe)){if(W)return Pe(W(xe));if(me)return me(xe);if(ye){var Ue=[];return ye(xe,function($e,Q){Ie(Ue,[Q,$e])}),$(Ue)}}if(Ne(xe)){if(he)return Pe(he(xe));if(it)return it(xe);if(z){var Re=[];return z(xe,function($e){Ie(Re,$e)}),$(Re)}}}(xe)||G(xe)}}else Ve.exports=function(xe){if(null!=xe)return G(xe,!0)}}},2107:(Ve,We,R)=>{"use strict";var T=R(9898),u=R(3870),le=R(5585),se=R(1902);Ve.exports=function(ue){if(ue&&"object"==typeof ue){if(T(ue))return"Map";if(u(ue))return"Set";if(le(ue))return"WeakMap";if(se(ue))return"WeakSet"}return!1}},3918:(Ve,We,R)=>{"use strict";function T(le,se,q,ue,V,H,Ie){try{var K=le[H](Ie),ae=K.value}catch(B){return void q(B)}K.done?se(ae):Promise.resolve(ae).then(ue,V)}function u(le){return function(){var se=this,q=arguments;return new Promise(function(ue,V){var H=le.apply(se,q);function Ie(ae){T(H,ue,V,Ie,K,"next",ae)}function K(ae){T(H,ue,V,Ie,K,"throw",ae)}Ie(void 0)})}}R.d(We,{Z:()=>u})}},Ve=>{Ve(Ve.s=4795)}]);
//# sourceMappingURL=main.ce929164bfa4479d.js.map